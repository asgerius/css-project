[{"tags": ["perl", "formatting"], "comments": [{"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 0, "creation_date": 1450959256, "post_id": 34443509, "comment_id": 56646715, "body": "Hello @J.A., I noticed that you edited my answer yesterday and changed my numbers claiming to &quot;correct&quot; it, but it was already right apparently. Did you get a different result?"}, {"owner": {"reputation": 307, "user_id": 2522427, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/404258e63cc61a5e83ef5e5ee7a01863?s=128&d=identicon&r=PG", "display_name": "Padawan", "link": "https://stackoverflow.com/users/2522427/padawan"}, "reply_to_user": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 1, "creation_date": 1450960939, "post_id": 34443509, "comment_id": 56647379, "body": "Yeah, but I realized what I did wrong :)."}], "answers": [{"tags": [], "owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "is_accepted": true, "score": 3, "last_activity_date": 1450905503, "last_edit_date": 1450905503, "creation_date": 1450904762, "answer_id": 34443720, "question_id": 34443509, "link": "https://stackoverflow.com/questions/34443509/add-dashes-to-a-date-in-perl/34443720#34443720", "title": "Add dashes to a date in Perl", "body": "<pre><code>substr($date,$_,0) = '-' for (6,4);\n</code></pre>\n\n<p>Where <code>$date</code> is the date to change.</p>\n"}, {"tags": [], "owner": {"reputation": 286, "user_id": 1620215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AN3gN.jpg?s=128&g=1", "display_name": "Bagofjuice", "link": "https://stackoverflow.com/users/1620215/bagofjuice"}, "is_accepted": false, "score": 4, "last_activity_date": 1450935503, "last_edit_date": 1450935503, "creation_date": 1450905195, "answer_id": 34443812, "question_id": 34443509, "link": "https://stackoverflow.com/questions/34443509/add-dashes-to-a-date-in-perl/34443812#34443812", "title": "Add dashes to a date in Perl", "body": "<p>Been a while since I played with perl but here's an alternative answer:</p>\n\n<pre><code>my $d = '19000101';\n$d =~ s/(\\d{4})(\\d{2})(\\d{2})/$1-$2-$3/;\nprint $d;\n</code></pre>\n\n<p>will output:</p>\n\n<pre><code>1900-01-01\n</code></pre>\n\n<p>alternatively switch $1, $2, $3 around to format as you wish:</p>\n\n<pre><code>$d =~ s/(\\d{4})(\\d{2})(\\d{2})/$3-$2-$1/;\n</code></pre>\n\n<p>will output:</p>\n\n<pre><code>01-01-1900\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450943200, "post_id": 34443910, "comment_id": 56640064, "body": "This is my general preference - parsing a date then reformatting it gives more flexibility (and validation)"}], "tags": [], "owner": {"reputation": 59, "user_id": 5712632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9e4e6e2971f373a9084412fe970189?s=128&d=identicon&r=PG", "display_name": "Kundun", "link": "https://stackoverflow.com/users/5712632/kundun"}, "is_accepted": false, "score": 4, "last_activity_date": 1450905702, "creation_date": 1450905702, "answer_id": 34443910, "question_id": 34443509, "link": "https://stackoverflow.com/questions/34443509/add-dashes-to-a-date-in-perl/34443910#34443910", "title": "Add dashes to a date in Perl", "body": "<p>If you want a more general answer, you can look into using the <a href=\"http://perldoc.perl.org/Time/Piece.html\" rel=\"nofollow\">Time::Piece</a> module.</p>\n\n<pre><code># perl -MTime::Piece -E'my $time = Time::Piece-&gt;strptime(\"19000101\", \"%Y%m%d\"); say $time-&gt;strftime(\"%Y-%m-%d\");'\n1900-01-01\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 5, "last_activity_date": 1450920705, "creation_date": 1450920705, "answer_id": 34446133, "question_id": 34443509, "link": "https://stackoverflow.com/questions/34443509/add-dashes-to-a-date-in-perl/34446133#34446133", "title": "Add dashes to a date in Perl", "body": "<p>Not particularly great in the sense that no validation is done on the date, but if you already know you're working with a valid date, this is both simple and fast:</p>\n\n<pre><code>$ perl -wle 'print join(\"-\", unpack(\"A4A2A2\", \"19000101\"))'\n1900-01-01\n</code></pre>\n\n<p>Will work with any string---even non-dates---which is either a plus or a minus, depending on how you look at it:</p>\n\n<pre><code>$ perl -wle 'print join(\"-\", unpack(\"A4A2A2\", \"YYYYMMDD\"))'\nYYYY-MM-DD\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 2522427, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/404258e63cc61a5e83ef5e5ee7a01863?s=128&d=identicon&r=PG", "display_name": "Padawan", "link": "https://stackoverflow.com/users/2522427/padawan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 34443720, "answer_count": 4, "score": 1, "last_activity_date": 1450935503, "creation_date": 1450903820, "question_id": 34443509, "link": "https://stackoverflow.com/questions/34443509/add-dashes-to-a-date-in-perl", "title": "Add dashes to a date in Perl", "body": "<p>I need to be able to take a Perl string (a date in YYYYMMDD format) and add dashes (making it into YYYY-MM-DD) format. Is there an easy way to do this? Example, for January 1, 1900, I would have the input of 19000101 and need to make if 1900-01-01.</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1450901897, "post_id": 34442932, "comment_id": 56627891, "body": "If you&#39;re willing to circumvent the company&#39;s policy by installing the module by hand, why not just use the <code>cpan</code> utility? Modules with an XS component need to be built against your perl&#39;s configuration, and cpan is the easiest way to get it right"}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1450909780, "creation_date": 1450909780, "answer_id": 34444707, "question_id": 34442932, "link": "https://stackoverflow.com/questions/34442932/how-do-i-import-a-cpan-module-using-xs-into-my-project/34444707#34444707", "title": "how do I import a CPAN module using XS into my project?", "body": "<p>You should look into <a href=\"http://search.cpan.org/~dam/DhMakePerl-0.72/dh-make-perl\" rel=\"nofollow\">dh-make-perl</a> for making <code>.deb</code> packages of your perl modules. That way you can install them like a regular shipped module.</p>\n\n<p>You should also read <a href=\"https://www.debian-administration.org/article/78/Building_Debian_packages_of_Perl_modules\" rel=\"nofollow\">Building Debian packages of Perl modules</a></p>\n"}], "owner": {"reputation": 666, "user_id": 2243865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/32c60daf8fbec71c63b1e78e8ed38bc1?s=128&d=identicon&r=PG", "display_name": "user3243135", "link": "https://stackoverflow.com/users/2243865/user3243135"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1450909780, "creation_date": 1450901150, "question_id": 34442932, "link": "https://stackoverflow.com/questions/34442932/how-do-i-import-a-cpan-module-using-xs-into-my-project", "title": "how do I import a CPAN module using XS into my project?", "body": "<p>My company has policies against using Perl modules which are not in Debian/Ubuntu's repositories. To \"import\" a non-xs module into my project/repo, it's usually just a matter of copying over the .pm files and putting them in the appropriate directory in lib/. Then I can <code>use</code> as if I'd cpan installed it. </p>\n\n<p>But what do I do for an XS module? How do I \"pre-compile\" and to where should I copy over the .so and other XS related files? If you look, for example, at Ubuntu's DBD-SQLite package contents <a href=\"http://packages.ubuntu.com/wily/amd64/libdbd-sqlite3-perl/filelist\" rel=\"nofollow\">here</a>, it seems like it should definitely be possible.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 4, "creation_date": 1450895986, "post_id": 34441721, "comment_id": 56625083, "body": "Getopt::Long has been part of the Perl core since Perl 5 was first released in 1994.  Are you sure it&#39;s not available on the machines you&#39;re looking to deploy on?  In your comment you refer to it as &quot;Get::Opt&quot;, so could you have made a mistake while checking the machines?"}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1450896750, "post_id": 34441721, "comment_id": 56625481, "body": "I might be wrong, but we have redhat73 to CentOS7, macs, Ubuntu and others, hundreds of scripts already written, like prev_v2.pl, all we can change is to change  parameters_wrapper.pl and prep.pl to feed in or filter out and pass along to script like prep_v2.pl, which have their own parameters handling, thanks"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1450897668, "post_id": 34441721, "comment_id": 56625878, "body": "@gliang Okay, then rewrite prep.pl and parameter_wrapper.pl to use Getopt::Long (and while you&#39;re at it, combine them into a single script, what you have now with <code>system</code> calling another script just for arg processing is wonky). You shouldn&#39;t be writing your own code to handle command line options, there are too many difficult edge cases; you&#39;re re-inventing square wheels."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1450898234, "post_id": 34441721, "comment_id": 56626174, "body": "About your specific error: the line <code>$var =~&#47;^\\Q$var\\E&#47;;</code> isn&#39;t doing what you think it is. That simply checks whether <code>$var</code> matches itself, so <code>wrap_parameters</code> isn&#39;t actually changing anything. You want <code>$var = &quot;\\Q$var\\E&quot;;</code> or <code>$var = quotemeta($var);</code> (although you shouldn&#39;t be using this approach, either; see my previous comment.)"}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1450898872, "post_id": 34441721, "comment_id": 56626499, "body": "quotema() really removes the error. I never knew this sub. thanks. I cannot really reduce the level, there are unknown system call to prep.pl, prep.pl simply redirect version appropriate that is not in common path. My previous implementation is uglier, remove all special chars from beginning, feed the next program with a string. Your comment really helps, thanks"}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1452134566, "post_id": 34441721, "comment_id": 57038742, "body": "@AndyLester, I checked our computers, actually have Getopt::Long installed already, please copy your comments, I plan to accept your comments, Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": true, "score": 1, "last_activity_date": 1452179186, "creation_date": 1452179186, "answer_id": 34658498, "question_id": 34441721, "link": "https://stackoverflow.com/questions/34441721/perl-parameters-passing-with-special-characters/34658498#34658498", "title": "Perl parameters passing with special characters", "body": "<p>Getopt::Long has been part of the Perl core since Perl 5 was first released in 1994. Are you sure it's not available on the machines you're looking to deploy on? In your comment you refer to it as \"Get::Opt\", so could you have made a mistake while checking the machines? </p>\n"}], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 34658498, "answer_count": 1, "score": 0, "last_activity_date": 1461486641, "creation_date": 1450895745, "last_edit_date": 1461486641, "question_id": 34441721, "link": "https://stackoverflow.com/questions/34441721/perl-parameters-passing-with-special-characters", "title": "Perl parameters passing with special characters", "body": "<p>This is a pure Perl parameters passing issue. I cannot use <code>Get::Opt</code> as it is not installed on every machine.</p>\n\n<p>I need to pass parameters with spaces and other special chars sometimes. Three scripts to demo the process. Is there a better way to do this?</p>\n\n<pre><code>[gliang@www stackoverflow]$ perl parameter_wrapper.pl\nprep.pl #&lt;5&gt; parameters\nprep_v2.pl #&lt;5&gt; parameters\n&lt;aaa_777-1&gt;\n&lt;bbb-6666-2&gt;\n&lt;Incomplete QA&gt;\n&lt;-reason&gt;\n&lt;too long, mail me at ben@example.com :)&gt;\n</code></pre>\n\n<hr/>\n\n<pre><code>cat parameter_wrapper.pl\n\n#!/usr/bin/perl -w\nuse strict;\n# call prep.pl with 5 parameters\nmy $cmd = \"./prep.pl aaa_777-1 bbb-6666-2 'Incomplete QA' -reason 'too long,  mail me at ben\\@example.com :)\\n'\";\nsystem($cmd);\n\n\ncat prep.pl\n\n#!/usr/bin/perl -w\nuse strict;\nmy @parameters = @ARGV;\nmy $count = scalar(@parameters);\n\nmy @parameters_new = wrap_parameters(@parameters);\nmy $cmd = \"./prep_v2.pl @parameters_new\";\nprint \"prep.pl #&lt;$count&gt; parameters\\n\";\nsystem($cmd);\n\nsub wrap_parameters {\n    my @parameters = @_;\n    my @parameters_new;\n    foreach my $var(@parameters) {\n        $var = quotemeta($var);\n        push(@parameters_new, $var);\n    }\n    return @parameters_new;\n}\n\n\ncat prep_v2.pl\n\n#!/usr/bin/perl -w\nuse strict;\nmy @parameters = @ARGV;\nmy $count = scalar(@parameters);\nprint \"prep_v2.pl #&lt;$count&gt; parameters\\n\";\n\nforeach my $var (@parameters) {\n    #print \"&lt;$var&gt;\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "rest", "catalyst"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1450896387, "post_id": 34441465, "comment_id": 56625275, "body": "There is no stored serializer object. It creates that on the fly in <a href=\"https://metacpan.org/source/JJNAPIORK/Catalyst-Action-REST-1.20/lib/Catalyst/Action/Serialize.pm\" rel=\"nofollow noreferrer\">metacpan.org/source/JJNAPIORK/Catalyst-Action-REST-1.20/lib/&zwnj;&#8203;&hellip;</a> and that will be called automatically to handle the request. You might be able to stop the flow and forward to that thing later."}], "owner": {"reputation": 33, "user_id": 4292868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bc3b5ea7c808ae14a577bec866174c7?s=128&d=identicon&r=PG", "display_name": "Denis Moskowitz", "link": "https://stackoverflow.com/users/4292868/denis-moskowitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1450894497, "creation_date": 1450894497, "question_id": 34441465, "link": "https://stackoverflow.com/questions/34441465/is-there-a-way-to-get-serializer-or-content-type-from-inside-catalystcontrolle", "title": "Is there a way to get serializer or content-type from inside Catalyst::Controller::REST class?", "body": "<p>Generally it seems that the way Catalyst::Controller::REST is that you put a reference into \"entity\" and then Catalyst::Action::Serialize picks a content-type and a serializer after you're done.</p>\n\n<p>In my case, I may be dealing with very large data and I can't hold the entire thing in memory at once (it's coming from a different server and I'm reformatting and returning it).  If I knew what content-type Serialize was going to choose, I could transform the incoming data and write it to a file as it comes in and then serve it back out from disk.  Is there any way for me to find out what content-type I'm being asked for beyond copying the code in Catalyst::Action::SerializeBase?</p>\n\n<p>The workaround will be to say \"I don't care what you asked for, here's your JSON\" but it'd be nice to actually provide what's requested. :)</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 16808, "user_id": 197011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2bfdf995aa973ef9974fca9aeb6c7fb?s=128&d=identicon&r=PG", "display_name": "GreenMatt", "link": "https://stackoverflow.com/users/197011/greenmatt"}, "edited": false, "score": 0, "creation_date": 1450886448, "post_id": 34439203, "comment_id": 56619763, "body": "Welcome to the site. This question is getting close votes. It&#39;s possible there are other questions that already address this issue - you may want to use the search box. However, I&#39;ve marked up your code and cleaned up the grammar in an effort to make it easier to read.  If you don&#39;t like what I&#39;ve done, you can rollback my changes and/or make your own via an <a href=\"http://stackoverflow.com/posts/34439203/edit\">edit</a>. Also, please have a look a the <a href=\"http://stackoverflow.com/tour\">tour</a> and <a href=\"http://stackoverflow.com/help\">help center</a> to get a better idea of how the site works."}, {"owner": {"reputation": 61, "user_id": 4300351, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O1UAA7xsbMk/AAAAAAAAAAI/AAAAAAAAAKM/N9QdbNPkUQc/photo.jpg?sz=128", "display_name": "Mike Carville GleTech", "link": "https://stackoverflow.com/users/4300351/mike-carville-gletech"}, "reply_to_user": {"reputation": 16808, "user_id": 197011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2bfdf995aa973ef9974fca9aeb6c7fb?s=128&d=identicon&r=PG", "display_name": "GreenMatt", "link": "https://stackoverflow.com/users/197011/greenmatt"}, "edited": false, "score": 0, "creation_date": 1450887700, "post_id": 34439203, "comment_id": 56620512, "body": "Thank you @GreenMatt. I did spend more than an hour on Google and on this site looking for answers. Thanks for cleaning up my code"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 4300351, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O1UAA7xsbMk/AAAAAAAAAAI/AAAAAAAAAKM/N9QdbNPkUQc/photo.jpg?sz=128", "display_name": "Mike Carville GleTech", "link": "https://stackoverflow.com/users/4300351/mike-carville-gletech"}, "edited": false, "score": 0, "creation_date": 1450888725, "post_id": 34439951, "comment_id": 56621167, "body": "Thank You @Matt Jacob The answer works as well as the other. I appreciate you taking the time to explain it."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1450888088, "creation_date": 1450888088, "answer_id": 34439951, "question_id": 34439203, "link": "https://stackoverflow.com/questions/34439203/perl-reference-to-a-hash-to-pass-to-another-routine/34439951#34439951", "title": "Perl: reference to a hash to pass to another routine", "body": "<p>To answer your question, you don't need to dereference the hash reference in order to pass it to another subroutine. Creating a shallow copy and then taking a reference to that new hash is inefficient, but it would technically work just fine. </p>\n\n<p>However, your problem is that you're confusing hashes and arrays by using the syntax to dereference an array reference on something that is actually a hash reference. In fact, you should have gotten an error message basically saying the same thing:</p>\n\n<blockquote>\n  <p>Not an ARRAY reference at foo.pl line ...</p>\n</blockquote>\n\n<p>What you actually want to do is something like this:</p>\n\n<pre><code>for my $href (@$listref) {  # variable names could be better\n    # do something\n    my $results = format_trading_card_preview_item($href);\n    # do something else\n}\n\nsub format_trading_card_preview_item {\n    my $args = shift;\n    print $args-&gt;{foo};\n    return 42;\n}\n</code></pre>\n\n<p>Check out <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a> and <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a> for more information on Perl references and nested data structures.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 4300351, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O1UAA7xsbMk/AAAAAAAAAAI/AAAAAAAAAKM/N9QdbNPkUQc/photo.jpg?sz=128", "display_name": "Mike Carville GleTech", "link": "https://stackoverflow.com/users/4300351/mike-carville-gletech"}, "edited": false, "score": 0, "creation_date": 1450888672, "post_id": 34439964, "comment_id": 56621137, "body": "Thanks so much @Borodin...I thought I was close :-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61, "user_id": 4300351, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O1UAA7xsbMk/AAAAAAAAAAI/AAAAAAAAAKM/N9QdbNPkUQc/photo.jpg?sz=128", "display_name": "Mike Carville GleTech", "link": "https://stackoverflow.com/users/4300351/mike-carville-gletech"}, "edited": false, "score": 0, "creation_date": 1450890215, "post_id": 34439964, "comment_id": 56622103, "body": "@MikeCarvilleGleTech: You&#39;re welcome. Note that I&#39;ve added an alternative, more concise form that you may prefer"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1450891998, "last_edit_date": 1450891998, "creation_date": 1450888139, "answer_id": 34439964, "question_id": 34439203, "link": "https://stackoverflow.com/questions/34439203/perl-reference-to-a-hash-to-pass-to-another-routine/34439964#34439964", "title": "Perl: reference to a hash to pass to another routine", "body": "<p>It looks like <code>$listref</code> is a reference to an array of hash references.</p>\n\n<p>If you need to use the variable holding the hash references then it is better if you name that variable instead of using the default scalar <code>$_</code></p>\n\n<p>There is also no point in dereferencing the hash and copying it to <code>%args</code>, only to take a reference to <em>that</em> hash and pass it as a parameter to your subroutine</p>\n\n<p>And it is wrong to call a subroutine with an ampersand <code>&amp;</code> character, and has been so ever since Perl v5.5 landed over seventeen years ago</p>\n\n<p>Your loop should look like this</p>\n\n<pre><code>for my $item ( @$listref ) {\n    format_trading_card_preview_item($item);\n}\n</code></pre>\n\n<p>Within the subroutine, it depends a lot on what you want to do with the hash passed in, but you don't say anything about that, so it's probably best to leave it as a reference and write</p>\n\n<pre><code>sub format_trading_card_preview_item {\n    my ($item) = @_;\n    ...\n}\n</code></pre>\n\n<p>or you could use the <em>statement modifier</em> form of <code>for</code>, like this</p>\n\n<pre><code>format_trading_card_preview_item($_) for @$listref;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4300351, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O1UAA7xsbMk/AAAAAAAAAAI/AAAAAAAAAKM/N9QdbNPkUQc/photo.jpg?sz=128", "display_name": "Mike Carville GleTech", "link": "https://stackoverflow.com/users/4300351/mike-carville-gletech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 34439964, "answer_count": 2, "score": 2, "last_activity_date": 1450891998, "creation_date": 1450885611, "last_edit_date": 1450886141, "question_id": 34439203, "link": "https://stackoverflow.com/questions/34439203/perl-reference-to-a-hash-to-pass-to-another-routine", "title": "Perl: reference to a hash to pass to another routine", "body": "<p>In code that uploads excel spreadsheets it gives me the data in array ref:</p>\n\n<pre><code>for( @{$listref} ){...\n</code></pre>\n\n<p>I access it with <code>$_-&gt;{'whateverthehashkeyis'}</code> and have no problem.</p>\n\n<p>What I need to do is pass the hash I am accessing in the current iteration of the loop to another subroutine.</p>\n\n<p>This is where I am having problems.  I have tried different things with no luck.</p>\n\n<p>This DOES NOT work, but it should be an example of what I need to do</p>\n\n<pre><code>%args = @{$_};\n\n$results = &amp;format_trading_card_preview_item(\\%args);\n....\nsub format_trading_card_preview_item\n{\n    my %args = shift;\n</code></pre>\n\n<p>I think what I need to do is dereference the hash to send it over. Is that right? </p>\n\n<p>Thanks in advance for any help </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4227915"}, "edited": false, "score": 0, "creation_date": 1450885225, "post_id": 34438566, "comment_id": 56618981, "body": "Why did you tried <code>s&#47;(sip:)(;.*)&#47;&#47;</code>.. if you say what you thought, then we can point out the wrong thoughts, this way -in my opinion- you can learn more."}], "answers": [{"tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 2, "last_activity_date": 1450883636, "creation_date": 1450883636, "answer_id": 34438617, "question_id": 34438566, "link": "https://stackoverflow.com/questions/34438566/regex-pulling-ip-and-port-from-string/34438617#34438617", "title": "Regex pulling IP and port from string", "body": "<p>It's not bulletproof, but this should work:</p>\n\n<pre><code>my $test = 'sip:255.255.255.255:8080;transport=TCP';\n\nmy ($ip) = $test =~ /(\\d+\\.\\d+\\.\\d+\\.\\d+:\\d+)/;\n\nprint \"$ip\\n\";\n</code></pre>\n\n<p>This just extracts it, of course...  you could always replace it this way:</p>\n\n<pre><code>$test = $ip;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 181, "user_id": 5690203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07ded5d2028fb4cb859a69cc6157e8e0?s=128&d=identicon&r=PG&f=1", "display_name": "Kai Iskratsch", "link": "https://stackoverflow.com/users/5690203/kai-iskratsch"}, "is_accepted": false, "score": 1, "last_activity_date": 1450883853, "creation_date": 1450883853, "answer_id": 34438680, "question_id": 34438566, "link": "https://stackoverflow.com/questions/34438566/regex-pulling-ip-and-port-from-string/34438680#34438680", "title": "Regex pulling IP and port from string", "body": "<p>the regular expression tries to match your whole string which does not work since the wanted part is in between the parts you want to remove.\nso you either need 2 regular expressions to remove first the start and then the end or you need to use capture groups to get the part you want and replace with the captured part like this (not checked for correctness):</p>\n\n<pre><code>s/sip:(.*);.*/$1/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7810, "user_id": 2671317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f13862b290e178f5a6c40b8d8dfc4f05?s=128&d=identicon&r=PG", "display_name": "ptierno", "link": "https://stackoverflow.com/users/2671317/ptierno"}, "is_accepted": true, "score": 3, "last_activity_date": 1450962613, "last_edit_date": 1450962613, "creation_date": 1450884768, "answer_id": 34438941, "question_id": 34438566, "link": "https://stackoverflow.com/questions/34438566/regex-pulling-ip-and-port-from-string/34438941#34438941", "title": "Regex pulling IP and port from string", "body": "<p>You can use the following:</p>\n\n<p><code>/((\\d{1,3}.){3}\\d{1,3}:\\d+)/</code></p>\n\n<p>Explanation:</p>\n\n<p><code>(\\d{1,3}\\.){3}</code> : between 1 and 3 consecutive digits followed by a period 3 times in a row\n<code>\\d{1,3}:\\d+</code> : between 1 and 3 consecutive digits followed by a colon followed by at least 1 digit</p>\n\n<p>So in code it would look something like this:</p>\n\n<pre><code>my $s = 'sip:255.255.255.255:8080;transport=TCP';\nmy ($socket) = $s =~ /((\\d{1,3}.){3}\\d{1,3}:\\d+)/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "is_accepted": false, "score": 3, "last_activity_date": 1450897871, "creation_date": 1450897871, "answer_id": 34442219, "question_id": 34438566, "link": "https://stackoverflow.com/questions/34438566/regex-pulling-ip-and-port-from-string/34442219#34442219", "title": "Regex pulling IP and port from string", "body": "<p>Here is a solution that uses the <code>Regexp::Common</code> library to match the IP address.</p>\n\n<pre><code>use 5.022;\nuse Regexp::Common qw/net/;\n\nwhile (&lt;DATA&gt;){\n    my @matches = ($_ =~ m/^sip:$RE{net}{IPv4}{-keep}:(\\d+);?/);\n    my $ip = $matches[0].':'. $matches[5];\n    say $ip\n}\n\n__DATA__\nsip:255.255.255.255:8080;transport=TCP\nsip:255.255.255.255:8080\n</code></pre>\n"}], "owner": {"reputation": 690, "user_id": 2923236, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3tUKo.jpg?s=128&g=1", "display_name": "odannyc", "link": "https://stackoverflow.com/users/2923236/odannyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1944, "favorite_count": 0, "accepted_answer_id": 34438941, "answer_count": 4, "score": 2, "last_activity_date": 1485569571, "creation_date": 1450883444, "last_edit_date": 1485569571, "question_id": 34438566, "link": "https://stackoverflow.com/questions/34438566/regex-pulling-ip-and-port-from-string", "title": "Regex pulling IP and port from string", "body": "<p>I'm using Perl to try and pull the IP address and port from a string.</p>\n\n<p>The regex I'm trying to use is:</p>\n\n<pre><code>s/(sip:)(;.*)//\n</code></pre>\n\n<p>The strings are:</p>\n\n<ul>\n<li><code>sip:255.255.255.255:8080;transport=TCP</code></li>\n<li><code>sip:255.255.255.255:8080</code></li>\n</ul>\n\n<p>Obviously my regex replace is not working. Can anyone point me to how I would need to write the regex? From those two strings I want to pull this:</p>\n\n<pre><code>255.255.255.255:8080\n</code></pre>\n\n<p>Meaning the regex needs to match anything that's not that string and replace it with nothing.</p>\n\n<p>Note: IP address and port will be different every time.</p>\n"}, {"tags": ["perl", "sh"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 14, "last_activity_date": 1450898321, "last_edit_date": 1450898321, "creation_date": 1450879757, "answer_id": 34437471, "question_id": 34437248, "link": "https://stackoverflow.com/questions/34437248/is-there-a-better-way-to-count-occurrence-of-char-in-a-string/34437471#34437471", "title": "Is there a better way to count occurrence of char in a string?", "body": "<p>Counting the occurences of a character in a string can be performed with one line in Perl (as compared to your 4 lines).  There is no need for a sub (although there is nothing wrong with encapsulating functionality in a sub).  From <a href=\"http://perldoc.perl.org/perlfaq4.html\" rel=\"noreferrer\">perlfaq4 \"How can I count the number of occurrences of a substring within a string?\"</a></p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $str = \"ru8xysyyyyyyysss6s5s\";\nmy $char = \"y\";\nmy $count = () = $str =~ /\\Q$char/g;\nprint \"count&lt;$count&gt; of &lt;$char&gt; in &lt;$str&gt;\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1450884233, "post_id": 34438539, "comment_id": 56618308, "body": "both works well, I added  them to my tools box, first time heard the cmd fold, appreciated!"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "reply_to_user": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 1, "creation_date": 1450884315, "post_id": 34438539, "comment_id": 56618359, "body": "@gliang: It&#39;s a bit like the <code>split &#47;&#47;</code> of Bash, I only discovered it recently as well. Glad you find them useful!"}], "tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": false, "score": 4, "last_activity_date": 1450883826, "last_edit_date": 1450883826, "creation_date": 1450883353, "answer_id": 34438539, "question_id": 34437248, "link": "https://stackoverflow.com/questions/34437248/is-there-a-better-way-to-count-occurrence-of-char-in-a-string/34438539#34438539", "title": "Is there a better way to count occurrence of char in a string?", "body": "<p>In a <em>beautiful</em>* Bash/Coreutils/Grep one-liner:</p>\n\n<pre><code>$ str=ru8xysyyyyyyysss6s5s\n$ char=y\n$ fold -w 1 &lt;&lt;&lt; \"$str\" | grep -c \"$char\"\n8\n</code></pre>\n\n<p>Or maybe</p>\n\n<pre><code>$ grep -o \"$char\" &lt;&lt;&lt; \"$str\" | wc -l\n8\n</code></pre>\n\n<p>The first one works only if the substring is just one character long; the second one works only if the substrings are non-overlapping.</p>\n\n<p><sub>* Not really.</sub></p>\n"}, {"comments": [{"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1450884890, "post_id": 34438836, "comment_id": 56618723, "body": "what is the gms for? g - for all  occurence, m for match, s for ?"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "reply_to_user": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 1, "creation_date": 1450885891, "post_id": 34438836, "comment_id": 56619421, "body": "@gliang: &quot;Treat string as single line&quot;, i.e., <code>.</code> matches newlines, which it normally doesn&#39;t, see <a href=\"http://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html#Modifiers</a>"}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1450886898, "post_id": 34438836, "comment_id": 56620030, "body": "Benjamin, thanks, it is not what i thought it is. I will read the document again."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 1, "creation_date": 1450890111, "post_id": 34438836, "comment_id": 56622040, "body": "@gliang No, <code>m</code> is multiline, meaning newline is matched by <code>^</code> and <code>$</code> (and equivalent), and <code>s</code> like Benjamin said makes <code>.</code> also match newline. They are not strictly needed in your example, and <code>\\Q</code> excludes the use of the <code>.</code> metacharacter anyway. But since we do not know what your input will be, this is a safer way."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 2, "last_activity_date": 1450884410, "last_edit_date": 1495541042, "creation_date": 1450884410, "answer_id": 34438836, "question_id": 34437248, "link": "https://stackoverflow.com/questions/34437248/is-there-a-better-way-to-count-occurrence-of-char-in-a-string/34438836#34438836", "title": "Is there a better way to count occurrence of char in a string?", "body": "<p><a href=\"https://stackoverflow.com/users/197758/toolic\">toolic</a> has given a correct answer, but you might consider not hardcoding your values to make the program reusable.</p>\n\n<pre><code>use strict;\nuse warnings;\n\ndie \"Usage: $0 &lt;text&gt; &lt;characters&gt;\" if @ARGV &lt; 1;\nmy $search = shift;                    # the string you are looking for\nmy $str;                               # the input string\nif (@ARGV &amp;&amp; -e $ARGV[0] || !@ARGV) {  # if str is file, or there is no str\n    local $/;                          # slurp input\n    $str = &lt;&gt;;                         # use diamond operator\n} else {                               # else just use the string\n    $str = shift;\n}\nmy $count = () = $str =~ /\\Q$search\\E/gms;\nprint \"Found $count of '$search' in '$str'\\n\";\n</code></pre>\n\n<p>This will allow you to use the program to count for the occurrence of a character, or a string, inside a string, a file, or standard input. For example:</p>\n\n<pre><code>count.pl needles haystack.txt\nsome_process | count.pl foo\ncount.pl x xyzzy\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 10, "last_activity_date": 1450908567, "last_edit_date": 1450908567, "creation_date": 1450898029, "answer_id": 34442251, "question_id": 34437248, "link": "https://stackoverflow.com/questions/34437248/is-there-a-better-way-to-count-occurrence-of-char-in-a-string/34442251#34442251", "title": "Is there a better way to count occurrence of char in a string?", "body": "<p>If the character is constant, the following is best:</p>\n\n<pre><code>my $count = $str =~ tr/y//;\n</code></pre>\n\n<p>If the character is variable, I'd use the following:</p>\n\n<pre><code>my $count = length( $str =~ s/[^\\Q$char\\E]//rg );\n</code></pre>\n\n<p>I'd only use the following if I wanted compatibility with versions of Perl older than 5.14 (as it is slower and uses more memory):</p>\n\n<pre><code>my $count = () = $str =~ /\\Q$char/g;\n</code></pre>\n\n<p>The following uses no memory, but might be a bit slow:</p>\n\n<pre><code>my $count = 0;\n++$count while $str =~ /\\Q$char/g;\n</code></pre>\n"}], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9655, "favorite_count": 1, "accepted_answer_id": 34437471, "answer_count": 4, "score": 8, "last_activity_date": 1450908567, "creation_date": 1450878962, "last_edit_date": 1450880622, "question_id": 34437248, "link": "https://stackoverflow.com/questions/34437248/is-there-a-better-way-to-count-occurrence-of-char-in-a-string", "title": "Is there a better way to count occurrence of char in a string?", "body": "<p>I felt there must a better way to count occurrence instead of writing a sub in perl, shell in Linux.</p>\n\n<pre><code>#/usr/bin/perl -w\nuse strict;\nreturn 1 unless $0 eq __FILE__;\nmain() if $0 eq __FILE__;\nsub main{\n    my $str = \"ru8xysyyyyyyysss6s5s\";\n    my $char = \"y\";\n    my $count = count_occurrence($str, $char);\n    print \"count&lt;$count&gt; of &lt;$char&gt; in &lt;$str&gt;\\n\";\n}\nsub count_occurrence{\n    my ($str, $char) = @_;\n    my $len = length($str);\n    $str =~ s/$char//g;\n    my $len_new = length($str);\n    my $count = $len - $len_new;\n    return $count;\n}\n</code></pre>\n"}, {"tags": ["perl", "module", "packaging"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1450867020, "post_id": 34433540, "comment_id": 56608200, "body": "Welcome to Stack Overflow and to the Perl tag. Please take a moment to  read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and take the <a href=\"https://stackoverflow.com/tour\">tour</a>. There is no question mark in your question. Please <a href=\"https://stackoverflow.com/posts/34433540/edit\">edit</a> the question and improve it."}, {"owner": {"reputation": 6733, "user_id": 52116, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c2fdf17881a0a3d248f9d431f98e1bca?s=128&d=identicon&r=PG", "display_name": "Adam Taylor", "link": "https://stackoverflow.com/users/52116/adam-taylor"}, "edited": false, "score": 1, "creation_date": 1450869391, "post_id": 34433540, "comment_id": 56609664, "body": "There are arguably easier ways now but you might find what you need here in this detailed guide: <a href=\"http://www.perlmonks.org/index.pl?node_id=431702\" rel=\"nofollow noreferrer\">perlmonks.org/index.pl?node_id=431702</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1450882913, "post_id": 34436132, "comment_id": 56617570, "body": "actually you only need line 1649 to create the package, not sure this is against the rule to recommend specific tool or software."}], "tags": [], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "is_accepted": false, "score": 1, "last_activity_date": 1450875075, "creation_date": 1450875075, "answer_id": 34436132, "question_id": 34433540, "link": "https://stackoverflow.com/questions/34433540/perl-how-can-i-distribute-my-own-package-mymodule-pm/34436132#34436132", "title": "Perl: How Can I distribute my own package MYModule.pm?", "body": "<pre><code>1649  module-starter --module urModule --author=\"xx xxxx\" --email=\"a.xxxx@xxx.com\"\n1651  cd urModule/\n1653  perl Makefile.PL\n1654  make\n1655  make test\n# test coverage\n1656  cover -test\n# make tar.gz\n1658  make dist\n# make spec file for building a rpm\n1660  cpanspec DirTree-0.01.tar.gz\n# get an account over pause.perl.org\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4291711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daa43ef86bcff41a389a187218f0bd4e?s=128&d=identicon&r=PG&f=1", "display_name": "Phanindra A", "link": "https://stackoverflow.com/users/4291711/phanindra-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1450875075, "creation_date": 1450866340, "last_edit_date": 1450873406, "question_id": 34433540, "link": "https://stackoverflow.com/questions/34433540/perl-how-can-i-distribute-my-own-package-mymodule-pm", "title": "Perl: How Can I distribute my own package MYModule.pm?", "body": "<p>I have a developed my own package,i want to distribute my module like in CPAN. Want to package my MYModule.pm to be as distributed, and installable as using MakeFile.pl.</p>\n"}, {"tags": ["perl", "phantomjs", "mechanize"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1450885968, "post_id": 34433150, "comment_id": 56619475, "body": "Somebody posted <a href=\"http://www.perlmonks.org/?node_id=1104241\" rel=\"nofollow noreferrer\">the same issue</a> on PerlMonks last year. Does <a href=\"http://www.perlmonks.org/?node_id=1148279\" rel=\"nofollow noreferrer\">natalie_g&#39;s solution</a> work for you?"}, {"owner": {"reputation": 121, "user_id": 5382246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4447cff7264c7608e669d76c446d9793?s=128&d=identicon&r=PG&f=1", "display_name": "Neeraj Pandey", "link": "https://stackoverflow.com/users/5382246/neeraj-pandey"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1450892671, "post_id": 34433150, "comment_id": 56623462, "body": "Thanks for the help but it did not make any difference."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1450892725, "post_id": 34433150, "comment_id": 56623496, "body": "What did not make any difference? Please <a href=\"https://stackoverflow.com/posts/34433150/edit\">edit</a> your question to show specifically what you tried and what errors you got after trying it."}, {"owner": {"reputation": 121, "user_id": 5382246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4447cff7264c7608e669d76c446d9793?s=128&d=identicon&r=PG&f=1", "display_name": "Neeraj Pandey", "link": "https://stackoverflow.com/users/5382246/neeraj-pandey"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1450894150, "post_id": 34433150, "comment_id": 56624231, "body": "I have edited the question. Please take a look at issue."}], "owner": {"reputation": 121, "user_id": 5382246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4447cff7264c7608e669d76c446d9793?s=128&d=identicon&r=PG&f=1", "display_name": "Neeraj Pandey", "link": "https://stackoverflow.com/users/5382246/neeraj-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 899, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1450893166, "creation_date": 1450865239, "last_edit_date": 1450893166, "question_id": 34433150, "link": "https://stackoverflow.com/questions/34433150/setting-up-mechanize-phantomjs", "title": "Setting up Mechanize Phantomjs", "body": "<p>I am running into an issue.\nI want to use WWW::Mechanize::PhantomJS. I have set it up as follow.\n1. Installed Strawberry and WWW::Mechanize::PhantomJS Module\n2.Downloaded PhantomJS zip, extracted it and set the path for phantomjs executable.\n3. created a sample script as follow:</p>\n\n<pre><code>BEGIN{\n$ENV{HTTPS_PROXY} = 'http://myproxyserver:port';\n$ENV{HTTP_PROXY}  = 'http://myproxyserver:port';\n}\nuse WWW::Mechanize::PhantomJS;\nuse Data::Dumper;\nmy $mech = WWW::Mechanize::PhantomJS-&gt;new();\n$mech-&gt;get('http://google.com');\nprint Dumper $mech-&gt;content();\n</code></pre>\n\n<p>but when I execute this script I get the following error:</p>\n\n<pre><code>Selenium server did not return proper status at C:/Strawberry/perl/site/lib/Selenium/Remote/Driver.pm line 395.\n</code></pre>\n\n<p>whats that I am missing.\nI assume that this WWW::Mechanize::PhantomJS starts phantomjs from path specified in environment.</p>\n\n<p>Edit:\nI uninstalled WWW::Mechanize::PhantomJS and tried installing again but got following output:</p>\n\n<pre><code>t/00-load.t ................... ok\nt/49-mech-get-file.t .......... # Testing with     C:\\bin\\phantomjs\\phantomjs.exe\nSelenium server did not return proper status at  C:/Strawberry/perl/site/lib/Selenium/Remote/Driver.pm line 395.\n# Looks like your test exited with 9 before it could output anything.\nt/49-mech-get-file.t .......... Dubious, test returned 9 (wstat 2304, 0x900)\nFailed 12/12 subtests\nt/49-mech-nav.t ............... # Testing with  C:\\bin\\phantomjs\\phantomjs.exe\nSelenium server did not return proper status at C:/Strawberry/perl/site/lib/Selenium/Remote/Driver.pm line 395.\n</code></pre>\n\n<p>Then as suggested I modified C:\\Strawberry\\perl\\vendor\\lib\\LWP\\Protocol\\http.pm as follow </p>\n\n<pre><code>   sub _new_socket\n{\n    my($self, $host, $port, $timeout) = @_;\n\n    # IPv6 literal IP address should be [bracketed] to remove\n    # ambiguity between ip address and port number.\n    if ( ($host =~ /:/) &amp;&amp; ($host !~ /^\\[/) ) {\n      #$host = \"[$host]\";\n      $host  = '127.0.0.1';\n    }\n</code></pre>\n\n<p>and again issued command\n    cpan WWW::Mechanize::PhantomJS\nbut same output again.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1450857042, "post_id": 34430773, "comment_id": 56602910, "body": "What on earth is <code>$thing[0] =~ &#47;return &#39;$bestphone&#39;&#47;;&#47;)</code> supposed to do? It has 3 slashes <code>&#47;</code>, which is a syntax error."}], "answers": [{"comments": [{"owner": {"reputation": 1278, "user_id": 3598703, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a4d8dbd4290d1fab2c1e711b9a9377?s=128&d=identicon&r=PG", "display_name": "Boying", "link": "https://stackoverflow.com/users/3598703/boying"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1450857755, "post_id": 34431100, "comment_id": 56603233, "body": "Oh &quot;;&quot;shall also be removed"}], "tags": [], "owner": {"reputation": 1278, "user_id": 3598703, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a4d8dbd4290d1fab2c1e711b9a9377?s=128&d=identicon&r=PG", "display_name": "Boying", "link": "https://stackoverflow.com/users/3598703/boying"}, "is_accepted": false, "score": -1, "last_activity_date": 1450857467, "creation_date": 1450857467, "answer_id": 34431100, "question_id": 34430773, "link": "https://stackoverflow.com/questions/34430773/unmatched-in-regex-marked-by-here-with-variable-name/34431100#34431100", "title": "Unmatched ( in regex; marked by &lt;-- HERE with variable name", "body": "<p>Please remove the \"/\" after the \";\" \n$besrphone=quotemeta $bestphone\nand try again</p>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1450861398, "post_id": 34431692, "comment_id": 56604877, "body": "@Biffen I thought <code>\\Q..\\E</code> was the same as using qutometa?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1450862152, "post_id": 34431692, "comment_id": 56605273, "body": "@Biffen <code>perl -E &#39;$s=q{\\Q\\E}; say quotemeta $s; say &quot;\\Q$s\\E&quot;&#39;</code> both give output: <code>\\\\Q\\\\E</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1450871806, "post_id": 34431692, "comment_id": 56611123, "body": "@Biffen: <i>&quot;Also proves quotemeta isn&#39;t the same as \\Q\u2026\\E&quot;</i>  I don&#39;t understand you. <code>quotemeta</code> and <code>\\Q...\\E</code> produce identical results, and you say that proves they are not the same? Please explain. <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">perldoc -f quotemeta</a> says <b><i>This is the internal function implementing the \\Q escape in double-quoted strings</i></b>, so I suggest that you&#39;re mistaken"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1450875723, "post_id": 34431692, "comment_id": 56613455, "body": "@Biffen: I don&#39;t understand why you would expect that. Both <code>quotemeta</code> and <code>\\Q...\\E</code> escape any non-word characters, so they both escape the backslashes and return <code>\\\\Q\\\\E</code>. There is no way to pass a parameter to <code>\\Q\\E</code> except by interpolating a scalar variable, but I assure you they&#39;re the <i>same thing</i>. As <a href=\"http://stackoverflow.com/questions/34430773/unmatched-in-regex-marked-by-here-with-variable-name/34431692?noredirect=1#comment56605273_34431692\"><b>H&#229;kon H&#230;gland</b> has shown</a>, if <code>$s = &#39;\\Q\\E&#39;</code> then <code>quotemeta($s)</code> and <code>&quot;\\Q$s\\E&quot;</code> are both equal to the string <code>\\\\Q\\\\E</code>"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 3, "last_activity_date": 1450860277, "creation_date": 1450860277, "answer_id": 34431692, "question_id": 34430773, "link": "https://stackoverflow.com/questions/34430773/unmatched-in-regex-marked-by-here-with-variable-name/34431692#34431692", "title": "Unmatched ( in regex; marked by &lt;-- HERE with variable name", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\">quotemeta</a> to escape the special characters in <code>$bestphone</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>$thing[0] =~ /return '\\Q$bestphone\\E';/\n</code></pre>\n"}], "owner": {"reputation": 7489, "user_id": 2183287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f994c77448da7979a598ef76d270de67?s=128&d=identicon&r=PG&f=1", "display_name": "fatihk", "link": "https://stackoverflow.com/users/2183287/fatihk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 718, "favorite_count": 0, "accepted_answer_id": 34431692, "answer_count": 2, "score": 1, "last_activity_date": 1450860277, "creation_date": 1450856015, "last_edit_date": 1450858544, "question_id": 34430773, "link": "https://stackoverflow.com/questions/34430773/unmatched-in-regex-marked-by-here-with-variable-name", "title": "Unmatched ( in regex; marked by &lt;-- HERE with variable name", "body": "<p>I have perl variable <em>bestphone</em> defined with the following line:</p>\n\n<pre><code>my $bestphone = (sort {$targets{$b} &lt;=&gt; $targets{$a}} keys %targets)[0];\n</code></pre>\n\n<p>When this variable is (, i get error for the following line:</p>\n\n<pre><code>if ((@thing == 1)&amp;&amp;($thing[0] =~ /return '$bestphone';/)) {\n</code></pre>\n\n<p>with the error:</p>\n\n<blockquote>\n  <p>Unmatched ( in regex; marked by &lt;-- HERE in m/return '( &lt;-- HERE ';/\n  at</p>\n</blockquote>\n\n<p>How can I fix this error?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 0, "creation_date": 1450851695, "post_id": 34429781, "comment_id": 56600596, "body": "Is this homework? Please <a href=\"https://stackoverflow.com/posts/34429781/edit\">edit</a> your post to include some code you have written to solve this problem. StackOverflow isn&#39;t a code writing service."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1450852837, "creation_date": 1450852837, "answer_id": 34430015, "question_id": 34429781, "link": "https://stackoverflow.com/questions/34429781/perl-difference-between-two-array-index-values/34430015#34430015", "title": "Perl: Difference between two array index values", "body": "<pre><code>my @diff_indexes = grep { $a[$_] != $b[$_] } 0..$#a;\n\nmy @a_diff_values = @a[ @diff_indexes ];\nmy @b_diff_values = @b[ @diff_indexes ];\n</code></pre>\n\n<p>Reference: <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\"><code>grep</code></a>, <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\">array slice</a></p>\n"}], "owner": {"reputation": 385, "user_id": 3774994, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ab06f00248afe2eefaa2a280761088c4?s=128&d=identicon&r=PG&f=1", "display_name": "depsai", "link": "https://stackoverflow.com/users/3774994/depsai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 34430015, "answer_count": 1, "score": -1, "last_activity_date": 1450863624, "creation_date": 1450851650, "last_edit_date": 1450863624, "question_id": 34429781, "link": "https://stackoverflow.com/questions/34429781/perl-difference-between-two-array-index-values", "title": "Perl: Difference between two array index values", "body": "<p>I have two arrays input:</p>\n\n<pre><code>@a = (1, 2, 3, 4, 5);\n@b = (2, 2, 3, 6, 8);\n</code></pre>\n\n<p>Output:</p>\n\n<p>print 1,4,5 difference in first array.<br>\nprint 2,6,8 difference in second array.</p>\n\n<p>I tried this, but I don't no which module to use.</p>\n\n<pre><code>use Array::Utils qw(:all);\n\n@a = (1, 2, 3, 4, 5);\n@a = (2, 2, 3, 6, 8);\n\n# get items from array @a that are not in array @b\nmy @minus = array_minus( @a, @b );\nprint @minus;exit;\n</code></pre>\n\n<p>I want to print the difference between index values.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 5, "creation_date": 1450845435, "post_id": 34428588, "comment_id": 56598376, "body": "As it stands, this does not contain a question. I recommend you read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and edit your question accordingly."}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 2, "creation_date": 1450846904, "post_id": 34428588, "comment_id": 56598881, "body": "Also, the error message includes an obvious hint to what you probably did wrong\u2026"}, {"owner": {"reputation": 11, "user_id": 5709585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47c24ed9166cd55061db48ebf1c8b49?s=128&d=identicon&r=PG&f=1", "display_name": "Bal Govind", "link": "https://stackoverflow.com/users/5709585/bal-govind"}, "edited": false, "score": 1, "creation_date": 1450849657, "post_id": 34428588, "comment_id": 56599798, "body": "when i am loading the PDF::FromHTML using command &quot;use PDF::FromHTML&quot; it is throwing error: Can&#39;t locate XML/Twig.pm in @INC (@INC contains: C:/Strawberry/perl/site/lib C:/ Strawberry/perl/vendor/lib C:/Strawberry/perl/lib .) at C:/Strawberry/perl/site/ lib/PDF/FromHTML/Twig.pm line 5."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1450849907, "post_id": 34428588, "comment_id": 56599882, "body": "And why do you think that is? Perhaps because you don&#39;t have XML::Twig installed and PDF::FromHTML depends on it?"}], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 3231347, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9be9cc1fbe9894439db5bb44f7c5aa97?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3231347/amit"}, "is_accepted": false, "score": 0, "last_activity_date": 1450854984, "creation_date": 1450854984, "answer_id": 34430516, "question_id": 34428588, "link": "https://stackoverflow.com/questions/34428588/getting-cant-locate-object-method-new-via-package-pdffromhtml/34430516#34430516", "title": "Getting Can&#39;t locate object method &quot;new&quot; via package &quot;PDF::FromHTML&quot;", "body": "<p>That module is not installed. So you need to install it from CPAN.\nLinux command \nsudo cpan \nthen install ModuleName \nHere your module name is PDF::FromHTML</p>\n\n<p>Similarly you can use following link to understand better. </p>\n\n<p><a href=\"https://metacpan.org/pod/PDF::FromHTML\" rel=\"nofollow\">https://metacpan.org/pod/PDF::FromHTML</a></p>\n"}, {"tags": [], "owner": {"reputation": 919, "user_id": 5513684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/961769367178033/picture?type=large", "display_name": "Steven Carlson", "link": "https://stackoverflow.com/users/5513684/steven-carlson"}, "is_accepted": false, "score": 1, "last_activity_date": 1450948169, "creation_date": 1450948169, "answer_id": 34450146, "question_id": 34428588, "link": "https://stackoverflow.com/questions/34428588/getting-cant-locate-object-method-new-via-package-pdffromhtml/34450146#34450146", "title": "Getting Can&#39;t locate object method &quot;new&quot; via package &quot;PDF::FromHTML&quot;", "body": "<p>Use CPAN to install XML::Twig</p>\n\n<p>From SSH:</p>\n\n<pre><code>cpan\ninstall XML::Twig\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5709585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47c24ed9166cd55061db48ebf1c8b49?s=128&d=identicon&r=PG&f=1", "display_name": "Bal Govind", "link": "https://stackoverflow.com/users/5709585/bal-govind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 659, "favorite_count": 0, "answer_count": 2, "score": -9, "last_activity_date": 1450948169, "creation_date": 1450844376, "question_id": 34428588, "link": "https://stackoverflow.com/questions/34428588/getting-cant-locate-object-method-new-via-package-pdffromhtml", "title": "Getting Can&#39;t locate object method &quot;new&quot; via package &quot;PDF::FromHTML&quot;", "body": "<p>Can't locate object method \n1. \"new\" via package \"PDF::FromHTML\" (perhaps you forgot\nto load \"PDF::FromHTML\"?) at C:\\Govind\\Performance Logs\\Performance Report HTML\n\\html2pdf.pl line 1.</p>\n\n<p>Please help!!!</p>\n"}, {"tags": ["multithreading", "perl", "sleep", "thread-sleep"], "comments": [{"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1450829677, "post_id": 34426581, "comment_id": 56594631, "body": "I meant the latter. From my testing it looks like the entire program halts for 5 seconds, so I want to find out how to make an individual thread sleep/halt for 5 seconds."}, {"owner": {"reputation": 165655, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 2, "creation_date": 1450833511, "post_id": 34426581, "comment_id": 56595549, "body": "Since all your threads call <code>sleep</code>, how could you tell the difference with this code?"}], "answers": [{"comments": [{"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1450859405, "post_id": 34427753, "comment_id": 56603904, "body": "Then how would I make entire program halt for <code>x</code> seconds"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 2, "creation_date": 1450896352, "post_id": 34427753, "comment_id": 56625255, "body": "You can&#39;t directly. Each thread executes independently of the others. Each thread would have to coordinate with each other. All activity wouldn&#39;t stop instantaneously; how fast depends on how often the threads check the the &quot;snooze instruction&quot;."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1450838565, "last_edit_date": 1450838565, "creation_date": 1450838104, "answer_id": 34427753, "question_id": 34426581, "link": "https://stackoverflow.com/questions/34426581/perl-threads-how-does-sleep-behave/34427753#34427753", "title": "Perl Threads: How does Sleep() behave", "body": "<blockquote>\n  <p><em>When I call <code>sleep(5)</code> it seems like the entire program comes to a halt (is this correct?).</em></p>\n</blockquote>\n\n<p>Are you saying you only see one number every 5 seconds? I see 10 numbers every 5 seconds, meaning <code>sleep</code> only puts the current thread to sleep.</p>\n\n<p>You can see it more clearly using the following program:</p>\n\n<pre><code>use threads;\n\nasync {\n   print \"Before sleep\\n\";\n   sleep 5;\n   print \"After sleep\\n\";\n};\n\nasync {\n   for (1..6) {\n      print \"Boop\\n\";\n      sleep 1;\n   }\n};\n\n$_-&gt;join for threads-&gt;list;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Before sleep\nBoop\nBoop\nBoop\nBoop\nBoop\nAfter sleep\nBoop\n</code></pre>\n\n<blockquote>\n  <p><em>Also how would I make an individual thread sleep?</em></p>\n</blockquote>\n\n<p>There are ways to achieve this without using <code>sleep</code>, but I think you're wrong about <code>sleep</code> not doing exactly this.</p>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 34427753, "answer_count": 1, "score": 0, "last_activity_date": 1450838565, "creation_date": 1450829252, "last_edit_date": 1450829490, "question_id": 34426581, "link": "https://stackoverflow.com/questions/34426581/perl-threads-how-does-sleep-behave", "title": "Perl Threads: How does Sleep() behave", "body": "<p>I have the following Perl Script that creates 10 threads and and calls a function 1000 times. In this function there is just a print (for debugging) and <code>sleep(5)</code></p>\n\n<p>Here is the Perl Script:</p>\n\n<pre><code>use threads;\nuse threads::shared;\nuse Thread::Queue;\n\nmy $fetch_q   = Thread::Queue-&gt;new();\nsub fetch {\n    while ( my $num = $fetch_q-&gt;dequeue() ) { \n        print \"$num\\n\";\n        sleep(5);\n    }\n}\n\nmy @workers = map { threads-&gt;create( \\&amp;fetch ) } 1 .. 10;\n$fetch_q-&gt;enqueue( 1 .. 1000 );\n$fetch_q-&gt;end();\nforeach my $thr (@workers) {$thr-&gt;join();}\n</code></pre>\n\n<p>When I call <code>sleep(5)</code> it seems like the entire program comes to a halt (is this correct?). Also how would I make an individual thread sleep?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450825094, "post_id": 34425811, "comment_id": 56593186, "body": "Let&#39;s start with this: what&#39;s <i>not</i> working with your current code? What is your expected output? What is your actual output?"}, {"owner": {"reputation": 59, "user_id": 4281327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WZpQM.jpg?s=128&g=1", "display_name": "ClubCola", "link": "https://stackoverflow.com/users/4281327/clubcola"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450825882, "post_id": 34425811, "comment_id": 56593473, "body": "If I check the first checkbox - than <code>$checkbox == 1</code>. If I check the second or the third one also the $checkbox is 1."}], "answers": [{"comments": [{"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1450841549, "post_id": 34425887, "comment_id": 56597388, "body": "I forget what happens if one checkbox is selected.  Will this still work since it should return a scalar?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1450897800, "post_id": 34425887, "comment_id": 56625933, "body": "Yes, it will work. Here&#39;s the code to return one scalar: <code>PUSHs(sv)</code>. Here&#39;s the code to return a list of one scalar: <code>PUSHs(sv)</code>. They&#39;re the same. That&#39;s because the words &quot;list of&quot; is purely fluff. There&#39;s  nothing being returned except scalars."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1450841203, "last_edit_date": 1450841203, "creation_date": 1450825405, "answer_id": 34425887, "question_id": 34425811, "link": "https://stackoverflow.com/questions/34425811/perl-how-to-handle-multiple-check-boxes/34425887#34425887", "title": "Perl - how to handle multiple check boxes?", "body": "<p>Call <code>param</code> in list context.</p>\n\n<pre><code>my @checkboxes = $q-&gt;param(\"checkbox\");\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4281327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WZpQM.jpg?s=128&g=1", "display_name": "ClubCola", "link": "https://stackoverflow.com/users/4281327/clubcola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 34425887, "answer_count": 1, "score": 0, "last_activity_date": 1450841203, "creation_date": 1450824967, "question_id": 34425811, "link": "https://stackoverflow.com/questions/34425811/perl-how-to-handle-multiple-check-boxes", "title": "Perl - how to handle multiple check boxes?", "body": "<p>I\u00b4am searching for a solution to handle a form in Perl with multiple checkboxes. Following issue:</p>\n\n<pre><code>&lt;input type=\"checkbox\" name=\"checkbox\" value=\"1\"&gt;\n&lt;input type=\"checkbox\" name=\"checkbox\" value=\"2\"&gt;\n.....\n&lt;input type=\"checkbox\" name=\"checkbox\" value=\"500\"&gt;\n</code></pre>\n\n<p>In the script:</p>\n\n<pre><code>$q = new CGI;\nmy $checkbox = $q-&gt;param(\"checkbox\");\nforeach ( CHECKED_CHECKBOXES )\n{ do something  }\n</code></pre>\n\n<p>I have no idea how to read out all checked checkboxes. May somebody an idea for me?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5358, "user_id": 3171657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J3bKr.png?s=128&g=1", "display_name": "Turn", "link": "https://stackoverflow.com/users/3171657/turn"}, "edited": false, "score": 4, "creation_date": 1450824181, "post_id": 34425597, "comment_id": 56592833, "body": "You can google &#39;perl special variables&#39; to find answers to things like this."}, {"owner": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "edited": false, "score": 4, "creation_date": 1450824724, "post_id": 34425597, "comment_id": 56593044, "body": "<code>perldoc -v &#39;$%&#39;</code> will work on the command line as well. The stuff related to formats should be avoided; it&#39;s a legacy feature that doesn&#39;t scale well (as its configuration through global variables will attest)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1450825624, "post_id": 34425597, "comment_id": 56593366, "body": "There are lots of special variables like this: <code>$~</code>, <code>$|</code>, <code>$?</code>, <code>$$</code>, the list goes on. See <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\"><code>perldoc perlvar</code></a>."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 3, "creation_date": 1450827164, "post_id": 34425597, "comment_id": 56593897, "body": "For what it&#39;s worth, <code>$a</code> is, in fact, <a href=\"http://perldoc.perl.org/perlvar.html#%24a\" rel=\"nofollow noreferrer\">a little bit special</a>."}], "answers": [{"comments": [{"owner": {"reputation": 2413, "user_id": 4779472, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-918sSljPOLU/AAAAAAAAAAI/AAAAAAAAABA/JrpaeNI9JiM/photo.jpg?sz=128", "display_name": "Rohit Gupta", "link": "https://stackoverflow.com/users/4779472/rohit-gupta"}, "edited": false, "score": 0, "creation_date": 1450832404, "post_id": 34425635, "comment_id": 56595311, "body": "This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. - <a href=\"/review/low-quality-posts/10657423\">From Review</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2413, "user_id": 4779472, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-918sSljPOLU/AAAAAAAAAAI/AAAAAAAAABA/JrpaeNI9JiM/photo.jpg?sz=128", "display_name": "Rohit Gupta", "link": "https://stackoverflow.com/users/4779472/rohit-gupta"}, "edited": false, "score": 2, "creation_date": 1450837738, "post_id": 34425635, "comment_id": 56596502, "body": "@Rohit Gupta, What are you talking about?!"}, {"owner": {"reputation": 2413, "user_id": 4779472, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-918sSljPOLU/AAAAAAAAAAI/AAAAAAAAABA/JrpaeNI9JiM/photo.jpg?sz=128", "display_name": "Rohit Gupta", "link": "https://stackoverflow.com/users/4779472/rohit-gupta"}, "edited": false, "score": 1, "creation_date": 1450862053, "post_id": 34425635, "comment_id": 56605221, "body": "Come on, &quot;something to do with format&quot; is not an answer.  If your rep was lower, this would have been deleted by now."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 2413, "user_id": 4779472, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-918sSljPOLU/AAAAAAAAAAI/AAAAAAAAABA/JrpaeNI9JiM/photo.jpg?sz=128", "display_name": "Rohit Gupta", "link": "https://stackoverflow.com/users/4779472/rohit-gupta"}, "edited": false, "score": 0, "creation_date": 1450884933, "post_id": 34425635, "comment_id": 56618749, "body": "@RohitGupta It&#39;s not a great answer, but the quoted part is, in fact, the answer. A link to <a href=\"http://perldoc.perl.org/perlform.html\" rel=\"nofollow noreferrer\">perlform</a> would have been better than &quot;something to do with <code>format</code>&quot;."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1450896475, "last_edit_date": 1450896475, "creation_date": 1450824016, "answer_id": 34425635, "question_id": 34425597, "link": "https://stackoverflow.com/questions/34425597/what-does-the-description-of-mean/34425635#34425635", "title": "What does the description of $% mean?", "body": "<p><a href=\"http://perldoc.perl.org/perlvar.html#%24%25\" rel=\"nofollow\"><code>$%</code></a> has something to do with <a href=\"http://perldoc.perl.org/functions/format.html\" rel=\"nofollow\"><code>format</code></a>.</p>\n\n<blockquote>\n  <p>The current page number of the currently selected output channel.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 805, "user_id": 4739548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h49dm.png?s=128&g=1", "display_name": "ASCIIThenANSI", "link": "https://stackoverflow.com/users/4739548/asciithenansi"}, "edited": false, "score": 0, "creation_date": 1450824096, "post_id": 34425639, "comment_id": 56592806, "body": "OK, but what does that mean? (I&#39;m still somewhat new to Perl.) What defines a &quot;page&quot;, and what output channel? STDOUT?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 4, "creation_date": 1450824469, "post_id": 34425639, "comment_id": 56592962, "body": "it&#39;s part of the format (<a href=\"http://perldoc.perl.org/perlform.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlform.html</a>) system; a very very old part of perl that isn&#39;t very useful to most people."}, {"owner": {"reputation": 805, "user_id": 4739548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h49dm.png?s=128&g=1", "display_name": "ASCIIThenANSI", "link": "https://stackoverflow.com/users/4739548/asciithenansi"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1451430444, "post_id": 34425639, "comment_id": 56782510, "body": "@ysth Thank you, I had no idea that even existed."}], "tags": [], "owner": {"reputation": 50387, "user_id": 1318694, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JPEVC.png?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1318694/matt"}, "is_accepted": true, "score": 5, "last_activity_date": 1450824657, "last_edit_date": 1450824657, "creation_date": 1450824037, "answer_id": 34425639, "question_id": 34425597, "link": "https://stackoverflow.com/questions/34425597/what-does-the-description-of-mean/34425639#34425639", "title": "What does the description of $% mean?", "body": "<p>This relates to <a href=\"http://perldoc.perl.org/perlform.html\" rel=\"nofollow\">Perls format/report feature</a> which allows you to write a screen format layout that somewhat looks like the end product, as opposed to say concatenating a bunch of strings in code. Useful for old terminal based apps.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">Perldoc says of <code>$%</code> in particular:</a></p>\n\n<blockquote>\n  <p>The current page number of the currently selected output channel.</p>\n</blockquote>\n\n<p>The rest of the page formatting variables will probably give you a hint as to what can be done. </p>\n\n<p><code>$%</code> - <code>$FORMAT_PAGE_NUMBER</code></p>\n\n<p>The current page number of the currently selected output channel.</p>\n\n<p><code>$=</code> - <code>$FORMAT_LINES_PER_PAGE</code></p>\n\n<p>The current page length (printable lines) of the currently selected output channel. Default is 60.</p>\n\n<p><code>$-</code> - <code>$FORMAT_LINES_LEFT</code></p>\n\n<p>The number of lines left on the page of the currently selected output channel.</p>\n\n<p><code>$~</code> - <code>$FORMAT_NAME</code></p>\n\n<p>The name of the current report format for the currently selected output channel. Default is the name of the filehandle.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5710772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/467f6a5b77adc59536c2b39641d89f69?s=128&d=identicon&r=PG&f=1", "display_name": "Vikash J", "link": "https://stackoverflow.com/users/5710772/vikash-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1450872062, "last_edit_date": 1450872062, "creation_date": 1450870730, "answer_id": 34434879, "question_id": 34425597, "link": "https://stackoverflow.com/questions/34425597/what-does-the-description-of-mean/34434879#34434879", "title": "What does the description of $% mean?", "body": "<p><code>$%</code> is related to the Perl formatting for creating reports. <code>$%</code> represents the page number for your report while printing the same.</p>\n\n<p>You can find more details on how to use <a href=\"http://wwwacs.gantep.edu.tr/docs/perl-ebook/ch11.htm\" rel=\"nofollow\">Perl formatting</a>. </p>\n\n<blockquote>\n  <p>By default, $% is initially set to zero and is incremented every time a new page begins. To change the pagination, change the value of $% before (or during) printing </p>\n</blockquote>\n\n<p>An Output channel could be a file or a printer socket where you can write your formatted report.</p>\n"}], "owner": {"reputation": 805, "user_id": 4739548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h49dm.png?s=128&g=1", "display_name": "ASCIIThenANSI", "link": "https://stackoverflow.com/users/4739548/asciithenansi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 34425639, "answer_count": 3, "score": -3, "last_activity_date": 1451335882, "creation_date": 1450823808, "last_edit_date": 1451335882, "question_id": 34425597, "link": "https://stackoverflow.com/questions/34425597/what-does-the-description-of-mean", "title": "What does the description of $% mean?", "body": "<p>In Perl, if I run this code:</p>\n\n<pre><code>print $a\n</code></pre>\n\n<p>it prints nothing, telling me the value of <code>$a</code> (or any other variable that isn't special) is <code>undef</code>.</p>\n\n<p>However, if I run this code:</p>\n\n<pre><code>print $%\n</code></pre>\n\n<p>I instead get this:</p>\n\n<pre><code>0\n</code></pre>\n\n<p>From perlvar in perldoc I see this description for <code>$%</code>:</p>\n\n<blockquote>\n  <p>The current page number of the currently selected output channel.</p>\n</blockquote>\n\n<p>I don't understand. What output channel? One like STDOUT, or something else?</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1450824218, "post_id": 34425535, "comment_id": 56592850, "body": "Why don&#39;t you just give them permission to your <code>perlbrew</code>-installed <code>perl</code>. Then just continue to use <code>#!&#47;home&#47;ikegami&#47;usr&#47;perlbrew&#47;perls&#47;5.22.0t&#47;bin&#47;perl</code> or whatever."}], "answers": [{"comments": [{"owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "edited": false, "score": 0, "creation_date": 1450826089, "post_id": 34425705, "comment_id": 56593532, "body": "no one else can see my local install.  It&#39;s mounted only for me.  even root can&#39;t access it."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1450824298, "creation_date": 1450824298, "answer_id": 34425705, "question_id": 34425535, "link": "https://stackoverflow.com/questions/34425535/can-i-safely-clone-perl-lib-to-another-location-on-a-computer/34425705#34425705", "title": "can I safely clone perl lib to another location on a computer?", "body": "<p>Probably, but why don't you just give them permission to your <code>perlbrew</code>-installed <code>perl</code>. Then just continue to use <code>#!/home/ikegami/usr/perlbrew/perls/5.22.0t/bin/perl</code> or whatever.</p>\n"}, {"tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": false, "score": 0, "last_activity_date": 1450842386, "creation_date": 1450842386, "answer_id": 34428313, "question_id": 34425535, "link": "https://stackoverflow.com/questions/34425535/can-i-safely-clone-perl-lib-to-another-location-on-a-computer/34428313#34428313", "title": "can I safely clone perl lib to another location on a computer?", "body": "<p>If you don't know exactly what you have installed, you could have a look at <a href=\"https://metacpan.org/pod/Dist::Surveyor\" rel=\"nofollow\">Dist::Surveyor</a></p>\n\n<p>If you already know what all of your deps are, you can list them in a <code>cpanfile</code> and then take a snapshot with <a href=\"https://metacpan.org/pod/Carton\" rel=\"nofollow\">Carton</a> and use the generated <code>cpanfile.snapshot</code> to install the correct versions in the new location</p>\n"}, {"tags": [], "owner": {"reputation": 1278, "user_id": 3598703, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a4d8dbd4290d1fab2c1e711b9a9377?s=128&d=identicon&r=PG", "display_name": "Boying", "link": "https://stackoverflow.com/users/3598703/boying"}, "is_accepted": false, "score": 0, "last_activity_date": 1450858610, "creation_date": 1450858610, "answer_id": 34431344, "question_id": 34425535, "link": "https://stackoverflow.com/questions/34425535/can-i-safely-clone-perl-lib-to-another-location-on-a-computer/34431344#34431344", "title": "can I safely clone perl lib to another location on a computer?", "body": "<p>you can clone the whole CPAN to your server for everyone to install\nminicpan -l ~/CPAN -r <a href=\"http://ppm.activestate.com/CPAN/\" rel=\"nofollow\">http://ppm.activestate.com/CPAN/</a> [-f]</p>\n"}], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 34425705, "answer_count": 3, "score": 0, "last_activity_date": 1450858610, "creation_date": 1450823450, "question_id": 34425535, "link": "https://stackoverflow.com/questions/34425535/can-i-safely-clone-perl-lib-to-another-location-on-a-computer", "title": "can I safely clone perl lib to another location on a computer?", "body": "<p>I have my own personal perl instance, using perlbrew and a local cpan instance.  I put in a bit of effort to get cpan to work for my local install.  I've configured code and tested it using this perl.</p>\n\n<p>I now want to ensure anyone on the computer can use the perl code I wrote, meaning ensuring that the cpan modules I used are available to all, even those that can't access my home directory.</p>\n\n<p>Unfortunately, I can't configure and use cpan as root user.  There are a few reasons why this would be difficult, but the biggest is that I am using my personal cert to authenticate myself as part of connecting to the CPAN repo (needed due to the configuration of the system).  I don't want to make my cert available to everyone for connecting to CPAN.</p>\n\n<p>I'm wondering if, instead of fixing the root cpan instance and trying to hunt down all the modules I'm using with cpan, I can simply copy the modules I already have.  I'm running with the same perl version and on the same architecture, so the modules in my personal home directory should be the right ones.</p>\n\n<p>The problem is that perllocal.pod seems to hard code locations relative to where my instal was done, so a simply copy paste is not enough.  Is there another easy way, possible a perl utility, to copy my local CPAN modules and perl lib directory over to the root perl lib directory?</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1450822507, "creation_date": 1450822507, "answer_id": 34425337, "question_id": 34424506, "link": "https://stackoverflow.com/questions/34424506/access-hash-key-of-module-whose-module-is-not-know-till-runtime/34425337#34425337", "title": "Access hash key of module whose module is not know till runtime", "body": "<p>Sort of. What you wrote won't work (<code>$module_name::hash</code> is the scalar variable <code>$hash</code> in the package <code>module_name</code>), but this will:</p>\n\n<pre><code>my $code_ref = ${$module_name . \"::hash\"}{$hash_key};\n</code></pre>\n\n<p>This kind of construction is ... discouraged, and prohibited under <code>use strict 'refs'</code>. I don't know what your use case is, but another approach to consider is to implement some common methods in your dynamically loaded modules.</p>\n\n<pre><code>my $code_ref = $module_name-&gt;getCode($hash_key);\n$code_ref-&gt;(@args);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1450832948, "post_id": 34425775, "comment_id": 56595446, "body": "Wtf? They were different.  Fixed"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1450879605, "post_id": 34425775, "comment_id": 56615669, "body": "could/would <code>eval</code> help us in the TIMTOWTDI spirit?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 1, "creation_date": 1450896422, "post_id": 34425775, "comment_id": 56625292, "body": "That would be very heavy, and could require validation. It&#39;s not the approach I&#39;d recommend, nor the one usually used."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1450832979, "last_edit_date": 1450832979, "creation_date": 1450824772, "answer_id": 34425775, "question_id": 34424506, "link": "https://stackoverflow.com/questions/34424506/access-hash-key-of-module-whose-module-is-not-know-till-runtime/34425775#34425775", "title": "Access hash key of module whose module is not know till runtime", "body": "<pre><code>${ $module_name . \"::hash\" }{$hash_key}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>( $module_name . \"::hash\" )-&gt;{$hash_key}\n</code></pre>\n\n<p>Of course, you'll have to use <code>no strict qw( refs );</code> in the scope in which you do that.</p>\n\n<pre><code>my $hash = do { no strict qw( refs ); \\%{ $module_name . \"::hash\" } };\n$hash-&gt;{$hash_key}\n</code></pre>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 34425337, "answer_count": 2, "score": 3, "last_activity_date": 1450832979, "creation_date": 1450818769, "last_edit_date": 1495542683, "question_id": 34424506, "link": "https://stackoverflow.com/questions/34424506/access-hash-key-of-module-whose-module-is-not-know-till-runtime", "title": "Access hash key of module whose module is not know till runtime", "body": "<p>So I <a href=\"https://stackoverflow.com/a/13179359/3299282\">figured out</a> how to load a module whose <code>$module_name</code> is not known till runtime.</p>\n\n<p>Now, I wish to access a hash key, whose value happens to be a CODEREF.</p>\n\n<pre><code>my $hash_key = 'SOME_KEY';\nmy $code_ref = ${$module_name::hash}{$hash_key};\n</code></pre>\n\n<p>Then say:</p>\n\n<pre><code>$code_ref-&gt;(@args);\n</code></pre>\n\n<p>The <code>${$module_name::hash}{$hash_key}</code> is odd to me and I wonder if it works as intended?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1450807627, "post_id": 34421821, "comment_id": 56585209, "body": "See also <a href=\"http://stackoverflow.com/questions/12115772/difference-between-two-forms-of-perl-filename-wildcard-command\">Difference between two forms of Perl filename wildcard command</a>"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 17, "creation_date": 1450807712, "post_id": 34421821, "comment_id": 56585252, "body": "Aside: Using <code>system(&quot;rm ...&quot;)</code> to delete files is <b>extremely</b> bad form, and incurs security risks (think about a file with <code>$(rm -rf ~)</code> in its name). Use <code>unlink()</code> instead."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1450808673, "post_id": 34421821, "comment_id": 56585730, "body": "Re: <code>&quot;perhaps the search engines don&#39;t like the special characters&quot;</code>.. In google you can quote special characters for exampe <a href=\"https://www.google.no/?gws_rd=ssl#q=perl+%22-x%22\" rel=\"nofollow noreferrer\">this google search</a> does not find the file test operator unless you include the surronding quotes"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 4, "creation_date": 1450810425, "post_id": 34421821, "comment_id": 56586656, "body": "@H&#229;konH&#230;gland Google discards most special characters, even if quoted (searching for <code>perl X</code> and <code>perl &quot;-X&quot;</code> gives the same results for me). <a href=\"https://www.google.com/search?q=perl+%22%3C%2A%3E%22&amp;ie=utf-8&amp;oe=utf-8\" rel=\"nofollow noreferrer\">Search for the topic of this question</a>, for example, or even <code>&lt;&gt;</code>, which appears countless times in perlop. <a href=\"http://symbolhound.com/?q=%3C%2A%3E+perl\" rel=\"nofollow noreferrer\">symbolhound</a> is a good alternative (although perlop, perlvar, etc. are even better)."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1450810758, "post_id": 34421821, "comment_id": 56586833, "body": "@ThisSuitIsBlackNot wow I was not aware of that.. symbolhound seems to work great though"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1450825199, "post_id": 34421901, "comment_id": 56593225, "body": "And in the OP&#39;s code specifically, it returns the names of all (non-dot) files in the current working directory and stores them in <code>@usbHddFileList</code>."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 9, "last_activity_date": 1450807472, "creation_date": 1450807472, "answer_id": 34421901, "question_id": 34421821, "link": "https://stackoverflow.com/questions/34421821/what-does-mean-in-perl/34421901#34421901", "title": "What does &lt;*&gt; mean in Perl?", "body": "<p>It's a <a href=\"http://perldoc.perl.org/functions/glob.html\">glob</a>. According to <a href=\"http://perldoc.perl.org/perlop.html\">perlop</a>:</p>\n\n<blockquote>\n  <p>If what's within the angle brackets is neither a filehandle nor a\n  simple scalar variable containing a filehandle name, typeglob, or\n  typeglob reference, it is interpreted as a filename pattern to be\n  globbed, and either a list of filenames or the next filename in the\n  list is returned, depending on context. This distinction is determined\n  on syntactic grounds alone.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1450825217, "creation_date": 1450825217, "answer_id": 34425854, "question_id": 34421821, "link": "https://stackoverflow.com/questions/34421821/what-does-mean-in-perl/34425854#34425854", "title": "What does &lt;*&gt; mean in Perl?", "body": "<ul>\n<li><code>&lt;&gt;</code> means <code>readline(ARGV)</code></li>\n<li><code>&lt;IDENTIFIER&gt;</code> means <code>readline(IDENTIFIER)</code></li>\n<li><code>&lt;$IDENTIFIER&gt;</code> means <code>readline($IDENTIFIER)</code></li>\n<li><code>&lt;...&gt;</code> (anything else) means <code>glob(qq&lt;...&gt;)</code></li>\n</ul>\n\n<p>So <code>&lt;*&gt;</code> means <code>glob(qq&lt;*&gt;)</code> or <code>glob('*')</code>.</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/glob.html\"><code>glob</code></a> is used to generate a number of strings or file names from a pattern.</p>\n\n<p>In list context, <code>&lt;*&gt;</code> aka <code>glob('*')</code> returns all the files in the current work directory other than those whose name starts with <code>.</code>.</p>\n"}], "owner": {"reputation": 2209, "user_id": 883572, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2df953841a456c642ce0d2a66b8cb919?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/883572/danny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1268, "favorite_count": 1, "accepted_answer_id": 34425854, "answer_count": 2, "score": 7, "last_activity_date": 1450825217, "creation_date": 1450807128, "last_edit_date": 1450810851, "question_id": 34421821, "link": "https://stackoverflow.com/questions/34421821/what-does-mean-in-perl", "title": "What does &lt;*&gt; mean in Perl?", "body": "<p>In the code below, what exactly does the <code>&lt;*&gt;</code> command do?</p>\n\n<pre><code>my @usbHddFileList = &lt;*&gt;;\nforeach $usbHddFile (@usbHddFileList)\n{\n    system(\"rm -f $curMountDir/$usbHddFile &lt; /dev/null &gt; /dev/null 2&gt;&amp;1\");\n}\n</code></pre>\n"}, {"tags": ["perl", "file", "stdin"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 3, "creation_date": 1450807992, "post_id": 34421644, "comment_id": 56585384, "body": "Presuming that you know how to assign to variables and read STDIN, I imagine you&#39;re having some other unspecified problem.  Are you trying to read to EOF (list context)? Are you reading from a pipe that does not close?  Are you reading from a Terminal?"}, {"owner": {"reputation": 2289, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 0, "creation_date": 1540917293, "post_id": 34421644, "comment_id": 93036249, "body": "Related: <a href=\"https://stackoverflow.com/questions/953707/in-perl-how-can-i-read-an-entire-file-into-a-string\" title=\"in perl how can i read an entire file into a string\">stackoverflow.com/questions/953707/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "is_accepted": true, "score": 5, "last_activity_date": 1450841362, "last_edit_date": 1450841362, "creation_date": 1450806588, "answer_id": 34421675, "question_id": 34421644, "link": "https://stackoverflow.com/questions/34421644/how-to-read-stdin-into-a-variable-in-perl/34421675#34421675", "title": "How to read STDIN into a variable in perl", "body": "<p>This is probably not the most definitive way:</p>\n\n<pre><code>my $stdin = join(\"\", &lt;STDIN&gt;);\n</code></pre>\n\n<p>Or you can enable slurp mode and get the whole file in one go:</p>\n\n<pre><code>local $/;\nmy $stdin = &lt;STDIN&gt;;\n</code></pre>\n\n<p>[but see <code>man perlvar</code> for caveats about making global changes to special variables]</p>\n\n<p>If instead of a scalar you want an array with one element per line:</p>\n\n<pre><code>my @stdin = &lt;STDIN&gt;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1451040057, "creation_date": 1451040057, "answer_id": 34462116, "question_id": 34421644, "link": "https://stackoverflow.com/questions/34421644/how-to-read-stdin-into-a-variable-in-perl/34462116#34462116", "title": "How to read STDIN into a variable in perl", "body": "<pre><code>my $var = do { local $/; &lt;&gt; };\n</code></pre>\n\n<p>This doesn't quite read Stdin, it also allows files to specify on the command line for processing (like sed or grep). </p>\n\n<p>This does include line feeds. </p>\n"}], "owner": {"reputation": 51430, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4926, "favorite_count": 0, "accepted_answer_id": 34421675, "answer_count": 2, "score": 0, "last_activity_date": 1593631488, "creation_date": 1450806457, "last_edit_date": 1593631488, "question_id": 34421644, "link": "https://stackoverflow.com/questions/34421644/how-to-read-stdin-into-a-variable-in-perl", "title": "How to read STDIN into a variable in perl", "body": "<p>I want to read from STDIN and have everything in a variable, how can I do this?</p>\n<p>I'm know know almost nothing about Perl, and needed to create CGI script to read data from POST request, and was not able to find anything how to do that.</p>\n"}, {"tags": ["perl", "syntax"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1450804881, "post_id": 34420975, "comment_id": 56583767, "body": "turn on <code>use strict;</code> and <code>use warnings;</code>. A bareword is one without anything around it. The diamond operator means it isn&#39;t a bare word any more."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1450806591, "post_id": 34420975, "comment_id": 56584717, "body": "See section on I/O Operators in <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1450812102, "post_id": 34420975, "comment_id": 56587531, "body": "You have a strange idea of what a <i>bareword</i> is. The term refers to an unquoted string containing only alphanumeric characters or underscore that doesn&#39;t mean anything else in the Perl grammar. So, by definition, <code>$bare_word</code> <i>isn&#39;t</i> one, and neither is <code>$log_directory&#47;*</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "is_accepted": false, "score": 0, "last_activity_date": 1450806268, "creation_date": 1450806268, "answer_id": 34421601, "question_id": 34420975, "link": "https://stackoverflow.com/questions/34420975/confusion-on-syntax-of-of-dimond-operator-in-perl-parsing-and-barewords/34421601#34421601", "title": "Confusion on syntax of of dimond operator in perl parsing and barewords", "body": "<p>bareword can only be inside the bracket &lt;>, syntax inside is shell syntax, more a perl one</p>\n\n<pre><code># wrong -     \n$bare_word = $month_directory_command/*;\n# right - star is allowed because it is inside the quote single or double\n$bare_word = \"$month_directory_command/*\";\n\n# star is allowed simply because it is inside the bracket\n@month_dirs = &lt;$month_directory_command/*&gt;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 4, "last_activity_date": 1450808494, "creation_date": 1450808494, "answer_id": 34422130, "question_id": 34420975, "link": "https://stackoverflow.com/questions/34420975/confusion-on-syntax-of-of-dimond-operator-in-perl-parsing-and-barewords/34422130#34422130", "title": "Confusion on syntax of of dimond operator in perl parsing and barewords", "body": "<p>One of the main reasons to avoid the diamond operator like this is that it has two totally-unrelated meanings. The usual form you find diamond in is</p>\n\n<pre><code>$data = &lt;$fh&gt;;\n</code></pre>\n\n<p>This acts like a read function; the full (non-symbol) name for this function is <code>readline</code>. This line of source is equivalent to</p>\n\n<pre><code>$data = readline( $fh );\n</code></pre>\n\n<p>However, your original form given was</p>\n\n<pre><code>@month_dirs = &lt;$log_directory/*&gt;;\n</code></pre>\n\n<p>which is an entirely different form. This acts like a shell glob, returning a list of filename matches by scanning the filesystem. This form is better written out using the <code>glob</code> function:</p>\n\n<pre><code>@month_dirs = glob( \"$log_directory/*\" );\n</code></pre>\n\n<p>Note also that this being a normal function just takes a normal string argument. In this manner, you can use it with any of your provided examples, such as:</p>\n\n<pre><code>@month_dirs = glob( $conf-&gt;log_directory().\"/*\" );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 6, "last_activity_date": 1450814835, "last_edit_date": 1592644375, "creation_date": 1450809431, "answer_id": 34422372, "question_id": 34420975, "link": "https://stackoverflow.com/questions/34420975/confusion-on-syntax-of-of-dimond-operator-in-perl-parsing-and-barewords/34422372#34422372", "title": "Confusion on syntax of of dimond operator in perl parsing and barewords", "body": "<p>You're mistaken that the diamond operator <code>&lt;&gt;</code> only works with barewords:</p>\n<pre><code>$ perl -E'say for &lt;&quot;/*&quot;&gt;'\n/bin\n/boot\n/dev\n...\n</code></pre>\n<p>(In fact, a bareword is just an identifier that doesn't have a sigil and is prohibited by <code>use strict 'subs';</code>, so none of your examples really qualify.)</p>\n<hr />\n<p>This:</p>\n<pre><code>@month_dirs = &lt;$log_directory/*&gt;;\n</code></pre>\n<p>works because a level of double-quote interpolation is done inside <code>&lt;&gt;</code>, and scalar variables like <code>$log_directory</code> are interpolated.</p>\n<p>It's equivalent to:</p>\n<pre><code>@month_dirs = glob(&quot;$log_directory/*&quot;);\n</code></pre>\n<hr />\n<p>This:</p>\n<pre><code>@month_dirs = &lt;$conf-&gt;log_directory().&quot;/*&quot;&gt;\n</code></pre>\n<p>fails because the <code>&gt;</code> in <code>$conf-&gt;log_directory()</code> closes the diamond operator prematurely, confusing the parser.</p>\n<p>It's parsed as:</p>\n<pre><code>&lt;$conf-&gt;\n</code></pre>\n<p>(a call to <code>glob</code>) followed by</p>\n<pre><code>log_directory().&quot;/*&quot;&gt;\n</code></pre>\n<p>which is a syntax error.</p>\n<hr />\n<p>This:</p>\n<pre><code>$month_directory_command = $conf-&gt;log_directory().&quot;/*&quot;;\n@month_dirs = &lt;$month_directory_command&gt;;\n</code></pre>\n<p>fails because</p>\n<pre><code>&lt;$month_directory_command&gt;\n</code></pre>\n<p>is equivalent to</p>\n<pre><code>readline($month_directory_command)\n</code></pre>\n<p>and not to</p>\n<pre><code>glob(&quot;$month_directory_command&quot;)\n</code></pre>\n<p>From <a href=\"http://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow noreferrer\"><code>perldoc perlop</code></a>:</p>\n<blockquote>\n<p>If what the angle brackets contain is a simple scalar variable (for example, <code>$foo</code>), then that variable contains the name of the filehandle to input from, or its typeglob, or a reference to the same.</p>\n<p>[...]</p>\n<p>If what's within the angle brackets is neither a filehandle nor a simple scalar variable containing a filehandle name, typeglob, or typeglob reference, it is interpreted as a filename pattern to be globbed, and either a list of filenames or the next filename in the list is returned, depending on context. This distinction is determined on syntactic grounds alone. That means <code>&lt;$x&gt;</code> is always a <code>readline()</code> from an indirect handle, but <code>&lt;$hash{key}&gt;</code> is always a <code>glob()</code>.</p>\n</blockquote>\n<p>So you're trying to read from a filehandle (<code>$month_directory_command</code>) that hasn't been opened yet.</p>\n<p>Turning on warnings with <code>use warnings 'all';</code> would have alerted you to this:</p>\n<pre><code>readline() on unopened filehandle at foo line 6.\n</code></pre>\n<hr />\n<p>This:</p>\n<pre><code>$bare_word = $conf-&gt;log_directory()/*;\n</code></pre>\n<p>fails because you're trying to concatenate the result of a method call with a non-quoted string; to concatenate strings, you have to interpolate them into a double quoted string, or use the concatenation operator.</p>\n<p>You could do:</p>\n<pre><code>$bare_word = $conf-&gt;log_directory() . &quot;/*&quot;;\n@month_dirs = &lt;&quot;$bare_word&quot;&gt;;\n</code></pre>\n<p>(although <code>$bare_word</code> isn't a bareword at all, it's a scalar variable.)</p>\n<p>Note that:</p>\n<pre><code>@month_dirs = &lt;$bare_word&gt;;\n</code></pre>\n<p>(without quotes) would be interpreted as <code>readline</code>, not <code>glob</code>, as explained in <code>perlop</code> above.</p>\n<p>In general, though, it would probably be less confusing to use the <code>glob</code> operator directly:</p>\n<pre><code>@month_dirs = glob( $conf-&gt;log_directory() . &quot;/*&quot; );\n</code></pre>\n"}], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 34422372, "answer_count": 3, "score": 4, "last_activity_date": 1450814835, "creation_date": 1450803922, "last_edit_date": 1450813891, "question_id": 34420975, "link": "https://stackoverflow.com/questions/34420975/confusion-on-syntax-of-of-dimond-operator-in-perl-parsing-and-barewords", "title": "Confusion on syntax of of dimond operator in perl parsing and barewords", "body": "<p>I'm very new to perl, so I'm sure my confusion here is simply due to not understanding perl syntax and how it handles bare words.  I'm failing to find good answers to my question online though.</p>\n\n<p>I had code I'm refactoring, it use to look like this</p>\n\n<pre><code>@month_dirs = &lt;$log_directory/*&gt;;\n</code></pre>\n\n<p>I changed $log_directory to be loaded with a config file (AppConfig to be exact).  Now instead of exporting $log_directory we output $conf which is an AppConfig object.  To access loaded variables you usually make a method call to the variable name so I tried ...</p>\n\n<pre><code>@month_dirs = &lt;$conf-&gt;log_directory().\"/*\"&gt;\n</code></pre>\n\n<p>This fails, because I can't make a method call $conf->log_directory in a location where a barword is expected.  Just playing around I tried this instead</p>\n\n<pre><code> $month_directory_command = $conf-&gt;log_directory().\"/*\";\n @month_dirs = &lt;$month_directory_command&gt;;\n</code></pre>\n\n<p>This still fails, silently, without any indicator that this is a problem.  I tried using a string directly in the diamond but it fails, apparently only barewords, not strings, are accepted by the diamond  I'm surprised by that since I'm not allowed to use a string at all, I thought most places Barewords could be used a string could instead, is this simply because most code implements separate logic to accept barewords vs strings, but not required to be implemented this way?</p>\n\n<p>I can make this work by emulating exactly the original syntax</p>\n\n<pre><code> $month_directory_command = $conf-&gt;log_directory();\n @month_dirs = &lt;$month_directory_command/*&gt;;\n</code></pre>\n\n<p>However, this feels ugly to me.  I'm also confused why I can do that, but I can't create a bare word with:</p>\n\n<pre><code> $bare_word = $conf-&gt;log_directory()/*\n</code></pre>\n\n<p>or</p>\n\n<pre><code> $month_directory_command = $conf-&gt;log_directory();\n $bare_word = $month_directory_command/*;\n @month_dirs = &lt;$bare_word&gt;;     \n</code></pre>\n\n<p>Why do some variables work for bare words but not others?  why can I use a scaler variable but not if it's returned from a method call?</p>\n\n<p>I tried looking up perl syntax on barewords but didn't have much luck describing situations where they are not written directly, but are composed of variables.</p>\n\n<p>I'm hoping someone can help me better understand the bareword syntax here.  What defines when I can use a variable as part of a bare word and if I can save it as a variable?</p>\n\n<p>I'd like to figure out a cleaner syntax for using the barword in my diamond operator if one can be suggested, but more then that I'd like to understand the syntax so I know how to work with barewords in the future.  I promise I did try hunting this down ahead of time, but without much luck.</p>\n\n<p>Incidentally, it seems the suggestion is to not use barewords in perl anyways?  Is there someway I should be avoid barewords in the diamond operator?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1450803779, "post_id": 34420833, "comment_id": 56583190, "body": "I think I will have to read through the answer a couple more times atleast to understand it. I am really bad at understanding technical terms, but what I did understand is that I should look into docker :) Thanks!!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1450803393, "creation_date": 1450803393, "answer_id": 34420833, "question_id": 34420665, "link": "https://stackoverflow.com/questions/34420665/perl-module-installation-structure-and-version-control/34420833#34420833", "title": "Perl module installation structure and version control", "body": "<p>Maintaining concurrent versions of CPAN modules is asking for grief. I would suggest instead - don't, use <code>docker</code> for anything that's got any sort of deployment. That way you can have local installation of stuff + deps in an isolated container. </p>\n\n<p>It's a bit like early days yet on <code>docker</code>, but they're a significant amount of enthusiasm and support for it from some very big names.</p>\n\n<p>Personally I'm just using it to bundle up \"mojolicious\" perl webapps behind a reverse proxy, and maintain their dependencies as a self contained installation (which I can run/test/deploy autonomously)</p>\n"}], "owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1450803393, "creation_date": 1450802849, "last_edit_date": 1495541747, "question_id": 34420665, "link": "https://stackoverflow.com/questions/34420665/perl-module-installation-structure-and-version-control", "title": "Perl module installation structure and version control", "body": "<p>I am just starting to organize some stuff on the cluster and would like some advice on it. I posted a recent question <a href=\"https://stackoverflow.com/questions/34406049/how-to-organize-perl-modules\">How to organize Perl modules</a> and got some good answers about what I was doing incorrectly. I was trying to install each perl module independently by setting the <code>PREFIX</code> for <code>Makefile.PL</code> each time to <code>/path/to/lib/module-name/module-version/installation happens here</code>. </p>\n\n<p>For e.g. for a module JSON, I installed it like this:</p>\n\n<pre><code>perl Makefile.PL --PREFIX=/path/to/lib/perl5/5.22.1/JSON/2.53\nmake\nmake test\nmake install\n</code></pre>\n\n<p>For module Data-UUID, I did it like this:</p>\n\n<pre><code>perl Makefile.PL --PREFIX=/path/to/lib/perl5/5.22.1/Data-UUID/1.221\nmake\nmake test\nmake install\n</code></pre>\n\n<p>So it made a directory JSON/2.53 in /path/to/lib/perl5/5.22.1 and that's where it installed the package. But because I change the PREFIX for each individual module, I have to set the <code>PATH</code> in the bash_profile accordingly, which is kind of messy.</p>\n\n<p>My main goal to do this was for version control. In a hypothetical scenario where different versions work for two of your teammates, say JSON/2.52 works for X and JSON/2.53 works for Y, how do you control for versions without having to ask them to install their versions locally? In another scenario, what if a version worked for you 3 months back and the updated version doesn't work for you anymore? How do you keep track of versions if you install everything in one directory? </p>\n\n<p>I also have more questions on the module local::lib but I will post it as another question.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 2, "creation_date": 1450802627, "post_id": 34420523, "comment_id": 56582502, "body": "Related: <a href=\"http://stackoverflow.com/questions/13645034/is-there-an-inf-constant-in-perl\" title=\"is there an inf constant in perl\">stackoverflow.com/questions/13645034/&hellip;</a>."}, {"owner": {"reputation": 8433, "user_id": 1031981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q1s5g.jpg?s=128&g=1", "display_name": "Eugene Soldatov", "link": "https://stackoverflow.com/users/1031981/eugene-soldatov"}, "reply_to_user": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 0, "creation_date": 1450802888, "post_id": 34420523, "comment_id": 56582650, "body": "@ruakh, I know what it is <code>inf</code> in perl, my question is about how to get it from division by zero."}, {"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 2, "creation_date": 1450810962, "post_id": 34420523, "comment_id": 56586943, "body": "All I wrote is that that question is related. People finding your question are likely to be interested in that question as well. (Remember, your question is not just for you.)"}], "answers": [{"comments": [{"owner": {"reputation": 8433, "user_id": 1031981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q1s5g.jpg?s=128&g=1", "display_name": "Eugene Soldatov", "link": "https://stackoverflow.com/users/1031981/eugene-soldatov"}, "edited": false, "score": 0, "creation_date": 1450802784, "post_id": 34420579, "comment_id": 56582588, "body": "But this way I can&#39;t distinguish + and - infinity. As for your note about infinity - it&#39;s difficult question: <a href=\"https://www.quora.com/Is-1-0-infinity\" rel=\"nofollow noreferrer\">quora.com/Is-1-0-infinity</a>. I need special numeric value <code>inf</code> in my case."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1450802988, "last_edit_date": 1450802988, "creation_date": 1450802607, "answer_id": 34420579, "question_id": 34420523, "link": "https://stackoverflow.com/questions/34420523/perl-division-by-zero-need-infinity/34420579#34420579", "title": "Perl division by zero - need infinity", "body": "<p>Out of the box? No, because it's the wrong answer. Division by zero is <em>undefined</em> not infinite. </p>\n\n<p>You could use something like <code>//</code> to test if the result of your <code>eval</code> is undefined:</p>\n\n<pre><code>my $result = eval { 1/0 } // 'inf';\nprint $result;\n</code></pre>\n\n<p>And set a default that way. (Although in the above, <code>'inf'</code> is the string; a numeric value might be more useful). There are a selection of maths libraries that give you <code>inf</code> type constants, like <code>bignum</code> <code>bigrat</code> <code>bigint</code>. Portability may be an issue though. </p>\n"}, {"comments": [{"owner": {"reputation": 8433, "user_id": 1031981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q1s5g.jpg?s=128&g=1", "display_name": "Eugene Soldatov", "link": "https://stackoverflow.com/users/1031981/eugene-soldatov"}, "edited": false, "score": 0, "creation_date": 1450803278, "post_id": 34420672, "comment_id": 56582888, "body": "But <code>-1&#47;0</code> returns <code>-inf</code>, and it&#39;s seems enough for me) Thanks!"}], "tags": [], "owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "is_accepted": true, "score": 2, "last_activity_date": 1450802865, "creation_date": 1450802865, "answer_id": 34420672, "question_id": 34420523, "link": "https://stackoverflow.com/questions/34420523/perl-division-by-zero-need-infinity/34420672#34420672", "title": "Perl division by zero - need infinity", "body": "<p>If you <code>use bignum</code>, you'll get <code>inf</code> out of <code>1/0</code>:</p>\n\n<pre><code>use bignum;\nprint 1 / 0; # produces \"inf\"\n</code></pre>\n\n<p><code>1/-0</code> is still <code>inf</code> (I guess it's because <code>-0 == 0</code>).</p>\n\n<p>See <a href=\"http://perldoc.perl.org/bignum.html\" rel=\"nofollow\">http://perldoc.perl.org/bignum.html</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 8433, "user_id": 1031981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q1s5g.jpg?s=128&g=1", "display_name": "Eugene Soldatov", "link": "https://stackoverflow.com/users/1031981/eugene-soldatov"}, "edited": false, "score": 0, "creation_date": 1450861734, "post_id": 34423942, "comment_id": 56605036, "body": "Please, could you provide example how can I use it for division?"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1450895947, "last_edit_date": 1450895947, "creation_date": 1450816125, "answer_id": 34423942, "question_id": 34420523, "link": "https://stackoverflow.com/questions/34420523/perl-division-by-zero-need-infinity/34423942#34423942", "title": "Perl division by zero - need infinity", "body": "<p>What you really need is <a href=\"https://metacpan.org/pod/Data::Float\" rel=\"nofollow\">Data::Float</a>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Carp qw( croak );\nuse Data::Float qw( have_infinite pos_infinity neg_infinity float_is_infinite);\n\nhave_infinite() or croak \"No support for infinite float values\";\n\nmy $v = -1;\nmy $x = 1;\nmy $y = 0;\n\nmy $z = eval { $x/$y };\nunless (defined $z) {\n    $z = ($x &gt;= 0) ? pos_infinity : neg_infinity;\n}\n\nprint \"$z\\n\";\n\n$z = eval { $v/$y };\nunless (defined $z) {\n    $z = ($v &gt;= 0) ? pos_infinity : neg_infinity;\n}\n\nprint \"$z\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre>$ ./inf.pl\nInf\n-Inf</pre>\n\n<p>Of course, if you are using 5.10 or later, you can do:</p>\n\n<pre><code>my $z = eval { $x/$y };\n$z //= ($x &gt;= 0) ? pos_infinity : neg_infinity;\n\nprint \"$z\\n\";\n\n$z = eval { $v/$y };\n$z //= ($v &gt;= 0) ? pos_infinity : neg_infinity;\n\nprint \"$z\\n\";\n</code></pre>\n"}], "owner": {"reputation": 8433, "user_id": 1031981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q1s5g.jpg?s=128&g=1", "display_name": "Eugene Soldatov", "link": "https://stackoverflow.com/users/1031981/eugene-soldatov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 34420672, "answer_count": 3, "score": 1, "last_activity_date": 1450895947, "creation_date": 1450802431, "question_id": 34420523, "link": "https://stackoverflow.com/questions/34420523/perl-division-by-zero-need-infinity", "title": "Perl division by zero - need infinity", "body": "<p>Are there ways to get <code>inf</code> or <code>-inf</code> from <code>eval {1/0}</code>, <code>eval {1/-0}</code> instead of <code>Illegal division by zero</code> exception? </p>\n"}, {"tags": ["perl", "hash", "iteration", "replicate"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1450784195, "post_id": 34414640, "comment_id": 56570861, "body": "<code>the order needs not to be predictable by a human being</code> how about the same order of keys as they were inserted into the hash?"}, {"owner": {"reputation": 631, "user_id": 2439905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AyLDS.png?s=128&g=1", "display_name": "jk - Reinstate Monica", "link": "https://stackoverflow.com/users/2439905/jk-reinstate-monica"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1450786922, "post_id": 34414640, "comment_id": 56572492, "body": "@\u0421\u0443\u0445\u043e\u043927: No problem, this order is as good as any <b>fixed</b> order."}], "answers": [{"comments": [{"owner": {"reputation": 4830, "user_id": 1160106, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/forvP.jpg?s=128&g=1", "display_name": "Samiron", "link": "https://stackoverflow.com/users/1160106/samiron"}, "edited": false, "score": 0, "creation_date": 1450783244, "post_id": 34414667, "comment_id": 56570262, "body": ":) you just beat me for few seconds :) <code>sort</code> is probably the only way to achieve this."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 4830, "user_id": 1160106, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/forvP.jpg?s=128&g=1", "display_name": "Samiron", "link": "https://stackoverflow.com/users/1160106/samiron"}, "edited": false, "score": 1, "creation_date": 1450783390, "post_id": 34414667, "comment_id": 56570376, "body": "It&#39;s the easy answer, but there are others - like using <code>Hash::Ordered</code> which ... basically builds in a <code>sort</code>."}, {"owner": {"reputation": 631, "user_id": 2439905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AyLDS.png?s=128&g=1", "display_name": "jk - Reinstate Monica", "link": "https://stackoverflow.com/users/2439905/jk-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1450787762, "post_id": 34414667, "comment_id": 56572998, "body": "This is a good answer, but are there really no alternatives, like setting some initialisations to make the hash reproducible?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1450787887, "post_id": 34414667, "comment_id": 56573069, "body": "No. A hash is an unordered set of key-value pairs. This is because of how it&#39;s arranged in memory (for efficient random access). You can work with things that aren&#39;t hashes if you want, but you <i>cannot</i> make magically make an unordered data structure ordered again."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450788881, "post_id": 34414667, "comment_id": 56573687, "body": "With some digging - there is a debug mode that will let you do this to a degree. This would be a terrible idea to use in production code. Setting an environment var PERL_HASH_SEED=0"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1450797228, "post_id": 34414667, "comment_id": 56578936, "body": "<a href=\"https://metacpan.org/pod/Tie::Hash::Indexed\" rel=\"nofollow noreferrer\">Tie::Hash::Indexed</a> offers the same functionality as Tie::IxHash but is significantly faster."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1450788769, "last_edit_date": 1450788769, "creation_date": 1450783085, "answer_id": 34414667, "question_id": 34414640, "link": "https://stackoverflow.com/questions/34414640/replicable-iteration-over-a-hash-in-perl/34414667#34414667", "title": "Replicable iteration over a hash in perl", "body": "<p><a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow\"><code>sort</code></a> them first:    </p>\n\n<pre><code>foreach my $key (  sort keys %hash ) { \n\n}\n</code></pre>\n\n<p>Note: Default sort is alphabetical, not numeric. But <code>sort</code> will take a custom function to allow you to sort in almost any order you care to name. </p>\n\n<p>Alternatively, capture the ordering in an array and use <em>that</em> to extract the output order.</p>\n\n<pre><code>my %content_for;\nmy @ordered_id; \n\nwhile ( &lt;$input_filehandle&gt; ) { \n    my ( $id, $content ) = split; \n    push ( @ordered_id, $id ); \n    $content_for{$id} = $content; \n}\n\nprint join ( \"\\n\", @content_for{@ordered_id} ),\"\\n\"\n</code></pre>\n\n<p>; </p>\n\n<p>Or something like an ordered hash mechanism like <code>Hash::Ordered</code> or <code>Tie::IxHash</code>. </p>\n\n<blockquote>\n  <p>I formulated the question in terms of iteration, but maybe it is not the iteration over the hash but the hash building process that is non-deterministic. Can I set some inititialisation to build the hash in a deterministic and replicable way?</p>\n</blockquote>\n\n<p>No. Hashes don't work like that. See - <a href=\"http://perldoc.perl.org/perlsec.html#Algorithmic-Complexity-Attacks\" rel=\"nofollow\"><code>perlsec</code></a> for an explanation why. It got <em>more</em> random with newer versions of perl, but it was always an unordered data structure. </p>\n\n<p>You can perhaps mess around with (as mentioned in the article) <a href=\"http://perldoc.perl.org/perlrun.html#PERL_HASH_SEED\" rel=\"nofollow\">PERL_HASH_SEED</a> and <a href=\"http://perldoc.perl.org/perlrun.html#PERL_PERTURB_KEYS\" rel=\"nofollow\">PERL_PERTURB_KEYS</a> but this would definitely not be a good practice.</p>\n\n<pre><code>PERL_HASH_SEED=0 ./somescript.pl \n</code></pre>\n\n<p>But you should bear in mind that hash ordering is still not guaranteed - the sequencing of keys may still change. It'll be a bit more consistent than before though. This is definitely not a good thing to use in production, or rely on for anything more than debugging. </p>\n\n<blockquote>\n  <p>PLEASE NOTE: The hash seed is sensitive information. Hashes are randomized to protect against local and remote attacks against Perl code. By manually setting a seed, this protection may be partially or completely lost.</p>\n</blockquote>\n"}], "owner": {"reputation": 631, "user_id": 2439905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AyLDS.png?s=128&g=1", "display_name": "jk - Reinstate Monica", "link": "https://stackoverflow.com/users/2439905/jk-reinstate-monica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 34414667, "answer_count": 1, "score": 0, "last_activity_date": 1450788769, "creation_date": 1450783003, "last_edit_date": 1495539883, "question_id": 34414640, "link": "https://stackoverflow.com/questions/34414640/replicable-iteration-over-a-hash-in-perl", "title": "Replicable iteration over a hash in perl", "body": "<p>It is well known how to iterate over a hash in perl (see, e.g., <a href=\"https://stackoverflow.com/questions/3033/whats-the-safest-way-to-iterate-through-the-keys-of-a-perl-hash\">What&#39;s the safest way to iterate through the keys of a Perl hash?</a>). However, the order of the keys and values is undetermined and in fact different for each run of the perl script.</p>\n\n<p>Is there a way to ensure that every run of the same perl script on the same input data results in the same iteration order? I only care for replicability in this sense---the order needs not to be predictable by a human being.</p>\n\n<p>EDIT: I formulated the question in terms of iteration, but maybe it is not the iteration over the hash but the hash building process that is non-deterministic. Can I set some inititialisation to build the hash in a deterministic and replicable way?</p>\n"}, {"tags": ["regex", "perl", "diff"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450781952, "post_id": 34414291, "comment_id": 56569511, "body": "This looks like XML. If it is, then it&#39;s quite easy if you use a parser. But will be easier to answer if you can give us some valid/complete XML and an expected output."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450782230, "post_id": 34414291, "comment_id": 56569685, "body": "What&#39;s the desired result here? Because you&#39;ve lost data by deleting line numbers. Putting them back is doable, but you&#39;d be <i>far</i> better off <i>not</i> doing that and instead comparing just based on message."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1450782234, "post_id": 34414291, "comment_id": 56569687, "body": "Are the messages actually unique in each of the files?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450782274, "post_id": 34414291, "comment_id": 56569713, "body": "Don&#39;t know how they can be, because if they were, <code>diff</code> would be pretty pointless."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1450782506, "post_id": 34414291, "comment_id": 56569837, "body": "Looking at it - I think we have an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> - it <i>looks</i> like we&#39;re trying to compare &#39;message&#39; fields in two files."}, {"owner": {"reputation": 59, "user_id": 2558602, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3dec4bf4a1a85fc6c89881e6a578bec?s=128&d=identicon&r=PG", "display_name": "tipssch", "link": "https://stackoverflow.com/users/2558602/tipssch"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450782675, "post_id": 34414291, "comment_id": 56569939, "body": "@Sobrique I want to know if any new errors have been added in file #2. If somebody adds a few blank lines to the beginning of file #1, then they would all be treated as new errors in the diff output due to the differences in the line numbers. This is the reason I&#39;ve removed the line numbers."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450782954, "post_id": 34414291, "comment_id": 56570086, "body": "Removing the numbers may not be the right answer, as you may have a structured data format there - if it is in fact, XML - you can parse it as XML and compare just the &quot;message&quot; attribute, for example. Being able to re-add the line numbers presumes that there&#39;s a degree of uniqueness/referring back to the original file."}, {"owner": {"reputation": 59, "user_id": 2558602, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3dec4bf4a1a85fc6c89881e6a578bec?s=128&d=identicon&r=PG", "display_name": "tipssch", "link": "https://stackoverflow.com/users/2558602/tipssch"}, "edited": false, "score": 0, "creation_date": 1450783255, "post_id": 34414291, "comment_id": 56570268, "body": "The actual files are Checkstyle outputs. I&#39;ll stick an example in the original question."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 2558602, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3dec4bf4a1a85fc6c89881e6a578bec?s=128&d=identicon&r=PG", "display_name": "tipssch", "link": "https://stackoverflow.com/users/2558602/tipssch"}, "edited": false, "score": 0, "creation_date": 1450783760, "post_id": 34414574, "comment_id": 56570610, "body": "Sorry my example was unclear. I&#39;ve added the actual files to the question. I want to find out about newly added errors in File 2. However, if somebody adds a newline to the beginning of File 1, everything will be treated as new errors even though there won&#39;t actually be any new errors,"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 59, "user_id": 2558602, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3dec4bf4a1a85fc6c89881e6a578bec?s=128&d=identicon&r=PG", "display_name": "tipssch", "link": "https://stackoverflow.com/users/2558602/tipssch"}, "edited": false, "score": 0, "creation_date": 1450783947, "post_id": 34414574, "comment_id": 56570722, "body": "OK. I will update. What&#39;s your comparison criteria? Just order within the XML?"}, {"owner": {"reputation": 59, "user_id": 2558602, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3dec4bf4a1a85fc6c89881e6a578bec?s=128&d=identicon&r=PG", "display_name": "tipssch", "link": "https://stackoverflow.com/users/2558602/tipssch"}, "edited": false, "score": 0, "creation_date": 1450784677, "post_id": 34414574, "comment_id": 56571152, "body": "Yep that&#39;s right. Once I remove the line numbers I&#39;m assuming if the errors are there in the same order then they are existing errors (so the diff will ignore these). The output from the diff would show me any newly introduced errors but once I know which errors are new, I want to get the line numbers back. Thanks for helping so far"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1450785660, "last_edit_date": 1450785660, "creation_date": 1450782799, "answer_id": 34414574, "question_id": 34414291, "link": "https://stackoverflow.com/questions/34414291/perl-ignoring-certain-things-during-a-diff-but-adding-them-back-afterwards/34414574#34414574", "title": "Perl - ignoring certain things during a diff, but adding them back afterwards", "body": "<p>This looks like XML, so I'm going to proceed on the assumption that it is actually XML. If that's not a valid assumption, then ... this won't work. But then whoever wrote those log files is a bad person for making fake XML. </p>\n\n<p>So as I understand it - you want to extract unique 'message' attributes from two files, and pick out the ones that are 'missing'?  </p>\n\n<p>Something like this will do the trick.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $first = XML::Twig -&gt; new -&gt; parsefile ('samplec.xml');\nmy $second = XML::Twig -&gt; new -&gt; parsefile ('sampled.xml'); \n\nforeach my $error ( $second -&gt; get_xpath('//error') ) { \n   my $message = $error -&gt; att('message'); \n   $error -&gt; print unless $first -&gt; get_xpath(\"//error[\\@message=\\'$message\\']\");\n}\n</code></pre>\n\n<p>This compares <em>just</em> on message content - which your example suggests is unique (and searches the other structure for a matching message, anywhere in it). Which may not be exactly what you're after, but a similar technique should be able to do what you want. </p>\n\n<p>Following update:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\nuse Data::Dumper; \n\nmy $first = XML::Twig -&gt; new -&gt; parsefile ('samplec.xml');\nmy $second = XML::Twig -&gt; new -&gt; parsefile ('sampled.xml'); \n\nmy @first_errors = $first -&gt; get_xpath('//error');\nmy @second_errors = $second -&gt; get_xpath('//error'); \n\nmy $first_err = shift ( @first_errors ); \nmy $second_err = shift ( @second_errors );\n\nwhile ( @first_errors or @second_errors ) { \n   if ( defined $first_err and $first_err -&gt; att('source') eq $second_err -&gt; att('source') ) { \n       ## match\n   }\n   else {\n       #doesn't match, so we print\n       $second_err -&gt; print;\n       print \"\\n\";\n\n   }     \n   $first_err = shift ( @first_errors ); \n   $second_err = shift ( @second_errors ); \n}\n</code></pre>\n\n<p>We parse the XML in the first and second files, and iterate each printing as we go. Note - this isn't strictly a <code>diff</code> as it assumes that the errors in the first file are a subset of the errors in the second. (But not the other way around). But it should serve to print the new error lines based solely on 'source' </p>\n\n<p>With your sample data it outputs:</p>\n\n<pre><code>&lt;error column=\"9\" line=\"10\" message=\"Missing a Javadoc comment.\" severity=\"warning\" source=\"com.puppycrawl.tools.checkstyle.checks.javadoc.JavadocMethodCheck\"/&gt;\n&lt;error column=\"35\" line=\"10\" message=\"'{' is not preceded with whitespace.\" severity=\"info\" source=\"com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAroundCheck\"/&gt;\n&lt;error column=\"9\" line=\"14\" message=\"Missing a Javadoc comment.\" severity=\"warning\" source=\"com.puppycrawl.tools.checkstyle.checks.javadoc.JavadocMethodCheck\"/&gt;\n&lt;error column=\"29\" line=\"14\" message=\"'{' is not preceded with whitespace.\" severity=\"info\" source=\"com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAroundCheck\"/&gt;\n&lt;error column=\"21\" line=\"15\" message=\"Variable 'a' should be declared final.\" severity=\"info\" source=\"com.puppycrawl.tools.checkstyle.checks.coding.FinalLocalVariableCheck\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 2558602, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3dec4bf4a1a85fc6c89881e6a578bec?s=128&d=identicon&r=PG", "display_name": "tipssch", "link": "https://stackoverflow.com/users/2558602/tipssch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 34414574, "answer_count": 1, "score": 1, "last_activity_date": 1450785660, "creation_date": 1450781934, "last_edit_date": 1450783522, "question_id": 34414291, "link": "https://stackoverflow.com/questions/34414291/perl-ignoring-certain-things-during-a-diff-but-adding-them-back-afterwards", "title": "Perl - ignoring certain things during a diff, but adding them back afterwards", "body": "<p>I have two files that I want to diff. The first file looks like this:</p>\n\n<pre><code>&lt;error line=\"3\" message=\"message 1\"...\n&lt;error line=\"4\" message=\"message 2\"...\n</code></pre>\n\n<p>The second looks like this:</p>\n\n<pre><code>&lt;error line=\"4\" message=\"message 1\"...\n&lt;error line=\"5\" message=\"message 2\"...\n&lt;error line=\"5\" message=\"message 3\"...\n</code></pre>\n\n<p>I want to ignore the line numbers during the diff so I used some regex to set all the line numbers to be the same. So now file #1 looks like this:</p>\n\n<pre><code>&lt;error line=\".\" message=\"message 1\"...\n&lt;error line=\".\" message=\"message 2\"...\n</code></pre>\n\n<p>And file #2 looks like this:</p>\n\n<pre><code>&lt;error line=\".\" message=\"message 1\"...\n&lt;error line=\".\" message=\"message 2\"...\n&lt;error line=\".\" message=\"message 3\"...\n</code></pre>\n\n<p>However, once the diff returns its output, I will need to get the line number back for every element of the diff output (i.e. in this case I will want the line number back for <code>&lt;error line=\".\" message=\"message 3\"...</code> ). Does anybody know how this can be done? Thanks for any help. </p>\n\n<p><strong>Edit:</strong>\nThe actual files used are Checkstyle outputs written to a file. </p>\n\n<p>File 1:</p>\n\n<pre><code>    &lt;checkstyle version=\"5.3\"&gt;\n    &lt;file name=\"d:\\var\\temp\\cstemp\\.\\File1.java\"&gt;\n    &lt;error line=\"1\" severity=\"warning\" message=\"Missing a Javadoc comment.\" source=\"com.puppycrawl.tools.checkstyle.checks.javadoc.JavadocTypeCheck\"/&gt;\n    &lt;error line=\"1\" severity=\"warning\" message=\"Missing package declaration.\" \n    &lt;/file&gt;\n    &lt;/checkstyle&gt;\n</code></pre>\n\n<p>File 2:</p>\n\n<pre><code>    &lt;checkstyle version=\"5.3\"&gt;\n    &lt;file name=\"d:\\var\\temp\\cstemp\\.\\File1.java\"&gt;\n    &lt;error line=\"2\" severity=\"warning\" message=\"Missing a Javadoc comment.\" source=\"com.puppycrawl.tools.checkstyle.checks.javadoc.JavadocTypeCheck\"/&gt;\n    &lt;error line=\"2\" severity=\"warning\" message=\"Missing package declaration.\" source=\"com.puppycrawl.tools.checkstyle.checks.coding.PackageDeclarationCheck\"/&gt;\n    &lt;error line=\"10\" column=\"9\" severity=\"warning\" message=\"Missing a Javadoc comment.\" source=\"com.puppycrawl.tools.checkstyle.checks.javadoc.JavadocMethodCheck\"/&gt;\n    &lt;error line=\"10\" column=\"35\" severity=\"info\" message=\"&amp;apos;{&amp;apos; is not preceded with whitespace.\" source=\"com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAroundCheck\"/&gt;\n    &lt;error line=\"14\" column=\"9\" severity=\"warning\" message=\"Missing a Javadoc comment.\" source=\"com.puppycrawl.tools.checkstyle.checks.javadoc.JavadocMethodCheck\"/&gt;\n    &lt;error line=\"14\" column=\"29\" severity=\"info\" message=\"&amp;apos;{&amp;apos; is not preceded with whitespace.\" source=\"com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAroundCheck\"/&gt;\n    &lt;error line=\"15\" column=\"21\" severity=\"info\" message=\"Variable &amp;apos;a&amp;apos; should be declared final.\" source=\"com.puppycrawl.tools.checkstyle.checks.coding.FinalLocalVariableCheck\"/&gt;\n    &lt;error line=\"15\" column=\"25\" severity=\"info\" message=\"&amp;apos;5&amp;apos; is a magic number.\" source=\"com.puppycrawl.tools.checkstyle.checks.coding.MagicNumberCheck\"/&gt;\n    &lt;/file&gt;\n    &lt;/checkstyle&gt;\n</code></pre>\n\n<p>I only want to know about new Checkstyle errors which is why I removed the line numbers and then performed the diff. But once I know which errors have been added, I need the line number associated with that error. </p>\n"}, {"tags": ["oracle", "perl", "xmltype", "dbd"], "comments": [{"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "edited": false, "score": 0, "creation_date": 1450780703, "post_id": 34413045, "comment_id": 56568598, "body": "Which version of DBD::Oracle are you using ?"}, {"owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "edited": false, "score": 0, "creation_date": 1450780953, "post_id": 34413045, "comment_id": 56568780, "body": "Did you try <code>&#39;INSERT INTO &#39; . $table . &#39; (XMLCONTENT) VALUES (XMLTYPE(?))&#39;</code> or <code>INSERT INTO &#39; . $table . &#39; (XMLCONTENT) VALUES (XMLPARSE(CONTENT ? WELLFORMED))&#39;</code> and then send your XML as CLOB?"}, {"owner": {"reputation": 293, "user_id": 3676476, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/93fd206f239a1116b00356439acdb25e?s=128&d=identicon&r=PG&f=1", "display_name": "user3676476", "link": "https://stackoverflow.com/users/3676476/user3676476"}, "reply_to_user": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "edited": false, "score": 0, "creation_date": 1450781010, "post_id": 34413045, "comment_id": 56568821, "body": "@collapsar Version 1.74"}, {"owner": {"reputation": 293, "user_id": 3676476, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/93fd206f239a1116b00356439acdb25e?s=128&d=identicon&r=PG&f=1", "display_name": "user3676476", "link": "https://stackoverflow.com/users/3676476/user3676476"}, "reply_to_user": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "edited": false, "score": 0, "creation_date": 1450781676, "post_id": 34413045, "comment_id": 56569318, "body": "@WernfriedDomscheit I&#39;m getting an error from Oracle ora01461 can&#39;t bind a LONG only for insert into a LONG column. I think I definitely need the type deceleration"}, {"owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "edited": false, "score": 0, "creation_date": 1450785258, "post_id": 34413045, "comment_id": 56571529, "body": "Do you get the same error for <code>$sth-&gt;bind_param_array(1,\\@xmldocuments,{ ora_type =&gt; ORA_CLOB })</code>?"}, {"owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "edited": false, "score": 0, "creation_date": 1450785787, "post_id": 34413045, "comment_id": 56571850, "body": "Did you try to set <a href=\"http://search.cpan.org/~pythian/DBD-Oracle-1.74/lib/DBD/Oracle.pm#ora_array_chunk_size\" rel=\"nofollow noreferrer\">ora_array_chunk_size</a>?"}, {"owner": {"reputation": 293, "user_id": 3676476, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/93fd206f239a1116b00356439acdb25e?s=128&d=identicon&r=PG&f=1", "display_name": "user3676476", "link": "https://stackoverflow.com/users/3676476/user3676476"}, "reply_to_user": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "edited": false, "score": 0, "creation_date": 1450788410, "post_id": 34413045, "comment_id": 56573393, "body": "@WernfriedDomscheit Different error. LOBS not supported for array operation. Looks like I might need a different alternative. I can either do row by row processing or combine perl with system calls to run sqlloader."}, {"owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "edited": false, "score": 0, "creation_date": 1450788614, "post_id": 34413045, "comment_id": 56573529, "body": "As long as you use prepared statements the performance should be no issue, even when you do it row by row."}, {"owner": {"reputation": 293, "user_id": 3676476, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/93fd206f239a1116b00356439acdb25e?s=128&d=identicon&r=PG&f=1", "display_name": "user3676476", "link": "https://stackoverflow.com/users/3676476/user3676476"}, "reply_to_user": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "edited": false, "score": 0, "creation_date": 1450789195, "post_id": 34413045, "comment_id": 56573885, "body": "@WernfriedDomscheit I&#39;ve tried that there. Can load about 1000 messages in 30s. More than good enough for my purposes. Thanks"}, {"owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "reply_to_user": {"reputation": 293, "user_id": 3676476, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/93fd206f239a1116b00356439acdb25e?s=128&d=identicon&r=PG&f=1", "display_name": "user3676476", "link": "https://stackoverflow.com/users/3676476/user3676476"}, "edited": false, "score": 0, "creation_date": 1450797679, "post_id": 34413045, "comment_id": 56579225, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/98721/discussion-between-wernfried-domscheit-and-user3676476\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 293, "user_id": 3676476, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/93fd206f239a1116b00356439acdb25e?s=128&d=identicon&r=PG&f=1", "display_name": "user3676476", "link": "https://stackoverflow.com/users/3676476/user3676476"}, "is_accepted": false, "score": 1, "last_activity_date": 1450797589, "last_edit_date": 1450797589, "creation_date": 1450789301, "answer_id": 34416531, "question_id": 34413045, "link": "https://stackoverflow.com/questions/34413045/bulk-insert-into-oracle-xmltype-using-perl/34416531#34416531", "title": "Bulk Insert into Oracle XMLTYPE Using Perl", "body": "<p>I couldn't get the bulk bind to work with binary XMLTYPE. However row by row processing using the code below satisfies my requirements:</p>\n\n<pre><code>sub save_xml{ \n   my ($xml) = @_; \n   $log-&gt;write(\"Inserting XML message into table:$table, in $mode mode\"); \n   my $sql='INSERT INTO ' . $table . ' (XMLCONTENT) VALUES (:xml)'; \n   my $sth = $dbh-&gt;prepare_cached($sql); \n   if ( $mode eq \"BINARY\" ) { \n       $sth-&gt; bind_param(\":xml\", $xml, { ora_type =&gt; ORA_XMLTYPE }); \n   } else { \n       $sth-&gt; bind_param(\":xml\", $xml); \n   } \n   $sth-&gt;execute() || die \"Error whilst inserting into table: $table: $DBI::errstr\"; \n   $log-&gt;write(\"Insert into table:$table successful\"); \n}\n</code></pre>\n"}], "owner": {"reputation": 293, "user_id": 3676476, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/93fd206f239a1116b00356439acdb25e?s=128&d=identicon&r=PG&f=1", "display_name": "user3676476", "link": "https://stackoverflow.com/users/3676476/user3676476"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1450797589, "creation_date": 1450778345, "question_id": 34413045, "link": "https://stackoverflow.com/questions/34413045/bulk-insert-into-oracle-xmltype-using-perl", "title": "Bulk Insert into Oracle XMLTYPE Using Perl", "body": "<p>I'm using Perl DBD::Oracle to try and bulk insert an array of XML strings into an Oracle XMLTYPE column. I can get it to work if I bulk insert into a CLOB but when I try inserting into the XMLTYPE column via Strawberry Perl it crashes.</p>\n\n<p>Has anyone being able to bulk insert into XMLTYPE from Perl?</p>\n\n<p>Here are the two code snippets. One for CLOB and the second for XMLTYPE....</p>\n\n<p><code>sub save_xml {<br>\n    $log-&gt;write(\"Inserting XML messages      into table:$table, in $mode: mode\");\n    my @status;\n    my $sql='INSERT INTO ' . $table . ' (XMLCONTENT) VALUES (?)';\n    my $sth = $dbh-&gt;prepare_cached($sql) || die \"Cannot prepare statement: $DBI::errstr\";\n    $sth-&gt;bind_param_array(1,\\@xmldocuments) || die \"Cannot bind parameter array: $DBI::errstr\";\n    $sth-&gt;execute_array({ArrayTupleStatus=&gt;\\@status}) || die \"Cannot bulk insert into table: $table: $DBI::errstr\";\n    $log-&gt;write(\"Inserted $status rows into table: $table\");\n}</code></p>\n\n<p><code>sub save_xml {<br>\n    $log-&gt;write(\"Inserting XML messages into table:$table, in $mode: mode\");\n    my @status;\n    my $sql='INSERT INTO ' . $table . ' (XMLCONTENT) VALUES (?)';\n    my $sth = $dbh-&gt;prepare_cached($sql) || die \"Cannot prepare statement: $DBI::errstr\";\n    $sth-&gt;bind_param_array(1,\\@xmldocuments,{ ora_type =&gt; ORA_XMLTYPE }) || die \"Cannot bind parameter array: $DBI::errstr\";\n    $sth-&gt;execute_array({ArrayTupleStatus=&gt;\\@status}) || die \"Cannot bulk insert into table: $table: $DBI::errstr\";\n    $log-&gt;write(\"Inserted $status rows into table: $table\");\n}</code></p>\n"}, {"tags": ["xml", "linux", "perl", "shell"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1450774060, "post_id": 34411654, "comment_id": 56564475, "body": "Have you tried anything from yourself?"}, {"owner": {"reputation": 213, "user_id": 5316516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/606d37d3dc0bad06ac2625556b0bd5cb?s=128&d=identicon&r=PG&f=1", "display_name": "NothingBox", "link": "https://stackoverflow.com/users/5316516/nothingbox"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1450774231, "post_id": 34411654, "comment_id": 56564556, "body": "Yes, I did try many things from the internet. I tried to modify those to suit my needs but still not works for my requirement. I am basically new to shell script and I just tried perl yesterday so I really need help. Thanks a lot for your patience in advance"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1450775173, "post_id": 34411654, "comment_id": 56565055, "body": "Can you post atleast one thing that show your effort?"}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1450775274, "post_id": 34411654, "comment_id": 56565116, "body": "The best thing to do is to install an XML tool. If you don&#39;t have permissions to install one system-wide, you can do so in your home directory. See <a href=\"http://stackoverflow.com/q/540640/2088135\">this question</a> (and questions linked within) for details on installing perl modules locally."}, {"owner": {"reputation": 213, "user_id": 5316516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/606d37d3dc0bad06ac2625556b0bd5cb?s=128&d=identicon&r=PG&f=1", "display_name": "NothingBox", "link": "https://stackoverflow.com/users/5316516/nothingbox"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1450775662, "post_id": 34411654, "comment_id": 56565349, "body": "@serenesat, I tried sing XML::Simple but one thing I noticed, it does not work if check <b>deployment-file</b> with only one entry. It cannot recognize one entry as array (<i>Not an ARRAY reference at ./perll.pl line 12.</i>. Please take note that I modified the XMl file when i tried this. Code below:   #use strict; use XML::Simple;  my $deployments = XMLin(&#39;deployment-setting.xml&#39;);  foreach my $deployment (@{$deployments -&gt;{deployment}}) { \tprint $deployment-&gt;{deploymentFolder} . &quot;\\n&quot;; }"}, {"owner": {"reputation": 213, "user_id": 5316516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/606d37d3dc0bad06ac2625556b0bd5cb?s=128&d=identicon&r=PG&f=1", "display_name": "NothingBox", "link": "https://stackoverflow.com/users/5316516/nothingbox"}, "reply_to_user": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1450775745, "post_id": 34411654, "comment_id": 56565398, "body": "@TomFenech, thanks a lot. I&#39;ll check your link."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1450775960, "post_id": 34411654, "comment_id": 56565520, "body": "It would be helpful if you showed us your desired output or described what it was you wanted to do with the contents of the elements that you&#39;re interested in."}, {"owner": {"reputation": 213, "user_id": 5316516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/606d37d3dc0bad06ac2625556b0bd5cb?s=128&d=identicon&r=PG&f=1", "display_name": "NothingBox", "link": "https://stackoverflow.com/users/5316516/nothingbox"}, "reply_to_user": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1450776485, "post_id": 34411654, "comment_id": 56565817, "body": "Hi @TomFenech, I&#39;m planning to create an auto deployment script using shell script or perl. Last choice is to use java which I am more familiar with. The xml file will contain information for deployment. Example, under <b>deployment-files</b>, it will loop through the elements and for each entry, there will be script to backup, copy and replace the files. Each loop of <b>restart-commands</b> will call batch/sh scripts defined in its elements. Hope I explained it well. Thank you in advance."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1450776579, "post_id": 34411654, "comment_id": 56565864, "body": "You should edit your question to add this detail, along with your attempt. It sounds like a perl script would be a good choice."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1450776621, "post_id": 34411654, "comment_id": 56565887, "body": "Do not use XML::Simple. Read this <a href=\"http://stackoverflow.com/q/33267765/4248931\">Why is XML::Simple \u201cDiscouraged\u201d?</a> and add your code in your question by using edit button. Do not write code in comment."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450777080, "post_id": 34411654, "comment_id": 56566174, "body": "Escalate to whoever is asking you to do this work. 5.8.8 is end of life - and has been for several years. CPAN libraries are by FAR the best way to create maintainable and robust code on your server. Otherwise they&#39;re actually asking you to (re)write and XML parser, which is at best a complete waste of effort, and that&#39;s assuming you get exactly right and bug free."}, {"owner": {"reputation": 213, "user_id": 5316516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/606d37d3dc0bad06ac2625556b0bd5cb?s=128&d=identicon&r=PG&f=1", "display_name": "NothingBox", "link": "https://stackoverflow.com/users/5316516/nothingbox"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450777737, "post_id": 34411654, "comment_id": 56566593, "body": "@Sobrique, it is only a case study for the change suggestion in our dpeloyment plans. Since the process involves difference teams, it would be hard to request for any updates for the server.  We initially planned to use scripts for maintainabilty but it seems it would be more difficult. Anyways, if there is no other solution, I will just use java for this requirement. Thank you guys for your input."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450778501, "post_id": 34411654, "comment_id": 56567057, "body": "There is a solution - it&#39;s trivially easy. It&#39;s just much harder if you insist on hand rolling an XML parser and using a 7 year old version of perl."}], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 5316516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/606d37d3dc0bad06ac2625556b0bd5cb?s=128&d=identicon&r=PG&f=1", "display_name": "NothingBox", "link": "https://stackoverflow.com/users/5316516/nothingbox"}, "edited": false, "score": 0, "creation_date": 1450780036, "post_id": 34413297, "comment_id": 56568119, "body": "I tried using Twig but I always encounter &lt;i&gt;Can&#39;t locate XML/Twig.pm in @INC&lt;/i&gt; error. The initial plan is to provide whatever script we make to deployment team to automate copying/backup of files and restart of application. If ever additional libraries is needed to do this (Xml parser libraries for example), this will go through series of request first and lot of explanation. The mgmt is very strict on any modification in the prod servers. Anyways, I will still try to do whatever is possible in my test machine and hope it will be allowed to be implemented on prod. Thanks a lot for help."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 213, "user_id": 5316516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/606d37d3dc0bad06ac2625556b0bd5cb?s=128&d=identicon&r=PG&f=1", "display_name": "NothingBox", "link": "https://stackoverflow.com/users/5316516/nothingbox"}, "edited": false, "score": 0, "creation_date": 1450780119, "post_id": 34413297, "comment_id": 56568175, "body": "Change control is about controlling change. That&#39;s fine. You have a change and a reason to make it. This is about making repeatable supportable code - that&#39;s a <i>good</i> reason to make a change."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1450779743, "last_edit_date": 1450779743, "creation_date": 1450779113, "answer_id": 34413297, "question_id": 34411654, "link": "https://stackoverflow.com/questions/34411654/simplest-nested-xml-parsing-in-aix/34413297#34413297", "title": "Simplest Nested XML Parsing in AIX", "body": "<p>Look, I know you said 'I can't install stuff' - but the problem you've got is you're trying to parse XML without a parser, and you're using a 7 year old version of perl that is end of life. <a href=\"http://www.cpan.org/src/\" rel=\"nofollow\">Perl 5.8.8 is end of life, and released in 2008</a>. </p>\n\n<p>That isn't a route to a good solution however hard you try - use a parser and this becomes trivially simple:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; new -&gt; parse ( \\*DATA );\nforeach my $deployment_files ( $twig -&gt; get_xpath ( '//deployment-file' ) ) {\n   print $deployment_files -&gt; first_child_text('deploymentFolder'), \" =&gt; \";\n   print $deployment_files -&gt; first_child_text('fileName');\n   print \"\\n\";\n}\n\nforeach my $restart_command ( $twig -&gt; get_xpath ( '//restart-command/commandName' ) ) {\n   print $restart_command -&gt; text,\"\\n\";\n}\n\n__DATA__\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;deployments&gt;\n    &lt;appName&gt;apptest&lt;/appName&gt;\n    &lt;envVariable&gt;app&lt;/envVariable&gt;\n    &lt;fileSourceFolder&gt;/sourceTest&lt;/fileSourceFolder&gt;\n    &lt;fileBackupFolder&gt;/testbackup&lt;/fileBackupFolder&gt;\n    &lt;requireRestart&gt;false&lt;/requireRestart&gt;\n    &lt;restartCommandPath&gt;bin&lt;/restartCommandPath&gt;\n    &lt;deployment-files&gt;\n        &lt;deployment-file&gt;\n            &lt;deploymentFolder&gt;deployment-folder&lt;/deploymentFolder&gt;\n            &lt;fileName&gt;test-file&lt;/fileName&gt;\n        &lt;/deployment-file&gt;\n    &lt;/deployment-files&gt;\n    &lt;restart-commands&gt;\n        &lt;restart-command&gt;\n            &lt;commandName&gt;./appstop&lt;/commandName&gt;\n        &lt;/restart-command&gt;\n        &lt;restart-command&gt;\n            &lt;commandName&gt;./appstart&lt;/commandName&gt;\n        &lt;/restart-command&gt;\n    &lt;/restart-commands&gt;\n&lt;/deployments&gt;\n</code></pre>\n\n<p>Without a parser, you first... have to write a parser. You can do this - the spec is well defined. But practically speaking, there is no point when there are several good XML parsers readily available that are tested and working. But even if you did, you're running in on a 7 year old interpreter. It's really not hard to do a source build of perl, and install in an alternate location. </p>\n\n<p>So I would suggest the <em>right</em> answer here involves requesting the necessary elements to do a decent job. You wouldn't expect a carpenter to come around your hammer smashing screws in with a hammer, because he can't be bothered to procure a screwdriver, now would you? </p>\n"}], "owner": {"reputation": 213, "user_id": 5316516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/606d37d3dc0bad06ac2625556b0bd5cb?s=128&d=identicon&r=PG&f=1", "display_name": "NothingBox", "link": "https://stackoverflow.com/users/5316516/nothingbox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450779743, "creation_date": 1450773745, "last_edit_date": 1450779584, "question_id": 34411654, "link": "https://stackoverflow.com/questions/34411654/simplest-nested-xml-parsing-in-aix", "title": "Simplest Nested XML Parsing in AIX", "body": "<p>I am trying to create a script in Unix to Parse a nested XML. Sample below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;deployments&gt;\n    &lt;appName&gt;apptest&lt;/appName&gt;\n    &lt;envVariable&gt;app&lt;/envVariable&gt;\n    &lt;fileSourceFolder&gt;/sourceTest&lt;/fileSourceFolder&gt;\n    &lt;fileBackupFolder&gt;/testbackup&lt;/fileBackupFolder&gt;\n    &lt;requireRestart&gt;false&lt;/requireRestart&gt;\n    &lt;restartCommandPath&gt;bin&lt;/restartCommandPath&gt;\n    &lt;deployment-files&gt;\n        &lt;deployment-file&gt;\n            &lt;deploymentFolder&gt;deployment-folder&lt;/deploymentFolder&gt;\n            &lt;fileName&gt;test-file&lt;/fileName&gt;\n        &lt;/deployment-file&gt;\n    &lt;/deployment-files&gt;\n    &lt;restart-commands&gt;\n        &lt;restart-command&gt;\n            &lt;commandName&gt;./appstop&lt;/commandName&gt;\n        &lt;/restart-command&gt;\n        &lt;restart-command&gt;\n            &lt;commandName&gt;./appstart&lt;/commandName&gt;\n        &lt;/restart-command&gt;\n    &lt;/restart-commands&gt;\n&lt;/deployments&gt;\n</code></pre>\n\n<p>I need to iterate through <b>deployment-files</b> and <b>restart-command</b> elements. I read about using Perl and the installed version is 5.8.8. However I cannot use TWIG and other XML stuff in perl because of lack of libraries. I read about other stuffs too like xml_grep, xmllint , etc but those are not installed in the machine I use and I cannot manually install those or even request for it because of a lot of constraints. </p>\n\n<p>I already tried using XML::Simple based on example at <a href=\"http://interoperating.info/courses/perl4data/node/26\" rel=\"nofollow\">http://interoperating.info/courses/perl4data/node/26</a> but still no good.</p>\n\n<p>Please advise on how to create the simplest perl or shell script for this and please provide references. I am still new in shell script and I just started to explore perl yesterday so I will appreciate all your help. Thank you.</p>\n"}, {"tags": ["apache", "perl"], "comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1450773345, "post_id": 34410343, "comment_id": 56564127, "body": "Why do you add svg, d3.js and javascript tag? This looks like a apache/perl issue. Also you do not specify your webserver setup, and how the perl script is called."}, {"owner": {"reputation": 11, "user_id": 5705912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c6f2b6f2d56cc5824cfa27798ed8a0?s=128&d=identicon&r=PG&f=1", "display_name": "Ashit Prasad", "link": "https://stackoverflow.com/users/5705912/ashit-prasad"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1450867486, "post_id": 34410343, "comment_id": 56608489, "body": "Added VirtualHost Config File and Ajax call to the Perl script."}], "owner": {"reputation": 11, "user_id": 5705912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c6f2b6f2d56cc5824cfa27798ed8a0?s=128&d=identicon&r=PG&f=1", "display_name": "Ashit Prasad", "link": "https://stackoverflow.com/users/5705912/ashit-prasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1450867277, "creation_date": 1450768470, "last_edit_date": 1450867277, "question_id": 34410343, "link": "https://stackoverflow.com/questions/34410343/unable-to-export-svg-graph-using-http-d3export-housegordon-org", "title": "Unable to export SVG graph using http://d3export.housegordon.org/", "body": "<p>I am trying to export an SVG graph as an attachment to download. I am using <a href=\"http://d3export.housegordon.org/\" rel=\"nofollow\">http://d3export.housegordon.org/</a> to achieve the same. The perl file returns a status message of 200OK. Neither the apache log nor the perl log is showing any errors. Also, I am able to print the output SVG string of the perl file in my console which I assume is indicative of the request to perl file being successful. However, instead of getting an SVG attachment file to download as response, an extra tab gets opened displaying an APACHE ERROR which reads...\"<strong>Not Found\nThe requested URL /[object XMLDocument] was not found on this server.</strong>\". I have made a few modifications in my perl script wrt the perl script provided on the link mentioned above. My modified perl script is as below:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse CGI qw/:standard/;\nuse CGI::Carp qw/fatalsToBrowser/;\nuse autodie qw(:all);\nuse File::Temp qw/tempfile/;\nuse File::Slurp qw/read_file write_file/;\n\n$CGI::POST_MAX = 1024 * 5000;\n\nmy $output_format = param(\"output_format\")\nor die \"Missing 'output_format' parameter\";\ndie \"Invalid output_format value\"\nunless $output_format eq \"svg\" ||\n    $output_format eq \"pdf\" ||\n    $output_format eq \"png\";\n\nmy $data = param(\"data\")\nor die \"Missing 'data' parameter\";\ndie \"Invalid data value\"\nunless $data =~ /^[\\x20-\\x7E\\t\\n\\r ]+$/;\n\nmy $timestamp = time;\nmy $random = int(rand(99999));\nmy $dnldfile = \"/dnld/d3Momentum\" . $timestamp . \"_\" . $random . \".svg\";\nmy $filename = \"/var/www/html/Project/Project_frontend/public\".$dnldfile;\nmy $q = CGI-&gt;new;\n\nif ($output_format eq \"svg\") {\nprint $q-&gt;header(-type=&gt;\"image/svg+xml\", -attachment=&gt;$filename,);\nprint $data;\n\nexit(0);\n}\nelsif ($output_format eq \"pdf\" || $output_format eq \"png\") {\nmy (undef, $input_file) = tempfile(\"d3export.svg.XXXXXXX\", OPEN=&gt;0, TMPDIR=&gt;1, UNLINK=&gt;1);\nmy (undef, $output_file) = tempfile(\"d3export.out.XXXXXXX\", OPEN=&gt;0, TMPDIR=&gt;1, UNLINK=&gt;1);\nwrite_file( $input_file, $data );\n\nmy $zoom = ($output_format eq \"png\")?10:1;\n\nsystem(\"rsvg-convert -o '$output_file' -z '$zoom' -f '$output_format' '$input_file'\");\n\nmy $pdf_data = read_file( $output_file, {binmode=&gt;':raw'});\n\nmy $mime_type = ($output_format eq \"pdf\")?\"application/x-pdf\":\"image/png\";\nprint header(-type=&gt;$mime_type,\n         -attachment=&gt;\"d3js_export_demo.$output_format\");\nprint $pdf_data;\n\nexit(0);\n}\n</code></pre>\n\n<p>Request Parameters being passed are..\n'ouput_format' : 'svg'; \n'data' : (Entire SVG Element parsed using XMLSerializer.serializeToString() as mentioned on <a href=\"http://d3export.housegordon.org/\" rel=\"nofollow\">http://d3export.housegordon.org/</a>). </p>\n\n<p>Below is my Virtual Host Configuration:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    ServerName project-v4.co\n    ServerAlias project-v4.co\n    Alias /awstatsclasses \"/usr/share/awstats/lib/\"\n      Alias /awstats-icon \"/usr/share/awstats/icon/\"\n      Alias /awstatscss \"/usr/share/doc/awstats/examples/css\"\n      ScriptAlias /awstats/ /usr/lib/cgi-bin/\n    DocumentRoot /var/www/html/Project-v4/Project-v4_frontend/public\n    SetEnv APPLICATION_ENV \"production\"\n    &lt;Directory /var/www/html/Project-v4/Project-v4_frontend/public&gt;\n            DirectoryIndex index.html\n            AllowOverride All\n            Order allow,deny\n            Allow from all\n    AddHandler cgi-script .bin\n            Header set Access-Control-Allow-Origin \"*\"\n    &lt;/Directory&gt;\n\n    ScriptAlias /cgi-bin/ /var/www/html/Project-v4/Project-v4_frontend/public/cgi-bin/\n    &lt;Directory \"/var/www/html/Project-v4/Project-v4_frontend/public/cgi-bin\"&gt;\n            AllowOverride None\n            Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch\n            Order allow,deny\n            Allow from all\n    &lt;/Directory&gt;\n\n    # Possible values include: debug, info, notice, warn, error, crit,\n    # alert, emerg.\n    #ErrorLog ${APACHE_LOG_DIR}/live-error.log\n    ErrorLog /var/www/live-error.log\n    LogLevel warn\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n#&lt;Location /perl/&gt;\n    #        SetHandler perl-script\n     #       PerlHandler ModPerl::PerlRun\n      #      Options ExecCGI\n    #&lt;/Location&gt;\n</code></pre>\n\n<p></p>\n\n<p>Below is the Ajax Call to the perl script. </p>\n\n<pre><code> var oData = {\"output_format\" : \"svg\", \"data\" : svg_xml};\n\n  $.ajax({\n        url: '/cgi-bin/d3export.pl',\n        method: \"POST\",\n        data:  oData,\n        success: function(oResult) {\n          console.log(oResult);\n          window.open(oResult);\n        }\n      })\n</code></pre>\n\n<p>The Perl script is located in the cgi-bin directory, which is located in the public folder of my Project (Project-v4_frontend/public/cgi-bin/d3export.pl). I am using the MEAN stack for my project. </p>\n\n<p>Any help to resolve the apache NOT FOUND error would be appreciated sincerely. </p>\n\n<p>Thank You. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1450766329, "post_id": 34409469, "comment_id": 56560971, "body": "Any reason not to just leave them untrimmed?"}, {"owner": {"reputation": 1954, "user_id": 110844, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4afd458cb202c0a2e566e569f753765?s=128&d=identicon&r=PG", "display_name": "Ecognium", "link": "https://stackoverflow.com/users/110844/ecognium"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1450766692, "post_id": 34409469, "comment_id": 56561114, "body": "@ysth These files are pretty big (20+GB) and most fields have padding chars. Not retaining the padding chars will help cut the size down and allow me to read it in down stream programs without handling padding chars there. I can leave them untrimmed and then trim after parsing is complete but then I will have to loop through all the fields and remove padding, which is quite cumbersome.  If there is a cleaner post processing solution, that will work as well"}], "answers": [{"comments": [{"owner": {"reputation": 1954, "user_id": 110844, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4afd458cb202c0a2e566e569f753765?s=128&d=identicon&r=PG", "display_name": "Ecognium", "link": "https://stackoverflow.com/users/110844/ecognium"}, "edited": false, "score": 0, "creation_date": 1450800979, "post_id": 34412842, "comment_id": 56581410, "body": "Thank you so much! It works. I will document that this line is a hack."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 2, "last_activity_date": 1450777768, "creation_date": 1450777768, "answer_id": 34412842, "question_id": 34409469, "link": "https://stackoverflow.com/questions/34409469/avoid-trimming-all-leading-padding-chars-with-parsefixedlength/34412842#34412842", "title": "Avoid trimming all leading / padding chars with Parse::FixedLength", "body": "<p>The short answer is no. There is no way to make <code>Parser::FixedLength</code> not read all the 0's when trimming a zero padded field. This is the regular expression that it sets for trimming:</p>\n\n<pre><code>'TPAD' =&gt; ARRAY(0x7fb378979a08)\n   0  (?^:^0+)\n      -&gt; qr/(?^:^0+)/\n</code></pre>\n\n<p>So it reads all the zeros. You can however abuse this internal data structure and make a hack that will achieve what you are looking for:</p>\n\n<p><code>$parser-&gt;{TPAD}[0] = qr/^0+(?=\\d)/;</code></p>\n\n<p>This will set the trim regular expression to have a positive look-ahead for another digit, so it will save at least one digit when Parser::FixedLength trims it.</p>\n"}], "owner": {"reputation": 1954, "user_id": 110844, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4afd458cb202c0a2e566e569f753765?s=128&d=identicon&r=PG", "display_name": "Ecognium", "link": "https://stackoverflow.com/users/110844/ecognium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 34412842, "answer_count": 1, "score": 2, "last_activity_date": 1450777768, "creation_date": 1450764504, "question_id": 34409469, "link": "https://stackoverflow.com/questions/34409469/avoid-trimming-all-leading-padding-chars-with-parsefixedlength", "title": "Avoid trimming all leading / padding chars with Parse::FixedLength", "body": "<p>I am using <a href=\"http://search.cpan.org/~dougw/Parse-FixedLength-5.39/FixedLength.pm\" rel=\"nofollow\">Parse::FixedLength</a> and I would like to remove leading <code>0</code>s while parsing but unfortunately when the entire string is made up of <code>0</code>s it returns a blank value. This means I cannot distinguish between a bad input (blank) and post processed blank one. </p>\n\n<pre><code>    use Parse::FixedLength;\n\n    my $parser = Parse::FixedLength-&gt;new([\n            first_name =&gt; '10:1:10',\n            last_name  =&gt; '10:11:20',\n            widgets_this_month =&gt; '5R0:21:25',\n    ], {trim =&gt; '1'});\n\n    while (&lt;DATA&gt;) {\n            warn \"No record terminator found!\\n\" unless chomp;\n            warn \"Short Record!\\n\" unless $parser-&gt;length == length;\n            my $data = $parser-&gt;parse($_);\n            print $data-&gt;{'widgets_this_month'},$/;\n    }\n    __DATA__\n    JOHN      SMITH     00005\n    BOB       JONES     00000\n    JOE       STAN      00117\n    BLANK     WIDGET\n    JANE      DOE       00007\n</code></pre>\n\n<p>Output is (&lt; blank > below is empty string):</p>\n\n<pre><code>5\n&lt;blank&gt;\n117\n&lt;blank&gt;\n7\n</code></pre>\n\n<p>I want the output to be: </p>\n\n<pre><code>5\n0\n117\n&lt;blank&gt;\n7\n</code></pre>\n\n<p>Any thoughts on how I can achieve this? Btw, the above is a toy example from the module. My actual file has over 1200 fields with almost everyone (not all) has leading <code>0</code>s.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "perl", "swig"], "answers": [{"tags": [], "owner": {"reputation": 2324, "user_id": 1746434, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/wXqGg.png?s=128&g=1", "display_name": "Alexander Solovets", "link": "https://stackoverflow.com/users/1746434/alexander-solovets"}, "is_accepted": false, "score": 1, "last_activity_date": 1450810367, "creation_date": 1450810367, "answer_id": 34422584, "question_id": 34409395, "link": "https://stackoverflow.com/questions/34409395/interfacing-c-code-with-perl-using-swig/34422584#34422584", "title": "Interfacing C++ code with perl using SWIG", "body": "<p>You do not need to wrap <code>main()</code> to be able to create the interface for Class1. If want to have only that particular class in perl, then you should write</p>\n\n<pre><code>%module &lt;your_module_name&gt;\n\n%{\n#include \"class1.h\"\n%}\n\n%include \"class1.h\"\n</code></pre>\n\n<p>SWIG will scan <code>class1.h</code> and create corresponding wrappers for every class and function it will encounter. You can use <a href=\"http://www.swig.org/Doc3.0/SWIGDocumentation.html#SWIG_rename_ignore\" rel=\"nofollow\"><code>%ignore</code></a> to prevent certain symbols to be wrapped. If there are other types in the header of Class1, say Class2 and Class3, something like</p>\n\n<pre><code>class Class1 {\n  Class2 foo();\n  Class3 bar();\n};\n</code></pre>\n\n<p>SWIG will issue an error because it doesn't know how to wrap those types. You either need to wrap them too, or if you do not want to expose other classes you can write</p>\n\n<pre><code>%import \"class2.h\"\n%import \"class3.h\"\n</code></pre>\n\n<p>This will tell necessary type information to SWIG, but the wrappers will not be created.</p>\n"}], "owner": {"reputation": 179, "user_id": 3462712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/be734467ac93968d93395a8452a3e768?s=128&d=identicon&r=PG&f=1", "display_name": "rvkreddy", "link": "https://stackoverflow.com/users/3462712/rvkreddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1450810367, "creation_date": 1450764096, "question_id": 34409395, "link": "https://stackoverflow.com/questions/34409395/interfacing-c-code-with-perl-using-swig", "title": "Interfacing C++ code with perl using SWIG", "body": "<p>I have set of c++ classes which uses Boost and STL libraries and currently am making executable out of those classes in Linux.I want to create a perl interface to this c++ code using SWIG.</p>\n\n<p>Say if i have 10 classes 1..10 and if i want to create an interface of class 1 with perl using SWIG  and the main() function is in class 5</p>\n\n<p>How should my interface file(*.i) should look like ?\nIn what format should i build my C++ code ?</p>\n"}, {"tags": ["perl", "file", "sorting"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1450763734, "post_id": 34409298, "comment_id": 56560024, "body": "what is your expected output?"}, {"owner": {"reputation": 31, "user_id": 5130576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bf09e7ef355bb7219259eae3e8234f?s=128&d=identicon&r=PG&f=1", "display_name": "Tree_Chee", "link": "https://stackoverflow.com/users/5130576/tree-chee"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1450763948, "post_id": 34409298, "comment_id": 56560096, "body": "@serenesat Hi , i have included my output expected . Thanks."}, {"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 0, "creation_date": 1450765136, "post_id": 34409298, "comment_id": 56560518, "body": "Can&#39;t you just check <code>$TNam</code> and <code>$PNam</code> and only print if they match?"}, {"owner": {"reputation": 31, "user_id": 5130576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bf09e7ef355bb7219259eae3e8234f?s=128&d=identicon&r=PG&f=1", "display_name": "Tree_Chee", "link": "https://stackoverflow.com/users/5130576/tree-chee"}, "reply_to_user": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 0, "creation_date": 1450765204, "post_id": 34409298, "comment_id": 56560544, "body": "@Arc676 But only apply for the 1st row am i right?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1450765234, "post_id": 34409298, "comment_id": 56560554, "body": "Did you really test your code because <code>$temp1[2] eq &quot;1&quot;</code> will never match 1, <code>$temp1[2]</code> always have <code>PASS</code>."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1450765380, "post_id": 34409298, "comment_id": 56560618, "body": "Always use <code>use strict</code> and <code>use warnings</code> in your code."}, {"owner": {"reputation": 31, "user_id": 5130576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bf09e7ef355bb7219259eae3e8234f?s=128&d=identicon&r=PG&f=1", "display_name": "Tree_Chee", "link": "https://stackoverflow.com/users/5130576/tree-chee"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1450765484, "post_id": 34409298, "comment_id": 56560657, "body": "@serenesat Nope, $temp1[2] eq &quot;1&quot; is &quot;1&quot; . PASS was at [3] . I try it before. I not really know how to do with the count. It give me all the data without matching the $Pnam eq $Anam)&amp;($Tnam eq $Nnam condition"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1450765593, "post_id": 34409298, "comment_id": 56560709, "body": "Please learn <code>arrays</code> in Perl and how to get array elements one by one."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1450794647, "post_id": 34413073, "comment_id": 56577257, "body": "This is turning into a double act, with you providing a solution based around setting the record separatopr, and me writing a state machine!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1450794712, "post_id": 34413073, "comment_id": 56577297, "body": "Both valid answers to the problem though :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": -1, "last_activity_date": 1450794631, "last_edit_date": 1450794631, "creation_date": 1450778460, "answer_id": 34413073, "question_id": 34409298, "link": "https://stackoverflow.com/questions/34409298/perl-how-to-sort-out-all-the-data-matching-condition-mentioned/34413073#34413073", "title": "Perl: How to sort out all the data matching condition mentioned", "body": "<p>OK, so first off:</p>\n\n<ul>\n<li>put <code>use strict;</code> and <code>use warnings 'all';</code> right at the  top of your code. They prevent many errors that will trip you up later. </li>\n<li>3 argument open with lexical file handles are good. <code>open ( my $input, '&lt;', $infile )</code></li>\n<li>you should always check the return code of <code>open</code>, because you'll save yourself a load of pain later. </li>\n</ul>\n\n<p>From this though, your problem is simpler than you think - you have records denoted by <code>Device#:</code> so we can set a record seperator. <code>$/</code>. </p>\n\n<p>Then we can break down your chunk of data into rows. I would suggest rather than using array indicies, you're better off using named fields in a <code>hash</code>:</p>\n\n<pre><code> #!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nopen( my $output, '&gt;', $outfile ) or die $!;\nopen( my $input,  '&lt;', $infile1 ) or die $!;\n\nmy $pin_name  = 'VDDIFF';\nmy $test_name = 'PPST';\n\nlocal $/ = 'Device#:';\n\n#print header row - tab separated\nprint {$output} join( \"\\t\", \"Unit#\", \"Test_Name\", \"Pin_Name\", \"Measure_Data\" ),\"\\n\";\n\n\nwhile (&lt;$input&gt;) {\n    s/\\b \\b/_/g;    #turn \"Test Name\" into \"Test_Name\"\n    #split this current chunk on linefeeds\n    my @rows = split(/\\n/);          \n\n    #pop the first line, and extract the number from it\n    my ($device_id) = shift(@rows) =~ m/(\\d+)/;    \n    next unless $device_id;\n    my @header = split( ' ', shift(@rows) );    #read a header row\n    for (@rows) {\n        my %this_row;\n        @this_row{@header} = split;\n        if (    defined $this_row{'Test_Name'}\n                    and $this_row{'Test_Name'} eq $test_name\n                    and $this_row{'Pin'}       eq $pin_name )\n        {\n            print {$output} join( \"\\t\",\n                $device_id,       \n                $this_row{'Test_Name'},\n                $this_row{'Pin'}, \n                $this_row{'Measured'} ),\n                    \"\\n\";\n        }\n    }\n}\n\nclose($input);\nclose($output);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 5130576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bf09e7ef355bb7219259eae3e8234f?s=128&d=identicon&r=PG&f=1", "display_name": "Tree_Chee", "link": "https://stackoverflow.com/users/5130576/tree-chee"}, "edited": false, "score": 0, "creation_date": 1450832418, "post_id": 34418010, "comment_id": 56595316, "body": "Yup,i took others code and modify to get the script i need in the mean time i am learning from the way of writing perl script. I try on the script you write. It work well. Thanks. Beside , i want to ask is there nessecry to have &quot;else&quot; after if statment?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1450794231, "creation_date": 1450794231, "answer_id": 34418010, "question_id": 34409298, "link": "https://stackoverflow.com/questions/34409298/perl-how-to-sort-out-all-the-data-matching-condition-mentioned/34418010#34418010", "title": "Perl: How to sort out all the data matching condition mentioned", "body": "<p>You seem to have written a lot of unnecessary code. It's my guess that you have taken someone else's program that processes the same input file and attempted to modify it for your own purposes. You should really make a serious effort to solve your own problems before asking others to do your work for you</p>\n\n<p>This program does what I think you want. It expects the path to the input file as a parameter on the command line, and sends output to <code>STDOUT</code>, which can be redirected anywhere using the shell</p>\n\n<p>If you save this source in <code>ppst_vddiff.pl</code> then your command line should look like</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ppst_vddiff.pl infile &gt; outfile\n</code></pre>\n\n<h3>Perl code</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings 'all';\n\nmy @header = ( 'Unit#', 'Test_Name', 'Pin_Name', 'Measure_Data;' );\nmy $format = \"%-10s %-15s %-15s %-s\\n\";\n\nprintf $format, @header;\n\nmy $unit;\n\nwhile ( &lt;&gt; ) {\n\n    if ( /^Device#:\\s*(\\d+)/ ) {\n        $unit = $1;\n        next;\n    }\n\n    chomp;\n\n    my @fields = split /\\s{2,}/;\n\n    if ( $fields[3] eq 'PPST' and $fields[4] eq 'VDDIFF' ) {\n        printf $format, $unit, $fields[3], $fields[4], $fields[7];\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Unit#      Test_Name       Pin_Name        Measure_Data;\n12         PPST            VDDIFF          3.8867 uA\n50         PPST            VDDIFF          3.6867 uA\n51         PPST            VDDIFF          3.5867 uA\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5130576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bf09e7ef355bb7219259eae3e8234f?s=128&d=identicon&r=PG&f=1", "display_name": "Tree_Chee", "link": "https://stackoverflow.com/users/5130576/tree-chee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 34418010, "answer_count": 2, "score": 0, "last_activity_date": 1450794631, "creation_date": 1450763619, "last_edit_date": 1450792437, "question_id": 34409298, "link": "https://stackoverflow.com/questions/34409298/perl-how-to-sort-out-all-the-data-matching-condition-mentioned", "title": "Perl: How to sort out all the data matching condition mentioned", "body": "<p>I wish to sort out some parameters from the data below.</p>\n\n<p>For example, if I want to take column 4 PPST and column 5 VDDIFF only, how can I write the counter to take all the data in the file that have PPST and VDDIFF? </p>\n\n<p>If one file has ten devices, how can I get the data for all ten?</p>\n\n<p>My code is below, but it only takes once.</p>\n\n<h3>Example of 3 devices data in a single file:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Device#: 12\nNumber     Site  Result   Test Name                 Pin            Channel     Low            Measured       High           Force        Loc\n0           1    PASS     PPST                      VDDIFF         5         -500.0000 uA   3.8867 uA      1.0000 mA      300.0000 mV    0         \n1           1    PASS     PPST                      VDDSE          6         -500.0000 uA   19.2512 uA     1.0000 mA      300.0000 mV    0         \n2           1    PASS     PPST                      VDDPLL         7         -500.0000 uA   15.6106 uA     1.0000 mA      300.0000 mV    0         \n3           1    PASS     PPST                      VDDIO          4         -500.0000 uA   19.4656 uA     1.0000 mA      300.0000 mV    0         \n4           1    PASS     Cont2gnd                  CPUC0          21        -1.0000 V      -432.2093 mV   -200.0000 mV   -100.0000 uA   0         \n5           1    PASS     Cont2gnd                  CPUT0          4         -1.0000 V      -432.2228 mV   -200.0000 mV   -100.0000 uA   0        \nDevice#: 50\nNumber     Site  Result   Test Name                 Pin            Channel     Low            Measured       High           Force        Loc\n0           1    PASS     PPST                      VDDIFF         5         -500.0000 uA   3.6867 uA      1.0000 mA      300.0000 mV    0         \n1           1    PASS     PPST                      VDDSE          6         -500.0000 uA   19.2512 uA     1.0000 mA      300.0000 mV    0         \n2           1    PASS     PPST                      VDDPLL         7         -500.0000 uA   15.6106 uA     1.0000 mA      300.0000 mV    0         \n3           1    PASS     PPST                      VDDIO          4         -500.0000 uA   19.4656 uA     1.0000 mA      300.0000 mV    0         \n4           1    PASS     Cont2gnd                  CPUC0          21        -1.0000 V      -432.2093 mV   -200.0000 mV   -100.0000 uA   0         \n5           1    PASS     Cont2gnd                  CPUT0          4         -1.0000 V      -432.2228 mV   -200.0000 mV   -100.0000 uA   0     \nDevice#: 51\nNumber     Site  Result   Test Name                 Pin            Channel     Low            Measured       High           Force        Loc\n0           1    PASS     PPST                      VDDIFF         5         -500.0000 uA   3.5867 uA      1.0000 mA      300.0000 mV    0         \n1           1    PASS     PPST                      VDDSE          6         -500.0000 uA   19.2512 uA     1.0000 mA      300.0000 mV    0         \n2           1    PASS     PPST                      VDDPLL         7         -500.0000 uA   15.6106 uA     1.0000 mA      300.0000 mV    0         \n3           1    PASS     PPST                      VDDIO          4         -500.0000 uA   19.4656 uA     1.0000 mA      300.0000 mV    0         \n4           1    PASS     Cont2gnd                  CPUC0          21        -1.0000 V      -432.2093 mV   -200.0000 mV   -100.0000 uA   0         \n5           1    PASS     Cont2gnd                  CPUT0          4         -1.0000 V      -432.2228 mV   -200.0000 mV   -100.0000 uA   0     \n</code></pre>\n\n<h3>Perl source code</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>open( OUT, \"&gt;$outfile\" );\nopen( INF, \"$infile1\" ) || die( \" cannot open input file  \\n\" );\n\n$count = 0;\n$Anam  = 'VDDIFF';\n$Nnam  = 'PPST';\n\nprintf OUT ( \"Unit#  Test_Name   Pin_Name    Measure_Data; \\n\" );\n\n#while ($line1 ne \"\")\nwhile ( &lt;INF&gt; ) {\n\n    @temp1 = split( /\\s+/, $_ );    #($checkR1 eq \"R1\")\n\n    if ( $temp1[2] eq \"1\" ) {       # site =1  on datalog\n\n        print \"1 $Nnam $Anam\\n\";\n\n        $Tnam = \"$temp1[4]\";        # test name\n        $Pnam = \"$temp1[5]\";        # Pin name\n\n        print \"$Tnam $Pnam \\n\";\n        print \"\\n\";\n\n        if ( ( $Pnam eq $Anam ) &amp; ( $Tnam eq $Nnam ) ) {\n            $count = $count + 1;\n        }\n        else {\n            $count = 1;\n        }\n\n        $Anam = $Pnam;              # save as previous Pnam\n        $Nnam = $Tnam;              # save as previous Tnam\n        $Mval = \"$temp1[9]\";\n        $Unum = \"$temp1[10]\";\n\n        printf OUT ( \"$count         $Tnam               $Pnam           $Mval $Unum\\n\" );\n    }\n    else {\n        printf OUT \"$_\\n\";\n    }\n}\n\nclose( INF ) || die \"cannot close file1 !!\";\nclose( OUT );\n\nprint \"all done\\n\";\n</code></pre>\n\n<h3>Output expected will be</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Unit#      Test_Name       Pin_Name        Measure_Data;\n 12        PPST            VDDIFF          3.8867 uA\n 50        PPST            VDDIFF          3.6867 uA\n 51        PPST            VDDIFF          3.5867 uA\n</code></pre>\n"}, {"tags": ["perl", "trace", "re-engineering"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1450762967, "post_id": 34408414, "comment_id": 56559768, "body": "When something is said to be &quot;an open book&quot;,  it means it&#39;s &quot;easily understood&quot;. Is that really what you meant?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1450763085, "post_id": 34408414, "comment_id": 56559810, "body": "In what way did it not work? If you only provide information about the scenario in which it does work, then there&#39;s no way for us to help you."}, {"owner": {"reputation": 2676, "user_id": 2067125, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0a620be3ae4838324674ebd78050f514?s=128&d=identicon&r=PG", "display_name": "AjayKumarBasuthkar", "link": "https://stackoverflow.com/users/2067125/ajaykumarbasuthkar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1450773695, "post_id": 34408414, "comment_id": 56564293, "body": "@ikegami, I actually meant the opposite of it, I have edited it. I have no knowledge of PERL for now. I have inserted the same shebang in xxx_yyy.pm (a perl module), then it does NOT work ... I found other statements in it like yyy__Log::Trace(&quot;Failed - $ret_status-&gt;{erorText}&quot;) these are visible on the console."}, {"owner": {"reputation": 2676, "user_id": 2067125, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0a620be3ae4838324674ebd78050f514?s=128&d=identicon&r=PG", "display_name": "AjayKumarBasuthkar", "link": "https://stackoverflow.com/users/2067125/ajaykumarbasuthkar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1450774164, "post_id": 34408414, "comment_id": 56564530, "body": "These perl modules are invoked from BASH script that call other PERL scripts, running a perl script separately at command prompt would not make sense, we require to trace it from within such environment created by other BASH, PYTHON, PERL scripts."}], "answers": [{"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 0, "last_activity_date": 1516012748, "creation_date": 1516012748, "answer_id": 48261278, "question_id": 34408414, "link": "https://stackoverflow.com/questions/34408414/perl-line-by-line-tracing-activate-deactivate-per-file/48261278#48261278", "title": "Perl line by line tracing activate / deactivate per file", "body": "<p>Since those <em>shebang</em> lines are just comments to Perl, they work only in main Perl programs, not in Perl modules, so you'd have to insert them into the main Perl scripts or run the programs with <code>perl -d:Trace <i>path_to_script</i></code>.</p>\n"}], "owner": {"reputation": 2676, "user_id": 2067125, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0a620be3ae4838324674ebd78050f514?s=128&d=identicon&r=PG", "display_name": "AjayKumarBasuthkar", "link": "https://stackoverflow.com/users/2067125/ajaykumarbasuthkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516012748, "creation_date": 1450758314, "last_edit_date": 1450773105, "question_id": 34408414, "link": "https://stackoverflow.com/questions/34408414/perl-line-by-line-tracing-activate-deactivate-per-file", "title": "Perl line by line tracing activate / deactivate per file", "body": "<p>I have lot of Perl code lines to fix bugs, Perl is closed book for me.</p>\n\n<p>I am looking to trace the code flow using following strategy in shebang:</p>\n\n<pre><code>#!/usr/bin/perl -d:Trace\n</code></pre>\n\n<blockquote>\n  <p>~$ ./trialPerlTracing.pl<br>\n  >> ./trialPerlTracing.pl:12: print \"Statement 1 at line 4\\n\"; Statement 1 at line 4<br>\n  >> ./trialPerlTracing.pl:13: print \"Statement 2 at line 5\\n\"; Statement 2 at line 5<br>\n  >> ./trialPerlTracing.pl:14: print \"Call to sub x returns \", &amp;x(), \" at line 6.\\n\";<br>\n  >> ./trialPerlTracing.pl:20:   print \"In sub x at line 12.\\n\"; In sub x at line 12.<br>\n  >> ./trialPerlTracing.pl:21:   return 13; Call to sub x returns 13 at line 6.<br>\n  >> ./trialPerlTracing.pl:16: exit 0;  </p>\n</blockquote>\n\n<p>This same strategy did NOT work in the actual software I was trying to trace.</p>\n\n<p>I guess somewhere, they have redirected stdout/stderr, how do I redirect to file of my choice selectively?</p>\n"}, {"tags": ["regex", "linux", "perl", "shell", "command-line"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1450757865, "post_id": 34408268, "comment_id": 56558355, "body": "Bash&#39;s built-in regex syntax is ERE, which doesn&#39;t support non-greedy matching. However, you can cheat. For <code>a.*?b</code>, cheating is actually <i>easy</i> (just take the matched text and truncate it at the first <code>b</code>), but we&#39;d have to know your actual RE to say whether it&#39;s amenable to such tricks."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1450757987, "post_id": 34408268, "comment_id": 56558387, "body": "...typically, I&#39;d write that one <code>a[^b]*b</code>, which would make it even BRE-compliant."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1450758273, "post_id": 34408268, "comment_id": 56558449, "body": "<code>grep</code> shouldn&#39;t be exhausting your memory, unless your file contains huge runs without newlines. And if those huge runs are something like NULs, you could just strip them out first."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1450758415, "post_id": 34408268, "comment_id": 56558480, "body": "...by &quot;strip them out first&quot;, I mean something like: <code>tr &#39;\\0&#39; &#39;\\n&#39; &lt;inputfile | grep ...</code>"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1450758459, "post_id": 34408268, "comment_id": 56558496, "body": "If you don&#39;t solve the underlying problem that&#39;s making <code>grep</code> consume all your memory, any other line-oriented program (and that includes both bash and awk, unless you explicitly use a different delimiter) will have the exact same issue; just avoiding <code>grep</code> doesn&#39;t fix anything. [Well -- if it&#39;s really NULs, it might fix <i>something</i>, as bash&#39;s read will either ignore them or terminate strings on hitting them depending on the version, but it would be an exceedingly hacky fix]."}, {"owner": {"reputation": 1185, "user_id": 1736903, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e6cff1838c264956235851cd685f75a?s=128&d=identicon&r=PG", "display_name": "lyrically wicked", "link": "https://stackoverflow.com/users/1736903/lyrically-wicked"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1450758619, "post_id": 34408268, "comment_id": 56558541, "body": "I don&#39;t know the exact reason, but when I use <code>grep -Pzo &#39;(?s)regex1.*?regex2&#39;</code>, and each line is no more than 200 KB in size, I get that error. Maybe I should change that <code>grep</code> code, but how?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1450758737, "post_id": 34408268, "comment_id": 56558567, "body": "Ahh! Now, <i>that&#39;s</i> a useful problem description. Hmm. It&#39;d be interesting to have an actual reproducer (with data)."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1450758827, "post_id": 34408268, "comment_id": 56558590, "body": "That&#39;s possibly the result of pathological matching behaviour. What are regex1 and regex2?"}, {"owner": {"reputation": 1185, "user_id": 1736903, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e6cff1838c264956235851cd685f75a?s=128&d=identicon&r=PG", "display_name": "lyrically wicked", "link": "https://stackoverflow.com/users/1736903/lyrically-wicked"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1450759015, "post_id": 34408268, "comment_id": 56558628, "body": "@rici: They vary, but actually, they are simple, like <code>&lt;a&gt;.*?&lt;&#47;a&gt;</code>"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1450759188, "post_id": 34408268, "comment_id": 56558672, "body": "<code>[&#47;a]</code> might not be what you think it is. Can you put your expression&#39;s meaning into English?"}, {"owner": {"reputation": 1185, "user_id": 1736903, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e6cff1838c264956235851cd685f75a?s=128&d=identicon&r=PG", "display_name": "lyrically wicked", "link": "https://stackoverflow.com/users/1736903/lyrically-wicked"}, "reply_to_user": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1450759407, "post_id": 34408268, "comment_id": 56558740, "body": "@Amadan: see updated comment, that was a typo, of course"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 1, "creation_date": 1450760195, "post_id": 34408268, "comment_id": 56558938, "body": "I can&#39;t reproduce a problem. Using grep -Pzo &#39;(?s)&lt;a&gt;.*?&lt;/a&gt;&#39;, grep seems to execute in constant memory regardless of line length (although I didn&#39;t try really long matches, just really long lines)."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 3, "creation_date": 1450761153, "post_id": 34408268, "comment_id": 56559228, "body": "I&#39;m voting to close this question as off-topic because it seems to be an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. There are good answers here but they don&#39;t solve the OP&#39;s <i>actual</i> problem, which is apparently doomed anyway (<a href=\"http://stackoverflow.com/questions/6751105/why-its-not-possible-to-use-regex-to-parse-html-xml-a-formal-explanation-in-la\">parsing HTML with regular expressions</a>)."}, {"owner": {"reputation": 1185, "user_id": 1736903, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e6cff1838c264956235851cd685f75a?s=128&d=identicon&r=PG", "display_name": "lyrically wicked", "link": "https://stackoverflow.com/users/1736903/lyrically-wicked"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1450761456, "post_id": 34408268, "comment_id": 56559318, "body": "@tripleee: Please, wait, I must ask some additional questions here... And note that it&#39;s not really related to HTML - just replace <code>&lt;&gt;</code> with <code>[]</code>"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1450761693, "post_id": 34408268, "comment_id": 56559402, "body": "It&#39;s not clear from your latest edit which regex is <code>a</code> and which is <code>b</code> and what you want to extract.  But in fact it&#39;s looking more and more like I am right.  If you are parsing a structured format then regex is the wrong tool."}, {"owner": {"reputation": 1185, "user_id": 1736903, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e6cff1838c264956235851cd685f75a?s=128&d=identicon&r=PG", "display_name": "lyrically wicked", "link": "https://stackoverflow.com/users/1736903/lyrically-wicked"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1450761884, "post_id": 34408268, "comment_id": 56559459, "body": "@tripleee: please wait, I am editing the question to show an example of what I want to extract"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1450762137, "post_id": 34408268, "comment_id": 56559534, "body": "Avoid useage of option <code>-z</code>."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1450762140, "post_id": 34408268, "comment_id": 56559535, "body": "I&#39;m done here -- I have cast my close vote and I stand by it.  If you edit your question at this point, you need to make sure you don&#39;t change it so that the answers you have already received are rendered invalid.  In fact, I would perhaps discuss deleting this question and posting a new one with your <i>actual</i> problem, but you need to understand why regular expressions are problematic for what you are apparently attempting; and look for duplicates, because this is a common problem."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1450762222, "post_id": 34408268, "comment_id": 56559551, "body": "The memory exhaustion sounds like your actual regex is much too complex.  If your regex is ambiguous, <code>grep</code> needs to backtrack billions of times before giving up. Each backtrack requires more memory."}, {"owner": {"reputation": 70791, "user_id": 997358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f849cfde4e526e22e916fa69103ef7e7?s=128&d=identicon&r=PG", "display_name": "peak", "link": "https://stackoverflow.com/users/997358/peak"}, "edited": false, "score": 0, "creation_date": 1450762225, "post_id": 34408268, "comment_id": 56559554, "body": "Which grep are you using and on which platform?  Maybe there&#39;s a better grep available on your platform?"}, {"owner": {"reputation": 1185, "user_id": 1736903, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e6cff1838c264956235851cd685f75a?s=128&d=identicon&r=PG", "display_name": "lyrically wicked", "link": "https://stackoverflow.com/users/1736903/lyrically-wicked"}, "edited": false, "score": 0, "creation_date": 1450762806, "post_id": 34408268, "comment_id": 56559727, "body": "Update done. Yes, it looks somewhat complex, but it&#39;s no problem when I open the input file in a text editor and copy such matches. I was just wondering if there was a command-line way for doing this..."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1450763529, "post_id": 34408268, "comment_id": 56559951, "body": "With the clarifications made, I&#39;m actually down with the close vote too. It&#39;s not the arrow-brackets that make regular expressions a bad match for SGML-derived languages, it&#39;s the context dependency and arbitrary nesting -- making it an <b>irregular</b> language, requiring more expressive power to parse than <b>regular</b> expressions can provide."}, {"owner": {"reputation": 1185, "user_id": 1736903, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e6cff1838c264956235851cd685f75a?s=128&d=identicon&r=PG", "display_name": "lyrically wicked", "link": "https://stackoverflow.com/users/1736903/lyrically-wicked"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1450763726, "post_id": 34408268, "comment_id": 56560020, "body": "@CharlesDuffy: If not using regexes, then which way/tool should be chosen to solve such questions?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1450763852, "post_id": 34408268, "comment_id": 56560065, "body": "If the language is actually XML-conformant, then the obvious tool is an XPath implementation (such as <code>xmlstarlet</code> or <code>xmllint --xpath</code>). If it&#39;s not, then you end up using one of the many parser generation toolkits."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1450763912, "post_id": 34408268, "comment_id": 56560084, "body": "...to extract all links, for instance, printing each to its own line: <code>xmlstarlet sel -t -m &#39;&#47;&#47;a&#39; -c . -n</code> -- to print only the URLs, <code>xmlstarlet sel -t -m &#39;&#47;&#47;a&#39; -v .&#47;@href -n</code>. That gets a little more complex if it&#39;s HTML, or if namespaces are in use, but only a little."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1450799067, "post_id": 34408268, "comment_id": 56580165, "body": "lyricallywicked: I feel like the goalposts in this question are constantly moving. If your delimiter regexes themselves contain <code>.*</code> (whether or not it is greedy), then they are considerably more complex than a simple string match. Also, regardless of greediness, you can expect a regex search to always find the match starts first, so it is unrealistic to expect a regex to produce the first output in your updated (4) example. I&#39;m with @CharlesDuffy here: if it is really xml, use xmlstarlet. If not, it will be more work but bison/flex would be worth looking at."}], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1450758143, "post_id": 34408315, "comment_id": 56558426, "body": "Try it yourself: Output of <code>grep -E &#39;a.*?b&#39; -o &lt;&lt;&lt;&quot;a yadda b yadda b&quot;</code> should include only the first <code>yadda</code> if it were properly non-greedy, but actually contains both (in a single match)."}, {"owner": {"reputation": 70791, "user_id": 997358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f849cfde4e526e22e916fa69103ef7e7?s=128&d=identicon&r=PG", "display_name": "peak", "link": "https://stackoverflow.com/users/997358/peak"}, "edited": false, "score": 2, "creation_date": 1450760896, "post_id": 34408315, "comment_id": 56559148, "body": "The -E option of FreeBSD grep (e.g. on a Mac) enables support for non-greedy regex. (/usr/bin/grep --version =&gt; grep (BSD grep) 2.5.1-FreeBSD)"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1450762373, "post_id": 34408315, "comment_id": 56559591, "body": "Can confirm, <code>grep -oE</code> does the correct thing on Mac."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1450801450, "post_id": 34408315, "comment_id": 56581733, "body": "I&#39;ve updated the answer to specify the platforms on which it&#39;s applicable; with that clarified, it has my upvote."}], "tags": [], "owner": {"reputation": 2616, "user_id": 556065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7119c2655f93b306bf0192ee34c575e4?s=128&d=identicon&r=PG", "display_name": "Reuben L.", "link": "https://stackoverflow.com/users/556065/reuben-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1450801306, "last_edit_date": 1450801306, "creation_date": 1450757554, "answer_id": 34408315, "question_id": 34408268, "link": "https://stackoverflow.com/questions/34408268/how-to-extract-multiple-non-greedy-regex-matching-parts-from-a-line/34408315#34408315", "title": "How to extract multiple non-greedy regex-matching parts from a line?", "body": "<p>This can be achieved using <code>grep</code>, with a modern BSD grep (such as that on Mac OS).</p>\n\n<pre><code>grep -E \"a.*?b\" -o file\n</code></pre>\n\n<p><code>.*?</code> performs a non-greedy match.</p>\n\n<p>On platforms with only GNU grep, <code>-P</code> may need to be used instead of <code>-E</code>; on baseline-POSIX platforms or SysV-derived Unixen, this may not work at all (as <A HREF=\"http://pubs.opengroup.org/onlinepubs/009696899/basedefs/xbd_chap09.html\" rel=\"nofollow\">POSIX ERE</A> does not specify non-greedy matching, and <A HREF=\"http://pubs.opengroup.org/onlinepubs/009604499/utilities/grep.html\" rel=\"nofollow\">the POSIX standard for <code>grep</code></A> does not define <code>-o</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1450758030, "post_id": 34408365, "comment_id": 56558393, "body": "Exact same trick I would use in native bash, if the OP approves it (see first comment on the question talking about &quot;cheating&quot;)."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1450758718, "post_id": 34408365, "comment_id": 56558563, "body": "This won&#39;t work if <code>a</code> can occur between an <code>a</code> and a <code>b</code>. You can fix that, but more seriously, it will fail when the <code>a</code> and <code>b</code> matches can overlap. For an obvious example, take <code>a</code> to be the string (not regex) <code>&#47;*</code> and <code>b</code> to be <code>*&#47;</code>, so that the goal is to produce the contents of all the C-style comments. Now try your algorithm on the line <code>&#47;* ... &#47;*&#47; --- &#47;*&#47; ...*&#47;</code> (Example is more elaborate than necessary.)"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1450758981, "post_id": 34408365, "comment_id": 56558618, "body": "@rici: That is a fair criticism. However, a) I was answering the question as posted; it provides the correct answer for the example in the OP, and b) I did insist that it is merely an intellectual exercise, and should never be used in production."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1450759552, "post_id": 34408365, "comment_id": 56558782, "body": "amadan: It provides the correct answer for the example, but the question states that the regexes might be more complicated. Mine are not much more complicated, and actually in my example the open pattern does not really occur inside the enclosed a..b string (it only occurs if you match the open pattern before you try the close pattern).  @charlesDuffy&#39;s proposal will work (if I understand it correctly), but it will only find one match at a time, so you need to edit the string as you go."}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1450760157, "post_id": 34408365, "comment_id": 56558928, "body": "@rici: &quot;They vary, but actually, they are simple, like <code>&lt;a&gt;.*?&lt;&#47;a&gt;</code>&quot; - my approach still works (especially if we assume the not-unreasonable conjecture that the content is well-formed HTML or XML). The point is moot though - I repeat, this should never be used, and instead a capable tool should be selected instead."}, {"owner": {"reputation": 70791, "user_id": 997358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f849cfde4e526e22e916fa69103ef7e7?s=128&d=identicon&r=PG", "display_name": "peak", "link": "https://stackoverflow.com/users/997358/peak"}, "edited": false, "score": 0, "creation_date": 1450761491, "post_id": 34408365, "comment_id": 56559327, "body": "Since &quot;perl -ne&quot; was mentioned, here&#39;s a similar one-liner using ruby: <code>ruby -ne  &#39;$_.scan( &#47;a.*?b&#47; ) {|x| puts x}&#39;</code>"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 70791, "user_id": 997358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f849cfde4e526e22e916fa69103ef7e7?s=128&d=identicon&r=PG", "display_name": "peak", "link": "https://stackoverflow.com/users/997358/peak"}, "edited": false, "score": 0, "creation_date": 1450761631, "post_id": 34408365, "comment_id": 56559378, "body": "@peak: Golfed a bit, <code>ruby -ne &#39;puts $_.scan(&#47;a.*?b&#47;)&#39;</code> is sufficient. But although I vastly prefer Ruby to Perl, it is slower to invoke, and it is not guaranteed to be present to the degree Perl is."}, {"owner": {"reputation": 1185, "user_id": 1736903, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e6cff1838c264956235851cd685f75a?s=128&d=identicon&r=PG", "display_name": "lyrically wicked", "link": "https://stackoverflow.com/users/1736903/lyrically-wicked"}, "edited": false, "score": 0, "creation_date": 1450761676, "post_id": 34408365, "comment_id": 56559396, "body": "@Amadan: Thank you. I have a few questions. 1. &quot;a capable tool should be selected instead&quot; - what tool? 2. Can you show how to specify the paths to the input and output file (I am not familiar with Perl syntax)? 3. I updated the question - see an example of a complex regex1/regex2, and replace <code>&lt;&gt;</code> chars with <code>[]</code> (as a string, not regex). Is it possible to modify your Perl solution with this?"}, {"owner": {"reputation": 1185, "user_id": 1736903, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e6cff1838c264956235851cd685f75a?s=128&d=identicon&r=PG", "display_name": "lyrically wicked", "link": "https://stackoverflow.com/users/1736903/lyrically-wicked"}, "edited": false, "score": 0, "creation_date": 1450763100, "post_id": 34408365, "comment_id": 56559817, "body": "@Amadan: Thank you again, I am starting to test this... sorry, I forgot to ask: what syntax would you use if a newline is not exactly <code>\\n</code> - it may be <code>\\n</code> <b>OR</b> <code>\\r\\n</code>?"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1450763337, "post_id": 34408365, "comment_id": 56559894, "body": "The <code>print map { &quot;$_\\n&quot; } &#47;regexp&#47;g</code> will find all matches of <code>&#47;regexp&#47;</code>, then transform them (using <code>map</code>) so that each match (<code>$_</code>) gets also a newline to it, then print out the whole mess. Line splitting of the input is done by the <code>-n</code> switch, and will work with <code>\\r\\n</code> just as well as with <code>\\n</code>. Although, it seems <code>grep</code> with either <code>-P</code> or <code>-E</code> is also sufficient to the task. <code>awk</code> and <code>bash</code>, not really meant for this."}], "tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": true, "score": 2, "last_activity_date": 1450762274, "last_edit_date": 1450762274, "creation_date": 1450757957, "answer_id": 34408365, "question_id": 34408268, "link": "https://stackoverflow.com/questions/34408268/how-to-extract-multiple-non-greedy-regex-matching-parts-from-a-line/34408365#34408365", "title": "How to extract multiple non-greedy regex-matching parts from a line?", "body": "<p>Pure AWK hackery:</p>\n\n<pre><code>awk 'BEGIN{RS=\"a\"}/b/&amp;&amp;NR!=1{sub(/b.*/,\"\");if($0!~\"\\n\")print\"a\"$0\"b\"}'\n</code></pre>\n\n<ul>\n<li>Split the file by <code>a</code> and ignore the first segment (pre-<code>a</code>).</li>\n<li>If there is no <code>b</code> in the segment, ignore it.</li>\n<li>Cut off everything at first <code>b</code> and further.</li>\n<li>If there is a newline in the segment, ignore it.</li>\n<li>Reconstruct the cut-off <code>\"a\"</code> and <code>\"b\"</code> and print.</li>\n</ul>\n\n<p>I don't think you should ever, ever use this. Use <code>perl</code> - it is present on pretty much any system where <code>awk</code> is present, and makes this task a breeze:</p>\n\n<pre><code>perl -ne 'print map { \"$_\\n\" } /a.*?b/g;'\n</code></pre>\n\n<p>This works even on systems whose <code>grep</code> does not support PCRE, as Perl by definition supports PCRE. (I don't know about the memory exhausted error - as rici says, it should not happen with non-pathological regexps.)</p>\n\n<p><strong>EDIT</strong> in response to additional questions by OP:</p>\n\n<p>\"capable tool\" being anything that supports non-greedy operator and multiple matches per line - in this case, <code>perl</code> as being the best compromise between ubiquity, expressivity and speed.</p>\n\n<p>The line as written is a filter - you supply input in standard input, you get output in standard output - exactly like you'd use <code>awk</code> or <code>sed</code>.</p>\n\n<p>The standard regexp syntax applies: square brackets and slashes need escaping.</p>\n\n<pre><code>perl -ne 'print map { \"$_\\n\" } /\\[a\\].*?\\[b\\].*?\\[\\/b\\].*?\\[\\/a\\]/g;' &lt;infile &gt;outfile\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1185, "user_id": 1736903, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e6cff1838c264956235851cd685f75a?s=128&d=identicon&r=PG", "display_name": "lyrically wicked", "link": "https://stackoverflow.com/users/1736903/lyrically-wicked"}, "edited": false, "score": 0, "creation_date": 1450770459, "post_id": 34410208, "comment_id": 56562733, "body": "Thank you, and can AWK be applied to my second example?"}], "tags": [], "owner": {"reputation": 3396, "user_id": 2586108, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9bfe0d3e55c7d7a9693c713a67d8618?s=128&d=identicon&r=PG", "display_name": "John B", "link": "https://stackoverflow.com/users/2586108/john-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1450767860, "creation_date": 1450767860, "answer_id": 34410208, "question_id": 34408268, "link": "https://stackoverflow.com/questions/34408268/how-to-extract-multiple-non-greedy-regex-matching-parts-from-a-line/34410208#34410208", "title": "How to extract multiple non-greedy regex-matching parts from a line?", "body": "<p>The search itself can be written in Awk:</p>\n\n<pre><code>$ awk '{\n    split($0, line, \"\")\n    m=\"\"\n    for(i in line) {\n        if(line[i] == \"a\")\n            m=line[i]\n        else if(m)\n            m=m line[i]\n        if(m &amp;&amp; line[i] == \"b\") {\n            print m\n            m=\"\"\n        }\n    }\n}' file\nab\naijkb\naob\na .. b\n</code></pre>\n"}], "owner": {"reputation": 1185, "user_id": 1736903, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e6cff1838c264956235851cd685f75a?s=128&d=identicon&r=PG", "display_name": "lyrically wicked", "link": "https://stackoverflow.com/users/1736903/lyrically-wicked"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1268, "favorite_count": 0, "accepted_answer_id": 34408365, "answer_count": 3, "score": 0, "last_activity_date": 1450801306, "creation_date": 1450757139, "last_edit_date": 1450765653, "question_id": 34408268, "link": "https://stackoverflow.com/questions/34408268/how-to-extract-multiple-non-greedy-regex-matching-parts-from-a-line", "title": "How to extract multiple non-greedy regex-matching parts from a line?", "body": "<p>If I have a file like this:  </p>\n\n<pre><code>abc defghaijkb,mnaobpqa\npbqaaa\nqrs - a .. b ...\ncde\n</code></pre>\n\n<p>How to extract all the parts which start with <code>a</code> and end with <code>b</code> (I choose these chars to simplify the example, they may be replaced with some more complex regex)? This is a desired output:  </p>\n\n<pre><code>ab\naijkb\naob\na .. b\n</code></pre>\n\n<p>(Putting each item at a separate line). Since there's no non-greedy matching (<code>.*?</code>) in (g)awk, I cannot find how to solve this (eg. using <code>split</code>).  </p>\n\n<p>Note 1: there will be no need to use multiline matching - that is, no newlines allowed between <code>regex1</code> and <code>regex2</code>.  </p>\n\n<p>Note 2: I don\u2019t want to use <code>sed</code>, I want to know if this can be done with awk, or bash, or some another command-line tool that processes an input file line-by-line...  AWK seems to be a nice solution, but... if only it supported non-greedy <code>.*?</code></p>\n\n<p>Note 3: I cannot use <code>grep</code> because I am always getting <code>memory exhausted</code> error when I deal with huge files.</p>\n\n<p>Note 4. Here is an example of a more complex <code>regex1</code> and <code>regex2</code>. What if they can contain non-greedy <code>.*?</code> ? Eg. <code>&lt;a&gt;.*?&lt;b&gt;.*?&lt;/b&gt;.*?&lt;/a&gt;</code>. </p>\n\n<p>Update. More complex example:  </p>\n\n<pre><code>[a]text1[a]text000[b]text2[/b]text11[/a]c defgh[a]text3[b]text33[/b]text333[/a]...[/a],mnaobpqa\n...[b]aa[/b]bb[/a],,,\nqa - [a][b][/b][/a] aabbcc ...\ncde\n</code></pre>\n\n<p>Desired output:  </p>\n\n<pre><code>[a]text000[b]text2[/b]text11[/a]\n[a]text3[b]text33[/b]text333[/a]\n[a][b][/b][/a]\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1450799538, "post_id": 34406103, "comment_id": 56580478, "body": "Actually I did run the installers. These are the names of the directories, because I set my PREFIX in perl Makefile.PL such that it creates a module directory name/version/installation-happens-here."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1450799625, "post_id": 34406103, "comment_id": 56580541, "body": "Then you need to include <i>every single one</i> of your <code>module directory name&#47;version&#47;installation-happens-here</code> directories in your PERL5LIB path."}, {"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1450799798, "post_id": 34406103, "comment_id": 56580651, "body": "Yes, exactly that is what I was confused about. What I thought was that I can create specific directories for installation and just put the parent folder name in PERL5LIB path and that perl will search for modules starting from the parent folder and so on. So, what is the best practice if I just want one single library folder?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1450799845, "post_id": 34406103, "comment_id": 56580668, "body": "To not change PREFIX all the time."}, {"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1450799971, "post_id": 34406103, "comment_id": 56580756, "body": "Thanks for the advice. I will just create one library folder and then install all my modules in it."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 7, "last_activity_date": 1450740514, "creation_date": 1450740514, "answer_id": 34406103, "question_id": 34406049, "link": "https://stackoverflow.com/questions/34406049/how-to-organize-perl-modules/34406103#34406103", "title": "How to organize Perl modules", "body": "<p>Given the names of the directories listed:</p>\n\n<blockquote>\n  <p>Data-UUID  IPC-System-Simple  JSON  Log-Message  Math-Gradient  Term-UI</p>\n</blockquote>\n\n<p>It looks like you <strong>haven't</strong> installed the modules at all. It looks like you've downloaded the package tarballs, extracted them, and then <strong>not run the installers</strong>.</p>\n\n<p>You need to go into each directory and:</p>\n\n<pre><code>perl Makefile.PL\nmake\nmake test\nmake install\n</code></pre>\n\n<p>Better yet, install them using <a href=\"https://metacpan.org/pod/distribution/Menlo/script/cpanm-menlo\" rel=\"noreferrer\">cpanm</a> or another of the programs that download modules, resolve their dependancies and install them for you.</p>\n"}, {"comments": [{"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1450799585, "post_id": 34407002, "comment_id": 56580506, "body": "Ok I understand now. Thanks!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1450746698, "creation_date": 1450746698, "answer_id": 34407002, "question_id": 34406049, "link": "https://stackoverflow.com/questions/34406049/how-to-organize-perl-modules/34407002#34407002", "title": "How to organize Perl modules", "body": "<p>Perl requires a specific directory structure within the path specified by <code>PERL5LIB</code>. For instance <code>IPC-System-Simple</code> must be installed in a file <code>IPC/System/Simple.pm</code>. etc. You can't just go making up directory structures and hope Perl can work out your structure and find what it needs</p>\n"}], "owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 34406103, "answer_count": 2, "score": 1, "last_activity_date": 1450746698, "creation_date": 1450740200, "question_id": 34406049, "link": "https://stackoverflow.com/questions/34406049/how-to-organize-perl-modules", "title": "How to organize Perl modules", "body": "<p>I have a directory structure like this:</p>\n\n<pre><code>/path/to/lib/perl5/5.22.1\n</code></pre>\n\n<p>I have installed some perl modules in that directory in a particular format:</p>\n\n<pre><code>ls\nData-UUID  IPC-System-Simple  JSON  Log-Message  Math-Gradient  Term-UI\n</code></pre>\n\n<p>For example, if you go inside JSON, the directory looks like this:</p>\n\n<pre><code>/path/to/lib/perl5/5.22.1/JSON/2.53\n</code></pre>\n\n<p>All my modules are organized like this: </p>\n\n<pre><code>/path/to/lib/perl5/5.22.1/Module-name/Module-version/...\n</code></pre>\n\n<p>I have added /path/to/lib/perl5/5.22.1 to my PERL5LIB like this:</p>\n\n<pre><code>export PERL5LIB=/path/to/lib/perl5/5.22.1:$PERL5LIB\n</code></pre>\n\n<p>But my scripts are not able to find the perl modules. Do you think the directory structure is a problem? I just made this structure so that I have it organized as perl-module-name/module-version. Suggestions are much appreciated.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1450739818, "post_id": 34405905, "comment_id": 56553756, "body": "See <a href=\"http://stackoverflow.com/questions/206661/what-is-the-best-way-to-slurp-a-file-into-a-string-in-perl\">What is the best way to slurp a file into a string in Perl?</a>"}, {"owner": {"reputation": 1442, "user_id": 1571903, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/93c1ca5d997fbe4cdef0b1bb074d152d?s=128&d=identicon&r=PG", "display_name": "Ryan Griffith", "link": "https://stackoverflow.com/users/1571903/ryan-griffith"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1450744923, "post_id": 34405905, "comment_id": 56555328, "body": "@H&#229;konH&#230;gland, please see my update. Thank you for your input but unfortunately, not what I&#39;m looking for."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1450746419, "post_id": 34405905, "comment_id": 56555720, "body": "<i>&quot;where I can perform a regex against the final output of my cat command&quot;</i> I&#39;m not sure what this means. Do you mean the <i>last</i> line of the piped data?"}, {"owner": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "edited": false, "score": 0, "creation_date": 1450759308, "post_id": 34405905, "comment_id": 56558698, "body": "I read your update as saying that you&#39;re looking for a way to perform a match against streaming input (e.g. buffered input from a pipe) while taking into account that a matching string may end up split across buffer boundaries. Is that correct?"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "edited": false, "score": 0, "creation_date": 1450769894, "post_id": 34405905, "comment_id": 56562438, "body": "@Slade that&#39;s how I took it too. Ryan, if you&#39;re considering an HTTP connection that is always open (for instance a socket), then what you&#39;re desiring may not be desired unless you aggregate your stream and continually search the aggregation at some interval or event.  Imagine a chat log, where the chat is on-going. You could certainly use a multi-line flag (<code>&#47;&#47;s</code>), but that&#39;d get expensive if your string is always starting from the beginning. You need another mechanism to control the text string, but I think you&#39;re looking for that <code>s</code> modifier (<a href=\"http://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html#Modifiers</a>)."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1450770192, "post_id": 34405905, "comment_id": 56562598, "body": "I should add, if you don&#39;t aggregate the string, you will only be searching the buffer.  Which means you may have text you want to match, but spans the two buffers.  I&#39;m not sure of how to search that, without aggregating/concatenating the string."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450770792, "post_id": 34405905, "comment_id": 56562919, "body": "Can  you give some example input and output?"}], "answers": [{"tags": [], "owner": {"reputation": 1278, "user_id": 3598703, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a4d8dbd4290d1fab2c1e711b9a9377?s=128&d=identicon&r=PG", "display_name": "Boying", "link": "https://stackoverflow.com/users/3598703/boying"}, "is_accepted": false, "score": 1, "last_activity_date": 1451209938, "creation_date": 1451209938, "answer_id": 34479315, "question_id": 34405905, "link": "https://stackoverflow.com/questions/34405905/perl-read-input-pipe-as-single-variable/34479315#34479315", "title": "Perl - Read input pipe as single variable", "body": "<p>To answer your question directly:</p>\n\n<pre><code>cat aaaa.txt | perl -ne 'BEGIN{local $/};print for /a/gi'\n</code></pre>\n\n<p>To get what your stuff work:</p>\n\n<pre><code>cat aaaa.txt | perl -ne ';print if /aaaa/gi'\n</code></pre>\n"}], "owner": {"reputation": 1442, "user_id": 1571903, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/93c1ca5d997fbe4cdef0b1bb074d152d?s=128&d=identicon&r=PG", "display_name": "Ryan Griffith", "link": "https://stackoverflow.com/users/1571903/ryan-griffith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1451209938, "creation_date": 1450739252, "last_edit_date": 1450744888, "question_id": 34405905, "link": "https://stackoverflow.com/questions/34405905/perl-read-input-pipe-as-single-variable", "title": "Perl - Read input pipe as single variable", "body": "<p>I have a very simple perl script which I perform some regex on the value of the data piped to my <code>perl</code> command. ex:</p>\n\n<pre><code> cat /tmp/myfile.txt | perl -wnE\"say for /my_pattern/gi\"\n</code></pre>\n\n<p>Note, I do realize in my current setup that the <code>-n</code> option wraps my command ex:</p>\n\n<pre><code>while(&lt;&gt;){\n    say for /my_pattern/gi\n}\n</code></pre>\n\n<p>...thus iterating over each line of input.</p>\n\n<p>I'd like to change this where I can perform a regex against the final output of my <code>cat</code> command. All examples I find show processing input line by line.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p><strong>Update:</strong> </p>\n\n<p>To be clear, I'm referring to any pipe, not only reading from a file as in my example (think <code>curl</code>, <code>wget</code>, <code>echo</code>, etc...) I'm not sure it is even possible given the fact that the originating command could be long-lived or run for an \"indefinite\" period of time.</p>\n"}, {"tags": ["perl", "type-2-dimension"], "answers": [{"comments": [{"owner": {"reputation": 479, "user_id": 3595231, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d5451a5e41eae7299deb485e11dc5041?s=128&d=identicon&r=PG&f=1", "display_name": "user3595231", "link": "https://stackoverflow.com/users/3595231/user3595231"}, "edited": false, "score": 0, "creation_date": 1450740969, "post_id": 34405492, "comment_id": 56554164, "body": "Thanks for the tips. But if I was using Data::Dumper, this is what I get: $VAR1 = bless( {                  &#39;item&#39; =&gt; {                            &#39;item&#39; =&gt; undef                          }                }, &#39;stringArrayArray&#39; );  which totally lost me."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 479, "user_id": 3595231, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d5451a5e41eae7299deb485e11dc5041?s=128&d=identicon&r=PG&f=1", "display_name": "user3595231", "link": "https://stackoverflow.com/users/3595231/user3595231"}, "edited": false, "score": 0, "creation_date": 1450769934, "post_id": 34405492, "comment_id": 56562456, "body": "Your api is returning junk then. That&#39;s the root of your problem - you have a nested hash that you could access as: <code>$service -&gt; {item} -&gt; {item}</code> but it is undefined."}, {"owner": {"reputation": 479, "user_id": 3595231, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d5451a5e41eae7299deb485e11dc5041?s=128&d=identicon&r=PG&f=1", "display_name": "user3595231", "link": "https://stackoverflow.com/users/3595231/user3595231"}, "edited": false, "score": 0, "creation_date": 1450897432, "post_id": 34405492, "comment_id": 56625775, "body": "Thanks for the help. There is a tiny issue on the web-service side. And after I had it fixed, here is full set of data from dumper, &quot;$VAR1 = {           &#39;item&#39; =&gt; {                     &#39;item&#39; =&gt; &#39;0&#39;                   }         }; &quot;. But there is still no actual data in the package. I guess my question is can client ( in perl ) really gets the full set of response from ws ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 479, "user_id": 3595231, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d5451a5e41eae7299deb485e11dc5041?s=128&d=identicon&r=PG&f=1", "display_name": "user3595231", "link": "https://stackoverflow.com/users/3595231/user3595231"}, "edited": false, "score": 0, "creation_date": 1450909439, "post_id": 34405492, "comment_id": 56631127, "body": "Yes, of course. You don&#39;t have to use soap lite, you can manually process the response with LWP and a parser. This should at least give a hint."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1450737315, "creation_date": 1450737315, "answer_id": 34405492, "question_id": 34405257, "link": "https://stackoverflow.com/questions/34405257/how-to-get-the-2-d-array-data-in-perl-script/34405492#34405492", "title": "How to get the 2-D Array data in perl script?", "body": "<p>That means your modules has returned a hash reference. You can see what's in it with e.g. <code>Data::Dumper</code> </p>\n\n<p>Or:</p>\n\n<pre><code>foreach my $key ( keys %$status ) { \n   print \"$key =&gt; \", $status -&gt; {$key}, \"\\n\"; \n}\n</code></pre>\n\n<p>See: <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\"><code>perlref</code></a></p>\n"}], "owner": {"reputation": 479, "user_id": 3595231, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d5451a5e41eae7299deb485e11dc5041?s=128&d=identicon&r=PG&f=1", "display_name": "user3595231", "link": "https://stackoverflow.com/users/3595231/user3595231"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450763156, "creation_date": 1450736232, "last_edit_date": 1450763156, "question_id": 34405257, "link": "https://stackoverflow.com/questions/34405257/how-to-get-the-2-d-array-data-in-perl-script", "title": "How to get the 2-D Array data in perl script?", "body": "<p>We have a client code which is written in perl, and it is trying to connect to a WebService to make an API call.  </p>\n\n<ol>\n<li>This API call is written in java, and it returns a 2-Dimemsion String Array. </li>\n<li>Here is the code on Client side: </li>\n</ol>\n\n<pre>\n\n    eval {\n            $service = SOAP::Lite->service(\"some WS link here\");\n    };\n    if ($exception = $@) {\n            print(\"Failed to connect to WS: $exception\");\n            return 0;\n    }\n\n    my $status;\n    eval {\n            $status = $service->getStatus();\n    };\n    if ($exception = $@) {\n            print(\"$exception\");\n            return 0;\n    }\n\n</pre>\n\n<p>My question is how to extract the actual data from this \"$status\" value. When I was to print this \"$status\" value, I can only see this:   </p>\n\n<pre>\n\n     DB> p $status\n     stringArrayArray=HASH(0x126e2ac0)\n     DB>\n\n</pre>\n"}, {"tags": ["perl", "decimal"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1450724017, "post_id": 34402394, "comment_id": 56546336, "body": "Math::BigRat and Math::Decimal would do the trick."}, {"owner": {"reputation": 855, "user_id": 171904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a0390f4735186f253c2b3dae1195c93?s=128&d=identicon&r=PG", "display_name": "Missaka Wijekoon", "link": "https://stackoverflow.com/users/171904/missaka-wijekoon"}, "edited": false, "score": 1, "creation_date": 1450724080, "post_id": 34402394, "comment_id": 56546372, "body": "Remove the quotes from your decimals and integers."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 855, "user_id": 171904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a0390f4735186f253c2b3dae1195c93?s=128&d=identicon&r=PG", "display_name": "Missaka Wijekoon", "link": "https://stackoverflow.com/users/171904/missaka-wijekoon"}, "edited": false, "score": 5, "creation_date": 1450724114, "post_id": 34402394, "comment_id": 56546390, "body": "@Missaka Wijekoon, The quotes are harmless. You&#39;re missing the point. Try <code>perl -E&#39;say 0.1 + 0.1 + 0.1 == 0.3 ? &quot;equal&quot; : &quot;not equal&quot;&#39;</code>"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 5, "creation_date": 1450724223, "post_id": 34402394, "comment_id": 56546450, "body": "Another <i>very</i> old tactic is to do integer math against the smallest unit.  Instead of 0.1 dollars use 10 cents."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1450724537, "post_id": 34402394, "comment_id": 56546607, "body": "This question has got my interest, would love to hear an answer for why adding and printing them works but comparing them doesnt."}, {"owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1450724550, "post_id": 34402394, "comment_id": 56546612, "body": "@tjd: I get input as strings, and it&#39;s not only amounts of money (could be rate, percentage, etc.)"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 4, "creation_date": 1450724923, "post_id": 34402394, "comment_id": 56546817, "body": "Great.  Get your input as strings, we all do.  You should still know which items are &quot;money&quot; and convert to the smallest appropriate unit.  &quot;Cents&quot; for US currency, &quot;eighths of a dollar&quot; for US stock transactions, etc.  You should also be <i>very</i> clear about your &quot;rounding&quot; algorithm when playing around with &quot;rates&quot; &amp; &quot;percentages&quot;.  Don&#39;t just &quot;hope for the best&quot;."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 1, "creation_date": 1450726151, "post_id": 34402394, "comment_id": 56547489, "body": "@ChrisDoyle Because exact non-integer numbers in decimal (our base-10 UI to numbers) often cannot get exact representations in binary, so will always have some (very small) rounding error. The exact value of the error will differ for different operations on the numbers. As to why printing &quot;works&quot;: the print routines have a precision cutoff."}, {"owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1450727493, "post_id": 34402394, "comment_id": 56548175, "body": "@tjd that&#39;s very fragile when used inside calculations."}, {"owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1450728066, "post_id": 34402394, "comment_id": 56548477, "body": "@tjd consider some calculation dividing it by two, then multiplying it by three. You don&#39;t want data to be lost there."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "edited": false, "score": 1, "creation_date": 1450728565, "post_id": 34402394, "comment_id": 56548700, "body": "@Elyse which is why I said that you need to be very aware of your rounding.  Regardless of how much you don&#39;t want to loose &quot;information&quot;, you still can&#39;t bill or reimburse anyone in fractional smallest units."}], "answers": [{"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 4, "creation_date": 1450727174, "post_id": 34402892, "comment_id": 56548024, "body": "Use of floating point numbers in an accounting scenario is a remarkably bad idea, not least of which is the accumulation of these round-off errors."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1450727295, "post_id": 34402892, "comment_id": 56548080, "body": "You can get the actual epsilon from <a href=\"https://metacpan.org/pod/POSIX\" rel=\"nofollow noreferrer\">POSIX.pm</a>.  <code>use POSIX qw(DBL_EPSILON);</code>"}], "tags": [], "owner": {"reputation": 855, "user_id": 171904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a0390f4735186f253c2b3dae1195c93?s=128&d=identicon&r=PG", "display_name": "Missaka Wijekoon", "link": "https://stackoverflow.com/users/171904/missaka-wijekoon"}, "is_accepted": false, "score": -4, "last_activity_date": 1450725835, "creation_date": 1450725835, "answer_id": 34402892, "question_id": 34402394, "link": "https://stackoverflow.com/questions/34402394/how-do-i-perform-decimal-arithmetic-in-perl/34402892#34402892", "title": "How do I perform decimal arithmetic in Perl?", "body": "<p>Best way I know how is to test with absolute diff being less than a tolerance.  For example:</p>\n\n<p>perl -e '$x = 0.1 + 0.1 + 0.1; $y = 0.3; $q = abs($x - $y) &lt; 0.0001 ? \"EQUAL\" : \"NOT EQUAL\"; print $q . \"\\n\";'</p>\n"}, {"comments": [{"owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "edited": false, "score": 0, "creation_date": 1450732186, "post_id": 34403245, "comment_id": 56550535, "body": "<code>Math::BigFloat</code> seems to work for me, although it&#39;s obviously still floating point arithmetic. I&#39;m surprised there&#39;s no core module to do decimal arithmetic."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1450732825, "post_id": 34403245, "comment_id": 56550829, "body": "@engene y, Math::BigRat does lossless arithmetic, and it has been in core since 5.8.0."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "edited": false, "score": 1, "creation_date": 1450733403, "post_id": 34403245, "comment_id": 56551086, "body": "@eugeney It&#39;s done with integers under the hood. <code>0.01</code> becomes <code>1</code> with an exponent of <code>2</code>. Every arbitrary precision library has to have a limit to its precision else you can very, very easily exhaust memory. For example, <code>1&#47;3</code>. Python&#39;s Decimal stops at 30 places. Math::BigFloat goes out to 40. <a href=\"https://metacpan.org/pod/Math::BigFloat#Accuracy-vs.-Precision\" rel=\"nofollow noreferrer\">Math::BigFloat discusses this problem</a>. If you want more precision, use <a href=\"https://metacpan.org/pod/Math::BigRat\" rel=\"nofollow noreferrer\">Math::BigRat</a>.  It stores fractions as fractions. <code>use bigrat; print 1&#47;3</code> gives <code>1&#47;3</code>."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 8, "last_activity_date": 1450729262, "last_edit_date": 1450729262, "creation_date": 1450727146, "answer_id": 34403245, "question_id": 34402394, "link": "https://stackoverflow.com/questions/34402394/how-do-i-perform-decimal-arithmetic-in-perl/34403245#34403245", "title": "How do I perform decimal arithmetic in Perl?", "body": "<p>(NOTE: There is <a href=\"https://metacpan.org/pod/Math::Currency\" rel=\"nofollow\">Math::Currency</a> but it is currently broken).</p>\n\n<p>Use <a href=\"https://metacpan.org/pod/Math::BigFloat\" rel=\"nofollow\"><code>Math::BigFloat</code></a> to represent numbers as arbitrary precision objects.</p>\n\n<pre><code>use Math::BigFloat;\n\nprint Math::BigFloat-&gt;new(0.1) +\n      Math::BigFloat-&gt;new(0.1) +\n      Math::BigFloat-&gt;new(0.1) == Math::BigFloat-&gt;new(0.3);\n</code></pre>\n\n<p>You can do this automatically with <a href=\"https://metacpan.org/pod/bignum\" rel=\"nofollow\"><code>bignum</code></a>...</p>\n\n<pre><code>use bignum;\n\nprint 0.1 + 0.1 + 0.1 == 0.3;\n</code></pre>\n\n<p><strong><em>BUT!</em></strong> the magic only works on <em>numbers</em>.  If you try to add strings together it won't work, the magic comes too late.  You have to explicitly force them to be numbers.  To numify a string you can add 0 to the string, like <code>$a += 0</code>.  Or you can force an equation to be done as bignums by starting with <code>0 +</code> and it will cascade down the line.</p>\n\n<pre><code>use bignum;\n\n$a = \"0.1\";\n$b = \"0.1\";\n$c = \"0.1\";\n$d = \"0.3\";\n\n# False\nprint $a + $b + $c == $d;\n\n# True\nprint 0 + $a + $b + $c == $d;\n</code></pre>\n\n<p>Two caveats.</p>\n\n<p>First, this all comes at a heavy performance cost.  Not only for doing arbitrary precision math, but for all the methods and overloading magic.  Benchmark it to see if this is acceptable.  Fortunately <code>bignum</code> only upgrades numbers in its scope, not the whole program.  It's also safe to use those numbers outside of <code>bignum</code>'s scope, any math done with them will also be upgraded.</p>\n\n<p>Second, <a href=\"https://docs.python.org/2/library/decimal.html\" rel=\"nofollow\">Decimal</a> will preserve significant figures.  Math::BigFloat will not.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6837676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0787ea487885a7038e22896fc1a0a32?s=128&d=identicon&r=PG&f=1", "display_name": "P. Pirn", "link": "https://stackoverflow.com/users/6837676/p-pirn"}, "is_accepted": false, "score": 0, "last_activity_date": 1549254967, "creation_date": 1549254967, "answer_id": 54510190, "question_id": 34402394, "link": "https://stackoverflow.com/questions/34402394/how-do-i-perform-decimal-arithmetic-in-perl/54510190#54510190", "title": "How do I perform decimal arithmetic in Perl?", "body": "<p>Here's how you might use <a href=\"https://metacpan.org/pod/Math::Decimal\" rel=\"nofollow noreferrer\">Math::Decimal</a> for division:</p>\n\n<pre><code>use 5.024003; # use `say'\nuse Math::Decimal qw( \n                     dec_mul_pow10 \n                     dec_neg \n                     dec_rndiv \n                    ); \nmy $num_1 = '3'; \nmy $num_2 = '7'; \nmy $precision = '3'; \n\n# You want to get three digits after the decimal, \n# so multiply dividend by 1000, divide to get an \n# integer quotient, and then divide that quotient \n# by 1000. \nmy $dividend_up_some = dec_mul_pow10( $num_1, $precision ); \n# Rounding by `NEAR_EVN' is \"bankers' rounding.\" \nmy $quotient_up_some = \n          dec_rndiv( 'NEAR_EVN', $dividend_up_some, \n                     $num_2 ); \n# Move it back down to get your desired precision after \n# the decimal. \nmy $quotient = \n      dec_mul_pow10( $quotient_up_some, \n                     dec_neg( $precision ) ); \nsay \"$num_1 / $num_2 = $quotient\";\n</code></pre>\n\n<p>Run this program and here is the output:</p>\n\n<pre><code>3 / 7 = 0.429\n</code></pre>\n\n<p>Change $precision to '10' and here is the output:</p>\n\n<pre><code>3 / 7 = 0.4285714286\n</code></pre>\n"}], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1122, "favorite_count": 1, "accepted_answer_id": 34403245, "answer_count": 3, "score": 9, "last_activity_date": 1549254967, "creation_date": 1450723768, "question_id": 34402394, "link": "https://stackoverflow.com/questions/34402394/how-do-i-perform-decimal-arithmetic-in-perl", "title": "How do I perform decimal arithmetic in Perl?", "body": "<p>I'm working on an accounting script written in Perl and I'm wondering what's the 'proper' way to perform decimal arithmetic calculations. For instance, I want to insure that comparisons like these work correctly:</p>\n\n<pre><code>\"0.1\" + \"0.1\" + \"0.1\" == \"0.3\"\n\"258.9\" * \"2000\" == \"517800\"\n...\n</code></pre>\n\n<p>In Python I'd use the <code>Decimal</code> type for the values, but what do I do in Perl?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 548, "user_id": 1218919, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/245a9a6d7af44d3820591435f058fbd8?s=128&d=identicon&r=PG", "display_name": "darkgrin", "link": "https://stackoverflow.com/users/1218919/darkgrin"}, "edited": false, "score": 0, "creation_date": 1450708909, "post_id": 34397723, "comment_id": 56537468, "body": "In a function I wrote that needs to handle some signals thus has its own signal handlers, I&#39;m trying to restore the original signal handlers before exiting a function. I am not using &quot;local&quot; because of some scoping issues. When I read in the values from the original SIG hash, some of them were undefined. I will follow your suggestion and assign them with &#39;DEFAULT&#39; if the stored version is undefined."}, {"owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "reply_to_user": {"reputation": 548, "user_id": 1218919, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/245a9a6d7af44d3820591435f058fbd8?s=128&d=identicon&r=PG", "display_name": "darkgrin", "link": "https://stackoverflow.com/users/1218919/darkgrin"}, "edited": false, "score": 0, "creation_date": 1450709647, "post_id": 34397723, "comment_id": 56537999, "body": "Well, &#39;DEFAULT&#39; will restore default OS signal handler. If I understand correctly, you want to restore original handlers when the function was called. Although I don&#39;t understand the issue with using <code>local</code>, reassigned previously read value should be fine (as no matter what it is it should be consistent for both reads and writes)."}, {"owner": {"reputation": 548, "user_id": 1218919, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/245a9a6d7af44d3820591435f058fbd8?s=128&d=identicon&r=PG", "display_name": "darkgrin", "link": "https://stackoverflow.com/users/1218919/darkgrin"}, "edited": false, "score": 0, "creation_date": 1450710714, "post_id": 34397723, "comment_id": 56538715, "body": "In my case the previously read value could be undefined. Thank you!"}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1450808680, "post_id": 34397723, "comment_id": 56585736, "body": "@ZbynekVyskovsky-kvr000 <code>local</code> only works if you want to alter a value in a single dynamic scope. Sometimes that&#39;s not possible; e.g. sometimes you&#39;re temporarily changing it at one time, to put it back later on. E.g. consider <code>my $oldsig;  sub setup { $oldsig = $SIG{TERM}; }  sub teardown { $SIG{TERM} = $oldsig; }</code>. This assigns <code>undef</code> if it&#39;s not careful."}], "tags": [], "owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "is_accepted": false, "score": 1, "last_activity_date": 1450707253, "creation_date": 1450707253, "answer_id": 34397723, "question_id": 34396841, "link": "https://stackoverflow.com/questions/34396841/what-is-the-expected-behavior-of-assigning-undef-or-to-the-sig-hash/34397723#34397723", "title": "What is the expected behavior of assigning undef or &#39;&#39; to the %SIG hash?", "body": "<p>The answer is simple - this is unexpected value and that's why it's undocumented.</p>\n\n<p>Why are you trying to assign something for which the behavior is undefined although there's a list of supported values for all you need? Although it may work somehow in current version, it may easily change in future and your program will stop working...</p>\n"}, {"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 2, "last_activity_date": 1450715759, "creation_date": 1450715759, "answer_id": 34400361, "question_id": 34396841, "link": "https://stackoverflow.com/questions/34396841/what-is-the-expected-behavior-of-assigning-undef-or-to-the-sig-hash/34400361#34400361", "title": "What is the expected behavior of assigning undef or &#39;&#39; to the %SIG hash?", "body": "<p>Your testing is correct; setting a slot in <code>%SIG</code> to <code>undef</code> or <code>\"\"</code> is  explicitly handled to be the same as <code>DEFAULT</code>:</p>\n\n<p><a href=\"https://github.com/Perl/perl5/blob/ba6e05cf4bd2843ce3e50128990edc530f65f044/mg.c#L1646\" rel=\"nofollow\"><code>else if (!sv || memEQs(s, len,\"DEFAULT\") || !len) {</code></a></p>\n"}], "owner": {"reputation": 548, "user_id": 1218919, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/245a9a6d7af44d3820591435f058fbd8?s=128&d=identicon&r=PG", "display_name": "darkgrin", "link": "https://stackoverflow.com/users/1218919/darkgrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1450715759, "creation_date": 1450704494, "question_id": 34396841, "link": "https://stackoverflow.com/questions/34396841/what-is-the-expected-behavior-of-assigning-undef-or-to-the-sig-hash", "title": "What is the expected behavior of assigning undef or &#39;&#39; to the %SIG hash?", "body": "<p>I tried looking up the documents but did not find anything definitive. However testing shows that it behaves the same as assigning 'DEFAULT' as a signal handler. Am I missing something?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1450702000, "post_id": 34395214, "comment_id": 56533248, "body": "We will need to see your Perl code before we can help with any problems you may be having. Or does <i>&quot; thought I&#39;d turn to you folks for some assistance&quot;</i> mean <i>&quot;please do my work for me&quot;</i>?"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 3, "creation_date": 1450702334, "post_id": 34395214, "comment_id": 56533472, "body": "Where does your expected output IP address <code>10.106.209.227</code> come from?"}, {"owner": {"reputation": 39, "user_id": 4135234, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0d5b06ff1043a5ff7b636b60edec0e96?s=128&d=identicon&r=PG&f=1", "display_name": "telecomToperl", "link": "https://stackoverflow.com/users/4135234/telecomtoperl"}, "edited": false, "score": 0, "creation_date": 1450710349, "post_id": 34395214, "comment_id": 56538436, "body": "Edited above. Thanks."}, {"owner": {"reputation": 39, "user_id": 4135234, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0d5b06ff1043a5ff7b636b60edec0e96?s=128&d=identicon&r=PG&f=1", "display_name": "telecomToperl", "link": "https://stackoverflow.com/users/4135234/telecomtoperl"}, "edited": false, "score": 0, "creation_date": 1450710500, "post_id": 34395214, "comment_id": 56538541, "body": "Fair point! I have added my basic code"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1450720982, "post_id": 34399771, "comment_id": 56544791, "body": "It&#39;s a good try, but the OP asked to <i>&quot;write the IP address and hostname of the devices with <code>Unknown</code> Licenses&quot;</i>"}, {"owner": {"reputation": 39, "user_id": 4135234, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0d5b06ff1043a5ff7b636b60edec0e96?s=128&d=identicon&r=PG&f=1", "display_name": "telecomToperl", "link": "https://stackoverflow.com/users/4135234/telecomtoperl"}, "edited": false, "score": 0, "creation_date": 1450721157, "post_id": 34399771, "comment_id": 56544878, "body": "Thanks for the clarification Borodin and truly appreciate you teaching while sharing some code Sobrique!"}, {"owner": {"reputation": 39, "user_id": 4135234, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0d5b06ff1043a5ff7b636b60edec0e96?s=128&d=identicon&r=PG&f=1", "display_name": "telecomToperl", "link": "https://stackoverflow.com/users/4135234/telecomtoperl"}, "edited": false, "score": 0, "creation_date": 1450721673, "post_id": 34399771, "comment_id": 56545125, "body": "Thanks for the clarification Borodin and truly appreciate you teaching while sharing some code Sobrique! Hope you guys don&#39;t mind follow up questions. 1) Where is $/ referenced again while looping? 2) What is the best place to learn regex? 3) How can I instead grab the IP addresses from the following line &#39;bitops@10.132.215.292&#39;s password:&#39; 4) Similarly, how can traverse farther down and grab the Site ID from the following line &#39;BOL03273D # get webfilter status&#39; given the license is Unknown."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 39, "user_id": 4135234, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0d5b06ff1043a5ff7b636b60edec0e96?s=128&d=identicon&r=PG&f=1", "display_name": "telecomToperl", "link": "https://stackoverflow.com/users/4135234/telecomtoperl"}, "edited": false, "score": 0, "creation_date": 1450722413, "post_id": 34399771, "comment_id": 56545520, "body": "@telecomToperl: <b>1)</b> $\\ is referred to only once. It makes a sticky change to the string that Perl uses to delimit records in the file and needn&#39;t be accessed again. <b>2)</b> There are many on line resources; just google for <code>learn regex</code> <b>3)</b> Change <code>m&#47;(\\d+\\.\\d+\\.\\d+\\.\\d+)&#47;</code> to <code>m&#47;(\\d+\\.\\d+\\.\\d+\\.\\d+).*password&#47;</code> <b>4)</b> Sobrique&#39;s solution doesn&#39;t deal with the host name, so it&#39;s too big a change to put in a comment"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450725519, "post_id": 34399771, "comment_id": 56547152, "body": "Amended code. <code>$&#47;</code> is set once to tell perl where to break up input. <i>usually</i> it&#39;s <code>\\n</code> (linefeed) to read line by line, but for data that is chunked setting it to something else is appropriate."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1450726033, "last_edit_date": 1450726033, "creation_date": 1450713787, "answer_id": 34399771, "question_id": 34395214, "link": "https://stackoverflow.com/questions/34395214/struggling-with-the-basics-perl/34399771#34399771", "title": "Struggling with the Basics - Perl", "body": "<p>OK, so your perl code could do with a bit of tidying up first:</p>\n\n<ul>\n<li>Put <code>use strict;</code> and <code>use warnings;</code> right at the top - it makes more errors, but they're the ones that'll bite you later. </li>\n<li>You don't actually need to iterate an array explicitly like that - you shouldn't bother unless you need to reuse your count, and just use <code>for (@array) {</code> instead. </li>\n<li>You can iterate by record, using <code>$/</code> to set a record seperator. It looks like you could use \"Connection to\".</li>\n<li>You can pattern match against all of your current record, and this does so by default. </li>\n<li>3 arg file opens with lexical file handles are good. e.g. <code>open (my $output, '&gt;', 'License_Unknown.txt' ) or die $!;</code> </li>\n<li>as is testing the return code of it. </li>\n</ul>\n\n<p>So something like this maybe?</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n#set record seperator\nlocal $/ = 'Connection to';\n\n#read files from either STDIN or specified on command line (like grep/sed etc.)\nwhile (&lt;&gt;) {\n\n    #select the first IP-like from the block. (This regex could\n    #be better, but works for your sample).\n    my ($ip) = m/\\w+\\@(\\d+\\.\\d+\\.\\d+\\.\\d+)'s password/;\n\n    #match the license line, and extract the value\n    my ($license)  = m/License\\s+:\\s+(\\w+)/;\n    my ($hostname) = m/(\\w+)\\s+#/;\n\n    #print both.\n    next unless defined $license;\n    print \"$ip,$hostname\\n\" if $license eq 'Unknown';\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>10.132.215.292,BOL03273D\n</code></pre>\n\n<p><code>$/</code> is the input record seperator. Normally it's a linefeed - so perl iterates one line at a time. But you can set it to a number of bytes, or an alternative string - but not a regular expression. In a <code>while</code> loop perl reads it's input until it hits that point (or end of file) and then 'feeds' that chunk through to the loop. Which is why the above works - we loop twice, but then use patterns to pick out the bits of data we're interested in. </p>\n\n<p>You can match against other elements - I grab the first IP address in a chunk, but specifically the line:</p>\n\n<pre><code>bitops@10.132.215.292's password: \n</code></pre>\n\n<p>YOu can match with:</p>\n\n<pre><code>m/bitops\\@(\\d+\\.\\d+\\.\\d+\\.)'s password:/\n</code></pre>\n\n<p>Although note - that matches digit-dot-digit etc. but <em>won't</em> match if you've a hostname in there. (that contains letters).</p>\n\n<p>So perhaps you'd want:</p>\n\n<pre><code>m/bitops\\@([\\w\\.]+)'s password:/\n</code></pre>\n\n<p>The various elements in regex are summarised in <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\"><code>perldoc perlre</code></a>  but it's quite a big topic - regular expressions are basically a programming language in their own right. </p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 4135234, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0d5b06ff1043a5ff7b636b60edec0e96?s=128&d=identicon&r=PG&f=1", "display_name": "telecomToperl", "link": "https://stackoverflow.com/users/4135234/telecomtoperl"}, "edited": false, "score": 0, "creation_date": 1450722941, "post_id": 34401939, "comment_id": 56545796, "body": "Thank You! Would love to get to a place where I can spin up something like this myself. What is happening when you are setting &quot;$ip=$1&quot; and &quot;$host //= $1;?&quot; Also, would love to hear of your favorite resources for practicing Perl? I&#39;d need it for similar parsing jobs"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450725627, "post_id": 34401939, "comment_id": 56547209, "body": "<code>$1</code> is the first capture from the regular expression (the bit in brackets). <code>&#47;&#47;=</code> is &#39;assign-if-undefined&#39;. So a good way of giving a &#39;default&#39; in case there&#39;s something not present. (In your sample - you have an IP right at the end, which <i>might</i> be the start of an incomplete record)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450725653, "post_id": 34401939, "comment_id": 56547223, "body": "Best resource for practicing perl: Stack Overflow. Answer questions. It&#39;s a great way to learn and refine code."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1450722639, "last_edit_date": 1450722639, "creation_date": 1450721760, "answer_id": 34401939, "question_id": 34395214, "link": "https://stackoverflow.com/questions/34395214/struggling-with-the-basics-perl/34401939#34401939", "title": "Struggling with the Basics - Perl", "body": "<p>Here's an alternative solution that uses state variables instead of changing the record separator to read a block at a time</p>\n\n<p>It's hard to tell from such a short data sample exactly what landmarks can be used reliably for navigation. I've assumed that each block always starts with a line starting with <code>spawn</code> and ending with the host IP address, and that it ends with a line that starts with <code>Connection</code> and ends with <code>closed</code>. I'm also banking on the host names containing just capital letters and decimal digits. I'm pretty certain that I can rely on the format of the <code>License : Unknown</code> line</p>\n\n<p>This program expects the path to the input file as a command-line parameter</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy ($ip, $host, $unknown);\n\nwhile ( &lt;&gt; ) {\n\n    if ( / (\\d+\\.\\d+\\.\\d+\\.\\d+) .+ password /x ) {\n        $ip = $1;\n    }\n    elsif ( / ^ ([A-Z0-9]+) \\s+ # /x ) {\n        $host //= $1;\n    }\n    elsif ( / ^ License \\s+ : \\s+ Unknown /x ) {\n        $unknown = 1;\n    }\n    elsif ( / ^ Connection .+ closed /x ) {\n\n        if ( $ip and $host and $unknown ) {\n            print \"$ip,$host\\n\";\n        }\n\n        ($ip, $host, $unknown) = (); # reset state variables\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<p>10.132.215.292,BOL03273D</p>\n"}], "owner": {"reputation": 39, "user_id": 4135234, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0d5b06ff1043a5ff7b636b60edec0e96?s=128&d=identicon&r=PG&f=1", "display_name": "telecomToperl", "link": "https://stackoverflow.com/users/4135234/telecomtoperl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1450726033, "creation_date": 1450699196, "last_edit_date": 1450712918, "question_id": 34395214, "link": "https://stackoverflow.com/questions/34395214/struggling-with-the-basics-perl", "title": "Struggling with the Basics - Perl", "body": "<p>I am struggling with Perl to write a basic parser and thought I'd turn to you folks for some assistance.</p>\n\n<p>The desired output is to filter through a large file as shown below and look for instances of 'License&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: Unknown' and write the IP address and hostname of the devices with Unknown Licenses separated by a comma.</p>\n\n<p>Expected Output:</p>\n\n<pre><code>10.132.215.292,BOL03273D\n</code></pre>\n\n<p>____DATA_____</p>\n\n<pre><code>spawn ssh -p 22 -c 3des -x -l bitops 10.132.215.292\nbitops@10.132.215.292's password: \nregister system.core2\nBOL03273D # \nBOL03273D # terminal length 0\nUnknown action 0\nBOL03273D # terminal width 132\nUnknown action 0\nBOL03273D #  c v\nambiguous command before 'v'\nCommand fail. Return code 1\nBOL03273D # edit root\nUnknown action 0\nBOL03273D # get webfilter status\nLocale       : english\nLicense      : Unknown\nExpiration   : N/A\n-=- Server List (Wed Dec 16 17:01:31 2015) -=-\nIP                  Weight    RTT Flags  TZ    Packets  Curr Lost Total Lost\n96.45.33.65             30    358        -8        127          0         49\n209.222.147.36           0    427        -5        124          0         51\n209.222.147.43           8    447        -5        130          0         57\n64.26.151.36            16    468        -5        132          0         59\n66.117.56.42            27    458        -5        135          0         62\n66.117.56.37            45    497        -5        143          0         71\n64.26.151.35            65    527        -5        143          0         70\n69.195.205.102          91    507        -5        155          0         83\n64.26.151.37           107    538        -5        157          0         85\n96.45.33.64            128    397        -8        152          0         79\n69.195.205.101         138    550        -5        164          0         92\n62.209.40.74           141    627         1        160          0         89\n208.91.112.196         158    417 D      -8        211          0        137\n80.85.69.41            190    588         0        168          0         96\n62.209.40.73           196    657         1        167          0         95\n80.85.69.40            203    617         0        169          0         97\n80.85.69.37            206    577         0        168          0         95\n80.85.69.38            228    647         0        172          0         99\n208.91.112.198         258    487 DI     -8        316          0        240\n62.209.40.72           297    677         1        184          0        112\n121.111.236.180        306    607         9        175          0        103\nBOL03273D # \nBOL03273D #exit\nConnection to 10.132.215.292 closed.\n10.132.215.272\nspawn ssh -p 22 -c 3des -x -l bitops 10.132.215.272\nbitops@10.132.215.272's password: \nregister system.core2\nBOL00093D # \nBOL00093D # terminal length 0\nUnknown action 0\nBOL00093D # terminal width 132\nUnknown action 0\nBOL00093D #  c v\nambiguous command before 'v'\nCommand fail. Return code 1\nBOL00093D # edit root\nUnknown action 0\nBOL00093D # get webfilter status\nLocale       : english\nLicense      : Contract\nExpiration   : Fri Jun 26 19:00:00 2020\n-=- Server List (Wed Dec 16 17:03:11 2015) -=-\nIP                  Weight    RTT Flags  TZ    Packets  Curr Lost Total Lost\n96.45.33.65             30     37        -8      28851          0        651\n209.222.147.43           0     88        -5      16130          0        791\n64.26.151.35             0    172        -5      15977          0        584\n66.117.56.42             0     89        -5      16382          0       1065\n66.117.56.37             0     89        -5      16382          0       1063\n64.26.151.37             0    177        -5      15972          0        592\n209.222.147.36           0     90        -5      16144          0        806\n64.26.151.36             0    176        -5      15956          0        589\n69.195.205.101           0    107        -5      16512          0       1150\n69.195.205.102           0    107        -5      16470          0       1109\n96.45.33.64             30     43        -8      27827          0        676\n208.91.112.196          30     63 DI     -8      16687          0       1140\n208.91.112.198          30    263 D      -8      17476          0       2089\n80.85.69.38             50    167         0      15964          0        605\n80.85.69.37             50    167         0      15961          0        602\n80.85.69.41             50    168         0      15959          0        600\n80.85.69.40             50    167         0      15980          0        621\n62.209.40.73            60    198         1      16249          0        928\n62.209.40.74            60    197         1      16278          0        959\n62.209.40.72            60    197         1      16246          0        925\n121.111.236.180        140    151         9      16147          0        786\n121.111.236.179        140    160         9      16140          0        779\nBOL00093D # \nBOL00093D #exit\nConnection to 10.132.215.272 closed.\n10.106.209.231\n</code></pre>\n\n<p>Current Code --</p>\n\n<pre><code>$infile='final.log';\n$outfile='License_Unknown.txt';\nopen(INPUT, $infile);\n@data = &lt;INPUT&gt;;\nclose(INPUT);\nopen(OUTPUT, \"&gt;$outfile\");\n\n$siteid=\"\";\n$licensestate=\"\";\n$mgmtip=\"\";\n\n\nfor ($i=0; $i &lt;= $#data; ++$i)\n{\n   if ($data[$i] =~ /hntools/)\n   {\n    @line=split(/@/,$data[0])\n    @sameline=split(/'/,$data[0])\n    $mgmtip=$sameline[1];\n    print OUTPUT \"\\n$mgmtip,\";\n   }\n\n   if (($line[i] =~ /License      : Unknown/))\n   {\n        $siteid=$line[0];\n        print OUTPUT \" $siteid, \";\n    }\n    chomp $line[2];\n\n}\n\n\nclose(OUTPUT);\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1450687382, "post_id": 34391697, "comment_id": 56524599, "body": "That isn&#39;t an error (at least not in the technical sense). It&#39;s just what you get when you convert a reference to a string. You haven&#39;t shown us your code or told us what you actually expected, so telling you how to fix this would require some degree of speculation."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1450688769, "post_id": 34391697, "comment_id": 56525337, "body": "Post your code and expected output."}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1450689022, "post_id": 34391697, "comment_id": 56525479, "body": "@serenesat I have added the code!"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1450689046, "post_id": 34391697, "comment_id": 56525493, "body": "@Quentin I have added the code and the output for more clarification!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1450690768, "post_id": 34391697, "comment_id": 56526402, "body": "<a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Don&#39;t use XML::Simple</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1450696577, "post_id": 34391697, "comment_id": 56529967, "body": "But you haven&#39;t shown us the output that you want."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1450697800, "post_id": 34391697, "comment_id": 56530707, "body": "In addition to <code>use strict</code>, you should <i>always</i> <code>use warnings &#39;all&#39;</code> at the top of your Perl programs"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450689959, "post_id": 34392369, "comment_id": 56525970, "body": "Instead of input HASH(0x172b3300), input HASH(0x172b32a0), input HASH(0x17268bb0), I should be actually getting input address, input clock, input data_in as mentioned in the XML file!"}, {"owner": {"reputation": 1278, "user_id": 3598703, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a4d8dbd4290d1fab2c1e711b9a9377?s=128&d=identicon&r=PG", "display_name": "Boying", "link": "https://stackoverflow.com/users/3598703/boying"}, "reply_to_user": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450690293, "post_id": 34392369, "comment_id": 56526130, "body": "but there is no actually value in address clock and or data_in, they are empty hashes, have you seen the Dumper code i modified, and I also modifyed your XML to add a &quot;X&quot; in addess, so you can get it in hash, try my code first!"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450690608, "post_id": 34392369, "comment_id": 56526306, "body": "even the <b>bidirection name, output name</b> has no values and they are empty hashes as well (AFIK) . I&#39;m actually trying to avoid the <i>Dumper code</i> as it is not required"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450690813, "post_id": 34392369, "comment_id": 56526425, "body": "if I&#39;m not wrong, will it be feasible to store them in an array(<i>input</i> only because there are three tags)."}, {"owner": {"reputation": 1278, "user_id": 3598703, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a4d8dbd4290d1fab2c1e711b9a9377?s=128&d=identicon&r=PG", "display_name": "Boying", "link": "https://stackoverflow.com/users/3598703/boying"}, "reply_to_user": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450690922, "post_id": 34392369, "comment_id": 56526482, "body": "Do you need the name attribute?    {     print &quot; input&quot; , $namein, Dumper $top_in-&gt;{$namein};    } The Dumper code is just for debug. If you know how the hash looks like, you can take the value by accessing the key,unless it&#39;s an empty hash"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450691285, "post_id": 34392369, "comment_id": 56526692, "body": "the Dumper is returning empty actually! totally clueless now!"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450691643, "post_id": 34392369, "comment_id": 56526924, "body": "<code>input $top_in-&gt;{$namein}\\n</code> , what is wrong in this snippet(I&#39;d be interested to know the reason) ?.  when <code>&quot; output $top_ou-&gt;{$nameou}\\n&quot;</code> gives you the attribute value why not the former ?"}, {"owner": {"reputation": 1278, "user_id": 3598703, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a4d8dbd4290d1fab2c1e711b9a9377?s=128&d=identicon&r=PG", "display_name": "Boying", "link": "https://stackoverflow.com/users/3598703/boying"}, "reply_to_user": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450691914, "post_id": 34392369, "comment_id": 56527098, "body": "I see... because there are only one output item in XML, the module handles it in this way, to prove this, you can do a make a copy of &lt;output ...&gt; and it will be the same as input. To avoid this ,you can use ForceArray =&gt; 1,(see document of XML::Simple)"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450692077, "post_id": 34392369, "comment_id": 56527197, "body": "that&#39;s correct! Replacing input with output returned the same thing! That&#39;s why it confusing!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1450699113, "post_id": 34392369, "comment_id": 56531501, "body": "Welcome to the joy of <code>XML::Simple</code>. If you want it to behave consistently you need to set <code>ForceArray =&gt; 1, KeyAttr =&gt; [], ForceContent =&gt; 1</code>. Of course, if you do, you&#39;ll find each layer is an array of hashes. But at least it&#39;ll do so in a consistent fashion."}], "tags": [], "owner": {"reputation": 1278, "user_id": 3598703, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a4d8dbd4290d1fab2c1e711b9a9377?s=128&d=identicon&r=PG", "display_name": "Boying", "link": "https://stackoverflow.com/users/3598703/boying"}, "is_accepted": false, "score": 2, "last_activity_date": 1450689763, "creation_date": 1450689763, "answer_id": 34392369, "question_id": 34391697, "link": "https://stackoverflow.com/questions/34391697/which-syntax-is-better-xmlsimple-or-xmltwig/34392369#34392369", "title": "Which syntax is better XML::Simple or XML::Twig", "body": "<p>The output is correct.\nAs we don't know what exactly you need, \nI modify your code to following so maybe you can figure out why you see the HASH and how to de-reference it by yourself, it's pretty simple:</p>\n\n<pre><code>use strict;\nuse XML::Simple;\nuse Data::Dumper;\nlocal $/;\nmy $xml_root = XMLin(&lt;DATA&gt;);\nprint Dumper $xml_root;\nmy $root_top=$xml_root-&gt;{Top};\nmy $mod=$root_top-&gt;{Module};\nprint \"Top $root_top-&gt;{name}\\n\";\n\nmy $top_in=$root_top-&gt;{input};\nforeach my $namein (keys %$top_in)\n   {\n    print \" input\" , Dumper $top_in-&gt;{$namein};\n   }\nmy $top_ou=$root_top-&gt;{output};\nforeach my $nameou (keys %$top_ou)\n  {\n   print \" output $top_ou-&gt;{$nameou}\\n\";\n  }\nmy $top_bi=$root_top-&gt;{bidirection};\nforeach my $namebi (keys %$top_bi)\n  {\n   print \" bidirection $top_bi-&gt;{$namebi}\\n\";\n  }\n\n__DATA__\n    &lt;Root&gt;\n     &lt;Top name=\"ri_32\"&gt;\n     &lt;Module name=\"ALU\"&gt;\n        &lt;input name=\"power_control_bus\"/&gt;\n        &lt;bidirection name=\"address_bus\"/&gt;\n     &lt;/Module&gt;\n     &lt;Module name=\"Power_control\"&gt;\n        &lt;input name=\"cpu_control_bus\"/&gt;\n        &lt;output name=\"power_control_bus\"/&gt;\n        &lt;bidirection name=\"address_bus\"/&gt;\n     &lt;/Module&gt;\n     &lt;input name=\"address\"&gt;X&lt;/input&gt;\n     &lt;input name=\"clock\"/&gt;\n     &lt;input name=\"data_in\"/&gt;\n     &lt;output name=\"data_out\"/&gt;\n     &lt;bidirection name=\"control\"/&gt;\n    &lt;/Top&gt;\n  &lt;/Root&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450691340, "post_id": 34392761, "comment_id": 56526725, "body": "Let me install the module first and have a check at it! Thanks! time to go behind the admin now ;)"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450691715, "post_id": 34392761, "comment_id": 56526979, "body": "That piece of code has been taken care of! But I have a hard time trying to figure out this piece! Let me give a try!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 1, "creation_date": 1450692043, "post_id": 34392761, "comment_id": 56527181, "body": "It looks a bit harder to start off with, but trust me - it&#39;ll make your life easier in the long run. Added some extra illustration that I hope will clarify."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1450691743, "last_edit_date": 1495535300, "creation_date": 1450691154, "answer_id": 34392761, "question_id": 34391697, "link": "https://stackoverflow.com/questions/34391697/which-syntax-is-better-xmlsimple-or-xmltwig/34392761#34392761", "title": "Which syntax is better XML::Simple or XML::Twig", "body": "<p>You've made your task more difficult for yourself by using one of the most deceitful modules on CPAN. <code>XML::Simple</code> isn't simple. </p>\n\n<p>But it's docs also suggest not using it:\n<a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Why is XML::Simple &quot;Discouraged&quot;?</a></p>\n\n<p>So - how about instead, <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\n#$twig now contains our XML data structure. \nmy $twig = XML::Twig-&gt;new-&gt;parsefile('simodule.xml'); \n\n#fetch a value with an xpath expression - ./Top\n#then extract the attribute 'name' from this node. \nprint \"Top \", $twig-&gt;get_xpath( './Top', 0 )-&gt;att('name'), \"\\n\";\n#iterate all 'input' elements beneath \"Top\":\n#note - single argument to \"get_xpath\" means all of them in a list. \nforeach my $input ( $twig-&gt;get_xpath('./Top/input') ) {\n    #retrieve from each their name attribute (and print) \n    print \"input \", $input-&gt;att('name'), \"\\n\";\n}\n\n#locate the 'output' and 'bidirection' nodes within the tree, and fetch\n#their name attribute. \nprint \"output \", $twig -&gt; get_xpath( './Top/output',0) -&gt; att('name'),\"\\n\";\nprint \"bidirection \", $twig -&gt; get_xpath( './Top/bidirection',0) -&gt; att('name'),\"\\n\";\n</code></pre>\n\n<p>We use <code>XML::Twig</code> which makes use of <code>get_xpath</code> to specify an XML path. We also use <code>att</code> to retrieve a named attribute. You could use iterators such as <code>first_child</code> and <code>children</code> if you prefer though:</p>\n\n<pre><code>#Top element is below the root - we create a reference to it $top\nmy $top = $twig-&gt;root-&gt;first_child('Top');\n#From this reference, fetch the name attribute. \nprint \"Top \", $top-&gt;att('name'), \"\\n\";\n#get children of Top matching 'input' and iterate\nforeach my $input ( $top -&gt; children('input') ) {\n    #print attribute called 'name'. \n    print \"input \", $input-&gt;att('name'), \"\\n\";\n}\n#Find a child below Top called 'output' and retrieve 'name' attribute. \nprint \"output \", $top -&gt; first_child('output') -&gt; att('name'),\"\\n\";\n#as above. \nprint \"bidirection \", $top -&gt; first_child('bidirection') -&gt; att('name'),\"\\n\";\n</code></pre>\n\n<p>These are doing the same thing - personally I like <code>xpath</code> as a way of navigating <code>XML</code> but that's a matter of taste. (It lets you do all sorts of things like specify a path with embedded attributes, that kind of thing - moot point in this example though). </p>\n\n<p>Given your input XML, both produce:</p>\n\n<pre><code>Top ri_32\ninput address\ninput clock\ninput data_in\noutput data_out\nbidirection control\n</code></pre>\n\n<p>it skips the nested hashes for <code>ALU</code> and <code>Power_Control</code> because your original code appears to. </p>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450701160, "post_id": 34395689, "comment_id": 56532705, "body": "I want the inputs &quot;name&quot; attributes to be displayed, and there are three attributes to input , rather it throws me an Hash value. You can find the difference in <i>output</i> and <i>expected output</i>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450705132, "post_id": 34395689, "comment_id": 56535134, "body": "Yes, so this code produces exactly your expected output."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 3, "creation_date": 1450728899, "post_id": 34395689, "comment_id": 56548888, "body": "It&#39;s worth pointing out that through the magic of <a href=\"https://metacpan.org/pod/XML::LibXML::AttributeHash\" rel=\"nofollow noreferrer\">XML::LibXML::AttributeHash</a> you can simply do <code>$_-&gt;{name}</code> rather than <code>$_-&gt;getAttribute(&#39;name&#39;)</code> - with no other changes to your code."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1450700834, "creation_date": 1450700834, "answer_id": 34395689, "question_id": 34391697, "link": "https://stackoverflow.com/questions/34391697/which-syntax-is-better-xmlsimple-or-xmltwig/34395689#34395689", "title": "Which syntax is better XML::Simple or XML::Twig", "body": "<p>You still haven't been at all clear about exactly what output you want. But I use <a href=\"https://metacpan.org/release/XML-LibXML\" rel=\"nofollow\">XML::LibXML</a> for most of my XML processing requirements and I'd write something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse XML::LibXML;\n\nmy $parser = XML::LibXML-&gt;new();\nmy $doc = $parser-&gt;parse_file('simodule.xml');\n\nforeach my $type (qw[input output bidirection]) {\n  foreach ($doc-&gt;findnodes(\"/Root/Top/$type\")) {\n    say $_-&gt;nodeName, ' ', $_-&gt;getAttribute('name');\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 34392761, "answer_count": 3, "score": -1, "last_activity_date": 1451456875, "creation_date": 1450687228, "last_edit_date": 1451456875, "question_id": 34391697, "link": "https://stackoverflow.com/questions/34391697/which-syntax-is-better-xmlsimple-or-xmltwig", "title": "Which syntax is better XML::Simple or XML::Twig", "body": "<p>I was running a Perl script and I encountered the following result, instead of the answer I expected.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>input HASH(0x17268bb0)\ninput HASH(0x172b3300)\ninput HASH(0x172b32a0)\n</code></pre>\n\n<p>Can anyone say what this is and how to rectify it?</p>\n\n<p>This is my XML file here</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Root&gt;\n     &lt;Top name=\"ri_32\"&gt;\n     &lt;Module name=\"ALU\"&gt;\n        &lt;input name=\"power_control_bus\"/&gt;\n        &lt;bidirection name=\"address_bus\"/&gt;\n     &lt;/Module&gt;\n     &lt;Module name=\"Power_control\"&gt;\n        &lt;input name=\"cpu_control_bus\"/&gt;\n        &lt;output name=\"power_control_bus\"/&gt;\n        &lt;bidirection name=\"address_bus\"/&gt;\n     &lt;/Module&gt;\n     &lt;input name=\"address\"/&gt;\n     &lt;input name=\"clock\"/&gt;\n     &lt;input name=\"data_in\"/&gt;\n     &lt;output name=\"data_out\"/&gt;\n     &lt;bidirection name=\"control\"/&gt;\n    &lt;/Top&gt;\n&lt;/Root&gt;\n</code></pre>\n\n<p>I'm writing a Perl script which can be converted into a specific requirement (.v, .sv file)</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\n\nuse XML::Simple;\n\nuse Data::Dumper;\n\nmy $xml_root = XMLin( './simodule.xml' );\nmy $root_top = $xml_root-&gt;{Top};\nmy $mod      = $root_top-&gt;{Module};\n\nprint \"Top $root_top-&gt;{name}\\n\";\n\nmy $top_in = $root_top-&gt;{input};\nforeach my $namein ( keys %$top_in ) {\n    print \" input $top_in-&gt;{$namein}\\n\";\n}\n\nmy $top_ou = $root_top-&gt;{output};\nforeach my $nameou ( keys %$top_ou ) {\n    print \" output $top_ou-&gt;{$nameou}\\n\";\n}\n\nmy $top_bi = $root_top-&gt;{bidirection};\nforeach my $namebi ( keys %$top_bi ) {\n    print \" bidirection $top_bi-&gt;{$namebi}\\n\";\n}\n</code></pre>\n\n<h3>output:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Top risc_32\ninput HASH(0x172b3300)\ninput HASH(0x172b32a0)\ninput HASH(0x17268bb0)\noutput data_out\nbidirection control\n</code></pre>\n\n<h3>Expected output</h3>\n\n<pre><code> input address\n input clock\n input data_in\n output data_out\n bidirection control\n</code></pre>\n"}, {"tags": ["perl", "validation", "params"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 25, "user_id": 3101852, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/00154fc9bc7b5b8d3d1259947aec0947?s=128&d=identicon&r=PG&f=1", "display_name": "user3101852", "link": "https://stackoverflow.com/users/3101852/user3101852"}, "edited": false, "score": 0, "creation_date": 1450693624, "post_id": 34393443, "comment_id": 56528167, "body": "ok it was just an example. could you clarify your question maybe?"}, {"owner": {"reputation": 25, "user_id": 3101852, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/00154fc9bc7b5b8d3d1259947aec0947?s=128&d=identicon&r=PG&f=1", "display_name": "user3101852", "link": "https://stackoverflow.com/users/3101852/user3101852"}, "edited": false, "score": 0, "creation_date": 1450693751, "post_id": 34393443, "comment_id": 56528248, "body": "There are multiple fields, if one field is there than this will work"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1450703475, "last_edit_date": 1450703475, "creation_date": 1450693441, "answer_id": 34393443, "question_id": 34389198, "link": "https://stackoverflow.com/questions/34389198/how-to-get-the-field-name-in-paramsvalidate-in-perl/34393443#34393443", "title": "How to get the field name in Params::Validate in Perl", "body": "<p>You could try something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Params::Validate;\n\nmy %template =\n(\n    bar =&gt; {\n        'color correct' =&gt; sub {\n            my ($fieldname, $value) = @_[0..1];\n            return 1 if $value eq 'green' || $value eq 'blue';\n            failed(\"'$fieldname': value '$value' is invalid\");\n        }\n    }, \n    foo =&gt; {\n        'smaller than a breadbox' =&gt; sub {\n           my ($fieldname, $value) = @_[0..1];\n           return 1 if $value &lt; 20; \n           failed(\"'$fieldname' value '$value' is invalid\");\n        }\n    }\n);\n\nfunc( bar =&gt; 'green', foo =&gt;  14 );\nfunc( bar =&gt; 'yellow', foo =&gt;  17 );\n\nsub func {\n    my %validate = map { $_ =&gt; { callbacks =&gt; get_callbacks( $_, $template{$_} ) } }\n      keys %template;\n\n    validate( @_, \\%validate );\n}\n\nsub get_callbacks {\n    my ( $fname, $callbacks ) = @_;\n\n    my %cb;\n\n    for my $name (keys %$callbacks ) {\n        $cb{$name} = sub { \n           my $fieldname = $fname; \n           $callbacks-&gt;{$name}-&gt;( $fieldname, @_ ) \n        };\n    }\n    return \\%cb;\n}\n\nsub failed {\n    die $_[0];\n}\n</code></pre>\n\n<p>Note: this uses closures to define a persistent fieldname variable. See <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow\">perlsub</a> for more information. </p>\n"}], "owner": {"reputation": 25, "user_id": 3101852, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/00154fc9bc7b5b8d3d1259947aec0947?s=128&d=identicon&r=PG&f=1", "display_name": "user3101852", "link": "https://stackoverflow.com/users/3101852/user3101852"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1450703475, "creation_date": 1450673956, "last_edit_date": 1450693880, "question_id": 34389198, "link": "https://stackoverflow.com/questions/34389198/how-to-get-the-field-name-in-paramsvalidate-in-perl", "title": "How to get the field name in Params::Validate in Perl", "body": "<pre><code>validate(\n    @_,\n    {\n        foo =&gt; {\n            callbacks =&gt; {\n                'smaller than a breadbox' =&gt; sub { shift() &lt; $breadbox },\n                'green or blue'           =&gt; sub {\n                    return 1 if $_[0] eq 'green' || $_[0] eq 'blue';\n                    &amp;$failed(\u2018**fieldname** value is Invalid\u2019);\n                }\n        bar =&gt; {\n            callbacks =&gt; {\n                'yellow or red'           =&gt; sub {\n                    return 1 if $_[0] eq 'yellow ' || $_[0] eq 'red';\n                    &amp;$failed(\u2018**fieldname** value is Invalid\u2019);\n                }\n            }\n        }\n    }\n);\n</code></pre>\n\n<p><code>Params::Validate</code> - In the above code if my validation fails, I am calling the subroutine failed in which I am displaying the error message. I want to get field name from callbacks in params validate for which the validation has failed instead of directly passing the field name in the failed subroutine. Here foo and bar are fieldnames. How can I get the field name?  </p>\n"}, {"tags": ["python", "regex", "perl", "awk", "sed"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 5286693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e40ff9bbd1446f28502bcc5d01f0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Brigida", "link": "https://stackoverflow.com/users/5286693/matt-brigida"}, "edited": false, "score": 0, "creation_date": 1450645007, "post_id": 34385578, "comment_id": 56512777, "body": "Thanks !  This is great.  Is there an easy was to have it work if there are two instances of &#39;MDEntryType=2&#39; on one line?  My example unfortunately only has one per line, but there are many lines in the data with two.  I&#39;ll add an example to the question above."}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "reply_to_user": {"reputation": 191, "user_id": 5286693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e40ff9bbd1446f28502bcc5d01f0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Brigida", "link": "https://stackoverflow.com/users/5286693/matt-brigida"}, "edited": false, "score": 0, "creation_date": 1450645298, "post_id": 34385578, "comment_id": 56512864, "body": "Yes it will look for the first match, doesn&#39;t matter how many more matches there are.  However, each line will be treated as one record.  This won&#39;t split it into two."}, {"owner": {"reputation": 191, "user_id": 5286693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e40ff9bbd1446f28502bcc5d01f0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Brigida", "link": "https://stackoverflow.com/users/5286693/matt-brigida"}, "edited": false, "score": 0, "creation_date": 1450645760, "post_id": 34385578, "comment_id": 56513010, "body": "I am trying to pull data on all the matches.  So if there are three matches, it returns three sets of &#39;MDEntryPx&#39; and so forth.  If you say it will do this, I am happy to dive in to the awk manual.  I appreciate your help."}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "reply_to_user": {"reputation": 191, "user_id": 5286693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e40ff9bbd1446f28502bcc5d01f0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Brigida", "link": "https://stackoverflow.com/users/5286693/matt-brigida"}, "edited": false, "score": 0, "creation_date": 1450646603, "post_id": 34385578, "comment_id": 56513245, "body": "If your requirements are more complex it&#39;s better to start with <code>awk</code> where you&#39;ll have more control on transform and extract with a clean syntax.  It&#39;s not clear what you do when you have more than one record group.   Your 3rd input line supposed to have 7 but the output only has one.  If you can create a clean input/output pair with the essence of your  need without ugly details more answers you&#39;ll get as Yoda says..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1450648750, "post_id": 34385578, "comment_id": 56513872, "body": "This is a dreadful answer; it barely begins to answer the question. All it does is extract the <code>SendingTime</code> field and the first field of the first message, and makes no attempt to unpack each record into a number of messages as described in the question. It also doesn&#39;t explain how to handle messages with varying numbers of fields. I&#39;m afraid you&#39;ll have to try a little harder than that"}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1450710621, "post_id": 34385578, "comment_id": 56538631, "body": "@Borodin, I might have misunderstood the problem (perhaps became more clear after the edit) but I think you misunderstood the concept of SO.  It&#39;s not a free programming service."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 2, "last_activity_date": 1450710506, "last_edit_date": 1450710506, "creation_date": 1450643844, "answer_id": 34385578, "question_id": 34385439, "link": "https://stackoverflow.com/questions/34385439/extracting-messages-by-format-from-text/34385578#34385578", "title": "Extracting messages by format from text", "body": "<p><code>awk</code> to the rescue!  </p>\n\n<p>I only output two fields add the rest yourself in the order you need.</p>\n\n<pre><code>$ awk 'BEGIN{FS=OFS=\"|\"} /MDEntryType=2/ {print $7,$10}' file1 \n\nSendingTime=20140915014116175|MDUpdateAction=0\nSendingTime=20140915014116175|MDUpdateAction=0\nSendingTime=20140915020404771|MDUpdateAction=0\n</code></pre>\n\n<p>if you have few fields to report listing them one by one as $7,$10,... etc is best.  If you're printing almost all there might be better options.</p>\n\n<p>I misunderstood your question and after edit it became more clear.  However, your input/output sample is too detailed without adding any value.  I set up a simpler case with the essence of the problem you're trying to solve.</p>\n\n<p>I'm ignoring the filtering requirement since pattern matching is already addressed above.</p>\n\n<p>Assuming you have the record structure like this</p>\n\n<pre><code>P1 PA1 PA2 C C1 C2 C3 C C1 C2 C3 C C1 C2 C3\n</code></pre>\n\n<p>there is a parent with attributes and children sub records with header fields C and attributes C1,C2,C3</p>\n\n<pre><code>$ awk '{mtc=FS \"C\" FS; \n        n=split($0,a,mtc); \n        for(i=2;i&lt;=n;i++) \n            print a[1] mtc a[i]}' file\n</code></pre>\n\n<p>we define the a break point based on the Child header field (prefix and suffix with field separators), split the record based on this value and print parent-child pairs on separate lines</p>\n\n<pre><code>P1 PA1 PA2 C C1 C2 C3\nP1 PA1 PA2 C C1 C2 C3\nP1 PA1 PA2 C C1 C2 C3\n</code></pre>\n\n<p>You further want to extract only a subset of parent attributes, let's say the second one, here we can use <code>awk</code> again, but as an alternative I'll use <code>cut</code>\nWe want all the fields except first and third, that is</p>\n\n<pre><code>$ awk ... | cut -d' ' -f1,3 --complement\n</code></pre>\n\n<p>will give you the result</p>\n\n<pre><code>PA1 C C1 C2 C3\nPA1 C C1 C2 C3\nPA1 C C1 C2 C3\n</code></pre>\n\n<p>for your example FS will be <code>|</code>, and child header will be <code>MDUpdateAction=0</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 5286693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e40ff9bbd1446f28502bcc5d01f0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Brigida", "link": "https://stackoverflow.com/users/5286693/matt-brigida"}, "edited": false, "score": 0, "creation_date": 1450647906, "post_id": 34386055, "comment_id": 56513639, "body": "This looks perfect!  Thanks.  The data are in local files (~4GB each) which I have been piping into sed scripts with cat and directing output to local files with <code>&gt;</code>.  I am happy to write something to pipe the data into your script, but in what language is your script written, perl?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 191, "user_id": 5286693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e40ff9bbd1446f28502bcc5d01f0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Brigida", "link": "https://stackoverflow.com/users/5286693/matt-brigida"}, "edited": false, "score": 0, "creation_date": 1450648339, "post_id": 34386055, "comment_id": 56513762, "body": "@MattBrigida: Yes, this is Perl. All you need to do is write <code>perl etype2.pl infile.txt &gt; outfile.txt</code> where <code>etype2.pl</code> is the name of the Perl source file"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 191, "user_id": 5286693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e40ff9bbd1446f28502bcc5d01f0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Brigida", "link": "https://stackoverflow.com/users/5286693/matt-brigida"}, "edited": false, "score": 0, "creation_date": 1450648579, "post_id": 34386055, "comment_id": 56513827, "body": "By the way, both sed and perl (and a huge majority of command-line utilities) will accept input file parameters, and there is no need to pipe into them from cat. See <a href=\"http://porkmail.org/era/unix/award.html#uucaletter\" rel=\"nofollow noreferrer\"><i>The Useless Use of Cat Award</i></a>"}, {"owner": {"reputation": 191, "user_id": 5286693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e40ff9bbd1446f28502bcc5d01f0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Brigida", "link": "https://stackoverflow.com/users/5286693/matt-brigida"}, "edited": false, "score": 0, "creation_date": 1450649298, "post_id": 34386055, "comment_id": 56514026, "body": "Got it working!  Thanks again.  Your help is really appreciated.  And thanks for the link to the cat award -- a good (and funny) way to help people like me be more proper at the command line."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1450694846, "last_edit_date": 1450694846, "creation_date": 1450646936, "answer_id": 34386055, "question_id": 34385439, "link": "https://stackoverflow.com/questions/34385439/extracting-messages-by-format-from-text/34386055#34386055", "title": "Extracting messages by format from text", "body": "<p>Here's a Perl solution that iterates over all of the fields in each record and maintains a state in variables <code>$st</code> (the <em>sending time</em>), <code>$nm</code> (the <em>number of messages</em>), <code>$etype</code> (the current message's <em>entry type</em>) and array <code>@message</code> (the current <em>message contents</em>)</p>\n\n<p>Fields are added to <code>@message</code> until the start of the next message or <code>unknownID_10</code> is seen, when the contents of the message, together with the saved sending time, is printed to the output and <code>@message</code> is emptied</p>\n\n<p>This example reads directly from the program source file itself using the <code>DATA</code> file handle. I trust that you can write the code to open and read from a separate input file? If you just want to specify the input file on the command line then you can change <code>&lt;DATA&gt;</code> to <code>&lt;&gt;</code> and everything will work for you</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings 'all';\n\nwhile ( &lt;DATA&gt; ) {\n\n    chomp;\n    my @fields = /[^|\\s]+/g;\n\n    my ( $st, $nm, $etype );\n    my @message;\n\n    for my $f ( @fields ) {\n\n        if ( $f =~ /SendingTime/ ) {\n            $st = $f;\n        }\n        elsif ( $f =~ /NoMDEntries=(\\d+)/ ) {\n            $nm = $1;\n        }\n        elsif ( $f =~ /MDUpdateAction|unknownID_10/ ) {\n            if ( @message and defined $etype and $etype == 2 ) {\n                print \"|\", join(\"|\", $st, @message), \"|\\n\";\n            }\n            @message = ($f);\n            $etype = undef;\n        }\n        elsif ( defined $nm ) {\n            $etype = $1 if $f =~ /MDEntryType=(\\d+)/;\n            push @message, $f;\n        }\n    }\n}\n\n__DATA__\n|ApplVerID=9|unknownID_9=184|MessageType=X|SenderCompID=CME|MsgSeqNum=131523|SendingTime=20140915014116175|TradeDate=20140915|NoMDEntries=1|MDUpdateAction=0|SecurityIDSource=8|SecurityID=951806|RptSeq=3|SecurityDesc=UD:1T: SG 0822951806|MDEntryType=2|MDEntryPx=21|MDEntrySize=1|MDEntryTime=14116000|TradeCondition=E|NetChgPrevDay=1|TradeID=1|TradeVolume=5|AggressorSide=2|MatchEventIndicator=1|unknownID_10=224\n|ApplVerID=9|unknownID_9=272|MessageType=X|SenderCompID=CME|MsgSeqNum=131524|SendingTime=20140915014116175|TradeDate=20140915|NoMDEntries=2|MDUpdateAction=0|SecurityIDSource=8|SecurityID=265872|RptSeq=7|SecurityDesc=ONX4 P3400|MDEntryType=2|MDEntryPx=17|MDEntrySize=1|MDEntryTime=14116000|TradeCondition=1|NetChgPrevDay=0|TradeID=1|TradeVolume=1|AggressorSide=2|MDUpdateAction=0|SecurityIDSource=8|SecurityID=311863|RptSeq=8|SecurityDesc=ONX4 C4700|MDEntryType=2|MDEntryPx=9|MDEntrySize=1|MDEntryTime=14116000|TradeCondition=1|NetChgPrevDay=0|TradeID=1|TradeVolume=1|AggressorSide=2|unknownID_10=160\n|ApplVerID=9|unknownID_9=411|MessageType=X|SenderCompID=CME|MsgSeqNum=131574|SendingTime=20140915020404771|TradeDate=20140915|NoMDEntries=4|MDUpdateAction=0|SecurityIDSource=8|SecurityID=873267|RptSeq=16|SecurityDesc=ONX4 P3600|MDEntryType=2|MDEntryPx=30|MDEntrySize=7|MDEntryTime=20404000|TickDirection=2|TradeCondition=E|NetChgPrevDay=-5|TradeID=1|TradeVolume=5|AggressorSide=1|MatchEventIndicator=1|MDUpdateAction=1|SecurityIDSource=8|SecurityID=873267|RptSeq=17|SecurityDesc=ONX4 P3600|MDEntryType=1|MDEntryPx=45|MDEntrySize=3|MDEntryTime=20404000|TradingSessionID=2|NumberOfOrders=1|MDPriceLevel=1|MDUpdateAction=0|SecurityIDSource=8|SecurityID=873267|RptSeq=18|SecurityDesc=ONX4 P3600|MDEntryType=7|MDEntryPx=41|MDEntryTime=20404000|MDUpdateAction=0|SecurityIDSource=8|SecurityID=873267|RptSeq=19|SecurityDesc=ONX4 P3600|MDEntryType=8|MDEntryPx=45|MDEntryTime=20404000|unknownID_10=043\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>|SendingTime=20140915014116175|MDUpdateAction=0|SecurityIDSource=8|SecurityID=951806|RptSeq=3|SecurityDesc=UD:1T: SG 0822951806|MDEntryType=2|MDEntryPx=21|MDEntrySize=1|MDEntryTime=14116000|TradeCondition=E|NetChgPrevDay=1|TradeID=1|TradeVolume=5|AggressorSide=2|MatchEventIndicator=1|\n|SendingTime=20140915014116175|MDUpdateAction=0|SecurityIDSource=8|SecurityID=265872|RptSeq=7|SecurityDesc=ONX4 P3400|MDEntryType=2|MDEntryPx=17|MDEntrySize=1|MDEntryTime=14116000|TradeCondition=1|NetChgPrevDay=0|TradeID=1|TradeVolume=1|AggressorSide=2|\n|SendingTime=20140915014116175|MDUpdateAction=0|SecurityIDSource=8|SecurityID=311863|RptSeq=8|SecurityDesc=ONX4 C4700|MDEntryType=2|MDEntryPx=9|MDEntrySize=1|MDEntryTime=14116000|TradeCondition=1|NetChgPrevDay=0|TradeID=1|TradeVolume=1|AggressorSide=2|\n|SendingTime=20140915020404771|MDUpdateAction=0|SecurityIDSource=8|SecurityID=873267|RptSeq=16|SecurityDesc=ONX4 P3600|MDEntryType=2|MDEntryPx=30|MDEntrySize=7|MDEntryTime=20404000|TickDirection=2|TradeCondition=E|NetChgPrevDay=-5|TradeID=1|TradeVolume=5|AggressorSide=1|MatchEventIndicator=1|\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 5286693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e40ff9bbd1446f28502bcc5d01f0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Brigida", "link": "https://stackoverflow.com/users/5286693/matt-brigida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 34386055, "answer_count": 2, "score": 0, "last_activity_date": 1450710506, "creation_date": 1450642957, "last_edit_date": 1450645226, "question_id": 34385439, "link": "https://stackoverflow.com/questions/34385439/extracting-messages-by-format-from-text", "title": "Extracting messages by format from text", "body": "<p>I have a bunch of data which looks like this:</p>\n\n<pre><code>|ApplVerID=9|unknownID_9=184|MessageType=X|SenderCompID=CME|MsgSeqNum=131523|SendingTime=20140915014116175|TradeDate=20140915|NoMDEntries=1|MDUpdateAction=0|SecurityIDSource=8|SecurityID=951806|RptSeq=3|SecurityDesc=UD:1T: SG 0822951806|MDEntryType=2|MDEntryPx=21|MDEntrySize=1|MDEntryTime=14116000|TradeCondition=E|NetChgPrevDay=1|TradeID=1|TradeVolume=5|AggressorSide=2|MatchEventIndicator=1|unknownID_10=224\n|ApplVerID=9|unknownID_9=272|MessageType=X|SenderCompID=CME|MsgSeqNum=131524|SendingTime=20140915014116175|TradeDate=20140915|NoMDEntries=2|MDUpdateAction=0|SecurityIDSource=8|SecurityID=265872|RptSeq=7|SecurityDesc=ONX4 P3400|MDEntryType=2|MDEntryPx=17|MDEntrySize=1|MDEntryTime=14116000|TradeCondition=1|NetChgPrevDay=0|TradeID=1|TradeVolume=1|AggressorSide=2|MDUpdateAction=0|SecurityIDSource=8|SecurityID=311863|RptSeq=8|SecurityDesc=ONX4 C4700|MDEntryType=2|MDEntryPx=9|MDEntrySize=1|MDEntryTime=14116000|TradeCondition=1|NetChgPrevDay=0|TradeID=1|TradeVolume=1|AggressorSide=2|unknownID_10=160\n|ApplVerID=9|unknownID_9=411|MessageType=X|SenderCompID=CME|MsgSeqNum=131574|SendingTime=20140915020404771|TradeDate=20140915|NoMDEntries=4|MDUpdateAction=0|SecurityIDSource=8|SecurityID=873267|RptSeq=16|SecurityDesc=ONX4 P3600|MDEntryType=2|MDEntryPx=30|MDEntrySize=7|MDEntryTime=20404000|TickDirection=2|TradeCondition=E|NetChgPrevDay=-5|TradeID=1|TradeVolume=5|AggressorSide=1|MatchEventIndicator=1|MDUpdateAction=1|SecurityIDSource=8|SecurityID=873267|RptSeq=17|SecurityDesc=ONX4 P3600|MDEntryType=1|MDEntryPx=45|MDEntrySize=3|MDEntryTime=20404000|TradingSessionID=2|NumberOfOrders=1|MDPriceLevel=1|MDUpdateAction=0|SecurityIDSource=8|SecurityID=873267|RptSeq=18|SecurityDesc=ONX4 P3600|MDEntryType=7|MDEntryPx=41|MDEntryTime=20404000|MDUpdateAction=0|SecurityIDSource=8|SecurityID=873267|RptSeq=19|SecurityDesc=ONX4 P3600|MDEntryType=8|MDEntryPx=45|MDEntryTime=20404000|unknownID_10=043\n</code></pre>\n\n<p>I want to extract every message which contains an 'MDEntryType=2'.  Note, there can be multiple messages in each line.  The number of messages is indicated in 'NoMDEntries'.  There are other irrelevant messages, such as the one with 'MDEntryType=7' above.   Each inidividual message I want starts with 'MDUpdateAction=' and ends just before the next 'MDUpdateAction=' or with 'unknownID_10='.</p>\n\n<p>Note, there is one 'SendingTime' per block.</p>\n\n<p>I'd like to return the data in the following format:</p>\n\n<pre><code>|SendingTime=20140915014116175|MDUpdateAction=0|SecurityIDSource=8|SecurityID=951806|RptSeq=3|SecurityDesc=UD:1T: SG 0822951806|MDEntryType=2|MDEntryPx=21|MDEntrySize=1|MDEntryTime=14116000|TradeCondition=E|NetChgPrevDay=1|TradeID=1|TradeVolume=5|AggressorSide=2|MatchEventIndicator=1|\n|SendingTime=20140915014116175|MDUpdateAction=0|SecurityIDSource=8|SecurityID=265872|RptSeq=7|SecurityDesc=ONX4 P3400|MDEntryType=2|MDEntryPx=17|MDEntrySize=1|MDEntryTime=14116000|TradeCondition=1|NetChgPrevDay=0|TradeID=1|TradeVolume=1|AggressorSide=2|\n|SendingTime=20140915014116175|MDUpdateAction=0|SecurityIDSource=8|SecurityID=311863|RptSeq=8|SecurityDesc=ONX4 C4700|MDEntryType=2|MDEntryPx=9|MDEntrySize=1|MDEntryTime=14116000|TradeCondition=1|NetChgPrevDay=0|TradeID=1|TradeVolume=1|AggressorSide=2|\n|SendingTime=20140915020404771|MDUpdateAction=0|SecurityIDSource=8|SecurityID=873267|RptSeq=16|SecurityDesc=ONX4 P3600|MDEntryType=2|MDEntryPx=30|MDEntrySize=7|MDEntryTime=20404000|TickDirection=2|TradeCondition=E|NetChgPrevDay=-5|TradeID=1|TradeVolume=5|AggressorSide=1|MatchEventIndicator=1|\n</code></pre>\n\n<p>If it is too difficult to have the sending time at the beginning of each line, you can leave that off.  I'll just separate the data by day, and use the milliseond recorded in 'MDEntryTime'.</p>\n\n<p>I am happy to work with any software solution that works (sed, perl, etc.).  I have been trying to solve this with Emacs macros to no avail.</p>\n\n<p>Thanks for any help you can provide.</p>\n\n<p>EDIT:  There are some lines with two instances of 'MDEntryType=2', and so there are two messages to extract from the line.  For example:</p>\n\n<pre><code>|ApplVerID=9|unknownID_9=293|MessageType=X|SenderCompID=CME|MsgSeqNum=153770|SendingTime=20140915113751112|TradeDate=20140915|NoMDEntries=2|MDUpdateAction=0|SecurityIDSource=8|SecurityID=292861|RptSeq=6|SecurityDesc=ONZ4 P4100|MDEntryType=2|MDEntryPx=151|MDEntrySize=6|MDEntryTime=113751000|TickDirection=2|TradeCondition=1|NetChgPrevDay=-12|TradeID=1|TradeVolume=5|AggressorSide=1|MDUpdateAction=0|SecurityIDSource=8|SecurityID=726692|RptSeq=7|SecurityDesc=ONV4 P4100|MDEntryType=2|MDEntryPx=276|MDEntrySize=5|MDEntryTime=113751000|TickDirection=2|TradeCondition=1|NetChgPrevDay=-13|TradeID=1|TradeVolume=5|AggressorSide=2|unknownID_10=153\n</code></pre>\n\n<p>In general, any line can have an arbitrary number of messages to extract and messages to discard.</p>\n"}, {"tags": ["perl", "printf", "undefined"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1450641725, "post_id": 34384547, "comment_id": 56511798, "body": "It might help to show your code with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1450657803, "post_id": 34384727, "comment_id": 56516181, "body": "OK Hakon, this would probably work. But you see, I don&#39;t just output a formatted string. Both the number, if defined, and the substitute string for undef must be of the same length to fit nicely in a table with the same-width columns. i.e., &#39;% 11.2f&#39; must be translated into &#39;% 11s&#39;. But I think Borodin showed below how to do it."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 2, "last_activity_date": 1450638488, "creation_date": 1450638488, "answer_id": 34384727, "question_id": 34384547, "link": "https://stackoverflow.com/questions/34384547/substituting-text-string-in-uninitialized-table-fields-having-numeric-sprintf-fo/34384727#34384727", "title": "Substituting text string in uninitialized table fields having numeric sprintf format", "body": "<p>You could try using the <code>\"%s\"</code> format instead and a helper sub routine: For example:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $num = \"N/A\";\n\nprintf \"%s\\n\", format_float( $num );\n\nsub format_float {\n    return ($_[0] eq \"N/A\") ? $_[0] : sprintf \"%f\", $_[0];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1450645825, "creation_date": 1450645825, "answer_id": 34385880, "question_id": 34384547, "link": "https://stackoverflow.com/questions/34384547/substituting-text-string-in-uninitialized-table-fields-having-numeric-sprintf-fo/34385880#34385880", "title": "Substituting text string in uninitialized table fields having numeric sprintf format", "body": "<p>I suggest that you use <code>printf</code> with a major format that uses just string fields <code>%s</code> together with a set of conditional expressions that return either a number formatted with <code>sprintf</code> if the value is defined, or the string <code>NULL</code> if it is not</p>\n\n<p>An example should make that clearer</p>\n\n<pre><code>my ($f1, $f2, $f3) = ( 700/3, undef, 1/7 );\n\nprintf \"%11s %11s %11s\\n\",\n    defined $f1 ? sprintf('%.2f', $f1) : 'NULL',\n    defined $f2 ? sprintf('%.2f', $f2) : 'NULL',\n    defined $f3 ? sprintf('%.2f', $f3) : 'NULL';\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code> 233.33        NULL        0.14\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1450658099, "post_id": 34386261, "comment_id": 56516248, "body": "Thanks Jeff. Yes, and Borodin even extended it below. That&#39;s how I need it."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1450660483, "post_id": 34386261, "comment_id": 56516715, "body": "OK. The answers are quite different actually. I thought you were getting literal strings like &quot;NULL&quot; and &quot;n/a&quot; in your data that you wanted to &quot;pass thru&quot;. But if you are getting undef Perl variables in all non-numeric cases, then Borodin&#39;s is the right way."}], "tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 1, "last_activity_date": 1450648150, "creation_date": 1450648150, "answer_id": 34386261, "question_id": 34384547, "link": "https://stackoverflow.com/questions/34384547/substituting-text-string-in-uninitialized-table-fields-having-numeric-sprintf-fo/34386261#34386261", "title": "Substituting text string in uninitialized table fields having numeric sprintf format", "body": "<p>If you can be 99% certain that all non-number \"values\" you need to deal with will <em>not</em> have a digit anywhere, this is probably what you want:</p>\n\n<pre><code>sprintf (($num =~ /\\d/) ? \"%11.2f\" : \"%s\", $num)\n</code></pre>\n\n<p>If you need to additionally distinguish integral from float numbers, you'll have to do more...</p>\n"}], "owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 34385880, "answer_count": 3, "score": 1, "last_activity_date": 1450676725, "creation_date": 1450637441, "last_edit_date": 1450676725, "question_id": 34384547, "link": "https://stackoverflow.com/questions/34384547/substituting-text-string-in-uninitialized-table-fields-having-numeric-sprintf-fo", "title": "Substituting text string in uninitialized table fields having numeric sprintf format", "body": "<p>I need to format a table row having fields of various numeric data. Some fields have integers and others have real numbers that have to be formatted with a fixed precision. Right justified numbers might be left padded with spaces, others with zeros.</p>\n\n<p>Obviously <code>sprintf</code> is the perfect tool for the job.</p>\n\n<p>However, occasionally a table field is undefined, being NULL, n/a and likewise. In such cases I usually have to print a text string like <code>'NULL'</code>, <code>'undef'</code> or other. (Even leaving it uninitialized makes Perl issue a warning.)</p>\n\n<p>Just plugging in the text string won't do. Beside issuing a warning, a sprintf of say '% 11.2' not only issues a warning \"<code>Argument \"NULL\" isn't numeric in sprintf at...</code>\" but also prints zero rather than the text string.</p>\n\n<p>Any idea as to how to do what I need?</p>\n"}, {"tags": ["json", "perl", "hash"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450588893, "post_id": 34377827, "comment_id": 56497951, "body": "Please read <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>, especially the part about <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-HASHES\" rel=\"nofollow noreferrer\">hashes of hashes</a>."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 10, "last_activity_date": 1450645301, "last_edit_date": 1450645301, "creation_date": 1450585023, "answer_id": 34377913, "question_id": 34377827, "link": "https://stackoverflow.com/questions/34377827/iterating-through-a-hash-in-perl/34377913#34377913", "title": "Iterating through a HASH in perl", "body": "<p>The first thing is that <code>$decoded</code> is a <em>scalar variable</em> containing a <em>hash reference</em>, and is nothing to do with the hash variable <code>%decoded</code>. To access the hash that <code>$decoded</code> refers to you must <em>dereference</em> it, with <code>%$decoded</code></p>\n\n<p>You <strong><em>must always</em></strong> <code>use strict</code> and <code>use warnings 'all'</code> at the top of <strong><em>every</em></strong> Perl program you write, especially before asking others for help with it. It is a simple measure that, in this instance, would have caught the fact that you had used <code>%decoded</code> without declaring it</p>\n\n<p>In addition, the <em>values</em> of your hash are more hash references, and printing them out will produce something less than useful like this</p>\n\n<pre><code>key: Case_466, value: HASH(0xbf4840)\nkey: Case_534, value: HASH(0xc6dc00)\nkey: Case_552, value: HASH(0x280fce0)\nkey: Case_512, value: HASH(0xbf4930)\nkey: Case_345, value: HASH(0xd4c2f0)\nkey: Case_754, value: HASH(0x280fdd0)\nkey: Case_578, value: HASH(0x280fd58)\n</code></pre>\n\n<p>Presumably you want the values of all the fields in each hash? To access the value of a hash element given a key and a reference to the hash you should write <code>$hashref-&gt;{key}</code>, so this code will dump the entire hash for you</p>\n\n<pre><code>for my $key ( keys %$decoded ) {\n  my $data = $decoded-&gt;{$key};\n  print \"key: $key, values:\\n\";\n  for my $field ( qw/ Submit_Date Last_Resolved_Date Notes / ) {\n    printf \"    %-18s =&gt; %s\\n\", $field, $data-&gt;{$field};\n  }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>key: Case_578, values:\n    Submit_Date        =&gt; 2015-11-21 00:53:22 UTC\n    Last_Resolved_Date =&gt; \n    Notes              =&gt; test2\nkey: Case_754, values:\n    Submit_Date        =&gt; 2015-11-21 00:53:22 UTC\n    Last_Resolved_Date =&gt; \n    Notes              =&gt; test2\nkey: Case_534, values:\n    Submit_Date        =&gt; 2015-11-21 00:53:22 UTC\n    Last_Resolved_Date =&gt; \n    Notes              =&gt; test2\nkey: Case_345, values:\n    Submit_Date        =&gt; 2015-11-21 00:53:22 UTC\n    Last_Resolved_Date =&gt; \n    Notes              =&gt; test2\nkey: Case_512, values:\n    Submit_Date        =&gt; 2015-11-21 00:53:22 UTC\n    Last_Resolved_Date =&gt; \n    Notes              =&gt; test2\nkey: Case_552, values:\n    Submit_Date        =&gt; 2015-11-21 00:53:22 UTC\n    Last_Resolved_Date =&gt; \n    Notes              =&gt; test2\nkey: Case_466, values:\n    Submit_Date        =&gt; 2015-11-21 00:53:22 UTC\n    Last_Resolved_Date =&gt; \n    Notes              =&gt; test2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1450585925, "post_id": 34377980, "comment_id": 56497488, "body": "Re &quot;the usual way to iterate over both the keys and values of a hash in Perl is to use each&quot; Hardly. Too error-prone. // No mention of strictures???"}, {"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1450586375, "post_id": 34377980, "comment_id": 56497566, "body": "Added strictures, but still not sure how each is &quot;error-prone&quot;?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1450586568, "post_id": 34377980, "comment_id": 56497589, "body": "There&#39;s only one each/keys/values iterator per hash. Exiting the loop prematurely without causes problems [common]. Calling a sub that also iterates over the same hash causes problems [rare]. <code>each</code> is rarely used as a result. It&#39;s far from standard."}], "tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": false, "score": 0, "last_activity_date": 1450586821, "last_edit_date": 1450586821, "creation_date": 1450585832, "answer_id": 34377980, "question_id": 34377827, "link": "https://stackoverflow.com/questions/34377827/iterating-through-a-hash-in-perl/34377980#34377980", "title": "Iterating through a HASH in perl", "body": "<p>First, as Borodin said, <code>$decoded</code> is not a hash variable.  It's a scalar variable; it just happens to contain a reference to an anonymous hash.  In Perl, each sigil has its own namespace, so there is no relationship between the scalar variable <code>$decoded</code> and the hash variable <code>%decoded</code> (or the array variable <code>@decoded</code>, for that matter). Your use of the undefined hash var would have been flagged as an error if you were running under <code>use strict;</code>; as a general rule, you should always start Perl scripts with <code>use strict;</code>. It's a good idea to turn on warnings with <code>use warnings;</code> as well.</p>\n\n<p>It's widely considered a design error that <code>use strict;</code> is not turned on by default in Perl 5. It was made the default in version 5.12, but for backward compatibility, it's still only turned on for scripts that declare that they were written for a Perl that new. So as an alternative to <code>use strict;</code>, you can just put <code>use v5.12;</code> (or a newer version number), which will also enable other (non-experimental) new features like <code>say</code> to print with a newline.</p>\n\n<p>Second, the standard way to iterate over both the keys and values of a hash in Perl is to use <code>each</code>, which you can do for both the outer hash and each of the individual hashes:</p>\n\n<pre><code>while (my ($case, $data) = each %$decoded) {\n  print \"$case:\\n\";\n  while (my ($field, $value) = each %$data) {\n    print \"\\t$field: $value\\n\";\n  }\n}\n</code></pre>\n\n<p>But in practice, <code>each</code> is often avoided because it doesn't iterate over the keys in any predictable order (although it's the same order that <code>keys</code> and <code>values</code> return their results in). You may prefer to sort the keys and look up the values manually instead:</p>\n\n<pre><code>foreach my $case (sort keys %$decoded) {\n  my $data = $decoded-&gt;{$case};     \n  print \"$case:\\n\";\n  foreach my $field (sort keys %$data) {\n    $value = $data-&gt;{$field};\n    print \"\\t$field: $value\\n\";\n  }\n}\n</code></pre>\n\n<p>Also, the output might be more human-friendly with spaces instead of underscores:</p>\n\n<pre><code>foreach my $case (sort keys %$decoded) {\n  my $data = $decoded-&gt;{$case};\u2423\u2423\u2423\u2423\u2423\n  (my $case_label = $case) =~ s/_/ /g;\n  print \"$case_label:\\n\";\n  foreach my $field (sort keys %$data) {\n    (my $field_label = $field) =~ s/_/ /g;\n    $value = $data-&gt;{$field};\n    print \"\\t$field_label: $value\\n\";\n  }\n}\n</code></pre>\n\n<p>Which produces this:</p>\n\n<pre><code>Case 345:\n    Last Resolved Date: \n    Notes: test2\n    Submit Date: 2015-11-21 00:53:22 UTC\nCase 466:\n    Last Resolved Date: \n    Notes: test2\n    Submit Date: 2015-11-21 00:53:22 UTC\nCase 512:\n    Last Resolved Date: \n    Notes: test2\n    Submit Date: 2015-11-21 00:53:22 UTC\nCase 534:\n    Last Resolved Date: \n    Notes: test2\n    Submit Date: 2015-11-21 00:53:22 UTC\nCase 552:\n    Last Resolved Date: \n    Notes: test2\n    Submit Date: 2015-11-21 00:53:22 UTC\nCase 578:\n    Last Resolved Date: \n    Notes: test2\n    Submit Date: 2015-11-21 00:53:22 UTC\nCase 754:\n    Last Resolved Date: \n    Notes: test2\n    Submit Date: 2015-11-21 00:53:22 UTC\n</code></pre>\n"}], "owner": {"reputation": 231, "user_id": 3462823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46253b9f632e1156f914711934011c28?s=128&d=identicon&r=PG&f=1", "display_name": "lezzago", "link": "https://stackoverflow.com/users/3462823/lezzago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2554, "favorite_count": 0, "accepted_answer_id": 34377913, "answer_count": 2, "score": 0, "last_activity_date": 1450645301, "creation_date": 1450583991, "question_id": 34377827, "link": "https://stackoverflow.com/questions/34377827/iterating-through-a-hash-in-perl", "title": "Iterating through a HASH in perl", "body": "<p>I used: <code>print Dumper $decoded</code>, where <code>$decoded</code> is the HASH variable and I got this as the output.</p>\n\n<pre><code>    $VAR1 = {\n              'Case_345' =&gt; {\n                                     'Notes' =&gt; 'test2',\n                                     'Submit_Date' =&gt; '2015-11-21 00:53:22 UTC',\n                                     'Last_Resolved_Date' =&gt; ''\n                                   },\n              'Case_512' =&gt; {\n                                     'Notes' =&gt; 'test2',\n                                     'Submit_Date' =&gt; '2015-11-21 00:53:22 UTC',\n                                     'Last_Resolved_Date' =&gt; ''\n                                   },\n              'Case_534' =&gt; {\n                                     'Notes' =&gt; 'test2',\n                                     'Submit_Date' =&gt; '2015-11-21 00:53:22 UTC',\n                                     'Last_Resolved_Date' =&gt; ''\n                                   },\n              'Case_552' =&gt; {\n                                     'Notes' =&gt; 'test2',\n                                     'Submit_Date' =&gt; '2015-11-21 00:53:22 UTC',\n                                     'Last_Resolved_Date' =&gt; ''\n                                   },\n              'Case_578' =&gt; {\n                                     'Notes' =&gt; 'test2',\n                                     'Submit_Date' =&gt; '2015-11-21 00:53:22 UTC',\n                                     'Last_Resolved_Date' =&gt; ''\n                                   },\n              'Case_466' =&gt; {\n                                     'Notes' =&gt; 'test2',\n                                     'Submit_Date' =&gt; '2015-11-21 00:53:22 UTC',\n                                     'Last_Resolved_Date' =&gt; ''\n                                   },\n              'Case_754' =&gt; {\n                                     'Notes' =&gt; 'test2',\n                                     'Submit_Date' =&gt; '2015-11-21 00:53:22 UTC',\n                                     'Last_Resolved_Date' =&gt; ''\n                                   }\n            };\n</code></pre>\n\n<p>This is what I tried using to output some values to test iterating through the HASH.</p>\n\n<pre><code>    foreach my $key ( keys %decoded )\n    {\n         print \"key: $key, value: $decoded{$key}\\n\";\n    }\n</code></pre>\n\n<p>It does not iterate at all through the <code>$decoded</code> variable. I am new to perl, could someone please help me out. If it helps I got this by converting a string with <code>JSON::XS::decode_json($json_str)</code>. Thanks.</p>\n"}, {"tags": ["perl", "azure", "fastcgi"], "answers": [{"comments": [{"owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "edited": false, "score": 0, "creation_date": 1450616811, "post_id": 34376727, "comment_id": 56503909, "body": "It&#39;s just the way I have written it. The code looks like this:   print &quot;Content-type: text/html&quot;, &quot;\\n\\n&quot;;   print &quot;Hello, World!\\n&quot;;"}, {"owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "edited": false, "score": 0, "creation_date": 1450616993, "post_id": 34376727, "comment_id": 56503964, "body": "I am using a web app so any implementation details like whether it uses FCGI are not really exposed. But that&#39;s what the error message says so it must be, IIS certainly uses FastCGI for Perl and PHP so it&#39;s no surprise to me that the web app does as that&#39;s basically a wrapper for IIIS."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1450570471, "last_edit_date": 1450570471, "creation_date": 1450570167, "answer_id": 34376727, "question_id": 34375614, "link": "https://stackoverflow.com/questions/34375614/azure-fastcgimodule-error-the-storage-control-block-address-is-invalid/34376727#34376727", "title": "Azure FastCgiModule error: The storage control block address is invalid", "body": "<p>If your script was run as a CGI script,</p>\n\n<pre><code>Content-type: text/html\\n\\n\nHello, World!\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>Content-type: text/html\n\nHello, World!\n</code></pre>\n\n<p>But you mentioned FastCGI, so your script is probably far more broken than that. I don't think you're communicating using the Fast CGI protocol at all. Did you use <a href=\"http://search.cpan.org/perldoc?FCGI\" rel=\"nofollow\">FCGI</a>?</p>\n"}, {"tags": [], "owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "is_accepted": true, "score": 0, "last_activity_date": 1450736745, "creation_date": 1450736745, "answer_id": 34405382, "question_id": 34375614, "link": "https://stackoverflow.com/questions/34375614/azure-fastcgimodule-error-the-storage-control-block-address-is-invalid/34405382#34405382", "title": "Azure FastCgiModule error: The storage control block address is invalid", "body": "<p>If your script runs from the command line but not from the web app or IIS it means the CGI part is not functioning. My problem is I hadn't installed FCGI </p>\n\n<p>This page explains all: <a href=\"http://search.cpan.org/~cosmicnet/FCGI-IIS-0.05/lib/FCGI/IIS.pm\" rel=\"nofollow\">http://search.cpan.org/~cosmicnet/FCGI-IIS-0.05/lib/FCGI/IIS.pm</a></p>\n\n<p>Basically, you need to run \"ppm install FCGI-IIS\" from the command line (on the PC you copy the files from to include in the web app, NOT the web app you can't).</p>\n\n<p>Then add as a handler argument for your *.pl handler: -MFCGI::IIS=do</p>\n\n<p>If it's not working run this from your web app command line and see what the error is: D:\\home\\site\\wwwroot\\bin\\perl\\bin\\perl.exe -MFCGI::IIS=do test.pl</p>\n\n<p>The web app logs are pretty useless, much better to run from the command line if you can to see the error.</p>\n"}], "owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 34405382, "answer_count": 2, "score": 0, "last_activity_date": 1450736745, "creation_date": 1450560645, "question_id": 34375614, "link": "https://stackoverflow.com/questions/34375614/azure-fastcgimodule-error-the-storage-control-block-address-is-invalid", "title": "Azure FastCgiModule error: The storage control block address is invalid", "body": "<p>I am trying to run ActivePerl from an Azure web app. I have installed all the necessary files and can run it from the command line.</p>\n\n<p>I can view the output for the test.pl script from the command line as follows</p>\n\n<pre><code>D:\\home\\site\\wwwroot\\bin\\perl\\bin\\perl.exe D:\\home\\site\\wwwroot\\test.pl\n</code></pre>\n\n<p>This just outputs this text:</p>\n\n<pre><code>Content-type: text/html\\n\\n\nHello, World!\n</code></pre>\n\n<p>However when I add a handler in my Application Settings to run *.pl files with a processor path of </p>\n\n<p>D:\\home\\site\\wwwroot\\bin\\perl\\bin\\perl.exe (i.e. the same file as I ran from the command line)</p>\n\n<p>I get the following FastCgiModule error: The storage control block address is invalid. (0x9)</p>\n\n<p>I think this is a permissions error, but why does it work from the command line and not when running inside the web app. Are they running under different accounts?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1450559601, "post_id": 34375148, "comment_id": 56492578, "body": "The Perl5i module is really cool, but I&#39;m not sure I need an entire meta object extension to construct a deep checksum of an arbitrary value. I checked the implementation of <code>checksum</code> and it uses <code>Data::Dumper</code> to get a string representation of arbitrary values and to sort keys in hashes.  What is the advantage of that approach over setting <code>$Storable::canonical = 1</code>, and then hashing the resulting serialization of the data structure?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 1, "creation_date": 1450559774, "post_id": 34375148, "comment_id": 56492621, "body": "@GregoryNisbet perl5i brings all sorts of other value to your fingertips, and <code>$foo-&gt;mo-&gt;checksum</code> is already implemented and tested. But any serialization + checksum technique will work. The point is the technique, not the implementation."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 5, "last_activity_date": 1450557453, "creation_date": 1450557453, "answer_id": 34375148, "question_id": 34374772, "link": "https://stackoverflow.com/questions/34374772/perl-serialize-nested-reference-to-string/34375148#34375148", "title": "Perl serialize nested reference to string", "body": "<p>There's no need to serialize all that data just to have a (potentially enormous) hash key.  Instead, take the checksum of the data structure and use that for a key.  Store the original key as part of the value.</p>\n\n<p>Here's an example using <a href=\"https://metacpan.org/pod/distribution/perl5i/lib/perl5i/Meta.pod#checksum\" rel=\"noreferrer\">perl5i to do the deep checksum</a>.</p>\n\n<pre><code>use perl5i::2;\n$hash{@stuff-&gt;mo-&gt;checksum} = {\n    key   =&gt; \\@stuff,\n    value =&gt; 'value'\n};\n\nmy $value = $hash{@stuff-&gt;mo-&gt;checksum}{value};\nmy $key   = $hash{@stuff-&gt;mo-&gt;checksum}{key};\n</code></pre>\n\n<p>You can wrap this in a little class to make it more convenient.</p>\n\n<pre><code>sub get {\n    my $self = shift;\n    my $key  = shift;\n\n    return $self-&gt;{$key-&gt;mo-&gt;checksum}{value};\n}\n\nsub set {\n    my $self = shift;\n    my($key, $val) = @_;\n\n    $self-&gt;{$key-&gt;mo-&gt;checksum} = $val;\n\n    return;\n}\n\nsub each {\n    my $self = shift;\n    my $code = shift;\n\n    my $val;\n    while( (undef, $val) = each %$self ) {\n        $code-&gt;($val-&gt;{key}, $val-&gt;{value});\n    }\n\n    return;\n}\n\n$obj-&gt;set(\\@stuff, \"value\");\nmy $value = $obj-&gt;get(\\@stuff);\n\n$obj-&gt;each( func($key, $val) {\n    say \"$key -&gt; $val\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 34375148, "answer_count": 1, "score": 0, "last_activity_date": 1450557453, "creation_date": 1450554998, "question_id": 34374772, "link": "https://stackoverflow.com/questions/34374772/perl-serialize-nested-reference-to-string", "title": "Perl serialize nested reference to string", "body": "<p>I'm looking for a solution for using complex keys (arbitrary references) as hash keys, except that they perform deep comparison on the keys as opposed to reference comparison.</p>\n\n<p>I am looking for a function preferably in a core module that serializes arbitrary references (possibly excluding subroutine and typeglob references) to strings in such a way that they can be reconstituted later. </p>\n\n<pre><code> my @complex_key = qw[key1 key2];\n my %hash;\n $hash{serialize([@complex_key])} = 'value';\n\n  deserialize((keys %hash)[0]);\n   # should deeply equal [@complex_key]\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 2, "creation_date": 1450548586, "post_id": 34373796, "comment_id": 56489429, "body": "which environment are you using? System? And do you really need to execute a external command to get the date?"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1450549868, "post_id": 34373796, "comment_id": 56489840, "body": "Don&#39;t you get an error message after the <code>Can&#39;t exec &quot;date&quot;</code>? What version of perl is it? What are your PATH, SHELL, and any other relevant environment variables? Can you run <code>date</code> from a shell using the same environment?"}, {"owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "edited": false, "score": 0, "creation_date": 1450550279, "post_id": 34373796, "comment_id": 56489965, "body": "<code>$ENV{&#39;PATH&#39;}</code> will show you where it is looking for the <code>date</code> command."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1450554419, "post_id": 34373796, "comment_id": 56491160, "body": "@Jens, That can&#39;t be. No shell was used."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1450554479, "post_id": 34373796, "comment_id": 56491178, "body": "@jcaron, <code>$ENV{SHELL}</code> isn&#39;t used, <code>$Config{sh}</code> (which is <code>&#47;bin&#47;sh</code> on unix systems) would be used if a shell was used, but no shell was used."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1450564215, "post_id": 34373796, "comment_id": 56493779, "body": "@ikegami backticks execute the command <i>with &quot;/bin/sh&quot; or its equivalent</i>, as perlop says. Not sure how it determines which shell it uses, though. Also the message is indeed not exactly &#39;Can&#39;t exec &quot;date&quot;.&#39;, but rather &#39;Can&#39;t exec &quot;date&quot;: &#39; followed by the error, on the perl version I tried, but this may be different on older versions of perl?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1450570098, "post_id": 34373796, "comment_id": 56495104, "body": "@jcaron, like single-arg system and exec, backticks don&#39;t invoke a shell if the command contain no shell meta characters but spaces (and maybe other whitespace chars). For example, <code>perl -E&#39;print `set`; say $? == -1 ? $! : $?;&#39;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1450576291, "post_id": 34373796, "comment_id": 56496057, "body": "@jcaron, But you&#39;re <a href=\"http://perl5.git.perl.org/perl.git/blob/0ab152a1d10861997fe3e1b985cc92f142f4cec7:/doio.c#l1525\" rel=\"nofollow noreferrer\">right</a> about &quot;Can&#39;t exec&quot;. Deleted my comment, and added an answer."}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 3, "last_activity_date": 1450550513, "creation_date": 1450550513, "answer_id": 34374116, "question_id": 34373796, "link": "https://stackoverflow.com/questions/34373796/error-when-i-try-to-exec-date/34374116#34374116", "title": "Error when I try to exec date", "body": "<p>If you just want the current date/time then you don't need to shell out to the date command anyway.</p>\n\n<pre><code>use POSIX qw(strftime);\n\nmy $date_time = strftime('%F %T', localtime());\nprint \"$date_time\\n\";\n</code></pre>\n\n<p>POSIX is a core module so if you have Perl you should have POSIX.  See the <a href=\"http://linux.die.net/man/3/strftime\" rel=\"nofollow\">strftime</a> man page for details of the date format string.</p>\n\n<p>You haven't really given us enough information to diagnose the problem with running date in backticks.  If I was trying to diagnose it I'd probably use a tool like <code>strace</code> but that might not be available for your platform.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1450586419, "last_edit_date": 1450586419, "creation_date": 1450575511, "answer_id": 34377195, "question_id": 34373796, "link": "https://stackoverflow.com/questions/34373796/error-when-i-try-to-exec-date/34377195#34377195", "title": "Error when I try to exec date", "body": "<p>When Perl is asked to execute a shell command (whether through <code>exec</code>, <code>system</code>, <code>readpipe</code>/<code>qx</code>/backticks or <code>open</code>), and that shell command contains no shell metacharacters other than whitespace characters, Perl will execute the command itself rather than invoking a shell.</p>\n\n<p>If Perl is unable to execute the program and warnings are enabled, Perl emits a warning saying the program can't be executed, along with the reason why.</p>\n\n<pre><code>$ perl -we'`non-existent`'\nCan't exec \"non-existent\": No such file or directory at -e line 1.\n</code></pre>\n\n<p>You seem to misstated the message you received. The part you left off is the reason <code>date</code> could not be executed. For example, \"No such file or directory\" would indicate the program was not found in your path.</p>\n\n<hr>\n\n<p>In any case, there's really no need to execute <code>date</code>. The following is equivalent:</p>\n\n<pre><code>use POSIX qw( strftime );\n\nmy $enddate = strftime('%a %b %e %H:%M:%S %Z %Y', localtime()) . \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4032637, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Y91", "link": "https://stackoverflow.com/users/4032637/y91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1450586419, "creation_date": 1450548353, "question_id": 34373796, "link": "https://stackoverflow.com/questions/34373796/error-when-i-try-to-exec-date", "title": "Error when I try to exec date", "body": "<p>I was running this perl script (part of an open source project, not written by me) and it died on me. Below is the relevant part of the code:</p>\n\n<pre><code>$enddate = `date`;\n</code></pre>\n\n<p>The error I received:</p>\n\n<pre><code>Can't exec \"date\". \n</code></pre>\n\n<p>Is it a problem with the perl version? or the shell?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450478325, "post_id": 34364845, "comment_id": 56472471, "body": "Have you considered calling the <code>extractTree()</code> method with no arguments to extract all the files at once? You could also call <code>members()</code> or <code>membersMatching()</code> to filter out what you&#39;re interested in, and then extract them individually like you&#39;re doing."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1450478416, "creation_date": 1450478416, "answer_id": 34365008, "question_id": 34364845, "link": "https://stackoverflow.com/questions/34364845/unzipping-files-in-perl-with-wildcard-file-name/34365008#34365008", "title": "Unzipping files in perl with wildcard file name", "body": "<p>It seems you could use the <a href=\"https://metacpan.org/pod/Archive::Zip\" rel=\"nofollow\">documented</a> <code>membersMatching($regex)</code> method:</p>\n\n<pre><code>my @files = $zip-&gt;membersMatching(qr/$file.*\\.txt/);\n$zip-&gt;extractMember($_) for @files;\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 2229847, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0b6ad91ee3dfb3dff8a8663bf510845d?s=128&d=identicon&r=PG", "display_name": "Deena", "link": "https://stackoverflow.com/users/2229847/deena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450478416, "creation_date": 1450477535, "question_id": 34364845, "link": "https://stackoverflow.com/questions/34364845/unzipping-files-in-perl-with-wildcard-file-name", "title": "Unzipping files in perl with wildcard file name", "body": "<p>I am using the Archive::Zip module to extract a specific file.</p>\n\n<pre><code>my $file = shift\nmy $zip = Archive::Zip-&gt;('zipped.zip');\n$zip-&gt;extractMember($file.'txt');\n</code></pre>\n\n<p>The problem is that sometimes the complete file name is not known, and I want to do something like this:</p>\n\n<pre><code>$zip-&gt;extractMember($file.*.'txt');\n</code></pre>\n\n<p>I searched around online and can't find anything for this module (or any similar module). Is there a module that allows for wildcarding in file extraction?</p>\n"}, {"tags": ["arrays", "perl", "reference"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1450477277, "post_id": 34364160, "comment_id": 56472110, "body": "If you <code>print &quot;@array\\n&quot;</code> then the elements will be nicely separated by spaces in the output"}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "is_accepted": true, "score": 5, "last_activity_date": 1450474178, "creation_date": 1450474178, "answer_id": 34364210, "question_id": 34364160, "link": "https://stackoverflow.com/questions/34364160/using-reference-of-an-array-to-append-the-array-in-a-function-perl/34364210#34364210", "title": "Using reference of an array to append the array in a function perl", "body": "<p>The error you're seeing is caused by the line</p>\n\n<pre><code> my $array_ref = @_;\n</code></pre>\n\n<p>In scalar context, an ordinary array returns its length, so <code>$array_ref</code> is <code>1</code>, not a reference to <code>@array</code>. In the next line, perl complains because you can't dereference <code>1</code>. When assigning from <code>@_</code> (or any other array), use list context:</p>\n\n<pre><code> my ($array_ref) = @_;\n</code></pre>\n\n<p>Alternatively, in this case, you can use <code>shift</code>:</p>\n\n<pre><code> my $array_ref = shift;\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 5618063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6d89ce8c9e681f5ced93ab6afefe46?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/5618063/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 34364210, "answer_count": 1, "score": 1, "last_activity_date": 1450474178, "creation_date": 1450473910, "question_id": 34364160, "link": "https://stackoverflow.com/questions/34364160/using-reference-of-an-array-to-append-the-array-in-a-function-perl", "title": "Using reference of an array to append the array in a function perl", "body": "<p>I'm trying to get my head around a perl script. Where a funnction is called with the reference of an array. In this function this array is appended.</p>\n\n<p>So my first question is if I append something to the reference of an array in a function do I append it to the global array?</p>\n\n<p>I tried to boil the script down and tried to be as close to the script as possible. I end up with this perl script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nmy @array = ();\nmy $i = 0;\n\nwhile ($i &lt; 11) {\n    fun(\\@array);\n    $i++;\n}\n\nprint @array , \"\\n\";\n\nsub fun {\n    my $array_ref = @_;\n    push @{$array_ref}, $i;\n}\n</code></pre>\n\n<p>The next question would be why does this script not work?\nIt crashes with this error message:</p>\n\n<pre><code>Can't use string (\"1\") as an ARRAY ref while \"strict refs\" in use at trial.pl line 17.\n</code></pre>\n"}, {"tags": ["arrays", "perl", "multidimensional-array", "data-structures"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450466715, "post_id": 34362525, "comment_id": 56467381, "body": "Do you have a specific code example to describe what you mean? I&#39;m having an incredibly hard time parsing your question."}, {"owner": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450466815, "post_id": 34362525, "comment_id": 56467415, "body": "@Matt Jacob : below coding is my answer , i am asking about any example code with explanation for 2 dimensional array"}], "answers": [{"comments": [{"owner": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "edited": false, "score": 0, "creation_date": 1450467371, "post_id": 34362547, "comment_id": 56467686, "body": "@kegami :( $x[4] //= [ ] )-&gt;[2] = &quot;c&quot;; I couldn&#39;t understand this line can u explain this line?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "edited": false, "score": 0, "creation_date": 1450467815, "post_id": 34362547, "comment_id": 56467887, "body": "<code>SCALAR &#47;&#47;= EXPR</code> checks if <code>SCALAR</code> is defined. If not, it evaluates <code>EXPR</code> and assigns the result to <code>SCALAR</code>."}, {"owner": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "edited": false, "score": 0, "creation_date": 1450468077, "post_id": 34362547, "comment_id": 56468009, "body": "$x[4] = \\@a; if reference would not be use what will be happen? like this $x[4] = @a;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "edited": false, "score": 0, "creation_date": 1450468132, "post_id": 34362547, "comment_id": 56468042, "body": "Same as <code>$x[4] = 3;</code>, since <code>@a</code> in scalar context evaluates to the number of elements in <code>@a</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1450535338, "last_edit_date": 1450535338, "creation_date": 1450466469, "answer_id": 34362547, "question_id": 34362525, "link": "https://stackoverflow.com/questions/34362525/why-is-one-dimensional-array-of-ref-to-other-one-dimensional-array-called-multi/34362547#34362547", "title": "Why is one dimensional array of ref to other one-dimensional array called multi dimensional array?", "body": "<pre><code>my @a = ( \"a\", \"b\", \"c\" );\nmy @x;\n$x[4] = \\@a;\nsay $x[4]-&gt;[2];  # c\n</code></pre>\n\n<p>The dereference (<code>-&gt;</code>) is implied \"between indexes\" if omitted.</p>\n\n<pre><code>my @a = ( \"a\", \"b\", \"c\" );\nmy @x;\n$x[4] = \\@a;\nsay $x[4][2];  # c\n</code></pre>\n\n<p>As you can see, this can be used to create multi-dimensional arrays.</p>\n\n<hr>\n\n<p>An anonymous array is commonly used. <code>[ ... ]</code> constructs an array and returns a reference to it.</p>\n\n<pre><code>my @x;\n$x[4] = [ \"a\", \"b\", \"c\" ];\nsay $x[4][2];  # c\n</code></pre>\n\n<p>Also common is to let Perl create the array and the reference for you automatically through a feature called \"autovivification\".</p>\n\n<pre><code>my @x;\n$x[4][2] = \"c\";\nsay $x[4][2];  # c\n</code></pre>\n\n<p>That's because</p>\n\n<pre><code>$x[4][2] = \"c\";\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>$x[4]-&gt;[2] = \"c\";\n</code></pre>\n\n<p>and</p>\n\n<pre><code>SCALAR-&gt;[EXPR1] = EXPR2;\n</code></pre>\n\n<p>is effectively </p>\n\n<pre><code>( SCALAR //= [ ] )-&gt;[EXPR1] = EXPR2;\n</code></pre>\n\n<p>so</p>\n\n<pre><code>$x[4]-&gt;[2] = \"c\";\n</code></pre>\n\n<p>is effectively</p>\n\n<pre><code>( $x[4] //= [ ] )-&gt;[2] = \"c\";\n</code></pre>\n"}], "owner": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450535338, "creation_date": 1450466359, "last_edit_date": 1450521946, "question_id": 34362525, "link": "https://stackoverflow.com/questions/34362525/why-is-one-dimensional-array-of-ref-to-other-one-dimensional-array-called-multi", "title": "Why is one dimensional array of ref to other one-dimensional array called multi dimensional array?", "body": "<p>I know array reference, but in Perl multidimensional array is a one dimensional array of reference to other one-dimensional array can anyone explain this with an example?</p>\n"}, {"tags": ["perl", "sudo"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1450462957, "post_id": 34361667, "comment_id": 56465546, "body": "The behavior also depends on <code>env_delete</code> and <code>env_check</code>; do you have anything in those?  Do you see a difference which is specifically due to something in your environment (i.e. <code>PERL5LIB</code> I guess?)"}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1450463953, "post_id": 34361667, "comment_id": 56466079, "body": "You could also add <code>use lib &quot;&#47;my&#47;directory&quot;;</code> to your Perl script. <a href=\"http://perldoc.perl.org/perlrun.html#ENVIRONMENT\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlrun.html#ENVIRONMENT</a>"}, {"owner": {"reputation": 11, "user_id": 5696113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5503b10d8f437ad482c0adf721e872b5?s=128&d=identicon&r=PG&f=1", "display_name": "Shelly", "link": "https://stackoverflow.com/users/5696113/shelly"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1450464015, "post_id": 34361667, "comment_id": 56466110, "body": "@tripleee Thanks for pointing out that. The env_delete and env_check are no set up in sudoers file. I updated the question description with the current &quot;Environment variables to remove&quot; and &quot;Environment variables to preserve&quot; list."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1450464386, "post_id": 34361667, "comment_id": 56466267, "body": "<i>&quot;Are no set up&quot;</i> does not really parse, and seems to be at odds with your updated question -- if your <code>sudo</code> has a large list of &quot;Environment variables to remove&quot; then those are being set in <code>env_delete</code> and you will not be able to pass them into the <code>sudo</code> command (unless of course you get an admin to change these settings, perhaps for a particular command etc)."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1450464441, "post_id": 34361667, "comment_id": 56466300, "body": "Somewhat relevant: <a href=\"http://unix.stackexchange.com/questions/92998/how-can-i-keep-all-environment-vars-for-a-specific-command-in-sudo\" title=\"how can i keep all environment vars for a specific command in sudo\">unix.stackexchange.com/questions/92998/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 5696113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5503b10d8f437ad482c0adf721e872b5?s=128&d=identicon&r=PG&f=1", "display_name": "Shelly", "link": "https://stackoverflow.com/users/5696113/shelly"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1450465583, "post_id": 34361667, "comment_id": 56466817, "body": "@tripleee  I&#39;m now using Linux version 3.19.8. The current sudoers file doesn&#39;t explicitly set up env_delete and env_check. The sudo used to work well with Linux version 3.4.91 with the same sudoers file but different remove/preserve lists. Don&#39;t know where the lists come from. I&#39;m trying to modify the sudoers file."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1450469218, "post_id": 34361667, "comment_id": 56468601, "body": "The kernel version is basically of no interest whatsoever - the system calls to read files and switch user identity are ancient and very stable. The distro and <code>sudo</code> package version might be relevant, though in the end, this is going to be a local configuration problem (and as such not even properly on-topic for this site)."}], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 7607601, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10100582614592907/picture?type=large", "display_name": "Brian Wiley", "link": "https://stackoverflow.com/users/7607601/brian-wiley"}, "edited": false, "score": 0, "creation_date": 1598573939, "post_id": 34374246, "comment_id": 112510789, "body": "How do you add missing path to @INC with <code>sudo perl -V</code>? When I update PERL5LIB in ~/.bashrc this only updates the @INC in the <code>perl -V</code> and not the sudo version of @INC"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "reply_to_user": {"reputation": 367, "user_id": 7607601, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10100582614592907/picture?type=large", "display_name": "Brian Wiley", "link": "https://stackoverflow.com/users/7607601/brian-wiley"}, "edited": false, "score": 0, "creation_date": 1598665725, "post_id": 34374246, "comment_id": 112541301, "body": "The current value of your <code>PERL5LIB</code> variable will probably not be passed through by <code>sudo</code> and your <code>.bashrc</code> won&#39;t come into play unless your sudo command is running bash (which it isn&#39;t). You could do something like: <code>sudo sh -c &#39;PERL5LIB=&#47;path&#47;to&#47;lib perl -V&#39;</code>"}, {"owner": {"reputation": 367, "user_id": 7607601, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10100582614592907/picture?type=large", "display_name": "Brian Wiley", "link": "https://stackoverflow.com/users/7607601/brian-wiley"}, "edited": false, "score": 1, "creation_date": 1598665898, "post_id": 34374246, "comment_id": 112541335, "body": "Thanks @Grant McLean, that is pretty funny that I just realized I am looking at your LibXML tutorial last few days and you where the poster of this thread.  Small world.  Hope to see your stuff while I use perl this semester for database class. :)"}, {"owner": {"reputation": 367, "user_id": 7607601, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10100582614592907/picture?type=large", "display_name": "Brian Wiley", "link": "https://stackoverflow.com/users/7607601/brian-wiley"}, "edited": false, "score": 0, "creation_date": 1598666274, "post_id": 34374246, "comment_id": 112541383, "body": "I tried this but is there a way to make it permanent so it shows up with &#39;sudo perl -V&#39;?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "reply_to_user": {"reputation": 367, "user_id": 7607601, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10100582614592907/picture?type=large", "display_name": "Brian Wiley", "link": "https://stackoverflow.com/users/7607601/brian-wiley"}, "edited": false, "score": 1, "creation_date": 1598669348, "post_id": 34374246, "comment_id": 112541767, "body": "If you build your own Perl you can specify what should be in @INC by default, but if you&#39;re using the system Perl the options are more limited. <a href=\"https://stackoverflow.com/questions/7051971\">This question</a> has one approach that could work if your system Perl is built with the relevant option enabled. Another approach is via <code>sudo</code> config - e.g.:  add <code>Defaults env_file=&#47;etc&#47;sudoers.env</code> to <code>&#47;etc&#47;sudoers</code> and <code>export PERL5LIB=&#47;path&#47;to&#47;lib</code> to <code>&#47;etc&#47;sudoers.env</code>."}, {"owner": {"reputation": 367, "user_id": 7607601, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10100582614592907/picture?type=large", "display_name": "Brian Wiley", "link": "https://stackoverflow.com/users/7607601/brian-wiley"}, "edited": false, "score": 0, "creation_date": 1598672913, "post_id": 34374246, "comment_id": 112542252, "body": "Great!  It&#39;s nice to know I can edit a sudoers and sudoers.env file that I never knew existed or you could make."}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 1, "last_activity_date": 1450551344, "creation_date": 1450551344, "answer_id": 34374246, "question_id": 34361667, "link": "https://stackoverflow.com/questions/34361667/perl-script-run-via-sudo-couldnt-find-library-inc-contents-changed/34374246#34374246", "title": "Perl script run via sudo couldn&#39;t find library, @INC contents changed", "body": "<p>With the information you've provided we can really only make guesses.  The environment variable that directly affects <code>@INC</code> in your Perl script is <code>$PERL5LIB</code>.</p>\n\n<p>However the most likely cause is that <code>$PATH</code> is different in the root shell and you're actually running a different Perl binary, which will have different defaults for <code>@INC</code> compiled in.  Use <code>which perl</code> and <code>sudo which perl</code> to test this theory.</p>\n\n<p>To solve your problem, make sure the 'shebang' line (first line of your script) points to the Perl binary you want to use:</p>\n\n<pre><code>#!/usr/bin/perl\n</code></pre>\n\n<p>And then in your Perl script add the library paths you need, either explicitly:</p>\n\n<pre><code>use lib '/opt/path/to/site/lib';\n</code></pre>\n\n<p>or relative to the location of the directory the script itself is in:</p>\n\n<pre><code>use FindBin;\nuse lib \"$FindBin::Bin/lib\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "is_accepted": false, "score": 1, "last_activity_date": 1450928882, "last_edit_date": 1492086990, "creation_date": 1450664257, "answer_id": 34388120, "question_id": 34361667, "link": "https://stackoverflow.com/questions/34361667/perl-script-run-via-sudo-couldnt-find-library-inc-contents-changed/34388120#34388120", "title": "Perl script run via sudo couldn&#39;t find library, @INC contents changed", "body": "<p>One solution is to have a wrapper script to set env:</p>\n\n<p>to get the current env to write to a file, could move this file to a more appropriate location.</p>\n\n<pre><code>~/env_get.pl\n\nsudo ~/env_wrapper.pl ~/test.pl\n\n\nperl -e \"print \\\"@INC\\\"\"\n# this works for me, -p preserve the user ENV\nsudo su -p - gliang -c 'perl -e \"print \\\"@INC\\\"\"'\n/usr/local/perl /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .\n</code></pre>\n\n<p>Details here:</p>\n\n<p> <a href=\"https://unix.stackexchange.com/questions/202383/how-to-pass-environment-variable-to-sudo-su\">https://unix.stackexchange.com/questions/202383/how-to-pass-environment-variable-to-sudo-su</a></p>\n\n<p>I have a hard time to paste, here is the demo code</p>\n\n<p><a href=\"https://github.com/EverydayQA/prima/tree/master/perl_tools\" rel=\"nofollow noreferrer\">https://github.com/EverydayQA/prima/tree/master/perl_tools</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5696113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5503b10d8f437ad482c0adf721e872b5?s=128&d=identicon&r=PG&f=1", "display_name": "Shelly", "link": "https://stackoverflow.com/users/5696113/shelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1450928882, "creation_date": 1450462581, "last_edit_date": 1450707028, "question_id": 34361667, "link": "https://stackoverflow.com/questions/34361667/perl-script-run-via-sudo-couldnt-find-library-inc-contents-changed", "title": "Perl script run via sudo couldn&#39;t find library, @INC contents changed", "body": "<p>Perl script run via sudo couldn't find library. The path containing the required library doesn't exist in @INC when running via sudo. </p>\n\n<pre><code>sudo perl -e \"print \\\"@INC\\\"\"\n</code></pre>\n\n<p>prints less paths than</p>\n\n<pre><code>perl -e \"print \\\"@INC\\\"\"\n</code></pre>\n\n<p>I've tried change the sudoers file by </p>\n\n<pre><code>Defaults    !env_reset\n</code></pre>\n\n<p>which doesn't help.</p>\n\n<p>Is there a way to keep the @INC contents?</p>\n\n<pre><code> Environment variables to remove:\n    RUBYOPT\n    RUBYLIB\n    PYTHONUSERBASE\n    PYTHONINSPECT\n    PYTHONPATH\n    PYTHONHOME\n    TMPPREFIX\n    ZDOTDIR\n    READNULLCMD\n    NULLCMD\n    FPATH\n    PERL5DB\n    PERL5OPT\n    PERL5LIB\n    PERLLIB\n    PERLIO_DEBUG\n    JAVA_TOOL_OPTIONS\n    SHELLOPTS\n    GLOBIGNORE\n    PS4\n    BASH_ENV\n    ENV\n    TERMCAP\n    TERMPATH\n    TERMINFO_DIRS\n    TERMINFO\n    _RLD*\n    LD_*\n    PATH_LOCALE\n    NLSPATH\n    HOSTALIASES\n    RES_OPTIONS\n    LOCALDOMAIN\n    CDPATH\n    IFS\n\n Environment variables to preserve:\n    XAUTHORIZATION\n    XAUTHORITY\n    TZ\n    PS2\n    PS1\n    PATH\n    LS_COLORS\n    KRB5CCNAME\n    HOSTNAME\n    DISPLAY\n    COLORS\n</code></pre>\n\n<p>Thanks for the help. The answer is:</p>\n\n<pre><code> Defaults !env_reset\n\n Defaults env_delete-=PERLLIB\n</code></pre>\n"}, {"tags": ["perl", "postgresql", "dbix-class"], "answers": [{"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1450449689, "post_id": 34357909, "comment_id": 56457609, "body": "There are good examples in the <a href=\"https://metacpan.org/pod/distribution/DBIx-Class/lib/DBIx/Class/InflateColumn.pod\" rel=\"nofollow noreferrer\">DBIx::Class::InflateColumn docs</a>"}, {"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 0, "creation_date": 1450515445, "post_id": 34357909, "comment_id": 56479823, "body": "Thanks @abraxxa - this solved the problem but only partially. See my answer below. Appreciate anyway . you set me on the right path."}], "tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": true, "score": 2, "last_activity_date": 1450449156, "creation_date": 1450449156, "answer_id": 34357909, "question_id": 34357258, "link": "https://stackoverflow.com/questions/34357258/json-data-and-dbixclass-how-can-i-store-data-directly/34357909#34357909", "title": "JSON data and DBIx::Class - how can I store data directly?", "body": "<p>What you're looking for is an InflateColumn like <a href=\"https://metacpan.org/pod/DBIx::Class::InflateColumn::Serializer::JSYNC\" rel=\"nofollow\">https://metacpan.org/pod/DBIx::Class::InflateColumn::Serializer::JSYNC</a>.</p>\n\n<p>You can also easily write one yourself.</p>\n\n<p>Don't forget that DBIC just generates column accessors for you when you call add_column and their names are configurable so can rename them an call them from your own aceessor method.</p>\n\n<p>Or you use Moo(se) method modifiers.</p>\n"}, {"comments": [{"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1450541421, "post_id": 34368971, "comment_id": 56487122, "body": "It was a bad design decision of DBIC&#39;s update method to take parameters which change the column values because it circumvents the column accessor methods. It is therefore recommended to not use this api and always modify result (row) objects using their accessors and ensure update throws an exception when passed column values with for example a before or around method modifier."}], "tags": [], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "is_accepted": false, "score": 0, "last_activity_date": 1611961142, "last_edit_date": 1611961142, "creation_date": 1450515400, "answer_id": 34368971, "question_id": 34357258, "link": "https://stackoverflow.com/questions/34357258/json-data-and-dbixclass-how-can-i-store-data-directly/34368971#34368971", "title": "JSON data and DBIx::Class - how can I store data directly?", "body": "<p>Inflating/deflating the column like in abraxxa's answer works fine, but I still have to update the column explicitly, otherwise the assignments to the dereferenced field do not get stored.</p>\n<p>I ended up adding an attribute to the column, and adding a <code>before</code> Moose hook on update like so:</p>\n<pre><code>__PACKAGE__-&gt;add_columns(\n             &quot;id&quot; =&gt; { data_type =&gt; &quot;varchar&quot;, is_nullable =&gt; 0, size =&gt; 32 },\n             &quot;data&quot; =&gt; {\n                  data_type =&gt; &quot;json&quot;,\n                  is_nullable =&gt; 1,\n                  always_update =&gt; 1\n             },\n);\n</code></pre>\n<p>and</p>\n<pre><code>before 'update' =&gt; sub {\n    my $self = shift;\n    my %c = $self-&gt;get_columns;\n    for (grep { $self-&gt;result_source-&gt;column_info($_)-&gt;{always_update} } keys %c) {\n        $self-&gt;make_column_dirty($_);\n    }\n};\n</code></pre>\n<p>this way I do not need to call updates on the <code>data</code> column explicitly every time.</p>\n<p>I don't know if this is a bad idea - comments welcome.</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 0, "accepted_answer_id": 34357909, "answer_count": 2, "score": 3, "last_activity_date": 1611961142, "creation_date": 1450446852, "question_id": 34357258, "link": "https://stackoverflow.com/questions/34357258/json-data-and-dbixclass-how-can-i-store-data-directly", "title": "JSON data and DBIx::Class - how can I store data directly?", "body": "<p>I have a Postgres database with a JSON column, for which I'd like to do something like this:</p>\n\n<pre><code>use lib './lib';\nuse Digest::MD5 qw(md5 md5_hex);\nuse Data::Dump qw/dump/;\n\nuse Foo; # isa 'DBIx::Class::Schema';\n\n$f = Foo-&gt;connect('dbi:Pg:database=mydb');\n\nmy $i = $f-&gt;resultset('People')-&gt;create({ id =&gt; md5_hex(rand() . 'some string') });\n$i-&gt;insert;\n$i-&gt;data({ name =&gt; 'john', surname =&gt; 'doe', birthday =&gt; '04/07/1976'});\n\n#--------------------------------\n# this is the important bit\n# assigning to the HoH directly\n#--------------------------------\n$i-&gt;data-&gt;{books} = ['1984', 'Wuthering heights'];\n$i-&gt;update;\n</code></pre>\n\n<p>Foo::People looks like this:</p>\n\n<pre><code>__PACKAGE__-&gt;add_columns(\n  \"id\",\n  { data_type =&gt; \"varchar\", is_nullable =&gt; 0, size =&gt; 32 },\n  \"data\",\n  { data_type =&gt; \"json\", is_nullable =&gt; 1, accessor  =&gt; '_data', },\n);\n\n__PACKAGE__-&gt;set_primary_key(qw/id/);\n\nuse JSON::XS;\nuse Data::Dump qw/dump/;\n\nsub data {\n    my ($self, $value) = @_;\n    if(@_ &gt; 1) {\n        my $value = encode_json($value);\n        $self-&gt;_data($value);\n    }\n    $value = decode_json($self-&gt;_data());\n    return $value;\n}\n</code></pre>\n\n<p>However this does not work - the only thing that does is store the hash in a temporary value, change it, and then store it again, like this:</p>\n\n<pre><code>my $v = $i-&gt;data;\n$v-&gt;{books} = ['1984', 'Wuthering heights'];\n$i-&gt;data($v)    \n$i-&gt;update;\n</code></pre>\n\n<p>Is there a more concise way to do this?</p>\n"}, {"tags": ["perl", "sqlite", "dbi"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1450447245, "post_id": 34357159, "comment_id": 56456056, "body": "You can check <a href=\"https://metacpan.org/pod/DBD::SQLite#dbh-sqlite_set_authorizer-code_ref\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBD::SQLite#dbh-sqlite_set_authorizer-code_&zwnj;&#8203;ref</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1450460639, "post_id": 34357263, "comment_id": 56464231, "body": "Unfortunately, DBD::SQLite doesn&#39;t appear to honor this. See my answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1450477078, "post_id": 34357263, "comment_id": 56472045, "body": "@Overnuts: Please take note of the <a href=\"http://stackoverflow.com/questions/34357159/force-readonly-when-connecting-to-sqlite-file/34357263#comment56464231_34357263\">comment</a> and <a href=\"http://stackoverflow.com/a/34360995/622310\">solution</a> from <b>ThisSuitIsBlackNot</b>. It looks like this standard solution is wrong for SQLite"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452535945, "post_id": 34357263, "comment_id": 57202529, "body": "This has been <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=110439\" rel=\"nofollow noreferrer\">fixed in DBD::SQLite 1.49_05</a> (developer release). Unfortunately, you have to set the attribute as an option to <code>connect</code>; setting it on the handle after connecting doesn&#39;t work and throws a warning."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1450446862, "creation_date": 1450446862, "answer_id": 34357263, "question_id": 34357159, "link": "https://stackoverflow.com/questions/34357159/force-readonly-when-connecting-to-sqlite-file/34357263#34357263", "title": "Force readonly when connecting to sqlite file", "body": "<p>Just set</p>\n\n<pre><code>$dbHand -&gt;{ReadOnly} = 1\n</code></pre>\n\n<p>as described <a href=\"https://metacpan.org/pod/DBI#ReadOnly\" rel=\"nofollow\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1450477653, "post_id": 34360995, "comment_id": 56472247, "body": "I noticed that the DBD::SQLite docs made no mention of the <code>ReadOnly</code> option and instead showed a completely different way to do it; that made me curious. I opened <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=110439\" rel=\"nofollow noreferrer\">a ticket</a> because DBD::SQLite is not keeping its end of the bargain here...it doesn&#39;t even warn that <code>ReadOnly</code> is ignored!"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 6, "last_activity_date": 1452535786, "last_edit_date": 1452535786, "creation_date": 1450459997, "answer_id": 34360995, "question_id": 34357159, "link": "https://stackoverflow.com/questions/34357159/force-readonly-when-connecting-to-sqlite-file/34360995#34360995", "title": "Force readonly when connecting to sqlite file", "body": "<p>Use the <code>sqlite_open_flags</code> attribute as explained in the <a href=\"https://metacpan.org/pod/DBD::SQLite#Database-Name-Is-A-File-Name\" rel=\"nofollow\">DBD::SQLite documentation</a>:</p>\n\n<pre><code>use DBD::SQLite;\nmy $dbh = DBI-&gt;connect(\"dbi:SQLite:$dbfile\", undef, undef, {\n  sqlite_open_flags =&gt; DBD::SQLite::OPEN_READONLY,\n});\n</code></pre>\n\n<p>This will cause an error if you try to open a database that doesn't exist (normally, a new database would be created) or if you try to write to an existing database.</p>\n\n<p>Note that you have to explicitly <code>use DBD::SQLite;</code> in order to use the constant <code>DBD::SQLite::OPEN_READONLY</code>.</p>\n\n<hr>\n\n<p>Be aware that DBI provides a <a href=\"https://metacpan.org/pod/DBI#ReadOnly\" rel=\"nofollow\"><code>ReadOnly</code></a> handle attribute, but DBD::SQLite doesn't honor it prior to v1.49_05:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\nuse DBI;\n\nmy $db = 'foo.db';\nunlink $db if -f $db;\n\nmy $dbh = DBI-&gt;connect(\"dbi:SQLite:dbname=$db\",'','', {\n    RaiseError =&gt; 1,\n    ReadOnly   =&gt; 1\n});\n\n$dbh-&gt;do( q{CREATE TABLE foo(id INTEGER, name TEXT)} );\n$dbh-&gt;do( q{INSERT INTO foo VALUES(1, 'foo')} );\nmy $values = $dbh-&gt;selectall_arrayref( q{SELECT * FROM foo} );\n\ndd $values;\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[[1, \"foo\"]]\n</code></pre>\n\n<p>Switching to <code>sqlite_open_flags =&gt; DBD::SQLite::OPEN_READONLY</code> causes errors. </p>\n\n<p>If the database doesn't exist:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>DBI connect('dbname=foo.db','',...) failed: unable to open database file\n</code></pre>\n\n<p>If the database exists:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>DBD::SQLite::db do failed: attempt to write a readonly database\n</code></pre>\n\n<hr>\n\n<p>As of DBD::SQLite v1.49_05, you can also use the <code>ReadOnly</code> attribute, but only as an option to <code>connect</code>. Setting the attribute after connecting doesn't work and throws a warning:</p>\n\n<pre><code>my $dbh = DBI-&gt;connect(\"dbi:SQLite:dbname=$db\",'','', {\n    RaiseError =&gt; 1\n});\n$dbh-&gt;{ReadOnly} = 1;\n</code></pre>\n\n<p>Outputs:</p>\n\n<blockquote>\n  <p>DBD::SQLite::db STORE warning: ReadOnly is set but it's only advisory</p>\n</blockquote>\n"}], "owner": {"reputation": 753, "user_id": 1075445, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c9a9e304cc203e1c0caff77794016463?s=128&d=identicon&r=PG", "display_name": "Overnuts", "link": "https://stackoverflow.com/users/1075445/overnuts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1379, "favorite_count": 1, "accepted_answer_id": 34360995, "answer_count": 2, "score": 4, "last_activity_date": 1452535786, "creation_date": 1450446489, "question_id": 34357159, "link": "https://stackoverflow.com/questions/34357159/force-readonly-when-connecting-to-sqlite-file", "title": "Force readonly when connecting to sqlite file", "body": "<p>On many front ends,\nI wish to enforce my scripts using a readonly connection to a sqlite3 file mirrored from a master server.</p>\n\n<p>Is there's a way to say DBI to do this ?</p>\n\n<p>For the moment, I'm doing this:</p>\n\n<pre><code>       $dbHand = DBI-&gt;connect(\"dbi:SQLite:dbname=$dbName\", $dbUser, $dbPass, {\n            PrintError =&gt; 0,\n            RaiseError =&gt; 1,\n            AutoCommit =&gt; 1,\n    }) or die $DBI::errstr;\n</code></pre>\n\n<p>And get full access.</p>\n\n<ul>\n<li>I'm not perl fluent, I have to maintain/evolve existing</li>\n<li>(I don't want to deal with file permissions)</li>\n</ul>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1450444257, "post_id": 34356151, "comment_id": 56454303, "body": "Re &quot;For If blocks I think the best practice is to use parenthesis&quot;, For <code>if (EXPR) BLOCK</code>, you have to use parens."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 0, "last_activity_date": 1450443171, "creation_date": 1450443171, "answer_id": 34356151, "question_id": 34355349, "link": "https://stackoverflow.com/questions/34355349/should-i-use-parenthesis-in-postfix-if-syntax/34356151#34356151", "title": "Should I use parenthesis in postfix `if` syntax?", "body": "<p>If you want to use <a href=\"https://books.google.no/books/about/Perl_Best_Practices.html?id=gJf9tI2mytIC&amp;source=kp_cover&amp;redir_esc=y\" rel=\"nofollow\">Perl Best Practices</a>, you should only <code>postfix if</code> for control of flow (<code>break</code>, <code>next</code>, <code>last</code>). When you use <code>postfix if</code> you should probably have easy enough if-statements to not need parenthesis.</p>\n\n<p>For <code>If blocks</code> I think the best practice is to use parenthesis.</p>\n"}, {"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 4, "last_activity_date": 1450443861, "creation_date": 1450443861, "answer_id": 34356371, "question_id": 34355349, "link": "https://stackoverflow.com/questions/34355349/should-i-use-parenthesis-in-postfix-if-syntax/34356371#34356371", "title": "Should I use parenthesis in postfix `if` syntax?", "body": "<p>It's mainly a matter of style.  There's no requirement to use parens around the entire conditional expression and it has no effect on the way the code behaves, so decide for yourself what standard you want to use.  Personally, I don't, and my impression is that most Perl programmers don't either, but that could just be selection bias.</p>\n\n<p>I will note, though, that any time I start wanting to use parens within the conditional expression, that's a pretty good sign that it shouldn't be in a postfix clause, so then I put parens around the whole thing and change it to the <code>if (...) {...}</code> form.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1450444839, "post_id": 34356414, "comment_id": 56454672, "body": "Re &quot;There&#39;s also the mental/readability benefit of having all if statements look the same.&quot;, Are you saying you always use the statement form (<code>if (EXPR) BLOCK</code>)?"}, {"owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1450445348, "post_id": 34356414, "comment_id": 56454991, "body": "@ikegami Mostly. But sometimes I get inconsistent with my own preferences. It even happens that my preferences change over time :-)"}], "tags": [], "owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "is_accepted": false, "score": 0, "last_activity_date": 1450445231, "last_edit_date": 1450445231, "creation_date": 1450443992, "answer_id": 34356414, "question_id": 34355349, "link": "https://stackoverflow.com/questions/34355349/should-i-use-parenthesis-in-postfix-if-syntax/34356414#34356414", "title": "Should I use parenthesis in postfix `if` syntax?", "body": "<p>I usually use the parentheses because more often than not I guess wrong on how many statements I need to be conditional. Then I have to rewrite the line to become a proper <code>if (condition) { BLOCK }</code>. Having the parentheses already there make this slightly easier.</p>\n\n<p>There's also the mental/readability benefit of having <em>all if statements look the same</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1450445133, "last_edit_date": 1450445133, "creation_date": 1450444779, "answer_id": 34356666, "question_id": 34355349, "link": "https://stackoverflow.com/questions/34355349/should-i-use-parenthesis-in-postfix-if-syntax/34356666#34356666", "title": "Should I use parenthesis in postfix `if` syntax?", "body": "<p>Parens are never needed around the condition in the <code>if</code> statement modifier, so consistency and playing-it-safe aren't factors. (Same goes for the other statement modifiers.)</p>\n\n<p>I don't see any advantage to using them. In fact, I find them a bit jarring.</p>\n\n<p>I believe most experienced Perl programmers don't use them, to the point that it's a fair indicator of \"newbieness\".</p>\n"}], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 34356666, "answer_count": 4, "score": 2, "last_activity_date": 1450445231, "creation_date": 1450440439, "question_id": 34355349, "link": "https://stackoverflow.com/questions/34355349/should-i-use-parenthesis-in-postfix-if-syntax", "title": "Should I use parenthesis in postfix `if` syntax?", "body": "<p>Are there any benefits to use parenthesis in postfix <code>if</code> statement? like:</p>\n\n<pre><code>return 1 if ($self-&gt;found());\n</code></pre>\n\n<p>One of my workmate stick to use parenthesis and It's not common for me.  I would appreciate if someone point out differences.</p>\n\n<p>Following is output from <code>perl -MO=Deparse</code></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\n\nmy $found = 1;\n\nprint \"FOUND\\n\" if $found;\nprint \"FOUND\\n\" if ($found);\n\n__END__\ntest.pl syntax OK\nuse strict;\nmy $found = 1;\nprint \"FOUND\\n\" if $found;\nprint \"FOUND\\n\" if $found;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450438722, "post_id": 34354741, "comment_id": 56451060, "body": "I want to say no, it&#39;s not possible, because of the layers of execution involved, but I don&#39;t think I could back up that assertion."}], "answers": [{"tags": [], "owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "is_accepted": false, "score": 4, "last_activity_date": 1450442097, "creation_date": 1450442097, "answer_id": 34355846, "question_id": 34354741, "link": "https://stackoverflow.com/questions/34354741/is-it-possible-to-programmatically-set-the-first-7-bits-of/34355846#34355846", "title": "Is it possible to programmatically set the first 7 bits of $?", "body": "<p>My approach would be: In the signal handler, uninstall the custom signal handler and change the signal action to Terminate. Then in the main control flow, include logic that re-raises the same signal.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1450445865, "last_edit_date": 1450445865, "creation_date": 1450445048, "answer_id": 34356745, "question_id": 34354741, "link": "https://stackoverflow.com/questions/34354741/is-it-possible-to-programmatically-set-the-first-7-bits-of/34356745#34356745", "title": "Is it possible to programmatically set the first 7 bits of $?", "body": "<p>It indicates the signal the killed the child, so the child would have to send itself a signal.</p>\n\n<pre><code>$ perl -E'system($^X, -e =&gt; q{kill TERM =&gt; $$}); say $?;'\n15\n</code></pre>\n\n<p>If you have a handler for the signal, just unset it first.</p>\n\n<pre><code>$SIG{TERM} = 'DEFAULT';\n</code></pre>\n"}], "owner": {"reputation": 548, "user_id": 1218919, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/245a9a6d7af44d3820591435f058fbd8?s=128&d=identicon&r=PG", "display_name": "darkgrin", "link": "https://stackoverflow.com/users/1218919/darkgrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1450447629, "creation_date": 1450438446, "last_edit_date": 1450447629, "question_id": 34354741, "link": "https://stackoverflow.com/questions/34354741/is-it-possible-to-programmatically-set-the-first-7-bits-of", "title": "Is it possible to programmatically set the first 7 bits of $?", "body": "<p>When I implement a child process to handle signals, say <code>SIGTERM</code> and <code>SIGUSR1</code> using custom signal handlers which would exit the child process gracefully, is it possible to let the parent process know which signal causes the exit? <code>$?</code> has its first 7 bit set to indicate the signal the child process die from. However I am not sure how we can programmatically set it. A call to <code>exit()</code> would only set the value of <code>($? &gt;&gt; 8)</code>.</p>\n"}, {"tags": ["perl", "perl-module", "cpan", "cpanm"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1450436215, "post_id": 34353980, "comment_id": 56449479, "body": "Don&#39;t install <code>XML::Simple</code>. It&#39;ll only lead to pain! <a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Why is XML::Simple discouraged</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1450436280, "post_id": 34353980, "comment_id": 56449520, "body": "I would suggest from your office based system - you should <code>cpan install</code>, because you may find it&#39;ll download some additional dependencies. Or retrieve pre-packaged modules from your installation CD, which may already be available."}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450436709, "post_id": 34353980, "comment_id": 56449790, "body": "@Sobrique from where I live, we don&#39;t get the installation CD, we have the OSX and its elements already preloaded :("}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1450436738, "post_id": 34353980, "comment_id": 56449814, "body": "<a href=\"http://www.thegeekstuff.com/2008/09/how-to-install-perl-modules-manually-and-using-cpan-command/\" rel=\"nofollow noreferrer\">thegeekstuff.com/2008/09/&hellip;</a>"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 1, "creation_date": 1450437429, "post_id": 34353980, "comment_id": 56450253, "body": "Try this for offline install. <a href=\"http://stackoverflow.com/a/1874448/3005251\">stackoverflow.com/a/1874448/3005251</a>"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 1, "creation_date": 1450437477, "post_id": 34353980, "comment_id": 56450291, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1873329/how-do-i-install-perl-modules-on-machines-without-an-internet-connection\">How do I install Perl modules on machines without an Internet connection?</a>"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1450440433, "post_id": 34353980, "comment_id": 56452037, "body": "@Quentin I have downloaded the cpan,xml::parser, xml::simple,extutil::makemaker from the link given. I will try to extract the cpan first and then install the perl modules. Hope I don&#39;t crash the system!"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1450440573, "post_id": 34353980, "comment_id": 56452127, "body": "<code>cpan</code> is a module for downloading and installing modules, it is also part of code Perl. There isn&#39;t any point in upgrading it if you are installing modules manually."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1450441196, "post_id": 34353980, "comment_id": 56452445, "body": "I would be very surprised if ExtUtils::MakeMaker wasn&#39;t already installed. It has been a part of the standard Perl installation for over twenty years."}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1450441895, "post_id": 34353980, "comment_id": 56452902, "body": "@DaveCross I may have to check on that on my computer. The only information I saw was &quot;perl&quot; and another which I couldn&#39;t remember right now!"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1450441951, "post_id": 34353980, "comment_id": 56452933, "body": "@Quentin I will be installing them manually."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1450442015, "post_id": 34353980, "comment_id": 56452965, "body": "Sorry, that was my British understatement getting in the way of clear communication again :-) There&#39;s no need to check your computer. You already have ExtUtils::MakeMaker installed."}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450442428, "post_id": 34353980, "comment_id": 56453194, "body": "Looks like I&#39;m not quite bright either, if you know what I mean(the intended pun) ;)"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1450438121, "creation_date": 1450438121, "answer_id": 34354634, "question_id": 34353980, "link": "https://stackoverflow.com/questions/34353980/perl-modules-step-by-step-installation-process/34354634#34354634", "title": "Perl modules: step by step installation process", "body": "<p>The module distributions on CPAN aren't specific to an individual platform. Some are Perl-only, in which case it doesn't matter what the platform is, and others use XS (C) sgements, which will be configured for you when you build the module</p>\n\n<p>The installation process for a Perl module is described in <a href=\"http://perldoc.perl.org/perlmodinstall.html\" rel=\"nofollow\"><code>perlmodinstall</code></a></p>\n\n<p>Briefly, it goes like this</p>\n\n<ul>\n<li><p><strong><em>Decompress and unpack</em></strong> the module \u2014 <code>tar -xzf Module.tar.gz</code></p></li>\n<li><p><strong><em>Prepare the makefile</em></strong> \u2014 <code>perl Makefile.pl</code></p></li>\n<li><p><strong><em>Build</em></strong> the module* \u2014 <code>make</code></p></li>\n<li><p><strong><em>Test</em></strong> the module \u2014 <code>make test</code></p></li>\n<li><p><strong><em>Install</em></strong> the module \u2014 <code>make install</code></p></li>\n</ul>\n\n<p>But there may be some variations on this. Always check the <code>README</code> file in the unpacked module if there is one</p>\n"}], "owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 34354634, "answer_count": 1, "score": 0, "last_activity_date": 1450438121, "creation_date": 1450436095, "question_id": 34353980, "link": "https://stackoverflow.com/questions/34353980/perl-modules-step-by-step-installation-process", "title": "Perl modules: step by step installation process", "body": "<p>I have a Macbook(pro 2012 model) with the latest OSX version (Yosemite). I realize perl is pre-installed on unix based systems. Now I'd like to install certain perl modules\nnamely </p>\n\n<ol>\n<li>XML::simple</li>\n<li>XML::Parser</li>\n<li>ExtUtils::MakeMaker</li>\n</ol>\n\n<p>I have downloaded them from <a href=\"https://metacpan.org/pod/XML::Parser\" rel=\"nofollow\">here</a> but I'm quite unsure if its for a Mac based file or not. So I'd request anyone if you can help me verify if its the right version for the Macbook and also with the step by step process to install them.</p>\n\n<p>Any help is highly appreciated.\nThanks!</p>\n\n<p>PS: As I have a very low data connectivity in the residential area, I will not be able to go online and install, hence I have downloaded it from the office system (Linux based). </p>\n"}, {"tags": ["xml", "perl", "error-handling"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1450435211, "post_id": 34353679, "comment_id": 56448891, "body": "Look at eval command"}, {"owner": {"reputation": 3014, "user_id": 4560470, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b9512cafbd363be4b552bddb31d3f23?s=128&d=identicon&r=PG&f=1", "display_name": "Arcyno", "link": "https://stackoverflow.com/users/4560470/arcyno"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1450435323, "post_id": 34353679, "comment_id": 56448964, "body": "I tried but <code>if (eval(XMLin(&quot;${file}&quot;, ForceArray =&gt; 1, KeyAttr =&gt; {}))</code> does not work either"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1450435408, "post_id": 34353679, "comment_id": 56449011, "body": "<code>eval</code> doesn&#39;t return <code>true&#47;false</code> if it worked - it returns ... whatever the <code>eval</code> would return.You need to trap <code>$@</code> for the result of the eval."}], "answers": [{"comments": [{"owner": {"reputation": 3014, "user_id": 4560470, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b9512cafbd363be4b552bddb31d3f23?s=128&d=identicon&r=PG&f=1", "display_name": "Arcyno", "link": "https://stackoverflow.com/users/4560470/arcyno"}, "edited": false, "score": 2, "creation_date": 1450437237, "post_id": 34353737, "comment_id": 56450117, "body": "I didn&#39;t know about XML:Simple. Thanks for that"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 3014, "user_id": 4560470, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b9512cafbd363be4b552bddb31d3f23?s=128&d=identicon&r=PG&f=1", "display_name": "Arcyno", "link": "https://stackoverflow.com/users/4560470/arcyno"}, "edited": false, "score": 0, "creation_date": 1450468053, "post_id": 34353737, "comment_id": 56467999, "body": "You aren&#39;t the first to be caught out.  It says simple, but it lies."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1450438191, "last_edit_date": 1495535242, "creation_date": 1450435367, "answer_id": 34353737, "question_id": 34353679, "link": "https://stackoverflow.com/questions/34353679/catch-an-error-in-perl/34353737#34353737", "title": "catch an error in perl", "body": "<p>First off - please don't use <code>XML::Simple</code> - it's deeply nasty. <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Why is XML::Simple &quot;Discouraged&quot;?</a></p>\n\n<p>To address your point though - broken XML is supposed to be fatal to the parser - it must <code>die</code> (by design). The way you handle this in <code>perl</code> is wrap it in an <code>eval</code> block, and catch <code>$@</code> to see if it failed:</p>\n\n<pre><code>my $xml = eval { XMLin(\"${file}\", ForceArray =&gt; 1, KeyAttr =&gt; {}); };\nwarn $@ if $@; \n</code></pre>\n"}], "owner": {"reputation": 3014, "user_id": 4560470, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b9512cafbd363be4b552bddb31d3f23?s=128&d=identicon&r=PG&f=1", "display_name": "Arcyno", "link": "https://stackoverflow.com/users/4560470/arcyno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "accepted_answer_id": 34353737, "answer_count": 1, "score": 1, "last_activity_date": 1450438191, "creation_date": 1450435136, "last_edit_date": 1450435245, "question_id": 34353679, "link": "https://stackoverflow.com/questions/34353679/catch-an-error-in-perl", "title": "catch an error in perl", "body": "<p>I have to read a huge data base of xml files, using XML::Simple.</p>\n\n<pre><code>my $xml = XMLin(\"${file}\", ForceArray =&gt; 1, KeyAttr =&gt; {});\n</code></pre>\n\n<p>the problem is that some of those xml are corrupted and I would like my program to delete those and keep running. I have not been able to find any way to catch the error comming from XMLin \n<code>parser error : Start tag expected '&lt;' not found</code></p>\n\n<p>Any idea ?</p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1450434713, "post_id": 34353432, "comment_id": 56448563, "body": "What is the problem with your code?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450435574, "post_id": 34353432, "comment_id": 56449104, "body": "We can&#39;t help without more detail as to what problem you&#39;re having."}, {"owner": {"reputation": 1, "user_id": 5690392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bedbdaa4c8bec6aa91ecec8cc5ad0d5?s=128&d=identicon&r=PG", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/5690392/sachin-gupta"}, "edited": false, "score": 0, "creation_date": 1450437653, "post_id": 34353432, "comment_id": 56450414, "body": "when i remove all the scalars from the code and try to print a simple text it works perfectly, but the problem is when I&#39;m trying to print values received from a html file by post method it doesn&#39;t affects the content of CSV file. or maybe i dont know the correct syntax to print a scalar."}], "answers": [{"comments": [{"owner": {"reputation": 919, "user_id": 5513684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/961769367178033/picture?type=large", "display_name": "Steven Carlson", "link": "https://stackoverflow.com/users/5513684/steven-carlson"}, "edited": false, "score": 0, "creation_date": 1450669704, "post_id": 34355533, "comment_id": 56518555, "body": "Dave&#39;s codes are very clean and elegant, great job cleaning up the repetitiveness."}, {"owner": {"reputation": 1, "user_id": 5690392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bedbdaa4c8bec6aa91ecec8cc5ad0d5?s=128&d=identicon&r=PG", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/5690392/sachin-gupta"}, "edited": false, "score": 0, "creation_date": 1450673208, "post_id": 34355533, "comment_id": 56519470, "body": "It works, thank you Dave Cross and i am sorry it was my first experience with perl."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1450689281, "post_id": 34355533, "comment_id": 56525617, "body": "Nothing to apologise for. We all had to start somewhere :-) Hopefully you&#39;ll have learned something about debugging problems like this (use <code>perl -c</code> to check the syntax of your program, check the web log for errors)."}, {"owner": {"reputation": 1, "user_id": 5690392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bedbdaa4c8bec6aa91ecec8cc5ad0d5?s=128&d=identicon&r=PG", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/5690392/sachin-gupta"}, "edited": false, "score": 0, "creation_date": 1450775806, "post_id": 34355533, "comment_id": 56565442, "body": "Thanks Dave, I&#39;ll definitely follow your advise..:-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1450441022, "creation_date": 1450441022, "answer_id": 34355533, "question_id": 34353432, "link": "https://stackoverflow.com/questions/34353432/how-to-write-recieved-values-by-post-method-in-a-csv-file/34355533#34355533", "title": "How to write recieved values by POST method in a CSV file", "body": "<p>Have you looked in your web server error log? It looks to me like this program won't even compile. It is full of undeclared variables. To get it to even compile, you would need to change it to something like this:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse CGI qw(:standard);\nuse strict;\nuse warnings;\n\nmy $query = CGI-&gt;new;\n\nmy $ip1 = $query-&gt;param(\"ip1\");\nmy $ip2 = $query-&gt;param(\"ip2\");\nmy $ip3 = $query-&gt;param(\"ip3\");\nmy $ip4 = $query-&gt;param(\"ip4\");\nmy $ip5 = $query-&gt;param(\"ip5\");\nmy $ip6 = $query-&gt;param(\"ip6\");\nmy $ip7 = $query-&gt;param(\"ip7\");\nmy $ip8 = $query-&gt;param(\"ip8\");\nmy $ip9 = $query-&gt;param(\"ip9\");\nmy $ip10 = $query-&gt;param(\"ip10\");\n\nmy $ie1 = $query-&gt;param(\"ie1\");\nmy $ie2 = $query-&gt;param(\"ie2\");\nmy $ie3 = $query-&gt;param(\"ie3\");\nmy $ie4 = $query-&gt;param(\"ie4\");\nmy $ie5 = $query-&gt;param(\"ie5\");\nmy $ie6 = $query-&gt;param(\"ie6\");\nmy $ie7 = $query-&gt;param(\"ie7\");\nmy $ie8 = $query-&gt;param(\"ie8\");\nmy $ie9 = $query-&gt;param(\"ie9\");\nmy $ie10 = $query-&gt;param(\"ie10\");\n\n\nopen(my $fh, \"&gt;\", \"test.csv\")or die \"$!\";\nprint $fh \",zone A,zone B,zone C,zone D,zone E,zone F,zone G,zone H,zone I,zone j\\n\";\nprint $fh \"IP,$ip1,$ip2,$ip3,$ip4,$ip5,$ip6,$ip7,$ip8,$ip9,$ip10\\n\";\nprint $fh \"IE,$ie1,$ie2,$ie3,$ie4,$ie5,$ie6,$ie7,$ie8,$ie9,$ie10\\n\";\nclose $fh;\n</code></pre>\n\n<p>But please don't do that. That's very wasteful of variables. Don't you know there's a global variable shortage? :-)</p>\n\n<p>When you see repetitive code like yours, you should consider using an array or hash to simplify it. I'd write your code something like this.</p>\n\n<pre><code>#!/usr/bin/perl\nuse CGI qw(param header);\nuse strict;\nuse warnings;\n\nmy (@ip, @ie);\n\nfor (1 .. 10) {\n  push @ip, param(\"ip$_\");\n  push @ie, param(\"ie$_\");\n}\n\n# You'll need to ensure that test.csv is somewhere that your CGI program\n# has permission to write files.\nopen(my $fh, '&gt;', 'test.csv')or die $!;\nprint $fh ',', join(',', map { \"zone $_\" } 'A' .. 'J'), \"\\n\";\nprint $fh 'IP,', join(',', @ip), \"\\n\";\nprint $fh 'IE,', join(',', @ie), \"\\n\";\nclose $fh;\n\n# You'll probably want to do something more interesting here too.\nprint header('text/plain');\nprint 'File created';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1450689175, "post_id": 34388684, "comment_id": 56525557, "body": "This seems like clutching at straws to me. There is no reason to believe that <code>$ip1 = param(&#39;ip1&#39;)</code> is going to act in any way differently to the existing <code>$ip1 = $query-&gt;param(&quot;ip1&quot;)</code>. Am I missing something/"}], "tags": [], "owner": {"reputation": 919, "user_id": 5513684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/961769367178033/picture?type=large", "display_name": "Steven Carlson", "link": "https://stackoverflow.com/users/5513684/steven-carlson"}, "is_accepted": false, "score": 0, "last_activity_date": 1450669651, "creation_date": 1450669651, "answer_id": 34388684, "question_id": 34353432, "link": "https://stackoverflow.com/questions/34353432/how-to-write-recieved-values-by-post-method-in-a-csv-file/34388684#34388684", "title": "How to write recieved values by POST method in a CSV file", "body": "<p>Try this instead:</p>\n\n<pre><code>$ip1 = param('ip1');\n</code></pre>\n\n<p>If this does not work, then also post the HTML you are trying.</p>\n"}], "owner": {"reputation": 1, "user_id": 5690392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bedbdaa4c8bec6aa91ecec8cc5ad0d5?s=128&d=identicon&r=PG", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/5690392/sachin-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 34355533, "answer_count": 2, "score": -2, "last_activity_date": 1450669651, "creation_date": 1450434436, "last_edit_date": 1450435243, "question_id": 34353432, "link": "https://stackoverflow.com/questions/34353432/how-to-write-recieved-values-by-post-method-in-a-csv-file", "title": "How to write recieved values by POST method in a CSV file", "body": "<p>I want to create a CSV file by accepting ip1 to ip10 values which are sent by POST method from a HTML file. test.cgi file contains the perl code.  I have tried to write a code as following.  Please help me.  </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse CGI qw(:standard);\nuse strict; \nuse warnings;\n\n$ip1 = $query-&gt;param(\"ip1\");\n$ip2 = $query-&gt;param(\"ip2\");\n$ip3 = $query-&gt;param(\"ip3\");\n$ip4 = $query-&gt;param(\"ip4\");\n$ip5 = $query-&gt;param(\"ip5\");\n$ip6 = $query-&gt;param(\"ip6\");\n$ip7 = $query-&gt;param(\"ip7\");\n$ip8 = $query-&gt;param(\"ip8\");\n$ip9 = $query-&gt;param(\"ip9\");\n$ip10 = $query-&gt;param(\"ip10\");\n\n$ie1 = $query-&gt;param(\"ie1\");\n$ie2 = $query-&gt;param(\"ie2\");\n$ie3 = $query-&gt;param(\"ie3\");\n$ie4 = $query-&gt;param(\"ie4\");\n$ie5 = $query-&gt;param(\"ie5\");\n$ie6 = $query-&gt;param(\"ie6\");\n$ie7 = $query-&gt;param(\"ie7\");\n$ie8 = $query-&gt;param(\"ie8\");\n$ie9 = $query-&gt;param(\"ie9\");\n$ie10 = $query-&gt;param(\"ie10\");\n\n\nopen(my $fh, \"&gt;\", \"test.csv\")or die \"$!\";\nprint $fh \",zone A,zone B,zone C,zone D,zone E,zone F,zone G,zone H,zone I,zone j\\n\";\nprint $fh \"IP,$ip1,$ip2,$ip3,$ip4,$ip5,$ip6,$ip7,$ip8,$ip9,$ip10\\n\";\nprint $fh \"IE,$ie1,$ie2,$ie3,$ie4,$ie5,$ie6,$ie7,$ie8,$ie9,$ie10\\n\";\nclose $fh;`\n</code></pre>\n\n<p>If suppose by post method recieved values for ip are 1 to 10 and for ie are 11 to 20 then My expected output in CSV file is look like:</p>\n\n<pre><code>,zone A,zone B,zone C,zone D,zone E,zone F,zone G,zone H,zone I,zone j\n\nIP,1,2,3,4,5,6,7,8,9,10\n\nIE,11,12,13,14,15,16,17,18,19,20\n</code></pre>\n"}, {"tags": ["perl", "character-encoding", "ipcopen3"], "comments": [{"owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "edited": false, "score": 0, "creation_date": 1450428437, "post_id": 34351077, "comment_id": 56444843, "body": "&quot;It works correctly on other hosts.&quot; - then probably you should also describe to us the hosts where it works, and the host where it doesn&#39;t."}, {"owner": {"reputation": 1730, "user_id": 141736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ff11250ced8c01174acd6c793accd2b?s=128&d=identicon&r=PG", "display_name": "teambob", "link": "https://stackoverflow.com/users/141736/teambob"}, "reply_to_user": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "edited": false, "score": 0, "creation_date": 1450429289, "post_id": 34351077, "comment_id": 56445304, "body": "The one which does the conversion is RHEL and is using a compiled version of perl 5.20.2 My dev environment is Ubuntu 14.04 using stock perl"}, {"owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "edited": false, "score": 1, "creation_date": 1450430556, "post_id": 34351077, "comment_id": 56446030, "body": "Any <code>use open</code> with <code>:encoding</code> or <code>:locale</code>, or <code>-C</code> options to <code>perl</code>? Perl5 by default doesn&#39;t do any charset conversions - default always was and is the dumb binary mode. But in your case it seems that data are not binary. They are Unicode inside the Perl (and thus converted when written out) meaning that somewhere you have told Perl to decode the data from binary."}, {"owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "edited": false, "score": 0, "creation_date": 1450430724, "post_id": 34351077, "comment_id": 56446115, "body": "Cont. If that is the case, then probably you should tell Perl explicitly to convert the data when writing them to <code>open3</code> file handles."}, {"owner": {"reputation": 1730, "user_id": 141736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ff11250ced8c01174acd6c793accd2b?s=128&d=identicon&r=PG", "display_name": "teambob", "link": "https://stackoverflow.com/users/141736/teambob"}, "reply_to_user": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "edited": false, "score": 0, "creation_date": 1450430806, "post_id": 34351077, "comment_id": 56446168, "body": "I should also point out that a test script just using open3() does no conversion. Very bizarre"}, {"owner": {"reputation": 1730, "user_id": 141736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ff11250ced8c01174acd6c793accd2b?s=128&d=identicon&r=PG", "display_name": "teambob", "link": "https://stackoverflow.com/users/141736/teambob"}, "reply_to_user": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "edited": false, "score": 0, "creation_date": 1450650809, "post_id": 34351077, "comment_id": 56514409, "body": "@Dummy00001: I created a unicode string in perl. When I called print it converted it to the correct character set. However when I call open3() it converts to (leaves as?) UTF-8. Could you turn your comment into an answer and I will accept it"}], "answers": [{"tags": [], "owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "is_accepted": true, "score": 1, "last_activity_date": 1450739992, "last_edit_date": 1592644375, "creation_date": 1450739992, "answer_id": 34406018, "question_id": 34351077, "link": "https://stackoverflow.com/questions/34351077/ipcopen3-converting-character-encoding/34406018#34406018", "title": "IPC::Open3 converting character encoding", "body": "<blockquote>\n<p>I has a string containing ISO-8859-15. Just before <code>open3()</code> is called (literally the statement before) the string is correct (verified with <code>print</code> and <code>Data::Dumper</code>).</p>\n<p>However once the subprocess is started the arguments are now UTF-8 encoded.</p>\n<p>LANG is set to en_AU.ISO-8859-15.</p>\n</blockquote>\n<p>Perl5 by default doesn't do any encoding conversion: the strings treated as dumb byte arrays.</p>\n<p>That, until you tell Perl that the strings contain the Unicode, for example by calling <code>decode()</code>, or reading string from a file handle that has encoding layer attached (via <code>binmode()</code>, or via <code>open()</code> flags, or via <code>use open</code> with <code>:encoding</code>/<code>:locale</code>, or via command line with <code>-C</code> switch.)</p>\n<p>Since you have the string in ISO-8859-15, but it is outputted in UTF-8, that means that the Perl is aware of the encoding of your string. Somewhere somehow you have told Perl the encoding of the string, and it has converted it to the Unicode, which is internally represented using the UTF-8. The UTF-8 which now seems to be printed to the <code>open3()</code> file handles.</p>\n<p>As a possible solution, before outputting the strings, you should try to explicitly convert the strings into the desired encoding.</p>\n<p>P.S. Using the <a href=\"http://perldoc.perl.org/utf8.html\" rel=\"nofollow noreferrer\"><code>utf8::is_utf8()</code></a> function, you can try to debug/find when/how your strings get converted into the Unicode, and whether they are really Unicode.</p>\n"}], "owner": {"reputation": 1730, "user_id": 141736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ff11250ced8c01174acd6c793accd2b?s=128&d=identicon&r=PG", "display_name": "teambob", "link": "https://stackoverflow.com/users/141736/teambob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 34406018, "answer_count": 1, "score": 0, "last_activity_date": 1450739992, "creation_date": 1450426239, "last_edit_date": 1450431450, "question_id": 34351077, "link": "https://stackoverflow.com/questions/34351077/ipcopen3-converting-character-encoding", "title": "IPC::Open3 converting character encoding", "body": "<p>I am observing strange behaviour with IPC::Open3 arguments as part of a script. </p>\n\n<p>I give a string containing ISO-8859-15. Just before open3() is called (literally the statement before) the string is correct (verified with <code>print</code> and <code>Data::Dumper</code>).</p>\n\n<p>However once the subprocess is started the arguments are now UTF-8 encoded. I have verified this using the desired executable (freebcp) and a wrapper script. I ended up writing a wrapper script which converts all the arguments back to ISO-8859-15.</p>\n\n<p>What causes this behaviour? LANG is set to en_AU.ISO-8859-15. It works correctly on other hosts. I cannot find any reference to binmode()</p>\n"}, {"tags": ["perl", "rpm", "par"], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 4045315, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HuShY3YEo4k/AAAAAAAAAAI/AAAAAAAAABM/t7lJKOzlDnc/photo.jpg?sz=128", "display_name": "Lirian Su", "link": "https://stackoverflow.com/users/4045315/lirian-su"}, "is_accepted": false, "score": 1, "last_activity_date": 1450428697, "last_edit_date": 1592644375, "creation_date": 1450428697, "answer_id": 34351711, "question_id": 34351026, "link": "https://stackoverflow.com/questions/34351026/how-to-reduce-par-folder-size-in-tmp/34351711#34351711", "title": "How to reduce par folder size in /tmp?", "body": "<p>I think I found an not-so-perfect but enough answer.</p>\n<p>Now I use &quot;pp -d -T lirian-tool&quot; to package my perl script.</p>\n<p>According to <a href=\"http://search.cpan.org/%7Erschupp/PAR-Packer-1.028/lib/pp.pm#OPTIONS\" rel=\"nofollow noreferrer\">pp-option-page</a>:</p>\n<blockquote>\n<p>-T, --tempcache</p>\n<p>Set the program unique part of the cache directory name that is used if the program is run without -C. If not set, a hash of the executable is used.</p>\n<p>When the program is run, its contents are extracted to a temporary directory. On Unix systems, this is commonly /tmp/par-USER/cache-XXXXXXX. USER is replaced by the name of the user running the program, but &quot;spelled&quot; in hex. XXXXXXX is either a hash of the executable or the value passed to the -T or --tempcache switch.</p>\n</blockquote>\n<p>So now we have /tmp/par-User/cache-lirian-tool. Each user's cache directory may take 20M, which is acceptable.</p>\n<p>And you can cleanup the cache by running &quot;pp -c&quot;:</p>\n<blockquote>\n<p>-C, --clean</p>\n<p>Clean up temporary files extracted from the application at runtime. By default, these files are cached in the temporary directory; this allows the program to start up faster next time.</p>\n</blockquote>\n"}], "owner": {"reputation": 196, "user_id": 4045315, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HuShY3YEo4k/AAAAAAAAAAI/AAAAAAAAABM/t7lJKOzlDnc/photo.jpg?sz=128", "display_name": "Lirian Su", "link": "https://stackoverflow.com/users/4045315/lirian-su"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450428697, "creation_date": 1450425995, "question_id": 34351026, "link": "https://stackoverflow.com/questions/34351026/how-to-reduce-par-folder-size-in-tmp", "title": "How to reduce par folder size in /tmp?", "body": "<p>I have a perl project packaged by Par::Packer and distribute by RPM on RedHat.</p>\n\n<p>I found that a par-hex{6} directory would be created after each user run my command.</p>\n\n<pre><code>$ /tmp\nlirian  19M par-6c3973\nandy    19M par-6d6a7a\nraymond 19M par-726679\njohn    19M par-736a69\n</code></pre>\n\n<p>Can I reduce the par directory size or use one shared par folder among all user?</p>\n\n<p>More: I've read the instruction on <a href=\"http://search.cpan.org/~rschupp/PAR-Packer-1.028/lib/pp.pm#OPTIONS\" rel=\"nofollow\">pp</a> and <a href=\"http://search.cpan.org/~rschupp/PAR-1.010/lib/PAR/FAQ.pod#I_want_to_include_a_pp-ed_binary_in_an_RPM_package._How_can_I_make_this_work?\" rel=\"nofollow\">PAR::FAQ#RPM</a>.\nI use <code>pp -d</code> to package the par file.</p>\n"}, {"tags": ["mysql", "perl", "azure", "fastcgi", "strawberry-perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1450388780, "post_id": 34344622, "comment_id": 56431252, "body": "According to the <a href=\"http://p3rl.org/DBD::mysql\" rel=\"nofollow noreferrer\">documentation</a>, you should use <code>database=$database:host=$hostname</code>"}, {"owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1450388961, "post_id": 34344622, "comment_id": 56431343, "body": "I don&#39;t think that&#39;s the problem because I have used the same code on my local PC and in a LAMP environment and it worked. There error message indicates a problem with executable locations so I think that is what I need to solve."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1450389189, "post_id": 34344622, "comment_id": 56431463, "body": "How did you install the dlls?"}, {"owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1450389355, "post_id": 34344622, "comment_id": 56431566, "body": "I installed them on my Windows PC and copied the C:\\Strawberry folder and everything  beneath it on my PC to the bin folder at &#39;D:/home/site/wwwroot/bin&#39; folder"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1450389452, "post_id": 34344622, "comment_id": 56431619, "body": "Are you sure your PC has the same architecture and system as the target system? I&#39;d rather install the software properly."}, {"owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1450389604, "post_id": 34344622, "comment_id": 56431696, "body": "Because it&#39;s a web app I don&#39;t have access to the whole environment so you can&#39;t really install software. I can control whether it&#39;s 32-bit or 64-bit Windows on the web app. Plan B is to use a virtual machine instead where I can do that but I really wanted to get it working on a web app."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1450480146, "post_id": 34344622, "comment_id": 56473049, "body": "backslash or slash? That aside, you could provide modules with <a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew.pl</a>. That is a much better approach to be somewhat independent of the system you want to deploy to."}], "owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1450387932, "creation_date": 1450387932, "question_id": 34344622, "link": "https://stackoverflow.com/questions/34344622/using-mysql-from-perl-in-an-azure-web-app", "title": "Using mysql from Perl in an Azure web app", "body": "<p>I am using Azure to host a site which uses Perl and MySql. I have placed all my Strawberry perl files in the bin folder. I connect to Perl by adding a handler to the Perl executable which is located on my web app in d:\\home\\site\\wwwroot\\bin\\perl\\bin\\perl.exe.</p>\n\n<p>I can run simple Perl programs ok. However when I try to run a Perl script which connects to a MySql database I get the following error:</p>\n\n<p>install_driver(mysql) failed: Can't load 'D:/home/site/wwwroot/bin/perl/vendor/lib/auto/DBD/mysql/mysql.xs.dll' for module DBD::mysql: load_file:The specified module could not be found at D:/home/site/wwwroot/bin/perl/lib/DynaLoader.pm line 193.</p>\n\n<p>However mysql.xs.dll exists in that location. I have also copied into the same folder as mysql.xs.dll the file libmysql_.dll which I read somewhere was a dependency of mysql.xs.dll.</p>\n\n<p>The datasource I am trying to get to looks like this:</p>\n\n<pre><code>my $data_source = \"DBI:mysql:$database:$hostname\";\n</code></pre>\n\n<p>I am using the same code and binary files as handlers for Perl in my local IIS so I think all the files needed are there in my bin folder.</p>\n\n<p>What else can I try?</p>\n"}, {"tags": ["perl", "postgresql", "utf-8"], "comments": [{"owner": {"reputation": 73, "user_id": 2121717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4aad6d2eaf9406f8ce9fb9690f753f6?s=128&d=identicon&r=PG", "display_name": "John Daschbach", "link": "https://stackoverflow.com/users/2121717/john-daschbach"}, "edited": false, "score": 0, "creation_date": 1450383164, "post_id": 34342302, "comment_id": 56428390, "body": "There is a module Encode::UTF8Mac which appears to solve this.  <code>my $macOkDir = Encode::decode(&#39;utf-8-mac&#39;,$dbDir)</code>"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1450387063, "post_id": 34342302, "comment_id": 56430335, "body": "Use <code>Devel::Peek</code> to compare strings with encoding problems. Please show output for <code>$dbdir</code> and <code>$pdir</code> with <code>Devel::Peek::Dump</code>"}, {"owner": {"reputation": 257354, "user_id": 398670, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85f50c23bb5e9dfb061af5032bfe8e65?s=128&d=identicon&r=PG", "display_name": "Craig Ringer", "link": "https://stackoverflow.com/users/398670/craig-ringer"}, "edited": false, "score": 0, "creation_date": 1450431069, "post_id": 34342302, "comment_id": 56446349, "body": "Is the string the exact same bytes? I&#39;m wondering if there&#39;s a precomposed-vs-decomposed-representation issue here."}], "answers": [{"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 0, "last_activity_date": 1510234541, "creation_date": 1510234541, "answer_id": 47203285, "question_id": 34342302, "link": "https://stackoverflow.com/questions/34342302/perl-and-postgresql-utf8-problems-with-directories/47203285#47203285", "title": "Perl and Postgresql UTF8 problems with directories", "body": "<p>There is a module Encode::UTF8Mac which appears to solve this.</p>\n\n<pre><code>my $macOkDir = Encode::decode('utf-8-mac',$dbDir)\n</code></pre>\n\n<p>\u2013 John Daschbach</p>\n"}], "owner": {"reputation": 73, "user_id": 2121717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4aad6d2eaf9406f8ce9fb9690f753f6?s=128&d=identicon&r=PG", "display_name": "John Daschbach", "link": "https://stackoverflow.com/users/2121717/john-daschbach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510234541, "creation_date": 1450378978, "question_id": 34342302, "link": "https://stackoverflow.com/questions/34342302/perl-and-postgresql-utf8-problems-with-directories", "title": "Perl and Postgresql UTF8 problems with directories", "body": "<p>I am having trouble with directory names with UTF8 characters in them on a Mac (10.11.2) with Perl 5.22 and Postgresql (9.4).  Text encoding in Postgresql is set to UTF8.</p>\n\n<p>If I have a directory name with a non-ascii UTF8 character in it I can chdir() to that directory if the directory name is read in by the Perl script or inserted into a string in the Perl script.  If I insert this name into a PG table and read it back out (SELECT dirname FROM utfdirs) I can't chdir to that directory.  However, the on screen printed strings are identical, a Perl cmp test on the two strings reports they are identical, and guess_encoding() reports both are UTF8.</p>\n\n<pre><code>#!/opt/local/bin/perl5.22  \nuse strict;\nuse Cwd;\nuse DBI;\nuse Encode;\nuse Encode qw/from_to/;\nuse Encode::Detect;\nuse Encode::Guess;\nuse Encode::UTF8Mac;\n#\nEncode::Guess-&gt;add_suspects(qw/utf-8-mac/);\n#\nmy $dbname = 'test';\nmy $dbh = DBI-&gt;connect(\"dbi:Pg:dbname=$dbname;host=localhost\");\n$dbh-&gt;do(\"SET client_min_messages TO WARNING\");\n#\nmy $homeDir = '/Users/jldasch';\nchdir($homeDir) or die \"Cannot cd to [$homeDir]\\n\";\nopendir(D,\".\");\nmy @tdlist = sort grep(/(Lambda?)|(Delta?)/,readdir(D));\nclosedir(D);\n$dbh-&gt;do(\"DELETE FROM utfdirs\");\nmy $ins = $dbh-&gt;prepare(\"INSERT INTO utfdirs (dirname) VALUES (?)\");\nforeach my $d (@tdlist) {\n    chdir($homeDir);\n    my $ok = chdir($d) ? 1 : 0;\n    my $fp = \"${homeDir}/${d}\";\n    printf(\"%2d %s\\n\",$ok,$fp);\n    $ins-&gt;execute($fp);\n}\nmy $rset = $dbh-&gt;selectall_arrayref(\"SELECT dirname FROM utfdirs ORDER BY dirname\");\nmy $i = 0;\nforeach my $r (@$rset) {\n    my $dbdir = $r-&gt;[0];\n    my $pdir = ${homeDir} . '/' . $tdlist[$i++];\n    print \"$r-&gt;[0]  $pdir\\n\";\n    my $encPerl = guess_encoding($pdir);\n    my $encDb = guess_encoding($dbdir);\n    print \"Perl Encoding [$encPerl-&gt;{Name}]\\n\";\n    print \"Db   Encoding [$encDb-&gt;{Name}]\\n\";\n    unless ( chdir($dbdir) ) {\n    print \"Cannot CD to DbDir [$dbdir]\\n\";\n    print \"DbDir and PerlDir Match\\n\" if ($dbdir eq $pdir)\n}\nexit;\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>bash-3.2$ ./utfstuff2.pl \n1 /Users/jldasch/Delta\u0394\n1 /Users/jldasch/Lambda\u03bb\n/Users/jldasch/Delta\u0394  /Users/jldasch/Delta\u0394\nPerl Encoding [utf8]\nDb   Encoding [utf8]\nCannot CD to DbDir [/Users/jldasch/Delta\u0394]\nDbDir and PerlDir Match\n/Users/jldasch/Lambda\u03bb  /Users/jldasch/Lambda\u03bb\nPerl Encoding [utf8]\nDb   Encoding [utf8]\nCannot CD to DbDir [/Users/jldasch/Lambda\u03bb]\nDbDir and PerlDir Match\n</code></pre>\n\n<p>So at the level I have checked so far Perl is telling me the strings are the same (both cmp and guess_encoding()), they print the same, but they are not the same.</p>\n\n<p>How do I convert the UTF8 string returned by Postgresql to a string which is accepted (in Perl) as a valid directory name for chdir()?</p>\n"}, {"tags": ["perl", "web-crawler"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1450381096, "post_id": 34341722, "comment_id": 56427129, "body": "Welcome to Stack Overflow. Your question is too broad. Please split this into two separate questions, one per script. Asking about two separate scripts in one question will result in confusion. Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot; and &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;."}, {"owner": {"reputation": 93, "user_id": 2911849, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c09451cf890921af949c03696b169546?s=128&d=identicon&r=PG&f=1", "display_name": "user2911849", "link": "https://stackoverflow.com/users/2911849/user2911849"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1450383535, "post_id": 34341722, "comment_id": 56428581, "body": "I&#39;ll do that, thanks for your advice the Tin Man !"}], "owner": {"reputation": 93, "user_id": 2911849, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c09451cf890921af949c03696b169546?s=128&d=identicon&r=PG&f=1", "display_name": "user2911849", "link": "https://stackoverflow.com/users/2911849/user2911849"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1450380469, "creation_date": 1450376814, "last_edit_date": 1450380469, "question_id": 34341722, "link": "https://stackoverflow.com/questions/34341722/why-doesnt-this-perl-script-crawl-the-links-of-those-websites", "title": "Why doesn&#39;t this perl script crawl the links of those websites?", "body": "<p>I've been using Perl to crawl links in menus on several websites successfully but it seems that it doesn't work on the following webpages:</p>\n\n<ul>\n<li><a href=\"http://www.uriminzokkiri.com/index.php?ptype=gisa1\" rel=\"nofollow\">http://www.uriminzokkiri.com/index.php?ptype=gisa1</a> (-> error 500)</li>\n<li><a href=\"http://www.ournation-school.com/index.php?menu=treatise\" rel=\"nofollow\">http://www.ournation-school.com/index.php?menu=treatise</a> (-> blank text file)</li>\n</ul>\n\n<p>Here are my two customized scripts:</p>\n\n<p>This is the first website:</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings ; \nuse URI;\nuse Web::Scraper;\nuse Encode;\nuse Data::Dumper;\n\nopen (OUT, '&gt;threadUrl_uriminzokkiri_gisa1.txt');\n\nfor (my $i=1; $i&lt;=42; $i++)\n{\n    my $url=\"http://www.uriminzokkiri.com/index.php?ptype=gisa1&amp;pagenum=$i\";\n\n    my $resultat = scraper \n    {   \n        process '//div[class=\"gisatitle\"]', 'entree[]' =&gt; scraper   \n        {   \n            process '//a/@href', threadUrl =&gt; 'TEXT';   \n        }; \n    };\n\n    my $res = $resultat-&gt;scrape( URI-&gt;new(\"$url\") );\n\n    for my $val (@{$res-&gt;{entree}}) \n    {\n        print OUT Encode::encode(\"utf8\", \"http://www.uriminzokkiri.com/\".$val-&gt;{threadUrl}.\"\\n\" );\n    }\n}\n\nclose (OUT);\n</code></pre>\n\n<p>This is the second website:</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings ; \nuse URI;\nuse Web::Scraper;\nuse Encode;\nuse Data::Dumper;\n\nopen (OUT, '&gt;threadUrl_ournation-school_treatise.txt');\n\nfor (my $i=1; $i&lt;=11; $i++)\n{\n    my $url=\"http://www.ournation-school.com/index.php?menu=treatise&amp;cno=&amp;pagenum=$i\";\n\n    my $resultat = scraper \n    {   \n        process '//div[class=\"cu_title_con\"]', 'entree[]' =&gt; scraper    \n        {   \n            process '//a/@href', threadUrl =&gt; 'TEXT';   \n        }; \n    };\n\n    my $res = $resultat-&gt;scrape( URI-&gt;new(\"$url\") );\n\n    for my $val (@{$res-&gt;{entree}}) \n    {\n        print OUT Encode::encode(\"utf8\", \"\".$val-&gt;{threadUrl}.\"\\n\" );\n    }\n}\n\nclose (OUT);\n</code></pre>\n\n<p>Does anyone know how, and could you give me some advice?</p>\n"}, {"tags": ["perl", "unix"], "answers": [{"comments": [{"owner": {"reputation": 306, "user_id": 2286014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EIk9Q.jpg?s=128&g=1", "display_name": "waldauf", "link": "https://stackoverflow.com/users/2286014/waldauf"}, "edited": false, "score": 0, "creation_date": 1450373090, "post_id": 34340380, "comment_id": 56422689, "body": "You&#39;re right I&#39;m missing strict and warning use. I filled it to script.   But I replaced my &quot;grep&quot; with your &quot;grep&quot; but it <b>doesn&#39;t work</b>."}, {"owner": {"reputation": 306, "user_id": 2286014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EIk9Q.jpg?s=128&g=1", "display_name": "waldauf", "link": "https://stackoverflow.com/users/2286014/waldauf"}, "edited": false, "score": 0, "creation_date": 1450373537, "post_id": 34340380, "comment_id": 56422950, "body": "Srry, the result is the same. On the stdout is nothing:           $ ./_copyplg.pl /var     &lt;nothing&gt;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 306, "user_id": 2286014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EIk9Q.jpg?s=128&g=1", "display_name": "waldauf", "link": "https://stackoverflow.com/users/2286014/waldauf"}, "edited": false, "score": 3, "creation_date": 1450380258, "post_id": 34340380, "comment_id": 56426649, "body": "@waldauf you need to prepend the directory to the <code>-d</code> test. This is the exact thing the perldoc on <code>readdir</code> explains."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1450387292, "post_id": 34340380, "comment_id": 56430460, "body": "Escaping <code>.</code> isn&#39;t necessary inside a character class"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1450390072, "post_id": 34340380, "comment_id": 56431930, "body": "@Borodin fixed. But that doesn&#39;t change the fact it would not have worked even with the right path. ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1450390326, "post_id": 34340380, "comment_id": 56432041, "body": "Almost! Your first sentence is correct but the follow-up is wrong. <code>&#47;[^.]&#47;</code>, passes anything with a non-dot character in the name, so excludes anything that is all dots, including  <code>.</code> and <code>..</code>. It also happens to exclude <code>...</code> etc. but those are strange node names"}, {"owner": {"reputation": 306, "user_id": 2286014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EIk9Q.jpg?s=128&g=1", "display_name": "waldauf", "link": "https://stackoverflow.com/users/2286014/waldauf"}, "edited": false, "score": 0, "creation_date": 1450430872, "post_id": 34340380, "comment_id": 56446219, "body": "@simbabque: You&#39;re right I forgot add $dir in grep. Thx to all for help. :]"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1450390052, "last_edit_date": 1450390052, "creation_date": 1450372154, "answer_id": 34340380, "question_id": 34339958, "link": "https://stackoverflow.com/questions/34339958/cannot-list-subdirs-on-first-level-in-dir/34340380#34340380", "title": "Cannot list subdirs on first level in dir", "body": "<p>You are saying <em>\"<code>$_</code> is a directory and <code>$_</code> contains at least one of any character that is not a dot\"</em> in your <code>grep</code> block. You need to escape the <code>.</code> in the regular expression. </p>\n\n<p>There is no need for the character class <code>[]</code> if you just negate the match. It would also make sense to put a <em>beginning of string</em> anchor, and make sure you only get <code>.</code> and <code>..</code>, as you might want to allow directories that contain a dot later on, or even start with a dot, like <code>/var/.foo/</code>, which is valid.</p>\n\n<pre><code>my $dir = $ARGV[0];\nmy @dirs = grep { ! /^\\.\\.?\\z/ &amp;&amp; -d \"$dir/$_\" } readdir $DH;\n</code></pre>\n\n<p>It will now match <code>.</code> and <code>..</code>, but nothing else, and negate those.</p>\n\n<p>Note how you need to add the directory to the <code>-d</code> check because <code>readdir</code> only returns the file names, not their full path. Because you are not starting the program from <code>$dir</code> and you are also not switching your current dir there, this is needed.</p>\n\n<blockquote>\n  <p>If you're planning to filetest the return values out of a readdir,\n  you'd better prepend the directory in question. Otherwise, because we\n  didn't chdir there, it would have been testing the wrong file.</p>\n</blockquote>\n\n<p>Check out the <a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow\">perldoc on <code>readdir</code></a>, as that contains the actual example of how to filter out <code>.</code> and <code>..</code> as well as the warning about the file names.</p>\n\n<hr>\n\n<p>You should <code>use strict</code> and <code>use warnings 'all'</code> in your Perl programs. It would not have helped you find the problem in this case, but it will make your life easier.</p>\n"}], "owner": {"reputation": 306, "user_id": 2286014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EIk9Q.jpg?s=128&g=1", "display_name": "waldauf", "link": "https://stackoverflow.com/users/2286014/waldauf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 34340380, "answer_count": 1, "score": 0, "last_activity_date": 1450390052, "creation_date": 1450370770, "last_edit_date": 1450372166, "question_id": 34339958, "link": "https://stackoverflow.com/questions/34339958/cannot-list-subdirs-on-first-level-in-dir", "title": "Cannot list subdirs on first level in dir", "body": "<p>I would like to get list of subdirs (on first level) without \".\" and \"..\" in e.g. dir \"/var/\". I have this perl script but it doesn't work:</p>\n\n<pre><code>#!/bin/perl\n\nopendir(my $DH, $ARGV[0]) || die \"$!\\n\";\n    my @dirs\n    = grep {\n      -d \"$_\" &amp;&amp;\n      /[^.]/\n    } readdir($DH);\n  @dirs = sort(@dirs);\n\nclosedir $DH;\n\nprint \"@dirs\\n\";\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code> $ ./_copyplg.pl /var\n &lt;nothing&gt; \n</code></pre>\n\n<p>List of /var</p>\n\n<pre><code>$ ls -1a /var\n.\n..\nadm\ncache\ncrash\ndb\nempty\nlib\nlocal\nlock\nlog\nlost+found\nmail\nrun\nspool\ntmp\nvar\nwww\n</code></pre>\n\n<p>Please where I made mistake?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1450370026, "post_id": 34339395, "comment_id": 56420744, "body": "I don&#39;t know what &quot;it fails to work&quot; means, but you probably shouldn&#39;t be calling <code>$pdf-&gt;saveas()</code> after each loop."}, {"owner": {"reputation": 628, "user_id": 2657875, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/40690e8e76fcc4af11b19b4a2f4a3072?s=128&d=identicon&r=PG", "display_name": "menteith", "link": "https://stackoverflow.com/users/2657875/menteith"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450370477, "post_id": 34339395, "comment_id": 56421033, "body": "I will correct my post to explain what it fails to work&quot; means. I call <code>$pdf-&gt;saveas()</code> after each loop because in a folder there would be either JPGs, or PNGs or TIF."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1450370533, "post_id": 34339395, "comment_id": 56421076, "body": "What do you actually want, though? One PDF file with all types of images, or three PDF files separated by image type?"}, {"owner": {"reputation": 628, "user_id": 2657875, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/40690e8e76fcc4af11b19b4a2f4a3072?s=128&d=identicon&r=PG", "display_name": "menteith", "link": "https://stackoverflow.com/users/2657875/menteith"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450370841, "post_id": 34339395, "comment_id": 56421266, "body": "I want the script to look for JPGs in a folder. If they are found, a pdf should be created (and only then, I do not want an empty pdf) and the script should exit. If there are no JPGs, the script should look for PNGs. If they are found, a pdf should be created and the script should exit. If there are no PNGs, the script should look for TIFs. If they are found, a pdf should be created and the script should exit. I hope I am more clear now."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450371077, "post_id": 34339395, "comment_id": 56421417, "body": "You should definitely <a href=\"https://stackoverflow.com/posts/34339395/edit\">edit</a> the post and the subject line to reflect that new information, because it changes things quite a bit."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 3, "creation_date": 1450371687, "post_id": 34339395, "comment_id": 56421824, "body": "Write functions.  Then you can write <code>print &quot;No images to convert\\n&quot; if (convert_jpgs($pdf) == 0 &amp;&amp; convert_pngs($pdf) == 0 &amp;&amp; convert_tifs($pdf) == 0)</code>.  The functions each return the number of images converted.  You can do your <code>save</code> in the functions if you wish, or up in the main code.  You can add parameters to the functions as necessary, etc."}, {"owner": {"reputation": 628, "user_id": 2657875, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/40690e8e76fcc4af11b19b4a2f4a3072?s=128&d=identicon&r=PG", "display_name": "menteith", "link": "https://stackoverflow.com/users/2657875/menteith"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1450373673, "post_id": 34339395, "comment_id": 56423039, "body": "@JonathanLeffler Thanks for this, but it sounds to difficult for a perl newbie, and I am one of them. Changing the code above has taken me a lot of time and your suggestions will take me even more."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450374237, "post_id": 34339395, "comment_id": 56423370, "body": "@menteith Functions/subroutines are easy to grasp, and you&#39;re going to need to learn about them eventually, so it <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\">might as well be now</a>!"}, {"owner": {"reputation": 628, "user_id": 2657875, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/40690e8e76fcc4af11b19b4a2f4a3072?s=128&d=identicon&r=PG", "display_name": "menteith", "link": "https://stackoverflow.com/users/2657875/menteith"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450374514, "post_id": 34339395, "comment_id": 56423536, "body": "@MattJacob Well, since they are so important I will do my best I will try to implement they in my code."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450375762, "post_id": 34339395, "comment_id": 56424213, "body": "Another thing---not sure what your intent was joining <code>@ARGV</code> with spaces. Any spaces in the path will break your current incantation of <code>glob</code>."}, {"owner": {"reputation": 628, "user_id": 2657875, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/40690e8e76fcc4af11b19b4a2f4a3072?s=128&d=identicon&r=PG", "display_name": "menteith", "link": "https://stackoverflow.com/users/2657875/menteith"}, "edited": false, "score": 0, "creation_date": 1450454245, "post_id": 34339395, "comment_id": 56460497, "body": "I created a key in Windows registry to have an option on every folder which allows me to simply right click, choose the right option and have a pdf made. I am not 100% sure but the registry option  was: &quot;C:\\strawberry\\perl\\bin\\perl.exe&quot; &quot;D:\\test\\790024.pl&quot; &quot;%1&quot;. I don&#39;t have my computer at hand right now so I cannot check it. When it comes to the piece of code you mentioned, I joined <code>@ARG</code> with spaces because I tried to avoid not making a pdf when a space character is in the name of a folder. It worked in my first version of the script. Do you see a better option?"}, {"owner": {"reputation": 628, "user_id": 2657875, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/40690e8e76fcc4af11b19b4a2f4a3072?s=128&d=identicon&r=PG", "display_name": "menteith", "link": "https://stackoverflow.com/users/2657875/menteith"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450538707, "post_id": 34339395, "comment_id": 56486283, "body": "@MattJacob My registry key is as follows:  <code>&quot;C:\\strawberry\\perl\\bin\\perl.exe&quot; &quot;C:\\Users\\michal\\Documents\\createpdf\\790024.pl&quot; %1</code>. Do you think replacing <code>my $folder = join(&#39; &#39;, @ARGV); </code> with <code>my $folder = $#ARGV;</code> do the trick?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450555467, "post_id": 34339395, "comment_id": 56491477, "body": "@menteith No, that will set <code>$folder</code> to the index of the last element in the array. You&#39;ll need to put quotes around the path as an argument to your script, and also in the <code>glob</code> (<a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\">perldoc</a>). Then you can use <code>$ARGV[0]</code> or <code>shift(@ARGV)</code> to get the parameter."}, {"owner": {"reputation": 628, "user_id": 2657875, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/40690e8e76fcc4af11b19b4a2f4a3072?s=128&d=identicon&r=PG", "display_name": "menteith", "link": "https://stackoverflow.com/users/2657875/menteith"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450610759, "post_id": 34339395, "comment_id": 56502383, "body": "@MattJacob Thanks for this. You have pointed me to the right direction and the script works. Could you take a look at it and check it and perhaps improve it, please? I edited my first post."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450628069, "post_id": 34339395, "comment_id": 56507327, "body": "@menteith I rolled back the edit, because the question doesn&#39;t make sense when everything is fixed and working correctly. If you have a different question, you should ask a new question."}, {"owner": {"reputation": 628, "user_id": 2657875, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/40690e8e76fcc4af11b19b4a2f4a3072?s=128&d=identicon&r=PG", "display_name": "menteith", "link": "https://stackoverflow.com/users/2657875/menteith"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450712512, "post_id": 34339395, "comment_id": 56539966, "body": "@MattJacob I have asked a <a href=\"http://codereview.stackexchange.com/questions/114662/perl-dealing-with-a-command-line-argument-path-with-spaces\">new question</a> on this topic."}], "answers": [{"comments": [{"owner": {"reputation": 628, "user_id": 2657875, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/40690e8e76fcc4af11b19b4a2f4a3072?s=128&d=identicon&r=PG", "display_name": "menteith", "link": "https://stackoverflow.com/users/2657875/menteith"}, "edited": false, "score": 0, "creation_date": 1450373704, "post_id": 34339782, "comment_id": 56423054, "body": "Thanks for this. I will get back to you tomorrow since I don&#39;t have access to perl right now."}], "tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 0, "last_activity_date": 1450370215, "creation_date": 1450370215, "answer_id": 34339782, "question_id": 34339395, "link": "https://stackoverflow.com/questions/34339395/perl-three-parts-of-code-works-independently-of-each-other-when-mixed-the-scr/34339782#34339782", "title": "Perl: Three parts of code works independently of each other, when mixed, the script fails", "body": "<p>You need to have a \"new\" PDF every time you want to save.\nJust add</p>\n\n<pre><code>$pdf = PDF::API2-&gt;new;\n</code></pre>\n\n<p>Before the second and third foreach loop.</p>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": -1, "last_activity_date": 1450378415, "last_edit_date": 1450378415, "creation_date": 1450376805, "answer_id": 34341717, "question_id": 34339395, "link": "https://stackoverflow.com/questions/34339395/perl-three-parts-of-code-works-independently-of-each-other-when-mixed-the-scr/34341717#34341717", "title": "Perl: Three parts of code works independently of each other, when mixed, the script fails", "body": "<p>This code more or less implements what I suggested in my <a href=\"https://stackoverflow.com/questions/34339395/perl-three-parts-of-code-works-independently-of-each-other-when-mixed-the-scr?noredirect=1#comment56421824_34339395\">comment</a>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse PDF::API2;\nuse strict;\nuse warnings;\n\nsub convert_jpgs\n{\n    my($pdf, $folder) = @_;\n    my $count = 0;\n    foreach my $file ( glob \"$folder/*.jpg\" )\n    {\n        my $jpg = $file;\n        my $image = $pdf-&gt;image_jpeg($jpg);\n        my $page = $pdf-&gt;page();\n        $page-&gt;mediabox(0,0,$image-&gt;width, $image-&gt;height);\n        $page-&gt;trimbox(0,0,$image-&gt;width, $image-&gt;height);\n        my $gfx = $page-&gt;gfx;\n        $gfx-&gt;image($image, 0, 0);\n        $count++;\n    }\n    return $count;\n}\n\nsub convert_pngs\n{\n    my($pdf, $folder) = @_;\n    my $count = 0;\n    foreach my $file ( glob \"$folder/*.png\" )\n    {\n        my $png = $file;\n        my $image = $pdf-&gt;image_png($png);\n        my $page = $pdf-&gt;page();\n        $page-&gt;mediabox(0,0,$image-&gt;width, $image-&gt;height);\n        $page-&gt;trimbox(0,0,$image-&gt;width, $image-&gt;height);\n        my $gfx = $page-&gt;gfx;\n        $gfx-&gt;image($image, 0, 0);\n        $count++;\n    }\n    return $count;\n}\n\nsub convert_tifs\n{\n    my($pdf, $folder) = @_;\n    my $count = 0;\n    foreach my $file ( glob \"$folder/*.tif\" )\n    {\n        my $tif = $file;\n        my $image = $pdf-&gt;image_tiff($tif);\n        my $page = $pdf-&gt;page();\n        $page-&gt;mediabox(0,0,$image-&gt;width, $image-&gt;height);\n        $page-&gt;trimbox(0,0,$image-&gt;width, $image-&gt;height);\n        my $gfx = $page-&gt;gfx;\n        $gfx-&gt;image($image, 0, 0);\n        $count++;\n    }\n    return $count;\n}\n\nfor my $folder (@ARGV)\n{\n    # deal with dos paths\n    $folder =~ s|\\\\|/|g;\n    $folder =~ s|/$||;\n\n    if (! -d $folder)\n    {\n        warn \"$folder: not a folder! - skipping\\n\";\n        next;\n    }\n\n    my $pdf_file = $folder . '.pdf';\n    if (-f $pdf_file)\n    {\n        warn \"There's already a pdf $pdf_file! - skipping\\n\";\n        next;\n    }\n\n    my $pdf = PDF::API2-&gt;new;\n    if (convert_jpgs($pdf, $folder) != 0 ||\n        convert_pngs($pdf, $folder) != 0 ||\n        convert_tifs($pdf, $folder) != 0)\n    {\n        $pdf-&gt;saveas($pdf_file);\n    }\n    else\n    {\n        warn \"No image files in $folder\\n\";\n    }\n}\n</code></pre>\n\n<p>It compiles; it has not been tested.  It changes the interface; it assumes that you might want to process several folders with a single invocation and assumes you type the folder names accurately on the command line, inside double quotes if the names contain spaces, etc.  Thus, if the script is <code>c3po.pl</code> (for 'correct three Perl operations' \u2014 nothing to do with a new hope, of course, or an awakening force), then you could run, perhaps:</p>\n\n<pre><code>perl c3po.pl $HOME/Images/*\n</code></pre>\n\n<p>and it will process the documents in each of the subdirectories under <code>$HOME/Images</code>.</p>\n\n<p>Note how each subroutine takes the working code, reads two arguments into local (<code>my</code>) variables \u2014 the parentheses are important \u2014 and creates a new <code>$counter</code> which it initializes, increments and returns.  Otherwise, the code in the functions is substantially unchanged from the code you provided.</p>\n\n<p>Note how the driver code (the <code>for</code> loop over the argument list) uses <code>warn</code> rather than <code>die</code> (it isn't necessarily a good idea to stop processing just because there's a minor problem \u2014 though it is often a good strategy to exit early), and how the warning messages contain the name of the object that causes trouble (the directory name or the file name).  This makes it much easier to debug \u2014 you know what the program was looking for and failed to find.</p>\n\n<p>If you wanted to get fancy, you'd pass a reference to the relevant function from the <code>PDF::API2</code> package, and the relevant suffix, so that you could have a single function handling all three image types.  That's slightly more complex than what's shown but avoids more repetition \u2014 laziness is good and repetition is bad.  However, if you're struggling with functions in the first place, that's out of scope for a sensible, helpful answer.</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1450383314, "creation_date": 1450383314, "answer_id": 34343475, "question_id": 34339395, "link": "https://stackoverflow.com/questions/34339395/perl-three-parts-of-code-works-independently-of-each-other-when-mixed-the-scr/34343475#34343475", "title": "Perl: Three parts of code works independently of each other, when mixed, the script fails", "body": "<p>Here are the pertinent guts for a slightly different approach that cuts down on your code duplication.</p>\n\n<p>We create a dispatch/lookup table to externalize the dissimilar bits of code, keyed off the file extensions you're interested in. In the outer loop, we iterate over those extensions in the order you want (which, luckily, happens to be lexical order in this example). In the inner loop, we filter out files for the current extension and then apply the page creation logic. Finally, we only save the file if the document actually contains some pages.</p>\n\n<pre><code>my $pdf = PDF::API2-&gt;new;\n\nmy %dispatch = (\n    jpg =&gt; sub { $pdf-&gt;image_jpeg(@_) },\n    png =&gt; sub { $pdf-&gt;image_png(@_) },\n    tif =&gt; sub { $pdf-&gt;image_tiff(@_) },\n);\n\nmy @files = glob(\"$folder/*\");\n\nfor my $ext (sort(keys(%dispatch))) {\n    my $count;\n\n    for my $file (@files) {\n        next unless $file =~ /\\.$ext$/;\n\n        my $image = $dispatch{$ext}-&gt;($file);\n        my $page = $pdf-&gt;page;\n        $page-&gt;mediabox(0, 0, $image-&gt;width, $image-&gt;height);\n        $page-&gt;trimbox(0, 0, $image-&gt;width, $image-&gt;height);\n        my $gfx = $page-&gt;gfx;\n        $gfx-&gt;image($image, 0, 0);\n\n        $count++;\n    }\n\n    last if $count;\n}\n\nif ($pdf-&gt;pages) {\n    $pdf-&gt;saveas($pdf_file);\n}\n</code></pre>\n"}], "owner": {"reputation": 628, "user_id": 2657875, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/40690e8e76fcc4af11b19b4a2f4a3072?s=128&d=identicon&r=PG", "display_name": "menteith", "link": "https://stackoverflow.com/users/2657875/menteith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 34343475, "answer_count": 3, "score": 0, "last_activity_date": 1450627947, "creation_date": 1450369129, "last_edit_date": 1450627947, "question_id": 34339395, "link": "https://stackoverflow.com/questions/34339395/perl-three-parts-of-code-works-independently-of-each-other-when-mixed-the-scr", "title": "Perl: Three parts of code works independently of each other, when mixed, the script fails", "body": "<p>I have the following script to make pdf from jpgs,  tifs, and pngs. Each part (starting with #indepedently works OK) works fine. In other words, when I comment the JPG part, the script works for PNG, when I comment JPG and PNG part, it works for TIFs. However, it fails to work for all the extensions: JPG, PNG and TIF. I want the script to look for JPGs in a folder. If they are found, a pdf should be created (and only then, I do not want an empty pdf) and the script should exit. If there are no JPGs, the script should look for PNGs. If they are found, a pdf should be created and the script should exit. If there are no PNGs, the script should look for TIFs. If they are found, a pdf should be created and the script should exit.\nThe script is as follows:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse PDF::API2;\nuse strict;\nuse warnings;\n\n# assume all just one directory path\nmy $folder = join(' ', @ARGV);\n\n# deal with dos paths\n$folder =~ s|\\\\|/|g;\n\n$folder =~ s|/$||;\n\nmy $pdf_file = $folder . '.pdf';\n\ndie \"Not a folder!\\n\" unless -d $folder;\ndie \"There's already a pdf of that name!\\n\" if -f $pdf_file;\n\nmy $pdf = PDF::API2-&gt;new;\n\n#indepedently works OK - JPG\nforeach my $file ( glob \"$folder/*.jpg\" ) {\n    my $jpg = $file;\n    my $image = $pdf-&gt;image_jpeg($jpg);\n    my $page = $pdf-&gt;page();\n    $page-&gt;mediabox(0,0,$image-&gt;width, $image-&gt;height);\n    $page-&gt;trimbox(0,0,$image-&gt;width, $image-&gt;height);\n    my $gfx = $page-&gt;gfx;\n    $gfx-&gt;image($image, 0, 0);\n}\n\n$pdf-&gt;saveas($pdf_file);\n\n#indepedently works OK - PNG\nforeach my $file ( glob \"$folder/*.png\" ) {\n    my $png = $file;\n    my $image = $pdf-&gt;image_png($png);\n    my $page = $pdf-&gt;page();\n    $page-&gt;mediabox(0,0,$image-&gt;width, $image-&gt;height);\n    $page-&gt;trimbox(0,0,$image-&gt;width, $image-&gt;height);\n    my $gfx = $page-&gt;gfx;\n    $gfx-&gt;image($image, 0, 0);\n}\n\n$pdf-&gt;saveas($pdf_file);\n\n#indepedently works OK - TIF\nforeach my $file ( glob \"$folder/*.tif\" ) {\n    my $tif = $file;\n    my $image = $pdf-&gt;image_tiff($tif);\n    my $page = $pdf-&gt;page();\n    $page-&gt;mediabox(0,0,$image-&gt;width, $image-&gt;height);\n    $page-&gt;trimbox(0,0,$image-&gt;width, $image-&gt;height);\n    my $gfx = $page-&gt;gfx;\n    $gfx-&gt;image($image, 0, 0);\n}\n\n$pdf-&gt;saveas($pdf_file);\n</code></pre>\n"}, {"tags": ["perl", "hash", "xml-parsing", "subroutine", "xml-twig"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1450370236, "post_id": 34339206, "comment_id": 56420890, "body": "<a href=\"http://www.perlmonks.org/?node_id=1150626\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1150626</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450433291, "post_id": 34339206, "comment_id": 56447672, "body": "I would suggest - don&#39;t, it&#39;s really nasty. Use the <code>XML::Twig::Elt</code> objects"}, {"owner": {"reputation": 13, "user_id": 5624685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C90Bm.jpg?s=128&g=1", "display_name": "MSalman", "link": "https://stackoverflow.com/users/5624685/msalman"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450454155, "post_id": 34339206, "comment_id": 56460424, "body": "@Sobrique Thanks for your suggestion - and I would really appreciate, if you can also provide a working example (XML::Twig::Elt under my question) as well (a basic simple one - just to grab the concept in a proper way)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450454654, "post_id": 34339206, "comment_id": 56460750, "body": "These are the things that <code>XML::Twig</code> generates and passes to your handler e.g. <code>$accounts</code>."}, {"owner": {"reputation": 13, "user_id": 5624685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C90Bm.jpg?s=128&g=1", "display_name": "MSalman", "link": "https://stackoverflow.com/users/5624685/msalman"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450454804, "post_id": 34339206, "comment_id": 56460843, "body": "@Sobrique How can i use them in other subs for doing various operations over their values ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1450454995, "post_id": 34339206, "comment_id": 56460965, "body": "Pass the reference to the subroutine, use <code>XML::Twig</code> methods on it. e.g. <code>validate_field ( $accounts );</code>"}, {"owner": {"reputation": 13, "user_id": 5624685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C90Bm.jpg?s=128&g=1", "display_name": "MSalman", "link": "https://stackoverflow.com/users/5624685/msalman"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1451928968, "post_id": 34339206, "comment_id": 56938652, "body": "@Sobrique Thanks alot for always coming to the rescue, though I opted to use the other way, your answers are always super helpful and really allowed me to expand my Perl knowledge-sphere."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5624685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C90Bm.jpg?s=128&g=1", "display_name": "MSalman", "link": "https://stackoverflow.com/users/5624685/msalman"}, "edited": false, "score": 0, "creation_date": 1450371650, "post_id": 34339659, "comment_id": 56421800, "body": "Thanks a lot for your answer - the question now is how to use this hash (along with its values) in another sub for performing the validation checks (for eg if Id= ? else ?) ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 13, "user_id": 5624685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C90Bm.jpg?s=128&g=1", "display_name": "MSalman", "link": "https://stackoverflow.com/users/5624685/msalman"}, "edited": false, "score": 0, "creation_date": 1450372016, "post_id": 34339659, "comment_id": 56422034, "body": "Do you mean <code>if ($hash-&gt;{Id} eq &quot;abcd&quot;) {...}</code>?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 13, "user_id": 5624685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C90Bm.jpg?s=128&g=1", "display_name": "MSalman", "link": "https://stackoverflow.com/users/5624685/msalman"}, "edited": false, "score": 0, "creation_date": 1450372671, "post_id": 34339659, "comment_id": 56422451, "body": "Are you asking how to pass a hash reference to a subroutine?"}, {"owner": {"reputation": 13, "user_id": 5624685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C90Bm.jpg?s=128&g=1", "display_name": "MSalman", "link": "https://stackoverflow.com/users/5624685/msalman"}, "edited": false, "score": 0, "creation_date": 1450372887, "post_id": 34339659, "comment_id": 56422576, "body": "Yes - a &#39;Hash reference - the one in your answer&#39; into ANOTHER sub routine (sub check_valid) for performing the checks like if ($hash-&gt;{Id} eq &quot;abcd&quot;) {...}?"}, {"owner": {"reputation": 13, "user_id": 5624685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C90Bm.jpg?s=128&g=1", "display_name": "MSalman", "link": "https://stackoverflow.com/users/5624685/msalman"}, "edited": false, "score": 0, "creation_date": 1450461748, "post_id": 34339659, "comment_id": 56464820, "body": "Thanks - My script is compete. The only thing which I&#39;m still struggling with is handling the nested elements even after doing tons of attempts. As of now its looks this <code>elsif ( $innrtext = $account-&gt;children-&gt;{$ch} ) {             foreach my $b ( { $account-&gt;children-&gt;{$ch}-&gt;text } ){                     $hash{ $b-&gt;name } = $innrtext; </code> which is doing nothing....and I&#39;m continuously struggling"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 13, "user_id": 5624685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C90Bm.jpg?s=128&g=1", "display_name": "MSalman", "link": "https://stackoverflow.com/users/5624685/msalman"}, "edited": false, "score": 0, "creation_date": 1450474379, "post_id": 34339659, "comment_id": 56470990, "body": "<code>if ($ch-&gt;children &amp;&amp; ($ch-&gt;children)[0]-&gt;name ne &#39;#PCDATA&#39;) {             foreach my $b ( $ch-&gt;children ) {                 push @{ $hash{ $ch-&gt;name }{ $b-&gt;name } }, $b-&gt;text;             }</code>  works for me, but I needed to reshuffle the conditions. In your attempt, there are some weird constructs, read more about references in Perl, e.g. in <a href=\"http://p3rl.org/perlreftut\" rel=\"nofollow noreferrer\">perlreftut</a>."}, {"owner": {"reputation": 13, "user_id": 5624685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C90Bm.jpg?s=128&g=1", "display_name": "MSalman", "link": "https://stackoverflow.com/users/5624685/msalman"}, "edited": false, "score": 0, "creation_date": 1451928716, "post_id": 34339659, "comment_id": 56938489, "body": "Though there are some glitches - but it worked fine. Thanks alot !"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1450372989, "last_edit_date": 1450372989, "creation_date": 1450369847, "answer_id": 34339659, "question_id": 34339206, "link": "https://stackoverflow.com/questions/34339206/returning-a-hash-of-the-parsed-document-using-twig-in-perl-to-be-used-for-proc/34339659#34339659", "title": "Returning a hash of the Parsed document (using Twig in Perl) to be used for processing in other subs", "body": "<p>Such a hash is not created by Twig, you have to create it yourself.</p>\n\n<p>Beware: Commands after <code>return</code> will never be reached.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse XML::Twig;\nuse Data::Dumper;\n\nmy $twig = 'XML::Twig'-&gt;new(twig_roots =&gt; { Account =&gt; \\&amp;account });\n$twig-&gt;parsefile(shift);\n\nsub account {\n    my ($twig, $account) = @_;\n    my %hash;\n    for my $ch ($account-&gt;children) {\n        if (my $text = $ch-&gt;text) {\n            $hash{ $ch-&gt;name } = $text;\n        } else {\n            for my $attr (keys %{ $ch-&gt;atts }) {\n                $hash{ $ch-&gt;name }{$attr} = $ch-&gt;atts-&gt;{$attr};\n            }\n        }\n    }\n    print Dumper \\%hash;\n    $twig -&gt; purge;\n    validate(\\%hash);\n}\n</code></pre>\n\n<p>Handling of nested elements (e.g. <code>GroupMemberships</code>) left as an exercise to the reader.</p>\n\n<p>And for validation:</p>\n\n<pre><code>sub validate {\n    my $account = shift;\n    if ('abcd' eq $account-&gt;{Id}) {\n        ...\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5624685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C90Bm.jpg?s=128&g=1", "display_name": "MSalman", "link": "https://stackoverflow.com/users/5624685/msalman"}, "edited": false, "score": 0, "creation_date": 1450453931, "post_id": 34352944, "comment_id": 56460275, "body": "First of all, Thank You for outlining and explaining the logical errors in my Perl code - it really helped. Now why I just want a Hash (of the parsed doc) is because its a condition (put forward by my SysTeam) - though I completely agree that its not a clean thing to do (and have also read the post which you have pointed in your answer). However, I&#39;m much interested in &quot;use an XML::Twig::Elt and pass that into your validation&quot; but unable to grab the concept here - if you could provide an example (under the case of my Question - that will surely assist me up)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1450455501, "last_edit_date": 1495539891, "creation_date": 1450433060, "answer_id": 34352944, "question_id": 34339206, "link": "https://stackoverflow.com/questions/34339206/returning-a-hash-of-the-parsed-document-using-twig-in-perl-to-be-used-for-proc/34352944#34352944", "title": "Returning a hash of the Parsed document (using Twig in Perl) to be used for processing in other subs", "body": "<p>The problem with downconverting <code>XML</code> into hashes, is that <code>XML</code> is fundamentally a more complicated data structure. Each element has properties, children and content - and it's ordered - where hashes... don't.</p>\n\n<p>So I would suggest that you not do what you're doing, and instead of passing a hash, use an <code>XML::Twig::Elt</code> and pass <em>that</em> into your validation. </p>\n\n<p>Fortunately, this is exactly what <code>XML::Twig</code> passes to it's handlers:</p>\n\n<pre><code>## this is fine:\nsub parsing {\n    my ( $twig, $accounts ) = @_;\n</code></pre>\n\n<p>but this is nonsense - think about what's in @_ at this point - it's references to <code>XML::Twig</code> objects - two of them, you've just assigned them. </p>\n\n<pre><code>    my %hash = @_;\n</code></pre>\n\n<p>And this doesn't makes sense as a result</p>\n\n<pre><code>    my $ref = \\%hash; #because was getting an error of Odd number of hash elements\n</code></pre>\n\n<p>And where are you returning it <em>to</em>? (this is being called when XML::Twig is parsing)</p>\n\n<pre><code>    return $ref;\n    #this doesn't happen, you've already returned\n    $twig -&gt; purge;\n</code></pre>\n\n<p>But bear in mind - you're <em>returning</em> it to your twig proces that's parsing, that's ... discarding the return code. So that's not going to do anything anyway.</p>\n\n<p>I would suggest instead you 'save' the <code>$accounts</code> reference and use that for your validation - just pass it into your subroutines to validate. </p>\n\n<p>Or better yet, configure up a set of <code>twig_handlers</code> that do this for you:</p>\n\n<pre><code>my %validate = ( 'Account/Locked' =&gt; sub { die if $_ -&gt; trimmed_text eq \"true\" },\n                 'Account/CreationDate' =&gt; \\&amp;parsing, \n                 'Account/ExternalMail' =&gt; sub { die unless $_ -&gt; text =~ m/\\w+\\@\\w+\\.\\w+ } \n               );\n\n\nmy $twig = XML::Twig -&gt; new ( twig_roots =&gt; \\%validate );\n</code></pre>\n\n<p>You can either <code>die</code> if you want to discard the whole lot, or use things like <code>cut</code> to remove an invalid entry from a document as you parse. (and maybe <code>paste</code> it into a seperate doc). </p>\n\n<p>But if you really <em>must</em> turn your XML into a perl data structure - first read this for why it's a terrible idea:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Why is XML::Simple &quot;Discouraged&quot;?</a></p>\n\n<p>And then, if you really want to carry on down that road,  look at the <code>simplify</code> option of <code>XML::Twig</code>:</p>\n\n<pre><code>sub parsing {\n    my ( $twig, $accounts ) = @_;\n    my $horrible_hacky_hashref = $accounts-&gt;simplify(forcearray =&gt; 1, keyattr =&gt; [], forcecontent =&gt; 1  );\n    print Dumper \\$horrible_hacky_hashref;\n    $twig -&gt; purge;\n    #do something with it. \n}\n</code></pre>\n\n<p>Edit:</p>\n\n<p>To expand:</p>\n\n<p><code>XML::Twig::Elt</code> is a subset of <code>XML::Twig</code> - it's the 'building block' of an <code>XML::Twig</code> data structure - so in your example above, <code>$accounts</code> is. </p>\n\n<pre><code>sub parsing {\n    my ( $twig, $accounts ) = @_;\n    print Dumper $accounts;\n}\n</code></pre>\n\n<p>You will get a lot of data if you do this, because you're dumping the whole data structure - which is effectively a daisy chain of <code>XML::Twig::Elt</code> objects.</p>\n\n<pre><code>$VAR1 = \\bless( {\n                   'parent' =&gt; bless( {\n                                        'first_child' =&gt; ${$VAR1},\n                                        'flushed' =&gt; 1,\n                                        'att' =&gt; {\n                                                   'locale' =&gt; 'en_US'\n                                                 },\n                                        'gi' =&gt; 6,\n</code></pre>\n\n<p>....</p>\n\n<pre><code>                    'att' =&gt; {},\n               'last_child' =&gt; ${$VAR1}-&gt;{'first_child'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'}-&gt;{'next_sibling'},\n               'gi' =&gt; 7\n             }, 'XML::Twig::Elt' );\n</code></pre>\n\n<p>But it <em>already</em> encapsulates the information you need, as well as the structure you require - that's why <code>XML::Twig</code> is using it. And is in no small part going to illustrate why forcing your data into a hash/array, you're going to lose data. </p>\n"}], "owner": {"reputation": 13, "user_id": 5624685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C90Bm.jpg?s=128&g=1", "display_name": "MSalman", "link": "https://stackoverflow.com/users/5624685/msalman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 34339659, "answer_count": 2, "score": -1, "last_activity_date": 1450455501, "creation_date": 1450368649, "question_id": 34339206, "link": "https://stackoverflow.com/questions/34339206/returning-a-hash-of-the-parsed-document-using-twig-in-perl-to-be-used-for-proc", "title": "Returning a hash of the Parsed document (using Twig in Perl) to be used for processing in other subs", "body": "<p>I am failing terribly to return a Hash of the Parsed XML document using twig - in order to use it in OTHER subs for performing several validation checks. The goal is to do abstraction and create re-usable blocks of code.</p>\n\n<p>XML Block:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Accounts locale=\"en_US\"&gt;\n  &lt;Account&gt;\n    &lt;Id&gt;abcd&lt;/Id&gt;\n    &lt;OwnerLastName&gt;asd&lt;/OwnerLastName&gt;\n    &lt;OwnerFirstName&gt;zxc&lt;/OwnerFirstName&gt;\n    &lt;Locked&gt;false&lt;/Locked&gt;\n    &lt;Database&gt;mail&lt;/Database&gt;\n    &lt;Customer&gt;mail&lt;/Customer&gt;\n    &lt;CreationDate year=\"2011\" month=\"8\" month-name=\"fevrier\" day-of-month=\"19\" hour-of-day=\"15\" minute=\"23\" day-name=\"dimanche\"/&gt;\n    &lt;LastLoginDate year=\"2015\" month=\"04\" month-name=\"avril\" day-of-month=\"22\" hour-of-day=\"11\" minute=\"13\" day-name=\"macredi\"/&gt;\n    &lt;LoginsCount&gt;10405&lt;/LoginsCount&gt;\n    &lt;Locale&gt;nl&lt;/Locale&gt;\n    &lt;Country&gt;NL&lt;/Country&gt;\n    &lt;SubscriptionType&gt;free&lt;/SubscriptionType&gt;\n    &lt;ActiveSubscriptionType&gt;free&lt;/ActiveSubscriptionType&gt;\n    &lt;SubscriptionExpiration year=\"1980\" month=\"1\" month-name=\"janvier\" day-of-month=\"1\" hour-of-day=\"0\" minute=\"0\" day-name=\"jeudi\"/&gt;\n    &lt;SubscriptionMonthlyFee&gt;0&lt;/SubscriptionMonthlyFee&gt;\n    &lt;PaymentMode&gt;Undefined&lt;/PaymentMode&gt;\n    &lt;Provision&gt;0&lt;/Provision&gt;\n    &lt;InternalMail&gt;asdf@asdf.com&lt;/InternalMail&gt;\n    &lt;ExternalMail&gt;fdsa@zxczxc.com&lt;/ExternalMail&gt;\n    &lt;GroupMemberships&gt;\n      &lt;Group&gt;werkgroep X.Y.Z.&lt;/Group&gt;\n    &lt;/GroupMemberships&gt;\n    &lt;SynchroCount&gt;6&lt;/SynchroCount&gt;\n    &lt;LastSynchroDate year=\"2003\" month=\"12\" month-name=\"decembre\" day-of-month=\"5\" hour-of-day=\"12\" minute=\"48\" day-name=\"mardi\"/&gt;\n    &lt;HasActiveSync&gt;false&lt;/HasActiveSync&gt;\n    &lt;Company/&gt;\n  &lt;/Account&gt;\n  &lt;Account&gt;\n    &lt;Id&gt;mnbv&lt;/Id&gt;\n    &lt;OwnerLastName&gt;cvbb&lt;/OwnerLastName&gt;\n    &lt;OwnerFirstName&gt;bvcc&lt;/OwnerFirstName&gt;\n    &lt;Locked&gt;true&lt;/Locked&gt;\n    &lt;Database&gt;mail&lt;/Database&gt;\n    &lt;Customer&gt;mail&lt;/Customer&gt;\n    &lt;CreationDate year=\"2012\" month=\"10\" month-name=\"octobre\" day-of-month=\"10\" hour-of-day=\"10\" minute=\"18\" day-name=\"jeudi\"/&gt;\n    &lt;LastLoginDate/&gt;\n    &lt;LoginsCount&gt;0&lt;/LoginsCount&gt;\n    &lt;Locale&gt;fr&lt;/Locale&gt;\n    &lt;Country&gt;BE&lt;/Country&gt;\n    &lt;SubscriptionType&gt;free&lt;/SubscriptionType&gt;\n    &lt;ActiveSubscriptionType&gt;free&lt;/ActiveSubscriptionType&gt;\n    &lt;SubscriptionExpiration year=\"1970\" month=\"1\" month-name=\"janvier\" day-of-month=\"1\" hour-of-day=\"1\" minute=\"0\" day-name=\"jeudi\"/&gt;\n    &lt;SubscriptionMonthlyFee&gt;0&lt;/SubscriptionMonthlyFee&gt;\n    &lt;PaymentMode&gt;Undefined&lt;/PaymentMode&gt;\n    &lt;Provision&gt;0&lt;/Provision&gt;\n    &lt;InternalMail/&gt;\n    &lt;ExternalMail&gt;qweqwe@qwe.com&lt;/ExternalMail&gt;\n    &lt;GroupMemberships/&gt;\n    &lt;SynchroCount&gt;0&lt;/SynchroCount&gt;\n    &lt;LastSynchroDate year=\"1970\" month=\"1\" month-name=\"janvier\" day-of-month=\"1\" hour-of-day=\"1\" minute=\"0\" day-name=\"jeudi\"/&gt;\n    &lt;HasActiveSync&gt;false&lt;/HasActiveSync&gt;\n    &lt;Company/&gt;\n  &lt;/Account&gt;\n&lt;/Accounts&gt;\n</code></pre>\n\n<p>Perl Block:</p>\n\n<pre><code>my $file = shift || (print \"NOTE: \\tYou didn't provide the name of the file to be checked.\\n\" and exit);\nmy $twig = XML::Twig -&gt; new ( twig_roots =&gt; { 'Account' =&gt; \\&amp; parsing } ); #'twig_roots' mode builds only the required sub-trees from the document while ignoring everything outside that twig.\n$twig -&gt; parsefile ($file);\n\nsub parsing {\n    my ( $twig, $accounts ) = @_;\n    my %hash = @_;\n    my $ref = \\%hash; #because was getting an error of Odd number of hash elements\n    return $ref;\n    $twig -&gt; purge;\n</code></pre>\n\n<p>It gives a hash reference - which I'm unable to deference properly (even after doing thousands of attempts).</p>\n\n<p>Again - just need a single clean function (sub) for doing the Parsing and returning the hash of all elements ('Accounts' in this case) - to be used in other other function (valid_sub) for performing the validation checks.</p>\n\n<p>I'm literally stuck at this point - and will HIGHLY appreciate your HELP.</p>\n"}, {"tags": ["perl", "constructor", "moose"], "comments": [{"owner": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "edited": false, "score": 3, "creation_date": 1450360372, "post_id": 34336211, "comment_id": 56413823, "body": "Being Perl, I&#39;m sure you can, but using a different name than the standard name used by lots of Moose developers and the Moose documentation, doesn&#39;t <i>sound</i> very user-friendly..."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "edited": false, "score": 0, "creation_date": 1450361611, "post_id": 34336211, "comment_id": 56414687, "body": "I added an example where I think changing the name of the constructor might make logical sense from a user perspective."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1450362777, "post_id": 34336211, "comment_id": 56415466, "body": "The most user-friendly thing you can do is follow the standard conventions of perl, where <code>new</code> is the name of the constructor."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1450363670, "post_id": 34336211, "comment_id": 56416062, "body": "You can write <code>*CVS::make_thing = \\&amp;CVS::new</code> to create an <i>alias</i> for the method, but I disagree very much that an alternative name may be easier to understand. It is not just Perl, but the vast majority of programming languages use <code>new</code> for the constructor class method, as well as <code>self</code> or <code>this</code> for the current context object. I think you will confuse people rather than clarify things for them by deviating from this convention"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 3, "creation_date": 1450363849, "post_id": 34336211, "comment_id": 56416177, "body": "Moose best practices: <a href=\"https://metacpan.org/pod/distribution/Moose/lib/Moose/Manual/BestPractices.pod#Never-override-new\" rel=\"nofollow noreferrer\">Never override <code>new</code></a>"}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 5, "creation_date": 1450364428, "post_id": 34336211, "comment_id": 56416620, "body": "Why are you calling your class &quot;CVS&quot; if the <i>&quot;constructor&quot;</i> creates a &quot;repository&quot;? Call it <code>CVS::Repository</code> and then <code>CVS::Repository-&gt;new()</code> makes the same sense. However you may want a simple interface to your entire library and &quot;CVS&quot; is the facade you chose and you want to make <code>CVS</code> a data pool and factory. Then <code>get_repository</code> calls &#39;CVS::Repository-&gt;new()`."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1450366369, "post_id": 34336211, "comment_id": 56417928, "body": "I disagree with all the people saying &quot;don&#39;t provide other constructors&quot;. For example <a href=\"https://metacpan.org/pod/DateTime#Constructors\" rel=\"nofollow noreferrer\">DateTime</a> provides a raft of constructors"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1450370743, "post_id": 34336211, "comment_id": 56421202, "body": "@glennjackman, the question is not how to &quot;override&quot; <code>new</code>.  It&#39;s simply how to rename <code>new</code>.  renaming and overriding are two different things."}], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 2, "creation_date": 1450371251, "post_id": 34338082, "comment_id": 56421531, "body": "It&#39;s not exactly &quot;renaming&quot; <code>new</code>, but this approach would be better I guess since it still preserves <code>new</code> as a valid constructor which will allow people to use it if they would like to."}], "tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": true, "score": 5, "last_activity_date": 1450365635, "creation_date": 1450365635, "answer_id": 34338082, "question_id": 34336211, "link": "https://stackoverflow.com/questions/34336211/how-can-i-rename-the-default-constructor-provided-by-perls-moose-module/34338082#34338082", "title": "How can I rename the default constructor provided by Perl&#39;s Moose module?", "body": "<p>Sometimes it makes sense to have alternative constructors.  For instance, if you look at <a href=\"https://metacpan.org/pod/Net::Works::Network\">Net::Works::Network</a>, it has <code>new_from_string</code> and <code>new_from_integer</code> methods.  I'd stay away from using something other than <code>new</code> unless you have a very good reason.  Having said that, you could just add a convenience method if you think it's more helpful to the user.</p>\n\n<pre><code>sub get_repository {\n    my $class = shift;\n    return $class-&gt;new( @_ );\n}\n</code></pre>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 34338082, "answer_count": 1, "score": 1, "last_activity_date": 1598206217, "creation_date": 1450360118, "last_edit_date": 1598206217, "question_id": 34336211, "link": "https://stackoverflow.com/questions/34336211/how-can-i-rename-the-default-constructor-provided-by-perls-moose-module", "title": "How can I rename the default constructor provided by Perl&#39;s Moose module?", "body": "<p>Is there a way to rename the default constructor provided by Moose to something other than &quot;new&quot;?</p>\n<p>I want to do this to make a script more user friendly when it would make more sense to name the constructor something different (like &quot;make_thing&quot; for example)</p>\n<pre><code>my $object = Class-&gt;make_thing();\n</code></pre>\n<p>How can I make this happen?</p>\n<hr />\n<p><em><strong>Let me give you an example of how this might be more user friendly...</strong></em></p>\n<p>Say I'm building a module that handles CVS repository information and the module is called &quot;CVS&quot;.  I could either create an instance of a repository with</p>\n<p><code>$repository = CVS-&gt;new()</code></p>\n<p>or if I could change the name of the constructor I could call it something like</p>\n<p><code>$repository = CVS-&gt;get_repository()</code></p>\n<p>which would make more logical sense the user.</p>\n"}, {"tags": ["regex", "perl", "awk", "sed", "regex-lookarounds"], "comments": [{"owner": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "edited": false, "score": 2, "creation_date": 1450360085, "post_id": 34336144, "comment_id": 56413614, "body": "When parsing XML, the elegant solution is usually not to use a regular expression :-) <a href=\"http://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg?rq=1\" title=\"can you provide some examples of why it is hard to parse xml and html with a reg\">stackoverflow.com/questions/701166/&hellip;</a>"}, {"owner": {"reputation": 2282, "user_id": 3704475, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-F8g5oQDP6i4/AAAAAAAAAAI/AAAAAAAABys/zMyix6hW-5s/photo.jpg?sz=128", "display_name": "Amen Jlili", "link": "https://stackoverflow.com/users/3704475/amen-jlili"}, "edited": false, "score": 1, "creation_date": 1450360830, "post_id": 34336144, "comment_id": 56414140, "body": "Not a good idea to parse xml with text they have xml parser for that"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1450363486, "post_id": 34336144, "comment_id": 56415935, "body": "We can&#39;t test a possible solution against a GIF. Include a small, complete, testable example of sample input and expected output."}, {"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "edited": false, "score": 0, "creation_date": 1450363516, "post_id": 34336144, "comment_id": 56415954, "body": "Please don&#39;t post links to images of code; just post the code, especially since there&#39;s so little of it. Can you please edit your question accordingly?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1450363980, "post_id": 34336144, "comment_id": 56416288, "body": "<i>\u201cBeing a Java developer i am resisting writing a really ugly solution\u201d</i> I disagree that the two are in any way related"}, {"owner": {"reputation": 768, "user_id": 4623259, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sNAyd.png?s=128&g=1", "display_name": "iPherian", "link": "https://stackoverflow.com/users/4623259/ipherian"}, "edited": false, "score": 0, "creation_date": 1450368363, "post_id": 34336144, "comment_id": 56419406, "body": "Are all of the <b>item</b> tags found inside a single or different parent tag than the <b>text</b> tags?"}, {"owner": {"reputation": 1, "user_id": 3304457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22cb133956a39ad9b335c26a3022713e?s=128&d=identicon&r=PG&f=1", "display_name": "driftingprogrammer", "link": "https://stackoverflow.com/users/3304457/driftingprogrammer"}, "edited": false, "score": 0, "creation_date": 1459677599, "post_id": 34336144, "comment_id": 60385037, "body": "I ended up using DOM, it was fast enough to process half a million files in less then an hour and that was good enough. Totally agree with peoples response that Regex is totally not meant for this when XML libraries are available."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3304457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22cb133956a39ad9b335c26a3022713e?s=128&d=identicon&r=PG&f=1", "display_name": "driftingprogrammer", "link": "https://stackoverflow.com/users/3304457/driftingprogrammer"}, "edited": false, "score": 0, "creation_date": 1450385741, "post_id": 34337195, "comment_id": 56429692, "body": "The XML does not comply with the xsd so can&#39;t use jaxb, not sure if the Perl XML parser needs xsd validation..."}, {"owner": {"reputation": 1, "user_id": 3304457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22cb133956a39ad9b335c26a3022713e?s=128&d=identicon&r=PG&f=1", "display_name": "driftingprogrammer", "link": "https://stackoverflow.com/users/3304457/driftingprogrammer"}, "edited": false, "score": 1, "creation_date": 1459677740, "post_id": 34337195, "comment_id": 60385092, "body": "Ended up using Java DOM, like everyone else you are right its best not to use Regex for XML parsing."}], "tags": [], "owner": {"reputation": 2502, "user_id": 3589054, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2af7ed5cc40b1b8479cd082ca3e0c4af?s=128&d=identicon&r=PG&f=1", "display_name": "NinjaGaiden", "link": "https://stackoverflow.com/users/3589054/ninjagaiden"}, "is_accepted": false, "score": 1, "last_activity_date": 1450363098, "creation_date": 1450363098, "answer_id": 34337195, "question_id": 34336144, "link": "https://stackoverflow.com/questions/34336144/lookahead-for-the-usage-of-local-bookmark-and-replace-local-bookmark-with-the-co/34337195#34337195", "title": "Lookahead for the usage of local bookmark and replace local bookmark with the content of bookmark", "body": "<p>I suggest looking at <a href=\"https://docs.oracle.com/cd/B28359_01/appdev.111/b28394/adx_j_parser.htm#CCHGBGIG\" rel=\"nofollow\">Java's XML Parsing</a>. As many people said, don't use Regex to parse XML files.</p>\n\n<p>You can also use xmlint (with xpath). I also suggest posting the sample XML file here instead of a GIF img</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 3304457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22cb133956a39ad9b335c26a3022713e?s=128&d=identicon&r=PG&f=1", "display_name": "driftingprogrammer", "link": "https://stackoverflow.com/users/3304457/driftingprogrammer"}, "edited": false, "score": 1, "creation_date": 1459677658, "post_id": 34341737, "comment_id": 60385061, "body": "Thanks so much i ended up using Java DOM as everyone has suggested, but thanks a lot for providing the answer, i am definitely using it as a learning tool."}], "tags": [], "owner": {"reputation": 768, "user_id": 4623259, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sNAyd.png?s=128&g=1", "display_name": "iPherian", "link": "https://stackoverflow.com/users/4623259/ipherian"}, "is_accepted": false, "score": 1, "last_activity_date": 1450484209, "last_edit_date": 1450484209, "creation_date": 1450376879, "answer_id": 34341737, "question_id": 34336144, "link": "https://stackoverflow.com/questions/34336144/lookahead-for-the-usage-of-local-bookmark-and-replace-local-bookmark-with-the-co/34341737#34341737", "title": "Lookahead for the usage of local bookmark and replace local bookmark with the content of bookmark", "body": "<p>Because the questioner requested it: With some assumptions, a simple regex can do it.</p>\n\n<p><em>Assuming the file is free of XML syntax errors, that <code>&lt;content&gt;</code> tags are only found inside <code>&lt;item&gt;</code> tags, that use of whitespace and ordering of attributes is consistent throughout the XML i.e. it is autogenerated, that <code>&lt;text&gt;</code> tags and children cover exactly three lines, and that the xml looks identical to the example in the question:</em></p>\n\n<p>Item/content nodes</p>\n\n<pre><code>          &lt;item&gt;\n            &lt;content ID=\"a1234\"&gt; text &lt;/content&gt;\n            &lt;!-- more --&gt;\n          &lt;/item&gt;\n</code></pre>\n\n<p>Text node</p>\n\n<pre><code>          &lt;text&gt;\n            &lt;reference value=\"#a1234\" /&gt;\n          &lt;/text&gt;\n</code></pre>\n\n<p>Perl code:</p>\n\n<p>Replaces tags according to the question. It handles, and prints out undisturbed, tags other than the ones we're replacing for. (<code>&lt;reference&gt;</code>).</p>\n\n<p>Regex for item/content tags: <code>/&lt;content ID=\"(.*?)\"&gt;(.*?)&lt;\\/content&gt;/</code></p>\n\n<p>Regex for text/reference tags: <code>s/(&lt;text&gt;\\s*)&lt;reference value=\"#(.*?)\" \\/&gt;(\\s*&lt;\\/text&gt;)/$1.$content{$2}.$3/es</code></p>\n\n<p>The second regex, which is doing the replacement, grabs values from the <code>%content</code> hash, which is populated earlier.</p>\n\n<pre><code>my %content;\n\n## open filehandles called XIN, XOUT\n\n## stores 3 lines from file, used by second loop\nmy @block;\n\nwhile (&lt;XIN&gt;) {\n  if (/&lt;content ID=\"(.*?)\"&gt;(.*?)&lt;\\/content&gt;/) {\n    my ($id, $text) = ($1, $2);\n    $content{$id} = $text;\n  } elsif (/&lt;text&gt;/) {\n    ## keep this line for next loop\n    push @block, $_;\n    ## when we start seeing &lt;text&gt; tags, go to next loop for these\n    last;\n  }\n  print XOUT $_;\n}\n\nwhile (1) {\n  ## read up to 3 lines into @block\n  for (scalar(@block)+1..3) { my $l = &lt;XIN&gt;; last if (!defined $l); push @block, $l; }\n  ## if we've read nothing, we are at EOF\n  last if (scalar(@block) == 0);\n\n  my $concat = join '', @block;\n  if ( ($concat =~ s/(&lt;text&gt;\\s*)&lt;reference value=\"#(.*?)\" \\/&gt;(\\s*&lt;\\/text&gt;)/$1.$content{$2}.$3/es) &gt; 0) {\n      print XOUT $concat;\n      @block = ();\n  } else {\n      print XOUT shift @block;\n  }\n}\n</code></pre>\n\n<p>Otherwise, just use an XML parser. There are a lot of CPAN modules for it. I like <code>XML::Parser</code>. It doesn't need to load the entire file into memory.</p>\n\n<p><a href=\"http://pastebin.com/ascgUvei\" rel=\"nofollow\">complete perl script</a></p>\n\n<p><a href=\"http://pastebin.com/tnfKSRJA\" rel=\"nofollow\">hypothetical input xml</a></p>\n\n<p><a href=\"http://pastebin.com/wZ1TfcPi\" rel=\"nofollow\">output xml</a></p>\n\n<p>P.S. The one thing that might not be appropriate to assume is that <code>&lt;content&gt;</code> tags are only found inside <code>&lt;item&gt;</code> tags. But it's a simple change. Will update if OP provides details.</p>\n\n<p>P.S.S The regex <em>is</em> simple ;). The logic is moderately long. If the input XML, including tags not specifically mentioned, doesn't need to be preserved, it would be simpler.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 3304457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22cb133956a39ad9b335c26a3022713e?s=128&d=identicon&r=PG&f=1", "display_name": "driftingprogrammer", "link": "https://stackoverflow.com/users/3304457/driftingprogrammer"}, "edited": false, "score": 1, "creation_date": 1459677698, "post_id": 34368823, "comment_id": 60385074, "body": "Agreed, but since i am a good Java Programmer i thought if i am using DOM might as well use Java DOM."}, {"owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "reply_to_user": {"reputation": 1, "user_id": 3304457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22cb133956a39ad9b335c26a3022713e?s=128&d=identicon&r=PG&f=1", "display_name": "driftingprogrammer", "link": "https://stackoverflow.com/users/3304457/driftingprogrammer"}, "edited": false, "score": 0, "creation_date": 1459753616, "post_id": 34368823, "comment_id": 60409477, "body": "@driftingprogrammer : Sure, whatever language but real XML parser :-) However the Perl here wins for simplicity :-)"}], "tags": [], "owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "is_accepted": false, "score": 1, "last_activity_date": 1450513984, "creation_date": 1450513984, "answer_id": 34368823, "question_id": 34336144, "link": "https://stackoverflow.com/questions/34336144/lookahead-for-the-usage-of-local-bookmark-and-replace-local-bookmark-with-the-co/34368823#34368823", "title": "Lookahead for the usage of local bookmark and replace local bookmark with the content of bookmark", "body": "<p>You can achieve the same easily with XML::LibXML, and much more reliably than with regular expression which could hardly handle special characters, escape sequences, new lines and things like that:</p>\n\n<pre><code>my $doc = XML::LibXML-&gt;load_xml(IO =&gt; \\*STDIN); # or stream or file..\nforeach my $node ($doc-&gt;documentElement()-&gt;findnodes(\"/path/to/your/element/text/reference\")) {\n    $node-&gt;parentNode()-&gt;appendText(yourLookupMethod($node-&gt;getAttribute(\"value\"));\n    $node-&gt;unbindNode();\n}\n$doc-&gt;toFH(\\*STDOUT, 0); # or stream or file...\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3304457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22cb133956a39ad9b335c26a3022713e?s=128&d=identicon&r=PG&f=1", "display_name": "driftingprogrammer", "link": "https://stackoverflow.com/users/3304457/driftingprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1450513984, "creation_date": 1450359954, "question_id": 34336144, "link": "https://stackoverflow.com/questions/34336144/lookahead-for-the-usage-of-local-bookmark-and-replace-local-bookmark-with-the-co", "title": "Lookahead for the usage of local bookmark and replace local bookmark with the content of bookmark", "body": "<p>I am new to regular expressions and still learning.</p>\n\n<p>I have an XML file which has a text node followed by clinical information.</p>\n\n<p>In the text node i have Content IDs defined like </p>\n\n<p><a href=\"http://i.stack.imgur.com/wV4Fk.gif\" rel=\"nofollow\">parent text node</a></p>\n\n<p>Later on in the lower xml snippet containing the actual clinical data these ids are referenced</p>\n\n<pre><code>              &lt;text&gt;\n                &lt;reference value=\"#al38134600007\" /&gt;\n              &lt;/text&gt;\n</code></pre>\n\n<p>I would like to replace the above text node with the content represented by the id so i would like to transform the file to look like</p>\n\n<pre><code>              &lt;text&gt;\n                Wellbutrin TABS;\n              &lt;/text&gt;\n</code></pre>\n\n<p>Being a Java developer i am resisting writing a really ugly solution and looking for a more elegant regular expression solution (not to mention the performance since the transformation needs to happen in half a million xml CCDs).</p>\n\n<p>I will like to do it in perl since it is available by default on linux but happy to use any technology that can solve this problem.</p>\n\n<p>Any suggestion?</p>\n\n<p>Thanks in advance,\nCheers,\nVipin.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6171, "user_id": 3885008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2w1Vd.png?s=128&g=1", "display_name": "gmiley", "link": "https://stackoverflow.com/users/3885008/gmiley"}, "edited": false, "score": 4, "creation_date": 1450357038, "post_id": 34335063, "comment_id": 56411482, "body": "Do you have anything that you have tried yet? Are you having a problem with a particular part? Please include any examples of attempts that you have made to reach your desired output."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1450357281, "creation_date": 1450357281, "answer_id": 34335266, "question_id": 34335063, "link": "https://stackoverflow.com/questions/34335063/i-want-to-have-a-output-with-85-characters-in-each-line-could-you-please-say-ho/34335266#34335266", "title": "I want to have a output with 85 characters in each line, could you please say how I have to use print in this field?", "body": "<p>You can use a regular expression with a quantifier:</p>\n\n<pre><code>$_ = 'MASH P 0 3.64 NAMD P 0 3.79 AGHA P 0 4.50 SARG P 0 4.71 BENG P 0 5.47 BANR P 0 6.75 ABZA P 0 6.25 KALI P 0 6.91';\nprint $&amp;, \"\\n\" while /.{1,85}/g;\n</code></pre>\n\n<p>or, if it's a part of a larger program and you don't want to suffer the performance penalty, use <code>${^MATCH}</code> instead of <code>$&amp;</code>:</p>\n\n<pre><code>use Syntax::Construct qw{ /p };\nprint ${^MATCH}, \"\\n\" while /.{1,85}/gp;\n</code></pre>\n\n<p>You can also use the four argument <code>substr</code>:</p>\n\n<pre><code>print substr($_, 0, 85, q()), \"\\n\" while $_;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5687858, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a30ade0c224d59270d4a5a03d225dea2?s=128&d=identicon&r=PG&f=1", "display_name": "Hossein Kianimehr", "link": "https://stackoverflow.com/users/5687858/hossein-kianimehr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1450357289, "creation_date": 1450356659, "last_edit_date": 1450357289, "question_id": 34335063, "link": "https://stackoverflow.com/questions/34335063/i-want-to-have-a-output-with-85-characters-in-each-line-could-you-please-say-ho", "title": "I want to have a output with 85 characters in each line, could you please say how I have to use print in this field?", "body": "<p>I used following command to get a specific format that the output of it is in one line:</p>\n\n<pre><code>MASH P 0 3.64 NAMD P 0 3.79 AGHA P 0 4.50 SARG P 0 4.71 BENG P 0 5.47 BANR P 0 6.75 ABZA P 0 6.25 KALI P 0 6.91\n</code></pre>\n\n<p>I want to have a output with 85 characters in each line, could someone explain how I have to use print in this field? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2538, "user_id": 3846058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/gornl.png?s=128&g=1", "display_name": "Inspector Squirrel", "link": "https://stackoverflow.com/users/3846058/inspector-squirrel"}, "edited": false, "score": 0, "creation_date": 1450355134, "post_id": 34334164, "comment_id": 56410310, "body": "Add the code to your question"}, {"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "reply_to_user": {"reputation": 2538, "user_id": 3846058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/gornl.png?s=128&g=1", "display_name": "Inspector Squirrel", "link": "https://stackoverflow.com/users/3846058/inspector-squirrel"}, "edited": false, "score": 0, "creation_date": 1450355153, "post_id": 34334164, "comment_id": 56410324, "body": "print { $fh_out } &quot;reverse @sum\\n&quot;; &quot;fh_out is an output file that outputs hex sum from 2 files&quot;"}, {"owner": {"reputation": 3124, "user_id": 354633, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kx0E0.jpg?s=128&g=1", "display_name": "antred", "link": "https://stackoverflow.com/users/354633/antred"}, "edited": false, "score": 0, "creation_date": 1477552848, "post_id": 34334164, "comment_id": 67815722, "body": "IMO your question has a misleading title. You&#39;re not trying to invert bits. Inverting bits is generally understood to mean flipping their values, i.e. ones become zeroes and zeroes turn into ones."}], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 1, "creation_date": 1450356049, "post_id": 34334806, "comment_id": 56410876, "body": "Can I ask what the difference between flip the bits and reverse them?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1450358754, "post_id": 34334806, "comment_id": 56412702, "body": "Flipping the bits means converting all zeros to ones and all ones to zero. So 11111100 becomes 00000011. Reversing the bits means reversing the order. So 11111100 becomes 00111111. Your code is reversing the bits. But you ask for help inverting the bits. Inverting is another word for flipping."}, {"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1450359644, "post_id": 34334806, "comment_id": 56413307, "body": "thank you for explaining that for me , I wanted to reverse the order so It&#39;s ok :)"}], "tags": [], "owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "is_accepted": false, "score": 0, "last_activity_date": 1450356056, "last_edit_date": 1450356056, "creation_date": 1450355812, "answer_id": 34334806, "question_id": 34334164, "link": "https://stackoverflow.com/questions/34334164/how-can-i-reverse-the-bits-of-an-unsigned-byte-in-perl/34334806#34334806", "title": "How can I reverse the bits of an unsigned byte in Perl?", "body": "<p>Shortest I can come up with for inverting is <code>~pack \"C\", 178</code> (eta: but your title and your text are quite confusing as to whether you want to flip the bits or reverse them, your bit-pattern has the same result for both but this is not generally the same). In the latter case one could do <code>pack \"B8\", scalar reverse unpack \"B8\", pack \"C\", 178</code>, just don't forget to add a comment to that ;-).</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1450355848, "creation_date": 1450355848, "answer_id": 34334820, "question_id": 34334164, "link": "https://stackoverflow.com/questions/34334164/how-can-i-reverse-the-bits-of-an-unsigned-byte-in-perl/34334820#34334820", "title": "How can I reverse the bits of an unsigned byte in Perl?", "body": "<p>You call <code>reverse()</code> on an array, by just passing the array to the function. However, like all Perl functions, you can't put a function call inside a string. So instead of</p>\n\n<pre><code>print { $fh_out } \"reverse @sum\\n\";\n</code></pre>\n\n<p>You want:</p>\n\n<pre><code>print { $fh_out } reverse(@sum), \"\\n\";\n</code></pre>\n\n<p>The parentheses around <code>@sum</code> are required here to prevent the newline from being included in the arguments to <code>reverse</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1450427005, "post_id": 34339327, "comment_id": 56444105, "body": "Thank you a lot for the clarification, may I ask a n00b question? and sorry for doing it here but I got no questions left in the question section. How can I force perl to read from the two files every 8 bits as 1 hex value, because in this case it reads every bit as a hex value. Thank you in advance :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1450449843, "post_id": 34339327, "comment_id": 56457722, "body": "&quot;reading 8 bits as 1 hex value&quot; makes no sense (hex is a string representation of a number), so I don&#39;t understand the question."}, {"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1450459603, "post_id": 34339327, "comment_id": 56463665, "body": "If you have file 1: 00 00 00 0f ; file 2: 00 00 00 0f the output sum will be: 00 00 00 01e instead of &quot;00 00 00 1e&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1450463895, "post_id": 34339327, "comment_id": 56466042, "body": "I presume <code>00 00 00 0f</code> refers to four bytes. Not sure which of those outputs you want. If you want the first: <code>my $four_bytes = pack(&#39;N&#39;, unpack(&#39;N&#39;, $four_bytes_from_file1) + unpack(&#39;N&#39;, $four_bytes_from_file2) )</code>. If you want the second: <code>my $hex = sprintf(&quot;%08x&quot;, unpack(&#39;N&#39;, $four_bytes_from_file1) + unpack(&#39;N&#39;, $four_bytes_from_file2) ); $hex =~ s&#47;..\\K&#47; &#47;sg;</code> // You can read 4 bytes using <code>read($fh, my $buf, 4)</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1450369687, "last_edit_date": 1450369687, "creation_date": 1450368944, "answer_id": 34339327, "question_id": 34334164, "link": "https://stackoverflow.com/questions/34334164/how-can-i-reverse-the-bits-of-an-unsigned-byte-in-perl/34339327#34339327", "title": "How can I reverse the bits of an unsigned byte in Perl?", "body": "<p>This inverses the bits:</p>\n\n<pre><code>&gt;perl -E\"say pack 'C', ~178 &amp; 0xFF\"\nM\n</code></pre>\n\n<p>This reverses the bits:</p>\n\n<pre><code>&gt;perl -E\"say pack 'B8', unpack 'b8', pack 'C', 178\"\nM\n</code></pre>\n\n<p>This reverses the bits:</p>\n\n<pre><code>&gt;perl -E\"say pack 'b8', sprintf '%08b', 178\"\nM\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1434, "favorite_count": 1, "accepted_answer_id": 34334820, "answer_count": 3, "score": 1, "last_activity_date": 1483906103, "creation_date": 1450353841, "last_edit_date": 1483906103, "question_id": 34334164, "link": "https://stackoverflow.com/questions/34334164/how-can-i-reverse-the-bits-of-an-unsigned-byte-in-perl", "title": "How can I reverse the bits of an unsigned byte in Perl?", "body": "<p>For example, the number 178 should convert to the letter \"M\". </p>\n\n<p>178 is 10110010. </p>\n\n<p>Reversing all of the bits should give 01001101, which is 77 or \"M\" as a character.\nI taught about using the Reverse function but I don't know how can I use it on an @array.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\n    open(my $fh1, '&lt;', 'sym.dat') or die $!;\n    open(my $fh2, '&lt;', 'sym2.txt') or die $!;\n    open my $fh_out, '&gt;', 'symout.txt' or die $!;\n\n    until ( eof $fh1 or eof $fh2 ) {\n\n        my @l1 = map hex, split '', &lt;$fh1&gt;;\n        my @l2 = map hex, split '', &lt;$fh2&gt;;\n        my $n = @l2 &gt; @l1 ? @l2 : @l1;\n\n        my @sum = map {\n            no warnings 'uninitialized';\n        $l1[$_] + $l2[$_];\n    } 0 .. $n-1;\n        @sum = map { split //, sprintf '%08X', $_ } @sum;\n        print { $fh_out } \"reverse @sum\\n\";\n    }\n</code></pre>\n\n<p>I am calculating here the sum of hex values but the question is the same I want to reverse the byte values.</p>\n"}, {"tags": ["linux", "perl", "file", "unix", "stat"], "answers": [{"comments": [{"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1450345871, "post_id": 34331332, "comment_id": 56404323, "body": "do i need to mention any perl module for above mentioned functions ?"}, {"owner": {"reputation": 4830, "user_id": 1160106, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/forvP.jpg?s=128&g=1", "display_name": "Samiron", "link": "https://stackoverflow.com/users/1160106/samiron"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1450346188, "post_id": 34331332, "comment_id": 56404532, "body": "Note that it returns an array and the first element contains the name. Hence I used like <code>my ($gid) = ...</code> to catch the first element only."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1450347394, "post_id": 34331332, "comment_id": 56405361, "body": "Thanks its working only for user id  not the group id any idea why ?"}, {"owner": {"reputation": 4830, "user_id": 1160106, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/forvP.jpg?s=128&g=1", "display_name": "Samiron", "link": "https://stackoverflow.com/users/1160106/samiron"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1450347789, "post_id": 34331332, "comment_id": 56405629, "body": "hmm it worked for me. However, try using <code>getgrgid</code> to retrieve the group name. You can find similar other methods here <a href=\"http://perldoc.perl.org/5.8.9/functions/getgrgid.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/5.8.9/functions/getgrgid.html</a>"}], "tags": [], "owner": {"reputation": 4830, "user_id": 1160106, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/forvP.jpg?s=128&g=1", "display_name": "Samiron", "link": "https://stackoverflow.com/users/1160106/samiron"}, "is_accepted": true, "score": 3, "last_activity_date": 1472660094, "last_edit_date": 1472660094, "creation_date": 1450345571, "answer_id": 34331332, "question_id": 34331198, "link": "https://stackoverflow.com/questions/34331198/perl-get-the-user-name-and-group-name-from-stat-commad/34331332#34331332", "title": "Perl: Get the user name and group name from stat commad", "body": "<pre><code>getgrgid($gid);\ngetpwuid($uid);\n</code></pre>\n\n<p>might be useful (get group added, it was wrong)</p>\n\n<p><strong>Update</strong></p>\n\n<p>I changed your code to this and it worked</p>\n\n<pre><code> #!/usr/bin/perl\n use strict;\n use Data::Dumper;\n use File::stat;\n $somedir = '/var/vob/icc_shantesh/';\n $file = $somedir.\"power.log\";\n\n my ($gid) = getgrgid(stat($file)-&gt;gid);\n my ($uid) = getpwuid(stat($file)-&gt;uid);\n\n print \"User Id : $uid Group Id : $gid\";\n</code></pre>\n"}], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1973, "favorite_count": 0, "accepted_answer_id": 34331332, "answer_count": 1, "score": 1, "last_activity_date": 1472660094, "creation_date": 1450345176, "last_edit_date": 1450352731, "question_id": 34331198, "link": "https://stackoverflow.com/questions/34331198/perl-get-the-user-name-and-group-name-from-stat-commad", "title": "Perl: Get the user name and group name from stat commad", "body": "<p>Here is the code snippet I am using and I am unable to get the user name and group name for the required file.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Data::Dumper;\nuse File::stat;\n$somedir = '/var/vob/icc_shantesh/';\n$file = $somedir.\"power.log\";\n\nmy $gid = stat($file1)-&gt;gid;\nmy $uid = stat($file1)-&gt;uid;\n\nprint \"User Id : $uid Group Id : $gid\";\n</code></pre>\n\n<p>ouptut:\n      User id : 23489\n      Group Id : 29023</p>\n\n<p>How can I get user name and group name as well ?</p>\n"}, {"tags": ["linux", "perl", "unit-testing", "testing", "mocking"], "comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1450345115, "post_id": 34330666, "comment_id": 56403799, "body": "It has to do with the order. If you put the BEGIN block above abcd it works as you expect."}, {"owner": {"reputation": 1393, "user_id": 2535843, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ijgr5.png?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/2535843/mahdi"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1450402043, "post_id": 34330666, "comment_id": 56435992, "body": "@bolav yes. That&#39;s right but in a big project with thousands of files, this is not possible as the perl module may have loaded Test::MockTime at any place in the file (And that&#39;s the situation I am confronted with)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1450452300, "post_id": 34330666, "comment_id": 56459204, "body": "&quot;the perl module may have loaded Test::MockTime at any place in the file&quot; Just make sure you have <code>use Test::MockTime;</code> in your script before any other <code>use Module;</code> statements. This will work even if your script uses modules that use other modules that use other modules."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1450375839, "post_id": 34332145, "comment_id": 56424258, "body": "The issue isn&#39;t actually the placement of the <code>BEGIN</code> block, it&#39;s the placement of <code>use Test::MockTime;</code>"}], "tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 1, "last_activity_date": 1450347793, "last_edit_date": 1495540338, "creation_date": 1450347793, "answer_id": 34332145, "question_id": 34330666, "link": "https://stackoverflow.com/questions/34330666/testmocktime-does-not-mock-time-in-certain-cases/34332145#34332145", "title": "Test::MockTime does not mock time in certain cases", "body": "<p>You can see <a href=\"https://stackoverflow.com/questions/3998619/what-is-the-role-of-the-begin-block-in-perl\">this answer</a> to better understand how a BEGIN block woks.</p>\n\n<p>The point here is that it's executed before the main body, but it also has to be compiled. This means that the order in which you put your declarations and your BEGIN block is relevant.</p>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 2, "last_activity_date": 1450375738, "last_edit_date": 1450375738, "creation_date": 1450375310, "answer_id": 34341295, "question_id": 34330666, "link": "https://stackoverflow.com/questions/34330666/testmocktime-does-not-mock-time-in-certain-cases/34341295#34341295", "title": "Test::MockTime does not mock time in certain cases", "body": "<p>The <a href=\"https://metacpan.org/pod/Test::MockTime#DESCRIPTION\" rel=\"nofollow\">documentation</a> for Test::MockTime explains that \"it overrides <code>localtime</code>, <code>gmtime</code> and <code>time</code> <strong>at compile time</strong>.\" So:</p>\n\n<pre><code>print \"Before: \" . time; # Uses CORE::time()\n\nuse Test::MockTime;      # Override time()\n\nprint \"After: \" . time;  # Uses overridden time()\n</code></pre>\n\n<p>You can see this using <a href=\"https://metacpan.org/pod/B::Deparse\" rel=\"nofollow\">B::Deparse</a>:</p>\n\n<pre><code>$ perl -MO=Deparse foo\nprint 'Before: ' . time;\nuse Test::MockTime;\nprint 'After: ' . &amp;CORE::GLOBAL::time();\nfoo syntax OK\n</code></pre>\n\n<p>The second call to <code>time()</code> actually uses <code>CORE::GLOBAL::time()</code>, which is the overridden version.</p>\n\n<hr>\n\n<p>To fix, make sure Test::MockTime is compiled before you call <code>time()</code>:</p>\n\n<pre><code>package mocker;\n\nuse strict;\nuse warnings;\n\nuse Test::MockTime qw(set_absolute_time restore_time);\n\nsub abcd {\n    print \"in abcd, time is \" . time . \"\\n\";\n}\n\nBEGIN {\n    set_absolute_time(0);\n};\n\nsub do_mock {\n    print \"Current epoch in do_mock is: \" . time . \"\\n\";\n    abcd;\n    restore_time();\n}\n\n1;\n</code></pre>\n"}], "owner": {"reputation": 1393, "user_id": 2535843, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ijgr5.png?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/2535843/mahdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 2, "accepted_answer_id": 34341295, "answer_count": 2, "score": 3, "last_activity_date": 1450375738, "creation_date": 1450343502, "question_id": 34330666, "link": "https://stackoverflow.com/questions/34330666/testmocktime-does-not-mock-time-in-certain-cases", "title": "Test::MockTime does not mock time in certain cases", "body": "<p>I have a very simple script which mocks time using Test::MockTime, but the output of <code>time</code> call is different in two parts of the code.\nHere is the script:</p>\n\n<pre><code>package mocker;\n\nuse strict;\nuse warnings;\n\nsub abcd {\n    print \"in abcd, time is \" . time . \"\\n\";\n}\n\nBEGIN {\n    use Test::MockTime qw(set_absolute_time restore_time);\n    set_absolute_time(0);\n};\n\nsub do_mock {\n    print \"Current epoch in do_mock is: \" . time . \"\\n\";\n    abcd;\n    restore_time();\n}\n\n1;\n</code></pre>\n\n<p>I call <code>mocker::do_mock</code> in my script:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse mocker;\n\nmocker::do_mock;\n</code></pre>\n\n<p>I expect output to have \"0\" as current time in both print statements but strangely I have this output:</p>\n\n<pre><code>Current epoch in do_mock is: 0\nin abcd, time is 1450343385\n</code></pre>\n\n<p>So, WHY in <code>abcd</code> time is restored to current time?</p>\n"}, {"tags": ["xml", "perl", "foreach"], "comments": [{"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 1, "creation_date": 1450337488, "post_id": 34328857, "comment_id": 56399304, "body": "I think the barewords warning is because you assign &quot;add&quot; to a variable without quotes or anything. &quot;add&quot; isn&#39;t a keyword. This applies to all following vars too."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450338206, "post_id": 34328965, "comment_id": 56399693, "body": "I still am little confused, can you please give an example by storing it in an array(by reference). unfortunately Hash::Multivalue module is not installed, requires admin permission @Ted Hopp"}, {"owner": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "reply_to_user": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 1, "creation_date": 1450338972, "post_id": 34328965, "comment_id": 56400127, "body": "@GRD - Take a look at <a href=\"http://stackoverflow.com/a/17571954/535871\">this answer</a>. You can also do a web search for <i>perl hash of arrays</i> to get lots of other code examples."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "reply_to_user": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 1, "creation_date": 1450344791, "post_id": 34328965, "comment_id": 56403540, "body": "@GRD, administrator permission is not required to use a module.  You can install it in a local folder you control, rather than the main module folder.  However, I would not use a module for this.  An array reference is the standard, easy solution to this problem (the module was designed to solve a problem related to a specific use case, which doesn&#39;t apply to your code)."}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450348060, "post_id": 34328965, "comment_id": 56405810, "body": "@TedHopp Is there any way just without using an array reference we can solve this, because I just tried it and I did get the output.The worst case scenario: Let&#39;s imagine that there can be multiple number of &quot;input&quot;, &quot;output&quot; or &quot;bidirection&quot;(shown in the snippet) , using an array reference would become tedious IMO!.  Any way around using &quot;foreach&quot; loops!"}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450348187, "post_id": 34328965, "comment_id": 56405896, "body": "@dan1111 thank you! I tried it, but I have another question directed to TedHopp. Any solution that can solve ? thanks"}, {"owner": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "reply_to_user": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 1, "creation_date": 1450371567, "post_id": 34328965, "comment_id": 56421752, "body": "@GRD - I assume that since you marked this solved that you figured things out. In my opinion, there&#39;s no better alternative than to store an array reference at each hash key. Populating the hash is not tedious because of Perl&#39;s <a href=\"http://perlmaven.com/autovivification\" rel=\"nofollow noreferrer\">autovivification</a> behavior, requiring only a minor change of syntax when storing values. And treating every stored value as an array ref means simply adding another loop level when you want to process those values. It&#39;s all pretty clean, once you get used to it."}, {"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450411646, "post_id": 34328965, "comment_id": 56438254, "body": "@TedHopp yes I figured a different approach and i&#39;m just comparing them right now! thank you for that info :)"}], "tags": [], "owner": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "is_accepted": true, "score": 7, "last_activity_date": 1450337501, "creation_date": 1450337501, "answer_id": 34328965, "question_id": 34328857, "link": "https://stackoverflow.com/questions/34328857/perl-foreach-loop/34328965#34328965", "title": "Perl: Foreach loop", "body": "<p>It has nothing to do with the <code>foreach</code> loop. The problem is how you are populating your <code>%top_in_ou_bi</code> hash. A hash can only contain a single value for each key. When you store multiple values under the key <code>\"input\"</code>, only the last one remains.</p>\n\n<p>The best you can do here is store an array (by reference) at each key rather than a scalar value. Or you can use a module like <a href=\"http://search.cpan.org/~aristotle/Hash-MultiValue-0.16/lib/Hash/MultiValue.pm\"><code>Hash::MultiValue</code></a>.</p>\n\n<p>To suppress the barewords warning, don't use barewords. Quote things (<code>'add'</code> instead of <code>add</code>, etc.) or declare variables (depending on what you're trying to accomplish).</p>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 0, "creation_date": 1450350991, "post_id": 34332854, "comment_id": 56407713, "body": "I have attached another edit in the snippet, any thoughts on that snippet! @Samiron"}, {"owner": {"reputation": 4830, "user_id": 1160106, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/forvP.jpg?s=128&g=1", "display_name": "Samiron", "link": "https://stackoverflow.com/users/1160106/samiron"}, "reply_to_user": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "edited": false, "score": 1, "creation_date": 1450351838, "post_id": 34332854, "comment_id": 56408207, "body": "Looking at <code>keys %$top_in</code> in your snippet. <code>$top_in</code> itself a hash here. Hence the problem still remained the same. If you want to change only the printing part of my answer, you need to use like <code>@$top_in</code>."}], "tags": [], "owner": {"reputation": 4830, "user_id": 1160106, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/forvP.jpg?s=128&g=1", "display_name": "Samiron", "link": "https://stackoverflow.com/users/1160106/samiron"}, "is_accepted": false, "score": 1, "last_activity_date": 1450349837, "creation_date": 1450349837, "answer_id": 34332854, "question_id": 34328857, "link": "https://stackoverflow.com/questions/34328857/perl-foreach-loop/34332854#34332854", "title": "Perl: Foreach loop", "body": "<p>If you think about the pattern of your data you will understand that either <code>input</code>, <code>output</code> or <code>bidirectional</code> may contain a list of group of properties. You also mentioned that </p>\n\n<blockquote>\n  <p>there can be multiple number of \"input\", \"output\" or \"bidirection\"</p>\n</blockquote>\n\n<p>In a comment of Ted Hopp's answer. It means you have such data which is a list by nature and to store such data the best structure is array. A very basic point of data structure. Ted Hopp has pointed out the original problem correctly. However, if you are unsure to write the proper code, following snippet might be helpful</p>\n\n<pre><code>use strict;\nuse XML::Simple;\nuse Data::Dumper;\n\nmy %top_in_ou_bi = ('input' =&gt; [], 'output' =&gt; [], 'bidirectional' =&gt; []);\npush @{$top_in_ou_bi{'input'}}, {name =&gt; 'add', 'new' =&gt; 'value'};\npush @{$top_in_ou_bi{'input'}}, {name =&gt; 'clk'};\npush @{$top_in_ou_bi{'input'}}, {name =&gt; 'dat_in'};\npush @{$top_in_ou_bi{'output'}}, {name =&gt; 'dat_out'};\npush @{$top_in_ou_bi{'bidirection'}}, {name =&gt; 'ctrl', 'something' =&gt; 'else'};\n\nforeach my $type(sort keys %top_in_ou_bi){\n    foreach my $properties (@{$top_in_ou_bi{$type}}){\n        foreach my $key (keys %$properties){\n            print \"$type $key: $$properties{$key}\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>bidirection name: ctrl\nbidirection something: else\ninput name: add\ninput new: value\ninput name: clk\ninput name: dat_in\noutput name: dat_out\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 5633632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GtjKO.jpg?s=128&g=1", "display_name": "Divox", "link": "https://stackoverflow.com/users/5633632/divox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 34328965, "answer_count": 2, "score": 0, "last_activity_date": 1450350912, "creation_date": 1450337077, "last_edit_date": 1450350912, "question_id": 34328857, "link": "https://stackoverflow.com/questions/34328857/perl-foreach-loop", "title": "Perl: Foreach loop", "body": "<p>Trying to extract information from a XML file using this piece of snippet, I'm not getting the desired output as intended and I know its something within the foreach loop, \n    -> My question how one can use the foreach loop in this case   </p>\n\n<pre><code> use strict;\n use XML::Simple;\n use Data::Dumper;\n\n my %top_in_ou_bi;\n $top_in_ou_bi{\"input\"}{name}=add;\n $top_in_ou_bi{\"input\"}{name}=clk;\n $top_in_ou_bi{\"input\"}{name}=dat_in;\n $top_in_ou_bi{\"output\"}{name}=dat_out;\n $top_in_ou_bi{\"bidirection\"}{name}=ctrl;\n\n foreach my $nam(sort keys %top_in_ou_bi){\n        foreach my $dat(keys %{$top_in_ou_bi{$nam}}){\n                print\"$nam $dat: $top_in_ou_bi{$nam}{$dat}\\n\";\n   }\n }\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>bidirection name: ctrl\ninput name: dat_in\noutput name: dat_out\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>bidirection name: ctrl\ninput name: dat_in\ninput name: clk\ninput name: add\noutput name: dat_out\n</code></pre>\n\n<p><em>also using \"use strict\" warns that barewords are not allowed, how one can surpass this warning!</em></p>\n\n<p>Thanks!</p>\n\n<p><strong><em>EDIT</em></strong></p>\n\n<p>I'd like to know if the below snippet is a valid one?</p>\n\n<pre><code>   my $top_in=$root_top-&gt;{input};\n   my $top_ou=$root_top-&gt;{output};\n   my $top_bi=$root_top-&gt;{bidirection};\n   foreach my $name(keys %$top_in)\n   {\n     print \"input $name\\n\";\n    }\n   foreach my $name(keys %$top_ou)\n   {\n     print \"output $top_ou-&gt;{name}\\n\";\n   }\n   foreach my $name(keys %$top_bi)\n   {\n     print \"bidirection $top_bi-&gt;{name}\\n\";\n   }\n</code></pre>\n"}, {"tags": ["perl", "timestamp"], "comments": [{"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1450413844, "post_id": 34328582, "comment_id": 56438811, "body": "My understanding about this code is that it should assign different time stamp for inputs at different time but somehow i am getting the same time stamp across all values - really need help   I tried with gmtime() function and even strftime(&quot;%Y-%m-%dT%H:%M:%S&quot;, localtime), nothing really worked."}], "answers": [{"comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1450337231, "post_id": 34328751, "comment_id": 56399175, "body": "FYI you may be able to shorten that format string to <code>&quot;%FT%T&quot;</code>.  The <code>%F</code> option is not available on all platforms though."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1450413731, "post_id": 34328751, "comment_id": 56438786, "body": "@Ken Schumack  i am getting this below error   Usage: POSIX::strftime(fmt, sec, min, hour, mday, mon, year, wday = -1, yday = -1, isdst = -1) at watcher_instance_8.pl line 229, &lt;LOG_place.log&gt; line 106."}, {"owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1450423563, "post_id": 34328751, "comment_id": 56442437, "body": "Hi @Shantesh did you use localtime in the call to strftime()? localtime is actually a Perl function not a variable I made up. I maybe should have used <code>localtime()</code> to be clearer. E.g: <code>print strftime(&quot;%Y-%m-%dT%H:%M:%S&quot;, localtime)&#39;</code> gives 2015-12-18T01:22:41 <code>print strftime(&quot;%Y-%m-%dT%H:%M:%S&quot;, junk)&#39;</code> gives the error:  Usage: POSIX::strftime(fmt, sec, min, hour, mday, mon, year, wday = -1, yday = -1, isdst = -1) at -e line 1.`"}], "tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": false, "score": 2, "last_activity_date": 1450425799, "last_edit_date": 1450425799, "creation_date": 1450336607, "answer_id": 34328751, "question_id": 34328582, "link": "https://stackoverflow.com/questions/34328582/real-time-stamp-in-perl-code/34328751#34328751", "title": "Real Time stamp in perl code", "body": "<p>How about a nice ISO timestamp?</p>\n\n<pre><code>use POSIX qw(strftime);\n\nif ($line =~ m/^Warning: (.*)$/)\n{\n    $subStepValues = {\n      Warning =&gt; $1,\n      Warning_timeStamp =&gt; strftime(\"%Y-%m-%dT%H:%M:%S\", localtime),\n    };\n    push @{$subsSteps-&gt;{'subStepValues'}}, $subStepValues;\n}\n</code></pre>\n\n<p>Here is a simple proof of concept from the command line using an empty file and running tail -f on it and then going to another terminal and appending a few lines to it in the manner <code>echo something &gt;&gt; log</code></p>\n\n<pre><code>schumack@daddyo2 12-18T1:57:23 338&gt; touch log\nschumack@daddyo2 12-18T1:57:26 339&gt; tail -f log | perl -lne 'BEGIN{use POSIX qw(strftime);}chomp; printf \"%s -- %s\\n\", strftime(\"%Y-%m-%dT%H:%M:%S\", localtime), $_;'\n2015-12-18T01:57:40 -- hello\n2015-12-18T01:57:46 -- line 2\n2015-12-18T01:57:50 -- line 3\n</code></pre>\n"}], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1450425799, "creation_date": 1450335946, "question_id": 34328582, "link": "https://stackoverflow.com/questions/34328582/real-time-stamp-in-perl-code", "title": "Real Time stamp in perl code", "body": "<p>Here's my perl code snippet</p>\n\n<pre><code>if($line =~ m/^Warning: (.*)$/){\n                $subStepValues = {\n                    Warning =&gt; $1,\n                    Warning_timeStamp =&gt; `date`,\n                };\n                push @{$subsSteps-&gt;{'subStepValues'}}, $subStepValues;\n}\n</code></pre>\n\n<p>I am parsing the output of tail -f from a file to my perl code and i am really interested to get the actual on the go time stamp, currently some how executing <code>date</code> is not working \nany other better suggestion?</p>\n"}, {"tags": ["perl", "asynchronous", "http-proxy", "mojolicious"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5689706, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YCb_kC8ngTA/AAAAAAAAAAI/AAAAAAAAAKE/fRKU34a1XM8/photo.jpg?sz=128", "display_name": "shu yun", "link": "https://stackoverflow.com/users/5689706/shu-yun"}, "edited": false, "score": 0, "creation_date": 1450778136, "post_id": 34344050, "comment_id": 56566826, "body": "Thank you very much. I store $ua in a hashtable, it&#39;s ok now. for the 1st problem, I don&#39;t know what i should do.    <code>my $ua = Mojo::UserAgent-&gt;new; $buffer{$client}{ua} = $ua;   my $tx = $buffer{$client}{ua}-&gt;start( Mojo::Transaction::HTTP-&gt;new(req=&gt;$request) =&gt;sub {my( $ua, $tx ) = @_;$stream-&gt;write( $tx-&gt;res-&gt;to_string );} }); </code>"}], "tags": [], "owner": {"reputation": 891, "user_id": 1936342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a294c91706727c611866ae6df25ba61?s=128&d=identicon&r=PG", "display_name": "Logioniz", "link": "https://stackoverflow.com/users/1936342/logioniz"}, "is_accepted": true, "score": 2, "last_activity_date": 1451287898, "last_edit_date": 1451287898, "creation_date": 1450385723, "answer_id": 34344050, "question_id": 34328152, "link": "https://stackoverflow.com/questions/34328152/perl-an-asynchronous-http-proxy-via-mojolicious/34344050#34344050", "title": "Perl: An asynchronous http proxy via mojolicious", "body": "<p>You have 2 problem:</p>\n\n<ol>\n<li>You try to call nonblocking variant of <code>$ua-&gt;start</code> when your code have blocking style. Function <code>handle_request</code> must have callback as parameter.\nIf you have chain of callback then the best way to implement it is to use  <code>Mojo::IOLoop::Delay</code>.</li>\n<li>When you create variable $ua in non-blocking style in sub <code>handle_request</code> then your variable is destoyed by garbage collector because first execute exit of sub <code>handle_request</code> and $ua destroyed, because it is local variable and then get answer from $ua. So you get <code>Premature connection close</code>. You need to save instance of $ua elsewhere to prevent such error.</li>\n</ol>\n\n<p><strong>Upd</strong>.<br>\nI <a href=\"https://gist.github.com/Logioniz/8bdd6bd8089837bfc7c0\" rel=\"nofollow\">write</a> bad variant of http/https proxy which work only via CONNECT method and have bug with not full first http message.</p>\n\n<p><strong>Upd</strong>.<br>\nI add another example of http/https proxy which correctly read first http message and work not only via CONNECT method.</p>\n\n<p><strong>Upd</strong>.<br>\nOh, author of the Mojo wrote <a href=\"https://github.com/kraih/mojo/blob/09579d3e596a0f66eb64e600f32e6a735ea9b36d/examples/connect-proxy.pl\" rel=\"nofollow\">example</a> of https proxy</p>\n"}], "owner": {"reputation": 33, "user_id": 5689706, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YCb_kC8ngTA/AAAAAAAAAAI/AAAAAAAAAKE/fRKU34a1XM8/photo.jpg?sz=128", "display_name": "shu yun", "link": "https://stackoverflow.com/users/5689706/shu-yun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 1, "accepted_answer_id": 34344050, "answer_count": 1, "score": 3, "last_activity_date": 1451287898, "creation_date": 1450334412, "last_edit_date": 1450776832, "question_id": 34328152, "link": "https://stackoverflow.com/questions/34328152/perl-an-asynchronous-http-proxy-via-mojolicious", "title": "Perl: An asynchronous http proxy via mojolicious", "body": "<p>I made a simple http proxy, it's work fine, but not fast, because in the function handle_request, I use</p>\n\n<pre><code>my $tx = $ua-&gt;start( Mojo::Transaction::HTTP-&gt;new(req=&gt;$request) );\n</code></pre>\n\n<p>to do the request, it's blocking.</p>\n\n<p>I try to use a callback like:</p>\n\n<pre><code>$ua-&gt;start( Mojo::Transaction::HTTP-&gt;new(req=&gt;$request) )=&gt;sub{ ... }\n</code></pre>\n\n<p>to make it's non-blocking, and then, got a mistake:</p>\n\n<pre><code>'error' =&gt; { 'message' =&gt; 'Premature connection close'}\n</code></pre>\n\n<p>I guess that's because function <code>handle_request</code> return immediately, it does not wait the callback to be finished. If I use semaphore to wait the callback, that's mean it's blocking again.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse utf8;\nuse Mojo::IOLoop::Server;\nuse Mojo::UserAgent;\nuse Mojo::Message::Response;\nuse Mojo::Message::Request;\nuse Mojo::Transaction::HTTP;\nuse Data::Dumper;\n\nbinmode STDOUT, \":encoding(UTF-8)\";\n\nmy %buffer;\n\nMojo::IOLoop-&gt;server( {port =&gt; 3128} =&gt; sub {\n    my ($loop, $stream, $client) = @_;\n\n    $stream-&gt;on(\n        read =&gt; sub {\n            my ($stream, $chunk) = @_;\n\n            my $buffer = $buffer{$client}{read_buffer} .= $chunk;\n\n            if ($buffer =~ /^GET\\s+|POST\\s+|HEAD\\s+(.*)\\r\\n\\r\\n$/i) {\n                $buffer{$client}{read_buffer} = '';\n                &amp;handle_request($client,$stream,$buffer);\n            }\n\n            elsif ($buffer =~ /^CONNECT\\s+(.*)\\r\\n\\r\\n$/i) {\n                $buffer{$client}{read_buffer} = '';\n                &amp;handle_connect($stream,$buffer);\n            }\n\n            elsif($buffer{$client}{connection})\n            {\n                $buffer{$client}{read_buffer} = '';\n                Mojo::IOLoop-&gt;stream($buffer{$client}{connection})-&gt;write($chunk);\n            }\n\n            if(length($buffer)&gt;= 20 *1024 * 1024) {\n                delete $buffer{$client};\n                Mojo::IOLoop-&gt;remove($client);\n                return;\n            }\n        });\n});\n\nsub handle_request{\n\n    my($client,$stream,$chunk) = @_;\n\n    my $request = Mojo::Message::Request-&gt;new;\n    $request = $request-&gt;parse($chunk);\n\n    my $ua = Mojo::UserAgent-&gt;new;\n    my $tx = $ua-&gt;start( Mojo::Transaction::HTTP-&gt;new(req=&gt;$request) );\n\n    $stream-&gt;write( $tx-&gt;res-&gt;to_string );\n}\n\nsub handle_connect{\n    my ($stream, $chunk) = @_;\n    my $request = Mojo::Message::Request-&gt;new;\n    my $ua = Mojo::UserAgent-&gt;new;\n\n    $request = $request-&gt;parse($chunk);\n\n    print Dumper($request);\n}\n\nMojo::IOLoop-&gt;start;\n</code></pre>\n\n<p>Hope to get some suggestions . </p>\n"}, {"tags": ["apache", "perl", "mingw", "msys"], "answers": [{"comments": [{"owner": {"reputation": 3213, "user_id": 1345414, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fbfb22cbccc5e6da3bc05277b76205d3?s=128&d=identicon&r=PG", "display_name": "user1345414", "link": "https://stackoverflow.com/users/1345414/user1345414"}, "edited": false, "score": 0, "creation_date": 1450330493, "post_id": 34326931, "comment_id": 56396252, "body": "I modified my article <code>encodinging</code> to <code>encoding</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3213, "user_id": 1345414, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fbfb22cbccc5e6da3bc05277b76205d3?s=128&d=identicon&r=PG", "display_name": "user1345414", "link": "https://stackoverflow.com/users/1345414/user1345414"}, "edited": false, "score": 0, "creation_date": 1450331200, "post_id": 34326931, "comment_id": 56396509, "body": "Adjusted answer for the new question"}, {"owner": {"reputation": 3213, "user_id": 1345414, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fbfb22cbccc5e6da3bc05277b76205d3?s=128&d=identicon&r=PG", "display_name": "user1345414", "link": "https://stackoverflow.com/users/1345414/user1345414"}, "edited": false, "score": 0, "creation_date": 1450332060, "post_id": 34326931, "comment_id": 56396819, "body": "Actually I have to migrate a web site from A to B. One of perl code which someone wrote includes <code>use encoding wq(utf8)</code>  When I tested B site this perl code didn\u2019t work by locating problem. So I made short code includes <code>use encoding wq(utf8)</code> to find the cause."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3213, "user_id": 1345414, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fbfb22cbccc5e6da3bc05277b76205d3?s=128&d=identicon&r=PG", "display_name": "user1345414", "link": "https://stackoverflow.com/users/1345414/user1345414"}, "edited": false, "score": 1, "creation_date": 1450332265, "post_id": 34326931, "comment_id": 56396891, "body": "That doesn&#39;t affect my answer, except to add: Why are you migrating to such ancient systems?????"}, {"owner": {"reputation": 3213, "user_id": 1345414, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fbfb22cbccc5e6da3bc05277b76205d3?s=128&d=identicon&r=PG", "display_name": "user1345414", "link": "https://stackoverflow.com/users/1345414/user1345414"}, "edited": false, "score": 0, "creation_date": 1450333566, "post_id": 34326931, "comment_id": 56397360, "body": "What is the matter if the system is ancient or design is flawed? If changing or updating the system and design is affect, I will add it on a list of solution."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3213, "user_id": 1345414, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fbfb22cbccc5e6da3bc05277b76205d3?s=128&d=identicon&r=PG", "display_name": "user1345414", "link": "https://stackoverflow.com/users/1345414/user1345414"}, "edited": false, "score": 1, "creation_date": 1450333751, "post_id": 34326931, "comment_id": 56397440, "body": "Did you seriously just ask what&#39;s wrong with using something buggy?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3213, "user_id": 1345414, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fbfb22cbccc5e6da3bc05277b76205d3?s=128&d=identicon&r=PG", "display_name": "user1345414", "link": "https://stackoverflow.com/users/1345414/user1345414"}, "edited": false, "score": 0, "creation_date": 1450334019, "post_id": 34326931, "comment_id": 56397568, "body": "I&#39;m also very surprised you don&#39;t see the problems with trying to get something ancient working. At the very least, it requires far far far more effort"}, {"owner": {"reputation": 3213, "user_id": 1345414, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fbfb22cbccc5e6da3bc05277b76205d3?s=128&d=identicon&r=PG", "display_name": "user1345414", "link": "https://stackoverflow.com/users/1345414/user1345414"}, "edited": false, "score": 0, "creation_date": 1450335367, "post_id": 34326931, "comment_id": 56398221, "body": "Yes exactly. And to be honest I\u2019m very beginner of perl too, needed much more effort as you said. What should I know at the first to have enough knowledge to fix this problem?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 2, "creation_date": 1450341367, "post_id": 34326931, "comment_id": 56401353, "body": "You should know that if you port software today, it&#39;s a bad idea to port it to <a href=\"http://dev.perl.org/perl5/news/2006/perl-5.8.8.html\" rel=\"nofollow noreferrer\">a version released in 2006</a> that has long fallen out of maintenance. It&#39;s is a bit like deciding to relocating your office to an abandoned office building."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1450370213, "last_edit_date": 1450370213, "creation_date": 1450328430, "answer_id": 34326931, "question_id": 34326717, "link": "https://stackoverflow.com/questions/34326717/how-to-locate-perl-module/34326931#34326931", "title": "How to locate perl module", "body": "<blockquote>\n  <p><em>encoding.pm is in C:\\usr\\lib\\perl5\\5.8\\msys\\Encode</em></p>\n</blockquote>\n\n<p>The file in that directory is named <code>Encoding.pm</code> (not <code>encoding.pm</code>), and it would be the <em>Encode::Encoding</em> module, not the <em>encoding</em> module.</p>\n\n<p>So it sounds like the module doesn't exist on your system. That's weird since it came with Perl 5.8, but then again, you're using an ancient port of an ancient version of Perl. On the plus side, the <em>encoding</em> module is dual-lived, so it can be installed without reinstalling all of Perl. How exactly to do that on msys, I can't help you.</p>\n\n<p>That it's not on your system isn't really a bad thing since you really shouldn't use that module anyway; its design is fundamentally flawed. However, without knowing what you are trying to achieve by using it, I can't tell you what you should be using instead.</p>\n"}], "owner": {"reputation": 3213, "user_id": 1345414, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fbfb22cbccc5e6da3bc05277b76205d3?s=128&d=identicon&r=PG", "display_name": "user1345414", "link": "https://stackoverflow.com/users/1345414/user1345414"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1450370278, "creation_date": 1450327108, "last_edit_date": 1450370278, "question_id": 34326717, "link": "https://stackoverflow.com/questions/34326717/how-to-locate-perl-module", "title": "How to locate perl module", "body": "<p>I use perl5.8.8 for msys on windows7 pro.</p>\n\n<p>I use this perl as CGI with Apache2.2 for windows.</p>\n\n<p>I take following error massage ..</p>\n\n<pre><code>Can't locate encoding.pm in @INC (@INC contains: \n   /usr/lib/perl5/5.8/msys\n   /usr/lib/perl5/5.8\n   /usr/lib/perl5/site_perl/5.8/msys\n   /usr/lib/perl5/site_perl/5.8\n   /usr/lib/perl5/site_perl/5.8\n   /usr/lib/perl5/vendor_perl/5.8/msys\n   /usr/lib/perl5/vendor_perl/5.8\n   /usr/lib/perl5/vendor_perl/5.8\n   .)\n</code></pre>\n\n<p>[Line breaks added for readability.]</p>\n\n<p>This is my code</p>\n\n<pre><code>#!/opt/gnu/bin/perl\nprint \"Content-type: text/plain; charset=iso-8859-1\\n\\n\";\nuse encoding qw(utf8);\n</code></pre>\n\n<p>encoding.pm is in <code>C:\\usr\\lib\\perl5\\5.8\\msys\\Encode</code> and there isn\u2019t any error message if I type from DOS prompt.</p>\n\n<pre><code>C:\\usr\\bin&gt;perl -e 'use encoding qw(utf-8)\nC:\\usr\\bin&gt;\n</code></pre>\n\n<p>Actually lib under \\usr is symbolic link to \\mingw\\msys\\1.0.\\lib</p>\n\n<p>How can I locate encoding.pm?</p>\n"}, {"tags": ["apache", "perl", "cgi"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1450327559, "post_id": 34326272, "comment_id": 56395395, "body": "Can you create a form that <code>POST</code>s to your script?"}], "answers": [{"comments": [{"owner": {"reputation": 3614, "user_id": 2162210, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/068a62666b7b37c473165dfe9ca1991f?s=128&d=identicon&r=PG", "display_name": "jake9115", "link": "https://stackoverflow.com/users/2162210/jake9115"}, "edited": false, "score": 0, "creation_date": 1450404340, "post_id": 34328005, "comment_id": 56436538, "body": "That is fantastic, thanks a lot. This is exactly what I needed!"}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 2, "last_activity_date": 1450333806, "creation_date": 1450333806, "answer_id": 34328005, "question_id": 34326272, "link": "https://stackoverflow.com/questions/34326272/how-to-obtain-user-input-from-perl-script-running-in-apache-web-server/34328005#34328005", "title": "How to obtain user input from perl script running in apache web server?", "body": "<p>Here's a script to get you started using CGI.pm to access parameters from the submitted form. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse CGI qw(escapeHTML);\n#use CGI::Carp qw(fatalsToBrowser);\n\nmy $q = CGI-&gt;new;\n\nmy $text = $q-&gt;param('text') || '';\n\nprint $q-&gt;header('text/html; charset=utf-8');\n\nmy $safe_text = escapeHTML($text);\n\nprint &lt;&lt;\"EOF\";\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;Hello, world!&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n  &lt;h1&gt;Hello, world!&lt;/h1&gt;\n  &lt;div&gt;$safe_text&lt;/div&gt;\n\n  &lt;form method=\"post\"&gt;\n    &lt;textarea name=\"text\" rows=\"5\" cols=\"40\"&gt;$safe_text&lt;/textarea&gt;&lt;br&gt;\n    &lt;input type=\"submit\" value=\"Submit\"&gt;\n  &lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\nEOF\n</code></pre>\n\n<p>CGI.pm is not really a recommended way to build a web application but it sounds like you're having fun so go for it.  Try removing the '#' on the <code>use CGI::Carp</code> line.  If the script still runs then leave it that way so you'll get some error messages in the browser.  You'll also want to run this command to look for errors:</p>\n\n<pre><code>tail -f /var/log/apache2/error.log\n</code></pre>\n"}], "owner": {"reputation": 3614, "user_id": 2162210, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/068a62666b7b37c473165dfe9ca1991f?s=128&d=identicon&r=PG", "display_name": "jake9115", "link": "https://stackoverflow.com/users/2162210/jake9115"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 34328005, "answer_count": 1, "score": 1, "last_activity_date": 1450333806, "creation_date": 1450323937, "question_id": 34326272, "link": "https://stackoverflow.com/questions/34326272/how-to-obtain-user-input-from-perl-script-running-in-apache-web-server", "title": "How to obtain user input from perl script running in apache web server?", "body": "<p>I have a raspberry pi running the latest Raspbian image with apache2 installed. I have a perl script in my /usr/lib/cgi-bin directory that I am using on a local, ad-hoc network without internet access.</p>\n\n<p>Here is my perl file:</p>\n\n<pre><code>#!/usr/bin/perl\nprint \"Content-type: text/html\\n\\n\";\n$config=`cat /home/pi/Desktop/AutoPi/AutoPi.config`;\nprint &lt;&lt;\"EOF\";\n&lt;HTML&gt;\n&lt;HEAD&gt;\n&lt;TITLE&gt;Hello, world!&lt;/TITLE&gt;\n&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;H1&gt;Hello, world!&lt;/H1&gt;\n&lt;br&gt;&lt;br&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;\nEOF\n</code></pre>\n\n<p>This works great, and I can use perl system commands, like:</p>\n\n<pre><code>$my_dir=`pwd`;\n</code></pre>\n\n<p>...and pass them to the webpage that the user sees. This is great. However, I need to be able to have the user click a button and execute code as well.</p>\n\n<p>I am comfortable using perl, and want to keep everything in the perl file if possible. If I can just program a simple button that, upon being pressed, can execute a simple command server side, I can do the rest.</p>\n"}, {"tags": ["regex", "perl", "shell", "unix", "awk"], "comments": [{"owner": {"reputation": 695058, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1450323599, "post_id": 34326202, "comment_id": 56394351, "body": "Those are perfectly valid email addresses. And that regex has many false negatives and false positives."}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 2, "creation_date": 1450323608, "post_id": 34326202, "comment_id": 56394353, "body": "Okay. Do you have a question? No one is going to write your code for you."}, {"owner": {"reputation": 2580, "user_id": 988525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/487zi.jpg?s=128&g=1", "display_name": "Ian McGowan", "link": "https://stackoverflow.com/users/988525/ian-mcgowan"}, "edited": false, "score": 0, "creation_date": 1450323715, "post_id": 34326202, "comment_id": 56394393, "body": "I will! Just let me know where to send the invoice first..."}, {"owner": {"reputation": 1, "user_id": 5614969, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J_mg76bUT2g/AAAAAAAAAAI/AAAAAAAABGE/Y2X1ewxZZY0/photo.jpg?sz=128", "display_name": "Sreenath", "link": "https://stackoverflow.com/users/5614969/sreenath"}, "edited": false, "score": 0, "creation_date": 1450324283, "post_id": 34326202, "comment_id": 56394554, "body": ":) I understand that Jordan. I am stuck up at finding the expression which exactly picks the valid email address, and also regex shouldn&#39;t look ugly.I just need the one line snippet of finding it and redirecting it to a txt file."}, {"owner": {"reputation": 22752, "user_id": 2767207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/9g4XT.png?s=128&g=1", "display_name": "Jojodmo", "link": "https://stackoverflow.com/users/2767207/jojodmo"}, "edited": false, "score": 0, "creation_date": 1450324368, "post_id": 34326202, "comment_id": 56394579, "body": "There is no good regex for validating email addresses - they are too complicated. You should take a look at <a href=\"http://stackoverflow.com/a/201378/2767207\">this</a>"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1450331051, "post_id": 34326202, "comment_id": 56396450, "body": "@Sreenath step 1 is you have to figure out how to as a question. That would include a description of your task, the specific question(s) you have, what you have tried so far and concise testable sample input and expected output."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1450364308, "post_id": 34326202, "comment_id": 56416522, "body": "Use <a href=\"http://search.cpan.org/~rjbs/Email-Valid-1.198/lib/Email/Valid.pm\" rel=\"nofollow noreferrer\">Email::Valid</a>. (Disclaimer: I&#39;ve contributed to the module over the years, but it&#39;s a very good one)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5614969, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J_mg76bUT2g/AAAAAAAAAAI/AAAAAAAABGE/Y2X1ewxZZY0/photo.jpg?sz=128", "display_name": "Sreenath", "link": "https://stackoverflow.com/users/5614969/sreenath"}, "edited": false, "score": 0, "creation_date": 1450325791, "post_id": 34326477, "comment_id": 56394936, "body": "John, I have seen people entering abc#cv@xyz.com OR abc$cd@xyz.com --- want to avoid these, hence simply concentrating on &#39;@&#39; will not work for me.Moreover its a huge file of 20GB, hence dont want to try the &#39;acknowledgement method&#39;.How about the performance using perl , is it better than grep ?Can we use a combination of PERL-AWK ?"}, {"owner": {"reputation": 205167, "user_id": 4323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qqgFU.png?s=128&g=1", "display_name": "John Zwinck", "link": "https://stackoverflow.com/users/4323/john-zwinck"}, "reply_to_user": {"reputation": 1, "user_id": 5614969, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J_mg76bUT2g/AAAAAAAAAAI/AAAAAAAABGE/Y2X1ewxZZY0/photo.jpg?sz=128", "display_name": "Sreenath", "link": "https://stackoverflow.com/users/5614969/sreenath"}, "edited": false, "score": 0, "creation_date": 1450325903, "post_id": 34326477, "comment_id": 56394967, "body": "Who cares if someone enters <code>abc#cv@xyz.com</code>?  That email address may not be usable to contact them, but neither will be <code>abccv@xyz.com</code>.  That is, you&#39;re not going  to be able to turn &quot;bad&quot; email addresses into &quot;good&quot; ones this way, so why bother?  What&#39;s the benefit?  As for the performance of Perl, it doesn&#39;t matter, any of these tools will easily process 20 GB of text in less than an hour so it makes no difference which one you use in terms of performance.  A simple <code>grep @</code> will be lightning fast and give you 99% of the benefits."}, {"owner": {"reputation": 1, "user_id": 5614969, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J_mg76bUT2g/AAAAAAAAAAI/AAAAAAAABGE/Y2X1ewxZZY0/photo.jpg?sz=128", "display_name": "Sreenath", "link": "https://stackoverflow.com/users/5614969/sreenath"}, "edited": false, "score": 0, "creation_date": 1450326836, "post_id": 34326477, "comment_id": 56395207, "body": "No, my idea is not to make bad email address(text) to good one.But to identify incorrectly formatted (out of format) email id - and to conatct customer via SMS and ask them to update us with correct (valid format) email address, doesn&#39;t matter if it is abc@xyz.com OR a.b.c@xyz.com"}, {"owner": {"reputation": 205167, "user_id": 4323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qqgFU.png?s=128&g=1", "display_name": "John Zwinck", "link": "https://stackoverflow.com/users/4323/john-zwinck"}, "reply_to_user": {"reputation": 1, "user_id": 5614969, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J_mg76bUT2g/AAAAAAAAAAI/AAAAAAAABGE/Y2X1ewxZZY0/photo.jpg?sz=128", "display_name": "Sreenath", "link": "https://stackoverflow.com/users/5614969/sreenath"}, "edited": false, "score": 0, "creation_date": 1450327131, "post_id": 34326477, "comment_id": 56395284, "body": "OK, so instead of doing that, just wait until you have an actual email you need to send to the user.  Send it.  If you get a bounce back or other error, then SMS the user to notify them that the email failed.  Easy, efficient, doesn&#39;t annoy users unnecessarily."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 2, "creation_date": 1450331080, "post_id": 34326477, "comment_id": 56396463, "body": "<code>abc$cd@xyz.com</code> is a perfectly valid address."}], "tags": [], "owner": {"reputation": 205167, "user_id": 4323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qqgFU.png?s=128&g=1", "display_name": "John Zwinck", "link": "https://stackoverflow.com/users/4323/john-zwinck"}, "is_accepted": false, "score": 0, "last_activity_date": 1450325771, "last_edit_date": 1450325771, "creation_date": 1450325415, "answer_id": 34326477, "question_id": 34326202, "link": "https://stackoverflow.com/questions/34326202/catch-invalid-email-address-in-a-text-file/34326477#34326477", "title": "Catch invalid email address in a text file", "body": "<p>You should not use regex to validate email addresses.  For the most part, you don't need to fully validate email addresses by syntax--it isn't useful.</p>\n\n<p>First, accept as valid any address which contains an <code>@</code> character.  This will reject 99% of \"random noise.\"</p>\n\n<p>Then, if you want to know if an address is truly <em>valid</em>, send an email to it!  If you get a positive acknowledgement, such as the user clicking a verification link contained in the email, it is valid.</p>\n\n<p>If you do it based on syntax alone, you will accept obviously-bad addresses like nobody@example.com.  And you will accept email addresses from providers which have long since gone out of business (making the address \"not usable\" despite being syntactically \"valid\").</p>\n"}], "owner": {"reputation": 1, "user_id": 5614969, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J_mg76bUT2g/AAAAAAAAAAI/AAAAAAAABGE/Y2X1ewxZZY0/photo.jpg?sz=128", "display_name": "Sreenath", "link": "https://stackoverflow.com/users/5614969/sreenath"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 678, "favorite_count": 0, "closed_date": 1450330981, "answer_count": 1, "score": -4, "last_activity_date": 1450538502, "creation_date": 1450323454, "last_edit_date": 1450538502, "question_id": 34326202, "link": "https://stackoverflow.com/questions/34326202/catch-invalid-email-address-in-a-text-file", "closed_reason": "Duplicate", "title": "Catch invalid email address in a text file", "body": "<p>My requirement:</p>\n\n<p>I have a 20GB txt file which is tab-delimited.I want to use PERL/AWK(or grep) to see if the email address in the 'nth column' is valid one or not.(Regex --->/^(\\w|-|_|.)+\\@((\\w|-|_)+.)+[a-zA-Z]{2,}$/  should be ok, but no consecutuve '..' OR'underscores'  eg: abc..cd@xyz.com should be invalid, also abc__cd@xyz.com should be invalid as well).If the email address is valid redirect it to valid_email.txt if invalid redirect it to invalid_email.txt.The emphasis is to catch all invalid email address - with better performance- as the file size will grow further at a future date.</p>\n\n<h1>Edit/Update:</h1>\n\n<p>Does the below piece of code do - which can catch atleast 99% of invalid email address formats?OR does it need any further modification? Kindly feel free to post your opinons and suggestions.</p>\n\n<p>To pull out Valid Email ID</p>\n\n<p>grep -E -o \"\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,6}\\b\" Raw_file.txt >Valid_Email_List.txt   (where Rawfile.txt contains only email addresses)</p>\n"}, {"tags": ["perl", "recursion", "anonymous-function"], "comments": [{"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 0, "creation_date": 1450317608, "post_id": 34325377, "comment_id": 56392639, "body": "You&#39;re mixing up your two functions.  The sub <code>fact</code> only takes a single number <i>n</i>, and returns <i>n</i>!. You need to define a separate function that <i>uses</i> <code>fact</code> to compute the original sum, and call that."}, {"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 0, "creation_date": 1450317841, "post_id": 34325377, "comment_id": 56392704, "body": "Also, if you are really supposed to make a function that is both anonymous and recursive, you will need to use some sort of zero-point combinator."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 0, "creation_date": 1450322145, "post_id": 34325377, "comment_id": 56393933, "body": "@Mark Reed, It&#39;s far easier to just temporarily create a name for the recursive sub when it&#39;s being executed: <code>sub { local *_r = sub { ... _r(...) ... }; _r(@_) }</code>."}], "answers": [{"comments": [{"owner": {"reputation": 130, "user_id": 2437599, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WWK3O.jpg?s=128&g=1", "display_name": "ChathuraG", "link": "https://stackoverflow.com/users/2437599/chathurag"}, "edited": false, "score": 1, "creation_date": 1450320414, "post_id": 34325754, "comment_id": 56393446, "body": "Wow ! awesome. You are a genius. !"}, {"owner": {"reputation": 130, "user_id": 2437599, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WWK3O.jpg?s=128&g=1", "display_name": "ChathuraG", "link": "https://stackoverflow.com/users/2437599/chathurag"}, "edited": false, "score": 0, "creation_date": 1450320638, "post_id": 34325754, "comment_id": 56393512, "body": "<b>SUB</b>-&gt;($x, $n-1) , can you explain about this part. or add link to a tutorial to know this ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 130, "user_id": 2437599, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WWK3O.jpg?s=128&g=1", "display_name": "ChathuraG", "link": "https://stackoverflow.com/users/2437599/chathurag"}, "edited": false, "score": 0, "creation_date": 1450320892, "post_id": 34325754, "comment_id": 56393577, "body": "<a href=\"http://perldoc.perl.org/functions/__SUB__.html\" rel=\"nofollow noreferrer\"><code>__SUB__</code></a> returns a reference to the currently executing sub."}, {"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 1, "creation_date": 1450321900, "post_id": 34325754, "comment_id": 56393864, "body": "And <code>-&gt;()</code> is how you call a subroutine through a reference; you would need to call <code>$f-&gt;(3,5)</code> to use ikegami&#39;s implementation with your sample inputs, for example."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1450322732, "last_edit_date": 1450322732, "creation_date": 1450320168, "answer_id": 34325754, "question_id": 34325377, "link": "https://stackoverflow.com/questions/34325377/recursive-anonymous-function-to-calculate-series-sum/34325754#34325754", "title": "recursive anonymous function to calculate series sum", "body": "<p>First of all, always use </p>\n\n<pre><code>use strict;\nuse warnings qw( all );\n</code></pre>\n\n<p>It would have caught one of your errors.</p>\n\n<hr>\n\n<p>Secondly, you misnamed your sub, you missed a <code>my</code>, and you invented a special case (since <code>($x**1)/1! == $x</code>)<sup>[1]</sup>. Ignoring the need to make it anonymous for now, <code>f</code> is simply:</p>\n\n<pre><code>sub f {\n   my ($x, $n) = @_;\n   return 1 if $n == 0;\n   return ($x**$n) / fact($x) + f($x, $n-1);\n}\n</code></pre>\n\n<p>Similarly, <code>fact</code> is simply:</p>\n\n<pre><code>sub fact {\n   my ($n) = @_;\n   my $acc = 1;\n   $acc *= $_ for 1..$n;\n   return $acc;\n}\n</code></pre>\n\n<hr>\n\n<p>On to the question, making a recursive function anonymous is just a question of replacing the recursive calls with <code>__SUB__-&gt;(...)</code><sup>[2]</sup>, so the following is the anonymous version:</p>\n\n<pre><code>use feature qw( current_sub );\n\nmy $f = sub {\n   my ($x, $n) = @_;\n   return 1 if $n == 0;\n   return ($x**$n) / fact($x) + __SUB__-&gt;($x, $n-1);\n};\n</code></pre>\n\n<p>And if you wanted <code>fact</code> to be anonymous too,</p>\n\n<pre><code>use feature qw( current_sub );\n\nmy $f = sub {\n   my ($x, $n) = @_;\n   return 1 if $n == 0;\n\n   my $fact = sub {\n      my ($n) = @_;\n      my $acc = 1;\n      $acc *= $_ for 1..$n;\n      return $acc;\n   };\n\n   return ($x**$n) / $fact-&gt;($x) + __SUB__-&gt;($x, $n-1);\n};\n</code></pre>\n\n<hr>\n\n<p>That said, using recursion is a <em>huge</em> waste for this function. Here's an efficient implementation:</p>\n\n<pre><code>my $f = sub {\n   my ($x, $n) = @_;\n\n   my $acc             = 1;\n   my $numerator_acc   = 1;\n   my $denominator_acc = 1;\n   for (1..$n) {\n      $numerator_acc   *= $x;\n      $denominator_acc *= $_;\n      $acc += ( $numerator_acc / $denominator_acc );\n   }\n\n   return $acc;\n};\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>Technically, you invented two since <code>($x**0)/0! == 1</code>, but <code>$n == 0</code> has to be treated specially to some extent no matter what.</p></li>\n<li><p><code>__SUB__</code> was introduced in Perl 5.16. It was more complicated before that if you wanted to avoid memory leaks.</p></li>\n</ol>\n"}], "owner": {"reputation": 130, "user_id": 2437599, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WWK3O.jpg?s=128&g=1", "display_name": "ChathuraG", "link": "https://stackoverflow.com/users/2437599/chathurag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 34325754, "answer_count": 1, "score": 1, "last_activity_date": 1450322732, "creation_date": 1450317209, "last_edit_date": 1450319055, "question_id": 34325377, "link": "https://stackoverflow.com/questions/34325377/recursive-anonymous-function-to-calculate-series-sum", "title": "recursive anonymous function to calculate series sum", "body": "<p>I tried to write a function to compute following,\n<a href=\"https://i.stack.imgur.com/0VESI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0VESI.png\" alt=\"enter image description here\"></a></p>\n\n<p>all I could come up with was this, which does not work.</p>\n\n<pre><code>$fact = sub {\n    $n = shift;\n    if($n==0 || $n ==1){\n        return 1;\n    }else{\n        return $n*&amp;$fact($n-1);\n    }\n}\n\nsub fun{\n    ($x,$n)= @_;\n    if($n==0){\n        return 1;\n    }elsif($n == 1){\n        return $x;\n    }else{\n        return ($x)/&amp;$fact($n)+fun($x,$n-1);\n    }\n}\n\n\n\nprint (fun(3,5));\n</code></pre>\n"}]