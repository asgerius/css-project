[{"tags": ["perl", "substr"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1561582386, "creation_date": 1561582386, "answer_id": 56780739, "question_id": 56780646, "link": "https://stackoverflow.com/questions/56780646/how-to-extract-a-value-from-a-variable-within-if-condition/56780739#56780739", "title": "How to extract a value from a variable within if condition", "body": "<p>Two problems:</p>\n\n<ol>\n<li><p><code>=~</code> is the binding operator, you probably want normal assignment.</p></li>\n<li><p><code>substr $ts, 10</code> returns the substring form position 10 to the end of $ts. To only extract 12 characters, use</p>\n\n<pre><code>$ts = substr $ts, 10, 12;\n</code></pre></li>\n</ol>\n\n<p>You can also extract the timestamp directly:</p>\n\n<pre><code>if(my ($ts) = /timestamp: [^_]+_(\\S+)/){\n    print $ts, \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 2, "last_activity_date": 1561582434, "creation_date": 1561582434, "answer_id": 56780745, "question_id": 56780646, "link": "https://stackoverflow.com/questions/56780646/how-to-extract-a-value-from-a-variable-within-if-condition/56780745#56780745", "title": "How to extract a value from a variable within if condition", "body": "<p>Several issues: </p>\n\n<ol>\n<li>You are using the bind operator <code>=~</code> instead of the assignment operator <code>=</code></li>\n<li>You should always <code>use strict</code> and <code>use warnings</code></li>\n<li>You should ignore whitespace before your match</li>\n<li>If there is additional data on the line, <code>substr</code> will return it as well. You should scope your <code>substr</code> to only include want you want. </li>\n</ol>\n\n<p>Revised code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile(&lt;DATA&gt;) {\n  chomp;\n  if (/timestamp:\\s*(.+$)/) {\n    my $ts = substr($1, 10, 12); # only include length of data you want\n    print $ts;\n  }\n}\n\n__DATA__\ntimestamp: 25JUN2019_02:55:02.234\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>02:55:02.234\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 56780745, "answer_count": 2, "score": 0, "last_activity_date": 1561589976, "creation_date": 1561582006, "last_edit_date": 1561589976, "question_id": 56780646, "link": "https://stackoverflow.com/questions/56780646/how-to-extract-a-value-from-a-variable-within-if-condition", "title": "How to extract a value from a variable within if condition", "body": "<p>I am trying to extract the timestamp portion from the variable, but somehow the substr function isnt working</p>\n\n<p>This is what I have tried</p>\n\n<pre><code>while(&lt;INFILE&gt;){\nchomp;\nif(/timestamp:(.+$)/){\n                        $ts = $1;\n                        $ts =~ substr($ts, 10);\nprint $ts;\n}\n\nclose(INFILE);\n</code></pre>\n\n<p>This is how the line is in the file</p>\n\n<pre><code>timestamp: 25JUN2019_02:55:02.234\nsomedata..\n..\n..\n..\n\ntimestamp: 25JUN2019_07:00:28.718\n</code></pre>\n\n<p>I want the output to be</p>\n\n<pre><code>02:55:02.234\n07:00:28.718\n</code></pre>\n\n<p>But instead the output is </p>\n\n<pre><code>25JUN2019_02:55:02.234\n25JUN2019_07:00:28.718\n</code></pre>\n"}, {"tags": ["perl", "unicode", "sybase"], "comments": [{"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 1, "creation_date": 1561580496, "post_id": 56780060, "comment_id": 100115662, "body": "@H&#229;konH&#230;gland - a bunch of bytes for the string, with &quot;<code>.E2.82.AC.</code>&quot; for the Euro character (which is a correct UTF8 set of bytes for it)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1561580760, "post_id": 56780060, "comment_id": 100115790, "body": "Have you tried <a href=\"https://metacpan.org/pod/DBD::Sybase\" rel=\"nofollow noreferrer\"><code>syb_enable_utf8()</code></a>?"}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561581038, "post_id": 56780060, "comment_id": 100115918, "body": "@H&#229;konH&#230;gland no but don&#39;t they only apply to UNI* types?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1561581714, "post_id": 56780060, "comment_id": 100116184, "body": "Note that direct printing is never a good debugging tool for encoding issues. Your terminal expects a certain encoding (usually UTF-8) so that adds an additional layer to consider for any debugging (literally, if STDOUT has layers applied). Better is to print the ordinals of the string&#39;s character contents, which you can get in a nice dot-separated hex form using <code>sprintf &#39;%vX&#39;, $string</code>."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1561582025, "post_id": 56780060, "comment_id": 100116309, "body": "Also note that the is_utf8 function has a misleading name and only indicates what the internal representation of the string is; it does not say anything about whether your string contains Unicode characters or bytes of some encoding as visible to Perl code. You can easily have a string of characters with the is_utf8 flag off provided they are all representable in your native single-byte encoding; or a string of random bytes can have the is_utf8 flag on, because some code ran utf8::upgrade or some XS code behaved weirdly or it&#39;s decoded from double-encoded characters."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1561582139, "post_id": 56780060, "comment_id": 100116355, "body": "All that to say, you didn&#39;t necessarily use it wrong here, but the logical contents of the string are wrong, not just the internal representation."}], "owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561578762, "creation_date": 1561578762, "question_id": 56780060, "link": "https://stackoverflow.com/questions/56780060/why-isnt-unicode-string-retrived-from-sybase-register-in-perl-as-unicode", "title": "Why isn&#39;t Unicode string retrived from Sybase register in Perl as Unicode?", "body": "<p>I have a string in a VARCHAR() column in a table in Sybase database which contains Unicode characters.</p>\n\n<p>When I try to get that string, it gets returned, BUT, the UTF8 flag isn't set on it</p>\n\n<pre><code>my $sql = qq[select x from my_table where id=something];\nmy $sth = $dbHdl-&gt;prepare($sql);\neval { $results = $sth-&gt;execute() };\n$cols = $sth-&gt;{NAME};\n$results = $sth-&gt;fetchall_arrayref({});\n</code></pre>\n\n<p>When I print $results from above code, it prints correct Unicode character:</p>\n\n<pre><code>  DB&lt;4&gt; x $results\n0  ARRAY(0x93b02c0)\n   0  HASH(0xbcf3700)\n      'x' =&gt; 'Prefix \u20ac Suffix'\n</code></pre>\n\n<p>However, <strong><em>a check for whether it's a UTF8 string, returns false:</em></strong></p>\n\n<pre><code>  DB&lt;8&gt; x Encode::is_utf8($results-&gt;[0]-&gt;{x})\n0  ''\n</code></pre>\n\n<p>As an extra check, <code>length()</code> call shows <code>17</code> instead of <code>15</code> as Unicode string would show.</p>\n\n<p>What am I doing wrong? Do I need to change the connection string somehow?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1561578804, "post_id": 56779917, "comment_id": 100115191, "body": "Please avoid using <code>$a</code> and <code>$b</code>; these are used by <code>sort</code> and others, and declaring them as lexical variables could negatively affect calls you later add to your code."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561578815, "post_id": 56779962, "comment_id": 100115192, "body": "Re &quot;<i>Math::BigInt objects overload comparison operators</i>&quot;, Meaning that <code>$bInt &lt; $a</code> is equivalent to <code>$bInt-&gt;blt($a)</code>."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 2, "last_activity_date": 1561578021, "creation_date": 1561578021, "answer_id": 56779962, "question_id": 56779917, "link": "https://stackoverflow.com/questions/56779917/comparison-of-mathbigint-with-scalars-in-perl/56779962#56779962", "title": "Comparison of Math::BigInt with scalars in Perl", "body": "<p>Yes, Math::BigInt objects overload comparison operators which means that any time they are used in a comparison, the overload will handle it properly, and it won't change the native value. There's some more details here: <a href=\"https://perldoc.pl/Math::BigInt#Mixing-different-object-types\" rel=\"nofollow noreferrer\">https://perldoc.pl/Math::BigInt#Mixing-different-object-types</a> and of course, the <a href=\"https://perldoc.pl/overload\" rel=\"nofollow noreferrer\">overload</a> docs go into great detail.</p>\n"}], "owner": {"reputation": 387, "user_id": 805707, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d151d1b9f7299b8502ca7150601ab1fd?s=128&d=identicon&r=PG", "display_name": "Karun", "link": "https://stackoverflow.com/users/805707/karun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561578021, "creation_date": 1561577795, "question_id": 56779917, "link": "https://stackoverflow.com/questions/56779917/comparison-of-mathbigint-with-scalars-in-perl", "title": "Comparison of Math::BigInt with scalars in Perl", "body": "<p>In following code there is comparison being made between BigInt object and perl scalar. Though it gives correct output, wanted to know\na) if it's fine to mix both. \nb) does the scalar gets promoted to BigInt</p>\n\n<pre><code>use Math::BigInt;\nmy $a = 11;\nmy $bInt = Math::BigInt-&gt;new(\"0xa\");\nprint \"a = $a\";\nprint \"bInt = $bInt\\n\";\n\nif ($bInt &lt; $a) {\n    print \"LESS\\n\";\n} else {\n    print \"EQUAL OR GREATER\\n\";\n}\n\nOutput:\na = 11\nbInt = 10\nLESS\n</code></pre>\n"}, {"tags": ["perl", "nix", "nixos"], "comments": [{"owner": {"reputation": 9137, "user_id": 5171219, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-G5x4vEoGRJc/AAAAAAAAAAI/AAAAAAAAENA/5wwtFtwYH3Q/photo.jpg?sz=128", "display_name": "Emmanuel Rosa", "link": "https://stackoverflow.com/users/5171219/emmanuel-rosa"}, "edited": false, "score": 0, "creation_date": 1561796840, "post_id": 56779578, "comment_id": 100185733, "body": "I checked a Nix Perl module package which has a dependency on another Perl module (DBD-SQLite) and it suggests that you need to add the dependency (ex. <code>GetoptPlus</code> to your function arguments (along with the <code>nixpkgs</code> you already have) and then add it to <code>propagatedBuildInputs</code> unquoted. See here: <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/development/perl-modules/DBD-SQLite/default.nix\" rel=\"nofollow noreferrer\">github.com/NixOS/nixpkgs/blob/master/pkgs/development/&hellip;</a>"}, {"owner": {"reputation": 1237, "user_id": 3416536, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/33e660f9b48e97aa96c9029e9645f15d?s=128&d=identicon&r=PG&f=1", "display_name": "user3416536", "link": "https://stackoverflow.com/users/3416536/user3416536"}, "reply_to_user": {"reputation": 9137, "user_id": 5171219, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-G5x4vEoGRJc/AAAAAAAAAAI/AAAAAAAAENA/5wwtFtwYH3Q/photo.jpg?sz=128", "display_name": "Emmanuel Rosa", "link": "https://stackoverflow.com/users/5171219/emmanuel-rosa"}, "edited": false, "score": 0, "creation_date": 1561876342, "post_id": 56779578, "comment_id": 100198458, "body": "Aha!  Thank you @EmmanuelRosa, you are absolutely right, that works.  And what&#39;s more, it led me to a better solution still; I was missing an overlay for GetoptPlus - as soon as I include that, GetoptPlus appers in <code>nixpkgs</code>, and thus I don&#39;t need an explicit import at all.  Bonza!"}], "answers": [{"tags": [], "owner": {"reputation": 1237, "user_id": 3416536, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/33e660f9b48e97aa96c9029e9645f15d?s=128&d=identicon&r=PG&f=1", "display_name": "user3416536", "link": "https://stackoverflow.com/users/3416536/user3416536"}, "is_accepted": true, "score": 2, "last_activity_date": 1561876429, "creation_date": 1561876429, "answer_id": 56822892, "question_id": 56779578, "link": "https://stackoverflow.com/questions/56779578/nix-referencing-one-local-perl-package-from-another/56822892#56822892", "title": "nix: referencing one local perl package from another", "body": "<p>Adding an overlay pointing to GetoptPlus makes it available in nixpkgs, and my problem is solved:</p>\n\n<pre><code>self: super: {\n  Getopt-Plus = import ../pkgs/Getopt-Plus/default.nix { nixpkgs = self; };\n}\n</code></pre>\n"}], "owner": {"reputation": 1237, "user_id": 3416536, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/33e660f9b48e97aa96c9029e9645f15d?s=128&d=identicon&r=PG&f=1", "display_name": "user3416536", "link": "https://stackoverflow.com/users/3416536/user3416536"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 56822892, "answer_count": 1, "score": 1, "last_activity_date": 1561876429, "creation_date": 1561576104, "question_id": 56779578, "link": "https://stackoverflow.com/questions/56779578/nix-referencing-one-local-perl-package-from-another", "title": "nix: referencing one local perl package from another", "body": "<p>I'm trying to build a local perl package that uses another as a dependency.</p>\n\n<p>The dependency in question is <a href=\"https://metacpan.org/pod/Getopt::Plus\" rel=\"nofollow noreferrer\"><code>Getopt-Plus</code></a>; it is installed using this nix expression:</p>\n\n<pre><code>{ fetchurl, perlPackages }:\n\nperlPackages.buildPerlModule rec {\n  version = \"0.99\";\n  name = \"Getopt-Plus\";\n\n  src = fetchurl {\n    url = \"mirror://cpan/authors/id/F/FL/FLUFFY/${name}-${version}.tar.gz\";\n    sha256 = \"0vsr4d0myv98aqbs7rc5rvqdpfz1vg1w7b5wyn4i6lmycp1wxxqk\";\n  };\n\n  buildInputs = [ ];\n  propagatedBuildInputs = with perlPackages; [ ];\n\n  doCheck = false;\n}\n</code></pre>\n\n<p>That installation succeeds just fine, as evidenced thus:</p>\n\n<pre><code>$ nix-env -q | grep Getopt\nperl5.28.2-Getopt-Plus-0.99\n</code></pre>\n\n<p>Now, I have a local package, excitingly called <code>Finance</code>, that uses Getopt-Plus.  So here is a putative nix expression:</p>\n\n<pre><code>{ nixpkgs }:\n\nwith nixpkgs;\nwith perlPackages;\nbuildPerlModule rec {\n  version = \"1.01\";\n  name = \"Finance\";\n\n  src = fetchurl {\n    url = \"http://localhost:8888/${name}-${version}-002.tar.gz\";\n    sha256 = \"0fib0rbzx8519imsw9jrfl805r6lrl6qzbnhipxxix5scar913r7\";\n  };\n\n  buildInputs = [ ];\n  propagatedBuildInputs = [ \"Getopt-Plus\" ];\n\n  doCheck = false;\n}\n</code></pre>\n\n<p>Along with an overlay file, to allow for references to locally-defined packages (via <code>self</code>):</p>\n\n<pre><code>self: super: {\n  Finance = import ../pkgs/Finance/default.nix { nixpkgs = self; };\n}\n</code></pre>\n\n<p>My problem is, how to refer to Getopt-Plus; everything I try leads to an error of the form <code>build input Getopt-Plus does not exist</code>.</p>\n\n<p>I have tried with- and without- double-quotes (without quotes leads to \"undefined variable\" errors; clearly it thinks that <code>Getopt-Plus</code> would be a variable, I guess because of the hyphen); I have tried the \"installed\" name of <code>perl5.28.2-Getopt-Plus-0.99</code>; I have tried other variations on these (e.g., <code>perl5.28.2-Getopt-Plus</code>, <code>perl-Getopt-Plus</code>, <code>perl-Getopt-Plus-0.99</code>.  I also tried removing the hyphen from the Getopt-Plus installation to become <code>GetoptPlus</code>; it installs fine by itself, of course, but doesn't seem to help this problem.</p>\n\n<p>If I fire up nix repl, setting <code>p = import &lt;nixpkgs&gt; {}</code>; then it clearly presents <code>p.GetoptPlus</code> (and <code>p.Finance</code>) as a valid derivation.</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>What is the correct name to use to allow Finance to depend upon Getopt-Plus; and</li>\n<li>Should I be using buildInputs or propagatedBuildInputs here?  I am unclear on the difference.</li>\n</ol>\n\n<p>Thank you for any help.</p>\n"}, {"tags": ["perl", "inheritance", "moose"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1561574662, "post_id": 56779176, "comment_id": 100113576, "body": "Why do you need it?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1561574902, "post_id": 56779176, "comment_id": 100113691, "body": "You have a cyclic dependency here. <code>Tank</code> loads <code>Tank::Forecast</code>, and <code>Tank::Forecast</code> loads <code>Tank</code>. In general, base classes should not know about their subclasses. I suspect an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1561576012, "post_id": 56779176, "comment_id": 100114171, "body": "It is not clear why you would need the <code>rebless_instance()</code> and <code>rebless_instance_back()</code>. Please clarify what you are trying to achieve"}, {"owner": {"reputation": 373, "user_id": 8845620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0082695b3d26ff97841bb1e65862a0a?s=128&d=identicon&r=PG&f=1", "display_name": "UncleCarl", "link": "https://stackoverflow.com/users/8845620/unclecarl"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561578013, "post_id": 56779176, "comment_id": 100114963, "body": "@Hakon I should have put a comment there. That is there so that I can convert a Forecast instance to different one. Reblessing back would ensure that all off the original subclass attributes would be removed. In production, I&#39;d probably clone it to a new instance."}, {"owner": {"reputation": 373, "user_id": 8845620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0082695b3d26ff97841bb1e65862a0a?s=128&d=identicon&r=PG&f=1", "display_name": "UncleCarl", "link": "https://stackoverflow.com/users/8845620/unclecarl"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561584280, "post_id": 56779176, "comment_id": 100117156, "body": "@melpomene I&#39;m sure you&#39;re right. Do you have a good way of accomplishing my goal? My code seemed to be working before I put the override in, but I suspect it was broken and I just didn&#39;t know it."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561606218, "post_id": 56779176, "comment_id": 100121430, "body": "Well, what is your goal?"}], "owner": {"reputation": 373, "user_id": 8845620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0082695b3d26ff97841bb1e65862a0a?s=128&d=identicon&r=PG&f=1", "display_name": "UncleCarl", "link": "https://stackoverflow.com/users/8845620/unclecarl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561646444, "creation_date": 1561574320, "last_edit_date": 1561646444, "question_id": 56779176, "link": "https://stackoverflow.com/questions/56779176/rebless-a-perl-moose-base-class-instance-to-a-subclass", "title": "Rebless a Perl Moose base class instance to a subclass", "body": "<p>(I think) I want to be able to convert a base class instance into a subclass. I haven't tried tackling this as a role, but subclassing feels better for my situation. I get a compilation error when I try to override a method. It seems to be related to my use-ing my subclass in the base class.</p>\n\n<p><strong>Tank.pm</strong></p>\n\n<pre><code>package Tank;\n\nuse Moose;\nuse Tank::Forecast;\n\nhas id =&gt; (\n    isa      =&gt; 'Int',\n    is       =&gt; 'ro',\n    required =&gt; 1,\n);\n\nsub make_forecast {\n    my $self = shift;\n    my $date = shift;\n\n    return Tank::Forecast-&gt;meta-&gt;rebless_instance( $self, date =&gt; $date );\n}\n\n1;\n</code></pre>\n\n<p><strong>Tank/Forecast.pm</strong></p>\n\n<pre><code>    package Tank::Forecast;\n\n    use Moose;\n\n    extends 'Tank';\n\n    has date =&gt; (\n        isa      =&gt; 'Str',\n        is       =&gt; 'ro',\n        required =&gt; 1,\n    );\n\n    has end_volume =&gt; (\n        isa     =&gt; 'Num',\n        is      =&gt; 'ro',\n        default =&gt; sub { rand() },\n    );\n\n    override 'make_forecast' =&gt; sub {\n        my $self = shift;\n\n        Tank-&gt;meta-&gt;rebless_instance_back($self);\n\n        return super();\n    };\n  1;\n</code></pre>\n\n<p><strong>test.pl</strong></p>\n\n<pre><code>use Tank;\n\nmy $tank = Tank-&gt;new( id =&gt; 1 );\n$tank-&gt;make_forecast('2019-06-27');\nprint $tank-&gt;end_volume . \"\\n\";\n$tank-&gt;make_forecast('2019-06-28');\nprint $tank-&gt;end_volume . \"\\n\";\n</code></pre>\n\n<p>This generates a compilation error:</p>\n\n<pre><code>You cannot override 'make_forecast' because it has no super method at /home/carl/perl5/perlbrew/perls/perl-5.16.3/lib/site_perl/5.16.3/i686-linux/Moose/Exporter.pm line 419\n    Moose::override('make_forecast', 'CODE(0x1871e70)') called at Tank/Forecast.pm line 25\n    require Tank/Forecast.pm at Tank.pm line 4\n    Tank::BEGIN at Tank/Forecast.pm line 0\n    eval {...} at Tank/Forecast.pm line 0\n    require Tank.pm at test.pl line 1\n    main::BEGIN at Tank/Forecast.pm line 0\n    eval {...} at Tank/Forecast.pm line 0\nCompilation failed in require at Tank.pm line 4.\nBEGIN failed--compilation aborted at Tank.pm line 4.\nCompilation failed in require at test.pl line 1.\nBEGIN failed--compilation aborted at test.pl line 1.\n</code></pre>\n\n<p>I am open to suggestions on the best way to design this and have it actually work.</p>\n\n<p><strong>EDIT:</strong> My code appears to work when I remove the Moose override/super sugar.  I do feel like my code doesn't pass the smell test, so I'll wait for a better answer before I post this change as an answer.</p>\n\n<pre><code>sub make_forecast {\n    my $self = shift;\n\n    # This removes existing Forecast attributes\n    Tank-&gt;meta-&gt;rebless_instance_back($self);\n\n    return $self-&gt;SUPER::make_forecast(@_);\n</code></pre>\n\n<p>}</p>\n\n<p><strong>EDIT:</strong> It appears that I need to describe my project more. I have tanks that are represented with general attributes such as location, name, capacity, current level, etc. I have a need for creating forecasts for a specific day. I feel like I want all of this in a single class, but I don't want to pollute the standard tank class with forecasting stuff. Adding a role, either statically or dynamically, was not quit right. I thought converting a tank object to a tank with a forecast object would work, which is what created the error described in this post. I've also toyed with making the forecast class discrete from the tank and using delegation to it from the tank instance, but that just seems a little clunkier. Sigh. I hope this helps. I'm still trying to figure out the best design for this and really appreciate any ideas.</p>\n"}, {"tags": ["c", "perl", "printf"], "comments": [{"owner": {"reputation": 938, "user_id": 3894179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6b1c2c08d1075995cb780ee8a2e36e?s=128&d=identicon&r=PG", "display_name": "Andra", "link": "https://stackoverflow.com/users/3894179/andra"}, "edited": false, "score": 0, "creation_date": 1561573124, "post_id": 56778821, "comment_id": 100112877, "body": "Perl does not has an integer max bound"}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1561574155, "post_id": 56778821, "comment_id": 100113354, "body": "<a href=\"https://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow noreferrer\">Perl documentation for format strings</a> says &quot;<code>%u</code> - unsigned integer, in decimal&quot;. Nothing about 32-bit."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561574566, "post_id": 56778821, "comment_id": 100113533, "body": "Re &quot;<i>I would have thought that %&quot;u&quot; meant a 32-bit unsigned</i>&quot;, It doesn&#39;t even mean that in C."}, {"owner": {"reputation": 89, "user_id": 7785442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b59acd9522d58075e02707358351440f?s=128&d=identicon&r=PG&f=1", "display_name": "jplw", "link": "https://stackoverflow.com/users/7785442/jplw"}, "edited": false, "score": 0, "creation_date": 1561574604, "post_id": 56778821, "comment_id": 100113548, "body": "Yes, but I would have thought that &quot;%u&quot; meant a 32-bit unsigned, but apparently not. So then, the question is, how can I convert the long unsigned to a 32-bit unsigned."}, {"owner": {"reputation": 89, "user_id": 7785442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b59acd9522d58075e02707358351440f?s=128&d=identicon&r=PG&f=1", "display_name": "jplw", "link": "https://stackoverflow.com/users/7785442/jplw"}, "edited": false, "score": 0, "creation_date": 1561574674, "post_id": 56778821, "comment_id": 100113580, "body": "But it works fine in C!  I meant &quot;%u&quot; of course."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561574735, "post_id": 56778821, "comment_id": 100113617, "body": "Only by accident. I&#39;m fairly sure your example has undefined behavior. Casting to <code>(unsigned int)</code> would be fine, of course (but would not necessarily give you a 32-bit result; for that you want <code>uint32_t</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1561574405, "post_id": 56779014, "comment_id": 100113456, "body": "Re &quot;<i>17860374324089702869 become 3336554965 in C</i>&quot;, Not always, even. <code>int</code> has to be at least 16-bit in size, you could get entirely different (smaller, larger) results on different machines/compiler. (And that&#39;s assuming this is defined behaviour.)"}, {"owner": {"reputation": 13760, "user_id": 10795151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eazk7.png?s=128&g=1", "display_name": "S.S. Anne", "link": "https://stackoverflow.com/users/10795151/s-s-anne"}, "edited": false, "score": 1, "creation_date": 1561574419, "post_id": 56779014, "comment_id": 100113461, "body": "Technically, there&#39;s no overflow of unsigned integers in C."}], "tags": [], "owner": {"reputation": 938, "user_id": 3894179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6b1c2c08d1075995cb780ee8a2e36e?s=128&d=identicon&r=PG", "display_name": "Andra", "link": "https://stackoverflow.com/users/3894179/andra"}, "is_accepted": false, "score": 1, "last_activity_date": 1561574621, "last_edit_date": 1561574621, "creation_date": 1561573616, "answer_id": 56779014, "question_id": 56778821, "link": "https://stackoverflow.com/questions/56778821/printf-difference-between-c-and-perl/56779014#56779014", "title": "printf difference between c and perl", "body": "<p>There's no such unsigned 32-bit integer in Perl. The 17860374324089702869 become 3336554965 in C is because unsigned 32-bit integer has a range 0 to 4294967295, when there's overflow occur, the integer would came up from the lower bound and vice versa</p>\n\n<p>e.g</p>\n\n<pre><code>unsigned int a = 4294967296 // will be 0 because unsigned integer upper limit is 4294967295\n</code></pre>\n\n<p>So you only have to module it with 4294967296 because there's 4294967296 numbers from 0 to 4294967295</p>\n\n<pre><code>#!/usr/bin/perl\n\nprintf \"%09u\", 17860374324089702869 % 4294967296\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 5, "last_activity_date": 1561574652, "last_edit_date": 1561574652, "creation_date": 1561574282, "answer_id": 56779167, "question_id": 56778821, "link": "https://stackoverflow.com/questions/56778821/printf-difference-between-c-and-perl/56779167#56779167", "title": "printf difference between c and perl", "body": "<p>In C, <code>printf</code> <code>%u</code> takes an <code>unsigned int</code>. Whether that is a 32-bit or 64-bit value or something different entirely depends on your C implementation. The standard only requires that <code>int</code> be at least 16 bits wide. (Since the value you're passing in your example doesn't fit in an <code>unsigned int</code>, I'm pretty sure your code has undefined behavior: You're not passing an <code>unsigned int</code> to <code>%u</code> as it expects you to.)</p>\n\n<p>In Perl, <code>%u</code> converts its argument to an unsigned integer. The width of this integer depends on how Perl was compiled; it is normally either a 32-bit or 64-bit type. You can query the configuration details for your perl by running <code>perl -V:uvsize</code> (the size of Perl's unsigned integer type in bytes) and <code>perl -V:uvtype</code> (the corresponding C type).</p>\n\n<p>If you want to explicitly truncate your value to 32 bits, the easiest way is probably to apply a bit mask:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use constant { UINT32_MAX =&gt; 0xffff_ffff };\nprint 17860374324089702869 &amp; UINT32_MAX, \"\\n\";\n</code></pre>\n\n<p>Then you don't really need <code>printf</code> either.</p>\n"}, {"tags": [], "owner": {"reputation": 2977, "user_id": 2231691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c897cef08f82aba800a8e12442aed40?s=128&d=identicon&r=PG", "display_name": "afenster", "link": "https://stackoverflow.com/users/2231691/afenster"}, "is_accepted": false, "score": 0, "last_activity_date": 1561574291, "creation_date": 1561574291, "answer_id": 56779168, "question_id": 56778821, "link": "https://stackoverflow.com/questions/56778821/printf-difference-between-c-and-perl/56779168#56779168", "title": "printf difference between c and perl", "body": "<p>This is generally not about Perl's <code>printf</code>/<code>sprintf</code>, but about how Perl stores integers and passes integers to functions. As mentioned in other responses, there is no 32-bit integer type in Perl.</p>\n\n<p>Basically, you need to strip the half of your 64-bit integer to make it 32-bit. To do this, just use binary <code>&amp;</code>:</p>\n\n<pre><code>perl -e 'printf(\"%09u\\n\", 17860374324089702869 &amp; 0xffffffff);'\n3336554965\n</code></pre>\n\n<p>Here, the <code>&amp;</code> operation leaves bits of the lower 4 bytes unchanged, but sets bits of the higher 4 bytes to zeros.</p>\n"}, {"tags": [], "owner": {"reputation": 1854, "user_id": 224935, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/59h0o.jpg?s=128&g=1", "display_name": "Jay Elston", "link": "https://stackoverflow.com/users/224935/jay-elston"}, "is_accepted": false, "score": 0, "last_activity_date": 1561581313, "creation_date": 1561581313, "answer_id": 56780507, "question_id": 56778821, "link": "https://stackoverflow.com/questions/56778821/printf-difference-between-c-and-perl/56780507#56780507", "title": "printf difference between c and perl", "body": "<p>The C language has a plethora of numeric data types (and sizes). Perl has 3 type of data -- \"<a href=\"https://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">scalars, arrays of scalars, and associative arrays of scalars</a>\", </p>\n\n<p>In Perl, scalar values are polymorphic, so the value <em>17860374324089702869</em> can be treated as a string or a number, depending on how it is used. When used in a printf statement, it treated as the number 17860374324089702869 and printed as such.</p>\n\n<p>In C, an unsigned integer is treated as an integer number in a range specified by the word size on the architecture you are compiling the program for. You should have received warning when you compiled. When I compiled the above statement with -Wall, here is the warning I got:</p>\n\n<p>warning: format \u2018%u\u2019 expects argument of type \u2018unsigned int\u2019, but argument 2 has type \u2018__int128\u2019 [-Wformat=]</p>\n\n<p><a href=\"https://stackoverflow.com/questions/25081972/maximum-integer-in-perl\">See this post discussing the maximum integer value that can be count to in Perl.</a></p>\n"}], "owner": {"reputation": 89, "user_id": 7785442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b59acd9522d58075e02707358351440f?s=128&d=identicon&r=PG&f=1", "display_name": "jplw", "link": "https://stackoverflow.com/users/7785442/jplw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 56779167, "answer_count": 4, "score": 2, "last_activity_date": 1561581313, "creation_date": 1561572845, "last_edit_date": 1561573864, "question_id": 56778821, "link": "https://stackoverflow.com/questions/56778821/printf-difference-between-c-and-perl", "title": "printf difference between c and perl", "body": "<p>In C:</p>\n\n<pre><code>printf (\"%u\", 17860374324089702869);\n</code></pre>\n\n<p>prints \"3336554965\" (this is the answer I want!)</p>\n\n<p>In perl, the same line of code prints \"17860374324089702869\".</p>\n\n<p>How can I get perl to produce \"3336554965\" from \"17860374324089702869\".</p>\n\n<p>My gut says this is 64-bit vs 32-bit issue, but it does not appear that the perl statement is doing anything at all to the number.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1561565917, "post_id": 56777105, "comment_id": 100109688, "body": "You don&#39;t. See <a href=\"https://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">Why it&#39;s stupid to `use a variable as a variable name&#39;</a> and <a href=\"https://perl.plover.com/varvarname2.html\" rel=\"nofollow noreferrer\">A More Direct Explanation of the Problem</a>."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 2, "creation_date": 1561565935, "post_id": 56777105, "comment_id": 100109699, "body": "Is <code>@LSP_CLASS_TYPES</code> supposed to be <code>@CLASS TYPES</code>? It sounds like you really want a <a href=\"https://perldoc.pl/perlintro#Hashes\" rel=\"nofollow noreferrer\">hash</a>."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561570443, "post_id": 56778217, "comment_id": 100111721, "body": "Tip: <code>[ &quot;1.1.1.1&#47;32&quot;, &quot;2.2.2.2&#47;32&quot; ]</code> can also be written as <code>[qw( 1.1.1.1&#47;32 2.2.2.2&#47;32 )]</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1561570401, "last_edit_date": 1561570401, "creation_date": 1561570090, "answer_id": 56778217, "question_id": 56777105, "link": "https://stackoverflow.com/questions/56777105/perl-call-variable-name-using-another-variablearray/56778217#56778217", "title": "perl call variable name using another variable(array)", "body": "<p>That's not the right approach. See <a href=\"https://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">Why it's stupid to `use a variable as a variable name'</a> and <a href=\"https://perl.plover.com/varvarname2.html\" rel=\"nofollow noreferrer\">A More Direct Explanation of the Problem</a>.</p>\n\n<p>The very fact that <code>@CAT_NEIGH</code> doesn't exist illustrates part of the problem.</p>\n\n<p>Solution:</p>\n\n<pre><code>my @CLASS_TYPES = (\"INTRA\", \"BB\", \"CAT\");\nmy %NEIGH = (\n   INTRA =&gt; [ \"1.1.1.1/32\", \"2.2.2.2/32\" ],\n   BB    =&gt; [ \"3.3.3.3/32\", \"4.4.4.4/32\" ],\n);\n\nfor my $class (@CLASS_TYPES) {\n   next if !$NEIGH{$class};\n\n   print \"$_\\n\" for @{ $NEIGH{$class} };\n}\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>my %NEIGH = (\n   INTRA =&gt; [ \"1.1.1.1/32\", \"2.2.2.2/32\" ],\n   BB    =&gt; [ \"3.3.3.3/32\", \"4.4.4.4/32\" ],\n);\n\nfor my $class (keys(%NEIGH)) {\n   print \"$_\\n\" for @{ $NEIGH{$class} };\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11704250, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QjD5Cy9tWw0/AAAAAAAAAAI/AAAAAAAAC5c/1iWfcodmWXk/photo.jpg?sz=128", "display_name": "chippada srinivas", "link": "https://stackoverflow.com/users/11704250/chippada-srinivas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561577196, "creation_date": 1561565552, "last_edit_date": 1561566344, "question_id": 56777105, "link": "https://stackoverflow.com/questions/56777105/perl-call-variable-name-using-another-variablearray", "title": "perl call variable name using another variable(array)", "body": "<pre><code>my @CLASS_TYPES = (\"INTRA\", \"BB\", \"CAT\");\nmy @INTRA_NEIGH = (\"1.1.1.1/32\",\"2.2.2.2/32\");\nmy @BB_NEIGH = (\"3.3.3.3/32\",\"4.4.4.4/32\" );\nforeach my $class (@CLASS_TYPES) {\n    my $csv = @.$class._NEIGH;\n    print($csv);\n</code></pre>\n\n<p>when I print $csv I am expecting to print the array values how do I achieve that</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1561565554, "post_id": 56776861, "comment_id": 100109519, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2206836/why-does-perl-autovivify-in-this-case\">Why does Perl autovivify in this case?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1561565186, "post_id": 56776992, "comment_id": 100109322, "body": "The question (as I understand it) was why is <code>for</code> an lvalue context."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1561565284, "post_id": 56776992, "comment_id": 100109376, "body": "@choroba, I don&#39;t think so (because it&#39;s a warning in rvalue context, and there&#39;s no mention of rvalue context. But just in case, the following is the answer to that: Because the loop body could assign to the loop iterator and change the values. (e.g. <code>for (@a) { $_ = uc($_); }</code>)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1561565410, "post_id": 56776992, "comment_id": 100109439, "body": "I know, just trying to help make the answer more informative :-)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1561565124, "creation_date": 1561565124, "answer_id": 56776992, "question_id": 56776861, "link": "https://stackoverflow.com/questions/56776861/promotion-of-undef-variable-to-array-ref-in-foreach/56776992#56776992", "title": "Promotion of undef variable to ARRAY ref in foreach", "body": "<p>Autovivification makes</p>\n\n<pre><code>@$x\n</code></pre>\n\n<p>equivalent to</p>\n\n<pre><code>@{ $x //= [] }\n</code></pre>\n\n<p>in lvalue context.</p>\n\n<p>Use</p>\n\n<pre><code>if ($x) {\n   for (@$x) {\n      ...\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 10419, "user_id": 1151724, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q6fMI.jpg?s=128&g=1", "display_name": "CodeClown42", "link": "https://stackoverflow.com/users/1151724/codeclown42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56776992, "answer_count": 1, "score": 3, "last_activity_date": 1561565124, "creation_date": 1561564664, "question_id": 56776861, "link": "https://stackoverflow.com/questions/56776861/promotion-of-undef-variable-to-array-ref-in-foreach", "title": "Promotion of undef variable to ARRAY ref in foreach", "body": "<pre><code>use strict;                  \nuse warnings FATAL =&gt; 'all'; \n\nmy $x = undef;               \nif (@$x) { print \"ok\\n\" }    \nelse { print \"no\\n\" } \n</code></pre>\n\n<p>Predictably yields <em>\"Can't use an undefined value as an ARRAY reference\"</em> for <code>if (@$x)</code>.  But inserting a <code>foreach (@$x)</code>:</p>\n\n<pre><code>use strict;                  \nuse warnings FATAL =&gt; 'all'; \n\nmy $x = undef;               \nforeach (@$x) { print $_ }  # &lt;------- \nif (@$x) { print \"ok\\n\" }    \nelse { print \"no\\n\" }        \n\nprint ref($x).\"\\n\"; \n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>no\nARRAY\n</code></pre>\n\n<p>The <code>foreach</code> line seems to have made an assignment to <code>$x</code>.  What's up with this?   </p>\n"}, {"tags": ["perl", "datetime", "data-conversion"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561560003, "post_id": 56775006, "comment_id": 100106249, "body": "<i>&quot;..used on does not allow installing new modules..&quot;</i> Why not? It allows you to write a script, so why can it not allow you to write (i.e. download) a module?"}, {"owner": {"reputation": 125, "user_id": 11639109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_A87s7O8XQQ/AAAAAAAAAAI/AAAAAAAAAAA/nlD-KX5oxew/photo.jpg?sz=128", "display_name": "Bart", "link": "https://stackoverflow.com/users/11639109/bart"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1561560150, "post_id": 56775006, "comment_id": 100106340, "body": "@H&#229;konH&#230;gland it&#39;s a very closed system unfortunately..."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561560548, "post_id": 56775006, "comment_id": 100106615, "body": "So you cannot download anything on your system?"}, {"owner": {"reputation": 125, "user_id": 11639109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_A87s7O8XQQ/AAAAAAAAAAI/AAAAAAAAAAA/nlD-KX5oxew/photo.jpg?sz=128", "display_name": "Bart", "link": "https://stackoverflow.com/users/11639109/bart"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561560758, "post_id": 56775006, "comment_id": 100106750, "body": "@H&#229;konH&#230;gland, no, unfortunately not. I know it&#39;s counterproductive, but that&#39;s the requirement..."}], "answers": [{"comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "reply_to_user": {"reputation": 125, "user_id": 11639109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_A87s7O8XQQ/AAAAAAAAAAI/AAAAAAAAAAA/nlD-KX5oxew/photo.jpg?sz=128", "display_name": "Bart", "link": "https://stackoverflow.com/users/11639109/bart"}, "edited": false, "score": 0, "creation_date": 1561561022, "post_id": 56775475, "comment_id": 100106934, "body": "As others have said, what version of Perl are you using and why can&#39;t you use standard modules?"}, {"owner": {"reputation": 125, "user_id": 11639109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_A87s7O8XQQ/AAAAAAAAAAI/AAAAAAAAAAA/nlD-KX5oxew/photo.jpg?sz=128", "display_name": "Bart", "link": "https://stackoverflow.com/users/11639109/bart"}, "edited": false, "score": 0, "creation_date": 1561561308, "post_id": 56775475, "comment_id": 100107119, "body": "as I&#39;ve explained, there is a limitation for the system to install modules/packages, it has to be as it is from this perspective. I know it&#39;s counterproductive, but I&#39;m not calling the shots..."}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": true, "score": 1, "last_activity_date": 1561560278, "creation_date": 1561560278, "answer_id": 56775475, "question_id": 56775006, "link": "https://stackoverflow.com/questions/56775006/perl-convert-string-to-datetime/56775475#56775475", "title": "Perl - convert string to datetime", "body": "<p>Given 20190626-102908.616319 as the content of $string</p>\n\n<pre><code>my ($date,$time) = split /-/, $string; # Separate time from date\n$time = int $time; # Drop decimal parts of a second\nmy @date = $date =~ /([0-9]{4})([0-9]{2})([0-9]{2})/; # Split date into year month day\nmy @time = $time =~ /([0-9]{2})([0-9]{2})([0-9]{2})/; # Split time into hour month second\nmy $formatted_date = join('-', @date) . '-' . join(':', @time); # Put it all back together\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1561560720, "post_id": 56775485, "comment_id": 100106731, "body": "Note that Time::Piece only supports down to the second resolution, so you&#39;ll get a warning about leftover microseconds in your input. You could remove it with <a href=\"https://perldoc.perl.org/functions/substr.html\" rel=\"nofollow noreferrer\"><code>substr</code></a> if it bothers you."}, {"owner": {"reputation": 125, "user_id": 11639109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_A87s7O8XQQ/AAAAAAAAAAI/AAAAAAAAAAA/nlD-KX5oxew/photo.jpg?sz=128", "display_name": "Bart", "link": "https://stackoverflow.com/users/11639109/bart"}, "edited": false, "score": 0, "creation_date": 1561560795, "post_id": 56775485, "comment_id": 100106775, "body": "that might work and is a good solution too, but I cannot use this module as well.. Thanks!"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 125, "user_id": 11639109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_A87s7O8XQQ/AAAAAAAAAAI/AAAAAAAAAAA/nlD-KX5oxew/photo.jpg?sz=128", "display_name": "Bart", "link": "https://stackoverflow.com/users/11639109/bart"}, "edited": false, "score": 0, "creation_date": 1561560812, "post_id": 56775485, "comment_id": 100106790, "body": "@Bart Are you using a Perl that is older than 5.8?"}, {"owner": {"reputation": 125, "user_id": 11639109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_A87s7O8XQQ/AAAAAAAAAAI/AAAAAAAAAAA/nlD-KX5oxew/photo.jpg?sz=128", "display_name": "Bart", "link": "https://stackoverflow.com/users/11639109/bart"}, "edited": false, "score": 0, "creation_date": 1561560997, "post_id": 56775485, "comment_id": 100106916, "body": "that&#39;s not a problem, just that the system I&#39;m writing the script for is closed for installation of packages/modules. in real world, your solution would work and I&#39;ve tried it locally as well."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 125, "user_id": 11639109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_A87s7O8XQQ/AAAAAAAAAAI/AAAAAAAAAAA/nlD-KX5oxew/photo.jpg?sz=128", "display_name": "Bart", "link": "https://stackoverflow.com/users/11639109/bart"}, "edited": false, "score": 0, "creation_date": 1561561050, "post_id": 56775485, "comment_id": 100106949, "body": "@Bart I think you misunderstand, this module <i>comes with</i>  Perl by default. There is no additional installation needed."}, {"owner": {"reputation": 125, "user_id": 11639109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_A87s7O8XQQ/AAAAAAAAAAI/AAAAAAAAAAA/nlD-KX5oxew/photo.jpg?sz=128", "display_name": "Bart", "link": "https://stackoverflow.com/users/11639109/bart"}, "edited": false, "score": 0, "creation_date": 1561561240, "post_id": 56775485, "comment_id": 100107082, "body": "ah, that&#39;s <code>v5.10.1</code>, so in theory should work, but doesn&#39;t on the system: <code>Can&#39;t locate Time&#47;Piece.pm in @INC (@INC contains: &#47;usr&#47;local&#47;lib64&#47;perl5 &#47;usr&#47;local&#47;share&#47;perl5 &#47;usr&#47;lib64&#47;perl5&#47;vendor_perl &#47;usr&#47;share&#47;perl5&#47;vendor_perl &#47;usr&#47;lib64&#47;perl5 &#47;usr&#47;share&#47;perl5 .) at - line 1.</code>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 125, "user_id": 11639109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_A87s7O8XQQ/AAAAAAAAAAI/AAAAAAAAAAA/nlD-KX5oxew/photo.jpg?sz=128", "display_name": "Bart", "link": "https://stackoverflow.com/users/11639109/bart"}, "edited": false, "score": 2, "creation_date": 1561563891, "post_id": 56775485, "comment_id": 100108634, "body": "@Bart That means you do not have a complete Perl installation. If this is a Redhat system, make sure <code>perl-core</code> is installed, or complain to whoever is supposed to be providing Perl."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1561564003, "post_id": 56775485, "comment_id": 100108705, "body": "Actually, Time::Piece was added to Perl 5.10.0 (not 5.8.0). And I bet Bart&#39;s problem is that he&#39;s using a system with Red Hat&#39;s crippled Perl installation. See <a href=\"https://perlhacks.com/2012/08/a-cautionary-tale/\" rel=\"nofollow noreferrer\">A Cautionary Tale</a> for details."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1561564241, "post_id": 56775485, "comment_id": 100108831, "body": "@DaveCross Good catch, I&#39;ll edit to include that. My reference was an article that was incorrect, I should have used <code>corelist</code> instead :|"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 2, "last_activity_date": 1561564268, "last_edit_date": 1561564268, "creation_date": 1561560309, "answer_id": 56775485, "question_id": 56775006, "link": "https://stackoverflow.com/questions/56775006/perl-convert-string-to-datetime/56775485#56775485", "title": "Perl - convert string to datetime", "body": "<p><a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\"><code>Time::Piece</code></a> is a module that has been in core since v5.10.0 and has comparable date parsing / formatting APIs:</p>\n\n<pre><code>use strict; \nuse warnings; \n\nuse feature qw(say);\nuse Time::Piece; \n\nmy $t = Time::Piece-&gt;strptime(\"20190626-102908.616319\",\"%Y%m%d-%H%M%S\");\nsay $t-&gt;strftime(\"%Y-%m-%d-%H:%M:%S\");\n# 2019-06-26-10:29:08\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 11639109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_A87s7O8XQQ/AAAAAAAAAAI/AAAAAAAAAAA/nlD-KX5oxew/photo.jpg?sz=128", "display_name": "Bart", "link": "https://stackoverflow.com/users/11639109/bart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 56775475, "answer_count": 2, "score": 0, "last_activity_date": 1561564268, "creation_date": 1561558727, "question_id": 56775006, "link": "https://stackoverflow.com/questions/56775006/perl-convert-string-to-datetime", "title": "Perl - convert string to datetime", "body": "<p>I'm working on a script that fetches data from a log file. The log file contains date string in a particular format:</p>\n\n<pre><code>20190626-102908.616319\n</code></pre>\n\n<p>Once it's parsed through my code, I want the date to be in another format:</p>\n\n<pre><code>2019-06-26-10:29:08\n</code></pre>\n\n<p>I've used <code>DateTime::Format::Strptime</code> and that works perfectly.</p>\n\n<p>BUT, the requirement is to use another way as the system the script will be used on does not allow installing new modules (yeah, I cannot install additional Perl modules).</p>\n\n<p>The only thing I can work with would be <code>Date::Parse</code> or <code>Date::Format</code>, but I cannot make it cooperate.</p>\n\n<p>With <code>Date::Parse</code>:</p>\n\n<pre><code>my $time2 = str2time($chunks[0]);\n</code></pre>\n\n<p>I only get empty output.</p>\n\n<p>Calling <code>Date::Format</code>:</p>\n\n<pre><code>my $time2 = time2str(\"%Y-%m-%d-%H:%M:%S\\n\", $chunks[0]);\n</code></pre>\n\n<p>gives just <code>1970-01-01-00:00:00</code>.</p>\n\n<p>Could anyone point me into right direction here?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1561539681, "post_id": 56768871, "comment_id": 100093705, "body": "What have you tried? What problems are you having? Please show us your code."}, {"owner": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 1, "creation_date": 1561539784, "post_id": 56768871, "comment_id": 100093751, "body": "just split each scalar by whitespace, check with regex for http+ https+ #+ strings and substitute these strings?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 0, "creation_date": 1561543313, "post_id": 56768871, "comment_id": 100095769, "body": "@Chris: Splitting on white space seems like an unnecessary complication."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6760625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b78b82da4256bbddc522314ee404231a?s=128&d=identicon&r=PG", "display_name": "Mario T.", "link": "https://stackoverflow.com/users/6760625/mario-t"}, "edited": false, "score": 0, "creation_date": 1561556801, "post_id": 56769177, "comment_id": 100104123, "body": "That worked an absolute treat - thank you very much :)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1561541771, "last_edit_date": 1561541771, "creation_date": 1561540290, "answer_id": 56769177, "question_id": 56768871, "link": "https://stackoverflow.com/questions/56768871/converting-plain-text-tweets-to-include-hyperlinks/56769177#56769177", "title": "Converting plain text tweets to include hyperlinks", "body": "<p>It sounds like some pretty basic regexes will be useful.</p>\n\n<p>A link is \"http://\" or \"https://\" followed by a series of non-whitespace characters - <code>https?://S+</code>.</p>\n\n<p>A hashtag is a hash followed by a series of alpha-numeric characters - <code>#\\w+</code>.</p>\n\n<p>So, the code could look something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\n$_ = join '', &lt;DATA&gt;;\n\n# Before\nsay;\n\n# Convert links\ns|(https?://\\S+)|&lt;a href=\"$1\"&gt;$1&lt;/a&gt;|g;\n\n# Convert hashtags\ns|#(\\w+)|&lt;a href=\"https://twitter.com/hashtag/$1\"&gt;#$1&lt;/a&gt;|g;\n\n# After\nsay;\n\n__DATA__\nWhen a new startup enters your industry and innovates around you, winning\nyour customers and taking your revenues, if you fail to transform your own\nbusiness in response, are you negligent? Do shareholders have a claim against\nyou? https://myurl.com/blah #Governance #liability #corporatenegligence\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 1, "last_activity_date": 1561563028, "last_edit_date": 1561563028, "creation_date": 1561562682, "answer_id": 56776252, "question_id": 56768871, "link": "https://stackoverflow.com/questions/56768871/converting-plain-text-tweets-to-include-hyperlinks/56776252#56776252", "title": "Converting plain text tweets to include hyperlinks", "body": "<p>Try <a href=\"https://metacpan.org/pod/URL::Search\" rel=\"nofollow noreferrer\">URL::Search</a>. It will handle many edge cases like URLs followed or surrounded by punctuation:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse URL::Search '$URL_SEARCH_RE';\n\n$text =~ s{($URL_SEARCH_RE)}{&lt;a href=\"$1\"&gt;$1&lt;/a&gt;}g;\n</code></pre>\n\n<p>But there is another problem. URLs and the surrounding text must be HTML-escaped if you want to use the result as HTML, but you don't want to HTML-escape your valid HTML of course. To solve this you could split the string into URLs and non-URL sections, escape both and wrap the URLs, and then join them back together. Fortunately URL::Search has a partition_urls function designed just for this.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\nuse URL::Search 'partition_urls';\nuse HTML::Entities;\n\nmy $text = do { local $/; &lt;DATA&gt; };\n\nmy $output = '';\nforeach my $section (partition_urls $text) {\n  my $escaped = encode_entities $section-&gt;[1];\n  if ($section-&gt;[0] eq 'URL') {\n    $output .= qq{&lt;a href=\"$escaped\"&gt;$escaped&lt;/a&gt;};\n  } else {\n    $escaped =~ s{(?&lt;!\\S)#([a-zA-Z0-9]+)}{&lt;a href=\"https://twitter.com/hashtag/$1\"&gt;#$1&lt;/a&gt;}g;\n    $output .= $escaped;\n  }\n}\n\nprint $output;\n\n__DATA__\nWhen a new startup enters your industry and innovates around you, winning\nyour customers and taking your revenues, if you fail to transform your own\nbusiness in response, are you negligent? Do shareholders have a claim against\nyou? https://myurl.com/blah #Governance #liability #corporatenegligence\n</code></pre>\n\n<p>There is an additional complication in that hashtags must be URI-escaped to be used in a URL, <em>before</em> HTML escaping, but limiting what is allowed in hashtags to ASCII letters and digits <code>[a-zA-Z0-9]</code> avoids this problem... The alternative is that you have to split the non-URL sections again into hashtags and non-hashtag text to do separate processing.</p>\n"}], "owner": {"reputation": 55, "user_id": 6760625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b78b82da4256bbddc522314ee404231a?s=128&d=identicon&r=PG", "display_name": "Mario T.", "link": "https://stackoverflow.com/users/6760625/mario-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "accepted_answer_id": 56769177, "answer_count": 2, "score": -2, "last_activity_date": 1561563028, "creation_date": 1561539208, "question_id": 56768871, "link": "https://stackoverflow.com/questions/56768871/converting-plain-text-tweets-to-include-hyperlinks", "title": "Converting plain text tweets to include hyperlinks", "body": "<p>I have exported my data from Twitter in order to include my tweets on my personal blog. I have each tweet from the past 10 years in plain text. An example is this:</p>\n\n<p><code>When a new startup enters your industry and innovates around you, winning your customers and taking your revenues, if you fail to transform your own business in response, are you negligent? Do shareholders have a claim against you? https://myurl.com/blah #Governance #liability #corporatenegligence</code></p>\n\n<p>I'd like to process the each tweet and add HTML anchor tags to any URLs and tags found in the text. So basically anything with http/https turns into a link and anything with a hash before it turns into a link.</p>\n\n<p>I'm struggling to come up with a regex to do this. The anchor tag for URLs just uses the URL itself as the href. The href on tags is <a href=\"https://twitter.com/hashtag/TAG\" rel=\"nofollow noreferrer\">https://twitter.com/hashtag/TAG</a> where TAG is the tag text after the # and before a non alphanumeric character.</p>\n\n<p>Each tweet is stored in an array of scalars called <code>@tweets</code>. So looping through them is straight forward.</p>\n"}, {"tags": ["perl", "return-value", "exit-code", "rsh"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561538793, "post_id": 56768516, "comment_id": 100093139, "body": "I cannot reproduce on Ubuntu 19.04. On my machine <code>rsh</code> returns the exit code of the last command executed and hence <code>$?</code> is set correctly according to that value after running <code>qx()</code>"}, {"owner": {"reputation": 447, "user_id": 10202232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Avzwj.png?s=128&g=1", "display_name": "him", "link": "https://stackoverflow.com/users/10202232/him"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561539136, "post_id": 56768516, "comment_id": 100093367, "body": "Is that value - exit code or rsh or exit code of command run through rsh? What I want , is the exit code of command run through rsh."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561539443, "post_id": 56768516, "comment_id": 100093558, "body": "Yes I checked it is the exit value of the command (not <code>rsh</code>). Maybe <code>rsh</code> behaves differently on a windows machine?"}, {"owner": {"reputation": 447, "user_id": 10202232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Avzwj.png?s=128&g=1", "display_name": "him", "link": "https://stackoverflow.com/users/10202232/him"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1561539853, "post_id": 56768516, "comment_id": 100093786, "body": "Actually through a bit of Google search, I found that SSH returns the exit code of the command it ran while RSH doesn&#39;t. For RSH see this link   <a href=\"https://docs.oracle.com/cd/E36784_01/html/E36870/rsh-1.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E36784_01/html/E36870/rsh-1.html</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561540081, "post_id": 56768516, "comment_id": 100093922, "body": "Yes I checked, on my computer <code>rsh</code> is simply a symbolic link to <code>&#47;usr&#47;bin&#47;ssh</code> so that should explain the differences. Did you find a workaround?"}], "answers": [{"comments": [{"owner": {"reputation": 447, "user_id": 10202232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Avzwj.png?s=128&g=1", "display_name": "him", "link": "https://stackoverflow.com/users/10202232/him"}, "edited": false, "score": 1, "creation_date": 1561553124, "post_id": 56772815, "comment_id": 100101787, "body": "Another workaround (which worked for me) is when I run the remote command on windows, and there is some abnormal exit, then it prints <code>&lt;program name&gt; returned &lt;return value&gt;</code>. So I can use the string returned by <code>qx</code> and parse it to get the return value. And if there is no such string, the return value is 0. However,  I&#39;m not sure if this is universal or just for my case only."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1561552031, "creation_date": 1561552031, "answer_id": 56772815, "question_id": 56768516, "link": "https://stackoverflow.com/questions/56768516/accessing-exit-code-of-running-a-remote-command-through-rsh-using-perls-qx/56772815#56772815", "title": "Accessing exit code of running a remote command through rsh, using Perl&#39;s qx", "body": "<p>Here is a workaround (in the case you cannot use <code>ssh</code>) that saves the exit code in a temp file:</p>\n\n<pre><code>my $output = qx(rsh -l $username $host \"perl a.pl; echo \\\\\\$? &gt; exitcode.txt\");\nmy $exitcode = qx(rsh -l $username $host \"cat exitcode.txt\");\n</code></pre>\n"}], "owner": {"reputation": 447, "user_id": 10202232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Avzwj.png?s=128&g=1", "display_name": "him", "link": "https://stackoverflow.com/users/10202232/him"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 56772815, "answer_count": 1, "score": 0, "last_activity_date": 1561552031, "creation_date": 1561537901, "last_edit_date": 1561547112, "question_id": 56768516, "link": "https://stackoverflow.com/questions/56768516/accessing-exit-code-of-running-a-remote-command-through-rsh-using-perls-qx", "title": "Accessing exit code of running a remote command through rsh, using Perl&#39;s qx", "body": "<p>I'm using qx() to run a command on a remote windows machine through rsh. I need to access the exit code of the remote command. I followed the instructions here \"<a href=\"https://stackoverflow.com/questions/32890448/get-return-code-and-output-from-command-in-perl\">Get return code and output from command in Perl</a>\", but using <code>$?</code> always returns 0 - seems like it is the exit code of the rsh command instead of the command run through <code>rsh</code>.</p>\n\n<p>However when I use ssh, then <code>$?</code> actually returns the exit code of the command run through <code>ssh</code>. </p>\n\n<p>So, how can I access the return value of the command run through rsh on a remote windows machine using qx ?</p>\n\n<pre><code>qx(rsh -l $username $host perl a.pl);     # say I run a perl script on remote machine \nmy $returnValue =                         # need the return value of 'perl a.pl' here\n</code></pre>\n"}, {"tags": ["regex", "xml", "perl", "variables"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1561539297, "post_id": 56768486, "comment_id": 100093463, "body": "Using regular expressions to parse XML is fragile. Moreover, the XML chunk you provided doesn&#39;t produce any output when processed by the posted script. Perl has several good XML handling libraries."}, {"owner": {"reputation": 25, "user_id": 11680055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efeb77ec90cbe74c9291b1abe7064354?s=128&d=identicon&r=PG&f=1", "display_name": "Dude85", "link": "https://stackoverflow.com/users/11680055/dude85"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1561540416, "post_id": 56768486, "comment_id": 100094100, "body": "I havent posted the entire script because of making it easily readable. The chunk i pasted has to do with the parsing though, which is where I think something goes wrong, if you&#39;d want the entire script, I can provide that too.  As I said, I&#39;m aware of the fragility and how error prone it may be, but for now we&#39;re ignoring that, as we&#39;re changing systems soon, rewriting the entire script is at this point is implausible. Moreover, the script uses a year 2003 edition of perl."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1561542821, "post_id": 56768486, "comment_id": 100095488, "body": "On Stack Overflow, you are expected to spend some effort to reduce your code to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 25, "user_id": 11680055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efeb77ec90cbe74c9291b1abe7064354?s=128&d=identicon&r=PG&f=1", "display_name": "Dude85", "link": "https://stackoverflow.com/users/11680055/dude85"}, "edited": false, "score": 0, "creation_date": 1561542892, "post_id": 56768486, "comment_id": 100095536, "body": "I wasnt aware of that, my apologies. I&#39;ll have a look at making it reproducible"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 11680055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efeb77ec90cbe74c9291b1abe7064354?s=128&d=identicon&r=PG&f=1", "display_name": "Dude85", "link": "https://stackoverflow.com/users/11680055/dude85"}, "edited": false, "score": 0, "creation_date": 1561543592, "post_id": 56768982, "comment_id": 100095942, "body": "Thank you for that explanation, that is really helpful :)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1561540093, "last_edit_date": 1561540093, "creation_date": 1561539623, "answer_id": 56768982, "question_id": 56768486, "link": "https://stackoverflow.com/questions/56768486/perl-regex-expression-meaning-does-it-catch-the-right-thing-xml-to-txt/56768982#56768982", "title": "Perl regex expression meaning ? Does it catch the right thing, XML to TXT", "body": "<p>It's a substitution, which generally looks like</p>\n\n<pre><code>s/PATTERN/REPLACEMENT/\n</code></pre>\n\n<p>The <code>/g</code> modifier means \"global\", i.e. it substitutes all occurrences of the pattern. The replacement is empty, so the substitution just removes all matches of the pattern.</p>\n\n<pre><code>s/[\\$#@~!&amp;*()&lt;&gt;\\[\\];,?^ `\\\\\\/]+//g;\n  ^                          ^^\n  |                          |\\\nBeginning           End of the \\\nof a character   the character  One or more\nclass                   class   times\n</code></pre>\n\n<p>The pattern matches any sequence of the characters <code>$#@~!&amp;*()&lt;&gt;[];,?^ `\\/</code>. Some of the character are escaped (preceded by a backslash) to prevent their interpretation as special characters.</p>\n\n<p>A bare <code>$</code> would have been interpreted as a sigil (starting a variable name). The <code>[</code> doesn't need escaping, but it doesn't hurt. <code>]</code> would have been interpreted as the end of the character class. <code>\\</code> would have been interpreted as an escape character, and <code>/</code> would have been interpreted as the substitution delimiter.</p>\n\n<p>Using regexes to process XML is fragile. Perl has several good XML parsing libraries which should be used instead (e.g. <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a> or <a href=\"http://p3rl.org/XML::Twig\" rel=\"nofollow noreferrer\">XML::Twig</a>)</p>\n"}], "owner": {"reputation": 25, "user_id": 11680055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efeb77ec90cbe74c9291b1abe7064354?s=128&d=identicon&r=PG&f=1", "display_name": "Dude85", "link": "https://stackoverflow.com/users/11680055/dude85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 56768982, "answer_count": 1, "score": 0, "last_activity_date": 1561540093, "creation_date": 1561537807, "question_id": 56768486, "link": "https://stackoverflow.com/questions/56768486/perl-regex-expression-meaning-does-it-catch-the-right-thing-xml-to-txt", "title": "Perl regex expression meaning ? Does it catch the right thing, XML to TXT", "body": "<p>I'm tasked with trying to update an old old script. Perl is not my strong suit, at all. \nThe output of said script is some statistics, but I've noticed that in the output lines, it moves a tag down to a wrong device, I'm thinking it's the regex expression used, that somehow does this, but I'm unable to read it.</p>\n\n<p>The script crunches a library of xml files and picks out specific tags, and prints them into a txt file, moves the xml files to a log dir and then deletes the xml that has been crunched.</p>\n\n<pre><code>  &lt;ComputerStatus&gt;\n    &lt;Name&gt;PC1&lt;/Name&gt;\n    &lt;VirusDefinitions&gt;2019-06-23 rev. 001&lt;/VirusDefinitions&gt;\n    &lt;LogonClient&gt;Administrator&lt;/LogonClient&gt;\n    &lt;IPAddress&gt;192.168.2.2&lt;/IPAddress&gt;\n    &lt;OperatingSystem&gt;Windows Server 2008 R2 Standard Edition&lt;/OperatingSystem&gt;\n    &lt;AutoProtectEnabled&gt;1&lt;/AutoProtectEnabled&gt;\n    &lt;AgentVersion&gt;12.1.6168.6000&lt;/AgentVersion&gt;\n    &lt;Status&gt;1&lt;/Status&gt;\n    &lt;LastUpdateTime&gt;2019-06-25T09:53:19+12:00&lt;/LastUpdateTime&gt;\n    &lt;Infected&gt;0&lt;/Infected&gt;\n    &lt;WorstInfectionIDX&gt;9999&lt;/WorstInfectionIDX&gt;\n    &lt;LastScanTime&gt;2017-10-13T09:06:00+13:00&lt;/LastScanTime&gt;\n    &lt;LastVirusTime&gt;1970-01-01T00:00:00+13:00&lt;/LastVirusTime&gt;\n  &lt;/ComputerStatus&gt;\n  &lt;ComputerStatus&gt;\n    &lt;Name&gt;PC2&lt;/Name&gt;\n    &lt;VirusDefinitions&gt;2019-06-23 rev. 001&lt;/VirusDefinitions&gt;\n    &lt;LogonClient&gt;Administrator&lt;/LogonClient&gt;\n    &lt;IPAddress&gt;192.168.2.3&lt;/IPAddress&gt;\n    &lt;OperatingSystem&gt;Windows Server 2012 R2 Standard Edition&lt;/OperatingSystem&gt;\n    &lt;AutoProtectEnabled&gt;1&lt;/AutoProtectEnabled&gt;\n    &lt;AgentVersion&gt;12.1.6168.6000&lt;/AgentVersion&gt;\n    &lt;Status&gt;1&lt;/Status&gt;\n    &lt;LastUpdateTime&gt;2019-06-25T09:54:59+12:00&lt;/LastUpdateTime&gt;\n    &lt;Infected&gt;0&lt;/Infected&gt;\n    &lt;WorstInfectionIDX&gt;9999&lt;/WorstInfectionIDX&gt;\n    &lt;LastScanTime&gt;2019-06-24T11:05:03+12:00&lt;/LastScanTime&gt;\n    &lt;LastVirusTime&gt;1970-01-01T00:00:00+13:00&lt;/LastVirusTime&gt;\n  &lt;/ComputerStatus&gt;\n</code></pre>\n\n<p>This is the xml file from which I parse the stats. Its not all of it.</p>\n\n<pre><code>my @NAMES = (\"Name\", \"VirusDefinitions\", \"IPAddress\", \"OperatingSystem\", \"AgentVersion\", \"Infected\", \"LastScanTime\",\"LastUpdateTime\",\"WorstInfectionIDX\",\"LastVirusTime\",\"Threats\",\"StartDateTime\",\"StopDateTime\",\"TotalFiles\",\"Duration\",\"AutoProtectEnabled\" );\nmy $DEBUG = 2; # debug on = 1 low, = 2 detailed, = 3 full, = 0 OFF. Will print to screen needed in file the pipe &gt;filename\nmy $DETAILED = 0; #\n#vars\nmy $path = $ARGV[0];\nmy $TXT = $ARGV[1];\nopen( FIL, \"&lt; $FILEA\" )|| die \"cant open file $!\" ;\nwhile (defined ($_ = &lt;FIL&gt;)) {\nforeach my $N (@NAMES) {\n#print \"looking for $N\\n\" ;\n    if  ($_ =~ /$N/) {\n    if ($DEBUG gt 2){print \"report: Looking for $N\\n\";}\n    $_ =~ /$N(.*)$N/;\n    my $TMP = $1;\n    $TMP =~ s/[\\$#@~!&amp;*()&lt;&gt;\\[\\];,?^ `\\\\\\/]+//g;\n    #Switch that has to be extended if the array NAMES is extended\n        if ($N eq \"Name\") {\n        $NAME=$TMP; \n        }elsif ($N eq \"VirusDefinitions\"){ \n        $VIRUSDEF=$TMP;\n        }elsif ($N eq \"IPAddress\") {\n        $IP=$TMP;\n        }elsif ($N eq \"OperatingSystem\") {\n        $OS=$TMP;\n        }elsif ($N eq \"AgentVersion\") {\n        $AGNT=$TMP;\n        }elsif ($N eq \"Infected\") {\n        $INFEC=$TMP;\n        }elsif ($N eq \"LastScanTime\") {\n        $LAST=$TMP;\n        }elsif ($N eq \"LastUpdateTime\"){\n        $LASTUP=$TMP;\n        }elsif ($N eq \"WorstInfectionIDX\") {\n        $winfid=$TMP;\n        }elsif ($N eq \"LastVirusTime\") {\n        $lastvirust=$TMP;\n        }elsif ($N eq \"Threats\"){\n        $threats=$TMP;\n        }elsif ($N eq \"StartDateTime\"){\n        $starttime=$TMP;\n        }elsif ($N eq \"StopDateTime\"){\n        $stoptime=$TMP;\n        }elsif ($N eq \"TotalFiles\"){\n        $totalfil=$TMP;\n        }elsif ($N eq \"Duration\"){\n        $scandur=$TMP;\n        }elsif ($N eq \"AutoProtectEnabled\") {\n        $autoprot=$TMP;\n        $CUST =~ s/\\W//g; #We shave special characters off of the $CUST variable and return normal characters\n        print LOG \"$today $time, &lt;LastScan&gt;&lt;$LAST&gt;&lt;LastUpdateTime&gt;&lt;$LASTUP&gt;&lt;ProjectNr&gt;&lt;$PROJNO&gt;&lt;Site&gt;&lt;$CUST&gt;&lt;Device&gt;&lt;$NAME&gt;&lt;ThreatsFound&gt;&lt;$threats&gt;&lt;Definition&gt;&lt;$VIRUSDEF&gt;&lt;IpAddress&gt;&lt;$IP&gt;&lt;OS&gt;&lt;$OS&gt;&lt;AgentVersion&gt;&lt;$AGNT&gt;&lt;Infected&gt;&lt;$INFEC&gt;&lt;WorstInfectionID&gt;&lt;$winfid&gt;&lt;LastVirusDetectionTime&gt;&lt;$lastvirust&gt;&lt;ScanStartTime&gt;&lt;$starttime&gt;&lt;ScanStopTime&gt;&lt;$stoptime&gt;&lt;ScanDuration&gt;&lt;$scandur&gt;&lt;AutoProtectionEnabled&gt;&lt;$autoprot&gt;&lt;FilesScanned&gt;&lt;$totalfil&gt;&lt;FileName&gt;&lt;$FILE1&gt;\\n\" ;\n        #init variables again\n        init\n        }       \n    }else{\n    #print \"no match $N\\n\"\n    }\n</code></pre>\n\n<p>The above is the code bit that parses the xml file and prints it to a text.\nI'm aware of the code being prone to errors.</p>\n\n<pre><code>$TMP =~ s/[\\$#@~!&amp;*()&lt;&gt;\\[\\];,?^ `\\\\\\/]+//g;\n</code></pre>\n\n<p>I'm thinking the issue lies with the expression above</p>\n\n<pre><code>190626 09:55:11, &lt;LastScan&gt;&lt;2019-06-19T22:36:04+02:00&gt;&lt;LastUpdateTime&gt;&lt;2019-06-20T20:58:17+02:00&gt;&lt;ProjectNr&gt;&lt;2&gt;&lt;Site&gt;&lt;redacted&gt;&lt;Device&gt;&lt;PC1&gt;&lt;ThreatsFound&gt;&lt;0&gt;&lt;Definition&gt;&lt;2019-06-23rev.001&gt;&lt;IpAddress&gt;&lt;192.168.2.2&gt;&lt;OS&gt;&lt;WindowsServer2008R2StandardEdition&gt;&lt;AgentVersion&gt;&lt;12.1.6168.6000&gt;&lt;Infected&gt;&lt;0&gt;&lt;WorstInfectionID&gt;&lt;9999&gt;&lt;LastVirusDetectionTime&gt;&lt;1970-01-01T00:00:00+01:00&gt;&lt;ScanStartTime&gt;&lt;2019-06-19T23:19:00+02:00&gt;&lt;ScanStopTime&gt;&lt;2019-06-19T23:25:35+02:00&gt;&lt;ScanDuration&gt;&lt;395&gt;&lt;AutoProtectionEnabled&gt;&lt;1&gt;&lt;FilesScanned&gt;&lt;130219&gt;&lt;FileName&gt;&lt;PerfMonSymantecEPM-20190625-AntiVirus.xml&gt;\n190626 09:55:11, &lt;LastScan&gt;&lt;2017-10-13T09:06:00+13:00&gt;&lt;LastUpdateTime&gt;&lt;2019-06-25T09:53:19+12:00&gt;&lt;ProjectNr&gt;&lt;2&gt;&lt;Site&gt;&lt;redacted&gt;&lt;Device&gt;&lt;PC2&gt;&lt;ThreatsFound&gt;&lt;0&gt;&lt;Definition&gt;&lt;2019-06-23rev.001&gt;&lt;IpAddress&gt;&lt;192.168.2.3&gt;&lt;OS&gt;&lt;WindowsServer2012R2StandardEdition&gt;&lt;AgentVersion&gt;&lt;12.1.6168.6000&gt;&lt;Infected&gt;&lt;0&gt;&lt;WorstInfectionID&gt;&lt;9999&gt;&lt;LastVirusDetectionTime&gt;&lt;1970-01-01T00:00:00+13:00&gt;&lt;ScanStartTime&gt;&lt;2019-06-19T23:19:00+02:00&gt;&lt;ScanStopTime&gt;&lt;2019-06-19T23:25:35+02:00&gt;&lt;ScanDuration&gt;&lt;395&gt;&lt;AutoProtectionEnabled&gt;&lt;1&gt;&lt;FilesScanned&gt;&lt;130219&gt;&lt;FileName&gt;&lt;PerfMonSymantecEPM-20190625-AntiVirus.xml&gt;\n</code></pre>\n\n<p>The above is the text output file. As you can see the \"LastScan\" variable, is being printed on the wrong device. I've gone blind staring at the code and trying to figure out what the error is.</p>\n\n<p>I'm by no means a perl expert, I do coding on a hobby scale in C#. So I'm hoping you, the experts, are able to help me out, i've tried to make the info as readable as possible</p>\n"}, {"tags": ["perl", "pdl"], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 10916251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfd46aac38f24082bc9cfaa08b1f3d1a?s=128&d=identicon&r=PG&f=1", "display_name": "Enredanrestos", "link": "https://stackoverflow.com/users/10916251/enredanrestos"}, "edited": false, "score": 0, "creation_date": 1561591559, "post_id": 56767210, "comment_id": 100119039, "body": "Thank you for your answer. I must comment, however, that the sentence &quot;...If you modify the input piddles you modify the original argument, not a copy of it...&quot; is a bit misleading: if in the f_1 subroutine you replace &#39;.=&#39; by &#39;=&#39;, then the user input is not modified at all. The assignment operator &#39;.=&#39;, which is a PDL thing I think, is important in reproducing this behavior."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1561533284, "creation_date": 1561533284, "answer_id": 56767210, "question_id": 56765404, "link": "https://stackoverflow.com/questions/56765404/how-to-avoid-input-modification-in-pdl-subroutines/56767210#56767210", "title": "How to avoid input modification in PDL subroutines", "body": "<p>According to the FAQ <a href=\"https://metacpan.org/pod/PDL::FAQ#Q:-6.17-What-happens-when-I-have-several-references-to-the-same-PDL-object-in-different-variables-(cloning,-etc?)-?\" rel=\"nofollow noreferrer\">6.17 What happens when I have several references to the same PDL object in different variables</a> :</p>\n\n<blockquote>\n  <p>Piddles behave like Perl references in many respects. So when you say</p>\n\n<pre><code>$a = pdl [0,1,2,3]; $b = $a;   \n</code></pre>\n  \n  <p>then both <code>$b</code> and <code>$a</code> point to the same\n  object, e.g. then saying</p>\n\n<pre><code>$b++; \n</code></pre>\n  \n  <p>will <em>not</em> create a copy of the original piddle but just\n  increment in place<br>\n  [...]<br>\n  It is important to keep the \"reference nature\" of piddles in mind when\n  passing piddles into subroutines. If you modify the input piddles you\n  modify the original argument, not a copy of it. This is different from\n  some other array processing languages but makes for very efficient\n  passing of piddles between subroutines. If you do not want to modify\n  the original argument but rather a copy of it just create a copy\n  explicitly...</p>\n</blockquote>\n\n<p>So yes, to avoid modification of the original, create a copy as you did:</p>\n\n<pre><code>my $x = $input-&gt;copy;\n</code></pre>\n\n<p>or alternatively:</p>\n\n<pre><code>my $x = pdl( $input );\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 10916251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfd46aac38f24082bc9cfaa08b1f3d1a?s=128&d=identicon&r=PG&f=1", "display_name": "Enredanrestos", "link": "https://stackoverflow.com/users/10916251/enredanrestos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 56767210, "answer_count": 1, "score": 1, "last_activity_date": 1561533284, "creation_date": 1561524719, "last_edit_date": 1561525085, "question_id": 56765404, "link": "https://stackoverflow.com/questions/56765404/how-to-avoid-input-modification-in-pdl-subroutines", "title": "How to avoid input modification in PDL subroutines", "body": "<p>I would like to avoid the assignment operator <code>.=</code> to modify the user input from a subroutine. </p>\n\n<p>One way to avoid this is to perform a copy of the input inside the subroutine. Is this the best way to proceed? Are there other solutions? </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use PDL;use strict;\nmy $a=pdl(1);\nf_0($a);print \"$a\\n\";\nf_1($a);print \"$a\\n\";\nsub f_0{\n    my($input)=@_;\n    my $x=$input-&gt;copy;\n    $x.=0;\n}\nsub f_1{\n    my($input)=@_;\n    $input.=0;\n}\n</code></pre>\n\n<p>In my case (perl 5.22.1), executing last script prints <code>1</code> and <code>0</code> in two lines. <code>f_0</code> does not modify user input in-place, while <code>f_1</code> does.</p>\n"}, {"tags": ["perl", "raspberry-pi", "cpanel", "raspberry-pi3", "cpanel-xmlapi"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1561507216, "post_id": 56762819, "comment_id": 100083784, "body": "The <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow noreferrer\">documentation for XML::Simple</a> even says to not use it in favor of the many better alternatives...  but without seeing an example of the xml you&#39;re feeding it, can&#39;t really blame it yet... Maybe the xml is malformed like the error suggests?"}, {"owner": {"reputation": 1, "user_id": 11700047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83d5a83dd4986c9fd205f67a68f93045?s=128&d=identicon&r=PG&f=1", "display_name": "dusk", "link": "https://stackoverflow.com/users/11700047/dusk"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1561507811, "post_id": 56762819, "comment_id": 100083884, "body": "$result = $expat-&gt;parse($arg);             &lt;---- the error happens on this line. line 187."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 2, "creation_date": 1561508263, "post_id": 56762819, "comment_id": 100083970, "body": "You need to include an example of the xml data you&#39;re trying to parse in your question."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1561508425, "post_id": 56762819, "comment_id": 100083992, "body": "That script also doesn&#39;t appear to do any error checking that the http request succeeded before trying to use its results, which is also something worth investigating. (I don&#39;t know if it&#39;s a copy &amp; paste error or what, but there&#39;s a newline in one of the URL strings that shouldn&#39;t be there)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561513277, "post_id": 56762819, "comment_id": 100084755, "body": "<code>encode( $user . &quot;:&quot; . $pass )</code> should be <code>encode( $user . &quot;:&quot; . $pass, &quot;&quot; )</code>, but that&#39;s not likely to be the issue in question."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1561531569, "last_edit_date": 1561531569, "creation_date": 1561512899, "answer_id": 56764002, "question_id": 56762819, "link": "https://stackoverflow.com/questions/56762819/perl-mismatched-tag-problem-xmlsimple-module/56764002#56764002", "title": "perl mismatched tag, problem = XML::Simple module?", "body": "<p>You are getting that error because the string you pass to <code>XMLin</code> isn't valid XML. You will need to fix the input to be valid XML.</p>\n\n<p>While <a href=\"https://stackoverflow.com/q/33267765/589924\">I strongly recommend against using XML::Simple</a>, it's not because of problems parsing XML. The underlying parser used in this situation (<code>expat</code> via XML::Parser) isn't known for wrongly claiming valid XML is invalid.</p>\n\n<p>Your program should be checking if the request is successful (<code>$response-&gt;is_success</code>). I suspect you are getting some kind of error (e.g. 403 Forbidden). <code>$response-&gt;status_line</code> is useful to add to your error message.</p>\n\n<p>(If the request is successful, perhaps you should print out <code>$response-&gt;as_string</code> to examine the response to get a better idea of what is happening.) </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11700047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83d5a83dd4986c9fd205f67a68f93045?s=128&d=identicon&r=PG&f=1", "display_name": "dusk", "link": "https://stackoverflow.com/users/11700047/dusk"}, "is_accepted": false, "score": 0, "last_activity_date": 1561562921, "creation_date": 1561562921, "answer_id": 56776320, "question_id": 56762819, "link": "https://stackoverflow.com/questions/56762819/perl-mismatched-tag-problem-xmlsimple-module/56776320#56776320", "title": "perl mismatched tag, problem = XML::Simple module?", "body": "<p>I just used this shell script instead and hooked it up to my crontab and now it runs the script every hour and it works fine.</p>\n\n<p><a href=\"https://github.com/CpanelInc/cpanel-dynamicdns-tools\" rel=\"nofollow noreferrer\">https://github.com/CpanelInc/cpanel-dynamicdns-tools</a></p>\n\n<p>for my raspberry pi web server</p>\n"}], "owner": {"reputation": 1, "user_id": 11700047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83d5a83dd4986c9fd205f67a68f93045?s=128&d=identicon&r=PG&f=1", "display_name": "dusk", "link": "https://stackoverflow.com/users/11700047/dusk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1561562921, "creation_date": 1561501776, "question_id": 56762819, "link": "https://stackoverflow.com/questions/56762819/perl-mismatched-tag-problem-xmlsimple-module", "title": "perl mismatched tag, problem = XML::Simple module?", "body": "<p>when i try to run this script to send my ip to cpanel...</p>\n\n<pre><code>#!/usr/bin/perl\n# -------------------------------------------------------------------------------\n# dns_update_script.pl\n#\n# Version 1.0 - 16.01.2012\n#\n# PERL script to dynamically update the IP of a host via the cPanel-API. This\n# script was written to work with the Finnish hoster Neobitti but it might work\n# with other hosters which use cPanel too.\n#\n# Copyright (C) 2012 Stefan Gofferje - http://stefan.gofferje.net/\n#\n# This program is free software; you can redistribute it and/or\n# modify it under the terms of the GNU General Public License as\n# published by the Free Software Foundation; either version 2 of the\n# License, or (at your option) any later version.\n#\n# This program is distributed in the hope that it will be useful, but\n# WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n# General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with this program; if not, write to the Free Software\n# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n# -------------------------------------------------------------------------------\nuse strict;\nuse LWP::UserAgent;\nuse MIME::Base64;\nuse XML::Simple;\nuse Data::Dumper;\n# --- Command line parameters ------------------------------------------------\nmy $param_domain=$ARGV[0];\nmy $param_host=$ARGV[1];\nmy $param_ip=$ARGV[2];\n# --- cPanel information -----------------------------------------------------\n# Storing passwords in clear text is ugly!\nmy $cpanel_domain = \"yourdomain.com\";\nmy $user = \"yourcpaneluser\";\nmy $pass = \"yourcpanelpassword\";\nmy $auth = \"Basic \" . MIME::Base64::encode( $user . \":\" . $pass );\n# --- Deactivate SSL certificate validation ----------------------------------\n# This is ugly but neccessary because Neobitti uses self-signed SSL\n# certificates which will fail validation\nmy $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; { verify_hostname =&gt; 0 });\n# --- Find out the linenumber for the A-record we want to change -------------\nsub getlinenumber_a {\n  my $domain=$_[0];\n  my $hostname=$_[1].\".\";\n  my $xml = new XML::Simple;\n  my $request = HTTP::Request-&gt;new( GET =&gt; \"https://$cpanel_domain:2083/xml-api/cpanel?cpanel_xmlapi_module=ZoneEdit&amp;cpanel_xmlapi_func=fetchzon\ne&amp;domain=$domain\" );\n  $request-&gt;header( Authorization =&gt; $auth );\n  my $response = $ua-&gt;request($request);\n  my $zone = $xml-&gt;XMLin($response-&gt;content);\n  my $linenumber=\"\";\n  if ($zone-&gt;{'data'}-&gt;{'status'} eq \"1\") {\n    my $count = @{$zone-&gt;{'data'}-&gt;{'record'}};\n    my $oldip=\"\";\n    for (my $item=0;$item&lt;=$count;$item++) {\n        my $name=$zone-&gt;{'data'}-&gt;{'record'}[$item]-&gt;{'name'};\n        my $type=$zone-&gt;{'data'}-&gt;{'record'}[$item]-&gt;{'type'};\n        if ( ($name eq $hostname) &amp;&amp; ($type eq \"A\") ) {\n          $linenumber=$zone-&gt;{'data'}-&gt;{'record'}[$item]-&gt;{'Line'};\n          $oldip=$zone-&gt;{'data'}-&gt;{'record'}[$item]-&gt;{'record'};\n          print \"Found $hostname in line $linenumber with IP $oldip.\\n\"; # DEBUG\n        }\n    }\n  } else {\n    $linenumber=\"0\";\n    print $zone-&gt;{'event'}-&gt;{'data'}-&gt;{'statusmsg;'}\n  }\n  return($linenumber);\n}\n# --- Change the IP address record for a certain linenumber ------------------\nsub setip {\n  my $domain=$_[0];\n  my $linenumber=$_[1];\n  my $newip=$_[2];\n  my $result=\"\";\n  my $xml = new XML::Simple;\n  my $request = HTTP::Request-&gt;new( GET =&gt; \"https://$cpanel_domain:2083/xml-api/cpanel?cpanel_xmlapi_module=ZoneEdit&amp;cpanel_xmlapi_func=edit_zone_record&amp;domain=$domain&amp;line=$linenumber&amp;address=$newip\" );\n  $request-&gt;header( Authorization =&gt; $auth );\n  my $response = $ua-&gt;request($request);\n\n  my $reply = $xml-&gt;XMLin($response-&gt;content);\n  if ($reply-&gt;{'data'}-&gt;{'status'} eq \"1\") {\n    $result=\"1\";\n  } else {\n    $result=$reply-&gt;{'data'}-&gt;{'statusmsg'};\n  }\n  return($result);\n}\n# --- Main procedure ---------------------------------------------------------\nprint \"Trying to find the linenumber for $param_host in $param_domain...\\n\";\nmy $line=getlinenumber_a($param_domain,$param_host);\nif ( ($line ne \"0\") &amp;&amp; ($line ne \"\") ) {\n  print \"Trying to update IP...\\n\";\n  my $result=setip ($param_domain,$line,$param_ip);\n  if ($result eq \"1\") {\n    print \"Update successful!\\n\";\n  } else {\n    print \"$result\\n\";\n  }\n} else {\n  print \"Error - check domain and hostname!\\n\";\n}\n</code></pre>\n\n<hr>\n\n<p>... I get this error:</p>\n\n<pre><code>mismatched tag at line 37, column 2, byte 4634 at /usr/lib/arm-linux-gnueabihf/perl5/5.28/XML/Parser.pm line 187.\nXML::Simple called at dns_update_script.pl line 55.\n</code></pre>\n\n<hr>\n\n<p>in the cPanel information section I have filled in my cpanel username, password and domain in my file (not this one). I have filled this in in open text like a noob and ignored this thing:</p>\n\n<pre><code>  my $auth = \"Basic \" . MIME::Base64::encode( $user . \":\" . $pass );\n</code></pre>\n\n<p>but i dont think this is the problem.</p>\n\n<p>I think the problem is in the XML::Simple module because the script stops when that module is called it seems like to me but idk. pls help.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 3, "creation_date": 1561500433, "post_id": 56762606, "comment_id": 100082399, "body": "Why do you think these are the same? In what way did you compare the code?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1561500440, "post_id": 56762606, "comment_id": 100082401, "body": "Your question is unclear. Who says the code is more readable? Why do you assign elements to an array to make it empty in the next line?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 4, "creation_date": 1561500929, "post_id": 56762606, "comment_id": 100082514, "body": "Is the code in the question used in a larger statement? If it&#39;s assigned to something, this makes a difference -- context matters in Perl."}], "answers": [{"comments": [{"owner": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 2, "creation_date": 1561500685, "post_id": 56762689, "comment_id": 100082458, "body": "And if you don&#39;t use <code>use strict</code>, then don&#39;t worry, I&#39;ve already sent over the strike team to set you straight."}, {"owner": {"reputation": 58, "user_id": 10583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b15bc13827d55f610c21e191ecc7a23?s=128&d=identicon&r=PG&f=1", "display_name": "oaccamsrazor", "link": "https://stackoverflow.com/users/10583726/oaccamsrazor"}, "reply_to_user": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1561654927, "post_id": 56762689, "comment_id": 100145965, "body": "Please do use <code>use strict;</code> while it might kill you with error bombardment, it will make your code behave a little more sanely. :D"}], "tags": [], "owner": {"reputation": 58, "user_id": 10583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b15bc13827d55f610c21e191ecc7a23?s=128&d=identicon&r=PG&f=1", "display_name": "oaccamsrazor", "link": "https://stackoverflow.com/users/10583726/oaccamsrazor"}, "is_accepted": false, "score": 1, "last_activity_date": 1561500856, "last_edit_date": 1561500856, "creation_date": 1561500645, "answer_id": 56762689, "question_id": 56762606, "link": "https://stackoverflow.com/questions/56762606/whats-the-difference-in-these-two-array-declarations/56762689#56762689", "title": "What&#39;s the difference in these two array declarations?", "body": "<p><code>my @arr = ();</code> declares a perl variable <code>@arr</code> as local to the scope of the enclosed block. The declaration in the title: <code>@a, @a = ()</code> defines <code>@a</code> globally. These links can provide you some help:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/20889609/how-should-i-use-the-my-keyword-in-perl\">How should I use the &quot;my&quot; keyword in Perl?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/24334008/why-declare-perl-variable-with-my-at-file-scope\">Why declare Perl variable with &quot;my&quot; at file scope?</a></p>\n\n<p>and from perldoc:</p>\n\n<p><a href=\"https://perldoc.perl.org/functions/my.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/functions/my.html</a></p>\n\n<p>if you used modules like <code>use strict</code>, your program would fail if variable were not defined with <code>my</code>.</p>\n\n<p><code>my @arr = qw(foo bar)</code> is the Perl <strong>style</strong>. It is more or less <em>convention</em> of the Perl language (e.g. how Python code is <em>Pythonic</em>).</p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 10950852, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yHnwzwtDIt0/AAAAAAAAAAI/AAAAAAAAAAs/8yZStI5PtW0/photo.jpg?sz=128", "display_name": "Zwarte Kop", "link": "https://stackoverflow.com/users/10950852/zwarte-kop"}, "edited": false, "score": 0, "creation_date": 1561587976, "post_id": 56762753, "comment_id": 100118200, "body": "Sorry I&#39;m new here. I phrased the question wrong, is it better to delete this post and create a new one or should i just leave this one up?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 47, "user_id": 10950852, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yHnwzwtDIt0/AAAAAAAAAAI/AAAAAAAAAAs/8yZStI5PtW0/photo.jpg?sz=128", "display_name": "Zwarte Kop", "link": "https://stackoverflow.com/users/10950852/zwarte-kop"}, "edited": false, "score": 0, "creation_date": 1561589108, "post_id": 56762753, "comment_id": 100118491, "body": "@ZwarteKop if you are significantly changing the question, better to delete and create a new one.  but I totally don&#39;t understand your updated question; can you show more of the original code or context?  what are you splicing? what variables do you have to start with and what variables and values for them do you want to end up with?"}, {"owner": {"reputation": 47, "user_id": 10950852, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yHnwzwtDIt0/AAAAAAAAAAI/AAAAAAAAAAs/8yZStI5PtW0/photo.jpg?sz=128", "display_name": "Zwarte Kop", "link": "https://stackoverflow.com/users/10950852/zwarte-kop"}, "edited": false, "score": 0, "creation_date": 1561589447, "post_id": 56762753, "comment_id": 100118579, "body": "Well i just looked and this question was so bad I can&#39;t ask a new one for a couple days. I think i&#39;ll wait and then post a new one with more context. Then i can get timed out again for proving to much detail. I&#39;m really sorry for wasting your time guys.  Context: Our prof in uni asked us to replicate push, pop and shift with only slice. Then he asked us to replicate the 2 cmd&#39;s above. You can also do this with splice because if you only give an array it just deletes it. I think. The question is what&#39;s up with the weird notation to delete the array? I really hope this helps. I&#39;m sorry guys."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 47, "user_id": 10950852, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yHnwzwtDIt0/AAAAAAAAAAI/AAAAAAAAAAs/8yZStI5PtW0/photo.jpg?sz=128", "display_name": "Zwarte Kop", "link": "https://stackoverflow.com/users/10950852/zwarte-kop"}, "edited": false, "score": 0, "creation_date": 1561589723, "post_id": 56762753, "comment_id": 100118648, "body": "which two commands?  it wasn&#39;t clear.  <code>@arr = ();</code> is <code>splice(@arr)</code>, but what is the other one?  when you include the <code>my</code> you are confusing things, since declaring an array is not something splice can do"}, {"owner": {"reputation": 47, "user_id": 10950852, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yHnwzwtDIt0/AAAAAAAAAAI/AAAAAAAAAAs/8yZStI5PtW0/photo.jpg?sz=128", "display_name": "Zwarte Kop", "link": "https://stackoverflow.com/users/10950852/zwarte-kop"}, "edited": false, "score": 0, "creation_date": 1561590538, "post_id": 56762753, "comment_id": 100118823, "body": "replicate @arr; and @arr() with splice. The solution is splice(@arr) because the perldoc says &quot;If both OFFSET and LENGTH are omitted, (splice) removes everything.&quot;"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1561501200, "creation_date": 1561501200, "answer_id": 56762753, "question_id": 56762606, "link": "https://stackoverflow.com/questions/56762606/whats-the-difference-in-these-two-array-declarations/56762753#56762753", "title": "What&#39;s the difference in these two array declarations?", "body": "<p><code>my @arr =</code> declares an array and assigns a list to it.</p>\n\n<p>In your first example, the list is one formed by <a href=\"https://perldoc.perl.org/perlop.html#qw%2F_STRING_%2F\" rel=\"nofollow noreferrer\"><code>qw</code></a>, which \"Evaluates to a list of the words extracted out of STRING, using embedded whitespace as the word delimiters.\"  So <code>qw( A B C D )</code> is the list <code>'A','B','C','D'</code>.  Other delimiters than <code>()</code> can be used, just like with other quote-type operators.</p>\n\n<p>In your second example, you are assigning an empty list to the new array.  To make it equivalent to the first example without using qw, it could be:</p>\n\n<pre><code>my @arr = ('A','B','C','D');\n</code></pre>\n\n<p>or even:</p>\n\n<pre><code>my @arr = 'A'..'D';\n</code></pre>\n\n<p><code>qw</code> is there for convenience; most people like it, some do not.  Use whatever works for you.</p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 10950852, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yHnwzwtDIt0/AAAAAAAAAAI/AAAAAAAAAAs/8yZStI5PtW0/photo.jpg?sz=128", "display_name": "Zwarte Kop", "link": "https://stackoverflow.com/users/10950852/zwarte-kop"}, "edited": false, "score": 0, "creation_date": 1561740056, "post_id": 56764155, "comment_id": 100175150, "body": "Thank you this is the answer to the question i was trying to ask."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1561514495, "creation_date": 1561514495, "answer_id": 56764155, "question_id": 56762606, "link": "https://stackoverflow.com/questions/56762606/whats-the-difference-in-these-two-array-declarations/56764155#56764155", "title": "What&#39;s the difference in these two array declarations?", "body": "<pre><code>my @arr = ();\n</code></pre>\n\n<p>is a cluttered, inefficient way of writing</p>\n\n<pre><code>my @arr;\n</code></pre>\n\n<p>What it does: It creates a new empty lexically-scopped array named <code>@arr</code>.</p>\n\n<p>Lexically-scoped means <code>@arr</code> is only visible (i.e. can only be used) within the inner-most curlies (or file) that contains it.</p>\n\n<p>Assigning an empty list to array empties it, but newly created arrays are guaranteed to be empty already.</p>\n\n<hr>\n\n<pre><code>my @arr = qw( A B C D );\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>my @arr = split(' ', q( A B C D ));\n</code></pre>\n\n<p>It's a convenient (i.e. shorter) way of writing</p>\n\n<pre><code>my @arr = ( 'A', 'B', 'C', 'D' );\n</code></pre>\n\n<p>What it does: It creates a new lexically-scopped array named <code>@arr</code>, and assigns four strings (<code>A</code>, <code>B</code>, <code>C</code> and <code>D</code>) to it.</p>\n\n<p>You'd get the same result from</p>\n\n<pre><code>my @arr;\n$arr[0] = 'A';\n$arr[1] = 'B';\n$arr[2] = 'C';\n$arr[3] = 'D';\n</code></pre>\n\n<hr>\n\n<p><code>(@arr, @arr = ( ))</code> makes no sense. It amounts to <code>@arr = ()</code>.</p>\n\n<p><code>my @arr = qw (A B C D); my @arr = ();</code> makes no sense. It amounts to <code>my @arr;</code>.</p>\n"}], "owner": {"reputation": 47, "user_id": 10950852, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yHnwzwtDIt0/AAAAAAAAAAI/AAAAAAAAAAs/8yZStI5PtW0/photo.jpg?sz=128", "display_name": "Zwarte Kop", "link": "https://stackoverflow.com/users/10950852/zwarte-kop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 56764155, "answer_count": 3, "score": -4, "last_activity_date": 1561586774, "creation_date": 1561500146, "last_edit_date": 1561586774, "question_id": 56762606, "link": "https://stackoverflow.com/questions/56762606/whats-the-difference-in-these-two-array-declarations", "title": "What&#39;s the difference in these two array declarations?", "body": "<p>Ok I realize my original question was really bad. Here goes take 2. Our goal is to replicate the behaviour the folowing commands in Perl using only \"splice\". </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my @arr = qw (A B C D);\n@arr = ();\n#or\n@arr;\n#replace the commands above.\n</code></pre>\n\n<p>I used </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>splice(@arr)\n</code></pre>\n\n<p>to replace the command. But I was wondering if there's a difference between writing </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>@arr = (); \n</code></pre>\n\n<p>and </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>@arr;\n</code></pre>\n"}, {"tags": ["perl", "tk"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1561489669, "post_id": 56760432, "comment_id": 100078552, "body": "I&#39;d say use <code>Label(-text =&gt; $printItem-&gt;get)</code>, but that&#39;s a guess and I can&#39;t try it because you haven&#39;t provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 175, "user_id": 10902967, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QuFnwmt5b1Q/AAAAAAAAAAI/AAAAAAAAADA/6vpTCfPYN_M/photo.jpg?sz=128", "display_name": "Blue-Maned Hawk", "link": "https://stackoverflow.com/users/10902967/blue-maned-hawk"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561490163, "post_id": 56760432, "comment_id": 100078763, "body": "Does what I have not count?  Also, your solution worked.  If you put it as answer, I can confirm it."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1561492076, "post_id": 56760432, "comment_id": 100079552, "body": "No, it doesn&#39;t even compile: <code>Global symbol &quot;$mw&quot; requires explicit package name (did you forget to declare &quot;my $mw&quot;?) at try.pl line 3.</code> Also, <code>-width = 20</code> needs to be <code>-width =&gt; 20</code>. And you&#39;re missing a <code>)</code> somewhere."}, {"owner": {"reputation": 175, "user_id": 10902967, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QuFnwmt5b1Q/AAAAAAAAAAI/AAAAAAAAADA/6vpTCfPYN_M/photo.jpg?sz=128", "display_name": "Blue-Maned Hawk", "link": "https://stackoverflow.com/users/10902967/blue-maned-hawk"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561498492, "post_id": 56760432, "comment_id": 100081826, "body": "Ah.  You&#39;re right.  I can fix it."}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 2, "last_activity_date": 1561492268, "last_edit_date": 1561492268, "creation_date": 1561491483, "answer_id": 56760937, "question_id": 56760432, "link": "https://stackoverflow.com/questions/56760432/how-do-i-change-the-data-in-a-label-in-perl-tk/56760937#56760937", "title": "How do I change the data in a label in Perl Tk?", "body": "<p><code>Tk::Entry=HASH(0xdeadbeef)</code> is how Perl stringifies objects. And indeed, your <code>$printItem</code> variable stores an object of class <code>Tk::Entry</code>:</p>\n\n<pre><code>my $printItem = $mw -&gt; Entry(-width = 20);\n</code></pre>\n\n<p>To get the string from a <a href=\"https://metacpan.org/pod/distribution/Tk/pod/Entry.pod\" rel=\"nofollow noreferrer\">Tk::Entry</a> widget, you can use its <a href=\"https://metacpan.org/pod/distribution/Tk/pod/Entry.pod#$entry-%3Eget\" rel=\"nofollow noreferrer\"><code>get</code> method</a>:</p>\n\n<pre><code>... -command =&gt; sub { $mw-&gt;Label(-text =&gt; $printItem-&gt;get)-&gt;pack } ...\n</code></pre>\n\n<p>Complete working example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Tk;\n\nmy $mw = MainWindow-&gt;new;\n\nmy $printItem = $mw-&gt;Entry(-width =&gt; 20); $printItem-&gt;pack;\n\n$mw-&gt;Button(-text =&gt; \"Write.\", -command =&gt; sub { $mw-&gt;Label(-text =&gt; $printItem-&gt;get)-&gt;pack })-&gt;pack;\n\nMainLoop;\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 10902967, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QuFnwmt5b1Q/AAAAAAAAAAI/AAAAAAAAADA/6vpTCfPYN_M/photo.jpg?sz=128", "display_name": "Blue-Maned Hawk", "link": "https://stackoverflow.com/users/10902967/blue-maned-hawk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 56760937, "answer_count": 1, "score": 0, "last_activity_date": 1561498527, "creation_date": 1561489004, "last_edit_date": 1561498527, "question_id": 56760432, "link": "https://stackoverflow.com/questions/56760432/how-do-i-change-the-data-in-a-label-in-perl-tk", "title": "How do I change the data in a label in Perl Tk?", "body": "<p>I'm trying to create a program with Tk that will take the data from an entry, and, at the click of a button, create a label that has that data.</p>\n\n<p>Below is the code I've been debugging.  In the process of debugging, I have tried tb]geh following:</p>\n\n<ul>\n<li>using references to <code>$printItem</code></li>\n<li>have the subroutine connected to <code>-command</code> go to a subroutine</li>\n<li>combining the above in various ways</li>\n</ul>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use Tk; use strict; use warnings;\n\n$mw = MainWindow -&gt; new;\n\nmy $printItem = $mw -&gt; Entry(-width = 20); $printItem -&gt; pack;\n\n$mw -&gt; Button(-text =&gt; \"Write.\", -command =&gt; sub{ $mw -&gt; Label(-text =&gt; \"$printItem\") -&gt; pack} -&gt; pack;\n\nMainLoop;\n</code></pre>\n\n<p>When I click the button, all that the label shows is <code>Tk::Entry=HASH([seemingly random hexadecimal number here])</code>.  This is obviously not what I want, and I'd like to know how I can get the effect I desire.</p>\n"}, {"tags": ["regex", "perl", "spamassassin"], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1561480334, "post_id": 56758382, "comment_id": 100074384, "body": "You might want to use <code>(?:^|[-\\d])</code> for the beginning expression and <code>(?:$|[-\\d])</code> at the end to also specifically allow empty strings at either end. Your current expression requires there to be at least one (non-dash, non-digit) character on either side."}, {"owner": {"reputation": 1465, "user_id": 7327755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsjT4.jpg?s=128&g=1", "display_name": "Ashton Wiersdorf", "link": "https://stackoverflow.com/users/7327755/ashton-wiersdorf"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1561480665, "post_id": 56758382, "comment_id": 100074562, "body": "@tripleee You&#39;re exactly right. Thank you for catching that!"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1561480771, "post_id": 56758382, "comment_id": 100074611, "body": "Of course, I lost the negation, sorry about that - you want <code>[^-\\d]</code> in both places."}, {"owner": {"reputation": 1465, "user_id": 7327755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsjT4.jpg?s=128&g=1", "display_name": "Ashton Wiersdorf", "link": "https://stackoverflow.com/users/7327755/ashton-wiersdorf"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1561481074, "post_id": 56758382, "comment_id": 100074762, "body": "<i>sheepish look</i> that&#39;s what I get for copy-paste. Thanks."}, {"owner": {"reputation": 10469, "user_id": 519360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f90aeb577f276cbaee4db1b7bdf622a?s=128&d=identicon&r=PG", "display_name": "Adam Katz", "link": "https://stackoverflow.com/users/519360/adam-katz"}, "edited": false, "score": 0, "creation_date": 1584120483, "post_id": 56758382, "comment_id": 107348838, "body": "<b>This answer&#39;s regex will match <code>a007-08-9056</code> and I don&#39;t know if that&#39;s desired.</b> A word boundary is defined by two characters or a character and a start-of-file or end-of-file, so you can&#39;t say &quot;<code>-</code> is considered a word boundary&quot; since it is just one character. It counts as a non-word character, so it is a word boundary if and only if it abuts a word character (a letter, number, or underscore; see <a href=\"https://stackoverflow.com/a/60674839/519360\">my answer</a> for a more detailed definition of <code>\\b</code>)."}], "tags": [], "owner": {"reputation": 1465, "user_id": 7327755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsjT4.jpg?s=128&g=1", "display_name": "Ashton Wiersdorf", "link": "https://stackoverflow.com/users/7327755/ashton-wiersdorf"}, "is_accepted": true, "score": 3, "last_activity_date": 1561480999, "last_edit_date": 1561480999, "creation_date": 1561480029, "answer_id": 56758382, "question_id": 56758274, "link": "https://stackoverflow.com/questions/56758274/regex-help-specific-to-spamassassin/56758382#56758382", "title": "Regex help specific to Spamassassin", "body": "<p>Your problem is that <code>\\b</code> matches at the word boundary, and <code>-</code> is considered a word boundary. You can try something like this:</p>\n\n<pre><code>(?:^|[^-\\d])((?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4})(?:$|[^-\\d])\n</code></pre>\n\n<p>Match will then be available in <code>$1</code>. You might be able to find more elegant solution based on your specific kind of input strings. (E.g. will the SSN always have whitespace around it? If so, you can use <code>\\s</code>, etc.)</p>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 3, "last_activity_date": 1561480070, "creation_date": 1561480070, "answer_id": 56758387, "question_id": 56758274, "link": "https://stackoverflow.com/questions/56758274/regex-help-specific-to-spamassassin/56758387#56758387", "title": "Regex help specific to Spamassassin", "body": "<p>The <code>\\b</code> assertion is a word boundary - it matches any location that transitions from a word character to a non-word character. Digits are word characters, and hyphens are not. To specify a whitespace boundary, you can use lookarounds:</p>\n\n<pre><code>(?&lt;!\\S)(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}(?!\\S)\n</code></pre>\n\n<p>This specifies that there is no non-space character before the pattern, and no non-space character after. The lookaround allows you to specify this while still matching at the beginning or end of the string.</p>\n"}, {"tags": [], "owner": {"reputation": 10469, "user_id": 519360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f90aeb577f276cbaee4db1b7bdf622a?s=128&d=identicon&r=PG", "display_name": "Adam Katz", "link": "https://stackoverflow.com/users/519360/adam-katz"}, "is_accepted": false, "score": 1, "last_activity_date": 1584120730, "last_edit_date": 1584120730, "creation_date": 1584120288, "answer_id": 60674839, "question_id": 56758274, "link": "https://stackoverflow.com/questions/56758274/regex-help-specific-to-spamassassin/60674839#60674839", "title": "Regex help specific to Spamassassin", "body": "<pre><code>\\b(?&lt;![.-])(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}\\b(?![.-])\n</code></pre>\n\n<p>This is the same as your regex, but it also excludes surrounding dashes and dots (feel free to add to those character classes, but ensure that the dash (<code>-</code>) is always at the end or else it'll create a range).</p>\n\n<p><code>\\b</code> matches a word break. You probably know this, but that means one side of it (either before or after but not both) must be a word character (a letter, number, or underscore) and the other side (either after or before but not both) must <em>not</em> be a word character (it may instead be a line break or nonexistent due to having reached the beginning/end of the string). You want this, but you want to exclude a few more things too. Therefore:</p>\n\n<p><code>\\b(?&lt;![.-])</code> means that after the word break, check the previous character (if any). It must not match <code>[.-]</code> (a single character that is either dot or dash).</p>\n\n<p><code>\\b(?![.-])</code> means that after the word break, the next character (if any) must not match <code>[.-]</code>.</p>\n\n<p>When I say \"if any\" I am referring to the possibility that there is a line break, start of file, or end of file instead. Those will all satisfy these negative lookarounds.</p>\n\n<p>See also this <a href=\"https://regex101.com/r/iG7cip/1\" rel=\"nofollow noreferrer\">full regex explanation, with examples, at regex101</a></p>\n"}], "owner": {"reputation": 145, "user_id": 2180664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ba4812e081da1a194d32a3b4430d53?s=128&d=identicon&r=PG", "display_name": "Julian", "link": "https://stackoverflow.com/users/2180664/julian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 56758382, "answer_count": 3, "score": 0, "last_activity_date": 1584120730, "creation_date": 1561479602, "question_id": 56758274, "link": "https://stackoverflow.com/questions/56758274/regex-help-specific-to-spamassassin", "title": "Regex help specific to Spamassassin", "body": "<p>I'm trying to create a filter for social security numbers and have the following regex:</p>\n\n<pre><code>\\b(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}\\b\n</code></pre>\n\n<p>The problem is that the regex also matches the following type of string in Spamassassin and I haven't been able to solve the problem.</p>\n\n<p>18-007-08-9056-1462-2205</p>\n\n<p>I would like it to match only if the SSN string is on its own. Examples:</p>\n\n<pre><code>18 007-08-9056 1462-2205\n007-08-9056\nxyz 007-08-9056\n007-08-9056 xyz\n</code></pre>\n"}, {"tags": ["perl", "pdf", "pdf-generation", "acrofields"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561496293, "post_id": 56758129, "comment_id": 100081143, "body": "I am not familar with PDF specificaton, but using a <code>PDFName()</code> as a hash key seems wrong. For example <code>$item-&gt;{AP}-&gt;{N}-&gt;{$off} = PDFNull()</code> where <code>$off</code> is a <code>PDFName()</code>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561501777, "post_id": 56758129, "comment_id": 100082710, "body": "Looking at <a href=\"https://metacpan.org/release/PDF-API2/source/lib/PDF/API2.pm#L1541\" rel=\"nofollow noreferrer\">the source</a> it seems <code>$pdf-&gt;{Root}-&gt;{AcroForm} = ...</code> should be <code>$pdf-&gt;{pdf}{Root}{AcroForm} = ...</code>"}, {"owner": {"reputation": 160, "user_id": 570265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf08714ab585a293da3bc8a41c46e8b2?s=128&d=identicon&r=PG", "display_name": "E-Rock", "link": "https://stackoverflow.com/users/570265/e-rock"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561502539, "post_id": 56758129, "comment_id": 100082857, "body": "I think you may be correct about the placement of the AcroForm. I&#39;ll try that soon. As far as using the PDFName as the hash key, I&#39;m at a point where I&#39;ve tried both ways and was unsuccessful with both. The resulting PDFMarkup appeared correct but I&#39;ll look at this as a possible point of failure as well."}, {"owner": {"reputation": 160, "user_id": 570265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf08714ab585a293da3bc8a41c46e8b2?s=128&d=identicon&r=PG", "display_name": "E-Rock", "link": "https://stackoverflow.com/users/570265/e-rock"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561502911, "post_id": 56758129, "comment_id": 100082934, "body": "Here&#39;s where I am now: when opened in Adobe Acrobat, the annotation functions but is invisible when selected. This is with my original placement of the AcroForm, and with all entries in $item-&gt;{AP} commented out. The annotation still doesn&#39;t function when opened with the browser, whereas my /Annot /Widget /Tx annotations work perfectly in both the browser and in the PDF reader. I had also removed the NeedAppearances flag, so I&#39;m at a loss as to where the appearance stream is being generated from. I&#39;ve also commented out the default resources in DR."}, {"owner": {"reputation": 160, "user_id": 570265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf08714ab585a293da3bc8a41c46e8b2?s=128&d=identicon&r=PG", "display_name": "E-Rock", "link": "https://stackoverflow.com/users/570265/e-rock"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1561648867, "post_id": 56758129, "comment_id": 100143016, "body": "The solution: indeed I needed to move the AcroForm, I also needed to populate a couple of entries in the item properties so that readers would have enough information to build the appearances itself. In particular, the button I wanted to render needed a {&#39; stream&#39;} entry that was an empty string. I&#39;m assuming this forced the module to include the stream / endstream tags, which allowed the PDF reader to insert its own appearance streams. I&#39;m still not sure how to set up a proper appearance stream, but this works for now."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1561662574, "post_id": 56794386, "comment_id": 100149114, "body": "Thanks for taking the time to figure this out! I tried your code and unfortunately it did not work here. Specifically, <code>PDF::API2::Resource::XObject::Form-&gt;new( $pdf )</code> is failing. I think you need to replace <code>$pdf</code> with <code>$pdf-&gt;{pdf}</code> ? At least if I do this, it compiles and the resulting PDF shows a &quot;yes&quot; checkbox."}, {"owner": {"reputation": 160, "user_id": 570265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf08714ab585a293da3bc8a41c46e8b2?s=128&d=identicon&r=PG", "display_name": "E-Rock", "link": "https://stackoverflow.com/users/570265/e-rock"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1562601401, "post_id": 56794386, "comment_id": 100417469, "body": "You are correct, after more fiddling that did appear to be an issue. The normal text annotations rendered without the AcroForm entry so I had assumed that was all correct."}], "tags": [], "owner": {"reputation": 160, "user_id": 570265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf08714ab585a293da3bc8a41c46e8b2?s=128&d=identicon&r=PG", "display_name": "E-Rock", "link": "https://stackoverflow.com/users/570265/e-rock"}, "is_accepted": false, "score": 1, "last_activity_date": 1561649362, "creation_date": 1561649362, "answer_id": 56794386, "question_id": 56758129, "link": "https://stackoverflow.com/questions/56758129/how-to-make-check-boxes-render-in-pdf-using-perls-pdfapi2/56794386#56794386", "title": "How to make Check Boxes render in PDF using Perl&#39;s PDF::API2", "body": "<p>This is the code I finally got to render correctly, both in the browser and in Adobe Reader. Posting this because working examples of using this module for widget annotations are sparse. </p>\n\n<p>The trick was: using {pdf}->new_obj to define objects and capture their references, as well as proper placement of the AcroForm, and finally, setting the {' stream'} property to an empty string, which I suppose forced the rendering of the stream / endstream tags, allowing the PDF readers an anchor in which to insert their appearance streams. </p>\n\n<p>I used qpdf to analyze my output, which allowed me to see how the module's various methods were affecting the final PDF output.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>    #!/usr/bin/perl\n\n    # set up pdf\n    my $pdfOptions = {};\n    my $pdf = PDF::API2-&gt;new( \\$pdfOptions );\n    my $page = $pdf-&gt;page();\n\n    $page-&gt;mediabox( 'Letter' );\n\n    my @Annots;\n    my @Fields;\n\n    my $fontObj = PDFDict();\n    $fontObj-&gt;realise();\n    $fontObj-&gt;{Type} = PDFName( 'Font' );\n    $fontObj-&gt;{Subtype} = PDFName( 'Type1' );\n    $fontObj-&gt;{BaseFont} = PDFName( 'Times-Roman' );\n    $fontObj = $pdf-&gt;{pdf}-&gt;new_obj( $fontObj );\n\n    my $resourceObj = PDFDict();\n    $resourceObj-&gt;realise();\n\n    $resourceObj-&gt;{Font} = PDFDict();\n    $resourceObj-&gt;{Font}-&gt;realise();\n\n    $resourceObj-&gt;{Font}-&gt;{F1} = $fontObj;\n    $resourceObj = $pdf-&gt;{pdf}-&gt;new_obj( $resourceObj );\n\n    my $AcroForm = PDFDict();\n    $AcroForm-&gt;realise();\n    $AcroForm-&gt;{DR} = $resourceObj;\n    $AcroForm-&gt;{NeedAppearances} = PDFBool( 'true' );\n\n    my $yesObj = PDF::API2::Resource::XObject::Form-&gt;new( $pdf );\n    $yesObj-&gt;{Resources} = $resourceObj;\n    $yesObj-&gt;{BBox} = PDF::API2::Basic::PDF::Literal-&gt;new( \"[100 300 200 400]\" );\n    $yesObj-&gt;realise();\n    $yesObj-&gt;{' stream'} = '';\n    $yesObj = $pdf-&gt;{pdf}-&gt;new_obj( $yesObj );\n\n    my $noObj = PDF::API2::Resource::XObject::Form-&gt;new( $pdf );\n    $noObj-&gt;{Resources} = $resourceObj;\n    $noObj-&gt;{Subtype} = PDFName( 'Form' );\n    $noObj-&gt;{BBox} = PDF::API2::Basic::PDF::Literal-&gt;new( \"[100 300 200 400]\" );\n    $noObj-&gt;realise();\n    $noObj-&gt;{' stream'} = '';\n    $noObj = $pdf-&gt;{pdf}-&gt;new_obj( $noObj );\n\n    my $item = PDFDict();\n    $item-&gt;{Type}    = PDFName( 'Annot' );\n    $item-&gt;{Subtype} = PDFName( 'Widget' );\n    $item-&gt;{FT}      = PDFName( 'Btn' );\n    $item-&gt;{T}       = PDFStr( 'checkbox1' );\n    $item-&gt;{V}       = PDFName( 'Yes' );\n    $item-&gt;{P}       = $page;\n    $item-&gt;{Rect}    = PDF::API2::Basic::PDF::Literal-&gt;new( \"[100 300 200 400]\" );\n    $item-&gt;{H}       = PDFName( 'N' );\n    $item-&gt;{AS} = PDFName('Yes');\n\n    $item-&gt;{AP}      = PDFDict();\n    $item-&gt;{AP}-&gt;realise();\n\n    $item-&gt;{AP}-&gt;{N} = PDFDict();\n    $item-&gt;{AP}-&gt;{N}-&gt;realise();\n    $item-&gt;{AP}-&gt;{N}-&gt;{'Yes'} = $yesObj;\n    $item-&gt;{AP}-&gt;{N}-&gt;{'Off'} = $noObj;\n\n    $item = $pdf-&gt;{pdf}-&gt;new_obj( $item );\n\n    $item-&gt;realise();\n\n    push @Annots, $item;\n    push @Fields, $item if( $AcroForm );\n\n    $page-&gt;{Annots} = PDFArray( @Annots );\n    $AcroForm-&gt;{Fields} = PDFArray(@Fields) if( $AcroForm );\n    $pdf-&gt;{catalog}-&gt;{'AcroForm'} = $AcroForm;\n    $pdf-&gt;{pdf}-&gt;out_obj($pdf-&gt;{catalog});\n\n    print $pdf-&gt;stringify();\n    exit;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14016705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ae86153b335e2d45a5f16eb70d38151?s=128&d=identicon&r=PG", "display_name": "nelson", "link": "https://stackoverflow.com/users/14016705/nelson"}, "is_accepted": false, "score": 0, "last_activity_date": 1596038334, "last_edit_date": 1596038334, "creation_date": 1596034594, "answer_id": 63156488, "question_id": 56758129, "link": "https://stackoverflow.com/questions/56758129/how-to-make-check-boxes-render-in-pdf-using-perls-pdfapi2/63156488#63156488", "title": "How to make Check Boxes render in PDF using Perl&#39;s PDF::API2", "body": "<p>Following code will mark PDF checkbox</p>\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse CAM::PDF;\nmy $pdf = CAM::PDF-&gt;new('tenant.pdf') or die &quot;Could not open PDF ($!)!&quot;;\nmy @fields = $pdf-&gt;getFormFieldList();\nforeach my $field ( @fields ) {\n if ($field =~ /Female/) {\n  my $ff_obj    = $pdf-&gt;getFormField($field);\n\n  $ff_obj-&gt;{value}-&gt;{value}-&gt;{AS}-&gt;{value} = &quot;On&quot;;\n  }\n  else {\n    $pdf-&gt;fillFormFields($field =&gt; $field);\n  }\n}\n$pdf-&gt;cleanoutput('afilled.pdf');\n</code></pre>\n"}], "owner": {"reputation": 160, "user_id": 570265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf08714ab585a293da3bc8a41c46e8b2?s=128&d=identicon&r=PG", "display_name": "E-Rock", "link": "https://stackoverflow.com/users/570265/e-rock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1596038334, "creation_date": 1561478944, "last_edit_date": 1561479616, "question_id": 56758129, "link": "https://stackoverflow.com/questions/56758129/how-to-make-check-boxes-render-in-pdf-using-perls-pdfapi2", "title": "How to make Check Boxes render in PDF using Perl&#39;s PDF::API2", "body": "<p>I've been trying for days to get a CheckBox or Radio Button to render using PDF::API2 and haven't been able to.</p>\n\n<p>I've poured over the PDFMark reference, PDF specification, and any examples I've been able to find. I can get simple Widget annotations to render, but haven't been able to get anything that requires an appearance stream or appearance dictionary to work correctly. Below is a selection of test code attempting to set up a checkbox:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse PDF::API2;\nuse PDF::API2::Basic::PDF::Utils;\n\n# set up pdf\nmy $pdfOptions = {};\nmy $pdf = PDF::API2-&gt;new( \\$pdfOptions );\nmy $page = $pdf-&gt;page();\n\n$page-&gt;mediabox( 'Letter' );\n\nmy $AcroForm = PDFDict();\n$AcroForm-&gt;{NeedAppearances} = PDFBool( 'true' );\n$AcroForm-&gt;realise;\n\nmy @Annots;\nmy @Fields;\n\nmy $resourceObj = PDFDict();\n$resourceObj-&gt;{Type}     = PDFName( 'Font' );\n$resourceObj-&gt;{Subtype}  = PDFName( 'Type1' );\n$resourceObj-&gt;{Name}     = PDFName( 'ZaDb' );\n$resourceObj-&gt;{BaseFont} = PDFName( 'ZapfDingbats' );\n$resourceObj-&gt;realise();\n\n\n$AcroForm-&gt;{DR} = PDFDict();\n$AcroForm-&gt;{DR}-&gt;{Font} = PDFDict();\n$AcroForm-&gt;{DR}-&gt;{ZaDb} = $resourceObj;\n$AcroForm-&gt;realise();\n\nmy $item = PDFDict();\n\n$item-&gt;{P}   = $page;\n$item-&gt;{Type}    = PDFName( 'Annot' );\n$item-&gt;{Subtype} = PDFName( 'Widget' );\n$item-&gt;{FT}  = PDFName( 'Btn' );\n\nmy $yes = PDFName( 'Yes' );\nmy $off = PDFName( 'Off' );\n\n$item-&gt;{P}   = $page;\n$item-&gt;{Type}    = PDFName( 'Annot' );\n$item-&gt;{Subtype} = PDFName( 'Widget' );\n$item-&gt;{Rect}    = PDF::API2::Basic::PDF::Literal-&gt;new( \"[100 300 200 400]\" );\n$item-&gt;{FT}  = PDFName( 'Btn' );\n$item-&gt;{T}   = PDFStr( 'Urgent' );\n$item-&gt;{V}   = PDFName( 'Yes' );\n$item-&gt;{AS}  = PDFName( 'Yes' );\n$item-&gt;{AP}  = PDFDict();\n$item-&gt;{AP}-&gt;{N} = PDFDict();\n\n# My understanding is that these would be nulled to be used with NeedAppearances\n$item-&gt;{AP}-&gt;{N}-&gt;{$yes} = PDFNull(); \n$item-&gt;{AP}-&gt;{N}-&gt;{$off} = PDFNull();\n\n$item-&gt;realise();\n\npush @Annots, $item;\npush @Fields, $item if( $AcroForm );\n\n$page-&gt;{Annots} = PDFArray( @Annots );\n$AcroForm-&gt;{Fields} = PDFArray(@Fields) if( $AcroForm );\n$pdf-&gt;{Root}-&gt;{AcroForm} = $AcroForm if( $AcroForm );\n\nprint $pdf-&gt;stringify();\nexit;\n</code></pre>\n\n<p>I would expect to see a checkbox rendered towards the middle of this page, instead I get an empty, unusable annotation. I'm trying to get the NeedAppearances flag to work, as I'd given up attempting a proper appearance stream/appearance dictionary, but I would be grateful for solutions that use either method.</p>\n"}, {"tags": ["xml", "perl", "xml-parsing"], "comments": [{"owner": {"reputation": 683, "user_id": 1335114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MU6Mc.jpg?s=128&g=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/1335114/addy"}, "edited": false, "score": 0, "creation_date": 1561470545, "post_id": 56755570, "comment_id": 100068856, "body": "can&#39;t use Twig at the moment due to limitations with the environment and wanted to keep it simple. XML::Simple may be... but I have the same question with XML::Simple as well."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1561470986, "post_id": 56755570, "comment_id": 100069152, "body": "What about <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a>?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1561479730, "post_id": 56755570, "comment_id": 100074098, "body": "<a href=\"https://metacpan.org/pod/Mojo::DOM\" rel=\"nofollow noreferrer\">Mojo::DOM</a> or <a href=\"https://metacpan.org/pod/Mojo::DOM58\" rel=\"nofollow noreferrer\">Mojo::DOM58</a> are more options. <a href=\"https://stackoverflow.com/a/33273488/5848200\">Don&#39;t use XML::Simple</a>."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1561480219, "post_id": 56755570, "comment_id": 100074331, "body": "I don&#39;t think you can use handler functions to modify the document being parsed like that."}, {"owner": {"reputation": 683, "user_id": 1335114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MU6Mc.jpg?s=128&g=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/1335114/addy"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1561485952, "post_id": 56755570, "comment_id": 100076932, "body": "@Shawn you are right I just dumped the xml back and it was the same any other alternative with XML::Parser or is twig or others?"}, {"owner": {"reputation": 683, "user_id": 1335114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MU6Mc.jpg?s=128&g=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/1335114/addy"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1561486014, "post_id": 56755570, "comment_id": 100076973, "body": "@choroba - not available I will have to get it worked out to be installed"}], "answers": [{"comments": [{"owner": {"reputation": 683, "user_id": 1335114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MU6Mc.jpg?s=128&g=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/1335114/addy"}, "edited": false, "score": 0, "creation_date": 1561656537, "post_id": 56761990, "comment_id": 100146565, "body": "Simple modifies the XML structure and it&#39;s confusing parser. I&#39;d agree to that. Your tutorial is nicely written however is exhaustive as well :) would read it in more depth once I get more time"}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 2, "last_activity_date": 1561496719, "creation_date": 1561496719, "answer_id": 56761990, "question_id": 56755570, "link": "https://stackoverflow.com/questions/56755570/how-do-i-write-the-xml-back-using-xmlparser-in-perl/56761990#56761990", "title": "How do I write the XML back using XML::Parser in perl?", "body": "<p>XML::Parser is just a parser it's not really intended for modifying a document and saving it back out as XML.  For that type of application, you need module with some type of DOM (document object model) that preserves enough information about the document and has the ability to serialise back to XML.</p>\n\n<p>I use and recommend XML::LibXML and have written <a href=\"http://grantm.github.io/perl-libxml-by-example/\" rel=\"nofollow noreferrer\">a tutorial</a> that you might find useful.</p>\n\n<p>That's by no means the only option, but it is solid and reliable. It's also simpler and more consistent than XML::Simple (which I know enough about to say don't use it).</p>\n"}], "owner": {"reputation": 683, "user_id": 1335114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MU6Mc.jpg?s=128&g=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/1335114/addy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561496719, "creation_date": 1561470399, "question_id": 56755570, "link": "https://stackoverflow.com/questions/56755570/how-do-i-write-the-xml-back-using-xmlparser-in-perl", "title": "How do I write the XML back using XML::Parser in perl?", "body": "<p>I need to modify an XML document and dump it back. I am able to perform this using the XML::Parser in perl however I can't find a way to dump it back. Couldn't find much around writing it back..</p>\n\n<p>one of the dumb implementation </p>\n\n<pre><code>use warnings;\nuse strict;\nuse XML::Parser;\nuse Data::Dumper;\n\nsub char_handler\n{\n        my ($parser, $text) = @_;\n        $text = #DO SOMETHING HERE WITH THE TEXT\n}\n\nmy ($file) = @ARGV;\nopen(FILE,$file);\n$xml=&lt;FILE&gt;;\nmy $parser = new XML::Parser( Style=&gt;\"Tree\",\n                              Handler =&gt; {\n                              Char =&gt; \\&amp;char_handler\n                });\nmy $doc = $parser-&gt;parse($xml);\n\nprint Data::Dumper-&gt;Dump([$doc]);\n\ndumps the XML. \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1561472203, "post_id": 56755498, "comment_id": 100069915, "body": "what version of perl are you running?  seems like you are seeing an fcntl bug; it should not be setting $flags to a string.  I&#39;m guessing that if <code>$flags</code> is initialized to 0 this doesn&#39;t happen."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1561478856, "post_id": 56755498, "comment_id": 100073692, "body": "@ysth: perl 5.24.1. Full info: <a href=\"http://paste.scsys.co.uk/585134\" rel=\"nofollow noreferrer\">paste.scsys.co.uk/585134</a>"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1561471877, "post_id": 56755992, "comment_id": 100069722, "body": "Maybe worth mentioning the <a href=\"https://metacpan.org/pod/distribution/perl/pod/perl5280delta.pod#String-and-number-specific-bitwise-ops-are-no-longer-experimental\" rel=\"nofollow noreferrer\">new, string, versions of the bitwise operators</a>."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1561479217, "post_id": 56755992, "comment_id": 100073857, "body": "changing <code>&quot;&quot;</code> to <code>0</code> helps. Thanks"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1561480749, "post_id": 56755992, "comment_id": 100074603, "body": "@ysth: heh. Perl cookbook 7.20.2 initializes it as empty string too. <a href=\"http://i.piccy.info/i9/575f1cad4beab45ed8f0c22c28dbc7f3/1561481192/36875/1316591/_.jpg\" rel=\"nofollow noreferrer\">screenshot</a>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 6, "last_activity_date": 1561472417, "last_edit_date": 1561472417, "creation_date": 1561471749, "answer_id": 56755992, "question_id": 56755498, "link": "https://stackoverflow.com/questions/56755498/argument-isnt-numeric-in-bitwise-or-at-why/56755992#56755992", "title": "Argument isn&#39;t numeric in bitwise or (|) at. Why?", "body": "<p>The bitwise operators have two flavors, string and numeric.  If either operand is numeric, or the \"bitwise\" feature[^1] is enabled, it is treated as a numeric bitwise.  In that case, if an other operand is a string, it is converted to a number, and a warning is generated if it doesn't look like a number.</p>\n\n<p>You should be initializing $flags to 0, not <code>\"\"</code>.</p>\n\n<p>[^1]: the \"bitwise\" feature makes the normal bitwise operators only do numeric bitwise, and adds new string bitwise operators such as <code>|.</code>.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 56755992, "answer_count": 1, "score": 0, "last_activity_date": 1561480835, "creation_date": 1561470172, "last_edit_date": 1561480835, "question_id": 56755498, "link": "https://stackoverflow.com/questions/56755498/argument-isnt-numeric-in-bitwise-or-at-why", "title": "Argument isn&#39;t numeric in bitwise or (|) at. Why?", "body": "<p>I am using code from <a href=\"https://www.perlmonks.org/?node_id=55250\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Fcntl;\nmy $flags =  \"\";\nfcntl( STDIN, F_GETFL, $flags) || die $!;\n$flags |= O_NONBLOCK;\nfcntl( STDIN, F_SETFL, $flags) || die $!;\n</code></pre>\n\n<p>But get next error:</p>\n\n<pre><code>Argument \"\\0O\u00a7\"\u00adU\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0...\" isn't numeric in bitwise or (|) at /home/user/inetd-script.pl line 9.\n</code></pre>\n\n<p><code>$flags</code> is initialized by <code>fcntl</code> call. Tell me please why this error occur.</p>\n\n<p>And how to fix it.</p>\n\n<p><strong>UPD</strong><br>\nPerl cookbook 7.20.2 initialized it as empty string. </p>\n\n<p><a href=\"https://i.stack.imgur.com/4SAau.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4SAau.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["perl", "saml"], "comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1561469743, "post_id": 56754676, "comment_id": 100068312, "body": "Welcome to the site!  Check out the <a href=\"https://stackoverflow.com/help/how-to-ask\">how-to-ask page</a> for more about asking questions that will attract quality answers.  You can <a href=\"https://stackoverflow.com/posts/56754676/edit\">edit your question</a> to include more information.  What have you tried so far?  Since this is Perl, there almost certainly is a way :) , but I don&#39;t know off-hand what it is."}], "answers": [{"tags": [], "owner": {"reputation": 1034, "user_id": 3091835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cbfd5930c612d50bca560a3354d4695?s=128&d=identicon&r=PG", "display_name": "winstonhong", "link": "https://stackoverflow.com/users/3091835/winstonhong"}, "is_accepted": false, "score": 4, "last_activity_date": 1561472432, "last_edit_date": 1561472432, "creation_date": 1561470197, "answer_id": 56755509, "question_id": 56754676, "link": "https://stackoverflow.com/questions/56754676/verify-loginpassword-in-perl-via-saml/56755509#56755509", "title": "verify login+password in Perl via SAML", "body": "<p><strong>Question 1</strong>: Is there a possibility to verify login+password in Perl via SAML at an Identity Provider (IdP)? If yes: how?</p>\n\n<p><strong>Answer</strong>:<br>\nDefinitely <strong>No</strong>, from the cybersecurity perspective. </p>\n\n<p><strong>Question 2</strong>: I am aware that this is not the usual way for SAML to work.</p>\n\n<p><strong>Answer</strong>:<br>\nYes. You are correct.<br>\n(I) The SAML specification defines three roles: a user, an identity provider (IdP), and a service provider (SP). In the primary use case addressed by SAML, a user requests to access a service or log in to a web application from a service provider. The service provider requests and obtains an authentication assertion from the identity provider. On the basis of this assertion, the service provider can make an access control decision for the user, that is, it can decide whether to allow the user to access the service or log in to a web application. </p>\n\n<p>(II) Before delivering the subject-based assertion to the SP, the IdP may request some information from the user (such as a user name and password) in order to authenticate the user. SAML specifies the content of the assertion that is passed from the IdP to the SP.</p>\n\n<p>(II.a) In SAML, one identity provider may provide SAML assertions to many SPs.<br></p>\n\n<p>(II.b) Similarly, one SP may rely on and trust assertions from many IdPs. This will be the SAML scenario of your web application if your product manager decided to request all 4 different clients of your web application to develop their own SAML IdP. For example, some social websites allow their users to log in to their web account through identity authentication provided by the third-party IdPs such as Google, Facebook, LinkedIn via OAuth 2 protocol or OpenID Connect protocol/OAuth 2 (instead of SAML). </p>\n\n<p><strong>Question 3</strong>: The background to this is that we have 4 different clients for our web application, which is supposed to enable a central password via SAML, which are implemented in completely different technologies.</p>\n\n<p><strong>Answer</strong>:<br>\nIf 4 different clients for your web application are supposed to enable a central password via SAML, they can implement their own SAML IdP in completely different technologies or programming language such as Java, PHP, or Scala.</p>\n\n<p>(I) For example, \nWe developed our former version of <a href=\"https://www.researchgate.net/project/Zero-Password-Authentication-and-Authorization-System\" rel=\"nofollow noreferrer\">Zero-Password Authentication and Authorization System</a> in <strong>Java</strong> and leveraged Java-based Shibboleth IdP to provide SAML SSO for enterprise applications.</p>\n\n<p>We developed our current version of <a href=\"https://www.researchgate.net/project/Zero-Password-Authentication-and-Authorization-System\" rel=\"nofollow noreferrer\">Zero-Password Authentication and Authorization System</a> with scalability and high availability in <strong>Scala</strong> to provide SAML SSO natively for enterprise applications without Shibboleth IdP.</p>\n\n<p>(II) No matter which technology or programming language are used by 4 different clients of your web application to implement their own SAML IdP, their SAML IdP only needs to authenticate their users using a central password data store/repository (such as OpenLDAP or MySQL) locally and then deliver the user info using SAML assertion/SAML response to your web application/SAML service provider. Your web application/SAML service provider just needs to map the user info carried by SAML assertion to a local user info of your web application.</p>\n\n<p><strong>Question 4</strong>: Our product manager has decided that a SAML connection is too complex for the 4 clients and that authentication should therefore take place centrally in the web application.</p>\n\n<p><strong>Answer</strong>:<br>\nIf the user identity authentication needs to take place centrally in your web application instead of in the SAML IdP, then 4 different clients do <strong>NOT</strong> need to implement their own SAML IdP from the cybersecurity perspective.<br>\nInstead you just need to create and assign different sub-domain to all 4 different clients, that is, all 4 different clients of your web application access different sub-domain, such as client-org1.your-web-app.com, client-org2.your-web-app.com, client-org3.your-web-app.com, client-org4.your-web-app.com. </p>\n\n<p>Note that different sub-domain of your web application displays the same login webpage. Example #1: client-org1.box.com, client-org2.box.com if your clients also subscribe Box account, or Example #2: client-org1.my.salesforce.com, client-org2.my.salesforce.com if your clients also subscribe Salesforce account.</p>\n\n<p><strong>Question 5</strong>: The clients transfer login and password to the web application, just like without SSO, and the web application is supposed to verify the access data centrally.</p>\n\n<p><strong>Answer</strong>:<br>\nDifferent sub-domain of your web application displays the same login webpage.\n4 different clients of your web application access different sub-domain of your web application, users of 4 different clients submit their login and password to your web application (through different sub-domain URL), just like without SSO, and the data store/repository of your web application is supposed to verify the access data (i.e., login username/password) centrally. Then 4 different clients of your web application do NOT need any SAML IdP.</p>\n"}], "owner": {"reputation": 1, "user_id": 9907080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/603cb35f5918a80d616dd42d8ee5c5f1?s=128&d=identicon&r=PG&f=1", "display_name": "Schludi", "link": "https://stackoverflow.com/users/9907080/schludi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561472432, "creation_date": 1561467552, "question_id": 56754676, "link": "https://stackoverflow.com/questions/56754676/verify-loginpassword-in-perl-via-saml", "title": "verify login+password in Perl via SAML", "body": "<p>Is there a possibility to verify login+password in Perl via SAML at an Identity Provider (IdP)? If yes: how?</p>\n\n<p>I am aware that this is not the usual way for SAML to work.</p>\n\n<p>The background to this is that we have 4 different clients for our web application, which is supposed to enable a central password via SAML, which are implemented in completely different technologies.</p>\n\n<p>Our product manager has decided that a SAML connection is too complex for the 4 clients and that authentication should therefore take place centrally in the web application.</p>\n\n<p>The clients transfer login and password to the web application, just like without SSO, and the web application is supposed to verify the access data centrally.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 2, "creation_date": 1561462755, "post_id": 56753189, "comment_id": 100063902, "body": "use <code>$line =~ &#47;unix&#47;g;</code> not  <code>$line = ~ &#47;unix&#47;g;</code> You have a space between <code>=</code> and <code>~</code> where you shouldn&#39;t"}, {"owner": {"reputation": 1187, "user_id": 3205558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ffc8fc604953fb170da4593973045d8?s=128&d=identicon&r=PG", "display_name": "vlumi", "link": "https://stackoverflow.com/users/3205558/vlumi"}, "edited": false, "score": 1, "creation_date": 1561462763, "post_id": 56753189, "comment_id": 100063910, "body": "<code>=~</code> is a single operator, don&#39;t put a space in the middle."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1561465850, "creation_date": 1561465850, "answer_id": 56754119, "question_id": 56753189, "link": "https://stackoverflow.com/questions/56753189/i-want-to-search-for-a-string-in-a-file-using-perl/56754119#56754119", "title": "i want to search for a string in a file using perl", "body": "<p>As people have already mentioned in comments, you have a small typo. The binding operator, <code>=~</code>, cannot have a space between its two characters.</p>\n\n<p>You might expect that adding that unwanted space would generate a syntax error. But, unfortunately, both <code>=</code> and <code>~</code> are used as operators so instead of a syntax error, you get a statement that does something completely different to what you expect.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11674007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561465850, "creation_date": 1561462595, "question_id": 56753189, "link": "https://stackoverflow.com/questions/56753189/i-want-to-search-for-a-string-in-a-file-using-perl", "title": "i want to search for a string in a file using perl", "body": "<p>i want to search for a string in file using perl code</p>\n\n<p>i want to search \"unix\" string from sample input file</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $file = \"sample\";\nopen my $fh, '&lt;', $file or die \"Could not open '$file' $!\\n\";\n\nwhile (my $line = &lt;$fh&gt;) {\n   chomp $line;\n   my @strings = $line = ~ /unix/g;\n   foreach my $s (@strings) {\n     print \"'$s'\";\n   }\n}\n</code></pre>\n\n<p>i am getting like this</p>\n\n<p>Use of uninitialized value $_ in pattern match (m//) at strings.pl line 8,  line 1.\n'18446744073709551615'</p>\n"}, {"tags": ["perl", "grep", "glob"], "answers": [{"comments": [{"owner": {"reputation": 1874, "user_id": 11053344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fabf3a714fab6df963d0193526cffc5b?s=128&d=identicon&r=PG&f=1", "display_name": "vintnes", "link": "https://stackoverflow.com/users/11053344/vintnes"}, "edited": false, "score": 0, "creation_date": 1561461498, "post_id": 56752752, "comment_id": 100063194, "body": "Apologies for my Perl ignorance -- what is the significance of the two characters prepended to <code>push</code>?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 1874, "user_id": 11053344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fabf3a714fab6df963d0193526cffc5b?s=128&d=identicon&r=PG&f=1", "display_name": "vintnes", "link": "https://stackoverflow.com/users/11053344/vintnes"}, "edited": false, "score": 0, "creation_date": 1561461791, "post_id": 56752752, "comment_id": 100063361, "body": "@vintnes What two characters?"}, {"owner": {"reputation": 1874, "user_id": 11053344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fabf3a714fab6df963d0193526cffc5b?s=128&d=identicon&r=PG&f=1", "display_name": "vintnes", "link": "https://stackoverflow.com/users/11053344/vintnes"}, "edited": false, "score": 1, "creation_date": 1561461960, "post_id": 56752752, "comment_id": 100063461, "body": "<code>\ufffc\ufffcpush</code> Appears to be a Firefox issue; not replicable in Chrome"}, {"owner": {"reputation": 67, "user_id": 6187954, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-5VTopX-72lM/AAAAAAAAAAI/AAAAAAAAABA/749aiJKdadQ/photo.jpg?sz=128", "display_name": "Hariprasad C R", "link": "https://stackoverflow.com/users/6187954/hariprasad-c-r"}, "edited": false, "score": 1, "creation_date": 1561463725, "post_id": 56752752, "comment_id": 100064422, "body": "Thanks @H&#229;konH&#230;gland , with push @{ $output{archives} }, grep {-f $_} &lt;&quot;$output{dir}/result0.txt\u201d, &quot;$output{dir}/outcome_*.txt&quot;&gt;; I was able to achieve it ."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1561462261, "last_edit_date": 1561462261, "creation_date": 1561461016, "answer_id": 56752752, "question_id": 56752371, "link": "https://stackoverflow.com/questions/56752371/how-can-i-grep-files-of-specific-name-patterns/56752752#56752752", "title": "How can I grep files of specific name patterns?", "body": "<p>If you want find files matching <code>outcome_*.txt</code> you can use the <code>glob</code> function or aka <code>&lt;&gt;</code>: </p>\n\n<pre><code>\ufffc\ufffcpush @{ $output{archives} }, grep {-f $_} &lt;\"$output{dir}/outcome_*.txt\"&gt;;\n</code></pre>\n\n<p>or, using <code>glob</code> instead of <code>&lt;&gt;</code>:</p>\n\n<pre><code>\ufffc\ufffcpush @{ $output{archives} }, grep {-f $_} glob \"$output{dir}/outcome_*.txt\";\n</code></pre>\n\n<p>or using a more specific regexp:</p>\n\n<pre><code>push @{ $output{archives} }, grep {(-f $_) &amp;&amp; /outcome_\\d+\\.txt$/}  glob \"$output{dir}/*\";\n</code></pre>\n\n<p>From <a href=\"https://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\">perldoc glob</a> :</p>\n\n<blockquote>\n  <p><strong>glob</strong><br>\n  In list context, returns a (possibly empty) list of filename\n  expansions on the value of EXPR such as the standard Unix shell\n  /bin/csh would do. In scalar context, glob iterates through such\n  filename expansions, returning undef when the list is exhausted.</p>\n</blockquote>\n\n<p>See <a href=\"https://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\">perldoc glob</a> and <a href=\"https://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow noreferrer\">perldoc perlop</a> for more information.</p>\n"}], "owner": {"reputation": 67, "user_id": 6187954, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-5VTopX-72lM/AAAAAAAAAAI/AAAAAAAAABA/749aiJKdadQ/photo.jpg?sz=128", "display_name": "Hariprasad C R", "link": "https://stackoverflow.com/users/6187954/hariprasad-c-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 56752752, "answer_count": 1, "score": 0, "last_activity_date": 1619262648, "creation_date": 1561459857, "last_edit_date": 1619262648, "question_id": 56752371, "link": "https://stackoverflow.com/questions/56752371/how-can-i-grep-files-of-specific-name-patterns", "title": "How can I grep files of specific name patterns?", "body": "<p>I have a piece of code in Perl to grep for files with specific names under a directory.</p>\n<pre><code>push @{ $output{archives} }, grep {-f $_} &quot;$output{dir}/result0.txt\u201d, &quot;$output{dir}/outcome.txt\u201d;\nsay &quot;@{ $output{archives} } \\n&quot;;\n</code></pre>\n<p>This will search for files of names <code>result0.txt</code>, <code>outcome.txt</code> under the directory <code>$output{dir}</code>. These results will be pushed into the array <code>$output{archives}</code>.</p>\n<p>How can I search for file names of pattern <code>outcome_0.txt</code>, <code>outcome_1.txt</code>, <code>outcome_2.txt</code>, etc. and push to the array?</p>\n<p>I tried changing <code>&quot;$output{dir}/outcome.txt\u201d</code> to <code>&quot;$output{dir}/outcome*.txt\u201d</code>, but it is not giving any results at all.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1561459379, "creation_date": 1561459379, "answer_id": 56752219, "question_id": 56751930, "link": "https://stackoverflow.com/questions/56751930/how-to-remove-n-characters-from-the-end-of-line/56752219#56752219", "title": "How to remove `\\n` characters from the end of line?", "body": "<p>Glib answer: Run your program on Windows.</p>\n\n<p>Slightly less glib answer: Run your data file through <code>dos2unix</code> before processing it.</p>\n\n<p>Almost entirely not glib answer:</p>\n\n<p>The documentation that you point at starts with this:</p>\n\n<blockquote>\n  <p>This safer version of chop removes any trailing string that corresponds to the current value of <code>$/</code></p>\n</blockquote>\n\n<p>So if you want to change the behaviour of <code>chomp()</code> you need to change the value of <code>$/</code>.</p>\n\n<pre><code>{ # Always localise changes to Perl's internal variables.\n\n  local $/ = \"\\015\\012\";\n\n  chomp; # Now removes Windows line endings\n\n} # Revert $/ to original value\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1561479214, "post_id": 56752462, "comment_id": 100073856, "body": "Not exactly accurate: the default value of <code>$&#47;</code> is always <code>\\n</code>, but on Windows the default <code>:crlf</code> layer will translate <code>\\x0D\\x0A</code> to <code>\\n</code> on read; on Linux it will not, so you need to handle the Windows line endings yourself if they will be present."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561532779, "post_id": 56752462, "comment_id": 100090061, "body": "@ikegami - Edited for <code>$</code> =&gt; <code>\\z</code>, but I deliberately chose not to use <code>\\s</code> here because OP is specifically looking to remove line endings, not all whitespace."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561535702, "post_id": 56752462, "comment_id": 100091537, "body": "Also, Grinnz is right. <code>$&#47;</code> defaults to <code>&quot;\\n&quot;</code> on all systems. (Even on the old MacOS systems, though <code>&quot;\\n&quot;</code> produced a CR rather than a LF there.)"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561536588, "post_id": 56752462, "comment_id": 100091979, "body": "@ikegami - I&#39;ve thought things through enough to know that, although removing all trailing whitespace is <i>usually</i> a good thing, it&#39;s not <i>always</i> safe to do so (even outside of tab-delimited formats), so I&#39;m not prepared to assume that it&#39;s appropriate for the OP. But I did add the <code>\\s+</code> form as an alternative as you suggested."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1561536866, "post_id": 56752462, "comment_id": 100092106, "body": "Sadly, that&#39;s far from the worst travesty I&#39;ve encountered in my programming career.  (&quot;OK, here&#39;s a COBOL application. Translate it into Visual Basic, and make the VB version behave <i>exactly the same</i>.&quot; Fifty zillion inert text boxes, followed by a huge OnExit event handler that processes the whole thing when you tab out of the last box...)"}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 3, "last_activity_date": 1561537631, "last_edit_date": 1561537631, "creation_date": 1561460115, "answer_id": 56752462, "question_id": 56751930, "link": "https://stackoverflow.com/questions/56751930/how-to-remove-n-characters-from-the-end-of-line/56752462#56752462", "title": "How to remove `\\n` characters from the end of line?", "body": "<p>The reason you're having this problem is because Perl's file I/O methods are tuned to work correctly with the line endings used by the local operating system.  When you read a file which uses a different line ending convention (such as a Windows text file being processed under a *nix OS), that can prevent <code>chomp</code> from working correctly.</p>\n\n<p>As the first sentence in the perldoc states, <code>chomp</code> \"<em>removes any trailing string that corresponds to the current value of <code>$/</code></em>\".  So, if you know when you're using a Windows file vs. when you're using a *nix file, you can work around the different OS line ending convention by setting <code>$/</code> accordingly, to <code>\\n</code> for *nix and to <code>\\r\\n</code> for Windows.</p>\n\n<p>If you don't know which line ending convention a given file uses, then you'll have to fall back on a regex, such as <code>$line =~ s/\\r?\\n\\z//</code>.  If removing all trailing whitespace (not just line endings) is acceptable in your situation, <code>$line =~ s/\\s+\\z//</code> will do that for you and potentially save you another step later on.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 56752462, "answer_count": 2, "score": 0, "last_activity_date": 1561537631, "creation_date": 1561458422, "question_id": 56751930, "link": "https://stackoverflow.com/questions/56751930/how-to-remove-n-characters-from-the-end-of-line", "title": "How to remove `\\n` characters from the end of line?", "body": "<p><a href=\"https://perldoc.pl/functions/chomp\" rel=\"nofollow noreferrer\">Doc</a> says:</p>\n\n<blockquote>\n  <p>chomp;  # avoid \\n on last field</p>\n</blockquote>\n\n<p>But when file has windows CRLF, only LF is removed from the end.</p>\n\n<pre><code>my $line =  &lt;STDIN&gt;;\nprint chomp $line;                 # 1\nprint map{ ord } split '', $line;  # 46 49 13\n</code></pre>\n\n<p>How to remove both <code>CRLF</code> characters from the end?</p>\n"}, {"tags": ["perl", "declaration", "relative-path"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1561457884, "post_id": 56751477, "comment_id": 100061118, "body": "<a href=\"https://metacpan.org/pod/Module::Path\" rel=\"nofollow noreferrer\"><code>Module::Path</code></a>?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1561459195, "post_id": 56751477, "comment_id": 100061859, "body": "I\u2019m not sure I fully understand the situation, but if a script uses a package, then that package needs to load some other package from the same module, then hasn\u2019t the script already made sure the whole module is in <code>@INC</code> and it should Just Work\u2122?"}, {"owner": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1561463245, "post_id": 56751477, "comment_id": 100064159, "body": "@Biffen I just added some more information. When I load &quot;my_library_1 from the main_script it will complain cause it says that is not able to find my_library_2, but if I move the main_script to the same folder as &quot;my_library_1&quot; it will work as expected."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1561469027, "creation_date": 1561469027, "answer_id": 56755129, "question_id": 56751477, "link": "https://stackoverflow.com/questions/56751477/how-can-i-add-relative-paths-to-libraries-in-perl/56755129#56755129", "title": "How can I add relative paths to libraries in perl?", "body": "<p>Here is one approach using <code>__FILE__</code> to get the directory name of <code>my_library_1.pm</code>:</p>\n\n<p><strong>folder1/main.pl</strong>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse FindBin;\n\nuse lib \"$FindBin::RealBin/../folder2/\";\nuse my_library_1;\n</code></pre>\n\n<p><strong>folder2/my_library_1.pm</strong>:</p>\n\n<pre><code>package my_library_1;\nuse strict;\nuse warnings;\nuse File::Basename qw(dirname);\n\nmy $dir;\nBEGIN {\n    $dir = dirname(__FILE__);\n}\nuse lib \"$dir/folder1\";\nuse my_library_2;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 1, "last_activity_date": 1561478951, "creation_date": 1561478951, "answer_id": 56758132, "question_id": 56751477, "link": "https://stackoverflow.com/questions/56751477/how-can-i-add-relative-paths-to-libraries-in-perl/56758132#56758132", "title": "How can I add relative paths to libraries in perl?", "body": "<p><a href=\"https://metacpan.org/pod/lib::relative\" rel=\"nofollow noreferrer\">lib::relative</a> is a straightforward way to use <code>__FILE__</code> to add absolutized lib paths relative to either a script or module. It also documents the equivalent core module commands so it doesn't need to be installed.</p>\n\n<p>In the script:</p>\n\n<pre><code>use lib::relative '../folder2';\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>use Cwd ();\nuse File::Basename ();\nuse File::Spec ();\nuse lib File::Spec-&gt;catdir(File::Basename::dirname(Cwd::abs_path __FILE__), '../folder2');\n</code></pre>\n\n<p>Similarly in the module:</p>\n\n<pre><code>use lib::relative 'folder1';\n</code></pre>\n\n<p>I recommend the much simpler <code>__FILE__</code> approach over FindBin in all cases - FindBin is action at a distance, requires workarounds, and has serious bugs on old Perls that cannot be fixed because <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=123752\" rel=\"nofollow noreferrer\">it isn't available on CPAN</a>.</p>\n"}], "owner": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561478951, "creation_date": 1561456953, "last_edit_date": 1561463095, "question_id": 56751477, "link": "https://stackoverflow.com/questions/56751477/how-can-i-add-relative-paths-to-libraries-in-perl", "title": "How can I add relative paths to libraries in perl?", "body": "<p>I want to have a library (my_library_1) which makes use of another library in a folder relative to itself. If I write it like this:</p>\n\n<pre><code>use lib \"/./libraries/\";\nuse my_library_2;\n</code></pre>\n\n<p>It will use the path from where I execute the script.</p>\n\n<p>If I use the following as proposed in other similar quiestions:</p>\n\n<pre><code>use FindBin;\nuse lib \"$FindBin::Bin/./libraries/\";\nuse my_library_2;\n</code></pre>\n\n<p>It will be relative to the main script being executed, therefore if I'm calling this library from another script, and then this library calles the other one (my_library_1), the library declaration will not be as expected if the first library (my_library_1) and the main script are in the same folder.</p>\n\n<p>How can I solve this issue without relying on absolute paths?</p>\n\n<p>Edit: To add some more information\nThis is the current structure:</p>\n\n<pre><code>folder\n\\_folder_1\n \\__main_script\n\\_folder_2\n \\__my_library_1\n \\__folder_1\n   \\___my_library_2\n</code></pre>\n\n<p>I want to reference library_3 from library_2 with a relative path. The two proposed options do not work when I use them on \"my_library_2\".</p>\n"}, {"tags": ["perl", "windows-10"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561453980, "post_id": 56750043, "comment_id": 100058914, "body": "See also <a href=\"https://stackoverflow.com/q/4727480/2173773\">How do I make my Perl scripts act like normal programs on Windows?</a>"}, {"owner": {"reputation": 21, "user_id": 11646785, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h_bD81B2gfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRRBMCorXAYVhaqzOWgEMmK4ACjQ/mo/photo.jpg?sz=128", "display_name": "Zdenek J", "link": "https://stackoverflow.com/users/11646785/zdenek-j"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1562437415, "post_id": 56750043, "comment_id": 100375967, "body": "Yes, I saw the link above. I think this is specific Windows 10 problem. It is ok on Windows7. I tried a new Perl installation from <a href=\"http://strawberryperl.com/download/5.30.0.1/strawberry-perl-5.30.0.1-32bit.msi\" rel=\"nofollow noreferrer\">strawberryperl.com/download/5.30.0.1/&hellip;</a> at other PC with Win.10. Test script works OK."}, {"owner": {"reputation": 21, "user_id": 11646785, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h_bD81B2gfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRRBMCorXAYVhaqzOWgEMmK4ACjQ/mo/photo.jpg?sz=128", "display_name": "Zdenek J", "link": "https://stackoverflow.com/users/11646785/zdenek-j"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1562437938, "post_id": 56750043, "comment_id": 100376088, "body": "So Perl-installation from MSI file is proven OK, but installation from ZIP file with manual settings (assoc, ftype) in the same way, as on Windows7, has any problem (specifics registry settings?)."}, {"owner": {"reputation": 21, "user_id": 11646785, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h_bD81B2gfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRRBMCorXAYVhaqzOWgEMmK4ACjQ/mo/photo.jpg?sz=128", "display_name": "Zdenek J", "link": "https://stackoverflow.com/users/11646785/zdenek-j"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1562591217, "post_id": 56750043, "comment_id": 100411376, "body": "After Perl-installation from MSI file is one PC OK (with 32-bit Windows 10), but second PC is not OK (with 64-bit Windows 10). The same behavior as above. It should be any local problem (?)."}], "owner": {"reputation": 21, "user_id": 11646785, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h_bD81B2gfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRRBMCorXAYVhaqzOWgEMmK4ACjQ/mo/photo.jpg?sz=128", "display_name": "Zdenek J", "link": "https://stackoverflow.com/users/11646785/zdenek-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1561452155, "creation_date": 1561452155, "question_id": 56750043, "link": "https://stackoverflow.com/questions/56750043/perl-script-on-widows10-cant-get-command-line-parameters", "title": "Perl script on Widows10 can&#39;t get command line parameters", "body": "<p>Perl script on Windows 10 can't get command line parameters if command line does not begin with \"perl\". The same works correctly on Windows7. Please look at example: </p>\n\n<pre><code>D:\\&gt;ver\n\nMicrosoft Windows [Version 10.0.17763.503]\n\nD:\\&gt;assoc .pl\n.pl=PerlScript\n\nD:\\&gt;ftype PerlScript\nPerlScript=D:\\x\\perl\\perl\\bin\\perl.exe \"%1\" %*\n\nD:\\&gt;type tst.pl\n# tst.pl\n\nuse strict ;\nuse warnings ;\n\nprint '$0 = '. $0 .\"\\n\" ;\nunless( $ARGV[ 0 ] ) { die \"No args.\\n\\n\" }\nmy $i = 0 ;\nfor my $arg ( @ARGV ) { print $i++ .': '. $arg .\"\\n\" }\n\nD:\\&gt;perl tst.pl\n$0 = tst.pl\nNo args.\n\n\nD:\\&gt;perl tst.pl FIRST SECOND\n$0 = tst.pl\n0: FIRST\n1: SECOND\n\nD:\\&gt;tst.pl FIRST SECOND\n$0 = D:\\tst.pl\nNo args.\n</code></pre>\n"}, {"tags": ["python", "c", "perl", "csv", "utilities"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 2, "creation_date": 1561413205, "post_id": 56744345, "comment_id": 100047593, "body": "In normal csv, quotes are escaped by doubling them up... <code>&quot;foo &quot;&quot;bar&quot;&quot;&quot;</code>"}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1561413314, "post_id": 56744345, "comment_id": 100047618, "body": "It doesn&#39;t matter how many rows there are. In C you can read, modifiy and write each row of a CSV text file to a new file, one line (row) at a time."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 2, "creation_date": 1561413383, "post_id": 56744345, "comment_id": 100047643, "body": "If the files have the same number of lines, <code>paste -d, t0.csv t1.csv</code>? Or fix them and use what you were originally trying."}, {"owner": {"reputation": 395, "user_id": 3362696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71aa60f96050239cb8f043aeb550c5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Hans Ekbrand", "link": "https://stackoverflow.com/users/3362696/hans-ekbrand"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1561413592, "post_id": 56744345, "comment_id": 100047711, "body": "@Shawn doubling the quotation marks instead of escaping them seems to work! Nice.  Your second comment <code>paste -d,</code> do you mean <code>cvstool paste -d,</code>?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1561413684, "post_id": 56744345, "comment_id": 100047735, "body": "I mean <a href=\"http://man7.org/linux/man-pages/man1/paste.1.html\" rel=\"nofollow noreferrer\">paste</a>, which, unlike csvtool, doesn&#39;t care about the content of the lines."}, {"owner": {"reputation": 395, "user_id": 3362696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71aa60f96050239cb8f043aeb550c5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Hans Ekbrand", "link": "https://stackoverflow.com/users/3362696/hans-ekbrand"}, "edited": false, "score": 0, "creation_date": 1561413981, "post_id": 56744345, "comment_id": 100047804, "body": "paste seems to work out of the box on my invalid CSV-file, so if you turn your comment into an answer I would accept it."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1561415021, "post_id": 56744345, "comment_id": 100048033, "body": "Does your data really have the invalid (or, at least, non-standard) CSV format, or is that only a problem with your example? Can you upgrade the data generation process to generate valid CSV data? Getting the input data correct will be far simpler than mangling it.  You also need to know what MariaDB requires as the input format when processing CSV data.  It may be using a non-standard variation on CSV (the &#39;standard&#39; is either that used by Microsoft in Office (Excel, etc) or <a href=\"https://tools.ietf.org/html/rfc4180\" rel=\"nofollow noreferrer\">RFC 4180 Common Format and MIME Type for Comma-Separated Values (CSV) Files</a>)."}, {"owner": {"reputation": 395, "user_id": 3362696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71aa60f96050239cb8f043aeb550c5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Hans Ekbrand", "link": "https://stackoverflow.com/users/3362696/hans-ekbrand"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1561415415, "post_id": 56744345, "comment_id": 100048130, "body": "@JonathanLeffler Thanks for you input. While I can regenerate the data (it was generated with <code>mysqldump</code>), as suggested by @Shawn <code>paste</code> seems to do the job."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1561416181, "post_id": 56744345, "comment_id": 100048317, "body": "That&#39;s good \u2014 it appears that MySQL and MariaDB work with a non-standard variant of CSV format.  There is another tool, <a href=\"https://bitbucket.org/neilb/csvfix/src/default/\" rel=\"nofollow noreferrer\">CSVfix</a>, that you might be able to use if you have Mercurial installed on your machine.  OTOH, it has had somewhat minimal maintenance of late \u2014 there was a release 1.6 in 2014, but it isn&#39;t clear that anything has happened since then.  It has had a chequered career \u2014 it was once hosted on Google Code (and a prior version is still available via <a href=\"https://code.google.com/archive/p/csvfix/\" rel=\"nofollow noreferrer\">code.google.com/archive/p/csvfix</a>).  The URLs in the &#39;updates&#39; are wrong."}, {"owner": {"reputation": 395, "user_id": 3362696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71aa60f96050239cb8f043aeb550c5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Hans Ekbrand", "link": "https://stackoverflow.com/users/3362696/hans-ekbrand"}, "edited": false, "score": 0, "creation_date": 1561418345, "post_id": 56744345, "comment_id": 100048796, "body": "Yeah, I was quite surprised to learn that <code>mysqldump</code> doesn&#39;t appear to be able to create valid CSV files when there are quotation marks in the content. <code>mysqldump</code> can be instructed to use double quotations, but then null values break, they will be exported as &quot;N."}], "answers": [{"tags": [], "owner": {"reputation": 328, "user_id": 4542173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22e353b11ad19459711cbb52ea4e4ef?s=128&d=identicon&r=PG", "display_name": "Paul Humphreys", "link": "https://stackoverflow.com/users/4542173/paul-humphreys"}, "is_accepted": false, "score": 1, "last_activity_date": 1561416288, "last_edit_date": 1561416288, "creation_date": 1561413633, "answer_id": 56744449, "question_id": 56744345, "link": "https://stackoverflow.com/questions/56744345/tools-for-appending-columns-to-large-csv-file-merging-csv-files-by-columns/56744449#56744449", "title": "tools for appending column(s) to large CSV-file (merging CSV-files by column(s))", "body": "<p>CSV files generally escape double quotes by repetition (<code>\"\"</code> rather than <code>\\\"</code>), so your files could be considered invalid.</p>\n\n<p>You could use a find and replace tool, such as <code>sed</code> on Unix, to fix the escaped quotes to this more common format.</p>\n\n<p>If you're looking for some other command line tool to work with CSV files, I've authored one that's available at <a href=\"https://github.com/pjshumphreys/querycsv\" rel=\"nofollow noreferrer\">https://github.com/pjshumphreys/querycsv</a></p>\n"}, {"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 2, "last_activity_date": 1561419009, "creation_date": 1561419009, "answer_id": 56745096, "question_id": 56744345, "link": "https://stackoverflow.com/questions/56744345/tools-for-appending-columns-to-large-csv-file-merging-csv-files-by-columns/56745096#56745096", "title": "tools for appending column(s) to large CSV-file (merging CSV-files by column(s))", "body": "<p>Here's a quick perl script that reads your broken CSV files, merges them, and outputs properly escaped CSV all in one pass:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse autodie;\n# Install through your OS package manager or CPAN client.\n# libtext-csv-xs-perl on Debian/Ubuntu and family.\nuse Text::CSV_XS; \n\nopen my $file0, \"&lt;\", $ARGV[0];\nopen my $file1, \"&lt;\", $ARGV[1];\n\nmy $csv = Text::CSV_XS-&gt;new({ binary =&gt; 1, escape_char =&gt; \"\\\\\",\n                              auto_diag =&gt; 2, strict =&gt; 0});\nmy $out = Text::CSV_XS-&gt;new({ binary =&gt; 1 });\n\nwhile ((my $row0 = $csv-&gt;getline($file0)) &amp;&amp;\n       (my $row1 = $csv-&gt;getline($file1))) {\n  push @$row0, @$row1;\n  $out-&gt;say(\\*STDOUT, $row0);\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl mergecsv.pl t0.txt t1.txt\n123,foo,bar\n456,\"foo\"\"bar\"\"\",baz\n</code></pre>\n"}], "owner": {"reputation": 395, "user_id": 3362696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71aa60f96050239cb8f043aeb550c5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Hans Ekbrand", "link": "https://stackoverflow.com/users/3362696/hans-ekbrand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561419009, "creation_date": 1561412856, "last_edit_date": 1561414593, "question_id": 56744345, "link": "https://stackoverflow.com/questions/56744345/tools-for-appending-columns-to-large-csv-file-merging-csv-files-by-columns", "title": "tools for appending column(s) to large CSV-file (merging CSV-files by column(s))", "body": "<p>To create two csv-files:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>echo -e \"123\\n456\" &gt; t0.txt\necho -e '\"foo\",\"bar\"\\n\"foo\\\"bar\\\"\",\"baz\"' &gt; t1.txt\n</code></pre>\n\n<p>Now, I want append the columns in <code>t1.txt</code> to <code>t0.txt</code>, so that the result becomes this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>123,\"foo\",\"bar\"\n456,\"foo\\\"bar\\\"\",\"baz\"\n</code></pre>\n\n<p>First try, using <a href=\"https://github.com/Chris00/ocaml-csv\" rel=\"nofollow noreferrer\">csvtool</a></p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>csvtool paste t0.txt t1.txt \nFatal error: exception Csv.Failure(2, 1, \"Bad '\"' in quoted field\")\n</code></pre>\n\n<p>So, <code>csvtool</code> doesn't seem to handle the escaped quotation mark in <code>\"foo\\\"bar\\\"\"</code>.</p>\n\n<p>My real world use case has two CSV-files with +150.000.000 rows and 11 columns so I need a tool which can do the task without having all the data simultaneously in RAM. </p>\n\n<p>Can csvtool be used with escaped quotation marks, or is there another tool that could solve this?</p>\n\n<p>The final target for the CSV-file is a database in <code>mariadb</code>, so an efficient import to <code>mariadb</code> using <code>t0.txt</code> and <code>t1.txt</code> directly would be even better, but as far as I know <code>LOAD DATA INFILE</code> only works on a single CSV-file.</p>\n\n<p>I definitely prefer a ready-made tool, but if there is none, then some C, Perl or Python snippets would be appreciated too.</p>\n"}, {"tags": ["bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 3, "creation_date": 1561410050, "post_id": 56743875, "comment_id": 100046633, "body": "Or, <code>perl -lape &#39;$_ = &quot;$F[1]\\n&quot; x &quot;$F[0]&quot;; chomp&#39;</code> or <code>perl -lane &#39;print $F[1] for 1..$F[0]&#39;</code>"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 4, "last_activity_date": 1561410084, "last_edit_date": 1561410084, "creation_date": 1561409956, "answer_id": 56743875, "question_id": 56743720, "link": "https://stackoverflow.com/questions/56743720/print-a-colum-number-of-times-the-value-of-other-column-in-perl/56743875#56743875", "title": "print a colum number of times the value of other column in perl", "body": "<p>The newline after <code>$F[1]</code> is causing the additional line between groups. You can avoid this by changing your code slightly to use repetition in list context + join:</p>\n\n<pre><code>echo '5 aws\n2 openstack\n1 azure\n3 others' | perl -lanE 'say join \"\\n\", ($F[1]) x $F[0]'\n# aws\n# aws\n# aws\n# aws\n# aws\n# openstack\n# openstack\n# azure\n# others\n# others\n# others\n</code></pre>\n\n<p>Things of note: </p>\n\n<ul>\n<li>the <a href=\"https://perldoc.perl.org/perlop.html#Multiplicative-Operators\" rel=\"nofollow noreferrer\"><code>x</code></a> operator in list context (caused by the parentheses around\n<code>$F[1]</code>) returns a list of the elements repeated. e.g. ('aws') x 3\nwill return 'aws', 'aws', 'aws' </li>\n<li><a href=\"https://perldoc.perl.org/functions/join.html\" rel=\"nofollow noreferrer\"><code>join</code></a> accepts a delimiter and a list\nto combine</li>\n</ul>\n\n<p>There are likely many ways to do this, this is just one that came to mind easily for me. </p>\n"}], "owner": {"reputation": 1340, "user_id": 5584716, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4bb2caba083c0b41cf0c4d267d4e0516?s=128&d=identicon&r=PG&f=1", "display_name": "monk", "link": "https://stackoverflow.com/users/5584716/monk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 56743875, "answer_count": 1, "score": 0, "last_activity_date": 1561410084, "creation_date": 1561409173, "question_id": 56743720, "link": "https://stackoverflow.com/questions/56743720/print-a-colum-number-of-times-the-value-of-other-column-in-perl", "title": "print a colum number of times the value of other column in perl", "body": "<p>I have a similar requirement as seen in <a href=\"https://stackoverflow.com/questions/56743148/how-to-repeat-values-from-a-specific-column\">How to repeat values from a specific column?</a> </p>\n\n<p>I already know the solution from the aforementioned question and this answer(<a href=\"https://stackoverflow.com/a/56743282/6309601\">https://stackoverflow.com/a/56743282/6309601</a>). but for sake of learning <code>perl</code>, I am trying to do it with <code>perl</code>. No other reason. </p>\n\n<pre><code>echo \"$y\"\n5 aws\n2 openstack\n1 azure\n3 others\n</code></pre>\n\n<p>I am able to print the data, but I am not able to understand why white spaces are appearing in the output .</p>\n\n<pre><code>echo \"$y\" |perl -lanE 'say \"$F[1]\\n\" x \"$F[0]\"'\naws\naws\naws\naws\naws\n\nopenstack\nopenstack\n\nazure\n\nothers\nothers\nothers\n</code></pre>\n\n<p>Can someone please help me with , explaining why extra white spaces are added ?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 91433, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 3, "creation_date": 1561383898, "post_id": 56737911, "comment_id": 100034559, "body": "I think it does not match your value. See <a href=\"https://regex101.com/r/QIKNxj/1\" rel=\"nofollow noreferrer\">regex101.com/r/QIKNxj/1</a>"}, {"owner": {"reputation": 5225, "user_id": 11260716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7a6570e104d267276655b7ca07e08a8?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Junglas", "link": "https://stackoverflow.com/users/11260716/daniel-junglas"}, "edited": false, "score": 1, "creation_date": 1561384270, "post_id": 56737911, "comment_id": 100034758, "body": "Can you provide a full code sample that illustrates the issue? You pattern explicitly asks for at least one whitespace (<code>\\s+</code>), so I think it cannot match &quot;0.123&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561393802, "post_id": 56738141, "comment_id": 100040113, "body": "That will also match strings that end with <code>0</code> followed by a newline. To avoid that, use <code>\\z</code> instead of <code>$</code>. It also doubtful that it answers the OP&#39;s (unclear) question."}], "tags": [], "owner": {"reputation": 13, "user_id": 11403920, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Fz3QbFgoQFs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reLLiqMra7-v_OOditCIj8X7IRiqw/mo/photo.jpg?sz=128", "display_name": "user11403920", "link": "https://stackoverflow.com/users/11403920/user11403920"}, "is_accepted": false, "score": 0, "last_activity_date": 1561384511, "creation_date": 1561384511, "answer_id": 56738141, "question_id": 56737911, "link": "https://stackoverflow.com/questions/56737911/regex-match-0-n-but-not-0/56738141#56738141", "title": "Regex match 0\\n but not 0\\.+", "body": "<p>Anything that ends with a zero !! So all you need to check is if it ends with a zero . The regex can be 0$ .</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1561393855, "post_id": 56738441, "comment_id": 100040137, "body": "That will also match strings that end with <code>0</code> followed by a newline. To avoid that, use <code>\\z</code> instead of <code>$</code>."}, {"owner": {"reputation": 4233, "user_id": 1143387, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0b9a9c460593d77b3561075ef1889150?s=128&d=identicon&r=PG", "display_name": "sniperd", "link": "https://stackoverflow.com/users/1143387/sniperd"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561421056, "post_id": 56738441, "comment_id": 100049288, "body": "@ikegami interesting! I did not know that!"}], "tags": [], "owner": {"reputation": 4233, "user_id": 1143387, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0b9a9c460593d77b3561075ef1889150?s=128&d=identicon&r=PG", "display_name": "sniperd", "link": "https://stackoverflow.com/users/1143387/sniperd"}, "is_accepted": false, "score": 0, "last_activity_date": 1561385511, "creation_date": 1561385511, "answer_id": 56738441, "question_id": 56737911, "link": "https://stackoverflow.com/questions/56737911/regex-match-0-n-but-not-0/56738441#56738441", "title": "Regex match 0\\n but not 0\\.+", "body": "<p>If you are looking for a <code>0</code> by itself at the end, you may be looking for a word boundary.  Like this:</p>\n\n<p><code>\\b0$</code></p>\n\n<p>You can read more about word boundaries here:\n<a href=\"https://www.regular-expressions.info/wordboundaries.html\" rel=\"nofollow noreferrer\">https://www.regular-expressions.info/wordboundaries.html</a></p>\n\n<p>If you simply want a 0 with a space before it, try this:</p>\n\n<p><code>\\s0$</code></p>\n\n<p>As per <code>The fourth bird</code>'s comment, the regex you have <em>should</em> <em>not</em> be matching your sample text.</p>\n"}], "owner": {"reputation": 1, "user_id": 10721247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab33fafa2f7f3234873b8eba7ce2634b?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/10721247/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1561473230, "creation_date": 1561383727, "last_edit_date": 1561473230, "question_id": 56737911, "link": "https://stackoverflow.com/questions/56737911/regex-match-0-n-but-not-0", "title": "Regex match 0\\n but not 0\\.+", "body": "<p>I'll expand my original question:\nI want to filter strings that ends with a \"0\" but not filter strings that look like \"0.123\". To do that I'm looking at 0 and then end of line.\nExample:\n\"value_x 0\"\n\"value_y 0.123\"</p>\n\n<p>I'm using:\n    ^\\S+\\s+0$</p>\n\n<p>but somehow this matches also \"0.123`.</p>\n\n<p>Why the ending <code>$</code> doesn't avoid the 2nd case? how can I fix that?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 3, "creation_date": 1561374025, "post_id": 56735115, "comment_id": 100029028, "body": "Well, have you <i>installed</i> <code>Email::Stuffer</code>?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1561374501, "post_id": 56735115, "comment_id": 100029306, "body": "Find yourself a good Perl tutorial, perhaps one specifically for ActivePerl, and start there. Coming here to ask a question every time you get an error is not a Good Idea\u2122 and it would take years just to learn the basics."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 11130057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5d5fc7f183e98a174d850087c2e23a?s=128&d=identicon&r=PG&f=1", "display_name": "Ekanvitha", "link": "https://stackoverflow.com/users/11130057/ekanvitha"}, "edited": false, "score": 0, "creation_date": 1561375060, "post_id": 56735293, "comment_id": 100029597, "body": "Is there any module for Activeperl because I have to run it on Activeperl only."}, {"owner": {"reputation": 25, "user_id": 11130057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5d5fc7f183e98a174d850087c2e23a?s=128&d=identicon&r=PG&f=1", "display_name": "Ekanvitha", "link": "https://stackoverflow.com/users/11130057/ekanvitha"}, "edited": false, "score": 0, "creation_date": 1561375336, "post_id": 56735293, "comment_id": 100029729, "body": "It&#39;s giving this error message ppm install failed: Can&#39;t find any package that provides Email::Stuffer"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 25, "user_id": 11130057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5d5fc7f183e98a174d850087c2e23a?s=128&d=identicon&r=PG&f=1", "display_name": "Ekanvitha", "link": "https://stackoverflow.com/users/11130057/ekanvitha"}, "edited": false, "score": 0, "creation_date": 1561379150, "post_id": 56735293, "comment_id": 100031773, "body": "@Ekanvitha: Which version of ActivePerl are you using? The module seems to be <a href=\"https://code.activestate.com/ppm/Email-Stuffer/\" rel=\"nofollow noreferrer\">available for most modern versions</a>. Why are you tied to ActivePerl? Strawberry Perl is a better version and is actively supported by the Perl community."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1561382094, "post_id": 56735293, "comment_id": 100033472, "body": "@DaveCross, AP downloads offered are 5.26 and 5.28, corresponding PPM packages not ready yet?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1561384913, "post_id": 56735293, "comment_id": 100035160, "body": "@daxim: I&#39;d put money on the problem being that this version of AP is too old, rather than too new :-)"}, {"owner": {"reputation": 25, "user_id": 11130057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5d5fc7f183e98a174d850087c2e23a?s=128&d=identicon&r=PG&f=1", "display_name": "Ekanvitha", "link": "https://stackoverflow.com/users/11130057/ekanvitha"}, "edited": false, "score": 0, "creation_date": 1561387311, "post_id": 56735293, "comment_id": 100036621, "body": "Can I use Net::SMTP instead of Email::Stuffer for the above program in ActivePerl 5"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 25, "user_id": 11130057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5d5fc7f183e98a174d850087c2e23a?s=128&d=identicon&r=PG&f=1", "display_name": "Ekanvitha", "link": "https://stackoverflow.com/users/11130057/ekanvitha"}, "edited": false, "score": 0, "creation_date": 1561388813, "post_id": 56735293, "comment_id": 100037567, "body": "@Ekanvitha: You seem to have missed my question asking which version of ActivePerl you are using."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 25, "user_id": 11130057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5d5fc7f183e98a174d850087c2e23a?s=128&d=identicon&r=PG&f=1", "display_name": "Ekanvitha", "link": "https://stackoverflow.com/users/11130057/ekanvitha"}, "edited": false, "score": 0, "creation_date": 1561388918, "post_id": 56735293, "comment_id": 100037630, "body": "@Ekanvitha: Net::SMTP doesn&#39;t really do the same thing as Email::Stuffer. Sure, they both send emails. But Email::Stuffer does so much more to make it easy to create the email before sending it. If you want an alternative to Email::Stuffer, you should look at Email::Sender."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 25, "user_id": 11130057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5d5fc7f183e98a174d850087c2e23a?s=128&d=identicon&r=PG&f=1", "display_name": "Ekanvitha", "link": "https://stackoverflow.com/users/11130057/ekanvitha"}, "edited": false, "score": 0, "creation_date": 1561388953, "post_id": 56735293, "comment_id": 100037645, "body": "@Ekanvitha: And, as I&#39;ve mentioned before, your best approach is to switch to Strawberry Perl. What is stopping you from doing that?"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1561374550, "creation_date": 1561374550, "answer_id": 56735293, "question_id": 56735115, "link": "https://stackoverflow.com/questions/56735115/while-running-an-email-program-on-windows-activeperl-im-getting-an-error/56735293#56735293", "title": "While running an email program on Windows ActivePerl I&#39;m getting an error", "body": "<p>Email::Stuffer is not part of the standard Perl distribution. You need to install it before you can use it.</p>\n\n<p>It's possible that it's available for installation in the ActivePerl package repository so you can install it using <code>ppm</code>. However, I would recommend using <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">Strawberry Perl</a> instead which would allow you to <a href=\"https://stackoverflow.com/questions/6643939/installing-modules-using-strawberry-perl\">install CPAN modules using the standard tools</a>.</p>\n"}], "owner": {"reputation": 25, "user_id": 11130057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5d5fc7f183e98a174d850087c2e23a?s=128&d=identicon&r=PG&f=1", "display_name": "Ekanvitha", "link": "https://stackoverflow.com/users/11130057/ekanvitha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561374550, "creation_date": 1561373853, "last_edit_date": 1561374100, "question_id": 56735115, "link": "https://stackoverflow.com/questions/56735115/while-running-an-email-program-on-windows-activeperl-im-getting-an-error", "title": "While running an email program on Windows ActivePerl I&#39;m getting an error", "body": "<p>I'm using the <code>Email::Stuffer</code> module for sending a text message through an email in ActivePerl on Windows. This the code I'm running:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Email::Stuffer;\n\nmy $text = &lt;&lt;\"END\";\nThis is the email generated by Perl.\nEND\n\nEmail::Stuffer\n     -&gt;text_body($text)\n     -&gt;subject('Perl Email')\n     -&gt;from('abc@gmail.com&gt;')\n     -&gt;to('xyz@gmail)\n     -&gt;send;\n</code></pre>\n\n<p>I'm getting error like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can't locate Email/Stuffer.pm in @INC (you may need to install the Email::Stuffer module) (@INC contains: C:/Perl/site/lib C:/Perl/lib) at D:\\Ekanvith\na\\perl\\email.pl line 4.\nBEGIN failed--compilation aborted at D:\\Ekanvitha\\perl\\email.pl line 4.\n</code></pre>\n"}, {"tags": ["list", "perl", "variable-assignment", "scalar"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 1934262, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ceac2ce6ef515945bd020498a10d5dd?s=128&d=identicon&r=PG", "display_name": "sparco1500", "link": "https://stackoverflow.com/users/1934262/sparco1500"}, "edited": false, "score": 0, "creation_date": 1561357217, "post_id": 56730679, "comment_id": 100020810, "body": "thanks for the response!  Is there any tutorial/whitepaper that explains this?  All the material i&#39;ve come across didn&#39;t cover this caveat.  Years ago I think a perl trainer on a course recommended to always use <code>||</code> instead of <code>or</code>, but I&#39;ve since forgotten the explanation of why (if indeed he gave us one).  (in fact I see now that I I&#39;ve been using or and || interchangeably which is obviously very dangerous..  I&#39;ve edited my question to show what my code was actually doing.)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 125, "user_id": 1934262, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ceac2ce6ef515945bd020498a10d5dd?s=128&d=identicon&r=PG", "display_name": "sparco1500", "link": "https://stackoverflow.com/users/1934262/sparco1500"}, "edited": false, "score": 2, "creation_date": 1561357393, "post_id": 56730679, "comment_id": 100020875, "body": "@sparco1500 I&#39;ve edited some links to the documentation into the answer."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 125, "user_id": 1934262, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ceac2ce6ef515945bd020498a10d5dd?s=128&d=identicon&r=PG", "display_name": "sparco1500", "link": "https://stackoverflow.com/users/1934262/sparco1500"}, "edited": false, "score": 1, "creation_date": 1561361143, "post_id": 56730679, "comment_id": 100022550, "body": "@sparco1500 - Aside from the documentation links which were added to the answer, the general rule of thumb is &quot;use <code>||</code> for logical operations; use <code>or</code> for flow control&quot;. The same applies to <code>&amp;&amp;</code> and <code>and</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 125, "user_id": 1934262, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ceac2ce6ef515945bd020498a10d5dd?s=128&d=identicon&r=PG", "display_name": "sparco1500", "link": "https://stackoverflow.com/users/1934262/sparco1500"}, "edited": false, "score": 3, "creation_date": 1561362927, "post_id": 56730679, "comment_id": 100023380, "body": "@sparco1500, Generally, one uses <code>or</code> for flow control (<code>or die</code>, <code>or next</code>, <code>or return</code>, etc), and <code>||</code> elsewhere."}], "tags": [], "owner": {"reputation": 715, "user_id": 4630350, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--Dv4_vchBTQ/AAAAAAAAAAI/AAAAAAAAAAA/JlAVdHNIOdg/photo.jpg?sz=128", "display_name": "Q the Platypus", "link": "https://stackoverflow.com/users/4630350/q-the-platypus"}, "is_accepted": true, "score": 10, "last_activity_date": 1561357374, "last_edit_date": 1561357374, "creation_date": 1561356536, "answer_id": 56730679, "question_id": 56730616, "link": "https://stackoverflow.com/questions/56730616/in-perl-why-does-adding-die-onto-a-statement-cause-it-to-evaluate-in-scalar/56730679#56730679", "title": "In Perl why does adding &quot;|| die&quot; onto a statement cause it to evaluate in scalar context?", "body": "<p>The reason that this forces a scalar context is because <a href=\"https://perldoc.pl/perlop#Operator-Precedence-and-Associativity\" rel=\"noreferrer\"><code>||</code> binds stronger than <code>=</code></a>, so</p>\n\n<pre><code>(@processes) = @{$ds-&gt;{rules}} || die \"unable to get rules form config.. \\n\";\n</code></pre>\n\n<p>Is parsed as</p>\n\n<pre><code>(@processes) = (@{$ds-&gt;{rules}} || die \"unable to get rules form config.. \\n\");\n</code></pre>\n\n<p>And the <code>||</code> creates a boolean context.  However perl has <a href=\"https://perldoc.pl/perlop#Logical-or-and-Exclusive-Or\" rel=\"noreferrer\">a weakly binding version of <code>||</code></a>:</p>\n\n<pre><code>(@processes) = @{$ds-&gt;{rules}} or die \"unable to get rules form config.. \\n\";\n</code></pre>\n\n<p>Which will get parsed the way you desire.</p>\n"}], "owner": {"reputation": 125, "user_id": 1934262, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ceac2ce6ef515945bd020498a10d5dd?s=128&d=identicon&r=PG", "display_name": "sparco1500", "link": "https://stackoverflow.com/users/1934262/sparco1500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 56730679, "answer_count": 1, "score": 1, "last_activity_date": 1561357569, "creation_date": 1561356119, "last_edit_date": 1561357569, "question_id": 56730616, "link": "https://stackoverflow.com/questions/56730616/in-perl-why-does-adding-die-onto-a-statement-cause-it-to-evaluate-in-scalar", "title": "In Perl why does adding &quot;|| die&quot; onto a statement cause it to evaluate in scalar context?", "body": "<p>I finally found out that my code was getting evaluated in scalar context instead of list context, even though I had () around the assignment.  </p>\n\n<ul>\n<li><p>1st question is why does adding \"|| die ...\" onto an expression/assignment cause it to evaluate in scalar context? </p></li>\n<li><p>2nd, is there an \"|| die .... \" idiom/equivalent that can be used when doing a list assignment? </p></li>\n</ul>\n\n<p>Here is my sample code that demonstrates the issue. </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper qw(Dumper);\n\nmy $h1 = {\n    var =&gt; \"1\",\n    bar =&gt; \"1\",\n    baz =&gt; \"1\",\n};\n\nmy $h2 = {\n    var =&gt; \"2\",\n    bar =&gt; \"2\",\n    baz =&gt; \"2\",\n};\n\nmy $ds;\n$ds-&gt;{rules} = [$h1,$h2];\n\nprint \"TEST1\\n\";\nprint Dumper($ds);\n\nprint \"TEST2\\n\";\nmy (@processes) = @{$ds-&gt;{rules}};\nprint Dumper(\\@processes);\nprint \"@processes\\n\";\n\nprint \"TEST3\\n\";\n(@processes) = @{$ds-&gt;{rules}} || die \"unable to get rules form config.. \\n\";\nprint Dumper(\\@processes);\nprint \"@processes\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>TEST2\n$VAR1 = [\n          {\n            'bar' =&gt; '1',\n            'baz' =&gt; '1',\n            'var' =&gt; '1'\n          },\n          {\n            'bar' =&gt; '2',\n            'baz' =&gt; '2',\n            'var' =&gt; '2'\n          }\n        ];\nHASH(0x25eea68) HASH(0x260b240) \nTEST3\n$VAR1 = [\n          2\n        ];\n2\n</code></pre>\n\n<p>Compare TEST2 and TEST3.  As best I can tell, simply adding the <code>|| die '.... '</code> bit onto the end changes the way the statement gets evaluated into scalar context, even though I have parenthesis around the left-hand side. <strong>Q1</strong>: Maybe i'm just dense, but why does that happen? </p>\n\n<p><strong>Q2</strong>: is there an \"|| die .... \" idiom/equivalent that can still be used when doing a list assignment?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1561349010, "post_id": 56729521, "comment_id": 100018771, "body": "@mob That&#39;s not a duplicate."}, {"owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561349087, "post_id": 56729521, "comment_id": 100018786, "body": "yes. it&#39;s not :C"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561349149, "post_id": 56729521, "comment_id": 100018798, "body": "I mean, the second answer happens to answer this question (use <code>readlink</code>), but both the question and the accepted answer are different."}, {"owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561349559, "post_id": 56729521, "comment_id": 100018863, "body": "anyway use Cwd &#39;abs_path&#39;; this helped me"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561349616, "post_id": 56729521, "comment_id": 100018871, "body": "<code>abs_path</code> is different. That will completely resolve all symbolic links anywhere in the path, not just the immediate target of the last path component."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561349856, "post_id": 56729521, "comment_id": 100018903, "body": "... but if that solves your problem, then <a href=\"https://stackoverflow.com/questions/4887672/how-to-get-the-absolute-path-for-symlink-file\" title=\"how to get the absolute path for symlink file\">stackoverflow.com/questions/4887672/&hellip;</a> is a better duplicate."}, {"owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561351584, "post_id": 56729521, "comment_id": 100019269, "body": "since there is only one symlink i think it solves but still under testing :)"}], "answers": [{"comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1561441035, "post_id": 56730445, "comment_id": 100052971, "body": "Entirely correct answer. I often find that <code>readlink</code> and <code>lstat</code> go well together."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1561413985, "last_edit_date": 1561413985, "creation_date": 1561355001, "answer_id": 56730445, "question_id": 56729521, "link": "https://stackoverflow.com/questions/56729521/how-to-get-the-path-which-symlinked-to-using-perl/56730445#56730445", "title": "how to get the path which symlinked to, using perl?", "body": "<p>If you want the unprocessed value of a symlink, use <a href=\"http://perldoc.perl.org/functions/readlink.html\" rel=\"nofollow noreferrer\"><code>readlink</code></a>. This could be a path relative to the symlink's location. This could be a path to another symlink.</p>\n\n<p>If you want an path that's not a symlink, use <a href=\"http://search.cpan.org/perldoc?Cwd\" rel=\"nofollow noreferrer\">Cwd</a>'s <code>abs_path</code>. This will return a fully resolved absolute path (i.e. an absolute path that doesn't use any symlinks).</p>\n"}], "owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56730445, "answer_count": 1, "score": 0, "last_activity_date": 1561413985, "creation_date": 1561347088, "question_id": 56729521, "link": "https://stackoverflow.com/questions/56729521/how-to-get-the-path-which-symlinked-to-using-perl", "title": "how to get the path which symlinked to, using perl?", "body": "<p>I have below symlink, and i need to get the source path of the symlink, see below example </p>\n\n<pre><code>/home/folder/linked --&gt; /var/log/source ( /var/log/source  symlink to /home/folder/linked)\n</code></pre>\n\n<p>how can i get <code>/var/log/source</code> path using Perl ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "edited": false, "score": 1, "creation_date": 1561344593, "post_id": 56728974, "comment_id": 100018128, "body": "Question would be more clear if you have the example of the input.txt file. Also: `          my @file = $_;           foreach my $file (@file) {  `. It&#39;s unclear why @file is an array."}, {"owner": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "reply_to_user": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "edited": false, "score": 0, "creation_date": 1561345006, "post_id": 56728974, "comment_id": 100018198, "body": "hi @SachinDangol the input.txt file i already mention like above. I store in array as it has a list of &quot;NOT_INCLUDED&quot; as in input.txt"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561350184, "post_id": 56728974, "comment_id": 100018970, "body": "<code>$_</code> is a single value. <code>my @file = $_</code> just creates a one-element array, i.e. <code>$file[0]</code> will be equal to <code>$_</code>. There&#39;s no point in using an array here."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561350418, "post_id": 56728974, "comment_id": 100019011, "body": "There are many problems in your code, but most importantly it doesn&#39;t even compile: <code>Missing right curly or square bracket at .code.tio line 53, at end of line</code>"}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1561356980, "last_edit_date": 1561356980, "creation_date": 1561352407, "answer_id": 56730072, "question_id": 56728974, "link": "https://stackoverflow.com/questions/56728974/data-driven-perl-script/56730072#56730072", "title": "Data driven perl script", "body": "<p>This part of the code makes no sense:</p>\n\n<pre><code>   while ( my $filelist = readdir (DIR) ) {\n      ...\n      foreach $_ (@not_included){\n         chomp $_;\n         my $not_included = \"$_\";\n         if ( $filelist eq $not_included ){\n            next;\n         }  # (1)\n\n      push @unsort_output, $filelist;  # (2)\n    }\n</code></pre>\n\n<p>This code contains three opening braces (<code>{</code>) but only two closing braces (<code>}</code>). If you try to run your code as-is, it fails with a syntax error.</p>\n\n<p>The <code>push</code> line (marked <code>(2)</code>) is part of the <code>foreach</code> loop, but indented as if it were outside. Either it should be indented more (to line up with <code>(1)</code>), or you need to add a <code>}</code> before it. Neither alternative makes much sense:</p>\n\n<ul>\n<li>If <code>push</code> is outside of the <code>foreach</code> loop, then the <code>next</code> statement (and the whole <code>foreach</code> loop) has no effect. It could just be deleted.</li>\n<li>If <code>push</code> is inside the <code>foreach</code> loop, then every directory entry (<code>$filelist</code>) will be pushed multiple times, one for each line in <code>@not_included</code> (except for the names listed somewhere in <code>@not_included</code>; those will be pushed one time less).</li>\n</ul>\n\n<p>There are several other problems. For example:</p>\n\n<ul>\n<li><code>$filelist =~ s/\\.//g</code> removes all dots from the file name, transforming e.g. <code>file_c.sv</code> into <code>file_csv</code>. That means it will never match <code>NOT_INCLUDED=file_c.sv</code> in your input file.</li>\n<li>Worse, the <code>next if s///</code> part means the loop skips all files whose names contain dots, such as <code>Output1.sv</code> or <code>Output2.sv</code>.</li>\n<li>Results are printed without separators, so you'll get something like\n<code>Folder1Folder1Folder1Folder2Folder2Folder2file_afile_afile_bfile_b</code> in <code>OUTPUT.txt</code>.</li>\n<li>Global variables are used for no reason, e.g. <code>INFILE</code> and <code>DIR</code>.</li>\n</ul>\n\n<p>Here is how I would structure the code:</p>\n\n<pre><code>#!/usr/intel/perl\nuse strict;\nuse warnings;\n\nmy $input_file = 'INPUT.txt';\n\nmy %is_blacklisted;\n{\n    open my $fh, '&lt;', $input_file or die \"$0: $input_file: $!\\n\";\n    while (my $line = readline $fh) {\n        chomp $line;\n        if ($line =~ s!\\ANOT_INCLUDED=!!) {\n            $is_blacklisted{$line} = 1;\n        }\n    }\n}\n\nmy $path = 'experiment';\n\nmy @results;\n{\n    opendir my $dh, $path or die \"$0: $path: $!\\n\";\n    while (my $entry = readdir $dh) {\n        next\n            if $entry eq '.' || $entry eq '..'\n            || $entry =~ /\\.list\\z/\n            || $entry =~ /\\.swp\\z/\n            || $is_blacklisted{$entry};\n\n        push @results, $entry;\n    }\n}\n\n@results = sort @results;\n\nmy $output_file = 'OUTPUT.txt';\n{\n    open my $fh, '&gt;', $output_file or die \"$0: $output_file: $!\\n\";\n    for my $result (@results) {\n        print $fh \"$result\\n\";\n    }\n}\n</code></pre>\n\n<p>The contents of <code>INPUT.txt</code> (more specifically, the parts after <code>NOT_INCLUDED=</code>) are read into a hash (<code>%is_blacklisted</code>). This allows easy lookup of entries.</p>\n\n<p>Then we process the directory entries. We skip over <code>.</code> and <code>..</code> (I assume you don't want those) as well as all files ending with <code>*.list</code> or <code>*.swp</code> (that was in your original code). We also skip any file that is blacklisted, i.e. that was specified as excluded in <code>INPUT.txt</code>. The remaining entries are collected in <code>@results</code>.</p>\n\n<p>We sort our results and write them to <code>OUTPUT.txt</code>, one entry per line.</p>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561356807, "post_id": 56730713, "comment_id": 100020659, "body": "<code>&#47;^\\.\\.?$&#47;xms</code> matches more than just <code>.</code> and <code>..</code>. It matches any filename that contains a line of just <code>.</code> and <code>..</code> anywhere. Why did you add the <code>&#47;m</code> flag?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1561356854, "post_id": 56730713, "comment_id": 100020675, "body": "<code>chomp $filelist</code> makes no sense. It&#39;s a directory entry, not a line."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561356884, "post_id": 56730713, "comment_id": 100020691, "body": "<code>join &quot;\\n&quot;, @output</code> leaves the last line unterminated."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561357093, "post_id": 56730713, "comment_id": 100020764, "body": "<code>next if ( $filelist =~ s&#47;\\.&#47;&#47;g);</code> skips over all files with dots in their name."}, {"owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561357584, "post_id": 56730713, "comment_id": 100020945, "body": "<code>&#47;m</code> flag is for general regular expressions,  PerlCritic idea. I agree it&#39;s not required in this case, even all /xms  is not really required. <code>chomp $filelist</code> and  <code>next if ( $filelist =~ s&#47;\\.&#47;&#47;g);</code> was there in the original script, I overlooked. <code>join &quot;\\n&quot;</code> I added to show user content in quick visual way. Yes, it leave the last line unterminated."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561357661, "post_id": 56730713, "comment_id": 100020976, "body": "<code>&#47;m</code> is not &quot;for general regular expressions&quot;. <code>&#47;m</code> changes what <code>^</code> and <code>$</code> mean. Don&#39;t blindly apply the default perlcritic ruleset without understanding what it does (and why it sucks)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1561357849, "post_id": 56730713, "comment_id": 100021053, "body": "Why create broken text files when it would cost you nothing to fix the problem? <code>print OUTPUT map &quot;$_\\n&quot;, @output;</code> isn&#39;t any longer or harder to type (or <code>say OUTPUT $_ for @output;</code> in non-ancient Perl)."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1561357993, "post_id": 56730713, "comment_id": 100021109, "body": "<code>exists</code> is a better option than <code>defined</code> when testing to see if a hash key, well, exists."}, {"owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "edited": false, "score": 0, "creation_date": 1561358612, "post_id": 56730713, "comment_id": 100021412, "body": "In this case as I create a hash by doing <code>$not_included{$file}++;</code> defined is fine."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561359218, "post_id": 56730713, "comment_id": 100021659, "body": "@SachinDangol But why use <code>defined</code> specifically? To check whether a hash key exists in general, <code>exists</code> is the right solution. In this case the values are positive integers, so you could just check <code>if ($not_included{$filelist})</code> directly. <code>defined</code> is neither here nor there."}, {"owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "edited": false, "score": 0, "creation_date": 1561366812, "post_id": 56730713, "comment_id": 100025320, "body": "<code>if ($not_included{$filelist})</code> is the best for this case. Thanks"}], "tags": [], "owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "is_accepted": true, "score": 1, "last_activity_date": 1561356817, "last_edit_date": 1561356817, "creation_date": 1561356697, "answer_id": 56730713, "question_id": 56728974, "link": "https://stackoverflow.com/questions/56728974/data-driven-perl-script/56730713#56730713", "title": "Data driven perl script", "body": "<p>Not deviating too much from your code, here is the solution. Please find the comments:</p>\n\n<pre><code>#!/usr/intel/perl\nuse strict;\nuse warnings;\nmy $input_file    = \"INPUT.txt\";\nopen ( OUTPUT, \"&gt;OUTPUT.txt\" );\nfile_in_directory();\nclose OUTPUT;\n\nsub file_in_directory {\n    my $path       = \"experiment/\";\n    my @unsort_output;\n    my %not_included; # creating hash map insted of array for cleaner and faster implementaion.\n    open ( INFILE, \"&lt;\", $input_file);\n    while (my $file = &lt;INFILE&gt;) {\n        if ($file =~ /NOT_INCLUDED/) {\n            $file =~ s/NOT_INCLUDED=//;\n            $not_included{$file}++; # create a quick hash map of (filename =&gt; 1, filename2 =&gt; 1)\n        }\n    }\n    close INFILE;\n    opendir ( DIR, $path ) || die \"Error in opening dir $path\\n\";\n    while ( my $filelist = readdir (DIR) ) {\n        next if $filelist =~ /^\\.\\.?$/xms; # discard . and .. files\n        chomp $filelist;\n        next if ( $filelist =~ m/\\.list$/ );\n        next if ( $filelist =~ m/\\.swp$/ );\n        next if ( $filelist =~ s/\\.//g);\n        if (defined $not_included{$filelist}) {\n            next;\n        }\n        else {\n            push @unsort_output, $filelist;\n        }\n    }\n    closedir(DIR);  # earlier the closedir was inside of while loop. Which is wrong.\n    my @output = sort @unsort_output;\n    print OUTPUT join \"\\n\", @output;\n}\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 56730713, "answer_count": 2, "score": -1, "last_activity_date": 1561356980, "creation_date": 1561340638, "last_edit_date": 1561345224, "question_id": 56728974, "link": "https://stackoverflow.com/questions/56728974/data-driven-perl-script", "title": "Data driven perl script", "body": "<p>I want to list file n folder in directory. Here are the list of the file in this directory.</p>\n\n<pre><code>Output1.sv\nOutput2.sv\nFolder1\nFolder2\nfile_a\nfile_b\nfile_c.sv\n</code></pre>\n\n<p>But some of them, i don't want it to be listed. The list of not included file, I list in input.txt like below. Note:some of them is file and some of them is folder</p>\n\n<pre><code>NOT_INCLUDED=file_a\nNOT_INCLUDED=file_b\nNOT_INCLUDED=file_c.sv\n</code></pre>\n\n<p>Here is the code.</p>\n\n<pre><code>#!/usr/intel/perl\n\nuse strict;\nuse warnings;\n\nmy $input_file    = \"INPUT.txt\";\n\nopen ( OUTPUT, \"&gt;OUTPUT.txt\" );\n\nfile_in_directory();\n\nclose OUTPUT;\n\n\nsub file_in_directory {\n\n   my $path       = \"experiment/\";\n\n   my @unsort_output;\n   my @not_included;\n   open ( INFILE, \"&lt;\", $input_file);\n   while (&lt;INFILE&gt;){\n      if ( $_ =~ /NOT_INCLUDED/){\n          my @file = $_;\n          foreach my $file (@file) {\n              $file =~ s/NOT_INCLUDED=//;\n              push @not_included, $file;\n          }\n      }\n   }\n   close INFILE;\n\n   opendir ( DIR, $path ) || die \"Error in opening dir $path\\n\";\n   while ( my $filelist = readdir (DIR) ) {\n      chomp $filelist;\n      next if ( $filelist =~ m/\\.list$/ );\n      next if ( $filelist =~ m/\\.swp$/ );\n      next if ( $filelist =~ s/\\.//g);\n      foreach $_ (@not_included){\n         chomp $_;\n         my $not_included = \"$_\";\n         if ( $filelist eq $not_included ){\n            next;\n         }\n\n      push @unsort_output, $filelist;         \n    }\n\n   closedir(DIR);\n\n   my @output = sort @unsort_output;\n   print OUTPUT @output;   \n}\n</code></pre>\n\n<p>The output that I want is to list all the file in that directory except the file list in input.txt 'NOT_INCLUDED'.</p>\n\n<pre><code>Output1.sv\nOutput2.sv\nFolder1\nFolder2\n</code></pre>\n\n<p>But the output that i get seem still included that unwanted file.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1561299488, "post_id": 56724556, "comment_id": 100009518, "body": "Note that that approach is broken in the general case. E.g. <code>printf(&quot;a &#47;&#47; b\\n&quot;);</code> will be mangled into <code>printf(&quot;a </code> by that regex replacement."}, {"owner": {"reputation": 772, "user_id": 5767241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f14055381bdd531cf514b98c3e50530?s=128&d=identicon&r=PG&f=1", "display_name": "idanp", "link": "https://stackoverflow.com/users/5767241/idanp"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561301423, "post_id": 56724556, "comment_id": 100010024, "body": "Thanks, the script sanitize all strings beforehand to avoid these kind of things."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1561302869, "post_id": 56724556, "comment_id": 100010415, "body": "That approach is also broken in the general case. E.g. <code>printf(&#47;* &quot;foo *&#47; &quot;a &#47;&#47; b&quot;); &#47;&#47; &quot;</code>."}, {"owner": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561320972, "post_id": 56724556, "comment_id": 100014677, "body": "@melpomene The only thing that may work is the preprocessor/compiler itself; with GNU cpp/gcc: <code>cpp -fpreprocessed -P infile</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "edited": false, "score": 1, "creation_date": 1561324196, "post_id": 56724556, "comment_id": 100015294, "body": "@mosvy No, it&#39;s quite easy to do this correctly with a single <code>s&#47;&#47;&#47;</code> (and support even continuation lines and trigraphs), but you can&#39;t do it in stages or work linewise."}, {"owner": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561324950, "post_id": 56724556, "comment_id": 100015437, "body": "@melpomene &quot;but you can&#39;t do it in stages&quot; which means that it doesn&#39;t scale and isn&#39;t worth wasting time with."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "edited": false, "score": 0, "creation_date": 1561325307, "post_id": 56724556, "comment_id": 100015502, "body": "@mosvy You&#39;ve lost me. Are you saying tokenizing C is pointless and no one should do it?"}, {"owner": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561325588, "post_id": 56724556, "comment_id": 100015547, "body": "@melpomene explain how you you&#39;re going to process <code>&#47;*..*&#47;</code> comments with a single s///, <i>without</i> loading the whole file in the memory. <code>cpp</code> is able to do that almost as fast as <code>cat</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "edited": false, "score": 0, "creation_date": 1561325613, "post_id": 56724556, "comment_id": 100015552, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/195445/discussion-between-melpomene-and-mosvy\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 3, "creation_date": 1561298397, "post_id": 56724595, "comment_id": 100009206, "body": "Perhaps we could comment that the original code chose @ as a delimiter as opposed to some other character, on the grounds that they did not want to escape some other character in the regex."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561309930, "post_id": 56724595, "comment_id": 100012231, "body": "<code>$line =~ s&#47;&#47;&#47;.*&#47;&#47;</code> would be parsed as <code>($line =~ s&#47;&#47;&#47;) . &lt;Syntax error: Expression expected&gt;</code>"}], "tags": [], "owner": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "is_accepted": true, "score": 6, "last_activity_date": 1561299164, "last_edit_date": 1561299164, "creation_date": 1561298358, "answer_id": 56724595, "question_id": 56724556, "link": "https://stackoverflow.com/questions/56724556/at-sign-in-perl-regular-expression/56724595#56724595", "title": "At sign (@) in Perl Regular Expression", "body": "<blockquote>\n  <p>What is the meaning of <code>@</code> and <code>@@</code> in this Perl Regex</p>\n</blockquote>\n\n<p>It doesn't have any meaning. The <code>s</code> (substitute) operator can use any delimiter, with a special case for paired delimiters (<code>{}</code>, <code>&lt;&gt;</code>, <code>[]</code>, <code>()</code>). The same could be written as <code>s,//.*,,</code>, <code>s#//.*##</code> or <code>s{//.*}{}</code>.</p>\n\n<p>If the <code>/</code> weren't replaced with <code>@</code> or other delimiter, it would've had to be escaped in the regexp and replacement, which would've given something ugly like <code>s/\\/\\/.*//</code>.</p>\n\n<p>This is all documented under <a href=\"https://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">\"Quote and Quote-like Operators\"</a> in the <code>perlop(1)</code> manpage -- including the special treatment of the single quote (<code>'</code>) delimiter, which prevents variable interpolation.</p>\n\n<blockquote>\n  <p>What is the difference from <code>$line =~ s///.*//;</code>?</p>\n</blockquote>\n\n<p>The difference is that that example is broken and doesn't work.</p>\n"}, {"tags": [], "owner": {"reputation": 1187, "user_id": 3205558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ffc8fc604953fb170da4593973045d8?s=128&d=identicon&r=PG", "display_name": "vlumi", "link": "https://stackoverflow.com/users/3205558/vlumi"}, "is_accepted": false, "score": 1, "last_activity_date": 1561298395, "creation_date": 1561298395, "answer_id": 56724602, "question_id": 56724556, "link": "https://stackoverflow.com/questions/56724556/at-sign-in-perl-regular-expression/56724602#56724602", "title": "At sign (@) in Perl Regular Expression", "body": "<p>It's just a different symbol that you don't have to escape the <code>/</code> in the regex itself. Could be pretty much any other special symbol, too:</p>\n\n<pre><code>$line =~ s#//.*##g;\n$line =~ s!//.*!!g;\n$line =~ s&amp;//.*&amp;&amp;g;\n$line =~ s|//.*||g;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1561374219, "creation_date": 1561374219, "answer_id": 56735217, "question_id": 56724556, "link": "https://stackoverflow.com/questions/56724556/at-sign-in-perl-regular-expression/56735217#56735217", "title": "At sign (@) in Perl Regular Expression", "body": "<p>The <code>@</code> does not appear in the regex. It is being used as the delimiter in the substitution operator.</p>\n\n<p>The substitution operator is usually written as <code>s/PATTERN/REPLACEMENT/</code>. The <code>PATTERN</code> is the regex and the <code>REPLACEMENT</code> is treated as a double-quoted string. In the standard version of the operator, the slash character (<code>/</code>) is used as the delimiter, but Perl allows the programmer to choose pretty much any character as the delimiter. This is usually done to avoid having to escape characters that appear in either the pattern or the replacement.</p>\n\n<p>In your example code, the programmer has chosen to use the <code>@</code> character as the delimiter. This is a slightly unusual choice :-)</p>\n\n<p>As the pattern includes <code>/</code> characters, then they would need to be escaped if the standard delimiter was used:</p>\n\n<pre><code>$line =~ s/\\/\\/.*//;\n</code></pre>\n\n<p>This looks ugly and using a different delimiter is a good choice. I would have gone with a less confusing character, like <code>|</code>.</p>\n\n<pre><code>$line =~ s|//.*||;\n</code></pre>\n"}], "owner": {"reputation": 772, "user_id": 5767241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f14055381bdd531cf514b98c3e50530?s=128&d=identicon&r=PG&f=1", "display_name": "idanp", "link": "https://stackoverflow.com/users/5767241/idanp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 0, "accepted_answer_id": 56724595, "answer_count": 3, "score": -1, "last_activity_date": 1561381223, "creation_date": 1561298056, "last_edit_date": 1561381223, "question_id": 56724556, "link": "https://stackoverflow.com/questions/56724556/at-sign-in-perl-regular-expression", "title": "At sign (@) in Perl Regular Expression", "body": "<p>What is the meaning of <code>@</code> and <code>@@</code> in this Perl Regex (<strike>which removes comment from C code</strike>):</p>\n\n<pre><code>$line =~ s@//.*@@;\n</code></pre>\n\n<p>What is the difference from <code>$line =~ s///.*//;</code>?</p>\n\n<p>Couldn't find any reference to <code>@</code> in the <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561296558, "post_id": 56724286, "comment_id": 100008695, "body": "Please give more details. What do you mean by <i>&quot;add 3 value&quot;</i> ?"}, {"owner": {"reputation": 1, "user_id": 11654835, "user_type": "registered", "profile_image": "https://graph.facebook.com/1272372532939726/picture?type=large", "display_name": "Ahmed Samir", "link": "https://stackoverflow.com/users/11654835/ahmed-samir"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561297533, "post_id": 56724286, "comment_id": 100008955, "body": "How to view the result of inserting a new Repeatable filed 780$z in normal view OPAC authority"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11750215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d00e00b0a8f068c5c180ab8aff243583?s=128&d=identicon&r=PG&f=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/11750215/julian"}, "is_accepted": false, "score": 0, "last_activity_date": 1563112667, "creation_date": 1563112667, "answer_id": 57028049, "question_id": 56724286, "link": "https://stackoverflow.com/questions/56724286/show-some-data-in-koha-ils-authority-normal-view/57028049#57028049", "title": "show some data in koha ILS authority normal view", "body": "<p>If field 780$z is repeatable you must add value this field to array.</p>\n\n<p>Regards</p>\n"}], "owner": {"reputation": 1, "user_id": 11654835, "user_type": "registered", "profile_image": "https://graph.facebook.com/1272372532939726/picture?type=large", "display_name": "Ahmed Samir", "link": "https://stackoverflow.com/users/11654835/ahmed-samir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563112667, "creation_date": 1561296082, "last_edit_date": 1561321317, "question_id": 56724286, "link": "https://stackoverflow.com/questions/56724286/show-some-data-in-koha-ils-authority-normal-view", "title": "show some data in koha ILS authority normal view", "body": "<p>in opac-authoritiesdetail.pl \ni add</p>\n\n<pre><code>$template-&gt;param( \"tag_781_z\" =&gt; $record-&gt;subfield('781','z') );\n</code></pre>\n\n<p>and in opac-auth-detail.tt</p>\n\n<pre><code>[% IF( tag_781_z ) %]\n    &lt;span class=\"\"&gt;\n        &lt;span class=\"label\"&gt;Geographic Subdivision\n        &lt;/span&gt;\n        [% tag_781_z %]\n    &lt;/span&gt; \n[% END %]\n</code></pre>\n\n<p>the result \nthe first value only shown \nbut I add 3 value</p>\n"}, {"tags": ["linux", "perl", "centos"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561291759, "post_id": 56723485, "comment_id": 100007669, "body": "What does <code>perl -V:privlibexp</code> give you? On my computer, <code>ExtUtils::MakeMaker</code> is installed in that directory"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 2, "creation_date": 1561293577, "post_id": 56723485, "comment_id": 100008068, "body": "Iirc, centos is annoying and splits Perl up into multiple packages. Do you have <code>perl-core</code> installed?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1561293815, "post_id": 56723485, "comment_id": 100008118, "body": "You should probably install the DBI driver through your OS package manager too instead of trying to do it by hand. Or at least use a CPAN client"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 3, "creation_date": 1561297542, "post_id": 56723485, "comment_id": 100008959, "body": "Asked and answered <i>ad nauseam</i>: <code>yum install perl-ExtUtils-MakeMaker</code>."}], "owner": {"reputation": 57, "user_id": 2718920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36b5c484fcfa19016a354ad876dece4c?s=128&d=identicon&r=PG&f=1", "display_name": "rahul", "link": "https://stackoverflow.com/users/2718920/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2428, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561297643, "creation_date": 1561289928, "last_edit_date": 1561297643, "question_id": 56723485, "link": "https://stackoverflow.com/questions/56723485/cant-locate-extutils-makemaker-pm-in-inc", "title": "Can&#39;t locate ExtUtils/MakeMaker.pm in @INC", "body": "<p>i've centos6.4 as server and centos7.5 as client. I am trying to connect perl client with oracle server. I downloaded DBD-Oracle-1.74.tar.gz\nand trying to install like this:-</p>\n\n\n\n<p>Create file oci.conf at /etc/ld.so.conf.d/ as root with the location of  Oracle LD_LIBRARY_PATH</p>\n\n<p>as </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ORACLE_HOME=/opt/oracle/instantclient_11_2:\nPATH=$PATH:$ORACLE_HOME \nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/oracle/instantclient_11_2\n</code></pre>\n\n<p>then </p>\n\n<pre class=\"lang-none prettyprint-override\"><code># ldconfig -v\n</code></pre>\n\n<p>this includes :-</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ldconfig: Can't stat /libx32: No such file or directory\nldconfig: Path `/usr/lib' given more than once\nldconfig: Path `/usr/lib64' given more than once\nldconfig: Can't stat /usr/libx32: No such file or directory\n\n# perl Makefile.PL -V 11.2.0\n</code></pre>\n\n<p>this shows error :-</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can't locate ExtUtils/MakeMaker.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/     \nvendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at Makefile.PL line 10.\nBEGIN failed--compilation aborted at Makefile.PL line 10.\n</code></pre>\n\n<p>And there is no MakMaker in ExtUtils:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code># perl -V:privlibexp\nprivlibexp='/usr/share/perl5'\n</code></pre>\n"}, {"tags": ["bash", "perl", "awk", "sed", "grep"], "comments": [{"owner": {"reputation": 1580, "user_id": 456562, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rhg5b.jpg?s=128&g=1", "display_name": "Fela Maslen", "link": "https://stackoverflow.com/users/456562/fela-maslen"}, "edited": false, "score": 0, "creation_date": 1561281717, "post_id": 56722547, "comment_id": 100005639, "body": "Could you please explain why you downvoted the question."}, {"owner": {"reputation": 3693, "user_id": 5494721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHK5j.png?s=128&g=1", "display_name": "OznOg", "link": "https://stackoverflow.com/users/5494721/oznog"}, "edited": false, "score": 0, "creation_date": 1561282384, "post_id": 56722547, "comment_id": 100005778, "body": "are they huge files? can we make temporary copies?"}, {"owner": {"reputation": 1580, "user_id": 456562, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rhg5b.jpg?s=128&g=1", "display_name": "Fela Maslen", "link": "https://stackoverflow.com/users/456562/fela-maslen"}, "reply_to_user": {"reputation": 3693, "user_id": 5494721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHK5j.png?s=128&g=1", "display_name": "OznOg", "link": "https://stackoverflow.com/users/5494721/oznog"}, "edited": false, "score": 0, "creation_date": 1561282465, "post_id": 56722547, "comment_id": 100005792, "body": "small files (less than 100K), yes we can :)"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1561282466, "post_id": 56722547, "comment_id": 100005793, "body": "I haven&#39;t downvoted. Please add sample input and your desired output for that sample input to your question. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1561298061, "post_id": 56722547, "comment_id": 100009105, "body": "Not my downvote, but we generally expect questions to show research effort as well as your best attempt at coding a solution. I&#39;m pretty sure this is a duplicate."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1561298503, "post_id": 56722547, "comment_id": 100009237, "body": "Cross-site duplicate: <a href=\"https://unix.stackexchange.com/questions/81685/how-to-remove-multiple-newlines-at-eof\" title=\"how to remove multiple newlines at eof\">unix.stackexchange.com/questions/81685/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1580, "user_id": 456562, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rhg5b.jpg?s=128&g=1", "display_name": "Fela Maslen", "link": "https://stackoverflow.com/users/456562/fela-maslen"}, "edited": false, "score": 1, "creation_date": 1561324568, "post_id": 56722588, "comment_id": 100015372, "body": "You can use the -i switch to edit in place, and use * to glob all files in the current directory, i.e.: <code>perl -0777 -pe &#39;s&#47;\\n*$&#47;\\n&#47;&#39; -i *</code>"}], "tags": [], "owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "is_accepted": true, "score": 3, "last_activity_date": 1561324949, "last_edit_date": 1561324949, "creation_date": 1561282096, "answer_id": 56722588, "question_id": 56722547, "link": "https://stackoverflow.com/questions/56722547/remove-blank-lines-from-the-ends-of-a-bunch-of-files/56722588#56722588", "title": "Remove blank lines from the ends of a bunch of files", "body": "<p>With Perl:</p>\n\n<pre><code>perl -0777 -pe 's/\\n*$//; s/$/\\n/' file\n</code></pre>\n\n<p>Second <code>S</code> command (<code>s/$/\\n/</code>) appends again a newline to end of your file to be POSIX compilant.</p>\n\n<p>Or shorter:</p>\n\n<pre><code>perl -0777 -pe 's/\\n*$/\\n/' file\n</code></pre>\n\n<p>With Fela Maslen's comment to edit files in place (<code>-i</code>) and glob all elements in current directory (<code>*</code>):</p>\n\n<pre><code>perl -0777 -pe 's/\\n*$/\\n/' -i *\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2274, "user_id": 6266192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iA0i.jpg?s=128&g=1", "display_name": "Dudi Boy", "link": "https://stackoverflow.com/users/6266192/dudi-boy"}, "is_accepted": false, "score": 2, "last_activity_date": 1561297981, "last_edit_date": 1561297981, "creation_date": 1561295457, "answer_id": 56724208, "question_id": 56722547, "link": "https://stackoverflow.com/questions/56722547/remove-blank-lines-from-the-ends-of-a-bunch-of-files/56724208#56724208", "title": "Remove blank lines from the ends of a bunch of files", "body": "<p>Here is an <code>awk</code> solution (Standard linux <code>gawk</code>). I enjoyed writing.</p>\n\n<p>single line:</p>\n\n<pre><code>awk '/^\\s*$/{s=s $0 ORS; next}{print s $0; s=\"\"}' input.txt\n</code></pre>\n\n<p>using a readable script <code>script.awk</code></p>\n\n<pre><code>    /^\\s*$/{skippedLines = skippedLines $0 ORS; next}\n    {print skippedLines $0; skippedLines= \"\"}\n</code></pre>\n\n<p>explanation:</p>\n\n<pre><code>/^\\s*$/ {                   # for each empty line\n    skippedLines = skippedLines $0 ORS; # pad string of newlines\n    next;                   # skip to next input line\n}\n{                           # for each non empty line\n    print skippedLines $0;  # print any skippedLines and current input line\n    skippedLines= \"\";       # reset skippedLines\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 2, "last_activity_date": 1561297525, "creation_date": 1561297525, "answer_id": 56724479, "question_id": 56722547, "link": "https://stackoverflow.com/questions/56722547/remove-blank-lines-from-the-ends-of-a-bunch-of-files/56724479#56724479", "title": "Remove blank lines from the ends of a bunch of files", "body": "<p>If lines containing just space chars are to be considered empty:</p>\n\n<pre><code>$ tac file | awk 'NF{f=1}f' | tac\nline1\nline2\n\nline4\nline5\n</code></pre>\n\n<p>otherwise:</p>\n\n<pre><code>$ tac file | awk '/./{f=1}f' | tac\nline1\nline2\n\nline4\nline5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 1, "last_activity_date": 1561333785, "creation_date": 1561333785, "answer_id": 56728502, "question_id": 56722547, "link": "https://stackoverflow.com/questions/56722547/remove-blank-lines-from-the-ends-of-a-bunch-of-files/56728502#56728502", "title": "Remove blank lines from the ends of a bunch of files", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed ':a;/\\S/{n;ba};$d;N;ba' file\n</code></pre>\n\n<p>If the current line contains a non-space character, print the current pattern space, fetch the next line and repeat. If the current line(s) is/are empty and it is the last line in the file, delete the pattern space, otherwise append the next line and repeat.</p>\n"}], "owner": {"reputation": 1580, "user_id": 456562, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rhg5b.jpg?s=128&g=1", "display_name": "Fela Maslen", "link": "https://stackoverflow.com/users/456562/fela-maslen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 56722588, "answer_count": 4, "score": 1, "last_activity_date": 1561333785, "creation_date": 1561281569, "last_edit_date": 1561322674, "question_id": 56722547, "link": "https://stackoverflow.com/questions/56722547/remove-blank-lines-from-the-ends-of-a-bunch-of-files", "title": "Remove blank lines from the ends of a bunch of files", "body": "<p>I have a bunch of files with many lines in them, and usually one or two blank lines at the end.</p>\n\n<p>I want to remove the blank lines at the end, while keeping all of the blank lines that may exist within the file.</p>\n\n<p>I want to restrict the operation to the use of GNU utilities or similar, i.e. bash, sed, awk, cut, grep etc.</p>\n\n<p>I know that I can easily remove <em>all</em> blank lines, with something like:</p>\n\n<p><code>sed '/^$/d'</code></p>\n\n<p>But I want to keep blank lines which exist prior to further content in the file.</p>\n\n<p>File input might be as follows:</p>\n\n<pre><code>line1\nline2\n\nline4\nline5\n\n\n</code></pre>\n\n<p>I'd want the output to look like:</p>\n\n<pre><code>line1\nline2\n\nline4\nline5\n</code></pre>\n\n<p>All files are &lt;100K, and we can make temporary copies.</p>\n"}, {"tags": ["shell", "perl"], "comments": [{"owner": {"reputation": 4917, "user_id": 2320961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdwXN.png?s=128&g=1", "display_name": "Nic3500", "link": "https://stackoverflow.com/users/2320961/nic3500"}, "edited": false, "score": 1, "creation_date": 1561277900, "post_id": 56722087, "comment_id": 100004912, "body": "<a href=\"http://idownvotedbecau.se/noresearch/\" rel=\"nofollow noreferrer\">idownvotedbecau.se/noresearch</a>  do some search and reading, you will find it easy.  And this is out of scope on SO."}, {"owner": {"reputation": 500, "user_id": 9295187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c9c1f8f1aab959179d7a195bebbe4e?s=128&d=identicon&r=PG&f=1", "display_name": "Argon", "link": "https://stackoverflow.com/users/9295187/argon"}, "edited": false, "score": 1, "creation_date": 1561301665, "post_id": 56722087, "comment_id": 100010095, "body": "Have a look at the <a href=\"https://en.wikipedia.org/wiki/Interpreter_(computing)\" rel=\"nofollow noreferrer\">wikipedia</a> page for Interpreters. Also, <a href=\"https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.41.2582&amp;rep=rep1&amp;type=pdf\" rel=\"nofollow noreferrer\">this</a> paper in addition provides a comparison of a few interpreters of it&#39;s time. It may help you to resolve your query."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1561373791, "post_id": 56722087, "comment_id": 100028915, "body": "When you run a Perl program, the compiler first compiles the source code and then executes it. That would seem, to me, to make Perl more of a compiled language than an interpreted one."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1561535894, "last_edit_date": 1561535894, "creation_date": 1561404507, "answer_id": 56742809, "question_id": 56722087, "link": "https://stackoverflow.com/questions/56722087/how-does-the-interpretive-programexperl-shell-work/56742809#56742809", "title": "How does the interpretive program(ex:perl,shell) work", "body": "<p>Here's a example interpreter:</p>\n\n<pre><code>while (&lt;&gt;) {\n   my ($cmd, @args) = split;\n   if    ($cmd eq '...') { ... }\n   elsif ($cmd eq '...') { ... }\n   elsif ($cmd eq '...') { ... }\n   else                  { ... }\n}\n</code></pre>\n\n<p>This points out that the interpreted program isn't run in a separate process from the interpreter.</p>\n\n<p>This also points out there isn't necessarily any translation to machine language.</p>\n\n<hr>\n\n<p>Due note that Perl is a compiled language rather than interpreted one.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -MO=Concise,-exec -e'print(\"Hello, world!\\n\");'\n1  &lt;0&gt; enter\n2  &lt;;&gt; nextstate(main 1 -e:1) v:{\n3  &lt;0&gt; pushmark s\n4  &lt;$&gt; const[PV \"Hello, world!\\n\"] s\n5  &lt;@&gt; print vK\n6  &lt;@&gt; leave[1 ref] vKP/REFC\n-e syntax OK\n</code></pre>\n\n<p>That said, the compiled form is not native instructions. There are different ways this can be handled, but Perl effectively interprets these. The following is that interpreter:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>int\nPerl_runops_standard(pTHX)\n{\n    OP *op = PL_op;\n    PERL_DTRACE_PROBE_OP(op);\n    while ((PL_op = op = op-&gt;op_ppaddr(aTHX))) {\n        PERL_DTRACE_PROBE_OP(op);\n    }\n    PERL_ASYNC_CHECK();\n\n    TAINT_NOT;\n    return 0;\n}\n</code></pre>\n\n<p>(Copied from <a href=\"https://perl5.git.perl.org/perl.git/blob/44523d1ffde5f23de2e13216cdbac46357631904:/run.c\" rel=\"nofollow noreferrer\">here</a>.)</p>\n\n<p>The ops are really data structures arranged in a linked list (with other pointers for jumps) rather than a stream of bytes encoding instructions. The above loop traverses the list, executing the function associated with each op. These function returns the address of the next op to execute, thus forming the program.</p>\n\n<p>Some languages probably take a similar approach. Other languages definitely take a different approach.</p>\n"}], "owner": {"reputation": 19, "user_id": 10774188, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5nzKRP7P2zU/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hsCsrL5SZ-mKXRNoceN_s8FO8olg/mo/photo.jpg?sz=128", "display_name": "\u949f\u82cf\u676d", "link": "https://stackoverflow.com/users/10774188/%e9%92%9f%e8%8b%8f%e6%9d%ad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 56742809, "answer_count": 1, "score": -2, "last_activity_date": 1561535894, "creation_date": 1561277116, "question_id": 56722087, "link": "https://stackoverflow.com/questions/56722087/how-does-the-interpretive-programexperl-shell-work", "title": "How does the interpretive program(ex:perl,shell) work", "body": "<p>I propose a hypothesis: 1. the operating system creates a process space to start the interpreter; 2. the interpreter creates a new process space to start the program that needs to be interpreted, translating the first statement into machine language; 3. the execution of the first statement ends and interrupts; 4. the interpreter translates the next statement and dynamically modifies and creates new instructions.  Well, I can't make it up. I can't understand the concept of explaining and executing.</p>\n"}, {"tags": ["bash", "shell", "file", "perl"], "comments": [{"owner": {"reputation": 86, "user_id": 11564138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc781cf5f2d8436163ffd31aa1d5822d?s=128&d=identicon&r=PG&f=1", "display_name": "Bl00D4NGEL", "link": "https://stackoverflow.com/users/11564138/bl00d4ngel"}, "edited": false, "score": 4, "creation_date": 1561147836, "post_id": 56709839, "comment_id": 99982957, "body": "Can you put code examples of what you&#39;ve tried?"}, {"owner": {"reputation": 6955, "user_id": 6136214, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0385d5a1c27a6707139e7dc7ad29b6d6?s=128&d=identicon&r=PG&f=1", "display_name": "agc", "link": "https://stackoverflow.com/users/6136214/agc"}, "edited": false, "score": 0, "creation_date": 1561168851, "post_id": 56709839, "comment_id": 99987106, "body": "Are the leading spaces in <i>file4.txt</i> intentional or relevant?"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1561150369, "creation_date": 1561150369, "answer_id": 56710326, "question_id": 56709839, "link": "https://stackoverflow.com/questions/56709839/compare-4-files-line-by-line-to-see-if-they-match-or-dont-match/56710326#56710326", "title": "Compare 4 files line by line to see if they match or don&#39;t match", "body": "<p>Here is an example in Perl:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\n{\n    my $ref = read_file('file1.txt');\n    my $N = 3;\n    my @value_info;\n    for my $i (1..$N) {\n        my $fn = 'file'.($i+1).'.txt';\n        my $values = read_file( $fn );\n        push @value_info, [ $fn, $values];\n    }\n    my @labels = qw(customerID employeeID active_users inactive_users deleted_users);\n    for my $info (@value_info) {\n        my ( $fn, $values ) = @$info;\n        my $all_ok = 1;\n        my $j = 0;\n        for my $value (@$values) {\n            if ( $value != $ref-&gt;[$j] ) {\n                printf \"%s: %s does not match by %d records\\n\",\n                  $fn, $labels[$j], abs( $value - $ref-&gt;[$j] );\n                $all_ok = 0;\n            }\n            $j++;\n        }\n        say \"$fn: is good\" if $all_ok;\n    }\n}\n\nsub read_file {\n    my ( $fn ) = @_;\n\n    my @values;\n    open ( my $fh, '&lt;', $fn ) or die \"Could not open file '$fn': $!\";\n    while( my $line = &lt;$fh&gt;) {\n        if ( $line =~ /(\\d+)/) {\n            push @values, $1;\n        }\n    }\n    close $fh;\n    return \\@values;\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>file2.txt: is good\nfile3.txt: customerID does not match by 21 records\nfile3.txt: deleted_users does not match by 11 records\nfile4.txt: is good\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1564881502, "last_edit_date": 1564881502, "creation_date": 1561150690, "answer_id": 56710382, "question_id": 56709839, "link": "https://stackoverflow.com/questions/56709839/compare-4-files-line-by-line-to-see-if-they-match-or-dont-match/56710382#56710382", "title": "Compare 4 files line by line to see if they match or don&#39;t match", "body": "<p>One way to process files by lines in parallel</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy @files = @ARGV;\n#my @files = map { $_ . '.txt' } qw(f1 f2 f3 f4);  # my test files' names\n\n# Open all files, filehandles in @fhs\nmy @fhs = map { open my $fh, '&lt;', $_  or die \"Can't open $_: $!\"; $fh } @files;\n\n# For reporting, enumerate file names\nmy %files = map { $_ =&gt; $files[$_] } 0..$#files;\n\n# Process (compare) the same line from all files       \nmy $line_cnt;\nLINE: while ( my @line = map { my $line = &lt;$_&gt;; $line } @fhs )\n{\n    defined || last LINE for @line;\n    ++$line_cnt;\n    s/(?:^\\s+|\\s+$)//g for @line;\n    for my $i (1..$#line) {\n        if ($line[0] != $line[$i]) { \n            say \"File $files[$i] differs at line $line_cnt\"; \n        }\n    }\n}\n</code></pre>\n\n<p>This compares the <em>whole line</em> by <code>==</code> (after leading and trailing spaces are stripped), since it is a given that each line carries a single number which need be compared.</p>\n\n<p>It prints, with my test files named <code>f1.txt</code>, <code>f2.txt</code>, ...</p>\n\n<pre>\nFile f3.txt differs at line 1\nFile f3.txt differs at line 5\n</pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1561150854, "creation_date": 1561150854, "answer_id": 56710417, "question_id": 56709839, "link": "https://stackoverflow.com/questions/56709839/compare-4-files-line-by-line-to-see-if-they-match-or-dont-match/56710417#56710417", "title": "Compare 4 files line by line to see if they match or don&#39;t match", "body": "<p>Store the line names in an array, store the correct values in another array. Then, loop over the files, and for each of them, read their lines and compare them to the stored correct values. You can use the special variable <code>$.</code> that contains the line number of the last access file handle to serve as an index to the arrays. Lines are 1-based, arrays are 0-based, so we need to subtract 1 to get the correct index.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy @line_names = ('customerID count',\n                  'employeeID count',\n                  'active_users',\n                  'inactive_users',\n                  'deleted_users');\n\nmy @correct;\nopen my $in, '&lt;', shift or die $!;\nwhile (&lt;$in&gt;) {\n    chomp;\n    push @correct, $_;\n}\n\nwhile (my $file = shift) {\n    open my $in, '&lt;', $file or die $!;\n    while (&lt;$in&gt;) {\n        chomp;\n        if ($_ != $correct[$. - 1]) {\n            say \"$line_names[$. - 1] in $file does not match by \",\n                $correct[$. - 1] - $_, ' records';\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 78, "user_id": 11210340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2badd0b12d3ad1adbd4befde58b732b?s=128&d=identicon&r=PG&f=1", "display_name": "mirus", "link": "https://stackoverflow.com/users/11210340/mirus"}, "is_accepted": false, "score": 1, "last_activity_date": 1561151756, "creation_date": 1561151756, "answer_id": 56710552, "question_id": 56709839, "link": "https://stackoverflow.com/questions/56709839/compare-4-files-line-by-line-to-see-if-they-match-or-dont-match/56710552#56710552", "title": "Compare 4 files line by line to see if they match or don&#39;t match", "body": "<p>Read first file into array then loop over other files using the same function to read into array. Within this loop consider every line, calc diff and print message with text from @names if diff is not zero.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @names = qw(customerID_count employeeID_count active_users inactive_users deleted_users);\nmy @files = qw(file1.txt file2.txt file3.txt file4.txt);\n\nmy @first = readfile($files[0]);\n\nfor (my $i = 1; $i &lt;= $#files; $i++) {\n    print \"\\n$files[0] &lt;=&gt; $files[$i]:\\n\";\n    my @second = readfile($files[$i]);\n    for (my $j = 0; $j &lt;= $#names; $j++) {\n        my $diff = $first[$j] - $second[$j];\n        $diff = -$diff if $diff &lt; 0;\n        if ($diff &gt; 0) {\n            print \"$names[$j] does not match by $diff records\\n\";\n        }\n    }\n}\n\nsub readfile {\n    my ($file) = @_;\n    open my $handle, '&lt;', $file;\n    chomp(my @lines = &lt;$handle&gt;);\n    close $handle;\n    return grep(s/\\s*//g, @lines);\n}\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>file1.txt &lt;=&gt; file2.txt:\n\nfile1.txt &lt;=&gt; file3.txt:\ncustomerID_count does not match by 21 records\ndeleted_users does not match by 11 records\n\nfile1.txt &lt;=&gt; file4.txt:\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6955, "user_id": 6136214, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0385d5a1c27a6707139e7dc7ad29b6d6?s=128&d=identicon&r=PG&f=1", "display_name": "agc", "link": "https://stackoverflow.com/users/6136214/agc"}, "is_accepted": false, "score": 1, "last_activity_date": 1561187870, "last_edit_date": 1561187870, "creation_date": 1561186274, "answer_id": 56713277, "question_id": 56709839, "link": "https://stackoverflow.com/questions/56709839/compare-4-files-line-by-line-to-see-if-they-match-or-dont-match/56713277#56713277", "title": "Compare 4 files line by line to see if they match or don&#39;t match", "body": "<p>A mash-up of <code>bash</code>, and mostly the <em>GNU</em> versions of standard utils like <code>diff</code>, <code>sdiff</code>, <code>sed</code>, <em>et al</em>, plus the <a href=\"http://joeyh.name/code/moreutils/\" rel=\"nofollow noreferrer\"><code>ifne</code> util</a>, and even an <code>eval</code>:</p>\n\n<pre><code>f=(\"\" \"customerID count\" \"employeeID count\" \\\n   \"active_users\" \"inactive_users\" \"deleted_users\")\nfor n in file{2..4}.txt ; do \n    diff -qws file1.txt $n || \n    $(sdiff file1 $n | ifne -n exit | nl | \n      sed -n '/|/{s/[1-5]/${f[&amp;]}/;s/\\s*|\\s*/-/;s/\\([0-9-]*\\)$/$((&amp;))/;p}' | \n      xargs printf 'eval echo \"%s for '\"$n\"' does not match by %s records.\";\\n') ; \ndone\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Files file1.txt and file2.txt are identical\nFiles file1.txt and file3.txt differ\ncustomerID count for file3.txt does not match by 21 records.\ndeleted_users for file3.txt does not match by 11 records.\nFiles file1.txt and file4.txt are identical\n</code></pre>\n\n<p>The same code, tweaked for prettier output:</p>\n\n<pre><code>f=(\"\" \"customerID count\" \"employeeID count\" \\\n   \"active_users\" \"inactive_users\" \"deleted_users\")\nfor n in file{2..4}.txt ; do \n    diff -qws file1.txt $n || \n    $(sdiff file1 $n | ifne -n exit | nl | \n      sed -n '/|/{s/[1-5]/${f[&amp;]}/;s/\\s*|\\s*/-/;s/\\([0-9-]*\\)$/$((&amp;))/;p}' | \n      xargs printf 'eval echo \"%s does not match by %s records.\";\\n') ; \ndone  | \nsed '/^Files/!s/^/\\t/;/^Files/{s/.* and //;s/ are .*/ is good/;s/ differ$/:/}'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>file2.txt is good\nfile3.txt:\n    customerID count does not match by 21 records.\n    deleted_users does not match by 11 records.\nfile4.txt is good\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10024024, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AqdYPM5P9NY/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3kG6P25cgkKjWXv81kObWNk4oxXQ/mo/photo.jpg?sz=128", "display_name": "John Smith", "link": "https://stackoverflow.com/users/10024024/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 5, "score": -1, "last_activity_date": 1564881502, "creation_date": 1561147755, "last_edit_date": 1563006599, "question_id": 56709839, "link": "https://stackoverflow.com/questions/56709839/compare-4-files-line-by-line-to-see-if-they-match-or-dont-match", "title": "Compare 4 files line by line to see if they match or don&#39;t match", "body": "<p>I'm trying to compare 4 text files for counts in each line:</p>\n\n<pre><code>file1.txt:\n32\n44\n75\n22\n88\n\nfile2.txt\n32\n44\n75\n22\n88\n\nfile3.txt\n11\n44\n75\n22\n77\n\nfile4.txt\n    32\n    44\n    75\n    22\n    88\n</code></pre>\n\n<p>each line represents a title</p>\n\n<pre><code>line1 = customerID count\nline2 = employeeID count\nline3 = active_users\nline4 = inactive_users\nline5 = deleted_users\n</code></pre>\n\n<p>I'm trying to compare <em>file2.txt</em>, <em>file3.txt</em> and <em>file4.txt</em> with <em>file1.txt</em>; <strong><em>file1.txt</em></strong> will always have the correct counts.</p>\n\n<p>Example: Since <em>file2.txt</em> matches exactly line by line to <em>file1.txt</em> in the example above then i'm trying to output <em>\"file2.txt is good\"</em> but since <em>file3.txt</em> line1 and line5 do not match to <em>file1.txt</em> I'm trying to output <em>\"customerID for file3.txt does not match by 21 records\"</em>, (<em>i.e.</em> <em>32 - 11 = 21</em>), and <em>\"deleted_users in file3.txt does not match by 11 records\"</em>, (<em>88 - 77 = 11</em>).</p>\n\n<p>If shell is easier then that is fine too.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11682801, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KvNuOhHH3T8/AAAAAAAAAAI/AAAAAAAAA_U/s8IqhGSNdcw/photo.jpg?sz=128", "display_name": "scristopher", "link": "https://stackoverflow.com/users/11682801/scristopher"}, "edited": false, "score": 0, "creation_date": 1561144398, "post_id": 56709083, "comment_id": 99981773, "body": "Thanks that is exactly what I needed to find!"}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1561147761, "post_id": 56709083, "comment_id": 99982930, "body": "Might be slightly more readible:  <code>($a[$.-1],$b[$.-1],$c[$.-1])=split;</code>   ... but some other use of <code>$.</code> might be yet more readable."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1561143695, "creation_date": 1561143695, "answer_id": 56709083, "question_id": 56709038, "link": "https://stackoverflow.com/questions/56709038/is-there-a-way-to-assign-columns-from-a-file-to-multiple-arrays/56709083#56709083", "title": "Is there a way to assign columns from a file to multiple arrays?", "body": "<p>Use <a href=\"http://p3rl.org/push\" rel=\"nofollow noreferrer\">push</a> to append an element to an array.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy (@a, @b, @c);\nwhile (&lt;&gt;) {\n    my @columns = split;\n    push @a, $columns[0];\n    push @b, $columns[1];\n    push @c, $columns[2];\n}\n\nsay \"@$_\" for \\@a, \\@b, \\@c;\n</code></pre>\n\n<p>Instead of the three pushes, you can use</p>\n\n<pre><code>    push @{ (\\@a, \\@b, \\@c)[$_] }, $columns[$_] for 0 .. 2;\n</code></pre>\n\n<p>but I don't find it readable. It iterates over the columns and the arrays to append to at the same time.</p>\n"}], "owner": {"reputation": 5, "user_id": 11682801, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KvNuOhHH3T8/AAAAAAAAAAI/AAAAAAAAA_U/s8IqhGSNdcw/photo.jpg?sz=128", "display_name": "scristopher", "link": "https://stackoverflow.com/users/11682801/scristopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 56709083, "answer_count": 1, "score": 0, "last_activity_date": 1561143695, "creation_date": 1561143405, "question_id": 56709038, "link": "https://stackoverflow.com/questions/56709038/is-there-a-way-to-assign-columns-from-a-file-to-multiple-arrays", "title": "Is there a way to assign columns from a file to multiple arrays?", "body": "<p>I have a file named data.txt that looks like this:</p>\n\n<pre><code>12487 72 3.179\n12487 84 2.47\n12976 82 3.22\n12443 81 4.29\n</code></pre>\n\n<p>What I need to be able to do is place each column in its own array when it is read from the file so it would be like this:</p>\n\n<pre><code>@a = 12487 12487 12976 12443\n@b = 72 84 82 81\n@c = 3.179 2.47 3.22 4.29\n</code></pre>\n\n<p>So each line would do something like $1 goes into @a $2 goes into @b $3 goes into @c - But I'm not sure how to exactly do this. </p>\n\n<p>I've started by trying to grab each array index from each line, but this is too much to sort through (the file is quite large). I'm pretty new to perl so I'm pretty confused and am not sure what I should be looking for in the perldoc (which is what I'm using as a reference to get started).</p>\n"}, {"tags": ["perl", "debugging"], "answers": [{"comments": [{"owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "edited": false, "score": 0, "creation_date": 1561140769, "post_id": 56708222, "comment_id": 99980367, "body": "thanks for participating in discussion. Seems like I found better way, please check my answer."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 1, "last_activity_date": 1561399818, "last_edit_date": 1561399818, "creation_date": 1561139095, "answer_id": 56708222, "question_id": 56707804, "link": "https://stackoverflow.com/questions/56707804/how-to-leave-perl-debug-api-programmatically/56708222#56708222", "title": "How to leave perl debug API programmatically?", "body": "<p>You can't really disable the debugger once it's started. You can, however, stop the printing of subroutine calls.</p>\n\n<p>For example:</p>\n\n<pre><code>#!/usr/bin/env perl\nsub bar {\n    $DB::frame = 0;\n    foo();\n}\nsub foo { }\nsub hello { bar(); }\nhello();\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Package try.pl.\n  entering DB::Obj::_init\n  entering main::hello\n   entering main::bar\n</code></pre>\n\n<hr>\n\n<p>If you want to use the big hammer and redefine <code>DB::sub</code>, you need to do something like this:</p>\n\n<pre><code>sub bar {\n    {\n        package DB;\n        no warnings 'redefine';\n        no strict;\n        *sub = sub { &amp;$sub };\n    }\n    foo();\n}\n</code></pre>\n\n<p>However, this also means you can't re-enable call tracing at a later point in the script.</p>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561142238, "post_id": 56708522, "comment_id": 99980951, "body": "That doesn&#39;t really work. Not only does it disable tracing, it disables subroutine calls altogether. <code>foo</code> is never entered."}, {"owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561390135, "post_id": 56708522, "comment_id": 100038303, "body": "Could you please explain details ? I thought just <code>*DB::sub</code> disabled, not <code>*sub</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1561397122, "post_id": 56708522, "comment_id": 100041538, "body": "I tested it by changing <code>foo</code> to <code>sub foo { die 42 }</code> and the program never died. As far as I can tell, <code>DB::sub</code> is invoked not <i>before</i> a subroutine is called, but <i>instead</i> of it. The implementation of <code>DB::sub</code> in the standard debugger then arranges for the actual call to happen. Your script turns <code>DB::sub</code> into a no-op, so all following subroutine calls never happen. (Also, you&#39;ve made it impossible to re-enable call tracing at a future point in the script.)"}, {"owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561400492, "post_id": 56708522, "comment_id": 100042966, "body": "Enbugger perldoc tell us that we can unload debugger by clearing the <code>DB::</code> package. <a href=\"https://metacpan.org/pod/Enbugger#Unloading-the-debugger\" rel=\"nofollow noreferrer\">metacpan.org/pod/Enbugger#Unloading-the-debugger</a> What is the correct way of doing it by your opinion ?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1561400780, "post_id": 56708522, "comment_id": 100043077, "body": "As it says right there: &quot;<i>You wish. There is no implemented way to unload the debugger. Here&#39;s how you&#39;d do it if you wanted to implement this feature.</i>&quot; And then it lists three things you&#39;d have to do to add this feature to Enbugger. Clearing <code>DB::</code> is only step 2 of 3."}, {"owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561400973, "post_id": 56708522, "comment_id": 100043155, "body": "Isn&#39;t it 3 alternative options ?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561400996, "post_id": 56708522, "comment_id": 100043165, "body": "No, it&#39;s a ToDo list for extending Enbugger."}], "tags": [], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "is_accepted": false, "score": 0, "last_activity_date": 1561140646, "creation_date": 1561140646, "answer_id": 56708522, "question_id": 56707804, "link": "https://stackoverflow.com/questions/56707804/how-to-leave-perl-debug-api-programmatically/56708522#56708522", "title": "How to leave perl debug API programmatically?", "body": "<p>Got it! Seems like we can just clear <code>DB::sub</code> : <code>*DB::sub = sub {};</code></p>\n\n<pre><code>$ cat 2.pl\n#!/usr/bin/env perl\nsub bar {\n*DB::sub = sub {};\nfoo();\n}\nsub foo { }\nsub hello { bar(); }\nhello();\n\n$ PERL5OPT=-d PERLDB_OPTS='NonStop frame=1' perl 2.pl\nPackage 2.pl.\n  entering DB::Obj::_init\n  entering main::hello\n   entering main::bar\n</code></pre>\n\n<p>Thanks to <a href=\"https://metacpan.org/pod/Enbugger#Unloading-the-debugger\" rel=\"nofollow noreferrer\">Enbugger perldoc</a>.</p>\n"}], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1561399818, "creation_date": 1561136935, "last_edit_date": 1561138174, "question_id": 56707804, "link": "https://stackoverflow.com/questions/56707804/how-to-leave-perl-debug-api-programmatically", "title": "How to leave perl debug API programmatically?", "body": "<p>I have following script:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\nsub bar { foo() }\nsub foo { }\nsub hello { bar(); }\nhello();\n</code></pre>\n\n<p>I run it with non-interactive debugger and got:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ PERL5OPT=-d PERLDB_OPTS='N f=1' perl 2.pl\nPackage 2.pl.\n  entering DB::Obj::_init\n  entering main::hello\n   entering main::bar\n    entering main::foo\n</code></pre>\n\n<p>Now I want to stop printing stacktrace by disabling debugger after <code>bar()</code> call. How to do that ?</p>\n\n<p>What I tried:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\nsub bar {\n# $^D;                                  # no effect\n# DB::done();                           # Undefined subroutine &amp;DB::done\n# $DB::finished=1;                      # no effect\n# delete $INC{'perl5db.pl'};            # no effect\n# Class::Unload-&gt;unload('perl5db.pl');  # no effect\nfoo();\n}\nsub foo { }\nsub hello { bar(); }\nhello();\n</code></pre>\n\n<p>But <code>entering main::foo</code> still printed.</p>\n\n<p>Expected output:</p>\n\n<pre><code>Package 2.pl.\n  entering DB::Obj::_init\n  entering main::hello\n   entering main::bar\n</code></pre>\n"}, {"tags": ["json", "perl", "hash", "foreach", "data-dumper"], "comments": [{"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 2, "creation_date": 1561132641, "post_id": 56706790, "comment_id": 99976978, "body": "Can you post what code you have so it can be fixed? This is not a code-writing service, and showing what you&#39;ve tried will help focus the answer on what fix is required."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1561133498, "post_id": 56706790, "comment_id": 99977386, "body": "Single quote missing after <code>Parrot</code>, missing quotes around names."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1561133689, "post_id": 56706790, "comment_id": 99977472, "body": "&quot;<i>have tried various ... code snippets from online sources</i>&quot; -- use <a href=\"https://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a>  and <a href=\"https://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>  instead"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 2, "creation_date": 1561135385, "post_id": 56706790, "comment_id": 99978131, "body": "Don&#39;t use the <code>:encoding(UTF-8)</code> layer when reading the file -- use <code>:raw</code> if anything, or <code>read_binary</code> from <a href=\"https://metacpan.org/pod/File::Slurper\" rel=\"nofollow noreferrer\">File::Slurper</a> for example. <code>decode_json</code> already decodes from UTF-8 as JSON files are expected to be in."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1561156841, "post_id": 56706790, "comment_id": 99985325, "body": "Or use <code>JSON::XS-&gt;new-&gt;decode($jsondata)</code> if it&#39;s already been converted from UTF-8 to perl&#39;s native encoding."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1561133777, "creation_date": 1561133777, "answer_id": 56707125, "question_id": 56706790, "link": "https://stackoverflow.com/questions/56706790/perl-accessing-data-from-decode-json-output/56707125#56707125", "title": "Perl - Accessing data from decode_json output", "body": "<pre><code>for my $hash (@$data) {\n    say \"Dataname: $hash-&gt;{DataName}\";\n    for my $info (@{ $hash-&gt;{Information001} }) {\n        say \"Name: $info-&gt;{Name}\";\n        say 'Animals: ', join ', ', @{ $info-&gt;{Animals} };\n        say \"Location: $info-&gt;{Location}\";\n        say \"\";\n    }\n}\n</code></pre>\n\n<p>The order of Animals is different for Steve. Sydney is spelled \"Sydey\".</p>\n"}], "owner": {"reputation": 989, "user_id": 1617711, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5c08c2582fae5e1d7d205e04636a1ad4?s=128&d=identicon&r=PG&f=1", "display_name": "yonetpkbji", "link": "https://stackoverflow.com/users/1617711/yonetpkbji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561155414, "creation_date": 1561132424, "last_edit_date": 1561155414, "question_id": 56706790, "link": "https://stackoverflow.com/questions/56706790/perl-accessing-data-from-decode-json-output", "title": "Perl - Accessing data from decode_json output", "body": "<p>I supply my script with a file of JSON data. I have then decoded the JSON  data using decode_json...</p>\n\n<pre><code>open my $fh, '&lt;:encoding(UTF-8)', $file ir die;\n    my $jsondata = do {local $/; &lt;$fh&gt; };\n    my $data = decode_json($jsondata);\n\n    #print Dumper $data\n\n    #I am trying to write a foreach loop in here to pull particular bits of\n    #the information out that I want to display (as detailed further below)\n\nclose $fh;\n</code></pre>\n\n<p>The Dumper output looks like this...</p>\n\n<pre><code>$VAR1 = [\n          {\n            'DataName' =&gt; 'FileOfPetsAcrossTheWorld',\n            'Information001' =&gt; [\n                                  {\n                                    'Name' =&gt; Steve,\n                                    'Sex' =&gt; 'Male',\n                                    'Age' =&gt; 24,\n                                    'Animals' =&gt; [\n                                                 'Dog',\n                                                 'Cat',\n                                                 'Hamster',\n                                                 'Parrot\n                                                ],\n                                    'Location' =&gt; 'London',\n                                   },\n                                   {\n                                    'Name' =&gt; Dave,\n                                    'Sex' =&gt; 'Male',\n                                    'Age' =&gt; 59,\n                                    'Animals' =&gt; [\n                                                 'Fish',\n                                                 'Horse',\n                                                 'Budgie',\n                                                ],\n                                    'Location' =&gt; 'Paris',\n                                   },\n                                   {\n                                    'Name' =&gt; Sandra,\n                                    'Sex' =&gt; 'Female',\n                                    'Age' =&gt; 44,\n                                    'Animals' =&gt; [\n                                                 'Snake',\n                                                 'Crocodile',\n                                                 'Flamingo',\n                                                ],\n                                    'Location' =&gt; 'Syndey',\n                                   }\n                                 ]\n           }\n        ];\n</code></pre>\n\n<p>I am trying to retrieve output from this data structure using a foreach look so that I can print the output...</p>\n\n<pre><code>Dataname: FileOfPetsAcrossTheWorld\nName: Steve\nAnimals: Dog, Cat, Parrot, Hamster\nLocation: London\n\nName: Dave\nAnimals: Fish, Horse, Budgie\nLocation: Paris\n\nName: Sandra\nAnimals: Snake, Crocodile, Flamingo\nLocation: Sydey\n</code></pre>\n\n<p>I have tried various different foreach loops and hash referencing code snippets from online sources (and some that I have used and had working previously) to iterate through and pull data from hashes etc, but I cannot seem to get it working in this case. Amongst other errors, I receive errors such as 'Not a HASH reference at...'.</p>\n\n<p>What is the correct method I should be using to pull this information out of this type of data structure?</p>\n"}, {"tags": ["arrays", "regex", "perl", "struct"], "comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 1, "creation_date": 1561131422, "post_id": 56705231, "comment_id": 99976336, "body": "Welcome to the site, and welcome to Perl 5! :)  Check out the <a href=\"https://stackoverflow.com/tour\">tour</a> and the <a href=\"https://stackoverflow.com/help/how-to-ask\">how-to-ask page</a> for more about asking questions that will attract quality answers.  You can <a href=\"https://stackoverflow.com/posts/56705231/edit\">edit your question</a> to include more information.  For example, would you please add how you are creating <code>$tap3</code>, and what happens when you run your current code?  Thanks!"}, {"owner": {"reputation": 93, "user_id": 11675236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ezb6-QD_NSo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjcnBNUiFWnTbpqByAenfHCsQY8A/mo/photo.jpg?sz=128", "display_name": "mashro3ak", "link": "https://stackoverflow.com/users/11675236/mashro3ak"}, "reply_to_user": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1561132529, "post_id": 56705231, "comment_id": 99976916, "body": "sorry in still newbee with perl, here im trying to change the charge value"}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 1, "creation_date": 1561133743, "post_id": 56705231, "comment_id": 99977499, "body": "mashro3ak, Perl people generally like to see folks learning the language :) .  In order to answer your question, we need more information.  The best thing is a small program we can run to reproduce your problem, and a copy of your TAP3 file."}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 11675236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ezb6-QD_NSo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjcnBNUiFWnTbpqByAenfHCsQY8A/mo/photo.jpg?sz=128", "display_name": "mashro3ak", "link": "https://stackoverflow.com/users/11675236/mashro3ak"}, "is_accepted": true, "score": 1, "last_activity_date": 1561238885, "creation_date": 1561238885, "answer_id": 56719295, "question_id": 56705231, "link": "https://stackoverflow.com/questions/56705231/change-specific-values-in-gsma-tap3-file/56719295#56719295", "title": "Change specific values in GSMA TAP3 file", "body": "<p>The exists() function in Perl is used to check whether an element in an given array or hash exists or not. This function returns 1 if the desired element is present in the given array or hash else returns 0.</p>\n\n<pre><code>$Tax_Rate = 3;\n$Exchange_Rate = 3;\n$Rate_Plan_Charge_Rate = 8;\nmy $key;\n\n# Will scan all the calls for MOC's.\nforeach $key ( @{$struct-&gt;{'transferBatch'}-&gt;{'callEventDetails'} } ) {\n\n    foreach ( keys %{$key} ) {\n\n        if ( $_ eq \"mobileOriginatedCall\" )\n        {\n            if (exists $key-&gt;{$_}-&gt;{'basicCallInformation'}-&gt;{'totalCallEventDuration'}){\n\n                $duration = $key-&gt;{$_}-&gt;{'basicCallInformation'}-&gt;{'totalCallEventDuration'};\n\n                if (exists $key-&gt;{$_}-&gt;{basicServiceUsedList}[0]{chargeInformationList}[0]{chargeDetailList}[0]){\n\n                    $key-&gt;{$_}-&gt;{basicServiceUsedList}[0]{chargeInformationList}[0]{chargeDetailList}[0]{charge}=($duration * $Rate_Plan_Charge_Rate) / $Exchange_Rate;\n                }\n                if (exists $key-&gt;{$_}-&gt;{basicServiceUsedList}[0]{chargeInformationList}[0]{chargeDetailList}[1]){\n\n                    $key-&gt;{$_}-&gt;{basicServiceUsedList}[0]{chargeInformationList}[0]{chargeDetailList}[1]{charge}=($duration * $Rate_Plan_Charge_Rate) / $Exchange_Rate;\n                }\n                $New_Charge = $key-&gt;{$_}-&gt;{basicServiceUsedList}[0]{chargeInformationList}[0]{chargeDetailList}[0]{charge};\n\n                if (exists $key-&gt;{$_}-&gt;{basicServiceUsedList}[0]{chargeInformationList}[0]{taxInformation}[0]){\n\n                    $key-&gt;{$_}-&gt;{basicServiceUsedList}[0]{chargeInformationList}[0]{taxInformation}[0]{taxValue}=($New_Charge / $Tax_Rate);\n                }\n                if (exists $key-&gt;{$_}-&gt;{basicServiceUsedList}[0]{chargeInformationList}[0]{taxInformation}[1]){\n\n                    $key-&gt;{$_}-&gt;{basicServiceUsedList}[0]{chargeInformationList}[0]{taxInformation}[0]{taxValue}=($New_Charge / $Tax_Rate);\n\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 11675236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ezb6-QD_NSo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjcnBNUiFWnTbpqByAenfHCsQY8A/mo/photo.jpg?sz=128", "display_name": "mashro3ak", "link": "https://stackoverflow.com/users/11675236/mashro3ak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 56719295, "answer_count": 1, "score": 1, "last_activity_date": 1561238885, "creation_date": 1561126800, "last_edit_date": 1561131805, "question_id": 56705231, "link": "https://stackoverflow.com/questions/56705231/change-specific-values-in-gsma-tap3-file", "title": "Change specific values in GSMA TAP3 file", "body": "<p>I'm trying to change charge values from MO (originating) calls in GSM TAP3.11 files, but it doesn't handle the needed</p>\n\n<p>here i can access directly duration value but with charge value its different case as attached, im tring to change the charge value on <code>(1) chargeDetail</code> and <code>(2) chargeDetail</code> (first and second records in the <code>ChargeDetailList</code> in the screenshot below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/MHILj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MHILj.png\" alt=\"enter image description here\"></a></p>\n\n<p>My background is only with python, this's the first time with perl. I use it because after searching I believe that only perl can handle TAP files.  (see <a href=\"https://metacpan.org/pod/distribution/TAP3-Tap3edit/lib/TAP3/Tap3edit.pod\" rel=\"nofollow noreferrer\">TAP3::Tap3edit</a>)</p>\n\n<pre><code>$struct=$tap3-&gt;structure;\n\nmy $key;\n\n# Will scan all the calls for MOC's.\nforeach $key ( @{$struct-&gt;{'transferBatch'}-&gt;{'callEventDetails'} } ) {\n\n    foreach ( keys %{$key} ) {\n\n        if ( $_ eq \"mobileOriginatedCall\" )\n        {\n            $duration= $key-&gt;{$_}-&gt;{'basicCallInformation'}-&gt;{'totalCallEventDuration'};\n            delete $key-&gt;{$_}{'basicCallInformation'}{'basicServiceUsedList'}[0]{'chargeInformationList'}[0]{'chargeDetailList'}[0]{'charge'};\n            $key-&gt;{$_}{'basicCallInformation'}{'basicServiceUsedList'}[0]{'chargeInformationList'}[0]{'chargeDetailList'}[0]{'charge'}=$duration * 0.12 /0.6;\n            $new_charge_value = $key-&gt;{$_}{'basicCallInformation'}{'basicServiceUsedList'}[0]{'chargeInformationList'}[0]{'chargeDetailList'}[0]{'charge'}=$duration * 0.12 /0.6;\n\n\n        }\n    }\n}\n\n$tap3-&gt;encode(\"$tap_file\")  or  die $tap3-&gt;error; \n</code></pre>\n"}, {"tags": ["c", "linux", "perl", "inline"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561113671, "post_id": 56701591, "comment_id": 99967181, "body": "Is there a C compiler installed on your system?"}, {"owner": {"reputation": 371, "user_id": 1833723, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66c6d9a06b51c42c5fbbb91d8ae3f586?s=128&d=identicon&r=PG", "display_name": "&#211;lavur", "link": "https://stackoverflow.com/users/1833723/%c3%93lavur"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561115257, "post_id": 56701591, "comment_id": 99967830, "body": "@melpomene Yes, <code>gcc v5.4.0</code> is installed and was used to build the <code>LRSIM</code> package."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561115843, "post_id": 56701591, "comment_id": 99968103, "body": "If it were me, I&#39;d just run <code>strace -f -o trace.log perl simulateLinkedReads.pl</code> and look at <code>trace.log</code> to see what&#39;s going on."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1561117063, "post_id": 56701591, "comment_id": 99968692, "body": "That doesn&#39;t seem to be the complete file."}, {"owner": {"reputation": 371, "user_id": 1833723, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66c6d9a06b51c42c5fbbb91d8ae3f586?s=128&d=identicon&r=PG", "display_name": "&#211;lavur", "link": "https://stackoverflow.com/users/1833723/%c3%93lavur"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561117245, "post_id": 56701591, "comment_id": 99968778, "body": "It seems to try and fail multiple times to locate an <code>.so</code> file: <code>672   stat(&quot;&#47;mnt&#47;fargen&#47;experiments&#47;joint_call&#47;tests&#47;simulate_test&zwnj;&#8203;data&#47;LRSIM&#47;_Inline&#47;l&zwnj;&#8203;ib&#47;auto&#47;simulateLink&zwnj;&#8203;edReads_pl_4e07&#47;simu&zwnj;&#8203;lateLinkedReads_pl_4&zwnj;&#8203;e07.so&quot;, 0x199b298) = -1 ENOENT (No such file or d irectory)</code>"}, {"owner": {"reputation": 371, "user_id": 1833723, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66c6d9a06b51c42c5fbbb91d8ae3f586?s=128&d=identicon&r=PG", "display_name": "&#211;lavur", "link": "https://stackoverflow.com/users/1833723/%c3%93lavur"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561118002, "post_id": 56701591, "comment_id": 99969135, "body": "@melpomene You were right, I updated the trace log, now should be complete."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1561118661, "post_id": 56701591, "comment_id": 99969450, "body": "Trying to reproduce the error you describe: I was able to install <code>LRSIM</code> on my laptop now (according to the instruction on the GitHub page). I then ran <code>perl simulateLinkedReads.pl</code> and got no errors. Instead, I got a usage message (which I suppose indicates that it works ok). I am using a threaded Perl version 5.30 on Ubuntu 19.04. (I had <a href=\"https://github.com/aquaskyline/LRSIM/issues/22\" rel=\"nofollow noreferrer\">this</a> issue when running <code>sh make.sh</code>, but that was fixed by adding <code>-fPIC</code> to CCFLAGS)"}, {"owner": {"reputation": 371, "user_id": 1833723, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66c6d9a06b51c42c5fbbb91d8ae3f586?s=128&d=identicon&r=PG", "display_name": "&#211;lavur", "link": "https://stackoverflow.com/users/1833723/%c3%93lavur"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561118856, "post_id": 56701591, "comment_id": 99969551, "body": "Thanks @H&#229;konH&#230;gland, this means Perl is not setup correctly on my machine, most likely the <code>Inline</code> module is broken."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1561118902, "post_id": 56701591, "comment_id": 99969572, "body": "Around line 24093 <code>make</code> says something about <code>Clock skew detected</code>. Maybe the issue is related to the file system the script is running on (<code>&#47;mnt&#47;fargen&#47;experiments&#47;...</code>)?"}, {"owner": {"reputation": 371, "user_id": 1833723, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66c6d9a06b51c42c5fbbb91d8ae3f586?s=128&d=identicon&r=PG", "display_name": "&#211;lavur", "link": "https://stackoverflow.com/users/1833723/%c3%93lavur"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1561119348, "post_id": 56701591, "comment_id": 99969786, "body": "@melpomene You hit the nail on the head! I was running on a network storage, the Dell EMC Isilon. Using the file system that&#39;s physically placed on the machine fixed the problem. If you add an answer to the question I can accept it."}], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 1833723, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66c6d9a06b51c42c5fbbb91d8ae3f586?s=128&d=identicon&r=PG", "display_name": "&#211;lavur", "link": "https://stackoverflow.com/users/1833723/%c3%93lavur"}, "edited": false, "score": 0, "creation_date": 1561120075, "post_id": 56703375, "comment_id": 99970072, "body": "Thanks @melpomene. When I clone and make the <code>LRSIM</code> package in my home folder (so on the machine&#39;s own storage), and run it from the network storage mounted on <code>&#47;mnt</code>, everything works as it should."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 2, "last_activity_date": 1561119681, "creation_date": 1561119681, "answer_id": 56703375, "question_id": 56701591, "link": "https://stackoverflow.com/questions/56701591/perl-cant-locate-inline-c-module-had-problems-bootstrapping-inline-module/56703375#56703375", "title": "Perl can&#39;t locate inline C module: &quot;Had problems bootstrapping Inline module&quot;", "body": "<p>Around line 24093 of your <code>strace</code> log <code>make</code> says something about <code>Clock skew detected</code>. Maybe the issue is related to the file system the script is running on (<code>/mnt/fargen/experiments/...</code>)?</p>\n\n<p><code>make</code> relies on accurate time stamps to determine which files need to be updated and to schedule its actions. If the time stamps are wrong, files might be built incorrectly or not at all.</p>\n\n<hr>\n\n<p>The reason <code>make</code> is involved at all is because behind the scenes <code>Inline::C</code> extracts the embedded C code and creates an ad-hoc Perl module for it, including an XS file, <code>Makefile.PL</code>, and the whole machinery. Then it invokes <code>perl Makefile.PL &amp;&amp; make &amp;&amp; make install</code>, which is supposed to create a <code>.so</code> file and copy it in a location where perl can load it (this <code>.so</code> file is the <em>loadable object</em> mentioned in the error message).</p>\n"}], "owner": {"reputation": 371, "user_id": 1833723, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66c6d9a06b51c42c5fbbb91d8ae3f586?s=128&d=identicon&r=PG", "display_name": "&#211;lavur", "link": "https://stackoverflow.com/users/1833723/%c3%93lavur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 56703375, "answer_count": 1, "score": 0, "last_activity_date": 1561119681, "creation_date": 1561112746, "last_edit_date": 1561117955, "question_id": 56701591, "link": "https://stackoverflow.com/questions/56701591/perl-cant-locate-inline-c-module-had-problems-bootstrapping-inline-module", "title": "Perl can&#39;t locate inline C module: &quot;Had problems bootstrapping Inline module&quot;", "body": "<p>Getting the error at the below when trying to run a Perl script. The script is from this package: <a href=\"https://github.com/aquaskyline/LRSIM\" rel=\"nofollow noreferrer\">https://github.com/aquaskyline/LRSIM</a></p>\n\n<pre><code>$ perl simulateLinkedReads.pl\nHad problems bootstrapping Inline module 'simulateLinkedReads_pl_4e0722f'\n\nCan't locate loadable object for module simulateLinkedReads_pl_4e0722f in @INC (@INC contains: [some long path]/_Inline/lib /home/olavur/perl5/lib/perl5/5.22.1/x86_64-linux-gnu-thread-multi /home/olavur/perl5/lib/perl5/5.22.1 /home/olavur/perl5/lib/perl5/x86_64-linux-gnu-thread-multi /home/olavur/perl5/lib/perl5 /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.22.1 /usr/local/share/perl/5.22.1 /usr/lib/x86_64-linux-gnu/perl5/5.22 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.22 /usr/share/perl/5.22 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base .) at /usr/local/share/perl/5.22.1/Inline.pm line 541.\n\n\nat simulateLinkedReads.pl line 0.\nINIT failed--call queue aborted.\n</code></pre>\n\n<p>So it's looking for the <code>simulateLinkedReads_pl_4e0722f</code> \"inline\" module, and it seems to be located here:</p>\n\n<p><code>[some long path]/_Inline/lib/auto/simulateLinkedReads_pl_4e0722f/simulateLinkedReads_pl_4e0722f.inl</code></p>\n\n<p>And the @INC path contains <code>[some long path]/_Inline/lib</code>. Should it not contain <code>[some long path]/_Inline/lib/auto</code>?</p>\n\n<p>So, I don't know whether the error is from my Perl setup, my installation/build of the <code>LRSIM</code> package, or an error in the source code of <code>LRSIM</code>.</p>\n\n<p>I'm a complete dummy with Perl, but I tried to include some information about my Perl setup, here (note there are two files, \"Perl modules\" and \"Perl configuration\"):\n<a href=\"https://gist.github.com/olavurmortensen/00b2baa61399a5b7c39bca323dbf0233\" rel=\"nofollow noreferrer\">https://gist.github.com/olavurmortensen/00b2baa61399a5b7c39bca323dbf0233</a></p>\n\n<p>Using <code>perl -V</code> for some configuration info and <code>perl -e 'print qx/find $_ -name \"*.pm\"/ foreach ( @INC );'</code> for installed modules.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>By suggestion of @melpomene, I ran <code>strace -f -o trace.log perl LRSIM/simulateLinkedReads.pl</code> and uploaded the trace here:</p>\n\n<p><a href=\"https://gist.github.com/olavurmortensen/eca66135486899beccf8610667241451\" rel=\"nofollow noreferrer\">https://gist.github.com/olavurmortensen/eca66135486899beccf8610667241451</a></p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Updated trace, because it was incomplete:\n<a href=\"https://gist.github.com/olavurmortensen/eca66135486899beccf8610667241451\" rel=\"nofollow noreferrer\">https://gist.github.com/olavurmortensen/eca66135486899beccf8610667241451</a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1561106349, "post_id": 56699603, "comment_id": 99963514, "body": "It&#39;s not clear what you mean. A function which receives a reference doesn&#39;t know or care if it&#39;s named or not. Your current function accepts a list, not a reference to a list. Strictly speaking <code>@_</code> is a name too, and there is no way to refer to something which doesn&#39;t have <i>any</i> name more than once."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561108035, "post_id": 56699603, "comment_id": 99964348, "body": "<code>myfun, \\@args</code> : did you mean <code>myfun( \\@args )</code> ?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561108369, "post_id": 56699603, "comment_id": 99964518, "body": "Note that <code>@_</code> is aliased to the variables in the caller, so if you modify that array you will also modify the corresponding variables in the caller, see <a href=\"https://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\">perldoc perlsub</a> for more information"}, {"owner": {"reputation": 213, "user_id": 4658722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458552d45a23942bebbdbeeb1538e6cd?s=128&d=identicon&r=PG", "display_name": "user74200", "link": "https://stackoverflow.com/users/4658722/user74200"}, "edited": false, "score": 0, "creation_date": 1561108814, "post_id": 56699603, "comment_id": 99964759, "body": "yes, I mean myfun \\@args; without the , or alternatively myfun( \\@args ), thanks. Yes, @_ is an alias that contains a list of arguments. But I mean if the @_ contains only references, how to dereference them? How to tell perl, to pick an element of @_ and dereference it without creating more references or variables?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561109040, "post_id": 56699603, "comment_id": 99964885, "body": "In your example <code>@_</code> contains only one reference <code>\\@args</code> (not a list of references, but a reference to a list)"}, {"owner": {"reputation": 213, "user_id": 4658722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458552d45a23942bebbdbeeb1538e6cd?s=128&d=identicon&r=PG", "display_name": "user74200", "link": "https://stackoverflow.com/users/4658722/user74200"}, "edited": false, "score": 0, "creation_date": 1561109300, "post_id": 56699603, "comment_id": 99965010, "body": "@_ is a list. It does not matter if it contains only one element, it is a list of references."}, {"owner": {"reputation": 213, "user_id": 4658722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458552d45a23942bebbdbeeb1538e6cd?s=128&d=identicon&r=PG", "display_name": "user74200", "link": "https://stackoverflow.com/users/4658722/user74200"}, "edited": false, "score": 0, "creation_date": 1561109388, "post_id": 56699603, "comment_id": 99965059, "body": "My question is, is there a way to shorten foreach (@_){foreach (@$_){ $_=$_**2;}} to something like @(@_[0]) or anything?"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1561109404, "last_edit_date": 1561109404, "creation_date": 1561108871, "answer_id": 56700464, "question_id": 56699603, "link": "https://stackoverflow.com/questions/56699603/passing-a-reference-as-an-argument-and-not-naming-it-in-perl/56700464#56700464", "title": "Passing a reference as an argument and not naming it in Perl", "body": "<p>You can try:</p>\n\n<pre><code>my @args = 1..5;\nmy @result = myfun( \\@args );\nsay for @result;\n\nsub myfun{\n    map {$_**2} @{$_[0]};\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>1\n4\n9\n16\n25\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1561113469, "last_edit_date": 1561113469, "creation_date": 1561110766, "answer_id": 56701004, "question_id": 56699603, "link": "https://stackoverflow.com/questions/56699603/passing-a-reference-as-an-argument-and-not-naming-it-in-perl/56701004#56701004", "title": "Passing a reference as an argument and not naming it in Perl", "body": "<p>As previously mentioned, one could simply use</p>\n\n<pre><code>sub myfun { map { $_ ** 2 } @{ $_[0] } }\n\nmy @args = 1..5;\nsay for myfun(\\@args);\n</code></pre>\n\n<p>But one has to wonder why you wish to pass a reference. The following is simpler:</p>\n\n<pre><code>sub myfun { map { $_ ** 2 } @_ }\n\nmy @args = 1..5;\nsay for myfun(@args);\n</code></pre>\n\n<p>If you happen to have a reference on the outside, you can always \"flatten\" it there instead of in the sub.</p>\n\n<pre><code>sub myfun { map { $_ ** 2 } @_ }\n\nmy $args = [ 1..5 ];\nsay for myfun(@$args);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1561166501, "creation_date": 1561166501, "answer_id": 56711895, "question_id": 56699603, "link": "https://stackoverflow.com/questions/56699603/passing-a-reference-as-an-argument-and-not-naming-it-in-perl/56711895#56711895", "title": "Passing a reference as an argument and not naming it in Perl", "body": "<blockquote>\n  <p>How to tell perl, to pick an element of @_ and dereference it without\n  creating more references or variables? </p>\n</blockquote>\n\n<p>To dereference an element of <code>@_</code>, say <code>$_[0]</code>, you enclose it in <code>{}</code> and place that in any type of syntax where you would have a variable name (excluding the sigil).  E.g. <code>@{$_[0]}</code> instead of <code>@array</code> or <code>${$_[0]}[0]</code> instead of <code>$array[0]</code>.</p>\n\n<p>See <a href=\"http://perlmonks.org?node=References+quick+reference\" rel=\"nofollow noreferrer\">http://perlmonks.org?node=References+quick+reference</a> for more examples.</p>\n"}], "owner": {"reputation": 213, "user_id": 4658722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458552d45a23942bebbdbeeb1538e6cd?s=128&d=identicon&r=PG", "display_name": "user74200", "link": "https://stackoverflow.com/users/4658722/user74200"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 56700464, "answer_count": 3, "score": 0, "last_activity_date": 1561166501, "creation_date": 1561105604, "last_edit_date": 1561110330, "question_id": 56699603, "link": "https://stackoverflow.com/questions/56699603/passing-a-reference-as-an-argument-and-not-naming-it-in-perl", "title": "Passing a reference as an argument and not naming it in Perl", "body": "<p>so I have something like this:</p>\n\n<pre><code>@result = myfun \\@args;\n</code></pre>\n\n<p>I want to do something like this:</p>\n\n<pre><code>sub myfun{\nforeach (@@_){ $_ = $_**2; } #foreach element the argument is referring to square the element\nreturn @@_; # return the list that the argument is referring to\n}\n</code></pre>\n\n<p>Is there a way to do this?</p>\n"}, {"tags": ["xml", "multithreading", "perl", "thread-safety"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561110900, "post_id": 56699241, "comment_id": 99965801, "body": "That error is emitted when a variable created in one thread is freed in a different thread. In this particular case, it&#39;s probably because one of the module isn&#39;t thread-safe."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10410191, "user_type": "registered", "profile_image": "https://graph.facebook.com/1066953230143134/picture?type=large", "display_name": "Aurel  Leahu", "link": "https://stackoverflow.com/users/10410191/aurel-leahu"}, "edited": false, "score": 0, "creation_date": 1561105218, "post_id": 56699377, "comment_id": 99963042, "body": "Yes, I need the parser in all the threads, because in the real code I use this library in multiple threads  and outside threads too."}, {"owner": {"reputation": 1, "user_id": 10410191, "user_type": "registered", "profile_image": "https://graph.facebook.com/1066953230143134/picture?type=large", "display_name": "Aurel  Leahu", "link": "https://stackoverflow.com/users/10410191/aurel-leahu"}, "edited": false, "score": 0, "creation_date": 1561110587, "post_id": 56699377, "comment_id": 99965657, "body": "Yes, I understand this, but are there alternatives for this library that are thread-safe or is there a way to lock it in threads so other threads don&#39;t use it until the thread that uses it stops to use it?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561110937, "post_id": 56699377, "comment_id": 99965824, "body": "Re &quot;<i>are there alternatives for this library that are thread-safe</i>&quot;, XML::LibXML is an excellent XML parser, and it&#39;s thread-safe."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1561124491, "post_id": 56699377, "comment_id": 99972542, "body": "Check the details under <a href=\"https://metacpan.org/pod/XML::LibXML#THREAD-SUPPORT\" rel=\"nofollow noreferrer\">Thread Support</a>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1561104732, "creation_date": 1561104732, "answer_id": 56699377, "question_id": 56699241, "link": "https://stackoverflow.com/questions/56699241/free-to-wrong-pool-at-c-x-perl-lib-xml-parser-expat-pm-line-432-during-global/56699377#56699377", "title": "&quot;Free to wrong pool at C:/x/perl/lib/XML/Parser/Expat .pm line 432 during global destruction.&quot; Is there a way to solve it?", "body": "<p>Do you need the parser in all the threads? The library is probably not thread safe, so you can't use it from more than one thread. If using it in one thread is enough, don't <a href=\"http://p3rl.org/use\" rel=\"nofollow noreferrer\">use</a> it, but <a href=\"http://p3rl.org/require\" rel=\"nofollow noreferrer\">require</a> it instead in the single thread that needs it.</p>\n"}], "owner": {"reputation": 1, "user_id": 10410191, "user_type": "registered", "profile_image": "https://graph.facebook.com/1066953230143134/picture?type=large", "display_name": "Aurel  Leahu", "link": "https://stackoverflow.com/users/10410191/aurel-leahu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561104732, "creation_date": 1561104142, "question_id": 56699241, "link": "https://stackoverflow.com/questions/56699241/free-to-wrong-pool-at-c-x-perl-lib-xml-parser-expat-pm-line-432-during-global", "title": "&quot;Free to wrong pool at C:/x/perl/lib/XML/Parser/Expat .pm line 432 during global destruction.&quot; Is there a way to solve it?", "body": "<p>Basically I want to implement multithreading on some code and in that code I use a perl xml library, but I don't really intend to win time on this moment of the code, but I want everything else to work, but it doesn't work even if I don't use this library in the code on which I want to implement threads:</p>\n\n<pre><code>use threads;\nuse xmlparser;\n\nmy $file = \"project.xml\";\n\n#Call the XML Parser\n(my $hash_ref,my $exit_state) = xmlparser::ProjectXmlParser($file);\n\n#Define the number of threads\nmy $num_of_threads = 2;\n\n# use the initThreads subroutine to create an array of threads.\nmy @threads = initThreads();\n\n# Loop through the array:   \nforeach(@threads)\n{\n    #Tell each thread to perform our 'sub1()' subroutine.\n    $_ = threads-&gt;create(\\&amp;sub1);\n}\n\n# This tells the main program to keep running until all threads have finished.\nforeach(@threads)\n{\n    $_-&gt;join();\n}\n\n####################### SUBROUTINES ############################\n\nsub initThreads\n{\n    my @initThreads;\n    for(my $i = 1;$i&lt;=$num_of_threads;$i++)\n    {\n        push(@initThreads,$i);\n    }\n    return @initThreads;\n}\n\nsub sub1 {\n    sleep(1);\n    print \"\\nIn the thread\\n\\n\";\n}\n</code></pre>\n\n<p>Is there a way to eliminate this error or an alternative thread-safe library?\nThank you in advance!</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1561101594, "post_id": 56697196, "comment_id": 99961479, "body": "I&#39;d say: Always increment the version number; never alter the change log; adding a new entry saying &quot;no changes from 0.01-TRIAL&quot; is fine."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1561124298, "post_id": 56697196, "comment_id": 99972448, "body": "I&#39;m completely with @melpomene... bump the version number. Many CPAN authors release their trials with a underscore-number suffix (eg: <code>Foo-0.1_06.tar.gz</code>), so the version bump to <code>0.2</code> absolutely makes sense there too. You can&#39;t upload the exact same distribution name to the CPAN twice, so I prefer using the number form of TRIAL in any event, as then in your Changes file, you can list easily all changes between each trial release of each major version. (eg <code>0.1_01 ...</code>, <code>0.1_02 ...</code>, <code>0.2 ...</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 1, "last_activity_date": 1561130927, "creation_date": 1561130927, "answer_id": 56706382, "question_id": 56697196, "link": "https://stackoverflow.com/questions/56697196/how-to-proceed-as-a-module-author-after-a-trial-release/56706382#56706382", "title": "how to proceed as a module author after a trial release", "body": "<p>My general advice is: if the TRIAL turns out to be a resounding success and there are zero changes aside from releasing the same thing without <code>--trial</code>, you can reuse the version, since at runtime the two tarballs will have identical behavior. If you have to make any changes that may affect users or tests, bump the version. If you're unsure, bump the version -- versions are free. Remember that without a distinct version, other distributions can't distinguish the changes in their dependencies, CPAN clients can't request a specific version easily, etc.</p>\n\n<p>As far as the changelog, it may help that MetaCPAN now includes the changes for any trial releases leading up to the stable release in its changes preview, provided <a href=\"https://metacpan.org/pod/CPAN::Changes::Spec\" rel=\"nofollow noreferrer\">it can parse your changelog</a> and the trial releases are marked as such. (<a href=\"https://metacpan.org/release/DAGOLDEN/HTTP-Tiny-0.064\" rel=\"nofollow noreferrer\">example</a>) So I would just include an entry for each distinct version.</p>\n"}], "owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 56706382, "answer_count": 1, "score": 2, "last_activity_date": 1561130927, "creation_date": 1561093884, "last_edit_date": 1561095531, "question_id": 56697196, "link": "https://stackoverflow.com/questions/56697196/how-to-proceed-as-a-module-author-after-a-trial-release", "title": "how to proceed as a module author after a trial release", "body": "<p>The problem occurs to me using Perl5 for programming and <code>Dist::Zilla</code> (<code>dzil</code>) for deploying to CPAN. But the question is probably a general one, meaning independent of the programming language.</p>\n\n<p><em>Problem description</em></p>\n\n<p>Assuming I'm releasing a new version <code>0.1</code> of the module <code>Foo</code> with a new feature called <code>bar</code>. I would like to release it as a trial release (<code>dzil build --trial</code>), to be able the get feedback on the change without forcing it onto unaware users. When I'm doing so using my toolchain, the <code>Changes</code> file will look something like this:</p>\n\n<pre><code>1 Revision history for Foo\n2\n3 0.1       2019-06-19 17:49:09+02:00 Continent/City (TRIAL RELEASE)\n4  - added bar\n</code></pre>\n\n<p>The packed distribution (for upload to CPAN) is a file like so: <code>Foo-0.1-TRIAL.tar.gz</code></p>\n\n<p>Until here, everything was easy. But from now on, I'm unsure how to react to upcoming events:</p>\n\n<ul>\n<li>Feedback is positive. No changes needed. Bring the release in production.</li>\n</ul>\n\n<p>How should the new (but unaltered) release look like?\nShould I do a release with the same version or count the version up? Should I add a new line to the <code>Changes</code> file (e.g \"bring trial 0.1 into production\") or alter the existing one (meaning just removing the <code>(TRIAL RELEASE)</code>).</p>\n\n<ul>\n<li>Feedback is negative. Changes needed. Add feature/change <code>baz</code>.</li>\n</ul>\n\n<p>Same questions here. The new change surely needs a mention in <code>Changes</code>. But again: Count version up, or let it be? Make a new entry to <code>Changes</code> or alter the existing one?</p>\n\n<p>This is one of these questions where I feel like: it probably doesn't matter to much, but there must be a \"best practice\". And in the long term it kind of  pays of doing it right.</p>\n\n<p><em>Question</em></p>\n\n<p>How should I continue with version numbering and <code>Changes</code> file, after doing a trial release to specifically CPAN?</p>\n\n<p>(General answers, which are independent from Perl and CPAN are also of interest)</p>\n"}, {"tags": ["bash", "perl", "gnu-parallel"], "comments": [{"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1561086541, "post_id": 56695951, "comment_id": 99957481, "body": "Are you sure, you are seeing <code>echo &#39;foo bar&#39;</code>? on <code>GNU parallel 20180622</code> I have I see <code>echo foo\\ bar</code>"}, {"owner": {"reputation": 145, "user_id": 4983930, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e2d50ab284fecc7f6b2ba41bb6a522ec?s=128&d=identicon&r=PG&f=1", "display_name": "rytone", "link": "https://stackoverflow.com/users/4983930/rytone"}, "reply_to_user": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1561127734, "post_id": 56695951, "comment_id": 99974364, "body": "@Inian I&#39;m using Arch Linux with <code>parallel 20190422</code>, <code>bash 5.0.7</code>, and <code>perl 5.30.0</code>, and I can verify this behavior on 2 different machines."}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "reply_to_user": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1561200643, "post_id": 56695951, "comment_id": 99991814, "body": "@Inian The quoting behaviour changed in 20180722."}], "answers": [{"tags": [], "owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "is_accepted": true, "score": 2, "last_activity_date": 1561205148, "creation_date": 1561205148, "answer_id": 56715326, "question_id": 56695951, "link": "https://stackoverflow.com/questions/56695951/gnu-parallel-do-not-quote-perl-replacement-string-values-that-contain-spaces/56715326#56715326", "title": "GNU Parallel: Do not quote Perl replacement string values that contain spaces?", "body": "<p>Use <code>eval</code>:</p>\n\n<pre><code>seq ${2:-3} |\n  parallel --tty -j0 eval sidplayfp -wch{}.wav '{=$_=join\" \",map{\"-u\".$_}grep!/@{[seq()]}/,(1..total_jobs())=}' ${@:3} -q $1 '2&gt;/dev/null'\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 4983930, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e2d50ab284fecc7f6b2ba41bb6a522ec?s=128&d=identicon&r=PG&f=1", "display_name": "rytone", "link": "https://stackoverflow.com/users/4983930/rytone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 56715326, "answer_count": 1, "score": 2, "last_activity_date": 1561205148, "creation_date": 1561082372, "last_edit_date": 1561085305, "question_id": 56695951, "link": "https://stackoverflow.com/questions/56695951/gnu-parallel-do-not-quote-perl-replacement-string-values-that-contain-spaces", "title": "GNU Parallel: Do not quote Perl replacement string values that contain spaces?", "body": "<p>The script I am writing with <code>parallel</code> currently looks like this:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#!/bin/bash\nseq ${2:-3} | parallel --tty -j0 sidplayfp -wch{}.wav '{=$_=join\" \",map{\"-u\".$_}grep!/@{[seq()]}/,(1..total_jobs())=}' ${@:3} -q $1 '2&gt;/dev/null'\n</code></pre>\n\n<p>For example, running <code>./sidrender.sh Stomp.sid</code> is expected to execute the following commands:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>sidplayfp -wch1.wav -u2 -u3 -q Stomp.sid 2&gt;/dev/null\nsidplayfp -wch2.wav -u1 -u3 -q Stomp.sid 2&gt;/dev/null\nsidplayfp -wch3.wav -u1 -u2 -q Stomp.sid 2&gt;/dev/null\n</code></pre>\n\n<p>However, this does not work properly, and when looking with <code>--dry-run</code>, it turns out that <code>parallel</code> is quoting together the <code>-u</code> flags (e.g. <code>sidplayfp -wch1.wav '-u2 -u3' -q Stomp.sid 2&gt;/dev/null</code>) because they come from the same Perl expression.</p>\n\n<p>Here's a minimal example of what is happening:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ parallel --dry-run 'echo {= $_=\"foo bar\" =}' ::: 1\necho 'foo bar'\n</code></pre>\n\n<p>If you were to replace <code>\"foo bar\"</code> with <code>\"foo\"</code>, the output would be <code>echo foo</code> without any quotes.</p>\n\n<p>Because <code>sidplayfp</code> does not properly parse the arguments when they are quoted, I need a way to stop <code>parallel</code> from quoting the output, but I cannot find a way to do so in the man page.</p>\n"}, {"tags": ["perl", "safefilehandle"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1561064909, "post_id": 56693838, "comment_id": 99952994, "body": "That code prints <code>ab cd ef gh ij</code> (followed by two line feeds), not &quot;an empty string&quot;."}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561065498, "post_id": 56693838, "comment_id": 99953166, "body": "yes it does - I have no idea what happened before."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1561067175, "post_id": 56693838, "comment_id": 99953746, "body": "It&#39;s possible that you had an extra blank line after <code>__DATA__</code> before the line <code>ab cd ef gh ij</code> in your original code that was producing the problem you&#39;re describing. Since you are reading from <code>&lt;DATA&gt;</code> in scalar context without manipulating <code>$&#47;</code>, you are only getting the first line of data. If that first line happened to be empty, you would see no visible output other than some blank lines."}], "answers": [{"comments": [{"owner": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "edited": false, "score": 0, "creation_date": 1561089263, "post_id": 56695468, "comment_id": 99957955, "body": "or just <code>my $str = join &#39;&#39;, &lt;DATA&gt;</code>"}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1561126131, "post_id": 56695468, "comment_id": 99973466, "body": "The data set I was using had more than one line. thank you"}], "tags": [], "owner": {"reputation": 963, "user_id": 11117210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d5aa68aac6b9fe841dc9221c477dd8?s=128&d=identicon&r=PG&f=1", "display_name": "truth", "link": "https://stackoverflow.com/users/11117210/truth"}, "is_accepted": true, "score": 2, "last_activity_date": 1561077148, "creation_date": 1561077148, "answer_id": 56695468, "question_id": 56693838, "link": "https://stackoverflow.com/questions/56693838/using-perl-data-assign-its-value-to-variable/56695468#56695468", "title": "Using perl __DATA__ assign its value to variable", "body": "<p>If you have more than one line in <code>__DATA__</code>, you might want to use \"slurp\" (read the entire content of <code>&lt;DATA&gt;</code> into a variable):</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $str = do { local $/ = undef; &lt;DATA&gt; };\nprint \"$str\\n\";\n__DATA__\nab cd\nef gh\ni\nj\n</code></pre>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 56695468, "answer_count": 1, "score": -1, "last_activity_date": 1573994537, "creation_date": 1561064573, "last_edit_date": 1573994537, "question_id": 56693838, "link": "https://stackoverflow.com/questions/56693838/using-perl-data-assign-its-value-to-variable", "title": "Using perl __DATA__ assign its value to variable", "body": "<p>I am trying to use the filehandle <strong>DATA</strong> in a script, assign the values to a variable, and when it prints it just prints and empty string.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper qw(Dumper);  \nmy $str = &lt;DATA&gt; ;\nprint \"$str\\n\" ;\n\n__DATA__\nab cd ef gh ij\n</code></pre>\n"}, {"tags": ["windows", "perl", "unicode", "utf-8"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1561060327, "post_id": 56692821, "comment_id": 99951232, "body": "It works for me. Are you sure your terminal is expecting UTF-8?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1561060410, "post_id": 56692821, "comment_id": 99951258, "body": "The <code>use open</code> call is unnecessary, since you are not opening any handles in that scope. Alternatively if you add <code>&#39;:std&#39;</code> as a parameter to <code>use open</code>, you don&#39;t need the <code>binmode</code>. Also, either way you should pass <code>:encoding(UTF-8)</code>, as <code>:utf8</code> and <code>:encoding(utf8)</code> reference the internal encoding layer for Perl and should generally not be used in code."}, {"owner": {"reputation": 31, "user_id": 6938571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b738d3c2eebda9f05f9e7cf382f623d?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Marsh", "link": "https://stackoverflow.com/users/6938571/douglas-marsh"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1561063731, "post_id": 56692821, "comment_id": 99952550, "body": "Yeah, I changed the code page and that helped. I&#39;m getting a little white rectangle now, which I guess is an improvement. Have you ever tried this in a canvas Tk object? This started out as a test to get to that goal."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1561070775, "post_id": 56692821, "comment_id": 99954652, "body": "Not all character glyphs are available in all fonts. You might have more luck if you explicitly set the font on the widget"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6938571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b738d3c2eebda9f05f9e7cf382f623d?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Marsh", "link": "https://stackoverflow.com/users/6938571/douglas-marsh"}, "edited": false, "score": 0, "creation_date": 1561063109, "post_id": 56693346, "comment_id": 99952332, "body": "You are indeed correct this is a Windows CMD window. My first attempt with your code gave me: <code>Malformed UTF-8 character: \\xc7\\x22 (unexpected non-continuation byte 0x22, immediately after start byte 0xc7; need 2 bytes, got 1) at PrintHexagram.pl line 8. Malformed UTF-8 character (fatal) at PrintHexagram.pl line 8.</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 31, "user_id": 6938571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b738d3c2eebda9f05f9e7cf382f623d?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Marsh", "link": "https://stackoverflow.com/users/6938571/douglas-marsh"}, "edited": false, "score": 0, "creation_date": 1561063211, "post_id": 56693346, "comment_id": 99952365, "body": "1) The code I posted is of no use to you. You should keep using your existing code. 2) You got that error because you didn&#39;t save the file using UTF-8 as directed."}, {"owner": {"reputation": 31, "user_id": 6938571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b738d3c2eebda9f05f9e7cf382f623d?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Marsh", "link": "https://stackoverflow.com/users/6938571/douglas-marsh"}, "edited": false, "score": 0, "creation_date": 1561063807, "post_id": 56693346, "comment_id": 99952576, "body": "chcp helped some"}, {"owner": {"reputation": 31, "user_id": 6938571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b738d3c2eebda9f05f9e7cf382f623d?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Marsh", "link": "https://stackoverflow.com/users/6938571/douglas-marsh"}, "edited": false, "score": 0, "creation_date": 1561063988, "post_id": 56693346, "comment_id": 99952649, "body": "I&#39;ve got to figure out how to do UTF-8 in my editor. I know it can do it, but obviously this is my first experience with UTF-8."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 31, "user_id": 6938571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b738d3c2eebda9f05f9e7cf382f623d?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Marsh", "link": "https://stackoverflow.com/users/6938571/douglas-marsh"}, "edited": false, "score": 0, "creation_date": 1561064373, "post_id": 56693346, "comment_id": 99952800, "body": "The program I posted needs to be saved using UTF-8 because it contains non-ASCII chars, which is also why <code>use utf8;</code> is used. None of that is relevant to you. I simply included the program for future reference."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1561063519, "last_edit_date": 1561063519, "creation_date": 1561061948, "answer_id": 56693346, "question_id": 56692821, "link": "https://stackoverflow.com/questions/56692821/how-to-print-hexagram-in-perl/56693346#56693346", "title": "How to print Hexagram in Perl?", "body": "<p>You tell Perl your terminal is expecting UTF-8, but your terminal appears to expect one of the following:<sup>[1]</sup></p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Code_page_437\" rel=\"nofollow noreferrer\">cp437</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Code_page_860\" rel=\"nofollow noreferrer\">cp860</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Code_page_861\" rel=\"nofollow noreferrer\">cp861</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Code_page_863\" rel=\"nofollow noreferrer\">cp863</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Code_page_865\" rel=\"nofollow noreferrer\">cp865</a></li>\n</ul>\n\n<p>Seeing as these are all Windows code pages, I presume the terminal in question is a Windows console. If so, you can find out which encoding is expected using either of these commands:</p>\n\n<pre><code>chcp\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>perl -le\"use Win32; print Win32::GetACP()\"\n</code></pre>\n\n<p>Prepend <code>cp</code> to the number to get a name you can use with the Encode module (which is used by the <code>:encoding</code> layer).</p>\n\n<p>Knowing the expected encoding won't help you, however. None of the character sets of these encodings contains \"\u4dc0\", so your terminal can't display \"\u4dc0\" without change.</p>\n\n<p>You can switch the encoding expected by a Windows console to UTF-8 by issuing the following command:</p>\n\n<pre><code>chcp 65001\n</code></pre>\n\n<p>You may have to adjust the font in the console's properties.</p>\n\n<hr>\n\n<ol>\n<li><p>I obtained the list of possible encodings using the following program:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\nuse utf8;\nuse Encode qw( decode encode_utf8 );\n\nmy $output = encode_utf8(\"\\x{4DC0}\");\nmy $displayed = \"\u03a3\u2556\u00c7\";\n\nfor my $encoding (Encode-&gt;encodings(\":all\")) {\n   defined( my $got = eval { decode($encoding, $output, Encode::FB_CROAK|Encode::LEAVE_SRC) } )\n      or next;\n\n   say $encoding if $output eq $displayed;\n}\n</code></pre>\n\n<p>(Make sure the file is encoded using UTF-8.)</p></li>\n</ol>\n"}], "owner": {"reputation": 31, "user_id": 6938571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b738d3c2eebda9f05f9e7cf382f623d?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Marsh", "link": "https://stackoverflow.com/users/6938571/douglas-marsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1561089489, "creation_date": 1561059553, "last_edit_date": 1561089489, "question_id": 56692821, "link": "https://stackoverflow.com/questions/56692821/how-to-print-hexagram-in-perl", "title": "How to print Hexagram in Perl?", "body": "<p>I am trying to print the first hexagram <a href=\"https://en.wikipedia.org/wiki/List_of_hexagrams_of_the_I_Ching#Hexagram_1\" rel=\"nofollow noreferrer\">from here</a> in Perl.</p>\n\n<p>The code below doesn't generate any errors, but doesn't print any hexagrams either.</p>\n\n<pre><code>use warnings;\nuse open ':encoding(utf8)';\nbinmode(STDOUT, \":utf8\");\n\nprint \"\\x{4DC0}\\n\";\n</code></pre>\n\n<p>I was hoping to see this \"\u4dc0\" not \"\u03a3\u2556\u00c7\".</p>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 1, "creation_date": 1561059296, "post_id": 56692572, "comment_id": 99950808, "body": "<a href=\"http://stackoverflow.com/a/1732454/3776858\">You can&#39;t parse &#91;X&#93;HTML with regex</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11677153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e78b07f7447cd594055747bce7bf34?s=128&d=identicon&r=PG&f=1", "display_name": "chadopp", "link": "https://stackoverflow.com/users/11677153/chadopp"}, "edited": false, "score": 0, "creation_date": 1561067304, "post_id": 56692684, "comment_id": 99953791, "body": "Thanks for the response.  The app tag missing was my fat finger typo.  It looks like the code also removed the &lt;const&gt; open tag which would break the XML."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 3, "user_id": 11677153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e78b07f7447cd594055747bce7bf34?s=128&d=identicon&r=PG&f=1", "display_name": "chadopp", "link": "https://stackoverflow.com/users/11677153/chadopp"}, "edited": false, "score": 0, "creation_date": 1561068392, "post_id": 56692684, "comment_id": 99954111, "body": "@chadopp <code>&lt;const &#47;&gt;</code> is valid XML and essentially means the same as <code>&lt;const&gt;&lt;&#47;const&gt;</code>."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1561069112, "post_id": 56692684, "comment_id": 99954284, "body": "You can replace the contents with space characters if you really want to keep the tag separated out. <code>-&gt;content(&quot;\\n&quot;)</code> or <code>-&gt;content(&#39; &#39;)</code>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1561069242, "post_id": 56692684, "comment_id": 99954325, "body": "Or you can more surgically just remove the <code>&lt;argument&gt;</code> tag, leaving surrounding whitespace: <code>-&gt;at(&#39;argument&#39;)-&gt;remove;</code>"}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 1, "last_activity_date": 1561059690, "last_edit_date": 1561059690, "creation_date": 1561058771, "answer_id": 56692684, "question_id": 56692572, "link": "https://stackoverflow.com/questions/56692572/how-to-find-the-2nd-occurence-of-a-string-and-then-delete-a-line-2-lines-below-t/56692684#56692684", "title": "How to find the 2nd occurence of a string and then delete a line 2 lines below that occurence", "body": "<p>A Perl solution would be much simpler with an XML parser. Here's what it might look like with <a href=\"https://metacpan.org/pod/Mojo::DOM\" rel=\"nofollow noreferrer\">Mojo::DOM</a>, which finds tags using <a href=\"https://metacpan.org/pod/Mojo::DOM::CSS\" rel=\"nofollow noreferrer\">CSS rules</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Mojo::DOM;\nuse open ':std', ':encoding(UTF-8)';\n\nmy $xml = do { local $/; &lt;&gt; };\nmy $dom = Mojo::DOM-&gt;new-&gt;xml(1)-&gt;parse($xml);\n$dom-&gt;at('application:nth-of-type(2) &gt; app &gt; const')-&gt;content('');\nprint $dom-&gt;to_string;\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>&lt;application&gt;\n    &lt;app&gt;\n       &lt;Name&gt;Tester&lt;/Name&gt;\n       &lt;Class&gt;tester.update&lt;/Class&gt;\n       &lt;const&gt;\n            &lt;argument&gt;READ_ONLY&lt;/argument&gt;\n       &lt;/const&gt;\n       &lt;role&gt;sysad&lt;/role&gt;\n&lt;/app&gt;&lt;/application&gt;\n\n&lt;application&gt;\n    &lt;app&gt;\n       &lt;Name&gt;Tester&lt;/Name&gt;\n       &lt;Class&gt;tester.update&lt;/Class&gt;\n       &lt;const /&gt;\n       &lt;role&gt;tester&lt;/role&gt;\n&lt;/app&gt;&lt;/application&gt;\n</code></pre>\n\n<p>(It even fixed the missing close tag for <code>&lt;app&gt;</code>)</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11677153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e78b07f7447cd594055747bce7bf34?s=128&d=identicon&r=PG&f=1", "display_name": "chadopp", "link": "https://stackoverflow.com/users/11677153/chadopp"}, "edited": false, "score": 0, "creation_date": 1561067485, "post_id": 56694144, "comment_id": 99953849, "body": "This does exactly what I want.  Thanks for taking the time to write this  up."}], "tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1561066271, "creation_date": 1561066271, "answer_id": 56694144, "question_id": 56692572, "link": "https://stackoverflow.com/questions/56692572/how-to-find-the-2nd-occurence-of-a-string-and-then-delete-a-line-2-lines-below-t/56694144#56694144", "title": "How to find the 2nd occurence of a string and then delete a line 2 lines below that occurence", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -Ei '/tester.update/{x;s/^/x/;/^x{2}$/{;x;n;n;d};x}' file\n</code></pre>\n\n<p>Each time the string <code>tester.update</code> in seen, increment a counter in the hold space. If that counter contains 2, swap back to the current line, print it and the next line and delete the following one.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11677153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e78b07f7447cd594055747bce7bf34?s=128&d=identicon&r=PG&f=1", "display_name": "chadopp", "link": "https://stackoverflow.com/users/11677153/chadopp"}, "edited": false, "score": 0, "creation_date": 1561069203, "post_id": 56694385, "comment_id": 99954309, "body": "Ed, I do really like your solution.  It&#39;s amazing to me how many different ways there are to achieve a result.  I&#39;m looking at my gnu awk and there isn&#39;t a -i option that I can see.  I have version 3.1.8.  Maybe the version is too old."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 3, "user_id": 11677153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e78b07f7447cd594055747bce7bf34?s=128&d=identicon&r=PG&f=1", "display_name": "chadopp", "link": "https://stackoverflow.com/users/11677153/chadopp"}, "edited": false, "score": 0, "creation_date": 1561069524, "post_id": 56694385, "comment_id": 99954399, "body": "@chadopp yes that&#39;s <b>extremely</b> old, e.g. about 5 years out of date. The current version is 5.0.1 and has a ton of great functionality and a few bug fixes missing from 3.1.8. In any case, you can always do <code>awk &#39;script&#39; file &gt; tmp &amp;&amp; mv tmp file</code> - that&#39;s exactly what <code>sed -i</code>, <code>perl -i</code>, <code>awk -i inplace</code>, and every other &quot;inplace editing&quot; tool (except <code>ed</code> which uses an internal buffer the size of your input file) do in the background anyway."}, {"owner": {"reputation": 3, "user_id": 11677153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e78b07f7447cd594055747bce7bf34?s=128&d=identicon&r=PG&f=1", "display_name": "chadopp", "link": "https://stackoverflow.com/users/11677153/chadopp"}, "edited": false, "score": 1, "creation_date": 1561069653, "post_id": 56694385, "comment_id": 99954428, "body": "Yeah, unfortunately these systems are on a baseline that I can change at the moment.  Really appreciate your input and help"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 3, "user_id": 11677153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e78b07f7447cd594055747bce7bf34?s=128&d=identicon&r=PG&f=1", "display_name": "chadopp", "link": "https://stackoverflow.com/users/11677153/chadopp"}, "edited": false, "score": 0, "creation_date": 1561069680, "post_id": 56694385, "comment_id": 99954435, "body": "Yes there are lots of alternatives and when deciding between sed and awk, to help you pick the right one just imagine yourself coming across the 2 scripts in your code 6 months from now and having to debug or enhance it. Which one would you rather be faced with? There&#39;s obviously also portability (the awk one will work with any awk in any shell on every UNIX box), efficiency, etc. If it&#39;s anything other than a simple <code>s&#47;old&#47;new</code> sed is just for the mental exercise."}, {"owner": {"reputation": 3, "user_id": 11677153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e78b07f7447cd594055747bce7bf34?s=128&d=identicon&r=PG&f=1", "display_name": "chadopp", "link": "https://stackoverflow.com/users/11677153/chadopp"}, "edited": false, "score": 1, "creation_date": 1561070112, "post_id": 56694385, "comment_id": 99954522, "body": "Yes that is definitely worth considering.  The awk solution is simpler to understand."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 3, "user_id": 11677153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e78b07f7447cd594055747bce7bf34?s=128&d=identicon&r=PG&f=1", "display_name": "chadopp", "link": "https://stackoverflow.com/users/11677153/chadopp"}, "edited": false, "score": 0, "creation_date": 1561072044, "post_id": 56694385, "comment_id": 99954912, "body": "And easier to enhance and to port to a new machine and more efficient and.... Leave the sed answer as accepted if you like, I could care less, but for your own sake just use the awk script in your actual code. You&#39;ll thank yourself later :-)!"}, {"owner": {"reputation": 3, "user_id": 11677153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e78b07f7447cd594055747bce7bf34?s=128&d=identicon&r=PG&f=1", "display_name": "chadopp", "link": "https://stackoverflow.com/users/11677153/chadopp"}, "edited": false, "score": 1, "creation_date": 1561076012, "post_id": 56694385, "comment_id": 99955702, "body": "I think the awk solution works better for what I\u2019m doing so thank you."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 0, "last_activity_date": 1561068144, "last_edit_date": 1561068144, "creation_date": 1561067772, "answer_id": 56694385, "question_id": 56692572, "link": "https://stackoverflow.com/questions/56692572/how-to-find-the-2nd-occurence-of-a-string-and-then-delete-a-line-2-lines-below-t/56694385#56694385", "title": "How to find the 2nd occurence of a string and then delete a line 2 lines below that occurence", "body": "<p>Assuming you don't have an XML parser:</p>\n\n<p>sed is for doing s/old/new on individual lines, <strong>that is all</strong>. For anything else you should be using awk, e.g. with any awk in any shell on every UNIX box you can clearly and simply just do:</p>\n\n<pre><code>$ awk '/tester.update/{if (++cnt==2) skip=NR+2} NR!=skip' file\n&lt;application&gt;\n    &lt;app&gt;\n       &lt;Name&gt;Tester&lt;/Name&gt;\n       &lt;Class&gt;tester.update&lt;/Class&gt;\n       &lt;const&gt;\n            &lt;argument&gt;READ_ONLY&lt;/argument&gt;\n       &lt;/const&gt;\n       &lt;role&gt;sysad&lt;/role&gt;\n&lt;/application&gt;\n\n&lt;application&gt;\n    &lt;app&gt;\n       &lt;Name&gt;Tester&lt;/Name&gt;\n       &lt;Class&gt;tester.update&lt;/Class&gt;\n       &lt;const&gt;\n       &lt;/const&gt;\n       &lt;role&gt;tester&lt;/role&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>Want to find the 127th occurrence of <code>tester.update</code> instead of the 2nd? Just change <code>cnt==2</code> to <code>cnt==127</code>. Want to delete the 93rd line after that is found instead of the 2nd? Just change <code>skip=NR+2</code> to <code>skip=NR+93</code>. Try making trivial changes like that (or anything else!) to a sed solution.</p>\n\n<p>Like sed for the brevity? You can sacrifice clarity for brevity in awk too:</p>\n\n<pre><code>$ awk '/tester.update/&amp;&amp;++c==2{s=NR+2}NR!=s' file\n&lt;application&gt;\n    &lt;app&gt;\n       &lt;Name&gt;Tester&lt;/Name&gt;\n       &lt;Class&gt;tester.update&lt;/Class&gt;\n       &lt;const&gt;\n            &lt;argument&gt;READ_ONLY&lt;/argument&gt;\n       &lt;/const&gt;\n       &lt;role&gt;sysad&lt;/role&gt;\n&lt;/application&gt;\n\n&lt;application&gt;\n    &lt;app&gt;\n       &lt;Name&gt;Tester&lt;/Name&gt;\n       &lt;Class&gt;tester.update&lt;/Class&gt;\n       &lt;const&gt;\n       &lt;/const&gt;\n       &lt;role&gt;tester&lt;/role&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>but importantly <strong>you don't have to</strong> and, finally, if you like GNU sed for inplace editing with <code>-i</code>, GNU awk has the same with <code>-i inplace</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 11677153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e78b07f7447cd594055747bce7bf34?s=128&d=identicon&r=PG&f=1", "display_name": "chadopp", "link": "https://stackoverflow.com/users/11677153/chadopp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 56694385, "answer_count": 3, "score": 0, "last_activity_date": 1561068144, "creation_date": 1561058360, "last_edit_date": 1561059015, "question_id": 56692572, "link": "https://stackoverflow.com/questions/56692572/how-to-find-the-2nd-occurence-of-a-string-and-then-delete-a-line-2-lines-below-t", "title": "How to find the 2nd occurence of a string and then delete a line 2 lines below that occurence", "body": "<p>I have an xml file that I would like to find the 2nd occurrence of a string and then remove a line 2 lines down from the string.  Here is a sample of how it looks:</p>\n\n<pre><code>&lt;application&gt;\n    &lt;app&gt;\n       &lt;Name&gt;Tester&lt;/Name&gt;\n       &lt;Class&gt;tester.update&lt;/Class&gt;\n       &lt;const&gt;\n            &lt;argument&gt;READ_ONLY&lt;/argument&gt;\n       &lt;/const&gt;\n       &lt;role&gt;sysad&lt;/role&gt;\n&lt;/application&gt;\n\n&lt;application&gt;\n    &lt;app&gt;\n       &lt;Name&gt;Tester&lt;/Name&gt;\n       &lt;Class&gt;tester.update&lt;/Class&gt;\n       &lt;const&gt;\n             &lt;argument&gt;READ_ONLY&lt;/argument&gt;\n       &lt;/const&gt;\n       &lt;role&gt;tester&lt;/role&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>Here is what I want it to look like:</p>\n\n<pre><code>&lt;application&gt;\n    &lt;app&gt;\n       &lt;Name&gt;Tester&lt;/Name&gt;\n       &lt;Class&gt;tester.update&lt;/Class&gt;\n       &lt;const&gt;\n            &lt;argument&gt;READ_ONLY&lt;/argument&gt;\n       &lt;/const&gt;\n       &lt;role&gt;sysad&lt;/role&gt;\n&lt;/application&gt;\n.\n.\n.\n&lt;application&gt;\n    &lt;app&gt;\n       &lt;Name&gt;Tester&lt;/Name&gt;\n       &lt;Class&gt;tester.update&lt;/Class&gt;\n       &lt;const&gt;\n       &lt;/const&gt;\n       &lt;role&gt;tester&lt;/role&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>The argument tags should be completely removed from the 2nd instance</p>\n\n<p>I'm searching for <code>tester.update</code> and then attempting to remove the line that is 2 lines down on the 2nd occurrence of tester.update</p>\n\n<p>I've attempted doing something like:</p>\n\n<pre><code>sed -i 'tester.update/{p;N;d}' file.txt \n</code></pre>\n\n<p>but this removes the 2nd line from both instances of <code>tester.update.</code></p>\n\n<p>Thanks for any help in advance</p>\n"}, {"tags": ["regex", "performance", "perl", "pcre"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1561058266, "post_id": 56692304, "comment_id": 99950342, "body": "Why are your lists showing different rows. They eye sees the code before the numbers, that is the reference. I started to correlate, but gave up."}, {"owner": {"reputation": 257, "user_id": 2304437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037de599b574fc63c5d0bf22ed811d4c?s=128&d=identicon&r=PG", "display_name": "robut", "link": "https://stackoverflow.com/users/2304437/robut"}, "edited": false, "score": 0, "creation_date": 1561059128, "post_id": 56692304, "comment_id": 99950734, "body": "Not sure what you mean by different rows ?  The module &quot;Benchmark&quot; orders its output from slower -&gt; faster for tabular comparison. Of course different benchmark conditions will result in differently-ordered lists, with no relation to the order in which I defined the anonymous subs in the code ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1561083385, "post_id": 56692304, "comment_id": 99957008, "body": "&quot;<i>Not sure what you mean different rows</i>&quot; -- I&#39;m not sure either, but your second output is <i>not</i> from the shown program, so maybe that&#39;s what they meant?  More to the point, you say &quot;<i>80% slower</i>&quot; but I see the factor of five in the benchmark output (and I, too, get a factor of three) ... am I missing or misreading something?"}, {"owner": {"reputation": 257, "user_id": 2304437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037de599b574fc63c5d0bf22ed811d4c?s=128&d=identicon&r=PG", "display_name": "robut", "link": "https://stackoverflow.com/users/2304437/robut"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1561121157, "post_id": 56692304, "comment_id": 99970625, "body": "@zdim Yes, the 2nd isn&#39;t from the program. Quote: &#39;I changed the search substring &quot;foo&quot; to &quot;asdf&quot; (which does not occur in $str)[...]&#39;. If you scroll the 2nd output, you&#39;ll also see that Benchmark has quantified row 1 (&quot;regex match (single compile)&quot;) as being a relative -79% as performant as its counterpart (&quot;regex match&quot;). Ditto for the anchored two (-81% on row 2, compare 2nd last column)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1561134941, "post_id": 56692304, "comment_id": 99977964, "body": "In the first output the &quot;<i>regex match (single compile)</i>&quot; has 3.04 s/iter while &quot;<i>regex match</i>&quot; has 0.601 s/iter; in the second output the rates are 0.4/s vs. 1.88/s.  That&#39;s factors around 5 (five) both ... ?"}], "answers": [{"comments": [{"owner": {"reputation": 257, "user_id": 2304437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037de599b574fc63c5d0bf22ed811d4c?s=128&d=identicon&r=PG", "display_name": "robut", "link": "https://stackoverflow.com/users/2304437/robut"}, "edited": false, "score": 0, "creation_date": 1561064240, "post_id": 56693455, "comment_id": 99952752, "body": "Hey, that&#39;s great insight thanks !   I switched to v5.30.0 and indeed the regex with the ^ anchor is faster than both anchorless. My go-to thought is rarely, &quot;Huh, must be a bug in Perl&quot; !"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1561082576, "post_id": 56693455, "comment_id": 99956874, "body": "Can you elaborate a little on any of this, or offer links?  A &quot;<i>slight penalty</i>&quot; for a <code>qr</code> object doesn&#39;t explain the factor of 3 (three) that OP shows this trailing behind an otherwise equal match (which I confirmed in my tests). Also, what kind of optimization helps anchoring a match for a pattern that <i>is</i> always at the beginning of the string (what this tests, not failures)?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1561083658, "post_id": 56693455, "comment_id": 99957045, "body": "(it&#39;s actually a factor of 5 (five) they show. I get a factor of 3 with 5.16.3.  and with 5.29.2 close to 5x)"}, {"owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "edited": false, "score": 1, "creation_date": 1561109576, "post_id": 56693455, "comment_id": 99965142, "body": "The trivial pattern /^foo/ is heavily optimised and doesn&#39;t even call the regex engine proper. With a heavyweight regex that takes real time to run, the overhead of cloning the regex each time becomes a small(er) part of the overall execution time"}, {"owner": {"reputation": 257, "user_id": 2304437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037de599b574fc63c5d0bf22ed811d4c?s=128&d=identicon&r=PG", "display_name": "robut", "link": "https://stackoverflow.com/users/2304437/robut"}, "edited": false, "score": 0, "creation_date": 1561120692, "post_id": 56693455, "comment_id": 99970378, "body": "Would love to see this improved in future Perl releases ! Although to be fair ... I guess in cases as trivial as these, &quot;improving&quot; this discrepancy would be tantamount to premature optimization ... And I&#39;ve yet to test how performance compares with more complex expressions, so the issue might be moot in &quot;real&quot; code."}], "tags": [], "owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "is_accepted": true, "score": 5, "last_activity_date": 1561062486, "creation_date": 1561062486, "answer_id": 56693455, "question_id": 56692304, "link": "https://stackoverflow.com/questions/56692304/perl-regex-unexpected-performance-hit/56693455#56693455", "title": "Perl Regex Unexpected Performance Hit", "body": "<p>Adding the anchor was preventing a particular regex optimisation from occurring. This has been fixed in 5.30.0.</p>\n\n<p>Using a qr// object currently incurs a slight penalty since internally part of the regex structure has to be copied (related to to the fact that each regex object has its own set of capture indices). Noone's thought of a good fix for this yet.</p>\n"}], "owner": {"reputation": 257, "user_id": 2304437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037de599b574fc63c5d0bf22ed811d4c?s=128&d=identicon&r=PG", "display_name": "robut", "link": "https://stackoverflow.com/users/2304437/robut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 1, "accepted_answer_id": 56693455, "answer_count": 1, "score": 3, "last_activity_date": 1561098545, "creation_date": 1561057130, "question_id": 56692304, "link": "https://stackoverflow.com/questions/56692304/perl-regex-unexpected-performance-hit", "title": "Perl Regex Unexpected Performance Hit", "body": "<p>Perl v5.28.1</p>\n\n<p>The benchmark : </p>\n\n<pre><code>use common::sense;\nuse Benchmark qw(:all);\n\nmy $UPPER = 10_000_000;\nmy $str = 'foo bar baz';\n\ncmpthese(10, {\n        'empty for-loop' =&gt; sub {\n                        for my $i (1..$UPPER) {}\n                },\n        'regex match' =&gt; sub {\n                        for my $i (1..$UPPER) {\n                                $str =~ /foo/;\n                        }\n                },\n        'regex match (single compile)' =&gt; sub {\n                        my $re = qr/foo/;\n                        for my $i (1..$UPPER) {\n                                $str =~ $re;\n                        }\n                },\n        'regex match (anchor)' =&gt; sub {\n                        for my $i (1..$UPPER) {\n                                $str =~ /^foo/;\n                        }\n                },\n        'regex match (anchor) (single compile)' =&gt; sub {\n                        my $re = qr/^foo/;\n                        for my $i (1..$UPPER) {\n                                $str =~ $re;\n                        }\n                },\n});\n</code></pre>\n\n<p>The results : </p>\n\n<pre><code>                                      s/iter regex match (anchor) (single compile) regex match (single compile) regex match (anchor) regex match empty for-loop\nregex match (anchor) (single compile)   3.83                                    --                         -21%                 -60%        -84%           -97%\nregex match (single compile)            3.04                                   26%                           --                 -50%        -80%           -96%\nregex match (anchor)                    1.53                                  151%                          99%                   --        -61%           -92%\nregex match                            0.601                                  537%                         405%                 154%          --           -81%\nempty for-loop                         0.117                                 3170%                        2496%                1205%        414%             --\n</code></pre>\n\n<p>Because foo happens to occur at the start of the string, I would expect adding an explicit anchor (^) to the regex to do nothing ... not halve performance !</p>\n\n<p>As well, I've read something to the effect that Perl is smart enough to <em>not</em> recompile expressions with fixed strings, even when contained within loops.<br>\nBut why would attempting to manually/explicitly \"precompile\" an expression into variable $re cause such a performance hit ?! </p>\n\n<p>I changed the search substring \"foo\" to \"asdf\" (which does not occur in $str), and anchoring does let the engine drop out of searching sooner.\nBut assigning the expression into a variable is still a massive performance hit - much more than I would have expected ! : </p>\n\n<pre><code>                                         Rate regex match (single compile) regex match (anchor) (single compile) regex match regex match (anchor) empty for-loop\nregex match (single compile)          0.401/s                           --                                  -10%        -79%                 -83%           -96%\nregex match (anchor) (single compile) 0.447/s                          11%                                    --        -76%                 -81%           -95%\nregex match                            1.88/s                         369%                                  321%          --                 -19%           -79%\nregex match (anchor)                   2.33/s                         481%                                  421%         24%                   --           -75%\nempty for-loop                         9.17/s                        2185%                                 1951%        387%                 294%             --\n</code></pre>\n\n<p>So 2 questions to summarize :<br>\n - Why should a start-of-string anchor halve performance ?<br>\n - Why should compiling an expression (qr//) into a variable be 80% slower than using the same expression in-line ?  </p>\n"}, {"tags": ["apache", "perl", "mod-perl2"], "answers": [{"comments": [{"owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "edited": false, "score": 0, "creation_date": 1561410864, "post_id": 56708937, "comment_id": 100046905, "body": "I have <code>Apache&#47;2.4.6 (CentOS)</code>. Checked, <code>SetEnv&#47;PerlSetEnv&#47;PerlPassEnv</code> are all do not work for me :( I can print them as <code>$ENV{PERL5OPT}</code> and <code>$ENV{PERLDB_OPTS}</code> but perl code is not running with debugger - it gives me <code>Undefined subroutine &amp;DB::parse_options</code>. Could you please show me your <code>PerlOptions</code> ? I have <code>PerlOptions +ParseHeaders +GlobalRequest +SetupEnv</code>"}], "tags": [], "owner": {"reputation": 257, "user_id": 2304437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037de599b574fc63c5d0bf22ed811d4c?s=128&d=identicon&r=PG", "display_name": "robut", "link": "https://stackoverflow.com/users/2304437/robut"}, "is_accepted": false, "score": 2, "last_activity_date": 1561142922, "creation_date": 1561142922, "answer_id": 56708937, "question_id": 56691207, "link": "https://stackoverflow.com/questions/56691207/how-to-enable-perl-debugger-under-mod-perl/56708937#56708937", "title": "How to enable perl debugger under mod_perl?", "body": "<p>This does <em>not</em> work for me :</p>\n\n<pre><code>PerlSetEnv PERL5OPT -d\nPerlSetEnv PERLDB_OPTS NonStop\n</code></pre>\n\n<p>This does, on Apache/2.4.10 :</p>\n\n<pre><code>SetEnv PERL5OPT -d\nSetEnv PERLDB_OPTS NonStop\n</code></pre>\n\n<p>Outputs to /var/log/apache2/error.log for me, by default : </p>\n\n<pre><code>...\n[Fri Jun 21 14:43:51.886302 2019] [cgi:error] [pid 24014] [client 127.0.0.1:48278] AH01215:         entering DBD::_::common::install_method\n[Fri Jun 21 14:43:51.886341 2019] [cgi:error] [pid 24014] [client 127.0.0.1:48278] AH01215:          entering DBI::_install_method\n[Fri Jun 21 14:43:51.886385 2019] [cgi:error] [pid 24014] [client 127.0.0.1:48278] AH01215:         entering DBD::_::common::install_method\n[Fri Jun 21 14:43:51.886425 2019] [cgi:error] [pid 24014] [client 127.0.0.1:48278] AH01215:          entering DBI::_install_method\n[Fri Jun 21 14:43:51.886468 2019] [cgi:error] [pid 24014] [client 127.0.0.1:48278] AH01215:         entering DBD::_::common::install_method\n[Fri Jun 21 14:43:51.886508 2019] [cgi:error] [pid 24014] [client 127.0.0.1:48278] AH01215:          entering DBI::_install_method\n[Fri Jun 21 14:43:51.886784 2019] [cgi:error] [pid 24014] [client 127.0.0.1:48278] AH01215:       entering CODE(0x18904ff0)\n[Fri Jun 21 14:43:51.886823 2019] [cgi:error] [pid 24014] [client 127.0.0.1:48278] AH01215:        entering DBI::dr::connect\n[Fri Jun 21 14:43:51.886862 2019] [cgi:error] [pid 24014] [client 127.0.0.1:48278] AH01215:         entering DBD::Pg::dr::connect\n[Fri Jun 21 14:43:51.886899 2019] [cgi:error] [pid 24014] [client 127.0.0.1:48278] AH01215:          entering DBI::_new_dbh\n[Fri Jun 21 14:43:51.886943 2019] [cgi:error] [pid 24014] [client 127.0.0.1:48278] AH01215:           entering DBI::_new_handle\n...\n</code></pre>\n\n<p>Good luck !</p>\n"}], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1561142922, "creation_date": 1561051977, "question_id": 56691207, "link": "https://stackoverflow.com/questions/56691207/how-to-enable-perl-debugger-under-mod-perl", "title": "How to enable perl debugger under mod_perl?", "body": "<p>I want to make non-interactive debugging of my code. Code is running under <code>httpd</code> with <code>mod_perl2</code> enable.</p>\n\n<p>According <a href=\"https://perl.apache.org/docs/1.0/guide/debug.html#Non_Interactive_Perl_Debugging_under_mod_perl\" rel=\"nofollow noreferrer\">official documentation</a> I can do like</p>\n\n<pre><code>% setenv PERL5OPT -d\n% setenv PERLDB_OPTS \"NonStop=1 LineInfo=db.out AutoTrace=1 frame=2\"\n</code></pre>\n\n<p>As far I understand, I need to use <a href=\"https://perl.apache.org/docs/2.0/user/config/config.html#C_PerlSetEnv_\" rel=\"nofollow noreferrer\">PerlSetEnv</a> translating apache <code>setenv</code> to language of apache2 config. So config must looks like</p>\n\n<pre><code>&lt;IfDefine MODPERL&gt;\n    LoadModule perl_module modules/mod_perl.so\n    ...\n    PerlSetEnv PERL5OPT -d\n    PerlSetEnv PERLDB_OPTS NonStop\n&lt;/IfDefine&gt;\n</code></pre>\n\n<p>I tried with such config but no output on STDERR when I wrap some code on</p>\n\n<pre><code>$DB::frame = 1;\n# code\n$DB::frame = 0;\n</code></pre>\n\n<p>What could I miss ?</p>\n\n<p><code>PERLDB_OPTS</code> and <code>PERL5OPT</code> are exacltly right variables:</p>\n\n<pre><code>$ cat 1.pl \n#!/usr/bin/env perl\nsub bar { foo() }\nsub foo { }\nsub hello {\n$DB::frame=1; \nbar(); \n$DB::frame=0;\n}\nhello();\n$ PERLDB_OPTS=NonStop PERL5OPT=-d perl 1.pl &gt; /dev/null\n   entering main::bar\n    entering main::foo\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561032384, "post_id": 56685424, "comment_id": 99936649, "body": "Your codecs value is wrong. It should be <code>avc1.42001f,mp4a.40.2</code>, not <code>avc1.42001f</code>."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 3, "last_activity_date": 1561032500, "last_edit_date": 1561032500, "creation_date": 1561031690, "answer_id": 56685424, "question_id": 56684969, "link": "https://stackoverflow.com/questions/56684969/how-to-get-values-in-a-non-constant-position/56685424#56685424", "title": "How to get values in a non-constant position?", "body": "<p>Use positive lookahead:</p>\n\n<pre><code>while(&lt;DATA&gt;) {\n    print;\n    if (/^#EXT-X-STREAM-INF:(?=.*BANDWIDTH=(?'bandwidth'[^,]+))(?=.*RESOLUTION=(?'resolution'[^,]+))(?=.*CODECS=\"(?'codecs'[^\"]+))/) {\n        say $+{bandwidth};\n        say $+{resolution};\n        say $+{codecs};\n    } else {\n        say 'NO match';\n    }\n}\n\n__DATA__\n#EXT-X-STREAM-INF:BANDWIDTH=1439890,RESOLUTION=640x480,CODECS=\"avc1.42001f,mp4a.40.2\"\n#EXT-X-STREAM-INF:RESOLUTION=640x480,BANDWIDTH=1439890,CODECS=\"avc1.42001f,mp4a.40.2\"\n#EXT-X-STREAM-INF:CODECS=\"avc1.42001f,mp4a.40.2\",RESOLUTION=640x480,BANDWIDTH=1439890\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>#EXT-X-STREAM-INF:BANDWIDTH=1439890,RESOLUTION=640x480,CODECS=\"avc1.42001f,mp4a.40.2\"\n1439890\n640x480\navc1.42001f,mp4a.40.2\n#EXT-X-STREAM-INF:RESOLUTION=640x480,BANDWIDTH=1439890,CODECS=\"avc1.42001f,mp4a.40.2\"\n1439890\n640x480\navc1.42001f,mp4a.40.2\n#EXT-X-STREAM-INF:CODECS=\"avc1.42001f,mp4a.40.2\",RESOLUTION=640x480,BANDWIDTH=14398901439890\n640x480\navc1.42001f,mp4a.40.2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1561032564, "last_edit_date": 1561032564, "creation_date": 1561032097, "answer_id": 56685551, "question_id": 56684969, "link": "https://stackoverflow.com/questions/56684969/how-to-get-values-in-a-non-constant-position/56685551#56685551", "title": "How to get values in a non-constant position?", "body": "<p>The easiest way is probably to extract all values into a hash first:</p>\n\n<pre><code>use v5.12.0;\nuse warnings;\n\nmy @variants = (\n    '#EXT-X-STREAM-INF:BANDWIDTH=1439890,RESOLUTION=640x480,CODECS=\"avc1.42001f,mp4a.40.2\"',\n    '#EXT-X-STREAM-INF:RESOLUTION=640x480,BANDWIDTH=1439890,CODECS=\"avc1.42001f,mp4a.40.2\"',\n    '#EXT-X-STREAM-INF:CODECS=\"avc1.42001f,mp4a.40.2\",RESOLUTION=640x480,BANDWIDTH=1439890',\n);\n\nfor my $str (@variants) {\n    say \"trying $str ...\";\n    my %data = $str =~ /(\\w+)=(?|([^\",]+)|\"([^\"]*)\")/g;\n\n    say \"bandwidth:  $data{BANDWIDTH}\";\n    say \"resolution: $data{RESOLUTION}\";\n    say \"codecs:     $data{CODECS}\";\n    say \"\";\n}\n</code></pre>\n\n<p><a href=\"https://ideone.com/ekLGZS\" rel=\"nofollow noreferrer\">Live demo</a>.</p>\n\n<p><code>m//g</code> in list context tries to match as many times as possible and returns a list of all captured strings. In this case, every match contributes two captures (because of the branch reset pattern <code>(?|...)</code> the last two alternatives count as one group).</p>\n\n<p>Assigning a list to a hash interprets the elements at even positions as keys and the odd elements as the corresponding values.</p>\n"}], "owner": {"reputation": 443, "user_id": 7757812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8bb8d0f617ac02473b73e4e66a8e5fa5?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/7757812/dmitriy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 56685424, "answer_count": 2, "score": 0, "last_activity_date": 1561032564, "creation_date": 1561030026, "question_id": 56684969, "link": "https://stackoverflow.com/questions/56684969/how-to-get-values-in-a-non-constant-position", "title": "How to get values in a non-constant position?", "body": "<p>String contains:</p>\n\n<pre><code>#EXT-X-STREAM-INF:BANDWIDTH=1439890,RESOLUTION=640x480,CODECS=\"avc1.42001f,mp4a.40.2\"\n</code></pre>\n\n<p>The order of key-value pairs is not constant. Examples:</p>\n\n<pre><code>#EXT-X-STREAM-INF:BANDWIDTH=1439890,RESOLUTION=640x480,CODECS=\"avc1.42001f,mp4a.40.2\"\n#EXT-X-STREAM-INF:RESOLUTION=640x480,BANDWIDTH=1439890,CODECS=\"avc1.42001f,mp4a.40.2\"\n#EXT-X-STREAM-INF:CODECS=\"avc1.42001f,mp4a.40.2\",RESOLUTION=640x480,BANDWIDTH=1439890\n</code></pre>\n\n<p>How to get values in a non-constant position of pairs using one regular expression?\nThis example is for the permanent position of pairs:</p>\n\n<pre><code>my $str = '#EXT-X-STREAM-INF:BANDWIDTH=1439890,RESOLUTION=640x480,CODECS=\"avc1.42001f,mp4a.40.2\"';\nif ($str =~/#EXT-X-STREAM-INF:BANDWIDTH=(?'bandwidth'.+?),RESOLUTION=(?'resolution'.+?),CODECS=\"(?'codecs'.+?)\"$/) {\n    say $+{bandwidth};\n    say $+{resolution};\n    say $+{codecs};\n}\n</code></pre>\n"}, {"tags": ["perl", "debugging"], "answers": [{"tags": [], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "is_accepted": false, "score": 1, "last_activity_date": 1604986561, "last_edit_date": 1604986561, "creation_date": 1561136224, "answer_id": 56707655, "question_id": 56684281, "link": "https://stackoverflow.com/questions/56684281/how-can-i-run-the-perl-debugger-at-runtime-with-perldb-opts/56707655#56707655", "title": "How can I run the Perl debugger at runtime with PERLDB_OPTS?", "body": "<p>For now, I used the following hack - run the script with <code>-d NonStop frame=0</code> and set <code>$DB::frame=1</code> at a place from which I want to get a stack trace.</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ cat 1.pl\n</code></pre>\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\nsub bar { foo() }\n\nsub foo { }\n\nsub hello {\n    $DB::frame = 1;\n    bar();\n    $DB::frame = 0;\n}\n\nhello();\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>$ PERL5OPT=-d PERLDB_OPTS=NonStop perl 1.pl\n   entering main::bar\n    entering main::foo\n\n</code></pre>\n"}], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1604996473, "creation_date": 1561027409, "last_edit_date": 1604996473, "question_id": 56684281, "link": "https://stackoverflow.com/questions/56684281/how-can-i-run-the-perl-debugger-at-runtime-with-perldb-opts", "title": "How can I run the Perl debugger at runtime with PERLDB_OPTS?", "body": "<p>I have following Perl script</p>\n<pre><code>#!/usr/bin/env perl\nsub bar { foo() }\nsub foo { }\nsub hello { bar(); }\nhello();\n</code></pre>\n<p>Which produces following output</p>\n<pre><code>$ PERLDB_OPTS=&quot;NonStop frame=1&quot; perl -d 1.pl &gt; /dev/null\nPackage 1.pl.\n  entering DB::Obj::_init\n  entering main::hello\n   entering main::bar\n    entering main::foo\n</code></pre>\n<p>I need to enable the debugger only before the <code>bar()</code> function call. How can I do that?</p>\n<p>What I've tried:</p>\n<ol>\n<li><p><a href=\"https://metacpan.org/pod/distribution/Enbugger/lib/Enbugger.pod\" rel=\"nofollow noreferrer\">Enbugger</a> + <code>DB::parse_options</code></p>\n<pre><code>$ cat 1.pl\n#!/usr/bin/env perl\nsub bar { foo() }\nsub foo { }\nsub hello {\n    require Enbugger;\n    Enbugger-&gt;load_debugger();\n    DB::parse_options(&quot;NonStop frame=1&quot;);\n    bar();\n    Enbugger-&gt;stop;\n}\nhello();\n$ perl 1.pl &gt; /dev/null\n  entering CODE(0x1c551d0)\n   entering CODE(0x1d23018)\n    entering strict::import\n   entering CODE(0x1d23ac8)\n Package /usr/lib/x86_64-linux-gnu/perl/5.22/Errno.pm.\n   entering Errno::TIEHASH\n  entering CODE(0x1c551b8)\n   entering CODE(0x1d72b40)\nentering strict::import\n Package /usr/lib/x86_64-linux-gnu/perl/5.22/Tie/Hash/NamedCapture.pm.\n   entering XSLoader::load\n             NonStop = '1'\n               frame = '1'\n  entering CODE(0x1bdeca8)\n   entering warnings::unimport\n</code></pre>\n</li>\n</ol>\n<p>It seems like is working bebecause if I change to <code>frame=2</code> there will be more output. But the output is wrong, and the expected is:</p>\n<pre><code>Package 1.pl.\n    entering DB::Obj::_init\n       entering main::bar\n        entering main::foo\n</code></pre>\n<ol start=\"2\">\n<li><p><a href=\"https://perldoc.perl.org/DB.html#Global-Variables\" rel=\"nofollow noreferrer\">DB global variables</a>:</p>\n<pre><code> $ cat 1.pl\n #!/usr/bin/env perl\n sub bar { foo() }\n sub foo { }\n sub hello {\n     require &quot;perl5db.pl&quot;;\n     $DB::signal = 1;\n     bar();\n     $DB::single = 1;\n }\n hello();\n $ PERLDB_OPTS=&quot;NonStop frame=1&quot; perl 1.pl &gt; /dev/null\n</code></pre>\n</li>\n</ol>\n<p>No output :(</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1561022843, "post_id": 56682895, "comment_id": 99931573, "body": "Assign <code>$idartinstance1-&gt;responseContent()</code> to a variable and log it. Figure out what it really is before wondering why it isn&#39;t JSON."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561023100, "post_id": 56682895, "comment_id": 99931691, "body": "The error is that <code>decode_json</code> takes a string (in JSON format), but you&#39;re passing it a <code>REST::Client</code> object."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561023174, "post_id": 56682895, "comment_id": 99931734, "body": "Why is <code>$idartinstance1</code> a separate variable? <code>$client-&gt;GET(...)</code> just returns <code>$client</code> itself."}, {"owner": {"reputation": 209, "user_id": 8579362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d4f4db1a9e6513111b44e449e047bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8579362/ravi"}, "edited": false, "score": 0, "creation_date": 1561025684, "post_id": 56682895, "comment_id": 99933162, "body": "I did modified the description by printing the value of &quot;$idartinstance&quot;. Is this indicating it is not able to find REST client?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1561033709, "post_id": 56682895, "comment_id": 99937468, "body": "That sounds more like you did <code>print &quot;$idartinstance1-&gt;responseContent()&quot;</code>, not <code>print $idartinstance</code>. None of those are right. You should have removed <code>$idartinstance1</code> and done <code>print $client-&gt;responseContent();</code>. Note: No quotes!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1561052021, "post_id": 56682895, "comment_id": 99947806, "body": "<code>at character offset 0 (before &quot;(end of string)&quot;)</code> means you passed an empty string (or undef)"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1561033608, "post_id": 56685465, "comment_id": 99937403, "body": "&quot;<i>Each of these methods makes an HTTP request, sets the internal state of the object, <b>and returns the object</b>.</i>&quot; It&#39;s <a href=\"https://metacpan.org/pod/REST::Client#Request-Methods\" rel=\"nofollow noreferrer\">all documented</a>."}, {"owner": {"reputation": 209, "user_id": 8579362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d4f4db1a9e6513111b44e449e047bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8579362/ravi"}, "edited": false, "score": 0, "creation_date": 1561118471, "post_id": 56685465, "comment_id": 99969357, "body": "print $client-&gt;responseContent(); did not print anything. But from the &#39;Content-Type&#39; check I found that its not the JSON format what is expected there."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 209, "user_id": 8579362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d4f4db1a9e6513111b44e449e047bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8579362/ravi"}, "edited": false, "score": 0, "creation_date": 1561120066, "post_id": 56685465, "comment_id": 99970069, "body": "@ravi: <i>print $client-&gt;responseContent(); did not print anything</i> - this ties in with the error message (&#39;character offset 0 (before &quot;(end of string)&quot;&#39;). Your request is returning an empty string. So what response code do you get (try <code>print $client-&gt;responseCode()</code>)?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 209, "user_id": 8579362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d4f4db1a9e6513111b44e449e047bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8579362/ravi"}, "edited": false, "score": 0, "creation_date": 1561368102, "post_id": 56685465, "comment_id": 100025964, "body": "@ravi: HTTP 501 means <a href=\"https://httpstatuses.com/501\" rel=\"nofollow noreferrer\">not implemented</a> - <i>The server does not support the functionality required to fulfill the request</i>. So I guess you need to spend a lot more time debugging the request you&#39;re making and comparing it with the documentation for the API that you&#39;re calling."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1561034217, "last_edit_date": 1561034217, "creation_date": 1561031795, "answer_id": 56685465, "question_id": 56682895, "link": "https://stackoverflow.com/questions/56682895/json-decode-failed/56685465#56685465", "title": "JSON decode failed", "body": "<p>I think you're misreading <a href=\"https://metacpan.org/pod/REST::Client\" rel=\"nofollow noreferrer\">the documentation for the module</a>. From the synopsis there, the example that most closely resembles yours is the first one:</p>\n\n<pre><code>my $client = REST::Client-&gt;new();\n$client-&gt;GET('http://example.com/dir/file.xml');\nprint $client-&gt;responseContent();\n</code></pre>\n\n<p>Notice, in particular, that this example does nothing with the return value from <code>GET()</code>. In your example you do the equivalent of this:</p>\n\n<pre><code>my $client = REST::Client-&gt;new();\nmy $resp = $client-&gt;GET('http://example.com/dir/file.xml');\nprint $resp-&gt;responseContent();\n</code></pre>\n\n<p>As it happens, although there is no documented return value from <code>GET()</code> [<strong>Update:</strong> I was wrong here - see the first comment - but the return value is really only intended for chaining method calls], it actually returns the object that it was passed, so your approach should work. But it's generally a bad idea to not follow the documentation.</p>\n\n<p>So what is actually going wrong? Well, I'm not sure. As I said, your approach should (accidentally) work. But the error message you're getting tells us that what you're passing to <code>decode_json()</code> is a REST::Client object, not a string containing JSON. I don't think that's how your code should work. Perhaps the code you've shown us isn't actually the code you're running.</p>\n\n<p>The best approach to debug this is to follow the advice from Quentin in the first comment on your question - print the value that you're trying to pass to <code>decode_json()</code> before passing it to the function. In fact, that's good general programming advice - originally write out your code step by step, and only combine steps once you know that the individual steps are working correctly.</p>\n\n<p>Using your variable names, I think your code should look like this:</p>\n\n<pre><code>my $client = REST::Client-&gt;new();\n\n# ...other code...\n\n$client-&gt;GET($serverurl.\"serverinfo\", $headers);\n\nprint $client-&gt;responseContent();\n\n# And, only once you've established that\n# $client-&gt;responseContent() returns what\n# you expect, you can add this:\n\n$idartinstance = decode_json($client-&gt;responseContent());\n</code></pre>\n\n<p>If the <code>print()</code> statement doesn't show you JSON, then <a href=\"https://stackoverflow.com/posts/56682895/edit\">update your question</a> to add whatever is printed and we'll take a further look.</p>\n"}, {"comments": [{"owner": {"reputation": 209, "user_id": 8579362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d4f4db1a9e6513111b44e449e047bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8579362/ravi"}, "edited": false, "score": 0, "creation_date": 1561118349, "post_id": 56696143, "comment_id": 99969301, "body": "Response is not what we want(JSON). Now need to find whats wrong in getting response?"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 2, "last_activity_date": 1561209765, "last_edit_date": 1561209765, "creation_date": 1561084362, "answer_id": 56696143, "question_id": 56682895, "link": "https://stackoverflow.com/questions/56682895/json-decode-failed/56696143#56696143", "title": "JSON decode failed", "body": "<p>Once you get a response, you have to check that its what you want.</p>\n\n<pre><code>if( $client-&gt;responseCode() eq '200' ){\n    print \"Success\\n\";\n}\n</code></pre>\n\n<p>You may also want to check that the content-type is what you expect. If it's supposed to be JSON, check that it is:</p>\n\n<pre><code>if( $client-&gt;responseHeader('Content-Type') =~ m|\\Aapplication/json\\b| ) {\n    print \"Got JSON\\n\";\n}\n</code></pre>\n\n<p>Once you've established that you have what you wanted, pass the message body off to the JSON decoder.</p>\n\n<pre><code>my $data = decode_json($client-&gt;responseContent());\n</code></pre>\n\n<p>You might also try to catch errors where you should have valid JSON but don't. The block <code>eval</code> can handle that (and see the many sources of the proper employment of <code>eval</code> for its best use):</p>\n\n<pre><code>my $data = eval { decode_json(...) };\n</code></pre>\n\n<p>I find that I tend to get the wrong content in two situations:</p>\n\n<ul>\n<li>the wrong endpoint, from which a 404 handler returns HTML</li>\n<li>a captive portal, which also returns HTML</li>\n</ul>\n"}], "owner": {"reputation": 209, "user_id": 8579362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d4f4db1a9e6513111b44e449e047bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8579362/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 587, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1563173956, "creation_date": 1561022719, "last_edit_date": 1563173956, "question_id": 56682895, "link": "https://stackoverflow.com/questions/56682895/json-decode-failed", "title": "JSON decode failed", "body": "<p>Following is the code snippet where I am observing error: \"malformed JSON string, neither array, object, number, string or atom, at character offset 0 (before \"(end of string)\") at\"</p>\n\n<p>Error observed is at the decode_json line. Can someone point out what is the error?</p>\n\n<pre><code>my $serverurl = \"http://mycompany.net/rest/api/2/\";\n\nmy $username        = 'my.email@domain.com';\nmy $password        = \"mypassword\\@2019\";\nmy $i ;\nmy $test;\n\nmy $headers = {Accept =&gt; 'application/json', Authorization =&gt; 'Basic ' .encode_base64($username . ':' . $password)};\nmy $client = REST::Client-&gt;new();\n\nmy $idartinstance;\nmy $idartinstance1;\n\n if (!$idartinstance)\n    {\n        print \" Trying to Connect to URL using REST client interface \\n\\n\";\n        $idartinstance1 = $client-&gt;GET($serverurl.\"serverinfo\",$headers);\n\n        $idartinstance = decode_json($idartinstance1-&gt;responseContent());\n\n    }\n</code></pre>\n\n<p>When I print <code>$idartinstance</code>, I get this: </p>\n\n<pre><code>REST::Client=HASH(0x8682024)-&gt;responseContent()\n</code></pre>\n\n<p>Does this mean, it is not able to find REST client?</p>\n\n<p>[EDIT] I have modified the script as below and no difference in the errors.</p>\n\n<pre><code>my $serverurl = \"https://mycompany.net/rest/api/3/\";\nmy $username        = 'my.email@domain.com';\nmy $password        = 'pf9fCdkGXmi4pMHiwIh74A0D';\n\nmy $headers = {Accept =&gt; 'application/json', Authorization =&gt; 'Basic ' . encode_base64($username . ':' . $password)};\n\nmy $client = REST::Client-&gt;new();\nif (!$idartinstance)\n    {\n        print \" Trying to Connect to JIRA using REST client interface \\n\\n\";\n\n        $client-&gt;GET($serverurl.\"serverInfo\", $headers);\n        print $client-&gt;responseContent();\n        $idartinstance = decode_json($client-&gt;responseContent());\n    }\n</code></pre>\n\n<p>Now I have used encoded password. Error is same: malformed JSON string, neither array, object, number, string or atom, at character offset 0 (before \"(end of string)\"). Tried accessing \"<a href=\"https://mycompany.net/rest/api/3/serverInfo\" rel=\"nofollow noreferrer\">https://mycompany.net/rest/api/3/serverInfo</a>\" via web browser and able to get the details.</p>\n"}, {"tags": ["perl", "fonts", "truetype", "graphicsmagick", "perlmagick"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1561027616, "post_id": 56681587, "comment_id": 99934259, "body": "Please show the commands/script you used to display the images"}], "owner": {"reputation": 322, "user_id": 4781778, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10ead168c42930062bbe7ec7f44a4120?s=128&d=identicon&r=PG&f=1", "display_name": "vikas kv", "link": "https://stackoverflow.com/users/4781778/vikas-kv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561020328, "creation_date": 1561017746, "last_edit_date": 1561020328, "question_id": 56681587, "link": "https://stackoverflow.com/questions/56681587/fonts-rendering-differently-in-graphics-magick", "title": "Fonts rendering differently in graphics magick", "body": "<p>I am using graphics magick with PerlMagick interface to create images. There are currently 2 systems which are generating the images.</p>\n\n<p>System 1 is using the graphics magick version: 1.3.29\nSystem 2 is using the graphics magick version: 1.3.18</p>\n\n<p>I checked the freetype version on both the system using <code>freetype-config --version</code> command and below are the results.</p>\n\n<p>system 1: 16.0.10\nsystem 2: 9.22.3</p>\n\n<p>After generating the gif image, fonts rendered on both the images are slightly different. \nI want to know whether the system 1(updated one) is rendering the font properly or system 2.</p>\n\n<p>How can I validate these font renderings? I want to know which system is having the correct rendering.</p>\n\n<p>Below is the sample images generated using both systems.</p>\n\n<p>System1:\n<a href=\"https://i.stack.imgur.com/1JmHE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1JmHE.png\" alt=\"enter image description here\"></a></p>\n\n<p>System2:\n<a href=\"https://i.stack.imgur.com/oIZis.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oIZis.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1561007300, "post_id": 56678936, "comment_id": 99924741, "body": "What module are you using? How does your code fail?"}], "answers": [{"tags": [], "owner": {"reputation": 322, "user_id": 4781778, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10ead168c42930062bbe7ec7f44a4120?s=128&d=identicon&r=PG&f=1", "display_name": "vikas kv", "link": "https://stackoverflow.com/users/4781778/vikas-kv"}, "is_accepted": false, "score": 3, "last_activity_date": 1561021924, "creation_date": 1561021924, "answer_id": 56682666, "question_id": 56678936, "link": "https://stackoverflow.com/questions/56678936/how-to-read-a-excel-file-using-perl/56682666#56682666", "title": "How to read a excel file using perl?", "body": "<p>Enclose the path to the <code>.xlsx</code> file using double quotes inside ReadData function.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $book = ReadData(\"$lBASEPATH/macro/$gProj/TCO_Excel_Export/TCO_Data_201931316467.xlsx\");  \n\nsay 'A1: ' . $book-&gt;[1]{A1}; \n\nprint $book;\n</code></pre>\n\n<p>It is not possible to do interpolation with single quotes.</p>\n"}], "owner": {"reputation": 1, "user_id": 11449417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6400667a84a199838a663755fa972826?s=128&d=identicon&r=PG&f=1", "display_name": "Vivan", "link": "https://stackoverflow.com/users/11449417/vivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1561021924, "creation_date": 1561004308, "last_edit_date": 1561004679, "question_id": 56678936, "link": "https://stackoverflow.com/questions/56678936/how-to-read-a-excel-file-using-perl", "title": "How to read a excel file using perl?", "body": "<p>How to read excel file in Perl CGI?</p>\n\n<pre><code>my $book = ReadData('$lBASEPATH/macro/$gProj/TCO_Excel_Export/TCO_Data_201931316467.xlsx');   \n\nsay 'A1: ' . $book-&gt;[1]{A1}; \n\nprint $book;\n</code></pre>\n"}]