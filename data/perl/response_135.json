[{"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1502320937, "last_edit_date": 1502320937, "creation_date": 1502319492, "answer_id": 45601875, "question_id": 45601703, "link": "https://stackoverflow.com/questions/45601703/classmethodmodifiers-how-to-apend-parameters-in-before/45601875#45601875", "title": "Class::Method::Modifiers - How to apend parameters in &quot;before&quot;?", "body": "<p><code>@_</code> is scoped to your sub. Changes to it can't be seen on the outside.</p>\n\n<p>You noticed that changing the <em>elements</em> of <code>@_</code> had an effect on scalars outside of the sub, but that's because the existing <em>elements</em> of <code>@_</code> are aliased to scalars in the caller. But <code>@_</code> itself is a local variable, so adding and removing elements has no effect on the caller.</p>\n\n<p>You can use <code>around</code> to pass the original method a different <code>@_</code>.</p>\n\n<pre><code>around 'MIME::Lite::__opts' =&gt; sub {\n    my $orig = shift;\n    return $orig-&gt;(@_, 'SSL');\n};\n</code></pre>\n\n<hr>\n\n<p>Note that changing <code>$method-&gt;(@_);</code> to  <code>&amp;$method;</code> in <code>Class/Method/Modifiers.pm</code> would allow you to do what you want (by having your sub use the caller's <code>@_</code> instead of being giving it its own). However, that would cause a lack of symmetry with <code>after</code>, which has no way of manipulating the returned value.</p>\n\n<hr>\n\n<blockquote>\n  <p><em><code>grep { s/^Hello$/SSL/ } @_; # OK - changes $_[1]</code></em></p>\n</blockquote>\n\n<p>No, that's not ok.</p>\n\n<p>First of all,</p>\n\n<pre><code>grep { s/^Hello$/SSL/ } @_;\n</code></pre>\n\n<p>is a poor way to write</p>\n\n<pre><code>map { s/^Hello$/SSL/ } @_;\n</code></pre>\n\n<p>which is a poor way to write</p>\n\n<pre><code>s/^Hello$/SSL/ for @_;\n</code></pre>\n\n<p>That said, you shouldn't do any of those. They alter the arguments in the \"real\" caller, so you are risking nasty side-effects.</p>\n\n<p>Even claiming it works if pushing it, seeing as the following will crash!</p>\n\n<pre><code>before method =&gt; sub {\n    s/^Hello$/SSL/ for @_;\n};\n\n$o-&gt;method(\"Hello\");  # Dies: Can't modify constant item in substitution\n</code></pre>\n"}], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 45601875, "answer_count": 1, "score": 1, "last_activity_date": 1502320937, "creation_date": 1502318478, "question_id": 45601703, "link": "https://stackoverflow.com/questions/45601703/classmethodmodifiers-how-to-apend-parameters-in-before", "title": "Class::Method::Modifiers - How to apend parameters in &quot;before&quot;?", "body": "<p>See <a href=\"https://stackoverflow.com/a/45590793/2139766\">https://stackoverflow.com/a/45590793/2139766</a> for the original problem.</p>\n\n<p>How to <strong>append</strong> parameter(s) to <code>@_</code> in <code>before</code> provided by <code>Class::Method::Modifiers</code>?</p>\n\n<pre><code>before 'MIME::Lite::__opts' =&gt; sub {\n  # grep { s/^Hello$/SSL/ } @_; # OK - changes $_[1]   \n  push(@_,'SSL'); # no effect\n};\n</code></pre>\n"}, {"tags": ["arrays", "perl", "csv", "hash", "reference"], "comments": [{"owner": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502317426, "post_id": 45601427, "comment_id": 78162510, "body": "my $host_value = $hash{&#39;host1&#39;}   so I expect $host_value = 12121"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502321367, "post_id": 45601427, "comment_id": 78163719, "body": "Posted, a direct fix for that one error, and a few other options. (I removed a few comments I posted.)"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1503134972, "last_edit_date": 1503134972, "creation_date": 1502319512, "answer_id": 45601879, "question_id": 45601427, "link": "https://stackoverflow.com/questions/45601427/parse-a-csv-into-perl-hash-in-a-sub-and-return-the-value-passed-to-that-sub/45601879#45601879", "title": "Parse a CSV into Perl hash in a sub and return the value passed to that sub", "body": "<p>You build a hash with values being arrayrefs inside the <code>while</code> loop.  </p>\n\n<p>So you need to retrieve an element in that arrayref</p>\n\n<pre><code>my %host;\n...\nmy $host_value = $host{$name}-&gt;[0];\n</code></pre>\n\n<p>what can also be written as </p>\n\n<pre><code>my $host_value = $host{$name}[0];\n</code></pre>\n\n<p>where the original array had been <code>shift</code>ed so the number is now the first element in arrayref.</p>\n\n<hr>\n\n<p>This can also be done as</p>\n\n<pre><code>while (my $line = &lt;$fh&gt;) {\n    my ($name, @numbers) = split /\\s*,\\s*/, $line;\n    $host{$name} = \\@numbers;\n}\n</code></pre>\n\n<p>since the first element in <code>split</code>'s return list goes into the first scalar, and the rest into the array.</p>\n\n<hr>\n\n<p>The data shows one number for a host on each line. If that is always so, no need for an arrayref</p>\n\n<pre><code>my %host;\nwhile (my $line = &lt;$fh&gt;) {\n    my ($name, $val) = split /\\s*,\\s*/, $line;\n    $host{$name} = $val;\n}\n</code></pre>\n\n<p>where <code>/\\s*,\\s*/</code> trims spaces as well, or even</p>\n\n<pre><code>my %host = map { split /\\s*,\\s*/ } &lt;$fh&gt;;\n</code></pre>\n\n<p>which has the weakness of not being able to easily check expected data format.</p>\n"}], "owner": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 45601879, "answer_count": 1, "score": 0, "last_activity_date": 1503134972, "creation_date": 1502316780, "question_id": 45601427, "link": "https://stackoverflow.com/questions/45601427/parse-a-csv-into-perl-hash-in-a-sub-and-return-the-value-passed-to-that-sub", "title": "Parse a CSV into Perl hash in a sub and return the value passed to that sub", "body": "<p>I try to parse a csv into hash in perl in a sub, then return value of key passed to sub as an argument. CSV file is like:</p>\n\n<pre><code>host1, 12121\nhost2, 34324252345\nhost3, 45345\nhost4, 56363425\nhost5, 3.1\nhostn, 435345\n</code></pre>\n\n<p>And my code is like:</p>\n\n<pre><code>#!/usr/bin/perl -w\nmy $host_key = getValue('host1');\nprint $host_key;\nsub getValue {\n    my $host_file = 'test.csv';\n    my $hostname = $_[0];\n    chomp($hostname);\n    my %hash;\n    open my $fh, '&lt;', $host_file or die \"Cannot open: $!\";\n    while (my $line = &lt;$fh&gt;) {\n        my @hostname_lines = split /,/, $line;\n        my $hostname = shift @hostname_lines;\n        $hash{$hostname} = \\@hostname_lines;\n    }\n    close $fh;\n    my $host_value = $hash{$hostname};\n    return $host_value;\n}\n</code></pre>\n\n<p>When I run this code, my return value would be ARRAY(0x6b72d0) but I expect a return value of 12121</p>\n"}, {"tags": ["javascript", "php", "regex", "perl", "boost"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1502329478, "post_id": 45600763, "comment_id": 78165582, "body": "Thanks. I opened a ticket for the Boost bug <a href=\"https://svn.boost.org/trac10/ticket/13156\" rel=\"nofollow noreferrer\">svn.boost.org/trac10/ticket/13156</a>. I was a little surprised that Perl went for so long with that bug.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502345092, "post_id": 45600763, "comment_id": 78170031, "body": "I&#39;m not. I can&#39;t remember ever seeing <code>\\B</code> used."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1502368403, "post_id": 45600763, "comment_id": 78186035, "body": "Yeah, I know. Recently I found a use for \\B at the beginning/end  of string. But, It&#39;s disturbing given that it is negative of a zero-width assertion \\b, a simple true/false in an existing c++ code chunk for \\b. It should not be separate code at all."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1502345146, "last_edit_date": 1502345146, "creation_date": 1502313399, "answer_id": 45600763, "question_id": 45600398, "link": "https://stackoverflow.com/questions/45600398/regex-error-difference-between-b-and-not-b/45600763#45600763", "title": "(regex) Error difference between \\b and NOT \\B", "body": "<p>The bug was fixed in the version of Perl that was released after the one you used.</p>\n\n<pre><code>$ perl -le'print $^V'\nv5.20.1\n\n$ for re in '\\b' '\\B' '(?!\\b)' '(?&lt;!\\b)' '(?!\\B)' '(?&lt;!\\B)' ; do\n&gt;    perl -e'printf \"%-7s = %s\\n\", $ARGV[0], \"   ssssssssssssss \" =~ s/$ARGV[0]/&lt;&gt;/rg' \\\n&gt;       \"$re\"\n&gt; done\n\\b      =    &lt;&gt;ssssssssssssss&lt;&gt;\n\\B      = &lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s\n(?!\\b)  = &lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;\n(?&lt;!\\b) = &lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;\n(?!\\B)  =    &lt;&gt;ssssssssssssss&lt;&gt;\n(?&lt;!\\B) =    &lt;&gt;ssssssssssssss&lt;&gt;\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>$ perl -le'print $^V'\nv5.22.0\n\n$ for re in '\\b' '\\B' '(?!\\b)' '(?&lt;!\\b)' '(?!\\B)' '(?&lt;!\\B)' ; do\n&gt;    perl -e'printf \"%-7s = %s\\n\", $ARGV[0], \"   ssssssssssssss \" =~ s/$ARGV[0]/&lt;&gt;/rg' \\\n&gt;       \"$re\"\n&gt; done\n\\b      =    &lt;&gt;ssssssssssssss&lt;&gt;\n\\B      = &lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;\n(?!\\b)  = &lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;\n(?&lt;!\\b) = &lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;\n(?!\\B)  =    &lt;&gt;ssssssssssssss&lt;&gt;\n(?&lt;!\\B) =    &lt;&gt;ssssssssssssss&lt;&gt;\n</code></pre>\n\n<p>The Boost version is not only different; it doesn't appear to be self-consistent.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 45600763, "answer_count": 1, "score": 0, "last_activity_date": 1502345146, "creation_date": 1502311720, "question_id": 45600398, "link": "https://stackoverflow.com/questions/45600398/regex-error-difference-between-b-and-not-b", "title": "(regex) Error difference between \\b and NOT \\B", "body": "<p>I wanted to test the workings of <strong><code>\\B</code></strong> specifically, across different<br>\nengines that should all be handled the same.   </p>\n\n<p>I needed to do this to feel confident in using this construct.  </p>\n\n<p>The regex engines are: <strong>Perl,  PHP,  JS,  and Boost</strong>.<br>\nThese engines should <em>ALL</em> produce the exact same result.  </p>\n\n<p>But they don't.   </p>\n\n<p>In theory, \\B should match everywhere \\b doesn't.<br>\nThe list below show the results using the exact same regex on the different engines.  </p>\n\n<p>To me, it looks like PHP and JavaScript work as per definition,<br>\nbut Perl and Boost are slightly different.  </p>\n\n<p>If anyone can validate these results and/or shed light on whether any of<br>\nthis is the result of bugs.<br>\nOr, possibly there is a misconception of the definitions of <strong>\\b</strong> and <strong>\\B</strong><br>\nas, for these engines, they absolutely are supposed to be exactly the same.  </p>\n\n<p>Thanks for your time!  </p>\n\n<p>(the simple code to produce this output is not included, but can be if needed) </p>\n\n<pre><code> Target      = '   ssssssssssssss '\n Replacement = '&lt;&gt;'\n\n ==================================================\n PHP 7.03\n\n \\b      = '   &lt;&gt;ssssssssssssss&lt;&gt; '\n \\B      = '&lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;'\n (?!\\b)  = '&lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;'\n (?&lt;!\\b) = '&lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;'\n (?!\\B)  = '   &lt;&gt;ssssssssssssss&lt;&gt; '\n (?&lt;!\\B) = '   &lt;&gt;ssssssssssssss&lt;&gt; '\n\n\n =======================================\n Perl 5.20\n\n \\b      = '   &lt;&gt;ssssssssssssss&lt;&gt; '\n \\B      = '&lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s '\n (?!\\b)  = '&lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;'\n (?&lt;!\\b) = '&lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;'\n (?!\\B)  = '   &lt;&gt;ssssssssssssss&lt;&gt; '\n (?&lt;!\\B) = '   &lt;&gt;ssssssssssssss&lt;&gt; '\n\n ========================================\n Boost 1.64\n\n \\b      = '   &lt;&gt;ssssssssssssss&lt;&gt; '\n \\B      = ' &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s '\n (?!\\b)  = '&lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;'\n (?&lt;!\\b) = '&lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;'\n (?!\\B)  = '&lt;&gt;   &lt;&gt;ssssssssssssss&lt;&gt; &lt;&gt;'\n (?&lt;!\\B) = '&lt;&gt;   &lt;&gt;ssssssssssssss&lt;&gt; &lt;&gt;'\n\n =====================================\n JavaScript\n\n \\b      = '   &lt;&gt;ssssssssssssss&lt;&gt; '\n \\B      = '&lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;'\n (?!\\b)  = '&lt;&gt; &lt;&gt; &lt;&gt; s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s&lt;&gt;s &lt;&gt;'\n (?!\\B)  = '   &lt;&gt;ssssssssssssss&lt;&gt; '\n</code></pre>\n"}, {"tags": ["sql", "oracle", "perl"], "comments": [{"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 3, "creation_date": 1502310568, "post_id": 45599889, "comment_id": 78159562, "body": "try <a href=\"http://search.cpan.org/~timb/DBI-1.636/DBI.pm\" rel=\"nofollow noreferrer\">DBI</a> you can find an example <a href=\"http://www.dba-oracle.com/t_dbi_perl_sql_execution.htm\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 136706, "user_id": 146325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09939a1d3bd9c1af199a948bdc68cb71?s=128&d=identicon&r=PG", "display_name": "APC", "link": "https://stackoverflow.com/users/146325/apc"}, "edited": false, "score": 3, "creation_date": 1502311529, "post_id": 45599889, "comment_id": 78159995, "body": "SQL Server is the brand name of Microsoft&#39;s RDBMS, not Oracle&#39;s."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 0, "creation_date": 1502329781, "post_id": 45599889, "comment_id": 78165663, "body": "In my experience, the hardest part of this by far is the non-perl part: installing the Oracle client library. I had to tell the library how to connect using an obscure configuration file and reference that configuration in the DBI connect string, instead of passing the hostname and port directly from the perl script like I wanted to. <code>DBD::Oracle</code> was so hard to build I ended up routing the thing through <code>DBD::ODBC</code> instead (which involves <i>even more</i> configuration far removed from the perl script). Oh how I wished for <code>DBD::Oracle::PurePerl</code>"}, {"owner": {"reputation": 45031, "user_id": 213136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b84a36c241e04175fcec402dac43018?s=128&d=identicon&r=PG", "display_name": "Bob Jarvis - Reinstate Monica", "link": "https://stackoverflow.com/users/213136/bob-jarvis-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1502335431, "post_id": 45599889, "comment_id": 78167047, "body": "Oracle and Microsoft SQL Server are two different database products. Which one are you using?"}, {"owner": {"reputation": 406, "user_id": 1879794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hOga3.jpg?s=128&g=1", "display_name": "MrCleanX", "link": "https://stackoverflow.com/users/1879794/mrcleanx"}, "edited": false, "score": 1, "creation_date": 1502485219, "post_id": 45599889, "comment_id": 78246749, "body": "Just out of curiosity, what OS are you trying to connect from?"}, {"owner": {"reputation": 111, "user_id": 7290595, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/69adf504b3796317a47cf7d956b44f7a?s=128&d=identicon&r=PG&f=1", "display_name": "kieran_mol", "link": "https://stackoverflow.com/users/7290595/kieran-mol"}, "reply_to_user": {"reputation": 406, "user_id": 1879794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hOga3.jpg?s=128&g=1", "display_name": "MrCleanX", "link": "https://stackoverflow.com/users/1879794/mrcleanx"}, "edited": false, "score": 0, "creation_date": 1502613329, "post_id": 45599889, "comment_id": 78275084, "body": "@MrCleanX - windows"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 7290595, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/69adf504b3796317a47cf7d956b44f7a?s=128&d=identicon&r=PG&f=1", "display_name": "kieran_mol", "link": "https://stackoverflow.com/users/7290595/kieran-mol"}, "edited": false, "score": 0, "creation_date": 1502387632, "post_id": 45602914, "comment_id": 78200443, "body": "Thanks Kirby. I am getting message when I run this perl script from the command-line &quot;Can&#39;t locate object method &quot;connect&quot; via package &quot;DBI&quot; (perhaps you forgot to load &quot;DBI&quot;?) at main.pl line 8.&quot; Any idea how to resolve? thanks"}, {"owner": {"reputation": 674, "user_id": 1433838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed734dcf0094f7262b54c767d84ecbc?s=128&d=identicon&r=PG", "display_name": "Kirby", "link": "https://stackoverflow.com/users/1433838/kirby"}, "reply_to_user": {"reputation": 111, "user_id": 7290595, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/69adf504b3796317a47cf7d956b44f7a?s=128&d=identicon&r=PG&f=1", "display_name": "kieran_mol", "link": "https://stackoverflow.com/users/7290595/kieran-mol"}, "edited": false, "score": 0, "creation_date": 1502393525, "post_id": 45602914, "comment_id": 78203720, "body": "I neglected to include the <code>use DBI;</code> line. Please see the updated answer. Also bear in mind that my answer assumes that you already have installed Oracle client libraries and Perl module DBD::Oracle."}, {"owner": {"reputation": 111, "user_id": 7290595, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/69adf504b3796317a47cf7d956b44f7a?s=128&d=identicon&r=PG&f=1", "display_name": "kieran_mol", "link": "https://stackoverflow.com/users/7290595/kieran-mol"}, "edited": false, "score": 0, "creation_date": 1502479631, "post_id": 45602914, "comment_id": 78244505, "body": "no i didn&#39;t download any of that stuff... how do i do that?  thanks"}], "tags": [], "owner": {"reputation": 674, "user_id": 1433838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed734dcf0094f7262b54c767d84ecbc?s=128&d=identicon&r=PG", "display_name": "Kirby", "link": "https://stackoverflow.com/users/1433838/kirby"}, "is_accepted": false, "score": 1, "last_activity_date": 1502393326, "last_edit_date": 1502393326, "creation_date": 1502327431, "answer_id": 45602914, "question_id": 45599889, "link": "https://stackoverflow.com/questions/45599889/how-to-connect-to-sql-server-using-perl/45602914#45602914", "title": "How to connect to SQL Server using Perl", "body": "<p>Below is some sample code to get you connected to <strong>Oracle</strong> using the Perl DBI module. Adjust database name, username, and password as necessary.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse DBI;\n\nmy $dbName = 'mydb';\nmy $username = 'username';\nmy $password = 'password';\nmy $options =  { RaiseError =&gt; 1 };\nmy $dbh = DBI-&gt;connect(\"dbi:Oracle:${dbName}\", $username, $password, $options);\n</code></pre>\n\n<p><code>$dbh</code> is a database handle that you can use to execute all the queries that you like. See the <a href=\"http://search.cpan.org/~timb/DBI-1.636/DBI.pm\" rel=\"nofollow noreferrer\">DBI documentation page</a> at CPAN for a concise description of the methods available.</p>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 0, "last_activity_date": 1502345758, "creation_date": 1502345758, "answer_id": 45605802, "question_id": 45599889, "link": "https://stackoverflow.com/questions/45599889/how-to-connect-to-sql-server-using-perl/45605802#45605802", "title": "How to connect to SQL Server using Perl", "body": "<p>First you should be aware of <a href=\"http://www.orafaq.com/wiki/Tnsnames.ora\" rel=\"nofollow noreferrer\">TNSNAMES.ORA</a> file, which has predefined connections in form of </p>\n\n<pre><code>ORA11 =\n (DESCRIPTION = \n   (ADDRESS_LIST =\n     (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.1.0)(PORT = 1521))\n   )\n (CONNECT_DATA =\n   (SERVICE_NAME = ORA12)\n )\n)\n</code></pre>\n\n<p>(check for above connection on server host if you happen to be on different machine)</p>\n\n<p>Now you can use <code>ORA11</code> as db name</p>\n\n<pre><code>  my $DB = DBI-&gt;connect(\n    \"dbi:Oracle:\",\n    \"USER/PASSWORD\\@ORA11\",\n    \"\",\n    {\n      # ChopBlanks =&gt; 1,\n      # AutoCommit =&gt; 0,\n    },\n  );\n</code></pre>\n\n<p>or use complete connection string instead of <code>ORA11</code>:</p>\n\n<pre><code>\"USER/PASSWORD\\@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.1.0)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=ORA12)))\"\n</code></pre>\n\n<p>More connection options can be found in <a href=\"https://metacpan.org/pod/DBD::Oracle\" rel=\"nofollow noreferrer\">DBD::Oracle</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8687234, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ae9l2Wi--4c/AAAAAAAAAAI/AAAAAAAAAoA/gi9C1BDwQG8/photo.jpg?sz=128", "display_name": "Dean Philips", "link": "https://stackoverflow.com/users/8687234/dean-philips"}, "is_accepted": false, "score": 0, "last_activity_date": 1506575082, "creation_date": 1506575082, "answer_id": 46461321, "question_id": 45599889, "link": "https://stackoverflow.com/questions/45599889/how-to-connect-to-sql-server-using-perl/46461321#46461321", "title": "How to connect to SQL Server using Perl", "body": "<p>I have a few dozen scripts that perform <strong>Oracle</strong>, <strong>Sybase</strong>, and <strong>MS SQL</strong> queries; even some scripts that perform queries on multiple databases and combine results, or build a query for one database based on result of a prior query ... but after many days of trying to get Perl libraries to play well.</p>\n\n<p>For those of us that are real hacks, we start by using the Oracle SQL command-line client <strong>sqlplus.exe</strong>, which makes this approach easy, but far from pretty:</p>\n\n<pre><code>my $run_sql = 'sqlplus.exe -s DBuser/DBpwd@DBname &lt; SQLfile.sql';\nmy $SQLfile = \"temp.sql\"; \n\nsub GET_EMP_LIST\n{\n  my $status = $_[0];\n  my $sql_text = \"\n  set linesize 150\n  set pagesize 0\n  set numf 99999999999\n  set feedback off\n  SELECT  \n    EMP.FIRST          || ',' ||\n    EMP.LAST           || ',' ||\n    EMP.PHONE          || ',' ||\n    EMP.SALARY\n  FROM \n    PERSONNEL.EMPLOYEES  EMP\n  WHERE\n    (EMP.STATUS = '$status')\n  \\;\";\n\n  open (SQL, $FileOpenWrite, \"$SQLfile\");\n  print SQL $sql_text;\n  close (SQL_TEXT);\n  my @Results = \"$run_SQL\";\n  unlink $SQLfile;\n  return @Results;\n}\n\n#MAIN\n\n@Employees = GET_EMP_LIST \"Active\";\nfor (@Employees)\n{\n  my $temp = chomp $_;\n  $temp =~ s/\\s+//g;        #get rid of white spaces\n  my ($FIRST, $LAST, $PHONE, $SALARY) = split /,/, $temp;\n\n  .... do something with it ....\n}\n</code></pre>\n\n<p>Like I say, far from pretty, but quick and easy, and using SQL query tools, like TOAD, you can generate the SQL in a drag &amp; drop program before you integrate into your script.</p>\n\n<p>I know many folks will say this is a terrible solution, but we pull in data that includes hundreds of thousands of lines of data.</p>\n"}], "owner": {"reputation": 111, "user_id": 7290595, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/69adf504b3796317a47cf7d956b44f7a?s=128&d=identicon&r=PG&f=1", "display_name": "kieran_mol", "link": "https://stackoverflow.com/users/7290595/kieran-mol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1506575082, "creation_date": 1502309750, "last_edit_date": 1502343124, "question_id": 45599889, "link": "https://stackoverflow.com/questions/45599889/how-to-connect-to-sql-server-using-perl", "title": "How to connect to SQL Server using Perl", "body": "<p>I am new to Perl and am trying to create a script that connects to my Oracle SQL Server database and returns the results of a table query via email. I am having trouble with the database connection part. Any ideas where I should start? Any example code would be greatly appreciated. Thanks, </p>\n"}, {"tags": ["multithreading", "bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502309312, "post_id": 45599177, "comment_id": 78158951, "body": "Backticks wait for the child&#39;s STDOUT to be closed, so it only returns after the background program exits (unless you redirect the background program&#39;s STDOUT)."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1502310154, "post_id": 45599177, "comment_id": 78159352, "body": "Running <code>sh -c &#39;&#47;bin&#47;bash sleep_for_10_sec.bash &amp;&#39;</code> (as a <code>system()</code> invocation does) seems silly -- why launch two shells vs one?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1502310275, "post_id": 45599177, "comment_id": 78159420, "body": "@Charles Duffy, Because you said it&#39;s a <code>bash</code> script."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502312275, "post_id": 45599177, "comment_id": 78160378, "body": "@ikegami, I&#39;m not the OP. That said -- Perl doesn&#39;t provide a way to directly invoke the interpreter you want? (In Python, for instance, I can directly <code>subprocess.Popen([&#39;bash&#39;, &#39;sleep_for_10_sc.bash&#39;])</code>, and as long as I don&#39;t pass <code>shell=True</code> there&#39;s no implicit <code>sh -c</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1502313960, "post_id": 45599177, "comment_id": 78161086, "body": "@Charles Duffy, That python code is not equivalent. You forgot to account for the <code>&amp;</code>. Now, mob could have written <code>system(&quot;&#47;bin&#47;bash -c &#39;sleep_for_10_sec.bash &amp;&#39;&quot;);</code> in which case the shell could have been avoid uses <code>system(&#39;bash&#39;, &#39;c&#39;, &#39;sleep_for_10_sec.bash &amp;&#39;)</code> This still creates two shells, though, both of them <code>bash</code>."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502314066, "post_id": 45599177, "comment_id": 78161133, "body": "@ikegami, given as creating a <code>Popen</code> object doesn&#39;t <code>wait()</code> for the invoked command to exit (and thus runs it in the background, just as the OP here wishes to), other than the obvious typo, I don&#39;t very well see how it isn&#39;t."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502314092, "post_id": 45599177, "comment_id": 78161144, "body": "That is the difference. <code>system</code> does <code>wait</code>"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1502314144, "post_id": 45599177, "comment_id": 78161164, "body": "Right, but <code>system()</code> with a <code>&amp;</code> in the text creates a subprocess for the thing we actually <i>want</i> to run, making the effective behavior equivalent to something that <i>doesn&#39;t</i> wait."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1502314348, "post_id": 45599177, "comment_id": 78161272, "body": "@Charles Duffy, Your Python code is NOT equivalent to code that doesn&#39;t have to wait, because it does have to wait."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1502314373, "post_id": 45599177, "comment_id": 78161281, "body": "&quot;It does have to wait&quot; -- could you explain the basis for that claim?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1502314406, "post_id": 45599177, "comment_id": 78161296, "body": "Sure, <i>if</i> the interpreter doesn&#39;t have a reasonable SIGCHILD handler."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502314431, "post_id": 45599177, "comment_id": 78161309, "body": "Ug, adding a signal handler just compounds the problem! Now, you don&#39;t need to just wait, you have to worry about interrupted operations too!"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1502314453, "post_id": 45599177, "comment_id": 78161321, "body": "That waits <i>in a non-blocking mode</i>. (I misread you as referring to the blocking version of the call above; now this thread makes more sense)."}, {"owner": {"reputation": 23, "user_id": 8441087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/885de7ffc49e42a4ae49f72cec57bf49?s=128&d=identicon&r=PG&f=1", "display_name": "armstrove", "link": "https://stackoverflow.com/users/8441087/armstrove"}, "edited": false, "score": 0, "creation_date": 1502371448, "post_id": 45599177, "comment_id": 78188595, "body": "@mob, #case 3 worked perfectly, thanks, and also thank you for detailed explanation I will never combine those two again."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1502309705, "last_edit_date": 1502309705, "creation_date": 1502307039, "answer_id": 45599177, "question_id": 45598358, "link": "https://stackoverflow.com/questions/45598358/run-bash-scripts-from-perl-threads/45599177#45599177", "title": "Run bash scripts from Perl threads", "body": "<p><code>exec</code> shouldn't be combined with threads. <code>exec</code> launches a new program within the current process, so when you call <code>exec</code> from one thread, the program the threads were executing disappears. Since the threads would have no program to execute, <code>exec</code> kills the threads as well.</p>\n\n<p>It's not clear to me why case 2 doesn't work (edit: see ikegami's comment below). I would think it would launch the process, run it in the background, and allow the Perl thread to immediately continue. It doesn't seem to do that, but this code will:</p>\n\n<pre><code>system(\"/bin/bash sleep_for_10_sec.bash &amp;\");        # case 3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 8441087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/885de7ffc49e42a4ae49f72cec57bf49?s=128&d=identicon&r=PG&f=1", "display_name": "armstrove", "link": "https://stackoverflow.com/users/8441087/armstrove"}, "edited": false, "score": 0, "creation_date": 1502402025, "post_id": 45600215, "comment_id": 78207639, "body": "Thank you for thorough explanation. I finally get how exec works( I hope :)). #case 3 suggested by @mob works perfectly. Anyway your answer was very informative, I appreciate it very much, thanks again."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 23, "user_id": 8441087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/885de7ffc49e42a4ae49f72cec57bf49?s=128&d=identicon&r=PG&f=1", "display_name": "armstrove", "link": "https://stackoverflow.com/users/8441087/armstrove"}, "edited": false, "score": 0, "creation_date": 1502421299, "post_id": 45600215, "comment_id": 78212230, "body": "That&#39;s an awful choice!!!!! If you&#39;re ok with case #3, then you should use the first snippet I posted instead. It&#39;s only half the lines (23 instead of 50), and it completely avoids the complexity of using threads (which are completely useless to you)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1502311317, "last_edit_date": 1502311317, "creation_date": 1502310987, "answer_id": 45600215, "question_id": 45598358, "link": "https://stackoverflow.com/questions/45598358/run-bash-scripts-from-perl-threads/45600215#45600215", "title": "Run bash scripts from Perl threads", "body": "<blockquote>\n  <p><em><code>exec(\"/bin/bash\",\"sleep_for_10_sec.bash\") or die(\"Can't exec\");   # case 1</code></em></p>\n</blockquote>\n\n<p><code>exec</code> replaces the program running in the current process with another program. At the same time, the existing threads are terminated (since the program they want to execute is no longer there), replaced with a single thread executing the new program.</p>\n\n<p>This means that <code>exec</code> never returns (except on error). Threads or no threads, <code>exec</code> is not what you want, because you don't want your program to stop running.</p>\n\n<hr>\n\n<blockquote>\n  <p><em>But I expect something like this:</em></p>\n</blockquote>\n\n<p>Are you sure you want to launch <code>sleep_for_10_sec.bash</code> 4 times every two seconds (meaning you can have up to 20 of them running at a time) as your desired output indicates?</p>\n\n<p>Are you sure you don't care if <code>sleep_for_10_sec.bash</code> completes or not as your desired output indicates?</p>\n\n<p>If so, why are you using threads at all? You could simply use the following:</p>\n\n<pre><code>sub start {\n   my $num = shift;\n   say \"Proc $num Started\";\n   system('bash -c sleep_for_10_sec.bash &amp;');\n   say \"Proc $num Finished\";\n}\n\nfor my $pass (1..2) {\n   start($_) for 1..4;\n   sleep 2;\n   start($_) for 1..4;\n   sleep 2;\n   start($_) for 1..4;\n   sleep 1;\n   if ($pass == 1) {\n      say \"CHECK:\";\n   } else {\n      say \"CHECK: procedure $_ has finished\" for 1..4;\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>I think you want</p>\n\n<pre><code>use threads;\n\nuse Thread::Queue qw( );  # 3.01+\n\nuse constant NUM_WORKERS =&gt; 4;\n\nsub worker {\n    my $num = shift;\n    say \"Job $num Started\\n\";\n    system(\"sleep_for_10_sec.bash\");  # Make sure starts with #! and is executable.\n    say \"Job $num Finished\\n\";\n}\n\n{\n   my $q = Thread::Queue-&gt;new();\n\n   for (1..NUM_WORKERS) {\n      while (defined( my $job = $q-&gt;dequeue() )) {\n         worker($job);\n      }\n   }    \n\n   $q-&gt;enqueue(1..4, 1..4);\n\n   $q-&gt;end();\n   $_-&gt;join() for threads-&gt;list;\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8441087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/885de7ffc49e42a4ae49f72cec57bf49?s=128&d=identicon&r=PG&f=1", "display_name": "armstrove", "link": "https://stackoverflow.com/users/8441087/armstrove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 45599177, "answer_count": 2, "score": 2, "last_activity_date": 1502311317, "creation_date": 1502304050, "last_edit_date": 1502309150, "question_id": 45598358, "link": "https://stackoverflow.com/questions/45598358/run-bash-scripts-from-perl-threads", "title": "Run bash scripts from Perl threads", "body": "<p>My script should have n subroutines (<strong>my_proc</strong>) to run simultaneously, each of them runs bash script and one sub (<strong>check_procs</strong>) checks if subs has finished.</p>\n\n<pre><code>use strict;\nuse threads;\nuse threads::shared;\n\nmy %proc_status :shared;\nmy %thr;\n\nforeach my $i (1,2,3,4) {\n    $proc_status{$i}=0;\n}\n\nsub my_proc {\n    my $arg=shift(@_);\n    while (1) {\n         sleep(2);\n         print \"Proc $arg Started\\n\";\n         #exec(\"/bin/bash\",\"sleep_for_10_sec.bash\") or die(\"Can't exec\");   # case 1\n         #`sleep_for_10_sec.bash &amp;`;                                        # case 2      \n\n         print \"Proc $arg Finished\\n\";\n         {\n         lock(%proc_status);\n         $proc_status{$arg}=1;\n         }\n    }\n}\n\nsub check_procs {\n    my $all_finished;\n    while (! $all_finished) {\n            sleep 5;\n            print \"CHECK: \\n\";\n            $all_finished=1;\n            foreach my $num (1,2,3,4) {\n                    if ($proc_status{$num} == 1) {\n                            print \"CHECK: procedure $num has finished\\n\";\n                    } else {\n                        $all_finished=0;\n                    }\n            }\n    }\n    print \"All jobs finished\\n\";\n}\n\nforeach my $num (1,2,3,4) {\n    $thr{\"$num\"} = new threads \\&amp;my_proc,$num;\n}\n\nmy $thr_check= new threads \\&amp;check_procs;\n$thr_check-&gt;join();\n</code></pre>\n\n<p>And here are the sleep_for_10_sec.bash</p>\n\n<pre><code>ls\n# bunch of other stuff \nsleep 10\necho \"finished sleep\"\n</code></pre>\n\n<p>I don't want <strong>my_proc</strong> subs to wait \"sleep_for_10_sec.bash\" command to be executed, after browsing I have found that either <strong>#case1</strong> or <strong>#case2</strong> should work, but they both fail.</p>\n\n<p>the output of #case1:</p>\n\n<pre><code> Proc 1 Started\n [ls result]\n finsihed sleep\n</code></pre>\n\n<p>the output of #case2:</p>\n\n<pre><code>Proc 1 Started\nProc 2 Started\nProc 3 Started\nProc 4 Started\nCHECK:\nCHECK:\nProc 4 Finished\nProc 2 Finished\nProc 3 Finished\nProc 1 Finished\nProc 3 Started\nProc 1 Started\nProc 2 Started\nProc 4 Started\nCHECK:\nCHECK: procedure 1 has finished\nCHECK: procedure 2 has finished\nCHECK: procedure 3 has finished\nCHECK: procedure 4 has finished\n</code></pre>\n\n<p>But I expect something like this :</p>\n\n<pre><code> Proc 1 Started\n Proc 2 Started\n Proc 3 Started\n Proc 4 Started\n Proc 1 Finished\n Proc 1 Started\n Proc 3 Finished\n Proc 3 Started\n Proc 4 Finished\n Proc 4 Started\n Proc 2 Finished\n Proc 2 Started\n CHECK:\n CHECK:\n CHECK:\n CHECK: procedure 1 has finished\n CHECK: procedure 2 has finished\n CHECK: procedure 3 has finished\n CHECK: procedure 4 has finished\n</code></pre>\n\n<p>Actually I get wanted result in case of redirecting output to \" > log\", but anyway after:</p>\n\n<pre><code> Proc 1 Started\n Proc 2 Started\n Proc 3 Started\n Proc 4 Started\n</code></pre>\n\n<p>it waits \"sleep_for_10_sec.bash\" to finish.</p>\n\n<p>This is my first project where I use \"thread\" and \"exec\", could someone help me on this ? </p>\n"}, {"tags": ["perl", "hashtable"], "answers": [{"comments": [{"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "edited": false, "score": 0, "creation_date": 1502306197, "post_id": 45598021, "comment_id": 78157397, "body": "Actually I was trying to avoid <code>autovification</code> but I am probably confused about that. When is that bad?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "edited": false, "score": 1, "creation_date": 1502306687, "post_id": 45598021, "comment_id": 78157646, "body": "@Jim  It&#39;s (potentially and probably) bad when you <i>look up</i> (or use) non-existing nested keys/values.  Like <code>if ($rh{no_key}{other})</code> -- since it then creates the whole structure (in order to be able to look up that last part which is being checked), what one presumably doesn&#39;t want.  But in this case you <i>assign</i> to that key, so you <i>are</i> doing by hand what autovivification does, as Sinan&#39;s post says."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "edited": false, "score": 1, "creation_date": 1502306926, "post_id": 45598021, "comment_id": 78157780, "body": "@Jim To suppress this see <a href=\"http://search.cpan.org/~vpit/autovivification-0.17/lib/autovivification.pm\" rel=\"nofollow noreferrer\">autovivification</a> module (pragma).  But please read up on it."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 5, "last_activity_date": 1502302846, "creation_date": 1502302846, "answer_id": 45598021, "question_id": 45597730, "link": "https://stackoverflow.com/questions/45597730/in-perl-how-should-i-populate-this-multilevel-hash/45598021#45598021", "title": "In Perl, how should I populate this multilevel hash?", "body": "<p>See <a href=\"https://www.effectiveperlprogramming.com/2011/04/understand-autovivification/\" rel=\"noreferrer\">autovivification</a> in <a href=\"https://perldoc.perl.org/perlreftut.html\" rel=\"noreferrer\">perldoc perlreftut</a>.</p>\n\n<pre><code>$customer_data{$customer_id}{$salesperson_name}{$timestamp} = 1;\n</code></pre>\n\n<p>is sufficient.</p>\n\n<p>Also, you probably do not want gendered variable names.</p>\n"}], "owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 45598021, "answer_count": 1, "score": 0, "last_activity_date": 1502303043, "creation_date": 1502301841, "last_edit_date": 1502303043, "question_id": 45597730, "link": "https://stackoverflow.com/questions/45597730/in-perl-how-should-i-populate-this-multilevel-hash", "title": "In Perl, how should I populate this multilevel hash?", "body": "<p>I am trying to find Perl's best approach for populating a multilevel hash taking into account missing keys.<br>\nSo I am using this:  </p>\n\n<pre><code>if( !exists $customer_data{$customer_id} ) {  \n     $customer_data{$customer_id} = {};    \n}    \n$customer_data{$customer_id}-&gt;{$salesman_name} //={};\n$customer_data{$customer_id}-&gt;{$salesman_name}-&gt;{$timestamp} = 1;   \n</code></pre>\n\n<p>Which is weird because I am using <code>exists</code> and the <code>//=</code> thingy but I am not sure how I can write this code properly and succinctly.<br>\nResult is something like:  </p>\n\n<pre><code>'1000' =&gt; {                                                                                             \n    'jsmith' =&gt; {                                                                              \n         1502121730 =&gt; 1,                                                           \n         1512321730 =&gt; 1                                                        \n     }                                                                              \n} \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1502301188, "post_id": 45597423, "comment_id": 78154553, "body": "The <code>terminate</code> function must be defined somewhere in this code, i.e. it is not a standard Perl function. <code>unless</code> means <code>if not</code>. Essentially this means that <code>terminate</code> will be called if <code>Spreadsheet::WriteExcel-&gt;new</code> failed. As for documentation: there are many many Perl books or online introductions out there."}], "answers": [{"comments": [{"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1502303810, "post_id": 45597772, "comment_id": 78156049, "body": "Thanks a ton Sinan!  That helps a lot."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1502302025, "creation_date": 1502302025, "answer_id": 45597772, "question_id": 45597423, "link": "https://stackoverflow.com/questions/45597423/terminate-function-in-perl-with-unless/45597772#45597772", "title": "Terminate function in Perl with unless", "body": "<p>The code is equivalent to:</p>\n\n<pre><code>my $workbook;\n$workbook = Spreadsheet::WriteExcel-&gt;new($outputfile);\n\nif (!defined($workbook)) {\n    terminate(\"Problems creating new Excel file: $!\", 'BATCH_CRITICAL');\n}\n</code></pre>\n\n<p><a href=\"https://metacpan.org/pod/Spreadsheet::WriteExcel#new()\" rel=\"nofollow noreferrer\"><code>Spreadsheet::WriteExcel-&gt;new</code></a> returns <code>undef</code> if it fails as noted in the documentation:</p>\n\n<blockquote>\n  <p>If the file cannot be created, due to file permissions or some other reason, new will return <code>undef</code>. Therefore, it is good practice to check the return value of new before proceeding. As usual the Perl variable <code>$!</code> will be set if there is a file creation error.</p>\n</blockquote>\n\n<p>The <code>terminate</code> function is not a Perl built-in. It must be part of the code base you are studying. From what I can tell, it provides a common point for logging the errors encountered.</p>\n\n<p>If you are having problems with this, you are not at a point you should be diving head first into complicated programs. Better to get a <a href=\"http://shop.oreilly.com/product/0636920049517.do\" rel=\"nofollow noreferrer\">good book</a> and learn the basics first.</p>\n"}], "owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 45597772, "answer_count": 1, "score": -1, "last_activity_date": 1506974540, "creation_date": 1502300722, "last_edit_date": 1506974540, "question_id": 45597423, "link": "https://stackoverflow.com/questions/45597423/terminate-function-in-perl-with-unless", "title": "Terminate function in Perl with unless", "body": "<p>What does the following mean in Perl?</p>\n\n<pre><code> my $workbook;\n $workbook = Spreadsheet::WriteExcel-&gt;new($outputfile);\n terminate(\"Problems creating new Excel file: $!\", 'BATCH_CRITICAL') unless defined $workbook;\n</code></pre>\n\n<p>I have just started learning Perl so I can understand the first two lines, just having trouble to understand the 3rd line with terminate function. What do the <code>terminate</code> function and <code>unless defined</code> do here?</p>\n\n<p>Is there any document or page link where I can read about terminate function with unless defined condition?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502301568, "post_id": 45597254, "comment_id": 78154774, "body": "Re &quot;<i>cut the content after <code>export PATH=$PATH</code></i>&quot; ... does this really mean &quot;after <b>the line</b> <code>export ..</code>&quot; ?  (What my answer does -- it swaps that whole line with what follows it)"}, {"owner": {"reputation": 3631, "user_id": 223963, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e60951bafe8df698109fa59f587eead2?s=128&d=identicon&r=PG", "display_name": "Ari", "link": "https://stackoverflow.com/users/223963/ari"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502302220, "post_id": 45597254, "comment_id": 78155115, "body": "@zdim: I mean starting with subsequent line, i.e. <code>export BREW_HOME...</code> Essentially, I want to cut everything <b>between</b> the lines <code>export PATH=$PATH</code> and <code># THIS LINE IS LAST!</code> and paste that content <b>before</b> <code>export PATH=$PATH</code>. Does that help clarify intent?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502302279, "post_id": 45597254, "comment_id": 78155157, "body": "Yes, that&#39;s how I took it.  Fixed my answer, to account for that tricky empty line which shouldn&#39;t move :)"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 0, "creation_date": 1502302498, "post_id": 45597361, "comment_id": 78155289, "body": "@Miller  Thank you for comments"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1503291905, "last_edit_date": 1503291905, "creation_date": 1502300542, "answer_id": 45597361, "question_id": 45597254, "link": "https://stackoverflow.com/questions/45597254/perl-regex-cut-and-paste/45597361#45597361", "title": "Perl Regex: Cut and Paste", "body": "<p>To match across multiple lines you need to have the whole file in a scalar</p>\n\n<pre><code>perl -0777 -pe's/(export PATH.*?\\n)(.*?)(?=\\n?# THIS IS LAST)/$2$1/s' input.txt\n</code></pre>\n\n<p>where <a href=\"http://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\">-0777</a> enables \"slurp\" mode, and <code>(?=...)</code> is a <a href=\"http://perldoc.perl.org/perlretut.html#Looking-ahead-and-looking-behind\" rel=\"nofollow noreferrer\">positive lookahead</a>.</p>\n\n<p>The <code>\\n?</code> is in the lookahead to include the optional empty line that shouldn't be consumed, since that line shouldn't be moved. Then the previous pattern need be non-greedy, too. This protects a single preceding empty line, any others are matched and swapped.</p>\n"}], "owner": {"reputation": 3631, "user_id": 223963, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e60951bafe8df698109fa59f587eead2?s=128&d=identicon&r=PG", "display_name": "Ari", "link": "https://stackoverflow.com/users/223963/ari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 45597361, "answer_count": 1, "score": 1, "last_activity_date": 1503291905, "creation_date": 1502300198, "last_edit_date": 1502301431, "question_id": 45597254, "link": "https://stackoverflow.com/questions/45597254/perl-regex-cut-and-paste", "title": "Perl Regex: Cut and Paste", "body": "<p>I'm attempting to use perl to edit a file, essentially to cut and paste content within the file. However, it appears I've incorrectly constructed the regex. I'd appreciate help in sorting it out. The substitution command <em>should</em> cut cut the content after <code>export PATH=$PATH</code> up to but <em>not</em> including <code># THIS IS LAST</code>, and paste that content before <code>export PATH=$PATH</code></p>\n\n<p>Perl Command:\n<code>perl -i -pe 's;(export PATH.*\\n)(.*)(\\# THIS IS LAST!\\n);$2$1$3;' bashrc</code></p>\n\n<p>Current bashrc: </p>\n\n<pre><code>export TERM=xterm\nexport PATH=$PATH\nexport BREW_HOME=/home/dev/.linuxbrew \nexport ANACONDA_HOME=/home/dev/.anaconda3\n\n# THIS IS LAST! \n</code></pre>\n\n<p>Desired bashrc:</p>\n\n<pre><code>export TERM=xterm \nexport BREW_HOME=/home/dev/.linuxbrew \nexport ANACONDA_HOME=/home/dev/.anaconda3\nexport PATH=$PATH\n\n# THIS IS LAST!\n</code></pre>\n"}, {"tags": ["perl", "jupyter-notebook", "ipython-notebook"], "comments": [{"owner": {"reputation": 2260, "user_id": 5687152, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/J754G.jpg?s=128&g=1", "display_name": "mabe02", "link": "https://stackoverflow.com/users/5687152/mabe02"}, "edited": false, "score": 0, "creation_date": 1506349725, "post_id": 45594908, "comment_id": 79772914, "body": "It seems that you can install additional kernels to jupyter: <a href=\"https://ipython.readthedocs.io/en/latest/install/kernel_install.html\" rel=\"nofollow noreferrer\">ipython.readthedocs.io/en/latest/install/kernel_install.html</a>"}, {"owner": {"reputation": 332, "user_id": 3837810, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/iPa6K.jpg?s=128&g=1", "display_name": "Primo Petri", "link": "https://stackoverflow.com/users/3837810/primo-petri"}, "edited": false, "score": 0, "creation_date": 1531807653, "post_id": 45594908, "comment_id": 89719928, "body": "@Malj90 Any progress?"}, {"owner": {"reputation": 81, "user_id": 7143049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7237e0686600a922123110388defe968?s=128&d=identicon&r=PG&f=1", "display_name": "Malj90", "link": "https://stackoverflow.com/users/7143049/malj90"}, "reply_to_user": {"reputation": 332, "user_id": 3837810, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/iPa6K.jpg?s=128&g=1", "display_name": "Primo Petri", "link": "https://stackoverflow.com/users/3837810/primo-petri"}, "edited": false, "score": 0, "creation_date": 1534864194, "post_id": 45594908, "comment_id": 90853657, "body": "@PrimoPetri no. It was just to learn, but now I did not have much time to search more."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 7633350, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c65-gQrbxMI/AAAAAAAAAAI/AAAAAAAAd60/NN0Apjg3AnA/photo.jpg?sz=128", "display_name": "Alexandr Sudakov", "link": "https://stackoverflow.com/users/7633350/alexandr-sudakov"}, "is_accepted": false, "score": 3, "last_activity_date": 1618465220, "last_edit_date": 1618465220, "creation_date": 1554448711, "answer_id": 55530134, "question_id": 45594908, "link": "https://stackoverflow.com/questions/45594908/install-perl-in-jupyter-notebook-on-ubuntu-16-04lts/55530134#55530134", "title": "Install Perl in Jupyter notebook on Ubuntu 16.04LTS", "body": "<p>You can check real documentation for Devel::IPerl module <a href=\"https://github.com/EntropyOrg/p5-Devel-IPerl\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I could install it in my docker with Ubuntu, where I've installed the default Jupyter previously.</p>\n<p>For IPerl I installed:</p>\n<pre><code>$ sudo apt install libzmq3-dev\n$ sudo apt install cpanminus \n$ export ARCHFLAGS='-arch x86_64'\n$ cpanm --build-args 'OTHERLDFLAGS=' ZMQ::LibZMQ3\n$ cpanm Devel::IPerl\n</code></pre>\n<p>After this, both the console and the notebook worked for me (I start it as described in the doc):</p>\n<pre><code># iperl console\nJupyter console 5.2.0\n\nIPerl!\n\n\nIn [1]: print &quot;hello world!&quot;\nhello world!Out[1]: 1\n\nIn [2]: sub pow { $_[0]**$_[1] }\n\nIn [3]: pow(2,3)\nOut[3]: 8\n\nIn [4]: pow(3,2)\nOut[4]: 9\n</code></pre>\n<p>&quot;Hello world&quot; in IPerl jupyter:</p>\n<p><a href=\"https://i.stack.imgur.com/jEzjD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jEzjD.png\" alt=\"screen shot with opened IPerl notebook\" /></a></p>\n<p>I've recently started to investigate IPerl for Jupyter, but it works really good so far.</p>\n"}], "owner": {"reputation": 81, "user_id": 7143049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7237e0686600a922123110388defe968?s=128&d=identicon&r=PG&f=1", "display_name": "Malj90", "link": "https://stackoverflow.com/users/7143049/malj90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2903, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1618465220, "creation_date": 1502292574, "last_edit_date": 1502300293, "question_id": 45594908, "link": "https://stackoverflow.com/questions/45594908/install-perl-in-jupyter-notebook-on-ubuntu-16-04lts", "title": "Install Perl in Jupyter notebook on Ubuntu 16.04LTS", "body": "<p>Sorry if the question is too obvious.</p>\n\n<p>I'm having problems with the installation of Iperl from</p>\n\n<p><a href=\"https://github.com/EntropyOrg/p5-Devel-IPerl.git\" rel=\"nofollow noreferrer\">https://github.com/EntropyOrg/p5-Devel-IPerl.git</a></p>\n\n<p>I know that anyway Jupyter has the option to run Perl code through %%perl but it could be annoying to add this to every cell.</p>\n\n<p>The steps that I followed where the next:</p>\n\n<p>-First I installed Perl</p>\n\n<pre><code>sudo apt-get install perl\n</code></pre>\n\n<p>-next, I followed the steps that they provide:</p>\n\n<pre><code>sudo apt-get install libzmq3-dev ipython ipython-notebook libmagic-dev\ngit clone https://github.com/EntropyOrg/p5-Devel-IPerl.git\n\ncd p5-Devel-IPerl\ndzil build \n</code></pre>\n\n<p>(I did this step before discover that I have to run <code>cpanm --installdeps .</code> inside <code>/home/User/p5-Devel-IPerl</code>to install dependencies required)</p>\n\n<pre><code>cpanm --installdeps .\n\n./bin/iperl console  # start the console\n\n./bin/iperl notebook # start the notebook --&gt; These commands doesn't work because my Ipython notebooks are located in Anaconda2\n</code></pre>\n\n<p>My questions are:</p>\n\n<p>When I follow these instructions, the installation I guess is done outside of Anaconda2 and maybe because of that, it doesn't appear in the notebook.</p>\n\n<p>How to do it to include it inside of Anaconda2?</p>\n\n<p>If it is not possible, how to run it at least in a parallel notebook outside of <code>Anaconda2</code> parent folder?</p>\n\n<p>Thank you a lot for any advice.</p>\n"}, {"tags": ["perl", "session"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1502292959, "post_id": 45593540, "comment_id": 78149653, "body": "This is definitely not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - all this code does is create a session and then deletes it."}, {"owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1502294172, "post_id": 45593540, "comment_id": 78150469, "body": "I want it to delete once the session expires."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502296684, "post_id": 45595480, "comment_id": 78151970, "body": "How does this answer &quot;<i>Can someone help me to delete the session once it expires?</i>&quot;"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1502294642, "last_edit_date": 1592644375, "creation_date": 1502294180, "answer_id": 45595480, "question_id": 45593540, "link": "https://stackoverflow.com/questions/45593540/how-to-delete-a-session-in-cgi-perl/45595480#45595480", "title": "How to delete a session in cgi-perl?", "body": "<p>As <a href=\"https://metacpan.org/pod/CGI::Session#delete()\" rel=\"nofollow noreferrer\">the documentation notes</a></p>\n<blockquote>\n<p><strong><code>delete()</code></strong></p>\n<p><em>Sets the objects status to be &quot;deleted&quot;</em>. Subsequent read/write requests on the same object will fail. <em><strong>To physically delete it from the data store you need to call <code>flush()</code></strong></em>. <code>CGI::Session</code> attempts to do this automatically when the object is being destroyed (usually as the script exits), but see &quot;A Warning about Auto-flushing&quot;. (<em>emphases mine</em>)</p>\n</blockquote>\n<p>You go on to ask:</p>\n<blockquote>\n<p>Also, does the cookie expire once the session is deleted?</p>\n</blockquote>\n<p>Of course not. You already sent a cookie to the user's browser with an expiration time of five minutes in the future. The cookie will expire then.</p>\n<p>If, in the mean time, you have forced the expiration of the session on the server, the user's browser will still send the previously received cookie. Your application will just not find a session corresponding to the session identifier stored in the cookie.</p>\n<p>You <em>really</em> need to understand the HTTP request/response cycle before taking one more step.</p>\n"}, {"comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502352950, "post_id": 45595512, "comment_id": 78174770, "body": "@ikagami: 1) It shows that, in CGI::Session, &quot;expire&quot; and &quot;delete&quot; are synonymous. An expired session <i>is already</i> deleted, in the sense of the <code>delete</code> method. 2) What the OP actually appears to want is to delete the session file from the disk, which the answer indicates is accomplished by calling the <code>flush</code> method, not the <code>delete</code> method."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502385254, "post_id": 45595512, "comment_id": 78198964, "body": "Re: &quot;expire&quot; vs. &quot;delete&quot;, yeah, I should have said that &quot;expire<b>d</b>&quot; and &quot;delete<b>d</b>&quot; are synonymous. Unless you mean to say that the documentation is incorrect when it claims that the only difference between expiring and deleting a session is when it gets deleted?"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502385626, "post_id": 45595512, "comment_id": 78199197, "body": "OK, so you <i>are</i> claiming that the documentation is wrong when it says &quot;<b>Expiring a session is the same as deleting it</b> via delete(), but deletion takes place automatically.&quot; I have no responsibility for that alleged error."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502386185, "post_id": 45595512, "comment_id": 78199585, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/151635/discussion-between-dave-sherohman-and-ikegami\">continue this discussion in chat</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502387012, "post_id": 45595512, "comment_id": 78200049, "body": "Your answer does not help the OP remove expired session from the disk in the least, even though that&#39;s what they asked about."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 0, "last_activity_date": 1502294281, "creation_date": 1502294281, "answer_id": 45595512, "question_id": 45593540, "link": "https://stackoverflow.com/questions/45593540/how-to-delete-a-session-in-cgi-perl/45595512#45595512", "title": "How to delete a session in cgi-perl?", "body": "<p>Per <a href=\"https://metacpan.org/pod/CGI::Session#delete()\" rel=\"nofollow noreferrer\">the CGI::Session documentation</a>, <code>delete</code>ing a session <em>\"Sets the objects status to be \"deleted\". Subsequent read/write requests on the same object will fail. <strong>To physically delete it from the data store you need to call flush().</strong>\"</em> (emphasis mine)</p>\n\n<p>Also, per <a href=\"https://metacpan.org/pod/CGI::Session::Tutorial#EXPIRATION\" rel=\"nofollow noreferrer\">the CGI::Session::Tutorial</a>, <em>\"Expiring a session is the same as deleting it via delete(), but deletion takes place automatically.\"</em>  It is not necessary (or useful) to <code>delete</code> a session after it has expired.</p>\n"}, {"comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1502385462, "post_id": 45596233, "comment_id": 78199100, "body": "Since we&#39;re being nitpicky today, this answer contradicts itself, first saying that &quot;<b>CGI::Session only deletes expired sessions when you try to load them.</b>&quot; (emphasis in original), then later saying that it deletes them &quot;when you would save the session&quot;, which does not involve trying to load the session."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1502385796, "post_id": 45596233, "comment_id": 78199303, "body": "So I only imagined the last sentence of non-code text saying &quot;the actual deletion only happens when you would save the session.&quot;? It&#39;s deleted <i>only</i> when the session is loaded... and also deleted <i>only</i> when the session would be saved...  Those two &quot;only&quot;s cannot be simultaneously true."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1502387066, "post_id": 45596233, "comment_id": 78200088, "body": "Expired sessions are removed on load (when using <code>-&gt;new</code>). Sessions for which <code>-&gt;delete</code> has been called are removed on save. Both of these can be true simultaneously."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 1, "creation_date": 1502387346, "post_id": 45596233, "comment_id": 78200250, "body": "@Dave Sherohman, Altered wording of the answer to help avoid confusion."}, {"owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "edited": false, "score": 0, "creation_date": 1502809132, "post_id": 45596233, "comment_id": 78349204, "body": "@ikegami could you provide me an example for the same? What do you mean by &quot;Expired sessions are removed on load (when using -&gt;new).&quot; When you use &quot;load&quot;, you don&#39;t use &quot;new&quot; right?Since load will create a session if it has expired as mentioned previously."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502810669, "post_id": 45596233, "comment_id": 78350259, "body": "If you use <code>load</code> to load an expired session, the returned session object will have been flagged as deleted (as if you have called <code>-&gt;delete</code>) and will be unusable (so you have to check if it&#39;s deleted before using it). The session will get removed from storage when the object is flushed. /// Re &quot;<i>Since load will create a session if it has expired as mentioned previously.</i>&quot;, You have it backwards. <code>new</code> is the one that creates a new session if provided id refers to an expired (or non-existent) session. That&#39;s why <code>new</code> is far more convenient to use in normal circumstances."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1502387277, "last_edit_date": 1502387277, "creation_date": 1502296552, "answer_id": 45596233, "question_id": 45593540, "link": "https://stackoverflow.com/questions/45593540/how-to-delete-a-session-in-cgi-perl/45596233#45596233", "title": "How to delete a session in cgi-perl?", "body": "<p><em>To avoid confusion with <code>-&gt;delete</code>, I'm going to use the word \"remove\" instead of \"delete\" to refer to the removal of the session from storage.</em></p>\n\n<hr>\n\n<blockquote>\n  <p><em>Can someone help me to delete the session once it expires?</em></p>\n</blockquote>\n\n<p>The removal doesn't happen when the session expires. That would require having a continually running process. Furthermore, at no point does CGI::Session scan storage for expired sessions; that would take too long since it would require loading each and every session. Instead, <strong>CGI::Session only removes expired sessions when you try to load them.</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings qw( all );\nuse feature qw( say );\n\nuse CGI::Session               qw( );\nuse CGI::Session::Driver::file qw( );\n\nmy $session_id;   # This represents the browser's cookie.\n\n# These represent requests made the by the browser.\nfor my $request_num (1..3) {\n   my $session = CGI::Session-&gt;new(\"driver:file\", $session_id, { Directory =&gt; \"/tmp/sessions\" });\n   $session-&gt;expire(\"1s\");\n   $session_id = $session-&gt;id;  # This represents setting the browser's cookie.\n\n   say \"$request_num: \", $session-&gt;id;\n   say \"$request_num: \", $session-&gt;param(\"foo\") // \"[undef]\";\n   $session-&gt;param(\"foo\" =&gt; \"bar\");\n\n   # This represents time passing by before the third request.\n   if ($request_num == 2) {\n      say \"Letting session expire...\";\n      sleep(2);\n   }   \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ ./a\n1: c57ab28952c6ed422c15f1a223f4b45d\n1: [undef]\n2: c57ab28952c6ed422c15f1a223f4b45d\n2: bar\nLetting session expire...\n3: df8ba3b66f23a9a2a652520fa6b4c30b\n3: [undef]\n\n$ ls -1 /tmp/sessions\ncgisess_df8ba3b66f23a9a2a652520fa6b4c30b\n</code></pre>\n\n<p><strong>If you want to prevent files from accumulating on your drive</strong>, create a <code>cron</code>  job that deletes old files.</p>\n\n<pre><code>find /tmp/sessions -mindepth 1 -maxdepth 1 -mtime 7 -delete\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><em>Also, does the cookie expire once the session is deleted?</em></p>\n</blockquote>\n\n<p>No, the cookie expires when you tell it to expire. The thing is, it doesn't matter if the browser's cookie expires or not. <strong>For the second argument of <code>new</code>, there's no difference between passing <code>undef</code>, passing the id of a deleted session and passing the id of an expired session</strong>; you'll get a new session in all three cases. If anything, it's actually better if it doesn't expire as soon as the session expires because this allows the session to be removed (as demonstrated above).</p>\n\n<hr>\n\n<blockquote>\n  <p><em>How to delete a session in cgi-perl?</em></p>\n</blockquote>\n\n<p><code>$session-&gt;delete</code> is indeed the way to go, but the actual removal only happens when you would save (flush) the session.</p>\n\n<pre><code>$session-&gt;delete();\n$session-&gt;flush();  # Or let `$session` get destroyed.\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1026, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1502387277, "creation_date": 1502288944, "question_id": 45593540, "link": "https://stackoverflow.com/questions/45593540/how-to-delete-a-session-in-cgi-perl", "title": "How to delete a session in cgi-perl?", "body": "<p>I have a perl-cgi script through which I am trying to log in.</p>\n\n<p>When the UserName and password are valid, I create a session and redirect a cookie to another page.</p>\n\n<p>However, after the session expires(I have set the expiration time), I do not see it get deleted from the /tmp/sessions folder in this case. I have used the command to delete the session as well.</p>\n\n<p>Can someone help me to delete the session once it expires? Also, does the cookie expire once the session is deleted?</p>\n\n<pre><code>        use CGI::Session;\n        use CGI::Session::Tutorial;\n        use CGI::Session::Driver::file; \n        use CGI::Cookie;\n\n        my $session = new CGI::Session(\"driver:File\", undef, {Directory=&gt;\"/tmp/sessions\"});         \n        my $sid = $session-&gt;id();           \n        #my $cookie = $query-&gt;cookie(CGISESSID =&gt; $session-&gt;id);\n        my $cookie = $query-&gt;cookie(-name=&gt;\"CGISESSID\",\n                        -value=&gt;$session-&gt;id,\n                        -domain=&gt;'abc.com',\n                        -expires=&gt;\"+5m\",\n                        -path=&gt;\"/\");\n\n        print $query-&gt;redirect(-uri =&gt; 'http://abc.cgi', -cookie =&gt; $cookie);\n        $session-&gt;param(\"UserName\", $loginUserName);\n        $query-&gt;hidden( 'UserName', $loginUserName );\n\n        $session-&gt;expire(\"UserName\",'1m');\n        $session-&gt;expire('+5m'); \n        $session-&gt;delete();\n</code></pre>\n"}, {"tags": ["linux", "perl", "ssh", "fork", "zombie-process"], "comments": [{"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 5, "creation_date": 1502285342, "post_id": 45591907, "comment_id": 78143316, "body": "A parent process must always call <code>wait</code> (or one of its variants) on their child processes in order to let the kernel know that the terminated child can be cleaned up. <a href=\"https://stackoverflow.com/questions/9164316/c-fork-without-wait-defuncts-execl\">This question</a> has some answers that might point you in the right direction."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1502286088, "post_id": 45591907, "comment_id": 78143981, "body": "Quickest fix is to set <code>$SIG{CHLD}=&#39;IGNORE&#39;</code>. See <a href=\"http://metacpan.org/pod/perlfunc#fork\" rel=\"nofollow noreferrer\"><code>perldoc -f fork</code></a>"}, {"owner": {"reputation": 3541, "user_id": 4450721, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fGVGo.png?s=128&g=1", "display_name": "direprobs", "link": "https://stackoverflow.com/users/4450721/direprobs"}, "edited": false, "score": 2, "creation_date": 1502286657, "post_id": 45591907, "comment_id": 78144494, "body": "A defunct process or a zombie process is a process that terminated without it&#39;s parent calling <code>wait</code> on it. As such the kernel keeps the entries of the terminated child process, so when the parent calls <code>wait</code> it returns the needed information. To avoid zombies, the parent process needs to wait on its children."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1600101972, "last_edit_date": 1600101972, "creation_date": 1502297941, "answer_id": 45596623, "question_id": 45591907, "link": "https://stackoverflow.com/questions/45591907/how-to-avoid-defunct-processes/45596623#45596623", "title": "How to avoid &lt;defunct&gt; processes?", "body": "<p>When you create a process, it sticks around until its parent reaps it. (If its parent exits first, it will get auto-reaped.) A process can reap its children using <a href=\"http://perldoc.perl.org/functions/wait.html\" rel=\"nofollow noreferrer\"><code>wait</code></a> or <a href=\"http://perldoc.perl.org/functions/waitpid.html\" rel=\"nofollow noreferrer\"><code>waitpid</code></a>. It can also cause its children to be automatically reaped by using <code>local $SIG{CHLD} = 'IGNORE';</code> before creating the child.</p>\n<hr />\n<p>Note that Parallel::ForkManager is not the right tool for the job of launching a single child. It's not its purpose to spawn a single worker.</p>\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nsub mbuffer {\n    my ($id, $zfsPath) = @_;\n\n    my $mbuffer_cmd = shell_quote($mbuffer, '-I', $::c{port});\n    my $zfs_cmd     = shell_quote($zfs, 'receive', $zfsPath);\n    my $remote_cmd  = &quot;$mbuffer_cmd | $zfs_cmd&quot;;\n    my $local_cmd   = shell_quote($ssh, $::c{slaves}{$id}, $remote_cmd);\n\n    # open3 will close this handle.\n    # open3 doesn't deal well with lexical handles.\n    open(local *CHILD_STDIN, '&lt;', '/dev/null') or die $!;    \n\n    return open3('&lt;&amp;CHILD_STDIN', '&gt;&amp;STDOUT', '&gt;&amp;STDERR', $local_cmd);\n}\n</code></pre>\n<p>IPC::Open3 is quite low level, but it's the closest to your existing code. Better ways of launching processes include IPC::Run3 and IPC::Run.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502303030, "post_id": 45597074, "comment_id": 78155613, "body": "That makes it look like the child was successfully launched when <code>exec</code> fails. That&#39;s why I recommend <code>open3</code> instead (or something even better)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502307297, "post_id": 45597074, "comment_id": 78157985, "body": "@ikegami  This is what I don&#39;t get -- that way I see it is that if <code>fork</code> fails there&#39;s a message for that, while if I get the <code>die</code> then the child <i>was</i> created successfully.  Or do you mean that <code>waitpid</code> won&#39;t reveal where the problem was? I suspect I may be missing stuff here. (Btw, I didn&#39;t mean to say that this is a complete and robust way to go, I hope the post&#39;s clear on that.)  Thank you for your comments."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502308314, "post_id": 45597074, "comment_id": 78158466, "body": "Your way can&#39;t distinguish between a failure to launch <code>ssh</code> and <code>ssh</code> doing <code>exit(2)</code>. That&#39;s not how Perl&#39;s <code>system</code> works. That&#39;s not C&#39;s <code>system</code> works. That&#39;s not how <code>bash</code> works. In all of those cases, <code>exec</code> failures and errors preparing to <code>exec</code> are made to appear to be failures in launching the program, not errors being returned by the launched program. (For Perl&#39;s <code>system</code>, it&#39;ll return <code>$? = -1</code> and sets <code>$!</code>.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502316548, "post_id": 45597074, "comment_id": 78162194, "body": "@ikegami OK, I see what you mean.  I am <i>loosely</i> aware of coarseness (imprecision) of error reporting here, thank you for this. Adding a basic comment now, will do more (or remove) as soon as I get to it.  Thank you again."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502319614, "post_id": 45597074, "comment_id": 78163228, "body": "I&#39;m not saying you need to change anything; I&#39;m just pointing out a limitation. But it is one that was addressed by the solution posted 25 minutes before yours."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502321064, "post_id": 45597074, "comment_id": 78163657, "body": "@ikegami Thank you for saying it, and for explaining it. I think that I need to edit, to make the distinction clear. I posted only to provide a really simple example, mostly in order to point out OP&#39;s misuse of <code>exec</code>. I meant to keep it simple, and didn&#39;t fully appreciate the deficiency in error reporting and didn&#39;t know that modules do that better (I deferred to the other answer in what I thought mattered).  But I need to play with such errors using <code>Run</code> modules and <code>open3</code> first, to see how they do."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1503390651, "last_edit_date": 1503390651, "creation_date": 1502299547, "answer_id": 45597074, "question_id": 45591907, "link": "https://stackoverflow.com/questions/45591907/how-to-avoid-defunct-processes/45597074#45597074", "title": "How to avoid &lt;defunct&gt; processes?", "body": "<p>For one, there is no reason to use <code>P::FM</code> with one process.  Also, it is disadvantagous here since you give up finer control over process management.</p>\n\n<p>But the direct error here is in the use of <code>exec</code>; this post addresses only that.</p>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/exec.html\" rel=\"nofollow noreferrer\">exec</a> call replaces what is in the process with another program and <em>never returns</em>. So code in the child that is after <code>exec</code> doesn't run (see docs). Thus <code>$pm-&gt;finish</code> is left hanging, the child process never gets reaped, and the OS keeps its info in the process table so there's a defunct/zombie.</p>\n\n<p>Here is a basic way to fire off another program using <code>exec</code> directly</p>\n\n<pre><code>my $cmd = '...';\n\nmy $pid = fork  // die \"Can't fork: $!\";\n\nif ($pid == 0) {\n    exec $cmd;\n    die \"exec shouldn't return: $!\";\n}\nmy $gone = waitpid $pid, 0;\n\nif    ($gone &gt; 0) { say \"Child $gone exited with $?\" }\nelsif ($gone &lt; 0) { say \"No $pid process ($gone), reaped already?\" }\nelse              { say \"Process $pid still running?\" }\n</code></pre>\n\n<p>Here the child inherits standard streams from the parent. Also, error reporting is coarse (imprecise) in some cases, see comments thanks to ikegami.</p>\n\n<p>A more detailed and faithful replacement for what you do is in ikegami's <a href=\"https://stackoverflow.com/a/45596623/4653379\">answer</a>.</p>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3601, "favorite_count": 0, "accepted_answer_id": 45596623, "answer_count": 2, "score": 3, "last_activity_date": 1600101972, "creation_date": 1502284835, "last_edit_date": 1502333078, "question_id": 45591907, "link": "https://stackoverflow.com/questions/45591907/how-to-avoid-defunct-processes", "title": "How to avoid &lt;defunct&gt; processes?", "body": "<p>I do ZFS remote replication from a master host to a slave host, where I have a Perl script that runs on the master host.</p>\n\n<p>For each filesystem it ssh to the remote host and start mbuffer in listening mode and then the script continues and then send the data. On success mbuffer should exit by itself.</p>\n\n<p><strong>The problem</strong></p>\n\n<p>It was quite difficult to start mbuffer on the remote host over ssh and then be able to continue in the script. I ended up doing what you can see below.</p>\n\n<p>The problem is that until the script exits it leaves behind <code>&lt;defunct&gt;</code> processes one for each filesystem.</p>\n\n<p><strong>Question</strong></p>\n\n<p>It is possible to avoid having the <code>&lt;defunct&gt;</code> processes?</p>\n\n<pre><code>sub mbuffer {\n    my ($id, $zfsPath) = @_;\n\n    my $m = join(' ', $mbuffer, '-I', $::c{port});\n    my $z = join(' ', $zfs, 'receive', , $zfsPath);\n    my $c = shellQuote($ssh, $::c{slaves}{$id}, join('|', $m, $z));\n\n    my $pm = Parallel::ForkManager-&gt;new(1);\n    my $pid = $pm-&gt;start;\n    if (!$pid) {\n        no warnings;  # fixes \"exec\" not working\n        exec($c);\n        $pm-&gt;finish;\n    }\n\n    sleep 3; # wait for mbuffer to listen\n\n    return $pid;\n}\n</code></pre>\n"}, {"tags": ["session", "mojolicious", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1330, "user_id": 2375142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XMqXW.jpg?s=128&g=1", "display_name": "Laposhas&#250; Acsa", "link": "https://stackoverflow.com/users/2375142/laposhas%c3%ba-acsa"}, "edited": false, "score": 0, "creation_date": 1502718367, "post_id": 45607011, "comment_id": 78309481, "body": "Did this help you resolving the problem?"}], "tags": [], "owner": {"reputation": 1330, "user_id": 2375142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XMqXW.jpg?s=128&g=1", "display_name": "Laposhas&#250; Acsa", "link": "https://stackoverflow.com/users/2375142/laposhas%c3%ba-acsa"}, "is_accepted": false, "score": 1, "last_activity_date": 1502349667, "creation_date": 1502349667, "answer_id": 45607011, "question_id": 45590728, "link": "https://stackoverflow.com/questions/45590728/mojolicious-session-does-not-expire/45607011#45607011", "title": "Mojolicious session does not expire", "body": "<p>Do you know the <a href=\"http://search.cpan.org/~madcat/Mojolicious-Plugin-Authentication-1.26/lib/Mojolicious/Plugin/Authentication.pm#logout\" rel=\"nofollow noreferrer\">Mojolicious::Plugin::Authentication</a> plugin? It's a nice module, I'm using that since I discovered Mojolicious. The documentation states, that you need to set the 'expires' attribute to the past to delete the session, but this module takes another method.</p>\n\n<pre><code>$app-&gt;helper(logout =&gt; sub {\n    # omitted\n    delete $c-&gt;session-&gt;{$session_key};\n});\n</code></pre>\n\n<p>You may want to try not just setting the 'expires' attribute but also <code>delete</code>-ing the session key.</p>\n\n<p>You said the problem appeared after you changed localhost to a domain name. You can try to set the <a href=\"http://mojolicious.org/perldoc/Mojolicious/Sessions#cookie_domain\" rel=\"nofollow noreferrer\">session cookie's domain</a> too.</p>\n"}, {"tags": [], "owner": {"reputation": 222, "user_id": 6265747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58f4f310cf0e2c351807a21290825e7c?s=128&d=identicon&r=PG&f=1", "display_name": "Bianca", "link": "https://stackoverflow.com/users/6265747/bianca"}, "is_accepted": true, "score": 1, "last_activity_date": 1504079627, "last_edit_date": 1504079627, "creation_date": 1504031405, "answer_id": 45946034, "question_id": 45590728, "link": "https://stackoverflow.com/questions/45590728/mojolicious-session-does-not-expire/45946034#45946034", "title": "Mojolicious session does not expire", "body": "<p>We finally found the error, the request was made using an </p>\n\n<pre><code>&lt;a href=\"\" onclick=\"do_logout()\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>which was basically doing 2 actions at once and creating a race condition. Here is the relevant code snippet</p>\n\n<pre><code># Relevant routes\nmy $if_login = $r-&gt;under('/')-&gt;to('user#is_logged_in');\n$if_login-&gt;post('/logout')-&gt;name('on_logout')-&gt;to('user#on_logout');\n\n# Controller functions\nsub on_logout {\n  my $self = shift;\n  $self-&gt;session(expires =&gt; 1);\n\n  return $self-&gt;render(json =&gt; '{success: \"true\"}');\n}\n\nsub is_logged_in {\n  my $self = shift;\n\n  say $self-&gt;session('username');  # Sometimes after on_logout this is still\n                                   # defined and equal to the username.\n  return 1 if($self-&gt;session('username'));\n\n  $self-&gt;render(\n    template =&gt; 'permission/not_logged_in',\n    status =&gt; 403\n  );\n  return;\n}\n\n# Front end\n&lt;a href=\"\" onclick='do_logout();'&gt;\n &lt;%= l('Log out') %&gt;\n&lt;/a&gt;\n\n&lt;script&gt;\nfunction do_logout() {\n  $.post( \"&lt;%= url_for('on_logout') %&gt;\", function() {\n}).fail(function() {\n  alert( \"error logging out\" );\n}).done(function( data ) {\n  alert( \"Data: \" + data );\n}).always(function() {\n  alert( \"finished\" );\n});\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Thanks for helping!</p>\n"}], "owner": {"reputation": 332, "user_id": 3084596, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001726131687/picture?type=large", "display_name": "Petru", "link": "https://stackoverflow.com/users/3084596/petru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 3, "accepted_answer_id": 45946034, "answer_count": 2, "score": 6, "last_activity_date": 1504079627, "creation_date": 1502281666, "last_edit_date": 1502282036, "question_id": 45590728, "link": "https://stackoverflow.com/questions/45590728/mojolicious-session-does-not-expire", "title": "Mojolicious session does not expire", "body": "<p>I'm building a web application using mojolicious. The logout functionality works only while running the app on local machines. When I try to logout on the app running on the server, the session does not expire and I remain logged in. </p>\n\n<p>This started to happen when we changed logout to be done via POST request instead of get.</p>\n\n<p>The way we call logout is as an AJAX call from the frontend:</p>\n\n<pre><code>function do_logout() {\n   $.post( \"&lt;%= url_for('on_logout') %&gt;\", function() {});\n}\n</code></pre>\n\n<p>Logout route:</p>\n\n<pre><code>$if_login-&gt;post('/logout')-&gt;name('on_logout')-&gt;to('user#on_logout');\n</code></pre>\n\n<p>Logout controller:</p>\n\n<pre><code>sub on_logout {\n  my $self = shift;\n  $self-&gt;session(expires =&gt; 1);\n  return $self-&gt;redirect_to('home');\n}\n</code></pre>\n\n<p>Line which sets the session to expire is called, but after the redirect, session still contains the username which was logged in.</p>\n"}, {"tags": ["perl", "smtp"], "answers": [{"comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1502286112, "post_id": 45590793, "comment_id": 78144007, "body": "<code>before</code> method does not get <code>$orig</code> parameter but only original <code>@_</code>. I was able to change existing @_ element but <code>before</code> ignored attempts to append extra parameter via <code>push(@_,&#39;SSL&#39;)</code>."}, {"owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "reply_to_user": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1502286243, "post_id": 45590793, "comment_id": 78144124, "body": "right.. thanks to the edit (and sorry for not checking thoroughly)"}, {"owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "reply_to_user": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1502286657, "post_id": 45590793, "comment_id": 78144493, "body": "btw I understand you&#39;re trying to infer what specific array has been passed to <code>__opts</code> looking at its content. A slightly less error prone version (what if RJBS or someone else changes the array elements order?) could be <code>push( @_, &#39;SSL&#39;) if grep { &#47;Hello&#47; } @_</code>"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1502287278, "post_id": 45590793, "comment_id": 78144995, "body": "After shifting <code>$orig</code> <code>$_[0]</code> is a reference to hash being inspected/reduced. It is a dirty hack anyway =&gt; The Right Way should be to change/patch <code>MIME::Lite</code> sources.  I purge <code>MIME::Lite</code> from my scripts anyway but it will take a few months as a non critical task. [<code>man MIME::Lite</code> : MIME::Lite is not recommended by its current maintainer.]"}], "tags": [], "owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "is_accepted": true, "score": 1, "last_activity_date": 1502285987, "last_edit_date": 1502285987, "creation_date": 1502281868, "answer_id": 45590793, "question_id": 45588971, "link": "https://stackoverflow.com/questions/45588971/mimelite-3-030-netsmtp-with-smtps-port-465/45590793#45590793", "title": "MIME::Lite 3.030 - NET::SMTP with smtps (port 465)", "body": "<p>One thing you could do is wrapping <code>__opts</code> with some function that modifies the parameters are passed to it.</p>\n\n<p>In line 2876:</p>\n\n<pre><code>my %opts = __opts(\\%args, @_net_smtp_opts);\n</code></pre>\n\n<p>The advantage here is that after the reference to <code>%args</code>, the rest of parameters is always the array <code>@net_smtp_opts</code> defined earlier. Unfortunately you can't modify its value at distance (it's a lexical variable), but you can do something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse MIME::Lite;\nuse Class::Method::Modifiers;\n\naround 'MIME::Lite::__opts' =&gt; sub {\n  my $orig = shift;\n  push(@_,'SSL') if @_ &gt;= 2 &amp;&amp; $_[1] eq 'Hello';\n  my (@ret) = $orig-&gt;(@_);\n  return @ret;\n};\n</code></pre>\n\n<p>This way every call to <code>MIME::Lite::__opts</code> is \"intercepted\", and you have the ability to modify the parameters at your will.</p>\n"}], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 694, "favorite_count": 0, "accepted_answer_id": 45590793, "answer_count": 1, "score": 1, "last_activity_date": 1502288226, "creation_date": 1502276880, "last_edit_date": 1502288226, "question_id": 45588971, "link": "https://stackoverflow.com/questions/45588971/mimelite-3-030-netsmtp-with-smtps-port-465", "title": "MIME::Lite 3.030 - NET::SMTP with smtps (port 465)", "body": "<p><code>MIME::Lite</code> can pass extra parameters to <code>Net::SMTP</code> constructor.<br>\nVersion <code>MIME::Lite</code> 3.030 does not include <code>SSL</code> on its list of passed <code>Net::SMTP</code> parameters. </p>\n\n<p>Is it possible to change it <strong>without</strong> modifying <code>MIME::Lite</code> source code?</p>\n\n<pre><code>   1 package MIME::Lite;\n     ...\n 355 $VERSION = '3.030';\n     ...\n2843 my @_net_smtp_opts = qw( Hello LocalAddr LocalPort Timeout\n2844                          Port ExactAddresses Debug );\n     ....\n2847 sub __opts {\n2848     my $args=shift;\n2849     return map { exists $args-&gt;{$_} ? ( $_ =&gt; $args-&gt;{$_} ) : () } @_;\n2850 }\n     ....\n2852 sub send_by_smtp {\n         ....\n2876     my %opts = __opts(\\%args, @_net_smtp_opts);\n2877     my $smtp = MIME::Lite::SMTP-&gt;new( $hostname, %opts )\n2878       or Carp::croak \"SMTP Failed to connect to mail server: $!\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl", "file"], "comments": [{"owner": {"reputation": 679, "user_id": 7443472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fd6034b3259d4ca838baea76299a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "Secespitus", "link": "https://stackoverflow.com/users/7443472/secespitus"}, "edited": false, "score": 0, "creation_date": 1502269866, "post_id": 45586249, "comment_id": 78131435, "body": "&quot;Baz.*?var3 = (\\d+)&quot; might work, though you need to make sure that the dot matches newline, too. What regex have you tried so far?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1502270098, "post_id": 45586249, "comment_id": 78131598, "body": "You can&#39;t have the regex like you ask for. You go line-by-line while patterns are on separate lines.  Set a flag when you find the line with <code>Baz:</code>, unset when you find another section heading (a line with <code>:</code> but not <code>Baz</code>).  If the flag is true match on <code>var3</code>.   Or, read the whole file into a variable and then you can do multi-line match."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 679, "user_id": 7443472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fd6034b3259d4ca838baea76299a1a4?s=128&d=identicon&r=PG&f=1", "display_name": "Secespitus", "link": "https://stackoverflow.com/users/7443472/secespitus"}, "edited": false, "score": 0, "creation_date": 1502270816, "post_id": 45586249, "comment_id": 78132125, "body": "@Secespitus I think the &quot;make sure <code>.</code> matches newline&quot; is exactly the point of the question. Can you elaborate?"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1502392477, "last_edit_date": 1502392477, "creation_date": 1502271356, "answer_id": 45586909, "question_id": 45586249, "link": "https://stackoverflow.com/questions/45586249/parse-a-line-after-a-matching-pattern-in-a-file-in-a-perl-script/45586909#45586909", "title": "Parse a line after a matching pattern in a file in a Perl script", "body": "<p>Since you process line by line you need to keep the state, to know when inside <code>Baz:</code> section</p>\n\n<pre><code>my $in_sec;\n\nwhile (&lt;$fh&gt;) \n{    \n    if    (/^Baz:/)     { $in_sec = 1; }\n    elsif (/(?&lt;!Baz):/) { $in_sec = 0; }\n\n    if ($in_sec) {\n        my ($num) = /var3\\s*=\\s*(\\d+)/;\n        say $num if $num;\n    }   \n}\n</code></pre>\n\n<p>The flag is turned off when another section starts, detected by using a <a href=\"https://perldoc.perl.org/perlretut.html#Looking-ahead-and-looking-behind\" rel=\"nofollow noreferrer\">negative lookbehind</a>.</p>\n\n<p>Or, read the whole file into a scalar so that you can match across lines.</p>\n\n<p>Please use lexical filehandles and the three-argument <code>open</code>, it's better.</p>\n"}], "owner": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 45586909, "answer_count": 1, "score": 0, "last_activity_date": 1502392477, "creation_date": 1502269683, "question_id": 45586249, "link": "https://stackoverflow.com/questions/45586249/parse-a-line-after-a-matching-pattern-in-a-file-in-a-perl-script", "title": "Parse a line after a matching pattern in a file in a Perl script", "body": "<p>Given a file in format:</p>\n\n<pre><code>Foo:\n  var1 = 1\n  var2 = 2\n  var3 = 3\nBar: \n  var1 = 4\n  var2 = 5\n  var3 = 6\nBaz:\n  var1 = 7\n  var2 = 8  \n  var3 = 9\n</code></pre>\n\n<p>I would like to open this file, read it line by line and find occurence var3 which comes after pattern Baz and take the value 9 from it in a perl script. What is best regex to do this?</p>\n\n<pre><code>sub getValue {\n    open($fh, $file);\n    while(my $line = &lt;$fh&gt;) {\n        chomp($line);\n        if($line =~ \"regex here\" ) {\n        my $value = $3;\n        }\n    }\n    return $value;\n}\n</code></pre>\n\n<p>So with correct regex, I expect this sub return value 9.</p>\n"}, {"tags": ["perl", "email", "smtp"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1502264009, "post_id": 45583736, "comment_id": 78127525, "body": "<a href=\"https://stackoverflow.com/questions/27635906/why-do-i-get-smtp-failed-to-connect-to-mail-server-when-i-try-to-send-an-emai\" title=\"why do i get smtp failed to connect to mail server when i try to send an emai\">stackoverflow.com/questions/27635906/&hellip;</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1502270965, "post_id": 45583736, "comment_id": 78132238, "body": "I will never understand why people use modules that <a href=\"https://metacpan.org/pod/MIME::Lite#WAIT!\" rel=\"nofollow noreferrer\">even the current maintainer</a> advise against using."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1502271840, "post_id": 45583736, "comment_id": 78132886, "body": "@DaveCross  Perhaps unaware of it?  They seem to be working from an outdated tutorial."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1502271942, "post_id": 45583736, "comment_id": 78132960, "body": "@zdim: Sure. But step one when looking into an issue like this is surely &quot;read the documentation for the module&quot; and step two is &quot;see if there&#39;s a more recent version of the module&quot;. So there&#39;s no excuse for not being aware of it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1502272133, "post_id": 45583736, "comment_id": 78133097, "body": "@DaveCross  Absolutely agree (didn&#39;t mean to hint at an excuse).  But people so often don&#39;t, unfortunately.. I&#39;ve just recently advised an OP to read docs, probably three times in a long exchange ... only to see their new question the next day, on the same module and still clearly completely uninformed."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1502288401, "post_id": 45583736, "comment_id": 78145955, "body": "See <a href=\"https://stackoverflow.com/q/45588971/2139766\">stackoverflow.com/q/45588971/2139766</a>"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1502273118, "post_id": 45587516, "comment_id": 78133793, "body": "I was wondering why you reached for <code>MIME::Lite</code>, and not knowing it thought that there may be a reason.  So I restrained from commenting -- I use this and have had no problem."}, {"owner": {"reputation": 731, "user_id": 4894466, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/10200569228069422/picture?type=large", "display_name": "Rey Norbert Besmonte", "link": "https://stackoverflow.com/users/4894466/rey-norbert-besmonte"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502273443, "post_id": 45587516, "comment_id": 78134029, "body": "I&#39;m really new to perl and while looking for a way MIME::Lite has the most sample. Though I tried Email::Simple, and Net::SMTP and was not really working. So I went back to MIME::Lite. After I ran out of ideas I posted the question.  Then I went back to Net::SMTP and tried again then it worked. I tried as much as possible to not use Mime."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1502278584, "post_id": 45587516, "comment_id": 78137790, "body": "Add <code>SSL=&gt;1</code> to <code>Net::SMTP-&gt;new(...)</code> options."}, {"owner": {"reputation": 731, "user_id": 4894466, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/10200569228069422/picture?type=large", "display_name": "Rey Norbert Besmonte", "link": "https://stackoverflow.com/users/4894466/rey-norbert-besmonte"}, "edited": false, "score": 0, "creation_date": 1502346846, "post_id": 45587516, "comment_id": 78170922, "body": "SSL=&gt;1 is not working (but from what i know it supposed to work since if I use it on php it supposed to be SSL =&gt; 1 to go out of your network) so I tried SSL=&gt; 0 now it works if the recipient is outside my network."}], "tags": [], "owner": {"reputation": 731, "user_id": 4894466, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/10200569228069422/picture?type=large", "display_name": "Rey Norbert Besmonte", "link": "https://stackoverflow.com/users/4894466/rey-norbert-besmonte"}, "is_accepted": false, "score": 1, "last_activity_date": 1502272964, "creation_date": 1502272964, "answer_id": 45587516, "question_id": 45583736, "link": "https://stackoverflow.com/questions/45583736/perl-email-function-mimelite/45587516#45587516", "title": "Perl Email function Mime::Lite", "body": "<p>Thanks for everyone's advice. So Since Mime::lite not that good I changed my approach to Net::SMTP. Here is my code below for future reference.</p>\n\n<p>Also note that I was not able to make it work for google but our own smtp server work fine for the code.</p>\n\n<pre><code>#!perl\nuse warnings;\nuse strict;\nuse Net::SMTP;\n\nmy $smtpserver = 'mail server';\nmy $smtpport = 'port' ;\nmy $smtpuser   = 'sender@sample.com';\nmy $smtppassword = 'my password';\n\n\nmy $smtp = Net::SMTP-&gt;new($smtpserver, Port=&gt;$smtpport, Timeout =&gt; 60, Debug =&gt; 1);\ndie \"Could not connect to server!\\n\" unless $smtp; \n\n$smtp-&gt;auth($smtpuser, $smtppassword);\n$smtp-&gt;mail('sender@sample.com');\n$smtp-&gt;to('receiver@sample.com');\n\n$smtp-&gt;data();\n$smtp-&gt;datasend(\"To: receiver name &lt;receiver\\@sample.com&gt;\\n\");\n$smtp-&gt;datasend(\"From: sender name &lt;sender\\@sample.com&gt;\\n\");\n$smtp-&gt;datasend(\"subject: THIS IS A SUBJECT\\n\");\n$smtp-&gt;datasend(\"\\n\");\n$smtp-&gt;datasend(\"A simple test message\\n\");\n\n$smtp-&gt;quit;\n</code></pre>\n"}], "owner": {"reputation": 731, "user_id": 4894466, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/10200569228069422/picture?type=large", "display_name": "Rey Norbert Besmonte", "link": "https://stackoverflow.com/users/4894466/rey-norbert-besmonte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1077, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502272964, "creation_date": 1502262200, "question_id": 45583736, "link": "https://stackoverflow.com/questions/45583736/perl-email-function-mimelite", "title": "Perl Email function Mime::Lite", "body": "<p>Im fairly new to Perl programming. I need help on the basic SMTP using MIME::Lite, I have already downloaded the library and put it on the folder.\nHere is my code</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse MIME::Lite;\nuse Net::SMTP;\n\n$to = 'sample@gmail.com';\n$cc = 'sample@gmail.com';\n$from = 'sample@gmail.com';\n$pass = \"my password here\";\n$subject = 'Test Email';\n$message = 'This is test email sent by Perl Script';\n\n$msg = MIME::Lite-&gt;new(\n                 From     =&gt; $from,\n                 To       =&gt; $to,\n                 Cc       =&gt; $cc,\n                 Subject  =&gt; $subject,\n                 Data     =&gt; $message\n                 );\n\n# MIME::Lite-&gt;send('smtp', \"smtp.gmail.com\");\nMIME::Lite-&gt;send('smtp', \"smtp.gmail.com\", Timeout=&gt;60,Auth=&gt;'LOGIN',AuthUser=&gt;$from,AuthPass=&gt;$pass,Port =&gt; 465, Debug =&gt; 1);\n$msg-&gt;send;\nprint \"Email Sent Successfully\\n\";\n</code></pre>\n\n<p>I'm getting an error of:</p>\n\n<pre><code>MIME::LITE::SMTP&gt;&gt;&gt; MIME::LITE::SMTP\nMIME::LITE::SMTP&gt;&gt;&gt; NET::SMTP(3.10)\nMIME::LITE::SMTP&gt;&gt;&gt; NET::CMD(3.10)\nMIME::LITE::SMTP&gt;&gt;&gt; EXPORTER(5.72)\nMIME::LITE::SMTP&gt;&gt;&gt; IO::SOCKET::IP(0.39)\nMIME::LITE::SMTP&gt;&gt;&gt; IO::SOCKET(1.38)\nMIME::LITE::SMTP&gt;&gt;&gt; IO::HANDLE(1.36)\nMIME::LITE::SMTP&gt;&gt;&gt; NET::CMD::GETLINE(): UNEXPECTED EOF ON COMMAND CHANNEL: AT C:/STRAWBERRY/PERL/LIBE/MIME/LITE.PM LINE 2622 AT MAIN.PL LINE 23\nSMTP FAILED TO CONNECT TO MAIL SERVER: BAD FILE DESCRIPTOR AT LINE 23\n</code></pre>\n\n<p>Am I missing something here? I saw the tutorial and it is working for them.</p>\n"}, {"tags": ["perl", "perl-module", "cpan"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1502262668, "post_id": 45583701, "comment_id": 78126643, "body": "I would recommend using <a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\"><code>perlbrew</code></a> and then <code>cpanm</code> to install the missing modules instead of using this setup with <code>lib</code> and <code>FindBin</code>. Then <code>cpanm</code> would automatically find and install missing dependencies"}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1502265292, "post_id": 45583701, "comment_id": 78128362, "body": "<a href=\"http://search.cpan.org/~hmbrand/Spreadsheet-Read/Read.pm\" rel=\"nofollow noreferrer\"><code>Spreadsheet::Read</code></a> needs additional modules to read various file formats, namely, it needs <code>Spreadsheet::ParseXLSX</code> to read <code>.xlsx</code> files."}, {"owner": {"reputation": 11, "user_id": 7952986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da1ba3806e56cd027774c28e9d2b2690?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Gandhi", "link": "https://stackoverflow.com/users/7952986/mohit-gandhi"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1502268444, "post_id": 45583701, "comment_id": 78130417, "body": "@H&#229;konH&#230;gland I tried installing perlbrew , After installation it asks me to edit .bash_profile file. I don&#39;t have permission to edit it."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1502268566, "post_id": 45583701, "comment_id": 78130489, "body": "@MohitGandhi Hi. I think you can put the edits in <code>.bashrc</code> instead of <code>.bash_profile</code>. Feel free to contact me by email if you have further questions."}], "owner": {"reputation": 11, "user_id": 7952986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da1ba3806e56cd027774c28e9d2b2690?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Gandhi", "link": "https://stackoverflow.com/users/7952986/mohit-gandhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1030, "favorite_count": 0, "closed_date": 1502265227, "answer_count": 0, "score": 0, "last_activity_date": 1502265259, "creation_date": 1502262095, "last_edit_date": 1502264355, "question_id": 45583701, "link": "https://stackoverflow.com/questions/45583701/perl-using-local-modules", "closed_reason": "Duplicate", "title": "Perl- Using Local modules", "body": "<p>I'm using a hosted Linux machine so I don't have permissions to write into the <strong><em>/usr/lib</em></strong> directory.</p>\n\n<p>I need <code>Spreadsheet::Read</code> and few other modules to be installed. I have all these required libraries in my local home directory.</p>\n\n<p>In the perl code, I am using-</p>\n\n<pre><code>#include local module\nuse FindBin qw($Bin);\nuse lib \"$Bin/perl5/lib/perl5\";\nuse lib \"$Bin/perl5/lib/perl5/x86_64-linux-gnu-thread-multi\";\nuse Getopt::Long;\nuse Spreadsheet::Read;\nuse Template;\nuse lib \"$Bin\";\nuse Register;\n</code></pre>\n\n<p>So I have Spreadsheet and other libraries in the path <strong><em>../perl5/lib/perl5/x86_64-linux-gnu-thread-multi</em></strong>. But still when I run, I get this error:</p>\n\n<blockquote>\n  <p>Uncaught exception from user code:\n          Parser for XLSX is not installed at ./main.pl line 42  at /home/nxf36037/ipxact-register-generator-master/code/perl5/lib/perl5/Spreadsheet/Read.pm\n  line 416\n          Spreadsheet::Read::ReadData('reg1000.xlsx') called at ./main.pl line 42</p>\n</blockquote>\n\n<p>This is my line 42:</p>\n\n<pre><code>my $book  = ReadData($input);\n</code></pre>\n\n<p>I am unwilling to use <code>local::lib</code>, Could you please help with this issue?</p>\n"}, {"tags": ["perl", "twitter"], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 5478114, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41edd9b1f1237bf1216b24ad5e1f6178?s=128&d=identicon&r=PG&f=1", "display_name": "Melchester", "link": "https://stackoverflow.com/users/5478114/melchester"}, "is_accepted": true, "score": 0, "last_activity_date": 1502528460, "creation_date": 1502528460, "answer_id": 45648449, "question_id": 45579867, "link": "https://stackoverflow.com/questions/45579867/using-nettwitterlitewithapiv1-1-works-for-small-searches-sometimes/45648449#45648449", "title": "Using Net::Twitter::Lite::WithAPIv1_1 works for small searches - sometimes", "body": "<p>I could not figure out what was going on, but I got around the problem by putting the request into a loop and retrying the request with ever diminishing max results. And it seems that I am now consistently getting a result.</p>\n"}], "owner": {"reputation": 173, "user_id": 5478114, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41edd9b1f1237bf1216b24ad5e1f6178?s=128&d=identicon&r=PG&f=1", "display_name": "Melchester", "link": "https://stackoverflow.com/users/5478114/melchester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 45648449, "answer_count": 1, "score": 0, "last_activity_date": 1502528460, "creation_date": 1502238477, "last_edit_date": 1502241078, "question_id": 45579867, "link": "https://stackoverflow.com/questions/45579867/using-nettwitterlitewithapiv1-1-works-for-small-searches-sometimes", "title": "Using Net::Twitter::Lite::WithAPIv1_1 works for small searches - sometimes", "body": "<p>I am trying to search for tweets about Art Trails with a Perl program using the Net::Twitter::Lite::WithAPIv1_1 module. Sometimes it works sometimes it returns nothing but 200: OK.\nThe smaller the number of results I request the more likely it is to work. It is not an issue with the Twitter limits. Could it be something to do with timing of the data return?</p>\n\n<pre><code>use Net::Twitter::Lite::WithAPIv1_1;\n\nmy $nt = Net::Twitter::Lite::WithAPIv1_1-&gt;new(\n  traits   =&gt; [qw/OAuth API::RESTv1_1/],\n  consumer_key        =&gt; $c1,\n  consumer_secret     =&gt; $c2,\n  access_token        =&gt; $c3,\n  access_token_secret =&gt; $c4,\n  ssl  =&gt; 1,\n  legacy_lists_api =&gt; 0\n  );\n\nmy $maxresults = 10;\n\neval {\nmy $r = $nt-&gt;search('\"art walk\" OR \"artists walk\" OR \"art walks\" OR \"artist walks\" OR \"artist trail\" OR \"artist trails\" OR \"art trail\" OR \"art trails\" -filter:retweets' ,{ count =&gt; $maxresults});\n\nuse Data::Dumper;\nprint Dumper $r;\n\n};\n\nprint $@;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1502212508, "post_id": 45574163, "comment_id": 78108158, "body": "<i>&quot;The software I am using&quot;</i>: what software?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502213312, "post_id": 45574163, "comment_id": 78108587, "body": "<code>m|.*&#47;(.*)&#47;$|</code>.  But if these are file paths there are other ways"}], "answers": [{"tags": [], "owner": {"reputation": 2046, "user_id": 2534876, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba3f8612c2df3a70139f03fd59a38967?s=128&d=identicon&r=PG", "display_name": "JDong", "link": "https://stackoverflow.com/users/2534876/jdong"}, "is_accepted": false, "score": 1, "last_activity_date": 1502212836, "last_edit_date": 1502212836, "creation_date": 1502212313, "answer_id": 45574309, "question_id": 45574163, "link": "https://stackoverflow.com/questions/45574163/perl-regex-get-last-digits-in-string-before/45574309#45574309", "title": "Perl Regex get last digits in string before \\", "body": "<p>Since you want the last one, would <code>([^\\\\]*)\\\\$</code> be appropriate? This matches with as many non-slash characters as possible before the last slash. Alternatively, if you don't want to extract the first group, you can do a lookahead with <code>([^\\\\]+)(?=\\\\$)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 1, "last_activity_date": 1502213585, "creation_date": 1502213585, "answer_id": 45574658, "question_id": 45574163, "link": "https://stackoverflow.com/questions/45574163/perl-regex-get-last-digits-in-string-before/45574658#45574658", "title": "Perl Regex get last digits in string before \\", "body": "<p>This code shows two different solutions. Hope it helps:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $example = '\\\\XXX\\Extract_ReduceSize\\MonitoringExport\\dev\\files\\100144\\\\';\n\n# Method 1: split the string by the \\ character. This gives us an array, \n# and then, select the last element of that array [-1]\nmy $number = (split /\\\\/, $example)[-1];\nprint $number, \"\\n\"; # &lt;-- prints: 100144\n\n# Method 2: use a regexpr. Search in reverse mode ($), \n# and catch the number part (\\d+) in $1\nif( $example =~ m!(\\d+)\\\\$! ) {\n    print $1, \"\\n\"; # &lt;-- prints: 100144\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 286, "user_id": 7200353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d533569f1f9266d6a905bbc654fc26ee?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/7200353/anthony"}, "is_accepted": false, "score": 1, "last_activity_date": 1502213711, "creation_date": 1502213711, "answer_id": 45574691, "question_id": 45574163, "link": "https://stackoverflow.com/questions/45574163/perl-regex-get-last-digits-in-string-before/45574691#45574691", "title": "Perl Regex get last digits in string before \\", "body": "<p>This works to extract the last segment of digits:</p>\n\n<pre><code>(\\d+)(?=\\\\$)\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 8435600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cf3283784d1336504beb84a4cb1f60?s=128&d=identicon&r=PG&f=1", "display_name": "user8435600", "link": "https://stackoverflow.com/users/8435600/user8435600"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1502213837, "creation_date": 1502211831, "last_edit_date": 1502213837, "question_id": 45574163, "link": "https://stackoverflow.com/questions/45574163/perl-regex-get-last-digits-in-string-before", "title": "Perl Regex get last digits in string before \\", "body": "<p>Do you know of a way to combine these 2 regular expressions?<br>\nOr any other way to just get the last 6 digits before the last <code>\\</code>.</p>\n\n<p>The end result that I want is <code>100144</code> from the string:</p>\n\n<blockquote>\n  <p><code>\\\\XXX\\Extract_ReduceSize\\MonitoringExport\\dev\\files\\100144\\</code></p>\n</blockquote>\n\n<p>Here are some things I have tried</p>\n\n<pre><code>(.{1})$\n</code></pre>\n\n<p>Gets rid of the trailing <code>\\</code> of the string resulting in </p>\n\n<blockquote>\n  <p><code>\\\\XXX\\Extract_ReduceSize\\MonitoringExport\\dev\\files\\100144</code></p>\n</blockquote>\n\n<pre><code>.*\\\\\n</code></pre>\n\n<p>Gets rid of everything before the last <code>\\</code> resulting in <code>100144</code></p>\n\n<p>The software I am using requires just one line. So I can perform 2 calls.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 2, "creation_date": 1502211211, "post_id": 45573680, "comment_id": 78107411, "body": "You should indent your code cos it&#39;s very hard to read, but I can&#39;t see where it updates <code>$s</code> if <code>$year</code> isn&#39;t a leap year?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8435441, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MYkmAzwIJKM/AAAAAAAAAAI/AAAAAAAAA1I/yzO2Bs924Wk/photo.jpg?sz=128", "display_name": "Elif Nur Kahraman", "link": "https://stackoverflow.com/users/8435441/elif-nur-kahraman"}, "edited": false, "score": 0, "creation_date": 1502211901, "post_id": 45574002, "comment_id": 78107826, "body": "i cant use local time, i have to calculate the date. but thank you"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 33, "user_id": 8435441, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MYkmAzwIJKM/AAAAAAAAAAI/AAAAAAAAA1I/yzO2Bs924Wk/photo.jpg?sz=128", "display_name": "Elif Nur Kahraman", "link": "https://stackoverflow.com/users/8435441/elif-nur-kahraman"}, "edited": false, "score": 3, "creation_date": 1502214048, "post_id": 45574002, "comment_id": 78108975, "body": "That&#39;s not very rational. As you&#39;ve already noticed, it&#39;s far more work and far more error-prone."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1502222232, "last_edit_date": 1502222232, "creation_date": 1502211366, "answer_id": 45574002, "question_id": 45573680, "link": "https://stackoverflow.com/questions/45573680/finding-the-day-from-a-given-date/45574002#45574002", "title": "Finding the day from a given date", "body": "<pre><code>use Time::Local qw( timegm );\n\nmy @dow_names = qw( Sunday Monday Tuesday Wednesday Thursday Friday Saturday );\n\nmy $Y = ...;\nmy $m = ...;\nmy $d = ...;\n\nmy $epoch = timegm(0, 0, 0, $d, $m-1, $Y-1900);\nmy $dow = ( gmtime($epoch) )[6];\nmy $dow_name = $dow_names[$dow];\n</code></pre>\n\n<p>Better yet,</p>\n\n<pre><code>use POSIX       qw( strftime );\nuse Time::Local qw( timegm );\n\nmy $Y = ...;\nmy $m = ...;\nmy $d = ...;\n\nmy $epoch = timegm(0, 0, 0, $d, $m-1, $Y-1900);\nmy $dow_name = strftime(\"%A\", gmtime($epoch));\n</code></pre>\n\n<p>You could also use <a href=\"http://search.cpan.org/perldoc?DateTime\" rel=\"nofollow noreferrer\">DateTime</a>; it's simpler to use, but it's not nearly as light a module as the ones used above.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 5, "last_activity_date": 1502219860, "creation_date": 1502219860, "answer_id": 45576433, "question_id": 45573680, "link": "https://stackoverflow.com/questions/45573680/finding-the-day-from-a-given-date/45576433#45576433", "title": "Finding the day from a given date", "body": "<p>As @Chris Turner points out, there is no path in your code to handle the case that is not a leap year. To fix this and to accomplish your stated goal, there is just one small change to make to your code.</p>\n\n<pre><code>if( ($year % 400 == 0) || ($year % 4 == 0) &amp;&amp; ($year % 100 != 0) ) {\n   $month[1] = 29 ;\n   for($i = 0 ; $i &lt; $mon - 1 ; $i++) {\n      ...\n   }\n}\nprint $week[$s+1] ;\n</code></pre>\n\n<p>should be re-written and re-indented as</p>\n\n<pre><code>if( ($year % 400 == 0) || ($year % 4 == 0) &amp;&amp; ($year % 100 != 0) ) {\n   $month[1] = 29 ; \n}\nfor($i = 0 ; $i &lt; $mon - 1 ; $i++) {\n   ...\n}\nprint $week[$s+1] ;\n</code></pre>\n\n<p>so that <code>$month[1]</code> is only updated for leap years, but the code in your <code>for</code> loop always runs.</p>\n\n<hr>\n\n<p>Experienced Perl programmers will also always advise you to start every script with</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>because these pragmas promote good programming practices and help catch many errors early in development. They wouldn't have helped with this problem, but if you start using them they will help with the next one.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1502254226, "last_edit_date": 1502254226, "creation_date": 1502221716, "answer_id": 45576927, "question_id": 45573680, "link": "https://stackoverflow.com/questions/45573680/finding-the-day-from-a-given-date/45576927#45576927", "title": "Finding the day from a given date", "body": "<p>To also introduce a most widely used module for date and time, here it is with <a href=\"http://search.cpan.org/~drolsky/DateTime-1.43/lib/DateTime.pm\" rel=\"nofollow noreferrer\">DateTime</a></p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature qw(say);\n\nuse DateTime;\n\n# ... acquire input ($year, $mon, $date)\n\nmy $dt = DateTime-&gt;new(year =&gt; $year, month =&gt; $mon, day =&gt; $date);\n\nsay $dt-&gt;day_name;\n</code></pre>\n\n<p>This is a very large and \"heavy\" module, with a lot of functionality. There are others.</p>\n\n<p>While I support doing this by hand as a part of learning, once it comes to working with dates and time you will want to use a module.</p>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1502276819, "post_id": 45585938, "comment_id": 78136566, "body": "This is a nice and intelligible explanation. Btw, I think the OP is more after reinventing the wheel for the purpose of learning how wheels work than after a stock module for calculating date values. I like that."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1502270131, "last_edit_date": 1502270131, "creation_date": 1502268865, "answer_id": 45585938, "question_id": 45573680, "link": "https://stackoverflow.com/questions/45573680/finding-the-day-from-a-given-date/45585938#45585938", "title": "Finding the day from a given date", "body": "<p>Don't do this yourself. Use a module. <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a> has been a standard part of the Perl distribution for almost ten years.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nuse Time::Piece;\n\nprint \"date:\\n\";\nchomp(my $date = &lt;STDIN&gt;);\nprint \"mon:\\n\";\nchomp(my $mon = &lt;STDIN&gt;);\nprint \"year:\\n\";\nchomp(my $year = &lt;STDIN&gt;);\n\nmy $tp = Time::Piece-&gt;strptime(\"$year-$mon-$date\", '%Y-%m-%d');\n\nsay $tp-&gt;fullday;\n</code></pre>\n\n<p>Some other tweaks I've made:</p>\n\n<ul>\n<li>Always <code>use strict</code> and <code>use warnings</code></li>\n<li>Declare variables with <code>my</code></li>\n<li>Use <code>chomp()</code> to remove newlines from input</li>\n</ul>\n\n<p><strong>Update:</strong> I've now looked at your code in greater detail. There's only one error there.</p>\n\n<p>Your logic looks like this:</p>\n\n<pre><code>if (we're in a leap year) {\n    Change the @months array to deal with leap years\n    Do the maths to calculate the day\n}\n</code></pre>\n\n<p>When it should have looked like this:</p>\n\n<pre><code>if (we're in a leap year) {\n    Change the @months array to deal with leap years\n}\nDo the maths to calculate the day\n</code></pre>\n\n<p>So, unless your input year was a leap year, you were skipping all of the calculations. This meant that $s was never being given a value. Perl treats an undefined value as 0, therefore your final statement was always printing <code>$week[0 + 1]</code> which is Monday.</p>\n\n<p>If modules like Time::Piece weren't available, a Perl programmer would write your code like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\n# Force us to declare variables.\nuse strict;\n# Get Perl to tell us when we're doing something stupid\nuse warnings;\n# Allow the use of say()\nuse feature 'say';\n\n# Declare variables with my()\nmy @month = (31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);\n# qw(...) defines a list without all that tedious punctuation\nmy @week = qw(Sunday Monday Tuesday Wednesday Thursday Friday Saturday);\n\nprint \"date:\\n\";\n# Use chomp() to remove newlines from input\nchomp(my $date = &lt;STDIN&gt;);\nprint \"mon:\\n\";\nchomp(my $mon = &lt;STDIN&gt;);\nprint \"year:\\n\";\nchomp(my $year = &lt;STDIN&gt;);\n\n# This logic can be cleaned up a lot.\nif ( ($year % 400 == 0) || ($year % 4 == 0) &amp;&amp; ($year % 100 != 0) ) {\n    $month[1] = 29 ;\n}\n\n# Initialise $s to avoid warnings later\nmy $s = 0;\n# A foreach look is almost always cleaner than for (;;)\nforeach my $i (0 .. $mon - 2) {\n    # Haven't checked your calculations (but they seem to work\n    # += is  useful shortcut\n    $s += $month[$i];\n    $s += ($date + $year + ($year / 4) - 2);\n    $s %= 7;\n}\n\n# say() is like print() but with an extra newline\nsay $week[$s+1];\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8435441, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MYkmAzwIJKM/AAAAAAAAAAI/AAAAAAAAA1I/yzO2Bs924Wk/photo.jpg?sz=128", "display_name": "Elif Nur Kahraman", "link": "https://stackoverflow.com/users/8435441/elif-nur-kahraman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 933, "favorite_count": 0, "accepted_answer_id": 45585938, "answer_count": 4, "score": 2, "last_activity_date": 1502291822, "creation_date": 1502210230, "last_edit_date": 1502291822, "question_id": 45573680, "link": "https://stackoverflow.com/questions/45573680/finding-the-day-from-a-given-date", "title": "Finding the day from a given date", "body": "<pre><code>#!/usr/bin/perl\n\n@month = (31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);\n@week = (\"Sunday\", \"Monday\",\"Tuesday\", \"Wednesday\",\"Thursday\", \"Friday\", \n    \"Saturday\");\n\nprint \"date:\\n\";\n$date=&lt;STDIN&gt;;\nprint \"mon:\\n\";\n$mon=&lt;STDIN&gt;;\nprint \"year:\\n\";\n$year=&lt;STDIN&gt;;\n\nif ( ($year % 400 == 0) || ($year % 4 == 0) &amp;&amp; ($year % 100 != 0) )\n{\n    $month[1] = 29 ;\n    for($i = 0 ; $i &lt; $mon - 1 ; $i++)\n    {       \n        $s = $s + $month[$i] ;\n        $s = $s + ($date + $year + ($year / 4) - 2) ;\n        $s = $s % 7 ;\n    }\n}\nprint $week[$s+1] ;\n</code></pre>\n\n<p>i've been trying to learn perl for a few days and i wrote that code to find the day from a given date. actually i converted this from a C code. But its not working true. The output is always Monday. Where am i making the mistake?</p>\n"}, {"tags": ["perl", "dbi", "pp-perl-par-packager"], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 2, "last_activity_date": 1502215271, "creation_date": 1502215271, "answer_id": 45575114, "question_id": 45571823, "link": "https://stackoverflow.com/questions/45571823/how-to-add-all-dependencies-of-perl-dbi-module-to-par-packer-archive/45575114#45575114", "title": "How to add all dependencies of Perl DBI module to PAR packer archive", "body": "<p>The following part of the error message:</p>\n\n<pre><code>libmysqlclient.so.20: cannot open shared object file: No such file or directory\n</code></pre>\n\n<p>...typically means that the MySQL client library is not installed on the system you're attempting to unpack/install onto, so you need to install it. For example, on Ubuntu:</p>\n\n<pre><code>sudo apt-get install mysql-client\n</code></pre>\n"}], "owner": {"reputation": 2895, "user_id": 1150325, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lA9r5.jpg?s=128&g=1", "display_name": "Matthias Munz", "link": "https://stackoverflow.com/users/1150325/matthias-munz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "accepted_answer_id": 45575114, "answer_count": 1, "score": 1, "last_activity_date": 1502262444, "creation_date": 1502204444, "last_edit_date": 1502262444, "question_id": 45571823, "link": "https://stackoverflow.com/questions/45571823/how-to-add-all-dependencies-of-perl-dbi-module-to-par-packer-archive", "title": "How to add all dependencies of Perl DBI module to PAR packer archive", "body": "<p>I have created a Perl script which uses the DBI package to connect to a MySQL database. To make it run on other linux platforms where not necessarily all dependencies are installed, I am creating a single standalone file which includes all dependencies with <a href=\"http://perl.mines-albi.fr/perl5.6.1/site_perl/5.6.1/PAR/Intro.html\" rel=\"nofollow noreferrer\">Par Packer (pp)</a> using the following command:</p>\n\n<pre><code>pp -c -x -o myscript myscript.pl\n</code></pre>\n\n<p>The standalone file works fine on the machine where it was created, however, on other machines, I get the following error at the line where DBI -> connect() is executed.</p>\n\n<pre><code>install_driver(mysql) failed: Can't load '/tmp/par-6d756e7a/cache-44c3853ef3002ad860cfe135d24ccc8829af39da/89fc0e43.so' for module DBD::mysql: libmysqlclient.so.20: cannot open shared object file: No such file or directory at /usr/lib/x86_64-linux-gnu/perl/5.22/DynaLoader.pm line 187.\n at /usr/local/share/perl/5.22.1/PAR/Heavy.pm line 123.\nCompilation failed in require at (eval 15) line 3.\nPerhaps a required shared library or dll isn't installed where expected\n at DBI/DBHandler.pm line 41.\n</code></pre>\n\n<p>It seems that a file is missing, but I don't know how to fix it. Adding <code>-lib=/tmp/par-6d756e7a/cache-44c3853ef3002ad860cfe135d24ccc8829af39da/89fc0e43.so</code> doesn't work.</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>The following libs are already installed on the server where the error occurs:</p>\n\n<pre><code>$ dpkg -l | grep mysql\nii  libdbd-mysql-perl                    4.028-2+deb8u2               amd64        Perl5 database interface to the MySQL database\nii  libmysqlclient18:amd64               5.5.54-0+deb8u1              amd64        MySQL database client library\nii  mysql-client                         5.5.54-0+deb8u1              all          MySQL database client (metapackage depending on the latest version)\nii  mysql-client-5.5                     5.5.54-0+deb8u1              amd64        MySQL database client binaries\nii  mysql-common                         5.5.54-0+deb8u1              all          MySQL database common files, e.g. /etc/mysql/my.cnf\n</code></pre>\n\n<p>Here is an example script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\n\nmy $dbh = DBI -&gt; connect(\"dbi:mysql:homo_sapiens_core_89_38:ensembldb.ensembl.org:3306\", \"anonymous\") || die \"Connection Error: $DBI::errstr\\n\"; \n\nmy $sth = $dbh -&gt; prepare(\"SELECT * FROM exon limit 10\");\nmy $success = $sth -&gt; execute();\n\nif (!$success &amp;&amp; !defined $DBI::errstr){\n    print STDERR \"Query not successful. No error message returned. Try to continue.\\n\";\n}\nelsif (!$success &amp;&amp; defined $DBI::errstr){\n    die \"SQL Error: $DBI::errstr\\n\";\n}\n\nwhile (my @row = $sth -&gt; fetchrow_array){\n    print join(\"\\t\", @row).\"\\n\";\n}\n\n$sth  -&gt; finish();\n\n$dbh -&gt; disconnect();\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8434806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/673fc02770f77c0934977f931f05b0cc?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/8434806/jon"}, "edited": false, "score": 0, "creation_date": 1502260931, "post_id": 45572392, "comment_id": 78125616, "body": "Thanky you. Works perfect!"}], "tags": [], "owner": {"reputation": 1330, "user_id": 2375142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XMqXW.jpg?s=128&g=1", "display_name": "Laposhas&#250; Acsa", "link": "https://stackoverflow.com/users/2375142/laposhas%c3%ba-acsa"}, "is_accepted": true, "score": 2, "last_activity_date": 1502207099, "last_edit_date": 1502207099, "creation_date": 1502206143, "answer_id": 45572392, "question_id": 45571773, "link": "https://stackoverflow.com/questions/45571773/set-header-fields-for-httprequestcommon/45572392#45572392", "title": "Set header fields for HTTP::Request::Common", "body": "<p>According to the documentation:</p>\n\n<pre><code>HTTP::Request::Common::GET $url, Header =&gt; Value,...\n</code></pre>\n\n<p>is the same as </p>\n\n<pre><code>HTTP::Request-&gt;new(\n   GET =&gt; $url,\n   HTTP::Headers-&gt;new(Header =&gt; Value,...),\n)\n</code></pre>\n\n<p>I think your original approach (the commented) is good, but you assign it the wrong way:</p>\n\n<pre><code>my $header = shift;\nmy $content = shift;\nmy $request = HTTP::Request::Common::POST($url, Header =&gt; $header, Content =&gt; $content);\n</code></pre>\n\n<p>Here, you create only one header, named <code>Header</code>. You can use the following if you have a HTTP::Headers object:</p>\n\n<pre><code>my $request = HTTP::Request::Common::POST($url, $header-&gt;flatten, Content =&gt; $content);\n</code></pre>\n\n<p>If you change <code>GetRequestHeader</code> to return a hash reference (as you have commented, but with <code>return \\%header</code> instead of <code>return %header</code>), you can use the following:</p>\n\n<pre><code>my $request = HTTP::Request::Common::POST($url, %$hashref, Content =&gt; $content);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8434806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/673fc02770f77c0934977f931f05b0cc?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/8434806/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1092, "favorite_count": 0, "accepted_answer_id": 45572392, "answer_count": 1, "score": 1, "last_activity_date": 1502207099, "creation_date": 1502204336, "question_id": 45571773, "link": "https://stackoverflow.com/questions/45571773/set-header-fields-for-httprequestcommon", "title": "Set header fields for HTTP::Request::Common", "body": "<p>I've problems to set header fields for sending requests by Perl modul 'HTTP::Request::Common'.</p>\n\n<p>In subject to the corresponding server I have to set different header fields for my request.</p>\n\n<p>So I want to use a sub 'MakeRequest()' </p>\n\n<pre><code>sub MakeRequest {\n    my $url = shift;\n    my $header = shift;\n    my $content = shift;\n    my $request = HTTP::Request::Common::POST($url, Header =&gt; $header, Content =&gt; $content);\n    # I tried also my $request = HTTP::Request::Common::POST($url, $header, Content =&gt; $content);\n    my $ua = LWP::UserAgent-&gt;new;\n    my $response = $ua-&gt;request($request);\n    return $response;\n}\n</code></pre>\n\n<p>and pass some informations into it <code>my $response = MakeRequest($url, GetRequestHeader(), $content);</code> </p>\n\n<pre><code>sub GetRequestHeader {\n    my $header = HTTP::Headers-&gt;new;\n    $header-&gt;header('Content-Type' =&gt; 'application/json; charset=utf-8'); \n    $header-&gt;header('accept' =&gt; 'application/json'); \n    $header-&gt;authorization_basic($username, $password);\n    return $header;\n\n    # I tried this first, but got the same result as shown below\n    #\n    #   my %header = ( \n    #       'content_type' =&gt; 'application/json; charset=utf-8', \n    #       'authorization_basic' =&gt; ($username, $password), \n    #       'accept' =&gt;  'application/json'\n    #   );\n    # return %header;\n\n}\n</code></pre>\n\n<p>But all I got from the remote server is this </p>\n\n<blockquote>\n  <p>\"Content type 'application/x-www-form-urlencoded' is not supported.\n  Please use 'application/json; charset=utf-8'.\"</p>\n</blockquote>\n\n<p>When I made a <code>print Data::Dumper($request);</code> I get</p>\n\n<pre><code>'_headers' =&gt; bless( {\n                       'content-length' =&gt; 544,\n                       'user-agent' =&gt; 'libwww-perl/6.15',\n                       'header' =&gt; bless( {\n                                            'content-type' =&gt; 'application/json; charset=utf-8',\n                                            'authorization' =&gt; 'Basic Qxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx==',\n                                            'accept' =&gt; 'application/json'\n                                          }, 'HTTP::Headers' ),\n                       '::std_case' =&gt; {\n                                         'header' =&gt; 'Header',\n                                         'if-ssl-cert-subject' =&gt; 'If-SSL-Cert-Subject'\n                                       },\n                       'content-type' =&gt; 'application/x-www-form-urlencoded'\n                     }, 'HTTP::Headers' ),\n</code></pre>\n\n<p>What's my mistake that the 'content-type' isn't overwritten by my header field settings?</p>\n"}, {"tags": ["regex", "perl", "substring", "conditional"], "answers": [{"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1502201851, "creation_date": 1502201851, "answer_id": 45570829, "question_id": 45570764, "link": "https://stackoverflow.com/questions/45570764/perl-regex-extract-substring-because-other-substring-exists/45570829#45570829", "title": "Perl Regex extract substring because other substring exists", "body": "<p>You may use</p>\n\n<pre><code>ERROR:.*?(\\d+)\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/Unecy2/1\" rel=\"nofollow noreferrer\">regex demo</a>. Here, <code>.*?</code> will match any 0+ chars other than line break chars as few as possible (as the <code>*?</code> is a lazy quantifier) and <code>(\\d+)</code> will capture into Group 1 one or more digits.</p>\n\n<p>Or, alternatively</p>\n\n<pre><code>ERROR:.*\\D(\\d+)\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/Unecy2/2\" rel=\"nofollow noreferrer\">another demo</a>. Here, <code>.*\\D</code> will match any 0+ chars other than line break chars as <em>many</em> as possible (as <code>*</code> is a greedy quantifier), up to and including the last non-digit char (with <code>\\D</code>) and then <code>(\\d+)</code> will capture into Group 1 one or more digits.</p>\n\n<p>Choose the pattern that best fits your scenario (the first is best if the number is the first group of digits after <code>ERROR:</code> and the second is best when the group of digits is the last one on a line).</p>\n"}], "owner": {"reputation": 620, "user_id": 1259945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BXsgq.gif?s=128&g=1", "display_name": "Ronald Weidner", "link": "https://stackoverflow.com/users/1259945/ronald-weidner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 45570829, "answer_count": 1, "score": 1, "last_activity_date": 1502201851, "creation_date": 1502201697, "question_id": 45570764, "link": "https://stackoverflow.com/questions/45570764/perl-regex-extract-substring-because-other-substring-exists", "title": "Perl Regex extract substring because other substring exists", "body": "<p>I need to extract a substring because another substring exists.  In the following example the word ERROR: proceeds the value 12345678.  I need the value 12345678.  In the second example ERROR: does not exist.  Therefore I need no result.  This is as far as I got:</p>\n\n<pre><code>ERROR:.*(\\d)\n</code></pre>\n\n<blockquote>\n  <p>20170808 ERROR: TXN 12345678 Request limit reached. </p>\n  \n  <p>20170808 WARN: TXN 22345678 Pending expire.</p>\n</blockquote>\n\n<p>If you are a regex guru then you know the above matches </p>\n\n<blockquote>\n  <p>ERROR: TXN 12345678 </p>\n</blockquote>\n\n<p>and the group is only the digit 8. I need the whole number.  Thanks for your help. </p>\n"}, {"tags": ["perl", "hash", "oauth"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1502197517, "post_id": 45568986, "comment_id": 78097520, "body": "What precisely are you trying to <code>uri_escape</code>?  <code>$request{$_}</code> is a hash reference and not generally the kind of thing you want to stringify."}, {"owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1502199504, "post_id": 45568986, "comment_id": 78099048, "body": "Yeah, guess I don&#39;t need the uri_escape, the example I was following uses the HMAC packages add function to construct the signature for a GET request, but I&#39;m using POST for this particular Quickbooks API call. Confusing to me as well how a string could be produced, but from what I understand the request has to be part of the oauth signature. I&#39;ll add the example that works compared to what I&#39;m trying to do."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1502202135, "post_id": 45568986, "comment_id": 78101141, "body": "In the working example the signature is being constructed from the elements that make up the HTTP request - method, host and query string. How are you using <code>%request</code> to build <code>$req</code>?"}, {"owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "edited": false, "score": 0, "creation_date": 1502203346, "post_id": 45568986, "comment_id": 78102097, "body": "Yes, as the content, I&#39;ve added above. I am not having any luck converting the hash to a json string either using the JSON package. Doesn&#39;t give me the entire hash using $json-&gt;encode(%request);."}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "edited": false, "score": 0, "creation_date": 1502214881, "post_id": 45572684, "comment_id": 78109448, "body": "Actually I have tried my $js = $json-&gt;encode(\\%request); and get the this error: cannot encode reference to scalar. I&#39;ll add more above."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "edited": false, "score": 0, "creation_date": 1502270138, "post_id": 45572684, "comment_id": 78131628, "body": "@rwfitzy you&#39;re creating your hash incorrectly - the outermost hash is created with brackets not braces. See my answer for an example of how to create a hash. The inner ones are done with braces though"}], "tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 0, "last_activity_date": 1502207013, "creation_date": 1502207013, "answer_id": 45572684, "question_id": 45568986, "link": "https://stackoverflow.com/questions/45568986/perl-hash-to-oauth-signature/45572684#45572684", "title": "Perl hash to oauth signature", "body": "<p>So firstly, if you read the JSON module docs, it quite clearly states that the <code>encode</code> method only takes a scalar so passing it a hash won't work. When you pass a hash like that to a function, it takes each key and value and passes them separately.</p>\n\n<pre><code>my %hash=(\"a\" =&gt; 1,\"b\" =&gt; 2);\nmy_func(%hash);\n# The above function call is the same as the one below\nmy_func(\"b\",2,\"a\",1);\n</code></pre>\n\n<p>the order it passes each key/value pairing is random as you'd normally find with a hash. It should even throw up an error telling you how to use it or at least the version I've got installed did when I tried testing out your code.</p>\n\n<p>Instead what you actually want to do is pass in the hashref like this</p>\n\n<pre><code>$json-&gt;encode(\\%request);\n</code></pre>\n\n<p>The value that returns is what you need to pass to <code>$req-&gt;content()</code> and use in the signature. I don't know anything of the Quickbooks API to know if you are meant to pass the JSON data as is or use it as a value to a CGI parameter though. It should be something it tells you in their documentation I would hope.</p>\n"}], "owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1502216062, "creation_date": 1502196947, "last_edit_date": 1502216062, "question_id": 45568986, "link": "https://stackoverflow.com/questions/45568986/perl-hash-to-oauth-signature", "title": "Perl hash to oauth signature", "body": "<p>I found an example of how to make an oauth signature, but having a problem with a multidimensional hash. My hash looks like this using Data::Dumper to display my hash called %request:</p>\n\n<pre><code>$VAR1 = { 'Invoice' =&gt; { 'Line' =&gt; [ { 'Id' =&gt; '1', 'SalesItemLineDetail' =&gt; { 'ItemRef' =&gt; { 'value' =&gt; 'SKM2267' }, 'UnitPrice' =&gt; '10.00' }, 'DetailType' =&gt; 'SalesItemLineDetail', 'LineNum' =&gt; 1 }, { 'Id' =&gt; '2', 'SalesItemLineDetail' =&gt; { 'ItemRef' =&gt; { 'value' =&gt; 'SKM2292' }, 'UnitPrice' =&gt; '20.00' }, 'DetailType' =&gt; 'SalesItemLineDetail', 'LineNum' =&gt; 2 }, { 'Id' =&gt; '3', 'SalesItemLineDetail' =&gt; { 'ItemRef' =&gt; { 'value' =&gt; 'SKM2285' }, 'UnitPrice' =&gt; '30.00' }, 'DetailType' =&gt; 'SalesItemLineDetail', 'LineNum' =&gt; 3 } ], 'DocNumber' =&gt; '90210', 'CustomerRef' =&gt; \\{ 'name' =&gt; 'Amazon.com', 'value' =&gt; 1 } } };\n</code></pre>\n\n<p>The example to make the signature involves joining the %request hash above into a string:</p>\n\n<pre><code>my $string = join('&amp;',map {$_ . '=' . uri_escape($request{$_})} sort keys %request);\n</code></pre>\n\n<p>But this produces the following which is not consistent to be used as a signature:</p>\n\n<pre><code>Invoice=HASH%280x7f254c17b540%29\n</code></pre>\n\n<p>How can I handle this hash to create the string I need to pass into my oauth signature string?</p>\n\n<p>The example script, which works fine, uses the following to construct the oauth signature:</p>\n\n<pre><code>my $hmac = Digest::HMAC_SHA1-&gt;new($e-&gt;{params}{qbo_consumer_secret} . '&amp;' . $e-&gt;{params}{qbo_access_token_secret});\n$hmac-&gt;add('GET&amp;' . uri_escape('https://sandbox-quickbooks.api.intuit.com/v3/company/' . $company_id . '/query') . '&amp;' . uri_escape('oauth_consumer_key=' . $consumer_key . '&amp;oauth_nonce=' . $nonce . '&amp;oauth_signature_method=HMAC-SHA1&amp;oauth_timestamp=' . $time . '&amp;oauth_token=' . $access_token . '&amp;oauth_version=1.0' . '&amp;' . join('&amp;',map {$_ . '=' . uri_escape($params{$_})} sort keys %params)));\n</code></pre>\n\n<p>As compared to what I am trying:</p>\n\n<pre><code>my $hmac = Digest::HMAC_SHA1-&gt;new($e-&gt;{params}{qbo_consumer_secret} . '&amp;' . $e-&gt;{params}{qbo_access_token_secret});\n$hmac-&gt;add('POST&amp;' . uri_escape($server) . '&amp;' . uri_escape('oauth_consumer_key=' . $e-&gt;{params}{qbo_consumer_key}) . '&amp;oauth_nonce=' . $nonce . '&amp;oauth_signature_method=HMAC-SHA1&amp;oauth_timestamp=' . $time . '&amp;oauth_token=' . $e-&gt;{params}{qbo_access_token} . '&amp;oauth_version=1.0' . '&amp;' . join('&amp;',map {$_ . '=' . uri_escape($request{$_})} sort keys %request));\n</code></pre>\n\n<p>Then the request includes this authorization header:</p>\n\n<pre><code>my $req = HTTP::Request-&gt;new(POST =&gt; $server);\n$req-&gt;header(Authorization =&gt;\n    'OAuth oauth_consumer_key=\"' . $e-&gt;{qbo_consumer_key}\n    . '\",oauth_nonce=\"' . $nonce\n    . '\",oauth_signature=\"' . encode_base64($hmac-&gt;digest)\n    . '\",oauth_signature_method=\"HMAC-SHA1'\n    . '\",oauth_timestamp=\"' . time();\n    . '\",oauth_token=\"' . $e-&gt;{qbo_access_token}\n    . '\",oauth_version=\"1.0'\n    . '\"');\n$req-&gt;content( \\%request );\n</code></pre>\n\n<p>Also, trying to convert the hash to json results in 'cannot encode reference to scalar'. I try this simple test script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse JSON;\n\nmy %hash = { 'Invoice' =&gt; { 'Line' =&gt; [ { 'Id' =&gt; '1', 'SalesItemLineDetail' =&gt; { 'ItemRef' =&gt; { 'value' =&gt; 'SKM2267' }, 'UnitPrice' =&gt; '10.00' }, 'DetailType' =&gt; 'SalesItemLineDetail', 'LineNum' =&gt; 1 }, { 'Id' =&gt; '2', 'SalesItemLineDetail' =&gt; { 'ItemRef' =&gt; { 'value' =&gt; 'SKM2292' }, 'UnitPrice' =&gt; '20.00' }, 'DetailType' =&gt; 'SalesItemLineDetail', 'LineNum' =&gt; 2 }, { 'Id' =&gt; '3', 'SalesItemLineDetail' =&gt; { 'ItemRef' =&gt; { 'value' =&gt; 'SKM2285' }, 'UnitPrice' =&gt; '30.00' }, 'DetailType' =&gt; 'SalesItemLineDetail', 'LineNum' =&gt; 3 } ], 'DocNumber' =&gt; '90210', 'CustomerRef' =&gt; \\{ 'name' =&gt; 'Amazon.com', 'value' =&gt; 1 } } };\n\nmy $js = encode_json \\%hash;\nprint \"$js\\n\";\n</code></pre>\n\n<p>Produces this error below, is there something wrong with my hash?</p>\n\n<pre><code>Reference found where even-sized list expected at testjson.pl line 8.\n{\"HASH(0x8db5f3c)\":null}\n</code></pre>\n"}, {"tags": ["perl", "ssh"], "comments": [{"owner": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1502192012, "post_id": 45566892, "comment_id": 78093289, "body": "<code>SSH::Expect</code> is not a module on CPAN. Is this a custom module or did you typo <code>Net::SSH::Expect</code> ?"}, {"owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "reply_to_user": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1502192340, "post_id": 45566892, "comment_id": 78093532, "body": "Yes Net::SSH sorry for the typo"}, {"owner": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1502193706, "post_id": 45566892, "comment_id": 78094577, "body": "The documentation for <code>Net::SSH::Expect</code> does not mention a <code>login_username</code>, but it <i>does</i> state that the output of <code>$command</code> is returned from <code>-&gt;exec</code>. So have you tried simply <code>print $ssh-&gt;exec($command);</code> ?"}, {"owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "reply_to_user": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1502201577, "post_id": 45566892, "comment_id": 78100673, "body": "I have tried it as well but did not succeed"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502256047, "post_id": 45566892, "comment_id": 78123523, "body": "@ferozalam_82 Please see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>. And please provide feedback if there are problems with answers, or questions."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1502255894, "last_edit_date": 1502255894, "creation_date": 1502215074, "answer_id": 45575049, "question_id": 45566892, "link": "https://stackoverflow.com/questions/45566892/from-a-script-run-a-script-on-a-remote-server-and-get-its-output/45575049#45575049", "title": "From a script, run a script on a remote server and get its output", "body": "<p>Please see <a href=\"http://search.cpan.org/~bnegrao/Net-SSH-Expect-1.09/lib/Net/SSH/Expect.pod\" rel=\"nofollow noreferrer\">Net::SSH::Expect</a> documentation.  You aren't using it right</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Net::SSH::Expect;\n\nmy $ssh = Net::SSH::Expect-&gt;new (\n    host     =&gt; 'host name', \n    user     =&gt; 'user name', \n    password =&gt; 'password', \n    raw_pty  =&gt; 1\n);\n\nmy $greeting = $ssh-&gt;login();  # or $ssh-&gt;run_ssh(), if without password\nprint $greeting;\n\n# Disable terminal translations and echo on the SSH server\n$ssh-&gt;exec(\"stty raw -echo\");\n\nmy $cmd = q( ... );\n\nmy $cmd_output = $ssh-&gt;exec($cmd);\n\nprint $cmd_output, \"\\n\";\n</code></pre>\n\n<p>The <code>exec</code> method is one of the ways to get the command output. Some others are <code>read_line</code>, <code>peek</code>, <code>eat</code>, and there are yet other ways to interact with the command.</p>\n\n<p>Please add checks to see whether the login worked first. </p>\n\n<p>This can accomplish a lot and it involves complexities. PLease read the documentation.</p>\n"}], "owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521009723, "creation_date": 1502191051, "last_edit_date": 1521009723, "question_id": 45566892, "link": "https://stackoverflow.com/questions/45566892/from-a-script-run-a-script-on-a-remote-server-and-get-its-output", "title": "From a script, run a script on a remote server and get its output", "body": "<p>I am executing a Perl script. I have to SSH to a remote server and execute a python script. Below is the line of code that I am executing in the perl script. I know there are few options like backticks and system command  to execute a python script but I have the script in remote server and I cannot  use system or backticks command as it is not local machine. I want the output of the command that I am executing through SSH at runtime.</p>\n\n<pre><code>   my $ssh = new Net::SSH::Expect();\n    $ssh-&gt;login_username($server_login);\n    $ssh-&gt;server($server_name);\n    $ssh-&gt;login();\n    my $home_directory= $ssh-&gt;pwd;\n\nmy $command=qq(/home/feroz/MyScript.py $ARG0 $ARG1 $ARG2 $ARG3 1)\n    print \"\\n-------- BEGIN SCRIPT OUTPUT ----------\\n\";\n    $ssh-&gt;exec($command)){\n\n    print \"\\n -------- END SCRIPT OUTPUT ----------\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1502192407, "post_id": 45566817, "comment_id": 78093592, "body": "What is your expected result? A (N x M) matrix with all the comparison results like <code>&lt;</code>, <code>&gt;</code>, <code>==</code>?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1502197087, "post_id": 45566817, "comment_id": 78097196, "body": "<a href=\"https://stackoverflow.com/questions/2933347/difference-of-two-arrays-using-perl\">Possible duplicate</a>"}, {"owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "edited": false, "score": 0, "creation_date": 1502360622, "post_id": 45566817, "comment_id": 78180343, "body": "Sorry for the late reply. May be I make the situation more clearer: There are two arrays array1 and array2, both of them are holding a large number of values inside. Two arrays has intersection elements and all the elements can be unique or duplicated. Now that I want to calculate the number of occurances of those intersection elements."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1502209007, "post_id": 45572864, "comment_id": 78106088, "body": "It highly depends on what the OP meant with <i>\u201ccompare\u201d</i>. If she&#39;s thinking of set operations like <i>intersection</i> or <i>difference</i>, then a hash would help. If she&#39;s thinking of <code>&lt;=&gt;</code> comparisons, then not."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1502209368, "post_id": 45572864, "comment_id": 78106311, "body": "@PerlDuck, Not at all. Anything you can do with two nested loops, including the situation where you have duplicates, can be optimized as described. You might been to iterate over a hash instead of an array, that&#39;s all."}, {"owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "edited": false, "score": 0, "creation_date": 1502360641, "post_id": 45572864, "comment_id": 78180360, "body": "Sorry for the late reply. May be I make the situation more clearer: There are two arrays array1 and array2, both of them are holding a large number of values inside. Two arrays has intersection elements and all the elements can be unique or duplicated. Now that I want to calculate the number of occurances of those intersection elements."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502384872, "post_id": 45572864, "comment_id": 78198744, "body": "I have no idea what that means."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1502210901, "last_edit_date": 1502210901, "creation_date": 1502207524, "answer_id": 45572864, "question_id": 45566817, "link": "https://stackoverflow.com/questions/45566817/perl-how-to-traverse-and-compare-all-the-elements-inside-two-different-array-in/45572864#45572864", "title": "Perl How to traverse and compare all the elements inside two different array in a faster way?", "body": "<p>The trick is to speed up lookups, say, by using a hash.</p>\n\n<p>Depending on the specifics, some variation of the following could be used:</p>\n\n<pre><code>my %array1;\n++$array1{$_} for @array1;\nfor (@array1) {\n   say \"$_ isn't in \\@array1\"\n      if !$array1{$_};\n}\n</code></pre>\n\n<p>If duplicates are possible:</p>\n\n<pre><code>my %array1;\n++$array1{$_} for @array1;\nmy %array2;\nfor (@array1) {\n   say \"$_ isn't in \\@array1\"\n      if ++$array2{$_} &gt; ($array1{$_} // 0);\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 45572864, "answer_count": 1, "score": 0, "last_activity_date": 1502210901, "creation_date": 1502190842, "question_id": 45566817, "link": "https://stackoverflow.com/questions/45566817/perl-how-to-traverse-and-compare-all-the-elements-inside-two-different-array-in", "title": "Perl How to traverse and compare all the elements inside two different array in a faster way?", "body": "<p>Assume there are two arrays, each of them holding very large number of elements. Now I want to compare every each element inside both, if I just do like usual way: using two nested for loop to do the job, it would be quite time consuming. Are there any faster workaround to achieve same purposes? Thanks!</p>\n"}, {"tags": ["perl", "for-loop", "variable-declaration"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1502186616, "post_id": 45565169, "comment_id": 78089399, "body": "Instead of answer, put this inside the loop <code>print \\@Array_Vals, &quot;\\n&quot;;</code> and <code>print &quot;$_\\n&quot; for @Array_of_ALL_Vals;</code> after the loop."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1502186836, "post_id": 45565169, "comment_id": 78089571, "body": "Please note @\u0421\u0443\u0445\u043e\u043927&#39;s comment -- this is a good question, but <i>you can</i> figure it out yourself."}, {"owner": {"reputation": 137, "user_id": 7866968, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a05d28d5bbdcb5ae6c14c033b9275555?s=128&d=identicon&r=PG&f=1", "display_name": "gauss76", "link": "https://stackoverflow.com/users/7866968/gauss76"}, "edited": false, "score": 0, "creation_date": 1502194383, "post_id": 45565169, "comment_id": 78095060, "body": "Thanks...I&#39;ll test it out."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1502189719, "creation_date": 1502189719, "answer_id": 45566416, "question_id": 45565169, "link": "https://stackoverflow.com/questions/45565169/declare-variable-in-loop-with-perl/45566416#45566416", "title": "declare variable in loop with Perl", "body": "<p>Each time you enter your loop, you get a brand new variable called <code>@Array_Vals</code>. Each of these variables will live in a different part of memory and will, therefore, have a different reference. You can verify this by printing the reference to your array (<code>print \\@Array_Vals</code>) inside your loop.</p>\n\n<p>So you have a new array variable, which you then populate. And then you take a reference to that array and store the reference in another array. We're then at the end of the loop iteration and <code>@Array_Vals</code> goes out of scope and ceases to exist. Or, rather, the <strong>name</strong> of the variable ceases to exist. When we stored a reference to <code>@Array_Vals</code> in <code>@Array_of_All_Vals</code>, Perl internally made a note that this reference was being stored elsewhere (we say \"the reference count was incremented\"). And while the reference count is non-zero, Perl will not free up the memory that was used to store the old <code>@Array_Vals</code> array.</p>\n\n<p>If the <code>@Array_of_All_Vals</code> array was to ever go out of scope, then Perl would decrement the reference count on all of the references stored in its elements. The reference count on the old <code>@Array_Vals</code> array would go to zero and Perl's garbage collection would be free to re-use that memory at some point in the future.</p>\n\n<p>So, the mechanism you've developed is guaranteed to work fine. In fact it's the recommended approach to situations like this.</p>\n"}], "owner": {"reputation": 137, "user_id": 7866968, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a05d28d5bbdcb5ae6c14c033b9275555?s=128&d=identicon&r=PG&f=1", "display_name": "gauss76", "link": "https://stackoverflow.com/users/7866968/gauss76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 917, "favorite_count": 0, "accepted_answer_id": 45566416, "answer_count": 1, "score": 6, "last_activity_date": 1502189719, "creation_date": 1502186148, "question_id": 45565169, "link": "https://stackoverflow.com/questions/45565169/declare-variable-in-loop-with-perl", "title": "declare variable in loop with Perl", "body": "<p>I am fairly new to Perl and have recently produced the following piece of code. I have tested it extensively and it returns the desired results. However I just wondered if someone with more experience of Perl could advice me on its usability.</p>\n\n<p>Basically, I have declared an array variable with the 'my' keyword inside a for loop. I then use the address of this declared array variable in another array variable that has been declared before the aforementioned for loop. The basic code structure looks like this:</p>\n\n<pre><code>my @Array_of_ALL_Vals;\nfor my $iloop (0 .. 10){\n    my @Array_Vals;\n    .\n    Code in here to populate @Array_of_Vals\n    .\n    push @Array_of_ALL_Vals,\\@Array_Vals;\n}\n</code></pre>\n\n<p>The @Array_Vals variable is, in general, a different size each time. In addition the array @Array_Vals defined inside the loop is not used anywhere else in the code and is local to the for loop.</p>\n\n<p>My concern is with the declaration of the array within the for loop. Even though the name of the variable is the same each time I assume that for each loop iteration it gets assigned to a different memory address. Is this correct?</p>\n\n<p>I thought it would be better to add an incrementer to the array name inside the for loop so the name would be different each time (@Array_Vals1,@Array_Vals2,...). Then I could push these values into the @Array_of_ALL_Vals array and be sure that the final arrays values would not be overwritten. However after doing some searches I found that such methods are discouraged (variable name containing variable).</p>\n\n<p>So I suppose what I am asking is: Is my method of using the same array name for each loop iteration and then appending the address of this array to a new array (@Array_of_ALL_Vals) valid? Or, does the fact that the loop array (@Array_Vals) keeps getting overwritten mess up the validity of my array @Array_of_ALL_Vals (which contains the addresses of the @Array_Vals array) after all iterations have been performed?</p>\n\n<p>Many thanks for any comments</p>\n\n<p>Gauss76</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1502178665, "post_id": 45559636, "comment_id": 78083765, "body": "Why not use coordinates like <code>(1,1), (2,4), (3,7), .. </code> and so on? According to you expected output coordinate <code>(4,4)</code> would be a star, but I think it should be <code>(2,4)</code> instead, right? (since in row 2, column 4, there is a star)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1503116895, "post_id": 45559636, "comment_id": 78493685, "body": "Please see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1502175569, "creation_date": 1502175569, "answer_id": 45561353, "question_id": 45559636, "link": "https://stackoverflow.com/questions/45559636/perl-match-string-in-2d-array/45561353#45561353", "title": "perl match string in 2d array", "body": "<p>Check the following</p>\n\n<pre><code>my ($x,$k)=(0,2);\nforeach my $m (0..2)\n{\n    foreach my $i(0..$#array)\n    {\n\n        my @av = @{$array[$i]}[$x..$k]; \n        my $string = join(\"\", @av );\n        print $i+1 if($string=~m/\\*/);\n\n        #my @new_array = @{$array[$i]}[$x..$k];\n        #foreach (@new_array)\n        #{\n        #   print   $i+1 if($_=~m/\\*/);\n        #}\n\n    }\n    $x+=3;\n    $k+=3;\n}   \n\nprint \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1502186235, "post_id": 45563625, "comment_id": 78089102, "body": "@el.pescado  Correct, just cleaned up and added a note.  Thanks for the comment."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1502255710, "post_id": 45563625, "comment_id": 78123409, "body": "@user1495523  There was an error which would make the solution wrong for  a rectangular matrix (it would only work for a square matrix). Fixed."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1503116854, "last_edit_date": 1503116854, "creation_date": 1502182110, "answer_id": 45563625, "question_id": 45559636, "link": "https://stackoverflow.com/questions/45559636/perl-match-string-in-2d-array/45563625#45563625", "title": "perl match string in 2d array", "body": "<p>One way: use linear index to identify elements' position, then rebuild row/column from that </p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse List::MoreUtils qw(indexes);\n\nmy @matrix = ( ... );  # from the question\n\nmy @linear_idx = indexes { $_ eq '*' } map { @$_ } @matrix;\n\n# Compute (row,col) points from linear indices (rectangular matrix)\nmy @pts = do {\n    my $num_cols = @{$matrix[0]};\n    map {\n        my $row = int $_/$num_cols;\n        [ $row + 1, $_ - $row*$num_cols + 1 ] \n    } @linear_idx;  \n};\n\nsay \"rows: \", join ',', map { $_-&gt;[0] } @pts;\nsay \"cols: \", join ',', map { $_-&gt;[1] } @pts; \n</code></pre>\n\n<p>prints </p>\n\n<pre>\nrows: 1,2,3,4,5,6,7,8,9\ncols: 1,4,7,2,5,8,3,6,9\n</pre>\n"}], "owner": {"reputation": 353, "user_id": 1495523, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/31fa7c3825dda3c7b543b165bd0ad1a4?s=128&d=identicon&r=PG", "display_name": "user1495523", "link": "https://stackoverflow.com/users/1495523/user1495523"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1503732941, "creation_date": 1502168578, "last_edit_date": 1503732941, "question_id": 45559636, "link": "https://stackoverflow.com/questions/45559636/perl-match-string-in-2d-array", "title": "perl match string in 2d array", "body": "<p>Need to match a string in a 2D array and list the coordinates. \neg. \nIn the array below, I need to identify the position of the <code>'*'</code> in each row and columns. To make it simple assume that each row and column would have only one <code>'*'</code> element.</p>\n\n<pre><code>my @array = (\n  [qw(* - -  - - -  - - -)],  #1\n  [qw(- - -  * - -  - - -)],  #2\n  [qw(- - -  - - -  * - -)],  #3\n\n  [qw(- * -  - - -  - - -)],  #4\n  [qw(- - -  - * -  - - -)],  #5\n  [qw(- - -  - - -  - * -)],  #6\n\n  [qw(- - *  - - -  - - -)],  #7\n  [qw(- - -  - - *  - - -)],  #8\n  [qw(- - -  - - -  - - *)],  #9\n);\n</code></pre>\n\n<p>The expected result would be</p>\n\n<pre><code>Columns = {1 4 7 2 5 8 3 6 9}\nRows    = {1 4 7 2 5 8 3 6 9}\n</code></pre>\n\n<p>This example has symmetrical arrays but not all matrices necessarily will.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "edited": false, "score": 0, "creation_date": 1502164665, "post_id": 45559020, "comment_id": 78077527, "body": "Please ignore the last missing enclosing bracket at the end. Looks like I&#39;m missing with one when I copied my code here. And the level of directory I&#39;m invoking my script is the root directory where it holds all sub-directories: 0/ 1/ 2/ ..."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "edited": false, "score": 0, "creation_date": 1502169373, "post_id": 45559286, "comment_id": 78078874, "body": "Thanks buddy, I forgot there was &quot;chdir&quot; function. I tried <code>cd $DestinationFolder</code> before but looks like that way is not working.  This solved my doubts. Thanks a lot"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1502166365, "creation_date": 1502166365, "answer_id": 45559286, "question_id": 45559020, "link": "https://stackoverflow.com/questions/45559020/perl-cannot-find-and-open-existing-file-file-name-even-i-can-print-out-exactly-t/45559286#45559286", "title": "Perl cannot find and open existing file file name even I can print out exactly the same file name", "body": "<p><code>readdir</code> just returns the file names in the directory, i.e. the name relative to the directory given to the matching <code>opendir</code>. But, what you need for <code>open</code> is either the absolute name of the file or the name relative to the directory you are currently in (current working directory). Since <code>opendir</code> does not magically change the working directory (this could be done with <code>chdir</code>) the working directory is not the same as the directory scanned with <code>opendir</code> and thus the relative file you use within <code>open</code> can not be found within the current working directory.</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "edited": false, "score": 0, "creation_date": 1502169240, "post_id": 45559291, "comment_id": 78078822, "body": "Thanks a lot. Your solution works out fine. I tried to call system command to change to current directory before but it failed. You guys are of great help. Thanks"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "edited": false, "score": 0, "creation_date": 1503111883, "post_id": 45559291, "comment_id": 78492904, "body": "Welcome. Changing the directory is indeed yet another way. Inside the loop over <code>@DirName</code> you say <code>my $old = cwd; chdir $CurrentDir;</code>. (Need <code>use Cwd;</code> for <code>cwd</code>.) Then <code>readdir</code>&#39;s output (filenames without path) are the filenames in your current working directory, so then you don&#39;t prepend the directory name. But, you&#39;ll have to change the directory back at the end of the loop, <code>chdir $old;</code> All this assumes that your current working directory is the one with <code>@DirName</code> subdirectories"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "edited": false, "score": 0, "creation_date": 1503116704, "post_id": 45559291, "comment_id": 78493658, "body": "@\u738b\u4e91\u9f99 I corrected my previous comment, a piece of code was wrong. (<code>chdir</code> does <i>not</i> return the current working directory before changing it.)  Just letting you know in case you intend to use it."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1503291332, "last_edit_date": 1503291332, "creation_date": 1502166412, "answer_id": 45559291, "question_id": 45559020, "link": "https://stackoverflow.com/questions/45559020/perl-cannot-find-and-open-existing-file-file-name-even-i-can-print-out-exactly-t/45559291#45559291", "title": "Perl cannot find and open existing file file name even I can print out exactly the same file name", "body": "<p>The <a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow noreferrer\">readir</a> returns bare  file name, without the path.  So add it</p>\n\n<pre><code>foreach my $CurrentDir (@DirName) {\n    # ...\n    opendir my $SUBDIR, $CurrentDir;\n    my @SubDirFiles = map { \"$CurrentDir/$_\" } readdir($SUBDIR);\n\n    foreach my $untestedArc (@SubDirFiles) \n    {\n        if ($UntestedArc =~ /combine_${CurrentDir}_arc$/) {\n             # ...\n        }\n    }\n}\n</code></pre>\n\n<p>where the regex uses <em>that</em> directory's name, not any number.</p>\n\n<p>Notes</p>\n\n<ul>\n<li><p><code>readdir</code> doesn't add a newline, no need to <code>chomp</code> (it doesn't hurt though)</p></li>\n<li><p>use lexical filehandles</p></li>\n<li><p>declare the loop variable (topicalizer) in the <code>foreach</code> statement</p></li>\n</ul>\n\n<p>This answer assumes that your current working directory is the one with <code>@DirName</code> subdirectories.</p>\n"}], "owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 1, "accepted_answer_id": 45559291, "answer_count": 2, "score": 2, "last_activity_date": 1503291332, "creation_date": 1502164510, "question_id": 45559020, "link": "https://stackoverflow.com/questions/45559020/perl-cannot-find-and-open-existing-file-file-name-even-i-can-print-out-exactly-t", "title": "Perl cannot find and open existing file file name even I can print out exactly the same file name", "body": "<p>I'm having the following problem like this: \nI tried to traverse through all the sub-directory folders with numeric name, e.g.: 0/ 1/ 2/ ...\nand try to check files named like this: combine_0_arc combine_1_arc ... in which the number in between is the same as the sub-folder name which this file exists, and here's how I do it:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nopendir(DIR, \"./\") or die \"Failed to open directory: $!\\n\";\nmy @DirName = readdir(DIR) or die \"Unable to read current directory: $!\\n\";\n#closedir(DIR);\n\nforeach (@DirName){\n    chomp;\n    my $CurrentDir =$_;\n    next if ($CurrentDir eq \".\");\n    next if ($CurrentDir eq \"..\");\n    if($CurrentDir =~ /^\\d+$/){\n    #    print \"Iteration directory: $CurrentDir\\n\";\n        opendir(SUBDIR, $CurrentDir) or die \"Unable to read current directory: $CurrentDir\\n\";\n        my @SubDirFiles =  readdir(SUBDIR);\n        foreach (@SubDirFiles){\n            chomp;      \n  #          if($_ =~ /combine_0_arc/){next;}      \n            if($_ =~ /combine_\\d+_arc$/){\n                my $UntestedArc = $_;\n           #     print \"Current directory: $CurrentDir\\n\";\n           #     print `pwd`.\"\\n\";\n           #     print \"Combine_arc_name:$UntestedArc\\n\";\n                open (FH, \"&lt;\", $UntestedArc) or die \"Cannot open file $UntestedArc:$!\\n\";\n            }\n          }\n        } \n</code></pre>\n\n<p>It seems I'm getting the following error message: \nCannot open file combine_0_arc:No such file or directory</p>\n\n<p>and I tried to print out the folder name and the file name for each iteration it seems it's printing out correctly. I tried to chomp those trailing spaces or carriage returns for each file name or folder name but it seems it's not working. Can anybody explain me what's happening there? Thanks a lot!</p>\n"}, {"tags": ["perl", "memory", "hashtable", "subdirectory"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502148326, "post_id": 45556960, "comment_id": 78074129, "body": "<code>push my @AbsDirs, ...;</code> makes no sense since <code>my @AbsDirs</code> creates a new var. It should simply be <code>push @AbsDirs, ...;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502148351, "post_id": 45556960, "comment_id": 78074133, "body": "<code>$AbsDirs[$a].$files[$b]</code> should be <code>&quot;$AbsDirs[$a]&#47;$files[$b]&quot;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502148516, "post_id": 45556960, "comment_id": 78074165, "body": "Tip: Don&#39;t use global vars. Replace <code>open INPUT1, ...</code> with <code>open my $INPUT1, ...</code>"}, {"owner": {"reputation": 153, "user_id": 5692653, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BGVHmZWZx2w/AAAAAAAAAAI/AAAAAAAAAH4/dV3ZOfxrHjo/photo.jpg?sz=128", "display_name": "Matthew Snyder", "link": "https://stackoverflow.com/users/5692653/matthew-snyder"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502152626, "post_id": 45556960, "comment_id": 78075010, "body": "This complete script does compile. Its the actual script instead of the simplified one from before, but the same is true. I get empty output files!"}], "answers": [{"tags": [], "owner": {"reputation": 153, "user_id": 5692653, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BGVHmZWZx2w/AAAAAAAAAAI/AAAAAAAAAH4/dV3ZOfxrHjo/photo.jpg?sz=128", "display_name": "Matthew Snyder", "link": "https://stackoverflow.com/users/5692653/matthew-snyder"}, "is_accepted": true, "score": 0, "last_activity_date": 1503961781, "creation_date": 1503961781, "answer_id": 45928516, "question_id": 45556960, "link": "https://stackoverflow.com/questions/45556960/run-a-script-in-multiple-directories-with-multiple-output-files-in-perl-problem/45928516#45928516", "title": "Run a script in multiple directories with multiple output files in Perl (problems comparing hash key values)", "body": "<p>Turns out my issue was with where I was declaring the hash. For some reason even though I only declare it after it finds the first input file. The script fails unless I declare the hash before the foreach loop that cycles through all items in @AbsFiles searching for the first input file, which is fine because it means that the hash is cleared in every new directory. But I don't understand why it failed like it was because it should only be declaring (or clearing) the hash when it finds the input file name. I guess I don't NEED to know why it didn't work before, but some help to understand would be nice.</p>\n\n<p>I have to give credit to another user for helping me realize this. They attempted to answer my question but did not, and then gave me this hint about where I declare my hash in a comment on that answer. This answer has now been deleted so I can't credit that user for pointing me in this direction. I would love to know what they understand about Perl that I do not that made it clear to them that this was the problem. I apologize that I was busy with data analysis and a conference so I could not respond to that comment sooner.</p>\n"}], "owner": {"reputation": 153, "user_id": 5692653, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BGVHmZWZx2w/AAAAAAAAAAI/AAAAAAAAAH4/dV3ZOfxrHjo/photo.jpg?sz=128", "display_name": "Matthew Snyder", "link": "https://stackoverflow.com/users/5692653/matthew-snyder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 45928516, "answer_count": 1, "score": -1, "last_activity_date": 1503961781, "creation_date": 1502147449, "last_edit_date": 1502210592, "question_id": 45556960, "link": "https://stackoverflow.com/questions/45556960/run-a-script-in-multiple-directories-with-multiple-output-files-in-perl-problem", "title": "Run a script in multiple directories with multiple output files in Perl (problems comparing hash key values)", "body": "<p>I have the script which looks something like this, which I want to use to search through the current directory I am in, open, all directories in that directory, open all files that match certain REs (fastq files that have a format such that every four lines go together), do some work with these files, and write some results to a file in each directory. (Note: the actual script does a lot more than this but I think I have a structural issue associated with the iteration over folders because the script works when a simplified version is used in one folder, and so I am posting a simplified version here)</p>\n\n<pre><code>#!user/local/perl\n#Created by C. Pells, M. R. Snyder, and N. T. Marshall 2017\n\n#Script trims and merges high throughput sequencing reads from fastq files for a specific primer set\n\nuse Cwd;\nuse warnings;\n\nmy $StartTime= localtime;\n\nmy $MasterDir = getcwd; #obtains a full path to the current directory\n\n\nopendir (DIR, $MasterDir);\nmy @objects = readdir (DIR);\nclosedir (DIR);\nforeach (@objects){\n    print $_,\"\\n\";\n}\n\nmy @Dirs = ();\nforeach my $O (0..$#objects){\n    my $CurrDir = \"\";\n    if ((length ($objects[$O]) &lt; 7) &amp;&amp; ($O&gt;1)){ #Checking if the length of the object name is &lt; 7 characters. All samples are 6 or less. removing the first two elements: \".\" and \"..\"\n        $CurrDir = $MasterDir.\"/\".$objects[$O]; #appends directory name to full path\n        push (@Dirs, $CurrDir);\n    }\n}\n\nforeach (@Dirs){\n    print $_,\"\\n\";#checks that all directories were read in\n}\n\n\nforeach my $S (0..$#Dirs){\n    my @files = ();\n    opendir (DIR, $Dirs[$S]) || die \"cannot open $Dirs[$S]: $!\";\n    @files = readdir DIR; #reads in all files in a directory\n    closedir DIR;\n    my @AbsFiles = ();\n    foreach my $F (0..$#files){\n        my $AbsFileName = $Dirs[$S].\"/\".$files[$F]; #appends file name to full path\n        push (@AbsFiles, $AbsFileName);\n    }\n\n    foreach my $AF (0..$#AbsFiles){\n        if ($AbsFiles[$AF] =~ /_R2_001\\.fastq$/m){ #finds reverse fastq file\n            my @readbuffer=();\n            #read in reverse fastq\n            my %RSeqHash;\n            my $c = 0;\n            print \"Reading, reversing, complimenting, and trimming reverse fastq file $AbsFiles[$AF]\\n\";\n            open (INPUT1, $AbsFiles[$AF]) || die \"Can't open file: $!\\n\";\n            while (&lt;INPUT1&gt;){\n                chomp ($_);\n                push(@readbuffer, $_);\n                if (@readbuffer == 4) {\n                    $rsn = substr($readbuffer[0], 0, 45); #trims reverse seq name\n                    $cc++ % 10000 == 0 and print \"$rsn\\n\";\n                    $RSeqHash{$rsn} = $readbuffer[1];\n                @readbuffer = ();\n                }\n            }\n        }\n    }\n    foreach my $AFx (0..$#AbsFiles){\n        if ($AbsFiles[$AFx] =~ /_R1_001\\.fastq$/m){ #finds forward fastq file\n            print \"Reading forward fastq file $AbsFiles[$AFx]\\n\";\n            open (INPUT2, $AbsFiles[$AFx]) || die \"Can't open file: $!\\n\";\n            my $OutMergeName = $Dirs[$S].\"/\".\"Merged.fasta\";\n            open (OUT, \"&gt;\", \"$OutMergeName\");\n            my $cc=0;\n            my @readbuffer = ();\n            while (&lt;INPUT2&gt;){\n                chomp ($_);\n                push(@readbuffer, $_);\n                if (@readbuffer == 4) {\n                    my $fsn = substr($readbuffer[0], 0, 45); #trims forward seq name\n                    #$cc++ % 10000 == 0 and print \"$fsn\\n$readbuffer[1]\\n\";\n                    if ( exists($RSeqHash{$fsn}) ){ #checks to see if forward seq name is present in reverse seq hash\n                        print \"$fsn was found in Reverse Seq Hash\\n\";\n                        print OUT \"$fsn\\n$readbuffer[1]\\n\";\n                    }\n                    else {\n                        $cc++ % 10000 == 0 and print \"$fsn not found in Reverse Seq Hash\\n\";\n                    }\n                @readbuffer = ();\n                }\n            }\n            close INPUT1;\n            close INPUT2;\n            close OUT;\n        }\n    }\n}\nmy $EndTime= localtime;\nprint \"Script began at\\t$StartTime\\nCompleted at\\t$EndTime\\n\"; \n</code></pre>\n\n<p>Again, I know that the script works without iterating over folders. But with this version I just get empty output files. Due to the print functions I inserted in this script, I've determined that Perl cant find the variable $fsn as a key in the hash from INPUT2. I cant understand why because each file is there and it works when I don't iterate over folders so I know that the keys match. So either there is something simple I am missing or this is some sort of limitation to Perl's memory that I have found. Any help is appreciated!</p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1502145802, "post_id": 45556119, "comment_id": 78073511, "body": "Don&#39;t post pictures of text. Instead, copy and paste the actual messages <b>as text</b>."}], "answers": [{"comments": [{"owner": {"reputation": 3180, "user_id": 5754797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/469b1fada1dd163114d4bc471d312fb3?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/5754797/sal"}, "edited": false, "score": 1, "creation_date": 1502143347, "post_id": 45556296, "comment_id": 78072746, "body": "Also, perl might warn you about <code>Unescaped left brace in regex is deprecated, passed through in regex</code>. If that <i>really</i> bothers you, then you can change the command to <code>perl -pi -e &quot;s~\\{\\{REPLACE_ME\\}\\}~$base64_string~&quot; myfile.txt</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1502146648, "post_id": 45556296, "comment_id": 78073773, "body": "One could escape the <code>&#47;</code> in the base64 string, but this solution is far simpler."}, {"owner": {"user_type": "does_not_exist", "display_name": "user967451"}, "edited": false, "score": 1, "creation_date": 1502153185, "post_id": 45556296, "comment_id": 78075133, "body": "Thanks I will test this tomorrow and pick your answer if it works."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 3, "last_activity_date": 1502142962, "creation_date": 1502142962, "answer_id": 45556296, "question_id": 45556119, "link": "https://stackoverflow.com/questions/45556119/perl-search-and-replace-in-file-error-bareword-found-where-operator-expected/45556296#45556296", "title": "Perl search and replace in file error &quot;Bareword found where operator expected&quot;", "body": "<p>This <code>perl</code> command should work with alternative regex delimiters:</p>\n\n<pre><code>perl -pi -e \"s~{{REPLACE_ME}}~$base64_string~\" myfile.txt\n</code></pre>\n\n<p>Problem is that your <code>base64</code> string contains <code>/</code> and you are using <code>/</code> as regex delimiter.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user967451"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 45556296, "answer_count": 1, "score": 0, "last_activity_date": 1502145881, "creation_date": 1502142097, "last_edit_date": 1502145881, "question_id": 45556119, "link": "https://stackoverflow.com/questions/45556119/perl-search-and-replace-in-file-error-bareword-found-where-operator-expected", "title": "Perl search and replace in file error &quot;Bareword found where operator expected&quot;", "body": "<p>I want to do a simple search and replace on a file:</p>\n\n<pre><code>perl -pi -e \"s/{{REPLACE_ME}}/$base64_string/g\" myfile.txt\n</code></pre>\n\n<p>Contents of myfile.txt:</p>\n\n<pre><code>This is my amazing base64 string:\n\n{{REPLACE_ME}}\n</code></pre>\n\n<p>If I run this command:</p>\n\n<pre><code>perl -pi -e \"s/{{REPLACE_ME}}/d09GMgABAAAAAEEEABEAAAAAg0gAAECiAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGiIbEBwaBmAAZAiBIgmPNBEQCoHQVIGzRAuDPAABNgIkA4ZwBCAFglwHkEoMggkb0nE1g5tBuB0Ovzn9bhNFOWC92FERbByAyFzu7P//niBlyGqCXgOM6e8tWhNpR82QLKorO6ZxlyATzunKXQ0t+1MkqQygXwZOzPr0XpVb2sSwaw2uXRNl19eksTPuellLGxTF8iddU/P4jE8X/b9rxV6YS7Z0HWX6M4x9avN7pBXD+LPpLXQhEcazCygsvNnl0c86vylPYcHi18uO0NgnuVz4/2/t33Z1nXOrX4hAootGCajiABWTCquoxIYV0BAotLNGAr6f7qOc5uxKMswIrBLSj0Dgs0LsA7bWU7Ddvuwk9y0SCAIH/Hi3AzDPYZg4O5NjYkZ/m8yN6atfzFTdVN/pubzcxK+GcXdnaupyon53XD3bI69s9Z9ZlQWcBV0NAwuz9Hje+3O0J9hv9UZvyAd0bCLTA7IVsv6ZMiUbDf+O1trMvJjtyx5mjTSIayY0tr1hqbGHWCIUUiRC/SE3q4FBgs4AQWwEi9gerHiSF3LwbkVRelFaJV7dX9F8U/zAtjH2zWr9//dzX9P+QtpZHKFoonp9gjRCoXYSoblefzNZGktJk1CAOoDlg6Q0+8LolRm7/6mqQFqVMumClI/7I+P0QhE0FUpulO4AKQPoSqVPpY0VzjY8On3LmmXrW6w6YcBEE4bH8Rufy2TPBl+7SUDV5UGejYhXqjpiAAeT+whY0PO+S2jM/59Tv+2TJaVK8sH5mOFkMB1Mh9aAuMQlSe8+P0lPViLbAUPBtZOJk+accZxCoGBJ6RzHkw4QrTp/N2w70HLAKSWDQLtP6fCaFosNIg//P+byzt7dsD9C1lCC2MP8L2HeNYlFYiNRAqFQWuVYzso4qRgVo4SEgd3z5137aR+MyF33WkkxSmSFpUjTZPL7WjnGltqLaBWxmrjjcL8tRwLow1FfoQHdgtPZNu8yj6BV72W8bbI65SGIwrJrSzwRAKLef9ajVA474BvWAJDGv+wuf01w+lSzVr0jsjUwDWMr5rxwlYsFwFS+FgypBkJuXVK5TwCWu83DtNp0AEzAxRIDtDU61cggwHpsUidVplua1JTWtG7B9j9oswp1Tf05mpa08cPc/dBd7M53Z3ug3ZmeM79fwkI9KIYggoPpF5SwxqsQgqMRECoAtG1FVQNROooJ9lS175q89nXTlT3PRRsGNbXnR+k5sjigjjJKIVNIVuIHGnhyNHR20C/mZmemp3rd/GYnm4RZYjEW5mamJu9vry/PGW6KAN5tN+v5rKmrsuA0mjoY2Zaha7UnnF/evVvgsYFFUjMt2XCZeVNkWlVyXdFw6iFKwjqrwVm2bnEpyOsGmuUt4eL4Wl0KvIwzZJAui8viU0z42efur7g7a1/o9kKO8MsvhKwG5XwBrd2ACCPVSNInH1Vhwie7gdL0uMe4vbQD1ora7XnqO3k42vlhje1XZRmndnPxHIFtvh+JjUyZchHLmzSTKK3dbl0H/nKyPQQW4i6h7WNwBGms9qzhqqi7v4fij6CY99Guc14sb1lYTvoKB8tEaFR1KEIHJzH87G+UDzVL6ObEoAuwPZ+TkZMP902R2iYbTOEP4DGv/98QT5BdDvh9CGgMuGp1na5STn1oXMKUBkudfG2pU9pzg4Pp9TaujCfAeQssHeCrmcHk+x0EfSWHnd4F0rkckdmRBWGEqjJTxk2vsT6vdLN9TDO7MgQcY7A7N6i1DbpXP1icvnVArdhzJEqoNTA9FjnQcWPFd1VsUHFF3TfsWY8D8sIGbZUdK23G4NUTqFOI8vao7Isb8P8rzSHcpAvHHF8NwZI5JtgM2HvYOkdhNVgw4E/KnVSRX4XJVHMfXeATOwbRadh4kv6oakGdUh7DdGQBC1w1wMm9lUtvrTV1/zF3oPSr0DgZyW3Qxw8R5dizWKWkGRe2u2+fDRFtA3wXShkNk1O9ZMJxMjyG0Vj2+g00WuNak9SHIXEaXNIxLd62sBi6uO3FZRS8WoTwy2SVBjvgiWO75NDhHKnjJ64NFyeT9G1ecD47tOeVAAainpRVGhEy+xUpDpuEU24TdkNm406V3vgIUHqPcHw5xOGQ21QpCHYctPJedp4hMyKMjp+nDjJLCQ+s2gUyWyi1tjMg3MosEHIWU9phxzmub5gzaVDFzbZZtCnbjiyyKvkpJNvEjawV8MXJ8hI7rgg8Y/8usA042GcJcLfPT6P7K9RSQCIAmTlyQSwZwWRE2YyfUst807sqZjIpOMt5EQSbTDMFSHYA4Zvg8021zmQyezkt9YYBSQSTrydysLooIFzuLEbZzS5z4rkk+lI9k5MeFrmc68e7gTVBXJdlbaUjLGtrOItvQSFEbd2uEdKYj11dKcsFJHj2EC7xJ4/AIPoceJxxp75xHa8M6xqUybOvCLcVTglBIH9wEN6QixwJ1ibm5KyCk1dQB2uw196u77DxNt7Ou8hHmRrX9TUu+IUgXAgfvOjDKaT4ufgHKtPnV62camGHNmdj2PDG0LZwAE/azsETZ04cMa2K80NK1NBikGS8cFU4donWDcKa5GmA1Fi+KkC2lxrJ7tXu8lIMTzlu8lwTrnnsyCFzIC5bNcWJsRmg90uPrOYGxP4fCsF1L1k70TkZgv8mTllKLhcDDiLoX7Y8qNl/FpXsX7X/ZqmgtPytxP9RYv/f9fQfgE7InpABu0YcGGEmNjjejQVX1H5OBWL0xz9xSf1QtgQeoTPTzVHkthbac6wKxGm7K5cN3Yhh8v2ypryUuLS7E3c+Ip/AjdAIKtO22kcyegqHt6Pd+anFQccQxhCy+OC1cO7qcV/f52EavBX7epdK88Ls03dX1VZzewo66EGWUzd4iw/WbzzgUeio9TiFMA19Hsev9LFTuqTjvAx4QaKYTonJyFUztD3VVE0zOS4lpcNhHDO1oW6XYs5Fro7vg/8YQsowp3ma5tZu9Y2+0yd9PM59HBs+EZal6a53O+dq9Xbn7sLHx/vr+6vdctz1/uRcDkH8Sf2Par9Ztan9TsX9UUUmNVPLgsSrcncuz4IYIcFcapH2EL2XuRV2gU86YOsOd+bm9AfXXVm1iDtKTNo1hByIM1NYn6HpOk016hTraDTJDTABBIl7EYo2IVyQ50SEx0iPRfeSBDxd1RWlYPrl3i8ZZpHB4AHGLs2KKA3xFAQaKdwDRNiuexWanXa3kmbR8pzZIdyZI2hJVMFFDOXnfeZan6HxSZqaxokxZOpPfXqWBynG930N4vsWY8jtb+In+F+Iv9GPKNuak1QbvMSmZWDU5lAn5j9hLBdcbJNjmMF0Fson2pqs3v4dsPlLDgm+Sm7B0Ty/8C3iouZNZELIBQktUmEvvDIcduJqAM5mMKEQXCoFs+wZS9a8/RBEBpap3NTdB7SYnb1DErXdS22S3uJubmymTc/XokEbN+FmHY2NyC3wIE3Bd5oIInVT+xIW82l2bEyFliMmhcV2xBgPRDa9hYUk6B6Kn6U73xG5w+2AbGiT1Ntdyjts2Y7kQDRCACOAtoMYREw6zU3Ad+JXXrdCJv5HKswmuH1oBtUqsoWTLd2sPnKdMzoacRabywMdLlvAtYCRJBezbZZg3TuOqYRGGMZYdrFoLsiid008n5Eih2ULi66BX8OXlLrVA0jtMimMiVhac8iwWcbPFCsCI45+TauFPHNuiQWUNhvkXXaZMriRwxAmiQRBHPA+aQqKzJneqJFMU6cfP3RVxWYszu5djmr0f5pTnjTtiIe1jC3XQSwwJW0pfGzusqmsxXhb1JorkF5hEQUJKmxj3bHngL2YyKVqpo5MurW8Gk3nuWSquwxMiWWSVj4j4o2enzE/aAHJ16OjgVNTQwKbVsD2xAprKFHDKnLVyv4ulcOsQxt1zntcomMSMKNhCkU+PgaexTCWHur8FVjLDLyxulBSPFpO64UTQtnju69F6vkr37vUXYT/blV2xIFpya9VivAY/rSj5THowbc0u15EnovbJMN6YRbcJSjZo5tA3YLDjqZR51CScJPnOplhh7wKfYb4urC3AzS1NPekGwllAk1K+1Qrh1RUWVSWZ/bczCY4NhWSoRQnFpQp1/QYm6RSfyo2mOfGWL9YH/37F33KzyLq76k8pngyJ3PjNT+ps8i1bOgz292djYLGd+2LW8refM/Il0VYsGtAssAt8Z76gKFfJ2QmIoXPTqTh41OtvAD6T35jm4bPH3sB9hYnOvzPwxnV8QMN5zL5sCH9enz336k62SnFmb7ymlYFueVEnsflJ6+IKHWi6objBxxZ4KBhHWvV+3tKVc7Z3KeadrVJU7atzPMRtQGDhwE+tAqFRdSHilR+PQLfnuNOezd5CX/tnoSj8IuxeKSjRukRj+oCUynu0H9DNYhGwuGHer867I2k8WM3iDuKX9P7SejPW/DP0ILbQB1xpvQkuARrO0UGL733EoAPmQOFD8L8xBfHPo7C40tT/AkoPyked80HjJWbRylxeZoX8YMT8DQRm4fkM2lBt+7QFH3IgvigLGjiGeBDS8iXU8gRa+AUp00PO4adnOL53jt0g4aCsJP6MFJTTrJZ0xdl5QvIkPlRlEfdZyJBIGsRts2VQbOuGcATS1iFxn0vSCp03Tafm8TUi0Hoi2i2am5snmYDmXzKlwvOCFgFxs/czhZlsMU8lk49ggw239RI1PppTqPrdPRh6iqHMw0xj9tsnbqDBb1WYtnpIWlyRN9b08SmpvOJImXjn7KVqZ8TcSmQOZd/1stAvkyFGsHkjKZ2SYmTwQW56D8G0zgBOHjdBCgbFVBQWxkHtK/uHUdn5tc+mdlMIxVq1rN0scmOgm8pmnWpNirDXYNYOhoV4oBm98m1OSrBY3U4YBai1IHIttKcAweKBr0IOEldmmUQLtqFve4qRxBbyoz3CH4yw4bmLJmDWQXGtjSToVWrQBRLaW3DBd0JK4pN58AIjuj7pl9WacvzoTANFMH4PxP34D02xYHAW2qP8kIuX1i5DjW50JvHQYqHIAtcEwxLxgVwLH4yDygm7DDphQpOkdZViqZwk9wAmIp8IJ2KflZumC1TRIVkrKu2iJPoNPwngpSSDlAcr2TSAX0LGrpRvp/iam3QqwTtlxzcXqe3MiA9dlnNRGU7AJjoLBCGuqTTjAdASWC3qORfwzkpvM/lMKh2Zx+T4AhNJdxu41XZEqSCc1hdZMmPOtXtxyRiai399WgsXZSuC3M+Xm2MBYkbFobvnOFm9qbNmtfq5oUzRrM8VuoIs/Pshy/A9R6I8jEkbVRHlX78oojbRD+FJ7KlxGPnmjCsF3k4xfO8KZzJggKWaTrlrhP55in4r/uBS8u4l8JKp+gDty0moDCDVExhENQK7tplTFxzZk7awoWQFAspLcq0Q4Clmm8LNDlRC1tLPWmBOT33E+agNTHv9bGMjZ8cYNKM2jNLDVLm7JRXmVdXdclX7aUWdWIIGMxB/f9ELOy7R8AEJER9eoR6oZJhU01CR/PXyRDBetauFWbn35tl3CvfPYk8zSBdlony5P2UCRbFj8boenRDu2GFRLuBY7QLMttaEgxf4n++vBw5pVZdgsLeN5dBvrkMnTKGxF5kopNHZzS6vGUOKSNwhBJOI20G21S5GxY8aMvKLHQSFZvlUp5CUU/qxWbhbAqqRHtGxZNOpAFPxLxfZebU4B3QxD/oBkFvj81Dz5bfRkL+2G7rEt+jstMz6ONHyuUVz/yPe/PgDwYwPjiYnFT7lV8mId/BDZs7Gz1yCEYZ/JRBCeualXaTTRfyUYztntXTGNT4JGwqIsWr+5M8o11dq3tkQSgIe9zpYjz08Hm3i1VFu738DySAnY6szdsh1BDE8/S9Hh/4+FcYWhCKQoN8CjEGfmW4TV+lP+qfvnxHKyt8Q33+Av87UKyZLswuyx549nt2hBFuHmk+OHsHbriXtzcMy8nU6UHC4gpGpZ2l60FOwS241Nbhjno7Af4RdkwWMTWV1OOifvm8yhTab5Zxc+rtp/j6vi5yQDvHHEfvpTjPS95WQYLvgXK8giCVU8dGmXn14qAsCXUH2lLLzg1SmX5lpK683o1Krljqs533CH7+DyoPjhKbz3A4sNlNUAEBKfBLpNUNr8FfUeZp1yiP17fI2+aXBb+IKnByAXUerX3gOwz7ApwaXui83WNddRHRIM018yy3oftMrVHjVaqBpSyC94zq+8onpDSWm7w8yu+f86E10exbHfutrZ179zY7H7a3tm8rDqHShcelW6Vax9KFy1EM9TGtMYYsQA7X/yHaYVuAALrr/O1ZWr9k/DF2eJRSaGcNzovAdOMmDevlBN1iNO0R8pGa6r7yCNN0tHgQCPHHCxYKBrzfZH280afSTmfWYnYkayTFMTbTWxODiQ7e55q/9//lHGLHZMWlJpW3uGhctlac1/TPbrugSNC8SPMhTr3gPowY5yzS92qQdZGvckNUSQfJpL88f3k2LL91uOtmjU+4u3tFRycloJFjhLP1ksGWekpRO3cjZ0Nmh5/Atr87yf0sX/xnk8gRGGZUyIE2c90vUBRlEdhHDv8P5AvNoU2o9f1LKfvW9qT3iLG2eB8aSAuUvLc2N/ak76S97Btr6i0146UrJVU6M57X/K65tssHnKsqtDnY+thZ5R+ZnaXI4wcNv4zPO2qc8muTDlA1zvVWyoI6/mrpMbLXogoA2GvH+JaerySLvZbroBrzf4VIoPn599r2OEFcMmApKmLmzu4QL8BkI7cPxnMTujOzbbN6MxMmM06fZrFPn7U9wzxdMDSr8i2n37khAqKLMu5UrKKfivxvcWjyUTtEh8wvVZfkH5OO9so2V4+v5UY0Z5KIt9Hx1i4xgTa/7ApO/s1a8A7Sr6udnBkEaWBmRwGm30AwwY+4NFyXRzV3aQBL7cM+GB7iR2tvZrDYdJZ5GGg5XDB8gHfXGRJQkxOMcpGk4pV9ibmBZkXwKjMGlM3kyiEI6tIuHKc1IKkp7DKa39XpoLxAw1dpzsmHrx+O38HS0CmX48r8+iQ6tZdoakwAO50W/YH97Mr6Guv+T67y74NdxcWk/tTFfevYXlrC3yYmkloaPc22VmXdLm93dW81Yw+SIyovPKnXrXaGdMsE8AtKc/Kv160KPeVj0VfGWJIFZwXoTIGP6lMnyipklWPlyQ/qiwL0uwKGV67o9LT8sc+ABinp53fZMsd3KfnDK7qgDLm4wpC6r50P312xrKO7jZVf8/ee1KkrsYfM4oY4BhURgtR1XH0Taw4wC8HWto7TPOkctRYP8Gmum07U/p3mJhFX8Ez2fZYaRA5XPrXv1a4Tar5NxVE/hlr168e0jXRXNqi5ZatsLlIo7fc71xdwVHNNnP19a67uGiYGGsGnuFSauAl2JOhW0q/CvXoZI1zDKiVK/N2d15tDarTOXQ1rlT0P4JKDnJFWwsjl7o50lXK1NoBCPJ1iQvwvcvs18jTerhL1xCINvRXXMBUZjjVPAUkuceJN/y91qzqrgxzRnWoRAHFKksu/pKfkNEdsxRpe0bCyTZFbbc1+7GqQLZPGDLItHVu1QfG0KWDVY5hk9f60bVEIrueULoVXY4DkrFtK4N33+8GVLKpl9aCeobp+Z2r43R97T+npHtJeiizxv0zEe8RbqlqkmeiGDdAue12wCezO9vbUQGF50UjKHt1OPBfnXuxuYDKoQT3seHTEeFP85oiqEYaWGsHnuzRYuZ9qPGH7Cfs4WTPDCQZJfqdMy+xhhyaeUZwuhL4F8AlLDJRUj7ZHsmwPellVBCAbEDZW0ZA3PFzc36XeU3HUVRmR17ynR05kKXd0MUk9qJXayt8lWiIOGuscaDNKFPKTq4zU9dDLplXRGmjV0l398nn0JvkE+pCyhYmd05pOmWSAiJ9Jq6ZyLk4SgutZexnzqvZV3MrLnuQ1kd7iV47QIcmEcUG9tNyd+8r6KH2VErdGZW41N+v1dcIe2SQfRGcoteKMEzShbhMC5rIhlphAnMRTHG39Xcz7uvfEjXc9J0OmmX+iCbMrIbGgCimC+0Nee+dqel77+wR2slVAEbo1d7a3cFGWaOETiPCATtAmxL385U0JUsT8xZGC2XNN/iVVuAQOyvs8g2Pyt9R5W9wALszJ5wIHEYlzRIVSSntyHWUu6Fm6QO24ucncPLZOYpny3vlOtGzHdGQoziESfYHTwSdMHVBsJ2fsELdNz2v5lMReZxVYplpfMNtJWoSFYP1DFXxEGT0MMUKAghlBOiJ/sT9/XHsopbebC9mpfZlnCCZ/S130C4Dgwpz8LnIQUTh7ZCilpOJ9u+lh3aA23CAKiNvWRZyI8HIKnkuy0vhIxVGXtRz9hAMvZd2QD4U6F9AefkkcSeyW9ZbyVEf1G5hQYCgw7M5Qet7lh1degJY5B0glvFOS6/dI+Kh2JMYtpiNmHKprFp/MBk3z0s8u8IrNdjNV/xuToqJKdEJa3haeYpQVTwx1iYFGRJZul2+I3xcDkYB52rnIPAeNtegUJWSww2oK9CopYnhLF/TdcqnqU8cxK57lkvBPVbSNsseFFGAvMCO4zNxFRKcfmAXElzclRsePp99htWeb8Kv3uF5VkiRG6mxKZS7CfxTStDP4vOKD/aBpNhpXCy9G5rnmgImzo9IXxrNvYF6ebV7uH2f5cgeOf7EI/L8H/vuFzUr7/vH83t/UOsQ1UQsauc7gZnNvaOzhpVbyddzotnYQ0jGwD9YdgORC52QQ9AEhOM1qXrZUqgx72MyuP+FSG2nqoewgUBInXSMWiOs9DgzgEQgACSc4cftoyqVYpnpquKrtZi7II/VcoF78OTIwbm438wNfy3I5JfOi0GDzAlU4pswc7at0qL679wilorR/7uHesZrlR7O+03j7NcEgULfzryfZfZKux5jBsUY1n2ZOiA+Wdbe3F8aP9eDcuWJOFTFiUrogkUfxHEkbrZzLryIYkZ4iFMGjolps/0nlKxPFUOTHIbSJMDeGIhP19aPvOYY87CIxhmcqz1R1svuMeHUkvSyX90dXb6lgCf4U8Wz45JFahyft6un+KmQiTuAGgJPb6ZuFsJHbWiEi1nmwtM1bvmxGzHUNrcmxQlj6xnlPhYWUs64l8CTlILgK8o4GOEMiJC4yWj8KnqiSC3dQK7B0p5mthdKsvBmb9mo8bQqVhgTlXmxFshNFds48XqqRLbRLwRZpo0pVJgIlGhLcAAlPKclO/Huk11vZsKpNnhe5aavIEdry1hCXpKgFOUG9krDG65pbuJn3Qaq8Tb1My05+yvKJrCmMGidKJesWuatbxV/aftCCToty3CUiLNRaHkRux1m5q+sWJSdKGY+tKgrzfEOwC7cng11L4UlKgXCViOCzGVKBscRo/Wi5BOVsOQf+R83vjHCJCrqQDdRDqE1Zu8G7DwGhjt3S6OBRVLDMyWKcG+X3JQzVRG8b4hXXsBVpjuSn/5JcEiQb2OK7kbZILntU97looMT1WDdAwrOaDF0wDLlpO2GWhUCE9RWMe9bo3fnYBrVBnbph6GAGKlgKRfI4GcyxGyo+sy9P6ApTEV+G8kRFGqhf9vxIgfM3hIlmnsaplImoPJcKa1R+Me0hxNY3J/K4181q6OG7LhfLCpq9WrzgPzaYAASs/NuxVeYbqrhEPfQ2beXgEW2hW8sRTLpGfYhk0R00TDYfNIO1m8VKd6wESLebx0t3DBsmmA+ZSLdbxMLal/0kO0xjkaLxH/EVKI0sLa067WnvW0iNKQ3dIW0YGOufXK1fpecUFUcMlMo4GxyuEgRPVi6Bu4JTJCRPh3XNMbp4O+hDk02IdqKCzTsTUdXT4eZ3JjaJCtqQTZOHUDv8/CGKWn5dtx3DOog62HJPz3lHB3Lggd/4Ps0T6B4QGoKPDWL3+iJkN4pxEDa1A3oEho8av+k+tRaC+xnqHFle2I6lKTjack/PgxXCXnwEaYDHh7zLvK5YRMNvgs2wE3AHP81H4CtsA3U3BSxxCzBTP439s1myr/YsBRZwpjC/R5pXwNZXDPbMwBNYB/jbeev70aTM5ccvmotiLPoiky6iAyKkKO6dxsEHu/IBi9NVDN0cmzpn66/dKsIij/GY9jLHnmTdddHkraY3IxO5VtmcQRqY+WGAYcOlkLn69BuIWwLfuDTil0fltFVGO0q5Wuu5IvD2xDB/PAjfxNM0UOkBmcXVFHIV4Kv5jPRd4exJT66/0cQZgoBTV3FvyoHOOBxBHi7xIQEeXD7Ou9CR9esfyiht9ELNBekpm4YtwR3+imAKxGL7IE0sdyiTuWMvFCSlkKUANT16QK5vO+o6OGpqyGo4pUqDjd9/OS7Xba2qeDNjFyN0kxoCXKomg8QLh01oANNJApAHKH8+6kVbrojiCKerty5b9VdMlywt4m4KRvQ5GDjx8lTKzlABoVkgWg0y8eh0jNx7q3TGmV4eWx/gmH3TUoTj3pPO6hGWJcQL8jwNeTW5MczxSldg8M+d6g030zw6ufpfZ00niUai1FBqDTXhjLfunpmez6jPmjKbnl4zRJUGevDkXP5aZE2+DvTgSjF1ddY3kPRkc0mHYKF1qShS5r/T/7gKe1oRaFAdZ5yWV8DcObq9Poi1Bu9TcZTSr9ZOPAZgDnEFnicIM7qw8e7FAZGWDAJl6LRXxuBw8r6j2qdBLSmEE1U1stqx6uQHTazcbWv1kdLj7hcsPFtXYKT4X+3tmvtM21QD9a84+kPw5Y5+7utprl+UVag4qpD+h4708Axl76cXeWfco8wt26bKww0W73ihM3RXbicmx/L11bTJWT0Do8/sRbxmuausf5Clz3oKpPTT+g9qD65V7TG8R9b4ZuvyTGiRFCsWrGfDaNtoRmaGKKunPEhE2zozKndhbOth/EI2W3oYpW2/wZ6Fnf5nv5otyRScJde1gKSzFmsVjlVoD6KHJvBf8+6pskobg6Dl9JHSItKSQetjBTOvOSuRhhEKxC0HL1NHakDUlJr3we+pOIfgU8nzAHbJnj5AlgsDiH9M1rEX+zCoUdB6txSdgTj57ybwdQueDPXzF3X1xD1YG1JRdXmozNR/n58BXypf5oi3cor5luNrUH3J+NLH5qP29R4LK8hO57DMMBUXtWtzxvwbu6IY74aclVc2dZCkGedmJunpMEdO9uqvDAiCl2sTCi8k40j6mV6y58pdoJ6r/tL/0G+0d92CvaA3vs5x3Rqc4rrFcjt42ZsQvNhXjP/r7BpkHvvv/LtPBIsbTy1UnBuJbwpwNulBDZVZdj4KadUnRSl/2wS/I5942QnJkZwdG8o3Xqx1bbYhcM5FlSc3O6ZqqxoYtzPCN7xN9CzMz5Aiz0ueSq6TbcjrOUM3Xo+6aCXDtzi02F+tx2ar6fKG+lL8qV3Pm0DnAwFfkDQJO/AysCeLKVmgBjs/wXYySsei0F+5uZqbmoa1KnTr+RxTaPXMrld/NiMjyfs5HwGWoJnqVI6GqVgOUYcaQNSUwlGz4vMmdtGUZpHmDHI52oCQ7XSkhpuaVkPKug3i/y/HuOeelJ9AwWdcyONtMVjvAZje495hegWMzrBhHWd0gV0tCR4tkutO6f5QZnomiP1Iei18Y6irusGGt5pOw//3ml0/nLhtSUMnX04oixiRqUIv05CUkuld93pUovU9Ko76mYAZMYptHe+opSDZ7hVYt1egDUNiZG0klOwsRZQUUmOwcmc4geDvQUxYsXJDjPwjyWx9fICAbSklQf8zfPMDN/8PItfSLyfNG5AvgpLsv7nYDrBZJcYGIeFCzjLMn0dD6x9Bj8O+ss91370Z1CTlp2TnWYGb7Ul+TeuZxu+UNjt9AC+LhJyHAKqUkpBQ+ra3jF4DI6jA+f5K75/e97kmYFtg9qNtS0zb2EKoQCwuHu4OAnmnFhNg+G30O4jZwpnV1O4KRz8MWl/ei8c5TRArUZeCqhtb4P30EvLH3LUN18bxmH1o8eQ/dqE8tyN/L+fkFRIMKh5GIKwKah8u3htdm3D2EjG3L6cMlwrP1afbKTr0jD6WKZalSx22hYZ419dOJuqPZLpJxBQ+lDnN0nP6WGMsdpHdOUXATrImFVVQ/B0uGfZotHWai9erJhoGZyTMrY8HDgWoy4HLnUK8axJWbWeVMlwuPNeYLkw2sGQGM6lDFeLzl48lZoGW0SLScneRXrPRPcNVp1G5q/1mZ3Reih0M4rjMMYlsaQSYDhgLoYPia/YPYInhUuGFxnRab+6ZfZAUlg/38joMr5yguHWv6k/JSpKeXp344FXxIc08QRtSleWy4pZqpAkIxM0NAinlaT05sW2KRWxK5dsSS4MIHqVarm8skWAujjO8mv1bP3j5v6WAln8bSbXhT4VV2EGs2nsbn3lOwr4Cl/tHqf5t0gTFSneFZhmu1md55DaeeqPG4lYD7ovxpWZMhEHwrek19RfCLDtSl32ADl9g1pW/kYtL3h30kwuumnavVXE8i7nMLDxUOPvhNQlLobstNs+O32jb7lpKiZ39m1Sqm2ZaU+LR5/681XQTcnXO2h+mxgO0vFb8VkUOlanGzc35xVWj0I8RjonADJX5GdZZMsZstxPQJ8YsDeITBWw3ZM4w+w3RLFjIKSMoGXQqapDdeh++Kj0fPY7/Ejby8NxHNe+PHk6nlZYN5izvatqfffxyY2NX6UC2Ippm/fZ5YHIq8TntZe/a6nBik5O6R3SX4mTt/emiGl6ZzOLEaEvH46TE8JxCvU6LxYXZ8axGT+VokE30sGfWxgtFXt7n59bDm+yMXXnBnFHQCWr8jUuFVi0Vw2vwF5WLLbD+B0WbTje7mWXTU/ev5V4iX74S0qcdjHGJwVudOmY/+DrTUXKbXi8G8lNnP8dSHXE5PSkquWC1c2d+c358aX2DZYGleqXcFiOddMCrR7VYGr07m8pvB/QvvlhVXBIl09Py2TYfbiejm++q0AIPHd6i5A9P6oL8BVNTgGGgLVtddEPe06LHu7R7wa2ZBWF39ULNXGJ8rf/a5z76M9NRzKC3iIKGRO/2V7H2aIMPOZv7qgtaNSUJej3OuY5J5GqsYf4N6+XJ++QC+pIuT4ZcVGFwQyOImlJtYzonNQz7oOxkO+a8mRUUiP1RJmaC/qsSosNi/VL75gc0iZgcFx3dkXKmV5YZswvLc/qGn3JIIdlJ29wGwVmfYCzNLBsZrOQNY/Qd/fJIkXknpe5MLqxOziwszWvsbky0yyxU+Jbnl6kzpLDcpO2B+WtnanRljhl3/j0VZ6/t/1Hzgo+Ggw72Urnvs34X14HXyW9RzvJmlR6IbbWLPDL6kpLcht8HdrL0bxv/swCzCijKg/nMlWXu9zrqZ3dYU1efHmytLx/OdfVeb7ygz8IuSTYkb9aRElNjXwLWO3emtlbG51dWZ27o6QqOeuqQLmUn7gDNqBZLjLtTU4tLsybuxe7aXLP4Ls65E9aNMu+kUIsBjaDiptTYKxvXFndLtg9flBSVMouHXs17NfXasfPK7c/Vrk2OCYG6RO/ctoLM7vrq9TEdhEYZ/jdRFgGivmk3FxJ+7G0FO3wXUpSf1piU6xUUHGAmdemnNgIpHk2WAT7VHSrONiIEokSjU6HSuBNCzPZZBRj7DiQODgFg3GHeaRgNSoVMO8mZROPaQAAgPkSsogQuQ5ycmid3UZYHCezVFULgCaUcGXyZF6s/LYGTq1+GhGhrFoAh9ORz3FpAzq/VLboYBd0/AI0DYPkDTY6+PFg44+kjUvhKoT7nNyycu8z5VJcWXvxUt/3Cy1a513noqQcxwMMf4aCFjbfoMlHlLhM5+U2BD42NBlfir+aq0QYcgiEbTQTp6vadoOC5aEoi4ZEC2PNQlMw1aLwB9/EtHkxJ1cEyYfx8uIDwDDel3MRDRXl+DrkjYgtUrnAeMtQu7gUAflCjlN0RHD8qoWrGXMN8Mg4tTAke41dvvxypzqzm0hOtU1vuASDjAt/Dy7VffrftCgwSIyASgH83nbbmIBeEAE14dYl7SdOykCGutJs6TXhsmiktL4OBQM5MuQxunYtDV4G3nMOmwwrEi+ILEPAvwQu17YBCgNDOq4WAqPW9trlgHDG9QcQJDzOQ/0UUVymB+k1tu6NgSRw+aAGhoG5T0rVAx5CeCfoyTLQmBugDoK32JycWRMN7ZLQ9AUQlJ3j1UQvfphshR+L0uAwdivoPqGdthogDyIkFIX4rxA2KidAA6N1SfQMAze1lAoheWCp9cCCySRDIjxC49cnmwgEijokUJGkChjqdgOAZzAUuvkCT4AgdvITiMJSVdqf0ZXePxeZKuQDzF/UN4Unm199AP+8xMeHJGyYBQaPQIlPiGy9TEhJBVHi5vNTnMwz6WCp7fi4XiNTp+UTTnluYBptwmitsqvBKMxu8fIT5hY+bFMfrHJRzTIBhIkRlN0oxzuWGI3MbVjs/CJ7ncx9ghVoVggK1zLaHuBVImovQ3DOw/TeEkt6BioEbYRUyhbWL6M8B1NxTVUguNVoHkmmUS7jMUvC4mTsZf3W1LNXgwyPj/uoV9x56p1XPcreSI3R4wak9Sztczgn7oSbEbnGeVFypDHUFozOW4NRRTZBSUeXmtnYCYCygtbuVzdhWODKlXn40v+hKzssMs5s8YnF42E9+NU2g1DCcmFzc6aN7bRA16N3ixpXLmGW5kR/CupYKmAzRIjO+C0bLWTQsAY6TiBDrKu4NzBvfSVQvfwAlBaFCnRfCbuF8+UULP+NVl1JhYALLUnY52KbaJmOUXLSy050xhbKyFCOpl/r8fGbjo9t1NmYZ9c7a+QD35evPlkV8fZ7n668e5K/+2v7z0+fV8k18e/Wz+6ciRDo9jT82yayGlOHlAsLmC+v8HGHF7lNZlGnwWeIfEBnCzjuMZ8NKJdmsGHoUf9kWbEeJ1osNTheAxPo8M41X10eMuCkxspEMsuDD8pwHAj1+kqyIfDcdPWtTVo9PwwN/4Ct6uH7gHh8e4m53u9rlqFfRz7E//P/9N1sKzT6MjaW0kHCOGu4PO9ADsSUvnYk80l4NnwXyv1wcRVAxYnLWsARF10bBKgRgycMwLRjCy+ViRLBcanuYHZ+zB2haA053Qb3/gPM0T2/m2T0+Xr95FC6/cU1157O59xLnpKw1ZHKRIkQRLVUFGGX+SxCp0UT5y8TKAKrDoVfcVDTxjWnutmUhsENrV8OtmOYUTYRiEeQGFCKjTr05r443hTEwMHSZNlKyakcRl2reEPa6R+g9kO7DoAHnpVdsG0QYGYJ/AxWcnV+yZhCa28V7t3YkFPvDNG5DPMhQMR6aBH30UhSkl8b1HKk4JaRLFHWrxRvJU4oIRE7H7iuIuFnweNVapFszq7v7fLo93Q41p+tTg9NpdOO+dhyduOlcPqa+EVorjxhUoIQuiEih6y4IXg6suNU2akB/ZBkgOQKshXBFpMMrPbK++HHTUc5ZVmwZGqYVotOVXPfFuQbkbEQL3jeD0xw60ArAREsmr0xfrDgfrJ1nV/nn492K/LXnHo8OEqj8kIZ2rMPyHik58ZdH3tW7H9oJZMGzp/HD09la8bQf5XcXuF6uN/ndu6YW8emhPXh8VJujXA868+1MEJOUV9f7HqE6IcYkSfQZRt40vQTwm23RiFoZjd4rArE/6AJlI8DsNmDAEAeqbyg2yUTrOh2CRWYroDXyo9bcR7HbY0xxJWqcSvgMiXxbeaeyf6euIqylid9Gg5qPQc5lULenPWz2QtWpbnCaho5DTXaT2uxPZkw1FiiZ0/a4LA6tlCrfzKjk6S62+a3cRVixGsleW+7RWqVJdTh4i4rDN2635HwhQ446YHRyaEwGuckmBG3Qoz7JUE+NVM2UXYGRVC6oiEw1NBImmFXx9y3nSXHX5zSXnPMca8fBaK/3B8ms2eMPc0jJ54BNox9OFuNCAa9TINSslDhTxRY1e5f0bm9EKGE193YuOjEvJTUicoqnDsPNRO/H8Bl9my0yAWFOSI5FQVWqkgicUj6w3dwdFWKeRxTiSWSFqq4jpy0OYiqXuVZAkJLL2at1RYWCsaLn2C5xT0qRkIghuRa+O33P7PE8J02JsDirBVWY4SItI6It5qVQNVUzcO2MZ4OZyDmpIIURnhC3jVisKvy6OBZ6rk/u+J5LOAVRZHPo9l1+hL2Bxvdxf6/vr148XWabuWe8+jYEo8G7OX+CtnS720INbpeHmzzLs1Ge4/vlshotJV0b6BjDAS5NdWAW008CRPjHVyy3yT2ofhGTCP/7BeGzm+/brPkoew8Xl8YWY2ZAe/LYHk4XxunxpcdjTJ4AOobjxjGpweN5k/TKvGd3bdf2mrLrygayx8fr3uQRs8Jbn3gZBRr3hjfRbiebrVTS/9oa3392uFzUXICxEiIEFJCkAR6gQDBgEEBN85RC/qLpLF3tin+RC6HjqBHGQAVpFjo9FNJQNGAYQl2fol3R2g4u8ZoSeONmYORIuqyYCzIr7pjQuWRifCFEkeWeWFgWEC3ISijyXWRcbsDq4uJRXThni8O8qbiAb2cRUJTdWb0c1WmeZZBFyLjBt6ChHRTeTJenemOpTlHAjAKQqaEuL5ZVkac1AwdZZiUhrBzIQonMOzN6coKYPm4/R0Um0lZp7cMSAMhSzVS2u3m9Qque7yLMSKqlPQVqvgPBEl9/8YCuVkLTv7z59N680t/78kVRVbH59uXT2+JwfHj6aH4rZcF5MNie6zR4yMT/JM/++rndmLYOv0F2PDWbz9fF4c4ary9V/Y3P9na/2Vy+eq0fAtZxTwyjJdXP2sSX/CcCItCWbBU0TCL8/NlfLQB0tdhfyd2z6ubyMQwF93JhVurx2t7MNgNydcVnsqZZhzx6WlahcWjNpLuOd4OE1zkzed62P69aiOiulHc/Wwl2kpquulrPfZsGcG0rsLdMFapUVLTKxaar59JDsq47wnlpsGkiKCzwaN0eDX2zeoTTaEfEZTftVSCfcGtLu+ApwQ0qKNrlWENKfWiARZHMOjobPK59hF+EZlwpUC6rPHSE6FzzpVhR1z5ArUH85Uxk90M7RdHNAQoOggSkjBHOP5SPv6uXAI7fcOAfPE8X4aOI8ZQ15hXnhDhrR9qhQsDEKACnPg5n5ojFGNtdCAjAhwf7eEbCVFURGkhZRTZtsAino114pIa2iIi2RmS4nWPsZ21sHLCO7Ix9zPNVV7mUaek7P9FOLqG5Pj3c/PrPJXv/6frw3Y9tzC/fn3zUX36y9GM5P9H9Jckg4XyuA7PIjeiCTsk2zodhvrFO3t8NVclSZU2AXcar4XRNM5sPXVOXfv/Vrn5GL/KHuFljY1udCaetgGoLZiznflRa3t5gyoW8Wvnc7elAnfWlgmofP/OC29x4+ZfAn6enFbHbm0VVAKgEmUiwmiPUi81Dhv28H0O0uLthyGEyhock9gfRNIGJksLQxTEVCoRh1x46khwZnzfVUnbOzwBC4qh6G7w7Xo3tkMPhjc1vFAZrfUA+BDXJ4ooIlvjW0QutzVOtfRweptP9nXEfPj6clhtaVsF7MUwCKFsye7iBf7LgApz5Qc2ONaDWwYA0TiRSzrsNem9i5JuIhqgWsYFkaowNUsprENr2/TiW1tlX3DkdAlsF0t1Z4IxFFEtKehDicCzTphw8bLwXUhoRnyuqdZAFhDlslkFLEPG6iONh9NQtTjk3GycTdZAr2Hdd5eDEXO6SKgVrDMHYCqzrcaq9tkz/48TIURfVeLICkALIedv8ckzjxS/yGHuyxgiZait6nDoFyWv1CI1S6fNZYZ9gczNSaVx+FIyxyHkiZWUuFBTK6NBWatxWkZ29bHzVIzHG13NTUjLuBWWeLBoI5LtBCjhWlWuBE8U5ulJ0TaGiaINxCnJV6AUSKlsbA4QQe8LA5GrVjUKTyqGfwkq7M5Sx07DAvBE5s+JTqOaSDPPTDdpGeJOwAPBYquXIzJ5lkTtJ292KM2Ic2VSzKtOi5DUaHLWp6wWWV4LgGs6AAJyIA0BWVXHa6kQModfGOS+NEsaLRIaD9hUR4gYQ+u1aPRcaSsasdcEJ1eCJDV1HgrBeZ8RmR7hAlBKQc7BoAG+fgiDT+ejnmUtpEMeKc+ek0VomzIWFHxCxa8Y9MuaQKHUnV64bPgAHXS5TU04p3dQIOXCNidAG2xhtK9Eg4nLfRhAXXWDeB26MFjq0PmMk5mqShiZ0VGriYNA6uO5F7F5IA8CmGCuT4uo6920iH9yuLrVSKUwqZDJyFwyUx95L7TEmvdvxVMXxanJ25NraWn7mRqlKh7Fd2nR0q/tyvnsPBnC8uSv6xz95/PQmfPf4mIZhgdAghmhNSlcG/CPlf9tDz/d8uZjVqwaP6tOPPp3n+8emf/LT9+ZVxPfvabQ/ebP/FvVEO1M7OhY1ZKi8sWj9wQfJq5Sv9iRHxoIWeJnltGdcMpNsaCXalugxXw5bNKcWsMAQExkdNfdIvDOIZrMhgmtEMksLEnbGWE8gq0R4HRtYdoOtlQojMGopRR0VRBFY0Mr1we4kGHky0nrh6HWbDhIich6d1DKXhF4bvTEIQYbKoDWObSJ5+3Cv0BpvwEcwmI1nvUSKey6qMeqwMTtEPzShg0ROgcuA81LtplY5Ruyo89YFtnMI1q1KwfvUcZqxrhCTHinZVerB8c3rPUjuezdjLCXnkbdGBzBqM2VGY+25DrHUhPuLYMPRRWra5G+YjUoWjcWE4H0ZcV6oYVspLCgEFgx2ooDft6eQOXd5KdUaU4cm4oZXIWytgGy2X9do2kZQvdammskTrnxKxhKY/muco3scTellGYLKcSakxjgiQJovHKKSQaWKqpia6XSQeiYfmLZjRVwPP+DwaBf1iRxYle/nFpTl2TyAJuyVpmqqwHFYqHUwiEXgzoseLWLL0JQmDG3Ii1kQkAIq8nJVFMwLD4kMbayJNQGuWx5CrAfJCDhyhDVKA1st+Y0I443pXNZXFkte0KCpYr2s2MHOF45i36r0Xbl5nP0e5oirEcUuJesGIY9XWKxS8y3gjfZemJBYaN284JyQ2OfYLjulmTxepWGV9uLwSu9WQmsmObGe+4c1IEjBmEw4L6PejBjKmyA3HHLZgoyIfWxatqf5/Mp3QOt12vce1ZSoeQ+gCMepxtU7gIaMVNHaI+BBd7tpO45Q9rbGo+NEUQ1d086IQokU1Iu71rWjAF/jH4JuxcUze3VGcmeVci7qf+T5P5+IAscuJQAKMo49I56Y+IXS7qqMcdZ92N5BsjZwLhFOLpY9Ym8vc1YpXVJolahpcl/GyD1vpqVNq+UUDALyUGOAay6NT7bByPZPPOCy8xUqYach8lOYc8FiNpGA18MJFVVXD8m/z/z+A36u/nlZ9XcpJPP7c67voynlcbSWJ9ztadoQBRXaJjQFG3Ugi8TRxc4HuZH1Ht2ynHMKVOfH6zB3/X3m52ahb/B8sYo9yYpy0q9L82f7dG+JGWh9IcSljUbu9ss4jRuobwDUhCq8UUfOv2nACclbKYRouZV7vV/piXRY6T2IHbF5Cm5U80PzuDvSoebPXRO/1AjP5Ln5qyt+VYBOj7krumJZ9kn8KONJH+TJ70uFNN8N0+H1hFWaaYvOW7GxVZ8AiYAjqrKnRKuno/XaUdffCz93RPhUxvfTxAvLUThtlQ+tOstFIx1JAPCQI02hG3yuj/7bV7ZreEX9OqLxBqI1TaChD1bozweNNPWNqRKNbydl/EaL7rMERrqulsh1SwirWkkHkYIVDCbQZICNfOCBfVuFzzKShVqB9AL5XtDaMxnLkwYqSuPB3RkBFk4CScJBsATCcVDi0to1vNtJ62K5N8ecfVE0nMmi4s1jWhRB7AmWslqHooC1I5F9cWtcZ4Paw9oIIwS3/fqZLLpEr0RZrgizI6WZcWRjbQ/B79BJmk57KZ6A3iTgc9zGCSk5Y0FSSlip6kSWZGkky6VXkkHp8sIzR55kq3A/eROobkyyNPWJCy2FUV+CEuxJEkEk7hE/K1TQjmF37+NpmeR5qcGqTlOUdK3sjwTxKehgT/JGt76GfDQ6Z4YkjUkjXl8pNRwOeXUgXIbllR9GZ8EzE5CyY63NUsPdfiybUY+6zQO2GlBiZukIWZxCAgKL8eYiG8cptgkegXUD8xvxzE8409SzWeWxEBeli8Oywmj2nNPBiOMVHDYAMshtr5DLjZeNREWrnjkPixa7PQwNAIRzVOuy6DdejGTgzulkczFiA9FH7zPLZpObAAYbhvASDB7xrJ2DXJvGZ7XVlTGxUZT/kaGiVg0ouC+j3wS4v5P7cgc36undHdX9zxQd8Tjf4seGVk2cdSMMJi8JlxJAJ/WXnv0RyM/+OYT3xguDlNxhLtEgnDnLNIvnXU40BcRf+cLrXC/zDaBTBmLiz3KYE7AApJE/HGNj+ihg+BeIq+aq/sNSdJMyvp+9gl3Kx7TTUvsDoIP8qVAC6gsfXwLQecBSw5h9w77s+UGrTBNJQ7RqXwPwgMF9uFdxMMPg1rcJkA4DSPsS8jpxeoFcBredjkZBIORyo6QVf9omDtaqP6n5P/BfBIHIvIpncPBcTMOq+9iEGMtuAaB/2bsMWtyDaW6u9hOA+ScwFqBPFYB1QEMo0Zc/8qwm9msR8qIEgHciYj4OLZ4whz31ORKAjsFdNsIMGVpxDojh8JZP0dwQdWKSDxDDARiiRmRg3sqsgPoAL1bnQUmqM6woAcnmUvlXGUmxIwgytbHIssmFjghXAstq4kesTEcNT8orlAp1BqEE0wj69AKkGED0JK3UC6SzXI5EwHCkMaRIwRrLALoCzNVtSggf0Ksbj9kdUnAgzgGstyj5B0hGtkTW0qpJKMVb7JeEpYjzE/hEi/RKmQEFNmngnxhtQCF2SpyLmARNRzS47MavTs1UL30xgJEt0VjgJfZFwMeWUGARUwHoGmBvptx77dtNsh5AoIPWYuAHPzg+6JLGAo4hHCtbeYcEpRC8pDKoCwKiYfQV0PjAMaAWfgN/Ub/RAscMjg0cRxB/Ti8UmyQdKUfiOHuEUPKF4hlutAYFNcERw9EX5MS1VdC3yqLS2ACHCOe8AZKQh1B2AcSXgGsxmMWBvuB1falewFZDSTSiYj1hCoD4HQSg+yy1gY4esRWHlQHM6ncsAD9RhDAXYEdSAQkeQOrHfwBs6RZqb4/UQXAAADYmsTlgTOMipMd0TsB1zOAwEscKHEdp2ou3e3EkmiCIpeqC363G4ZwOhZDApfNY0JyLFYWBpdlyWjxm+GeqT9TIU3CfSbO8kGRsqRtGFM+MhJeB1lDij0PR6INsJuW5YkZvM2Ahg5IaRay7gcywfCEIIoPi90jssMYCLA64WFVD3bmEmhH3aHF8svxf/AlAqpBonIQ8iqhjgCEYLLEChzNe4CmlnBvs8eocscmKqumGadmO6/mO6039IIziJM1yQhkvyqpuZvPFcrXebHdnT9ru/OLy6vrm9u7+4XF/QFAMJ0iKZliOF0RJVlRNN0zLdlzPD8IoTtIsL8qqbtquH8ZpXtZtP87rfl7vz/f3BxCCERTDCZKiGZbjBVGSFVXTDdOyHdfzgzCKkzTLi7Kqm7brh3Gal3Xbj/O6n/f7/U27a8asOfNB9SdNfVHEhEuX2M7HhXEGRceFXYoisl1/4PILDgtDA5Cct7VtreywDwq2dbZlx4m0uS2zPJ1IOQ43ehaQEvufSdkK8P9nIj3iTCCGocSggggTyriQhmnZKro4QIQJZVxIw7RsFV0CIMKEMiEN07JVdEnChDIupGFatoouAyDChDIupGFatooukzChjAtpmJatostChAllXEjDtOyosgEiTCjjQhqmZavopZKtlFJKKaWUUkoprbXWWmuttdZaR/coTBGIMKGMC2mYlq2mCYQw8IShL2feg9CoqIifSLhydipeDwvZ/NLNolq2CzTwJ21Ktjq7OdwcwwbX36duUlfH/OTa1X+C9rby1//+NK7/GnH9JJeHR344cO97/wctxR4F2Xp7KnNDEa9z30sL8L1U14ng0cI9/BLxdB/T/3qWsiveG3Xpe53Of68uoPdqHQ6oojeqIkW/ihehSmy9E+yEMJBDYvBAXItH+ICCQqq4tOEHPpjrRRTlXx2tuSO4lkfAmpYFTfHsEHaZObgNR7ZGvNt5dXsL5gdzDBYW4qAz7nyvwYN1XMTurbg4FRVCXHyCSh2OV4kzG4HPQVECAAAA/g\" myfile.txt\n</code></pre>\n\n<p>It results in the following error <a href=\"https://i.stack.imgur.com/VVts3.png\" rel=\"nofollow noreferrer\">shown in this screenshot</a></p>\n\n<p>What is causing the issue? Also I don't need to use this command, if there is some other Perl or bash command that will achieve this simple search and replace of a base64 string without causing any issues I'm down to use that instead...</p>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1502129385, "post_id": 45553034, "comment_id": 78066195, "body": "<code>grep -v - file</code>?"}, {"owner": {"reputation": 187, "user_id": 7406399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4e1e31b67a7c3ebd9e8037b0c14d172?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7406399/patrick"}, "reply_to_user": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1502129488, "post_id": 45553034, "comment_id": 78066248, "body": "I need to clarify further. Executing that <code>openssl</code> command spits out a large amount of data. One of the &quot;blocks&quot; of data is the certificate information. Using <code>grep -v</code> would work if there was just the certificate info, unfortunately there is not. I&#39;ll edit my post to be more specific."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1502129999, "post_id": 45553034, "comment_id": 78066544, "body": "The problem is <code>grep</code> only looks at one line at a time. It also doesn&#39;t do any capturing."}, {"owner": {"reputation": 187, "user_id": 7406399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4e1e31b67a7c3ebd9e8037b0c14d172?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7406399/patrick"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1502130056, "post_id": 45553034, "comment_id": 78066568, "body": "@Schwern Ah, I didn&#39;t realize that. Especially the &#39;one line at a time&#39; caveat will probably prevent this from working."}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 1, "creation_date": 1502130892, "post_id": 45553034, "comment_id": 78066994, "body": "With sed: <code>sed -n &#39;&#47;-BEGIN CERTIFICATE-&#47;,&#47;-END CERTIFICATE-&#47;p&#39; file | sed &#39;1d;$d&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 7406399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4e1e31b67a7c3ebd9e8037b0c14d172?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7406399/patrick"}, "edited": false, "score": 0, "creation_date": 1502129908, "post_id": 45553298, "comment_id": 78066486, "body": "Awesome, thanks! That seems to have worked with a file. I may try to get a Perl script going to do this instead. Appreciate your help!"}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 6, "last_activity_date": 1502130369, "last_edit_date": 1502130369, "creation_date": 1502129781, "answer_id": 45553298, "question_id": 45553034, "link": "https://stackoverflow.com/questions/45553034/grep-perl-regex-and-capture-groups/45553298#45553298", "title": "Grep Perl Regex and Capture Groups", "body": "<p>I didn't manage to get this working with <code>grep</code>, but have a Perl solution:</p>\n\n<pre><code>perl -0777 -n -e \\\n    'print $1 if /-+BEGIN CERTIFICATE-+\\n(.+\\n)*-+END CERTIFICATE-+/s' \\\n    cert.txt\n</code></pre>\n\n<p>This will print <em>everything</em> between the first \"BEGIN...\" and the last \"END...\".</p>\n\n<p><strong>Update</strong>:</p>\n\n<p><a href=\"https://stackoverflow.com/users/2766176/brian-d-foy\">@brian d foy</a> wrote <a href=\"https://www.effectiveperlprogramming.com/2010/11/make-exclusive-flip-flop-operators/\" rel=\"nofollow noreferrer\">an article</a> about the <em>\"exclusive flip-flop operator\"</em>. According to that article this also works:</p>\n\n<pre><code>perl -n -e \\\n    'print if ($rc = /-+BEGIN CERTIFICATE/ .. /-+END CERTIFICATE-+/ and $rc !~ /(^1|E0)$/)' cert.txt \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16325, "user_id": 3220113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1c0b015f14adfdf581d04c065e903d?s=128&d=identicon&r=PG&f=1", "display_name": "Walter A", "link": "https://stackoverflow.com/users/3220113/walter-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1502131674, "last_edit_date": 1502131674, "creation_date": 1502131020, "answer_id": 45553620, "question_id": 45553034, "link": "https://stackoverflow.com/questions/45553034/grep-perl-regex-and-capture-groups/45553620#45553620", "title": "Grep Perl Regex and Capture Groups", "body": "<p>Use <code>sed</code>:</p>\n\n<pre><code>sed -n '/----BEGIN CERTIFICATE-----/,/----END CERTIFICATE-----/ p' inputfile |\n   sed '1d;$d'\n</code></pre>\n\n<p>EDIT:\nMissed \"CERTIFICATE\"</p>\n\n<p>Or use awk:</p>\n\n<pre><code>awk '/----END CERTIFICATE-----/ {pr=0;}\n     pr==1 {print}\n     /----BEGIN CERTIFICATE-----/ {pr=1;}' inputfile\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1502131575, "post_id": 45553740, "comment_id": 78067381, "body": "I suggest to append <code>| grep .</code> to remove empty line."}, {"owner": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "reply_to_user": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1502131651, "post_id": 45553740, "comment_id": 78067425, "body": "How do you mean? What empty line?"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1502131730, "post_id": 45553740, "comment_id": 78067461, "body": "With GNU grep 2.6.3 there&#39;s a trailing empty line."}, {"owner": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "reply_to_user": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1502131810, "post_id": 45553740, "comment_id": 78067500, "body": "Hmm.. I&#39;m not getting it on GNU grep 2.25. But I do on v2.12.. Ok, I&#39;ll fix it. Thanks."}, {"owner": {"reputation": 187, "user_id": 7406399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4e1e31b67a7c3ebd9e8037b0c14d172?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7406399/patrick"}, "edited": false, "score": 0, "creation_date": 1502133304, "post_id": 45553740, "comment_id": 78068216, "body": "So I tried this using <code>grep -zoPe &#39;--BEGIN.*\\n\\K[^-]+&#39; $(openssl s_client -connect gcm-http.googleapis.com:443) </code> and I&#39;m not getting anything returned except some information from the start of the command (i.e. not the certificate). This seems to be because the openssl command isn&#39;t finishing, but using the output in a file works with your command. Thank you."}, {"owner": {"reputation": 187, "user_id": 7406399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4e1e31b67a7c3ebd9e8037b0c14d172?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7406399/patrick"}, "edited": false, "score": 0, "creation_date": 1502133372, "post_id": 45553740, "comment_id": 78068247, "body": "This is useful information, thank you. I did not know about the \\K flag."}, {"owner": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "reply_to_user": {"reputation": 187, "user_id": 7406399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4e1e31b67a7c3ebd9e8037b0c14d172?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7406399/patrick"}, "edited": false, "score": 0, "creation_date": 1502133762, "post_id": 45553740, "comment_id": 78068426, "body": "@Patrick, try piping the output to <code>grep</code> (without filename)."}, {"owner": {"reputation": 187, "user_id": 7406399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4e1e31b67a7c3ebd9e8037b0c14d172?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7406399/patrick"}, "edited": false, "score": 1, "creation_date": 1502133822, "post_id": 45553740, "comment_id": 78068460, "body": "Working. Thanks."}, {"owner": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "reply_to_user": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1502134223, "post_id": 45553740, "comment_id": 78068653, "body": "@Cyrus, ok so it seems that newer GNU <code>grep</code>s output <code>\\0</code> instead of <code>\\n</code> when <code>-z</code> is used. Which is logical, but it would be nice to have greater control over output separator. Somehow combined with <code>-Z</code>."}], "tags": [], "owner": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "is_accepted": true, "score": 6, "last_activity_date": 1547316267, "last_edit_date": 1547316267, "creation_date": 1502131445, "answer_id": 45553740, "question_id": 45553034, "link": "https://stackoverflow.com/questions/45553034/grep-perl-regex-and-capture-groups/45553740#45553740", "title": "Grep Perl Regex and Capture Groups", "body": "<p>Just for the record, here's a <code>grep</code> command that will extract only the certificate:</p>\n\n<pre><code>grep -zoPe '--BEGIN.*\\n\\K[^-]+' file | head -c-1\n</code></pre>\n\n<p>The trick is to use the <code>-z</code>/<code>--null-data</code> option (input lines are terminated with <code>\\0</code>, not newline). Also we use PCRE and PCRE's special escape sequence, <a href=\"http://pcre.org/current/doc/html/pcre2pattern.html#resetmatchstart\" rel=\"nofollow noreferrer\">the reset match start <code>\\K</code></a>, which causes any previously matched characters not to be included in the final matched sequence (we need only the part after <code>--BEGIN...\\n</code> and before <code>-...</code>).</p>\n\n<p>The <code>head -c-1</code> will remove the very last character, which is a <em>newline</em> for older <code>grep</code>s (e.g. GNU <code>grep</code> v2.12) and a <em>null byte</em> for newer <code>grep</code>s (e.g. GNU <code>grep</code> v2.25).</p>\n"}], "owner": {"reputation": 187, "user_id": 7406399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4e1e31b67a7c3ebd9e8037b0c14d172?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7406399/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1098, "favorite_count": 0, "accepted_answer_id": 45553740, "answer_count": 3, "score": 2, "last_activity_date": 1547316267, "creation_date": 1502128869, "last_edit_date": 1502129572, "question_id": 45553034, "link": "https://stackoverflow.com/questions/45553034/grep-perl-regex-and-capture-groups", "title": "Grep Perl Regex and Capture Groups", "body": "<p>I'm trying to grab the SSl certificate information using this command:</p>\n\n<pre><code>openssl s_client -connect gcm-http.googleapis.com:443\n</code></pre>\n\n<p>which will return SSL certificate information. I'm trying to <code>grep -P</code> that but having trouble figuring out 1) the proper regular expression, and 2) how to actually make Grep return just that. So far, the grep command with the below regex's returns nothing.</p>\n\n<p>Here is the information I'm operating against:</p>\n\n<pre><code>(More unrelated data - Truncated)\n---\nCertificate chain\n 0 s:/C=US/ST=California/L=Mountain View/O=Google Inc/CN=*.googleapis.com\n   i:/C=US/O=Google Inc/CN=Google Internet Authority G2\n 1 s:/C=US/O=Google Inc/CN=Google Internet Authority G2\n   i:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA\n 2 s:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA\n   i:/C=US/O=Equifax/OU=Equifax Secure Certificate Authority\n---\nServer certificate\n\n-----BEGIN CERTIFICATE-----\nMIIE3TCCA8WgAwIBAgIISZPzqn6Rx/0wDQYJKoZIhvcNAQELBQAwSTELMAkGA1UE\nBhMCVVMxEzARBgNVBAoTCkdvb2dsZSBJbmMxJTAjBgNVBAMTHEdvb2dsZSBJbnRl\ncm5ldCBBdXRob3JpdHkgRzIwHhcNMTcwNzI1MDgyOTQ0WhcNMTcxMDE3MDgyNzAw\nWjBqMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwN\nTW91bnRhaW4gVmlldzETMBEGA1UECgwKR29vZ2xlIEluYzEZMBcGA1UEAwwQKi5n\nb29nbGVhcGlzLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAL50\nUZFxROM8NwIcSTC9V6XAJkoCcW+xuLtYFUbP+6zomzzxYXtTjh+s33XvtaHoNk1S\nWxBqSX+0YsS1RHzwWT4KwJpkEyrqJ/WDtKs3hQY27Lng6IZmAYomoRXNZBWgXdQ0\nsBddBU9/HtpKu0RpL6qM+7y7Xpp8KHilqPfjvtc8eljvOAdU3RA3w1p2JIov+F5n\nsbD1bMqq3Xx6wbT7FLhzL8P/+g1NI0DC/fzSqW+pS/RLljQGLJrlvfmrV++i69Yg\npFRHPvTo85171cLjvHNv730SkM4W9SA7oHU+xzmANrT+p/ikcEJrcMnR9pKf08ON\npN9UgsEff7BZE0jvlu0CAwEAAaOCAaYwggGiMB0GA1UdJQQWMBQGCCsGAQUFBwMB\nBggrBgEFBQcDAjB0BgNVHREEbTBrghAqLmdvb2dsZWFwaXMuY29tghUqLmNsaWVu\ndHM2Lmdvb2dsZS5jb22CGCouY2xvdWRlbmRwb2ludHNhcGlzLmNvbYIWY2xvdWRl\nbmRwb2ludHNhcGlzLmNvbYIOZ29vZ2xlYXBpcy5jb20waAYIKwYBBQUHAQEEXDBa\nMCsGCCsGAQUFBzAChh9odHRwOi8vcGtpLmdvb2dsZS5jb20vR0lBRzIuY3J0MCsG\nCCsGAQUFBzABhh9odHRwOi8vY2xpZW50czEuZ29vZ2xlLmNvbS9vY3NwMB0GA1Ud\nDgQWBBRQbPBTOA3tVXQWc4iuJyyz5dGWMzAMBgNVHRMBAf8EAjAAMB8GA1UdIwQY\nMBaAFErdBhYbvPZotXb1gba7Yhq6WoEvMCEGA1UdIAQaMBgwDAYKKwYBBAHWeQIF\nATAIBgZngQwBAgIwMAYDVR0fBCkwJzAloCOgIYYfaHR0cDovL3BraS5nb29nbGUu\nY29tL0dJQUcyLmNybDANBgkqhkiG9w0BAQsFAAOCAQEAeClOfrviHl9sZAVSTfYB\n5FuIDKeSJHibXtjHSNsUP+JaAB9x1ABDczyLYWD/4PaD2w8jRXPXcVcqUaQPqyjF\n1um/H/+Eb8+qfwl+Q3RiBAgGgAPw+s6GZK/kGfF9CNPbwhPXizYS6BZZ880/x3ec\nEm0F+i0NbHsufPg4ghtJr2gFC2NWHwhvZtezbQDR2z8ePu1r3hyFwgotefCFsQJv\nzAbVOvXsqHZdom3BLVwkANeh5hRfeW04N48bRVMZo9A0cULTg5LM1AOXGeLbp86z\nD3RHbwtbRBGp2HUjfpt8FqeMzd+DxGlQXEc7l8aFwOgIFvWRJv+SHCXVT3rRHGD+\nwA==\n-----END CERTIFICATE-----\n\n....\n(More unrelated data - Truncated)\n</code></pre>\n\n<p>I've tried both of these regexs:</p>\n\n<pre><code>grep -P '((?:-+BEGIN CERTIFICATE-+\\n)(.+\\n)*(?:-+END CERTIFICATE-+))'\n\ngrep -P '(?:-+BEGIN CERTIFICATE-+\\n)(.+\\n)(?:-+END CERTIFICATE-+)'\n</code></pre>\n\n<p>Essentially, I want to only return the Certificate itself, not the <code>----BEGIN CERTIFICATE----</code> and <code>-----END CERTIFICATE-----</code></p>\n\n<p>I know there's probably a better way to do the regex, but I've tested it (and it works) on <code>regexr.com</code> and <code>regex101.com</code> </p>\n\n<p>If Grep is capturing it successfully, doing an <code>echo $1</code> is returning nothing.</p>\n"}, {"tags": ["perl", "latex"], "comments": [{"owner": {"reputation": 730, "user_id": 889976, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/17e056b2df12132c8ab0628ef0fba5e9?s=128&d=identicon&r=PG", "display_name": "Bernhard Bodenstorfer", "link": "https://stackoverflow.com/users/889976/bernhard-bodenstorfer"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1502128096, "post_id": 45552322, "comment_id": 78065492, "body": "No, <code>env PERL5OPT=w perltex --nosafe perlhash.tex</code> does not help; it runs without raising the desired error when given the above file as perlhash.tex."}, {"owner": {"reputation": 730, "user_id": 889976, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/17e056b2df12132c8ab0628ef0fba5e9?s=128&d=identicon&r=PG", "display_name": "Bernhard Bodenstorfer", "link": "https://stackoverflow.com/users/889976/bernhard-bodenstorfer"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1502128637, "post_id": 45552322, "comment_id": 78065807, "body": "<code>env PERLOPT=-Mstrict perltex --nosafe perlhash.tex</code> runs without flagging any error, too."}, {"owner": {"reputation": 730, "user_id": 889976, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/17e056b2df12132c8ab0628ef0fba5e9?s=128&d=identicon&r=PG", "display_name": "Bernhard Bodenstorfer", "link": "https://stackoverflow.com/users/889976/bernhard-bodenstorfer"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1502128850, "post_id": 45552322, "comment_id": 78065908, "body": "<code>env PERL5OPT=-Mstrict perltex --nosafe perlhash.tex</code> raises the desired error (and in fact also rejects the declaration of %HASH). So it is a possible solution to my problem as stated. The question remains whether this is not possible inside the perltex source file so that the applicability of <code>use strict</code> can be adjusted."}], "answers": [{"comments": [{"owner": {"reputation": 730, "user_id": 889976, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/17e056b2df12132c8ab0628ef0fba5e9?s=128&d=identicon&r=PG", "display_name": "Bernhard Bodenstorfer", "link": "https://stackoverflow.com/users/889976/bernhard-bodenstorfer"}, "edited": false, "score": 0, "creation_date": 1502137671, "post_id": 45554131, "comment_id": 78070380, "body": "Thanks, as far as I understand, --nosafe and the module Safe are concerned with sandboxing, I would not see how this should impact <code>use strict</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 730, "user_id": 889976, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/17e056b2df12132c8ab0628ef0fba5e9?s=128&d=identicon&r=PG", "display_name": "Bernhard Bodenstorfer", "link": "https://stackoverflow.com/users/889976/bernhard-bodenstorfer"}, "edited": false, "score": 0, "creation_date": 1502137941, "post_id": 45554131, "comment_id": 78070508, "body": "@BernhardBodenstorfer It stands to reason that it loads that list depending on whether it is setting up a sandbox or not. Unfortunately, that is unclear in the docs -- it appears to say that those <i>are loaded</i> (period), but you say you get it otherwise.  The next thing then is that it may mean that they are loaded in one case, but not in the other (an you get that one).  I can&#39;t try now :("}, {"owner": {"reputation": 730, "user_id": 889976, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/17e056b2df12132c8ab0628ef0fba5e9?s=128&d=identicon&r=PG", "display_name": "Bernhard Bodenstorfer", "link": "https://stackoverflow.com/users/889976/bernhard-bodenstorfer"}, "edited": false, "score": 0, "creation_date": 1502138305, "post_id": 45554131, "comment_id": 78070661, "body": "Thanks for the clarification. Unfortunately, it turns out that if I omit the <code>use strict</code> statement in my above perltex input and drop the --nosafe option from the command line, still no error is flagged. So <code>use strict</code> does not appear to be in force regardless of the option --nosafe."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 730, "user_id": 889976, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/17e056b2df12132c8ab0628ef0fba5e9?s=128&d=identicon&r=PG", "display_name": "Bernhard Bodenstorfer", "link": "https://stackoverflow.com/users/889976/bernhard-bodenstorfer"}, "edited": false, "score": 0, "creation_date": 1502138309, "post_id": 45554131, "comment_id": 78070663, "body": "@BernhardBodenstorfer  In particular, the list includes <code>Getopt::Long</code>, and this should be always available, and so then <code>use strict;</code> should be, too.  It is a little confusing."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 730, "user_id": 889976, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/17e056b2df12132c8ab0628ef0fba5e9?s=128&d=identicon&r=PG", "display_name": "Bernhard Bodenstorfer", "link": "https://stackoverflow.com/users/889976/bernhard-bodenstorfer"}, "edited": false, "score": 0, "creation_date": 1502138466, "post_id": 45554131, "comment_id": 78070716, "body": "@BernhardBodenstorfer  I see. That behavior seems to conflict the <b>3.2.3</b> section in the docs (unless I&#39;m misreading it somehow).  Perhaps contact the author? You may have revealed a bug.  Also, this strikes me as something that is feasible to add as a global option of some sort."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1502143829, "last_edit_date": 1502143829, "creation_date": 1502133056, "answer_id": 45554131, "question_id": 45552322, "link": "https://stackoverflow.com/questions/45552322/perltex-to-globally-use-strict/45554131#45554131", "title": "perltex to globally use strict", "body": "<p>The <a href=\"http://mirrors.ibiblio.org/CTAN/macros/latex/contrib/perltex/perltex.pdf\" rel=\"nofollow noreferrer\">perltex CTAN documentation</a> gives in section <strong>3.2.3</strong> a list of the loaded modules and pragmas.  These <em>include</em> <code>use strict;</code>.</p>\n\n<p>The docs are a little unclear on when this is the default, but it appears to be under <code>--nosafe</code>. Then this option should be the way to toggle it and get those defaults loaded. </p>\n\n<p>Did you try setting it only in the first command used (like <code>\\perldo</code>)?  That may well be enough.</p>\n\n<p>The <code>--permit</code> option allows \"features\" described in <a href=\"http://perldoc.perl.org/Opcode.html\" rel=\"nofollow noreferrer\">Opcode</a> module to be specified, what is done using the module <a href=\"http://perldoc.perl.org/Safe.html\" rel=\"nofollow noreferrer\">Safe</a>. While I don't see how to directly make use of this, the discussion under <code>Safe::reval</code> method may be helpful.</p>\n\n<p>I don't have the module installed here and can't try. I hope that this is of some use.</p>\n\n<p>As the final resort, why not contact the author?  You may have revealed a bug (in documentation), since the observed behavior seems to conflict the docs.  Also, this may well be feasible to add.</p>\n"}], "owner": {"reputation": 730, "user_id": 889976, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/17e056b2df12132c8ab0628ef0fba5e9?s=128&d=identicon&r=PG", "display_name": "Bernhard Bodenstorfer", "link": "https://stackoverflow.com/users/889976/bernhard-bodenstorfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1502143829, "creation_date": 1502126127, "question_id": 45552322, "link": "https://stackoverflow.com/questions/45552322/perltex-to-globally-use-strict", "title": "perltex to globally use strict", "body": "<p>To enforce clean and explicit code, I customarily</p>\n\n<pre><code>use strict;\n</code></pre>\n\n<p>when programming Perl.\nI would like to keep this habit in <strong>perltex</strong>, too.</p>\n\n<p>So where should I put this <code>use strict;</code> statement so that it governs all successive <code>\\perldo</code>, <code>\\perlnewcommand</code>, <code>\\perlnewenvironment</code>, <code>\\perlrenewcommand</code> and <code>\\perlrenewenvironment</code> invocations in the perltex input file?</p>\n\n<p>The following perltex example file runs without raising an error:</p>\n\n<pre><code>\\documentclass[12pt]{article}\n\n\\usepackage{perltex}\n\n    \\perldo{\n        my $scalar = \"ok\";\n        our @array = qw( array is fine );\n        %HASH = (\n            subject =&gt; \"hash\",\n            result =&gt; \"perfect\"\n        );\n        use strict;\n    }\n\n    \\perlnewcommand\\printscalar{\n        return $scalar;\n    }\n\n    \\perlnewcommand\\printarray{\n        return join \", \", @array;\n    }\n\n    \\perlnewcommand\\printhash{\n        return join \", \", map { sprintf \"%s = %s\", $_, $HASH{$_} } keys %HASH;\n    }\n\n\\begin{document}\n    Scalar: \\printscalar\n\n    Array: \\printarray\n\n    Hash: \\printhash\n\\end{document}\n</code></pre>\n\n<p>It produces something similar to</p>\n\n<blockquote>\n  <p><a href=\"https://i.stack.imgur.com/hwDB4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hwDB4.png\" alt=\"typeset output text\"></a></p>\n</blockquote>\n\n<p>That no error is raised shows that <code>use strict;</code> in the top <code>\\perldo</code> argument is disregarded in the definition of <code>\\printscalar</code>. The result also shows that the setting of <code>$scalar</code> was not known there any more because of the <code>my</code>. To avoid such mistakes, I would wish to receive an error</p>\n\n<blockquote>\n  <p>Global symbol \"$scalar\" requires explicit package name</p>\n</blockquote>\n\n<p>whenever I forget to specify <code>my</code> or <code>our</code> when introducing a new variable.</p>\n\n<p>A workaround to my problem is to include the statement</p>\n\n<pre><code>use strict;\n</code></pre>\n\n<p>in all <code>\\perldo</code>, ... commands, and this can be done using macros. Nevertheless I wonder whether there is no possibility to avoid such re-statements.</p>\n"}, {"tags": ["perl", "ssl", "lwp"], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 6, "last_activity_date": 1502126190, "creation_date": 1502126190, "answer_id": 45552338, "question_id": 45552150, "link": "https://stackoverflow.com/questions/45552150/how-to-fix-ssl-error-in-perl-lwp/45552338#45552338", "title": "How to fix SSL error in Perl LWP?", "body": "<blockquote>\n  <p>Net::SSLeay::OPENSSL_VERSION_NUMBER()   0x009081df</p>\n</blockquote>\n\n<p>This is OpenSSL 0.9.8, at least 7 years old, not supporting TLS 1.1 and TLS 1.2 and not supporting any ECDHE ciphers. Also, no support for <a href=\"https://en.wikipedia.org/wiki/Server_Name_Indication\" rel=\"noreferrer\">SNI</a> within IO::Socket::SSL for this old version of OpenSSL.</p>\n\n<p>Looking at the <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=www.themoviedb.org&amp;s=2600%3a9000%3a202e%3aa400%3ae%3a5373%3a440%3a93a1&amp;latest\" rel=\"noreferrer\">SSLLabs report for www.themoviedb.org</a> you'll see:</p>\n\n<blockquote>\n  <p>This site works only in browsers with SNI support.</p>\n</blockquote>\n\n<p>Thus, you'll need to upgrade your version of OpenSSL. Note that you also need to recompile Net::SSLeay afterwards and link it to the newer OpenSSL version.</p>\n"}], "owner": {"reputation": 443, "user_id": 7757812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8bb8d0f617ac02473b73e4e66a8e5fa5?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/7757812/dmitriy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4574, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1502126190, "creation_date": 1502125444, "question_id": 45552150, "link": "https://stackoverflow.com/questions/45552150/how-to-fix-ssl-error-in-perl-lwp", "title": "How to fix SSL error in Perl LWP?", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new(\n    agent =&gt; 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_5) AppleWebKit/603.2.4 (KHTML, like Gecko) Version/10.1.1 Safari/603.2.4',\n    ssl_opts =&gt; { verify_hostname =&gt; 0 }\n);\n\nmy $response = $ua-&gt;get('https://www.themoviedb.org');\n</code></pre>\n\n<p>gives an error message:</p>\n\n<blockquote>\n  <p>Can't connect to www.themoviedb.org:443</p>\n  \n  <p>SSL connect attempt failed error:14077410:SSL\n  routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure at\n  /Library/Perl/5.18/LWP/Protocol/http.pm line 46.</p>\n</blockquote>\n\n<p>I use macOS Sierra</p>\n\n<pre><code>LWP-&gt;VERSION                            6.26\nIO::Socket::SSL-&gt;VERSION                2.049\nNet::SSLeay-&gt;VERSION                    1.72\nNet::SSLeay::OPENSSL_VERSION_NUMBER()   0x009081df\nLWP::UserAgent-&gt;VERSION                 6.26\nLWP::Protocol::https-&gt;VERSION           6.04\n</code></pre>\n\n<p>how to fix it?</p>\n"}, {"tags": ["perl", "module", "undefined", "subroutine"], "comments": [{"owner": {"reputation": 2639, "user_id": 3072566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaZNV.png?s=128&g=1", "display_name": "litelite", "link": "https://stackoverflow.com/users/3072566/litelite"}, "edited": false, "score": 0, "creation_date": 1502123707, "post_id": 45551713, "comment_id": 78063186, "body": "In what language is that? also, please format code properly. you can use the button with the &quot;{ }&quot; icon in the editor to do so"}, {"owner": {"reputation": 53, "user_id": 1210923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86c45f9aded33fda66bf19355bbccf81?s=128&d=identicon&r=PG", "display_name": "user1210923", "link": "https://stackoverflow.com/users/1210923/user1210923"}, "reply_to_user": {"reputation": 2639, "user_id": 3072566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaZNV.png?s=128&g=1", "display_name": "litelite", "link": "https://stackoverflow.com/users/3072566/litelite"}, "edited": false, "score": 0, "creation_date": 1502150827, "post_id": 45551713, "comment_id": 78074665, "body": "since you, litelite, don&#39;t recognise perl and can&#39;t see there is no code I doubt you could help. don&#39;t worry about it"}, {"owner": {"reputation": 2639, "user_id": 3072566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaZNV.png?s=128&g=1", "display_name": "litelite", "link": "https://stackoverflow.com/users/3072566/litelite"}, "edited": false, "score": 0, "creation_date": 1502157586, "post_id": 45551713, "comment_id": 78076039, "body": "Well, there are code snippets (extremely small but still existing). I did suspect it was perl from the extensions but did not wanted to jump to the gun and edit your post right off the bath. Also, tagging your language helps your question be seen. And would have helped you get an answer."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1502257072, "post_id": 45551713, "comment_id": 78123918, "body": "you are going to have to show your code, at least enough of it to duplicate the problem"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1502270803, "post_id": 45551713, "comment_id": 78132114, "body": "Without seeing your code we would be guessing. And that&#39;s a waste of everyone&#39;s time."}, {"owner": {"reputation": 730, "user_id": 889976, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/17e056b2df12132c8ab0628ef0fba5e9?s=128&d=identicon&r=PG", "display_name": "Bernhard Bodenstorfer", "link": "https://stackoverflow.com/users/889976/bernhard-bodenstorfer"}, "edited": false, "score": 0, "creation_date": 1502276215, "post_id": 45551713, "comment_id": 78136137, "body": "@user1210923, may I ask you to strip down your code to a minimal example which exhibits the strange behaviour you describe. It may have to do with <code>package</code> settings, but that is hard to tell without such example code."}, {"owner": {"reputation": 53, "user_id": 1210923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86c45f9aded33fda66bf19355bbccf81?s=128&d=identicon&r=PG", "display_name": "user1210923", "link": "https://stackoverflow.com/users/1210923/user1210923"}, "edited": false, "score": 0, "creation_date": 1502305296, "post_id": 45551713, "comment_id": 78156905, "body": "The relevant snippet is this:my $rc = &amp;isSpamText($string); \t&amp;debugLog(&#39;isSpam&#39;,&quot;return code from isSpamText &lt;$rc&gt;&quot;); \tif ($rc) \t{ \t\t&amp;errorLog(&#39;isSpam&#39;,&quot;Probable spam comment &#39;$string&#39; - spam assumed&quot;); #\t\tand stop him forever! \t\t&amp;Blacklist; \t\treturn 1;\t \t}"}], "owner": {"reputation": 53, "user_id": 1210923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86c45f9aded33fda66bf19355bbccf81?s=128&d=identicon&r=PG", "display_name": "user1210923", "link": "https://stackoverflow.com/users/1210923/user1210923"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1502305578, "creation_date": 1502123613, "last_edit_date": 1502305578, "question_id": 45551713, "link": "https://stackoverflow.com/questions/45551713/undefined-subroutine-though-defined", "title": "undefined subroutine though defined", "body": "<p>The most peculiar thing - to me anyway.\nI have a module, lesenfantsterribles.pm, that contains all the common subroutines of a site. \nA subroutine called \"Blacklist\" is defined for use by other programs through <code>@EXPORT =</code> along with most of the subroutines except those only used in the module.</p>\n\n<p>Suddenly, when called (<code>&amp;Blacklist;</code>)from another subroutine in the module, I get the error message \"Undefined subroutine &amp;lesenfantsterribles::Blacklist called at lesenfantsterribles.pm line 681.\"</p>\n\n<p>There are several possible calls to \"Blacklist\" in the subroutine and only one results in this error.</p>\n\n<p>Any ideas?</p>\n\n<p>The relevant snippet is this bit:</p>\n\n<pre><code>my $rc = &amp;isSpamText($string);\n&amp;debugLog('isSpam',\"return code from isSpamText &lt;$rc&gt;\");\nif ($rc)\n{\n    &amp;errorLog('isSpam',\"Probable spam comment '$string' - spam assumed\");\n    &amp;Blacklist;\n    return 1;   \n}   \n</code></pre>\n\n<p>Three internal subroutines are called successfully before this one is called and fails. </p>\n"}, {"tags": ["perl", "tk", "popupwindow", "perltk"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 4043760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd4d8e17b5534cac0444c2f45899eb28?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/4043760/sam"}, "edited": false, "score": 0, "creation_date": 1502129633, "post_id": 45552190, "comment_id": 78066330, "body": "Yes you are absolutely right. My Shell script was not moving forward without me closing the window. So i forked the processes and it worked. Thanks a lot for your suggestion. I appreciate it !"}], "tags": [], "owner": {"reputation": 1419, "user_id": 204275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c1d7c7d7d48017ce55936bff356688?s=128&d=identicon&r=PG", "display_name": "HerbN", "link": "https://stackoverflow.com/users/204275/herbn"}, "is_accepted": true, "score": 2, "last_activity_date": 1502125618, "creation_date": 1502125618, "answer_id": 45552190, "question_id": 45551184, "link": "https://stackoverflow.com/questions/45551184/how-to-continue-executing-other-part-of-code-while-pop-up-window-is-open-in-perl/45552190#45552190", "title": "How to continue executing other part of code while pop up window is open in perl", "body": "<p>Your main script is probably waiting for a return from the call to Perl.  In Tk Perl stays in the MainLoop either you call the TK specific exit routine, which closes out the main window, or directly call destroy on your main window object.</p>\n\n<p>The solution isn't in this script but in the calling code.  The calling code needs to fork the execution of this Perl script into a separate process or thread.</p>\n"}], "owner": {"reputation": 65, "user_id": 4043760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd4d8e17b5534cac0444c2f45899eb28?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/4043760/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 45552190, "answer_count": 1, "score": 2, "last_activity_date": 1502175441, "creation_date": 1502121710, "last_edit_date": 1502175441, "question_id": 45551184, "link": "https://stackoverflow.com/questions/45551184/how-to-continue-executing-other-part-of-code-while-pop-up-window-is-open-in-perl", "title": "How to continue executing other part of code while pop up window is open in perl", "body": "<p>I am executing a perl script as a part of other bigger code. \nMy perl code opens up a pop up window based on status value (success or failure). This issue is, the script does not continue executing other parts of code untill I close this pop up window created by perl. How can I solve this. Please help. I want to keep the pop up open and continue executing other parts of parent script. \nI am using following perl script to open up pop up.</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse Tk;\nmy $status = shift;\nmy $opt = shift;\nmy $mw = MainWindow-&gt;new;\n$mw-&gt;title(\"DONE\");\nif($status eq \"success\") {\n  $mw-&gt;Label(-text =&gt; \"$opt dummyFill for 'test1' succeeded\",       -background =&gt; \"green\")-&gt;pack(-ipadx =&gt; 10, -ipady =&gt; 10);\n    $mw-&gt;Button(-text =&gt; \"Close\", -background =&gt; \"green\", -command =&gt; sub { exit})-&gt;pack(-fill =&gt; \"x\");\n} else {\n    $mw-&gt;Label(-text =&gt; \"$opt dummyFill for 'test1' FAILED\", -background =&gt; \"red\")-&gt;pack(-ipadx =&gt; 10, -ipady =&gt; 10);\n    $mw-&gt;Button(-text =&gt; \"Close\", -background =&gt; \"red\", -command =&gt; sub { exit})-&gt;pack(-fill =&gt; \"x\");\n}\n$mw-&gt;geometry(\"+250+50\");\nMainLoop;\n</code></pre>\n\n<p>I appreciate your help.</p>\n\n<p>Thanks\nSam</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8436088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54fccb8be1cf0344104b61f8b339e020?s=128&d=identicon&r=PG", "display_name": "ewan", "link": "https://stackoverflow.com/users/8436088/ewan"}, "is_accepted": false, "score": -1, "last_activity_date": 1502230025, "last_edit_date": 1502230025, "creation_date": 1502218513, "answer_id": 45576030, "question_id": 45548825, "link": "https://stackoverflow.com/questions/45548825/perl-script-akaitools-accessing-usb-iomega-zip-drive-on-ubuntu-linux/45576030#45576030", "title": "PERL script AKAITOOLS accessing USB Iomega Zip drive on Ubuntu Linux", "body": "<p>Create a symbolic link (symlink) from <code>/dev/mo</code> to the device file of your zip drive.</p>\n"}], "owner": {"reputation": 1, "user_id": 8429128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e8ed49fcac67031035afc61aa262b70?s=128&d=identicon&r=PG&f=1", "display_name": "wrrkkksstffrrg", "link": "https://stackoverflow.com/users/8429128/wrrkkksstffrrg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1502230025, "creation_date": 1502114585, "question_id": 45548825, "link": "https://stackoverflow.com/questions/45548825/perl-script-akaitools-accessing-usb-iomega-zip-drive-on-ubuntu-linux", "title": "PERL script AKAITOOLS accessing USB Iomega Zip drive on Ubuntu Linux", "body": "<p>I am running a Perl script trying to access an Iomega ZIP drive on Ubuntu Linux, and it is returning the following error:-</p>\n\n<pre><code>new: /dev/mo: Bad file descriptor\n</code></pre>\n\n<p>This is on either running either of the following commands:-</p>\n\n<pre><code>akailist\n</code></pre>\n\n<p>or</p>\n\n<pre><code>for i in *.a3s; do akaiwrite -d /breaks/ \"${i}\"; done\n</code></pre>\n\n<p>The script I am running is from AKAITOOLS, to save audio files in AKAI .as3 format to an AKAI formatted Iomega ZIP disk for use in an Iomega ZIP drive connected to an S3000XL sampler.</p>\n\n<p>The AKAITOOLS Perl scripts are available here:-</p>\n\n<p><a href=\"http://www.lsnl.jp/~ohsaki/software/akaitools/\" rel=\"nofollow noreferrer\">http://www.lsnl.jp/~ohsaki/software/akaitools/</a></p>\n\n<p>A description of the process for successfully running this can be read here:-</p>\n\n<p><a href=\"http://www.mpc-forums.com/viewtopic.php?f=42&amp;t=178525\" rel=\"nofollow noreferrer\">http://www.mpc-forums.com/viewtopic.php?f=42&amp;t=178525</a></p>\n\n<p>These scripts are pretty old (1998) - and I have successfully used them in the past. </p>\n\n<p>I would be grateful for any suggestions/ help to resolve this issue</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 4, "last_activity_date": 1502114504, "creation_date": 1502114504, "answer_id": 45548805, "question_id": 45548713, "link": "https://stackoverflow.com/questions/45548713/how-to-convert-utf-8-hex-code-into-html-perl/45548805#45548805", "title": "How to convert UTF-8 hex code into HTML (perl)?", "body": "<blockquote>\n  <p>incoming email containing UTF-8 hex code</p>\n</blockquote>\n\n<p>The format is <a href=\"https://en.wikipedia.org/wiki/Quoted-printable\" rel=\"nofollow noreferrer\">quoted printable</a>.</p>\n\n<p>You should deal with it by using a Perl module designed to parse email messages. <a href=\"https://metacpan.org/pod/MIME::Parser\" rel=\"nofollow noreferrer\"><code>MIME::Parser</code></a> or <a href=\"https://metacpan.org/pod/Email::MIME\" rel=\"nofollow noreferrer\"><code>Email::MIME</code></a> for example.</p>\n\n<p>You'd need to use this at a stage before you get the raw data into a string (as your example suggests you have).</p>\n\n<p>That will parse the data into UTF-8. You should then sent the UTF-8 data to the browser. There's no need to try to convert every non-ASCII character into a named character entity: We've had pretty good support for UTF-8 since the turn of the century.</p>\n"}], "owner": {"reputation": 11, "user_id": 8429144, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xxQqtia0k3c/AAAAAAAAAAI/AAAAAAAAADM/F4RSI0TW-gA/photo.jpg?sz=128", "display_name": "Lester Kovac", "link": "https://stackoverflow.com/users/8429144/lester-kovac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1502114504, "creation_date": 1502114215, "question_id": 45548713, "link": "https://stackoverflow.com/questions/45548713/how-to-convert-utf-8-hex-code-into-html-perl", "title": "How to convert UTF-8 hex code into HTML (perl)?", "body": "<p>Perl script is handling incoming email containing UTF-8 hex code and is converting it to html.</p>\n\n<p>Example:</p>\n\n<pre><code>Input: c=C3=A9d=C3=A9\nHTML: c&amp;eacute;d&amp;eacute;\nShould be displayed as: c\u00e9d\u00e9\n</code></pre>\n\n<p>I managed this fast:</p>\n\n<pre><code>$message_text =~ s/=C3=80/&amp;Agrave;/g;\n$message_text =~ s/=C3=81/&amp;Aacute;/g;\n$message_text =~ s/=C3=82/&amp;Acirc;/g;\n$message_text =~ s/=C3=87/&amp;Ccedil;/g;\n$message_text =~ s/=C3=88/&amp;Egrave;/g;\n$message_text =~ s/=C3=89/&amp;Eacute;/g;\n$message_text =~ s/=C3=8A/&amp;Ecirc;/g;\n$message_text =~ s/=C3=8B/&amp;Euml;/g;\n$message_text =~ s/=C3=8E/&amp;Icirc;/g;\n$message_text =~ s/=C3=8F/&amp;Iuml;/g;\n$message_text =~ s/=C3=A0/&amp;agrave;/g;\n$message_text =~ s/=C3=A1/&amp;aacute;/g;\n$message_text =~ s/=C3=A2/&amp;acirc;/g;\n$message_text =~ s/=C3=A7/&amp;ccedil;/g;\n$message_text =~ s/=C3=A8/&amp;egrave;/g;\n$message_text =~ s/=C3=A9/&amp;eacute;/g;\n$message_text =~ s/=C3=AA/&amp;ecirc;/g;\n$message_text =~ s/=C3=AB/&amp;euml;/g;\n$message_text =~ s/=C3=AE/&amp;icirc;/g;\n$message_text =~ s/=C3=AF/&amp;iuml;/g;\n</code></pre>\n\n<p>but this handles only French. I need to handle also Icelandic &amp; Slovak.</p>\n\n<p>Instead of adding similar line for more extended Latin characters, what would be the proper way to handle this for (almost) any language?</p>\n"}, {"tags": ["macos", "perl", "dependencies", "cpan", "makemaker"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502112313, "post_id": 45548018, "comment_id": 78055629, "body": "You understand <code>sudo cpan</code> and <code>cpan</code> are different things, right?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502112332, "post_id": 45548018, "comment_id": 78055641, "body": "Also you understand <a href=\"https://www.effectiveperlprogramming.com/2015/11/apple-recommends-installing-your-own-perl/\" rel=\"nofollow noreferrer\">you should not mess with the Perl install that comes with your system</a>, right?"}, {"owner": {"reputation": 125, "user_id": 2258161, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/887b0efe9b941de6bdfe52abad58a787?s=128&d=identicon&r=PG", "display_name": "dannyhmg", "link": "https://stackoverflow.com/users/2258161/dannyhmg"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502113963, "post_id": 45548018, "comment_id": 78056720, "body": "Yes, I&#39;m aware I shouldn&#39;t mess with the pre-installed Perl - that&#39;s why I don&#39;t really want to re-install MakeMaker.  I was not aware that <code>sudo cpan</code> and <code>cpan</code> were different (I just wanted to run <code>cpan</code> as root), but I just did a quick test and they both give identical results in this case."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502114494, "post_id": 45548018, "comment_id": 78057090, "body": "Post the output of <code>sudo which perl</code> versus <code>which perl</code>. Also <code>sudo which cpan</code> and <code>which cpan</code>. ..."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502117562, "post_id": 45548018, "comment_id": 78059205, "body": "So, you are indeed trying to mess with your system Perl. I am inclined not to delve into this any further."}, {"owner": {"reputation": 125, "user_id": 2258161, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/887b0efe9b941de6bdfe52abad58a787?s=128&d=identicon&r=PG", "display_name": "dannyhmg", "link": "https://stackoverflow.com/users/2258161/dannyhmg"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502117801, "post_id": 45548018, "comment_id": 78059401, "body": "Uh, ok.  Not exactly the helpful response I was looking for.  So, your recommendation is to install a new Perl, and install Date::Manip there?  I guess I could do that, but it still doesn&#39;t answer my original question: How do I get cpan to locate and use a previously-installed dependency?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502119411, "post_id": 45548018, "comment_id": 78060525, "body": "I don&#39;t and cannot know the particular way in which you borked the Perl that came with your operating system, and therefore I am not interested in spending more time on your particular question."}, {"owner": {"reputation": 125, "user_id": 2258161, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/887b0efe9b941de6bdfe52abad58a787?s=128&d=identicon&r=PG", "display_name": "dannyhmg", "link": "https://stackoverflow.com/users/2258161/dannyhmg"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502123892, "post_id": 45548018, "comment_id": 78063273, "body": "It should be clear enough from the post that I am a bit confused about what&#39;s going on, and looking for help.  If you&#39;re not interested in helping, then I&#39;m not sure why you bothered to reply.  The snarky response and -1 vote are uncalled for."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 2258161, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/887b0efe9b941de6bdfe52abad58a787?s=128&d=identicon&r=PG", "display_name": "dannyhmg", "link": "https://stackoverflow.com/users/2258161/dannyhmg"}, "edited": false, "score": 0, "creation_date": 1502228723, "post_id": 45561360, "comment_id": 78116579, "body": "I don&#39;t know precisely why the MakeMaker install was failing, but after upgrading my Xcode from 4.6.3 to 7.1.2, I was able to install both MakeMaker and Date::Manip without further issues.  Thanks for your answer."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1502176165, "last_edit_date": 1502176165, "creation_date": 1502175587, "answer_id": 45561360, "question_id": 45548018, "link": "https://stackoverflow.com/questions/45548018/datemanip-install-from-cpan-fails-on-mac-cant-find-extutilsmakemaker/45561360#45561360", "title": "Date::Manip install from cpan fails on mac - can&#39;t find ExtUtils::MakeMaker", "body": "<p>Date::Manip requires version 6.67_01 of MakeMaker, and you only have 6.66.  See: \n<a href=\"https://metacpan.org/source/SBECK/Date-Manip-6.59/META.json\" rel=\"nofollow noreferrer\">https://metacpan.org/source/SBECK/Date-Manip-6.59/META.json</a></p>\n\n<p>So figure out why the MakeMaker install is failing.  Or install SBECK/Date-Manip-6.53.tar.gz or earlier.</p>\n"}], "owner": {"reputation": 125, "user_id": 2258161, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/887b0efe9b941de6bdfe52abad58a787?s=128&d=identicon&r=PG", "display_name": "dannyhmg", "link": "https://stackoverflow.com/users/2258161/dannyhmg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1502176165, "creation_date": 1502112183, "last_edit_date": 1502119441, "question_id": 45548018, "link": "https://stackoverflow.com/questions/45548018/datemanip-install-from-cpan-fails-on-mac-cant-find-extutilsmakemaker", "title": "Date::Manip install from cpan fails on mac - can&#39;t find ExtUtils::MakeMaker", "body": "<p>I am trying to install Date::Manip on Mac OS X 10.10 using cpan.  I have Xcode and command line tools installed. When I type </p>\n\n<p><code>sudo cpan -i Date::Manip</code> I see the following error:  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>---- Unsatisfied dependencies detected during ----\n----       SBECK/Date-Manip-6.59.tar.gz       ----\nExtUtils::MakeMaker [build_requires]`  \n</code></pre>\n\n<p>This doesn't make sense, because <code>ExtUtils::MakeMaker</code> is already installed on my system:  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cpan -D ExtUtils::MakeMaker\nReading '/Users/myname/.cpan/Metadata'\nDatabase was generated on Sun, 06 Aug 2017 20:17:02 GMT\nExtUtils::MakeMaker\nWrites Makefiles for extensions\nB/BI/BINGOS/ExtUtils-MakeMaker-7.30.tar.gz\n/System/Library/Perl/5.18/ExtUtils/MakeMaker.pm\nInstalled: 6.66\nCPAN:      7.30  Not up to date\nMichael G Schwern (MSCHWERN)\nmschwern at cpan.org\n</code></pre>\n\n<p>I don't understand why the Date::Manip install can't find it.  </p>\n\n<p>The installer next tries to install <code>ExtUtils::MakeMaker</code> (since it thinks it's missing), and that installation fails.  That may be a separate issue, but I'm not concerned with that at the moment - I just want to get <code>Date::Manip</code> installed, using the current version of <code>MakeMaker</code>.</p>\n\n<p>How can I get <code>cpan</code> to locate and use the current installed version of <code>ExtUtils::MakeMaker</code>?</p>\n\n<hr>\n\n<p>Additional information:</p>\n\n<pre><code>$ sudo which perl\n/usr/bin/perl\n$ which perl\n/usr/bin/perl\n$ sudo which cpan\n/usr/bin/cpan\n$ which cpan\n/usr/bin/cpan\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502109541, "post_id": 45546948, "comment_id": 78053659, "body": "You need to call this program with a filename as the command line argument. There is a lot of error checking and the code is not bad, but there is no checking if that argument is there."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1502109773, "post_id": 45546948, "comment_id": 78053811, "body": "@user6731224 Check the line number 18. They are capturing the filename from command line so you should run the program <code>perl file.pl trackingdetail.csv</code>.  For trial hard code the input file name as <code>my $inputfile = &quot;trackingdetail.csv&quot;</code> and run the program."}, {"owner": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "edited": false, "score": 0, "creation_date": 1502111430, "post_id": 45546948, "comment_id": 78054964, "body": "I should have said that there is a &quot;watcher&quot; script monitoring a folder and this calls the program. I have edited the initial question with this code in addition."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502111602, "post_id": 45546948, "comment_id": 78055109, "body": "If the argument is there, then it has to have the wrong format. There&#39;s this pattern match on <code>$inputfile</code> that grabs the right values for <code>$path</code>, <code>$file</code> and <code>$extension</code>. It probably does not match anything because the filenames have changed. Print out <code>$inputfile</code> directly after it is set to see what&#39;s going on."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502112219, "post_id": 45546948, "comment_id": 78055558, "body": "You have <i><code>$extension</code></i> in the warnings you are showing, but the script has <b><code>$extention</code></b> ... Which one is it?"}, {"owner": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502112341, "post_id": 45546948, "comment_id": 78055648, "body": "@Sinan&#220;n&#252;r - my apologies, it is $extention"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502112499, "post_id": 45546948, "comment_id": 78055754, "body": "Copy &amp; paste the actual code you are running (with no commented out lines), the actual output you are getting, and show how you run the program. Do this by editing and updating your question, not in the comments. If you are not willing to the tiniest amount of work composing a question, do not expect others to be able to give you quality help. If you are not willing to do that work, you may be better off paying someone to help you with this."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1502113880, "post_id": 45546948, "comment_id": 78056670, "body": "@user6731224: You say you have no experience of Perl, but are you a programmer in any language?"}, {"owner": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502114429, "post_id": 45546948, "comment_id": 78057045, "body": "@Sinan&#220;n&#252;r - Thank you for the feedback, I have amended the initial question which will hopefully be clearer."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1502114640, "post_id": 45546948, "comment_id": 78057180, "body": "@user6731224: <code>my $output = &#39;\\\\\\OUTPUT LOCATION&#39;;</code> In this output location you are using `\\\\\\` triple back slash hence could you please confirm this is sample or live."}, {"owner": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1502114703, "post_id": 45546948, "comment_id": 78057217, "body": "@DaveCross - work with SQL but that&#39;s about it... was trying to get my head around this code so going forward could administer changes independantly."}, {"owner": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1502114860, "post_id": 45546948, "comment_id": 78057324, "body": "@ssr1012 - no have now amended, the code uses double back slash, but on screen one was omitted so I added an additional one."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1502115181, "post_id": 45546948, "comment_id": 78057566, "body": "I&#39;d guess your file name convention has changed recently? With <code>\\\\gen-svr-01\\users\\DATA\\MW\\DMO_Report_IO\\INPUT&#47;OrderTracking&zwnj;&#8203;.csv</code> the pattern doesn&#39;t match and you get the <i>uninitialized...</i> warning. But <code>\\\\gen-svr-01\\users\\DATA\\MW\\DMO_Report_IO\\INPUT&#47;Order1234Trac&zwnj;&#8203;king.csv</code> (with 4 digits whithin the filename) gives <code>$path=&#39;\\\\gen-svr-01\\users\\DATA\\MW\\DMO_Report_IO\\INPUT&#47;&#39;, $file=&#39;Order1234&#39;, and $extention=&#39;.csv&#39;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "edited": false, "score": 0, "creation_date": 1502113318, "post_id": 45548149, "comment_id": 78056305, "body": "I have added the code and rerun the program. I am the error is as follows: Global symbol &quot;$inputfilename&quot; requires explicit package name &lt;did you forget to declare &quot;my $inputfilename&quot;?&gt; at c:\\workspace\\bin\\WS_DMO_Report_Manipulation_V1.0.pl line 45 Global symbol &quot;$inputfilename&quot; requires explicit package name &lt;did you forget to declare &quot;my $inputfilename&quot;?&gt; at c:\\workspace\\bin\\WS_DMO_Report_Manipulation_V1.0.pl line 46 Global symbol &quot;$inputfilename&quot; requires explicit package name &lt;did you forget to declare &quot;my $inputfilename&quot;?&gt; at c:\\workspace\\bin\\WS_DMO_Report_Manipulation_V1.0.pl line 47"}, {"owner": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "edited": false, "score": 0, "creation_date": 1502113367, "post_id": 45548149, "comment_id": 78056342, "body": "syntax error at c:\\workspace\\bin\\WS_DMO_Report_Manipulation_V1.0.pl line 47, near r &quot;/;&quot;"}, {"owner": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "edited": false, "score": 0, "creation_date": 1502113383, "post_id": 45548149, "comment_id": 78056356, "body": "Execution of c:\\workspace\\bin\\WS_DMO_Report_Manipulation_V1.0.pl aborted due to compilation errors"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "edited": false, "score": 1, "creation_date": 1502113512, "post_id": 45548149, "comment_id": 78056440, "body": "@user6731224: Sorry, I made a mistake with that variable name (because your variables are named inconsistently). I&#39;ve edited my answer to change <code>$inputfilename</code> to just <code>$inputfile</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "edited": false, "score": 2, "creation_date": 1502113699, "post_id": 45548149, "comment_id": 78056554, "body": "To be honest, I&#39;d expect a programmer to be able to understand what that error message means and make the appropriate changes."}, {"owner": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "edited": false, "score": 0, "creation_date": 1502115097, "post_id": 45548149, "comment_id": 78057501, "body": "I have rerun - the watcher reports: &quot;syntax error at c:\\Workspace\\bin\\WS_DMO_Report_Manipulation_v1.0pl line 47 near &quot;/;&quot; - Line 47 in the code refers to:  unless $inputfile =~ / \\A (.+\\/) (.+\\d\\d\\d\\d) .+ ([.]\\w{3}) \\z/ixms/;"}, {"owner": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "edited": false, "score": 0, "creation_date": 1502115136, "post_id": 45548149, "comment_id": 78057538, "body": "Sorry about some basic errors that must be frustrating - I really appreciate the patience and help."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "edited": false, "score": 0, "creation_date": 1502115283, "post_id": 45548149, "comment_id": 78057654, "body": "@user6731224: Not sure where the spurious <code>&#47;</code> at the end of that statement came from. I&#39;ve removed it from the example. You should do the same. Sorry, I thought this was a simple cut-n-paste job, so I didn&#39;t bother checking that it even compiled. Won&#39;t make that mistake again :-/"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "edited": false, "score": 0, "creation_date": 1502118627, "post_id": 45548149, "comment_id": 78059956, "body": "@user6731224: Updated to explain exactly what is happening."}, {"owner": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "edited": false, "score": 0, "creation_date": 1502120934, "post_id": 45548149, "comment_id": 78061526, "body": "thanks for your help and explaining - will work through the input files now."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1502117860, "last_edit_date": 1502117860, "creation_date": 1502112577, "answer_id": 45548149, "question_id": 45546948, "link": "https://stackoverflow.com/questions/45546948/resolve-perl-error-use-of-uninitialized-value/45548149#45548149", "title": "Resolve Perl error: &quot;Use of uninitialized value&quot;", "body": "<p>It would help to know which is line 47 in this code. I assume it's this line:</p>\n\n<pre><code>my $outputfilename = $file . \"_FORMATTED\" . $extention;\n</code></pre>\n\n<p>So, at this point, <code>$file</code> and <code>$extention</code> are both uninitialised. They are both supposed to be initialised in the previous line:</p>\n\n<pre><code>my ($path,$file,$extention) =\n  $inputfile =~ m/ \\A (.+\\/) (.+\\d\\d\\d\\d) .+ ([.]\\w{3}) \\z/ixms;\n</code></pre>\n\n<p>So it seems that your <code>$inputfile</code> doesn't match the regex. This leaves us with two options:</p>\n\n<ol>\n<li><code>$inputfile</code> isn't being set at all (which would mean it isn't being passed to the program).</li>\n<li><code>$inputfile</code> isn't in the correct format to to match the regex.</li>\n</ol>\n\n<p>To work out which of the problems we have here, add the following validation lines before the line which tries to set <code>$file</code> and <code>$extention</code>:</p>\n\n<pre><code> die \"No input file given\\n\" unless $inputfile;\n die \"Input file name ($inputfile) is the wrong format\\n\"\n   unless $inputfile =~ / \\A (.+\\/) (.+\\d\\d\\d\\d) .+ ([.]\\w{3}) \\z/ixms;\n</code></pre>\n\n<p><strong>Update:</strong> From recent updates to your question, I can see that you are running the program and passing it the filename <code>\\\\gen-svr-01\\users\\DATA\\MW\\DMO_Report_IO\\INPUT/OrderTracking.csv</code>.</p>\n\n<p>Let's take a closer look at your regex.</p>\n\n<pre><code>m/ \\A (.+\\/) (.+\\d\\d\\d\\d) .+ ([.]\\w{3}) \\z/ixms\n</code></pre>\n\n<p>The <code>/x</code> option at the end means that the regex compiler ignores any literal whitespace in the string. So we can do the same. Let's break down what the individual parts are trying to match:</p>\n\n<ul>\n<li><code>\\A</code> : matches the start of the string</li>\n<li><code>(.*\\/)</code> : matches anything up to and including the last <code>/</code> in your string. It captures the matched substring into <code>$1</code>. This is what is stored in <code>$path</code> in your code. It's the directory that your file is in.</li>\n<li><code>(.+\\d\\d\\d\\d)</code> : This matches one or more of any character followed by four digits. This is stored in <code>$2</code> and in your code it ends up in `$file``. It's the main part of the filename.</li>\n<li><code>.+</code> : Matches one or more characters. Any characters. Your code does nothing with these characters.</li>\n<li><code>([.]\\w{3})</code> : Matches a dot followed by three \"word\" characters (basically alphanumerics). This is captured into <code>$3</code> and ends up in your <code>$extention</code> variable.</li>\n<li><code>\\z</code> : Matches the end of the string.</li>\n</ul>\n\n<p>Putting all that together, you have a regex that looks for filenames and splits them into three parts - the path, the name and the extension. The only complication is that the filename section needs to contain four consecutive digits. And your filename is <code>OrderTracking</code> - which doesn't contain those required digits. So the regex doesn't match and your variables don't get set.</p>\n\n<p>When this program was written, it was assumed that the filenames would contain four digits. The files that you are trying to process do not contain digits, so the program fails.</p>\n\n<p>We can't suggest how you fix this. You need to speak to the people who supply your input files and find out why they have started to send you files with a different name format. Once you know that, you can decide one the best approach to work round the problems.</p>\n"}], "owner": {"reputation": 13, "user_id": 6731224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c568c874a264483400d0bee598901319?s=128&d=identicon&r=PG&f=1", "display_name": "user6731224", "link": "https://stackoverflow.com/users/6731224/user6731224"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 45548149, "answer_count": 1, "score": -1, "last_activity_date": 1502117860, "creation_date": 1502108998, "last_edit_date": 1502114757, "question_id": 45546948, "link": "https://stackoverflow.com/questions/45546948/resolve-perl-error-use-of-uninitialized-value", "title": "Resolve Perl error: &quot;Use of uninitialized value&quot;", "body": "<p>To clarify the following post, we have an automation requirement to send shipping information to an online platform so users can track their orders. We receive a daily .csv file through email, we have to extract the unique Shopify order reference from a field (last 10 digits of a field), save the amended .csv file and upload to an FTP site so tracking references can be matched to the specific order.</p>\n\n<p>A previous colleague wrote an application in Perl to handle this, however it has not worked and I have no experience with Perl at all!</p>\n\n<p>The program is called by a \"Watcher\" monitoring for files, the code for this is as follows:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Datatools::Watcher;\n\nmy $hotfolder = '\\\\gen-svr-01\\users\\DATA\\MW\\DMO_Report_IO\\INPUT';\nmy $process   = '\"C:\\Workspace\\bin\\WS_DMO_Report_Manipulation_v1.0.pl\"';\nmy @backup    = ('\\\\gen-svr-01\\users\\DATA\\MW\\DMO_Report_IO\\ARCHIVE');\n\nwatcher($hotfolder,$process,\\@backup);\n</code></pre>\n\n<p>The main code (PERL PROGRAM) is:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Copy;\nuse Datatools::Watcher;\n\n\nmy $output = '\\\\gen-svr-01\\users\\DATA\\MW\\DMO_Report_IO\\OUTPUT';\nmy $desthotfolder = '\\\\gen-svr-01\\users\\DATA\\MW\\Data_TO_MWS_FTP_TEST';\n\n\nmy $shopifyPos    = 0;            \nmy $shopifyNew    = \"\";\nmy $header        = 1;                  \n\n\nmy $inputfile = $ARGV[0];    \nmy ($path,$file,$extention) = $inputfile =~ m/ \\A (.+\\/) (.+\\d\\d\\d\\d) .+ ([.]\\w{3}) \\z/ixms;\n\nmy $outputfilename = $file . \"_FORMATTED\" . $extention;\n$outputfilename =~ s/.~#~//;\nmy $outputfile = \"$output\\\\$outputfilename\";\n\n\nopen (INPUT, $inputfile) or die \"Could not open input file: $inputfile\\n\";\nopen (OUTPUT, \"&gt;$outputfile\") or die \"Could not open output file: $outputfile\\n\";\n\nwhile (my $record = &lt;INPUT&gt;){\nchomp $record;\nmy @field = parse_csv($record);\n  if ($header == 1){\n            print OUTPUT $record . \"\\n\";\n            $header = 0;\n            next;\n        } else {\n            $shopifyNew = substr $field[$shopifyPos], -10;\n            splice (@field, 0, 1, $shopifyNew);\n            print OUTPUT join(',',@field) . \"\\n\";\n            next;\n            }\n    }\n\nclose INPUT;\nclose OUTPUT;\n\n\nmy $destfile = \"$desthotfolder\\\\$outputfilename\";\n\nmove $outputfile, $destfile or die \"Could not move output file: $outputfile\\nto: $destfile\\n\";\n\nprint \"\\nProcessing complete\\n\";\n\n\nsub parse_csv {\nmy ($shift) = @_;\nmy $text = $shift;      # record containing comma-separated values\nmy @new  = ();\n\npush(@new, $+) while $text =~ m{\n    # the first part groups the phrase inside the quotes.\n    # see explanation of this pattern in MRE\n    \"([^\\\"\\\\]*(?:\\\\.[^\\\"\\\\]*)*)\",?\n       |  ([^,]+),?\n       | ,\n   }gx;\n   push(@new, undef) if substr($text, -1,1) eq ',';\n   return @new;      # list of values that were comma-separated\n}\n</code></pre>\n\n<p>When the program runs, the \"Watcher\" details the following:</p>\n\n<blockquote>\n  <p>File Seen, Processing File \\\\gen-svr-01\\users\\DATA\\MW\\DMO_Report_IO\\INPUT/OrderTracking.csvUse of uninitialized value $file in concatenation &lt;.>  or string at C:\\Workspace\\bin\\WS_DMO_Report_Manipulation_v1.0.pl line 47.\n  Use of uninitialized value $extention in concatenation &lt;.>  or string at C:\\Workspace\\bin\\WS_DMO_Report_Manipulation_v1.0.pl line 47.</p>\n  \n  <p>Processing complete</p>\n</blockquote>\n\n<p>Line 47 refers to the following code:</p>\n\n<pre><code>my $outputfilename = $file . \"_FORMATTED\" . $extention;\n</code></pre>\n\n<p>In the output folder, there is a file with the name \"_FORMATTED\" (no file extensions)</p>\n\n<p>I have looked for a solution, and from my limited understanding I don't think the variables: file and extension are being defined, but I have no idea how to correct!</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502104116, "post_id": 45545375, "comment_id": 78050365, "body": "@PerlDuck the input was displayed in a broken way. That&#39;s not going to work."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1502104180, "post_id": 45545375, "comment_id": 78050400, "body": "Have you tried anything on your own? Where are you struggling?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502104186, "post_id": 45545375, "comment_id": 78050405, "body": "@simbabque Why do you think it was broken? You now made three lines where we previously had only one line. You changed it to a different problem."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1502104218, "post_id": 45545375, "comment_id": 78050420, "body": "@PerlDuck I know I did. But the question says <i>delete everything between the <b>hashes</b></i>. That tells me the <code>###</code> are part of the input. It&#39;s not clear if they are part of the input or not. My assumption makes more sense than the broken display though. I think the OP should <a href=\"https://stackoverflow.com/posts/45545375/edit\">edit</a> to clarify. Voting to close."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1502104233, "post_id": 45545375, "comment_id": 78050428, "body": "hashes in specific count or not"}, {"owner": {"reputation": 27, "user_id": 7581932, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-dAok1fX2tmw/AAAAAAAAAAI/AAAAAAAAAIE/2L0PJm41GVs/photo.jpg?sz=128", "display_name": "Jesvin Joy", "link": "https://stackoverflow.com/users/7581932/jesvin-joy"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502109099, "post_id": 45545375, "comment_id": 78053382, "body": "@simbabque yeah I tried but it only deletes the lines below the matching pattern  ** sed &#39;/Jack/,/^###/d&#39; input &gt; output **"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1502108294, "creation_date": 1502108294, "answer_id": 45546723, "question_id": 45545375, "link": "https://stackoverflow.com/questions/45545375/how-to-delete-few-lines-in-a-file-that-matches-a-specific-pattern-using-perl-scr/45546723#45546723", "title": "How to delete few lines in a file that matches a specific pattern using perl script or command line?", "body": "<p>The secret is to use <code>$/</code> to define the \"chunks\" that you are looking for.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nlocal $/ = '###';\n\nwhile (&lt;DATA&gt;) {\n  print unless /Jack/;\n}\n\n__DATA__\n###\nHi \nI am Jack\nI live in London\n####\nI am James\nI live in Germany\n####\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7581932, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-dAok1fX2tmw/AAAAAAAAAAI/AAAAAAAAAIE/2L0PJm41GVs/photo.jpg?sz=128", "display_name": "Jesvin Joy", "link": "https://stackoverflow.com/users/7581932/jesvin-joy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 45546723, "answer_count": 1, "score": -2, "last_activity_date": 1502110132, "creation_date": 1502103827, "last_edit_date": 1502104062, "question_id": 45545375, "link": "https://stackoverflow.com/questions/45545375/how-to-delete-few-lines-in-a-file-that-matches-a-specific-pattern-using-perl-scr", "title": "How to delete few lines in a file that matches a specific pattern using perl script or command line?", "body": "<p>Input file:</p>\n\n<pre><code>###\nHi \nI am Jack\nI live in London\n####\nI am James\nI live in Germany\n####\n</code></pre>\n\n<p>Here I want to search for \"Jack\" and delete everything between the hashes.</p>\n\n<p>Expected output:</p>\n\n<pre><code>###\nI am James\nI live in Germany\n####\n</code></pre>\n"}, {"tags": ["perl", "operator-keyword"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 2, "creation_date": 1502100632, "post_id": 45544313, "comment_id": 78048407, "body": "<a href=\"https://stackoverflow.com/questions/30340027/why-do-hash-keys-have-different-order-when-printing\">Why do hash keys have different order when printing?</a>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1502100756, "post_id": 45544313, "comment_id": 78048468, "body": "The &quot;problem&quot; isn&#39;t your <code>++</code> call. That&#39;s perfectly ok. But the call <code>keys %fruit_color;</code> returns the keys of the hash in some arbitrary order and you cannot rely on it to be the same between different script runs. From the <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow noreferrer\">docs</a>: <i>&quot;Hash entries are returned in an apparently random order.&quot;</i>"}], "answers": [{"tags": [], "owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "is_accepted": false, "score": 0, "last_activity_date": 1502100568, "creation_date": 1502100568, "answer_id": 45544420, "question_id": 45544313, "link": "https://stackoverflow.com/questions/45544313/the-behavior-of-operator-in-perl/45544420#45544420", "title": "the behavior of &#39;++&#39; operator in perl", "body": "<p>Almost every programming language has a similar <code>++</code> operator (and a corresponding <code>--</code> operator). It's called pre-increment and post-increment. <code>++$foo</code> works like <code>{ $foo += 1; return $foo; }</code>, but <code>++$foo</code> is the more interesting version. It increments <code>$foo</code> immediately, but returns the previous value. This makes a lot of simple math a lot shorter to write, because you can specify whether you want to get the value before or after the modification.</p>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 4, "last_activity_date": 1502102265, "last_edit_date": 1502102265, "creation_date": 1502100781, "answer_id": 45544486, "question_id": 45544313, "link": "https://stackoverflow.com/questions/45544313/the-behavior-of-operator-in-perl/45544486#45544486", "title": "the behavior of &#39;++&#39; operator in perl", "body": "<p>Problem is not in your increment. The problem is in hashes. In computer memory, hashes are not stored in same order what you have declared, For example</p>\n\n<pre><code>my @fruits = keys %fruit_color;\nprint @fruits;\n</code></pre>\n\n<p>If you run the script more than a time and monitor the output it will give the different output.</p>\n\n<p>Hashes and arrays both are same but having some difference, which is setting the key (In array we called as index, In hashes we called as key).</p>\n\n<p>Whatever name you want, you can put it for as key and store the value. But array you can access data by only the index value. </p>\n\n<p>So that, arranging item in an array is important because you are accessing by its index value. But there is no need to arrange the item in hashes because you have set the key.</p>\n\n<p>For more <a href=\"https://stackoverflow.com/questions/30340027/why-do-hash-keys-have-different-order-when-printing\">info</a> and <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow noreferrer\">perldoc</a></p>\n"}], "owner": {"reputation": 11, "user_id": 8428037, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i4nlQL0g7r8/AAAAAAAAAAI/AAAAAAAAABs/p6eX8J9-OAU/photo.jpg?sz=128", "display_name": "Bruce Stevenson", "link": "https://stackoverflow.com/users/8428037/bruce-stevenson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "closed_date": 1502105615, "answer_count": 2, "score": 0, "last_activity_date": 1502105670, "creation_date": 1502100269, "question_id": 45544313, "link": "https://stackoverflow.com/questions/45544313/the-behavior-of-operator-in-perl", "closed_reason": "Duplicate", "title": "the behavior of &#39;++&#39; operator in perl", "body": "<p>I am new to perl. I cannot understand the output of the following codes.</p>\n\n<pre><code>my %fruit_color = (apple =&gt; \"red\", banana =&gt; \"yellow\", grape =&gt; \"purple\");\n\nmy @fruits = keys %fruit_color;\nmy @colors = values %fruit_color;\n\nprint \"The color of apple is \", $fruit_color{\"apple\"}, \"\\n\";\n\n$cnt = 0;\nwhile ($cnt &lt; @fruits) {\n    print $fruits[$cnt ++], \" \";\n}\nprint \"\\n\";\n$cnt = 0;\nwhile ($cnt &lt; @colors) {\n    print $colors[$cnt ++], \" \";\n}\n</code></pre>\n\n<p>The output is pasted here:</p>\n\n<pre><code>The color of apple is red\ngrape banana apple\npurple yellow red\n</code></pre>\n\n<p>However, if i changed my code like this:</p>\n\n<pre><code>my %fruit_color = (apple =&gt; \"red\", banana =&gt; \"yellow\", grape =&gt; \"purple\");\n\nmy @fruits = keys %fruit_color;\nmy @colors = values %fruit_color;\n\nprint \"The color of apple is \", $fruit_color{\"apple\"}, \"\\n\";\n\n$cnt = 0;\nwhile ($cnt &lt; @fruits) {\n    print $fruits[$cnt], \" \"; # DIFF HERE !\n    $cnt ++;\n}\nprint \"\\n\";\n$cnt = 0;\nwhile ($cnt &lt; @colors) {\n    print $colors[$cnt ++], \" \";\n}\n</code></pre>\n\n<p>The output will be:</p>\n\n<pre><code>The color of apple is red\napple grape banana\nred purple yellow\n</code></pre>\n\n<p>I can't understand the difference between these examples, especially why the change of the first while loop will effect the second one. Could anybody tell me why the output is in a reversed order? thanks a lot.</p>\n"}, {"tags": ["arrays", "perl", "reference"], "answers": [{"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 4, "last_activity_date": 1502178887, "last_edit_date": 1502178887, "creation_date": 1502100469, "answer_id": 45544384, "question_id": 45544031, "link": "https://stackoverflow.com/questions/45544031/how-to-manipulate-array-reference-in-subroutine-in-perl/45544384#45544384", "title": "How to manipulate array reference in subroutine in perl", "body": "<p>Four issues:</p>\n\n<ol>\n<li><p>ALWAYS turn on <code>use strict; use warnings;</code></p></li>\n<li><p>Then <code>unshift (@$my_template_ops), 'O';</code> would have produced <code>Useless use of unshift with no values at ./t.pl line 17.</code>.\nYou have set the parens <code>()</code> wrong. Either write <code>unshift (@$my_template_ops, 'O');</code> or just leave them off completely: <code>unshift @$my_template_ops, 'O';</code></p></li>\n<li><p>The code <code>my @my_template_ops = @{$_[0]};</code> generates a <em>copy</em> of the supplied array reference and you are manipulating the <em>copy</em>. Thus you don't see the effect at top level.</p></li>\n<li><p>The 2nd version of your function works because you operate on the supplied array ref and just dereference it for the <code>unshift</code> call.</p></li>\n</ol>\n\n<p>Working version:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @template_ops;\nhandle_templates_with_post_mod(\\@template_ops);\n\nprint Data::Dumper::Dumper( \\@template_ops );\n\nsub handle_templates_with_post_mod\n{\n    my $my_template_ops    = shift;\n    unshift @$my_template_ops, 'O';\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = [\n          'O'\n        ];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1502101651, "post_id": 45544479, "comment_id": 78048955, "body": "@PerlDuck Thanks. I changed it to a hash ref, since deleting hash elements is safe and still illustrates the syntax."}], "tags": [], "owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "is_accepted": false, "score": 2, "last_activity_date": 1502101607, "last_edit_date": 1502101607, "creation_date": 1502100759, "answer_id": 45544479, "question_id": 45544031, "link": "https://stackoverflow.com/questions/45544031/how-to-manipulate-array-reference-in-subroutine-in-perl/45544479#45544479", "title": "How to manipulate array reference in subroutine in perl", "body": "<p>When you give the dereferenced array a name, it becomes a copy. To operate on an array ref and affect the original array, you either need to use it as a ref, or dereference it without giving it a new name (using the <code>@</code> operator to dereference).</p>\n\n<pre><code>my $arrayRef = ...;\npush @{$arrayRef}, 42;\nmy $hashRef = ...;\ndelete $hashRef-&gt;{key};\n</code></pre>\n"}], "owner": {"reputation": 322, "user_id": 7047604, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/02343ee77b69fb506d156aa3a3bf8bdc?s=128&d=identicon&r=PG&f=1", "display_name": "Atheel Massalha", "link": "https://stackoverflow.com/users/7047604/atheel-massalha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "accepted_answer_id": 45544384, "answer_count": 2, "score": 0, "last_activity_date": 1502178887, "creation_date": 1502099396, "last_edit_date": 1502099737, "question_id": 45544031, "link": "https://stackoverflow.com/questions/45544031/how-to-manipulate-array-reference-in-subroutine-in-perl", "title": "How to manipulate array reference in subroutine in perl", "body": "<p>Im passing array by reference to a subroutine:</p>\n\n<pre><code>my @template_ops;\nhandle_templates_with_post_mod(\\@template_ops);\n\nsub handle_templates_with_post_mod\n{\n    my @my_template_ops    = @{$_[0]};\n    unshift (@my_template_ops), 'O';\n}\n</code></pre>\n\n<p>but after calling the subroutine the array still empty, I have tried: </p>\n\n<pre><code>sub handle_templates_with_post_mod\n{\n    my $my_template_ops    = shift;\n    unshift (@$my_template_ops), 'O';\n}\n</code></pre>\n\n<p>but I get this error: <code>Can't use string (\"...\") as an ARRAY ref while \"strict refs\"</code></p>\n"}, {"tags": ["perl", "file", "file-handling"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1502098043, "post_id": 45543469, "comment_id": 78046781, "body": "Your code looks ok, maybe post some more details of your setup?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1502098087, "post_id": 45543469, "comment_id": 78046807, "body": "Have you looked at the last character(s) on the lines? By default, Perl will split lines on a newline character (<code>\\n</code>) - do all of your lines have one?"}, {"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1502099069, "post_id": 45543469, "comment_id": 78047419, "body": "you can open the file in something like notepad++, make it show all characters (like CR, LF etc..) and look at the suspect line, there may indeed be something there that you cant &quot;see&quot;"}, {"owner": {"reputation": 547, "user_id": 2726335, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7b8847e469590296a5c982b44773becd?s=128&d=identicon&r=PG", "display_name": "Corni", "link": "https://stackoverflow.com/users/2726335/corni"}, "edited": false, "score": 0, "creation_date": 1502099339, "post_id": 45543469, "comment_id": 78047593, "body": "If looked at the hey dump of the input file. Every line has an <code>A0</code>at the end."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502112080, "post_id": 45543469, "comment_id": 78055444, "body": "Based on <a href=\"https:///stackoverflow.com/a/45547075/100754\" rel=\"nofollow noreferrer\">your answer below</a>, the code you posted in your question had nothing whatsoever to do with your problem, and it is obvious it did not generate the output you claimed it did. It is not a good idea to <i>purposefully</i> <b><i>lie</i></b> to people whom you are asking for help. Also, don&#39;t post screenshots of text. I showed you how to get a hex dump. Post that."}], "answers": [{"tags": [], "owner": {"reputation": 547, "user_id": 2726335, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7b8847e469590296a5c982b44773becd?s=128&d=identicon&r=PG", "display_name": "Corni", "link": "https://stackoverflow.com/users/2726335/corni"}, "is_accepted": false, "score": -2, "last_activity_date": 1502111996, "last_edit_date": 1592644375, "creation_date": 1502109378, "answer_id": 45547075, "question_id": 45543469, "link": "https://stackoverflow.com/questions/45543469/my-script-misses-lines-while-reading-a-file/45547075#45547075", "title": "My script misses lines while reading a file", "body": "<p>Here is the solution: The problem had nothing to do with the script I posted or even reading from files. In the script I did not post, I was forgetting to flush the output by calling:</p>\n<pre><code>PICA::Writer-&gt;end()\n</code></pre>\n<p>See <a href=\"https://metacpan.org/pod/PICA::Writer#end-(-)\" rel=\"nofollow noreferrer\">PICA::Writer-&gt;end</a>:</p>\n<blockquote>\n<p>Finish writing. Depending on the format and output handler a footer is written (for instance an XML end tag) and the output handler is closed. Afterwards the status is set to <code>PICA::Writer::ENDED</code>. If the writer had not been started before, the start method is called first.</p>\n<p>Ending or writing to an already ended writer will throw an error. You can restart an ended writer with the output method or with the start method.</p>\n</blockquote>\n"}], "owner": {"reputation": 547, "user_id": 2726335, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7b8847e469590296a5c982b44773becd?s=128&d=identicon&r=PG", "display_name": "Corni", "link": "https://stackoverflow.com/users/2726335/corni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1502111996, "creation_date": 1502097752, "last_edit_date": 1502111701, "question_id": 45543469, "link": "https://stackoverflow.com/questions/45543469/my-script-misses-lines-while-reading-a-file", "title": "My script misses lines while reading a file", "body": "<p>I'm doing a large (8000 lines) library data conversion. I read in a file and want to modify it line by line. Reading the file stops before reaching the end of the file. </p>\n\n<pre><code>open(my $infh, \"&lt;\", 'infile.pica') \n        || die('Could not open pica file'); \nopen(my $outfh, \"&gt;\", 'infile.pica.norm') \n        || die('Could not open pica file');\n\nmy $counter = 0;\n\nwhile (my $line = &lt;$infh&gt;) {\n\n    $counter++;\n    # for debugging - this is the last line being read. \n    # infile actually has 7857 lines\n\n    if ($counter &gt;= 7691) {\n        say $line;\n    }\n    # modification commented out for debugging\n    print $outfh $line;\n}   \nclose $infh;\nclose $outfh;\n</code></pre>\n\n<p>My first thought was that there is a strange character in this line but there is nothing</p>\n\n<pre><code>006X $cEBC$03564211 (original)\n006X $cEBC$035642 (being read, thats what the say prints)\n</code></pre>\n\n<p>Here is a snippet of the dataset where it stops reading:</p>\n\n<pre><code>002@ $0Oax\n002C $aText$btxt\n002D $aComputermedien$bc\n002E $aOnline-Ressource$bcr\n004A $09780309160193\n006X $cEBC$03564211\n010@ $aeng\n011@ $a2010\n</code></pre>\n\n<p>You can see every line is followed by a line-break \n(Hey code <code>0A</code>). The line 006X is where it stops reading. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1502096337, "post_id": 45542989, "comment_id": 78045729, "body": "You have to fetch the header line and the line you want. Then split both, and build a hash with the headers as keys, then read the value of the key you want. Your code looks more like a shell-script written in Perl than a Perl program. Why don&#39;t you just open and read the files properly with Perl, or simply use Text::CSV?"}, {"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502097787, "post_id": 45542989, "comment_id": 78046635, "body": "@simbabque: I&#39;m adapting an already existing script that I didn&#39;t write from scratch myself. I&#39;ve added to the question a first try at a solution. I&#39;m however stuck at &#39;building a hash with the headers as keys&#39;."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502098007, "post_id": 45542989, "comment_id": 78046757, "body": "You&#39;re not using a hash."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502098567, "post_id": 45542989, "comment_id": 78047093, "body": "See my updated answer."}, {"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502098603, "post_id": 45542989, "comment_id": 78047110, "body": "@simbabque: I&#39;ve added now a hash, but how can I determine the correct column from $colnames?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502102302, "post_id": 45542989, "comment_id": 78049332, "body": "Did you get it to work?"}, {"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1502102495, "post_id": 45542989, "comment_id": 78049449, "body": "@simbabque: Yes, I did. I&#39;ve accepted your answer."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1502098561, "last_edit_date": 1502098561, "creation_date": 1502096964, "answer_id": 45543227, "question_id": 45542989, "link": "https://stackoverflow.com/questions/45542989/perl-fetch-column-names-from-file/45543227#45543227", "title": "perl - fetch column names from file", "body": "<p>You will have to read the header line as well as the data to know what column holds which information. This is done easiest by writing actual Perl code instead of shelling out to various command line utilities. See further below for that solution.</p>\n\n<p>Fixing your solution also requires a hash. You need to read the header line first, store the header fields in an array (as you've already done), and then read the data line. The data needs to be a hash, not an array. A hash is a map of keys and values.</p>\n\n<pre><code># read the header and create a list of header fields\nmy $header = `head -n 1 $files[0]`;\nchomp ($header);\nmy @colnames = split (/,/,$header);\n\n# read the data line\nmy $summary = `tail -n 1 $files[0]`;\nchomp($summary);\n\nmy %sp; # use a hash for the data, not an array\n\n# use a hash slice to fill in the columns\n@sp{@colnames} = split(/,/,$summary);\n\nmy $gender = $sp{Gender};\n</code></pre>\n\n<p>The tricky part here is this line.</p>\n\n<pre><code>@sp{@colnames} = split(/,/,$summary);\n</code></pre>\n\n<p>We have declared <code>%sp</code> as a hash, but we now access it with a <code>@</code> <a href=\"https://en.wikipedia.org/wiki/Sigil_(computer_programming)\" rel=\"nofollow noreferrer\"><em>sigil</em></a>. That's because we are taking <a href=\"https://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\">a <em>hash slice</em></a>, as indicated by the curly braces <code>{}</code>. The slice we take is all elements with the names of the values in <code>@colnames</code>. There is more than one value, so the return value is not a scalar (with a <code>$</code>) any more. There is a list of return values, so the sigil turns to <code>@</code>. Now we use that list on the left hand side (that's called an <a href=\"https://perldoc.perl.org/perlglossary.html#lvalue\" rel=\"nofollow noreferrer\"><em>LVALUE</em></a>), and assign the result of the <code>split</code> to that list.</p>\n\n<hr>\n\n<h2>Doing it with modern Perl</h2>\n\n<p>The following program will use File::Find::Rule to replace your <code>find</code> command, and Text::CSV to read the CSV file. It grabs all the files, then opens one at a time. The header line will be read first, and fed into the Text::CSV object, so that it can then give back a hash reference, which you can use to access every field by name.</p>\n\n<p>I've written it in a way that it will only read one line for each file, as you said there are only two lines per file. You can easily extend that to be a loop.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Find::Rule;\nuse Text::CSV;\n\nmy $sampleid;\nmy $basedir;\n\nmy $csv = Text::CSV-&gt;new(\n    {\n        binary =&gt; 1,\n        sep    =&gt; ',',\n    }\n) or die \"Cannot use CSV: \" . Text::CSV-&gt;error_diag;\n\nmy @files = File::Find::Rule-&gt;file()-&gt;name(\"$sampleid*.summary.csv\")-&gt;in($basedir);\n\nforeach my $file (@files) {\n    open my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\n    # get the headers\n    my @cols = @{ $csv-&gt;getline($fh) };\n    $csv-&gt;column_names(@cols);\n\n    # read the first line\n    my $row = $csv-&gt;getline_hr($fh);\n\n    # do whatever you you want with the row\n    print \"$file: \", $row-&gt;{gender};\n}\n</code></pre>\n\n<p>Please note that I have not tested this program.</p>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 873, "favorite_count": 2, "accepted_answer_id": 45543227, "answer_count": 1, "score": 2, "last_activity_date": 1502098561, "creation_date": 1502096158, "last_edit_date": 1502098495, "question_id": 45542989, "link": "https://stackoverflow.com/questions/45542989/perl-fetch-column-names-from-file", "title": "perl - fetch column names from file", "body": "<p>I have the following command in my perl script:</p>\n\n<pre><code>my @files = `find $basedir/ -type f -iname '$sampleid*.summary.csv'`; #there are multiple summary.csv files in my basedir. I store them in an array\nmy $summary = `tail -n 1 $files[0]`; #Each summary.csv contains a header line and a line with data. I fetch here the last line.\nchomp($summary);\nmy @sp = split(/,/,$summary); # I split based on ','\nmy $gender = $sp[11]; # the values from column 11 are stored in $gender\nmy $qc = $sp[2]; # the values from column 2 are stored in $gender\n</code></pre>\n\n<p>Now, I'm experiencing the situation where my *summary.csv files don't have the same number of columns. They do all have 2 lines, where the first line represents the header.</p>\n\n<p>What I want now is not storing the values from column 11 in gender, but I want to store the values from the column 'Gender' in $gender. </p>\n\n<p>How can I achieve this? </p>\n\n<p>First try at solution:</p>\n\n<pre><code>my %hash = ();\nmy $header = `head -n 1 $files[0]`; #reading the header\nchomp ($header);\nmy @colnames = split (/,/,$header);\nmy $keyfield = $colnames[#here should be the column with the name 'Gender']\npush @{ $hash{$keyfield} };\nmy $gender = $sp[$keyfield]\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1502088603, "post_id": 45540812, "comment_id": 78041545, "body": "There may be other issues, but the reason the files don&#39;t get created in the directory you want them to be created in is because you didn&#39;t tell Perl to create them there."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1502088757, "post_id": 45540812, "comment_id": 78041611, "body": "Oh that&#39;s helpful, though, but the files still aren&#39;t being populated. Oh man, I opened the files with the line variable as if I were reading the files. WOW! Yeah, there are other issues :-("}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1502088260, "creation_date": 1502088260, "answer_id": 45540812, "question_id": 45540727, "link": "https://stackoverflow.com/questions/45540727/logical-issue-in-perl-numerically-iterating-over-10-directories-and-populating-t/45540812#45540812", "title": "Logical issue in Perl numerically iterating over 10 directories and populating them with numbers?", "body": "<pre><code>my $file = \"FILE_$i.txt\";\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>my $file = \"$_/FILE_$i.txt\";\n</code></pre>\n\n<p>And get rid of that <code>opendir</code>; you never use the handle.</p>\n"}], "owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 45540812, "answer_count": 1, "score": 0, "last_activity_date": 1502088260, "creation_date": 1502087924, "question_id": 45540727, "link": "https://stackoverflow.com/questions/45540727/logical-issue-in-perl-numerically-iterating-over-10-directories-and-populating-t", "title": "Logical issue in Perl numerically iterating over 10 directories and populating them with numbers?", "body": "<p>My basic goal is to take the integers 1 to 100,\nand split them into 10 parts, where the initial part is integers 1 to 10,\nand the next part is 11 to 20, each part having 10 numbers each. </p>\n\n<p>I want the first part to go into the directory NUMBERS_1\ncontaining the numbers 1 to 10 in a file called FILE_1.txt</p>\n\n<p>and the next part to go into directory NUMBERS_2\ncontaining the numbers 11 to 20 in a text file: FILE_2.txt\nand so forth. </p>\n\n<p>How I approached this problem was that I initialized an array with 100 numbers,\nand then created an array reference by destructively splicing the array into 10 parts composed of no more than 10 integers each.</p>\n\n<p>Then I created 10 folders NUMBERS_1 to NUMBERS_10 on a for-loop.\nAs I was doing this for-loop, I created a directory list of all the directories I created.</p>\n\n<p>Then some problem is occuring as I iterate over the directories.\nSo I attempted to iterate over the directories in a foreach loop,\nand then I try to open each of the directories in this directory list one at a time,\ncreate a text file, fill it with a quantity of ten integers, close the file, and then close the directory. It doesn't seem like I'm opening the directories, but I'm not getting any error messages, and I have multiple open or die statements so shouldn't I be getting some errors?  </p>\n\n<p>ISSUE:\nMy problem is that my 10 text files are being created in my current working directory, not on each in the 10 directories that I created, but I just can't see the error in my logic. </p>\n\n<pre><code>#!/usr/bin/env perl\n# The objective of this program is to an array of 100 numbers in 10 parts\n# And write each 10 parts into 10 files with ten numbers each.\nuse strict;\nuse warnings;\nuse feature 'say';\nmy @numbers = (1 .. 100);\nmy $partition_size = 10;\nmy @number_groups = ();\nmy $num_elements;\n\nmy @directories;\nmy $directory_handle;\n\nmy $incrementer; # Incrementing over the directories ... not the same as my use of $i\nmy $i;\n\n# This right here is very powerful\n# I must confess that I received some help from zdim at stackoverflow:\n# https://stackoverflow.com/questions/45158306/splitting-an-array-into-n-accessible-parts-within-perl\n# splice is destructive so numbers will be empty,\n# but at that cost the array reference @number_groups will have 10 sections filled with 10 numbers each from 1 to 100\n\npush @number_groups, [splice(@numbers, 0, $partition_size)] while @numbers;\n\n$num_elements = scalar(@number_groups); # Retrieiving size of array reference.\n# Why is it not being treated like an array reference, but like an array?;\n\n# Here I'm saying every item of the array reference @number_groups.\nsay \"Let's take a look at this array reference containing each of the pieces of numbers 1 to 100\";\nsay \"@$_\\n\" for @number_groups;\n\n# Now let's make folders containing the numbers 1 to 100, with 10 numbers in each folder.\n# And the folders properly labeled.\n\nsay \"I will now create $num_elements folders\";\nfor(my $i = 1; $i &lt;= $num_elements; $i++)\n{\nmkdir \"NUMBERS_$i\" or warn \"Could not create folder $_, probably because it already exists\";\npush @directories, \"NUMBERS_$i\";\n}\n\n# I know that the script is misbehaving somewhere below this line.\n\n$incrementer = 0; # The incrementer is at zero because the first item in the list of directories is the zero-ith item.\n$i = 1; # This incrementer \"$i\" is for the 10 logical slices of the numbers from 1 to 100\nforeach(@directories)\n{\n\n        opendir($directory_handle, $_) or die \"Could not open directory $_\";\n        my $file = \"FILE_$i.txt\"; my $filehandle;\n        say \"\\nThe incrementer is at $i in directory $_\";\n        open($filehandle, '&gt;', $file) or die \"Could not open file $_\";\n        while(my $line = &lt;$filehandle&gt;)\n        {\n        chomp $line; \n        foreach(@{$number_groups[$incrementer]}){print \"$_\\t\";}  \n        }\n        close $filehandle or die \"Could not close file $_\";\n        closedir($directory_handle) or die \"Could not close directory $_\";\n\n        $incrementer++;\n        $i++;\n}\n</code></pre>\n\n<p>Running this script produces the following output: </p>\n\n<pre><code>Let's take a look at this array reference containing each of the pieces of numbers 1 to 100\n1 2 3 4 5 6 7 8 9 10\n\n11 12 13 14 15 16 17 18 19 20\n\n21 22 23 24 25 26 27 28 29 30\n\n31 32 33 34 35 36 37 38 39 40\n\n41 42 43 44 45 46 47 48 49 50\n\n51 52 53 54 55 56 57 58 59 60\n\n61 62 63 64 65 66 67 68 69 70\n\n71 72 73 74 75 76 77 78 79 80\n\n81 82 83 84 85 86 87 88 89 90\n\n91 92 93 94 95 96 97 98 99 100\n\nI will now create 10 folders\n\nThe incrementer is at 1 in directory NUMBERS_1\n1       2       3       4       5       6       7       8       9       10\nThe incrementer is at 2 in directory NUMBERS_2\n11      12      13      14      15      16      17      18      19      20\nThe incrementer is at 3 in directory NUMBERS_3\n21      22      23      24      25      26      27      28      29      30\nThe incrementer is at 4 in directory NUMBERS_4\n31      32      33      34      35      36      37      38      39      40\nThe incrementer is at 5 in directory NUMBERS_5\n41      42      43      44      45      46      47      48      49      50\nThe incrementer is at 6 in directory NUMBERS_6\n51      52      53      54      55      56      57      58      59      60\nThe incrementer is at 7 in directory NUMBERS_7\n61      62      63      64      65      66      67      68      69      70\nThe incrementer is at 8 in directory NUMBERS_8\n71      72      73      74      75      76      77      78      79      80\nThe incrementer is at 9 in directory NUMBERS_9\n81      82      83      84      85      86      87      88      89      90\nThe incrementer is at 10 in directory NUMBERS_10\n91      92      93      94      95      96      97      98      99      100\n</code></pre>\n\n<p>The standard output being sent to the screen is totally logical, but the text files are not in their appropriate directories, and somehow the files are empty.</p>\n\n<p>What's going on?\nThanks! </p>\n"}, {"tags": ["perl", "api", "module", "datatables", "cpan"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 3, "creation_date": 1502057457, "post_id": 45536900, "comment_id": 78034158, "body": "See also <a href=\"https://metacpan.org/pod/JQuery::DataTables::Request\" rel=\"nofollow noreferrer\">JQuery::DataTables::Request</a>: &quot;<i>This module only provides an API that corresponds to the v1.10 parameters but maps the v1.9 parameters to the corresponding v1.10 parameters.</i>&quot;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502117637, "post_id": 45536900, "comment_id": 78059267, "body": "Those two modules have quite the different interface. The DataTables assumes CGI and does all the parsing itself, while JQuery::DataTables::Request actually wants you to pass in args. I think the latter is the better, more abstract implementation. You should be able to work with that. In the meantime, it might make sense to make pull requests to both of them (<a href=\"https://github.com/srchulo/DataTables\" rel=\"nofollow noreferrer\">github.com/srchulo/DataTables</a> and <a href=\"https://github.com/xmikew/p5-JQuery-DataTables-Request\" rel=\"nofollow noreferrer\">github.com/xmikew/p5-JQuery-DataTables-Request</a>) to add links to each other, so future users will see that there are implementations for both API versions."}], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "edited": false, "score": 0, "creation_date": 1502142559, "post_id": 45555011, "comment_id": 78072469, "body": "It&#39;s nice to get some feedback about the topic. However, I&#39;m interested in how to actually do it, to allow to use different API versions. Your proposal means to support only 1 api version per module."}, {"owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "reply_to_user": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "edited": false, "score": 0, "creation_date": 1502276379, "post_id": 45555011, "comment_id": 78136274, "body": "One API version per module minor version is OK because you control both sides.  Module user allowed to install required API Server, and install/require API Client of latest patch version corresponding to the API.  Support for multiple API versions in one module is another task that should be done when module user doesn&#39;t own API server side."}, {"owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "edited": false, "score": 0, "creation_date": 1502634396, "post_id": 45555011, "comment_id": 78280457, "body": "I think I understand your answer, but it is not what I am looking for. I&#39;m not the owner of the js DataTables library. Also, I consider the approach of having to install specific outdated (not the latest) versions of a module to get a standard behavoir quit uncommon. I personally would not consider this acptable for the average end user."}], "tags": [], "owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "is_accepted": false, "score": 0, "last_activity_date": 1502137220, "last_edit_date": 1502137220, "creation_date": 1502136903, "answer_id": 45555011, "question_id": 45536900, "link": "https://stackoverflow.com/questions/45536900/how-to-manage-different-api-versions-in-a-perl-module/45555011#45555011", "title": "How to manage different API versions in a Perl module?", "body": "<p>From my own author's point of view, best practice is to </p>\n\n<ol>\n<li>keep latest master with latest API.</li>\n<li>keep minor version of module with major version of API.</li>\n<li><p>recommend module users to</p>\n\n<p>3.1. upgrade API together with module, or</p>\n\n<p>3.2. keep its module minor version untouched with version requirement (I did with cpanfile or cartonfile).</p></li>\n</ol>\n\n<p>May You need more concrete answer?</p>\n"}], "owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "closed_date": 1521174732, "answer_count": 1, "score": 2, "last_activity_date": 1502137220, "creation_date": 1502055464, "question_id": 45536900, "link": "https://stackoverflow.com/questions/45536900/how-to-manage-different-api-versions-in-a-perl-module", "closed_reason": "Opinion-based", "title": "How to manage different API versions in a Perl module?", "body": "<p>There is a <a href=\"https://metacpan.org/pod/DataTables\" rel=\"nofollow noreferrer\">DataTables CPAN module</a>. It is for datatables version 1.6. \nIn the meantime, there is datatables 1.10, with a different interface. A lot of things changed, e.g. the option names. </p>\n\n<p>I wonder: how could the module be extended to cover the old stuff as well as the new datatables 1.10 interface?\nIs there a common name for this issue?\nIs there a best practice for it? \nIs there a good reference module I could have a look at? I assume that others did face the challenge as well.</p>\n"}, {"tags": ["bash", "macos", "perl", "sed", "command-line"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1502048433, "post_id": 45535839, "comment_id": 78031815, "body": "It is by definition impossible to encounter <code>&quot;&lt;&#47;p&gt;\\n&lt;p&gt;&quot;</code> when you are reading the file <i>line by line</i>. Given a file with those contents, your script will see <code>&quot;&lt;&#47;p&gt;\\n&quot;</code> and <code>&quot;&lt;p&gt;&quot;</code>."}, {"owner": {"reputation": 1652, "user_id": 929170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b4620f6351bbeff6a5408690686ab2f4?s=128&d=identicon&r=PG", "display_name": "PerfectGamesOnline.com", "link": "https://stackoverflow.com/users/929170/perfectgamesonline-com"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502048989, "post_id": 45535839, "comment_id": 78031998, "body": "when I use this exact pattern in xCode search &amp; replace then it works as needed. Why would not the same thing work from command line? There must be a way to search other then line_by_line."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502053562, "post_id": 45535839, "comment_id": 78033320, "body": "&quot;<i>There must be a way to search other then line by line</i>&quot; ... There is ... But you are not using it. See @ysth&#39;s answer."}], "answers": [{"tags": [], "owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "is_accepted": false, "score": 1, "last_activity_date": 1502051622, "creation_date": 1502051622, "answer_id": 45536348, "question_id": 45535839, "link": "https://stackoverflow.com/questions/45535839/replace-string-with-new-line-with-another-string-with-new-line/45536348#45536348", "title": "Replace string with new line with another string with new line", "body": "<p>Ugly, but it works:</p>\n\n<pre><code>sed '/^&lt;\\/p&gt;$/{N;/&lt;p&gt;/{s/&lt;\\/p&gt;\\(\\n\\)&lt;p&gt;/&lt;\\/span&gt;\\1&lt;div&gt;/;p;d;};P;D;}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 4, "last_activity_date": 1502055918, "last_edit_date": 1502055918, "creation_date": 1502053179, "answer_id": 45536582, "question_id": 45535839, "link": "https://stackoverflow.com/questions/45535839/replace-string-with-new-line-with-another-string-with-new-line/45536582#45536582", "title": "Replace string with new line with another string with new line", "body": "<p>To search for a multiline string, you need to not be just reading one line at a time.</p>\n\n<p>Try:</p>\n\n<pre><code>perl -0777 -pe 's:&lt;/p&gt;\\n&lt;p&gt;:&lt;/span&gt;\\n&lt;div&gt;:g'\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlrun.html#%2A%2D0%2A%5B_octal%2Fhexadecimal_%5D\" rel=\"nofollow noreferrer\">-0</a></p>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1502088327, "last_edit_date": 1502088327, "creation_date": 1502087670, "answer_id": 45540672, "question_id": 45535839, "link": "https://stackoverflow.com/questions/45535839/replace-string-with-new-line-with-another-string-with-new-line/45540672#45540672", "title": "Replace string with new line with another string with new line", "body": "<p>Try this another solution, suppose if you don't want to slurp the whole file at a time,</p>\n\n<pre><code>perl -pe '$_.=&lt;&gt; if(/^&lt;\\/p&gt;/); s:&lt;/p&gt;\\n&lt;p&gt;:&lt;/span&gt;\\n&lt;div&gt;:' input.txt\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/45535839/replace-string-with-new-line-with-another-string-with-new-line/45540672#comments-45535839\">@Sinan \u00dcn\u00fcr</a> mentioned his comment, as per comment you need to capture the next line if it is the current line having <code>&lt;\\p&gt;</code>. </p>\n\n<p>So the above code catching the next line and concatenating string with <code>$_</code> (<code>$_</code> already having the current line data) then substitute the pattern as per requirement.  Then no need to use <code>g</code> modifier in your regex.</p>\n"}], "owner": {"reputation": 1652, "user_id": 929170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b4620f6351bbeff6a5408690686ab2f4?s=128&d=identicon&r=PG", "display_name": "PerfectGamesOnline.com", "link": "https://stackoverflow.com/users/929170/perfectgamesonline-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 45536582, "answer_count": 3, "score": -1, "last_activity_date": 1502088327, "creation_date": 1502047920, "question_id": 45535839, "link": "https://stackoverflow.com/questions/45535839/replace-string-with-new-line-with-another-string-with-new-line", "title": "Replace string with new line with another string with new line", "body": "<p>I need to run this from command line under Mac OS - I have multiple patterns.</p>\n\n<p>From string:</p>\n\n<pre><code>&lt;/p&gt;\n&lt;p&gt;\n</code></pre>\n\n<p>To string:</p>\n\n<pre><code>&lt;/span&gt;\n&lt;div&gt;\n</code></pre>\n\n<p>I've tried this: </p>\n\n<pre><code>perl -pe 's:&lt;/p&gt;\\n&lt;p&gt;:&lt;/span&gt;\\n&lt;div&gt;:g'\n</code></pre>\n\n<p>but it fails on the text AFTER the newline <code>&lt;p&gt;</code></p>\n"}, {"tags": ["arrays", "perl", "sorting"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1502045147, "post_id": 45535098, "comment_id": 78030784, "body": "So sorting with a custom sort comparison. What have you tried?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502046144, "post_id": 45535098, "comment_id": 78031061, "body": "@ikegami no, it&#39;s a tree building problem. e.g. E (level 4) has to stay with the closest previous level 3 (D). sorting only occurs within each set of children"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1502057760, "post_id": 45535098, "comment_id": 78034237, "body": "@ysth, ok... I don&#39;t see that mentioned anywhere, and the example doesn&#39;t demonstrate (or contradict) that. But if that&#39;s the case, build a tree, and sort the each array of children."}, {"owner": {"reputation": 29, "user_id": 5828097, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/09d2335d6385a038e71ae62c30cd8757?s=128&d=identicon&r=PG&f=1", "display_name": "Naman Gupta", "link": "https://stackoverflow.com/users/5828097/naman-gupta"}, "edited": false, "score": 0, "creation_date": 1502090483, "post_id": 45535098, "comment_id": 78042463, "body": "I am newbie to perl and do not know how to build a tree out of this data"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 5828097, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/09d2335d6385a038e71ae62c30cd8757?s=128&d=identicon&r=PG&f=1", "display_name": "Naman Gupta", "link": "https://stackoverflow.com/users/5828097/naman-gupta"}, "edited": false, "score": 0, "creation_date": 1502104881, "post_id": 45537316, "comment_id": 78050786, "body": "Unable to understand the syntax"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 29, "user_id": 5828097, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/09d2335d6385a038e71ae62c30cd8757?s=128&d=identicon&r=PG&f=1", "display_name": "Naman Gupta", "link": "https://stackoverflow.com/users/5828097/naman-gupta"}, "edited": false, "score": 0, "creation_date": 1502125993, "post_id": 45537316, "comment_id": 78064347, "body": "What syntax do you not understand?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1502064386, "last_edit_date": 1502064386, "creation_date": 1502059373, "answer_id": 45537316, "question_id": 45535098, "link": "https://stackoverflow.com/questions/45535098/sorting-of-array-level-wise-in-perl/45537316#45537316", "title": "Sorting of array level wise in perl", "body": "<p>If you want to sort the children of each node of a tree, you will first need to build a tree!</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\nuse feature qw( current_sub say );\n\nmy $tree = do {\n   my @ancestors = [ undef, undef, undef, [] ];\n   while (&lt;&gt;) {\n      chomp;\n      my ($name, $time, $depth) = split /\\|/;\n\n      die \"Bad data\\n\" if $depth &lt; 1;\n      die \"Bad data\\n\" if $depth &gt; @ancestors;\n      splice(@ancestors, $depth);\n\n      my $node = [ $name, $time, $depth, [] ];\n      push @{ $ancestors[-1][3] }, $node;\n      push @stack, $node;\n   }\n\n   my @roots = @{ $ancestors[0][3] };\n   die \"No roots\\n\"       if !@roots;\n   die \"Multiple roots\\n\" if @roots &gt; 1;\n   $roots[0]\n};\n\nsub {\n   my ($node) = @_;\n   say join \"|\", @$node[0,1,2];\n   __SUB__-&gt;($_) for sort { $b-&gt;[1] &lt;=&gt; $a-&gt;[1] } @{ $node-&gt;[3] };\n}-&gt;($tree);\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5828097, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/09d2335d6385a038e71ae62c30cd8757?s=128&d=identicon&r=PG&f=1", "display_name": "Naman Gupta", "link": "https://stackoverflow.com/users/5828097/naman-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1502064386, "creation_date": 1502042951, "question_id": 45535098, "link": "https://stackoverflow.com/questions/45535098/sorting-of-array-level-wise-in-perl", "title": "Sorting of array level wise in perl", "body": "<p>I have an array of strings in which individual element is separated by pipe(|). \nSample data is :\n   A|1447|1<br>\n   B|150|2<br>\n   C|0|3<br>\n   D|66|3<br>\n   E|0|4<br>\n   F|350|2</p>\n\n<p>First Column is the name of function. \nSecond column is the time taken to execute\nThird column is  the level at which the function occurs with respect to main.</p>\n\n<p>I have to arrange it in a form which is sorted on the basis of middle element in descending order such that the output of above sample is:</p>\n\n<p>A|1447|1 </p>\n\n<p>F|350|2<br>\nB|150|2<br>\nD|66|3<br>\nE|0|4</p>\n\n<p>C|0|3    </p>\n\n<p>The above pattern suggests that Function A took 1447 ms . Out of this 1447 ms 350 ms were spent in function F and 150 ms in function B  . Remaining was spent in functions not mentioned here. \nIn the similar manner , out of 150 ms spent in function B ,66 were spent in function D and 0 ms in function C. Out of 66 ms in function D 0 were spent in function E . Meaning it was spent in some other function not mentioned . </p>\n\n<p>Considering we are evaluating the data given to us. We have to sort them and take a new array out of them in perl.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 6869721, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-mj42vdXgD6s/AAAAAAAAAAI/AAAAAAAAAMI/-q3v-JhJ9QU/photo.jpg?sz=128", "display_name": "Abhishek Das", "link": "https://stackoverflow.com/users/6869721/abhishek-das"}, "edited": false, "score": 0, "creation_date": 1502019623, "post_id": 45531553, "comment_id": 78023230, "body": "But i dont have any control on editing my $my_meta, it will come from processing some other file. I want to place a condition on my regex which will take any string with special characters as search string. Have I made my point clear? Thanks"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 17, "user_id": 6869721, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-mj42vdXgD6s/AAAAAAAAAAI/AAAAAAAAAMI/-q3v-JhJ9QU/photo.jpg?sz=128", "display_name": "Abhishek Das", "link": "https://stackoverflow.com/users/6869721/abhishek-das"}, "edited": false, "score": 0, "creation_date": 1502019801, "post_id": 45531553, "comment_id": 78023273, "body": "@AbhishekDas No, it&#39;s not very clear. Are you saying you want to interpret some backslash sequences in <code>$my_meta</code> but not others? In any case, if you want help with the real problem, show your real code."}, {"owner": {"reputation": 17, "user_id": 6869721, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-mj42vdXgD6s/AAAAAAAAAAI/AAAAAAAAAMI/-q3v-JhJ9QU/photo.jpg?sz=128", "display_name": "Abhishek Das", "link": "https://stackoverflow.com/users/6869721/abhishek-das"}, "edited": false, "score": 0, "creation_date": 1502021317, "post_id": 45531553, "comment_id": 78023667, "body": "In actual scenario the $my_meta will come from some other script and the content of $my_meta can have backslashes which I will search in a file and get the respective line number. So I can not edit the content of $my_meta as you suggested in your solution.  I have to do something in <code>if($print =~ &#47;\\Q$my_meta\\E&#47;);</code> statement to catch the $my_meta string"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 17, "user_id": 6869721, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-mj42vdXgD6s/AAAAAAAAAAI/AAAAAAAAAMI/-q3v-JhJ9QU/photo.jpg?sz=128", "display_name": "Abhishek Das", "link": "https://stackoverflow.com/users/6869721/abhishek-das"}, "edited": false, "score": 0, "creation_date": 1502021497, "post_id": 45531553, "comment_id": 78023717, "body": "I didn&#39;t suggest editing <code>$my_meta</code>. Again, show your real code."}, {"owner": {"reputation": 17, "user_id": 6869721, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-mj42vdXgD6s/AAAAAAAAAAI/AAAAAAAAAMI/-q3v-JhJ9QU/photo.jpg?sz=128", "display_name": "Abhishek Das", "link": "https://stackoverflow.com/users/6869721/abhishek-das"}, "edited": false, "score": 0, "creation_date": 1502022488, "post_id": 45531553, "comment_id": 78023986, "body": "Yes The code works on my file. As it is in the company policy I can&#39;t share the exact file. But your codes worked after I replace the double quotes with single, Thanks @melpomene"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 0, "last_activity_date": 1502018899, "creation_date": 1502018899, "answer_id": 45531553, "question_id": 45531438, "link": "https://stackoverflow.com/questions/45531438/matching-a-string-containing-special-characters-with-regex-in-perl/45531553#45531553", "title": "Matching a string containing special characters with regex in perl", "body": "<p>Your first string is in double quotes, so backslash escape sequences are processed.</p>\n\n<p><code>\\cs</code> stands for Ctrl-S, which can also be written <code>chr(19)</code> or <code>\"\\x13\"</code>.</p>\n\n<p>Your second string is in single quotes, which ignores backslash escapes (apart from <code>\\\\</code> and <code>\\'</code>).</p>\n\n<p>So your regex ends up looking for a 3-character sequence <code>\\</code> <code>c</code> <code>s</code>, but your target string contains a single byte <code>0x13</code>.</p>\n\n<p>To fix this, either write <code>\"... \\\\cs ...\"</code> in your first string (the first backslash escapes the second one), or use single quotes for your first string (<code>'... \\cs ...'</code>).</p>\n"}], "owner": {"reputation": 17, "user_id": 6869721, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-mj42vdXgD6s/AAAAAAAAAAI/AAAAAAAAAMI/-q3v-JhJ9QU/photo.jpg?sz=128", "display_name": "Abhishek Das", "link": "https://stackoverflow.com/users/6869721/abhishek-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 811, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1502018899, "creation_date": 1502018083, "last_edit_date": 1502018488, "question_id": 45531438, "link": "https://stackoverflow.com/questions/45531438/matching-a-string-containing-special-characters-with-regex-in-perl", "title": "Matching a string containing special characters with regex in perl", "body": "<p>I have a line in my file which contains the following string </p>\n\n<pre><code>$print = \"SM_sdo_debugss_cxct6_CSCTM_4 \\csctm_gen[4]_ctm_i_nctm_I_csctm  (4+5)\";\n$my_meta = '\\csctm_gen[4]_ctm_i_nctm_I_csctm';\nprint \"I got this\\n\" if($print =~ /\\Q$my_meta\\E/);\n</code></pre>\n\n<p>But it's not able to find the <code>$my_meta</code> string in <code>$print</code>. Why?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1503174626, "last_edit_date": 1503174626, "creation_date": 1501996086, "answer_id": 45528723, "question_id": 45528319, "link": "https://stackoverflow.com/questions/45528319/list-of-elements-in-array-needs-to-check-each-one-in-a-string/45528723#45528723", "title": "List of elements in array needs to check each one in a string", "body": "<p>For the shown data</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse List::Util qw(none);\n\nmy @terms = qw(int frac prod sum oint bigvee bigcup bigcap bigoplus bigotimes);\n\nmy ($paren_L, $paren_R) = map { quotemeta $_ } '\\left(', '\\right)';\n\nwhile (my $line = &lt;DATA&gt;)\n{\n    if (none { $line =~ /$_/ } @terms) \n    {   \n        $line =~ s|$paren_L|(|; \n        $line =~ s|$paren_R|)|;\n    }\n    print $line;\n}\n\n__DATA__\n\"\\left({H^1}, \\int {H^2}\\right)\"\n\"\\left({H^1},\\bigoplus{H^2}\\right)\"\n\"\\left({H^1},{H^2}\\right)\"\n\"\\left({H^1}, \\bigvee {H^2}\\right)\"\n</code></pre>\n\n<p>with output</p>\n\n<pre>\n\"\\left({H^1}, \\int {H^2}\\right)\"\n\"\\left({H^1},\\bigoplus{H^2}\\right)\"\n\"({H^1},{H^2})\"\n\"\\left({H^1}, \\bigvee {H^2}\\right)\"\n</pre>\n\n<p>Notes.</p>\n\n<ul>\n<li><p>This doesn't account for multiple bracketed expressions on a single line</p></li>\n<li><p>There are (many) other ways to specify parens in Latex (<code>\\big(</code>, <code>\\Bigg(</code> etc). </p></li>\n</ul>\n\n<p>On the other hand, the shown data is reasonable in a Latex document.</p>\n\n<p>This goes over the line multiple times but is far more flexible than a single regex.</p>\n\n<hr>\n\n<p>With such simple patterns we need not start the regex engine for each term, but can instead build one pattern with alternations.  Substitutions can also be done in one pass, using <a href=\"https://perldoc.perl.org/perlre.html#Capture%20groups\" rel=\"nofollow noreferrer\"><em>named capture groups</em></a></p>\n\n<pre><code>my $re_terms = '(?:' . join('|', @terms) . ')';\n\nwhile (my $line = &lt;DATA&gt;) \n{\n    if ($line !~ /$re_terms/)\n    {   \n        $line =~ s/(?&lt;L&gt;$paren_L)|(?&lt;R&gt;$paren_R)/$+{L} ? '(' : ')'/eg;\n    }   \n    print $line;\n}\n</code></pre>\n\n<p>which produces the same output. </p>\n\n<p>This does expect data in the shown format: parens always paired, one set on a line.</p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 45528723, "answer_count": 1, "score": 1, "last_activity_date": 1503174626, "creation_date": 1501990805, "last_edit_date": 1501991244, "question_id": 45528319, "link": "https://stackoverflow.com/questions/45528319/list-of-elements-in-array-needs-to-check-each-one-in-a-string", "title": "List of elements in array needs to check each one in a string", "body": "<p>I have a *TEX file contains:</p>\n\n<pre><code>__DATA__\n\"\\left({H^1}, \\int {H^2}\\right)\"\n\"\\left({H^1},\\bigoplus{H^2}\\right)\"\n\"\\left({H^1},{H^2}\\right)\"\n\"\\left({H^1}, \\bigvee {H^2}\\right)\"\n</code></pre>\n\n<p>The above *TEX contents I have to check the list of array elements which I have listed below: If any one the elements is matched then retain the line as it is: If no one of the elements matched then I need to replace <code>\\left(</code> into <code>(</code> and <code>\\right)</code> into <code>)</code>.</p>\n\n<p>My Arrays:</p>\n\n<pre><code>int frac prod sum oint bigvee bigcup bigcap bigoplus bigotimes\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>\"\\left({H^1}, \\int {H^2}\\right)\"\n\"\\left({H^1},\\bigoplus{H^2}\\right)\"\n\"({H^1},{H^2})\"\n\"\\left({H^1}, \\bigvee {H^2}\\right)\"\n</code></pre>\n\n<p>What I have tried:</p>\n\n<pre><code>my @mathenv = qw(int frac prod sum oint bigvee bigcup bigcap bigoplus bigotimes);\n\nwhile(&lt;DATA&gt;) {  $mathchk .= $_;  }\n\n$boolChk = 'False';\n$mathchk=~s#\\\\left\\(((?:(?!\\\\(?:left|right)).)*)\\\\right\\)# my $fulcnt=$&amp;; my $Content=$1;\nforeach my $singlemath(@mathenv)\n{\n    \\#print \"S: -$singlemath-\\n\";\n    if($fulcnt=~m/\\\\$singlemath/gi)\n    {  $boolChk = 'True';  }\n}\nprint \": $boolChk \\t$fulcnt\\n\"; system 'pause'; \nif($boolChk eq 'True') {   }\nif($boolChk eq 'False') {  $fulcnt = \"\\($Content\\)\";  }\n($fulcnt);\n#esg;\n\n#print $mathchk;\n\n__DATA__\n\"\\left({H^1}, \\int {H^2}\\right)\"\n\"\\left({H^1},\\bigoplus{H^2}\\right)\"\n\"\\left({H^1},{H^2}\\right)\"\n\"\\left({H^1}, \\bigvee {H^2}\\right)\"\n</code></pre>\n\n<p>I couldn't able to get the correct output hence if someone guide me where I have to modify the above code. Thanks in advance.</p>\n"}, {"tags": ["perl", "ubuntu", "ssh", "command-line", "terminal"], "comments": [{"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1501985804, "post_id": 45527914, "comment_id": 78016213, "body": "what happens when you have <code>print($stdout2)</code> (and other numbers)? Good luck."}, {"owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "reply_to_user": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1501987653, "post_id": 45527914, "comment_id": 78016479, "body": "@shellter it gives me the same error"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1502023384, "post_id": 45527914, "comment_id": 78024214, "body": "Please don&#39;t edit comments like <i>solved</i> into your question. Instead, answer your question yourself with a proper solution so others can benefit. Stack Overflow is not a forum, but a Q and A site."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "edited": false, "score": 0, "creation_date": 1501993813, "post_id": 45528436, "comment_id": 78017446, "body": "Can you give me an example please?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "edited": false, "score": 3, "creation_date": 1501994535, "post_id": 45528436, "comment_id": 78017575, "body": "@popeonhabbo123: did you look at the documentation yet? It contains examples."}, {"owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "edited": false, "score": 0, "creation_date": 1501995462, "post_id": 45528436, "comment_id": 78017739, "body": "I solved it, thanks :) i used exec instead and it worked. Thanks for letting me know that send is void :) it really helped"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 4, "last_activity_date": 1501992474, "creation_date": 1501992474, "answer_id": 45528436, "question_id": 45527914, "link": "https://stackoverflow.com/questions/45527914/use-of-uninitialized-value-how-can-i-fix-this-error/45528436#45528436", "title": "use of uninitialized value. How can I fix this error?", "body": "<p>From <a href=\"https://metacpan.org/pod/Net::SSH::Expect#void-send($string)-sends-$string-to-the-SSH-server,-returns-nothing\" rel=\"nofollow noreferrer\">the documentation of Net::SSH::Expect</a>:</p>\n\n<blockquote>\n  <p>void send($string) - sends $string to the SSH server, returns nothing</p>\n</blockquote>\n\n<p>Thus, <code>send</code> obviously returns nothing (void) and that's why you get this warning when trying to print the (non-existing) return value of <code>send</code>.  If you want to get data back from the server use <code>peek</code>, <code>eat</code>, <code>read_all</code> or similar as documented.</p>\n"}], "owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1502023328, "creation_date": 1501984588, "last_edit_date": 1502023328, "question_id": 45527914, "link": "https://stackoverflow.com/questions/45527914/use-of-uninitialized-value-how-can-i-fix-this-error", "title": "use of uninitialized value. How can I fix this error?", "body": "<pre><code>#!/usr/bin/perl\nuse Net::SSH::Expect;\nuse warnings;\nuse strict;\n\n#my($stdout, $stderr, $exit) = $ssh-&gt;cmd(\"ls -l /home/$usr\")\n# Making an ssh connection with user-password authentication\n# 1) construct the object\nmy $ssh = Net::SSH::Expect-&gt;new (\n  host =&gt; \"host\", \n  password=&gt; 'pwd', \n  user =&gt; 'user', \n  raw_pty =&gt; 1\n  #Expect=&gt;log_file(\"finally.txt\")\n   );\n\n\n# 2) logon to the SSH server using those credentials.\n# test the login output to make sure we had success\nmy $login_output = $ssh-&gt;login();\n  if ($login_output !~ /Welcome/) {\n   die \"Login has failed. Login output was $login_output\";\n    }\n\n\n\n# disable terminal translations and echo on the SSH server\n# executing on the server the stty command:\n$ssh-&gt;exec(\"stty raw -echo\");\n\n\n\n\nmy $stdout = $ssh-&gt;send(chr(13));\nmy $stdout2 = $ssh-&gt;send(\"SDT-FI\");\nmy $stdout3 = $ssh-&gt;send(\"ENG\");\nmy $stdout4 = $ssh-&gt;send('SORT FI-WIP \"84144\"');\nmy $stdout5 = $ssh-&gt;send(chr(13)); \nmy $stdout6 = $ssh-&gt;send(\"OFF\");\nmy $stdout7 = $ssh-&gt;send(chr(13)); \n\nprint($stdout3);\n\n#$expect-&gt;log_file(\"adp-n.txt\");\n\n#y $line;\n# returns the next line, removing it from the input stream:\n# while ( defined ($line = $ssh-&gt;read_all()) ) {\n#   print $line . \"\\n\";  \n\n#}\n</code></pre>\n\n<p>So i am trying to print $stdout3 so i can get information about the output\nbut i keep getting \" use of uninitialized value $stdout3 in print at connnn3.pl line 50\" </p>\n\n<p>is there something in my code wrong?\nhow can i fix this?</p>\n\n<p>UPDATE, SOLVED!\nThe reason why it was returning \"use of uninitialized value\" was because the function </p>\n\n<pre><code>send()\n</code></pre>\n\n<p>Is void, so instead i used </p>\n\n<pre><code>exec()\n</code></pre>\n\n<p>And that solved it</p>\n"}, {"tags": ["perl", "perl-module", "freeswitch"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 5301781, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xeQLO.jpg?s=128&g=1", "display_name": "Darlyn", "link": "https://stackoverflow.com/users/5301781/darlyn"}, "edited": false, "score": 0, "creation_date": 1502246820, "post_id": 45555034, "comment_id": 78121047, "body": "yes that&#39;s the problem, but I think the solution is try do it from client sip, in my case Android Sip, is to play pure flags, example if I am talking and I have a Incomming Call then no listen. or what do you think ?"}, {"owner": {"reputation": 141, "user_id": 5301781, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xeQLO.jpg?s=128&g=1", "display_name": "Darlyn", "link": "https://stackoverflow.com/users/5301781/darlyn"}, "edited": false, "score": 0, "creation_date": 1502247045, "post_id": 45555034, "comment_id": 78121106, "body": "But I don&#39;t know how to make it, actually I work with the library SIP of android and I am using this library, exactly the example of her page. I research it, please if you find anything about how stop the call incoming when I am talking please help me."}, {"owner": {"reputation": 51, "user_id": 8094176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e874c40204b53e125afe93fa3621a256?s=128&d=identicon&r=PG&f=1", "display_name": "ToyeO", "link": "https://stackoverflow.com/users/8094176/toyeo"}, "reply_to_user": {"reputation": 141, "user_id": 5301781, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xeQLO.jpg?s=128&g=1", "display_name": "Darlyn", "link": "https://stackoverflow.com/users/5301781/darlyn"}, "edited": false, "score": 1, "creation_date": 1512400584, "post_id": 45555034, "comment_id": 82230845, "body": "Bravo, Inside your perl esl script you want to define a variable that will increment each  time a person pressed the push to talk button in that specific conference such as $conf_talkers++; In this script you want to use the freeswitch conference api to send an unmute event for this member using  its member ID  which you get from the conferences event. Only allow an unmute event to occur if your $conf_talkers variable is equal to 1"}, {"owner": {"reputation": 141, "user_id": 5301781, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xeQLO.jpg?s=128&g=1", "display_name": "Darlyn", "link": "https://stackoverflow.com/users/5301781/darlyn"}, "edited": false, "score": 0, "creation_date": 1512405953, "post_id": 45555034, "comment_id": 82234302, "body": "Yes I resolve It, making the same. Thanks for the answer."}], "tags": [], "owner": {"reputation": 51, "user_id": 8094176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e874c40204b53e125afe93fa3621a256?s=128&d=identicon&r=PG&f=1", "display_name": "ToyeO", "link": "https://stackoverflow.com/users/8094176/toyeo"}, "is_accepted": true, "score": 0, "last_activity_date": 1502136985, "creation_date": 1502136985, "answer_id": 45555034, "question_id": 45527843, "link": "https://stackoverflow.com/questions/45527843/how-do-i-do-a-push-to-talk-walkie-talkie-ptt-using-freeswitch-with-mod-confer/45555034#45555034", "title": "How do I do a Push to Talk, Walkie Talkie (PTT) using freeswitch with mod_conference", "body": "<p>I am currently trying to accomplish the same task. One thing I did do was use a conference member flag to enter all members into the conference as muted. When the ptt button is pressed it will send a dtmf \"unmute\" event to the conference.</p>\n\n<p>The only problem with this is there is no stopping of other members who are currently in the conference to also press the ptt button at the same time as another member thus having 2 members on the conference talking at the same time, which is what you dont want</p>\n"}], "owner": {"reputation": 141, "user_id": 5301781, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xeQLO.jpg?s=128&g=1", "display_name": "Darlyn", "link": "https://stackoverflow.com/users/5301781/darlyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 924, "favorite_count": 0, "accepted_answer_id": 45555034, "answer_count": 1, "score": 1, "last_activity_date": 1502136985, "creation_date": 1501983413, "question_id": 45527843, "link": "https://stackoverflow.com/questions/45527843/how-do-i-do-a-push-to-talk-walkie-talkie-ptt-using-freeswitch-with-mod-confer", "title": "How do I do a Push to Talk, Walkie Talkie (PTT) using freeswitch with mod_conference", "body": "<p>I try a push to talk with it.\na android sip client and server sip (freeswitch)\nmy mod_conference has it:</p>\n\n<p>file conference.conf.xml</p>\n\n<pre><code>    &lt;group name=\"radio\"&gt;\n      &lt;control action=\"mute\" digits=\"0\"/&gt;\n      &lt;control action=\"deaf mute\" digits=\"*\"/&gt;\n      &lt;control action=\"energy up\" digits=\"9\"/&gt;\n      &lt;control action=\"energy equ\" digits=\"8\"/&gt;\n      &lt;control action=\"energy dn\" digits=\"7\"/&gt;\n      &lt;control action=\"vol talk up\" digits=\"3\"/&gt;\n      &lt;control action=\"vol talk zero\" digits=\"2\"/&gt;\n      &lt;control action=\"vol talk dn\" digits=\"1\"/&gt;\n      &lt;control action=\"vol listen up\" digits=\"6\"/&gt;\n      &lt;control action=\"vol listen zero\" digits=\"5\"/&gt;\n      &lt;control action=\"vol listen dn\" digits=\"4\"/&gt;\n      &lt;control action=\"hangup\" digits=\"#\"/&gt;\n    &lt;/group&gt;\n\nprofile\n\n    &lt;profile name=\"radio\"&gt;\n     &lt;param name=\"caller-controls\" value=\"radio\"/&gt;\n    &lt;/profile&gt;\n\nmy dialplan\n\n    &lt;include&gt;\n     &lt;extension name=\"radio_conference\"&gt;\n     &lt;condition field=\"destination_number\" expression=\"^1337$\"/&gt;\n     &lt;condition field=\"source\" expression=\"mod_portaudio\" break=\"never\"&gt;\n      &lt;action application=\"perl\" data=\"$${script_dir}/radio.pl\"/&gt;\n      &lt;action application=\"answer\"/&gt;\n      &lt;action application=\"sleep\" data=\"1000\"/&gt;\n      &lt;action application=\"start_dtmf\"/&gt;\n      &lt;/condition&gt;\n      &lt;condition&gt;\n      &lt;action application=\"conference\" data=\"radio@radio\"/&gt;\n      &lt;/condition&gt;\n     &lt;/extension&gt;\n    &lt;/include&gt;\n</code></pre>\n\n<p>my script radio.pl</p>\n\n<pre><code>    use Device::SerialPins;\n    use Getopt::Std;\n    use strict;\n    use FreeSWITCH::Client;\n    use POSIX ':signal_h'; # used for alarm to ensure we get heartbeats\n    use Switch;\n    use Data::Dumper; # used to print out myhash debug info\n    use File::stat;\n\n\n    my $password = \"1234\";    # event socket password\n    my $host     = \"192.168.100.228\";  # event socket host\n    my $port     = 8021;         # event socket port\n    my $device   = undef;        # radio control device (/dev/ttyS0, COM1,       etc)\n    my $baud     = 9600;         # radio control device baud rate\n    my $timeout  = 30;           # seconds to expect a heartbeat or        reconnect\n    my $courtesy_tone = \"tone_stream://%(150,150,500);%(150,0,400)\"; # tone played before releasing PTT\n    my $confname = \"radio\";      # the name of the conference\n    my $extension = \"1337\";      # this is the extension that portaudio will call to join\n    my $callsign = undef;        # disable callsign autoID - set to your callsign\n    my $callsign_interval = 600; # 10 minute intervals\n\n\n# for TTS anouncements played after CWID - undef to disable\n    my $voice = \"Allison\";\n    my $swift = \"/opt/swift/bin/swift\";\n    my $filetime = 0;\n\n\n# normal users do not need to edit anything below here\n    my %options;\n    my $fs;\n    my $lastheartbeat;\n    my $lastcallsign;\n    my $lasttx;\n    my $releasePTT=0;\n    my $ptt_port;\n\n\n\n    sub pressPTT()\n    {\n     $ptt_port-&gt;set_rts(1);\n    }\n\n    sub releasePTT()\n    {\n     $ptt_port-&gt;set_rts(0);\n    }\n\n\n# this connects to the event socket\n    sub es_connect()\n    {\n     print \"Connecting to $host:$port\\n\";\n     eval {\n        $fs = init FreeSWITCH::Client {-password =&gt; $password, -host =&gt;   $host, -port =&gt; $port};\n        if(defined $fs) {\n            $fs-&gt;sendmsg({'command' =&gt; 'event plain heartbeat CUSTOM conference::maintenance'});\n            $lastheartbeat = time;\n        }\n     } or do {\n         print \"Error connecting - waiting for retry\\n\";\n         sleep(10);\n     }\n     }\n\n\n     sigaction SIGALRM, new POSIX::SigAction sub {\n      if ($lastheartbeat &lt; (time - $timeout)) {\n        print \"Did not receive a heartbeat in the specified timeout\\n\";\n        if (defined $fs) {\n            $fs-&gt;disconnect();\n            undef $fs;\n        }\n        es_connect();\n     }\n\n     if(defined $callsign &amp;&amp; $lastcallsign &lt; (time - $callsign_interval) &amp;&amp; $lasttx &gt; $lastcallsign) {\n         pressPTT();\n         $fs-&gt;command(\"jsapi morse.js conference radio \".$callsign);\n        $lastcallsign = time;\n        $releasePTT++;\n\n\n        if (-f \"announcement.txt\") {\n            if(stat(\"announcement.txt\")-&gt;mtime &gt; $filetime &amp;&amp; defined     $voice $$ defined $swift) {\n                system(\"$swift -p audio/deadair=2000,audio/sampling-   rate=8000,audio/channels=1,audio/encoding=pcm16,audio/output-format=raw -o   /tmp/announcement.raw -f announcement.txt -n $voice\");\n                  $fs-&gt;command(\"conference \".$confname.\" play   /tmp/announcement.raw\");\n            }\n        }\n       }\n\n    # reset the alarm\n       alarm $timeout;\n     } or die \"Error setting SIGALRM handler: $!\\n\";\n\n     sub usage()\n     {\n      print \"Usage: $0 [-p pass] [-P port] [-H host] [-d device] [-b    baud]\\n\";\n     print \"example: $0 -p password -P 8021 -H localhost -d /dev/ttyS0 -b     38400\\n\";\n    exit;\n     }\n\n\n     sub checkArgs()\n      {\n       getopts(\"p:P:H:d:b:h\",\\%options);\n       usage() if defined $options{h};\n       $password = $options{p} if defined $options{p};\n       $host = $options{H} if defined $options{H};\n       $port = $options{P} if defined $options{P};\n       $device = $options{d} if defined $options{d};\n       $baud = $options{b} if defined $options{b};\n\n      if(! defined $device || ! defined $password ||\n       ! defined $host || ! defined $port) {\n        usage();\n        exit;\n      }\n      }\n\n\n      checkArgs();\n       $ptt_port = Device::SerialPins-&gt;new($device);\n       releasePTT();\n       es_connect();\n       alarm $timeout;\n\n\n\n       $SIG{INT} = \"byebye\";        # traps keyboard interrupt (^C)\n\n      sub byebye {\n       if(defined $fs) {\n        $fs-&gt;command(\"pa hangup\");\n       }\n       exit();\n      }\n\n\n      if(defined $fs) {\n      $fs-&gt;command(\"pa call \".$extension);\n      } else {\n      print \"Unable to start portaudio channel\\n\";\n      }\n\n      $lastcallsign = time;\n\n     while (1) {\n     if(defined $fs) {\n        my $reply = $fs-&gt;readhash(undef);\n        if ($reply-&gt;{socketerror}) {\n            es_connect();\n        }\n\n        if($reply-&gt;{body}) {\n            my $myhash = $reply-&gt;{event};\n\n            if ($myhash-&gt;{'event-name'} eq \"HEARTBEAT\") {\n                $lastheartbeat = time;\n            } elsif ($myhash-&gt;{'event-subclass'} eq  \"conference::maintenance\") {\n                if($myhash-&gt;{'conference-name'} eq $confname) {\n                    if($myhash-&gt;{'caller-channel-name'} =~ m/^portaudio/)      {\n                        # this is from the radio\n                        if($myhash-&gt;{'action'} eq 'dtmf') {\n                            switch($myhash-&gt;{'dtmf-key'}) {\n                                # I will be adding some \"dial\"     instructions for autopatch\n                                # and maybe some other settings here\n                            }\n                        }\n                    } else {\n                        # this is from everyone else\n                        if ($myhash-&gt;{'action'} eq 'start-talking') {\n                            print \"The port is talking! keying mic\\n\";\n                            $lasttx = time;\n                            pressPTT();\n                        } elsif ($myhash-&gt;{'action'} eq 'stop-talking') {\n                            print \"The port stopped talking! releasing    mic\\n\";\n                            if(defined $courtesy_tone) {\n                                $fs-&gt;command(\"conference \".$confname.\"   play \".$courtesy_tone);\n                                $releasePTT++;\n                            }\n                        }\n                    }\n\n                    if($myhash-&gt;{'action'} eq 'dtmf') {\n                        print \"conf: $myhash-&gt;{'conference-name'}\\tmember:     $myhash-&gt;{'member-id'}\\tDTMF: $myhash-&gt;{'dtmf-key'}\\n\";\n                    } elsif ($myhash-&gt;{'action'} eq 'play-file') {\n                        print \"conf: $myhash-&gt;{'conference-name'}\\taction:    $myhash-&gt;{'action'}\\tfile: $myhash-&gt;{'file'}\\n\";\n                    } elsif ($myhash-&gt;{'action'} eq 'play-file-done') {\n                        print \"conf: $myhash-&gt;{'conference-name'}\\taction:    $myhash-&gt;{'action'}\\tfile: $myhash-&gt;{'file'}\\n\";\n                        if($releasePTT&gt;0) {\n                            $releasePTT--;\n                        }\n     print \"release PTT: $releasePTT\\n\";\n                         if($releasePTT==0) {\n                            releasePTT();\n                        }\n                    } else {\n                        print \"conf: $myhash-&gt;{'conference-name'}\\tmemid:      $myhash-&gt;{'member-id'}\\taction: $myhash-&gt;{'action'}\\tCLID: $myhash-&gt;       {'caller-caller-id-number'}\\n\";\n                    }\n                } else {\n                    print \"conf: $myhash-&gt;{'conference-name'}\\tmemid:      $myhash-&gt;{'member-id'}\\taction: $myhash-&gt;{'action'}\\tCLID: $myhash-&gt;       {'caller-caller-id-number'}\\n\";\n                }\n            } else {\n                print Dumper $myhash;\n             }\n         }\n      } else {\n        es_connect();\n       }\n      }\n</code></pre>\n\n<p>now I don't Know use this file radio.pl in this a moment I try a sip client with android sip and all successfully in a conference but now I want configure that one talk and everyone listen, in this moment all talk and all listen, please I need help </p>\n\n<p>Thank's</p>\n"}, {"tags": ["perl", "encoding", "character-encoding"], "answers": [{"comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 3, "creation_date": 1501960811, "post_id": 45525291, "comment_id": 78011236, "body": "The OP is using Python 2. (FWIW, Unicode handling is much nicer in Python 3). In Python 2, those Unicode <code>u&#39;&#39;</code> strings need the <code>\\x</code> escape sequences for codepoints from 0x80 to 0xff. (That Latin-1 encoding trick works because Latin-1 is a subset of Unicode, i.e., the Unicode codepoints &lt;256 are identical to the Latin-1 chars).They use 4 digit <code>\\u</code> escapes for codepoints from 0x0100 to 0xffff, and 8 digit &#39;\\U&#39; escapes for higher codepoints. Sorry, I don&#39;t know perl, so I can&#39;t offer further suggestions."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1501960963, "post_id": 45525291, "comment_id": 78011277, "body": "@PM2Ring Thank you for the clarification."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 4, "last_activity_date": 1501963701, "last_edit_date": 1501963701, "creation_date": 1501958463, "answer_id": 45525291, "question_id": 45525079, "link": "https://stackoverflow.com/questions/45525079/in-perl-how-can-i-encode-strings-to-a-format-acceptable-to-python-2/45525291#45525291", "title": "In Perl, how can I encode strings to a format acceptable to Python 2?", "body": "<p>Based on <a href=\"https://stackoverflow.com/users/4014959/pm-2ring\">@PM2Ring</a>'s helpful comment below:</p>\n\n<blockquote>\n  <p>In Python 2, those Unicode <code>u''</code> strings need the <code>\\x</code> escape sequences for codepoints from <code>0x80</code> to <code>0xff</code>. They use 4 digit <code>\\u</code> escapes for codepoints from <code>0x0100</code> to <code>0xffff</code>, and 8 digit <code>\\U</code> escapes for higher codepoints.</p>\n</blockquote>\n\n<pre><code>use utf8;\nuse strict;\nuse warnings;\n\nuse open qw(:std :utf8);\n\nuse Test::More;\n\nmy @cases = (\n    [ 's\u00fc\u00df'  =&gt; q{u's\\\\xfc\\\\xdf'} ],\n    [ '\u2554\u2550\u2557'  =&gt; q{u'\\\\u2554\\\\u2550\\\\u2557'} ],\n    [ '\ud803\udc1a\ud803\udc07\ud803\udc1a'  =&gt; q{u'\\\\U00010c1a\\\\U00010c07\\\\U00010c1a'} ],\n);\n\nfor my $case (@cases) {\n    is string_to_python2_escaped($case-&gt;[0]), $case-&gt;[1], \"$case-&gt;[0] maps to $case-&gt;[1]\";\n}\n\ndone_testing;\n\nsub string_to_python2_escaped {\n    sprintf \"u'%s'\", join '', map char_to_python2_escape($_), split //, $_[0];\n}\n\nsub char_to_python2_escape {\n    my $c = shift;\n    my $k = ord($c);\n\n    return $c if $k &lt;= 0x7f;\n    return sprintf('\\\\x%02x', $k) if $k &lt;= 0xff;\n    return sprintf('\\\\u%04x', $k) if $k &lt;= 0xffff;\n    return sprintf('\\\\U%08x', $k);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ok 1 - s\u00fc\u00df maps to u's\\xfc\\xdf'\nok 2 - \u2554\u2550\u2557 maps to u'\\u2554\\u2550\\u2557'\nok 3 - \ud803\udc1a\ud803\udc07\ud803\udc1a maps to u'\\U00010c1a\\U00010c07\\U00010c1a'\n1..3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": -1, "last_activity_date": 1501962727, "creation_date": 1501962727, "answer_id": 45525839, "question_id": 45525079, "link": "https://stackoverflow.com/questions/45525079/in-perl-how-can-i-encode-strings-to-a-format-acceptable-to-python-2/45525839#45525839", "title": "In Perl, how can I encode strings to a format acceptable to Python 2?", "body": "<p>Not using <code>Encode</code>. Unlike Python's encodings, Perl's Encode module only converts between \"real\" character encodings, like ISO-8859-1 and UTF-8. It doesn't perform conversions to other formats, like C-style character escapes.</p>\n"}], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 45525291, "answer_count": 2, "score": 1, "last_activity_date": 1501963701, "creation_date": 1501957035, "last_edit_date": 1501963450, "question_id": 45525079, "link": "https://stackoverflow.com/questions/45525079/in-perl-how-can-i-encode-strings-to-a-format-acceptable-to-python-2", "title": "In Perl, how can I encode strings to a format acceptable to Python 2?", "body": "<p>I need to print a Python-looking data structure with unicode characters with Perl and have difficulties with the encoding.</p>\n\n<p>Python code:</p>\n\n<pre><code>import pprint\nflavour = u's\u00fc\u00df'  # 'sweet' in German\npprint.pprint(flavour)\n\n# Output:\nu's\\xfc\\xdf'\n</code></pre>\n\n<p>I want to produce that very same output using Perl. I know I can do</p>\n\n<pre><code>use utf8;\nmy $flavour = 's\u00fc\u00df';\n$flavour =~ s/\u00fc/\\\\xfc/g; \n$flavour =~ s/\u00df/\\\\xdf/g; \nprint \"u'$flavour'\\n\";\n\n# Output:\nu's\\xfc\\xdf'\n</code></pre>\n\n<p>But what about the other weird characters/umlauts? Isn't there an Enconding module that would do what I want?\nI need this to write a Python <em>config file</em> with Perl.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 3, "creation_date": 1501961230, "post_id": 45521855, "comment_id": 78011366, "body": "I see you deleted your answer. Personally, I would have found it very useful if you would have updated it. I use XS a fair amount and I&#39;ve been curious about this myself. When you said you had it resolved, I was really hoping you&#39;d share your findings."}, {"owner": {"reputation": 79, "user_id": 8420832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d064758e857207c85d5590182dedcf43?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Maine", "link": "https://stackoverflow.com/users/8420832/jack-maine"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1501962042, "post_id": 45521855, "comment_id": 78011607, "body": "@stevieb Basically I found this question on stack overflow and it didn&#39;t have an answer, and i didn&#39;t have enough repu to offer a bounty, so I posted this question again. I found a basic idea of how it is working in the comments. I&#39;m providing a link to the original question: <a href=\"https://stackoverflow.com/questions/42629915/is-there-a-way-to-access-special-tokens-in-perl-from-xs\" title=\"is there a way to access special tokens in perl from xs\">stackoverflow.com/questions/42629915/&hellip;</a>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1501962383, "post_id": 45521855, "comment_id": 78011702, "body": "So you completely and literally copied someone elses question, came up with an answer based on the comments, yet you don&#39;t provide an answer that you found suitable for <i>either</i> question? Please. Have some more respect than that! If your solution answers the question, answer both of them."}, {"owner": {"reputation": 79, "user_id": 8420832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d064758e857207c85d5590182dedcf43?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Maine", "link": "https://stackoverflow.com/users/8420832/jack-maine"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1501962663, "post_id": 45521855, "comment_id": 78011777, "body": "@stevieb I didn&#39;t find the answer. I just said I got a very basic idea of what it might be. I don&#39;t even know if it&#39;s correct. As I said earlier, no one had answered that question, and I just tried to make it out using the comments posted. I haven&#39;t found anything substantial enough to post an answer to either of the questions. Also, had I found the complete solution, I would have posted the answer myself"}, {"owner": {"reputation": 79, "user_id": 8420832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d064758e857207c85d5590182dedcf43?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Maine", "link": "https://stackoverflow.com/users/8420832/jack-maine"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1501962725, "post_id": 45521855, "comment_id": 78011793, "body": "@stevieb Else I would have deleted the question all together since it is a duplicate, if I had got the answer, and then posted that answer to the original question"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1501962806, "post_id": 45521855, "comment_id": 78011816, "body": "Ok, I apologize then for coming off as a bit aggressive. I understand now. In your answer that you deleted, you did say you had it resolved, so that was the basis for my understanding."}, {"owner": {"reputation": 79, "user_id": 8420832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d064758e857207c85d5590182dedcf43?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Maine", "link": "https://stackoverflow.com/users/8420832/jack-maine"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1501962946, "post_id": 45521855, "comment_id": 78011852, "body": "@stevieb no it&#39;s fine. misunderstandings happen. also, i&#39;ll post the answer as soon as I find it"}], "owner": {"reputation": 79, "user_id": 8420832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d064758e857207c85d5590182dedcf43?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Maine", "link": "https://stackoverflow.com/users/8420832/jack-maine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 2, "closed_date": 1502126198, "answer_count": 0, "score": 7, "last_activity_date": 1502061035, "creation_date": 1501935829, "last_edit_date": 1502029746, "question_id": 45521855, "link": "https://stackoverflow.com/questions/45521855/accessing-special-tokens-in-xs-perl", "closed_reason": "Duplicate", "title": "Accessing special tokens in XS [perl]", "body": "<p>In Perl, special tokens like <code>__PACKAGE__</code>, <code>__SUB__</code>, <code>__FILE__</code>, <code>__LINE__</code> exists and are available from the script.</p>\n\n<p>I may get a value of <code>__PACKAGE__</code> from <code>XS</code> as <code>HvNAME( PL_currstash )</code>, I suppose. How do I access the others?</p>\n\n<p>Is there a special interface to access all of them from <code>XS</code>? Like: <code>CTX-&gt;package</code>, <code>CTX-&gt;sub</code>, etc.</p>\n"}, {"tags": ["ajax", "apache", "perl", "cgi", "mod-perl"], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 6155139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c09d1f850551b06ef91daa250c86a8?s=128&d=identicon&r=PG", "display_name": "Fashim", "link": "https://stackoverflow.com/users/6155139/fashim"}, "edited": false, "score": 0, "creation_date": 1501925899, "post_id": 45520365, "comment_id": 78001367, "body": "Hmm didn&#39;t seem to work when I implemented it into the main file, however  it did work when I implemented it into my project, going to mark this as solved and I should hopefully be able to locate what&#39;s causing it from here. Cheers."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 144, "user_id": 6155139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c09d1f850551b06ef91daa250c86a8?s=128&d=identicon&r=PG", "display_name": "Fashim", "link": "https://stackoverflow.com/users/6155139/fashim"}, "edited": false, "score": 0, "creation_date": 1501925983, "post_id": 45520365, "comment_id": 78001386, "body": "Great.  I was just about to relax the &quot;in the main program&quot; statement, since I don&#39;t understand the structure of the project. Thank you for the attribution."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 144, "user_id": 6155139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c09d1f850551b06ef91daa250c86a8?s=128&d=identicon&r=PG", "display_name": "Fashim", "link": "https://stackoverflow.com/users/6155139/fashim"}, "edited": false, "score": 0, "creation_date": 1501926241, "post_id": 45520365, "comment_id": 78001443, "body": "@Fashim Updated, this is what I meant.  I hope it&#39;s better.  In order to track it you can change the warning to a <code>die</code> (see one of the linked posts) and then print a full stack trace.  I&#39;ll add a comment on that to the post."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 144, "user_id": 6155139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c09d1f850551b06ef91daa250c86a8?s=128&d=identicon&r=PG", "display_name": "Fashim", "link": "https://stackoverflow.com/users/6155139/fashim"}, "edited": false, "score": 0, "creation_date": 1501926908, "post_id": 45520365, "comment_id": 78001600, "body": "@Fashim  Added ideas on how to try to track where the warnings fire from"}, {"owner": {"reputation": 144, "user_id": 6155139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c09d1f850551b06ef91daa250c86a8?s=128&d=identicon&r=PG", "display_name": "Fashim", "link": "https://stackoverflow.com/users/6155139/fashim"}, "edited": false, "score": 0, "creation_date": 1501927970, "post_id": 45520365, "comment_id": 78001890, "body": "Ahh wonderful, thank you so much and sorry about the vague description the code is really terrible."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1573877851, "last_edit_date": 1573877851, "creation_date": 1501925374, "answer_id": 45520365, "question_id": 45520231, "link": "https://stackoverflow.com/questions/45520231/perl-warning-printed-without-use-warnings-or-w-in-any-files/45520365#45520365", "title": "Perl warning printed without &#39;use warnings&#39; or -w in any files", "body": "<p>I take it that the code gets called by running certain top-level Perl script(s).</p>\n\n<p>Then use the <code>__WARN__</code> hook in those script(s) to stop printing of warnings</p>\n\n<pre><code>BEGIN { $SIG{__WARN__} = sub {} };\n</code></pre>\n\n<p>Place this <code>BEGIN</code> block before the <code>use</code> statements so to affect modules as well.</p>\n\n<p>An empty subroutine is the way to mute warnings since <code>__WARN__</code> doesn't support <code>'IGNORE'</code>.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/warn.html\" rel=\"nofollow noreferrer\">warn</a> and <a href=\"http://perldoc.perl.org/perlvar.html#%SIG\" rel=\"nofollow noreferrer\"><code>%SIG</code> in perlvar</a>. \nSee <a href=\"https://stackoverflow.com/a/40114084/4653379\">this post</a> and <a href=\"https://stackoverflow.com/a/44011471/4653379\">this post</a> for comments and some examples.</p>\n\n<hr>\n\n<p>To investigate further and track the warnings you can use <a href=\"https://perldoc.perl.org/Carp.html\" rel=\"nofollow noreferrer\">Carp</a></p>\n\n<pre><code>BEGIN {\n    $SIG{__WARN__} = \\&amp;Carp::cluck;  # or Carp::confess; to also die\n}\n</code></pre>\n\n<p>which will make it print full stack traces. This can be fine-tuned as you please since we can write our own sub to be called. Or use <a href=\"http://search.cpan.org/~ferreira/Carp-Always-0.13/lib/Carp/Always.pm\" rel=\"nofollow noreferrer\">Carp::Always</a>.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/43061904/4653379\">this post</a>\nfor some more drastic measures (like overriding <a href=\"http://perldoc.perl.org/CORE.html\" rel=\"nofollow noreferrer\">CORE::GLOBAL::warn</a>)</p>\n\n<p>Once you find a more precise level at which to suppress warnings then <code>local $SIG{__WARN__}</code> is the way to go, if possible. This is used in a post linked above, and here is <a href=\"https://stackoverflow.com/questions/44758909/ipcrun-detection-of-premature-child-exit-and-closed-pipes/44776266#44776266\">another example</a>. It is of course far better to suppress warnings only where needed instead of everywhere.</p>\n\n<p>More detail</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/a/2367807/4653379\">Getting stack traces in Perl?</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/229009/how-can-i-get-a-call-stack-listing-in-perl\">How can I get a call stack listing in Perl?</a></p></li>\n</ul>\n\n<p>Note that <code>longmess</code> is unfortunately no longer so standard and well supported.</p>\n"}], "owner": {"reputation": 144, "user_id": 6155139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c09d1f850551b06ef91daa250c86a8?s=128&d=identicon&r=PG", "display_name": "Fashim", "link": "https://stackoverflow.com/users/6155139/fashim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 45520365, "answer_count": 1, "score": 1, "last_activity_date": 1573877997, "creation_date": 1501924480, "last_edit_date": 1573877997, "question_id": 45520231, "link": "https://stackoverflow.com/questions/45520231/perl-warning-printed-without-use-warnings-or-w-in-any-files", "title": "Perl warning printed without &#39;use warnings&#39; or -w in any files", "body": "<p>I have a lot of old Perl code that gets called frequently, I have been writing a new module and all of a sudden I'm getting a lot of warnings in my error_log for Apache, they are for every module currently being used. e.g,</p>\n\n<pre><code>\"my\" variable $variable masks earlier declaration in same statement at\n    /path/to/module.pm line 40 (#1)\n\nUseless use of hash element in void context at\n    /path/to/another/module.pm line 212 (#2)\n</code></pre>\n\n<p>The main layout of the codebase is one giant script that includes the modules and directs the requests to them needed to create certain pages for the website and the main script then handles static elements like menus.</p>\n\n<p>My current project is separated from this main script and doesn't use it however any time I call my code using ajax, there are some other ajax calls that will use the main script and the warnings only seem to appear from those request but only when I'm calling my project.</p>\n\n<p>I have grepped every module and none of them have use warnings (or -w) in them, I have also tried using no warnings 'all' in the main script and my own project but it's not doing anything.</p>\n\n<p>At this point I'm out of ideas on what to do next so all help is appreciated, I'd just like to suppress the warnings, the codebase is quite old and poorly written so going and correcting each issue that causes the warns in the first place isn't do-able.</p>\n\n<p>The Apache server is running mod_perl as well, if that might make a difference I have a feeling it might be something to do with CGI, but I can't seem to find any evidence.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1501898214, "post_id": 45517281, "comment_id": 77996273, "body": "What code have you tried to solve this problem? SO isn&#39;t a code-writing service, and shouldn&#39;t be treated as such. It&#39;s for specific programming problems, where you show the particular code you&#39;re having problems with, and you get help based on that."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 3, "creation_date": 1501898123, "post_id": 45517463, "comment_id": 77996267, "body": "I don&#39;t think that responding to questions where the OP doesn&#39;t put in any effort is helpful, especially when you haven&#39;t clarified at all what your code does. Essentially, this code-only answer doesn&#39;t explain anything to the OP, nor future readers."}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 0, "last_activity_date": 1501908315, "last_edit_date": 1501908315, "creation_date": 1501897535, "answer_id": 45517463, "question_id": 45517281, "link": "https://stackoverflow.com/questions/45517281/delete-outdated-entries-in-a-hash-and-keep-only-one-latest-key-value-pair/45517463#45517463", "title": "Delete outdated entries in a hash and keep only one latest key value pair", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $href = {\n          '2017/06/27' =&gt; {\n                            'start' =&gt; '13:07:00',\n                            'end' =&gt; '23:47:00'\n                          },\n          '2017/06/15' =&gt; {\n                            'start' =&gt; '07:11:00',\n                            'end' =&gt; '00:18:00'\n                          },\n          '2017/06/28' =&gt; {\n                            'end' =&gt; '06:37:00',\n                            'start' =&gt; '00:06:00'\n                          },\n          '2017/06/17' =&gt; {\n                            'start' =&gt; '09:17:00',\n                            'end' =&gt; '10:17:00'\n                          }\n};\n\nmy (undef, @keys) = sort {$b cmp $a} keys %$href;\n\ndelete @$href{ @keys };\n\nuse Data::Dumper; print Dumper $href;\n</code></pre>\n\n<p>Update: stevieb is correct in his comments about this post. I'll try to explain what I did.</p>\n\n<p>The date format goes from largest part to the smallest, (<code>YYYY/MM/DD</code>). So, it can be sorted with a ordinary ascii sort, <code>cmp</code>.</p>\n\n<p>It is sorted from the latest date to the earliest date. The sort result is assigned to <code>undef</code> and <code>@keys</code>. The latest date then will be assigned to <code>undef</code> and the remaining keys (to be deleted) are assigned to <code>@keys</code>.</p>\n\n<p>The <code>delete</code> deletes all the earlier dates and their values from the hash using a hash slice, <code>@$href{ @keys }</code>, leaving only the latest date and its value, a hash reference.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1501900552, "last_edit_date": 1501900552, "creation_date": 1501899844, "answer_id": 45517628, "question_id": 45517281, "link": "https://stackoverflow.com/questions/45517281/delete-outdated-entries-in-a-hash-and-keep-only-one-latest-key-value-pair/45517628#45517628", "title": "Delete outdated entries in a hash and keep only one latest key value pair", "body": "<p>Just find the one you want to keep, and assign it to the hash.</p>\n\n<pre><code>use List::Util qw( maxstr );\n\nmy $newest = maxstr keys %$href;\n\n%$href = ( $newest =&gt; $href-&gt;{$newest} );\n</code></pre>\n\n<p>It's a little more efficient to find the newest key than to sort all the keys (O(N) vs O(N log N)), and no more complicated.</p>\n"}], "owner": {"reputation": 147, "user_id": 8267952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b2ef54d99c06b6bf90bfe866cd939f2b?s=128&d=identicon&r=PG&f=1", "display_name": "ran1n", "link": "https://stackoverflow.com/users/8267952/ran1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 45517463, "answer_count": 2, "score": -2, "last_activity_date": 1501908315, "creation_date": 1501895378, "question_id": 45517281, "link": "https://stackoverflow.com/questions/45517281/delete-outdated-entries-in-a-hash-and-keep-only-one-latest-key-value-pair", "title": "Delete outdated entries in a hash and keep only one latest key value pair", "body": "<p>I have a requirement where in i need to delete old entries in a hashref. For e.g. in the below data section only \"2017/06/28\" key value pair should survive.\nRest all key value pairs should be deleted. Please provide me ideas how to accomplish this.</p>\n\n<p><strong>DATA</strong></p>\n\n<pre><code>$data_hashref = {\n          '2017/06/27' =&gt; {\n                            'start' =&gt; '13:07:00',\n                            'end' =&gt; '23:47:00'\n                          },\n          '2017/06/15' =&gt; {\n                            'start' =&gt; '07:11:00',\n                            'end' =&gt; '00:18:00'\n                          },\n          '2017/06/28' =&gt; {\n                            'end' =&gt; '06:37:00',\n                            'start' =&gt; '00:06:00'\n                          },\n          '2017/06/17' =&gt; {\n                            'start' =&gt; '09:17:00',\n                            'end' =&gt; '10:17:00'\n                          }\n        };\n</code></pre>\n\n<p><strong>RESULT</strong></p>\n\n<pre><code>$data_hashref = {\n          '2017/06/28' =&gt; {\n                            'end' =&gt; '06:37:00',\n                            'start' =&gt; '00:06:00'\n                          }\n        };\n</code></pre>\n"}, {"tags": ["linux", "perl", "ubuntu", "ssh"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501881196, "post_id": 45514590, "comment_id": 77992521, "body": "Did you try to run this code? If there were problems did you then try to solve them?  A legitimate question here is expected to be fairly specific and detailed, documenting what you tried and what happened, and how/why it didn&#39;t work."}, {"owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501881515, "post_id": 45514590, "comment_id": 77992625, "body": "@zdim i did run it, it seem to work fine but when i check the server i am connecting to the textput.txt wasn&#39;t there, and yes i am trying to solve it, that&#39;s exactly why i posted the question here, so what i think i am doing wrong is the way i send the commands to the server, thats why i need to know how to apply $stdout, $stderr, and $exit, is all part of the problem."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501881780, "post_id": 45514590, "comment_id": 77992715, "body": "OK -- good that you added that information to the question. Then, do you expect <code>script ..</code> to make that file (did you try normally, from terminal)? Your code never asks for output, it just runs the commands.  Debugging: (1) <b>Check for errors</b>.  Does you program even gets to login? See modules docs. (2) Study the modules documentation.  It provides ways to retrieve what you want, it has methods for that.  Then check the error that it returns.  (This is if you did manage to log in in the first place.)"}, {"owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501885669, "post_id": 45514590, "comment_id": 77993890, "body": ":) i just solved it i used a different module that had all i need it, thanks for the tips."}, {"owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501885780, "post_id": 45514590, "comment_id": 77993917, "body": "@zdim do you know if there is a way to save the SCRIPT in my pc instead of the server?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501885992, "post_id": 45514590, "comment_id": 77993969, "body": "I don&#39;t understand what you mean by &quot;<i>save the SCRIPT</i>&quot; ?  Isn&#39;t that some program that you run?  Very good that you found the right tool!  (While I am pretty sure that this module can do it as well.)"}, {"owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501886183, "post_id": 45514590, "comment_id": 77994020, "body": "@zdim yes the program runs the code, but basically what i am trying to achieve here is to send commands to the server and then saving the log that the script makes in my own pc, my program is only capable of only saving the log or script in the server."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501886376, "post_id": 45514590, "comment_id": 77994073, "body": "I see.  Then you need to transfer the file from the server to your machine once the <code>script</code> completes.  One standard tool is <code>rsync</code>, another one <code>scp</code> (which you can nicely run out of a Perl program), but there are others as well.  On Windows there are yet other. Search for how to copy a file from a machine to another."}, {"owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501886985, "post_id": 45514590, "comment_id": 77994240, "body": "@zdim yeah that&#39;s what i wanted to do but the problem is that this is only that the server that we are actually going to do this on is ADP a big company where they have their on servers and a lot of restrictions we won&#39;t be able to transfer because we wouldn&#39;t be allowed to, so we are trying to find a way to save the script automatically in our on pc, we use to do it with Telnet because its much easier and is not encrypted so it made it easier to access other servers, but now we are force to do it with SSH which is very encrypted."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501890881, "post_id": 45514590, "comment_id": 77995099, "body": "OK. So here is an idea.  The module has a way to return all output, <code>($out, $err, $exit) = $ssh-&gt;cmd($cmd);</code>, <a href=\"http://search.cpan.org/~schwigon/Net-SSH-Perl-2.12/lib/Net/SSH/Perl.pm#%28%24out,_%24err,_%24exit%29_=_%24ssh-%3Ecmd%28%24cmd,_%5B_%24stdin_%5D%29\" rel=\"nofollow noreferrer\">see docs</a>.  So make the command print out the file itself, like <code>$cmd = &quot;cat script&quot;;</code>.  If <code>script</code> is an ascii file then you&#39;ll get it back in the <code>$output</code>.  Check <code>$error</code>.  Check all errors."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501890926, "post_id": 45514590, "comment_id": 77995105, "body": "In the future, all this should be <b>summarized in the question</b>. You would&#39;ve had a number of good answers, instead of this thread of short comments."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501891496, "post_id": 45514590, "comment_id": 77995212, "body": "Or <code>($out, $err, $exit) = $ssh-&gt;cmd(&quot;cat script_output.txt&quot;);</code> (after the script ran and made <code>output.txt</code> file), I am not sure what you need to transfer."}, {"owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501891637, "post_id": 45514590, "comment_id": 77995236, "body": "I see, i will try it. I will keep you updated. Thanks by the way i really appreciate it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501891821, "post_id": 45514590, "comment_id": 77995267, "body": "Welcome.  The most important part is now to see what should go into a question.  Anticipate questions in the mind of those who read it much like the ones I&#39;ve asked in this exchange.  Provide enough detail, including a description of what you tried, complete with expected outcome and actual output.  Writing a good question and getting a bunch of good answers beats these crammed comments by a mile."}, {"owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501898073, "post_id": 45514590, "comment_id": 77996261, "body": "@zdim you are definitely right i will add more to the question, what i am trying to save in my computer automatically is the output.txt"}, {"owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501900697, "post_id": 45514590, "comment_id": 77996583, "body": "@zdim i tried what you told me to but i am getting an error it says that &quot;cmd&quot; is not found in Net::SSH::Expect packets, although i am using both Net::SSH::Expect and Net::SSH::Perl."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501903401, "post_id": 45514590, "comment_id": 77996848, "body": "According to your code, you are now using <a href=\"http://search.cpan.org/~bnegrao/Net-SSH-Expect-1.09/lib/Net/SSH/Expect.pod\" rel=\"nofollow noreferrer\">Net::SSH:Expect</a>, which is a different module, and which indeed does not have a <code>cmd</code> method.  Please read documentation for modules you use.  I see that this one has <code>exec</code>, which should directly return the output.  So, try that. Then try again what I told you, but the module you were using before (<code>Net::SSH::Perl</code>).  As for the question, this one&#39;s done.  When you post in the future just be careful to post a <i>good</i> question."}, {"owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501912983, "post_id": 45514590, "comment_id": 77998389, "body": "@zdim thank you man i finally got everything to work but theres another thing i need to know that you might know is there any way i can send an ENTER key through my own code using the cmd or anything like that?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501917557, "post_id": 45514590, "comment_id": 77999438, "body": "That kind of functionality is what <a href=\"http://search.cpan.org/~rgiersig/Expect-1.15/Expect.pod\" rel=\"nofollow noreferrer\">Expect</a> is about.  It allows you to interactively use the other program, receive its output and send it commands, like you work with (some) programs from the command line.  The link above is to Perl&#39;s module but <code>expect</code> is a time-honored Unix tool.  Then <code>Net::SSH::Expect</code> may be for that, too (but I don&#39;t know for fact).  Read the docs :)"}], "owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501985740, "creation_date": 1501876627, "last_edit_date": 1501899537, "question_id": 45514590, "link": "https://stackoverflow.com/questions/45514590/what-does-this-code-mean-does-and-how-can-i-apply-it", "title": "what does this code mean,does, and how can i apply it", "body": "<pre><code>my($stdout, $stderr, $exit)\n</code></pre>\n\n<p>so i am trying to send command-lines to a remote server using a code but I don't know if i am doing it right, here is the code</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse Net::SSH::Perl;\nuse strict;\n\n#my($stdout, $stderr, $exit) = $ssh-&gt;cmd(\"ls -l /home/$usr\")\nmy $host = \"$host\";\nmy $usr = \"$usr\";\nmy $pwd = \"$pwd\";\nmy $ssh = Net::SSH::Perl-&gt;new($host);\n$ssh-&gt;login($usr,$pwd);\n\n$ssh-&gt;cmd(\"script /home/$usr/textput.txt/\");\n$ssh-&gt;cmd(\"ls -l /$usr/jrivas/\");\n$ssh-&gt;cmd(\"exit\");\n</code></pre>\n\n<p>When i run the code it seems to work fine until i go check if it made the script in the server but it wasn't there so i am imagining is the way i am sending the commands.</p>\n\n<p>UPDATE</p>\n\n<p>I've managed to connect to my server and make the .txt file but i havent been able to automatically save it to my out pc instead of the server</p>\n\n<p>here is my code so far</p>\n\n<pre><code>#!/usr/bin/perl\nuse Net::SSH2;\nuse Net::SSH::Expect;\nuse Net::SSH::Perl;\nuse Net::SSH;\n\n\n#my($stdout, $stderr, $exit) = $ssh-&gt;cmd(\"ls -l /home/$usr\")\nmy $host = \"host\";\nmy $usr = \"root\";\nmy $pwd = \"pwd\";\n#my $ssh = Net::SSH::Perl-&gt;new($host);\n#$ssh-&gt;login($usr,$pwd);\nmy $ssh = Net::SSH::Expect-&gt;new (\n            host =&gt; \"$host\", \n            password=&gt; \"$pwd\", \n            user =&gt; \"$usr\", \n            raw_pty =&gt; 1\n   );\nmy $login_output = $ssh-&gt;login();\n        if ($login_output !~ /Welcome/) {\n            die \"Login has failed. Login output was $login_output\";\n        }\n\n\n\nmy $script = $ssh-&gt;exec(\"script /home/jrivas/script_output.txt\");\nmy $script = $ssh-&gt;exec(\"ls -l /home/jrivas\");\nmy $script = $ssh-&gt;exec(\"ls -a /home/jrivas\");\nmy($out, $err, $exit) = $ssh-&gt;cmd(\"cat script_output.txt\");\nmy $script = $ssh-&gt;exec(\"exit\");\n\n\n#$ssh-&gt;cmd(\"script /home/jrivas/textputq.txt/\");\n#$ssh-&gt;cmd(\"ls -l /home/jrivas\");\n#$ssh-&gt;cmd(\"exit\");\n</code></pre>\n\n<p>So next thing is to get the script_output.txt to save in my computer automatically </p>\n\n<p>Thanks to @zdim for helping me :)</p>\n"}, {"tags": ["perl", "path"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501880198, "post_id": 45514482, "comment_id": 77992131, "body": "You should use modules as in the two answers below, by all means and for a number of reasons.  But just btw, you do realize that you can just parse the string (with regex or split) as well, right?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1501889069, "last_edit_date": 1501889069, "creation_date": 1501876821, "answer_id": 45514639, "question_id": 45514482, "link": "https://stackoverflow.com/questions/45514482/how-do-i-find-two-parent-directories-up-in-perl/45514639#45514639", "title": "how do I find two parent directories up in perl?", "body": "<pre><code>use Path::Class qw( file );\n\nsay file(\"/path/to/here/file.txt\")-&gt;dir-&gt;parent;\n</code></pre>\n\n<p>Note that this does not perform any file-system checks, so it will return <code>/path/to</code> even if <code>/path/to</code> is a symbolic link and thus not truly the parent directory.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1501877718, "last_edit_date": 1501877718, "creation_date": 1501877217, "answer_id": 45514726, "question_id": 45514482, "link": "https://stackoverflow.com/questions/45514482/how-do-i-find-two-parent-directories-up-in-perl/45514726#45514726", "title": "how do I find two parent directories up in perl?", "body": "<p>Using <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow noreferrer\">Path::Tiny</a>:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>$ perl -MPath::Tiny -e 'CORE::say path($ARGV[0])-&gt;parent-&gt;parent' /path/to/here/file.txt\n</code></pre>\n\n<p>This does not perform any file system checks either. Doing it using only <a href=\"https://metacpan.org/pod/File::Spec\" rel=\"nofollow noreferrer\">File::Spec</a> tends to get tedious. I am not positive the following works:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>$ perl -MFile::Spec::Functions=splitpath,catpath,catdir,splitdir -e \\\n '($v, $d) = splitpath($ARGV[0]); @d = splitdir $d; splice @d, -2;  \\\n CORE::say catpath($v, catdir (@d))' /path/to/here/file.txt\n</code></pre>\n"}], "owner": {"reputation": 700, "user_id": 8103888, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-xu4VRNb-T-s/AAAAAAAAAAI/AAAAAAAAAFE/6z7RVchH6Z4/photo.jpg?sz=128", "display_name": "Adam Price", "link": "https://stackoverflow.com/users/8103888/adam-price"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 1, "accepted_answer_id": 45514639, "answer_count": 2, "score": 3, "last_activity_date": 1501889069, "creation_date": 1501876172, "last_edit_date": 1501877829, "question_id": 45514482, "link": "https://stackoverflow.com/questions/45514482/how-do-i-find-two-parent-directories-up-in-perl", "title": "how do I find two parent directories up in perl?", "body": "<p>I have a path: <code>/path/to/here/file.txt</code>.</p>\n\n<p>I want to get <code>/path/to/</code></p>\n\n<p>Using</p>\n\n<pre><code> my ($file, $dir) = fileparse($fullPath);\n</code></pre>\n\n<p>I can get <code>file.txt</code> and <code>/path/to/here/</code></p>\n\n<p>How do I get just <code>/path/to/</code>?</p>\n"}, {"tags": ["regex", "perl", "hash", "count"], "comments": [{"owner": {"reputation": 459, "user_id": 5429506, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d940122d0d57d9a8b1a226188db0a913?s=128&d=identicon&r=PG&f=1", "display_name": "digitaLink", "link": "https://stackoverflow.com/users/5429506/digitalink"}, "edited": false, "score": 1, "creation_date": 1501875661, "post_id": 45514295, "comment_id": 77990036, "body": "Does this help? <a href=\"https://stackoverflow.com/questions/6969208/help-understanding-global-flag-in-perl\" title=\"help understanding global flag in perl\">stackoverflow.com/questions/6969208/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501876925, "post_id": 45514388, "comment_id": 77990671, "body": "<code>if (&#47;&#47;g)</code> makes no sense! (Well, if makes sense if you have an unrolled <code>while (&#47;&#47;g)</code>, but that&#39;s not the case here.)"}, {"owner": {"reputation": 947, "user_id": 1491388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a2f567511eec7b3a049b0b2fd144e6?s=128&d=identicon&r=PG", "display_name": "combatc2", "link": "https://stackoverflow.com/users/1491388/combatc2"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501877192, "post_id": 45514388, "comment_id": 77990799, "body": "I didn&#39;t mean literally &quot;//g&quot;, I mean&#39;t &quot;/gi&quot; which I thought was obvious from the code sample - I&#39;ve updated my answer to reflect this."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501879167, "post_id": 45514388, "comment_id": 77991649, "body": "You missed the point. <code>if($_ =~ &#47;(warning|error)&#47;gi)</code> makes absolutely no sense."}], "tags": [], "owner": {"reputation": 947, "user_id": 1491388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a2f567511eec7b3a049b0b2fd144e6?s=128&d=identicon&r=PG", "display_name": "combatc2", "link": "https://stackoverflow.com/users/1491388/combatc2"}, "is_accepted": false, "score": 0, "last_activity_date": 1501877132, "last_edit_date": 1501877132, "creation_date": 1501875768, "answer_id": 45514388, "question_id": 45514295, "link": "https://stackoverflow.com/questions/45514295/regex-in-perl-only-counting-first-instance/45514388#45514388", "title": "RegEx in perl only counting first instance", "body": "<p>I think you're missing the \"g\" (global) modifier - have you tried (g in bold):\nif($_ =~ /(warning|error)/<strong>g</strong>i){</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1501876177, "creation_date": 1501876177, "answer_id": 45514487, "question_id": 45514295, "link": "https://stackoverflow.com/questions/45514295/regex-in-perl-only-counting-first-instance/45514487#45514487", "title": "RegEx in perl only counting first instance", "body": "<p>You simply check for the presence of <code>warning</code> or <code>error</code>. If both can occur in <code>$_</code>, or if they can occur more than once, you will need to do more.</p>\n\n<pre><code>for (@logs) {\n   ++$faultCodes{ WARNING } while /warning/gi;\n   ++$faultCodes{ ERROR   } while /error/gi;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>for (@logs) {\n   $faultCodes{ WARNING } += () = /warning/gi;\n   $faultCodes{ ERROR   } += () = /error/gi;\n}\n</code></pre>\n\n<p>In the first snippet, we use <code>//g</code> in scalar context to iterate over all the matches, incrementing the counter for each match.</p>\n\n<p>In the second snippet, we use <code>//g</code> in list context to get all the matches, then use list-assignment in scalar context to count them.</p>\n"}], "owner": {"reputation": 13, "user_id": 8419064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/164ac21969ccc625c93eacdd05d778f5?s=128&d=identicon&r=PG&f=1", "display_name": "SWarner", "link": "https://stackoverflow.com/users/8419064/swarner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 45514487, "answer_count": 2, "score": 1, "last_activity_date": 1501916603, "creation_date": 1501875457, "last_edit_date": 1501916603, "question_id": 45514295, "link": "https://stackoverflow.com/questions/45514295/regex-in-perl-only-counting-first-instance", "title": "RegEx in perl only counting first instance", "body": "<p>I have a <code>foreach</code> loop to iterate through my log file. With what I have, it will only accept the first accepted instance of the Regular Expression before moving on to the next line.</p>\n\n<p>I am trying to count every instance of either Warning or Error and save the count to a hash table. As of right now I can only get 1 instance from each line stored. </p>\n\n<pre><code>foreach $_(@logs){\n\n    #regex to find instances of Warning/Error\n    if($_ =~ /(warning|error)/i){\n\n        #adding count to either Warning/Error\n        if($1 eq \"Warning\" or $1 eq \"warning\"){\n            $faultCodes{\"WARNING\"} += 1;\n        }\n        else{\n            $faultCodes{\"ERROR\"} += 1;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "module", "perl-module"], "answers": [{"tags": [], "owner": {"reputation": 11684, "user_id": 1990570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B1hso.png?s=128&g=1", "display_name": "tobyink", "link": "https://stackoverflow.com/users/1990570/tobyink"}, "is_accepted": false, "score": 4, "last_activity_date": 1501876739, "creation_date": 1501876739, "answer_id": 45514617, "question_id": 45514162, "link": "https://stackoverflow.com/questions/45514162/splitting-perl-module-into-multiple-files/45514617#45514617", "title": "Splitting perl module into multiple files", "body": "<blockquote>\n  <p>The issue I'm having is getting the variables to be seen across the separate files. </p>\n</blockquote>\n\n<p>Your best option is to stop wanting that.</p>\n\n<p>The whole point of lexical variables is for them to be accessible in only a small locally visible bit of code. A variable that needs to be accessed from multiple different files is a sign of \"code smell\".</p>\n\n<p>If you're really sure you want this though\u2026</p>\n\n<blockquote>\n  <p>I tried to declare them using 'our', but then I have to use the scope resolution operator which I don't want to do. </p>\n</blockquote>\n\n<p>Yes, this should work, but you need to declare the variable at the top of <em>each file</em> you use it in.</p>\n\n<pre><code># ABC_part_1.pm\npackage ABC;\nour $foo;\n\n# code that accesses $foo goes here\n\n1;\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code># ABC_part_2.pm\npackage ABC;\nour $foo;\n\n# code that accesses $foo goes here\n\n1;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501877919, "post_id": 45514868, "comment_id": 77991089, "body": "The top part of my answer is the <i>technically this is possible</i> thing. But please, <b>do not use that</b>. The second part is what you should be doing. Or if you don&#39;t like that, do what Toby is saying."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1501879651, "post_id": 45514868, "comment_id": 77991881, "body": "@zebramints  This is a lot of really good advice, the second part, and I don&#39;t know how to support it enough.  If I had to say <i>one</i> thing, I&#39;d say create separate modules of logically related subs. If that&#39;s unsuitable either just nicely organize and document one module or make it a class (or a hierarchy or classes). You <i>are</i> trying to modularize your module, so to say, and variables seen across multiple files work <i>against that</i>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1501877866, "creation_date": 1501877866, "answer_id": 45514868, "question_id": 45514162, "link": "https://stackoverflow.com/questions/45514162/splitting-perl-module-into-multiple-files/45514868#45514868", "title": "Splitting perl module into multiple files", "body": "<p>You can make your ABC.pm file a collection of <code>require</code> statements. </p>\n\n<pre><code>package ABC;\n\nrequire ABC1;\nrequire ABC2;\nrequire ABC3;\n\n1;\n</code></pre>\n\n<p>It's important to work with <code>require</code> instead of <code>use</code>, because <code>use</code> will try to import things automatically. But that will not work since there is no <code>package ABC1</code> in your ABC1.pm file, so <code>ABC1-&gt;import</code> will fail.</p>\n\n<p>Regarding the variables, there's really no way to get lexical variables into different files. You <em>could</em> use <code>do</code> instead of <code>require</code>, which would read and run the files directly in the line with the <code>do</code>. That way, the scope would stay the same, and you could have this.</p>\n\n<pre><code>package ABC;\n\nmy $foo;\nmy $bar;\n\ndo 'lib/ABC1.pm';\ndo 'lib/ABC2.pm';\n</code></pre>\n\n<hr>\n\n<p><strong>Please do not do this. It's crazy!</strong></p>\n\n<p>If you feel that your library is getting too big, first add proper documentation to every function, and sort so that things that belong together are together. If that does not help you, split up the file into smaller logical units and make those individual packages that talk to each other through a defined interface, but also are able to stand alone where needed.</p>\n\n<p>If repeating a bunch of <code>use</code> statements feels like too much boiler plate, write your own module collection (like strictures) using <a href=\"https://metacpan.org/pod/Import::Into\" rel=\"nofollow noreferrer\">Import::Into</a>.</p>\n\n<p>Furthermore, don't use lexical variables in the file scope. If you want to have state for things, create object oriented code and write classes. Then you'll have state and behavior. If you have package/class data, use package variables.</p>\n\n<p>Perl doesn't have the concept of private things for a reason. There are conventions in place to mark things as private, like naming them <code>_stuff</code> with a leading underscore. That's a sign for everyone that this is internal, not a stable API, might change at any moment and shouldn't be messed with. Do that, instead of trying to hide things. It's a strength of Perl to allow you to mess with everything. But that doesn't mean you <em>have to do it</em>. It's an option that you should embrace.</p>\n"}], "owner": {"reputation": 21, "user_id": 7765516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e451071a5d91731602c5fad30441de88?s=128&d=identicon&r=PG&f=1", "display_name": "zebramints", "link": "https://stackoverflow.com/users/7765516/zebramints"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1501877866, "creation_date": 1501874800, "last_edit_date": 1501876801, "question_id": 45514162, "link": "https://stackoverflow.com/questions/45514162/splitting-perl-module-into-multiple-files", "title": "Splitting perl module into multiple files", "body": "<p>I'm a perl newbie who is working on a module that is getting quite long and I want to split it into multiple files for easier maintainability and organization. Right now it looks something like this</p>\n\n<pre><code>#ABC.pm\npackage ABC;\n\nuse strict;\nuse warnings;\n\nmy $var1;\nmy $var2;\n\nsub func1 {\n    #some operations on a $var\n}\n\nsub func2 {\n    #some operations on a $var\n}\n\nreturn 1;\n</code></pre>\n\n<p>I'd like it to look something like</p>\n\n<pre><code>#ABC_Part_1.pm\npackage ABC;\n\nuse strict;\nuse warnings;\n\nmy $var1;\nmy $var2;\n\nsub func1 {\n    #some operations on a $var\n}\n\nreturn 1;\n</code></pre>\n\n<hr>\n\n<pre><code>#ABC_Part_2.pm\npackage ABC;\n\nuse strict;\nuse warnings;\n\nsub func2 {\n    #some operations on a $var\n}\n\nreturn 1;\n</code></pre>\n\n<p>The issue I'm having is getting the variables to be seen across the separate files. I tried to declare them using 'our', but then I have to use the scope resolution operator which I don't want to do. I'd like to treat them as local variables within the module files, but have them hidden to the calling script. I'd also like to only have one include in the calling script, like</p>\n\n<pre><code>#!/usr/bin/env perl\n#script.pl\n\nuse strict;\nuse warnings;\nuse ABC;\n\nfunc1();\nfunc2();\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "tomcat", "xampp", "web.xml"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501873968, "post_id": 45513673, "comment_id": 77989160, "body": "From what I understand from that forum is that you need to use the servlet that&#39;s already there in the web.xml file. But then that post is over 10 years old. Stuff might have changed."}, {"owner": {"reputation": 21, "user_id": 8394453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c449eb86c5d11a03ea129fe74d413158?s=128&d=identicon&r=PG&f=1", "display_name": "Imogene", "link": "https://stackoverflow.com/users/8394453/imogene"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501874391, "post_id": 45513673, "comment_id": 77989384, "body": "There are two web.xml files in play.  The one in tomcat/conf is set up with the servlet &#39;cgi&#39; pointing to the class CGIServlet.  I&#39;m talking about the web application&#39;s specific web.xml, the one located in tomcat/webapps/project_name/WEB-INF.  Should that reference the same servlet?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501874626, "post_id": 45513673, "comment_id": 77989494, "body": "Based on both links I don&#39;t think you actually need that second file at all."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8394453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c449eb86c5d11a03ea129fe74d413158?s=128&d=identicon&r=PG&f=1", "display_name": "Imogene", "link": "https://stackoverflow.com/users/8394453/imogene"}, "is_accepted": true, "score": 0, "last_activity_date": 1502127469, "creation_date": 1502127469, "answer_id": 45552682, "question_id": 45513673, "link": "https://stackoverflow.com/questions/45513673/web-xml-content-for-perl-application-on-tomcat/45552682#45552682", "title": "Web.xml content for Perl application on Tomcat", "body": "<p>Simbabque's response was right on target.  I DO need the application-specific web.xml, for other reasons, so the answer was to move the &lt;servlet> and &lt;servlet-mapping> tags from the conf/web.xml to the application-specific WEB-INF/web.xml.</p>\n"}], "owner": {"reputation": 21, "user_id": 8394453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c449eb86c5d11a03ea129fe74d413158?s=128&d=identicon&r=PG&f=1", "display_name": "Imogene", "link": "https://stackoverflow.com/users/8394453/imogene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 45552682, "answer_count": 1, "score": 1, "last_activity_date": 1502127469, "creation_date": 1501872564, "question_id": 45513673, "link": "https://stackoverflow.com/questions/45513673/web-xml-content-for-perl-application-on-tomcat", "title": "Web.xml content for Perl application on Tomcat", "body": "<p>I have a Perl application which I am moving from the Apache server to the Tomcat server in xampp 7.1.7.  I have followed the following:</p>\n\n<ul>\n<li><a href=\"http://www.wellho.net/forum/Perl-Programming/Running-Perl-CGI-scripts-under-Apache-Tomcat.html\" rel=\"nofollow noreferrer\">http://www.wellho.net/forum/Perl-Programming/Running-Perl-CGI-scripts-under-Apache-Tomcat.html</a></li>\n<li><a href=\"https://tomcat.apache.org/tomcat-7.0-doc/cgi-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/cgi-howto.html</a></li>\n</ul>\n\n<p>And one tiny detail is eluding me.  What is the content of the web.xml in the webapps/project_name/WEB-INF supposed to look like?  There is no java servlet.  This is 100% Perl.  The reason I'm running it under Tomcat is that my SSO authentication runs as an authentication filter configured in the application web.xml file.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1501859890, "post_id": 45510302, "comment_id": 77981834, "body": "The easiest way to check if something is installed is to run <code>$ perl -MSpreadsheet::WriteExcel\\ 999</code>. It will either complain that it can&#39;t load it, or complain that it cannot load version 999, and tell you which version it has instead. Note the blank space after the backslash."}, {"owner": {"reputation": 1354, "user_id": 1007709, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iuIAp.jpg?s=128&g=1", "display_name": "jmcneirney", "link": "https://stackoverflow.com/users/1007709/jmcneirney"}, "edited": false, "score": 0, "creation_date": 1501861767, "post_id": 45510302, "comment_id": 77982883, "body": "I&#39;m pretty sure I&#39;ve seen modules with <code>VERSION</code> numbers as some form of a date, similar to &#39;2016_12_04&#39;, which wouldn&#39;t complain. I use the method you mentioned above but with a bunch more 9s."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1501864864, "post_id": 45510302, "comment_id": 77984538, "body": "@Sinan&#220;n&#252;r true, that would save one ugly character. :)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501880724, "post_id": 45510302, "comment_id": 77992343, "body": "@Sinan&#220;n&#252;r <code>=</code> is more error prone in that it only works if the module&#39;s import() function does version checking if it sees a version (as Exporter does).  The space makes Perl call VERSION in addition to import, which is the most correct thing to do"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1501882495, "post_id": 45510302, "comment_id": 77992976, "body": "@ysth Thank you for the correction."}], "answers": [{"comments": [{"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1501860504, "post_id": 45510383, "comment_id": 77982190, "body": "I get this <code>Can&#39;t locate Spreadsheet&#47;WriteExcel.pm in @INC (@INC contains: &#47;usr&#47;perl5&#47;5.8.4&#47;lib&#47;sun4-solaris-64int &#47;usr&#47;perl5&#47;5.8.4&#47;lib &#47;usr&#47;perl5&#47;site_perl&#47;5.8.4&#47;sun4-solaris-64int &#47;usr&#47;perl5&#47;site_perl&#47;5.8.4 &#47;usr&#47;perl5&#47;site_perl &#47;usr&#47;perl5&#47;vendor_perl&#47;5.8.4&#47;sun4-solaris-64int &#47;usr&#47;perl5&#47;vendor_perl&#47;5.8.4 &#47;usr&#47;perl5&#47;vendor_perl .) at -e line 1. BEGIN failed--compilation aborted at -e line 1.</code>"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1501862217, "post_id": 45510383, "comment_id": 77983138, "body": "Then it is not installed"}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1503239888, "post_id": 45510383, "comment_id": 78523879, "body": "I don&#39;t think so  as I ran perl -e &quot;use DBI&quot; and i got the same error  Can&#39;t locate DBI.pm in @INC isn&#39;t the DBI comes by default with the perl ? I went to the lib folder of my perl but dont see DBI there .Being new to perl learning  I am totally confused"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1503241109, "post_id": 45510383, "comment_id": 78524307, "body": "@Vicky No, DBI does not come with the standard perl distribution."}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1503241227, "post_id": 45510383, "comment_id": 78524340, "body": "@melpomene : can you help me locate it ? I know it is installed in my system but I just cannot hapen to locate it ?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1503241252, "post_id": 45510383, "comment_id": 78524347, "body": "@Vicky Why do you think it is installed on your system?"}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1503241319, "post_id": 45510383, "comment_id": 78524370, "body": "@melpomene: because code written by other users using these modules works perfectly"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1503241377, "post_id": 45510383, "comment_id": 78524393, "body": "@Vicky How are you running that other code?"}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1503241431, "post_id": 45510383, "comment_id": 78524411, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/152387/discussion-between-vicky-and-melpomene\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 1, "last_activity_date": 1501859982, "creation_date": 1501859982, "answer_id": 45510383, "question_id": 45510302, "link": "https://stackoverflow.com/questions/45510302/cannot-locate-modules-in-the-lib-folder-spreadsheetwriteexcel-and-dbi-despite/45510383#45510383", "title": "Cannot locate modules in the lib folder Spreadsheet::WriteExcel and DBI despite they exist", "body": "<p>Run <code>perl -e \"use Spreadsheet::WriteExcel\"</code> \nif it is installed you do not get an error. </p>\n"}, {"comments": [{"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1503402326, "post_id": 45510492, "comment_id": 78590693, "body": "I was able to find out the location  for all the modules installed , the path was mentioned in the PATHLIB variable , when I echoed it I got the location, to execute any perl program I think I need to initialize PATHLIB before executing on my system."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1501880815, "last_edit_date": 1501880815, "creation_date": 1501860310, "answer_id": 45510492, "question_id": 45510302, "link": "https://stackoverflow.com/questions/45510302/cannot-locate-modules-in-the-lib-folder-spreadsheetwriteexcel-and-dbi-despite/45510492#45510492", "title": "Cannot locate modules in the lib folder Spreadsheet::WriteExcel and DBI despite they exist", "body": "<p>You may have multiple versions of perl present on your system, each of which will look in different places and have different sets of installed modules.</p>\n\n<p>Use the same perl interpreter as your code does and you should be able to verify that it is there with:</p>\n\n<pre><code>/path-to-that-perl/perl -le'use Spreadsheet::WriteExcel; print $INC{\"Spreadsheet/WriteExcel.pm\"}'\n</code></pre>\n\n<p>There should also be a perldoc installed there that will look in the same places:</p>\n\n<pre><code>/path-to-that-perl/perldoc -lm Spreadsheet::WriteExcel\n</code></pre>\n\n<p>It is also possible, though less likely, that the code in question is adding additional directories to <code>@INC</code> that says where perl will look for modules, via the -I switch, <code>use lib</code>, <code>PERL*</code> environment variables, a sitecustomize script, or directly modifying <code>@INC</code>.</p>\n"}], "owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "closed_date": 1501862995, "accepted_answer_id": 45510492, "answer_count": 2, "score": 1, "last_activity_date": 1503240240, "creation_date": 1501859720, "last_edit_date": 1503240240, "question_id": 45510302, "link": "https://stackoverflow.com/questions/45510302/cannot-locate-modules-in-the-lib-folder-spreadsheetwriteexcel-and-dbi-despite", "closed_reason": "Duplicate", "title": "Cannot locate modules in the lib folder Spreadsheet::WriteExcel and DBI despite they exist", "body": "<p>How do I check if   Spreadsheet::WriteExcel is available in my Perl ? </p>\n\n<p>I ran  </p>\n\n<pre><code>  perldoc -v Spreadsheet::WriteExcel \n</code></pre>\n\n<p>and got the following output which suggests no  Spreadsheet::WriteExcel on  my perl </p>\n\n<pre><code>/usr/local/bin/perldoc =&gt; Pod::Perldoc v3.13\n\nFormatter class Pod::Perldoc::ToMan successfully loaded!\nWill format with the class Pod::Perldoc::ToMan\nSearching for Spreadsheet::WriteExcel\nLooking for Spreadsheet/WriteExcel in /opt/SYSperl/bin /opt/SYSperl/lib/5.8.6/sun4-solaris /opt/SYSperl/lib/5.8.6 /opt/SYSperl/lib/site_perl/5.8.6/sun4-solaris /opt/SYSperl/lib/site_perl/5.8.6 /opt/SYSperl/lib/site_perl . /opt/pgti/ixp/bin /opt/pgti/ixp/bin /opt/pgti/ixp/bin /opt/CA/uajm/elp/autosys/bin /usr/openwin/bin /usr/bin /usr/ccs/bin /usr/local/bin /opt/RFMadmin/exe /opt/RFMadmin/bin . /apps/risk/bin\nNo documentation found for \"Spreadsheet::WriteExcel\".\n</code></pre>\n\n<p>But I saw a code using below line and other functions , working fine on my system</p>\n\n<pre><code>$workbook = Spreadsheet::WriteExcel-&gt;new($file);`enter code here`\n</code></pre>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1501857474, "post_id": 45509476, "comment_id": 77980130, "body": "You probably need the <code>use utf8</code> pragma because your source code contains utf8 encoded data, and you might need to set the handle that you are writing <code>$xml</code> to to <code>binmode</code>. I&#39;m assuming this is in a CGI program, so you&#39;d have to do <code>binmode STDOUT</code> at the very least. Furthermore, make sure your XML has the correct charset information. Without a little more information about your program it&#39;s hard to say though. You could create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reproduces this."}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501857660, "post_id": 45509476, "comment_id": 77980266, "body": "Isnt there a library for encoding? I shouldn&#39;t have to do all this. I should be able to pass this character through some sort of encoding manipulation and not have to modify the architecture of my code."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1501857819, "post_id": 45509476, "comment_id": 77980395, "body": "You don&#39;t need a library. You need to write your program correctly. If your source code contains utf8 characters, you need to tell Perl about that. Of course you could convert every character to html entities with some library, but then you do not need CDATA. The idea of that thing is that you can have literally whatever you want inside it. But you need to tell Perl what encoding your output has. That&#39;s completely unrelated to your <i>architecture</i>. Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. With the current description it&#39;s impossible to answer your question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1501869783, "post_id": 45509476, "comment_id": 77987086, "body": "What @simbabque is telling you is that you need things like <code>use utf8;</code> (for characters literaly typed in your source) and <code>use open &#39;:std&#39;, &#39;:encoding(UTF-8)&#39;;</code> (or binmode) for I/O (and probably nothing else).  These are the &quot;libraries&quot; you ask about, but again as simbabque says it amounts to writing the program correctly. Please post your code."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1502133295, "post_id": 45509476, "comment_id": 78068210, "body": "Or, as <a href=\"https://stackoverflow.com/a/45518232/4653379\">xxfelixxx shows</a>, using the right tool for the task itself (XML here) is enough."}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1501907610, "creation_date": 1501907610, "answer_id": 45518232, "question_id": 45509476, "link": "https://stackoverflow.com/questions/45509476/convert-weird-character-in-perl/45518232#45518232", "title": "convert weird character in perl", "body": "<p>Add the encoding information to the start of the XML string:</p>\n\n<p><strong>xml_example.pl</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\nuse XML::LibXML;\n\nmy $xml = '&lt;?xml version=\"1.0\" encoding=\"utf8\"?&gt;' . \"\\n\";\n$xml   .= \"&lt;author initial=\\\"EM\\\"&gt;&lt;![CDATA[E=MC\u00c2\u00b2]]&gt;&lt;/author&gt;\\n\";\n\nmy $dom;\neval {\n    $dom = XML::LibXML-&gt;load_xml( string =&gt; $xml );\n};\n\nif ($@) {\n    print \"ERROR: \" . $@;\n} else {\n    print $dom-&gt;toString();\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf8\"?&gt;\n&lt;author initial=\"EM\"&gt;&lt;![CDATA[E=MC\u00c2\u00b2]]&gt;&lt;/author&gt;\n</code></pre>\n"}], "owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501907610, "creation_date": 1501857222, "question_id": 45509476, "link": "https://stackoverflow.com/questions/45509476/convert-weird-character-in-perl", "title": "convert weird character in perl", "body": "<p>I have the following character:</p>\n\n<pre><code>E=MC\u00c2\u00b2\n</code></pre>\n\n<p>I have the following code:</p>\n\n<pre><code>$xml.=\"      &lt;author initial=\\\"EM\\\"&gt;&lt;![CDATA[E=MC\u00c2\u00b2]]&gt;&lt;/author&gt;\\n\";\n</code></pre>\n\n<p>For some reason, when I try to use this inside XML it throws this:</p>\n\n<pre><code>This page contains the following errors:\n\nerror on line 897 at column 36: Encoding error\n</code></pre>\n\n<p>I'm using <code>perl</code> to handle the XML translation.</p>\n\n<p>What do I need to do in the <code>perl</code> code that fixes this? </p>\n\n<p><strong>I have no clue how to code this since im still fairly new to perl else i'd post what ive done</strong></p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 4, "last_activity_date": 1501856587, "creation_date": 1501856587, "answer_id": 45509277, "question_id": 45509077, "link": "https://stackoverflow.com/questions/45509077/what-is-0-a-number-prefixed-with-a-backslash-in-perl/45509277#45509277", "title": "What is \\0 (a number prefixed with a backslash) in Perl?", "body": "<p>These two specific values are <a href=\"http://p3rl.org/JSON#other-references\" rel=\"nofollow noreferrer\">special cases</a> in the JSON family of modules, and serialise to <code>false</code> and <code>true</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 1, "creation_date": 1501858429, "post_id": 45509361, "comment_id": 77980849, "body": "and same with \\0 ?"}, {"owner": {"reputation": 1354, "user_id": 1007709, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iuIAp.jpg?s=128&g=1", "display_name": "jmcneirney", "link": "https://stackoverflow.com/users/1007709/jmcneirney"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1501859184, "post_id": 45509361, "comment_id": 77981375, "body": "Yes.  Try <code>perl -e &#39;my $zero = \\0; print $zero . &quot;\\n&quot;; print $$zero . &quot;\\n&quot;;&#39;</code> from the command line to see what they&#39;re printing and play around with different values for <code>$zero</code>."}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 1, "creation_date": 1501859384, "post_id": 45509361, "comment_id": 77981511, "body": "understood but what is the use of using such statements .Is there any programming benefit , Why not just use simple 0 and 1 for success and failure?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1501861034, "post_id": 45509361, "comment_id": 77982483, "body": "I think some JSON modules produce <code>false</code> and <code>true</code> for <code>\\0</code> and <code>\\1</code>. They couldn&#39;t use numbers or strings because that would prevent people from generating JSON that included those numbers or strings."}], "tags": [], "owner": {"reputation": 1354, "user_id": 1007709, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iuIAp.jpg?s=128&g=1", "display_name": "jmcneirney", "link": "https://stackoverflow.com/users/1007709/jmcneirney"}, "is_accepted": true, "score": 3, "last_activity_date": 1501857523, "last_edit_date": 1501857523, "creation_date": 1501856845, "answer_id": 45509361, "question_id": 45509077, "link": "https://stackoverflow.com/questions/45509077/what-is-0-a-number-prefixed-with-a-backslash-in-perl/45509361#45509361", "title": "What is \\0 (a number prefixed with a backslash) in Perl?", "body": "<p><code>\\1</code> creates a reference to a scalar. Print <code>$SUCCESS</code> and you'll see <code>SCALAR(0xb83938)</code> or something similar. In order to get the value try printing <code>$$SUCCESS</code> and you should get the value of the variable.</p>\n"}], "owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 1, "accepted_answer_id": 45509361, "answer_count": 2, "score": 1, "last_activity_date": 1506974455, "creation_date": 1501856100, "last_edit_date": 1506974455, "question_id": 45509077, "link": "https://stackoverflow.com/questions/45509077/what-is-0-a-number-prefixed-with-a-backslash-in-perl", "title": "What is \\0 (a number prefixed with a backslash) in Perl?", "body": "<p>I saw a piece of code in Perl as below:</p>\n\n<pre><code>my $SUCCESS = \\0;\nmy $FAILURE = \\1;\n</code></pre>\n\n<p>It is an assignment and I cannot understand the significance of \\1 and \\0. </p>\n"}, {"tags": ["c++", "regex", "perl", "boost"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501846263, "post_id": 45504163, "comment_id": 77971992, "body": "All this Perl code does is assign the return value of the pattern match to the <code>$match</code> variable. It&#39;s either <code>1</code> or the empty string <code>&quot;&quot;</code>. There&#39;s nothing Perl-specific in the pattern. It has a beginning of string anchor and a <code>&#47;i</code> flag. Those are both very generic and should be implemented in any regex engine. What&#39;s your problem here? What do you expect to happen? What is really happening? Please <a href=\"https://stackoverflow.com/posts/45504163/edit\">edit</a> your question and be more specific."}, {"owner": {"reputation": 21, "user_id": 1891043, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ac9303a9c48c77a15fe359f20d26dee1?s=128&d=identicon&r=PG", "display_name": "apotropaic", "link": "https://stackoverflow.com/users/1891043/apotropaic"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501854087, "post_id": 45504163, "comment_id": 77977522, "body": "@simbabque edited the question with more details."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501854339, "post_id": 45504163, "comment_id": 77977722, "body": "What does that <code>eval</code> in the Perl code have to do with it? I have no clue what this <i>boost</i> thing is, but I guess your pattern is wrong. If this <i>boost</i> regex implementation has a debug mode, turn it on, and look at the output."}, {"owner": {"reputation": 21, "user_id": 1891043, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ac9303a9c48c77a15fe359f20d26dee1?s=128&d=identicon&r=PG", "display_name": "apotropaic", "link": "https://stackoverflow.com/users/1891043/apotropaic"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501854962, "post_id": 45504163, "comment_id": 77978218, "body": "eval is the function to evaluate the expression. Boost is the extension C++ library to implement advanced features like regex. Pattern is correct only, you can check by running the programs. <a href=\"https://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/eval.html</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501856354, "post_id": 45504163, "comment_id": 77979374, "body": "The <code>eval</code> has nothing to do with the pattern match. The <code>=~</code> operator is doing the pattern match, and the <code>m&#47;&#47;</code> constructs a pattern. <code>eval</code> in the way you are using it is doing a <a href=\"https://en.wikipedia.org/wiki/Eval\" rel=\"nofollow noreferrer\">string eval</a>. You do not have a string eval in your CPP code, and you don&#39;t need one if all you want to do is a pattern match."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1501857146, "post_id": 45509445, "comment_id": 77979904, "body": "I got all of this from just reading the documentation, which I googled."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501870523, "post_id": 45509445, "comment_id": 77987435, "body": "And it&#39;s all good.  The <code>boost</code> is a major and very respected set of very well rounded libraries, many of which practically extend the language and  often fortell what is getting into next standards."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1501857127, "creation_date": 1501857127, "answer_id": 45509445, "question_id": 45504163, "link": "https://stackoverflow.com/questions/45504163/how-to-do-boost-perl-regex-matching-having-support-for-case-sensitive-insensitiv/45509445#45509445", "title": "how to do boost perl regex matching having support for case sensitive/insensitive", "body": "<p>According to <a href=\"http://www.boost.org/doc/libs/1_64_0/libs/regex/example/snippets/regex_match_example.cpp\" rel=\"nofollow noreferrer\">this example in the documentation</a> of the Boost regex feature, the pattern should not have slashes around it, and you cannot pass flags to the pattern within the pattern string like you would with the pattern creation operator <code>m//</code> in Perl.</p>\n\n<pre><code>regex expression(\"^([0-9]+)(\\\\-| |$)(.*)$\");\n</code></pre>\n\n<p><a href=\"http://www.boost.org/doc/libs/1_64_0/libs/regex/doc/html/boost_regex/syntax/perl_syntax.html\" rel=\"nofollow noreferrer\">Boost's documentation about PCRE</a> says that by default, the pattern is case-sensitive. This supports my assumption that you cannot pass a flag like <code>/i</code> within the pattern itself. Instead, you need to pass it as a flag as the second argument to the pattern constructor as shown in the <a href=\"http://www.boost.org/doc/libs/1_64_0/libs/regex/doc/html/boost_regex/syntax/perl_syntax.html#boost_regex.syntax.perl_syntax.synopsis\" rel=\"nofollow noreferrer\">SYNOPSIS</a>.</p>\n\n<pre><code>// e2 a case insensitive Perl regular expression:\nboost::regex e2(my_expression, boost::regex::perl|boost::regex::icase);\n</code></pre>\n\n<p>A full list of those flags for PCRE within Boost is available <a href=\"http://www.boost.org/doc/libs/1_64_0/libs/regex/doc/html/boost_regex/ref/syntax_option_type/syntax_option_type_perl.html\" rel=\"nofollow noreferrer\">here</a>. Note that not all of these map to actual modifier flags that can be on <code>m//</code> or <code>s///</code> in current Perls as described in <a href=\"http://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\">perlre</a>. That's because <a href=\"http://www.pcre.org/\" rel=\"nofollow noreferrer\">PCRE</a> is <strong>not</strong> Perl, but rather the <em>Perl Compatible Regex Engine</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 322, "user_id": 8419020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dkUE9.png?s=128&g=1", "display_name": "Simerax", "link": "https://stackoverflow.com/users/8419020/simerax"}, "is_accepted": false, "score": 1, "last_activity_date": 1501876080, "creation_date": 1501876080, "answer_id": 45514463, "question_id": 45504163, "link": "https://stackoverflow.com/questions/45504163/how-to-do-boost-perl-regex-matching-having-support-for-case-sensitive-insensitiv/45514463#45514463", "title": "how to do boost perl regex matching having support for case sensitive/insensitive", "body": "<p>There is a Standard Regex mechanism since C++11.\nI personally would prefer this over boost or any other third party library. Of course that's only my own opinion.</p>\n\n<p>If you want to use the utilities provided with C++11 you could do the following</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;regex&gt;\n\nint main(int argc, char** argv)\n{\n  std::string input = \"rst\";\n  std::regex regex_pattern(\"^rst\", std::regex_constants::icase); // use ::icase to make the matching case insensitive like /i in perl\n\n  if ( std::regex_match(input, regex_pattern) )\n  {\n    std::cout &lt;&lt; \"matched!\\n\";\n  }\n  else\n  {\n    std::cout &lt;&lt; \"not matched!\\n\";\n  }\n\n  return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 1891043, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ac9303a9c48c77a15fe359f20d26dee1?s=128&d=identicon&r=PG", "display_name": "apotropaic", "link": "https://stackoverflow.com/users/1891043/apotropaic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1501876080, "creation_date": 1501841720, "last_edit_date": 1501854349, "question_id": 45504163, "link": "https://stackoverflow.com/questions/45504163/how-to-do-boost-perl-regex-matching-having-support-for-case-sensitive-insensitiv", "title": "how to do boost perl regex matching having support for case sensitive/insensitive", "body": "<p>I want to implement following perl evaluation in boost regex or any other alternative in cpp.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $regex_pattern = \"/^rst/i\";\nmy $name = \"rst\";\nmy $match;\nmy $tmpRegExp = \"\\$match = (\\$name =~ $regex_pattern);\";\neval ($tmpRegExp);\n\nif(!$match) {\n    print \"not matched\\n\";\n} else {\n    print \"matched\\n\";\n}\n</code></pre>\n\n<p><em>Perl coutput</em></p>\n\n<pre><code>% perl perl_regex.pl \nmatched\n</code></pre>\n\n<p>I tried by below sample code</p>\n\n<pre><code>#include &lt;boost/regex.hpp&gt;\n#include &lt;string&gt;\n#include &lt;iostream&gt;\nint main()\n{\n    std::string regex_pattern(\"/^rst/i\");\n    std::string name(\"rst\");\n    boost::regex regex_expr(regex_pattern, boost::regex::perl);\n    bool match = boost::regex_search(name, regex_expr);\n    if(match)\n       std::cout &lt;&lt; \"matched\" &lt;&lt; std::endl;\n    else\n       std::cout &lt;&lt; \"not matched\" &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p><em>C++ Output</em></p>\n\n<pre><code>% g++ boost_regex.cpp -l boost_regex  \n% ./a.out  \nnot matched\n</code></pre>\n\n<p>But this is not working as expected. I expected \"<strong>matched</strong>\" shall be the result for boost version also. this regex_pattern is a perl regex user variable. \nCan someone help, where is the mistake?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1501841353, "post_id": 45503897, "comment_id": 77968684, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5884401/perl-find-duplicate-lines-in-file-or-array\" title=\"perl find duplicate lines in file or array\">stackoverflow.com/questions/5884401/&hellip;</a>"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1501846369, "post_id": 45503897, "comment_id": 77972057, "body": "Is it a one line file? If not, do you want to remove dups that exist on different lines?"}, {"owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1501849447, "post_id": 45503897, "comment_id": 77974176, "body": "yes @Toto, this may be a single or multiple line file. Idea is to remove duplicate entries from the entire file."}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1501842502, "last_edit_date": 1501842502, "creation_date": 1501841565, "answer_id": 45504104, "question_id": 45503897, "link": "https://stackoverflow.com/questions/45503897/perl-code-to-remove-duplicate-entries-from-a-file/45504104#45504104", "title": "perl code to remove duplicate entries from a file", "body": "<p>You can try this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @bugs = \"\";\n@bugs =  split /\\,?(\\s+)/, $_ while(&lt;DATA&gt;);\nmy @Sequenced = map {$_=~s/\\s*//g; $_} RemoveDup(@bugs);\n\nprint \"@Sequenced\\n\";\n\nsub RemoveDup {     my %checked;   grep !$checked{$_}++, @_;  }\n\n\n__DATA__\nBUG-111, BUG-122, BUG-123, BUG-111, BUG-123, JIRA-221, JIRA-234, JIRA-221\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "edited": false, "score": 0, "creation_date": 1502425995, "post_id": 45507595, "comment_id": 78213281, "body": "Thanks @Toto, proposed one liner solution worked for me."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 1, "last_activity_date": 1501851807, "creation_date": 1501851807, "answer_id": 45507595, "question_id": 45503897, "link": "https://stackoverflow.com/questions/45503897/perl-code-to-remove-duplicate-entries-from-a-file/45507595#45507595", "title": "perl code to remove duplicate entries from a file", "body": "<p>You just need to add these lines to your script:</p>\n\n<pre><code>my %seen;\nmy @no_dups = grep{!$seen{$_}++}split/,?\\s/,$Jira_nums;\n</code></pre>\n\n<p>You'll get:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $file1=\"/path/to/file/bugs.txt\";\nmy $Jira_nums;\nopen(my $FH, '&lt;', $file1) or die $!; # use lexical file handler\n  {\n    local $/;\n    $Jira_nums = &lt;$FH&gt;;\n  }\nmy %seen;\nmy @no_dups = grep{!$seen{$_}++}split/,?\\s/,$Jira_nums;\nsay Dumper \\@no_dups;\n</code></pre>\n\n<p>For input data like:</p>\n\n<pre><code>BUG-111, BUG-122, BUG-123, BUG-111, BUG-123, JIRA-221, JIRA-234, JIRA-221\nBUG-111, BUG-122, BUG-123, BUG-111, BUG-123, JIRA-221, JIRA-234, JIRA-221\nBUG-111, BUG-122, BUG-123, BUG-111, BUG-123, JIRA-221, JIRA-234, JIRA-221\nBUG-111, BUG-122, BUG-123, BUG-111, BUG-123, JIRA-221, JIRA-234, JIRA-221\n</code></pre>\n\n<p>it gives:</p>\n\n<pre><code>$VAR1 = [\n          'BUG-111',\n          'BUG-122',\n          'BUG-123',\n          'JIRA-221',\n          'JIRA-234'\n        ];\n</code></pre>\n"}], "owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 45507595, "answer_count": 2, "score": 0, "last_activity_date": 1502088717, "creation_date": 1501841004, "question_id": 45503897, "link": "https://stackoverflow.com/questions/45503897/perl-code-to-remove-duplicate-entries-from-a-file", "title": "perl code to remove duplicate entries from a file", "body": "<p>I have a file (say <code>bugs.txt</code>) which is generated by running some code. This file has list of JIRAS. I want to write a code which can remove duplicate entries from this file.</p>\n\n<p>The logic should be generic as the bugs.txt file will be different everytime.</p>\n\n<p>sample input file <code>bugs.txt</code>:</p>\n\n<pre><code>BUG-111, BUG-122, BUG-123, BUG-111, BUG-123, JIRA-221, JIRA-234, JIRA-221\n</code></pre>\n\n<p>sample output:</p>\n\n<pre><code>BUG-111, BUG-122, BUG-123, JIRA-221, JIRA-234\n</code></pre>\n\n<p>My trial code:</p>\n\n<pre><code>my $file1=\"/path/to/file/bugs.txt\";\nmy $Jira_nums;\nopen(FH, '&lt;', $file1) or die $!;\n  {\n    local $/;\n    $Jira_nums = &lt;FH&gt;;\n  }\nclose FH;\n</code></pre>\n\n<p>I need help in designing the logic for removing duplicate entries from the file bugs.txt</p>\n"}, {"tags": ["perl", "mojolicious", "mojo"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1501824101, "post_id": 45497182, "comment_id": 77958435, "body": "What do you want to accomplish by &#39;reusing&#39; connection?"}, {"owner": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1501827249, "post_id": 45497182, "comment_id": 77959585, "body": "@\u0421\u0443\u0445\u043e\u043927 Since websocket is a statefull protocol. I want to keep track of all the websocket connections that are already authorized, so that I don&#39;t have to through the overhead of re-authorizing every connection again and again for every client requests. This might not make sense to you, but it requires that to overcome a lot of overhead of resending the same requests again and again."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1501828657, "post_id": 45497182, "comment_id": 77960299, "body": "I&#39;m not sure if I understand you correctly but once you have established client connection and event handlers put in place, you use this connection until network breaks down, or other side closes it. At this point you have to initiate new client connection. &#39;Reuse&#39; doesn&#39;t quite fit in such scheme."}, {"owner": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1501830925, "post_id": 45497182, "comment_id": 77961615, "body": "@\u0421\u0443\u0445\u043e\u043927 Actually, you got it right. Consider the whole process asynchronous, let&#39;s assume the connection is established and after a while the user sends another request, what I want to do is use the previously established connection (if it is not closed), instead of creating a new connection for every request that the user makes. Doesn&#39;t it sound wrong that we create a connection for every request that the user sends? At least in the context of websocket it does. Websockets connections are supposed to be persistent and re-usable."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1501833314, "post_id": 45497182, "comment_id": 77963054, "body": "I think what you need is basic server/client example for mojolicious. Doesn&#39;t wiki already cover this?"}, {"owner": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1501833779, "post_id": 45497182, "comment_id": 77963359, "body": "No, the wiki doesn&#39;t cover anything on reusing the connection."}, {"owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "edited": false, "score": 0, "creation_date": 1503981540, "post_id": 45497182, "comment_id": 78819897, "body": "I&#39;m interested in working on this but without a basic bit of code that works <i>without</i> reuse, that you want to modify to work <i>with</i> reuse, it&#39;s difficult. Please add such code :-)"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "edited": false, "score": 0, "creation_date": 1504000724, "post_id": 45497182, "comment_id": 78830038, "body": "@Ed. <a href=\"https://github.com/kraih/mojo/wiki/Writing-websocket-chat-using-Mojolicious-Lite\" rel=\"nofollow noreferrer\">github.com/kraih/mojo/wiki/&hellip;</a>"}, {"owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1504024205, "post_id": 45497182, "comment_id": 78846595, "body": "@\u0421\u0443\u0445\u043e\u043927 I&#39;m asking the OP (or someone who edits the question) to please add the actual code being used, to the question for posterity. GitHub code can change or go away :-)"}, {"owner": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "reply_to_user": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "edited": false, "score": 1, "creation_date": 1504058796, "post_id": 45497182, "comment_id": 78860234, "body": "@Ed. I have added the code snippet which doesn&#39;t re-use connection. The only way I was able to reuse connection was by storing the transaction object and use it in subsequent calls."}, {"owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1504415620, "post_id": 45497182, "comment_id": 79000551, "body": "@\u0421\u0443\u0445\u043e\u043927 Just for future reference, the client/server example you provided was a JavaScript client / Mojolicious server. What OP is after is a Mojolicious client :-)"}], "answers": [{"comments": [{"owner": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "edited": false, "score": 1, "creation_date": 1504574885, "post_id": 46020882, "comment_id": 79051466, "body": "Thanks for an elaborate answer. But I&#39;m already aware of this. The two code references that you attached could be helpful in future research."}, {"owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "reply_to_user": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "edited": false, "score": 0, "creation_date": 1504630687, "post_id": 46020882, "comment_id": 79080268, "body": "I&#39;ve added jberger&#39;s note about <a href=\"https://metacpan.org/pod/Mojolicious::Plugin::Multiplex\" rel=\"nofollow noreferrer\">metacpan.org/pod/Mojolicious::Plugin::Multiplex</a> which may also be useful."}], "tags": [], "owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "is_accepted": false, "score": 3, "last_activity_date": 1504630641, "last_edit_date": 1504630641, "creation_date": 1504420090, "answer_id": 46020882, "question_id": 45497182, "link": "https://stackoverflow.com/questions/45497182/mojolicious-re-using-a-previously-established-connection/46020882#46020882", "title": "Mojolicious re-using a previously established connection", "body": "<p>Preliminaries: to run a Mojolicious client script with debugging information:</p>\n\n<pre><code>MOJO_EVENTEMITTER_DEBUG=1 MOJO_USERAGENT_DEBUG=1 perl mua.pl\n</code></pre>\n\n<p>As at version 7.43, <code>Mojo::UserAgent</code> has <a href=\"https://metacpan.org/source/SRI/Mojolicious-7.43/lib/Mojo/UserAgent.pm#L172-181\" rel=\"nofollow noreferrer\">built-in connection pooling</a> but <a href=\"https://metacpan.org/source/SRI/Mojolicious-7.43/lib/Mojo/UserAgent.pm#L235-236\" rel=\"nofollow noreferrer\">specifically refuses to use it for WebSockets</a>. This may well be because as you said, WebSockets is stateful, and if the UserAgent blindly reused connections, that could cause chaos. However, if your application knows how to safely reuse them, that is a different matter.</p>\n\n<p>This question came up recently in the IRC channel for Mojolicious, and <a href=\"https://irclog.perlgeek.de/mojo/2017-09-03#i_15109692\" rel=\"nofollow noreferrer\">sri, the author, said</a>:</p>\n\n<pre>\n16:28   sri     mohawk: some frameworks like phoenix have their own higher level protocol on top of websockets to multiplex multiple channels https://hexdocs.pm/phoenix/channels.html\n16:28       sounds like that's what you want\n16:28       mojolicious should have something like that, but doesn't yet\n[...]\n16:42   sri     it's not hard to build on top of mojolicious, but for now you have to do that yourself\n16:42       ultimately i'd hope for us to have it in core, without the message bus part\n16:43       but channel management and routing\n[...]\n16:50   jberger mohawk I did write Mojolicious::Plugin::Multiplex which might help\n16:51       For an example of a higher level tool\n</pre>\n\n<p>I acknowledge OP said:</p>\n\n<blockquote>\n  <p>The only way I was able to reuse connection was by storing the transaction object and use it in subsequent calls.</p>\n</blockquote>\n\n<p>However, as the code currently is, it appears this is the only way. This code demonstrates how to make, maintain, and use your own connection pool:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Mojo::UserAgent;\nuse Time::HiRes qw(time);\n$| = 1;\nmy $REQ = {\n    type =&gt; \"ping\",\n    reqid =&gt; 0,\n};\nmy $URL = \"wss://trello.com/1/Session/socket\";\nmy $SECONDS = 2;\nmy $POOL_SIZE = 5;\n\nmy $ua = Mojo::UserAgent-&gt;new;\nmy @pool;\n\nsub make_conn {\n  my ($ua, $url, $pool) = @_;\n  $ua-&gt;websocket($URL =&gt; sub {\n    my (undef, $tx) = @_;\n    die \"error: \", $tx-&gt;res-&gt;error-&gt;{message}, \"\\n\" if $tx-&gt;res-&gt;error;\n    die 'Not a websocket connection' unless $tx-&gt;is_websocket;\n    push @$pool, $tx;\n  });\n}\n\n# pool gets pushed onto, shifted off, so using recently-used connection\nsub send_message {\n  my ($pool, $request, $start) = @_;\n  my $tx = shift @$pool;\n  die \"got bad connection\" unless $tx; # error checking needs improving\n  $tx-&gt;once(message =&gt; sub {\n    my (undef, $msg) = @_;\n    print \"got back: $msg\\n\";\nprint \"took: \", time - $start, \"\\n\";\n    push @$pool, $tx;\n  });\n  $tx-&gt;send({json =&gt; $request});\n}\n\nmake_conn($ua, $URL, \\@pool) for (1..5); # establish pool\n\n# every 2 secs, send a message\nmy $timer_cb;\n$timer_cb = sub {\n  my $loop = shift;\n  print \"every $SECONDS\\n\";\n  send_message(\\@pool, $REQ, time);\n  $loop-&gt;timer($SECONDS =&gt; $timer_cb);\n};\nMojo::IOLoop-&gt;timer($SECONDS =&gt; $timer_cb);\n\nMojo::IOLoop-&gt;start unless Mojo::IOLoop-&gt;is_running;\n</code></pre>\n\n<p>At a high level, it works like this:</p>\n\n<ul>\n<li>make 5 connections in the pool</li>\n<li><code>send_message</code> uses the least-recently-used connection in that pool</li>\n<li>send a message every two seconds, registering a one-time \"on message\" callback to deal with the response</li>\n</ul>\n\n<p>For the sake of simplicity, it does not check connections are still working when it gets them from the pool, and relies on the first two-second delay to initialise all 5 connections.</p>\n\n<p>The use of <code>time</code> calls demonstrates the speed gain from using this pool. Your provided code takes (on my system) around 300ms to start up the connection, then send and receive. Using the pool, it is taking around 120ms.</p>\n"}], "owner": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1504630641, "creation_date": 1501812188, "last_edit_date": 1504159164, "question_id": 45497182, "link": "https://stackoverflow.com/questions/45497182/mojolicious-re-using-a-previously-established-connection", "title": "Mojolicious re-using a previously established connection", "body": "<p>I'm trying to reuse a previously established websocket connection to avoid the websocket handshake. I found that a custom websocket transaction can be built using <code>build_websocket_tx</code> (more details <a href=\"http://mojolicious.org/perldoc/Mojo/UserAgent#build_websocket_tx\" rel=\"nofollow noreferrer\">here</a>), and there's a connection identifier for every websocket connection which can be retrieved using <code>connection</code> subroutine defined in <code>Mojo::Transaction</code> (more details <a href=\"http://mojolicious.org/perldoc/Mojo/Transaction#connection1\" rel=\"nofollow noreferrer\">here</a>). Can I somehow combine both of these to re use the connection? Is there another way to do so?</p>\n\n<p>PS: Websocket connections are supposed to be consistent and reusable. But Mojolicoious doesn't provide any such options for websocket connections.</p>\n\n<h2>EDIT</h2>\n\n<p>Example code without connection re-use.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Mojo::UserAgent;\nuse JSON qw |encode_json|;\n\nmy $ua = Mojo::UserAgent-&gt;new;\nmy $url = \"wss://trello.com/1/Session/socket\";\n\n$| = 1;\n\nsub _connect {\n    my $req = {\n        type =&gt; \"ping\",\n        reqid=&gt; 0\n    };\n    $ua-&gt;websocket(\n        $url =&gt; sub {\n            my ($ua, $tx) = @_;\n\n            die \"error: \", $tx-&gt;res-&gt;error-&gt;{message}, \"\\n\" if $tx-&gt;res-&gt;error;\n            die 'Not a websocket connection' unless $tx-&gt;is_websocket;\n\n            # Connection established.\n            $tx-&gt;on(\n                message =&gt; sub {\n                    my ($tx, $msg) = @_;\n                    print \"$msg\\n\";\n                    $tx-&gt;closed; #Close connection\n                });\n            $tx-&gt;send(encode_json($req));\n        });\n}\n\nsub reuse_conn {\n    # Re use connection\n}\n\n_connect();\n\nMojo::IOLoop-&gt;start unless Mojo::IOLoop-&gt;is_running;\n</code></pre>\n"}, {"tags": ["html", "perl", "httprequest", "lwp"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501845751, "post_id": 45497030, "comment_id": 77971669, "body": "You are missing  a <code>&gt;</code> in your output for the opening <code>FORM</code> tag. Is that really missing, or did you lose it while copying?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502102256, "post_id": 45497030, "comment_id": 78049310, "body": "That&#39;s a proper 302 response. It tells you it was redirected. Your LWP user agent should follow that automatically."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502154147, "post_id": 45497030, "comment_id": 78075328, "body": "Thanks @simbabque, if success why the program not enter the <code>if($res2-&gt;is success)</code> loop? The code will not print the <code>html.txt</code>."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502170286, "post_id": 45497030, "comment_id": 78079254, "body": "@simbabque, the final result i need is to print out the content inside the <code>www.redirect.com</code> . How can i do it? Your help is much appreciate"}], "answers": [{"comments": [{"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1501913930, "post_id": 45505679, "comment_id": 77998619, "body": "Thanks @simbabque , i edit my code follow your suggestion but is output. Did i modified correctly. I edit the code above."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1501924748, "post_id": 45505679, "comment_id": 78001092, "body": "@Tim did you update the output as well? You should try around with what to send in the second request. See if the URL is right."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1502080503, "post_id": 45505679, "comment_id": 78038839, "body": "Hi @simbabque, the second request has fail so the code will end without going in the if loop that print the output file."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1502092470, "post_id": 45505679, "comment_id": 78043560, "body": "@Tim did you try to debug it? Output the request as well as the response, look at the headers. Or use LWP::ConsoleLogger::Everywhere to have the whole communication dumped to the console, then compare it to what your browser is doing where it works."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1502100334, "post_id": 45505679, "comment_id": 78048208, "body": "Thanks for your reply i have try to debug it and edit my question as above. The <code>$res2</code> print out is different with the <code>$resp</code> and i dont know what it means."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1501846139, "creation_date": 1501846139, "answer_id": 45505679, "question_id": 45497030, "link": "https://stackoverflow.com/questions/45497030/pass-auto-direct-page-after-login-to-the-webpage/45505679#45505679", "title": "Pass auto direct page after login to the webpage", "body": "<p>The interesting part about this is probably the headers. A <em>normal</em> website would issue a redirect status code, like a <a href=\"https://httpstatusdogs.com/302-found\" rel=\"nofollow noreferrer\">302 Found</a>. But that's clearly not the case here, or they wouldn't need this rather strange HTML thing.</p>\n\n<p>The HTML has built-in JavaScript execution.</p>\n\n<pre><code>&lt;BODY onLoad=\"document.AUTOSUBMIT.submit();\"&gt;\n</code></pre>\n\n<p>It tells the browser to submit the form directly when the page has loaded. Your problem is that LWP::UserAgent cannot do that, because it doesn't have JS support.</p>\n\n<p>But since this always happens, it's trivial to code around it. All you need to do is submit that form every time you log in.</p>\n\n<pre><code>my $res = $ua-&gt;request($req);\nif ($res-&gt;is_success) {\n    my $res2 = $ua-&gt;post($res-&gt;base, []);\n    if ($res2-&gt;is_success) {\n        ...\n    }\n}\n</code></pre>\n\n<p>The form has no parameters. The only <code>&lt;input&gt;</code> element there is is the submit button, and since that doesn't have a <code>name</code> attribute it does not show up as a parameter. The URL is likely the same as the one you submitted originally, but it might have done a real redirect already, so it's better to use the <code>base</code> attribute of the response object.</p>\n\n<hr>\n\n<p>I do wonder why they make this process so weird. It certainly doesn't authorize anything. It might set additional cookies, like one of those marketing redirect thingies, but that's not visible from what you've showed. And it does not stop automation either.</p>\n"}], "owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 506, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1502100509, "creation_date": 1501811002, "last_edit_date": 1502100509, "question_id": 45497030, "link": "https://stackoverflow.com/questions/45497030/pass-auto-direct-page-after-login-to-the-webpage", "title": "Pass auto direct page after login to the webpage", "body": "<p>I have successful login to a webpage by the script below but the webpage stuck at the redirect page. I has no idea how to pass through it. Below is my code</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\nuse HTTP::Request::Common qw(POST);\nuse HTTP::Cookies;\n\nmy $URL=\"http://www.redirect.com\";\nmy $UA = LWP::UserAgent-&gt;new();\n$UA-&gt;ssl_opts( verify_hostnames =&gt; 0 ); \n\n\nmy $req =HTTP::Request::Common::POST(\"$URL\",\nContent_type=&gt;'form-data',\nContent =&gt;[\n     'username'=&gt;'name',\n     'password'=&gt;'pass',\n]\n);\n\n\n\nmy $resp=$UA-&gt;request($req);\n\nif ($resp-&gt;is_success) {\n    my $res2 = $UA-&gt;post($resp-&gt;base, []);\n    open(OUTFILE1, \"&gt;html1.txt\"); \n    print OUTFILE1 $res2-&gt;decoded_content;\n\n    if ($res2-&gt;is_success) {\n\n        if( ($resp-&gt;code() &gt;= 200) &amp;&amp; ($resp-&gt;code() &lt;400) ) {\n\n            open(OUTFILE, \"&gt;html.txt\");\n            binmode(OUTFILE, \":utf8\");    \n            print OUTFILE $resp-&gt;decoded_content;\n\n        }else{\n            print \"Error: \". $resp-&gt;status_line. \"\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>This is the part of the output file i get</p>\n\n<pre><code>&lt;HTML&gt;\n    &lt;HEAD&gt;\n        &lt;TITLE&gt;\n\n        &lt;/TITLE&gt;\n    &lt;/HEAD&gt;\n    &lt;BODY onLoad=\"document.AUTOSUBMIT.submit();\"&gt;This page is used to hold your data while you are being authorized for your request.&lt;BR&gt;\n    &lt;BR&gt;You will be forwarded to continue the authorization process. If this does not happen automatically, please click the Continue button below.\n    &lt;FORM NAME=\"AUTOSUBMIT\" METHOD=\"POST\" ENCTYPE=\"application/x-www-form-urlencoded\" &lt;INPUT TYPE=\"SUBMIT\" VALUE=\"Continue\"&gt;&lt;/FORM&gt;\n    &lt;/BODY&gt;\n&lt;/HTML&gt;\n</code></pre>\n\n<p>How to pass through this auto direct page to reach the website i want? Have modified according to the answer but nothing was output. </p>\n\n<p>Edit 8/7/2017</p>\n\n<p>I try the way <code>simbabque</code> suggest and debug by print out the <code>$res2</code> in <code>html1.txt</code>. The output look like below</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;\n    &lt;html&gt;&lt;head&gt;\n        &lt;title&gt;302 Found&lt;/title&gt;\n    &lt;/head&gt;&lt;body&gt;\n        &lt;h1&gt;Found&lt;/h1&gt;\n    &lt;p&gt;The document has moved &lt;a \n        href=\"http://www.redirect.com\"&gt;here&lt;/a&gt;.&lt;/p&gt;\n        &lt;hr&gt;\n        &lt;address&gt;Apache/2.2.3 (CentOS) Server at www Port 80&lt;/address&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>I have no idea what this mean. Can anyone help?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1501793151, "post_id": 45494185, "comment_id": 77950068, "body": "The <code>[^]</code> idiom doesn&#39;t exist in Perl."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1501793192, "post_id": 45494185, "comment_id": 77950085, "body": "Regexr does not support Perl regex syntax. It is only useful to test JavaScript regex."}, {"owner": {"reputation": 30971, "user_id": 2000548, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/46b999a5b1498f5ef58f767845942269?s=128&d=identicon&r=PG", "display_name": "Hongbo Miao", "link": "https://stackoverflow.com/users/2000548/hongbo-miao"}, "edited": false, "score": 0, "creation_date": 1501793587, "post_id": 45494185, "comment_id": 77950289, "body": "Is there any other Regex that I can use instead of [^]? Thanks"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1501793635, "post_id": 45494185, "comment_id": 77950313, "body": "<code>(?s:.)</code>, <code>&#47;.&#47;s</code>. Use <code>s</code> modifier with a dot. <code>[^]</code> in ECMAScript standard means <i>not nothing</i> = <i>any char</i>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501793825, "post_id": 45494185, "comment_id": 77950404, "body": "OTOH, Perl treats <code>[^]</code> as <code>[^\\]...</code>"}, {"owner": {"reputation": 30971, "user_id": 2000548, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/46b999a5b1498f5ef58f767845942269?s=128&d=identicon&r=PG", "display_name": "Hongbo Miao", "link": "https://stackoverflow.com/users/2000548/hongbo-miao"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1501794020, "post_id": 45494185, "comment_id": 77950488, "body": "@WiktorStribi\u017cew I see, I didn&#39;t realize Regex is different for different language"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1501794297, "post_id": 45494185, "comment_id": 77950598, "body": "Post your Perl code."}, {"owner": {"reputation": 30971, "user_id": 2000548, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/46b999a5b1498f5ef58f767845942269?s=128&d=identicon&r=PG", "display_name": "Hongbo Miao", "link": "https://stackoverflow.com/users/2000548/hongbo-miao"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1501794380, "post_id": 45494185, "comment_id": 77950634, "body": "@WiktorStribi\u017cew sorry how can I forget it! I am on phone, I will post in 10 min"}, {"owner": {"reputation": 30971, "user_id": 2000548, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/46b999a5b1498f5ef58f767845942269?s=128&d=identicon&r=PG", "display_name": "Hongbo Miao", "link": "https://stackoverflow.com/users/2000548/hongbo-miao"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1501794960, "post_id": 45494185, "comment_id": 77950911, "body": "@WiktorStribi\u017cew just added"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501796859, "post_id": 45494185, "comment_id": 77951646, "body": "I didn&#39;t see details of these comments before, please take note:  The original version of the question was rather unclear, with that <code>RegExR</code> and references to <code>Sublime</code>, and no Perl code."}], "answers": [{"comments": [{"owner": {"reputation": 30971, "user_id": 2000548, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/46b999a5b1498f5ef58f767845942269?s=128&d=identicon&r=PG", "display_name": "Hongbo Miao", "link": "https://stackoverflow.com/users/2000548/hongbo-miao"}, "edited": false, "score": 0, "creation_date": 1501795974, "post_id": 45494648, "comment_id": 77951293, "body": "Thanks for the tips!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1502127549, "last_edit_date": 1502127549, "creation_date": 1501794995, "answer_id": 45494648, "question_id": 45494185, "link": "https://stackoverflow.com/questions/45494185/the-regex-example-response-cannot-be-matched/45494648#45494648", "title": "The Regex `## Example[^]+### Response` cannot be matched", "body": "<p>If the file isn't too large</p>\n\n<pre><code>perl -0777 -wpe's/## Example.*?### Response\\K/New/sg' markdown.txt\n</code></pre>\n\n<p>what prints the correct output with the provided input.  </p>\n\n<p>The <a href=\"http://perldoc.perl.org/perlre.html#*s*\" rel=\"nofollow noreferrer\"><code>/s</code></a> modifier makes <code>.</code> match a newline as well, and <code>\\K</code> makes it drop the previous matches so you don't have to \"replace\" them. So it tacks <code>New</code> right onto <code>Response</code> once it matches. The <code>-0777</code> switch makes it slurp the whole file into <code>$_</code>, needed in order to work across multiple lines.</p>\n\n<p>If <code>### Response</code> may come in a middle of a line and you don't want to touch it there</p>\n\n<pre><code>perl -0777 -wpe's/## Example.*?^### Response\\K/New/smg' markdown.txt\n</code></pre>\n\n<p>where <a href=\"http://perldoc.perl.org/perlre.html#*m*\" rel=\"nofollow noreferrer\"><code>/m</code></a> modifier makes <code>^</code> match beginning of each line, not only of the whole string.</p>\n\n<hr>\n\n<p>If the file <em>is</em> too large to slurp into a variable, set a flag when <code>## Example</code> is found and then once <code>### Response</code> is found (with flag true) replace it and unset the flag.  </p>\n\n<p>This is feasable in a oneliner, if you must, but I'd recommend a short script.</p>\n"}, {"comments": [{"owner": {"reputation": 30971, "user_id": 2000548, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/46b999a5b1498f5ef58f767845942269?s=128&d=identicon&r=PG", "display_name": "Hongbo Miao", "link": "https://stackoverflow.com/users/2000548/hongbo-miao"}, "edited": false, "score": 0, "creation_date": 1501796949, "post_id": 45495058, "comment_id": 77951690, "body": "Thank you for the info too!"}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1501796904, "creation_date": 1501796904, "answer_id": 45495058, "question_id": 45494185, "link": "https://stackoverflow.com/questions/45494185/the-regex-example-response-cannot-be-matched/45495058#45495058", "title": "The Regex `## Example[^]+### Response` cannot be matched", "body": "<p>Between the line by line and the slurp mode, you can also define your own record delimiter and choose <code>## Example</code>. Then all you have to do is to replace the first occurrence of <code>### Response</code> for each record:</p>\n\n<pre><code>perl -pe'BEGIN{$/=\"## Example\"} s/### Response\\K/New/ if $a++' file\n</code></pre>\n"}], "owner": {"reputation": 30971, "user_id": 2000548, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/46b999a5b1498f5ef58f767845942269?s=128&d=identicon&r=PG", "display_name": "Hongbo Miao", "link": "https://stackoverflow.com/users/2000548/hongbo-miao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 1, "accepted_answer_id": 45494648, "answer_count": 2, "score": 2, "last_activity_date": 1502127549, "creation_date": 1501793059, "last_edit_date": 1501795040, "question_id": 45494185, "link": "https://stackoverflow.com/questions/45494185/the-regex-example-response-cannot-be-matched", "title": "The Regex `## Example[^]+### Response` cannot be matched", "body": "<p>I have a large number of markdown files. In those files, I want to replace certain <code>### Response</code> to <code>### ResponseNew</code></p>\n\n<pre><code>### Response\nI don't want to replace this Response above to ResponseNew since it is not following Example\n\n## Example\n### Request\n123{}```\n\n### Response\nI want to replace this Response above to ResponseNew since it is following Example\n</code></pre>\n\n<p>So I try to use</p>\n\n<pre><code>## Example[^]+### Response\n</code></pre>\n\n<p>to replace to </p>\n\n<pre><code>$&amp;New\n</code></pre>\n\n<p>This works when I test in the <a href=\"http://regexr.com/\" rel=\"nofollow noreferrer\">RegExr website</a>.</p>\n\n<p>However, using Sublime to find and replace, it shows the error:</p>\n\n<blockquote>\n  <p>Unmatched [ or [^ in character class declaration.  The error occurred\n  while parsing the regular expression fragment: '# Response>>>HERE>>>'.\n  in regular expression ## Example[^]+### Response</p>\n</blockquote>\n\n<p>I also tried to use Perl in terminal following <a href=\"https://superuser.com/questions/115348/mac-os-x-search-and-replace-tool-with-regular-expression-support\">this</a>,</p>\n\n<pre><code>find . -type f -exec perl -p -i -e \"s/## Example[^]+### Response/$&amp;New/g\" {} \\;\n</code></pre>\n\n<p>it shows:</p>\n\n<blockquote>\n  <p>Unmatched [ in regex; marked by &lt;-- HERE in m/## Example[ &lt;-- HERE\n  ^]+### Response/ at -e line 1.</p>\n</blockquote>\n\n<p>How can I write the Regex correctly so I can match? Thanks</p>\n"}, {"tags": ["perl", "unit-testing", "testcase", "test-more"], "answers": [{"comments": [{"owner": {"reputation": 7687, "user_id": 2809027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDAhb.jpg?s=128&g=1", "display_name": "Cecil Curry", "link": "https://stackoverflow.com/users/2809027/cecil-curry"}, "edited": false, "score": 1, "creation_date": 1584684058, "post_id": 45494167, "comment_id": 107517251, "body": "Honestly, the correct approach for testing scripts is to forego unit testing entirely. Instead, embrace integration testing with the aforementioned <a href=\"https://metacpan.org/pod/Test::Script\" rel=\"nofollow noreferrer\"><code>Test::Script</code></a>. From the end user perspective, all that matters is that a script <i>externally</i> works as expected; whether or not private functions <i>internally</i> called by that script work as expected is irrelevant."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 7, "last_activity_date": 1501792991, "creation_date": 1501792991, "answer_id": 45494167, "question_id": 45493841, "link": "https://stackoverflow.com/questions/45493841/how-to-write-unit-test-cases-for-a-perl-script/45494167#45494167", "title": "How to write unit test cases for a Perl script", "body": "<p>There are a couple of options. One is to use <a href=\"https://metacpan.org/pod/Test::Script\" rel=\"noreferrer\">Test::Script</a> to see if your code compiles and runs, and does some stuff. It's more of an integration test than a unit test though, and if you have external dependencies like writing to the file system, it's tough to mock those away like this.</p>\n\n<p>Since you've got subs in the script, the easiest way is probably to <code>require</code> or <code>do</code> the script in your test file, maybe inside a different <code>package</code> (but that doesn't really matter). You can then call those functions, because they are in one of your namespaces.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Test::More;\n\npackage Foo {\n    do 'script_one.pl';\n};\n\nis Foo::print_name, 'foo', 'prints the right name';\n</code></pre>\n\n<p>This way you can mock dependencies more easily and you get some more control. The only thing that might be tricky is code that's not in subs and will be run at invocation, like the call to <code>validate_params</code>. You <em>could</em> just use <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"noreferrer\">Capture::Tiny</a> to brush that under the rug.</p>\n\n<p>The best option though is to not have functions in your script. Just make another module that has those functions, and call it in your script. It's fine to have a script like the following.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse My::Modules::Foo;\n\nMy::Modules::Foo-&gt;run; # or ::run()\n</code></pre>\n\n<p>It doesn't matter if it's OOP or not. The idea will be the same. If you encapsulate it properly, you can unit-test all your code without ever using that script.</p>\n\n<p>Regarding the GetOpts stuff, those variables can be lexicals to the script, but your naming with the capital letters and the lack of arguments to the <code>validate_params</code> call indicate that they are really package-wide and are used inside the function. Don't do that. Use arguments to the <code>sub</code>s. Put all the subs in a <code>package</code>, then have GetOpts in the script, and pass the options as arguments to the function.</p>\n\n<p>That way you can test everything and really don't need the script.</p>\n"}], "owner": {"reputation": 2831, "user_id": 453486, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/44d59c6c5a7e3435409ebe94c9aa9db5?s=128&d=identicon&r=PG", "display_name": "Srikanth Jeeva", "link": "https://stackoverflow.com/users/453486/srikanth-jeeva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1424, "favorite_count": 0, "accepted_answer_id": 45494167, "answer_count": 1, "score": 4, "last_activity_date": 1501792991, "creation_date": 1501791568, "question_id": 45493841, "link": "https://stackoverflow.com/questions/45493841/how-to-write-unit-test-cases-for-a-perl-script", "title": "How to write unit test cases for a Perl script", "body": "<p>I'm able to write unit tests <code>test_case.t</code> for a Perl Module <code>ModuleOne.pm</code></p>\n\n<p><strong>test_case.t</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse Test::More;\nuse Test::Cmd;\nuse ModuleOne; # Included the module here\n\nmy $ret = ModuleOne::methodone(args);\nis($ret-&gt;{val}, 1, \"Checking return value\"); # success \n</code></pre>\n\n<p>I'm trying the achieve the same unit test cases for a perl script <code>script_one.pl</code></p>\n\n<p><strong>script_one.pl</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse ModuleOne;\n\nmy $NAME;\nmy $ID;\n\n# get parameters\nGetOptions (\n \"name\" =&gt; \\$NAME,\n \"emp_id\" =&gt; \\$ID,\n)\n\nvalidate_params();\n\nsub validate_params {\n   # this method will validate params \n}\n\nsub print_name {\n   # this method will print name \n}\n</code></pre>\n\n<p>How can I include this perl file <code>script_one.pl</code> in <code>test_case.t</code> and write test cases for methods <code>validate_params</code> and <code>print_name</code>?</p>\n"}, {"tags": ["bash", "perl", "backticks"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501792238, "post_id": 45493781, "comment_id": 77949608, "body": "The only four special characters in double-quoted string literals (including backticks) are: <code>\\ </code>, <code>$</code>, <code>@</code> and the delimiter(s)."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1501865346, "last_edit_date": 1501865346, "creation_date": 1501791777, "answer_id": 45493892, "question_id": 45493781, "link": "https://stackoverflow.com/questions/45493781/how-to-escape-the-idiom-in-perl/45493892#45493892", "title": "how to escape the &lt; &lt;() idiom in perl", "body": "<p>Backticks aka <code>readpipe</code> expect a command passed to <code>sh</code> (or <code>cmd</code> in Windows).\nYou appear to have a <code>bash</code> command rather than a <code>sh</code> command. Fixed:</p>\n\n<pre><code>`bash -c 'datamash -ft, -g 1 mean 3 mean 4 &lt; &lt;(tail -n +2 yourfile | sort -t, -k1,2) | cut -d, -f1,2,5,6'`\n</code></pre>\n\n<p>If you had vars to interpolate, it would look like</p>\n\n<pre><code>use String::ShellQuote ( shell_quote );\n\nmy $qfn = '...';\nmy $tail_cmd = shell_quote('tail', '-n', '+2', $qfn);\nmy $bash_cmd = \"datamash -ft, -g 1 mean 3 mean 4 &lt; &lt;( $tail_cmd | sort -t, -k1,2 ) | cut -d, -f1,2,5,6\";\nmy $sh_cmd = shell_quote('bash', '-c', $bash_cmd);\n`$sh_cmd`\n</code></pre>\n\n<hr>\n\n<p>As @chepner noticed, the <code>bash</code> command can be converted into a simpler command that's compatible with <code>sh</code>. This reduces the first snippet to the following:</p>\n\n<pre><code>`tail -n +2 yourfile | sort -t, -k1,2 | datamash -ft, -g 1 mean 3 mean 4 | cut -d, -f1,2,5,6'`\n</code></pre>\n\n<p>This doesn't help us get away from using <code>shell_quote</code> in the second snippet, but it does reduce it it the following:</p>\n\n<pre><code>use String::ShellQuote ( shell_quote );\n\nmy $qfn = '...';\nmy $tail_cmd = shell_quote('tail', '-n', '+2', $qfn);\nmy $sh_cmd = \"$tail_cmd | sort -t, -k1,2 | datamash -ft, -g 1 mean 3 mean 4 | cut -d, -f1,2,5,6\";\n`$sh_cmd`\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 3, "last_activity_date": 1501792551, "creation_date": 1501792551, "answer_id": 45494066, "question_id": 45493781, "link": "https://stackoverflow.com/questions/45493781/how-to-escape-the-idiom-in-perl/45494066#45494066", "title": "how to escape the &lt; &lt;() idiom in perl", "body": "<p>I wouldn't even bother using process substitution here. Just use an ordinary pipeline:</p>\n\n<pre><code>`tail -n +2 yourfile | sort -t, -k1,2 | datamash -ft, -g 1 mean 3 mean | cut -d, -f1,2,5,6`\n</code></pre>\n\n<p>Process substitution is most useful when a command (like <code>datamash</code>) needs to run in the current shell, or when you want to feed the output of one command to another command that only reads from a named file, not its standard input. Neither case applies here.</p>\n"}], "owner": {"reputation": 147, "user_id": 8267952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b2ef54d99c06b6bf90bfe866cd939f2b?s=128&d=identicon&r=PG&f=1", "display_name": "ran1n", "link": "https://stackoverflow.com/users/8267952/ran1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 45493892, "answer_count": 2, "score": 1, "last_activity_date": 1501865346, "creation_date": 1501791347, "last_edit_date": 1501792075, "question_id": 45493781, "link": "https://stackoverflow.com/questions/45493781/how-to-escape-the-idiom-in-perl", "title": "how to escape the &lt; &lt;() idiom in perl", "body": "<p>I have a system command which i am trying to execute, but it gives me error \"Syntax error: redirection unexpected\" </p>\n\n<p>Trying command:    </p>\n\n<pre><code>datamash -ft, -g 1 mean 3 mean 4 &lt; &lt;(tail -n +2 yourfile | sort -t, -k1,2) | cut -d, -f1,2,5,6 \n</code></pre>\n\n<p>I tried readpipe and also escaped the &lt; &lt;  with \\&lt; \\&lt;, but doesn't work.</p>\n\n<p>below command doesn't work ==></p>\n\n<pre><code>`datamash -ft, -g 1 mean 3 mean 4 \\&lt; \\&lt;(tail -n +2 yourfile | sort -t, -k1,2) | cut -d, -f1,2,5,6`\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1501787998, "post_id": 45492769, "comment_id": 77947034, "body": "Union even if that creates duplicate values?"}, {"owner": {"reputation": 180, "user_id": 199823, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/157ed4431cd8ae20f248aa9f6aa4d1ed?s=128&d=identicon&r=PG", "display_name": "Kris1511", "link": "https://stackoverflow.com/users/199823/kris1511"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1501788154, "post_id": 45492769, "comment_id": 77947129, "body": "I think ideally not duplicated, it won&#39;t matter to the SQL creation status in (501, 501) will list same results"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1501789708, "last_edit_date": 1501789708, "creation_date": 1501789301, "answer_id": 45493232, "question_id": 45492769, "link": "https://stackoverflow.com/questions/45492769/merge-2-array-hash-into-1-variable-perl/45493232#45493232", "title": "Merge 2 array/Hash into 1 variable Perl", "body": "<pre><code>use List::Util qw( uniq );\n\nmy %h =\n   map {\n      $_ =&gt; [\n         uniq\n            $h1-&gt;{$_} ? @{ $h1-&gt;{$_} } : (),\n            $h2-&gt;{$_} ? @{ $h2-&gt;{$_} } : (),\n      ]\n   } \n      uniq\n         keys(%$h1), keys(%$h2);\n</code></pre>\n\n<p>If you have lots of hashes or a variable number of hashes,</p>\n\n<pre><code>use List::Util qw( uniq );\n\nmy @hashes = ( $h1, $h2, ... );\n\nmy %h =\n   map {\n      my $key = $_;\n      $key =&gt; [ uniq map @$_, grep $_, map $_-&gt;{$key}, @hashes ]\n   } \n      uniq map keys(%$_), @hashes;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1501816919, "post_id": 45495272, "comment_id": 77956528, "body": "Why are you using Data::Dumper if you&#39;re (stupidly) against external libraries?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1501818031, "post_id": 45495272, "comment_id": 77956764, "body": "Would have been nice to credit the <a href=\"http://www.perlmonks.org/?node_id=1196683\" rel=\"nofollow noreferrer\">person</a> from which you copied this."}, {"owner": {"reputation": 180, "user_id": 199823, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/157ed4431cd8ae20f248aa9f6aa4d1ed?s=128&d=identicon&r=PG", "display_name": "Kris1511", "link": "https://stackoverflow.com/users/199823/kris1511"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501891208, "post_id": 45495272, "comment_id": 77995162, "body": "still learning perl, sr folks don&#39;t want to import any library ... not my call"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501894676, "post_id": 45495272, "comment_id": 77995750, "body": "So why did you (Data::Dumper, and hopefully strict and warnings)?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501903852, "post_id": 45495272, "comment_id": 77996909, "body": "I think that you <b>must</b> quote sources if you copy a substantial portion of it.  This one&#39;s copy-pasted.  I suggest that you edit your post and add a link to where it&#39;s taken from."}], "tags": [], "owner": {"reputation": 180, "user_id": 199823, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/157ed4431cd8ae20f248aa9f6aa4d1ed?s=128&d=identicon&r=PG", "display_name": "Kris1511", "link": "https://stackoverflow.com/users/199823/kris1511"}, "is_accepted": false, "score": 1, "last_activity_date": 1501817092, "last_edit_date": 1501817092, "creation_date": 1501797900, "answer_id": 45495272, "question_id": 45492769, "link": "https://stackoverflow.com/questions/45492769/merge-2-array-hash-into-1-variable-perl/45495272#45495272", "title": "Merge 2 array/Hash into 1 variable Perl", "body": "<pre><code>use Data::Dumper;\nuse List::Util qw( uniq );\n\nmy $h1 =  {  'location_setting' =&gt; [ '409' ], 'status' =&gt; [ '501' ] };\n\nmy $h2 = {  'status' =&gt; [ '137', '124' ], 'location_setting' =&gt; [], 'classification' =&gt; ['0']}; \n\nmy %x;\nforeach my $h1key (keys %{$h1}) {\n    push @{$x{$h1key}}, @{${$h1}{$h1key}};\n}\n\nforeach my $h2key (keys %{$h2}) {\n    push @{$x{$h2key}}, @{${$h2}{$h2key}};\n}\n\n@$_ = uniq @$_\n   for values(%x);\n\nmy $x = \\%x;\nprint Dumper $x;\n</code></pre>\n"}], "owner": {"reputation": 180, "user_id": 199823, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/157ed4431cd8ae20f248aa9f6aa4d1ed?s=128&d=identicon&r=PG", "display_name": "Kris1511", "link": "https://stackoverflow.com/users/199823/kris1511"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501817092, "creation_date": 1501787691, "last_edit_date": 1501787920, "question_id": 45492769, "link": "https://stackoverflow.com/questions/45492769/merge-2-array-hash-into-1-variable-perl", "title": "Merge 2 array/Hash into 1 variable Perl", "body": "<p>I have 2 variables that are returned on form submission.  I need to merge the values into 1 Variable that I can use to create SQL later on.<br>\nHow can I get results that is union of all the values:\ni.e. location_setting = '409','405'  and Status = '501', '137', '124'</p>\n\n<p>Here is my current code, but spits only values from h2</p>\n\n<pre><code>use Data::Dumper;\n\nmy $h1 =  {  'location_setting' =&gt; [ '409' ], 'status' =&gt; [ '501' ] };\n\nmy $h2 = {  'status' =&gt; [ '137', '124' ], 'location_setting' =&gt; ['405'], 'classification' =&gt; ['0']}; \n\nmy $x = {%$h1, %$h2};\n\nprint Dumper $x;\n</code></pre>\n"}, {"tags": ["perl", "ssh"], "comments": [{"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1501782619, "post_id": 45491192, "comment_id": 77943969, "body": "<code>send</code> doesn&#39;t return anything so there isnt&#39; anything to store. What exactly are you trying to get back and have you read the cpan docs on the module?<a href=\"http://search.cpan.org/~bnegrao/Net-SSH-Expect-1.09/lib/Net/SSH/Expect.pod\" rel=\"nofollow noreferrer\">search.cpan.org/~bnegrao/Net-SSH-Expect-1.09/lib/Net/&zwnj;&#8203;SSH/&hellip;</a>"}, {"owner": {"reputation": 33, "user_id": 7954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wZJik.png?s=128&g=1", "display_name": "Ect0plasme", "link": "https://stackoverflow.com/users/7954635/ect0plasme"}, "reply_to_user": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1501783244, "post_id": 45491192, "comment_id": 77944348, "body": "i&#39;m trying to get back the output of the system/show/performance command. I want to put that output in a string to extract some information with a regex (but for now just to put the output in a string is what I&#39;m asking)."}], "answers": [{"tags": [], "owner": {"reputation": 342, "user_id": 6242321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f23e14013b897e15a7852bec2ec762?s=128&d=identicon&r=PG&f=1", "display_name": "jwal", "link": "https://stackoverflow.com/users/6242321/jwal"}, "is_accepted": true, "score": 2, "last_activity_date": 1501785374, "creation_date": 1501785374, "answer_id": 45492062, "question_id": 45491192, "link": "https://stackoverflow.com/questions/45491192/store-ouput-over-ssh-using-netsshexpect/45492062#45492062", "title": "Store ouput over ssh using Net::SSH::Expect", "body": "<p>Perl will mostly collect all sorts of output without need of additional packages. It's only special cases where you need something extra. In this case just the Net::SSH::Expect would be enough.</p>\n\n<p>I don't have Net::SSH::Expect on my system however it seems like what you need is:</p>\n\n<pre><code>$ssh-&gt;send(\"find /\");   # using send() instead of exec()\nmy $line;\nwhile ( defined ($line = $ssh-&gt;read_line()) ) {\n  print $line . \"\\n\";  \n}\n</code></pre>\n\n<p>For something as short as what you have shown I'd be inclined to skip the complexity of send and read_line and just go with exec.</p>\n\n<pre><code>my $who = $ssh-&gt;exec(\"who\");\nprint ($who);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 8414108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lSj3V4vOlsI/AAAAAAAAAAI/AAAAAAAAAO0/xTBiqn3mwWU/photo.jpg?sz=128", "display_name": "popeonhabbo123", "link": "https://stackoverflow.com/users/8414108/popeonhabbo123"}, "is_accepted": false, "score": 0, "last_activity_date": 1502131958, "creation_date": 1502131958, "answer_id": 45553865, "question_id": 45491192, "link": "https://stackoverflow.com/questions/45491192/store-ouput-over-ssh-using-netsshexpect/45553865#45553865", "title": "Store ouput over ssh using Net::SSH::Expect", "body": "<p>If you want to save the output of the commands in 1 report try this</p>\n\n<pre><code>use Net::SSH::Expect\nuse strict;\nuse warnings;\n\nmy $stdout = $ssh-&gt;exec($command);\nmy $stdout2 = $ssh-&gt;exec($command);\n\nmy $filename = 'report.txt';\nopen(my $fh, '&gt;', $filename) or die \"Could not open file '$filename' $!\";\nprint $fh \"$stdout\" . \"$stdout2\";\nclose $fh;\nprint \"done\\n\";\n</code></pre>\n\n<p>This should Print both variables into a .txt report</p>\n"}], "owner": {"reputation": 33, "user_id": 7954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wZJik.png?s=128&g=1", "display_name": "Ect0plasme", "link": "https://stackoverflow.com/users/7954635/ect0plasme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 629, "favorite_count": 2, "accepted_answer_id": 45492062, "answer_count": 2, "score": 3, "last_activity_date": 1502131958, "creation_date": 1501782155, "last_edit_date": 1501786293, "question_id": 45491192, "link": "https://stackoverflow.com/questions/45491192/store-ouput-over-ssh-using-netsshexpect", "title": "Store ouput over ssh using Net::SSH::Expect", "body": "<p>student worker here. It's my first time working with perl, and I seem to have ran out of solutions, so I need your help!</p>\n\n<p>I'm trying to store the ouput of a command on an HP Storeonce 3540 in a variable through the ssh module so I can extract some\ninformation I want to monitor:</p>\n\n<p>Not sure if it's useful, but FYI the output is this:</p>\n\n<p>system/show> performance</p>\n\n<pre><code>Service Set 1\n Storage Usage\n   Current: xxxxx TB\n   Maximum: xxxxx TB\n Throughput\n   VTL Read: 0 MB/s\n   VTL Write: 0 MB/s\n   NAS Read: 0 MB/s\n   NAS Write: 0 MB/s\n   Catalyst Read: 0 MB/s\n   Catalyst Write: 0 MB/s\n Replication\n   Inbound: 0 MB/s\n   Outbound: 0 MB/s\n Catalyst\n   Inbound: 0 MB/s\n   Outbound: 0 MB/s\n</code></pre>\n\n<p>Here's the code:</p>\n\n<pre><code>use Net::SSH::Expect;\nuse Capture::Tiny ':all';\nuse Backticks;\n( ... )\n  my $ssh = Net::SSH::Expect-&gt;new (\n          host =&gt; $hp_host,\n          password=&gt; $hp_pwd,\n          user =&gt; $hp_user,\n          raw_pty =&gt; 1,\n          timeout =&gt; 20\n         );\n  my $login_output = $ssh-&gt;login();\n  if ($login_output !~ /&gt;/)\n   {\n    die \"Login has failed. Login output was $login_output\";\n   }\n  $ssh-&gt;send(\"system\");\n  $ssh-&gt;waitfor('\\&gt;\\s*\\z', 5) or die \"Error #1-system\";\n  $ssh-&gt;send(\"show\");\n  $ssh-&gt;waitfor('\\&gt;\\s*\\z', 5) or die \"Error #2-show\";\n</code></pre>\n\n<p>Here I want to store the \"performance\" command's output.\n  I have tried a bunch of combinations so here it goes:</p>\n\n<p>1 - \n<code>say '$ssh-&gt;send(\"performance\")'-&gt;stdout;</code></p>\n\n<p>gets me this error:</p>\n\n<p><code>String found where operator expected at script_hpstoreonce.pl line 67, near \"say '$ssh-&gt;send(\"performance\")'\"\n        (Do you need to predeclare say?)\nsyntax error at script_hpstoreonce.pl line xx, near \"say '$ssh-&gt;send(\"performance\")'\"</code></p>\n\n<p>2 - \n<code>Backticks-&gt;run( '$ssh-&gt;send(\"performance\")' );\nprint $stdout;</code></p>\n\n<p>It does not print the output</p>\n\n<p>3 - \nEvery time I put the <code>\"$ssh-&gt; \"</code> in front of the command I get this error:</p>\n\n<p>ex:\n<code>$ssh-&gt;Backticks-&gt;run( 'send(\"performance\")' );</code>\nor\n<code>$string = $ssh-&gt;tee('performance');</code></p>\n\n<p>error:\n<code>Can't locate object method \"Backticks\"/or(\"Tee\")/ via package \"Net::SSH::Expect\" at script_hpstoreonce.pl line xx.</code></p>\n\n<p>4 - \n <code>$test = Backticks-&gt;stdout('performance');\n print $stdout;</code>\n or\n <code>print $test;</code></p>\n\n<p>error:\n<code>Can't locate object method \"Backticks\" via package \"Net::SSH::Expect\" at script_hpstoreonce.pl line xx.</code></p>\n\n<p>5 - \nI also tried to use the Capture::Tiny module but again:</p>\n\n<p><code>$stdout = capture { $ssh-&gt;send(\"performance\") };\n print $stdout;</code></p>\n\n<p>gets me this error:</p>\n\n<p><code>Can't locate object method \"capture\" via package \"Net::SSH::Expect\" at script_hpstoreonce.pl line xx.</code></p>\n\n<p>but</p>\n\n<p><code>($stdout, $stderr) = capture {$ssh-&gt;send(\"performance\")};\n  print $stdout;</code></p>\n\n<p>or</p>\n\n<p><code>$stdout = capture_stdout{$ssh-&gt;exec(\"performance\")};\n print $stdout;</code></p>\n\n<p>or</p>\n\n<p><code>my($stdout, $stderr, $exit) = $ssh-&gt;send('performance');\n print $stdout;</code></p>\n\n<p>or</p>\n\n<p><code>$stdout = $ssh-&gt;capture('performance');\n print $stdout;</code></p>\n\n<p>Does not print anything when I run the script.</p>\n\n<p>6 - \nSame thing goes for Tee:</p>\n\n<p><code>$string = tee {$ssh-&gt;send(\"performance\")};\n print $string;</code></p>\n\n<p>Doesn't print anything</p>\n\n<p>Since the same errors are popping up even when I use different modules, I understand that I'm probably\n missing something due to my lack of knowledge of the language and my lack of experience, but I can't \n seem to find what's wrong here. Is the problem in the <code>$ssh-&gt;</code> protocole??</p>\n\n<p>Thank you </p>\n"}, {"tags": ["perl", "session", "iis", "cookies", "mojolicious-lite"], "comments": [{"owner": {"reputation": 21, "user_id": 7569675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bbajghGmk6g/AAAAAAAAAAI/AAAAAAAAOXM/-hnAzSOX5EU/photo.jpg?sz=128", "display_name": "Brandon Woodson", "link": "https://stackoverflow.com/users/7569675/brandon-woodson"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501805616, "post_id": 45489708, "comment_id": 77954087, "body": "The curl tests showed that the code was running in development mode which was passing the debug messages to headers. Makes sense. But it&#39;s still not passing cookies."}, {"owner": {"reputation": 21, "user_id": 7569675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bbajghGmk6g/AAAAAAAAAAI/AAAAAAAAOXM/-hnAzSOX5EU/photo.jpg?sz=128", "display_name": "Brandon Woodson", "link": "https://stackoverflow.com/users/7569675/brandon-woodson"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1501810556, "post_id": 45489708, "comment_id": 77955168, "body": "Okay, I&#39;ve added the steps I used to install and configure IIS. I&#39;m using ActivePerl 5.24 with the only extra module installed being Mojolicious 7.25."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501862929, "post_id": 45489708, "comment_id": 77983546, "body": "OK, I spent quite some time trying to figure out what is going on with no success here. Please do update us if you do figure it out. Sorry couldn&#39;t be of more help."}, {"owner": {"reputation": 21, "user_id": 7569675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bbajghGmk6g/AAAAAAAAAAI/AAAAAAAAOXM/-hnAzSOX5EU/photo.jpg?sz=128", "display_name": "Brandon Woodson", "link": "https://stackoverflow.com/users/7569675/brandon-woodson"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501896614, "post_id": 45489708, "comment_id": 77996066, "body": "Thanks for taking a look! I&#39;ll update the thread as my troubleshooting continues."}], "owner": {"reputation": 21, "user_id": 7569675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bbajghGmk6g/AAAAAAAAAAI/AAAAAAAAOXM/-hnAzSOX5EU/photo.jpg?sz=128", "display_name": "Brandon Woodson", "link": "https://stackoverflow.com/users/7569675/brandon-woodson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1501810445, "creation_date": 1501777278, "last_edit_date": 1592644375, "question_id": 45489708, "link": "https://stackoverflow.com/questions/45489708/session-cookies-with-mojolicious-on-iis", "title": "Session cookies with Mojolicious on IIS", "body": "<h1>Initial post</h1>\n<p>I've posted about my issue <a href=\"https://groups.google.com/forum/#!topic/mojolicious/4xzcwFbk-_U\" rel=\"nofollow noreferrer\">on the Mojolicious forum</a> but am still looking for a solution.</p>\n<p>For various reasons I'm trying to get some Mojolicious apps I've written to  run on IIS. I have a 7.5 (2k8r2) and 8.5 (2k12r2) server to test with.</p>\n<p>The IIS setup is very basic. I created a new application under the Default Web Site, pointed it to the code, added the Perl Handler Mapping, and added a default document. The path to the site is <code>http://server.example.com/sessiontest/</code></p>\n<p>After getting the site setup and running, everything is working as expected except that sessions are not working. I wrote a <a href=\"https://github.com/BWoodson/MojoSession\" rel=\"nofollow noreferrer\">test app</a> to test with. At the start of the script I'm setting up the session:</p>\n<pre><code># Setup sessions\napp-&gt;secrets(['SessionTest']);\napp-&gt;sessions-&gt;cookie_name('sessiontest');\n</code></pre>\n<p>Setting the session variable:</p>\n<pre><code>get '/set' =&gt; sub {\n my $c = shift;\n \n $c-&gt;session(testvar =&gt; 1);\n $c-&gt;redirect_to('/');\n};\n</code></pre>\n<p>And testing to see if it exists with a helper:</p>\n<pre><code>helper testvar =&gt; sub {\n my $c = shift;\n \n if($c-&gt;session('testvar')) {\n  return 1;\n }\n \n return undef;\n};\n</code></pre>\n<p>When I run the code with Morbo on either server it runs fine and sessions are working. But under IIS I get nothing.</p>\n<p>One of the suggestions I received was to look at the cookie domain and cookie path. As a test I tried setting a test domain name in the hosts file of the server and the client for the servers IP at <code>test.example.com</code>. I them added:</p>\n<pre><code>app-&gt;sessions-&gt;cookie_domain('.example.com');\napp-&gt;sessions-&gt;cookie_path('/sessiontest');\n</code></pre>\n<p>I'm assuming the <code>cookie_path</code> should be '/' which I have also tried with no luck.</p>\n<p>Any help would be appreciated!</p>\n<h2>IIS Config</h2>\n<p>This is a freshly installed W2k12R2 box running IIS 8.5. I have ActivePerl 5.24 installed. The config is as basic as I can get. Here's the steps I took to configure IIS.</p>\n<ul>\n<li>Install IIS w/ CGI support</li>\n<li>Copy test app to C:\\Code\\sessiontest\\</li>\n<li>From Default Web Site -&gt; Add Application</li>\n<li>Alias: sessiontest, Physical path: C:\\Code\\sessiontest\\</li>\n<li>Select sessiontest application</li>\n<li>Add Handler Mapping for *.pl to C:\\Perl64\\bin\\perl.exe &quot;%s&quot; %s</li>\n<li>Add Default Document for app.pl</li>\n</ul>\n<h2>Output from curl</h2>\n<p>Result from curl to the IIS server.</p>\n<pre><code>curl -I http://server.example.com/sessiontest/app.pl/set\nHTTP/1.1 200 OK\nContent-Length: 160\nContent-Type: text/html;charset=UTF-8\nServer: Microsoft-IIS/7.5\n[Thu Aug  3 19: 49:38 2017] [debug] HEAD &quot;/&quot;\n[Thu Aug  3 19: 49:38 2017] [debug] Routing to a callback\n[Thu Aug  3 19: 49:38 2017] [debug] Rendering template &quot;index.html.ep&quot; from DATA section\n[Thu Aug  3 19: 49:38 2017] [debug] Rendering template &quot;layouts/default.html.ep&quot; from DATA section\n[Thu Aug  3 19: 49:38 2017] [debug] 200 OK (0.002271s, 440.335/s)\nDate: Thu, 03 Aug 2017 23:49:38 GMT\n</code></pre>\n<p>Versus the result of running from Morbo</p>\n<pre><code>curl -I http://server.example.com:3000/set\nHTTP/1.1 302 Found\nContent-Length: 0\nDate: Thu, 03 Aug 2017 23:51:29 GMT\nLocation: /\nServer: Mojolicious (Perl)\nSet-Cookie: sessiontest=eyJleHBpcmVzIjoxNTAxODA3ODg5LCJ0ZXN0dmFyIjoxfQ----96063fca63a3457e89becc55d7df39898466bb99; expires=Fri, 04 Aug 2017 00:51:29 GMT; path=/; HttpOnly\n</code></pre>\n<p>I set the mode to production and now I'm getting something closer on IIS.</p>\n<pre><code>curl -I http://server.example.com/sessiontest/app.pl/set\nHTTP/1.1 200 OK\nContent-Length: 160\nContent-Type: text/html;charset=UTF-8\nServer: Microsoft-IIS/7.5\nDate: Fri, 04 Aug 2017 00:04:30 GMT\n</code></pre>\n"}, {"tags": ["perl", "while-loop"], "answers": [{"comments": [{"owner": {"reputation": 373, "user_id": 3138373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3a952083dbeb745df5ab4f9bda2abe7c?s=128&d=identicon&r=PG&f=1", "display_name": "user3138373", "link": "https://stackoverflow.com/users/3138373/user3138373"}, "edited": false, "score": 0, "creation_date": 1501776588, "post_id": 45489254, "comment_id": 77940037, "body": "Hi Sinan, I am unable to understand this thing. Do I have to paste my code where your while(&lt;&gt;) thing is. Can you explain??"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 373, "user_id": 3138373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3a952083dbeb745df5ab4f9bda2abe7c?s=128&d=identicon&r=PG&f=1", "display_name": "user3138373", "link": "https://stackoverflow.com/users/3138373/user3138373"}, "edited": false, "score": 1, "creation_date": 1501780477, "post_id": 45489254, "comment_id": 77942575, "body": "@user3138373 Copy and paste his script into an editor and save it as <code>read_file_twice.pl</code>. Then run as <code>perl read_file_twice.pl input.txt</code>"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 4, "last_activity_date": 1501775873, "creation_date": 1501775873, "answer_id": 45489254, "question_id": 45489150, "link": "https://stackoverflow.com/questions/45489150/the-diamond-operator-seems-to-work-only-once/45489254#45489254", "title": "The diamond operator seems to work only once", "body": "<p>Save your <code>@ARGV</code> before exhausting it. Of course, this will only work for actual files specified on the command line, and not with <code>STDIN</code>.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nrun(@ARGV);\n\nsub run {\n    my @argv = @_;\n    first(@argv);\n    second(@argv);\n}\n\nsub first {\n    local @ARGV = @_;\n    print \"First pass: $_\" while &lt;&gt;;\n}\n\nsub second {\n    local @ARGV = @_;\n    print \"Second pass: $_\" while &lt;&gt;;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1501779213, "creation_date": 1501779213, "answer_id": 45490370, "question_id": 45489150, "link": "https://stackoverflow.com/questions/45489150/the-diamond-operator-seems-to-work-only-once/45490370#45490370", "title": "The diamond operator seems to work only once", "body": "<p>You read all there was to be read in the first loop, leaving nothing to read in the second.</p>\n\n<p>If the input aren't huge, you can simply load it into memory.</p>\n\n<pre><code>my @lines = &lt;&gt;;\nchomp( @lines );\n\nfor (@lines) {\n   ...\n}\n\nfor (@lines) {\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 373, "user_id": 3138373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3a952083dbeb745df5ab4f9bda2abe7c?s=128&d=identicon&r=PG&f=1", "display_name": "user3138373", "link": "https://stackoverflow.com/users/3138373/user3138373"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1501796995, "creation_date": 1501775636, "last_edit_date": 1501796995, "question_id": 45489150, "link": "https://stackoverflow.com/questions/45489150/the-diamond-operator-seems-to-work-only-once", "title": "The diamond operator seems to work only once", "body": "<p>I am writing a script in Perl where I have to open the same file twice in my code. This is my outline of the code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %forward=();\nmy %reverse=();\n\nwhile(&lt;&gt;){\n    chomp;\n    # store something\n    }   \n}\n\nwhile(&lt;&gt;){ # open the same file again\n    chomp;\n    #print something\n}\n</code></pre>\n\n<p>I am using the diamond operator so I am running the script like this</p>\n\n<pre><code>perl script.pl input.txt\n</code></pre>\n\n<p>But this is not producing any output. If I open the File using filehandle, the script works. What can be possibly wrong here?</p>\n"}, {"tags": ["perl", "xor"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1501773303, "post_id": 45488179, "comment_id": 77937626, "body": "Always use <code>use strict; use warnings qw( all );</code>!!!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1501773478, "post_id": 45488179, "comment_id": 77937767, "body": "Also: Don&#39;t use single letter variable names. If you <i>must</i> then <code>$a</code> and <code>$b</code> are bad choices, because they&#39;re used by <code>sort</code>."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1501773516, "post_id": 45488324, "comment_id": 77937797, "body": "... which <code>use strict; use warnings</code> tells you, and is why you should always use it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1502206041, "post_id": 45488324, "comment_id": 78104123, "body": "<code>1 xor 3</code> returns false  (<code>dualvar(0, &quot;&quot;)</code>) because <code>xor</code> is a logical operator. I On the other hand, <code>1 ^ 3</code> returns <code>2</code> because <code>^</code> is a bitwise operator. I think the OP wants the latter, though it&#39;s hard to tell from their example, though."}], "tags": [], "owner": {"reputation": 1611, "user_id": 727219, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7b909e202cedf918b13c4a8191af7e4d?s=128&d=identicon&r=PG", "display_name": "roirodriguez", "link": "https://stackoverflow.com/users/727219/roirodriguez"}, "is_accepted": false, "score": 2, "last_activity_date": 1501773380, "creation_date": 1501773380, "answer_id": 45488324, "question_id": 45488179, "link": "https://stackoverflow.com/questions/45488179/perl-xor-returns-unexpected-result/45488324#45488324", "title": "Perl xor returns unexpected result", "body": "<p>Precedence of the assignment is higher than xor. Just write:</p>\n\n<pre><code>$c = ($a xor $b);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 11, "last_activity_date": 1502206274, "last_edit_date": 1502206274, "creation_date": 1501773440, "answer_id": 45488349, "question_id": 45488179, "link": "https://stackoverflow.com/questions/45488179/perl-xor-returns-unexpected-result/45488349#45488349", "title": "Perl xor returns unexpected result", "body": "<p>Always use</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\n</code></pre>\n\n<p>It would have detected your precedence issue.</p>\n\n<pre><code>Useless use of logical xor in void context\n</code></pre>\n\n<p>Specifically,</p>\n\n<pre><code>$c = $a xor $b;\n</code></pre>\n\n<p>means</p>\n\n<pre><code>($c = $a) xor $b;\n</code></pre>\n\n<p>The operators <code>and</code>, <code>or</code>, <code>not</code> and <code>xor</code> have very low precedence. This makes <code>and</code>, <code>or</code> and <code>not</code> very useful for flow control.</p>\n\n<pre><code>... or die ...;\n... or next;\n</code></pre>\n\n<p><code>xor</code> doesn't short-circuit, so it's not useful for flow control.  <code>xor</code> was created for an entirely different reason. Like <code>or</code>, <code>xor</code> is a logical operator. That means considers the truth of its operand as whole instead of doing bit-by-bit comparisons. I don't believe this is the operation you want.</p>\n\n<p>Fix:</p>\n\n<pre><code>$c = $a ^ $b;\n</code></pre>\n\n<hr>\n\n<pre class=\"lang-none prettyprint-override\"><code>                                    Low\n                                    Precedence\nOperation   Bitwise     Logical     Logical\n----------  ----------  ----------  ----------\nNOT         ~           !           not\nAND         &amp;           &amp;&amp;          and\nOR          |           ||          or\nOR*         N/A         //          N/A\nXOR         ^           N/A         xor\n\nOR* - Like OR, but only undefined is considered false.\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3258730, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211341602229260/picture?type=large", "display_name": "Gorilla", "link": "https://stackoverflow.com/users/3258730/gorilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1502206274, "creation_date": 1501772971, "question_id": 45488179, "link": "https://stackoverflow.com/questions/45488179/perl-xor-returns-unexpected-result", "title": "Perl xor returns unexpected result", "body": "<p>What's going on here?  Why isn't $c == 1 ?</p>\n\n<pre><code>$ cat y.pl\n#!/usr/bin/perl\n$a = 0;\n$b = 1;\n$c = $a xor $b;\nprint \"$a ^ $b = $c\\n\";\n\n$ ./y.pl \n0 ^ 1 = 0\n</code></pre>\n"}, {"tags": ["perl", "bioperl", "vcftools"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1501772638, "post_id": 45487911, "comment_id": 77937106, "body": "The <code>.cpanm&#47;work</code> dirs are temporary work dirs used when installing the module. Ignore those."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1501772794, "post_id": 45487911, "comment_id": 77937215, "body": "Note that your installation of <code>perlbrew</code> is incomplete. The installer instructs you to add some code to your login script. That said, this probably has no bearing on the issue at hand."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501869181, "post_id": 45487911, "comment_id": 77986809, "body": "What&#39;s the output of <code>head -1 &#47;shared&#47;VelvetOptimiser-2.2.5&#47;VelvetOptimiser.pl</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2120, "user_id": 2663805, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/92739bbdeca8ea18b761af7d2efbea1a?s=128&d=identicon&r=PG", "display_name": "nad87563", "link": "https://stackoverflow.com/users/2663805/nad87563"}, "edited": false, "score": 0, "creation_date": 1501777141, "post_id": 45487990, "comment_id": 77940424, "body": "i tried what you said but it doesnt work. echo $PATH =/root/perl5/perlbrew/bin/:/shared/perl-5.16.1/localperl/bin&zwnj;&#8203;/:/usr/local/sbin:/u&zwnj;&#8203;sr/local/bin:/usr/sb&zwnj;&#8203;in:/usr/bin:/sbin:/b&zwnj;&#8203;in:/shared/samtools-&zwnj;&#8203;0.1.18/:/shared/velv&zwnj;&#8203;et_1.2.10/:/shared/V&zwnj;&#8203;elvetOptimiser-2.2.4"}, {"owner": {"reputation": 2120, "user_id": 2663805, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/92739bbdeca8ea18b761af7d2efbea1a?s=128&d=identicon&r=PG", "display_name": "nad87563", "link": "https://stackoverflow.com/users/2663805/nad87563"}, "edited": false, "score": 0, "creation_date": 1501780974, "post_id": 45487990, "comment_id": 77942929, "body": "I have added perl installation steps in my dockerfile."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1501778994, "last_edit_date": 1501778994, "creation_date": 1501772504, "answer_id": 45487990, "question_id": 45487911, "link": "https://stackoverflow.com/questions/45487911/cant-locate-bio-seqio-pm-in-inc/45487990#45487990", "title": "Can&#39;t locate Bio/SeqIO.pm in @INC", "body": "<p>Clearly, <code>/shared/VelvetOptimiser-2.2.5/VelvetOptimiser.pl</code> has</p>\n\n<pre><code>#!/usr/bin/env perl\n</code></pre>\n\n<p>as its shebang line. So, it will use the first <code>perl</code> it finds in the <code>$PATH</code>.</p>\n\n<p>You likely have a <code>perl</code> in <code>/usr/bin</code>. In your Docker file, you have:</p>\n\n<pre><code>ENV PATH=${PATH}:/root/perl5/perlbrew/bin/\n</code></pre>\n\n<p>That is, you likely put <code>/usr/bin</code> ahead of the <code>perlbrew</code> directory. So, <code>/usr/bin/env perl</code> is picking up <code>/usr/bin/perl</code> and not the <code>perl</code> you installed via <code>perlbrew</code> (which is also where you installed your new <code>perl</code>).</p>\n\n<p>So, try</p>\n\n<pre><code>ENV PATH=/root/perl5/perlbrew/bin/:${PATH}\n</code></pre>\n\n<p>In addition, I do not see you actually install a <code>perl</code> via <code>perlbrew</code>:</p>\n\n<p>You need</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perlbrew install 5.xx.x\nperlbrew switch 5.xx.x\n</code></pre>\n\n<p>before installing <code>cpanm</code> and installing <code>Bio::Perl</code>.</p>\n"}], "owner": {"reputation": 2120, "user_id": 2663805, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/92739bbdeca8ea18b761af7d2efbea1a?s=128&d=identicon&r=PG", "display_name": "nad87563", "link": "https://stackoverflow.com/users/2663805/nad87563"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5638, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1526401294, "creation_date": 1501772325, "last_edit_date": 1526401294, "question_id": 45487911, "link": "https://stackoverflow.com/questions/45487911/cant-locate-bio-seqio-pm-in-inc", "title": "Can&#39;t locate Bio/SeqIO.pm in @INC", "body": "<p>Hi I am trying to install VelvetOptimizer using docker. and it say Can't locate Bio/SeqIO.pm in @INC.   It requires the following to be installed:\nVelvet >= 0.7.51 ,Perl >= 5.8, BioPerl >= 1.4 and i have installed them</p>\n\n<p>Please find the Dockerfile:</p>\n\n<pre><code>FROM amazonlinux\n\n\n\nWORKDIR /shared\n    RUN yum -y install gcc\n    ADD http://www.cpan.org/src/5.0/perl-5.16.1.tar.gz /shared\n    RUN tar -xzf perl-5.16.1.tar.gz\n    WORKDIR /shared/perl-5.16.1\n    RUN ./Configure -des -Dprefix=/shared/perl-5.16.1/localperl\n    RUN make\n    RUN make test\n    RUN make install\n    RUN echo \u201cPerl Installation Complete\u201d\n    ENV PATH=/shared/perl-5.16.1/localperl/bin/:${PATH}\n\nWORKDIR /shared\nADD http://www.ebi.ac.uk/~zerbino/velvet/velvet_latest.tgz .\nRUN tar -xvf /shared/velvet_latest.tgz\nWORKDIR /shared/velvet_1.2.10/\nRUN make\nENV PATH=${PATH}:/shared/velvet_1.2.10/\n\nWORKDIR /shared\nRUN echo \"BIO PERL INSTALLATION\"\nRUN \\wget -O - https://install.perlbrew.pl | bash\nENV PATH=${PATH}:/root/perl5/perlbrew/bin/\nRUN perlbrew install-cpanm\nRUN cpanm Bio::Perl\n\nWORKDIR /shared\nADD http://www.vicbioinformatics.com/VelvetOptimiser-2.2.5.tar.gz .\nRUN tar zxvf VelvetOptimiser-2.2.5.tar.gz\nENV PATH=${PATH}:/shared/VelvetOptimiser-2.2.4\n</code></pre>\n\n<p>When I run the command/shared/VelvetOptimiser-2.2.5/VelvetOptimiser.pl \nI get the below error:</p>\n\n<p>Error:</p>\n\n<pre><code>Can't locate Bio/SeqIO.pm in @INC (@INC contains: /shared/VelvetOptimiser-2.2.5 /shared/vcftools/src/perl /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /shared/VelvetOptimiser-2.2.5/VelvetOpt/Assembly.pm line 238.\nBEGIN failed--compilation aborted at /shared/VelvetOptimiser-2.2.5/VelvetOpt/Assembly.pm line 238.\nCompilation failed in require at /shared/VelvetOptimiser-2.2.5/VelvetOptimiser.pl line 37.\nBEGIN failed--compilation aborted at /shared/VelvetOptimiser-2.2.5/VelvetOptimiser.pl line 37.\n</code></pre>\n\n<p>But when I use \"find\" command: I am able to find the files.</p>\n\n<pre><code>./root/.cpanm/work/1501770319.1/BioPerl-1.007001/blib/lib/Bio/SeqIO.pm\n./root/.cpanm/work/1501770319.1/BioPerl-1.007001/Bio/SeqIO.pm\n./shared/perl-5.16.1/localperl/lib/site_perl/5.16.1/Bio/SeqIO.pm\n</code></pre>\n\n<p>I think its not be found in Perl's include path, which is represented by the variable named @INC.\nCan anyone please let me know how to  fix this issue. how to add it in perls include path.</p>\n"}, {"tags": ["perl", "sockets", "dns"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501772162, "post_id": 45487573, "comment_id": 77936717, "body": "What happened when you sent DNS queries via UDP to the DNS server of your choice?"}], "answers": [{"comments": [{"owner": {"reputation": 747, "user_id": 2474912, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/i6p16.gif?s=128&g=1", "display_name": "JohnnyLoo", "link": "https://stackoverflow.com/users/2474912/johnnyloo"}, "edited": false, "score": 0, "creation_date": 1501785302, "post_id": 45487840, "comment_id": 77945474, "body": "You can do DNS lookups using the core Socket module in Perl. I just don&#39;t know if there is a way to force it to use a different DNS server from the one used by the system on which the script runs."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 747, "user_id": 2474912, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/i6p16.gif?s=128&g=1", "display_name": "JohnnyLoo", "link": "https://stackoverflow.com/users/2474912/johnnyloo"}, "edited": false, "score": 0, "creation_date": 1501786300, "post_id": 45487840, "comment_id": 77945990, "body": "No, there&#39;s no function that does DNS lookups in Socket. There are functions that resolve names (e.g. <code>inet_aton</code>) that <i>may</i> result in a DNS call, but that&#39;s not the same thing. For example, most systems have a host file that&#39;s consulted first when you asked the system to resolve a name."}, {"owner": {"reputation": 747, "user_id": 2474912, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/i6p16.gif?s=128&g=1", "display_name": "JohnnyLoo", "link": "https://stackoverflow.com/users/2474912/johnnyloo"}, "edited": false, "score": 0, "creation_date": 1501786435, "post_id": 45487840, "comment_id": 77946080, "body": "I get the job done (get hostname for ip and ip for hostname) with Socket module alone if that makes it easy to understand my point..... Thank you"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 747, "user_id": 2474912, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/i6p16.gif?s=128&g=1", "display_name": "JohnnyLoo", "link": "https://stackoverflow.com/users/2474912/johnnyloo"}, "edited": false, "score": 0, "creation_date": 1501786476, "post_id": 45487840, "comment_id": 77946106, "body": "No, you don&#39;t, which is why you&#39;re asking how to do it. You don&#39;t want to get hostname for ip and ip for hostname, you want to ask a specific DNS server to resolve a hostname using core Perl. And to that, I answer: core Perl doesn&#39;t include anything that talks to DNS servers."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1501772161, "creation_date": 1501772161, "answer_id": 45487840, "question_id": 45487573, "link": "https://stackoverflow.com/questions/45487573/perl-dns-lookup-using-socket-and-a-specific-dns-server/45487840#45487840", "title": "Perl - DNS lookup using Socket and a specific DNS server", "body": "<p>You could write your own DNS client or \"shell out\" to an external tool. Otherwise, there's no way to do DNS lookups with just core Perl<sup>[1]</sup>, much less querying specific servers.</p>\n\n<hr>\n\n<ol>\n<li>There are some functions that can end up doing DNS lookups some of the time as part of a larger name-resolution system (e.g. <code>inet_aton</code>).</li>\n</ol>\n"}], "owner": {"reputation": 747, "user_id": 2474912, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/i6p16.gif?s=128&g=1", "display_name": "JohnnyLoo", "link": "https://stackoverflow.com/users/2474912/johnnyloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 488, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1501772161, "creation_date": 1501771556, "question_id": 45487573, "link": "https://stackoverflow.com/questions/45487573/perl-dns-lookup-using-socket-and-a-specific-dns-server", "title": "Perl - DNS lookup using Socket and a specific DNS server", "body": "<p>I use the Socket module to do DNS lookups with Perl. The Socket module uses whichever DNS server the system it runs on is using. Is there a way to force the Socket module use a different DNS server?</p>\n\n<p>I know there are other modules such as \"Net::DNS::Resolver\", but I'd like to use core Perl modules for this.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["perl", "networking", "tcp", "wireshark", "flags"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501774146, "post_id": 45487494, "comment_id": 77938245, "body": "Wouldn&#39;t it be <code>window</code>? (&quot;<i>If ARGPROTO is tcp PROTOKEY can be one of (source, dest, seq, ack_seq, doff, res1, res2, urg, ack, psh, rst, syn, fin, window, check, urg_ptr, data).</i>&quot;)"}, {"owner": {"reputation": 35, "user_id": 8412298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf218f6c4bceb689dd094a247d9274a5?s=128&d=identicon&r=PG&f=1", "display_name": "Flip", "link": "https://stackoverflow.com/users/8412298/flip"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1501774412, "post_id": 45487494, "comment_id": 77938455, "body": "No, <code>window</code> sets the window size value."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1501869896, "last_edit_date": 1501869896, "creation_date": 1501869444, "answer_id": 45512899, "question_id": 45487494, "link": "https://stackoverflow.com/questions/45487494/perl-rawip-cwr-flag/45512899#45512899", "title": "Perl RawIP CWR Flag", "body": "<p><code>res2</code> is two bits wide. </p>\n\n<pre><code>res2 =&gt; 1   # ECE\nres2 =&gt; 2   # CWR\nres2 =&gt; 3   # ECE &amp; CWR\n</code></pre>\n\n<p>(It might be the opposite on big-endian machines, but I doubt it.)</p>\n\n<p>(<code>res1</code> is the 4 bits labeled as \"Reserved\" and \"Nonce\" in the Wireshark capture.)</p>\n"}], "owner": {"reputation": 35, "user_id": 8412298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf218f6c4bceb689dd094a247d9274a5?s=128&d=identicon&r=PG&f=1", "display_name": "Flip", "link": "https://stackoverflow.com/users/8412298/flip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 1, "accepted_answer_id": 45512899, "answer_count": 1, "score": 3, "last_activity_date": 1501869896, "creation_date": 1501771357, "last_edit_date": 1501771746, "question_id": 45487494, "link": "https://stackoverflow.com/questions/45487494/perl-rawip-cwr-flag", "title": "Perl RawIP CWR Flag", "body": "<p>I'm using Net::RawIP to send packets with specific TCP flags. Is there a way to set the CWR flag? \nTCP protokey \"res2\" sets the ECE flag, but \"res1\" seems to set the NS flag:</p>\n\n<pre><code>$n = Net::RawIP-&gt;new({\nip  =&gt; {\n        saddr =&gt; 'my.target.lan',\n        daddr =&gt; 'my.target.lan',\n       },\ntcp =&gt; {\n        source =&gt; 123,\n        dest   =&gt; 123,\n        res1   =&gt; 1,\n        res2   =&gt; 1,\n        fin    =&gt; 1,\n        syn    =&gt; 1\n       }\n});\n</code></pre>\n\n<p>Here's a Wireshark capture of the packet's flags:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WsgaC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WsgaC.png\" alt=\"Wireshark capture of the packet&#39;s flags\"></a></p>\n"}, {"tags": ["perl", "rest", "lwp"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501768948, "post_id": 45486313, "comment_id": 77933812, "body": "<code>true</code> and <code>&#39;true&#39;</code> don&#39;t mean the same thing. <code>[ ... ]</code> and <code>{ ... }</code> are not interchangeable."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501769238, "post_id": 45486313, "comment_id": 77934073, "body": "@Sinan&#220;n&#252;r <code>[</code> <code>]</code> and <code>{</code> <code>}</code> are mostly interchangeable when it comes to posting form data with LWP."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501773572, "post_id": 45486313, "comment_id": 77937831, "body": "@melpomene You are assuming that the software on the receiving side does not care about the order in which parameters are specified. Unlikely, sure, but not unimaginable."}], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1501770563, "post_id": 45486608, "comment_id": 77935259, "body": "Thanks. From a long time I&#39;m trying. Actually, I want the solution with PHP so I was risen the same <a href=\"https://stackoverflow.com/questions/45481851/post-the-data-with-header-in-curl-not-working-in-php/45487040#45487040\">question</a> in PHP tag but I didn&#39;t get the result. But after decoding it is working thanks."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 2, "last_activity_date": 1501769198, "creation_date": 1501769198, "answer_id": 45486608, "question_id": 45486313, "link": "https://stackoverflow.com/questions/45486313/how-to-make-the-post-request-in-box-api-using-lwpuseragent/45486608#45486608", "title": "How to make the post request in BOX API using LWP::UserAgent?", "body": "<p>The <a href=\"https://developer.box.com/v2.0/reference#section-inputoutput-format\" rel=\"nofollow noreferrer\">Box API documentation says</a>:</p>\n\n<blockquote>\n  <p>Both request body data and response data are formatted as <a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">JSON</a>.</p>\n</blockquote>\n\n<p>Your code is sending <a href=\"https://metacpan.org/pod/HTTP::Request::Common#POST-$url\" rel=\"nofollow noreferrer\">form-encoded data</a> instead.</p>\n\n<p>Also, it looks like <code>Authorization</code> is supposed to be an HTTP header, not a form field.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse LWP::UserAgent;\nuse JSON::PP;\n\nmy $url = \"https://api.box.com/2.0/users/\";\nmy $payload = {\n    name =&gt; 'mkhun',\n    is_platform_access_only =&gt; \\1,\n};\n\nmy $ua = LWP::UserAgent-&gt;new;\n\nmy $response = $ua-&gt;post(\n    $url,\n    Authorization =&gt; 'Bearer &lt;TOKEN&gt;',\n    Content =&gt; encode_json($payload),\n);\n</code></pre>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 919, "favorite_count": 0, "accepted_answer_id": 45486608, "answer_count": 1, "score": 1, "last_activity_date": 1501769403, "creation_date": 1501768450, "last_edit_date": 1501769403, "question_id": 45486313, "link": "https://stackoverflow.com/questions/45486313/how-to-make-the-post-request-in-box-api-using-lwpuseragent", "title": "How to make the post request in BOX API using LWP::UserAgent?", "body": "<p>I have tried the following code</p>\n\n<pre><code>my $url = \"https://api.box.com/2.0/users/\";\n\nuse strict;\nuse warnings;\n\nuse LWP::UserAgent; \nuse HTTP::Request::Common qw{ POST };\nuse CGI;\n\nmy $ua      = LWP::UserAgent-&gt;new();\nmy $request = POST( $url, [ 'name' =&gt; 'mkhun', 'is_platform_access_only' =&gt; 'true',\"Authorization\" =&gt; \"Bearer &lt;ACC TOK&gt;\" ] );\nmy $content = $ua-&gt;request($request)-&gt;as_string();\n\nmy $cgi = CGI-&gt;new();\nprint $cgi-&gt;header(), $content;\n</code></pre>\n\n<p>The above code always give the 400 error. And throwing the </p>\n\n<pre><code>{\"type\":\"error\",\"status\":400,\"code\":\"bad_request\",\"context_info\":{\"errors\":[{\"reason\":\"invalid_parameter\",\"name\":\"entity-body\",\"message\":\"Invalid value 'is_platform_access_only=true&amp;Authorization=Bearer+WcpZasitJWVDQ87Vs1OB9dQedRVyOrs6&amp;name=mkhun'. Entity body should be a correctly nested resource attribute name\\/value pair\"}]},\n</code></pre>\n\n<p>I don't know what is the issue. The same thing with Linux curl is working. </p>\n\n<pre><code>curl https://api.box.com/2.0/users \\\n-H \"Authorization: Bearer &lt;TOKEN&gt;\" \\\n-d '{\"name\": \"Ned Stark\", \"is_platform_access_only\": true}' \\\n-X POST\n</code></pre>\n"}, {"tags": ["perl", "db2", "dbi"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 5, "creation_date": 1501767841, "post_id": 45486006, "comment_id": 77932748, "body": "&quot;showing some ambiguity error.&quot;???"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1501767986, "post_id": 45486006, "comment_id": 77932872, "body": "Missing <code>use warnings;</code>."}, {"owner": {"reputation": 86, "user_id": 6330057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1185636201448528/picture?type=large", "display_name": "Dipit Sethi", "link": "https://stackoverflow.com/users/6330057/dipit-sethi"}, "edited": false, "score": 0, "creation_date": 1501768438, "post_id": 45486006, "comment_id": 77933336, "body": "DBD::DB2::db prepare failed: [IBM][CLI Driver][DB2/AIX64] SQL0245N  The invocation of routine &quot;TIMESTAMP&quot; is ambiguous. The argument in position &quot;1&quot; does not have a best fit.  SQLSTATE=428F5 DBD::DB2::st execute failed: [IBM][CLI Driver][DB2/AIX64] SQL0245N  The invocation of routine &quot;TIMESTAMP&quot; is ambiguous. The argument in position &quot;1&quot; does not have a best fit.  SQLSTATE=428F5 Could not run : [IBM][CLI Driver][DB2/AIX64] SQL0245N  The invocation of routine &quot;TIMESTAMP&quot; is ambiguous. The argument in position &quot;1&quot; does not have a best fit.  SQLSTATE=428F5"}, {"owner": {"user_type": "does_not_exist", "display_name": "user146043"}, "edited": false, "score": 1, "creation_date": 1501769766, "post_id": 45486006, "comment_id": 77934543, "body": "Someone pointed out the confusing mention of an &quot;ambiguity error&quot; but the question remains unchanged. Fix it."}, {"owner": {"reputation": 86, "user_id": 6330057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1185636201448528/picture?type=large", "display_name": "Dipit Sethi", "link": "https://stackoverflow.com/users/6330057/dipit-sethi"}, "edited": false, "score": 0, "creation_date": 1501769952, "post_id": 45486006, "comment_id": 77934715, "body": "@Dr Eval : Yes, i have changed the query, if you see, i have added another query and commented previous one. Also i have shared the error as above."}, {"owner": {"user_type": "does_not_exist", "display_name": "user146043"}, "edited": false, "score": 1, "creation_date": 1501770281, "post_id": 45486006, "comment_id": 77935009, "body": "Not in comments, in the question itself. The question should be a concise statement of the problem with errors stated in full."}, {"owner": {"reputation": 86, "user_id": 6330057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1185636201448528/picture?type=large", "display_name": "Dipit Sethi", "link": "https://stackoverflow.com/users/6330057/dipit-sethi"}, "edited": false, "score": 0, "creation_date": 1501770481, "post_id": 45486006, "comment_id": 77935186, "body": "@Dr Eval : I did not change question because i am not sure whether i am using right syntax or code for the same. i have mentioned in general."}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1501771008, "post_id": 45486722, "comment_id": 77935696, "body": "It looks like you do not have a Perl question."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 86, "user_id": 6330057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1185636201448528/picture?type=large", "display_name": "Dipit Sethi", "link": "https://stackoverflow.com/users/6330057/dipit-sethi"}, "edited": false, "score": 0, "creation_date": 1501771567, "post_id": 45486722, "comment_id": 77936218, "body": "The only error message you posted is one emitted by the database."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1501772371, "last_edit_date": 1592644375, "creation_date": 1501769488, "answer_id": 45486722, "question_id": 45486006, "link": "https://stackoverflow.com/questions/45486006/unable-to-parse-date-in-the-code-and-flow-is-not-going-to-while-loop/45486722#45486722", "title": "Unable to parse date in the code and flow is not going to while loop", "body": "<p>The <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSEPEK_10.0.0/sqlref/src/tpc/db2z_bif_timestamp.html\" rel=\"nofollow noreferrer\">documentation for <code>TIMESTAMP</code></a> says:</p>\n<blockquote>\n<p>A character string or graphic string with an actual length of 14 that represents a valid date and time in the form <code>yyyyxxddhhmmss</code>, where <code>yyyy</code> is the year, <code>xx</code> is the month, <code>dd</code> is the day, <code>hh</code> is the hour, <code>mm</code> is the minute, and <code>ss</code> is the seconds.</p>\n</blockquote>\n<p>You are passing strings of actual length 19 such as <code>'2017-01-01 00:00:00'</code>.</p>\n<p>Pass timestamps formatted in the way DB2 expects them, e.g. <code>20170101000000</code>.</p>\n<p>If that did not work, then try the advice given in <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSEPGG_9.7.0/com.ibm.db2.luw.messages.sql.doc/doc/msql00245n.html\" rel=\"nofollow noreferrer\">DB2 documentation for error SQL0245N </a></p>\n<blockquote>\n<p>This error is returned when an invocation of a function is ambiguous. This occurs when there are two or more possible candidate functions that satisfy the criteria for function resolution.</p>\n<p>...</p>\n<p><strong>User response</strong></p>\n<p>Change the SQL statement to explicitly cast the argument to the desired data type, the definition of a function, or the SQL path to remove the ambiguity from the set of candidate functions and try again.</p>\n</blockquote>\n<p>and change your query to:</p>\n<pre><code>select distinct FID_CUST \nfrom session \nwhere DAT_END between\n     TIMESTAMP(cast(? as TIMESTAMP)) and\n     TIMESTAMP(cast(? as TIMESTAMP))\n</code></pre>\n<p>or similar.</p>\n<p>As I said, your question <em><strong>does not have any Perl content</strong></em>. If the syntax I concocted for casting strings to <code>TIMESTAMP</code>s is incorrect, ask your database admin for the correct DB2 SQL syntax.</p>\n"}, {"tags": [], "owner": {"reputation": 8474, "user_id": 8290634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d23c338d78a579b717f1cb6e9f16fb1b?s=128&d=identicon&r=PG&f=1", "display_name": "mao", "link": "https://stackoverflow.com/users/8290634/mao"}, "is_accepted": false, "score": 2, "last_activity_date": 1501774272, "last_edit_date": 1501774272, "creation_date": 1501773798, "answer_id": 45488491, "question_id": 45486006, "link": "https://stackoverflow.com/questions/45486006/unable-to-parse-date-in-the-code-and-flow-is-not-going-to-while-loop/45488491#45488491", "title": "Unable to parse date in the code and flow is not going to while loop", "body": "<p>Change all your timestamp literals from their current format    </p>\n\n<pre><code>'2017-01-01 00:00:00' =&gt; '2017-01-31 00:00:00',\n</code></pre>\n\n<p>into</p>\n\n<pre><code>'2017-01-01-00.00.00.000000' =&gt; '2017-01-31-00.00.00.000000',\n</code></pre>\n"}], "owner": {"reputation": 86, "user_id": 6330057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1185636201448528/picture?type=large", "display_name": "Dipit Sethi", "link": "https://stackoverflow.com/users/6330057/dipit-sethi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1501774272, "creation_date": 1501767697, "last_edit_date": 1501771415, "question_id": 45486006, "link": "https://stackoverflow.com/questions/45486006/unable-to-parse-date-in-the-code-and-flow-is-not-going-to-while-loop", "title": "Unable to parse date in the code and flow is not going to while loop", "body": "<pre><code>#! /usr/bin/perl\n\nuse DBI;\nuse strict;\nuse Data::Dumper;\n\nmy $dbh = DBI-&gt;connect(\"DBI:DB2:xxx\",'xxx','xxx',{ RaiseError =&gt; 0,  AutoCommit =&gt; 1 })\nor die (\"Could not connect to database :\".DBI-&gt;errstr);\n\nmy %hash =\n(\n'2017-01-01 00:00:00' =&gt; '2017-01-31 00:00:00',\n'2017-02-01 00:00:00' =&gt; '2017-02-28 00:00:00',\n'2017-03-01 00:00:00' =&gt; '2017-03-31 00:00:00',\n'2017-04-01 00:00:00' =&gt; '2017-04-30 00:00:00',\n'2017-05-01 00:00:00' =&gt; '2017-05-31 00:00:00',\n'2017-06-01 00:00:00' =&gt; '2017-06-30 00:00:00',\n'2017-07-01 00:00:00' =&gt; '2017-07-31 00:00:00',\n'2017-08-01 00:00:00' =&gt; '2017-08-31 00:00:00',\n'2017-09-01 00:00:00' =&gt; '2017-09-30 00:00:00'\n);\n\n#open(my $fh , \"+&gt;/var/www/bin/filesample.txt\");\n\nforeach my $key(sort keys %hash) {\n  chomp($key);\n  #my $sql = \"select distinct FID_CUST from session where DAT_END between ? and ?\";\n  my $sql = \"select distinct FID_CUST from session where DAT_END between TIMESTAMP(?) and TIMESTAMP(?)\";\n  print \"\\$sql = $sql\\n\";\n  my $sth = $dbh-&gt;prepare($sql);\n  $sth-&gt;execute($key,$hash{$key}) or die \"Couldn't execute statement: $DBI::errstr\";\n  print \"sth: $sth\\n\";\n\n  while (my $arr = $sth-&gt;fetchrow_arrayref()){\n    print \"in while\\n\";\n    print \"@$arr\\n\";\n  }\n  $sth-&gt;finish();\n}\n#close FH;\n$dbh-&gt;disconnect;\n</code></pre>\n\n<p>Here, i am not able to get what is wrong with the code as control is not going to while loop. Please suggest what can be done. I am using DB2 database. I am not getting any error but it simply won't show any output. I have used TIMESTAMP also with placeholders but it is showing some ambiguity error.</p>\n"}, {"tags": ["perl", "sed"], "comments": [{"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1501775289, "post_id": 45485012, "comment_id": 77939092, "body": "Sed can&#39;t do arithmetic with capture groups.  Perl etc could."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 8267952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b2ef54d99c06b6bf90bfe866cd939f2b?s=128&d=identicon&r=PG&f=1", "display_name": "ran1n", "link": "https://stackoverflow.com/users/8267952/ran1n"}, "edited": false, "score": 0, "creation_date": 1501871257, "post_id": 45487418, "comment_id": 77987784, "body": "Thanks RomanPerekhrest for the one liner. This is really useful. But i need to run this on systems without the datamash installation. Couple of extra lines won&#39;t matter, but i need this in pure sed or perl. Thanks!"}, {"owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "reply_to_user": {"reputation": 147, "user_id": 8267952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b2ef54d99c06b6bf90bfe866cd939f2b?s=128&d=identicon&r=PG&f=1", "display_name": "ran1n", "link": "https://stackoverflow.com/users/8267952/ran1n"}, "edited": false, "score": 0, "creation_date": 1501912677, "post_id": 45487418, "comment_id": 77998327, "body": "@ran1n, added awk solution"}], "tags": [], "owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "is_accepted": false, "score": 1, "last_activity_date": 1501912664, "last_edit_date": 1501912664, "creation_date": 1501771169, "answer_id": 45487418, "question_id": 45485012, "link": "https://stackoverflow.com/questions/45485012/sed-perl-one-liner-for-parsing-csv-file-and-calculating-averages/45487418#45487418", "title": "sed/perl one liner for parsing csv file and calculating averages", "body": "<p>The solution using <strong>datamash</strong> + <strong>sort</strong> + <strong>cut</strong> pipeline:</p>\n\n<pre><code>datamash -ft, -g 1 mean 3 mean 4 &lt; &lt;(tail -n +2 yourfile | sort -t, -k1,2) | cut -d, -f1,2,5,6\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>299889,00:39:00,9.3085,4.32567\n9110089,12:59:00,18.637566666667,21.937\n9199888,01:50:00,10.30765,21.7318\n</code></pre>\n\n<hr>\n\n<p>Additional <strong><em>gawk</em></strong> approach:</p>\n\n<pre><code>awk -F, 'NR&lt;8{ a[$1][\"avg1\"]+=$3; a[$1][\"avg2\"]+=$4; c[$1]++; if(!($1 in t)) t[$1]=$2 }\n     END{ for(i in a) print i,t[i],a[i][\"avg1\"]/c[i],a[i][\"avg2\"]/c[i] }' OFS=',' \\\n     &lt;(sort -t, -k1,2 yourfile)\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>299889,00:39:00,9.3085,4.32567\n9110089,12:59:00,18.6376,21.937\n9199888,01:50:00,10.3077,21.7318\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 8267952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b2ef54d99c06b6bf90bfe866cd939f2b?s=128&d=identicon&r=PG&f=1", "display_name": "ran1n", "link": "https://stackoverflow.com/users/8267952/ran1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501912664, "creation_date": 1501765292, "last_edit_date": 1501871516, "question_id": 45485012, "link": "https://stackoverflow.com/questions/45485012/sed-perl-one-liner-for-parsing-csv-file-and-calculating-averages", "title": "sed/perl one liner for parsing csv file and calculating averages", "body": "<p>I have a requirement of a one liner in Sed which can do an inplace edit to a CSV file having the below data. I need to identify unique process id's having the lowest start time. And in the process find average of the process.</p>\n\n<p>Example in below data, i would need the output as <br><br>\n9110089, 12:59:00, calculated (4.1916 + 38.5992 + 13.1219)/3 , calculated (6.702 + 50.619 + 8.49)/3 <br>\n9199888, 01:50:00, calculated (3.7563 + 16.859)/2, calculated (1.956 + 41.5076)/2 <br><br>\n(Note: Spaces entered between columns, just for illustration)</p>\n\n<p><strong>DATA</strong> <br></p>\n\n<pre><code>process    start    avg1   avg2\n9110089, 14:59:00, 4.1916, 6.702\n9110089, 12:59:00, 38.5992, 50.619\n9110089, 19:50:00, 13.1219, 8.49\n9199888, 10:50:00, 3.7563,  1.956\n9199888, 01:50:00, 16.859,  41.5076\n299889,  00:39:00, 14.947,  5.4813\n299889,  00:39:00, 3.67,    3.17004\n</code></pre>\n\n<p>Please provide me some pointers, really bad at one liners.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1501761518, "post_id": 45483495, "comment_id": 77927478, "body": "You need the <code>relative</code> or <code>absolut</code> path?  if <code>relative</code>, <code>relative</code> to what?"}, {"owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1501761634, "post_id": 45483495, "comment_id": 77927577, "body": "The absolute refers to <code>&#47;a&#47;b&#47;c&#47;file.txt</code>. I want the <code>&#47;a&#47;b&#47;c&#47;</code>. I call it relative! Isn&#39;t that true? If I say the parent, then some may think of <code>c&#47;</code>."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1501761764, "post_id": 45483495, "comment_id": 77927677, "body": "In my understanding a relative path is relative to something, like the cwd. an absolut path starts at the root directory"}, {"owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1501761848, "post_id": 45483495, "comment_id": 77927726, "body": "Well I agree, but as I said the actual working directory in my case is <code>&#47;a&#47;b</code>."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1501761982, "post_id": 45483495, "comment_id": 77927828, "body": "So you want as output?"}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1501762639, "post_id": 45483495, "comment_id": 77928357, "body": "So you want not relative path but absolute path of directory that file is located in?"}, {"owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "edited": false, "score": 0, "creation_date": 1501762751, "post_id": 45483495, "comment_id": 77928449, "body": "Yes. The question has been answered though"}], "answers": [{"comments": [{"owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "edited": false, "score": 0, "creation_date": 1501761898, "post_id": 45483641, "comment_id": 77927753, "body": "Is <code>-</code> special character in the file name?"}, {"owner": {"reputation": 6319, "user_id": 6170890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rIxw.jpg?s=128&g=1", "display_name": "Nino", "link": "https://stackoverflow.com/users/6170890/nino"}, "reply_to_user": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "edited": false, "score": 0, "creation_date": 1501762066, "post_id": 45483641, "comment_id": 77927890, "body": "@mahmood i have added - as allowed char for filename"}], "tags": [], "owner": {"reputation": 6319, "user_id": 6170890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rIxw.jpg?s=128&g=1", "display_name": "Nino", "link": "https://stackoverflow.com/users/6170890/nino"}, "is_accepted": false, "score": 2, "last_activity_date": 1501762030, "last_edit_date": 1501762030, "creation_date": 1501761775, "answer_id": 45483641, "question_id": 45483495, "link": "https://stackoverflow.com/questions/45483495/getting-absolute-path-with-perl/45483641#45483641", "title": "Getting absolute path with Perl", "body": "<p>if filenames are without special characters, and are formatted as name.ext, you can use regex such as this one:</p>\n\n<pre><code>(.*\\/)[\\w-]+\\.[\\w]{3}\n</code></pre>\n\n<p>filename can consist of A-Z, a-z, 0-9 and - (minus)</p>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 8277195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1b7f75532436a03353b9af3e9c7e8c?s=128&d=identicon&r=PG&f=1", "display_name": "Fritz", "link": "https://stackoverflow.com/users/8277195/fritz"}, "is_accepted": true, "score": 5, "last_activity_date": 1501761894, "creation_date": 1501761894, "answer_id": 45483683, "question_id": 45483495, "link": "https://stackoverflow.com/questions/45483495/getting-absolute-path-with-perl/45483683#45483683", "title": "Getting absolute path with Perl", "body": "<pre><code>use File::Basename;\nmy $path = \"/a/b/c/file.txt\";\nmy ($filename, $dir) = fileparse($path);\n</code></pre>\n"}], "owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "closed_date": 1501775923, "accepted_answer_id": 45483683, "answer_count": 2, "score": -1, "last_activity_date": 1501797618, "creation_date": 1501761375, "last_edit_date": 1501797618, "question_id": 45483495, "link": "https://stackoverflow.com/questions/45483495/getting-absolute-path-with-perl", "closed_reason": "Needs details or clarity", "title": "Getting absolute path with Perl", "body": "<p>I want to get the absolute path of a file with Perl. The file is located at <code>/a/b/c/file.txt</code>. So, I want to get <code>/a/b/c/</code>. I can not use <code>Cwd::cwd()</code> at the moment, because the actual working directory is <code>/a/b/</code>. That is not a bug though because the Perl script is called from <code>/a/b/</code>.</p>\n\n<p>So, is there a Perl function to catch that, or do I have to use a regex to find it?</p>\n"}, {"tags": ["perl", "iteration"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1501762335, "post_id": 45483137, "comment_id": 77928095, "body": "It would be interesting to see what version of Perl you have."}], "answers": [{"comments": [{"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1501763779, "post_id": 45483358, "comment_id": 77929216, "body": "Nice, pretty much what I wanted. Now only to find what number they mean as &quot;older&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1501782194, "post_id": 45483358, "comment_id": 77943686, "body": "This optimization has been in place since at least 5.6"}], "tags": [], "owner": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "is_accepted": true, "score": 7, "last_activity_date": 1501761036, "creation_date": 1501761036, "answer_id": 45483358, "question_id": 45483137, "link": "https://stackoverflow.com/questions/45483137/does-perl-optimize-foreach-over-a-range/45483358#45483358", "title": "Does perl optimize foreach over a range?", "body": "<p>From <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlop.pod#Range-Operators\" rel=\"noreferrer\">perldoc perlop</a>:</p>\n\n<blockquote>\n  <p>In the current implementation, no temporary array is created when the range operator is used as the expression in <code>foreach</code> loops, but older versions of Perl might burn a lot of memory when you write something like [ what you wrote ]</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522438878, "post_id": 45491112, "comment_id": 86168794, "body": "What does it mean &quot;<i>All of the following are implemented differently:</i>&quot; -- differently from the optimized one?  (Can any of them be optimized?) Or differently from each other, in general?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522571032, "post_id": 45491112, "comment_id": 86199639, "body": "@zdim, Functionally different, or subject to different optimizations or lack thereof. See updated answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522653355, "post_id": 45491112, "comment_id": 86220449, "body": "OK, I get it now.  Thank you very much, this is very useful"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1522571760, "last_edit_date": 1522571760, "creation_date": 1501781833, "answer_id": 45491112, "question_id": 45483137, "link": "https://stackoverflow.com/questions/45483137/does-perl-optimize-foreach-over-a-range/45491112#45491112", "title": "Does perl optimize foreach over a range?", "body": "<p>Yes, the following is optimized into a counting loop:</p>\n\n<pre><code> for (EXPRX..EXPRY) { ... }\n</code></pre>\n\n<p><a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a> mentions this.</p>\n\n<blockquote>\n  <p>In the current implementation, no temporary array is created when the range operator is used as the expression in foreach loops, but [versions of Perl older than 5.6] might burn a lot of memory when you write something like this:</p>\n\n<pre><code>for (1 .. 1_000_000) {\n    # code\n}\n</code></pre>\n</blockquote>\n\n<p>You can see this using the following:</p>\n\n<pre><code>$ perl -e'\n   my $n = 10_000_000;\n   system(\"ps h -o rss $$\");\n   for (1..$n) { system(\"ps h -o rss $$\"); last; }\n'\n1876\n1944\n</code></pre>\n\n<p>Even within the loop, there's only 1944 KiB used. This is the same amount of that was allocated before the loop, and nowhere near enough to hold 10,000,000 scalars. On the other hand, the following slightly different code shows 385 MiB being used in the loop:</p>\n\n<pre><code>$ perl -e'\n   my $n = 10_000_000;\n   system(\"ps h -o rss $$\");\n   for ((), 1..$n) { system(\"ps h -o rss $$\"); last; }\n'\n 1876\n394724\n</code></pre>\n\n<p>In this latter version, all 10 million scalars are allocated.</p>\n\n<p>In fact, it's not just <code>EXPR..EXPR</code> that's special. All of the following are implemented differently:</p>\n\n<ul>\n<li><code>for (EXPR; EXPR; EXPR)</code> (\"C-style for loop\", an augmented while loop.)<br>Functionally different.</li>\n<li><code>for (EXPRX..EXPRY)</code> (A range and nothing else.)<br>Incrementing counting loop.</li>\n<li><code>for (reverse CONSTX..CONSTY)</code> (A constant range, preceded by reverse.)<br>Descending counting loop over indexes of array built at compile-time.<sup>[1]</sup></li>\n<li><code>for (reverse EXPRX..EXPRY)</code> (A variable range, preceded by reverse.)<br>Descending counting loop.</li>\n<li><code>for (@ARRAY)</code> (An array and nothing else.)<br>Counting loop over indexes of array.</li>\n<li><code>for (reverse @ARRAY)</code> (Reverse of an array and nothing else.)<br>Descending counting loop over indexes of array.</li>\n<li><code>for (reverse LIST)</code> (Any list that doesn't fit the above patterns.)<br>Flattened list iterated from end to start.</li>\n<li><code>for (LIST)</code> (Any list that doesn't fit the above patterns.)<br>Flattened list iterated from start to end.</li>\n</ul>\n\n<hr>\n\n<ol>\n<li><p>Everywhere but in <code>for (CONSTX..CONSTY)</code>, </p>\n\n<pre><code>CONSTX..CONSTY\n</code></pre>\n\n<p>is optimized to</p>\n\n<pre><code>my @anon;\nBEGIN { @anon = CONSTX..CONSTY; }\n@anon\n</code></pre>\n\n<p>You can see this here:</p>\n\n<pre><code>$ perl -e'\n   BEGIN { system(\"ps h -o rss $$\"); }\n   system(\"ps h -o rss $$\");\n   exit(0);\n   for (reverse 1..10_000_000) {  }\n'\n 1868\n709540\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 3, "accepted_answer_id": 45483358, "answer_count": 2, "score": 4, "last_activity_date": 1522571760, "creation_date": 1501760418, "last_edit_date": 1501770651, "question_id": 45483137, "link": "https://stackoverflow.com/questions/45483137/does-perl-optimize-foreach-over-a-range", "title": "Does perl optimize foreach over a range?", "body": "<p>Given a simple program:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $count = 0;\n\nforeach ('a' .. 'zzzzzzzzzz') {\n    $count++;\n}\n\nprint \"$count\\n\";\n</code></pre>\n\n<p>Will <code>perl</code> create entire range of about <code>1.4+e14</code> elements in memory and then iterate over them or does it have any internal optimizations to simply step over one state of range operator at a time?</p>\n\n<p>Well, I've actually ran that, so empirical data from <code>top</code> shows it is the latter (and it didn't finish yet to see data from <code>time</code> as well), but is it documented anywhere or where to find confirmation for that in sources?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 382, "user_id": 7850639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-v3R1wRl7INk/AAAAAAAAAAI/AAAAAAAAALQ/Ny9lSxH3vmE/photo.jpg?sz=128", "display_name": "Brighter side", "link": "https://stackoverflow.com/users/7850639/brighter-side"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501753484, "post_id": 45480285, "comment_id": 77921552, "body": "Yes But how can i do if i don&#39;t want to modify (in fact i want to read $1 and $2 that will store param1 and param2) how can i do it ."}, {"owner": {"reputation": 382, "user_id": 7850639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-v3R1wRl7INk/AAAAAAAAAAI/AAAAAAAAALQ/Ny9lSxH3vmE/photo.jpg?sz=128", "display_name": "Brighter side", "link": "https://stackoverflow.com/users/7850639/brighter-side"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501753859, "post_id": 45480285, "comment_id": 77921837, "body": "When I use it, i only match the last function and the others (which i was detecting before desapear). I don&#39;t understand the behave. I think it goes greedy. How can I avoid that."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1501754304, "post_id": 45480285, "comment_id": 77922183, "body": "Try removing the first and last <code>.*</code>, or, to keep the behavior closer to what is was, use instead <code>[^\\n]*</code>. (while keeping <code>&#47;s</code> modifier as suggested by zdim)"}, {"owner": {"reputation": 382, "user_id": 7850639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-v3R1wRl7INk/AAAAAAAAAAI/AAAAAAAAALQ/Ny9lSxH3vmE/photo.jpg?sz=128", "display_name": "Brighter side", "link": "https://stackoverflow.com/users/7850639/brighter-side"}, "edited": false, "score": 0, "creation_date": 1501754356, "post_id": 45480285, "comment_id": 77922227, "body": "Ok thank you for your help any way."}, {"owner": {"reputation": 382, "user_id": 7850639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-v3R1wRl7INk/AAAAAAAAAAI/AAAAAAAAALQ/Ny9lSxH3vmE/photo.jpg?sz=128", "display_name": "Brighter side", "link": "https://stackoverflow.com/users/7850639/brighter-side"}, "edited": false, "score": 0, "creation_date": 1501754482, "post_id": 45480285, "comment_id": 77922316, "body": "Hello Dada, i remove both <code>.*</code> and i get the same behave as when I wasn&#39;t using <code>s</code> modifier."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1501755488, "post_id": 45480285, "comment_id": 77923049, "body": "I suspect your problem isn&#39;t related to <code>.*</code> and the s modifier. Are you sure that the parameters only contain word characters? Are you sure that your script doesn&#39;t read the content by line? Show the whole part of the code that read the file and tests the pattern and your real string."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1501755503, "post_id": 45480285, "comment_id": 77923056, "body": "@zdim <code>\\s</code> always matches newlines. The <code>&#47;s</code> modifier only affects <code>.</code>."}, {"owner": {"reputation": 382, "user_id": 7850639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-v3R1wRl7INk/AAAAAAAAAAI/AAAAAAAAALQ/Ny9lSxH3vmE/photo.jpg?sz=128", "display_name": "Brighter side", "link": "https://stackoverflow.com/users/7850639/brighter-side"}, "edited": false, "score": 0, "creation_date": 1501759146, "post_id": 45480285, "comment_id": 77925707, "body": "I edited my post to show the structure of my source."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1501759818, "post_id": 45480285, "comment_id": 77926198, "body": "@GuillaumeMILAN: can&#39;t reproduce the problem: <a href=\"https://eval.in/841102\" rel=\"nofollow noreferrer\">eval.in/841102</a>. That&#39;s why you need to <b>show your real string</b>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501784536, "post_id": 45480285, "comment_id": 77945039, "body": "@melpomene  Ugh, of course.  I should learn to back off when too tired.  Thank you, removed that #%^"}], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 7850639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-v3R1wRl7INk/AAAAAAAAAAI/AAAAAAAAALQ/Ny9lSxH3vmE/photo.jpg?sz=128", "display_name": "Brighter side", "link": "https://stackoverflow.com/users/7850639/brighter-side"}, "edited": false, "score": 0, "creation_date": 1501759885, "post_id": 45481230, "comment_id": 77926239, "body": "My mind just blow up. I do the same as you and it works for function but when i do it in my code I have trouble. Will come back when I will find the difference."}, {"owner": {"reputation": 382, "user_id": 7850639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-v3R1wRl7INk/AAAAAAAAAAI/AAAAAAAAALQ/Ny9lSxH3vmE/photo.jpg?sz=128", "display_name": "Brighter side", "link": "https://stackoverflow.com/users/7850639/brighter-side"}, "edited": false, "score": 0, "creation_date": 1501760333, "post_id": 45481230, "comment_id": 77926538, "body": "Ok found that the actual code used object param with dot. And dot isn&#39;t taken in consideration by <code>(\\w+)</code>. And the function on multiple line were using these objects. NO LUCK AT ALL"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 382, "user_id": 7850639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-v3R1wRl7INk/AAAAAAAAAAI/AAAAAAAAALQ/Ny9lSxH3vmE/photo.jpg?sz=128", "display_name": "Brighter side", "link": "https://stackoverflow.com/users/7850639/brighter-side"}, "edited": false, "score": 0, "creation_date": 1501762097, "post_id": 45481230, "comment_id": 77927910, "body": "@GuillaumeMILAN: use <code>[\\w.]</code> instead of <code>\\w</code>"}, {"owner": {"reputation": 382, "user_id": 7850639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-v3R1wRl7INk/AAAAAAAAAAI/AAAAAAAAALQ/Ny9lSxH3vmE/photo.jpg?sz=128", "display_name": "Brighter side", "link": "https://stackoverflow.com/users/7850639/brighter-side"}, "edited": false, "score": 0, "creation_date": 1501762592, "post_id": 45481230, "comment_id": 77928312, "body": "finnaly fixed it. I used ([0-9a-zA-Z_\\.]+). Maybe there is something simpler but it works."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 382, "user_id": 7850639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-v3R1wRl7INk/AAAAAAAAAAI/AAAAAAAAALQ/Ny9lSxH3vmE/photo.jpg?sz=128", "display_name": "Brighter side", "link": "https://stackoverflow.com/users/7850639/brighter-side"}, "edited": false, "score": 0, "creation_date": 1501768293, "post_id": 45481230, "comment_id": 77933193, "body": "@GuillaumeMILAN: <code>[\\w.]</code> is the same than <code>[0-9a-zA-Z_\\.]</code>"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 0, "last_activity_date": 1501755415, "last_edit_date": 1501755415, "creation_date": 1501755142, "answer_id": 45481230, "question_id": 45480285, "link": "https://stackoverflow.com/questions/45480285/perl-regex-on-multiple-line/45481230#45481230", "title": "perl regex on multiple line", "body": "<p>As said in comments, remove <code>.*</code>, you may also remove the unnecessary escapes:</p>\n\n<pre><code>use Modern::Perl;\nuse Data::Dumper;\n\nmy $content = &lt;&lt;EOD;\nfunction(param11,param12);\nfunction(param21,\n          param22);\nfunction\n(param31 \n,\nparam32\n);\nEOD\nmy @m = ($content =~ /function\\s*\\((\\w+)\\s*,\\s*(\\w+)\\s*\\);/ig);\nsay Dumper\\@m;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$VAR1 = [\n          'param11',\n          'param12',\n          'param21',\n          'param22',\n          'param31',\n          'param32'\n        ];\n</code></pre>\n"}], "owner": {"reputation": 382, "user_id": 7850639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-v3R1wRl7INk/AAAAAAAAAAI/AAAAAAAAALQ/Ny9lSxH3vmE/photo.jpg?sz=128", "display_name": "Brighter side", "link": "https://stackoverflow.com/users/7850639/brighter-side"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 45481230, "answer_count": 1, "score": 0, "last_activity_date": 1501759118, "creation_date": 1501752835, "last_edit_date": 1501759118, "question_id": 45480285, "link": "https://stackoverflow.com/questions/45480285/perl-regex-on-multiple-line", "title": "perl regex on multiple line", "body": "<p>I 've never done perl in my life and a few regex. But i need to debug a perl file that read function reference that could be on multiple line. \nIndeed I got this type of regex :</p>\n\n<pre><code>my @m = ($content =~ /.*\\s*function\\s*\\((\\w+)\\s*\\,\\s*(\\w+)\\s*\\)\\;.*/ig)\n</code></pre>\n\n<p>where <code>$content</code> is my multiple line string (in fact a file content). But I don't understand why I only match pattern like this </p>\n\n<pre><code>function(param1,param2);\n</code></pre>\n\n<p>And I don't match if there is a line break after the comma. The following function isn't recognized.</p>\n\n<pre><code>function(param1,\n          param2);\n</code></pre>\n\n<p>My Code is like that:</p>\n\n<pre><code>open (FILE, \"myfile\") or die \"Trouble opening the file\";\n    my $content; \n    local $/;\n    $content=&lt;FILE&gt;;\n    my @m;\n    @m = ($content =~ /\\s*function\\s*\\((\\w+)\\s*,\\s*(\\w+)\\s*\\)\\;/gi);\n    foreach (@m) {\n       print \"$_\\n\";\n    }\n</code></pre>\n\n<p>BTW sorry for my poor english.</p>\n"}, {"tags": ["apache", "postgresql", "perl", "centos"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1501752409, "post_id": 45480040, "comment_id": 77920712, "body": "The &quot;<i>Please help me</i>&quot; in the title will do opposite to helping you.  I removed it."}, {"owner": {"reputation": 1072, "user_id": 3488735, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8DatZ.jpg?s=128&g=1", "display_name": "Gewure", "link": "https://stackoverflow.com/users/3488735/gewure"}, "edited": false, "score": 0, "creation_date": 1501753337, "post_id": 45480040, "comment_id": 77921448, "body": "First things first: Welcome to SO! I see you read the Guide on how to ask a good question. Nice!"}, {"owner": {"reputation": 1072, "user_id": 3488735, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8DatZ.jpg?s=128&g=1", "display_name": "Gewure", "link": "https://stackoverflow.com/users/3488735/gewure"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1501753765, "post_id": 45480040, "comment_id": 77921763, "body": "Second things second: @\u0421\u0443\u0445\u043e\u043927 i really don&#39;t see why this is &quot;exact duplicate&quot; of an existing question. It clearl isn&#39;t. The answer you linked  is a &quot;general guide&quot; - not anything into detail/specific - but that is clearly what is needed/asked here.   Marking-Madness, much?  Mods: please unmark as duplicate. it isn&#39;t."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 1072, "user_id": 3488735, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8DatZ.jpg?s=128&g=1", "display_name": "Gewure", "link": "https://stackoverflow.com/users/3488735/gewure"}, "edited": false, "score": 0, "creation_date": 1501754531, "post_id": 45480040, "comment_id": 77922362, "body": "@Gewure OP can find valuable information on mentioned page since: <code>When I run on terminal(eg. # .&#47;foo.cgi), it works without any error. HOWEVER When I run on the browser, It shows HTTP 403 Error.</code> strongly suggests that this is the case."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1501754922, "post_id": 45480040, "comment_id": 77922619, "body": "<a href=\"https://stackoverflow.com/questions/2165022/how-can-i-troubleshoot-my-perl-cgi-script\" title=\"how can i troubleshoot my perl cgi script\">stackoverflow.com/questions/2165022/&hellip;</a> would also benefit by adding this <a href=\"https://stackoverflow.com/a/30617910/223226\">stackoverflow.com/a/30617910/223226</a>"}, {"owner": {"reputation": 185, "user_id": 7291215, "user_type": "registered", "profile_image": "https://graph.facebook.com/907248636072186/picture?type=large", "display_name": "Luciano Jeong", "link": "https://stackoverflow.com/users/7291215/luciano-jeong"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1501758210, "post_id": 45480040, "comment_id": 77925038, "body": "@\u0421\u0443\u0445\u043e\u043927 &quot;setsebool -P httpd_can_network_connect_db on&quot; it works!! thanks"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1072, "user_id": 3488735, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8DatZ.jpg?s=128&g=1", "display_name": "Gewure", "link": "https://stackoverflow.com/users/3488735/gewure"}, "edited": false, "score": 2, "creation_date": 1501765012, "post_id": 45480040, "comment_id": 77930248, "body": "@Gewure there are no <i>mods</i> in the sense that you mean here. Moderators do not reopen questions. The community does. Once you have enough reputation, you&#39;ll be able to cast reopen votes. Just like with close votes, a question needs 5 of those to be reopened, unless one of the voters has the hammer, like \u0421\u0443\u0445\u043e\u043927 did with closing. If I&#39;d vote to reopen, that would suffice as I also hold a gold Perl tag badge. However I am not going to do it, because I am not qualified to make that decision. The moderators have nothing to do with it though."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1501784380, "post_id": 45480040, "comment_id": 77944963, "body": "@\u0421\u0443\u0445\u043e\u043927  I added the other link to the duplicates&#39; list, as you said and OP confirmed"}], "owner": {"reputation": 185, "user_id": 7291215, "user_type": "registered", "profile_image": "https://graph.facebook.com/907248636072186/picture?type=large", "display_name": "Luciano Jeong", "link": "https://stackoverflow.com/users/7291215/luciano-jeong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 328, "favorite_count": 1, "closed_date": 1501752531, "answer_count": 0, "score": 1, "last_activity_date": 1501784318, "creation_date": 1501752237, "last_edit_date": 1501764821, "question_id": 45480040, "link": "https://stackoverflow.com/questions/45480040/perlapachepostgre-sql-on-centos-7", "closed_reason": "Duplicate", "title": "Perl+Apache+Postgre SQL on CentOS 7", "body": "<p>I have to configure Apache + Perl + PostgreSQL on CentOS 7 which kernel's version is 3.10.0-514.el7.x86-64.\nBecause the server I have to configure is separated from WAN, I downloaded Everything ISO image.\nFirst, I installed CentOS in Minimal Install, using Everything ISO, not connecting to the Internet.</p>\n\n<p>In this clean status, I mounted CD-ROM.</p>\n\n<pre><code># mount /dev/cdrom /media/cdrom\n</code></pre>\n\n<p>then, I installed lynx and wget.</p>\n\n<pre><code># yum --disable-repo=\\* --enable-repo=c7-media install lynx wget\n</code></pre>\n\n<p>It was successful.\nand I installed Perl.</p>\n\n<pre><code># yum --disable-repo=\\* --enable-repo=c7-media install perl\n</code></pre>\n\n<p>It was also successful.\nand I intalled Apache.</p>\n\n<pre><code># yum --disable-repo=\\* --enable-repo=c7-media install httpd\n</code></pre>\n\n<p>It was also successful.\nand I modified httpd.conf like this:</p>\n\n<pre><code>&lt;Directory \"/var/www/cgi-bin\"&gt;\nAllowOverride None\nOptions +ExecCGI\nAddHandler cgi-script .pl .cgi\nRequire all granted &lt; /Directory &gt;\n</code></pre>\n\n<p>and I wrote a test page(chmod a+x applied) and it works well.</p>\n\n<p>However, the problem is Postgre SQL.</p>\n\n<p>I installed it by entering</p>\n\n<pre><code># yum --disable-repo=\\* --enable-repo=c7-media install postgresql postgresql-server postgresql-contrib postgres-devel\n# yum --disable-repo=\\* --enable-repo=c7-media install perl-DBD-Pg\n</code></pre>\n\n<p>and I initialized by entering</p>\n\n<pre><code># postgresql-setup initdb\n</code></pre>\n\n<p>and started the daemon.</p>\n\n<pre><code># service postgresql start\n</code></pre>\n\n<p>and set a password the account of 'postgres' on unix</p>\n\n<pre><code># passwd postgres\n</code></pre>\n\n<p>and set the same password of the account 'postgres' on PSQL</p>\n\n<pre><code># psql --username=postgres\nPOSTGRES # alter user postgres encrypted password '1234asdf';\n</code></pre>\n\n<p>and set the authorization method to MD5 in /var/lib/pgsql/data/pg_hba.conf</p>\n\n<pre><code>local all all trust\nhost all all 127.0.0.1/32 md5\nhost all all ::1/128 md5\n</code></pre>\n\n<p>I restarted the daemon.</p>\n\n<p>** Now, I wrote an example:</p>\n\n<pre><code>\n    #!/usr/bin/perl\n\n    use DBI;\n    use strict;\n\n    my $driver = \"Pg\";\n    my $database = \"postgres\";\n    my $host=\"127.0.0.1\";\n    my $connstr = \"DBI:$driver:dbname=$database;host=$host\";\n    my $userid = \"postgres\";\n    my $userpw = \"1234asdf\";\n    my $dbconn = DBI->connect($constr, $userid, $userpw, { RaiseError => 1 }) or die $DBI::errstr;\n\n    print \"Content-type: text/html\\n\\n\";\n    print disconnect();\n</code></pre>\n\n<p>When I run on terminal(eg. # ./foo.cgi), it works without any error.\nHOWEVER When I run on the browser, It shows HTTP 403 Error.</p>\n\n<p>error_log is below::</p>\n\n<pre><code>\n   [Fri Aug 04 02:10:27.471889 2017] [cgi:error] [pid 2231] [client 127.0.0.1:48724] AH01215: DBI connect('dbname=postgres;host=127.0.0.1;','postgres',...) failed: could not connect to server: Permission denied\n   [Fri Aug 04 02:10:27.471959 2017] [cgi:error] [pid 2231] [client 127.0.0.1:48724] AH01215: \\tIs the server running on host \"127.0.0.1\" and accepting\n   [Fri Aug 04 02:10:27.471975 2017] [cgi:error] [pid 2231] [client 127.0.0.1:48724] AH01215: \\tTCP/IP connections on port 5432? at /var/www/cgi-bin/cc.cgi line 14.\n</code></pre>\n\n<p>What can I do for this situation? I'm in trouble for several days...</p>\n"}, {"tags": ["perl", "date"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1501751902, "post_id": 45479377, "comment_id": 77920310, "body": "What do you mean by &quot;<i>average days</i>&quot;?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501752779, "post_id": 45479377, "comment_id": 77921018, "body": "1. Extract the dates from the variable/line (using <code>split</code> or regex or both)  2. Find a module for Date/Time  that you like.  An easy choice is <a href=\"http://search.cpan.org/~drolsky/DateTime-1.43/lib/DateTime.pm\" rel=\"nofollow noreferrer\">DateTime</a> but there sure are others. Most of them have some facility for what you need. 3. Put the date/time in the format that the module wants"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501753439, "post_id": 45479377, "comment_id": 77921528, "body": "Your date-time is in a very standard format and many modules understand it, so you don&#39;t need to parse it (once you get it from the line of data that you show)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1501763009, "post_id": 45479377, "comment_id": 77928649, "body": "@zdim: The <i>\u201caverage days\u201d</i> are the ones that are neither boring nor exciting."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1501803747, "post_id": 45479377, "comment_id": 77953698, "body": "@PerlDuck Oh, right.  Silly me"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1501762097, "last_edit_date": 1501762097, "creation_date": 1501753164, "answer_id": 45480424, "question_id": 45479377, "link": "https://stackoverflow.com/questions/45479377/perl-to-calculate-date-difference-and-average-day/45480424#45480424", "title": "Perl: to calculate date difference and average day", "body": "<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };    \nuse Syntax::Construct qw{ /r }; # /r in 5.014\n\nuse Time::Piece;\nuse Time::Seconds;\n\nmy $results = [[ '2017-05-11 12:47:08.2',   '2017-05-26 07:00:16.0' ],\n               [ '2017-05-11 13:23:10.96',  '2017-05-27 22:01:02.0' ],\n               [ '2017-05-11 13:23:02.483', '2017-05-24 08:10:20.0' ],\n               [ '2017-05-11 13:28:35.247', '2017-05-24 08:12:33.0' ]];\n\nmy $sum = 0;\nfor my $single_row (@$results) {\n    my ($from, $to) = map 'Time::Piece'-&gt;strptime(\n                           s/\\.[0-9]+$//r, '%Y-%m-%d %H:%M:%S'\n                      ),\n                      @$single_row;\n    my $delta = $to - $from;\n    $sum += $delta;\n}\nmy $average = $sum / @$results;\nsay 'AVERAGE: ', $average / ONE_DAY, ' days.';\n</code></pre>\n\n<p><a href=\"http://p3rl.org/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a> doesn't support sub-second precision, so the result might be a few microseconds off.</p>\n"}], "owner": {"reputation": 25, "user_id": 8343206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dnUNd.jpg?s=128&g=1", "display_name": "Perl newbie", "link": "https://stackoverflow.com/users/8343206/perl-newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "accepted_answer_id": 45480424, "answer_count": 1, "score": -1, "last_activity_date": 1501762097, "creation_date": 1501750418, "question_id": 45479377, "link": "https://stackoverflow.com/questions/45479377/perl-to-calculate-date-difference-and-average-day", "title": "Perl: to calculate date difference and average day", "body": "<p>These are my data;</p>\n\n<pre><code> Ticket Submitted_date      Ticket closed_date\n 2017-05-11 12:47:08.2      2017-05-26 07:00:16.0\n 2017-05-11 13:23:10.96     2017-05-27 22:01:02.0\n 2017-05-11 13:23:02.483    2017-05-24 08:10:20.0\n 2017-05-11 13:28:35.247    2017-05-24 08:12:33.0 \n</code></pre>\n\n<p>Codes as below,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $qstr = \"select id as 'id', status as 'status', $subject.title as 'title', $subject.component as 'component', $subject.submitted_date as 'submitted_date', $subject.closed_date as 'closed_date' where ($subject.status = 'complete' OR $subject.status = 'rejected')\";\nmy $results = &amp;search($api, $tenant, $subject, $qstr); \n\nforeach my $singleRow (@$results) {\n        my $title =$singleRow-&gt;{'title'};\n        my $component = $singleRow-&gt;{'component'};\n        my $sub_date = $singleRow-&gt;{'submitted_date'};\n        my $closed_date = $singleRow-&gt;{'closed_date'};\n\n       $sub_date =~ /^(.{4})-(.{2})-(.{2})T(.{2}):(.{2}):(.{2})\\.(.{3})/;\n</code></pre>\n\n<p>No idea on how to calculate the average days of above data.\nNeed assistance... New to Perl...</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1501750564, "post_id": 45478741, "comment_id": 77919215, "body": "You could also use <a href=\"https://metacpan.org/pod/Scalar::Util#looks_like_number\" rel=\"nofollow noreferrer\"><code>Scalar::Util::looks_like_number</code></a> for the test."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1501750777, "post_id": 45478741, "comment_id": 77919392, "body": "@melpomene Yes, you are right, have to sort out all those &quot;other&quot; (than integer) numbers, don&#39;t I.  Adding, thank you"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1501880761, "last_edit_date": 1501880761, "creation_date": 1501748704, "answer_id": 45478741, "question_id": 45478559, "link": "https://stackoverflow.com/questions/45478559/perl-quotes-surrounded-by-only-string-in-array/45478741#45478741", "title": "Perl quotes surrounded by only string in array", "body": "<p>To place <code>''</code> around elements that have not a single digit in them</p>\n\n<pre><code>my $data = join ',', map { /[0-9]/ ? $_ : \"'${_}'\" } @$row[0..3];\n</code></pre>\n\n<p>where <code>string 10 test</code> doesn't get quoted.</p>\n\n<p>Or, to leave unquoted only pure integers</p>\n\n<pre><code>my $data = join ',', map { /[^0-9]/ ? \"'${_}'\" : $_ } @$row[0..3];\n</code></pre>\n\n<p>which quotes strings with a number in them as well, like the example above.</p>\n\n<p>For non-integer numbers, there is <a href=\"http://search.cpan.org/~pevans/Scalar-List-Utils-1.48/lib/Scalar/Util.pm#looks_like_number\" rel=\"nofollow noreferrer\">Scalar::Util::looks_like_number</a></p>\n\n<pre><code>use Scalar::Util 'looks_like_number';\n\nmy $data = join ',', map { looks_like_number($_) ? $_ : \"'${_}'\" } @$row[0..3];\n</code></pre>\n\n<p>what of course works for the second case (integers) as well.</p>\n"}], "owner": {"reputation": 13, "user_id": 4266791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c838e28bb5c00aa2d7593f23c4ed695?s=128&d=identicon&r=PG&f=1", "display_name": "Vasanth", "link": "https://stackoverflow.com/users/4266791/vasanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 45478741, "answer_count": 1, "score": 1, "last_activity_date": 1501880761, "creation_date": 1501748183, "question_id": 45478559, "link": "https://stackoverflow.com/questions/45478559/perl-quotes-surrounded-by-only-string-in-array", "title": "Perl quotes surrounded by only string in array", "body": "<p>I need to place the single quotes other than number in an array.</p>\n\n<p>I tried the following code but it was not working . Can anyone help me to sort it out.</p>\n\n<pre><code>$data = join ',', map { /'\\w+'/ } @$row[0..3];\n</code></pre>\n\n<p>Input/Output :</p>\n\n<pre><code>Input :\n[1,string test, value test, 5]\nOutput:\n(1,'string test', 'value test', 5)\n</code></pre>\n"}, {"tags": ["git", "perl", "docker", "latex", "latexml"], "comments": [{"owner": {"reputation": 14704, "user_id": 873282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1e6ae94f84a34641ccc5abc86a664694?s=128&d=identicon&r=PG", "display_name": "koppor", "link": "https://stackoverflow.com/users/873282/koppor"}, "edited": false, "score": 0, "creation_date": 1515532108, "post_id": 45478426, "comment_id": 83333246, "body": "The result is published at <a href=\"https://github.com/sumandoc/TeXLive-2017\" rel=\"nofollow noreferrer\">github.com/sumandoc/TeXLive-2017</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2063, "user_id": 2774153, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/RpYQx.jpg?s=128&g=1", "display_name": "Suman Khanal", "link": "https://stackoverflow.com/users/2774153/suman-khanal"}, "edited": false, "score": 0, "creation_date": 1501754988, "post_id": 45479927, "comment_id": 77922672, "body": "OK let me build it again. They say <code>cd</code> command does not work inside dockerfile. Is it true? Can that be problem in my dockerfile?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 2063, "user_id": 2774153, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/RpYQx.jpg?s=128&g=1", "display_name": "Suman Khanal", "link": "https://stackoverflow.com/users/2774153/suman-khanal"}, "edited": false, "score": 0, "creation_date": 1501755104, "post_id": 45479927, "comment_id": 77922766, "body": "From my experience everything that works in shell, also works for dockerfile."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1501751892, "creation_date": 1501751892, "answer_id": 45479927, "question_id": 45478426, "link": "https://stackoverflow.com/questions/45478426/building-docker-image-with-texlive-2017-and-latexml/45479927#45479927", "title": "Building docker image with TeXLive 2017 and latexml", "body": "<p>You're missing <code>make</code> executable (<code>apt-get install make</code>) so build process crashes after <code>perl Makefile.PL</code></p>\n"}], "owner": {"reputation": 2063, "user_id": 2774153, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/RpYQx.jpg?s=128&g=1", "display_name": "Suman Khanal", "link": "https://stackoverflow.com/users/2774153/suman-khanal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 45479927, "answer_count": 1, "score": 0, "last_activity_date": 1589739911, "creation_date": 1501747814, "last_edit_date": 1589739911, "question_id": 45478426, "link": "https://stackoverflow.com/questions/45478426/building-docker-image-with-texlive-2017-and-latexml", "title": "Building docker image with TeXLive 2017 and latexml", "body": "<p>I am trying to make a docker image with full TeXLive 2017 and <a href=\"http://dlmf.nist.gov/LaTeXML/\" rel=\"nofollow noreferrer\">latexml</a> for compiling latex to pdf and also converting latex to html.\nI believe this would be a useful tool.\nHere is my dockerfile:</p>\n\n<pre><code>FROM debian:testing\nMAINTAINER Dr Suman Khanal &lt;suman81765@gmail.com&gt;\nLABEL updated_at '2017-07-26'\nRUN apt-get update \\\n  &amp;&amp; apt-get install -y gnupg git wget curl libgetopt-long-descriptive-perl libdigest-perl-md5-perl python python-pygments\nWORKDIR /usr/local/src\nRUN curl -sL http://mirror.utexas.edu/ctan/systems/texlive/tlnet/install-tl-unx.tar.gz | tar zxf - &amp;&amp; mv install-tl-20* install-tl\n\nWORKDIR install-tl\nRUN echo \"selected_scheme scheme-full\" &gt; profile \\\n  &amp;&amp; ./install-tl -repository http://mirror.utexas.edu/ctan/systems/texlive/tlnet -profile profile\nWORKDIR /\nENV PATH /usr/local/texlive/2017/bin/x86_64-linux:$PATH\nRUN apt-get install -y libarchive-zip-perl \\\n  libfile-which-perl libimage-size-perl  \\\n  libio-string-perl libjson-xs-perl libtext-unidecode-perl \\\n  libparse-recdescent-perl liburi-perl libuuid-tiny-perl libwww-perl \\\n  libxml2 libxml-libxml-perl libxslt1.1 libxml-libxslt-perl  \\\n  imagemagick libimage-magick-perl \nRUN git clone https://github.com/brucemiller/LaTeXML.git &amp;&amp; cd LaTeXML &amp;&amp; perl Makefile.PL &amp;&amp; make &amp;&amp; make install \nCMD [\"tlmgr\", \"--version\"]\n</code></pre>\n\n<p>But its throwing this error <code>Build failed: The command '/bin/sh -c git clone https://github.com/brucemiller/LaTeXML.git &amp;&amp; cd LaTeXML &amp;&amp; perl Makefile.PL &amp;&amp; make &amp;&amp; make install' returned a non-zero code: 127</code>.\nAny help where I have made mistake?</p>\n"}, {"tags": ["perl", "hypnotoad"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501750340, "post_id": 45478269, "comment_id": 77919019, "body": "Are you talking about regular HTTP requests, or Web Sockets? Have you tried issuing HTTP headers for keep-alive connections?"}, {"owner": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1501751056, "post_id": 45478269, "comment_id": 77919622, "body": "@simbabque I&#39;m talking about regular HTTP requests. The thing is I have an endpoint where another server communicates, over which I don&#39;t have any control, that&#39;s the reason I can&#39;t keep-alive a connection."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1501756081, "post_id": 45478269, "comment_id": 77923448, "body": "Don&#39;t, solve your problem a different way."}], "answers": [{"comments": [{"owner": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "edited": false, "score": 0, "creation_date": 1501841293, "post_id": 45503180, "comment_id": 77968635, "body": "Well that&#39;s the last option."}], "tags": [], "owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "is_accepted": false, "score": 0, "last_activity_date": 1501853735, "last_edit_date": 1501853735, "creation_date": 1501839081, "answer_id": 45503180, "question_id": 45478269, "link": "https://stackoverflow.com/questions/45478269/selecting-specific-worker-for-connection/45503180#45503180", "title": "Selecting specific worker for connection", "body": "<p>You can ran multiple masters (every with one worker or like morbo - single processes).</p>\n\n<p>And add load balancer before 'em which will be responsible to selection of concrete process per connection.</p>\n\n<p>Typically I used <strong>nginx</strong> with upstream module <a href=\"https://nginx.ru/en/docs/http/ngx_http_upstream_module.html#sticky\" rel=\"nofollow noreferrer\"><code>sticky</code> setting</a>.</p>\n"}], "owner": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501853735, "creation_date": 1501747338, "question_id": 45478269, "link": "https://stackoverflow.com/questions/45478269/selecting-specific-worker-for-connection", "title": "Selecting specific worker for connection", "body": "<p>So, I'm using a hypnotoad server for my application and is trying to maintain state for connections. Turns out for every connection a different worker is spawned/selected. Can I somehow make this selection explicit? Also is there a way to know which worker was used for my last request and use it again for corresponding requests?</p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1501740009, "post_id": 45475979, "comment_id": 77912271, "body": "In a loop, or are you looking to avoid using a loop?"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 7310779, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/227d3307afeff210d462ba78e21ca2e7?s=128&d=identicon&r=PG&f=1", "display_name": "anu", "link": "https://stackoverflow.com/users/7310779/anu"}, "edited": false, "score": 0, "creation_date": 1501743475, "post_id": 45476094, "comment_id": 77914283, "body": "Great!! Exactly what I was looking for. Thank you."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1501740404, "creation_date": 1501740404, "answer_id": 45476094, "question_id": 45475979, "link": "https://stackoverflow.com/questions/45475979/how-do-i-repeat-a-string-n-times-by-replacing-a-character-each-time/45476094#45476094", "title": "How do I repeat a string N times by replacing a character each time?", "body": "<pre><code>print '(', join(',', map { \"arr[$_]\" } 0..34), ')', \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 7310779, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/227d3307afeff210d462ba78e21ca2e7?s=128&d=identicon&r=PG&f=1", "display_name": "anu", "link": "https://stackoverflow.com/users/7310779/anu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 1, "accepted_answer_id": 45476094, "answer_count": 1, "score": 0, "last_activity_date": 1501740784, "creation_date": 1501739907, "question_id": 45475979, "link": "https://stackoverflow.com/questions/45475979/how-do-i-repeat-a-string-n-times-by-replacing-a-character-each-time", "title": "How do I repeat a string N times by replacing a character each time?", "body": "<p>I can repeat a string using this statement    </p>\n\n<pre><code>print \"(\",\"arr[0],\"x35,\")\";\n</code></pre>\n\n<p>which prints <code>(arr[0],arr[0],...,arr[0],)</code></p>\n\n<p>But how to obtain the output as below</p>\n\n<pre><code>(arr[0],arr[1],...,arr[34])\n</code></pre>\n\n<p>i.e; each time the string is printed, it should replace 0 with 0,1,2,..,34</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1501735838, "creation_date": 1501735838, "answer_id": 45475084, "question_id": 45474985, "link": "https://stackoverflow.com/questions/45474985/best-way-to-break-long-lines-having-system-commands/45475084#45475084", "title": "best way to break long lines having system commands", "body": "<p>The best ways are to assemble the command in a scalar variable</p>\n\n<pre><code>$cmd = \"command1 --foo --bar | command2 2&gt;log.err | \"\n     . \" command3 --are-we-done-yet | ...\";\n@data = `$cmd`;  # or @data = qx($cmd)\n</code></pre>\n\n<p>or to assemble it as an argument to <code>readpipe</code></p>\n\n<pre><code>@data = readpipe(\"command1 --foo --bar | command2 &gt;log.err | \"\n                 . \"command3 --are-we-done-yet | ...\");\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 8267952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b2ef54d99c06b6bf90bfe866cd939f2b?s=128&d=identicon&r=PG&f=1", "display_name": "ran1n", "link": "https://stackoverflow.com/users/8267952/ran1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 45475084, "answer_count": 1, "score": 1, "last_activity_date": 1501735838, "creation_date": 1501735363, "question_id": 45474985, "link": "https://stackoverflow.com/questions/45474985/best-way-to-break-long-lines-having-system-commands", "title": "best way to break long lines having system commands", "body": "<p>What is the best way to break long lines having system commands which are being executed by \" ` \"</p>\n\n<p>example:   </p>\n\n<pre><code>my @data = `cat data.txt | perl -ne '/CTX:|ed-as-of time:\\\\s+(\\\\w+)\\\\s+[Feb|Mar|April|May]/ &amp;&amp; print' | sed '\\$!N;/Sync/P;D'|sed 'N;s/\\\\n/ /'`;\n</code></pre>\n\n<p>I tried to break it using \" `.\" like below, but am getting errors (sh: 1: Syntax error: end of file unexpected:).</p>\n\n<pre><code>my @data = `cat data.txt | `.\n            `perl -ne '/CTX:|ed-as-of time:\\\\s+(\\\\w+)\\\\s+[Feb|Mar|April|May]/ &amp;&amp; print' | sed '\\$!N;/Sync/P;D'|sed 'N;s/\\\\n/ /'`;\n</code></pre>\n"}, {"tags": ["python", "windows", "perl", "unicode"], "comments": [{"owner": {"reputation": 447, "user_id": 6143299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KC8AO.jpg?s=128&g=1", "display_name": "Geetha Ponnusamy", "link": "https://stackoverflow.com/users/6143299/geetha-ponnusamy"}, "edited": false, "score": 2, "creation_date": 1501733039, "post_id": 45474488, "comment_id": 77909579, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5419/python-unicode-and-the-windows-console\">Python, Unicode, and the Windows console</a>"}, {"owner": {"reputation": 2457, "user_id": 7825115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Po7Tl.jpg?s=128&g=1", "display_name": "Kallz", "link": "https://stackoverflow.com/users/7825115/kallz"}, "edited": false, "score": 1, "creation_date": 1501733086, "post_id": 45474488, "comment_id": 77909590, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6048085/writing-unicode-text-to-a-text-file\">Writing Unicode text to a text file?</a>"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 1, "creation_date": 1501733348, "post_id": 45474488, "comment_id": 77909667, "body": "Is the problem <i>printing</i> the file name, or <i>creating</i> a file with the desired name?"}, {"owner": {"reputation": 11, "user_id": 8409082, "user_type": "registered", "profile_image": "https://graph.facebook.com/1509233682467818/picture?type=large", "display_name": "Amrin Mushtaq", "link": "https://stackoverflow.com/users/8409082/amrin-mushtaq"}, "edited": false, "score": 0, "creation_date": 1501735639, "post_id": 45474488, "comment_id": 77910442, "body": "Problem is with creating a file with desired name .. just to check what file name is going through I am doing a print in sample code"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1501738088, "post_id": 45474488, "comment_id": 77911412, "body": "For printing Unicode in Python 2, pip install and enable <code>win_unicode_console</code>. For creating a file with a non-ANSI name, use a <code>unicode</code> string for the name, e.g. <code>f = open(u&#39;\\u662f&#39;, &#39;w&#39;)</code>. To get a better experience with this in general, upgrade to Python 3.6."}], "answers": [{"tags": [], "owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "is_accepted": false, "score": 1, "last_activity_date": 1504746067, "last_edit_date": 1504746067, "creation_date": 1504620823, "answer_id": 46057173, "question_id": 45474488, "link": "https://stackoverflow.com/questions/45474488/printing-unicode-charcter-in-windows/46057173#46057173", "title": "Printing unicode charcter in windows", "body": "<h2>File manipulation in Perl on Windows (Unicode characters in file name)</h2>\n\n<p>In Perl on Windows, I use <code>Win32::Unicode</code>, <code>Win32::Unicode::File</code> and <code>Win32::Unicode::Dir</code>. They work perfectly with Unicode characters in file names.</p>\n\n<p>Just mind that <code>Win32::Unicode::File::open()</code> (and <code>new()</code>) have a reversed argument order compared Perl's built-in <code>open()</code> - mode comes first.</p>\n\n<p>You do not need to encode the characters manually - just insert them as they are (if your Perl script is in UTF-8), or using the <code>\\x{N}</code> notation.</p>\n\n<hr>\n\n<h2>Printing out Unicode characters on Windows</h2>\n\n<p>Printing Unicode into console on Windows is another problem. You can't use <code>cmd.exe</code>. Instead use PowerShell ISE. The drawback of the ISE is that it's not a console - scripts can't take input from keyboard thru <code>STDIN</code>.</p>\n\n<p>To get Unicode output, you need to do set the output encoding to UTF-8 in every PowerShell ISE that's started. I suggest doing so in the startup script.</p>\n\n<h3>Procedure to have PowerShell ISE default to Unicode output:</h3>\n\n<p>1) In order for any user PowerShell scripts to be allowed to run, you first need to do:</p>\n\n<pre><code>Set-ExecutionPolicy RemoteSigned\n</code></pre>\n\n<p>2) Edit or create your <code>Documents\\WindowsPowerShell\\Microsoft.PowerShellISE_profile.ps1</code> to something like:</p>\n\n<pre><code>perl -w -e \"print qq!Initializing the console with Perl...\\n!;\"\n[System.Console]::OutputEncoding = [System.Text.Encoding]::UTF8;\n</code></pre>\n\n<p>The short Perl command is there as a trick to allow the <code>System.Console</code> property be modified. Without it, you get an error when setting the <code>OutputEncoding</code>.</p>\n\n<p>If I recall correctly, you also have to change the font to Consolas.</p>\n\n<p>Even when the Unicode characters print out fine, you may have trouble including them in command line arguments. In these cases I've found the <code>\\x{N}</code> notation works. The Windows Character Map utility is your friend here.</p>\n\n<hr>\n\n<p>(Edited heavily after I rediscovered the regular PowerShell's inability to display most Unicode characters, with references to PowerShell (non-ISE) removed. Now I remember why I started using the ISE...)</p>\n"}], "owner": {"reputation": 11, "user_id": 8409082, "user_type": "registered", "profile_image": "https://graph.facebook.com/1509233682467818/picture?type=large", "display_name": "Amrin Mushtaq", "link": "https://stackoverflow.com/users/8409082/amrin-mushtaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504746067, "creation_date": 1501732450, "last_edit_date": 1501733311, "question_id": 45474488, "link": "https://stackoverflow.com/questions/45474488/printing-unicode-charcter-in-windows", "title": "Printing unicode charcter in windows", "body": "<p>I am trying to create file with Unicode character 662f on windows (via Perl or python, anything is fine for me ) . on Linux I am able to get chr \u662f , but on windows I am getting this  character \u00e6\u02dc\u00af , and some how I am not able to get that file name as \u662f.</p>\n\n<p><strong>Python code</strong> -</p>\n\n<pre><code> import sys\n name = unichr(0x662f)\n print(name.encode('utf8').decode(sys.stdout.encoding))\n</code></pre>\n\n<p><strong>perl code -</strong> </p>\n\n<pre><code>my $name .= chr(230).chr(152).chr(175); ##662f\nprint 'file name ::'. \"$name\".\"txt\";\n</code></pre>\n"}]