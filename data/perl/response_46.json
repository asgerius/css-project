[{"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 3, "creation_date": 1448484939, "post_id": 33926206, "comment_id": 55613335, "body": "Don&#39;t forget that arrays are indexed from 0 in Perl, and the elements of @ARGV do not include the program name.  You should probably be using <code>$ARGV[0]</code> and <code>$ARGV[1]</code>.  You can check this by printing out the values of the array \u2014 index and value at the index.  See <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perldoc perlvar</a>: <i>The array @ARGV contains the command-line arguments intended for the script. $#ARGV is generally the number of arguments minus one, because $ARGV[0] is the first argument, not the program&#39;s command name itself. See $0 for the command name.</i>"}, {"owner": {"reputation": 11, "user_id": 5544449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0addcc2b3fafa12ad6bf4d83eb65a57a?s=128&d=identicon&r=PG&f=1", "display_name": "jmattioli", "link": "https://stackoverflow.com/users/5544449/jmattioli"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1448485738, "post_id": 33926206, "comment_id": 55613737, "body": "thank you I was counting the program as the first argument. changed the 1 to a 0 and works great now"}, {"owner": {"reputation": 11, "user_id": 5544449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0addcc2b3fafa12ad6bf4d83eb65a57a?s=128&d=identicon&r=PG&f=1", "display_name": "jmattioli", "link": "https://stackoverflow.com/users/5544449/jmattioli"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1448486319, "post_id": 33926206, "comment_id": 55614061, "body": "yes I changed that when I changed the other because i realized that there would never be a 3rd argument"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1448491027, "post_id": 33926206, "comment_id": 55616229, "body": "I&#39;d recommend using the <code>strict</code> pragma, and declare variables with <code>my</code>. Also, using bareword filehandles is obsolete. See <a href=\"http://stackoverflow.com/questions/24334008/why-declare-perl-variable-with-my-at-file-scope\">Why declare Perl variable with \u201cmy\u201d at file scope?</a> and <a href=\"http://stackoverflow.com/questions/17376148/why-does-perl-open-documentation-use-two-different-filehandle-styles\">Why does Perl open() documentation use two different FILEHANDLE styles?</a> for more information.."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1448531452, "post_id": 33926206, "comment_id": 55630609, "body": "It looks like you are looking for the <code>-i</code> command line switch: <code>perl -pi.modified -e&#39;s&#47;YourName&#47;Foo&#47;gi&#39; file.txt</code>"}], "answers": [{"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 3, "last_activity_date": 1448486042, "creation_date": 1448486042, "answer_id": 33926514, "question_id": 33926206, "link": "https://stackoverflow.com/questions/33926206/use-of-uninitialized-value-argv1-in-substitution-iterator/33926514#33926514", "title": "Use of uninitialized value $ARGV[1] in substitution iterator", "body": "<p>Don't forget that arrays are indexed from 0 in Perl, and the elements of <code>@ARGV</code> do not include the program name. You should probably be using <code>$ARGV[0]</code> and <code>$ARGV[1]</code>. You can check this by printing out the values of the array \u2014 index and value at the index.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">perldoc perlvar</a>:</p>\n\n<blockquote>\n  <p>The array <code>@ARGV</code> contains the command-line arguments intended for the script. <code>$#ARGV</code> is generally the number of arguments minus one, because <code>$ARGV[0]</code> is the first argument, not the program's command name itself. See <code>$0</code> for the command name.</p>\n</blockquote>\n\n<p>Note that this means that if you run:</p>\n\n<pre><code>perl script.pl something or-another\n</code></pre>\n\n<p>the <code>@ARGV</code> array has two entries: <code>something</code> and <code>or-another</code> in elements 0 and 1 respectively.  Similarly if the script is executable:</p>\n\n<pre><code>script.pl something or-another\n</code></pre>\n\n<p>If you check <code>$ARGV[2]</code>, you will be using the default file name with either of the invocations shown \u2014 change the 2 to a 1.  Also, you should be able to move the test and assignment to <code>$outfile</code> outside the loop, and only open that file just once.  At the moment, you zap it for each new file, so effectively you only process the last file.</p>\n"}], "owner": {"reputation": 11, "user_id": 5544449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0addcc2b3fafa12ad6bf4d83eb65a57a?s=128&d=identicon&r=PG&f=1", "display_name": "jmattioli", "link": "https://stackoverflow.com/users/5544449/jmattioli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 0, "accepted_answer_id": 33926514, "answer_count": 1, "score": -1, "last_activity_date": 1448486042, "creation_date": 1448484738, "last_edit_date": 1448485288, "question_id": 33926206, "link": "https://stackoverflow.com/questions/33926206/use-of-uninitialized-value-argv1-in-substitution-iterator", "title": "Use of uninitialized value $ARGV[1] in substitution iterator", "body": "<p>I am trying to run this program that I wrote and I keep getting an error message that states the following</p>\n\n<blockquote>\n  <p>Use of uninitialized value $ARGV[1] in substitution iterator at\n  ./replaceName.pl line 22.</p>\n</blockquote>\n\n<p>since the value is the name that is passed from the command line and is the second argument I am not sure what is wrong.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\n\n\n@FILES = glob(\"*.txt\");\n\nforeach my $file(@FILES){\n    if( !defined($ARGV[2]) ){\n         $outfile = \"$file.modified.txt\";\n    }\n    else {\n        $outfile = $ARGV[2];\n    }\n\n    open FILE, \"&lt; $file\" or die(\"File not found\");\n    @lines = &lt;FILE&gt;;\n    close FILE;\n\n    open OUT, \"&gt;\", $outfile;\n    foreach my $line (@lines) {\n        $line =~ s/YourName/$ARGV[1]/gi;\n        print OUT $line;\n    }\n    close OUT;\n}\n</code></pre>\n"}, {"tags": ["json", "perl", "dancer", "die"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1448483863, "post_id": 33925642, "comment_id": 55612809, "body": "I assume the HTML you&#39;re getting back is a 500 Internal Server Error page from your webserver, no? I wouldn&#39;t <code>die</code> just because somebody used your API incorrectly by forgetting a required parameter; instead, I would return a user-friendly error message in a format consistent with every other API request."}, {"owner": {"reputation": 21, "user_id": 2680125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aca156e31790427107326b7744989dc?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Bob", "link": "https://stackoverflow.com/users/2680125/joe-bob"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1449179401, "post_id": 33925642, "comment_id": 55907108, "body": "Actually, I want the error in JSON, not HTML because the callers/users of the API are expecting JSON."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449179751, "post_id": 33925642, "comment_id": 55907327, "body": "That&#39;s exactly what I said you should do: &quot;return a user-friendly error message in a format consistent with every other API request.&quot; That&#39;s not what <code>die</code> does; <code>die</code> throws an exception, and if you don&#39;t catch it with <code>eval</code> or <code>$SIG{__DIE__}</code>, your program will halt immediately and write an error to STDERR. So don&#39;t <code>die</code>; instead, <code>return</code> a JSON response containing the error."}], "owner": {"reputation": 21, "user_id": 2680125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aca156e31790427107326b7744989dc?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Bob", "link": "https://stackoverflow.com/users/2680125/joe-bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 357, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1448482455, "creation_date": 1448482455, "question_id": 33925642, "link": "https://stackoverflow.com/questions/33925642/dancer2-with-json-serializer-but-die-returns-html", "title": "dancer2 with json serializer but die returns html", "body": "<p>I am migrating a Dancer app to Dancer2.  I have a ton of typical die() messages which are coming out html formatted instead of JSON formatted. </p>\n\n<p>in my module: </p>\n\n<pre><code>## We want pretty JSON.\nset engines =&gt; {\n    serializer =&gt; {\n        JSON =&gt; {\n            convert_blessed =&gt; 1,\n            pretty          =&gt; 1,\n        }\n    }\n};\nset serializer =&gt; 'JSON';\nset charset =&gt; 'utf8';\n</code></pre>\n\n<p>And later in a route, when the data is invalid we die. </p>\n\n<pre><code>get qr{/hardware/?$}i =&gt; sub {\n  my $params = params;\n\n  if (exists($params-&gt;{id})) {  \n    if ($params-&gt;{id} =~ /^\\d+$/) {\n      forward \"/hardware/${\\$params-&gt;{id}}\", {}; \n    }\n    else {\n      die \"You must supply a numeric Hardware ID.\";\n    }\n  }\n  return($api-&gt;handle_request('API::Hardware', 'list', $params));\n};\n</code></pre>\n\n<p>However, the die response is not in JSON, it is HTML. Any clues as to how I can force die() responses into json, for consistency in my restful api? </p>\n"}, {"tags": ["arrays", "perl", "reference"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448479779, "post_id": 33924605, "comment_id": 55610781, "body": "Re &quot;<i>I can\u2019t figure out how to dereference the array references inside my array</i>&quot;, Technically, are you are deferencing it. What output are you expecting?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448479897, "post_id": 33924605, "comment_id": 55610839, "body": "Re &quot;<i>Don\u2019t understand why <code>@{$HoA{$cols[0]}}</code> prints only the length of the array</i>&quot;, <code>@{$HoA{$cols[0]}}</code> doesn&#39;t print anything. <code>@a</code> in scalar context evaluates to the number of elements in the array. As such, <code>@{ REF }</code> in scalar context evaluates to the number of elements in the referenced array."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1448480414, "post_id": 33924605, "comment_id": 55611101, "body": "what is your expected output?  your join is treating array references as strings, but without expected output it is hard to know what you should be doing instead"}, {"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1448480654, "post_id": 33924605, "comment_id": 55611242, "body": "I was expecting that the keys in my file were completely replaced by the corresponding arrays in the values of my hash of arrays, but what I got instead were the references pointing to those arrays. Probably not well explained, my apologies."}, {"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1448480684, "post_id": 33924605, "comment_id": 55611252, "body": "If that happens in scalar context, is there a way of performing the substitution in a list context? That&#39;s what I couldn&#39;t figure out how to do."}, {"owner": {"reputation": 428, "user_id": 2510057, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/808e0dc0098ed9a65b8a7f5b0498cb80?s=128&d=identicon&r=PG", "display_name": "George Adams", "link": "https://stackoverflow.com/users/2510057/george-adams"}, "edited": false, "score": 1, "creation_date": 1448481277, "post_id": 33924605, "comment_id": 55611532, "body": "It&#39;s still hard to see exactly what you wanted the output to look like.  Why not edit your post and add sections to show the complete &quot;Expected Output&quot; and &quot;Actual Output&quot;?"}, {"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "reply_to_user": {"reputation": 428, "user_id": 2510057, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/808e0dc0098ed9a65b8a7f5b0498cb80?s=128&d=identicon&r=PG", "display_name": "George Adams", "link": "https://stackoverflow.com/users/2510057/george-adams"}, "edited": false, "score": 0, "creation_date": 1448482309, "post_id": 33924605, "comment_id": 55612037, "body": "@George Adams, I&#39;ve edited the post with those sections."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448500689, "post_id": 33924605, "comment_id": 55619121, "body": "It is almost always wrong to put a scalar variable in quotes. Use <code>$filename</code> in preference to <code>&quot;$filename&quot;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1448483507, "post_id": 33925658, "comment_id": 55612634, "body": "Thank you, that&#39;s exactly it!"}], "tags": [], "owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "is_accepted": true, "score": 4, "last_activity_date": 1448482501, "creation_date": 1448482501, "answer_id": 33925658, "question_id": 33924605, "link": "https://stackoverflow.com/questions/33924605/array-of-references-in-perl/33925658#33925658", "title": "Array of references in Perl", "body": "<p>The big problem is this line:</p>\n\n<pre><code>    push ( @newarray, join( \" \", @cols ));\n</code></pre>\n\n<p><code>join</code> is inherently a string operation: <code>@cols</code> is an array of references, which <code>join</code> then dutifully stringifies so that it can join them with <code>\" \"</code>.</p>\n\n<p>It seems like what you really want is probably this:</p>\n\n<pre><code>    push ( @newarray, [@cols] );\n</code></pre>\n\n<p>where the <code>[ ... ]</code> notation creates a new anonymous array (in this case populated with the values in <code>@cols</code>) and returns a reference to to it.</p>\n\n<p>Additionally, instead of this:</p>\n\n<pre><code>    $cols[0] = $HoA{ $cols[0] };\n</code></pre>\n\n<p>(which causes <code>@newarray</code> and <code>%HoA</code> to end up containing references to the same underlying arrays), you <em>may</em> want this:</p>\n\n<pre><code>    $cols[0] = [ @{$HoA{ $cols[0] }} ];\n</code></pre>\n\n<p>(such that <code>@newarray</code> ends up with completely independent arrays that simply start out with the same data as what's in <code>%HoA</code>). This depends on whether you're planning to modify any of the arrays afterward.</p>\n"}], "owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 33925658, "answer_count": 1, "score": 0, "last_activity_date": 1448482501, "creation_date": 1448478562, "last_edit_date": 1448482116, "question_id": 33924605, "link": "https://stackoverflow.com/questions/33924605/array-of-references-in-perl", "title": "Array of references in Perl", "body": "<p>I\u2019ve read the reference documentation, but I can\u2019t figure out how to dereference the array references inside my array.\nDon\u2019t understand why <code>@{$HoA{$cols[0]}}</code> prints only the length of the array either. Any clarification is much appreciated.</p>\n\n<p><code>file.txt</code>:</p>\n\n<pre><code>    aa      bb\n    bb      cc\n</code></pre>\n\n<p>The program:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\n# my $filename = \"file.txt\";\nmy @newarray;\n\nmy %HoA = (\n        aa        =&gt; [ \"GAT_1\", \"GAT_2\", \"GAT_3\", \"GAT_4\" ],\n        bb        =&gt; [ \"GAT_6\", \"GAT_1\", \"GAT_5\", \"GAT_4\", \"GAT_2\" ],\n        cc        =&gt; [ \"GAT_6\", \"GAT_4\", \"GAT_3\", \"GAT_1\", \"GAT_2\" ],\n      );\n\nopen (FILE, '&lt;' ,\"$filename\") or print \"$filename does not exist\\n\";\n\n\nwhile (&lt;FILE&gt;) {\n    my @cols = split;\n    $cols[0] = $HoA{ $cols[0] };\n    #$cols[0] = @{$HoA{ $cols[0]} };\n    $cols[1] = $HoA{ $cols[1] };\n    #$cols[1] = @{$HoA{ $cols[1] }};\n    push ( @newarray, join( \" \", @cols ));\n}\n\nclose FILE;\n\nprint Dumper(\\@newarray);\n</code></pre>\n\n<p>This is my expected output:</p>\n\n<pre><code>$VAR1 = [\n          [\n            [\n              'GAT_1',\n              'GAT_2',\n              'GAT_3',\n              'GAT_4'\n            ],\n            [\n              'GAT_6',\n              'GAT_1',\n              'GAT_5',\n              'GAT_4',\n              'GAT_2'\n            ],\n        [\n              'GAT_6',\n              'GAT_1',\n              'GAT_5',\n              'GAT_4',\n              'GAT_2'   \n            ],\n            [\n              'GAT_6',\n              'GAT_4',\n              'GAT_3',\n              'GAT_1',\n              'GAT_2'\n            ],\n\n          ]\n        ];\n</code></pre>\n\n<p>This is my actual output:</p>\n\n<pre><code>$VAR1 = [\n          'ARRAY(0x7f80110060e8) ARRAY(0x7f801102eb58)',\n          'ARRAY(0x7f801102eb58) ARRAY(0x7f801102f308)'\n        ];\n</code></pre>\n"}, {"tags": ["perl", "redirect", "mason"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448501049, "post_id": 33923816, "comment_id": 55619213, "body": "<b><i>&quot;Is there any way to do a Post redirect of replicate a POST otherwise?&quot;</i></b> I don&#39;t know what that means. And your redirect uses <code>GET</code>"}, {"owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448508118, "post_id": 33923816, "comment_id": 55620809, "body": "sorry was a typing mistake"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 1185587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ca2ee98b1164d9a1cbc8885d480370?s=128&d=identicon&r=PG", "display_name": "suyash", "link": "https://stackoverflow.com/users/1185587/suyash"}, "edited": false, "score": 0, "creation_date": 1483120272, "post_id": 41400409, "comment_id": 70002949, "body": "<a href=\"https://softwareengineering.stackexchange.com/questions/99894/why-doesnt-http-have-post-redirect\" title=\"why doesnt http have post redirect\">softwareengineering.stackexchange.com/questions/99894/&hellip;</a> also seems pertinent to this."}, {"owner": {"reputation": 5446, "user_id": 4687348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8de53eca1206063d96d2c309b362fc8b?s=128&d=identicon&r=PG&f=1", "display_name": "FelixSFD", "link": "https://stackoverflow.com/users/4687348/felixsfd"}, "edited": false, "score": 1, "creation_date": 1483123298, "post_id": 41400409, "comment_id": 70004312, "body": "A link to a potential solution is always welcome, but please <a href=\"http://meta.stackexchange.com/a/8259\">add context around the link</a> so your fellow users will have some idea what it is and why it\u2019s there. Always quote the most relevant part of an important link, in case the target site is unreachable or goes permanently offline. Take into account that being barely more than a link to an external site is a possible reason as to <a href=\"http://stackoverflow.com/help/deleted-answers\">Why and how are some answers deleted?</a>."}], "tags": [], "owner": {"reputation": 27, "user_id": 1185587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ca2ee98b1164d9a1cbc8885d480370?s=128&d=identicon&r=PG", "display_name": "suyash", "link": "https://stackoverflow.com/users/1185587/suyash"}, "is_accepted": false, "score": -1, "last_activity_date": 1483119963, "creation_date": 1483119963, "answer_id": 41400409, "question_id": 33923816, "link": "https://stackoverflow.com/questions/33923816/redirect-using-post-in-perl-mason/41400409#41400409", "title": "Redirect using post in perl mason", "body": "<p><a href=\"https://stackoverflow.com/questions/25353474/how-do-i-send-values-with-post-when-redirecting-in-perl\">How do I send values with POST when redirecting in Perl?</a></p>\n\n<p>It appears that we can not send post data during redirection.</p>\n"}], "owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 445, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483119963, "creation_date": 1448475724, "last_edit_date": 1448508100, "question_id": 33923816, "link": "https://stackoverflow.com/questions/33923816/redirect-using-post-in-perl-mason", "title": "Redirect using post in perl mason", "body": "<p>Currently, I am redirecting like this</p>\n\n<pre><code>$Request-&gt;redirect( ( \n    url =&gt; $Std-&gt;url( \n        '/a/b/c/d', { \n            protocol =&gt; 'https', \n            get =&gt; { 'key1' =&gt; '123', 'key2' =&gt; '456' } \n        } \n    ) \n) );\n</code></pre>\n\n<p>Is there any way to do a Post redirect or replicate a POST otherwise ?</p>\n"}, {"tags": ["perl", "split", "increment", "large-files", "filesplitting"], "answers": [{"tags": [], "owner": {"reputation": 1989, "user_id": 996114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ab699f0efdf582f02f8f3dbba7a4b1?s=128&d=identicon&r=PG", "display_name": "Mike Covington", "link": "https://stackoverflow.com/users/996114/mike-covington"}, "is_accepted": false, "score": 5, "last_activity_date": 1448476397, "last_edit_date": 1448476397, "creation_date": 1448476020, "answer_id": 33923904, "question_id": 33923634, "link": "https://stackoverflow.com/questions/33923634/perl-changing-file-name-in-the-middle-of-write/33923904#33923904", "title": "Perl - Changing file name in the middle of write", "body": "<p>You can just do this in the shell using <code>split</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>split -l 5000 filename.txt filename.txt.\n</code></pre>\n\n<p>will split <code>filename.txt</code> into multiple files with a max of 5,000 lines each. The output files will be names <code>filename.txt.aa</code>, <code>filename.txt.ab</code>, <code>filename.txt.ac</code>, etc.</p>\n\n<p>From my <code>man split</code>:</p>\n\n<pre><code>NAME\n     split -- split a file into pieces\n\nSYNOPSIS\n     split [-a suffix_length] [-b byte_count[k|m]] [-l line_count] [-p pattern] [file [name]]\n\nDESCRIPTION\n     The split utility reads the given file and breaks it up into files of 1000 lines each.  If file is a single dash (`-') or absent, split reads from the stan-\n     dard input.\n\n     The options are as follows:\n\n     -a suffix_length\n             Use suffix_length letters to form the suffix of the file name.\n\n     -b byte_count[k|m]\n             Create smaller files byte_count bytes in length.  If ``k'' is appended to the number, the file is split into byte_count kilobyte pieces.  If ``m'' is\n             appended to the number, the file is split into byte_count megabyte pieces.\n\n     -l line_count\n             Create smaller files n lines in length.\n\n     -p pattern\n             The file is split whenever an input line matches pattern, which is interpreted as an extended regular expression.  The matching line will be the\n             first line of the next output file.  This option is incompatible with the -b and -l options.\n\n     If additional arguments are specified, the first is used as the name of the input file which is to be split.  If a second additional argument is specified,\n     it is used as a prefix for the names of the files into which the file is split.  In this case, each file into which the file is split is named by the prefix\n     followed by a lexically ordered suffix using suffix_length characters in the range ``a-z''.  If -a is not specified, two letters are used as the suffix.\n\n     If the name argument is not specified, the file is split into lexically ordered files named with the prefix ``x'' and with suffixes as above.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1448479430, "post_id": 33924176, "comment_id": 55610592, "body": "I&#39;m surprised this was accepted as an answer. Using <code>split</code> would be far better. I would have posted this as a comment if I could have, since it was meant to help you in future endeavors, not this particular case."}, {"owner": {"reputation": 55, "user_id": 4838309, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206413745527687/picture?type=large", "display_name": "Logan Smith", "link": "https://stackoverflow.com/users/4838309/logan-smith"}, "edited": false, "score": 0, "creation_date": 1449078679, "post_id": 33924176, "comment_id": 55853732, "body": "Because split will be far too messy for file naming when we are talking about hundreds of files resulting from a single &quot;split&quot;.. I needed an incremental counter to keep things neat."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 55, "user_id": 4838309, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206413745527687/picture?type=large", "display_name": "Logan Smith", "link": "https://stackoverflow.com/users/4838309/logan-smith"}, "edited": false, "score": 0, "creation_date": 1449079040, "post_id": 33924176, "comment_id": 55853928, "body": "How is that different than what <code>split</code> does?"}, {"owner": {"reputation": 55, "user_id": 4838309, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206413745527687/picture?type=large", "display_name": "Logan Smith", "link": "https://stackoverflow.com/users/4838309/logan-smith"}, "edited": false, "score": 0, "creation_date": 1449089245, "post_id": 33924176, "comment_id": 55859584, "body": "split will have it be file.txt.aa, file.txt.ab, and so on. For file transfers and automatic reading into a different team&#39;s unix box and tables that would not fly. At least not for the team I&#39;m making this for... They wanted file0001.txt, file0002.txt, and so on, so that&#39;s why split wouldn&#39;t work for me otherwise I would have used it in the first place"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1448477010, "creation_date": 1448477010, "answer_id": 33924176, "question_id": 33923634, "link": "https://stackoverflow.com/questions/33923634/perl-changing-file-name-in-the-middle-of-write/33924176#33924176", "title": "Perl - Changing file name in the middle of write", "body": "<p>As an aside, this is your fixed script:</p>\n\n<pre><code>#!/bin/sh\na=0\nb=1\nwhile read line; do\n    if [ $a -eq 0 ]; then\n        echo -n '' &gt; out-file-${b}\n    fi\n\n    echo $line &gt;&gt; out-file-${b}\n\n    a=$(( $a + 1 ))\n    if [ $a -eq 10 ]; then\n        a=0\n        b=$(( $b + 1 ))\n    fi\ndone &lt; in-file\n</code></pre>\n\n<p>Tested with <code>bash</code> and <code>dash</code>.</p>\n"}], "owner": {"reputation": 55, "user_id": 4838309, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206413745527687/picture?type=large", "display_name": "Logan Smith", "link": "https://stackoverflow.com/users/4838309/logan-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 33924176, "answer_count": 2, "score": 0, "last_activity_date": 1448477010, "creation_date": 1448475131, "question_id": 33923634, "link": "https://stackoverflow.com/questions/33923634/perl-changing-file-name-in-the-middle-of-write", "title": "Perl - Changing file name in the middle of write", "body": "<p>I am trying to take a very large txt file (over a million lines) that I created in Perl and run it through a different statement in Perl that will essentially look something like this (note the following is shell)</p>\n\n<pre><code>a=0\nb=1\nwhile read line;\ndo\n    echo -n \"\" &gt; \"Write file\"${b}\n    a=($a + 1)\n    while ( $a &lt;= 5000)\n    do\n        echo $line &gt;&gt; \"Write file\"${b}\n        a=($a + 1)\n    done\n    a=0\n    b=($b + 1)\ndone &lt; \"read file\"\n</code></pre>\n\n<p>Trying to size it down to 5k lines per file, and incrementing each time (filename1.txt, filename2.txt, filename3.txt, etc)<br>\nThis doesn't seem to work in shell, possibly due to the size of the input file, and for the life of me I can't think of how to change what file I am writing to in the middle of the loop..</p>\n"}, {"tags": ["perl", "redirect", "args", "mason"], "comments": [{"owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1448475181, "post_id": 33923488, "comment_id": 55608185, "body": "Thanks for replying. That is giving syntax error."}, {"owner": {"reputation": 4328, "user_id": 1473927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AO6Ui.jpg?s=128&g=1", "display_name": "Jonathan Cast", "link": "https://stackoverflow.com/users/1473927/jonathan-cast"}, "edited": false, "score": 2, "creation_date": 1448475366, "post_id": 33923488, "comment_id": 55608303, "body": "You probably should give more context when asking questions in the future; the code snippet you&#39;ve supplied is a Perl assignment statement, and it probably would help to clarify if you showed how you&#39;re trying to fit it into a Mason template.  Also, there&#39;s probably an easier way to do what you&#39;re doing, but I&#39;d need to see the context --- and how you&#39;re going to use <code>%ARGS</code> once the assignment has run --- to be able to suggest it."}], "answers": [{"tags": [], "owner": {"reputation": 4328, "user_id": 1473927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AO6Ui.jpg?s=128&g=1", "display_name": "Jonathan Cast", "link": "https://stackoverflow.com/users/1473927/jonathan-cast"}, "is_accepted": true, "score": 2, "last_activity_date": 1448475289, "creation_date": 1448475289, "answer_id": 33923677, "question_id": 33923488, "link": "https://stackoverflow.com/questions/33923488/adding-values-to-args-in-perl-mason/33923677#33923677", "title": "Adding values to ARGS in perl mason", "body": "<p>Use</p>\n\n<pre><code>$ARGS{'session-id'} = 'value1';\n</code></pre>\n\n<p><code>session-id</code> is not a valid identifier in Perl; hash keys can <em>only</em> be used unquoted if they are valid identifiers.</p>\n\n<p>Also, use <code>$</code> as the sigil (the de-referencing character in front of the variable name) when accessing a single element of a hash; <code>@</code> when accessing multiple elements of a hash; and <code>%</code> only when accessing the entire hash (or in Perl 5.20 and up, when accessing both keys and values of part of a hash).</p>\n"}], "owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1131, "favorite_count": 0, "accepted_answer_id": 33923677, "answer_count": 1, "score": 1, "last_activity_date": 1448475289, "creation_date": 1448474636, "question_id": 33923488, "link": "https://stackoverflow.com/questions/33923488/adding-values-to-args-in-perl-mason", "title": "Adding values to ARGS in perl mason", "body": "<p>I want to add values to my ARGS before I pass that as a parameter in the redirect call. </p>\n\n<p>I tried </p>\n\n<pre><code>%ARGS{session-id} = 'value1';\n</code></pre>\n\n<p>Gives syntax error. Can you please suggest the right away. And are the keys with hyphen in the name are not allowed ? If not how can I pass that to my redirect call as the component I am redirecting to is expecting a 'session-id' from %ARGS.</p>\n"}, {"tags": ["perl", "unicode", "arabic"], "answers": [{"comments": [{"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 1, "creation_date": 1448554904, "post_id": 33932661, "comment_id": 55645402, "body": "thanks. I was able to work around it for now by adding a LTR char (unicode U200E) between the english and arabic text"}], "tags": [], "owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "is_accepted": true, "score": 2, "last_activity_date": 1448555163, "last_edit_date": 1448555163, "creation_date": 1448522328, "answer_id": 33932661, "question_id": 33923046, "link": "https://stackoverflow.com/questions/33923046/unicode-right-to-left-text/33932661#33932661", "title": "Unicode right-to-left text", "body": "<p>This is caused by the bad support for RTL in Notepad++. The right order is that:</p>\n\n<pre><code>utf8 with text foo\u0627\u0644\u0639\u0631\u0628\u064a\nutf8 with number 123\u0627\u0644\u0639\u0631\u0628\u064a\n</code></pre>\n\n<p>Notepad++ might think that the numbers are within the Arabic string so it activated the RTL and started to write from the right. This should be a bug to submit.</p>\n\n<p>A workaround is to use LTR/RTL characters</p>\n"}], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 33932661, "answer_count": 1, "score": 1, "last_activity_date": 1448555163, "creation_date": 1448473099, "last_edit_date": 1448539920, "question_id": 33923046, "link": "https://stackoverflow.com/questions/33923046/unicode-right-to-left-text", "title": "Unicode right-to-left text", "body": "<p>Take the following script:    </p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy $utf8 = \"\u0627\u0644\u0639\u0631\u0628\u064a\";\nopen my $out,\"&gt;\",\"out.txt\";\n\nsay {$out} \"utf8 with text foo\".$utf8;\nsay {$out} \"utf8 with number 123\".$utf8;\n</code></pre>\n\n<p>I don't understand what happens with the directionality of the text. In Notepad++, the number comes out on the right side of the Arabic text, while text comes out at the left. When I tried pasting it into this text field, it came out with the number on the left.</p>\n\n<p>Can anyone explain what is happening?</p>\n"}, {"tags": ["python", "linux", "perl", "security", "command"], "comments": [{"owner": {"reputation": 393, "user_id": 1015192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vR9UX.jpg?s=128&g=1", "display_name": "pedwards", "link": "https://stackoverflow.com/users/1015192/pedwards"}, "edited": false, "score": 0, "creation_date": 1448470494, "post_id": 33921961, "comment_id": 55605359, "body": "<code>os.popen()</code> is the way to go.  Use &#39;stdout=PIPE&#39; or using <code>communicate()</code> to get your data back..."}, {"owner": {"reputation": 2675, "user_id": 2433063, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/uU1mK.jpg?s=128&g=1", "display_name": "Ricky Wilson", "link": "https://stackoverflow.com/users/2433063/ricky-wilson"}, "reply_to_user": {"reputation": 393, "user_id": 1015192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vR9UX.jpg?s=128&g=1", "display_name": "pedwards", "link": "https://stackoverflow.com/users/1015192/pedwards"}, "edited": false, "score": 0, "creation_date": 1448470672, "post_id": 33921961, "comment_id": 55605473, "body": "I will give this a shot."}], "answers": [{"tags": [], "owner": {"reputation": 3467, "user_id": 5509239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6563e2e4d92a4591fcf3b7860bb28192?s=128&d=identicon&r=PG&f=1", "display_name": "memoselyk", "link": "https://stackoverflow.com/users/5509239/memoselyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1448474890, "creation_date": 1448474890, "answer_id": 33923554, "question_id": 33921961, "link": "https://stackoverflow.com/questions/33921961/how-to-call-nikto-from-python-and-return-output-as-a-string/33923554#33923554", "title": "How to call nikto from python and return output as a string", "body": "<p>If you want to call command and get its output simpy use <a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.check_output\" rel=\"nofollow\"><code>subprocess.check_output</code></a>.</p>\n\n<pre><code>def nikto(host, *args):\n    return subprocess.check_output(['nikto', '-host', host] + args)\n</code></pre>\n\n<p>Note, however, that this method will raise an exception if the return code of your command is non-zero, but the exception will contain the output in its <code>output</code> attribute.</p>\n\n<p>If you want to capture both stderr and stdout of your command add the argument <code>stderr=subprocess.STDOUT</code>.</p>\n"}], "owner": {"reputation": 2675, "user_id": 2433063, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/uU1mK.jpg?s=128&g=1", "display_name": "Ricky Wilson", "link": "https://stackoverflow.com/users/2433063/ricky-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1266, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1488144636, "creation_date": 1448469796, "last_edit_date": 1488144636, "question_id": 33921961, "link": "https://stackoverflow.com/questions/33921961/how-to-call-nikto-from-python-and-return-output-as-a-string", "title": "How to call nikto from python and return output as a string", "body": "<p>This function should call nikto an return it's output as a string but instead just hangs forever. I'm desperate to figure out why this is not working and i have tried everything i could think of. </p>\n\n<pre><code>def nikto(host, *args):\n    arguments = ' '.join(args)\n    command = 'nikto -host {} {}'.format(host, arguments)\n    return commands.getoutput(command)\n</code></pre>\n\n<h2>What is nikto?</h2>\n\n<p>Nikto is an Open Source (GPL) web server scanner which performs comprehensive tests against web servers for multiple items, including over 6400 potentially dangerous files/CGIs, checks for outdated versions of over 1200 servers, and version specific problems on over 270 servers.</p>\n\n<h2>What language is Nikto written in?</h2>\n\n<p>Perl</p>\n\n<h2>Note:</h2>\n\n<p>I have also tried <code>os.popen('nikto').read()</code></p>\n\n<h2>My system</h2>\n\n<p>Linux rwilson-Aspire-E5-521 3.16.0-55-generic #74~14.04.1-Ubuntu SMP Tue Nov 17 10:15:59 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux</p>\n"}, {"tags": ["mysql", "perl", "debugging"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1448469536, "post_id": 33921798, "comment_id": 55604710, "body": "This is not a problem with your code, but rather with the configuration of your database. Did you read the error message? It says <i>command denied to user</i>. Talk to your database administrator."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1448469898, "post_id": 33921798, "comment_id": 55604953, "body": "General tip: when code that was previously working suddenly stops working, it&#39;s good troubleshooting to think about what changed. If the code didn&#39;t change, the issue was probably caused by something else: database upgrade, OS upgrade, interpreter upgrade, server move, configuration change, etc. Thinking about what changed will help you narrow down the problem, even if you don&#39;t always have such explicit error messages as you do in this case."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1448471366, "creation_date": 1448471366, "answer_id": 33922471, "question_id": 33921798, "link": "https://stackoverflow.com/questions/33921798/perl-compilation-errors-compilation-failed-in-require-at/33922471#33922471", "title": "Perl Compilation Errors Compilation failed in require at", "body": "<blockquote>\n  <p><em>SELECT command denied to user 'mnin_user'@'localhost' for table 'needs'</em></p>\n</blockquote>\n\n<p>This indicates you simply lack the permissions necessary to perform the query. At a minimum, you need the permissions granted by the following command:</p>\n\n<pre><code>GRANT SELECT ON `needs` TO 'mnin_user'@'localhost';\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5605107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a26c9a419dd4442762917728dbcf4e5d?s=128&d=identicon&r=PG&f=1", "display_name": "holden42", "link": "https://stackoverflow.com/users/5605107/holden42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448471366, "creation_date": 1448469338, "question_id": 33921798, "link": "https://stackoverflow.com/questions/33921798/perl-compilation-errors-compilation-failed-in-require-at", "title": "Perl Compilation Errors Compilation failed in require at", "body": "<p>All of the sudden we have CGI errors showing up in the logs and one of the pages isn't working. I checked the syntax but I can't find the bug.. Any help would be greatly appreciated.</p>\n\n<p>Here is the error we get in the browser:</p>\n\n<blockquote>\n  <p>Archive.pl: DBD::mysql::st execute failed: SELECT command denied to user 'mnin_user'@'localhost' for table 'needs' at /home/mnin/MNN_Code/Prod/lib/MySQL.lib line 52.\n  Compilation failed in require at archive.pl line 9.</p>\n</blockquote>\n\n<p>Line 47-61 of MySQL.lib reads:</p>\n\n<pre><code>sub RunSQL {\n## Executes an sql statement on the database.\nmy $sqlquery = shift;\n\n$sth = $dbh-&gt;prepare($sqlquery); \n$sth-&gt;execute();                #this is line 52\n\n$MySQL_LastQuery = $sqlquery;\n\nif ($sth-&gt;err()) {\n    return 1, $sth-&gt;errstr();\n} else {\n    return 0, $sth-&gt;rows;\n}\n}\n</code></pre>\n\n<p>This is the Archvie.pl up to line 10</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse CGI::Carp qw(fatalsToBrowser); # uncommenting this during debugging      phase may be helpful\n#use HTML::Template;\n#use Win32::ODBC;\n\nread(STDIN, $buffer, $ENV{'CONTENT_LENGTH'});\n\nif($ENV{'REQUEST_METHOD'} eq \"POST\") { @pairs = split(/&amp;/, $buffer);}\nelse { @pairs = split(/&amp;/, $ENV{'QUERY_STRING'});}\n</code></pre>\n\n<p>Althought I don't think the problem is in the Archive.pl becaue these Compilation errors are showing in more than one place.</p>\n"}, {"tags": ["regex", "perl", "case-insensitive"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1448467309, "post_id": 33920980, "comment_id": 55603228, "body": "try <code>$regex = &quot;(?i)&quot;.&quot;$regex&quot;;</code>"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "closed_date": 1448467644, "answer_count": 0, "score": 3, "last_activity_date": 1448467093, "creation_date": 1448467015, "question_id": 33920980, "link": "https://stackoverflow.com/questions/33920980/how-to-make-an-already-existing-regular-expression-case-insensitive", "closed_reason": "Duplicate", "title": "How to make an already existing regular expression case-insensitive?", "body": "<p>How can I make a regular expression <strong>which was already compiled</strong> case-insensitive in Perl?</p>\n\n<pre><code>my $regex = qr/b/;\nif ( 'aBc' =~ $regex ) { print \"matches\\n\" }\n</code></pre>\n\n<p>This doesn't work:</p>\n\n<pre><code>$regex = qr/$regex/i;\n</code></pre>\n\n<p>Nor this:</p>\n\n<pre><code>$regex = \"(?i:$regex)\";\n</code></pre>\n\n<p>Nor this</p>\n\n<pre><code>$regex = \"(?i)$regex\";\n</code></pre>\n"}, {"tags": ["linux", "perl", "solaris", "dbi"], "comments": [{"owner": {"reputation": 45, "user_id": 4711182, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e8294e831138c2e8cee6c275ebcffbe4?s=128&d=identicon&r=PG&f=1", "display_name": "masker", "link": "https://stackoverflow.com/users/4711182/masker"}, "edited": false, "score": 0, "creation_date": 1448464429, "post_id": 33920032, "comment_id": 55601107, "body": "I have already install gcc and when I type which gcc I got /usr/bin/gcc"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448464884, "post_id": 33920032, "comment_id": 55601424, "body": "The same compiler that was used to compile Perl (<code>cc</code>) needs to be used to compile the libraries."}, {"owner": {"reputation": 45, "user_id": 4711182, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e8294e831138c2e8cee6c275ebcffbe4?s=128&d=identicon&r=PG&f=1", "display_name": "masker", "link": "https://stackoverflow.com/users/4711182/masker"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448465018, "post_id": 33920032, "comment_id": 55601517, "body": "how I can get it, perl was already installed I am going to install DBI, DBD"}, {"owner": {"reputation": 6351, "user_id": 10415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99940add21e5fb2247237459a586597d?s=128&d=identicon&r=PG", "display_name": "runrig", "link": "https://stackoverflow.com/users/10415/runrig"}, "edited": false, "score": 0, "creation_date": 1448469481, "post_id": 33920032, "comment_id": 55604663, "body": "Do not use /usr/bin/perl. Install your own, somewhere else."}], "answers": [{"tags": [], "owner": {"reputation": 19923, "user_id": 66519, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/83ea6683f15edb2087f6a3ad4f42605b?s=128&d=identicon&r=PG", "display_name": "ojblass", "link": "https://stackoverflow.com/users/66519/ojblass"}, "is_accepted": true, "score": 3, "last_activity_date": 1448464693, "creation_date": 1448464693, "answer_id": 33920139, "question_id": 33920032, "link": "https://stackoverflow.com/questions/33920032/installing-perl-dbi-in-sun-solaries/33920139#33920139", "title": "Installing Perl DBI in SUN Solaries", "body": "<p>This means it cannot find a compiler on your machine.  You should add the path to the compiler to your PATH variable.  gcc and cc are not the same thing.  You should install cc.</p>\n"}], "owner": {"reputation": 45, "user_id": 4711182, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e8294e831138c2e8cee6c275ebcffbe4?s=128&d=identicon&r=PG&f=1", "display_name": "masker", "link": "https://stackoverflow.com/users/4711182/masker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 33920139, "answer_count": 1, "score": 1, "last_activity_date": 1448464922, "creation_date": 1448464398, "last_edit_date": 1448464922, "question_id": 33920032, "link": "https://stackoverflow.com/questions/33920032/installing-perl-dbi-in-sun-solaries", "title": "Installing Perl DBI in SUN Solaries", "body": "<p>I am trying to install perl DBI on SUN solaries 11 but I always got the following error:</p>\n\n<pre><code>sh: line 1: cc: not found\n*** Error code 127\nmake: Fatal error: Command failed for target `Perl.o'\n</code></pre>\n\n<p>I did the following steps:</p>\n\n<p>Downloaded and extracted DBI-1.628 then in the shell command:</p>\n\n<pre><code>cd DBI-1.628 \nmake realclean \nperl Perlfile.PL\nmeke\n</code></pre>\n"}, {"tags": ["c", "perl", "web-services"], "comments": [{"owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "edited": false, "score": 1, "creation_date": 1448470647, "post_id": 33919268, "comment_id": 55605454, "body": "Of course. All things are possible in C. You could even write an entire operating system in C if you wanted to."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "edited": false, "score": 0, "creation_date": 1448462824, "post_id": 33919389, "comment_id": 55599933, "body": "The problem with using LIBCURL, and i apologize for not specifying it before that its not available on HP Unix machines. Also how efficient would reading the output of a STDOUT be? i know that it&#39;s a ghetto way of doing it but there should be another way to do it via C itself."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "edited": false, "score": 0, "creation_date": 1448464236, "post_id": 33919389, "comment_id": 55600962, "body": "It won&#39;t compile on HP machines? I find that hard to believe &quot;<i>libcurl is highly portable, it builds and works identically on numerous platforms, including Solaris, NetBSD, FreeBSD, OpenBSD, Darwin, <b>HPUX</b>, IRIX, AIX, Tru64, Linux, UnixWare, HURD, Windows, Amiga, OS/2, BeOs, Mac OS X, Ultrix, QNX, OpenVMS, RISC OS, Novell NetWare, DOS and more...</i>&quot;"}, {"owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "edited": false, "score": 0, "creation_date": 1448465177, "post_id": 33919389, "comment_id": 55601626, "body": "We do not have it available for our HPUX machines. only our Linux have it unfortunately."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "edited": false, "score": 0, "creation_date": 1448465310, "post_id": 33919389, "comment_id": 55601733, "body": "I don&#39;t follow. You keep saying it&#39;s not <i>available</i> to you, but it&#39;s available to whole world. The question is whether it <i>compiles</i> or not."}, {"owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "edited": false, "score": 0, "creation_date": 1448466241, "post_id": 33919389, "comment_id": 55602426, "body": "It doesn&#39;t compile because it does not exist on our machines. And i don&#39;t have the admin rights to install it. For some reason they will not install it on our Unix Machines. If I did have it , I bet it would compile just fine."}, {"owner": {"reputation": 420, "user_id": 2281645, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/94ECq.jpg?s=128&g=1", "display_name": "Tanner", "link": "https://stackoverflow.com/users/2281645/tanner"}, "edited": false, "score": 1, "creation_date": 1448468453, "post_id": 33919389, "comment_id": 55603964, "body": "You should be able to do a local install for your own use without admin rights."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1448462578, "last_edit_date": 1592644375, "creation_date": 1448462578, "answer_id": 33919389, "question_id": 33919268, "link": "https://stackoverflow.com/questions/33919268/calling-a-restful-web-service-in-c/33919389#33919389", "title": "Calling a Restful web service in C", "body": "<blockquote>\n<p><em>Is there anyway you can call web services in C on a Unix machine?</em></p>\n<p>Is there a way to make HTTP requests in C on a unix machine?</p>\n</blockquote>\n<p>Well, yeah. You could use libcurl, among others.</p>\n<hr />\n<blockquote>\n<p><em>One theory I have is for the C program to call a PERL script that calls and returns the output to me back to C.</em></p>\n<p>Can a C program execute a Perl script and capture its output?</p>\n</blockquote>\n<p>Yeah. Just replace the child's STDOUT with a pipe and read from the pipe.</p>\n"}], "owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1448462578, "creation_date": 1448462236, "question_id": 33919268, "link": "https://stackoverflow.com/questions/33919268/calling-a-restful-web-service-in-c", "title": "Calling a Restful web service in C", "body": "<p>I have a C program that I have to convert SQL queries to instead call a web service. Is there anyway you can call web services in C on a Unix machine? Re-writing the code is not really an option for since it's a good 5000 line program. One theory I have is for the C program to call a PERL script that calls and returns the output to me back to C. What options do I have to tackle this issue?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448456060, "post_id": 33916958, "comment_id": 55595116, "body": "We cannot help without knowing what is inside of <code>$feed_type</code>. Print it before that line you showed and take a look. My best guess is it contains a newline character and the <code>eq</code> thus doesn&#39;t match. If you use <code>=</code> it will <i>assign</i> <code>&quot;SE&quot;</code> to <code>$feed_type</code>, and that operation returns a true value, so Perl will execute the then-block."}, {"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448456335, "post_id": 33916958, "comment_id": 55595322, "body": "@simbabque:I am assigning $feedtype to SE using below command.  my $feed_type=&quot;SE&quot;"}, {"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448456435, "post_id": 33916958, "comment_id": 55595381, "body": "What is that new line character? As I am a novice in perl I do not know much about this."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1448456444, "post_id": 33916958, "comment_id": 55595391, "body": "Please <a href=\"https://stackoverflow.com/posts/33916958/edit\">edit</a> your question and add a little more of your code. Where does <code>$feed_type</code> come from?"}, {"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448457826, "post_id": 33916958, "comment_id": 55596322, "body": "Hi, as you said I printed the value of feed_type.It&#39;s the value as 1. I have no clue why it&#39;s taking 1 even though I am sending &#39;SE&#39; as input to the subroutine"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448457847, "post_id": 33916958, "comment_id": 55596338, "body": "$feed_type probably contains a newline"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1448458033, "post_id": 33916958, "comment_id": 55596462, "body": "Look, we cannot just guess what happens. Either post your actual code, or write an <a href=\"http://stackoverflow.com/help/mcve\">mcve</a> that shows the problem so we can reproduce it. If there is input coming from a file, show a few relevant lines. If you feel uncomfortable showing production code, change variable names and strings. <b>Do not just retype some code here</b>. We are not able to help you like this."}], "answers": [{"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1448460964, "post_id": 33917799, "comment_id": 55598590, "body": "Your middle statement is incorrect on at least a couple levels.  <code>==</code> expects numbers, not strings.  If strings are found they are converted.  The warning that OP is seeing is because they are using assignment in a context that expects a Boolean &amp; using <code>=</code> instead of <code>==</code> is an easy mistake to make."}, {"owner": {"reputation": 166, "user_id": 5102552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1213688185324421/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/5102552/andy"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1448534727, "post_id": 33917799, "comment_id": 55632722, "body": "Yeah you&#39;re right, but wrong on what I said, so maybe I wasn&#39;t clear.  OP was expecting $feed_type to be a string, it&#39;s not so the warning is suggesting you should use &#39;==&#39;. If it happens to be true so has the value of 1, then it&#39;s not a string and that explains it."}], "tags": [], "owner": {"reputation": 166, "user_id": 5102552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1213688185324421/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/5102552/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1448458273, "creation_date": 1448458273, "answer_id": 33917799, "question_id": 33916958, "link": "https://stackoverflow.com/questions/33916958/is-working-in-place-of-eq/33917799#33917799", "title": "&#39;=&#39; is working in place of &#39;eq&#39;", "body": "<p>= is used to assign the variable a value, so you would need '==' to compare numerical values and 'eq' for strings.</p>\n\n<p>If it's complaining about not using '==', then it's because $feed_type is not a string.</p>\n\n<p>I can't tell as there's no more code. Whatever $feed_type is set by you need to confirm it actually contains a string or if you're even referencing it correctly.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1448458877, "creation_date": 1448458877, "answer_id": 33918020, "question_id": 33916958, "link": "https://stackoverflow.com/questions/33916958/is-working-in-place-of-eq/33918020#33918020", "title": "&#39;=&#39; is working in place of &#39;eq&#39;", "body": "<p><code>=</code> might well work in place of <code>eq</code>, but not for the reason you think.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $test    = \"fish\";\nmy $compare = \"carrot\";\n\nif ( $test = $compare ) {\n    print \"It worked\\n\";\n}\n</code></pre>\n\n<p>Of course, the problem is - it'll <em>always</em> work, because you're testing the result of an assignment operation.*</p>\n\n<p>* OK, sometimes assignment operations don't work - this is why some coding styles suggest testing <code>if ( 2 == $result )</code> rather than the other way around. </p>\n"}, {"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 2, "last_activity_date": 1448464640, "creation_date": 1448464640, "answer_id": 33920123, "question_id": 33916958, "link": "https://stackoverflow.com/questions/33916958/is-working-in-place-of-eq/33920123#33920123", "title": "&#39;=&#39; is working in place of &#39;eq&#39;", "body": "<p>This is about a core Perl concept: Context. Operators and functions work differently depending on context. In this case:</p>\n\n<pre><code>my $feed_type = @_;\n</code></pre>\n\n<p>You are assigning an array in scalar context to the variable. An array in scalar context returns <em>its size</em>, not the elements in it. For this assignment to work as you expect, you have to either directly access the scalar value you want, like you have suggested:</p>\n\n<pre><code>my $feed_type = $_[0];\n</code></pre>\n\n<p>...or you can put your variable in list context by adding parentheses:</p>\n\n<pre><code>my ($feed_type) = @_;\n</code></pre>\n\n<p>This has the benefit of allowing you to perform complex assignments, like this:</p>\n\n<pre><code>my ($first, $second, @rest) = @_;\n</code></pre>\n\n<p>So, in short, the problem was that your comparison that looked like this:</p>\n\n<pre><code>if($feed_type eq \"SE\")\n</code></pre>\n\n<p>Was actually doing this:</p>\n\n<pre><code>if(1 eq \"SE\")\n</code></pre>\n\n<p>And returning false. Which is true. Consider this self-documenting code:</p>\n\n<pre><code>sub foo {\n    my $size = @_;\n    if ($size == 1) {\n         warn \"You passed 1 argument to 'foo'\\n\";\n         return;\n    }\n}\n</code></pre>\n\n<p>Which demonstrates the functionality you inadvertently used.</p>\n"}], "owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1448464640, "creation_date": 1448455743, "last_edit_date": 1448464088, "question_id": 33916958, "link": "https://stackoverflow.com/questions/33916958/is-working-in-place-of-eq", "title": "&#39;=&#39; is working in place of &#39;eq&#39;", "body": "<p>Hi I am writing a perl script to accomplish some task.In my script I am using one if loop to compare two strings as shown below.</p>\n\n<pre><code>if($feed_type eq \"SE\"){\n...........}\n</code></pre>\n\n<p>The above code is not giving me any warning but the output is not as I expected.\nInstead of <code>'eq'</code> if I use <code>'='</code> I am getting a warning saying <code>expectng '==' but '=' is present</code>. But I am getting the expected output.\nIdeally for string comparison I must use <code>'eq'</code> and for numbers <code>'=='</code>. In this case it's not working. Can anyone figure out what is the problem here?</p>\n\n<p>More info:</p>\n\n<p>This <code>if</code> loop is present in a subroutine. <code>$feed_type</code> is an input for this subroutine. I am reading the input as below:</p>\n\n<pre><code>my $feed_type=@_;\n</code></pre>\n\n<p>The problem is fixed. I just changed the assignemet statement of feed_type as below</p>\n\n<pre><code>my $feed_type=$_[0];\n</code></pre>\n\n<p>and it's reading the value as <code>SE</code> and the code is working.\nbut I still dont know why <code>my $feed_type=$_[0];</code> didn't work.</p>\n"}, {"tags": ["regex", "perl", "token", "substitution"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448456156, "post_id": 33916921, "comment_id": 55595191, "body": "Are you building a simple template system?"}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 0, "creation_date": 1448457223, "post_id": 33916921, "comment_id": 55595934, "body": "This is impossible to do in the general case if you don&#39;t add some constraints to the problem. Imagine how you would match <code>X{{A}}{{B}}Z</code> with the text <code>XfooZ</code> ? One such constraint could be that <code>}}</code> <i>must</i> be followed by a character which may not appear inside the token value."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1448459633, "post_id": 33916921, "comment_id": 55597628, "body": "If you&#39;re not careful, you&#39;re going to reinvent <code>regex</code>."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 2281760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dada175c1fb8441d62d438fe9e2063b7?s=128&d=identicon&r=PG&f=1", "display_name": "CocoRuby", "link": "https://stackoverflow.com/users/2281760/cocoruby"}, "edited": false, "score": 0, "creation_date": 1448463720, "post_id": 33918472, "comment_id": 55600608, "body": "OK, thank you for your answer. I will try this as soon as I can.I tried to generate a regexp from source but did not succeed.I will try your method."}, {"owner": {"reputation": 57, "user_id": 2281760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dada175c1fb8441d62d438fe9e2063b7?s=128&d=identicon&r=PG&f=1", "display_name": "CocoRuby", "link": "https://stackoverflow.com/users/2281760/cocoruby"}, "edited": false, "score": 0, "creation_date": 1448465252, "post_id": 33918472, "comment_id": 55601685, "body": "I get the followinf error when using the piece of code : <code>Sequence (?&lt;D...) not recognized in regex; marked by &lt;-- HERE in m&#47;application.1.hostname=(?&lt;D &lt;-- HERE NS_APP&gt;.*):(?&lt;PORT_APP&gt;.*)&#47;WHATEVER&#47; at .&#47;test3.pl line 10.</code> Do you use ?&lt;XXXX&gt; to define a pattern ?"}, {"owner": {"reputation": 57, "user_id": 2281760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dada175c1fb8441d62d438fe9e2063b7?s=128&d=identicon&r=PG&f=1", "display_name": "CocoRuby", "link": "https://stackoverflow.com/users/2281760/cocoruby"}, "edited": false, "score": 0, "creation_date": 1448466582, "post_id": 33918472, "comment_id": 55602692, "body": "OK, if I understand weel ?&lt;&gt; is used to name variables. It seems it does not work for me. I am using perl 5.8.8, maybe it is too old..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 57, "user_id": 2281760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dada175c1fb8441d62d438fe9e2063b7?s=128&d=identicon&r=PG&f=1", "display_name": "CocoRuby", "link": "https://stackoverflow.com/users/2281760/cocoruby"}, "edited": false, "score": 0, "creation_date": 1448469044, "post_id": 33918472, "comment_id": 55604363, "body": "This sample definitely worked on my test sample which was on 5.22. 5.8.8 is 7 years old, and end of life. You could probably approximate this with non-named captures."}, {"owner": {"reputation": 57, "user_id": 2281760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dada175c1fb8441d62d438fe9e2063b7?s=128&d=identicon&r=PG&f=1", "display_name": "CocoRuby", "link": "https://stackoverflow.com/users/2281760/cocoruby"}, "edited": false, "score": 0, "creation_date": 1448482572, "post_id": 33918472, "comment_id": 55612181, "body": "Yes. That is what I am going to try tomorrow. Thank you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 57, "user_id": 2281760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dada175c1fb8441d62d438fe9e2063b7?s=128&d=identicon&r=PG&f=1", "display_name": "CocoRuby", "link": "https://stackoverflow.com/users/2281760/cocoruby"}, "edited": false, "score": 0, "creation_date": 1448527337, "post_id": 33918472, "comment_id": 55627882, "body": "Which, the upgrade or the alternative solution?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1448470092, "last_edit_date": 1448470092, "creation_date": 1448460052, "answer_id": 33918472, "question_id": 33916921, "link": "https://stackoverflow.com/questions/33916921/perl-how-to-get-values-of-tokens/33918472#33918472", "title": "Perl - how to get values of tokens", "body": "<p>OK, at a basic level, you can turn your thing into a named capture for a regex. There's a caveat though - you might need to restrict character sets. </p>\n\n<p>But something like this might work:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $source = \"application.1.hostname={{DNS_APP}}:{{PORT_APP}}/WHATEVER\";\nmy $target = \"application.1.hostname=test.test.com:8080/WHATEVER\";\n\n$source =~ s|\\Q{{\\E(\\w+)\\Q}}\\E|(?&lt;$1&gt;.*)|g;\n$source = qr/$source/; \nprint \"Using Regex:\", $source,\"\\n\";\n$target =~ m/$source/;\n\n#%+ is the special named-capture hash. You can access $+{DNS_APP} for example\nprint Dumper \\%+;\n</code></pre>\n\n<p>Note though - that <code>.*</code> is a greedy match, and that will mean without delimitors/anchors between patterns, this will break. You could perhaps define a more narrow character class - I would think <code>\\w</code> normally, but you also have <code>.</code> so perhaps <code>[\\w.]+</code> - or maybe even <code>.*?</code> for non greedy matching instead. This depends rather on what would 'fit' with the types of patterns you're trying to match. If you need to do so with arbitrary patterns, I think you're going to need to need ... something like <code>regex</code> to define the match criteria in the first place. </p>\n\n<p>If your 'targets' are purely that pattern - e.g. trailing static words - you can trim you initial pattern with <code>s/\\w+$//</code> which will reduce it to:</p>\n\n<pre><code>application.1.hostname={{DNS_APP}}:{{PORT_APP}}/\n</code></pre>\n\n<p>Which you then regex transform to:</p>\n\n<pre><code>(?^:application.1.hostname=(?&lt;DNS_APP&gt;.*):(?&lt;PORT_APP&gt;.*)/)\n</code></pre>\n\n<p>And then get <code>%+</code> of:</p>\n\n<pre><code>$VAR1 = {\n          'DNS_APP' =&gt; 'test.test.com',\n          'PORT_APP' =&gt; '8080'\n        };\n</code></pre>\n\n<p>As you're on <code>5.8.8</code> - my first advice is upgrade it, because it's 7 year old software, and is long since end of life.</p>\n\n<blockquote>\n  <p>This variable was added in Perl v5.10.0.</p>\n</blockquote>\n\n<p>However you should be able to work around by:</p>\n\n<pre><code>my @match_names = $source =~ m|\\Q{{\\E(\\w+)\\Q}}\\E|g;  #capture 'names' of matches\n$source =~ s|\\Q{{\\E(\\w+)\\Q}}\\E|(.*)|g;\n$source = qr/$source/;\nprint \"Using Regex:\", $source, \"\\n\";\nmy %results;\nmy @matches = $target =~ m/$source/;\n@results{@match_names} = @matches;\n\nprint Dumper \\%results;\n</code></pre>\n\n<p>I'm pretty sure there's a way of capturing what matched from the <code>s</code> pattern replacement. If I figure out what it was, I'll update. </p>\n\n<p>(As it stands:</p>\n\n<pre><code>my ( @match_names ) =  $source =~ s|\\Q{{\\E(\\w+)\\Q}}\\E|\\(.*\\)|g;  \n</code></pre>\n\n<p>doesn't seem to work as I want - <code>@match_names</code> contains the number of replacements.  )</p>\n"}], "owner": {"reputation": 57, "user_id": 2281760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dada175c1fb8441d62d438fe9e2063b7?s=128&d=identicon&r=PG&f=1", "display_name": "CocoRuby", "link": "https://stackoverflow.com/users/2281760/cocoruby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448470092, "creation_date": 1448455633, "question_id": 33916921, "link": "https://stackoverflow.com/questions/33916921/perl-how-to-get-values-of-tokens", "title": "Perl - how to get values of tokens", "body": "<p>I am searching how to get tokens values in properties file with Perl.</p>\n\n<p>Given the source property:</p>\n\n<pre><code>my $source=\"application.1.hostname={{DNS_APP}}:{{PORT_APP}}/WHATEVER\";\n</code></pre>\n\n<p>And given the target property:</p>\n\n<pre><code>my $target=\"application.1.hostname=test.test.com:8080/WHATEVER\";\n</code></pre>\n\n<p>I would like to get the following result:</p>\n\n<pre><code>{{DNS_APP}}=test.test.com\n{{PORT_APP}}=8080\n</code></pre>\n\n<p>I have no trouble to get the tokens with :</p>\n\n<pre><code>my @matches= ( $source =~ /({{.*?}})/g );\n</code></pre>\n\n<p>But then, how to match with their values ?\nIs there an easy way, with perl regexps to get these substitutions ?</p>\n\n<p>Another difficulty (but they are execption, so it is not a big deal if this problem is not addressed) is that, sometimes, $target can be</p>\n\n<pre><code>my $target=\"application.1.hostname=test.test.com/WHATEVER\";\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>my $target=\"application.1.hostname=test.test.com:8080/SOMETHINGELSE\";\n</code></pre>\n\n<p>Or even</p>\n\n<pre><code>my $target=\"application.1.hostname=test.test.com/SOMETHINGELSE\";\n</code></pre>\n\n<p>How to deal with that ?</p>\n\n<p>I thank you in advance for you answers.</p>\n\n<p>Regards.</p>\n"}, {"tags": ["c", "perl", "ipc", "message-queue"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1448439124, "post_id": 33911255, "comment_id": 55584671, "body": "Please show your Perl and C code; we can&#39;t tell very much without it. What Perl module are you using to provide the <code>struct</code> keyword? Is it <a href=\"http://metacpan.org/module/Class::Struct\" rel=\"nofollow noreferrer\">Class::Struct</a>?"}, {"owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1448440049, "post_id": 33911255, "comment_id": 55585185, "body": "@Borodin i use class::struct.edit my question and now u can see my code."}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1448454221, "post_id": 33914482, "comment_id": 55593906, "body": "Thanks for your usefull answer.i do what u said and change my c and perl code.i send my msg like this  msgsnd($ipc_id,pack(&#39;V V a4000 V&#39;, $type_sent, $buf_size, $buffer, $last_message), 0); can u tell me its true or not pls?"}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 5, "last_activity_date": 1448452896, "last_edit_date": 1448452896, "creation_date": 1448448396, "answer_id": 33914482, "question_id": 33911255, "link": "https://stackoverflow.com/questions/33911255/message-queue-in-perl/33914482#33914482", "title": "Message queue in Perl", "body": "<p>Your code has multiple problems. I won't fix them all for you but I can give you some guideline on how to implement IPC in general.</p>\n\n<p>Reading binary data directly into C structs is extremely fragile. You have to care about byte order, struct padding and the size of types like <code>int</code> or <code>long</code>. Depending on your platform, both of these types could be 32-bit or 64-bit and little or big endian. So first of all, you need an exact specification of the \"on-the-wire protocol\" of your messages. To simplify things, let's use fixed-sized messages:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mtype: 32-bit unsigned integer, little endian\nbuffer_size: 32-bit unsigned integer, little endian\nbuffer: 4000 bytes\nlast_message: 32-bit unsigned integer, little endian\n</code></pre>\n\n<p>This is just an example. You could use big endian integers as well, like most network protocols do for historical reasons. If you only want to use IPC on a single machine, you could also specify native byte order.</p>\n\n<p>Now the length of a message is fixed to 4012 bytes. To decode such a message in a portable way in C, you should read it into a <code>char</code> array and extract each field separately. You know each field's offset and size.</p>\n\n<p>Encoding such a message in Perl is easy using the <a href=\"http://perldoc.perl.org/functions/pack.html\" rel=\"nofollow\"><code>pack</code></a> function:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $msg = pack('V V a4000 V', $mtype, $buffer_size, $buffer, $last);\n</code></pre>\n\n<p>There's no need for <code>Class::Struct</code>. This module does not do what you expect.</p>\n"}], "owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1064, "favorite_count": 1, "accepted_answer_id": 33914482, "answer_count": 1, "score": 3, "last_activity_date": 1448452896, "creation_date": 1448438644, "last_edit_date": 1448448687, "question_id": 33911255, "link": "https://stackoverflow.com/questions/33911255/message-queue-in-perl", "title": "Message queue in Perl", "body": "<p>I want to implement a message queue with Perl. I get data from stdin and send it to the queue.</p>\n\n<p>My message's structure is</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>struct message =&gt; {\n    mtype        =&gt; '$',\n    buffer_size  =&gt; '$',\n    last_message =&gt; '$',\n    buff         =&gt; '$',\n};\n</code></pre>\n\n<p>I have to receive data from the queue with a C program. My C program works well before, but now when I run it to receive data from queue it shows me something like this</p>\n\n<pre><code>age=HASH(0x1daa088) 1936942445      4000        \n</code></pre>\n\n<p>I read chunks of data with a 4000-byte buffer that I print on stdout. But instead of <code>age=HASH(0x1daa088)   1936942445</code> the program should print the size of message received.</p>\n\n<p>What happened here? Is it because the message in C is a structure and in Perl it's a hash?</p>\n\n<p>My C code:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;linux/ipc.h&gt;\n#include &lt;linux/msg.h&gt;\n#include &lt;time.h&gt;\n#include &lt;string.h&gt;\n\n#define bufsize 4000\n\nstruct mymsgbuf {\n    long    mtype;          /* Message type */\n    int     buffer_size;\n    char    buff[bufsize];\n    int     last_message;\n} msg;\n\nint read_message( int qid, long type, struct mymsgbuf *qbuf ) {\n\n    int result, length;\n\n    /* The length is essentially the size of the structure minus   sizeof(mtype)*/\n\n    length = sizeof(struct mymsgbuf) - sizeof(long);\n\n    if ( (result = msgrcv( qid, qbuf, length, type, MSG_NOERROR)) == -1 ) {\n        return(-1);\n    }\n\n    fprintf(stderr, \"\\t%d\\t\\t%d\\t\\t%d  \\n\", qbuf-&gt;buffer_size, bufsize, qbuf-&gt;last_message);\n\n    write(1,qbuf-&gt;buff,qbuf-&gt;buffer_size);\n\n    return(result);\n}\n\nint open_queue( key_t keyval ) {\n\n    int qid;\n\n    if ( (qid = msgget( keyval, 0660 )) == -1 ) {\n        return(-1);\n    }\n\n    return(qid);\n}\n\nmain() {\n\n    int     qid;\n    key_t   msgkey;\n    msg.last_message = 0;\n\n    /* Generate our IPC key value */\n    msgkey = ftok(\"/home/joobeen/Desktop/learning\", 'm');\n\n    /* Open/create the queue */\n    if (( qid = open_queue( msgkey)) == -1) {\n        perror(\"open_queue\");\n        exit(1);\n    }\n\n    fprintf(stderr, \"byte received:\\tbuffer_size:\\tlast_message:\\n\");\n\n    /* Bombs away! */\n    while (1) {\n\n        if ( (read_message( qid,0, &amp;msg )) == -1 ) {\n            perror(\"receive_message\");\n            exit(1);\n        }\n        if ( msg.last_message == 1 )\n            break;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>My Perl code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nuse IPC::SysV qw(IPC_PRIVATE IPC_CREAT S_IRUSR S_IWUSR ftok);\nuse IPC::Msg;\nuse Class::Struct;\n\nstruct message =&gt; {\n    mtype        =&gt; '$',\n    buffer_size  =&gt; '$',\n    last_message =&gt; '$',\n    buff         =&gt; '$',\n};\n\nmy $key_in = ftok( \"/home/joobeen/Desktop/learning\", 'm' );\nmy ( $buffer ) = \"\";\nmy $buf_size   = 4000;\nmy $file       = shift @ARGV;\nmy $ifh;\nmy $is_stdin  = 0;\nmy $type_sent = 1;\nmy $last;\n\nif ( defined $file ) {\n    open $ifh, \"&lt;\", $file or die $!;\n}\nelse {\n    $ifh = *STDIN;\n    $is_stdin++;\n}\n\nmy $ipc_id = msgget( $key_in, IPC_CREAT | S_IRUSR | S_IWUSR );\nmy $msg = message-&gt;new(\n    mtype        =&gt; 1,\n    last_message =&gt; 0\n);\n\nprint \"\\tbyte sent\\tbuffer_size\\tlast_message\\n\";\n\nwhile ( &lt;$ifh&gt; ) {\n\n    $last = read( $ifh, $buffer, $buf_size );\n\n    $msg-&gt;buff( $buffer );\n    $msg-&gt;buffer_size( $buf_size );\n\n    if ( $last &lt; $buf_size ) {\n        $msg-&gt;last_message( 1 );\n    }\n\n    msgsnd( $ipc_id, pack( \"l! a*\", $type_sent, $msg ), 0 );\n\n    print \"\\t\", $last, \"\\t\\t\", $buf_size, \"\\t\\t\", $msg-&gt;last_message, \"\\n\";\n\n}\n\nclose $ifh unless $is_stdin;\n</code></pre>\n"}, {"tags": ["perl", "hashtable"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448433582, "post_id": 33909692, "comment_id": 55582081, "body": "You might want to replace your long <code>unless</code> statement with <code>$deepest{$xval} &#47;&#47;= [$Evalue, $id]</code>. It isn&#39;t <i>exactly</i> the same, because it will set the value of <code>$deepest{$xval}</code> if it exists but has a value of <code>undef</code> as well as if it doesn&#39;t exist, but that &#39;s almost certainly fine for your purpose"}, {"owner": {"reputation": 2373, "user_id": 2218718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12e3ba20337c7021f2e115688a681652?s=128&d=identicon&r=PG", "display_name": "cuonglm", "link": "https://stackoverflow.com/users/2218718/cuonglm"}, "edited": false, "score": 0, "creation_date": 1448433952, "post_id": 33909692, "comment_id": 55582224, "body": "It seems that you have a key in <code>%deepest</code> which its value is an array ref with one element."}, {"owner": {"reputation": 275, "user_id": 3134778, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18832e7124cfdb99a4183c0ddd4aa695?s=128&d=identicon&r=PG&f=1", "display_name": "fifaltra", "link": "https://stackoverflow.com/users/3134778/fifaltra"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448434485, "post_id": 33909692, "comment_id": 55582436, "body": "@Borodin thanks for the hint, I will keep that in mind. In this code though, the unless statement contains some more conditions, which I didn&#39;t put into the question because they didn&#39;t produce the problem, so in this case I have to use the unless anyway."}, {"owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "edited": false, "score": 0, "creation_date": 1448439354, "post_id": 33909692, "comment_id": 55584799, "body": "Shouldn&#39;t it be <code>$deepest{$_}-&gt;[0]</code> (and so on) in the print statement? The values of the hash are array <i>references</i>, not arrays."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1448444516, "post_id": 33909692, "comment_id": 55587812, "body": "the &quot;somehow&quot; has to do with perl&#39;s auto-vivification - <a href=\"http://www.perlmonks.org/?node_id=691557\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=691557</a>"}, {"owner": {"reputation": 275, "user_id": 3134778, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18832e7124cfdb99a4183c0ddd4aa695?s=128&d=identicon&r=PG&f=1", "display_name": "fifaltra", "link": "https://stackoverflow.com/users/3134778/fifaltra"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1448447454, "post_id": 33909692, "comment_id": 55589735, "body": "@bytepusher thanks for the link"}, {"owner": {"reputation": 275, "user_id": 3134778, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18832e7124cfdb99a4183c0ddd4aa695?s=128&d=identicon&r=PG&f=1", "display_name": "fifaltra", "link": "https://stackoverflow.com/users/3134778/fifaltra"}, "reply_to_user": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "edited": false, "score": 0, "creation_date": 1448447529, "post_id": 33909692, "comment_id": 55589781, "body": "@HellmarBecker I wondered about this too, but it works for some reason."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1448449094, "post_id": 33909692, "comment_id": 55590840, "body": "Multiple brackets aren&#39;t ambiguous - <code>$array[0]</code> might be a scalar or array-ref. However if you specify <code>$array[0][1]</code> then you <i>know</i> that <code>$array[0]</code> has to be an arrayref, so can safely implicitly dereference."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1448445293, "post_id": 33912382, "comment_id": 55588319, "body": "This answer could really do with a bit more explanation as to what&#39;s going on, and why this resolves it."}, {"owner": {"reputation": 91, "user_id": 3848751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21f562f44f3c28edecab9cbe5442329?s=128&d=identicon&r=PG&f=1", "display_name": "Sergun_spb", "link": "https://stackoverflow.com/users/3848751/sergun-spb"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1448449064, "post_id": 33912382, "comment_id": 55590807, "body": "Yes, i have added some comments"}], "tags": [], "owner": {"reputation": 91, "user_id": 3848751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21f562f44f3c28edecab9cbe5442329?s=128&d=identicon&r=PG&f=1", "display_name": "Sergun_spb", "link": "https://stackoverflow.com/users/3848751/sergun-spb"}, "is_accepted": true, "score": 1, "last_activity_date": 1448448887, "last_edit_date": 1448448887, "creation_date": 1448442573, "answer_id": 33912382, "question_id": 33909692, "link": "https://stackoverflow.com/questions/33909692/perl-assigns-key-with-undefined-value/33912382#33912382", "title": "perl assigns key with undefined value", "body": "<p>Try this code\n</p>\n\n<pre><code>#should check exists of hash, not array\n$deepest{$xval} = [$Evalue, $id] unless exists $deepest{$xval};\n# some code\nforeach (keys %deepest){\n  # its good practice to use -&gt; for arrayrefs and hashrefs ($deepest{$_} - arrayref)\n  #and you should check $deepest{$xval}-&gt;[1] ( $id ) , maybe $id is undef\n  warn '$id is not defined ' unless defined $deepest{$_}-&gt;[1];\n  print $datfh $_, \"\\t\", $deepest{$_}-&gt;[0], \"\\t\", $deepest{$_}-&gt;[1],    \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1448449159, "last_edit_date": 1448449159, "creation_date": 1448448019, "answer_id": 33914330, "question_id": 33909692, "link": "https://stackoverflow.com/questions/33909692/perl-assigns-key-with-undefined-value/33914330#33914330", "title": "perl assigns key with undefined value", "body": "<p>Exists tests whether a key exists. That's useful, but it may not be entirely what you want, because it works if the <em>value</em> for that key is undef. </p>\n\n<p>You may find <code>defined</code> does what you want instead:</p>\n\n<pre><code>my %hash = ( key =&gt; undef ); \n\nprint \"Key exists\\n\" if exists $hash{$key};\nprint \"Key defined\\n\" if defined $hash{$key}; \n</code></pre>\n\n<p>And in your case:</p>\n\n<pre><code>my %hash = ( key =&gt; [ ] ); \nprint \"Exists\\n\" if exists $hash{key};\nprint \"Defined\\n\" if defined $hash{key}; \nprint \"Is true\\n\" if $hash{key}; \nprint \"Has values\\n\" if @{$hash{key}};\n</code></pre>\n\n<p>But looking at your code, my thought would be - that anonymous array you insert - does that definitely always have at least two (defined) elements? </p>\n\n<p>Because one obvious way you could hit that problem is if:</p>\n\n<pre><code>my %hash = ( key =&gt; [ \"value\", undef ] ); \nprint $hash{key}[0], $hash{key}[1],\"\\n\";\n</code></pre>\n\n<p>Regarding dereferencing (as it's a bit too big for the comments) - you actually only need to dereference once. </p>\n\n<p>Because:</p>\n\n<pre><code>my $array_ref = [ 1, 4, 9 ]; \nprint $array_ref,\"\\n\"; #scalar value; \nprint $array_ref -&gt; [0],\"\\n\"; #also scalar, from within array. \n</code></pre>\n\n<p>If you have however:</p>\n\n<pre><code>my @array = ( [1, 4, 9], \n              [16, 25, 36], );\nprint \"@array\\n\";\nprint \\@array,\"\\n\";\nprint $array[0],\"\\n\"; #reference scalar - but because of the brackets\n                      #perl knows you're referring to @array. \nprint $array[0][1],\"\\n\"; #scalar, but implicitly dereferenced.\nprint $array[0]-&gt;[1]; #dereferenced scalar, same as above.\n</code></pre>\n\n<p>The last two cases are the same - why? Well, because it has to be. The 'parent' array <em>must</em> be a reference, because that's how an array of arrays works, so <code>perl</code> can automagically dereference. </p>\n"}], "owner": {"reputation": 275, "user_id": 3134778, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18832e7124cfdb99a4183c0ddd4aa695?s=128&d=identicon&r=PG&f=1", "display_name": "fifaltra", "link": "https://stackoverflow.com/users/3134778/fifaltra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 33912382, "answer_count": 2, "score": 0, "last_activity_date": 1448460771, "creation_date": 1448432362, "last_edit_date": 1448432994, "question_id": 33909692, "link": "https://stackoverflow.com/questions/33909692/perl-assigns-key-with-undefined-value", "title": "perl assigns key with undefined value", "body": "<p>I have a piece of code which used to look like this:</p>\n\n<pre><code>$deepest{$xval} = $Evalue unless exists $deepest{$xval}; \n\n#some code\n\nforeach (keys %deepest){\n  print $datfh $_, \"\\t\", $deepest{$_}, \"\\n\";\n}\n</code></pre>\n\n<p>Then I changed it to </p>\n\n<pre><code>$deepest{$xval} = [$Evalue, $id] unless exists $deepest{$xval}[0];\n\n#some more code\n\nforeach (keys %deepest){\n  print $datfh $_, \"\\t\", $deepest{$_}[0], \"\\t\", $deepest{$_}[1], \"\\n\";\n}\n</code></pre>\n\n<p>And now I get, when I print the hash afterwards, a lot of warnings:</p>\n\n<pre><code>Use of uninitialized value in print\n</code></pre>\n\n<p>which I didn't get before.</p>\n\n<p>Why does the new hash structure work different than the old one? Is there anything I can do to avoid the uninitialized entries?</p>\n\n<p>Update: Stupid me, I didn't include the part of the code that actually caused the error in the original question. Now it's in and now I also know how to get rid of it, namely replacing <code>exists $deepest{$xval}[0]</code> by <code>exists $deepest{$xval}</code>, somehow the first way creates the hash entry. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1448414845, "post_id": 33906991, "comment_id": 55576610, "body": "That wouldn&#39;t be a hash; a hash never has two items with the same key. Do you just want an array containing the list of key/value pairs?"}, {"owner": {"reputation": 2277, "user_id": 1289486, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79f275a9ef8575857cfd80df783e4013?s=128&d=identicon&r=PG", "display_name": "Marty Cortez", "link": "https://stackoverflow.com/users/1289486/marty-cortez"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1448414992, "post_id": 33906991, "comment_id": 55576654, "body": "Yes, an array of objects (hashes?)"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1448415032, "post_id": 33906991, "comment_id": 55576668, "body": "An array of hashes is what you already have. Do you just want to remove the <code>id</code> keys then?"}, {"owner": {"reputation": 2277, "user_id": 1289486, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79f275a9ef8575857cfd80df783e4013?s=128&d=identicon&r=PG", "display_name": "Marty Cortez", "link": "https://stackoverflow.com/users/1289486/marty-cortez"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1448415651, "post_id": 33906991, "comment_id": 55576864, "body": "yeah and change the <code>image</code> key to <code>name</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2277, "user_id": 1289486, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79f275a9ef8575857cfd80df783e4013?s=128&d=identicon&r=PG", "display_name": "Marty Cortez", "link": "https://stackoverflow.com/users/1289486/marty-cortez"}, "edited": false, "score": 0, "creation_date": 1448415116, "post_id": 33907032, "comment_id": 55576702, "body": "wow. this looks like it might work. tbh i&#39;m learning perl, so the list concept is kind of blowing me away. but the first pass looks sweet. I&#39;ll give it a try and accept if it works. Thank you!"}, {"owner": {"reputation": 2277, "user_id": 1289486, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79f275a9ef8575857cfd80df783e4013?s=128&d=identicon&r=PG", "display_name": "Marty Cortez", "link": "https://stackoverflow.com/users/1289486/marty-cortez"}, "edited": false, "score": 0, "creation_date": 1448415721, "post_id": 33907032, "comment_id": 55576876, "body": "i used your line first line but i&#39;m getting a syntax error: <code>near &quot;} @&quot;</code>"}, {"owner": {"reputation": 2277, "user_id": 1289486, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79f275a9ef8575857cfd80df783e4013?s=128&d=identicon&r=PG", "display_name": "Marty Cortez", "link": "https://stackoverflow.com/users/1289486/marty-cortez"}, "edited": false, "score": 0, "creation_date": 1448415732, "post_id": 33907032, "comment_id": 55576880, "body": "maybe an older version of Perl?"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 2277, "user_id": 1289486, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79f275a9ef8575857cfd80df783e4013?s=128&d=identicon&r=PG", "display_name": "Marty Cortez", "link": "https://stackoverflow.com/users/1289486/marty-cortez"}, "edited": false, "score": 0, "creation_date": 1448415847, "post_id": 33907032, "comment_id": 55576914, "body": "@MartinCortez no, my fault. Fixed."}, {"owner": {"reputation": 2277, "user_id": 1289486, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79f275a9ef8575857cfd80df783e4013?s=128&d=identicon&r=PG", "display_name": "Marty Cortez", "link": "https://stackoverflow.com/users/1289486/marty-cortez"}, "edited": false, "score": 0, "creation_date": 1448417414, "post_id": 33907032, "comment_id": 55577326, "body": "as it turned out I needed an array of hashes, so i went with: <code>@args = map { {image =&gt; $_-&gt;{image}} } @$things;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2277, "user_id": 1289486, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79f275a9ef8575857cfd80df783e4013?s=128&d=identicon&r=PG", "display_name": "Marty Cortez", "link": "https://stackoverflow.com/users/1289486/marty-cortez"}, "edited": false, "score": 1, "creation_date": 1448418021, "post_id": 33907032, "comment_id": 55577490, "body": "@MartinCortez: But <code>$things</code> is already an array of hashes containing exactly that information. You&#39;re wastefully duplicating your data"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448458478, "post_id": 33907032, "comment_id": 55596781, "body": "Almost exactly. It does remove the <code>id</code> elements. That&#39;s be cheaper to do using <code>delete($_-&gt;{id}) for @args;</code>"}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 1, "last_activity_date": 1448415841, "last_edit_date": 1448415841, "creation_date": 1448414988, "answer_id": 33907032, "question_id": 33906991, "link": "https://stackoverflow.com/questions/33906991/how-do-i-do-a-use-a-map-function-to-create-a-custom-hash-from-an-array-in-perl/33907032#33907032", "title": "How do I do a use a map function to create a custom hash from an array in Perl?", "body": "<p>Assuming what you actually want is an array containing a list you can pass to that function, which expects key/value pairs, this would work:</p>\n\n<pre><code>@args = map { (image =&gt; $_-&gt;{image}) } @$things;\n</code></pre>\n\n<p>for clarity, this is the same as</p>\n\n<pre><code>@args = map { ('image', $_-&gt;{image}) } @$things;\n</code></pre>\n\n<p>that is, <code>map</code> is just returning a list where all of the even-numbered elements are the string <code>\"image\"</code> and all of the odd-numbered elements are the value of the <code>image</code> key of some element in <code>@$things</code>.</p>\n"}], "owner": {"reputation": 2277, "user_id": 1289486, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79f275a9ef8575857cfd80df783e4013?s=128&d=identicon&r=PG", "display_name": "Marty Cortez", "link": "https://stackoverflow.com/users/1289486/marty-cortez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 33907032, "answer_count": 1, "score": -2, "last_activity_date": 1448415841, "creation_date": 1448414764, "question_id": 33906991, "link": "https://stackoverflow.com/questions/33906991/how-do-i-do-a-use-a-map-function-to-create-a-custom-hash-from-an-array-in-perl", "title": "How do I do a use a map function to create a custom hash from an array in Perl?", "body": "<p>I have some JavaScript:</p>\n\n<pre><code>var $things = [\n  {\n    \"id\": \"1\",\n    \"image\": \"one.png\"\n  },\n  {\n    \"id\": \"2\",\n    \"image\": \"two.png\"\n  },\n];\n</code></pre>\n\n<p>It gets converted to a Perl array (<code>$thingsJSON</code> is a string representation of the above):</p>\n\n<pre><code> my $coder = JSON::XS-&gt;new-&gt;utf8;\n my $things = $coder-&gt;decode($thingsJSON);\n</code></pre>\n\n<p>A want a map function on <code>$things</code> that will return a collection (<code>$args</code>) that looks like this:</p>\n\n<pre><code>(\n  image =&gt; \"one.png\",\n  image =&gt; \"two.png\"\n)\n</code></pre>\n\n<p>I want to be able to pass the above as <code>$args</code> to another function:</p>\n\n<p><code>$Bar-&gt;find($args)</code></p>\n"}, {"tags": ["regex", "bash", "perl", "sed", "rename"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1448413295, "post_id": 33906213, "comment_id": 55576148, "body": "I prefer <code>s&#47;S\\d+E\\d+\\K.*(?=\\.[^.]*)&#47;&#47;i</code> to any solution below"}, {"owner": {"reputation": 2317, "user_id": 1868534, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/N4V3Q.jpg?s=128&g=1", "display_name": "Graham Gold", "link": "https://stackoverflow.com/users/1868534/graham-gold"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448555725, "post_id": 33906213, "comment_id": 55645873, "body": "@Borodin neat - didn&#39;t know the \\K trick!"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1448410471, "creation_date": 1448410471, "answer_id": 33906326, "question_id": 33906213, "link": "https://stackoverflow.com/questions/33906213/keep-the-first-character-of-a-sed-regex-match/33906326#33906326", "title": "Keep the first character of a sed regex match", "body": "<p>You need parentheses to capture parts of the strings:</p>\n\n<pre><code>s/([0-9])[.].*?[.]([^.]+)$/$1.$2/\n</code></pre>\n\n<p>or, you can use a look-behind instead of the first capture:</p>\n\n<pre><code>s/(?&lt;=[0-9])[.].*?[.]([^.]+)$/.$1/\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2317, "user_id": 1868534, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/N4V3Q.jpg?s=128&g=1", "display_name": "Graham Gold", "link": "https://stackoverflow.com/users/1868534/graham-gold"}, "edited": false, "score": 0, "creation_date": 1448411698, "post_id": 33906330, "comment_id": 55575664, "body": "Cheers - went with @choroba answer as its file extension agnostic - but tested yours successfully also and worked a treat"}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "reply_to_user": {"reputation": 2317, "user_id": 1868534, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/N4V3Q.jpg?s=128&g=1", "display_name": "Graham Gold", "link": "https://stackoverflow.com/users/1868534/graham-gold"}, "edited": false, "score": 0, "creation_date": 1448411765, "post_id": 33906330, "comment_id": 55575687, "body": "No worries, just re-read your question and was in the midst of updating it for future visitors."}, {"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 2, "creation_date": 1448417358, "post_id": 33906330, "comment_id": 55577315, "body": "This will fail when <i>The Simpsons</i> runs into its 100th season."}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "reply_to_user": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 0, "creation_date": 1448417418, "post_id": 33906330, "comment_id": 55577328, "body": "@StephenP the horror!"}, {"owner": {"reputation": 2317, "user_id": 1868534, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/N4V3Q.jpg?s=128&g=1", "display_name": "Graham Gold", "link": "https://stackoverflow.com/users/1868534/graham-gold"}, "reply_to_user": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 0, "creation_date": 1448436121, "post_id": 33906330, "comment_id": 55583186, "body": "@StephenP :-) <code>rename -nv -- &#39;s&#47;(^.*?S\\d{2,3}E\\d{2})\\..*?\\.(*)$&#47;$1.$2&#47;&#39; *</code>"}], "tags": [], "owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "is_accepted": false, "score": 1, "last_activity_date": 1448411727, "last_edit_date": 1448411727, "creation_date": 1448410478, "answer_id": 33906330, "question_id": 33906213, "link": "https://stackoverflow.com/questions/33906213/keep-the-first-character-of-a-sed-regex-match/33906330#33906330", "title": "Keep the first character of a sed regex match", "body": "<p>This should work. It's capturing the part that you want to keep in parentheses, and then referring to it in the replacement as <code>$1</code>. </p>\n\n<pre><code>rename -nv -- 's/(^.*?S\\d{2}E\\d{2})\\..*?\\.(*)$/$1.$2/' *\n</code></pre>\n"}], "owner": {"reputation": 2317, "user_id": 1868534, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/N4V3Q.jpg?s=128&g=1", "display_name": "Graham Gold", "link": "https://stackoverflow.com/users/1868534/graham-gold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 33906326, "answer_count": 2, "score": 0, "last_activity_date": 1448412714, "creation_date": 1448409723, "last_edit_date": 1448412714, "question_id": 33906213, "link": "https://stackoverflow.com/questions/33906213/keep-the-first-character-of-a-sed-regex-match", "title": "Keep the first character of a sed regex match", "body": "<p>I'm trying to use the <code>rename</code> perl command in Debian to rename files and remove detritus from the end of the filename.</p>\n\n<p>The file names may be like this (varying length/nodes before the series/episode identifier)</p>\n\n<pre><code>A.TV.Show.S01E01.HDTV.XVid[stuff].avi\nOther.Prog.S07E09.WEB.H264[things].mp4\n</code></pre>\n\n<p>And I want to remove everything after the <code>SnnEnn</code> bit and keep the file extension. For example</p>\n\n<pre><code>A.TV.Show.S01E01.avi\nOther.Prog.S07E09.mp4\n</code></pre>\n\n<p>I don't mind having a command per file extension, although a single command that is extension agnostic would be better.</p>\n\n<p>What I have so far is as follows:</p>\n\n<pre><code>rename -nv -- 's/[0-9][.].*?[.]avi$/.avi/' *.avi\n</code></pre>\n\n<p>I'm using <code>-n</code> just now so it just shows what the rename would do, without doing it.</p>\n\n<p>The problem is it's losing the number at the end of the series and episode identifier - I need it to keep the first character of the matched text then throw the rest away.</p>\n\n<p>What it gives me currently is files named thus:</p>\n\n<pre><code>A.TV.Show.S01E0.avi\nOther.Prog.S07E0.mp4\n</code></pre>\n\n<p>Any idea how to do this? Is there a better pattern than I'm using?</p>\n"}, {"tags": ["mysql", "sql-server", "database", "apache", "perl"], "comments": [{"owner": {"reputation": 287, "user_id": 1934465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c289008a98b48804116c8e380814f4bb?s=128&d=identicon&r=PG", "display_name": "Olle Kelderman", "link": "https://stackoverflow.com/users/1934465/olle-kelderman"}, "edited": false, "score": 0, "creation_date": 1448406196, "post_id": 33905411, "comment_id": 55573674, "body": "Im basically laying in bed and going to sleep, so not able to figure out things nor type a proper answer :p, but what I wanna say is I remember some option in the mysql config denying access for every remote connection. Maybe it has something to do with that, maybe not :p"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4768567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RxID_5BOD24/AAAAAAAAAAI/AAAAAAAAAB0/lQ4qNq3Wdig/photo.jpg?sz=128", "display_name": "scifi_ji", "link": "https://stackoverflow.com/users/4768567/scifi-ji"}, "is_accepted": false, "score": 0, "last_activity_date": 1448441697, "creation_date": 1448441697, "answer_id": 33912084, "question_id": 33905411, "link": "https://stackoverflow.com/questions/33905411/mysql-access-denied-for-user-error-when-application-hosted-on-different-server-f/33912084#33912084", "title": "MySQL Access denied for user Error when application hosted on different server from DB", "body": "<p>There are a couple of things you should please verify:</p>\n\n<p>Please make sure <em>skip-networking</em> in my.cnf is disabled. If <em>bind-address</em> is set, make sure it is appropriately set, depending on the network config of server2. Do a service mysql restart if you changed anything.</p>\n\n<p>If it still does not work I would verify that the password and source ip is not the issue by (if possible) creating another user to connect with - you can always remove it after testing. Issue a grant with:\nGRANT ALL PRIVILEGES ON <code>hpdb</code>.* TO 'userregotest'@'%' IDENTIFIED BY 'xxxxxx'</p>\n\n<p>With that you will be sure of the correct password and that the source ip address is not the issue since any source address will be able to connect.</p>\n\n<p>If none of this works, we might need to inspect things a bit closer.</p>\n"}], "owner": {"reputation": 1181, "user_id": 1859005, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/77hHh.jpg?s=128&g=1", "display_name": "Avinesh Kumar", "link": "https://stackoverflow.com/users/1859005/avinesh-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1448441697, "creation_date": 1448405544, "last_edit_date": 1448405930, "question_id": 33905411, "link": "https://stackoverflow.com/questions/33905411/mysql-access-denied-for-user-error-when-application-hosted-on-different-server-f", "title": "MySQL Access denied for user Error when application hosted on different server from DB", "body": "<p>I have 2 different server, one server (<code>server1</code>) hosts the perl application and the other server (<code>server2</code>) hosts the MYSQL DB (DBNAME= <code>hpdb</code>).</p>\n\n<p>The perl application on server1 is suppose to get mysql results from server2. When I try to do this I get the error message <code>Access denied for user 'userrego'@'server1.domain.com' (using password: YES)</code>. </p>\n\n<p>However, when I host the perl application on <code>server2</code>, the application works as expected.</p>\n\n<p>I tried to <code>GRANT ALL PRIVILEGES ON hpdb.* TO 'userrego'@'server1.domain.com'</code> but still couldn't get it to work.</p>\n\n<pre><code>mysql&gt; SHOW GRANTS FOR 'userrego'@'server1.domain.com';\n+---------------------------------------------------------------------+\n| Grants for userrego@server1.domain.com                              |\n+---------------------------------------------------------------------+\n| GRANT USAGE ON *.* TO 'userrego'@'server1.domain.com'               |\n| GRANT ALL PRIVILEGES ON `hpdb`.* TO 'userrego'@'server1.domain.com' |\n+---------------------------------------------------------------------+\n2 rows in set (0.01 sec)\n</code></pre>\n"}, {"tags": ["perl", "putty"], "answers": [{"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1448390908, "last_edit_date": 1448390908, "creation_date": 1448389991, "answer_id": 33901237, "question_id": 33900506, "link": "https://stackoverflow.com/questions/33900506/psftp-error-flag-using-in-perl/33901237#33901237", "title": "psftp error flag using in perl", "body": "<p>You should read <code>STDERR</code> from your application into Perl. For that use  <a href=\"http://search.cpan.org/dist/Capture-Tiny/lib/Capture/Tiny.pm\" rel=\"nofollow\">Capture::Tiny</a></p>\n\n<pre><code>my ($stdout, $stderr, $exit) = capture {\n     system('2166_PG_Upload_Batch.bat');\n   };  \n#check for $stderr and do your stuffs i.e sending email etc\n</code></pre>\n\n<p>For more info refer <a href=\"http://perldoc.perl.org/perlfaq8.html#How-can-I-capture-STDERR-from-an-external-command%3f\" rel=\"nofollow\">perlfaq</a></p>\n"}], "owner": {"reputation": 120, "user_id": 3101182, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a723eb4d02a334b5ef244a2b097bf96f?s=128&d=identicon&r=PG&f=1", "display_name": "user3101182", "link": "https://stackoverflow.com/users/3101182/user3101182"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448390908, "creation_date": 1448387457, "question_id": 33900506, "link": "https://stackoverflow.com/questions/33900506/psftp-error-flag-using-in-perl", "title": "psftp error flag using in perl", "body": "<p>The script below functions just as intended. It calls the batch file which establishes a connection using PUTTY or scpecically psftp and transfers a handful of file. Once the transfer is complete i continue with the perl script to move the files to another directory.</p>\n\n<p>My question is how could I capture an error from the PSFTP application? If there is an error xfering or establishing a connection i would like to generate a flag which then i could capture in perl and stop anything else from happening and send me an email. I just need guidance on generating the flag from the PSFTP application on error.</p>\n\n<p>Thank you very much in advance!</p>\n\n<p>My </p>\n\n<pre><code>use warnings;\nuse File::Copy;\n\n\nmy $TheInputDir = \"//NT6/InfoSys/PatientSurvey/Invision/CFVMC/\";\nmy $TheMoveDir = \"//NT6/InfoSys/PatientSurvey/Invision/CFVMC/Completed\";\n\nsystem ('2166_PG_Upload_Batch.bat');\n\n\nopendir (THEINPUTDIR, $TheInputDir);\n@TheFiles = readdir(THEINPUTDIR);\nclose THEINPUTDIR;\n\n\n#Get all the files that meet the naming convention\nforeach $TheFile(@TheFiles) \n{\n    if($TheFile =~ /2166/)\n    {\n        print \"$TheFile\\n\";\n        move (\"$TheInputDir$TheFile\",\"$TheMoveDir\");\n\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "while-loop", "seek"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1448385836, "post_id": 33899632, "comment_id": 55562467, "body": "It&#39;s called a &quot;file handle&quot;, not a &quot;filehandler&quot;. It holds onto a file resources; it doesn&#39;t take care of a file resource."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448409024, "post_id": 33899632, "comment_id": 55574715, "body": "A lot depends on why you want to do this. The easiest way is just to write a <code>while</code> read loop and save the line the first time it is executed. There&#39;s probably no need to read the first line and then also feed it into the read loop"}, {"owner": {"reputation": 225, "user_id": 4384744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c07dcdadcfb4a20c206b74aac8a34ca?s=128&d=identicon&r=PG&f=1", "display_name": "chrpinedo", "link": "https://stackoverflow.com/users/4384744/chrpinedo"}, "edited": false, "score": 0, "creation_date": 1448462278, "post_id": 33899632, "comment_id": 55599515, "body": "I needed to read the first line to determine the type of output and then I need to process the output accordingly since the first line. In fact, I have two possible output types and so I have two different while loops to apply. But I need to process also the first line."}], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 4384744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c07dcdadcfb4a20c206b74aac8a34ca?s=128&d=identicon&r=PG&f=1", "display_name": "chrpinedo", "link": "https://stackoverflow.com/users/4384744/chrpinedo"}, "edited": false, "score": 0, "creation_date": 1448461895, "post_id": 33899896, "comment_id": 55599268, "body": "so simple that I didn&#39;t realize ... :-D"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1448385394, "creation_date": 1448385394, "answer_id": 33899896, "question_id": 33899632, "link": "https://stackoverflow.com/questions/33899632/read-one-line-from-file-pipe-and-reuse-it-in-a-while-loop/33899896#33899896", "title": "Read one line from file/pipe and reuse it in a while loop", "body": "<p>Just remember the first line in a variable. Read the next line from the filehandle at the end of the loop:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen my $FH, '-|', 'echo 3 ; seq 1 10' or die $!;\nif (defined( my $first = &lt;$FH&gt; )) {\n    my $line = $first;\n    while () {\n        chomp $line;\n        print \"$line:$first\";\n        last if eof $FH;\n\n        $line = &lt;$FH&gt;;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1448387698, "last_edit_date": 1448387698, "creation_date": 1448385982, "answer_id": 33900064, "question_id": 33899632, "link": "https://stackoverflow.com/questions/33899632/read-one-line-from-file-pipe-and-reuse-it-in-a-while-loop/33900064#33900064", "title": "Read one line from file/pipe and reuse it in a while loop", "body": "<p>Looking backward:</p>\n\n<pre><code>my $prev;\nwhile (defined( my $line = &lt;&gt; )) {\n   ... Use $prev and $line. $prev might not be defined. ...\n\n   $prev = $line;\n}\n</code></pre>\n\n<p>Looking forward:</p>\n\n<pre><code>my $line = &lt;&gt;;\nwhile (defined($line)) {\n   my $next = &lt;&gt;;\n   ... Use $line and $next. $next might not be defined. ...\n\n   $line = $next;\n}\n</code></pre>\n\n<p>In pairs:</p>\n\n<pre><code>if (defined( my $line1 = &lt;&gt; )) {\n   while (defined( my $line2 = &lt;&gt; )) {\n      ... Use $line1 and $line2. Both will be defined. ...\n\n      $line1 = $line2;\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1448433062, "last_edit_date": 1448433062, "creation_date": 1448409199, "answer_id": 33906120, "question_id": 33899632, "link": "https://stackoverflow.com/questions/33899632/read-one-line-from-file-pipe-and-reuse-it-in-a-while-loop/33906120#33906120", "title": "Read one line from file/pipe and reuse it in a while loop", "body": "<p>A lot depends on why you want to do this. The easiest way is just to write a while read loop and save the line the first time it is executed. There's probably no need to read the first line and then also feed it into the read loop</p>\n\n<p>Something like this perhaps</p>\n\n<pre><code>my $first_line;\n\nwhile ( &lt;&gt; ) {\n\n    $first_line //= $_;\n\n    # Process $_\n}\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 4384744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c07dcdadcfb4a20c206b74aac8a34ca?s=128&d=identicon&r=PG&f=1", "display_name": "chrpinedo", "link": "https://stackoverflow.com/users/4384744/chrpinedo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 0, "accepted_answer_id": 33899896, "answer_count": 3, "score": 1, "last_activity_date": 1448433062, "creation_date": 1448384595, "last_edit_date": 1448401511, "question_id": 33899632, "link": "https://stackoverflow.com/questions/33899632/read-one-line-from-file-pipe-and-reuse-it-in-a-while-loop", "title": "Read one line from file/pipe and reuse it in a while loop", "body": "<p>I have a file handle to read data from a file or from a pipe. Firstly, I read one line from the file handle. Then, I need to execute a <code>while</code> loop, taking into account the previously-read line. I think the <a href=\"http://perldoc.perl.org/functions/seek.html\" rel=\"nofollow\"><code>seek</code> function</a> is problematic with pipes.</p>\n\n<p>So my pseudocode is</p>\n\n<pre><code>local $line = &lt;INPUT&gt;;\nseek(INPUT, -length($line), 1);\n# if block\nwhile (&lt;INPUT&gt;) {\n\n}\n</code></pre>\n\n<p>Perhaps, there is a solution like this one?</p>\n\n<pre><code>while ($line, &lt;INPUT&gt;) {\n\n}\n</code></pre>\n"}, {"tags": ["perl", "attributes", "text-files"], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 5417613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/817ea4fba7c8b308d2328bdab498233f?s=128&d=identicon&r=PG&f=1", "display_name": "Sree Harsha", "link": "https://stackoverflow.com/users/5417613/sree-harsha"}, "edited": false, "score": 0, "creation_date": 1448444851, "post_id": 33909812, "comment_id": 55588036, "body": "Thanks Nick, I&#39;ve already tried the first approach and couldnot retrieve my attribute. Sorry, I should have mentioned in the question.  I&#39;ve downloaded the dll from Microsoft, pasted it at the same location where my perl file is present. but the scrips fails at      my $obj = Win32::OLE-&gt;new(&#39;DSOFile.OleDocumentProperties&#39;) or die &#39;error&#39;;"}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "reply_to_user": {"reputation": 98, "user_id": 5417613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/817ea4fba7c8b308d2328bdab498233f?s=128&d=identicon&r=PG&f=1", "display_name": "Sree Harsha", "link": "https://stackoverflow.com/users/5417613/sree-harsha"}, "edited": false, "score": 0, "creation_date": 1448451460, "post_id": 33909812, "comment_id": 55592333, "body": "You need to use the installer so that your registry gets updated and it knows about DSOFile.OleDocumentProperties"}, {"owner": {"reputation": 98, "user_id": 5417613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/817ea4fba7c8b308d2328bdab498233f?s=128&d=identicon&r=PG&f=1", "display_name": "Sree Harsha", "link": "https://stackoverflow.com/users/5417613/sree-harsha"}, "edited": false, "score": 0, "creation_date": 1448456130, "post_id": 33909812, "comment_id": 55595173, "body": "The installer just extracts its contents. It is not doing anything else. I&#39;ve used regsvr32 to register the dll manually and even then perl script died at that new() line with message &quot;died at line...&quot;  Thanks for your help. I will try digging around for some time and get  back ."}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "reply_to_user": {"reputation": 98, "user_id": 5417613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/817ea4fba7c8b308d2328bdab498233f?s=128&d=identicon&r=PG&f=1", "display_name": "Sree Harsha", "link": "https://stackoverflow.com/users/5417613/sree-harsha"}, "edited": false, "score": 0, "creation_date": 1448490650, "post_id": 33909812, "comment_id": 55616087, "body": "That&#39;s odd. Was it DsoFileSetup_KB224351_x86.exe from Microsoft? Can you find DSOFile if you search your registry? I&#39;m also using Windows 7 64-bit. The only difference is I made a C# console application using the DLL first but I doubt that matters."}, {"owner": {"reputation": 98, "user_id": 5417613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/817ea4fba7c8b308d2328bdab498233f?s=128&d=identicon&r=PG&f=1", "display_name": "Sree Harsha", "link": "https://stackoverflow.com/users/5417613/sree-harsha"}, "edited": false, "score": 0, "creation_date": 1448529610, "post_id": 33909812, "comment_id": 55629369, "body": "I was able to run the demo application provided by installer. the demo application wasnot able to read my custom attribute. so I think there is no way to read the custom attributes that were set using Java. Thanks for your help Nick"}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "reply_to_user": {"reputation": 98, "user_id": 5417613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/817ea4fba7c8b308d2328bdab498233f?s=128&d=identicon&r=PG&f=1", "display_name": "Sree Harsha", "link": "https://stackoverflow.com/users/5417613/sree-harsha"}, "edited": false, "score": 0, "creation_date": 1448576863, "post_id": 33909812, "comment_id": 55654503, "body": "Ah that&#39;s a shame. I thought it would be the same at the OS level. You could of course make a tiny Java program and call it from Perl but that&#39;s never ideal."}], "tags": [], "owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1448491259, "last_edit_date": 1495535231, "creation_date": 1448432845, "answer_id": 33909812, "question_id": 33899247, "link": "https://stackoverflow.com/questions/33899247/how-to-retrieve-custom-attribute-of-text-file-using-perl/33909812#33909812", "title": "How to retrieve custom attribute of text file using perl", "body": "<p>This was an interesting one. My code is at the end.</p>\n\n<p>I'm not really familiar with custom file properties but the below will iterate through all properties and stop when it encounters 2 blanks in a row or the desired key. When running it you will find that it does not list the custom property as it is not available through this interface.</p>\n\n<p>This is based on the code at <a href=\"https://stackoverflow.com/questions/22065947/how-to-get-the-details-of-a-file-on-windows\">How to get the details of a file on Windows</a></p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Win32::OLE;\n\nmy $fileName = 'test.txt';\nmy $myDir = 'c:\\testing\\e';\n\nmy $objShell  = Win32::OLE-&gt;new('Shell.Application') or die;\nmy $objFolder = $objShell-&gt;NameSpace($myDir) or die;\nmy $objFile   = $objFolder-&gt;ParseName($fileName) or die;\n\nmy $blank = 0;\n# Apparently the numbers vary between OS versions, 300 is a guess\nfor ( my $i = 0; $i &lt; 300; $i++ ) {\n  my $propertyName = $objFolder-&gt;GetDetailsOf($fileName, $i);\n  # skip when finding 2 blanks in a row, there may be a few more later.\n  if ($propertyName eq '') {\n        if ($blank) {\n            last;\n        }\n        $blank = 1;\n        next;\n  }\n  my $propertyValue = $objFolder-&gt;GetDetailsOf($objFile, $i);\n    print \"$i -- $propertyName -- $propertyValue\\n\";\n} \n</code></pre>\n\n<p>So, after looking around the internet I don't think this is possible with plain Windows API calls (I could be very wrong about that). </p>\n\n<p>This link shows that you can download <code>DSOFile.dll</code> from Microsoft in order to access custom properties: <a href=\"http://blog.rodhowarth.com/2008/06/how-to-set-custom-attributes-file.html\" rel=\"nofollow noreferrer\">http://blog.rodhowarth.com/2008/06/how-to-set-custom-attributes-file.html</a></p>\n\n<p>I've tried the perl code below, and it seems to work. I didn't dig too deep into the <code>Win32::OLE</code> documentation - there is probably a better way to access the information instead of a direct hash lookup.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Win32::OLE;\nuse Data::Dumper;\n\nmy $obj = Win32::OLE-&gt;new('DSOFile.OleDocumentProperties') or die Win32::OLE-&gt;LastError;\n$obj-&gt;Invoke('Open', 'C:\\testing\\e\\test.txt', 0, 0); # constants found in headers\nmy $custom_property = $obj-&gt;{CustomProperties}{'myprop'}; # you would use 'email' here\n\nmy $custom_value = $custom_property-&gt;{'Value'};\nprint \"Value is: $custom_value\\n\";\n\nprint \"\\nFile Object:\\n\", Dumper $obj;\nprint \"\\nCustom Property:\\n\", Dumper $custom_property;\n</code></pre>\n\n<p>You can also use the DLL directly but this tends to be really painful, so best avoided.</p>\n"}, {"tags": [], "owner": {"reputation": 98, "user_id": 5417613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/817ea4fba7c8b308d2328bdab498233f?s=128&d=identicon&r=PG&f=1", "display_name": "Sree Harsha", "link": "https://stackoverflow.com/users/5417613/sree-harsha"}, "is_accepted": false, "score": 0, "last_activity_date": 1448529543, "creation_date": 1448529543, "answer_id": 33934647, "question_id": 33899247, "link": "https://stackoverflow.com/questions/33899247/how-to-retrieve-custom-attribute-of-text-file-using-perl/33934647#33934647", "title": "How to retrieve custom attribute of text file using perl", "body": "<p>DSOFile.dll cannot read custom attributes that were set using Java.<br>\nI came to this conclusion after spending two days on testing about 15 different files.<br>\nSo Please do not try setting user-defined attributes in Java and reading them through perl.</p>\n"}], "owner": {"reputation": 98, "user_id": 5417613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/817ea4fba7c8b308d2328bdab498233f?s=128&d=identicon&r=PG&f=1", "display_name": "Sree Harsha", "link": "https://stackoverflow.com/users/5417613/sree-harsha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 2, "accepted_answer_id": 33909812, "answer_count": 2, "score": 2, "last_activity_date": 1448529543, "creation_date": 1448383450, "question_id": 33899247, "link": "https://stackoverflow.com/questions/33899247/how-to-retrieve-custom-attribute-of-text-file-using-perl", "title": "How to retrieve custom attribute of text file using perl", "body": "<p>I have a text file and I am adding a custom attribute \"email\" to it via Java Files API.<br>\nNow, i would like to extract that attribute from a perl script.</p>\n\n<p>after searching in internet, I came across the following code that retrieves owning user of a file</p>\n\n<pre><code>use Win32::OLE;\n   my $objShell = Win32::OLE-&gt;CreateObject(\"Shell.Application\");\n   my $objFolder=$objShell-&gt;Namespace(\"c:\\\\temp\") or die \"$!\" ;\n   my $a = $objFolder-&gt;ParseName(\"Input.txt\")  or die \"$!\" ;\n   my $owninguser= $objFolder-&gt;GetDetailsOf($a, 10).\"\\n\" or die \"$!\" ;\n</code></pre>\n\n<p>10 signifies owning user  in perl 5 and above.</p>\n\n<p>I cant use Win32::File because it just retrieves constants in a OR-edformat</p>\n\n<p>could someone throw some pointers on how to retrieve custom attribute on a text file.</p>\n\n<p>BTW, I'm using Windows 7 64-bit &amp; Active Perl 5.18.4.1803</p>\n"}, {"tags": ["c#", "perl", "powershell"], "answers": [{"comments": [{"owner": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 2, "creation_date": 1448383892, "post_id": 33899322, "comment_id": 55561233, "body": "You could &quot;one-line&quot; the perl call if necessary: <code>perl.exe -MYour::Module -E &#39;say find_value(123)&#39;</code>"}, {"owner": {"reputation": 174117, "user_id": 1630171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIS66.png?s=128&g=1", "display_name": "Ansgar Wiechers", "link": "https://stackoverflow.com/users/1630171/ansgar-wiechers"}, "reply_to_user": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1448384243, "post_id": 33899322, "comment_id": 55561471, "body": "@MathiasR.Jessen Granted, but you&#39;ll still need a Perl interpreter. PowerShell or C# alone won&#39;t suffice."}, {"owner": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1448384290, "post_id": 33899322, "comment_id": 55561507, "body": "Absolutely, he won&#39;t get around that in any case"}], "tags": [], "owner": {"reputation": 174117, "user_id": 1630171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIS66.png?s=128&g=1", "display_name": "Ansgar Wiechers", "link": "https://stackoverflow.com/users/1630171/ansgar-wiechers"}, "is_accepted": true, "score": 2, "last_activity_date": 1448439271, "last_edit_date": 1448439271, "creation_date": 1448383659, "answer_id": 33899322, "question_id": 33898784, "link": "https://stackoverflow.com/questions/33898784/call-specific-function-from-perl-module-from-powershell-or-c/33899322#33899322", "title": "Call specific function from perl module from PowerShell or C#", "body": "<p>You can't use Perl modules (<code>your_module.pm</code>) directly from PowerShell or C#. You need to run a Perl script (<code>your_script.pl</code>) that uses the module:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Your::Module qw(find_value);\n\nfind_value ...;\n</code></pre>\n\n<p>or at least pass the code string as a commandline argument to the Perl interpreter, as Mathias R. Jessen pointed out in the comments:</p>\n\n<pre><code>perl.exe -w -MYour::Module -e 'find_value ...;'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": false, "score": 0, "last_activity_date": 1618255107, "last_edit_date": 1618255107, "creation_date": 1448400413, "answer_id": 33904131, "question_id": 33898784, "link": "https://stackoverflow.com/questions/33898784/call-specific-function-from-perl-module-from-powershell-or-c/33904131#33904131", "title": "Call specific function from perl module from PowerShell or C#", "body": "<p>For further research you might have a look at Win32-PowerShell-IPC-0.02.  The documentation states the following:</p>\n<p>This module fires up a captive child PowerShell process to which you can submit commands, and receive the results. It's all text for now, but Perl excels at messy stuff like this.</p>\n"}], "owner": {"reputation": 5580, "user_id": 298336, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Oe73G.jpg?s=128&g=1", "display_name": "Zerotoinfinity", "link": "https://stackoverflow.com/users/298336/zerotoinfinity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 33899322, "answer_count": 2, "score": 0, "last_activity_date": 1618255107, "creation_date": 1448382213, "question_id": 33898784, "link": "https://stackoverflow.com/questions/33898784/call-specific-function-from-perl-module-from-powershell-or-c", "title": "Call specific function from perl module from PowerShell or C#", "body": "<p>I've a perl script file (.pm) which has many functions like below</p>\n\n<pre><code>sub check_row {\n    my ($class, %args) = @_;\n.......\nsub find_value {\n    my ($class, %args) = @_;\n.......\n</code></pre>\n\n<p>Is there any way I can call specific function either via C# or Powershell? I am not allowed to make any change in the .pm file. I am clueless as the tutorial I see on internet talks only about running perl module but not calling any specific function and passing and retrieving value.</p>\n"}, {"tags": ["multithreading", "perl", "debugging", "epic"], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1448380794, "creation_date": 1448380794, "question_id": 33898307, "link": "https://stackoverflow.com/questions/33898307/epic-debugging-freezes-when-running-threaded-code", "title": "EPIC debugging freezes when running threaded code", "body": "<p>My epic debugger seems to reliable freeze every time I try to debug code I inherited.  In fact all of eclipse will freeze until I kill Perl.  I'm trying to determine where to look for the failure and how to minimize or remove it, but the fact that I'm brand new to perl doesn't help.</p>\n\n<p>I suspect the issue is with threads, due to the fact that we have two types of threads, perl doesn't do threads well, and the threads are..not pretty.  In this case we want to run a number of scripts.  We do this by starting up n perl threads.  Each of these threads does very little besides making a call to the operating system to run the scripts using sh and waiting on it.  These scripts take some time, I assume they are running and if I were willing to wait 2-5 hours the debugged program would finish properly, but that doesn't help with my debugging.</p>\n\n<p>I presume the combination of perl threads waiting on the OS is causing some sort of blocking state that freezes the entire Perl program, due to the limited quasi-threading of perl?  Can anyone confirm if that would happen, and if that were to happen would it freeze the debugger and thus all of eclipse as well?  Is there any way to keep debugger functionality once threads are spawned, or even simply prevent it from freezing my eclipse entirely when it happens?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1448379714, "post_id": 33897817, "comment_id": 55558169, "body": "Related: <a href=\"http://stackoverflow.com/q/2485106/176646\">Why do printf and sprintf behave differently when only given an array?</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1448380815, "post_id": 33897817, "comment_id": 55559024, "body": "Yet another reason why perl prototyping can be really wierd."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1448379865, "post_id": 33897873, "comment_id": 55558294, "body": "...or if all you&#39;re doing is printing, use <code>printf</code>, which does use the 0th element of the array as the format string."}, {"owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1448379899, "post_id": 33897873, "comment_id": 55558316, "body": "@ThisSuitIsBlackNot ... and add <code>say &#39;&#39;;</code> too, for the final newline."}, {"owner": {"reputation": 51826, "user_id": 1223693, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/viu9Y.jpg?s=128&g=1", "display_name": "tckmn", "link": "https://stackoverflow.com/users/1223693/tckmn"}, "edited": false, "score": 0, "creation_date": 1448380094, "post_id": 33897873, "comment_id": 55558479, "body": "Ah, I probably should have tested the first attempt with more than just one function... (although some others such as <code>join</code> exhibit similar behavior). Thanks!"}], "tags": [], "owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "is_accepted": true, "score": 7, "last_activity_date": 1448380295, "last_edit_date": 1448380295, "creation_date": 1448379699, "answer_id": 33897873, "question_id": 33897817, "link": "https://stackoverflow.com/questions/33897817/how-can-i-use-an-array-as-the-arguments-to-a-builtin-function-sprintf-join-et/33897873#33897873", "title": "How can I use an array as the arguments to a builtin function (sprintf, join, etc.) in Perl?", "body": "<p><code>sprintf</code> has prototype <code>$@</code>, not <code>@</code>, so the first argument passed to it is evaluated in scalar context.</p>\n\n<p>Prefixing a sub call with <code>&amp;</code> ignores the prototype, but you must use the full name of builtins for them to be sub calls:</p>\n\n<pre><code>say &amp;CORE::sprintf(@a); # Perl 5.16+\n</code></pre>\n\n<p>Or pass the first argument explicitly:</p>\n\n<pre><code>say sprintf($a[0], @a[1..$#a]);\n</code></pre>\n"}], "owner": {"reputation": 51826, "user_id": 1223693, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/viu9Y.jpg?s=128&g=1", "display_name": "tckmn", "link": "https://stackoverflow.com/users/1223693/tckmn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 33897873, "answer_count": 1, "score": 5, "last_activity_date": 1448380813, "creation_date": 1448379525, "last_edit_date": 1448380813, "question_id": 33897817, "link": "https://stackoverflow.com/questions/33897817/how-can-i-use-an-array-as-the-arguments-to-a-builtin-function-sprintf-join-et", "title": "How can I use an array as the arguments to a builtin function (sprintf, join, etc.) in Perl?", "body": "<p>I have an array like the following:</p>\n\n<pre><code>my @a = ('%d %d', 10, 20);\n</code></pre>\n\n<p>I'd like to use the elements of this array as the arguments for a function.</p>\n\n<p>If I just try using it directly, it gets interpreted in scalar context:</p>\n\n<pre><code>say sprintf(@a);       #=&gt; 3\n</code></pre>\n\n<p>I also tried this, which didn't work of course:</p>\n\n<pre><code>@_ = @a; say sprintf;  #=&gt; Not enough arguments...\n</code></pre>\n\n<p>The splat syntax that some languages have doesn't work here either (I'm just taking wild guesses at this point):</p>\n\n<pre><code>say sprintf(*@a);      #=&gt; (error)\n</code></pre>\n\n<p>The same problems occur with other builtin functions, such as <code>join</code>.</p>\n\n<p>Is there any way to take an arbitrary array (of unknown length) and an arbitrary function and call the function using the elements of the array as arguments for the function? If so, how?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448380717, "post_id": 33897477, "comment_id": 55558959, "body": "Ovid&#39;s tutorial is hilarious. How did you even find that? :)"}, {"owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1448382517, "post_id": 33897477, "comment_id": 55560224, "body": "@simbabque, by being old and remembering when it was a great new resource to throw to dot-com boom 1.0 newbs."}], "tags": [], "owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "is_accepted": false, "score": 3, "last_activity_date": 1448382570, "last_edit_date": 1448382570, "creation_date": 1448378678, "answer_id": 33897477, "question_id": 33897048, "link": "https://stackoverflow.com/questions/33897048/how-to-use-perl-require-function-to-call-a-perl-script-having-a-form-and-retur/33897477#33897477", "title": "How to use perl &quot;require&quot; function to call a perl script having a form and returning to original script when credentials are checked", "body": "<p>From your question it looks like you have two problems:</p>\n\n<ol>\n<li><p>You are using an ancient and ill-advised Perl tutorial.  Nobody in 2015 (much less 2001) would recommend using <code>require</code> for code reuse.</p></li>\n<li><p>You do not understand how web applications work.  You can't write a single application script that will flow smoothly from state to state.  Instead, you must create a system that has a conversation with the client.  While CGI based techniques are hardly modern, they do work and form the basis for many current technologies.  Check out <a href=\"http://ovid-cgi-course.perl-begin.org/cgi-course/\" rel=\"nofollow\">Ovid's CGI Course</a>.  Once you are comfortable with that, check out <a href=\"https://metacpan.org/pod/Mojolicious\" rel=\"nofollow\">Mojolicious</a>, <a href=\"https://metacpan.org/pod/Catalyst\" rel=\"nofollow\">Catalyst</a> or <a href=\"https://metacpan.org/pod/Dancer\" rel=\"nofollow\">Dancer</a> for more modern approaches to web development in Perl.</p></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 5600154, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YXd8MRnhVno/AAAAAAAAAAI/AAAAAAAAAwg/NYnPKCHrBGc/photo.jpg?sz=128", "display_name": "ABHISHEK SHUKLA", "link": "https://stackoverflow.com/users/5600154/abhishek-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448382570, "creation_date": 1448377487, "last_edit_date": 1448378780, "question_id": 33897048, "link": "https://stackoverflow.com/questions/33897048/how-to-use-perl-require-function-to-call-a-perl-script-having-a-form-and-retur", "title": "How to use perl &quot;require&quot; function to call a perl script having a form and returning to original script when credentials are checked", "body": "<p>I'm working on a perl program where I have a script that displays some information. Before that page is displayed, I need to do some logins to the page. I have tried using \"require\" function in my main script that calls another script that asks for username and password. I need to return back to my original program automatically when login conditions are satisfied.\nPlease help me with it.</p>\n\n<p>File 1: </p>\n\n<pre><code>require 'index.pl'; \n</code></pre>\n\n<p>File 2: </p>\n\n<pre><code>sub print_form { \n    my $query = new CGI; use vars qw($userid $pword);\n    my $password_dir = '/opt/app/d1pre2w1/sites/apache/cgi-bin-new/';\n    my $pword_file = \"commit_access_control.cfg\";\n    my $passwrd_location = $pword_file; \n    print(\"&lt;td&gt;&lt;form&gt; \\n\", \"USERNAME :\", \"&lt;input type=text name=USERNAME &gt;\", \"&lt;br&gt;\", \"PASSWORD :\", \"&lt;input type=password name=PASSWORD&gt;\", \"&lt;br&gt;\", \"&lt;input type=submit name=login value=Login&gt;\", \"&lt;/form&gt;\");\n</code></pre>\n"}, {"tags": ["perl", "sqlite"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1448374408, "post_id": 33895529, "comment_id": 55554335, "body": "That&#39;s weird as <code>sub name</code> is declared in <code>LSF.pm</code>. Seems like the package hasn&#39;t been loaded at all."}, {"owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 1, "creation_date": 1448376552, "post_id": 33895529, "comment_id": 55555851, "body": "Could you try adding a line <code>warn &quot;Exception in &#39;require $meadow_class&#39;: $@&quot; if $@;</code> after <a href=\"https://github.com/Ensembl/ensembl-hive/blob/version/2.3/modules/Bio/EnsEMBL/Hive/Valley.pm#L63\" rel=\"nofollow noreferrer\">this line</a> and see if it gives some hint about the problem?"}], "answers": [{"comments": [{"owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "edited": false, "score": 0, "creation_date": 1448379179, "post_id": 33896895, "comment_id": 55557792, "body": "Please submit a patch to the package maintainer.  Unchecked exception handling is EVIL.  Something like will do nicely: local $@; eval &quot;require $meadow_class; 1&quot; or do { die $@ || &quot;Unknown error loading &#39;$meadow_class&#39;&quot;;"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1448390142, "post_id": 33896895, "comment_id": 55564969, "body": "Time::Piece has been a core module since Perl 5.10, so it should have already been installed. Did you mess with <code>@INC</code> at all?"}], "tags": [], "owner": {"reputation": 8172, "user_id": 719016, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/RWd7T.png?s=128&g=1", "display_name": "719016", "link": "https://stackoverflow.com/users/719016/719016"}, "is_accepted": true, "score": 0, "last_activity_date": 1448377952, "last_edit_date": 1448377952, "creation_date": 1448377061, "answer_id": 33896895, "question_id": 33895529, "link": "https://stackoverflow.com/questions/33895529/perl-objects-error-cant-locate-object-method-via-package-only-happens-with-per/33896895#33896895", "title": "Perl objects error: Can&#39;t locate object method via package only happens with perl 5.10 not perl 5.18", "body": "<p>Thanks @srvsh, adding the warn statement in your comment uncovered the real issue:\n<code>\nException in 'require Bio::EnsEMBL::Hive::Meadow::LSF': Can't locate Time/Piece.pm in @INC (...\n</code></p>\n\n<p>I installed Time::Piece and then it works.</p>\n"}], "owner": {"reputation": 8172, "user_id": 719016, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/RWd7T.png?s=128&g=1", "display_name": "719016", "link": "https://stackoverflow.com/users/719016/719016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 33896895, "answer_count": 1, "score": 0, "last_activity_date": 1448377952, "creation_date": 1448373383, "last_edit_date": 1448374036, "question_id": 33895529, "link": "https://stackoverflow.com/questions/33895529/perl-objects-error-cant-locate-object-method-via-package-only-happens-with-per", "title": "Perl objects error: Can&#39;t locate object method via package only happens with perl 5.10 not perl 5.18", "body": "<p>I am trying to use some OO Perl code here:</p>\n\n<p><a href=\"https://github.com/Ensembl/ensembl-hive\" rel=\"nofollow\">https://github.com/Ensembl/ensembl-hive</a></p>\n\n<p>I tried it on an Ubuntu VM with perl 5.18, and it works like a charm:</p>\n\n<pre><code>sudo apt-get install libjson-perl libdbd-sqlite3-perl libdbi-perl libcapture-tiny-perl sqlite3\n\ngit clone https://github.com/Ensembl/ensembl-hive.git\n\nexport PATH=$PATH:$HOME/ensembl-hive/scripts\n\ninit_pipeline.pl Bio::EnsEMBL::Hive::PipeConfig::AnyCommands_conf -password foobar -hive_driver sqlite -pipeline_db -user foo -user foo\n</code></pre>\n\n<p>But then I tried the same on an HPC system running CentOS with perl 5.10, and I get this error at the end of the last command:</p>\n\n<pre><code>Can't locate object method \"name\" via package \"Bio::EnsEMBL::Hive::Meadow::LSF\" at /data/home/user/ensembl-hive/modules/Bio/EnsEMBL/Hive/Valley.pm line 64.\n</code></pre>\n\n<p>Any ideas what might be going on?</p>\n"}, {"tags": ["perl", "shell", "rename", "local-variables"], "answers": [{"tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": false, "score": 2, "last_activity_date": 1448371287, "last_edit_date": 1448371287, "creation_date": 1448370879, "answer_id": 33894696, "question_id": 33894308, "link": "https://stackoverflow.com/questions/33894308/perl-expressions-in-command-line-renaming-files/33894696#33894696", "title": "Perl expressions in command line - renaming files", "body": "<p>It looks like it's allowing you to reuse the global variable <code>$i</code> in the scope of the current renaming operation.</p>\n\n<p>If it is not yet defined (i.e. the first file), <code>$i</code> is set to <code>1</code>.</p>\n\n<p>The <code>$i++</code> used as an argument to <code>sprintf</code> means that for every file that is processed, the value of <code>$i</code> increases. </p>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/our.html\" rel=\"nofollow\"><code>our</code> in the perl docs</a> for a full description. The key here is that each rename is happening within a loop, so <code>our</code> is needed to make the definition global to the whole script, rather than local to within the loop. This means that means that the same variable is shared between iteration of the loop, so the counter isn't reset each time.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1448470141, "last_edit_date": 1448470141, "creation_date": 1448391402, "answer_id": 33901642, "question_id": 33894308, "link": "https://stackoverflow.com/questions/33894308/perl-expressions-in-command-line-renaming-files/33901642#33901642", "title": "Perl expressions in command line - renaming files", "body": "<p>The code is apparently compiled within scope of <code>use strict;</code>. This, among other things, enforces the declaration of variables.</p>\n\n<p>Variables are commonly declared using <code>my</code>, making them lexical variables. A lexical variable only exists until the end of the curly braces in which the variable is declared, or until the end of the replacement \"expression\" in this case.</p>\n\n<p>Much more rarely, variables are declared using <code>our</code>. This makes them package variables. These continue to exist even when the current lexical scope is exited. This allows <code>$i</code> to keep its value between invocations of the replacement expression.</p>\n\n<hr>\n\n<p>By the way,</p>\n\n<pre><code>s/.*/our $i; if(!$i) { $i=1; } sprintf(\"%03d.jpg\", $i++)/e\n</code></pre>\n\n<p>could be shortened to</p>\n\n<pre><code>s/.*/our $i; sprintf(\"%03d.jpg\", ++$i)/e\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>s/.*/sprintf(\"%03d.jpg\", ++(our $i))/e\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>s/.*/sprintf(\"%03d.jpg\", ++$::i)/e\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 4612589, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-2xRlqWXhhK0/AAAAAAAAAAI/AAAAAAAAAE0/M5mikPY08s4/photo.jpg?sz=128", "display_name": "Abhishek Tripathi", "link": "https://stackoverflow.com/users/4612589/abhishek-tripathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 33901642, "answer_count": 2, "score": 1, "last_activity_date": 1448470141, "creation_date": 1448369773, "last_edit_date": 1448370312, "question_id": 33894308, "link": "https://stackoverflow.com/questions/33894308/perl-expressions-in-command-line-renaming-files", "title": "Perl expressions in command line - renaming files", "body": "<p>Could anyone explain the occurence of <code>our</code>?</p>\n\n<pre><code>ls -1 | grep .ppm | xargs rename -n 's/.*/our $i; if(!$i) { $i=1; } sprintf(\"%03d.jpg\", $i++)/e'\n</code></pre>\n\n<p>I tried changing <code>our</code> anything else, (<code>opti</code>, here),</p>\n\n<pre><code>ls -1 | grep .ppm | xargs rename -n 's/.*/opti $i; if(!$i) { $i=1; } sprintf(\"%03d.jpg\", $i++)/e'\n</code></pre>\n\n<p>throws following error:</p>\n\n<pre><code> Global symbol \"$i\" requires explicit package name at (user-supplied code).\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "edited": false, "score": 0, "creation_date": 1448369786, "post_id": 33893041, "comment_id": 55551327, "body": "Hi, I tried the above code. It&#39;s throwing the below error.  Not an ARRAY reference at comparator_sub.pl line 73. line 73 contains @dbkeys = @$dbkeys_ref;"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "edited": false, "score": 1, "creation_date": 1448382055, "post_id": 33893041, "comment_id": 55559893, "body": "@nithin Did you change the <code>return</code> from the subroutine to actually return references? I suspect not..."}, {"owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "edited": false, "score": 1, "creation_date": 1448445988, "post_id": 33893041, "comment_id": 55588748, "body": "Yes.that was the mistake.I was not returning the reference for one array.It&#39;s working.Thank you very much."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1448367704, "last_edit_date": 1448367704, "creation_date": 1448366113, "answer_id": 33893041, "question_id": 33892745, "link": "https://stackoverflow.com/questions/33892745/how-to-return-more-than-one-value-from-a-sub-routine-in-perl/33893041#33893041", "title": "How to return more than one value from a sub routine in perl", "body": "<p>The problem here is that perl squashes lists when passed back and forth. You can only return <em>one</em> list of results. See: <a href=\"http://perldoc.perl.org/perlsub.html#Pass-by-Reference\" rel=\"nofollow\"><code>perlsub</code></a></p>\n\n<p>So the assignment to <code>@keys</code> will be 'eating' all the results from <code>read_config</code>, which isn't returning 3 data structures - it's returning one, containing all the elements in each. </p>\n\n<p>The solution to this is to return by reference. </p>\n\n<pre><code>return ( \\@keys, \\@dbdkeys, \\%config ); \n</code></pre>\n\n<p>You then need to dereference them when you 'get' them:</p>\n\n<pre><code>my ($keys_ref, $dbkeys_ref, $config_ref)=read_config();\n\n@keys = @$keys_ref;\n@dbkeys = @$dbkeys_ref;\n%config = %$config_ref; \n</code></pre>\n\n<p>Or just work with them as is, and dereference as you use them.</p>\n\n<pre><code>$keys -&gt; [0];\n$config -&gt; {$key};\n</code></pre>\n\n<p>I would also point out - you should look at hash <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\">slices</a> as that would probably improve your code - you can assign:</p>\n\n<pre><code>@config{@keys} = split ( '\\|', &lt;CONFILE&gt; ); \n</code></pre>\n\n<p>(But don't forget to <code>chomp</code> if you don't want a line feed!)</p>\n"}], "owner": {"reputation": 23, "user_id": 5599403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209a7e5ee419c7ad0f47c334eff37811?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5599403/nithin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1448367704, "creation_date": 1448365357, "last_edit_date": 1448365545, "question_id": 33892745, "link": "https://stackoverflow.com/questions/33892745/how-to-return-more-than-one-value-from-a-sub-routine-in-perl", "title": "How to return more than one value from a sub routine in perl", "body": "<p>I am trying to read a config file in a separte subroutine and trying to call that in my main function. The subroutine return three variables(two arrays and one hash).Below is the code.</p>\n\n<pre><code>sub read_config{\nmy @keys; \nmy @dbkeys; \nmy %config; \nopen CONFILE,'/usr/local/pbiace/current/comparator/cfg/configFile.cfg' or die $!; \nwarn info_H . \"opening config file \\n \";\nwarn info_H . \"reading postion info\";\n@keys=split '\\|',&lt;CONFILE&gt;; \n(  $config{$keys[0]}, \n   $config{$keys[1]}, \n   $config{$keys[2]}, \n   $config{$keys[3]}, \n   $config{$keys[4]}, \n   $config{$keys[5]},\n   $config{$keys[6]},\n   $config{$keys[7]}) = split '\\|',&lt;CONFILE&gt;; \nwarn info_H. \"reading config file to obatin DB connection details\"; \n@dbkeys=split '\\|',&lt;CONFILE&gt;; \n(  $config{$dbkeys[0]}, \n   $config{$dbkeys[1]}, \n   $config{$dbkeys[2]}, \n   $config{$dbkeys[3]} ) = split '\\|',&lt;CONFILE&gt;; \nwarn info_H . \"returning values read\";\nreturn(@keys,@dbkeys,%config);\n}\n</code></pre>\n\n<p>I am calling it using the code below.</p>\n\n<pre><code>(@keys,@dbkeys,%config)=read_config();\n</code></pre>\n\n<p>but this is not working.can anybody help me to solve this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 2, "creation_date": 1448369125, "post_id": 33892670, "comment_id": 55550877, "body": "What errors are you getting?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5598476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d98b9099f6473b365d2e9779bb0a53f?s=128&d=identicon&r=PG&f=1", "display_name": "RAHUL", "link": "https://stackoverflow.com/users/5598476/rahul"}, "edited": false, "score": 0, "creation_date": 1448378936, "post_id": 33896264, "comment_id": 55557600, "body": "if i have multiple folder in same directory for example   &quot;MUX4TO1_TB1&quot; ,&quot;MUX4TO1_TB2&quot; all the folder contain same .ps files . In this case how to  update the code to meet the requirement . can u plz help on this. I just tried if statement but its showing syntax error"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 1, "user_id": 5598476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d98b9099f6473b365d2e9779bb0a53f?s=128&d=identicon&r=PG&f=1", "display_name": "RAHUL", "link": "https://stackoverflow.com/users/5598476/rahul"}, "edited": false, "score": 0, "creation_date": 1448381591, "post_id": 33896264, "comment_id": 55559592, "body": "@RAHUL That&#39;s a different question, and it requires a different answer. You should ask a new question."}], "tags": [], "owner": {"reputation": 1650, "user_id": 1984756, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3a80da873a5a5eed96f9f9df4f8a24a3?s=128&d=identicon&r=PG", "display_name": "PYPL", "link": "https://stackoverflow.com/users/1984756/pypl"}, "is_accepted": false, "score": 1, "last_activity_date": 1610359671, "last_edit_date": 1610359671, "creation_date": 1448375439, "answer_id": 33896264, "question_id": 33892670, "link": "https://stackoverflow.com/questions/33892670/perl-script-for-moving-files/33896264#33896264", "title": "Perl script for moving files", "body": "<p>You did not provide a valid path of the final target</p>\n<pre><code>$cfile= $srcdir. '\\\\' . $filename;\n</code></pre>\n<p>You missed <code>\\\\</code> backslashes while assigning a new value to <code>$cfile</code>.</p>\n<p>Full code:</p>\n<pre><code>use warnings;\nuse File::Copy 'move';\nmy $srcdir= &quot;d:\\\\projectx\\\\MUX4TO1_TB&quot;;\nmkdir(&quot;D:\\\\projectx\\\\MUX4TO1_TB/Newfolder&quot;) || die &quot;Unable to create    directory &lt;$!&gt;\\n&quot;;\nmy $dest = &quot;D:\\\\projectx\\\\MUX4TO1_TB\\\\Newfolder&quot;;\nopendir(DIR, $srcdir) or die &quot;Can't open $srcdir: $!&quot;;\n$filterstring=&quot;.ps&quot;;\nforeach my $filename (readdir(DIR))\n{\n    if ($filename =~ m/$filterstring/) {                          \n        $cfile= $srcdir. '\\\\' . $filename; ## You missed '\\\\';\n        print &quot;\\n moving $cfile from $srcdir  to $dest \\n&quot;;\n        move($cfile,$dest)or die &quot;The move operation failed: $!&quot;;                             \n    }\n}\nclosedir(DIR);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5598476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d98b9099f6473b365d2e9779bb0a53f?s=128&d=identicon&r=PG&f=1", "display_name": "RAHUL", "link": "https://stackoverflow.com/users/5598476/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1416, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1610359671, "creation_date": 1448365130, "last_edit_date": 1448382812, "question_id": 33892670, "link": "https://stackoverflow.com/questions/33892670/perl-script-for-moving-files", "title": "Perl script for moving files", "body": "<p>I have developed a Perl script for data movement from one folder to another. I have one folder in D drive (<code>D:\\projectx\\MUX4TO1_TB</code>). Inside that folder, I have to create a new folder named <code>newfolder</code>. Then I want to search for <code>.ps</code> files inside <code>MUX4TO1_TB</code>, and if any are found, I want to move them to <code>newfolder</code>. </p>\n\n<p>The code I have developed is 70% working, but data movement is not happening from <code>MUX4TO1_TB</code> to <code>newfolder</code>. Please help me to complete it.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse File::Copy 'move';\n\nmy $srcdir = \"d:\\\\projectx\\\\MUX4TO1_TB\";\nmkdir(\"D:\\\\projectx\\\\MUX4TO1_TB/Newfolder\") || die \"Unable to create directory &lt;$!&gt;\\n\";\nmy $dest = \"D:\\\\projectx\\\\MUX4TO1_TB\\\\Newfolder\";\nopendir(DIR, $srcdir) or die \"Can't open $srcdir: $!\";\n$filterstring = \".ps\";\n\nforeach my $filename (readdir(DIR)) {\n    if ($filename =~ m/$filterstring/) {                          \n        $cfile = $srcdir . $filename;\n        print \"\\n moving $cfile from $srcdir to $dest \\n\";\n        move($cfile, $dest) or die \"The move operation failed: $!\";                             \n    }\n}\n\nclosedir(DIR);\n</code></pre>\n"}, {"tags": ["perl", "centos", "repository", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448363344, "post_id": 33892020, "comment_id": 55547126, "body": "I have decided not to quote any of the linked tutorials here as they are quite long."}, {"owner": {"reputation": 33, "user_id": 2273214, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/33458b0595b53c7f5be34c2c969e654f?s=128&d=identicon&r=PG", "display_name": "user2273214", "link": "https://stackoverflow.com/users/2273214/user2273214"}, "edited": false, "score": 0, "creation_date": 1448371449, "post_id": 33892020, "comment_id": 55552406, "body": "Hi simbabque, thank you for your reply. It looks a bit complex to create first an repository on windows were i first have to integrate perl in windows some more work and try and error. Is there no way to Download to whole repository?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 33, "user_id": 2273214, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/33458b0595b53c7f5be34c2c969e654f?s=128&d=identicon&r=PG", "display_name": "user2273214", "link": "https://stackoverflow.com/users/2273214/user2273214"}, "edited": false, "score": 0, "creation_date": 1448372368, "post_id": 33892020, "comment_id": 55553008, "body": "How would you access it then? You can simply install an ActivePerl or a Strawberry Perl and use that. I&#39;ve actually used CPAN::Mini to create  120 USB flash drives including the current latest full CPAN to give away at the German Perl Workshop as a sponsoring item for <code>$work</code>. It&#39;s super easy to make the minicpan (compared to creating an iso file and cloning that on 120 drives, that is). And getting the Perl on Windows is no problem."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 33, "user_id": 2273214, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/33458b0595b53c7f5be34c2c969e654f?s=128&d=identicon&r=PG", "display_name": "user2273214", "link": "https://stackoverflow.com/users/2273214/user2273214"}, "edited": false, "score": 0, "creation_date": 1448372400, "post_id": 33892020, "comment_id": 55553024, "body": "@user2273214 on the other hand, have you looked at Fatpacker to bundle all your deps with your program?"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1448363306, "last_edit_date": 1495535238, "creation_date": 1448363306, "answer_id": 33892020, "question_id": 33891545, "link": "https://stackoverflow.com/questions/33891545/download-cpan-repository-no-linux-system-with-internet-access/33892020#33892020", "title": "Download CPAN Repository. No Linux System with Internet Access", "body": "<p>You can create a local mirror of CPAN with <code>minicpan</code>. It's intended to distribute a copy of CPAN (or a subset of it) on media so you have it in case there is no internet available, e.g. a USB drive that you can use on a laptop while you are on an airplane so you can still install a dependency, even if it's outdated a bit.</p>\n\n<p>Check out <a href=\"https://metacpan.org/release/CPAN-Mini\" rel=\"nofollow noreferrer\">CPAN::Mini</a> and the <a href=\"https://metacpan.org/pod/distribution/CPAN-Mini/bin/minicpan\" rel=\"nofollow noreferrer\">minicpan</a> utility on CPAN as well as <a href=\"http://www.cpan.org/misc/how-to-mirror.html\" rel=\"nofollow noreferrer\">this guide on how to set up a mirror on perl.org</a>. There is <a href=\"http://blogs.perl.org/users/marc_sebastian_jakobs/2009/11/how-to-set-up-you-own-cpan-mirror.html\" rel=\"nofollow noreferrer\">a guide on blogs.perl.org</a> as well. Furthermore, <a href=\"http://perl-howto.de/2008/06/making-your-own-cpanmini.html\" rel=\"nofollow noreferrer\">this guide in German</a> is very comprehensive and has a list of related material at the bottom. </p>\n\n<p>In fact, there is a whole tag <a href=\"/questions/tagged/minicpan\" class=\"post-tag\" title=\"show questions tagged &#39;minicpan&#39;\" rel=\"tag\">minicpan</a> here on Stack Overflow. One of the very helpful reads (though not a full duplicate) is <a href=\"https://stackoverflow.com/a/20315360/1331451\">ysth's answer here</a>.</p>\n"}], "owner": {"reputation": 33, "user_id": 2273214, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/33458b0595b53c7f5be34c2c969e654f?s=128&d=identicon&r=PG", "display_name": "user2273214", "link": "https://stackoverflow.com/users/2273214/user2273214"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 33892020, "answer_count": 1, "score": 0, "last_activity_date": 1448363306, "creation_date": 1448362029, "question_id": 33891545, "link": "https://stackoverflow.com/questions/33891545/download-cpan-repository-no-linux-system-with-internet-access", "title": "Download CPAN Repository. No Linux System with Internet Access", "body": "<p>our Linux Systems have no Internet Access. \nOnly Windows Clients have Internet Access.\nI want to build a offline CPAN Repository.</p>\n\n<p>I can't download each Module an picking all the dependencies. \nIs there a way to download the Modules automated with dependencies to a Windows System?\nEven a whole download of the CPAN Repository would be a solution for me.</p>\n"}, {"tags": ["xml", "perl", "soap"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448361113, "post_id": 33890995, "comment_id": 55545566, "body": "Do you want to remove only the prefix <code>xsi:</code> or the whole <code>xsi:type</code> attribute?"}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448361150, "post_id": 33890995, "comment_id": 55545590, "body": "i want to remove whole xsi:type attr"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448361574, "post_id": 33890995, "comment_id": 55545883, "body": "Why do you want to do that?"}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448361653, "post_id": 33890995, "comment_id": 55545932, "body": "The client is not accepting that in the request call"}, {"owner": {"reputation": 114438, "user_id": 592139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b2f8b2256f29b013341226a2d9a6ef9?s=128&d=identicon&r=PG", "display_name": "Ian Roberts", "link": "https://stackoverflow.com/users/592139/ian-roberts"}, "edited": false, "score": 2, "creation_date": 1448361732, "post_id": 33890995, "comment_id": 55545985, "body": "What if you remove the <code>-&gt;type(&#39;string&#39;)</code> from the chain? You may also need to call <code>autotype(0)</code> on the <code>SOAP::Lite</code> object."}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "reply_to_user": {"reputation": 114438, "user_id": 592139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b2f8b2256f29b013341226a2d9a6ef9?s=128&d=identicon&r=PG", "display_name": "Ian Roberts", "link": "https://stackoverflow.com/users/592139/ian-roberts"}, "edited": false, "score": 0, "creation_date": 1448361831, "post_id": 33890995, "comment_id": 55546046, "body": "@IanRoberts it&#39;s not working"}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "reply_to_user": {"reputation": 114438, "user_id": 592139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b2f8b2256f29b013341226a2d9a6ef9?s=128&d=identicon&r=PG", "display_name": "Ian Roberts", "link": "https://stackoverflow.com/users/592139/ian-roberts"}, "edited": false, "score": 0, "creation_date": 1448362506, "post_id": 33890995, "comment_id": 55546535, "body": "@IanRoberts how we can add blank xmlns in each tag ??With autoType(0) it&#39;s working"}], "answers": [{"tags": [], "owner": {"reputation": 114438, "user_id": 592139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b2f8b2256f29b013341226a2d9a6ef9?s=128&d=identicon&r=PG", "display_name": "Ian Roberts", "link": "https://stackoverflow.com/users/592139/ian-roberts"}, "is_accepted": true, "score": 4, "last_activity_date": 1448385861, "creation_date": 1448385861, "answer_id": 33900030, "question_id": 33890995, "link": "https://stackoverflow.com/questions/33890995/how-do-i-remove-the-xsi-prefix-in-soaplite-generated-xml/33900030#33900030", "title": "How do I remove the xsi prefix in SOAP::Lite generated XML?", "body": "<p>The <code>-&gt;type('string')</code> adds an explicit type to the element, so you need to remove this for starters.  But even without that <code>SOAP::Lite</code> defaults to \"auto-typing\" which will add the <code>xsi:type</code> attributes automatically, you need to suppress that behaviour as well, by calling <code>-&gt;autotype(0)</code> on the <code>SOAP::Lite</code> object.</p>\n\n<p>The <code>SOAP::Lite</code> library has a long history, and dates from when \"rpc/encoded\" was the predominant type of SOAP service.  The \"encoded\" style requires the <code>xsi:type</code> attributes but the \"document/literal\" style (far more popular these days) does not.</p>\n"}], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 742, "favorite_count": 0, "accepted_answer_id": 33900030, "answer_count": 1, "score": 3, "last_activity_date": 1448385861, "creation_date": 1448360382, "last_edit_date": 1448361085, "question_id": 33890995, "link": "https://stackoverflow.com/questions/33890995/how-do-i-remove-the-xsi-prefix-in-soaplite-generated-xml", "title": "How do I remove the xsi prefix in SOAP::Lite generated XML?", "body": "<p>I am sending request from Soap::Lite. I am creating XML using SOAP::Data.  There is <code>xsi:type=\"xsd:string\"</code> being added on each tag in the XML. How  can I remove this from all the tags? </p>\n\n<p>I am creating xml like this :</p>\n\n<pre><code>SOAP::Data-&gt;type('string')-&gt;name('Desc')-&gt;value( 'Test'),\n</code></pre>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448360406, "post_id": 33890136, "comment_id": 55545061, "body": "Related: <a href=\"http://stackoverflow.com/questions/23057448/open-program-minimized-via-command-prompt\" title=\"open program minimized via command prompt\">stackoverflow.com/questions/23057448/&hellip;</a>, <a href=\"http://www.computerhope.com/forum/index.php?topic=63635.0\" rel=\"nofollow noreferrer\">computerhope.com/forum/index.php?topic=63635.0</a>"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1448360814, "creation_date": 1448360814, "answer_id": 33891146, "question_id": 33890136, "link": "https://stackoverflow.com/questions/33890136/how-do-i-run-a-program-minimized-from-perl-on-windows/33891146#33891146", "title": "How do I run a program minimized from Perl on Windows?", "body": "<p>What you need is not Perl-specific, but actually part of your Windows operating system. In order to start any program minimized on Windows, use the following command.</p>\n\n<pre><code> &gt; start /MIN foo.exe\n</code></pre>\n\n<p>Now to use this from your Perl program via <code>system</code> is simple.</p>\n\n<pre><code>my $exit_status = system('start /MIN second_application.exe');\n</code></pre>\n\n<p>Note that this does not work if the program was already running.</p>\n\n<hr>\n\n<p><sup>Source: <a href=\"http://www.tech-recipes.com/rx/512/open-a-program-fully-maximized-or-minimized/\" rel=\"nofollow\">tech-recipes.com</a></sup></p>\n"}], "owner": {"reputation": 1851, "user_id": 309649, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a09c0d48d3bc265d55826a1c61beefb8?s=128&d=identicon&r=PG", "display_name": "KK99", "link": "https://stackoverflow.com/users/309649/kk99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448360930, "creation_date": 1448358150, "last_edit_date": 1448360930, "question_id": 33890136, "link": "https://stackoverflow.com/questions/33890136/how-do-i-run-a-program-minimized-from-perl-on-windows", "title": "How do I run a program minimized from Perl on Windows?", "body": "<p>I have a Perl script which starts as an \".exe\" (along with my main application) </p>\n\n<p>The job of this perlapp is that it queries how long the application has been open (we have floating license and to free up license we close the main application automatically after 120 mins)</p>\n\n<p>During this process the perlapp which runs in the background invokes another application and it's called <code>system</code></p>\n\n<p>All works as fine except that the called application via <code>system</code> pops up in the foreground. I want to run it as \"minimized\". Is this possible?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 201, "user_id": 2223335, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0d6198b8cb4775afaf6d987394fa0e6c?s=128&d=identicon&r=PG", "display_name": "user2223335", "link": "https://stackoverflow.com/users/2223335/user2223335"}, "edited": false, "score": 0, "creation_date": 1448360857, "post_id": 33889113, "comment_id": 55545381, "body": "Thanks @choroba. It helped me. While compiling I am getting &quot;Program too big to fit in memory&quot;. Command used &quot;Configure -des -Dprefix=$HOME/localperl&quot;. Machine is 32 bit Win 2008. I want to generate the win 32 compatible 5.16.3 perl"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1448426353, "post_id": 33889113, "comment_id": 55579539, "body": "Compiling? What&#39;s wrong with Strawberry? It comes with a complete toolchain, ready to go."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1448355338, "last_edit_date": 1448355338, "creation_date": 1448355035, "answer_id": 33889113, "question_id": 33888975, "link": "https://stackoverflow.com/questions/33888975/perl-version-5-16-3-download/33889113#33889113", "title": "Perl Version 5.16.3 download", "body": "<p>You can get all the Strawberry Perl releases <a href=\"http://strawberryperl.com/releases.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>ActivePerl 5.16 is too old, so it's only availabe in the Business and Enterprise edition, details <a href=\"http://www.activestate.com/activeperl/downloads\" rel=\"nofollow\">here</a>.</p>\n\n<p>Advanced users can compile Perl from the source code. <a href=\"http://www.cpan.org/src/README.html\" rel=\"nofollow\">This page</a> seems to list the version you need.</p>\n"}], "owner": {"reputation": 201, "user_id": 2223335, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0d6198b8cb4775afaf6d987394fa0e6c?s=128&d=identicon&r=PG", "display_name": "user2223335", "link": "https://stackoverflow.com/users/2223335/user2223335"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2869, "favorite_count": 0, "closed_date": 1449014923, "answer_count": 1, "score": 0, "last_activity_date": 1448355338, "creation_date": 1448354660, "question_id": 33888975, "link": "https://stackoverflow.com/questions/33888975/perl-version-5-16-3-download", "closed_reason": "Not suitable for this site", "title": "Perl Version 5.16.3 download", "body": "<p>Needed to download Perl 5.16.3 32 bit windows edition but unable to find the same. Can someone please suggest from where i can download this.</p>\n\n<p>Apology if this is not the right forum to ask.</p>\n"}, {"tags": ["perl", "encryption", "licensing", "pp-perl-par-packager"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1448350866, "post_id": 33887428, "comment_id": 55539411, "body": "Does this mean to you want to add a notice about the licensing (like: &quot;this is free software&quot;) or do you want to have some scheme where users need to buy a license which then will be verified by the program?"}, {"owner": {"reputation": 524, "user_id": 3967040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9933a47a46bb282ccf4f94c5e0f54d66?s=128&d=identicon&r=PG&f=1", "display_name": "Harley", "link": "https://stackoverflow.com/users/3967040/harley"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1448351190, "post_id": 33887428, "comment_id": 55539575, "body": "There will be a licensing server, and my code will connect to that server to check for licenses. The problem is that if my perl code will be open the user would be able to just comment out the code that checks for license. One way for me would be to be able to hide the code from user."}], "answers": [{"comments": [{"owner": {"reputation": 524, "user_id": 3967040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9933a47a46bb282ccf4f94c5e0f54d66?s=128&d=identicon&r=PG&f=1", "display_name": "Harley", "link": "https://stackoverflow.com/users/3967040/harley"}, "edited": false, "score": 0, "creation_date": 1448353043, "post_id": 33888331, "comment_id": 55540491, "body": "I don&#39;t have much problem with user being able to retrieve my source code, I just don&#39;t want him to be able to comment out the code for checking license and then run it with his convenience."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 524, "user_id": 3967040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9933a47a46bb282ccf4f94c5e0f54d66?s=128&d=identicon&r=PG&f=1", "display_name": "Harley", "link": "https://stackoverflow.com/users/3967040/harley"}, "edited": false, "score": 1, "creation_date": 1448353756, "post_id": 33888331, "comment_id": 55540891, "body": "@Harley: like Dave said: make it a legal problem not a code problem. There is not really a way to protect code shipped to the client against any kind of modification by the client. You could make it harder by obfuscating the code but not impossible."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 3, "creation_date": 1448360721, "post_id": 33888331, "comment_id": 55545273, "body": "Another way: don&#39;t distribute the program to the users, run the code on a server you pay for and make the users connect to it."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 524, "user_id": 3967040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9933a47a46bb282ccf4f94c5e0f54d66?s=128&d=identicon&r=PG&f=1", "display_name": "Harley", "link": "https://stackoverflow.com/users/3967040/harley"}, "edited": false, "score": 0, "creation_date": 1448438448, "post_id": 33888331, "comment_id": 55584362, "body": "@Harley If the user can access the code, then the user can change the code. You can&#39;t prevent it technologically, so you need to address it in a different way, such as legally, or, as reinierpost suggested, by running the program on your own server so that the user never has direct access to the code."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 5, "last_activity_date": 1448352432, "creation_date": 1448352432, "answer_id": 33888331, "question_id": 33887428, "link": "https://stackoverflow.com/questions/33887428/how-to-add-license-to-my-unix-based-perl-project/33888331#33888331", "title": "How to add license to my Unix based perl project", "body": "<p>Consider all of the millions of dollars that the entertainment and software industries have spent on DRM schemes to protect their digital wares, and how few of those products make it a week past release without being cracked.  You're not going to do any better.</p>\n\n<p>And that's without Perl making the cracks easier.  Because the Perl binary needs access to the source code, it's effectively impossible to prevent the user from having access to that code.  You can obfuscate it, you can use a packer to make it a standalone (pseudo-)binary file, etc., but all of these things are relatively trivial to work around.</p>\n\n<p>The best approach, therefore, is to approach this as a legal problem rather than a technical one.  Hire a good intellectual property lawyer and have them write up a licensing contract.  Make your customers sign (not just click through - <em>sign</em>) this contract before receiving the software.  If they violate the terms of the agreement, sic the lawyer on them.</p>\n"}], "owner": {"reputation": 524, "user_id": 3967040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9933a47a46bb282ccf4f94c5e0f54d66?s=128&d=identicon&r=PG&f=1", "display_name": "Harley", "link": "https://stackoverflow.com/users/3967040/harley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448352812, "creation_date": 1448348993, "last_edit_date": 1448352812, "question_id": 33887428, "link": "https://stackoverflow.com/questions/33887428/how-to-add-license-to-my-unix-based-perl-project", "title": "How to add license to my Unix based perl project", "body": "<p>I have a UNIX based perl project, with a <code>main.pl</code> file which further uses some of the user defined perl modules. I want to add licensing to my perl project. What are the best ways to to it?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1448350413, "post_id": 33886745, "comment_id": 55539194, "body": "You can also do it <a href=\"https://ideone.com/zI4MKa\" rel=\"nofollow noreferrer\">this way</a>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1448359821, "post_id": 33886745, "comment_id": 55544627, "body": "See also <a href=\"http://stackoverflow.com/questions/392643/how-to-use-a-variable-in-the-replacement-side-of-the-perl-substitution-operator\">How to use a variable in the replacement side of the Perl substitution operator?</a> and <a href=\"http://stackoverflow.com/questions/29107353/using-the-ee-modifier-safely-with-the-s-operator-when-the-right-side-is-input\">Using the ee modifier safely with the s/// operator when the right side is input from user</a>"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 3934476, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d77efd64cd2ec578105b1bb0716a7f9e?s=128&d=identicon&r=PG&f=1", "display_name": "user3934476", "link": "https://stackoverflow.com/users/3934476/user3934476"}, "edited": false, "score": 0, "creation_date": 1448346470, "post_id": 33886811, "comment_id": 55537420, "body": "Thanks body~ it&#39;s simple and great answer!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448347121, "post_id": 33886811, "comment_id": 55537702, "body": "This is an awful answer. This solution is insanely dangerous, and you didn&#39;t even mention it!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448348244, "post_id": 33886811, "comment_id": 55538231, "body": "It also fails for <code>my $grep2 = &#39;[$1]&#39;;</code>, which I&#39;m sure the OP expects to produce <code>[bc]</code>."}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1448353027, "post_id": 33886811, "comment_id": 55540481, "body": "@ikegami Yes it&#39;s dangerous, warning added.  And yes, I know the solution is fragile and would fail with different input, which is why I had already offered the second less fragile option.  Regardless, I&#39;ll gladly vote your cpan module suggestion."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448378783, "post_id": 33886811, "comment_id": 55557491, "body": "What are you talking about? Your second solution is no better. It might handle <code>my $grep2 = &#39;[$1]&#39;;</code>, but it fails for <code>my $grep2 = &#39;}$1{&#39;;</code>. More importantly, it&#39;s equally as dangerous, allowing arbitrary code to be executed."}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448388742, "post_id": 33886811, "comment_id": 55564158, "body": "@ikegami Yes, I already stated that it was potentially fragile, although your counter example is obviously contrived.   And yes it is potentially dangerous, but you are assuming that his use case is data from external sources.  We do not know that.  Regardless, your solution is definitely better even though it requires a cpan install which is why I upvoted it.  I don&#39;t think we actually have a disagreement here."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448389327, "post_id": 33886811, "comment_id": 55564486, "body": "Using <code>}</code> in a replacement expression isn&#39;t contrived by a long shot!!!!! ///  Re &quot;you are assuming that his use case is data from external sources&quot;. Nope. not at all. I didn&#39;t say &quot;it&#39;s vulnerable to attack&quot;, I said &quot;it&#39;s fragile&quot;, meaning it doesn&#39;t work for even legitimate inputs. /// Re &quot;I don&#39;t think we actually have a disagreement here&quot;, your edit helps, but 1) you&#39;re still advocating a very bad solution, and 2) it doesn&#39;t just fail for unsanitiized inputs as you say."}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448395589, "post_id": 33886811, "comment_id": 55568276, "body": "@ikegami Yes, one should be the effect unbalanced braces within a qq{}, but for 99% of the data that I typically see this isn&#39;t an issue and that is why I call your counter example a bit contrived.  If you disagree, that&#39;s fine.  And I&#39;m not advocating my solution, I&#39;m only offering.  If I had known of the CPAN module that you suggested, I would have proposed it.  That&#39;s one reason why i upped your answer after you posted it.  But otherwise, I&#39;m content to let SO work the way it&#39;s supposed to and let yours rise based off of user voting.  The system is working."}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448397686, "post_id": 33886811, "comment_id": 55569388, "body": "@ikegami I offered &quot;a&quot; solution to his question in this &quot;specific context&quot;.  Meaning the exact data posed in the question.  I make/made no claims that it is/was &quot;the&quot; solution, as this is likely an XY problem either way.  And I&#39;ve also qualified the answer plenty, as have you.  And to answer your why?  To educate."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448398623, "post_id": 33886811, "comment_id": 55569929, "body": "I stand by what I said then. You are advocating a very bad solution. We both know <code>$grep2</code> isn&#39;t static (or you would have suggested <code>s&#47;$grep1&#47;$1&#47;</code>). I don&#39;t see why you think this is XY. /// To educate??!?! Damn straight it does. That&#39;s why I have a problem with your post. You are education people into doing the wrong thing."}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 2, "last_activity_date": 1448352637, "last_edit_date": 1490005770, "creation_date": 1448346349, "answer_id": 33886811, "question_id": 33886745, "link": "https://stackoverflow.com/questions/33886745/substitution-method-using-the-1-string/33886811#33886811", "title": "Substitution method using the &quot;$1&quot; string?", "body": "<p>One solution in this specific context is to use the /e modifier twice</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $st = 'abcd';\nmy $grep1 = 'a(bc)d';\nmy $grep2 = '$1';\n\n$st =~ s/$grep1/$grep2/ee;\n\nprint $st,\"\\n\";\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>bc\n</code></pre>\n\n<p>To make it a little less fragile, I'd recommend enclosing your RHS in two sets of quotes though:</p>\n\n<pre><code>$st =~ s/$grep1/qq{qq{$grep2}}/ee;\n</code></pre>\n\n<p>Note: As ikegami mentioned, evaling unsantized input is extremely dangerous.  I would therefore not recommend this in a general context.  Also, there are likely better solutions available to you, but you would first have to unravel your <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY</a> nature of question.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1448378932, "last_edit_date": 1448378932, "creation_date": 1448348040, "answer_id": 33887200, "question_id": 33886745, "link": "https://stackoverflow.com/questions/33886745/substitution-method-using-the-1-string/33887200#33887200", "title": "Substitution method using the &quot;$1&quot; string?", "body": "<p>The following will do what you want:</p>\n\n<pre><code>use String::Substitution qw( sub_modify );\n\nmy $st = 'abcd';\nmy $grep1 = 'a(bc)d';\nmy $grep2 = '$1';\nsub_modify($st, $grep1, $grep2);\nprint $st,\"\\n\";\n</code></pre>\n\n<p>The advantage of this solution is that it doesn't allow the execution of arbitrary code such as <code>eval EXPR</code> (aka <code>/ee</code>) does.</p>\n"}], "owner": {"reputation": 27, "user_id": 3934476, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d77efd64cd2ec578105b1bb0716a7f9e?s=128&d=identicon&r=PG&f=1", "display_name": "user3934476", "link": "https://stackoverflow.com/users/3934476/user3934476"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1448381512, "creation_date": 1448346096, "last_edit_date": 1448347202, "question_id": 33886745, "link": "https://stackoverflow.com/questions/33886745/substitution-method-using-the-1-string", "title": "Substitution method using the &quot;$1&quot; string?", "body": "<pre><code>my $st = 'abcd';\nmy $grep1 = 'a(bc)d';\nmy $grep2 = '$1';\n$st =~ s/$grep1/$grep2/;\nprint $st,\"\\n\";\n</code></pre>\n\n<p>If you run the code, the output is '<code>$1</code>', but I want to see '<code>bc</code>'.</p>\n\n<p><code>$grep2</code> can not be put directly into a regular expression, because the input value.</p>\n\n<p>How can I do it?</p>\n"}, {"tags": ["perl", "date", "input", "difference"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1448345376, "post_id": 33885950, "comment_id": 55536992, "body": "Yes, there is a way. However, as it is currently written, this question is off-topic because: Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1448383835, "creation_date": 1448383835, "answer_id": 33899374, "question_id": 33885950, "link": "https://stackoverflow.com/questions/33885950/perl-input-dates-on-the-command-line-and-calculates-the-number-of-days-between/33899374#33899374", "title": "Perl, Input dates on the command line and calculates the number of days between the two dates", "body": "<p>Your question seems to be about getting two values into your program, rather than about calculating the number of days between two dates. So here are a couple of approaches you can take.</p>\n\n<p>Command line arguments passed to your program end up in <code>@ARGV</code>. So </p>\n\n<pre><code>my ($date1, $date2) = @ARGV;\n</code></pre>\n\n<p>And then call the program as:</p>\n\n<pre><code>$ ./date_diff 2015-12-25 2015-11-24\n</code></pre>\n\n<p>Or you could ask the user for the dates:</p>\n\n<pre><code>print \"Give me a date :\";\nchomp(my $date1) = &lt;STDIN&gt;;\nprint \"Give me another date :\";\nchomp(my $date2) = &lt;STDIN&gt;;\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5386546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88acd3bd22ffcf8fcf4b86772489cea8?s=128&d=identicon&r=PG&f=1", "display_name": "B_lo", "link": "https://stackoverflow.com/users/5386546/b-lo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1448385259, "creation_date": 1448342286, "last_edit_date": 1448385259, "question_id": 33885950, "link": "https://stackoverflow.com/questions/33885950/perl-input-dates-on-the-command-line-and-calculates-the-number-of-days-between", "title": "Perl, Input dates on the command line and calculates the number of days between the two dates", "body": "<p>I know how to subtract 2 static dates that I can assign within the code, but is there a way I can input 2 dates on the command line and get the number of days between the 2?</p>\n"}, {"tags": ["mysql", "perl", "csv"], "comments": [{"owner": {"reputation": 5548, "user_id": 4625526, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6378aa788195a771461c5043057e2ed5?s=128&d=identicon&r=PG&f=1", "display_name": "Norbert van Nobelen", "link": "https://stackoverflow.com/users/4625526/norbert-van-nobelen"}, "edited": false, "score": 0, "creation_date": 1448339148, "post_id": 33885404, "comment_id": 55534994, "body": "When fields are enclosed by <code>&quot;</code>, the import expects all fields to be enclosed by this <code>&quot;</code>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1448341641, "post_id": 33885404, "comment_id": 55535673, "body": "Why use Perl for this at all? It seems like you&#39;re adding an unnecessary extra layer to the problem."}, {"owner": {"reputation": 1889, "user_id": 2658162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAOBQ.png?s=128&g=1", "display_name": "JRD", "link": "https://stackoverflow.com/users/2658162/jrd"}, "edited": false, "score": 0, "creation_date": 1448342620, "post_id": 33885404, "comment_id": 55535956, "body": "What is the encoding of the file book1.csv? If this is on a unixlike system, what is the output from <code>file book1.csv</code>?"}, {"owner": {"reputation": 1889, "user_id": 2658162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAOBQ.png?s=128&g=1", "display_name": "JRD", "link": "https://stackoverflow.com/users/2658162/jrd"}, "edited": false, "score": 0, "creation_date": 1448343126, "post_id": 33885404, "comment_id": 55536109, "body": "The extra spaces could indicate that you are trying to load a ucs2 or utf16 file which mysql states that <a href=\"http://dev.mysql.com/doc/refman/5.7/en/load-data.html\" rel=\"nofollow noreferrer\"><code>LOAD DATA INFILE</code></a> cannot handle. You may want to ensure the csv file is encoded using ascii or utf8."}, {"owner": {"reputation": 303, "user_id": 5593751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01d8d9dd9c019deb4e615211c20c120?s=128&d=identicon&r=PG&f=1", "display_name": "Grant", "link": "https://stackoverflow.com/users/5593751/grant"}, "edited": false, "score": 0, "creation_date": 1448390050, "post_id": 33885404, "comment_id": 55564918, "body": "Thanks to those that provided helpful assistance. The issue is encoding, the file is utf16, once converted to utf8 it works as it should."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8219339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1144ee779dced6c493d879993523f4d1?s=128&d=identicon&r=PG&f=1", "display_name": "Lemmor M.", "link": "https://stackoverflow.com/users/8219339/lemmor-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1498554127, "creation_date": 1498554127, "answer_id": 44776177, "question_id": 33885404, "link": "https://stackoverflow.com/questions/33885404/perl-mysql-importing-csv-file/44776177#44776177", "title": "Perl mysql - importing csv file", "body": "<p>Integers are whole numbers and their negative opposites. Therefore, these numbers can never be integers:</p>\n\n<ul>\n<li>fractions</li>\n<li>decimals</li>\n<li>percents</li>\n</ul>\n\n<p>Try changing the column types to FLOAT or DECIMAL instead of INT.</p>\n"}], "owner": {"reputation": 303, "user_id": 5593751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01d8d9dd9c019deb4e615211c20c120?s=128&d=identicon&r=PG&f=1", "display_name": "Grant", "link": "https://stackoverflow.com/users/5593751/grant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498554127, "creation_date": 1448338762, "question_id": 33885404, "link": "https://stackoverflow.com/questions/33885404/perl-mysql-importing-csv-file", "title": "Perl mysql - importing csv file", "body": "<p>I have an CSV file that I'm trying to import, without success. The integers in the file will not import, they all become zero's.</p>\n\n<p>Here is the csv file.</p>\n\n<pre><code>RankOrderBy,EmployeeID,RankSurnameInitial,MustersAttended,BrigadeMusters,Brigade12MonthIncidents,Incidents Attended,Muster Pct,Incident Pct,OIC,Driver,Crew,OwnTransport,Total At Incident,At Station,Total Other,Incidents On Leave,Incidents Absent,Total Incident Tasks\n5,900872,\"SFF xxxxx, R J\",32,48,241,74,0.6666667,0.30705394,0,24,27,0,51,23,23,62,105,241\n19,904308,\"OS-FF xxxxx, P H\",38,48,241,123,0.7916667,0.51037344,9,12,30,1,52,71,71,0,118,241\n4,904565,\"SO xxxxxx, G R\",48,48,241,190,1,0.78838174,31,7,33,0,71,119,119,0,51,241\n3,905042,\"SSO xxxxx, G W\",40,48,241,130,0.8333333,0.53941909,49,5,12,2,68,62,62,2,109,241\n5,905045,\"SFF xxxxx, J G\",41,48,241,175,0.8541667,0.72614108,2,100,34,0,136,39,39,13,53,241\n5,905053,\"SFF xxxxx, E J\",43,48,241,118,0.8958333,0.48962656,9,1,54,0,64,54,54,0,123,241\n5,905074,\"SFF xxxxxx, D M\",25,48,241,116,0.5208333,0.4813278,4,9,28,1,42,74,74,0,125,241\n4,905088,\"SO Sarcich, G\",41,48,241,122,0.8541667,0.50622407,26,28,16,2,72,50,50,22,97,241\n7,905089,\"FF xxxxx, B A\",33,48,241,42,0.6875,0.17427386,1,0,16,2,19,23,23,0,199,241\n4,905096,\"SO xxxxxx, S J\",40,48,241,144,0.8333333,0.59751037,36,10,31,8,85,59,59,0,97,241\n19,905132,\"OS-FF xxxxx, V L\",25,48,241,14,0.5208333,0.05809129,1,1,4,0,6,8,8,57,170,241\n15,905188,\"OS-SSO xxxxx, I J\",32,48,241,74,0.6666667,0.30705394,15,4,3,0,22,52,52,0,167,241\n19,907999,\"OS-FF xxxxx, G J\",26,48,241,71,0.5416667,0.29460581,3,20,8,0,31,40,40,1,169,241\n6,909727,\"QFF xxxxx, S M\",31,48,241,71,0.6458333,0.29460581,0,0,58,0,58,13,13,0,170,241\n20,909799,\"OS-RFF xxxxxx, D  \",32,42,209,91,0.7619048,0.4354067,4,3,17,1,25,66,66,26,92,241\n7,909991,\"FF xxxxx, B T\",25,48,241,53,0.5208333,0.21991701,0,0,15,2,17,36,36,0,188,241\n5,910323,\"SFF xxxx, S F\",47,48,241,117,0.9791667,0.48547718,1,31,54,0,86,31,31,0,124,241\n6,911345,\"QFF xxxxx, D\",39,48,241,129,0.8125,0.53526971,6,2,45,4,57,72,72,16,96,241\n5,912197,\"SFF xxxxx, M D\",46,48,241,212,0.9583333,0.87966805,12,56,69,2,139,73,73,0,29,241\n1,930928,\"CFO xxxxx, J E\",44,48,241,150,0.9166667,0.62240664,24,1,5,3,33,117,117,0,91,241\n2,933456,\"DCFO xxxxxx, A C\",43,48,241,196,0.8958333,0.81327801,137,8,3,2,150,46,46,3,42,241\n6,934986,\"QFF xxxxxxx, T P\",26,48,241,47,0.5416667,0.19502075,0,8,6,1,15,32,32,0,194,241\n6,936929,\"QFF xxxxxx, S T\",30,48,241,63,0.625,0.26141079,0,2,33,1,36,27,27,14,164,241\n6,937215,\"QFF xxxxx, K S\",37,48,241,44,0.7708333,0.18257261,0,7,22,0,29,15,15,9,188,241\n6,938180,\"QFF xxxxx, S J\",40,48,241,125,0.8333333,0.5186722,2,23,24,0,49,76,76,0,116,241\n7,942978,\"FF xxxxx, K\",43,48,241,111,0.8958333,0.46058091,0,0,94,0,94,17,17,0,130,241\n20,943016,\"OS-RFF xxxxx, S M\",41,48,241,115,0.8541667,0.47717842,8,24,17,4,53,62,62,1,125,241\n7,992884,\"FF xxxxx, A M\",28,48,78,38,0.5833333,0.48717949,0,0,22,0,22,16,16,0,203,241\n7,993131,\"FF xxxxx, R W\",43,44,78,134,0.9772728,1.71794872,1,0,67,0,68,66,66,0,80,241\n7,993279,\"FF xxxxx, J R\",31,39,42,78,0.7948718,1.85714286,0,0,36,0,36,42,42,1,117,241\n7,993289,\"FF xxxxx, C P\",25,37,42,17,0.6756757,0.4047619,0,0,11,0,11,6,6,0,169,241\n7,993327,\"FF xxxxx, N\",31,34,42,93,0.9117647,2.21428571,1,0,70,1,72,21,21,0,82,241\n99,993941,\"xxxxx, B A\",7,8,38,0,0.875,0,0,0,0,0,0,0,0,0,38,241\n</code></pre>\n\n<p>Here is my script.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\nuse File::Basename;\nuse DBI;\nuse DBD::mysql;\n\nmy $query=\"\";\nmy $filename = \"./muster.csv\";\n\nopen(ACCESS_INFO, \"&lt;./access.DB\") || die \"Can't access login credentials\";\n\nmy $database = &lt;ACCESS_INFO&gt;;\nmy $host = &lt;ACCESS_INFO&gt;;\nmy $userid = &lt;ACCESS_INFO&gt;;\nmy $passwd = &lt;ACCESS_INFO&gt;;\n\nchomp ($database, $host, $userid, $passwd);\n\nclose(ACCESS_INFO);\n\nmy $connectioninfo=\"DBI:mysql:$database:$host\";\n\nmy $dbh = DBI-&gt;connect($connectioninfo, $userid, $passwd, {mysql_enable_utf16 =&gt; 1} );\n\nmy $sth  = $dbh-&gt;prepare(\"DROP TABLE `tbl.test`\");\n\n$sth-&gt;execute;\n\nmy $sql = \"CREATE TABLE IF NOT EXISTS `tbl.test` (`RankOrderBy` int(11) DEFAULT NULL, `EmployeeID` int(11) DEFAULT NULL, `RankSurnameInitial` text, \"\n        . \"`MustersAttended` int(11) DEFAULT NULL, `BrigadeMusters` int(11) DEFAULT NULL, `Brigade12MonthIncidents` int(11) DEFAULT NULL, `IncidentsAttended` int(11) DEFAULT NULL, \"\n        . \" `MusterPct` double DEFAULT NULL, `IncidentPct` double DEFAULT NULL, `OIC` int(11) DEFAULT NULL, `Driver` int(11) DEFAULT NULL, `Crew` int(11) DEFAULT NULL, \"\n        . \"`OwnTransport` int(11) DEFAULT NULL, `TotalAtIncident` int(11) DEFAULT NULL, `AtStation` int(11) DEFAULT NULL, `TotalOther` int(11) DEFAULT NULL, \"\n        . \"`IncidentsOnLeave` int(11) DEFAULT NULL, `IncidentsAbsent` int(11) DEFAULT NULL, `TotalIncidentTasks` int(11) DEFAULT NULL)\";\n\nmy $sth1 = $dbh-&gt;prepare($sql);\n$sth1-&gt;execute;\n\n$query = q{LOAD DATA INFILE '/home/pi/Documents/NZFS/book1.csv'\n                INTO TABLE `tbl.test`\n                        FIELDS TERMINATED BY ','\n                        ENCLOSED BY '\"'\n                        LINES TERMINATED BY '\\n'\n                        IGNORE 1 LINES (\n                                        RankOrderBy,\n                                        EmployeeID,\n                                        RankSurnameInitial,\n                                        MustersAttended,\n                                        BrigadeMusters,\n                                        Brigade12MonthIncidents,\n                                        IncidentsAttended,\n                                        MusterPct,\n                                        IncidentPct,\n                                        OIC,\n                                        Driver,\n                                        Crew,\n                                        OwnTransport,\n                                        TotalAtIncident,\n                                        AtStation,\n                                        TotalOther,\n                                        IncidentsOnLeave,\n                                        IncidentsAbsent,\n                                        TotalIncidentTasks\n                                        )\n        };\n\n\nmy $sqlQuery = $dbh-&gt;prepare($query);\n\n#$sqlQuery-&gt;trace(2);\n\nmy $rv = $sqlQuery-&gt;execute();\n\n$dbh-&gt;disconnect();\n\nexit;\n</code></pre>\n\n<p>Here are the results viewed in MYSQL Workbench</p>\n\n<p><a href=\"http://i.stack.imgur.com/WQ6L9.png\" rel=\"nofollow\">Results from MySQL workbench</a></p>\n\n<p>So a couple of things happening.\n1. the numbers in the csv file are not being entered into the table, they are ending up as zero's\n2. the LOAD DATA INFILE statement is not taking into account the ENCLOSED BY '\"' to account for the name filed that also has a comer in it.\n3. You will see in the CSV file there are no spaces between the letters ie; SFF, this displays in the table as S F F for some reason, probably part of the issues above.</p>\n\n<p>Any pointers would be great.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "authentication", "testing", "cookies", "mojolicious"], "owner": {"reputation": 488, "user_id": 1217519, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5e14d5c388c7e67d81603c0cfaa6abc7?s=128&d=identicon&r=PG", "display_name": "ashraf", "link": "https://stackoverflow.com/users/1217519/ashraf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1448338310, "creation_date": 1448338310, "question_id": 33885325, "link": "https://stackoverflow.com/questions/33885325/test-mojolicious-app-after-authentication", "title": "Test Mojolicious app after authentication", "body": "<p>I'm using <code>Test::Mojo</code> to test a <code>Mojolicious</code> application JSON endpoints where it has an endpoint that would return different data depending on whether the user was authenticated or not, however, I can't seem to get  the unauthenticated test part correctly.</p>\n\n<p>The Mojolicious app is configured with <code>Mojolicious::Plugin::Authentication</code>.</p>\n\n<p>I assumed that I can have the backend authenticated by running <code>authenticate</code> against the controller then test against it using the same <code>Test::Mojo</code> instance after I have extracted the cookie from the controller's response object.</p>\n\n<p>Here's what I've done so far:</p>\n\n<pre><code>use FindBin;\nuse Test::More;\nuse Test::Mojo;\nuse MyApp;\n\nBEGIN {\n  $ENV{MOJO_MODE} = 'test';\n  $ENV{MOJO_LOG_LEVEL} = 'fatal';\n  unshift @INC, \"$FindBin::Bin/../../lib\", \"$FindBin::Bin/../lib\";\n}\n\nmy $t = Test::Mojo-&gt;new(MyApp-&gt;new);\n\nsubtest 'Accounts endpoint' =&gt; sub {\n  subtest 'Accounts - Unauthenticated' =&gt; sub {\n    $t-&gt;get_ok('/api/account/' . $id)\n      -&gt;status_is(200)\n      -&gt;content_type_like(qr/application\\/json/, 'JSON Contenet Type')\n      -&gt;json_has('/account/_id')\n      -&gt;json_hasnt('/account/active')\n      -&gt;json_hasnt('/account/subscription');\n  };\n\n  subtest 'Accounts - Authenticated' =&gt; sub {\n    my $c = $t-&gt;app-&gt;build_controller;\n    $c-&gt;session(expiration =&gt; time + 300);\n    $c-&gt;render;\n\n    $t-&gt;ua-&gt;on(start =&gt; sub {\n      my ($ua, $tx) = @_;\n      # $ua-&gt;cookie_jar-&gt;add($cookie);\n\n      $tx-&gt;req-&gt;cookies({name =&gt; $c-&gt;res-&gt;cookie('mojolicious')-&gt;name, value =&gt; $c-&gt;res-&gt;cookie('mojolicious')-&gt;value});\n\n      # print Dumper $tx-&gt;req-&gt;cookies, \" &lt;&lt;&lt; request cookie\\n\";\n      # print \"&gt;&gt;&gt; \", $_-&gt;name for @{$ua-&gt;cookie_jar-&gt;all};\n    });\n\n\n    if ($c-&gt;authenticate('username', 'password')) {\n      ok $c-&gt;is_user_authenticated, 'User was authenticated';\n      $t-&gt;get_ok('/api/account/' . $id)\n        -&gt;status_is(200)\n        -&gt;content_type_like(qr/application\\/json/, 'JSON Contenet Type')\n        -&gt;json_has('/account/_id')\n        -&gt;json_has('/account/active')\n        -&gt;json_has('/account/subscription');\n    }\n  };\n};\n\ndone_testing();\n</code></pre>\n\n<p>I thought that the problem is once authenticated, the session cookie value should change but in my case the cookie remains unchanged and I believe this is causing the request to send the unauthenticated cookie value and hence the resource is not working.</p>\n\n<p>The question is, how can I retrieve the cookie value <em>after</em> the controller was authenticated against?</p>\n\n<p>Any hint is appreciated. Thanks!</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 14375, "user_id": 344669, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8JOSf.gif?s=128&g=1", "display_name": "sfgroups", "link": "https://stackoverflow.com/users/344669/sfgroups"}, "edited": false, "score": 0, "creation_date": 1448387325, "post_id": 33884644, "comment_id": 55563329, "body": "I try to match the  using $`,$&amp;,$&#39; regx variable. didn&#39;t work as I expected, that&#39;s why posted this quesstion"}, {"owner": {"reputation": 14375, "user_id": 344669, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8JOSf.gif?s=128&g=1", "display_name": "sfgroups", "link": "https://stackoverflow.com/users/344669/sfgroups"}, "edited": false, "score": 0, "creation_date": 1448387388, "post_id": 33884644, "comment_id": 55563364, "body": "I tried this on  perl, v5.10.1. its giving me the error.      Bareword found where operator expected at -e line 1, near &quot;s! !_!gr&quot; syntax error at -e line 1, near &quot;s! !_!gr&quot; Execution of -e aborted due to compilation errors."}, {"owner": {"reputation": 14375, "user_id": 344669, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8JOSf.gif?s=128&g=1", "display_name": "sfgroups", "link": "https://stackoverflow.com/users/344669/sfgroups"}, "edited": false, "score": 0, "creation_date": 1448387565, "post_id": 33884644, "comment_id": 55563493, "body": "I have double quot only once in a line, Now I am using this.  cat a|perl -lane &#39;if( m/(&quot;[^&quot;]+&quot;)/g){$p=${^PREMATCH};$t=$&amp;;$e=${^POSTMATCH}; $t=~s/ /_/g;print &quot;$p$t$e&quot;}&#39;"}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "reply_to_user": {"reputation": 14375, "user_id": 344669, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8JOSf.gif?s=128&g=1", "display_name": "sfgroups", "link": "https://stackoverflow.com/users/344669/sfgroups"}, "edited": false, "score": 0, "creation_date": 1448387716, "post_id": 33884644, "comment_id": 55563574, "body": "What shell are you in? You have to escape the single quotes. Try running this: <code>cat a | perl -lane &#39;if( m&#47;&quot;[^&quot;]+&quot;&#47; ){$p=${^PREMATCH};$t=$&amp;;$e=$&#39;\\&#39;&#39;; $t=~s&#47; &#47;_&#47;g;print &quot;$p$t$e&quot;}&#39;</code>"}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "reply_to_user": {"reputation": 14375, "user_id": 344669, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8JOSf.gif?s=128&g=1", "display_name": "sfgroups", "link": "https://stackoverflow.com/users/344669/sfgroups"}, "edited": false, "score": 0, "creation_date": 1448387790, "post_id": 33884644, "comment_id": 55563634, "body": "Oh, you need to <code>use English</code> to use the english names for those variables. Try this: <code>cat a | | perl -lane &#39;use English; if( m&#47;&quot;[^&quot;]+&quot;&#47; ){$p=${PREMATCH};$t=$&amp;;$e=${POSTMATCH}; $t=~s&#47; &#47;_&#47;g;print &quot;$p$t$e&quot;}&#39;</code>"}], "tags": [], "owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "is_accepted": true, "score": 1, "last_activity_date": 1448399150, "last_edit_date": 1448399150, "creation_date": 1448333765, "answer_id": 33884644, "question_id": 33884082, "link": "https://stackoverflow.com/questions/33884082/perl-one-liner-replace-space-into-under-score-with-in-double-quto/33884644#33884644", "title": "perl one-liner replace space into under score with-in double quto", "body": "<p>Have you tried anything? It helps to post what you've tried when you ask a question. I'd rather help get your solution to work than just give you one. </p>\n\n<p>Anyway, this one-liner works:</p>\n\n<pre><code>echo \"\\\"Hello How are you\\\" Mr. John \\\"how are you?\\\"\" | perl -pe's/\"[^\"]+\"/$&amp;=~s! !_!gr/ge'\n</code></pre>\n\n<p>It is a regex within a regex. Here's how it works:</p>\n\n<p>To search and replace all spaces with underscores, we can simply run <code>s/ /_/g</code>. However, Perl lets you pick the delimiter you use in the statement. Since I wanted to use <code>/</code> in the outer regex, I picked <code>!</code> for the inner. That gives us the statement <code>s! !_!g</code>. The <code>g</code> flag means global, so it will replace all of the spaces with underscores, not just the first one.</p>\n\n<p>The outer regex is this <code>s/\"[^\"]+\"/{previous regex}/ge</code>. We are searching for each instances where we have a quote, followed by anything that is not a quote, followed by a quote (<code>\"[^\"]\"</code>). The match gets stored in the built-in variable, <code>$&amp;</code>. The <code>e</code> flag means eval, so the \"replace\" part of the regex will be treated as code.</p>\n\n<p>Finally, the output is:</p>\n\n<pre><code>\"Hello_How_are_you\" Mr. John \"how_are_you?\"\n</code></pre>\n\n<p>This works on older Perl versions:</p>\n\n<pre><code>cat a | perl -lane 'use English; if( m/\"[^\"]+\"/ ){$p=${PREMATCH};$t=$&amp;;$e=${POSTMATCH}; $t=~s/ /_/g;print \"$p$t$e\"}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 1, "last_activity_date": 1448377006, "creation_date": 1448377006, "answer_id": 33896870, "question_id": 33884082, "link": "https://stackoverflow.com/questions/33884082/perl-one-liner-replace-space-into-under-score-with-in-double-quto/33896870#33896870", "title": "perl one-liner replace space into under score with-in double quto", "body": "<p>Another approach: split the string on double quotes. Then the <em>contents</em> of the double quotes is every <em>odd-numbered element</em> of the resulting array.</p>\n\n<pre><code>perl -F'\"' -ane '\n    for ($i=1; $i&lt;$#F; $i+=2) { $F[$i] =~ s/ /_/g }\n    print join q{\"}, @F\n' &lt;&lt;END\n\"Hello How are you\"  Mr. John. \"I am fine.\"\nEND\n</code></pre>\n\n\n\n<pre><code>\"Hello_How_are_you\"  Mr. John. \"I_am_fine.\"\n</code></pre>\n"}], "owner": {"reputation": 14375, "user_id": 344669, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8JOSf.gif?s=128&g=1", "display_name": "sfgroups", "link": "https://stackoverflow.com/users/344669/sfgroups"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 33884644, "answer_count": 2, "score": -4, "last_activity_date": 1448399150, "creation_date": 1448329877, "question_id": 33884082, "link": "https://stackoverflow.com/questions/33884082/perl-one-liner-replace-space-into-under-score-with-in-double-quto", "title": "perl one-liner replace space into under score with-in double quto", "body": "<p>I have line this, I want to replace spaces with-in the quot with underscore.</p>\n\n<pre><code>\"Hello How are you\"  Mr. John\n</code></pre>\n\n<p>with</p>\n\n<pre><code>\"Hello_How_are_you\"  Mr. John\n</code></pre>\n\n<p>I like to have the perl one-liner for this.</p>\n\n<p>Thanks\nSR</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1448308838, "post_id": 33879559, "comment_id": 55523291, "body": "Shouldn&#39;t <code>$pal[0] = my $a</code> be <code>my $a = $pal[0]</code>, and so on? Not that you need those variables; you could just compare <code>$pal[0] eq $pal[6]</code>, etc. Or use a loop and don&#39;t limit it to seven characters. (And as someone mentioned in a comment that was quickly removed: Don&#39;t use <code>$a</code> and <code>$b</code>.)"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1448309337, "post_id": 33879559, "comment_id": 55523616, "body": "A few other errors... <code>&lt;&gt;</code> in this case is (imho) better written as <code>&lt;STDIN&gt;</code>. <code>my $input = &lt;STDIN&gt;; chomp $input;</code>. Next, you&#39;re using <code>$pal</code> as an array, but it&#39;s not. Do this: <code>my @pal = split &#47;&#47;, $input;</code>. Also, you really shouldn&#39;t be using <code>$a</code> and <code>$b</code>... they are special variables internally. Try to fix up what you&#39;ve got so it runs, then you can refine further with direct comparisons as @Biffen stated."}, {"owner": {"reputation": 1, "user_id": 5594385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3efc48b3023e2e5ec3a7a00a878b8a?s=128&d=identicon&r=PG&f=1", "display_name": "classans", "link": "https://stackoverflow.com/users/5594385/classans"}, "edited": false, "score": 0, "creation_date": 1448309406, "post_id": 33879559, "comment_id": 55523653, "body": "Doing what you suggested (comparing <code>$pal[0]</code> with <code>$pal[6]</code>) didn&#39;t solve my issue, as it&#39;s still throwing the same error. If I declared <code>$pal</code>earlier in the code, than what&#39;s the issue?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1448309485, "post_id": 33879559, "comment_id": 55523695, "body": "@classans You&#39;re going to have to show us the <i>exact</i> errors, and the corresponding code."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1448311253, "post_id": 33879559, "comment_id": 55524784, "body": "You should not update your question with parts of answers. It completely throws out all context for the below responses, and new readers will be wondering wtf?!, because the error in your subject won&#39;t even appear in a working script."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1448317796, "post_id": 33879559, "comment_id": 55528355, "body": "<code>chomp(my $pal = &lt;&gt;); if ($pal=~&#47;^(.)(.)(.).\\3\\2\\1\\z&#47;){ print &quot;PALINDROME\\n&quot; } elsif (length $pal == 7 ) { print &quot;NOT A PALINDROME\\n&quot; } else { print &quot;Your string must contain 7 characters!\\n&quot; }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 2, "last_activity_date": 1448309672, "creation_date": 1448309672, "answer_id": 33879836, "question_id": 33879559, "link": "https://stackoverflow.com/questions/33879559/global-symbol-requires-explicit-package-name-issue/33879836#33879836", "title": "Global symbol requires explicit package name issue", "body": "<p>You're using <code>$pal</code> as an array, but it's not. This collects from <code>STDIN</code> into <code>$input</code>, then transforms that into a <code>@pal</code> array which you're operating on. Your <code>=</code> variables were backwards, it's recommended not to use <code>$a</code> or <code>$b</code> as they are special in Perl, and you were missing parens around your <code>if</code> statement. This should get you going:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint \"Enter a 7 character string: \";\n\nmy $input = &lt;STDIN&gt;;\nchomp $input;\n\nmy $size = length($input);\n\nmy @pal = split //, $input;\n\nif ($size == 7) {\n    my $a = $pal[0];\n    my $b = $pal[1];\n    my $c = $pal[2];\n    my $d = $pal[3];\n    my $e = $pal[4];\n    my $f = $pal[5];\n    my $g = $pal[6];\n    if (($a eq $g) &amp;&amp; ($b eq $f) &amp;&amp; ($c eq $e)){\n        print \"PALINDROME\\n\";\n    }\n    else {\n        print \"NOT A PALINDROME\\n\";\n    }\n}\nelse {\n    print \"Your string must contain 7 characters!\\n\";\n}\n</code></pre>\n\n<p>Here's an example <code>if</code> statement using @Biffen suggestion as your comparison instead of assigning the whole array into single scalars.</p>\n\n<pre><code>    if ($size == 7) {\n        if ($pal[0] eq $pal[6] &amp;&amp; $pal[1] eq $pal[5] &amp;&amp; $pal[2] eq $pal[4]){\n            print \"PALINDROME\\n\";\n        }\n        else {\n            print \"NOT A PALINDROME\\n\";\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1448310569, "post_id": 33879907, "comment_id": 55524364, "body": "The problem with <code>$a</code> and <code>$b</code> happens exactly when you <i>do</i> use them with <code>my</code>: running <code>perl -E&#39;my $a; sort { $a &lt;=&gt; $b } 0..10&#39;</code> gives <code>Can&#39;t use &quot;my $a&quot; in sort comparison</code>."}, {"owner": {"reputation": 635, "user_id": 5225141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46ca2a143210415021833f869de4551d?s=128&d=identicon&r=PG&f=1", "display_name": "Chad", "link": "https://stackoverflow.com/users/5225141/chad"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1448310736, "post_id": 33879907, "comment_id": 55524465, "body": "You&#39;ll only get that if you&#39;re sorting.  I agree it&#39;s not a good idea to use <code>$a</code> and <code>$b</code>, but it&#39;ll work here."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1448310908, "post_id": 33879907, "comment_id": 55524573, "body": "Or if you use a number of callbacks from List::Util, etc. It&#39;s a bad practice because it <i>can</i> cause problems."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 4, "creation_date": 1448311360, "post_id": 33879907, "comment_id": 55524859, "body": "Mark Jason Dominus once wrote: <code>Being careful does not mean trying to understand the possible consequences while behaving dangerously; it means avoiding dangerous behavior in the first place. Don&#39;t say ``I know it&#39;s dangerous, so I&#39;ll be really careful.&#39;&#39; Say ``I know it&#39;s dangerous, so I won&#39;t do it.&#39;</code>"}, {"owner": {"reputation": 635, "user_id": 5225141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46ca2a143210415021833f869de4551d?s=128&d=identicon&r=PG&f=1", "display_name": "Chad", "link": "https://stackoverflow.com/users/5225141/chad"}, "edited": false, "score": 1, "creation_date": 1448312370, "post_id": 33879907, "comment_id": 55525468, "body": "OK, you guys are right...  Thanks!  I must be getting old: people say, &quot;You shouldn&#39;t do that,&quot; and I reply, &quot;Watch me!&quot; :-)"}], "tags": [], "owner": {"reputation": 635, "user_id": 5225141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46ca2a143210415021833f869de4551d?s=128&d=identicon&r=PG&f=1", "display_name": "Chad", "link": "https://stackoverflow.com/users/5225141/chad"}, "is_accepted": false, "score": 1, "last_activity_date": 1448312277, "last_edit_date": 1448312277, "creation_date": 1448309913, "answer_id": 33879907, "question_id": 33879559, "link": "https://stackoverflow.com/questions/33879559/global-symbol-requires-explicit-package-name-issue/33879907#33879907", "title": "Global symbol requires explicit package name issue", "body": "<p>You can't use the string <code>$pal</code> as an array in perl (one of the many ways that perl is not C).  It'll tell you that <code>@pal</code> doesn't exist.  You need to use <code>substr</code>, and your assignments are also backwards:</p>\n\n<pre><code>    my $c0 = substr($pal, 0, 1);\n    my $c1 = substr($pal, 1, 1);\n    my $c2 = substr($pal, 2, 1);\n    my $c3 = substr($pal, 3, 1);\n    my $c4 = substr($pal, 4, 1);\n    my $c5 = substr($pal, 5, 1);\n    my $c6 = substr($pal, 6, 1);\n    if ($c0 eq $c6) &amp;&amp; ($c1 eq $c5) &amp;&amp; ($c2 eq $c4) {\n        print \"PALINDROME\\n\";\n    }\n    else {\n        print \"NOT A PALINDROME\\n\";\n    }\n</code></pre>\n\n<p>Using <code>$a</code> and <code>$b</code> can cause problems, so I've renamed the variables.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1448383553, "creation_date": 1448383553, "answer_id": 33899284, "question_id": 33879559, "link": "https://stackoverflow.com/questions/33879559/global-symbol-requires-explicit-package-name-issue/33899284#33899284", "title": "Global symbol requires explicit package name issue", "body": "<p>Simplifying slightly:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nprint 'Enter a 7 character string: ';\nchomp(my $string = &lt;STDIN&gt;);\n\nmy @pal = split //, $string;\n\ndie \"$string is not a 7 character string\\n\"\n  if @pal != 7;\n\nfor (0 .. 2) {\n  if ($pal[$_] ne $pal[$#pal - $_]) {\n    say \"$string is not a palindrome\";\n    exit;\n  }\n}\n\nsay \"$string is a palindrome\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5594385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3efc48b3023e2e5ec3a7a00a878b8a?s=128&d=identicon&r=PG&f=1", "display_name": "classans", "link": "https://stackoverflow.com/users/5594385/classans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 0, "accepted_answer_id": 33879836, "answer_count": 3, "score": -4, "last_activity_date": 1448383553, "creation_date": 1448308629, "last_edit_date": 1448311381, "question_id": 33879559, "link": "https://stackoverflow.com/questions/33879559/global-symbol-requires-explicit-package-name-issue", "title": "Global symbol requires explicit package name issue", "body": "<p>I'm attempting to write a program that will determine if a 7-character string is a palindrome or not, and it keeps throwing me this error. I'm not exactly sure why it's doing it or how to fix it.</p>\n\n<pre><code>#!/usr/bin/perl\nuse Modern::Perl;\nuse strict;\nuse warnings;\n\nprint \"Enter a 7 character string: \";\n\nchomp (my $pal = &lt;&gt;);\n\nmy $size = length($pal);\n\nif ($size == 7) {\n        $pal[0] = my $a;   # Here's where it starts throwing errors\n        $pal[1] = my $b;\n        $pal[2] = my $c;\n        $pal[3] = my $d;\n        $pal[4] = my $e;\n        $pal[5] = my $f; \n        $pal[6] = my $g;   # All the way to down here\n        if ($a eq $g) &amp;&amp; ($b eq $f) &amp;&amp; ($c eq $e) {\n            print \"PALINDROME\\n\";\n        }\n        else {\n            print \"NOT A PALINDROME\\n\";\n        }\n }\n else {\n     print \"Your string must contain 7 characters!\\n\";\n }\n</code></pre>\n\n<p>I am not allowed to use the reverse function in this code. Also, I'm pretty new to Perl, so please keep things basic for me.</p>\n"}, {"tags": ["perl", "mojolicious", "mojo-useragent"], "comments": [{"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1610732854, "post_id": 33879246, "comment_id": 116234293, "body": "did you finally find the solution? Same problem here, except in this case I already have created the JSON"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5596685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bac09db57788018944fdd5d29608c1?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita Tropin", "link": "https://stackoverflow.com/users/5596685/nikita-tropin"}, "edited": false, "score": 0, "creation_date": 1448357390, "post_id": 33884263, "comment_id": 55543007, "body": "I tried, no results, there must be a HASH after &#39;form =&gt;&#39;, but I have a string with XML"}, {"owner": {"reputation": 488, "user_id": 1217519, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5e14d5c388c7e67d81603c0cfaa6abc7?s=128&d=identicon&r=PG", "display_name": "ashraf", "link": "https://stackoverflow.com/users/1217519/ashraf"}, "reply_to_user": {"reputation": 43, "user_id": 5596685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bac09db57788018944fdd5d29608c1?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita Tropin", "link": "https://stackoverflow.com/users/5596685/nikita-tropin"}, "edited": false, "score": 0, "creation_date": 1448390906, "post_id": 33884263, "comment_id": 55565416, "body": "@NikitaTropin so <code>$ua-&gt;post($ebay_api_url =&gt; $xml_body);</code> wouldn&#39;t work either?"}, {"owner": {"reputation": 43, "user_id": 5596685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bac09db57788018944fdd5d29608c1?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita Tropin", "link": "https://stackoverflow.com/users/5596685/nikita-tropin"}, "edited": false, "score": 0, "creation_date": 1448391991, "post_id": 33884263, "comment_id": 55566083, "body": "No, it&#39;s not. <code>Malformed JSON: Expected string, array, object, number, boolean or null at line 0, offset 0 at &#47;home&#47;nikita&#47;perl5&#47;perlbrew&#47;perls&#47;perl-5.20.3&#47;lib&#47;site_perl&#47;&zwnj;&#8203;5.20.3&#47;Mojo&#47;Message.&zwnj;&#8203;pm line 140</code>. I&#39;m passing string in $xml_body btw."}], "tags": [], "owner": {"reputation": 488, "user_id": 1217519, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5e14d5c388c7e67d81603c0cfaa6abc7?s=128&d=identicon&r=PG", "display_name": "ashraf", "link": "https://stackoverflow.com/users/1217519/ashraf"}, "is_accepted": false, "score": 1, "last_activity_date": 1448331172, "creation_date": 1448331172, "answer_id": 33884263, "question_id": 33879246, "link": "https://stackoverflow.com/questions/33879246/how-to-send-arbitrary-payload-with-mojouseragent/33884263#33884263", "title": "How to send arbitrary payload with Mojo::UserAgent?", "body": "<p>Try to post your $xml_body like so:</p>\n\n<pre><code>my $tx = $ua-&gt;post($ebay_api_url =&gt; form =&gt; $xml_body);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 825584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74fa9289fb05ad51299dfede83a09392?s=128&d=identicon&r=PG", "display_name": "codebard", "link": "https://stackoverflow.com/users/825584/codebard"}, "is_accepted": false, "score": 0, "last_activity_date": 1462859054, "creation_date": 1462859054, "answer_id": 37130125, "question_id": 33879246, "link": "https://stackoverflow.com/questions/33879246/how-to-send-arbitrary-payload-with-mojouseragent/37130125#37130125", "title": "How to send arbitrary payload with Mojo::UserAgent?", "body": "<p>You likely want (2nd example in <a href=\"https://metacpan.org/pod/Mojo::UserAgent#post\" rel=\"nofollow\">post doc</a>):</p>\n\n<pre><code>my $tx = $ua-&gt;post($ebay_api_url =&gt; {Accept =&gt; '*/*'} =&gt; $xml_body);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "is_accepted": false, "score": 0, "last_activity_date": 1521615547, "creation_date": 1521615547, "answer_id": 49400069, "question_id": 33879246, "link": "https://stackoverflow.com/questions/33879246/how-to-send-arbitrary-payload-with-mojouseragent/49400069#49400069", "title": "How to send arbitrary payload with Mojo::UserAgent?", "body": "<p>I faced the similar issue like yours but later I realized that the problem was with the xml data. Please ensure that you do not have any trailing or leading white spaces in your $xml_body. This works:</p>\n\n<pre><code>   my $tx = $ua-&gt;post($ebay_api_url =&gt; $headers =&gt; $xml_body);\n</code></pre>\n\n<p><a href=\"https://metacpan.org/pod/Mojolicious\" rel=\"nofollow noreferrer\">Mojolicious</a> and <a href=\"https://metacpan.org/pod/Mojo::UserAgent\" rel=\"nofollow noreferrer\">Mojo::UserAgent</a> is awesome and light.</p>\n"}], "owner": {"reputation": 43, "user_id": 5596685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bac09db57788018944fdd5d29608c1?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita Tropin", "link": "https://stackoverflow.com/users/5596685/nikita-tropin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1521615547, "creation_date": 1448307581, "last_edit_date": 1448326172, "question_id": 33879246, "link": "https://stackoverflow.com/questions/33879246/how-to-send-arbitrary-payload-with-mojouseragent", "title": "How to send arbitrary payload with Mojo::UserAgent?", "body": "<p>I'm trying to use <a href=\"http://metacpan.org/module/Mojo::UserAgent\" rel=\"nofollow\"><code>Mojo::UserAgent</code></a> to access the eBay API.</p>\n\n<p>One of the options is to use API requests with an XML payload, but I have had no success doing it with <code>Mojo::UserAgent</code>. I didn't find any options for the <code>$ua-&gt;post</code> method.</p>\n\n<p>I also tried</p>\n\n<pre><code>my $tx = $ua-&gt;build_tx(POST =&gt; $ebay_api_url =&gt; $headers);\n$tx-&gt;req-&gt;body($xml_body);\nmy $res = $ua-&gt;start($tx)-&gt;res-&gt;json;\n</code></pre>\n\n<p>with no success. The XML body is not set for the request.</p>\n\n<p>What do I need to do to achieve the desired result?</p>\n\n<p>I know about the possibility of using JSON requests, but that is a reserve plan.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1448303966, "post_id": 33878100, "comment_id": 55520333, "body": "<a href=\"http://perldoc.perl.org/perlvar.html#Performance-issues\" rel=\"nofollow noreferrer\"><code>perldoc perlvar</code></a> mentions that &quot;The Devel::NYTProf and Devel::FindAmpersand modules can help you find uses of these problematic match variables in your code.&quot; And FYI, the performance issues associated with them have been fixed as of 5.20.0, so you may not have to worry about it, depending on your setup."}, {"owner": {"reputation": 1122, "user_id": 357336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0tDqW.jpg?s=128&g=1", "display_name": "d5ve", "link": "https://stackoverflow.com/users/357336/d5ve"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1448336594, "post_id": 33878100, "comment_id": 55534258, "body": "Cheers! Issue was spotted by NYTProf. The webapps run on a mixture of v5.10.1 and 5.16.1, so they wil be affected by the match vars perf issues."}], "answers": [{"comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1448333474, "post_id": 33884440, "comment_id": 55533406, "body": "Very useful information but it might not clear up OP&#39;s question. I think the confusion is that OP thinks that the performance hit will be taken after the first <i>runtime use</i> of <code>$&amp;</code> and friends, while in reality <code>PL_sawampersand</code> is set the first time code is <i>compiled</i> that mentions <code>$&amp;</code> and friends, meaning as soon as FormValidator is loaded, regardless of whether those methods are called."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1448334582, "post_id": 33884440, "comment_id": 55533704, "body": "@hobbs Good point, I got carried away with the details. I&#39;ll try to clarify tomorrow. In the meantime, your comment would make a good answer."}, {"owner": {"reputation": 1122, "user_id": 357336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0tDqW.jpg?s=128&g=1", "display_name": "d5ve", "link": "https://stackoverflow.com/users/357336/d5ve"}, "edited": false, "score": 0, "creation_date": 1448335135, "post_id": 33884440, "comment_id": 55533842, "body": "I was unsure whether the performance hit would be turned on at runtime for Data::FormValidator::Result as the $&amp; and $` I initially saw in the file were in a single-quoted string that was optionally later eval()ed. This (really clear and useful) answer showed that it was happening at compile time, so I looked again, and found another $&amp; in regular code."}, {"owner": {"reputation": 1122, "user_id": 357336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0tDqW.jpg?s=128&g=1", "display_name": "d5ve", "link": "https://stackoverflow.com/users/357336/d5ve"}, "edited": false, "score": 0, "creation_date": 1448335930, "post_id": 33884440, "comment_id": 55534071, "body": "There is an open <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=68313\" rel=\"nofollow noreferrer\">RT case</a> for this from 2011. For my purposes, where I&#39;m not using FormValidator to untaint variables, I think I&#39;ll just coment out the single offending line in Results.pm"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1448386409, "post_id": 33884440, "comment_id": 55562789, "body": "@hobbs &quot;OP thinks that the performance hit will be taken after the first <i>runtime</i> use of <code>$&amp;</code> and friends, while in reality <code>PL_sawampersand</code> is set the first time code is <i>compiled</i> that mentions <code>$&amp;</code> and friends&quot; I think the OP is right in the case of string <code>eval</code>: <code>perl -MDevel::SawAmpersand=sawampersand -e&#39;BEGIN { sub foo { eval q{$&amp;}; } } warn if sawampersand()&#39;</code>. If <code>foo()</code> is never called, the <code>eval</code> never runs, so <code>PL_sawampersand</code> is never set."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1448404155, "post_id": 33884440, "comment_id": 55572792, "body": "@ThisSuitIsBlackNot sure, in that case the code isn&#39;t compiled until the eval is hit. But it turns out that FormValidator has a non-eval-guarded <code>$&amp;</code>."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 1, "last_activity_date": 1448332256, "creation_date": 1448332256, "answer_id": 33884440, "question_id": 33878100, "link": "https://stackoverflow.com/questions/33878100/how-can-i-tell-if-my-perl-process-has-used-the-regex-prematch-match-postmatch/33884440#33884440", "title": "How can I tell if my perl process has used the regex $PREMATCH/$MATCH/$POSTMATCH vars (or the short equivilents $`/$&#39;/$&amp;)?", "body": "<blockquote>\n  <p>How can I tell if my perl process has used the regex vars <code>$PREMATCH/$MATCH/$POSTMATCH</code> (or the short equivalents <code>$`/$'/$&amp;</code>)?</p>\n</blockquote>\n\n<p><a href=\"http://perldoc.perl.org/perlvar.html#Performance-issues\" rel=\"nofollow\">perlvar</a> recommends using <a href=\"https://metacpan.org/pod/Devel::NYTProf\" rel=\"nofollow\">Devel::NYTProf</a> and <a href=\"https://metacpan.org/pod/Devel::FindAmpersand\" rel=\"nofollow\">Devel::FindAmpersand</a>, but <em>Mastering Regular Expressions</em> claims that Devel::FindAmpersand is unreliable* and recommends <a href=\"https://metacpan.org/pod/Devel::SawAmpersand\" rel=\"nofollow\">Devel::SawAmpersand</a> instead:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -MData::FormValidator -MDevel::SawAmpersand=sawampersand -e'warn if sawampersand'\nWarning: something's wrong at -e line 1.\n$ perl -MDevel::SawAmpersand=sawampersand -e'warn if sawampersand'\n</code></pre>\n\n<p>Alternatively, build perl with debugging symbols and run with <code>-Dr</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -Dr -MData::FormValidator -e1\n...\nEnabling $` $&amp; $' support.\n\nEXECUTING...\n\n$ perl -Dr -e1\nOmitting $` $&amp; $' support.\n\nEXECUTING...\n</code></pre>\n\n<p>So, just <code>use</code>ing Data::FormValidator is enough to enable <code>$&amp;</code> handling.</p>\n\n<p>If you're running Perl 5.20.0+, the <a href=\"http://perldoc.perl.org/perlvar.html#Performance-issues\" rel=\"nofollow\">performance issues associated with <code>$&amp;</code> and friends have been fixed</a>. (A partial fix was also implemented in Perl 5.18.0.) If not, you're stuck with the performance hit, but I would recommend profiling your application to make sure regex processing is really causing an issue before making any changes.</p>\n\n<hr>\n\n<p>* The author doesn't elaborate, but I found that Devel::FindAmpersand ignores the contents of <code>BEGIN</code> blocks:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -MDevel::FindAmpersand -e'$&amp;'\nFound evil variable $&amp; in file -e, line 1\n$ perl -MDevel::FindAmpersand -e'BEGIN { $&amp; }'\n</code></pre>\n\n<p>Devel::SawAmpersand, on the other hand, doesn't:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -MDevel::SawAmpersand=sawampersand -e'$&amp;; END { warn if sawampersand }'\nWarning: something's wrong at -e line 1.\n$ perl -MDevel::SawAmpersand=sawampersand -e'BEGIN { $&amp; } END { warn if sawampersand }'\nWarning: something's wrong at -e line 1.\n</code></pre>\n\n<p>Devel::FindAmpersand uses the B module to walk the optree and compare variable names against a regex, while Devel::SawAmpersand uses XS code to examine the <code>PL_sawampersand</code> variable directly, which I think explains the difference.</p>\n"}], "owner": {"reputation": 1122, "user_id": 357336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0tDqW.jpg?s=128&g=1", "display_name": "d5ve", "link": "https://stackoverflow.com/users/357336/d5ve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 33884440, "answer_count": 1, "score": 3, "last_activity_date": 1448332256, "creation_date": 1448303634, "last_edit_date": 1448304529, "question_id": 33878100, "link": "https://stackoverflow.com/questions/33878100/how-can-i-tell-if-my-perl-process-has-used-the-regex-prematch-match-postmatch", "title": "How can I tell if my perl process has used the regex $PREMATCH/$MATCH/$POSTMATCH vars (or the short equivilents $`/$&#39;/$&amp;)?", "body": "<p>How can I tell if my perl process has used the regex vars <code>$PREMATCH</code>/<code>$MATCH</code>/<code>$POSTMATCH</code> (or the short equivilents <code>$`</code>/<code>$'</code>/<code>$&amp;</code>)?</p>\n\n<p>My perl webapp makes heavy use of <a href=\"https://metacpan.org/pod/Data::FormValidator::Results\" rel=\"nofollow\"><code>Data::FormValidator::Results</code></a>, which, in some cases, uses <code>$PREMATCH</code>/<code>$`</code> inside an <code>eval()</code>.</p>\n\n<p>I don't want to wade through all 200 invocations of the validator to check whether I trigger the codepath which uses <code>$`</code>, so is there anything I can inspect at runtime to see if any of the match vars have been used during the child process runtime?</p>\n\n<p>I'd like to put a logging handler in at child process exit time which would <code>warn()</code> if one of the match vars has been used.</p>\n"}, {"tags": ["perl", "dereference"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1448303474, "post_id": 33878016, "comment_id": 55520019, "body": "FYI, the output from Data::Dumper is easier to read if you pass it a reference. Instead of <code>print Dumper @foo;</code> do <code>print Dumper \\@foo;</code>"}, {"owner": {"reputation": 339, "user_id": 3333134, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/87fd8bf2cf386684a4736aa7284c5e03?s=128&d=identicon&r=PG&f=1", "display_name": "user3333134", "link": "https://stackoverflow.com/users/3333134/user3333134"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1448303777, "post_id": 33878016, "comment_id": 55520213, "body": "Thanks good tip, i&#39;ll try using that a bit. [ [], [], [], [], [], [], [ 1 ], [], [], [], [ 1 ], [], [ 1 ], [], [ 1 ] ];"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 3, "creation_date": 1448303801, "post_id": 33878016, "comment_id": 55520234, "body": "You should read <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlreftut.html</a> and <a href=\"http://perldoc.perl.org/perllol.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perllol.html</a>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1448304937, "post_id": 33878016, "comment_id": 55520902, "body": "Note that in <code>print &quot;Here: &quot; . @arrayRef[0];</code>, it should be written as <code>$arrayRef[0]</code>. This would have been pointed out if you have <code>use warnings;</code> enabled. To further, double-quotes interpolate, so it can be shortened a bit: <code>print &quot;Here: $arrayRef[0]&quot;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1448307210, "post_id": 33878428, "comment_id": 55522280, "body": "Scalars are prefixed with the sigil <code>$</code>, and arrays are prefixed with <code>@</code>. So, it should be <code>$redArray[$i]</code>. And, had you been using <code>warnings</code> and <code>strict</code>, you would have been informed of this."}, {"owner": {"reputation": 339, "user_id": 3333134, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/87fd8bf2cf386684a4736aa7284c5e03?s=128&d=identicon&r=PG&f=1", "display_name": "user3333134", "link": "https://stackoverflow.com/users/3333134/user3333134"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1448308754, "post_id": 33878428, "comment_id": 55523234, "body": "I am using strict and warnings. I don&#39;t see any errors due to the fact that I&#39;m working on an ASP classic website. What would you recommend? Doing all the code first straight in perl and then copying it over? Or is there a way to dump error warnings onto a webpage?"}], "tags": [], "owner": {"reputation": 339, "user_id": 3333134, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/87fd8bf2cf386684a4736aa7284c5e03?s=128&d=identicon&r=PG&f=1", "display_name": "user3333134", "link": "https://stackoverflow.com/users/3333134/user3333134"}, "is_accepted": false, "score": -2, "last_activity_date": 1448304776, "creation_date": 1448304776, "answer_id": 33878428, "question_id": 33878016, "link": "https://stackoverflow.com/questions/33878016/perl-array-of-array-references/33878428#33878428", "title": "Perl: Array of Array References", "body": "<p>Thanks to glenn jackman and ThisSuitIsBlackNot I was able to figure it out.</p>\n\n<p>The issue is that the reference I was doing above was more or less correct but there was an error later in my code, the reference I went with was,</p>\n\n<pre><code>my $arrayRef = @redArray[$i];\nmy @redVal = @{$arrayRef};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "is_accepted": true, "score": 0, "last_activity_date": 1448314221, "creation_date": 1448314221, "answer_id": 33881071, "question_id": 33878016, "link": "https://stackoverflow.com/questions/33878016/perl-array-of-array-references/33881071#33881071", "title": "Perl: Array of Array References", "body": "<p>As others have mentioned, you're getting confused as to when you should use the $ and @ symbols.  (To be fair, it's not always obvious in Perl.)  The Perl reference tutorial link glenn gave is the best resource.  Maybe some examples will help:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @important_years = (1066, 1492, 1776);\nmy @recent_years    = (2010, 2012, 2014);\n\nmy $important_years_ref = \\@important_years;\nmy $recent_years_ref    = \\@recent_years;\n\nmy @redArray = ($important_years_ref, $recent_years_ref);\n\nprintf(\"%s\\n\", $redArray[0][0]);    # 1066\nprintf(\"%s\\n\", $redArray[0][1]);    # 1492\nprintf(\"%s\\n\", $redArray[0][2]);    # 1776\n\nprintf(\"%s\\n\", $redArray[1][0]);    # 2010\nprintf(\"%s\\n\", $redArray[1][1]);    # 2012\nprintf(\"%s\\n\", $redArray[1][2]);    # 2014\n\n# Get a reference to the \"important years\" array\nmy $important_years_copy_ref = $redArray[0];\nprintf(\"%s\\n\", $important_years_copy_ref-&gt;[2]);  # 1776\n\n# Or make brand new array by dereferencing\n# the \"important years\" reference stored in @redArray\nmy @important_years_copy = @{$redArray[0]};\nprintf(\"%s\\n\", $important_years_copy[2]);        # 1776\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 3333134, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/87fd8bf2cf386684a4736aa7284c5e03?s=128&d=identicon&r=PG&f=1", "display_name": "user3333134", "link": "https://stackoverflow.com/users/3333134/user3333134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 1, "accepted_answer_id": 33881071, "answer_count": 2, "score": 0, "last_activity_date": 1448314221, "creation_date": 1448303321, "question_id": 33878016, "link": "https://stackoverflow.com/questions/33878016/perl-array-of-array-references", "title": "Perl: Array of Array References", "body": "<p>Might be repeated somewhere but i've looked at every perl array referencing / dereferencing example i've been able to find and tried running 10+ different combos of this string to get my desired output. Such as @$array[i], @{$array[i]}, @{@$array[i]} etc.</p>\n\n<p>So I have an array of array references. I built this by creating a global array, and then I push smaller temp arrays into that global array. The final outcome looks something like this when Dumper() is ran.</p>\n\n<pre><code>$VAR1 = [ 1 ]; $VAR2 = []; $VAR3 = []; $VAR4 = []; $VAR5 = []; $VAR6 = []; $VAR7 = [ 1 ]; $VAR8 = []; $VAR9 = []; $VAR10 = []; $VAR11 = [ 1 ]; $VAR12 = []; $VAR13 = [ 1 ]; $VAR14 = []; $VAR15 = [ 1 ];\n</code></pre>\n\n<p>Now I am trying to dereference one of these arrays by using</p>\n\n<pre><code>my @arrayRef = @{$redArray[$i]};\nprint \"Here: \" . @arrayRef[0];\n</code></pre>\n\n<p>@redArray is my global array.</p>\n\n<p>The @{$redArray[$i]} part I see as get the reference from the global array, and then deference it which should return as array like [] or [1] or [1,1 .....]</p>\n\n<p>Then on line two I want to get the first element of the array, which would return nothing/error or 1. </p>\n\n<p>When print \"Here: \" . @arrayRef[0]; runs though, the output I see is</p>\n\n<pre><code>Here: Here: Here: Here: Here: Here: Here: Here: Here: Here: Here: Here: Here: Here: Here:\n</code></pre>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1448305079, "post_id": 33877884, "comment_id": 55520979, "body": "As an aside, <code>use x86_64-linux-thread-multi::Devel::Cover::DB::IO::JSON;</code> is wrong. It should be <code>use Devel::Cover::DB::IO::JSON;</code>. If that doesn&#39;t work, you have a second problem (bad <code>@INC</code>)."}, {"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448314077, "post_id": 33877884, "comment_id": 55526447, "body": "@ikegami, you answered without me asking, I was battling with it, thanks a lot."}], "answers": [{"tags": [], "owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "is_accepted": true, "score": 5, "last_activity_date": 1448303125, "creation_date": 1448303125, "answer_id": 33877965, "question_id": 33877884, "link": "https://stackoverflow.com/questions/33877884/error-in-conditionally-including-perl-module-using-if-pragma/33877965#33877965", "title": "Error in conditionally including Perl module using if pragma", "body": "<p>Assignment to variables happens at run time, while <code>use</code> happens at compile time.  So in your example, <code>$a</code> has not been assigned any value when the <code>use</code> happens, so it evaluates to <code>undef</code>.</p>\n\n<p>To assign to <code>$a</code> at compile time, use <code>BEGIN</code>:</p>\n\n<pre><code>my $a;\nBEGIN { $a = 1 }\nuse if ($a), 'x86_64-linux-thread-multi::Devel::Cover::DB::IO::JSON';\n</code></pre>\n\n<p>You should also be aware that making the variables <code>$a</code> and <code>$b</code> lexical is generally frowned upon, since it interferes with the normal operation of the <code>sort</code> function.</p>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 33877965, "answer_count": 1, "score": 1, "last_activity_date": 1448303125, "creation_date": 1448302876, "question_id": 33877884, "link": "https://stackoverflow.com/questions/33877884/error-in-conditionally-including-perl-module-using-if-pragma", "title": "Error in conditionally including Perl module using if pragma", "body": "<p>This works good:</p>\n\n<pre><code>use if (1), 'x86_64-linux-thread-multi::Devel::Cover::DB::IO::JSON';\n</code></pre>\n\n<p>but not this:</p>\n\n<pre><code>my $a=1;\nuse if ($a), 'x86_64-linux-thread-multi::Devel::Cover::DB::IO::JSON';\n</code></pre>\n\n<p>later prints error <code>Can't locate object method \"new\" via package \"JSON\" (perhaps you forgot to load \"JSON\"?) at ./script.pl line 100.</code>, I have <code>$json = JSON-&gt;new;</code> in line 100.</p>\n\n<p>I am using Perl 5.16.2 version, any help? thanks in advance.</p>\n"}, {"tags": ["json", "perl", "mojolicious", "mojolicious-lite"], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 5, "last_activity_date": 1448299546, "last_edit_date": 1448299546, "creation_date": 1448298972, "answer_id": 33876774, "question_id": 33876613, "link": "https://stackoverflow.com/questions/33876613/posting-a-json-true-value-with-mojolicious/33876774#33876774", "title": "Posting a JSON true value with Mojolicious", "body": "<p>You can use Mojo::JSON::true and Mojo::JSON::false for the corresponding JSON values. You can also use the scalar references <code>\\1</code> for true and <code>\\0</code> for false if you want. A Perl <code>undef</code> will get converted to a JSON null.</p>\n\n<p>From the <a href=\"http://www.mojolicio.us/perldoc/Mojo/JSON#DESCRIPTION\" rel=\"noreferrer\">Mojo::JSON docs</a>:</p>\n\n<blockquote>\n  <p>Literal names will be translated to and from Mojo::JSON constants or a\n  similar native Perl value.</p>\n\n<pre><code>true  -&gt; Mojo::JSON-&gt;true\nfalse -&gt; Mojo::JSON-&gt;false\nnull  -&gt; undef\n</code></pre>\n  \n  <p>In addition scalar references will be used to generate booleans, based\n  on if their values are true or false.</p>\n\n<pre><code>\\1 -&gt; true\n\\0 -&gt; false\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 33876774, "answer_count": 1, "score": 0, "last_activity_date": 1448305813, "creation_date": 1448298414, "last_edit_date": 1448305813, "question_id": 33876613, "link": "https://stackoverflow.com/questions/33876613/posting-a-json-true-value-with-mojolicious", "title": "Posting a JSON true value with Mojolicious", "body": "<p>I am trying to post the following JSON with <a href=\"https://metacpan.org/pod/Mojo::UserAgent\" rel=\"nofollow\"><code>Mojo::UserAgent</code></a></p>\n\n<pre><code>use Mojo::UserAgent;\n\nmy $ua = Mojo::UserAgent-&gt;new;\nmy $ip = ...\n$mojo-&gt;post( 'https://$ip:443/query' =&gt; json =&gt;  { value=&gt; True, Query =&gt; ... } );\n</code></pre>\n\n<p>I get an error</p>\n\n<blockquote>\n  <p>Bareword \"JSON::true\" not allowed while \"strict subs\"</p>\n</blockquote>\n\n<p>but if I set it to <code>True</code> it is interpreted as a string and not a JSON <em>true</em> value.</p>\n\n<p>Any idea how to post a JSON <em>true</em> value?</p>\n"}, {"tags": ["perl", "redirect", "hash", "mason"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1448296707, "post_id": 33875982, "comment_id": 55515643, "body": "That&#39;s a nasty error ;) But it&#39;s unclear exactly what you want to print...the value of <code>success</code>? The value of <code>errorType</code>? The values of every hash key, including nested structures? For the latter, you can use something like <a href=\"http://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow noreferrer\">Data::Dumper</a> or <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow noreferrer\">Data::Dump</a>."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1448296719, "post_id": 33875982, "comment_id": 55515657, "body": "<code>print &quot;$result-&gt;{success}\\n&quot;;</code> and <code>print &quot;$result-&gt;{error}{errorType}\\n&quot;;</code>"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1448299922, "post_id": 33875982, "comment_id": 55517779, "body": "You want to seriealize the hash as JSON? <code>{&quot;success&quot;: true, &quot;error&quot;: {&quot;errorType&quot;: &quot;...&quot;}}</code>"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1448299983, "post_id": 33875982, "comment_id": 55517804, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/8463919/how-to-convert-a-simple-hash-to-json-in-perl\">How to convert a simple hash to json in Perl?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 0, "creation_date": 1448297804, "post_id": 33876083, "comment_id": 55516424, "body": "And how can I pass it as URL parameter"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 2, "creation_date": 1448298103, "post_id": 33876083, "comment_id": 55516596, "body": "@Andy897 You&#39;ll need to be more specific."}, {"owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 0, "creation_date": 1448309025, "post_id": 33876083, "comment_id": 55523422, "body": "Sorry about the that. I will create a new question probably"}], "tags": [], "owner": {"reputation": 4548, "user_id": 814297, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ebe0ccc07e8cd45d527cd0c7d743f740?s=128&d=identicon&r=PG", "display_name": "Andrey Starodubtsev", "link": "https://stackoverflow.com/users/814297/andrey-starodubtsev"}, "is_accepted": false, "score": 0, "last_activity_date": 1448296750, "creation_date": 1448296750, "answer_id": 33876083, "question_id": 33875982, "link": "https://stackoverflow.com/questions/33875982/getting-value-of-a-hash-in-perl-mason/33876083#33876083", "title": "Getting value of a HASH in Perl Mason", "body": "<pre><code>use Data::Dump;\ndd( $result );\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper( $result );\n</code></pre>\n\n<p>or simply</p>\n\n<pre><code>while ( my ( $k, $v ) = each %{ $result } ) {\n  print \"$k =&gt; $v\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1448307403, "post_id": 33877186, "comment_id": 55522398, "body": "Did the OP mention JSON anywhere?"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1448310044, "post_id": 33877186, "comment_id": 55524018, "body": "@MattJacob Not directly, but it is mentioned that OP want to pass the &quot;object&quot; to a http request: <code>And how can I pass it as URL parameter</code> which makes me think of JSON"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1448315385, "post_id": 33877186, "comment_id": 55527162, "body": "True, unless he just wants <code>key=value&amp;key=value...</code>, which was my original thought. But that wouldn&#39;t make much sense for the nested hash, so maybe JSON is the right answer. ;-)"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1448316169, "post_id": 33877186, "comment_id": 55527561, "body": "@MattJacob Oh didn&#39;t think of this, OP can also pass <code>success=0&amp;error[errorType]=...</code> which is also a valid query string."}, {"owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 0, "creation_date": 1448340571, "post_id": 33877186, "comment_id": 55535400, "body": "@dev-null .. Thanks a lot. I want to do it this way success=0&amp;error[errorType]=. ... please suggest how can I do that. THanks a lot again."}, {"owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 0, "creation_date": 1448353985, "post_id": 33877186, "comment_id": 55541030, "body": "This is how I want it to look (as an example) : URL/?actionResult={&quot;success&quot;:1,&quot;action&quot;:&quot;action123&quot;}"}], "tags": [], "owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "is_accepted": false, "score": 0, "last_activity_date": 1448300388, "creation_date": 1448300388, "answer_id": 33877186, "question_id": 33875982, "link": "https://stackoverflow.com/questions/33875982/getting-value-of-a-hash-in-perl-mason/33877186#33877186", "title": "Getting value of a HASH in Perl Mason", "body": "<p>If you want to serialize the hash as a JSON object you can:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse JSON;\n\nmy $result;\n$result-&gt;{success} = 0;\n$result-&gt;{error} = {errorType =&gt; \"SHIT_ERROR\"};\n\nprint encode_json $result; # {\"success\":0,\"error\":{\"errorType\":\"SHIT_ERROR\"}}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 0, "creation_date": 1448340422, "post_id": 33881561, "comment_id": 55535356, "body": "Hi Fthiella, Thanks a lot for detailed reply. The only thing is that handler expects the $result in the same format, and we can not change it. :( .. Kindly suggest how can I pass the $result without simplifying the structure."}, {"owner": {"reputation": 44607, "user_id": 833073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b2e4376123477a31727c54096d1d117?s=128&d=identicon&r=PG", "display_name": "fthiella", "link": "https://stackoverflow.com/users/833073/fthiella"}, "reply_to_user": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 0, "creation_date": 1448354994, "post_id": 33881561, "comment_id": 55541555, "body": "@Andy897 please see my updated answer. I think you should show us some code, maybe we can suggest you a better approach. Please let me know if it works."}, {"owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 0, "creation_date": 1448358188, "post_id": 33881561, "comment_id": 55543509, "body": "Thanks a lot. I tried what you suggested it says - Can&#39;t call method &quot;encode_json&quot; on unblessed reference"}, {"owner": {"reputation": 44607, "user_id": 833073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b2e4376123477a31727c54096d1d117?s=128&d=identicon&r=PG", "display_name": "fthiella", "link": "https://stackoverflow.com/users/833073/fthiella"}, "reply_to_user": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 1, "creation_date": 1448388394, "post_id": 33881561, "comment_id": 55563949, "body": "@Andy897 are you sure you loaded JSON library correctly? what if you assign <code>my $json = encode_json $result;</code> and then <code>my $h = { &#39;result&#39; =&gt; $json };</code> ?"}], "tags": [], "owner": {"reputation": 44607, "user_id": 833073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b2e4376123477a31727c54096d1d117?s=128&d=identicon&r=PG", "display_name": "fthiella", "link": "https://stackoverflow.com/users/833073/fthiella"}, "is_accepted": true, "score": 1, "last_activity_date": 1448354921, "last_edit_date": 1448354921, "creation_date": 1448316203, "answer_id": 33881561, "question_id": 33875982, "link": "https://stackoverflow.com/questions/33875982/getting-value-of-a-hash-in-perl-mason/33881561#33881561", "title": "Getting value of a HASH in Perl Mason", "body": "<p>To get the content of <code>$result</code>, you have to:</p>\n\n<pre><code>print $result-&gt;{success};\n</code></pre>\n\n<p>and then print <code>error</code>, but please note that <code>error</code> is a nested hash and if you try to print its value:</p>\n\n<pre><code>print $result-&gt;{error};\n</code></pre>\n\n<p>you will still get something like <code>HASH(...)</code> (you'll have to print the <code>{errorType}</code> element of the <code>{error}</code> element).</p>\n\n<p>Back to your problem. You say you want to pass this parameter to your redirect request. How do you want to implement your redirect request?</p>\n\n<p><strong>Using $m->redirect() method</strong></p>\n\n<p>If you are using <code>$m-&gt;redirect()</code> I would suggest you to change your <code>$result</code> to a simpler structure like this:</p>\n\n<pre><code>% my $result = {\n%   success =&gt; 0,\n%   errorType =&gt; 'SHIRT_ERROR',\n% };\n% $m-&gt;redirect( make_uri('error_handler', $result), 302);\n</code></pre>\n\n<p>this will make a uri like this one:</p>\n\n<pre><code>/error_handler?errorType=SHIRT_ERROR&amp;success=0\n</code></pre>\n\n<p>and the redirect method will redirect to it. Your <code>error_handerl.mc</code> then could contain something like this:</p>\n\n<pre><code>&lt;%class&gt;\n  has 'success';\n  has 'errorType';\n&lt;/%class&gt;\n&lt;%init&gt;\n  if ($.success eq \"0\") {\n    print $.errorType;\n  }\n&lt;/%init&gt;\n</code></pre>\n\n<p><strong>Using JSON on $m->redirect()</strong></p>\n\n<p>It looks like Mason doesn't support a query string like <code>success=0&amp;error[errorType]=...</code></p>\n\n<p>The only alternative I can think of is to serialize the request with JSON like this:</p>\n\n<p><strong>component.mc</strong></p>\n\n<pre><code>&lt;%init&gt;\nuse JSON;\n\nmy $result;\n$result-&gt;{success} = 0;\n$result-&gt;{error} = {errorType =&gt; \"SHIRT_ERROR\"};\n\nmy $h = {\n  result =&gt; encode_json $result\n};\n\n$m-&gt;redirect(make_uri('/error_handler', $h), 302);\n&lt;/%init&gt;\n</code></pre>\n\n<p><strong>error_handler.mc</strong></p>\n\n<pre><code>&lt;%class&gt;\n  has 'result';\n&lt;/%class&gt;\n&lt;%init&gt;\n  use JSON;\n\n  my $result = decode_json $.result;\n\n  print dh $result;\n&lt;/%init&gt;\n</code></pre>\n\n<p>the first component will redirect to a url like this:</p>\n\n<pre><code>http://localhost:5000/error_handler?result=%7B%22success%22%3A0%2C%22error%22%3A%7B%22errorType%22%3A%22SHIRT_ERROR%22%7D%7D\n</code></pre>\n\n<p>I don't find it too elegant, but it works.</p>\n"}], "owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 0, "accepted_answer_id": 33881561, "answer_count": 3, "score": 0, "last_activity_date": 1448354921, "creation_date": 1448296496, "last_edit_date": 1448340775, "question_id": 33875982, "link": "https://stackoverflow.com/questions/33875982/getting-value-of-a-hash-in-perl-mason", "title": "Getting value of a HASH in Perl Mason", "body": "<p>I have an object which looks like this</p>\n\n<pre><code>my $result;\n$result-&gt;{success} = 0;\n$result-&gt;{error} = {errorType =&gt; \"SHIT_ERROR\"};\n</code></pre>\n\n<p>When I try to print it using</p>\n\n<pre><code>print \"result \".\\$result;\n</code></pre>\n\n<p>It prints</p>\n\n<blockquote>\n  <p>HASH(0xc191a768)</p>\n</blockquote>\n\n<p>How can I actually get its content ?</p>\n\n<p>At the end of the day, I want to pass this as parameter to my redirect request. Just to add more details to it. @dev-null suggested how to pass it on as json but I want to pass it like - success=0&amp;error[errorType]=.....  Kindly suggest how can that be achieved. </p>\n"}, {"tags": ["html", "perl", "mojolicious"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448282333, "post_id": 33869074, "comment_id": 55505946, "body": "If the <code>$filepath</code> contains a slash <code>&#47;</code> the routing will get confused, because it expects a single argument. Try using the <i>filename</i> without the full path (you shouldn&#39;t expose that anyway). It should look something like <code>http:&#47;&#47;example.org&#47;download&#47;myfile.txt</code> where <code>myfile.txt</code> is the <i>filename</i>. Compare to the route <code>&#47;product&#47;:id&#47;details</code> where the <code>$id</code> is also not allowed to have a slash as that makes the route matching break. (This is an edjucated guess as I&#39;m not familiar enough with Mojo but if it works I&#39;ll write it up as an answer.)"}], "answers": [{"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1448288670, "post_id": 33872466, "comment_id": 55510144, "body": "and how to get in <code>sub</code> means in <code>sub download{$self-&gt;param(&#39;here what should i put&#39;)}</code>"}, {"owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1448290336, "post_id": 33872466, "comment_id": 55511290, "body": "@AruneshSingh <code>$self-&gt;param(&#39;file&#39;)</code>."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1448342445, "post_id": 33872466, "comment_id": 55535907, "body": "It is taking the path as whole <code>&#47;download&#47;file&#47;path&#47;foo.txt</code> but I wanted only <code>&#47;file&#47;path&#47;foo.txt</code>. should I remove it using <code>regex</code> or any other idea"}, {"owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1448371611, "post_id": 33872466, "comment_id": 55552499, "body": "@AruneshSingh No, <code>$self-&gt;param(&#39;file&#39;)</code> should return <code>file&#47;path&#47;foo.txt</code> for <code>&#47;download&#47;file&#47;path&#47;foo.txt</code> request."}], "tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": false, "score": 1, "last_activity_date": 1448285848, "creation_date": 1448285848, "answer_id": 33872466, "question_id": 33869074, "link": "https://stackoverflow.com/questions/33869074/handling-anchor-tag-in-mojolicious/33872466#33872466", "title": "Handling anchor tag in mojolicious", "body": "<p>You need to use <a href=\"http://metacpan.org/pod/distribution/Mojolicious/lib/Mojolicious/Guides/Routing.pod#Wildcard-placeholders\" rel=\"nofollow\">wildcard placeholders</a>:</p>\n\n<pre><code>$r-&gt;get('/download/*file')-&gt;to('example#download');\n</code></pre>\n"}], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1448285848, "creation_date": 1448275395, "question_id": 33869074, "link": "https://stackoverflow.com/questions/33869074/handling-anchor-tag-in-mojolicious", "title": "Handling anchor tag in mojolicious", "body": "<p>I am trying to upload a file using mojolicious and then after some altering, I want to download the same file. File Upload part is Ok.But I am unsure how to handle routes for downloading the file.</p>\n\n<p><code>Controller</code>:</p>\n\n<pre><code>sub upload{\n    my $self=shift;\n    my $upload=$self-&gt;param('fileName');\n    my $file_name=$upload-&gt;filename;\n    $self-&gt;render(file=&gt;\"$file_name\",\n                  filepath=&gt;$filepath\n          );\n  }\n</code></pre>\n\n<p>I have this in template <code>upload.html.ep</code>.</p>\n\n<pre><code>&lt;body&gt;\nSuccessfully uploaded file: &lt;%=$file%&gt;&lt;br/&gt;\n&lt;a href=\"download/&lt;%= $filepath %&gt;\" class=\"button\"&gt;\n  Download!\n&lt;/a&gt;\n</code></pre>\n\n<p>Now <code>a href</code> is generated here as <code>a href=download/file/path/foo.txt</code>. How to handle route for this path?</p>\n\n<pre><code>my $r = $self-&gt;routes;\n# Normal route to controller\n$r-&gt;get('/')-&gt;to('example#welcome');    \n$r-&gt;post('/upload')-&gt;to('example#upload'); #working well \n\n$r-&gt;get('/download/:file')-&gt;to('example#download'); # not working \n</code></pre>\n\n<p>I am getting error as: </p>\n\n<pre><code>None of these routes could generate a response for your GET request for \n/download/file/path/foo.txt.\n</code></pre>\n\n<p>I thought place-holders works this way.</p>\n"}, {"tags": ["java", "xml", "perl", "ant", "xmltask"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1448278149, "post_id": 33868359, "comment_id": 55503172, "body": "Please show the code that you are having problems with"}, {"owner": {"reputation": 230, "user_id": 1239790, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/slKrM.jpg?s=128&g=1", "display_name": "Hmnshu", "link": "https://stackoverflow.com/users/1239790/hmnshu"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448281638, "post_id": 33868359, "comment_id": 55505465, "body": "i am unable to post code. Do you know how to handle - tag not found with this ant xmltask code: &lt;call path=&quot;a/b/c&quot;&gt;   &lt;actions&gt;     &lt;echo&gt;Found a node under a/b/c&lt;/echo&gt;   &lt;/actions&gt; &lt;/call&gt;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448287712, "post_id": 33868359, "comment_id": 55509527, "body": "Why are you unable to post your code?"}], "answers": [{"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 1, "last_activity_date": 1448289073, "creation_date": 1448289073, "answer_id": 33873495, "question_id": 33868359, "link": "https://stackoverflow.com/questions/33868359/add-remove-update-entry-between-two-xml-file-either-using-ant-xmltask-or-using-p/33873495#33873495", "title": "Add/Remove/update entry between two xml file either using Ant xmltask or using perl scripting", "body": "<p>Using <a href=\"http://manpages.ubuntu.com/manpages/trusty/en/man1/xmlstarlet.1.html\" rel=\"nofollow\"><code>xmlstarlet</code></a> you would write</p>\n\n<pre><code>xmlstarlet ed \\\n    -u '//App[@ID=\"id1\"]/config[@key=\"Format\"]/@value' -v \"DOC\" \\\n    -u '//App[@ID=\"id2\"]/config[@key=\"Logging\"]/@value' -v \"yes\" \\\n    -d '//App[@ID=\"id2\"]/config[@key=\"ExtraLogging\"]' \\\n        input.xml &gt; output.xml\n</code></pre>\n"}], "owner": {"reputation": 230, "user_id": 1239790, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/slKrM.jpg?s=128&g=1", "display_name": "Hmnshu", "link": "https://stackoverflow.com/users/1239790/hmnshu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 33873495, "answer_count": 1, "score": -1, "last_activity_date": 1448289073, "creation_date": 1448273435, "question_id": 33868359, "link": "https://stackoverflow.com/questions/33868359/add-remove-update-entry-between-two-xml-file-either-using-ant-xmltask-or-using-p", "title": "Add/Remove/update entry between two xml file either using Ant xmltask or using perl scripting", "body": "<p>Here is first xml file input.xml,</p>\n\n<p><strong>input.xml</strong>:</p>\n\n<pre><code>&lt;Mapping&gt;\n        &lt;Common&gt;\n            &lt;Apps&gt;\n                &lt;App ID = \"id1\"&gt;\n                &lt;config key = \"Format\" value = \"PDF\"/&gt;\n                &lt;/App&gt;\n                &lt;App ID = \"id2\"&gt;\n                &lt;config key = \"Logging\" value = \"no\"/&gt;\n                &lt;config key = \"ExtraLogging\" value = \"no\"/&gt;\n                &lt;/App&gt;\n            &lt;/Apps&gt;\n\n            &lt;All&gt;\n            &lt;config key=\"log1\" value=\"N\"/&gt;\n            &lt;/All&gt;\n        &lt;/Common&gt;\n&lt;/Mapping&gt;\n</code></pre>\n\n<p>Need to read from input.xml and Add/Remove/update respective entry in output.xml.</p>\n\n<p><strong>output.xml:</strong></p>\n\n<pre><code>    &lt;Mapping&gt;\n            &lt;Common&gt;\n                &lt;Apps&gt;\n                    &lt;App ID = \"id1\"&gt;\n                    &lt;config key = \"Format\" value = \"DOC\"/&gt;\n                    &lt;/App&gt;\n                    &lt;App ID = \"id2\"&gt;\n                    &lt;config key = \"Logging\" value = \"yes\"/&gt;\n                    &lt;/App&gt;\n                &lt;/Apps&gt;\n\n                &lt;All&gt;\n                &lt;config key=\"log1\" value=\"N\"/&gt;\n                &lt;/All&gt;\n            &lt;/Common&gt;\n    &lt;/Mapping&gt;\n</code></pre>\n"}, {"tags": ["perl", "cpan", "libpcap"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 4, "creation_date": 1448269078, "post_id": 33866763, "comment_id": 55497620, "body": "Why not simply use libnet-pcap-perl which is available from the repositories?"}, {"owner": {"reputation": 1814, "user_id": 5006469, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7b557baad76e9fca74ff4d0d1aac568a?s=128&d=identicon&r=PG&f=1", "display_name": "rdupz", "link": "https://stackoverflow.com/users/5006469/rdupz"}, "edited": false, "score": 0, "creation_date": 1448272402, "post_id": 33866763, "comment_id": 55499609, "body": "Totally miss this package ; exactly what I needed, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 1814, "user_id": 5006469, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7b557baad76e9fca74ff4d0d1aac568a?s=128&d=identicon&r=PG&f=1", "display_name": "rdupz", "link": "https://stackoverflow.com/users/5006469/rdupz"}, "is_accepted": true, "score": 1, "last_activity_date": 1448272581, "creation_date": 1448272581, "answer_id": 33868067, "question_id": 33866763, "link": "https://stackoverflow.com/questions/33866763/cpan-cant-install-net-pcap-pm/33868067#33868067", "title": "CPAN : Can&#39;t install Net/Pcap.pm", "body": "<p>As @Steffen Ullrich has suggested, I solve my problem with libnet-pcap-perl.</p>\n"}], "owner": {"reputation": 1814, "user_id": 5006469, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7b557baad76e9fca74ff4d0d1aac568a?s=128&d=identicon&r=PG&f=1", "display_name": "rdupz", "link": "https://stackoverflow.com/users/5006469/rdupz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1197, "favorite_count": 0, "closed_date": 1449352657, "accepted_answer_id": 33868067, "answer_count": 1, "score": 0, "last_activity_date": 1448272581, "creation_date": 1448268372, "question_id": 33866763, "link": "https://stackoverflow.com/questions/33866763/cpan-cant-install-net-pcap-pm", "closed_reason": "Duplicate", "title": "CPAN : Can&#39;t install Net/Pcap.pm", "body": "<p>On Linux Xubuntu 14.04.3 (3.19.0-25 generic).</p>\n\n<pre><code>cpan &gt; install Net::Pcap\n...\nCPAN.pm : Building S/SA/SAPER/Net-Pcap-0.17.tar.gz\nlooking for -lpcap... no\nYou appear to lack the pcap(3) library\n...\n</code></pre>\n\n<p>Then I tried this</p>\n\n<pre><code>$ cd /home/user/.cpan/build/Net-Pcap-0.17-hash\n$ perl Makefile.PL INC=-I/usr/include/pcap LIBS='-L/usr/lib/i386-linux-gnu/libpcap.so -lpcap'\nlooking for -lpcap... no\n - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n You appear to lack the pcap(3) library. \n\n If it is installed in a non-standard location, please try setting the LIBS \n and INC values on the command line.\n\n Or get the sources and install the pcap library from http://www.tcpdump.org/\n\n If you install the pcap library using a system package, make sure to also \n install the corresponding -devel package, which contains the C headers needed to compile this module. \n - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n</code></pre>\n\n<p>To complete the question here is the libs</p>\n\n<pre><code># dpkg -L libpcap0.8-dev\n...\n/usr/include/pcap-bpf.h\n/usr/include/pcap\n/usr/include/pcap/usb.h\n/usr/include/pcap/namedb.h\n/usr/include/pcap/bpf.h\n/usr/include/pcap/pcap.h\n/usr/include/pcap/bluetooth.h\n/usr/include/pcap/sll.h\n/usr/include/pcap/ipnet.h\n/usr/include/pcap/vlan.h\n/usr/include/pcap.h\n/usr/include/pcap-namedb.h\n/usr/lib/i386-linux-gnu/libpcap.a\n/usr/lib/i386-linux-gnu/libpcap.so\n...\n</code></pre>\n\n<p>Please note that wireshark runs fine in this clean VM.</p>\n\n<p>So what's wrong ? Is the package deprecated ?</p>\n"}, {"tags": ["regex", "perl", "awk", "sed", "tr"], "answers": [{"tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 6, "last_activity_date": 1448263954, "creation_date": 1448263954, "answer_id": 33865756, "question_id": 33865590, "link": "https://stackoverflow.com/questions/33865590/how-to-replace-paired-tokens-with-possible-newlines-inside/33865756#33865756", "title": "How to replace paired tokens with possible newlines inside?", "body": "<p>Using a perl one-liner and the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\">flip-flop operator</a>:</p>\n\n<pre><code>perl -pe 's/\\$/\\\\(/ .. s/\\$/\\\\)/' test.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 2, "last_activity_date": 1448264137, "creation_date": 1448264137, "answer_id": 33865795, "question_id": 33865590, "link": "https://stackoverflow.com/questions/33865590/how-to-replace-paired-tokens-with-possible-newlines-inside/33865795#33865795", "title": "How to replace paired tokens with possible newlines inside?", "body": "<p>Using gnu-awk:</p>\n\n<pre><code>awk -v RS='\\\\$[^$]*\\\\$' 'RT{sub(/\\$/, \"\\\\(\", RT); sub(/\\$/, \"\\\\)\\n\", RT); print RT}' file\n\\(foobar\\)\n\n\\(\nfoobar\n\\)\n\n\\(\nfoobar\\)\n\n\\(foobar\n\\)\n\n\\(\nfoo\nbar\n\\)\n\n\\(\nfoo\nbar\\)\n\n\\(foo\nbar\n\\)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1406, "user_id": 3958549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jx4XS.jpg?s=128&g=1", "display_name": "bian", "link": "https://stackoverflow.com/users/3958549/bian"}, "is_accepted": false, "score": 1, "last_activity_date": 1448264484, "creation_date": 1448264484, "answer_id": 33865863, "question_id": 33865590, "link": "https://stackoverflow.com/questions/33865590/how-to-replace-paired-tokens-with-possible-newlines-inside/33865863#33865863", "title": "How to replace paired tokens with possible newlines inside?", "body": "<pre><code> awk '{ while(/\\$/) sub(\"\\\\$\", ++c%2 ? \"\\\\(\" : \"\\\\)\" ) }1'  file\n</code></pre>\n"}], "owner": {"reputation": 380, "user_id": 1682470, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/kTgtJ.png?s=128&g=1", "display_name": "Denis Bitouz&#233;", "link": "https://stackoverflow.com/users/1682470/denis-bitouz%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 33865756, "answer_count": 3, "score": 1, "last_activity_date": 1448264517, "creation_date": 1448263247, "last_edit_date": 1448264517, "question_id": 33865590, "link": "https://stackoverflow.com/questions/33865590/how-to-replace-paired-tokens-with-possible-newlines-inside", "title": "How to replace paired tokens with possible newlines inside?", "body": "<p>Suppose I have a file, <code>test.txt</code>, containing:</p>\n\n<pre><code>$foobar$\n\n$\nfoobar\n$\n\n$\nfoobar$\n\n$foobar\n$\n\n$\nfoo\nbar\n$\n\n$\nfoo\nbar$\n\n$foo\nbar\n$\n</code></pre>\n\n<p>I'd like each pair <code>$...$</code> to be replaced by <code>\\(...\\)</code>, the <code>...</code> possibly containing new lines. <strong>Edit:</strong> More precisely, I expect the following replacement:</p>\n\n<pre><code>\\(foobar\\)\n\n\\(\nfoobar\n\\)\n\n\\(\nfoobar\\)\n\n\\(foobar\n\\)\n\n\\(\nfoo\nbar\n\\)\n\n\\(\nfoo\nbar\\)\n\n\\(foo\nbar\n\\)\n</code></pre>\n\n<p>The following <code>sed</code> instruction:</p>\n\n<pre><code>sed -e 's/\\$\\([^]]*\\)\\$/\\\\(\\1\\\\)/g' test.txt\n</code></pre>\n\n<p>does the job only if there isn't any new line.</p>\n\n<p>Another possibility is to make use of two passes:</p>\n\n<ol>\n<li>the 1st one replacing one <code>$</code> out of two by <code>\\(</code></li>\n<li>the 2nd one replacing all the remaining <code>$</code> by <code>\\)</code></li>\n</ol>\n\n<p>but I don't know how to tell \u201cone out of two\u201d.</p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1448262907, "post_id": 33865443, "comment_id": 55494853, "body": "Did you try to print $days? Are you getting any output?"}, {"owner": {"reputation": 9, "user_id": 5594030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JbCGO.jpg?s=128&g=1", "display_name": "Mason McCalister", "link": "https://stackoverflow.com/users/5594030/mason-mccalister"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1448263908, "post_id": 33865443, "comment_id": 55495247, "body": "I added     print &quot;$days\\n&quot;; and it ran fine while using perl logint command, however when I try running perl -w logint &gt; logintime.html it stil had the same error"}, {"owner": {"reputation": 1468, "user_id": 2447495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3e8812f312e40a722f7f6816e1ba19?s=128&d=identicon&r=PG", "display_name": "Kadir", "link": "https://stackoverflow.com/users/2447495/kadir"}, "edited": false, "score": 1, "creation_date": 1448264097, "post_id": 33865443, "comment_id": 55495344, "body": "You should be looking for the place where the variable <code>$days</code> got the assignment. In this case <code>&lt;LAST&gt; line 3</code>."}, {"owner": {"reputation": 9, "user_id": 5594030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JbCGO.jpg?s=128&g=1", "display_name": "Mason McCalister", "link": "https://stackoverflow.com/users/5594030/mason-mccalister"}, "edited": false, "score": 0, "creation_date": 1448264100, "post_id": 33865443, "comment_id": 55495345, "body": "Is there another way to output the perl results to a file? I was guessing that&#39;s what is going wrong."}, {"owner": {"reputation": 9, "user_id": 5594030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JbCGO.jpg?s=128&g=1", "display_name": "Mason McCalister", "link": "https://stackoverflow.com/users/5594030/mason-mccalister"}, "edited": false, "score": 0, "creation_date": 1448264435, "post_id": 33865443, "comment_id": 55495500, "body": "I don&#39;t know if this helps but I only want it to store what it outputs from     print &quot;$_ $TIMES{$_}\\n&quot;; into the html file"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1448264777, "post_id": 33865443, "comment_id": 55495658, "body": "<i>Always</i> <code>use strict; use warnings;</code>!"}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1448265105, "post_id": 33865443, "comment_id": 55495819, "body": "&quot;Use of uninitialized...&quot; is a warning, not error."}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1448265224, "post_id": 33865443, "comment_id": 55495872, "body": "There&#39;s nothing wrong with outputting to file. Something else must be broken. Try running <code>perl -w logint</code> and see if right output is printed on screen."}, {"owner": {"reputation": 9, "user_id": 5594030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JbCGO.jpg?s=128&g=1", "display_name": "Mason McCalister", "link": "https://stackoverflow.com/users/5594030/mason-mccalister"}, "edited": false, "score": 0, "creation_date": 1448265893, "post_id": 33865443, "comment_id": 55496131, "body": "Oh wow I&#39;m silly -w makes it show the warnings. I just looked up how to output a perl script using bash, and added that to my code. I just assumed that -w was needed to output to a file, and didn&#39;t look up what w did in the man pages. Thanks for the help everyone."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448273061, "post_id": 33865443, "comment_id": 55500073, "body": "You must <i>always</i> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> (in preference to <code>-w</code> on the command line) at the top of <i>every</i> Perl program, and <i>fix</i> all the messages you get."}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 5102552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1213688185324421/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/5102552/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1448273679, "creation_date": 1448273679, "answer_id": 33868432, "question_id": 33865443, "link": "https://stackoverflow.com/questions/33865443/output-perl-results-into-file/33868432#33868432", "title": "Output perl results into file", "body": "<p>This is just a warning, it's not an error. You're seeing it when you run that command because '-w' is the warnings pragma. </p>\n\n<p>You could also put it at the end of your shebang </p>\n\n<pre><code>    #!/usr/bin/perl -w\n</code></pre>\n\n<p>Or 'use warnings;'. Anyway, the warning is just saying it doesn't have a value. It looks like you're reading the last log to see who last logged in, the output can be different depending on what OS you're on. I would confirm it's working as expected and getting the correct values.</p>\n\n<p>It's also best practice to use 'use strict;'.</p>\n"}], "owner": {"reputation": 9, "user_id": 5594030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JbCGO.jpg?s=128&g=1", "display_name": "Mason McCalister", "link": "https://stackoverflow.com/users/5594030/mason-mccalister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448273679, "creation_date": 1448262657, "question_id": 33865443, "link": "https://stackoverflow.com/questions/33865443/output-perl-results-into-file", "title": "Output perl results into file", "body": "<p>I have a perl script that works fine when I run it using perl filename, however when I use the command </p>\n\n<pre><code>perl -w logint &gt; logintime.html\n</code></pre>\n\n<p>I get this error</p>\n\n<pre><code>Use of uninitialized value $days in multiplication (*) at logint line 5, &lt;LAST&gt; line 3.\n</code></pre>\n\n<p>It repeats this from line 3-47</p>\n\n<p>This is the perl code</p>\n\n<pre><code>#!/usr/bin/perl\nopen LAST, \"last |\";\nwhile (&lt;LAST&gt;) {\n    if (($name,$days,$hours,$mins) = /^(\\w+).+\\((?:(\\d+)\\+)?(\\d+):(\\d+)/) {\n        $TIMES{$name} += 1440 * $days + 60 * $hours + $mins;\n    }\n}\nforeach (sort keys %TIMES) {\n    print \"$_ $TIMES{$_}\\n\";\n}\n</code></pre>\n\n<p>This is how I'm attempting to output it.</p>\n\n<pre><code>#!/bin/bash\necho $HDR &gt; ~/public_html/logintime.html\nperl -w logint &gt; logintime.html\necho $FTR &gt;&gt; ~/public_html/logintime.html\n</code></pre>\n"}, {"tags": ["perl", "data-dumper"], "comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 1, "creation_date": 1448262218, "post_id": 33865319, "comment_id": 55494606, "body": "Related: <a href=\"http://stackoverflow.com/questions/11261854/is-there-a-less-verbose-alternative-to-perls-datadumper?rq=1\" title=\"is there a less verbose alternative to perls datadumper\">stackoverflow.com/questions/11261854/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 4, "creation_date": 1448264039, "post_id": 33865412, "comment_id": 55495317, "body": "It&#39;s worth noting that <code>Data::Dumper</code> is a core module whereas <code>Data::Dump</code> is not."}, {"owner": {"reputation": 85, "user_id": 1000559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da07b8ca60d459499ad151daa4846e05?s=128&d=identicon&r=PG", "display_name": "roland.minner", "link": "https://stackoverflow.com/users/1000559/roland-minner"}, "edited": false, "score": 8, "creation_date": 1448284974, "post_id": 33865412, "comment_id": 55507703, "body": "Because stackoverflow seems to be a rather hostile environment (at least in the perl area). There seem to be quite a few people running around primarily casting downvotes and rarely ever casting an upvote. If something is not considered to be the &quot;perfect&quot; answer by them, they will strike you down with a righteous downvote. No matter that you put your time into writing a friendly answer trying to help the person. In my opinion perlmonks is the better forum if you have a Perl question. The tone is usually more civil than in Stackoverflow."}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "edited": false, "score": 1, "creation_date": 1448287686, "post_id": 33865412, "comment_id": 55509514, "body": "Thanks @serenesat for the explanation :)"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 11, "last_activity_date": 1448262461, "last_edit_date": 1592644375, "creation_date": 1448262461, "answer_id": 33865412, "question_id": 33865319, "link": "https://stackoverflow.com/questions/33865319/what-is-difference-between-datadump-and-datadumper-modules-in-perl/33865412#33865412", "title": "What is difference between Data::Dump and Data::Dumper modules in Perl?", "body": "<p>From <a href=\"http://search.cpan.org/%7Egaas/Data-Dump-1.23/lib/Data/Dump.pm#HISTORY\" rel=\"noreferrer\">Data::Dump</a> doc:</p>\n<blockquote>\n<p>The Data::Dump module grew out of frustration with Sarathy's in-most-cases-excellent Data::Dumper. Basic ideas and some code are shared with Sarathy's module.</p>\n<p>The Data::Dump module provides a much simpler interface than Data::Dumper. No OO interface is available and there are fewer configuration options to worry about. The other benefit is that the dump produced does not try to set any variables. It only returns what is needed to produce a copy of the arguments. This means that dump(&quot;foo&quot;) simply returns '&quot;foo&quot;', and dump(1..3) simply returns '(1, 2, 3)'.</p>\n</blockquote>\n"}], "owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1208, "favorite_count": 0, "accepted_answer_id": 33865412, "answer_count": 1, "score": 6, "last_activity_date": 1448290063, "creation_date": 1448262062, "last_edit_date": 1448290063, "question_id": 33865319, "link": "https://stackoverflow.com/questions/33865319/what-is-difference-between-datadump-and-datadumper-modules-in-perl", "title": "What is difference between Data::Dump and Data::Dumper modules in Perl?", "body": "<p>I have been using <code>Data::Dumper</code> for long times. While searching on google, I found one more similar module <code>Data::Dump</code>.</p>\n\n<p>Can anyone let me know, what are the major differences between the subroutines provided by them?</p>\n"}, {"tags": ["perl", "tk", "perltk"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1448270285, "post_id": 33863722, "comment_id": 55498285, "body": "you need to give at least as a minimum, code which stack users can take to run and replicate the problem."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1448302721, "post_id": 33863722, "comment_id": 55519546, "body": "Yes. As Chris alluded to above, please provide entire Perl/Tk code -- or at least some that is runable -- so we can assist you.  For example, $symptomFrame is undefined above so we can&#39;t really run what you provided us.  Thanks."}, {"owner": {"reputation": 3, "user_id": 5593659, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206948651088396/picture?type=large", "display_name": "Deepak Mahajan", "link": "https://stackoverflow.com/users/5593659/deepak-mahajan"}, "edited": false, "score": 0, "creation_date": 1448311784, "post_id": 33863722, "comment_id": 55525119, "body": "Hi, I have updated the code. Please have a look."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5593659, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206948651088396/picture?type=large", "display_name": "Deepak Mahajan", "link": "https://stackoverflow.com/users/5593659/deepak-mahajan"}, "edited": false, "score": 0, "creation_date": 1448823203, "post_id": 33886218, "comment_id": 55728798, "body": "Thank you @srvsh, that helped. I am stuck on another problem now. I am trying to pass the -variable field in a function. In a drop down I have -variable =&gt; \\$fever and I also have -command =&gt; [\\&amp;show_choice, \\$fever].. I am trying to print the value of the drop down option selected. But what I get is something like SCALAR(0X765...). How do I get the displayed value ? I tried using -textVariable instead of variable but that works the same way.."}], "tags": [], "owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "is_accepted": true, "score": 1, "last_activity_date": 1448343649, "creation_date": 1448343649, "answer_id": 33886218, "question_id": 33863722, "link": "https://stackoverflow.com/questions/33863722/using-multiple-option-menus-in-perl-tk/33886218#33886218", "title": "Using multiple Option menus in Perl/Tk", "body": "<p>When an option is selected in an <code>Optionmenu</code> widget, it updates the scalar referenced in the <code>-textvariable</code> widget option. Also, when that scalar is modified, the widget <a href=\"https://metacpan.org/pod/Tk::options#Name:-textVariable\" rel=\"nofollow\">shows the modified text automatically</a>.</p>\n\n<p>In the code, all the <code>Optionmenu</code> widgets have been passed a reference to the same scalar (<code>$severityText</code>) and as a result, all of them always end up showing the same text. To fix this, you may create a new variable for  <code>-textvariable</code> of each widget, but you can get away with not using the option at all.</p>\n\n<pre><code>my $coughSeverity;\nmy $coughSeverityDD = $symptomFrame-&gt;Optionmenu(\n    -options =&gt; [ 1..10 ],      # you can omit the labels if they are the same as the values\n    -variable =&gt; \\$coughSeverity,\n);\n</code></pre>\n\n<p>Although not related to the question, you should consider creating a new composite widget that contains the widgets for a symptom. That'll make it easier to add new symptoms or change the appearance of the all the symptom widgets easily. See <a href=\"http://mkweb.bcgsc.ca/intranet/perlbook/tk/ch14_01.htm\" rel=\"nofollow\">here</a> for some documentation on that.</p>\n"}], "owner": {"reputation": 3, "user_id": 5593659, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206948651088396/picture?type=large", "display_name": "Deepak Mahajan", "link": "https://stackoverflow.com/users/5593659/deepak-mahajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 33886218, "answer_count": 1, "score": 0, "last_activity_date": 1448343649, "creation_date": 1448252824, "last_edit_date": 1448311688, "question_id": 33863722, "link": "https://stackoverflow.com/questions/33863722/using-multiple-option-menus-in-perl-tk", "title": "Using multiple Option menus in Perl/Tk", "body": "<p>I am completely new to Perl/Tk and trying to make an app that needs multiple drop down menus. I am using option menus for that. But when I change the value of one option menu while running, the value for all the drop downs change to this value. Please help in this. This is the code:</p>\n\n<pre><code>    #!/usr/bin/perl\nuse warnings;\nuse Tk;\n\nmy $mw = MainWindow-&gt;new;\n$mw-&gt;geometry(\"700x700\");\n$mw-&gt;title(\"AIR (Auto Immune Research)\");\n\n#create own title font\n$mw-&gt;fontCreate(\"sectionTitleFont\", -family =&gt; \"Helvetica\", -size =&gt; 36, -weight =&gt; \"bold\");\n\nmy $symptomFrame = $mw-&gt;Frame(-background =&gt; 'white', -foreground =&gt; 'black')-&gt;pack(-side =&gt; \"top\", -fill =&gt; \"x\");\nmy $pathologyFrame = $mw-&gt;Frame(-background =&gt; 'white', -foreground =&gt; 'black')-&gt;pack(-side =&gt; \"bottom\", -fill =&gt; \"x\");\n\nmy $symptomLabel = $symptomFrame-&gt;Label(-background =&gt; 'white', -text =&gt; 'Patient Symptoms', -font =&gt; 'sectionTitleFont');\nmy $pathologyLabel = $pathologyFrame-&gt;Label(-background =&gt; 'white', -text =&gt; 'Pathological Findings', -font =&gt; 'sectionTitleFont');\n\nmy $severityText = $symptomFrame-&gt;Label(-background =&gt; 'white', -text =&gt; 'Severity on a scale of 1 to 10');\n\n#cough\nmy $coughCheckBox = $symptomFrame-&gt;Checkbutton(-text =&gt; 'Cough', -background =&gt; 'white');\nmy $coughSeverity;\nmy $coughSeverityDD = $symptomFrame-&gt;Optionmenu(\n-options =&gt; [[1=&gt;1], [2=&gt;2], [3=&gt;3], [4=&gt;4], [5=&gt;5], [6=&gt;6], [7=&gt;7], [8=&gt;8], [9=&gt;9], [10=&gt;10]],\n-variable =&gt; \\$coughSeverity,\n-textvariable =&gt; \\$severityText\n);\n\n#Fever\nmy $feverCheckBox = $symptomFrame-&gt;Checkbutton(-text =&gt; 'Fever', -background =&gt; 'white');\nmy $feverSeverity;\nmy $feverSeverityDD = $symptomFrame-&gt;Optionmenu(\n-options =&gt; [[1=&gt;1], [2=&gt;2], [3=&gt;3], [4=&gt;4], [5=&gt;5], [6=&gt;6], [7=&gt;7], [8=&gt;8], [9=&gt;9], [10=&gt;10]],\n-variable =&gt; \\$feverSeverity,\n-textvariable =&gt; \\$severityText\n);\n\n#joint pain\nmy $jointPainCheckBox = $symptomFrame-&gt;Checkbutton(-text =&gt; 'Joint Pain', -background =&gt; 'white');\nmy $jointPainSeverity;\nmy $jointPainSeverityDD = $symptomFrame-&gt;Optionmenu(\n-options =&gt; [[1=&gt;1], [2=&gt;2], [3=&gt;3], [4=&gt;4], [5=&gt;5], [6=&gt;6], [7=&gt;7], [8=&gt;8], [9=&gt;9], [10=&gt;10]],\n-variable =&gt; \\$jointPainSeverity,\n-textvariable =&gt; \\$severityText\n);\n\n#Moon face\nmy $moonFaceCheckBox = $symptomFrame-&gt;Checkbutton(-text =&gt; 'Moon Face', -background =&gt; 'white');\nmy $moonFaceSeverity;\nmy $moonFaceSeverityDD = $symptomFrame-&gt;Optionmenu(\n-options =&gt; [[1=&gt;1], [2=&gt;2], [3=&gt;3], [4=&gt;4], [5=&gt;5], [6=&gt;6], [7=&gt;7], [8=&gt;8], [9=&gt;9], [10=&gt;10]],\n-variable =&gt; \\$moonFaceSeverity,\n-textvariable =&gt; \\$severityText\n);\n\n#fatigue\nmy $fatigueBox = $symptomFrame-&gt;Checkbutton(-text =&gt; 'Fatigue', -background =&gt; 'white');\nmy $fatigueSeverity;\nmy $fatigueSeverityDD = $symptomFrame-&gt;Optionmenu(\n-options =&gt; [[1=&gt;1], [2=&gt;2], [3=&gt;3], [4=&gt;4], [5=&gt;5], [6=&gt;6], [7=&gt;7], [8=&gt;8], [9=&gt;9], [10=&gt;10]],\n-variable =&gt; \\$fatigueSeverity,\n-textvariable =&gt; \\$severityText\n);\n\n#Skin Redness\nmy $skinRednessBox = $symptomFrame-&gt;Checkbutton(-text =&gt; 'Skin Redness', -background =&gt; 'white');\nmy $skinRednessSeverity;\nmy $skinRednessSeverityDD = $symptomFrame-&gt;Optionmenu(\n-options =&gt; [[1=&gt;1], [2=&gt;2], [3=&gt;3], [4=&gt;4], [5=&gt;5], [6=&gt;6], [7=&gt;7], [8=&gt;8], [9=&gt;9], [10=&gt;10]],\n-variable =&gt; \\$skinRednessSeverity,\n-textvariable =&gt; \\$severityText\n);\n\n#Drowsiness\nmy $drowsinessBox = $symptomFrame-&gt;Checkbutton(-text =&gt; 'Drowsiness', -background =&gt; 'white');\nmy $drowsinessSeverity;\nmy $drowsinessSeverityDD = $symptomFrame-&gt;Optionmenu(\n-options =&gt; [[1=&gt;1], [2=&gt;2], [3=&gt;3], [4=&gt;4], [5=&gt;5], [6=&gt;6], [7=&gt;7], [8=&gt;8], [9=&gt;9], [10=&gt;10]],\n-variable =&gt; \\$drowsinessSeverity,\n-textvariable =&gt; \\$severityText\n);\n\n#Headache\nmy $headacheBox = $symptomFrame-&gt;Checkbutton(-text =&gt; 'Headache', -background =&gt; 'white');\nmy $headacheSeverity;\nmy $headacheSeverityDD = $symptomFrame-&gt;Optionmenu(\n-options =&gt; [[1=&gt;1], [2=&gt;2], [3=&gt;3], [4=&gt;4], [5=&gt;5], [6=&gt;6], [7=&gt;7], [8=&gt;8], [9=&gt;9], [10=&gt;10]],\n-variable =&gt; \\$headacheSeverity,\n-textvariable =&gt; \\$severityText\n);\n\n\n#Inflamations\nmy $inflamationsBox = $symptomFrame-&gt;Checkbutton(-text =&gt; 'Inflamations', -background =&gt; 'white');\nmy $inflamationsSeverity;\nmy $inflamationsSeverityDD = $symptomFrame-&gt;Optionmenu(\n-options =&gt; [[1=&gt;1], [2=&gt;2], [3=&gt;3], [4=&gt;4], [5=&gt;5], [6=&gt;6], [7=&gt;7], [8=&gt;8], [9=&gt;9], [10=&gt;10]],\n-variable =&gt; \\$inflamationsSeverity,\n-textvariable =&gt; \\$severityText\n);\n\n#Itchiness\nmy $itchinessBox = $symptomFrame-&gt;Checkbutton(-text =&gt; 'Itchiness', -background =&gt; 'white');\nmy $itchinessSeverity;\nmy $itchinessSeverityDD = $symptomFrame-&gt;Optionmenu(\n-options =&gt; [[1=&gt;1], [2=&gt;2], [3=&gt;3], [4=&gt;4], [5=&gt;5], [6=&gt;6], [7=&gt;7], [8=&gt;8], [9=&gt;9], [10=&gt;10]],\n-variable =&gt; \\$itchinessSeverity,\n-textvariable =&gt; \\$severityText\n);\n\n#Blood in Urine\nmy $bloodBox = $symptomFrame-&gt;Checkbutton(-text =&gt; 'Blood in Urine', -background =&gt; 'white');\nmy $bloodSeverity;\nmy $bloodSeverityDD = $symptomFrame-&gt;Optionmenu(\n-options =&gt; [[1=&gt;1], [2=&gt;2], [3=&gt;3], [4=&gt;4], [5=&gt;5], [6=&gt;6], [7=&gt;7], [8=&gt;8], [9=&gt;9], [10=&gt;10]],\n-variable =&gt; \\$bloodSeverity,\n-textvariable =&gt; \\$severityText\n);\n\n#Depression\nmy $depressionBox = $symptomFrame-&gt;Checkbutton(-text =&gt; 'Depression', -background =&gt; 'white');\nmy $depressionSeverity;\nmy $depressionSeverityDD = $symptomFrame-&gt;Optionmenu(\n-options =&gt; [[1=&gt;1], [2=&gt;2], [3=&gt;3], [4=&gt;4], [5=&gt;5], [6=&gt;6], [7=&gt;7], [8=&gt;8], [9=&gt;9], [10=&gt;10]],\n-variable =&gt; \\$depressionSeverity,\n-textvariable =&gt; \\$severityText\n);\n\n\n#emty label to give empty space\nmy $emptyLabel = $symptomFrame-&gt;Label(-background =&gt; 'white', -width =&gt; '20');\n$symptomLabel-&gt;grid(-columnspan =&gt; '5');\n$pathologyLabel-&gt;grid(-columnspan =&gt; '5');\n#$severityText-&gt;grid;\n$coughCheckBox -&gt; grid($coughSeverityDD, $emptyLabel, $feverCheckBox, $feverSeverityDD);\n$jointPainCheckBox -&gt; grid($moonFaceSeverityDD, $emptyLabel, $depressionBox, $depressionSeverityDD);\n$moonFaceCheckBox -&gt; grid($jointPainSeverityDD, $emptyLabel, $bloodBox, $bloodSeverityDD);\n\n\nMainLoop;\n</code></pre>\n"}, {"tags": ["xml", "perl", "parsing", "multi-level"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 3, "creation_date": 1448243534, "post_id": 33862290, "comment_id": 55489614, "body": "When people recommend against using XML::Simple it&#39;s because they have suffered pain and they know it will cause you pain. <a href=\"http://www.perlmonks.org/index.pl?node_id=490846\" rel=\"nofollow noreferrer\">Get off it</a> sooner rather than later :-)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1448299337, "post_id": 33862290, "comment_id": 55517413, "body": "<a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Why is XML::Simple &quot;discouraged&quot;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 5593187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96abc0624606da0580e16a762b9f95a?s=128&d=identicon&r=PG&f=1", "display_name": "bbboomer", "link": "https://stackoverflow.com/users/5593187/bbboomer"}, "edited": false, "score": 0, "creation_date": 1448243006, "post_id": 33862396, "comment_id": 55489509, "body": "Thank you Choroba. Solution is most humbling."}, {"owner": {"reputation": 7, "user_id": 5593187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96abc0624606da0580e16a762b9f95a?s=128&d=identicon&r=PG&f=1", "display_name": "bbboomer", "link": "https://stackoverflow.com/users/5593187/bbboomer"}, "edited": false, "score": 0, "creation_date": 1448243724, "post_id": 33862396, "comment_id": 55489645, "body": "why is it necessary to reference array [0]?  And what is the difference between &#39;for&#39; and &#39;foreach&#39; in this case?  I thought that between the &#39;foreach&#39; and @ that it picked up each item in the array created by XMLin?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 7, "user_id": 5593187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96abc0624606da0580e16a762b9f95a?s=128&d=identicon&r=PG&f=1", "display_name": "bbboomer", "link": "https://stackoverflow.com/users/5593187/bbboomer"}, "edited": false, "score": 0, "creation_date": 1448243954, "post_id": 33862396, "comment_id": 55489694, "body": "@bbboomer: <code>ForceArray</code> creates array references everywhere, so you have to use <code>[0]</code> to get their first element. <code>for</code> and <code>foreach</code> are the same command, but one can type <code>for</code> faster."}, {"owner": {"reputation": 7, "user_id": 5593187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96abc0624606da0580e16a762b9f95a?s=128&d=identicon&r=PG&f=1", "display_name": "bbboomer", "link": "https://stackoverflow.com/users/5593187/bbboomer"}, "edited": false, "score": 0, "creation_date": 1448244103, "post_id": 33862396, "comment_id": 55489724, "body": "Again, thank you for a quick response to my questions and resolution."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1448241731, "creation_date": 1448241731, "answer_id": 33862396, "question_id": 33862290, "link": "https://stackoverflow.com/questions/33862290/understanding-multi-level-xml-reference-using-perl-xml-parser/33862396#33862396", "title": "Understanding multi-level XML reference using Perl XML Parser?", "body": "<p>XML element names are case sensitive. Also, you have some syntax errors in the code.</p>\n\n<pre><code>my $xml = 'XML::Simple'-&gt;new(KeyAttr =&gt; [], ForceArray =&gt; 1);\nmy $data = $xml-&gt;XMLin(...);\n\nfor my $e (@{ $data-&gt;{event} }) {\n    print \"EventObject: \", $e-&gt;{EventObject}[0], \"\\n\";\n    print \"EventType: \", $e-&gt;{EventType}[0], \"\\n\";\n    print \"Operation: \", ref $e-&gt;{Operation}[0] ? '-empty-'\n                                                : $e-&gt;{Operation}[0], \"\\n\";\n    print \"Timestamp: \", $e-&gt;{EventTimestamp}[0], \"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7, "user_id": 5593187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96abc0624606da0580e16a762b9f95a?s=128&d=identicon&r=PG&f=1", "display_name": "bbboomer", "link": "https://stackoverflow.com/users/5593187/bbboomer"}, "edited": false, "score": 1, "creation_date": 1475523278, "post_id": 33863674, "comment_id": 66967890, "body": "Thank you for your response and great example solution.  Since the problem had been resolved, I never looked for additional contributions.  Much appreciated."}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 2, "last_activity_date": 1448252439, "creation_date": 1448252439, "answer_id": 33863674, "question_id": 33862290, "link": "https://stackoverflow.com/questions/33862290/understanding-multi-level-xml-reference-using-perl-xml-parser/33863674#33863674", "title": "Understanding multi-level XML reference using Perl XML Parser?", "body": "<p>Use <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\"><code>XML::LibXML</code></a></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse feature qw(say);\n\nuse XML::LibXML;\n\nmy $xml = XML::LibXML-&gt;load_xml( IO =&gt; \\*DATA );\n\nfor my $node ( $xml-&gt;findnodes('//event') ) {\n    for my $property (qw(EventObject EventType Operation EventTimestamp)) {\n        next unless my ($child) = $node-&gt;findnodes($property);\n        say \"$property: \", $child-&gt;textContent();\n    }\n\n    say '';\n}\n\n__DATA__\n&lt;events&gt;\n    &lt;event&gt;\n        &lt;EventObject&gt;Application&lt;/EventObject&gt;\n        &lt;EventType&gt;Start&lt;/EventType&gt;\n        &lt;Operation&gt;&lt;/Operation&gt;\n        &lt;EventTimestamp&gt;Sat 11/21/2015-14:02:57.76&lt;/EventTimestamp&gt;\n    &lt;/event&gt;\n    &lt;source&gt;\n        &lt;UserIPAddr&gt;192.168.1.2&lt;/UserIPAddr&gt;\n        &lt;UserHostName&gt;ABC-PROD-BAR-15-01A&lt;/UserHostName&gt;\n        &lt;UserUUID&gt;EC2-User&lt;/UserUUID&gt;\n    &lt;/source&gt;\n    &lt;target&gt;\n        &lt;URL&gt;\"https://foo.com/\"&lt;/URL&gt;\n    &lt;/target&gt;\n    &lt;payload&gt;\n        &lt;FormData&gt;&lt;/FormData&gt;\n        &lt;PackageFilename&gt;&lt;/PackageFilename&gt;\n    &lt;/payload&gt;\n\n    &lt;event&gt;\n        &lt;EventObject&gt;User&lt;/EventObject&gt;\n        &lt;EventType&gt;Download&lt;/EventType&gt;\n        &lt;Operation&gt;Acknowledge License&lt;/Operation&gt;\n        &lt;EventTimestamp&gt;Sat 11/21/2015-14:03:10.44&lt;/EventTimestamp&gt;\n    &lt;/event&gt;\n    &lt;source&gt;\n        &lt;UserIPAddr&gt;10.120.30.4&lt;/UserIPAddr&gt;\n        &lt;UserHostName&gt;WSM24CN502&lt;/UserHostName&gt;\n        &lt;UserUUID&gt;simpson homer 750329 &lt;/UserUUID&gt;\n    &lt;/source&gt;\n    &lt;target&gt;\n        &lt;URL&gt;\"https://dev.catalog.com/\"&lt;/URL&gt;\n    &lt;/target&gt;\n    &lt;payload&gt;\n        &lt;FormData&gt;&lt;/FormData&gt;\n        &lt;PackageFilename&gt;\"eclipse.luna.5.2.tag.gz\"&lt;/PackageFilename&gt;\n    &lt;/payload&gt;\n&lt;/events&gt;\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>EventObject: Application\nEventType: Start\nOperation:\nEventTimestamp: Sat 11/21/2015-14:02:57.76\n\nEventObject: User\nEventType: Download\nOperation: Acknowledge License\nEventTimestamp: Sat 11/21/2015-14:03:10.44\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 5593187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96abc0624606da0580e16a762b9f95a?s=128&d=identicon&r=PG&f=1", "display_name": "bbboomer", "link": "https://stackoverflow.com/users/5593187/bbboomer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 33862396, "answer_count": 2, "score": 0, "last_activity_date": 1448252439, "creation_date": 1448240862, "question_id": 33862290, "link": "https://stackoverflow.com/questions/33862290/understanding-multi-level-xml-reference-using-perl-xml-parser", "title": "Understanding multi-level XML reference using Perl XML Parser?", "body": "<p>I've been scouring the internet for 2 days now trying to find answers to how to proper reference a multi-level XML file using Perl XML Parsers. I'm a novice Perl guy and this is my first post to this forum, so I have much to learn. I'm starting with XML::Simple.  I realize that some have preferences for other libraries.</p>\n\n<p><strong>XML Sample file:</strong></p>\n\n<pre><code>&lt;events&gt;\n    &lt;event&gt;\n        &lt;EventObject&gt;Application&lt;/EventObject&gt;\n        &lt;EventType&gt;Start&lt;/EventType&gt;\n        &lt;Operation&gt;&lt;/Operation&gt;\n        &lt;EventTimestamp&gt;Sat 11/21/2015-14:02:57.76&lt;/EventTimestamp&gt;\n    &lt;/event&gt;\n    &lt;source&gt;\n        &lt;UserIPAddr&gt;192.168.1.2&lt;/UserIPAddr&gt;\n        &lt;UserHostName&gt;ABC-PROD-BAR-15-01A&lt;/UserHostName&gt;\n        &lt;UserUUID&gt;EC2-User&lt;/UserUUID&gt;\n    &lt;/source&gt;\n    &lt;target&gt;\n        &lt;URL&gt;\"https://foo.com/\"&lt;/URL&gt;\n    &lt;/target&gt;\n    &lt;payload&gt;\n        &lt;FormData&gt;&lt;/FormData&gt;\n        &lt;PackageFilename&gt;&lt;/PackageFilename&gt;\n    &lt;/payload&gt;\n\n    &lt;event&gt;\n        &lt;EventObject&gt;User&lt;/EventObject&gt;\n        &lt;EventType&gt;Download&lt;/EventType&gt;\n        &lt;Operation&gt;Acknowledge License&lt;/Operation&gt;\n        &lt;EventTimestamp&gt;Sat 11/21/2015-14:03:10.44&lt;/EventTimestamp&gt;\n    &lt;/event&gt;\n    &lt;source&gt;\n        &lt;UserIPAddr&gt;10.120.30.4&lt;/UserIPAddr&gt;\n        &lt;UserHostName&gt;WSM24CN502&lt;/UserHostName&gt;\n        &lt;UserUUID&gt;simpson homer 750329 &lt;/UserUUID&gt;\n    &lt;/source&gt;\n    &lt;target&gt;\n        &lt;URL&gt;\"https://dev.catalog.com/\"&lt;/URL&gt;\n    &lt;/target&gt;\n    &lt;payload&gt;\n        &lt;FormData&gt;&lt;/FormData&gt;\n        &lt;PackageFilename&gt;\"eclipse.luna.5.2.tag.gz\"&lt;/PackageFilename&gt;\n    &lt;/payload&gt;\n&lt;/events&gt;\n</code></pre>\n\n<p><strong>Sample Code:</strong></p>\n\n<pre><code>#!perl\n\n# use module\nuse XML::Simple;\nuse Data::Dumper;\nuse XML::Parser;\n\n# create object\n$xml = new XML::Simple (KeyAttr=&gt;[]);\n\n# read XML file\nmy $data = $xml-&gt;XMLin(\"auditfile3.xml\",forcearray=&gt;1);\n#$data = $xml-&gt;XMLin(\"auditfile3.xml\",KeyAttr=&gt;{EventRecord=&gt;'Event'});\nprint Dumper($data);\n\n#print $data-&gt;{Events}-&gt;{Event};\n\n#my $EventRecord = $data-&gt;{EventRecord};\n#print Dumper($EventRecord);\n\n#print $EventRecord-&gt;{EventObject};\n#print $data-&gt;{EventObject};\n\n# dereference hash ref\n# access &lt;EventRecord&gt; array\n\nforeach my $e (@{$data-&gt;{Event}})\n    {\n     print \"EventObject: \",$e-&gt;{Event-&gt;{EventObject}}, \"\\n\";\n     print \"EventType:  \", $e-&gt;{EventType}, \"\\n\"; \n     print \"Operation: \", $e-&gt;{Operation}, \"\\n\";\n     print \"Timestamp: \", $e-&gt;{EventTimestamp}, \"\\n\";\n    }\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1448242327, "creation_date": 1448242327, "answer_id": 33862476, "question_id": 33862228, "link": "https://stackoverflow.com/questions/33862228/return-word-after-pattern-match-in-perl/33862476#33862476", "title": "Return word after pattern match in perl", "body": "<p>I'm not sure you can get that easily with the regex you had, but you can get it with a different regex:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nfor my $text ('there were mad people there',\n              'mathematicians and philosophers',\n              'one lad phased out',\n              'very old pony',\n             ) {\n\n    if ($text =~ m{\\b(\\w+(?&lt;!an|\\bha)d)\\s(p[^h]\\w+)}) { \n        say join \"\\n\", substr($1, -2, 1),\n                       substr($2, 1, 1),\n                       $1, $2;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 33862476, "answer_count": 1, "score": 1, "last_activity_date": 1448242327, "creation_date": 1448240413, "question_id": 33862228, "link": "https://stackoverflow.com/questions/33862228/return-word-after-pattern-match-in-perl", "title": "Return word after pattern match in perl", "body": "<p>I have the following perl code:</p>\n\n<pre><code>if ($text =~ m{(?&lt;!\\ban|\\bha)d\\s(p[^h])}) { \n    print OUT \"${\\substr $`, -1, 1} \\t ${\\substr ($', 0, 1)}\\n\";\n}\n</code></pre>\n\n<p>which finds things like \"mad people\" in a line of text like \"there were mad people there\". The next line gives me the context before and after - \"a\" in \"mad\" and the first \"e\" in \"people\", but I'd also like it to give me the words \"mad\" and \"people.\" Is there a way to do this?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1448237925, "post_id": 33861875, "comment_id": 55488312, "body": "Can&#39;t you search just for headers, and then for each of them check there&#39;s a body to attach?"}, {"owner": {"reputation": 253, "user_id": 4263868, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bGy7BUtOACk/AAAAAAAAAAI/AAAAAAAAACk/otP0ryPeKp0/photo.jpg?sz=128", "display_name": "sqldoug", "link": "https://stackoverflow.com/users/4263868/sqldoug"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1448238313, "post_id": 33861875, "comment_id": 55488404, "body": "The &#39;matching_folder&#39; may be X, Y, Z, etc. and not have the same path length or position."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1448239599, "post_id": 33861875, "comment_id": 55488706, "body": "Not having the same position even if counted from the right?"}, {"owner": {"reputation": 253, "user_id": 4263868, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bGy7BUtOACk/AAAAAAAAAAI/AAAAAAAAACk/otP0ryPeKp0/photo.jpg?sz=128", "display_name": "sqldoug", "link": "https://stackoverflow.com/users/4263868/sqldoug"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1448241125, "post_id": 33861875, "comment_id": 55489112, "body": "Alas, no. Poorly-designed file system."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448269119, "post_id": 33861875, "comment_id": 55497644, "body": "@sqldoug: How are the header and body files normally paired up?"}, {"owner": {"reputation": 253, "user_id": 4263868, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bGy7BUtOACk/AAAAAAAAAAI/AAAAAAAAACk/otP0ryPeKp0/photo.jpg?sz=128", "display_name": "sqldoug", "link": "https://stackoverflow.com/users/4263868/sqldoug"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448298330, "post_id": 33861875, "comment_id": 55516758, "body": "@Borodin by using a proprietary include call, but the new system doesn&#39;t allow for includes at this time"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448298596, "post_id": 33861875, "comment_id": 55516932, "body": "@sqldoug: Wouldn&#39;t it be best to use that call to pair up the two files off line? Is it JavaScript code? I realise there may be a problem with the API, but I can&#39;t see something like that being too big to rewrite in Perl, especially if it is somehow data-driven."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448298766, "post_id": 33861875, "comment_id": 55517043, "body": "Failing that, is there a limit to the number of intermediate directories in the path between <code>matching_folder</code> and <code>FileA</code> or <code>FileB</code>? If it&#39;s always <code>matching_folder&#47;FileA.html</code> or <code>matching_folder&#47;x&#47;FileA.html</code> then the problem is relatively trivial"}, {"owner": {"reputation": 253, "user_id": 4263868, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bGy7BUtOACk/AAAAAAAAAAI/AAAAAAAAACk/otP0ryPeKp0/photo.jpg?sz=128", "display_name": "sqldoug", "link": "https://stackoverflow.com/users/4263868/sqldoug"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448334133, "post_id": 33861875, "comment_id": 55533590, "body": "@Borodin Thanks; migrating from one system to another, so the old language can&#39;t be used (templating); the file paths are not always structured that way"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1448243125, "creation_date": 1448243125, "answer_id": 33862581, "question_id": 33861875, "link": "https://stackoverflow.com/questions/33861875/match-two-strings-based-on-common-substring/33862581#33862581", "title": "Match two strings based on common substring", "body": "<p>Hash the files by all the directory steps in their names.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse File::Find;\n\nmy $headerPath = 'headers';\nmy $bodyPath   = 'bodies';\n\nmy @dirs = ($headerPath, $bodyPath);\nmy @files;\n\nsub wanted {\n    return unless -f and /file.\\.html$/;\n    push @files, $_;\n};\n\nfind({ wanted =&gt; \\&amp;wanted, no_chdir =&gt; 1 }, @dirs);\n\nmy %common;    \nfor my $file (@files) {\n    my @steps = split m(/), $file;\n    push @{ $common{$_} }, $file for @steps;\n};\n\n# All the headers and all the bodies share their prefixes,\n# but that's not what we're interested in.\ndelete @common{qw{ bodies headers }};\n\nfor my $step (keys %common) {\n    next if 1 == @{ $common{$step} };\n    print \"$step common for @{ $common{$step} }\\n\";\n}\n</code></pre>\n\n<p>Tested on the following structure:</p>\n\n<pre><code>bodies/3/something/C/something2/fileA.html\nbodies/2/junk/B/fileB.html\nbodies/1/A/fileC.html\nheaders/a/B/fileD.html\nheaders/c/one/A/two/fileE.html\nheaders/b/garbage/C/fileF.html\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>B common for headers/a/B/fileD.html bodies/2/junk/B/fileB.html\nC common for headers/b/garbage/C/fileF.html bodies/3/something/C/something2/fileA.html\nA common for headers/c/one/A/two/fileE.html bodies/1/A/fileC.html\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 253, "user_id": 4263868, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bGy7BUtOACk/AAAAAAAAAAI/AAAAAAAAACk/otP0ryPeKp0/photo.jpg?sz=128", "display_name": "sqldoug", "link": "https://stackoverflow.com/users/4263868/sqldoug"}, "is_accepted": false, "score": 0, "last_activity_date": 1448335124, "creation_date": 1448335124, "answer_id": 33884859, "question_id": 33861875, "link": "https://stackoverflow.com/questions/33861875/match-two-strings-based-on-common-substring/33884859#33884859", "title": "Match two strings based on common substring", "body": "<p>With the above, I can get to</p>\n\n<pre><code>for my $step (keys %common) {\n  next unless 2 == @{ $common{$step} }; # pairs\n  my @pairs = @{ $common{$step} };\n  my $html;\n  foreach my $f (@pairs) {\n    $html .= &amp;readfile($f);\n  };\n  &amp;writefile($html, $step . '.html');\n}\n</code></pre>\n\n<p>And get what I need for now. Thanks all! (I love Perl, making hard things possible indeed).</p>\n"}], "owner": {"reputation": 253, "user_id": 4263868, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bGy7BUtOACk/AAAAAAAAAAI/AAAAAAAAACk/otP0ryPeKp0/photo.jpg?sz=128", "display_name": "sqldoug", "link": "https://stackoverflow.com/users/4263868/sqldoug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 33862581, "answer_count": 2, "score": 0, "last_activity_date": 1448335124, "creation_date": 1448237439, "last_edit_date": 1448238961, "question_id": 33861875, "link": "https://stackoverflow.com/questions/33861875/match-two-strings-based-on-common-substring", "title": "Match two strings based on common substring", "body": "<p>I have a list of files that needs to be grouped in pairs. (I need to append an HTML 'File B' (body) to 'File A' (header) because I need to serve them statically without server-side includes).</p>\n\n<p>Example:</p>\n\n<pre><code>/path/to/headers/.../matching_folder/FileA.html\n/someother/path/to/.../matching_folder/body/FileB.html\n</code></pre>\n\n<p>Emphasizing with the ellipses that the paths are not of uniform length, nor is 'matching folder' always in the same position in the path. </p>\n\n<p>It seems I need to match/join based on the common substring 'matching_folder', but I am stumped on scanning each string, storing, matching (excerpt): </p>\n\n<pre><code>my @dirs = ( $headerPath, $bodyPath );\n\nmy @files = ();\n\nfind( { wanted =&gt; \\&amp;wanted, no_chdir =&gt; 1 }, @dirs );\n\nforeach my $file (@files) {\n# pseudocode: append $file[0] to $file[1] if both paths contain same 'matching_folder'\n};\n\nsub wanted {\nreturn unless -f and /(FileA\\.html$)|(FileB\\.html$)/i;\npush @files, $_;\n};\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "edited": false, "score": 0, "creation_date": 1448226300, "post_id": 33860001, "comment_id": 55484751, "body": "Hi! Thank you for your answer. It makes sense that I&#39;m overwriting hash because it&#39;s in the loop. I used your suggestions - it prints the key, but it says the array is ARRAY (0x7fa530852108) (which isn&#39;t anywhere in the CSV file) - the first line of the CSV file is NAME,GENDER,AGE,HOMETOWN,HOMESTATE,CURRENT STATE,EDUCATION,YEARS OF EDUCATION,OCUPATION,ETHNICITY. I just don&#39;t know where perl is getting &quot;ARRAY (0x7fa530852108)&quot; from."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1448226589, "last_edit_date": 1448226589, "creation_date": 1448225369, "answer_id": 33860001, "question_id": 33859888, "link": "https://stackoverflow.com/questions/33859888/separating-csv-file-into-key-and-array/33860001#33860001", "title": "Separating CSV file into key and array", "body": "<p>Don't use 2 as the third argument to <code>split</code>: it will split the line to only two elements, so there'll be just one @value.</p>\n\n<p>Also, by doing <code>%hash =</code>, you're overwriting the hash in each iteration of the loop. Just add a new key/value pair:</p>\n\n<pre><code>$hash{$key} = \\@value;\n</code></pre>\n\n<p>Note the <code>\\</code> sign: you can't store an array directly as a hash value, you have to store a reference to it. When printing the value, you have to <strong>dereference</strong> it back:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %hash;\nwhile (&lt;DATA&gt;) {\n    my ($key, @values) = split /,/;\n    $hash{$key} = \\@values;\n}\n\nfor my $key (keys %hash) {\n    print \"$key =&gt; @{ $hash{$key} }\";\n}\n\n__DATA__\nid0,1,2,a\nid1,3,4,b\nid2,5,6,c\n</code></pre>\n\n<p>If your CSV file contains quoted or escaped commas, you should use <a href=\"http://p3rl.org/Text::CSV\" rel=\"nofollow\">Text::CSV</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1459, "user_id": 2084960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2YYS8.jpg?s=128&g=1", "display_name": "Sergiy Ostrovsky", "link": "https://stackoverflow.com/users/2084960/sergiy-ostrovsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1448303307, "last_edit_date": 1448303307, "creation_date": 1448302985, "answer_id": 33877923, "question_id": 33859888, "link": "https://stackoverflow.com/questions/33859888/separating-csv-file-into-key-and-array/33877923#33877923", "title": "Separating CSV file into key and array", "body": "<p>First of all hash can have only one unique key, so when you have lines like these in your CSV file:</p>\n\n<pre><code>key1,val11,val12,val13,val14,val15,val16,val17,val18,val19\nkey1,val21,val22,val23,val24,val25,val26,val27,val28,val29\n</code></pre>\n\n<p>after adding both key/value pairs with 'key1' key to the hash, you'll get just one pair saved in the hash, the one that were added to the hash later.</p>\n\n<p>So to keep all records, the result you probably need array of hashes structure, where value of each hash is an array reference, like this:</p>\n\n<pre><code>@result = (\n    { 'key1' =&gt; ['val11','val12','val13','val14','val15','val16','val17','val18','val19'] },\n    { 'key1' =&gt; ['val21','val22','val23','val24','val25','val26','val27','val28','val29'] },\n    { 'and'  =&gt; ['so on'] },\n);\n</code></pre>\n\n<p>In order to achieve that your code should become like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @AoH;        # array of hashes containing data from CSV\n\nmy $in2 = \"metadata1.csv\";\nopen IN2, \"&lt;$in2\" or die \"Cannot open the file: $!\";\nwhile (my $line = &lt;IN2&gt;) {\n    my @string_bits = split (/,/, $line);\n    my $key = $string_bits[0];                          # first element - key\n    my $value = [ @string_bits[1 .. $#string_bits] ];   # rest get into arr ref\n\n    push @AoH, {$key =&gt; $value};        # array of hashes structure\n}\n\nforeach my $hash_ref (@AoH)\n{\n    my $key = (keys %$hash_ref)[0];                     # get hash key\n    my $value = join ', ', @{ $hash_ref-&gt;{$key} };      # join array into str\n    print \"The key is '$key' and the array is '$value'\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1448303307, "creation_date": 1448224677, "question_id": 33859888, "link": "https://stackoverflow.com/questions/33859888/separating-csv-file-into-key-and-array", "title": "Separating CSV file into key and array", "body": "<p>I am new to perl, and I am trying to separate a csv file (has 10 comma-separated items per line) into a key (first item) and an array (9 items) to put in a hash. Eventually, I want to use an <code>if</code> function to match another variable to the key in the hash and print out the elements in the array.</p>\n\n<p>Here's the code I have, which doesn't work right.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %hash;\n\nmy $in2 = \"metadata1.csv\";\nopen IN2, \"&lt;$in2\" or die \"Cannot open the file: $!\";\nwhile (my $line = &lt;IN2&gt;) {\n    my ($key, @value) = split (/,/, $line, 2);\n    %hash = (\n    $key =&gt; @value\n);\n}\n\nforeach my $key (keys %hash)\n{\n  print \"The key is $key and the array is $hash{$key}\\n\";\n}\n</code></pre>\n\n<p>Thank you for any help!</p>\n"}, {"tags": ["perl", "winapi", "registry", "perl5.18"], "comments": [{"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 1, "creation_date": 1448232320, "post_id": 33858766, "comment_id": 55486826, "body": "<a href=\"http://stackoverflow.com/questions/14213020/\">You cannot reliably read this value from the registry directly.</a> (Reading directly from the registry is usually the wrong answer anyway.) <a href=\"https://msdn.microsoft.com/en-us/library/aa394105.aspx\" rel=\"nofollow noreferrer\">You should be using WMI instead.</a> <a href=\"http://stackoverflow.com/questions/30676726/is-hkey-local-machine-software-microsoft-cryptography-machineguid-unique\">However, this value is NOT guaranteed to be unique across Windows installations!</a> If the caveats are not good enough, you&#39;ll need another way to ensure machine uniqueness."}, {"owner": {"reputation": 485, "user_id": 4108542, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Qflfs.jpg?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/4108542/artem"}, "reply_to_user": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1448286363, "post_id": 33858766, "comment_id": 55508638, "body": "Which WQL query gives me guid?"}, {"owner": {"reputation": 485, "user_id": 4108542, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Qflfs.jpg?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/4108542/artem"}, "reply_to_user": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1448290687, "post_id": 33858766, "comment_id": 55511537, "body": "I try another way: <code>my $result = `reg query HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\Microsoft\\\\Cryptography -v MachineGuid`;</code> <code>my ($guid) = $result =~ &#47;([0-9a-z\\-]{36})&#47;i;</code>  Error: The system was unable to find the specified registry key or value  But when I manually type in console <code>reg query HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography -v MachineGuid</code>, it returns guid."}], "owner": {"reputation": 485, "user_id": 4108542, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Qflfs.jpg?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/4108542/artem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 738, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1448235068, "creation_date": 1448218368, "question_id": 33858766, "link": "https://stackoverflow.com/questions/33858766/cant-get-machineguid-with-win32tieregistry", "title": "Can`t get MachineGuid with Win32::TieRegistry", "body": "<p>I need to get unique hardware identifier, so I read MachineGuid from windows registry.</p>\n\n<p>I have virtualbox machine with strawberry perl on Windows 7, and pc with Windows 7 too but without perl interpreter. This code works in virtualbox, but when I pack it to exe with PerlApp and try to execute on real machine it can`t get guid value.</p>\n\n<pre><code>use Win32::TieRegistry qw(:KEY_);       \nuse warnings;\n\n$Registry = $Registry-&gt;Open('', {Access =&gt; KEY_READ(), Delimiter =&gt; \"/\"});\nmy $guid = $Registry-&gt;{'HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/Cryptography//MachineGuid'};\nif ($guid) {\n    print \"guid = $guid\\n\";\n} else {\n    print \"failed to get MachineGuid!\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "nagios", "esxi"], "answers": [{"tags": [], "owner": {"reputation": 5436, "user_id": 2744166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b079827a014bd14f42b163afd4bb1e91?s=128&d=identicon&r=PG", "display_name": "Joe Young", "link": "https://stackoverflow.com/users/2744166/joe-young"}, "is_accepted": false, "score": 0, "last_activity_date": 1448223794, "creation_date": 1448223794, "answer_id": 33859751, "question_id": 33857362, "link": "https://stackoverflow.com/questions/33857362/undefined-subroutine-utildisconnect-called-at-usr-local-nagios-libexec-check/33859751#33859751", "title": "Undefined subroutine &amp;Util::disconnect called at /usr/local/nagios/libexec/check_esx3-0.5.pl line 555", "body": "<p><code>Util::disconnect()</code> is defined in <code>VMware::VIRuntime</code>, which can be found in <code>VILib.pm</code>, which is part of the VMware vSphere SDK for Perl API.  You have to install VMware vSphere SDK for Perl API in order to run check_esx3.pl.</p>\n\n<p>Installation instructions can be found here: <a href=\"https://kb.op5.com/display/HOWTOs/How+to+Install+VMware+vSphere+SDK+for+Perl+5.1\" rel=\"nofollow\">https://kb.op5.com/display/HOWTOs/How+to+Install+VMware+vSphere+SDK+for+Perl+5.1</a></p>\n\n<p>More information <em>(for instance: links to the source)</em> can be found here:  <a href=\"https://www.vmware.com/support/developer/viperltoolkit/viperl-1-200706-releasenotes.html\" rel=\"nofollow\">https://www.vmware.com/support/developer/viperltoolkit/viperl-1-200706-releasenotes.html</a></p>\n"}], "owner": {"reputation": 21, "user_id": 5592190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e334628fff666f7b30ecde020807c2?s=128&d=identicon&r=PG&f=1", "display_name": "squreshi", "link": "https://stackoverflow.com/users/5592190/squreshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 619, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448392252, "creation_date": 1448210840, "last_edit_date": 1448392252, "question_id": 33857362, "link": "https://stackoverflow.com/questions/33857362/undefined-subroutine-utildisconnect-called-at-usr-local-nagios-libexec-check", "title": "Undefined subroutine &amp;Util::disconnect called at /usr/local/nagios/libexec/check_esx3-0.5.pl line 555", "body": "<p>I want to monitor an <code>esxi</code> server with the Nagios plugin <code>check_esxi</code>. I am getting this error when executing it:</p>\n\n<blockquote>\n  <p>Undefined subroutine &amp;Util::disconnect called at /usr/local/nagios/libexec/check_esx3-0.5.pl line 555</p>\n</blockquote>\n\n<p>I followed <a href=\"http://www.artiflo.net/2009/02/monitor-esx35i-avec-nagios3-centreon2/\" rel=\"nofollow\">these installation instructions</a>. The Perl libraries and its modules are installed:</p>\n\n<pre><code>Nagios::Plugin via CPAN \nperl -MCPAN -e shell\ncpan&gt; install Bundle::CPAN\ncpan&gt; reload CPAN\ncpan&gt; install Nagios::Plugin\ncpan&gt; install Crypt::SSLeay\ncpan&gt; install Compress::Zlib\n</code></pre>\n\n<p>Despite that, the error (which seems to point to a missing library) still occurs.</p>\n"}, {"tags": ["perl", "transpose"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1448204181, "post_id": 33855819, "comment_id": 55476463, "body": "Where&#39;s the data? Please read <a href=\"http://stackoverflow.com/help/mcve\">how to create a minimal, complete, and verifiable example</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448205562, "post_id": 33855819, "comment_id": 55477008, "body": "Your code is very dense and I for one am having trouble understanding it. You really should avoid using <code>map</code>, a conditional expression, a statement modifier, and the <code>$_</code> variable all in the same statement. But if you at least add enough to your program so that we can reproduce your output then I am sure you you will soon get a solution"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448205702, "post_id": 33855819, "comment_id": 55477061, "body": "Thank you, but there is still something missing. What is <code>$row_counter</code>?"}, {"owner": {"reputation": 15, "user_id": 5045327, "user_type": "registered", "profile_image": "https://graph.facebook.com/911605518881950/picture?type=large", "display_name": "Marie Mio", "link": "https://stackoverflow.com/users/5045327/marie-mio"}, "edited": false, "score": 0, "creation_date": 1448206635, "post_id": 33855819, "comment_id": 55477412, "body": "<b>$row_counter</b> counts the rows... so I get the frequence...."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1448272651, "last_edit_date": 1448272651, "creation_date": 1448206930, "answer_id": 33856651, "question_id": 33855819, "link": "https://stackoverflow.com/questions/33855819/perl-for-each-key-in-hash-printing-the-first-value-in-the-next-loop-the-secon/33856651#33856651", "title": "Perl: For each key in hash printing the first value...in the next loop the second and so on", "body": "<p>This appears to do what you need, although I am surprised that you want your frequencies to vary from 1 to 2 rather than from 0 to 1</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @col = qw/\n    GTGTCCATTAGAGGGCGCCA\n    GCAGCCTCCTGAGGACGCCA\n    GAGACCTCAAGGGGCCACTA\n    GGGGCCACTAGGGGGCTCGA\n    ATGGCCACAAGAGGGCGTCA\n    CTGCCCGCCCGGCGGCGCCG\n    GCGGGCAGCAGGGGGAGCCG\n    ATCACCACCAGGTGGCGCCG\n    AAGGACACTAGGTGGAGCCA\n    TCGGCCGGCAGAGGGCGCTG\n    ATGACCGCCAGGGGTCGCTC\n    ACCACCAGCAGGGGGCACCT\n    GCAGCCCGTGGGGGGCGCCG\n    GTGGGCGGCAGGGGGCGCTG\n    CCAGCCTCTAGGGGCCACTG\n    TTGACCACCAGATGGTGGTA\n    CCTGCCGAAAGGGGGCAGTG\n/;\n\nmy %pwm;\n\nfor ( @col ) {\n\n    my @row = split //;  #/\n\n    for my $i ( 0 .. $#row ) {\n        my $k = $row[$i];\n        ++$pwm{$k}[$i];\n    }\n}\n\nfor my $counts ( values %pwm ) {\n    for my $count ( @$counts ) {\n        $count = ( $count // 0) / @col + 1;\n    }\n}\n\nmy @keys = sort keys %pwm;\n\nmy $fmt = '%-5s ' x @keys . \"\\n\";\nprintf $fmt, @keys;\n\n$fmt = '%.3f ' x @keys . \"\\n\";\n\nfor my $i ( 0 .. @col ) {\n    printf $fmt, map { $pwm{$_}[$i] } @keys;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>A     C     G     T     \n1.294 1.176 1.412 1.118 \n1.118 1.412 1.059 1.412 \n1.176 1.118 1.647 1.059 \n1.294 1.059 1.588 1.059 \n1.059 1.824 1.118 1.000 \n1.000 2.000 1.000 1.000 \n1.471 1.059 1.294 1.176 \n1.059 1.588 1.294 1.059 \n1.176 1.529 1.000 1.294 \n1.824 1.059 1.059 1.059 \n1.000 1.000 2.000 1.000 \n1.294 1.000 1.706 1.000 \n1.000 1.059 1.765 1.176 \n1.000 1.000 2.000 1.000 \n1.059 1.118 1.765 1.059 \n1.118 1.824 1.000 1.059 \n1.235 1.000 1.706 1.059 \n1.000 1.824 1.118 1.059 \n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5045327, "user_type": "registered", "profile_image": "https://graph.facebook.com/911605518881950/picture?type=large", "display_name": "Marie Mio", "link": "https://stackoverflow.com/users/5045327/marie-mio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1448272651, "creation_date": 1448202078, "last_edit_date": 1448206463, "question_id": 33855819, "link": "https://stackoverflow.com/questions/33855819/perl-for-each-key-in-hash-printing-the-first-value-in-the-next-loop-the-secon", "title": "Perl: For each key in hash printing the first value...in the next loop the second and so on", "body": "<p>So,</p>\n\n<p>I feed  a lot of .txt files data with biological sequences into my @col array... I need the frequence of occurences of the several letters (A,C,G,T) at each position...everything is fine...it works but i want to transpose the output like that...</p>\n\n<p>the output is:</p>\n\n<p>A 1.112 1.124 1.258</p>\n\n<p>C 1.154 1.122 1.587</p>\n\n<p>G 1.158 1.454 1.478</p>\n\n<p>T 1.154 1.125 1.478</p>\n\n<p>But I want to transpose that...I mean the rows into columns...like  </p>\n\n<p>A  C     G     T </p>\n\n<p>1.112 1.154 1.154  1.154</p>\n\n<p>and so on </p>\n\n<p>The code:  </p>\n\n<pre><code>@col = {GTGTCCATTAGAGGGCGCCA GCAGCCTCCTGAGGACGCCA GAGACCTCAAGGGGCCACTA GGGGCCACTAGGGGGCTCGA ATGGCCACAAGAGGGCGTCA CTGCCCGCCCGGCGGCGCCG GCGGGCAGCAGGGGGAGCCG ATCACCACCAGGTGGCGCCG AAGGACACTAGGTGGAGCCA TCGGCCGGCAGAGGGCGCTG ATGACCGCCAGGGGTCGCTC ACCACCAGCAGGGGGCACCT GCAGCCCGTGGGGGGCGCCG GTGGGCGGCAGGGGGCGCTG CCAGCCTCTAGGGGCCACTG TTGACCACCAGATGGTGGTA CCTGCCGAAAGGGGGCAGTG and so on }\n\nforeach my $row(@col)\n  {       \n   ++$pwm{ substr $row, $_, 1 }[ $_ ] for 0 .. length( $row ) -1;  #holt die Teilstrings aus der Zeile, sprich Pos 1, Pos2....\n  }\n  @col=();  # benoetige leeres array fuer oben\n  @$_ = map{ $_ ? ($_/$row_counter)+1 : 1 } @$_ for values %pwm;\n\n print \"$_ @{ $pwm{$_}}\\n\" for sort keys %pwm;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "edited": false, "score": 0, "creation_date": 1448179526, "post_id": 33852554, "comment_id": 55469752, "body": "Ok if line*. is consuming the entire string before lookahead even gets tried, then why the following statement returns correct result  perl -ne &#39;print if /(line.*)(?=.*fox)/&#39; text.txt....when this statement i am only getting line1."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1448216127, "post_id": 33852554, "comment_id": 55481122, "body": "Because the regex engine will find a way to match if there is one. Your original attempt rules out one possible match but the engine just finds another. By contrast, this solution finds the match in the negative lookahead if there is one."}, {"owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "edited": false, "score": 0, "creation_date": 1448226887, "post_id": 33852554, "comment_id": 55484929, "body": "@hwnd: (line.*) matching the all three lines and treat every line as one whole string makes sense but if i replace negative lookahead with positive than it doesn&#39;t give expected result....so if i use following script                        perl -ne &#39;print if /(line.*)(?!.*fox)/; print &quot;$1\\n&quot;&#39; test3.txt line1 brown fox line1 brown fox line2 black owl line2 black owl line3 red dear line3 red dear                                                                                              then printing the first group ($1) shows that entire line is matched by (line.*) as seen in above outputs."}, {"owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "edited": false, "score": 0, "creation_date": 1448227061, "post_id": 33852554, "comment_id": 55484983, "body": "@hwnd: but if i use positive lookahead in same script, printing first group gives different result                                                                                       perl -ne &#39;print if /(line.*)(?=.*fox)/; print &quot;$1\\n&quot;&#39; test3.txt line1 brown fox line1 brown  line1 brown  line1 brown                                                                                                     Now (line.*) is NOT treating the entire line as one whole string. How is changing the second group (+ve lookahead vs -ve lookahead) affecting the first group (line.*) match?"}, {"owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 0, "creation_date": 1448227198, "post_id": 33852554, "comment_id": 55485036, "body": "The <code>.</code> does not span across line breaks by default. Using Positive Lookahead <code>(?=...)</code> only matches the first line because it has the word <b>fox</b> in it."}], "tags": [], "owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "is_accepted": false, "score": 3, "last_activity_date": 1448208136, "last_edit_date": 1448208136, "creation_date": 1448176796, "answer_id": 33852554, "question_id": 33852429, "link": "https://stackoverflow.com/questions/33852429/zero-width-negative-look-ahead-assertion-perl/33852554#33852554", "title": "zero width negative look ahead assertion perl", "body": "<p>All three strings successfully match because the <code>.*</code> preceding the lookahead is greedily matching every single character and gobbled up the whole string. The engine will then advance attempting to assert that what follows in the string is not \"foo\"; backtracking to <code>.*</code> inside of the lookahead and greedily repeating until it asserts at the end of the string position.</p>\n\n<p>Place the lookahead at the beginning of the string to assert that at the current position and what follows is not \"fox\". If the lookahead succeeds, the engine will continue to match.</p>\n\n<pre><code>perl -ne 'print if /^(?!.*fox).*/' text.txt\n</code></pre>\n\n<p>The above will look ahead to see if there is not any character (<em>except newline</em>) or \"fox\". If successful then match any character (<em>except newline</em>) in other words the whole string.</p>\n"}], "owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448208136, "creation_date": 1448175407, "question_id": 33852429, "link": "https://stackoverflow.com/questions/33852429/zero-width-negative-look-ahead-assertion-perl", "title": "zero width negative look ahead assertion perl", "body": "<p>I have following text save in a file and trying to do regex</p>\n\n<pre><code>line1 brown fox\nline2 black owl\nline3 red dear\n</code></pre>\n\n<p>When i am trying to run following perl command,</p>\n\n<pre><code>perl -ne 'print if /(line.*)(?!.*fox)/' text.txt\n</code></pre>\n\n<p>it is printing all three lines (instead of printing the line2 and line3).<br>\nHow is this matching first line? i get expected results if i use following perl statement </p>\n\n<pre><code>perl -ne 'print if /(line)(?!.*fox)/' text.txt\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["mysql", "perl", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 576, "user_id": 5252277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jxfJU.jpg?s=128&g=1", "display_name": "gatorreina", "link": "https://stackoverflow.com/users/5252277/gatorreina"}, "edited": false, "score": 0, "creation_date": 1448327342, "post_id": 33851445, "comment_id": 55531805, "body": "I gave up and split it into two different queries."}], "tags": [], "owner": {"reputation": 1889, "user_id": 2658162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAOBQ.png?s=128&g=1", "display_name": "JRD", "link": "https://stackoverflow.com/users/2658162/jrd"}, "is_accepted": false, "score": 2, "last_activity_date": 1448164770, "creation_date": 1448164770, "answer_id": 33851445, "question_id": 33851083, "link": "https://stackoverflow.com/questions/33851083/mysql-query-seems-to-give-different-results-when-wrapped-in-perl-dbi/33851445#33851445", "title": "MySQL query seems to give different results when wrapped in perl DBI", "body": "<p>Depending on your mysql client/library version, mysql handles this situation differently.</p>\n\n<p>For mysql &lt;= 5.6, see <a href=\"https://dev.mysql.com/doc/refman/5.6/en/group-by-handling.html\" rel=\"nofollow\">Group By Handling</a></p>\n\n<p>For mysql = 5.7, see <a href=\"https://dev.mysql.com/doc/refman/5.7/en/group-by-handling.html\" rel=\"nofollow\">Group By Handling</a></p>\n\n<p>You query has a count of 0, yet there are values returned for the other columns. That doesn't seem to make any sense. It seems that running through perl is actually doing the logical thing and mysql is just populating the MAX_PER_PRD, PLURAL, TIME_DENOM columns with arbitrary values.</p>\n\n<p>The main issue here, is that you referencing non-aggregated columns without them being part of a group by clause.</p>\n\n<p>Perhaps if you include a sample data set, it could help us get to the result your are looking for.</p>\n"}], "owner": {"reputation": 576, "user_id": 5252277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jxfJU.jpg?s=128&g=1", "display_name": "gatorreina", "link": "https://stackoverflow.com/users/5252277/gatorreina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448164770, "creation_date": 1448160419, "question_id": 33851083, "link": "https://stackoverflow.com/questions/33851083/mysql-query-seems-to-give-different-results-when-wrapped-in-perl-dbi", "title": "MySQL query seems to give different results when wrapped in perl DBI", "body": "<p>The query below works fine in when I try it in the console.</p>\n\n<pre><code>mysql&gt; SELECT COUNT(l.ID), a.MAX_PER_PRD, a.PLURAL, d.TIME_DENOM FROM logro l, challenge c, lib_accomp_type a, lib_deporte d WHERE l.PERIOD=3 AND l.GAME_ID=2 AND l.PLR_ID=3 AND l.ACC_TYPE_ID=11 AND a.sport=d.ID AND c.ACC_TYPE_ID=a.ID AND l.ACC_TYPE_ID=c.ACC_TYPE_ID;\n\n+-------------+-------------+--------------------+------------+\n| COUNT(l.ID) | MAX_PER_PRD | PLURAL             | TIME_DENOM |\n+-------------+-------------+--------------------+------------+\n|           0 |           3 | general commodities| quarter    |\n+-------------+-------------+--------------------+------------+\n1 row in set (0.01 sec)\n</code></pre>\n\n<p>However, when I wrap it in a perl->DBI statement handle and fetch it with $sth->fetchrow_array the second value is undefined.</p>\n\n<pre><code>my $q = \"SELECT COUNT(l.ID), a.MAX_PER_PRD, a.PLURAL, d.TIME_DENOM\n            FROM logro l, challenge c, lib_accomp_type a, lib_deporte d\n            WHERE l.PERIOD=?\n            AND l.GAME_ID=?\n            AND l.PLR_ID=?\n            AND l.ACC_TYPE_ID=? \n            AND a.sport=d.ID\n            AND c.ACC_TYPE_ID=a.ID\n            AND l.ACC_TYPE_ID=c.ACC_TYPE_ID\";\n\n     my $sth = $dbh-&gt;prepare($q);\n     $sth-&gt;execute(3, 2, 3, 11);\n     my ($CNT, $MAX, $ANAMEP, $TD) = $sth-&gt;fetchrow_array; \n\n     print \"COUNT: \", $CNT;\n     print \"MAX: \", $MAX;\n\n$ perl test_sql2.pl \nUse of uninitialized value $MAX in print at test_sql2.pl line 29.\nCOUNT: 0MAX:\n</code></pre>\n\n<p>Any idea as to what I could be doing wrong?</p>\n"}, {"tags": ["java", "php", "regex", "perl"], "comments": [{"owner": {"reputation": 115475, "user_id": 1743880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wcXBB.png?s=128&g=1", "display_name": "Tunaki", "link": "https://stackoverflow.com/users/1743880/tunaki"}, "edited": false, "score": 2, "creation_date": 1448145819, "post_id": 33849395, "comment_id": 55463480, "body": "&quot;I wrote a code that downloads a webpage and then parses it to find a specific value&quot;. Sorry, I stopped reading there. You should create a reproducible example demonstrating your result."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 7, "creation_date": 1448145867, "post_id": 33849395, "comment_id": 55463490, "body": "No wonder everyone posts a <a href=\"http://stackoverflow.com/a/1732454/3832970\">link to this SO post</a> when someone tries to parse HTML with regex. If you chose an HTML parser from the start, you&#39;d have no problem at all. Any regex with <code>.*?</code> is doomed when large input is processed."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1448149072, "post_id": 33849395, "comment_id": 55464397, "body": "@Jack: Ok, and for your tests what is FOO and what is BAR? (where is located FOO more or less in your file (at the beginning, the middle, the end)?)"}, {"owner": {"reputation": 9152, "user_id": 2338547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QT3fG.png?s=128&g=1", "display_name": "markspace", "link": "https://stackoverflow.com/users/2338547/markspace"}, "edited": false, "score": 1, "creation_date": 1448150487, "post_id": 33849395, "comment_id": 55464730, "body": "I tried your regex with one <code>&quot;.*?&quot;</code> and it was quite fast, and then with two and it was slow, even for a found string (22 seconds).  My guess is backtracking.  Java isn&#39;t optimizing backtracking well here, so if there&#39;s something you can do to eliminate it it&#39;ll be faster."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 9152, "user_id": 2338547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QT3fG.png?s=128&g=1", "display_name": "markspace", "link": "https://stackoverflow.com/users/2338547/markspace"}, "edited": false, "score": 0, "creation_date": 1448151392, "post_id": 33849395, "comment_id": 55464919, "body": "@markspace: non-greedy quantifiers don&#39;t cause backtracking, only greedy quantifiers do. A non-greedy quantifier takes the characters one by one and must test if all the subpattern after fails to take a character (until the subpattern succeeds. The greedy quantifier takes all possible characters and after gives characters back until the subpattern succeeds (backtracking)."}, {"owner": {"reputation": 12289, "user_id": 675568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cfe53579fb7b2afd58949be94cf97e?s=128&d=identicon&r=PG", "display_name": "Tom Zych", "link": "https://stackoverflow.com/users/675568/tom-zych"}, "edited": false, "score": 3, "creation_date": 1448153899, "post_id": 33849395, "comment_id": 55465461, "body": "At the time I write this, three reviewers have voted to close this as too broad. I agree it is broad. However, I think the subject is worthwhile enough, and the post well-written enough, to justify leaving it open."}, {"owner": {"reputation": 9152, "user_id": 2338547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QT3fG.png?s=128&g=1", "display_name": "markspace", "link": "https://stackoverflow.com/users/2338547/markspace"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1448157895, "post_id": 33849395, "comment_id": 55466162, "body": "@CasimiretHippolyte And are you sure that Java is implemented that way?  Can you show me the code?  Yes, I think if this is backtracking it&#39;s a bug, but it could still be a bug."}, {"owner": {"reputation": 9152, "user_id": 2338547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QT3fG.png?s=128&g=1", "display_name": "markspace", "link": "https://stackoverflow.com/users/2338547/markspace"}, "edited": false, "score": 1, "creation_date": 1448158485, "post_id": 33849395, "comment_id": 55466286, "body": "And I have to take that back slightly.  <code>&lt;tr.*?&gt;</code> does to backtrack because <code>.*?</code> could eat the starting literal of that pattern. Given the number of those patterns the OP employs, I think there could be something akin to catastrophic backtracking, even if there&#39;s no bugs in the Java implementation."}, {"owner": {"reputation": 13553, "user_id": 643500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c66ad2afcf08e4a22f7b3cf5ca7ebc2?s=128&d=identicon&r=PG", "display_name": "Hitham S. AlQadheeb", "link": "https://stackoverflow.com/users/643500/hitham-s-alqadheeb"}, "reply_to_user": {"reputation": 12289, "user_id": 675568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cfe53579fb7b2afd58949be94cf97e?s=128&d=identicon&r=PG", "display_name": "Tom Zych", "link": "https://stackoverflow.com/users/675568/tom-zych"}, "edited": false, "score": 2, "creation_date": 1448174340, "post_id": 33849395, "comment_id": 55468855, "body": "@TomZych, in a way I agree with you, but based on the presented details, it is not enough to get a good answer.  There are missing details and many areas to address.  It is interesting and worthwhile, but too broad."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 8, "creation_date": 1448174643, "post_id": 33849395, "comment_id": 55468903, "body": "1) The fact that you wrote an awful program is not Perl fault (You have the equivalent of 8 nested loops), 2) Perl&#39;s engine is better optimised for failed matches over successful matches, 3) Perl&#39;s engine has features the others don&#39;t (costing some speed), and 4) Perl&#39;s engine has far fewer bugs than the others (costing some speed)."}, {"owner": {"reputation": 1175, "user_id": 1654526, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3287ef88010dfa6ae54dfadd74a0d5e0?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1654526/jack"}, "reply_to_user": {"reputation": 13553, "user_id": 643500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c66ad2afcf08e4a22f7b3cf5ca7ebc2?s=128&d=identicon&r=PG", "display_name": "Hitham S. AlQadheeb", "link": "https://stackoverflow.com/users/643500/hitham-s-alqadheeb"}, "edited": false, "score": 0, "creation_date": 1448181027, "post_id": 33849395, "comment_id": 55470066, "body": "@HithamS.AlQadheeb what details are missing?"}, {"owner": {"reputation": 1175, "user_id": 1654526, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3287ef88010dfa6ae54dfadd74a0d5e0?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1654526/jack"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448181035, "post_id": 33849395, "comment_id": 55470069, "body": "@ikegami sorry i&#39;m not a perler, just copy the regexp match somewhere else, how could you rewrite test 3 and make it go faster?"}, {"owner": {"reputation": 1175, "user_id": 1654526, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3287ef88010dfa6ae54dfadd74a0d5e0?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1654526/jack"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1448181044, "post_id": 33849395, "comment_id": 55470072, "body": "@CasimiretHippolyte FOO is a string present in the page (line 2426), BAR is string not present"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1448182967, "post_id": 33849395, "comment_id": 55470478, "body": "@jm666: I know what parsing is: <a href=\"http://dictionary.reference.com/browse/parse\" rel=\"nofollow noreferrer\"><i>to analyze (a string of characters) in order to associate groups of characters with the syntactic units of the underlying grammar.</i></a> Any regex engine is <i>parsing</i> text using a given regex. I read that post, and I agree there can be valid ways of getting substrings from any text, even HTML code. However, the task of getting some node outer HTML can be safely solved with a proper HTML parser. You can use tongs to hammer a nail into a wall, but a hammer is more appropriate, isn&#39;t it?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448211810, "post_id": 33849395, "comment_id": 55479449, "body": "@Jack, <code>.*?</code> can match far too much. It should be replaced with what you actually want to match to eliminate backtracking."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448212018, "post_id": 33849395, "comment_id": 55479527, "body": "All four Perl snippets return instantly for me. Are you using an old version of Perl?"}, {"owner": {"reputation": 1175, "user_id": 1654526, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3287ef88010dfa6ae54dfadd74a0d5e0?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1654526/jack"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448217004, "post_id": 33849395, "comment_id": 55481423, "body": "@ikegami it&#39;s v5.20.2. I&#39;m not interested in optimizing my regexp, just like i&#39;m not interested in using an html parser to find a solution to something. I was just wonder why there are so different implementation between java and perl/php. Does Java regexp routine need a revision? Can this be considered a bug? That was the point of my question"}, {"owner": {"reputation": 1175, "user_id": 1654526, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3287ef88010dfa6ae54dfadd74a0d5e0?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1654526/jack"}, "edited": false, "score": 0, "creation_date": 1448217184, "post_id": 33849395, "comment_id": 55481492, "body": "@AndreaTosoni I don&#39;t think it&#39;s a matter of language here; it looks like a matter of implementation to me."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1448234808, "post_id": 33849395, "comment_id": 55487561, "body": "That regexp returns instantly for that input with Perl 5.20.2 // you&#39;re the one who asked hope to change it"}], "owner": {"reputation": 1175, "user_id": 1654526, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3287ef88010dfa6ae54dfadd74a0d5e0?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1654526/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1448783181, "creation_date": 1448145241, "last_edit_date": 1448148255, "question_id": 33849395, "link": "https://stackoverflow.com/questions/33849395/different-efficiency-of-regexp-implementations-in-java-perl-and-php", "title": "Different efficiency of regexp implementations in Java Perl and Php", "body": "<p><strong>In Java:</strong></p>\n\n<p>Time ago I wrote a code that downloads a webpage and then parses it to find a specific value. I used a regexp like this and everything went fine.</p>\n\n<pre><code>Pattern p = Pattern.compile(\"&lt;tr.*?&gt;.*?&lt;td.*?&gt;FOO:&lt;/td&gt;.*?&lt;td.*?&gt;(.*?)&lt;/td&gt;.*?&lt;/tr&gt;\", Pattern.DOTALL);\nMatcher m = p.matcher(page);\nm.find();\n</code></pre>\n\n<p>Today the webpage changed, the string FOO is no longer present, and suddenly m.find() does not return anymore, blocking my whole application.</p>\n\n<p>I then started to investigate and doing some debug, and found that with a normal html page (200kb, 3000 lines), if FOO is present the above regexp works fast, otherwise it takes hours.</p>\n\n<p>Then I said.. Ok, probably the complexity of this expression justifies the long time waiting. But I wanted to verify my assumption, so I prepared some test in other languages and slightly modified the above pattern.</p>\n\n<p>After I saved the webpage in a file and I modified it and inserted FOO where it was supposed to be. Then I wrote 4 tests:</p>\n\n<ol>\n<li>to match FOO with DOT_ALL</li>\n<li>to unmatch BAR with DOT_ALL</li>\n<li>to unmatch FOO without DOT_ALL</li>\n<li>to unmatch BAR without DOT_ALL</li>\n</ol>\n\n<p>You can reach the test page here: <a href=\"http://pastebin.com/2S9fEpxD\" rel=\"nofollow\">http://pastebin.com/2S9fEpxD</a></p>\n\n<p><strong>In perl:</strong></p>\n\n<pre><code>cat page.html | perl -e '$str = do { local $/; &lt;&gt; }; $str =~ /&lt;tr.*?&gt;.*?&lt;td.*?&gt;FOO:&lt;\\/td&gt;.*?&lt;td.*?&gt;(.*?)&lt;\\/td&gt;.*?&lt;\\/tr&gt;/s; print \"$1\\n\";'\n\ncat page.html | perl -e '$str = do { local $/; &lt;&gt; }; $str =~ /&lt;tr.*?&gt;.*?&lt;td.*?&gt;BAR:&lt;\\/td&gt;.*?&lt;td.*?&gt;(.*?)&lt;\\/td&gt;.*?&lt;\\/tr&gt;/s; print \"$1\\n\";'\n\ncat page.html | perl -e '$str = do { local $/; &lt;&gt; }; $str =~ /&lt;tr.*?&gt;.*?&lt;td.*?&gt;FOO:&lt;\\/td&gt;.*?&lt;td.*?&gt;(.*?)&lt;\\/td&gt;.*?&lt;\\/tr&gt;/; print \"$1\\n\";'\n\ncat page.html | perl -e '$str = do { local $/; &lt;&gt; }; $str =~ /&lt;tr.*?&gt;.*?&lt;td.*?&gt;BAR:&lt;\\/td&gt;.*?&lt;td.*?&gt;(.*?)&lt;\\/td&gt;.*?&lt;\\/tr&gt;/; print \"$1\\n\";'\n</code></pre>\n\n<p>Test 1,2 and 4 instantly return. Test 3 takes 19 seconds to finish.</p>\n\n<p><strong>In PhP:</strong></p>\n\n<pre><code>preg_match( '#&lt;tr.*?&gt;.*?&lt;td.*?&gt;FOO:&lt;/td&gt;.*?&lt;td.*?&gt;(.*?)&lt;/td&gt;.*?&lt;/tr&gt;#s',file_get_contents('page.html'), $vals);\n\npreg_match( '#&lt;tr.*?&gt;.*?&lt;td.*?&gt;BAR:&lt;/td&gt;.*?&lt;td.*?&gt;(.*?)&lt;/td&gt;.*?&lt;/tr&gt;#s',file_get_contents('page.html'), $vals);\n\npreg_match( '#&lt;tr.*?&gt;.*?&lt;td.*?&gt;FOO:&lt;/td&gt;.*?&lt;td.*?&gt;(.*?)&lt;/td&gt;.*?&lt;/tr&gt;#',file_get_contents('page.html'), $vals);\n\npreg_match( '#&lt;tr.*?&gt;.*?&lt;td.*?&gt;BAR:&lt;/td&gt;.*?&lt;td.*?&gt;(.*?)&lt;/td&gt;.*?&lt;/tr&gt;#',file_get_contents('page.html'), $vals);\n</code></pre>\n\n<p>All 4 tests return instantly.</p>\n\n<p><strong>In Java, again:</strong></p>\n\n<p>Just to complete my test, I also performed test 3 and 4 in Java, and it took hours, just like test 2 (but not 1, that matches, and does it quickly)</p>\n\n<p>This is the code I used (test 3 in this case):</p>\n\n<pre><code>FileReader fr = new FileReader(\"page.html\");\nchar[] buff = new char[(int)new File(\"page.html\").length()];\nfr.read(buff);\nfr.close();\nString page = new String(buff);\n\nPattern p = Pattern.compile(\"&lt;tr.*?&gt;.*?&lt;td.*?&gt;FOO:&lt;/td&gt;.*?&lt;td.*?&gt;(.*?)&lt;/td&gt;.*?&lt;/tr&gt;\" /*, Pattern.DOTALL*/);\nMatcher m = p.matcher(page);\nSystem.out.println(m.find());\n</code></pre>\n\n<p><strong>Conclusion</strong></p>\n\n<p>PhP behaves better than Perl, and extremely better than Java. Why?\nIf php is able to tell quickly when this regexp match or not, why shouldn't the same technology be ported in Java? I always though that regular expression world was fully understood by human kind and that there were no other discoveries left to do.</p>\n"}, {"tags": ["linux", "perl", "sockets"], "comments": [{"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 1, "creation_date": 1448148944, "post_id": 33848415, "comment_id": 55464364, "body": "Why don&#39;t you want to just use low-level Socket? When the same code works differently on different OS, more difficult to understand why it is if you have a bunch of extra wrappers. Perhaps in this case (on linux) it will be more efficient and easier to go to the low level"}], "answers": [{"comments": [{"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 0, "creation_date": 1448151222, "post_id": 33849995, "comment_id": 55464897, "body": "With readline and \\n it works well. But why does the code in the question workes well on windows?"}, {"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 0, "creation_date": 1448151601, "post_id": 33849995, "comment_id": 55464976, "body": "Also TCP/IP stack may be differently implemented in different OSs. Respectively the default optimizations of sending packets may vary too. IMHO)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448174416, "post_id": 33849995, "comment_id": 55468866, "body": "For the reasons LeoNerd gave, use <code>print</code>  and <code>read</code>/<code>sysread</code>/<code>readline</code> for TCP. Save <code>send</code> and <code>recv</code> for UDP."}, {"owner": {"reputation": 65, "user_id": 4458716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6905e0cd8657e2f8e5e48d8db0f053c?s=128&d=identicon&r=PG", "display_name": "LordCatzorz", "link": "https://stackoverflow.com/users/4458716/lordcatzorz"}, "edited": false, "score": 0, "creation_date": 1448225878, "post_id": 33849995, "comment_id": 55484596, "body": "Thank you. With this information in my hands, I decided to create two small subroutines.   First, <code>sendTransmission</code> adds a small personalised string at the end of the transmission. Secondly, <code>readTransmission</code> overwrite the separator used my <code>readline</code> with my own. e.g. <code>local $&#47; = &quot;!EOT!&quot;;</code>  It allows me to still send multiple line containing <code>\\n</code> and allows me to send multiple messages one after the other without having them merged on the other side.  I still does not know why it was working on Windows, probably MSMagic."}], "tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": true, "score": 1, "last_activity_date": 1448149566, "creation_date": 1448149566, "answer_id": 33849995, "question_id": 33848415, "link": "https://stackoverflow.com/questions/33848415/merged-socket-recv-with-perl-on-linux/33849995#33849995", "title": "Merged Socket-&gt;recv with perl on Linux", "body": "<p>This problem has nothing to do with the choice of operating system, or indeed the language. The problem relates to the fact of how you are using TCP.</p>\n\n<p>A TCP stream is just that - a stream of bytes. It does not matter to TCP how you write those bytes - you could <code>send</code> in fifty 1-byte chunks, or one 50-byte, or anything inbetween. The TCP stream simply represents the bytes, without message boundaries. It's much the same as file IO - a file on disk doesn't remember the distinction between <code>write</code> calls, only the sum total of bytes that were transferred.</p>\n\n<p>So in your server when you do</p>\n\n<pre><code>$client-&gt;send(\"Hello, please connect yourself\");\n$client-&gt;send(\"Username:\");\n</code></pre>\n\n<p>It could all get merged in one segment over the wire, and will arrive in one go at the other end. This is why any TCP-based protocol provides some form of framing - be it linefeeds, or message headers that declare the size of the body, or whatever. Some way that the receiver can pull the stream apart again.</p>\n\n<p>For example, you might decide to use <code>\"\\n\"</code> as a message boundary. You can then send using</p>\n\n<pre><code>$client-&gt;send(\"Hello, please connect yourself\\n\");\n$client-&gt;send(\"Username:\\n\");\n</code></pre>\n\n<p>and the receiver can use the regular <code>readline</code> to read these lines back out again.</p>\n"}], "owner": {"reputation": 65, "user_id": 4458716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6905e0cd8657e2f8e5e48d8db0f053c?s=128&d=identicon&r=PG", "display_name": "LordCatzorz", "link": "https://stackoverflow.com/users/4458716/lordcatzorz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 33849995, "answer_count": 1, "score": 1, "last_activity_date": 1448226125, "creation_date": 1448138990, "last_edit_date": 1448226125, "question_id": 33848415, "link": "https://stackoverflow.com/questions/33848415/merged-socket-recv-with-perl-on-linux", "title": "Merged Socket-&gt;recv with perl on Linux", "body": "<p>Sorry for the bad English, it is not my mother tongue.</p>\n\n<p>I am new to perl programming and I'm facing a tedious problem for some hours now.</p>\n\n<p>I have coded a simple Client-Server using IO::Socket::INET. It works flawlessly on Windows, but is broken on Linux.</p>\n\n<p>On Linux, the first recv get both of server's communication and therefor, the second one is waiting endlessly for a communication.</p>\n\n<p>Running the command \"perl -version\" gives me this result on Windows:</p>\n\n<blockquote>\n  <p>This is perl 5, version 20, subversion 2 (v5.20.2) built for\n  MSWin32-x64-multi-t hread (with 1 registered patch, see perl -V for\n  more detail)</p>\n</blockquote>\n\n<p>And on Linux :</p>\n\n<blockquote>\n  <p>This is perl 5, version 20, subversion 2 (v5.20.2) built for\n  x86_64-linux-gnu-thread-multi (with 42 registered patches, see perl -V\n  for more detail)</p>\n</blockquote>\n\n<p>Here is and exemple of a server:</p>\n\n<pre><code>use IO::Socket;\n\nmy $socket= IO::Socket::INET-&gt;new( Proto =&gt; \"tcp\",\n                                   LocalPort =&gt; 2559,\n                                   Listen =&gt; SOMAXCONN,\n                                   Reuse =&gt; 1);\n\nwhile(1)\n{\n    print \"Waiting for a client\\n\";\n    my $client = $socket-&gt;accept();\n    $client-&gt;send(\"Hello, please connect yourself\");\n    $client-&gt;send(\"Username:\");\n    $client-&gt;recv(my $username, 1024);\n    $client-&gt;send(\"Password:\");\n    $client-&gt;recv(my $cipheredpassword, 1024);\n    $client-&gt;send(\"Thank you, Goodbye.\");\n    $client-&gt;close();\n    print \"Connection closed\\n\";\n}\n</code></pre>\n\n<p>And here is an exemple of a client :</p>\n\n<pre><code>use IO::Socket;\nuse Digest::MD5 qw(md5_hex);\n\nmy $username = \"\";\nmy $password = \"\";\n\nmy $server = IO::Socket::INET-&gt;new( Proto =&gt; \"tcp\",\n                                    PeerAddr =&gt; \"localhost\",\n                                    PeerPort =&gt; 2559);\n\n# Pick up both $firstServerMessage and \n# $serverAskUsernameMessage on Linux\n$server-&gt;recv(my $firstServerMessage, 1024); \nprint \"$firstServerMessage\\n\";\n\n# Hangs on Linux\n$server-&gt;recv(my $serverAskUsernameMessage, 1024);\n\nwhile($username eq \"\")\n{\n    print \"$serverAskUsernameMessage\\n\";\n    chomp($username = &lt;STDIN&gt;); \n}\n\n$server-&gt;send($username);\n$server-&gt;recv(my $serverAskPasswordMessage, 1024);\n\nwhile($password eq \"\")\n{\n    print \"$serverAskPasswordMessage\\n\";\n    chomp($password = &lt;STDIN&gt;);\n}\n\nmy $hashedPassword = md5_hex($password);\n$server-&gt;send($hashedPassword);\n\n$server-&gt;recv(my $lastServerMessage, 1024);\nprint $lastServerMessage;\n</code></pre>\n\n<p>I know that the easy solution to this problem would be to avoid having multiple ->recv in a row, but I'm also curious to know why it is not working on Linux.</p>\n\n<p>I have tried to use ->flush and ->autoflush(1), without success.</p>\n\n<p>Your help and knowledge would be appreciated,\nL.C.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 3104, "user_id": 2886003, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/633e917d31e23b50c154de1b37652254?s=128&d=identicon&r=PG&f=1", "display_name": "llrs", "link": "https://stackoverflow.com/users/2886003/llrs"}, "is_accepted": false, "score": 2, "last_activity_date": 1448128843, "last_edit_date": 1592644375, "creation_date": 1448128843, "answer_id": 33846744, "question_id": 33846576, "link": "https://stackoverflow.com/questions/33846576/fix-protocol-print-out-consecutive-spaces-perl/33846744#33846744", "title": "FIX protocol print out consecutive spaces. perl", "body": "<p>To print in a consistent way you could use <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow noreferrer\">printf</a>:</p>\n<p><code>printf(&quot;%-5s %-11s %s %s&quot;, $line[0], $line[1], $line[2], $line[3]);</code></p>\n<p>This way you introduce the necesary blank space to aling them. Or you could do <code>print join(&quot;\\t&quot; @line);</code></p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1448135412, "last_edit_date": 1448135412, "creation_date": 1448134034, "answer_id": 33847615, "question_id": 33846576, "link": "https://stackoverflow.com/questions/33846576/fix-protocol-print-out-consecutive-spaces-perl/33847615#33847615", "title": "FIX protocol print out consecutive spaces. perl", "body": "<p>There are a couple mistakes, inefficiencies, redundancies, etc. in your code, which can actually be solved simply by reverting to Perl's default behaviors and/or shortcuts. By default, many of the builtin functions operate on <code>$_</code>, which we can take advantage of to simplify and shorten our code. Taking it a step further, <code>split()</code>, when provided a pattern of <code>' '</code> (or no pattern at all!) automatically treats the pattern as <code>/\\s+/</code>. I've also used a hash to store any <code>key=value</code> pairs we find, which gives us flexibility later on if we decide we want to access different pieces of the data.</p>\n\n<p>Putting it all together, here's an alternate way to approach your problem:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @fields = split;\n    my %values;\n\n    for (@fields) {\n        my @parts = split(/=/);\n        next unless scalar(@parts) == 2;\n        $values{$parts[0]} = $parts[1];\n    }\n\n    printf(\"From %-13s to    %s\\n\", $values{49}, $values{56});\n}\n\n__DATA__\n2015-11-19 12:11:34,050INFO [Fix message assembler]TWORDERS42_UBS-&lt;1356 OrderSingle (8=FIX.4.2 9=195 35=D 34=1356 49=TWORDERS42 52=20151119-17:11:34.049 56=UBS 57=PROG 97=N 115=GUARDIAN 11=AFMC286;6CE7-7DF5 15=USD 21=1 22=1 38=4481 40=1 48=031162100 54=1 55=AMGN 59=0 60=20151119-17:01:11 92=CSA 10=028 )\n2015-11-19 12:11:34,050INFO [SessionManager for CamUSP3: TWORDERS42 UBS]USA4P3_42_CamUSP3_42-&gt;4735 OrderSingle (8=FIX.4.2 9=197 35=D 34=4735 49=TWORDERS42 52=20151119-17:11:34 56=USA4P3_42 57=PROG 97=N 115=GUARDIAN 11=AFMC286;6CE7-7DF5 15=USD 21=1 22=1 38=4481 40=1 48=031162100 54=1 55=AMGN 59=0 60=20151119-17:01:11 92=CSA 10=210 )\n2015-11-19 12:12:54,468INFO [Fix message assembler]USA4P3_42_CamUSP3_42-&lt;68210 ExecutionReport (8=FIX.4.2 9=285 35=8 34=68210 52=20151119-17:12:54 43=N 49=USA4P3_42 50=PROG 56=TWORDERS42 128=GUARDIAN 20=0 151=4481 150=0 11=AFMC286;6CE7-7DF5 31=0.0000 32=0 21=1 15=USD 59=0 55=AMGN 22=1 48=031162100 54=1 39=0 38=4481 40=1 37=42348647 17=842696664 6=0.0000000 14=0 60=20151119-17:12:54 75=20151119 10=099 )\n2015-11-19 12:12:54,468INFO [SessionManager for CamUSP3: USA4P3_42 CamUSP3_42]TWORDERS42_UBS-&gt;9012 ExecutionReport (8=FIX.4.2 9=278 35=8 34=9012 52=20151119-17:12:54 43=N 49=UBS 50=PROG 56=TWORDERS42 128=GUARDIAN 20=0 151=4481 150=0 11=AFMC286;6CE7-7DF5 31=0.0000 32=0 21=1 15=USD 59=0 55=AMGN 22=1 48=031162100 54=1 39=0 38=4481 40=1 37=42348647 17=842696664 6=0.0000000 14=0 60=20151119-17:12:54 75=20151119 10=181 )\n2015-11-19 12:13:58,300INFO [Fix message assembler]USA4P3_42_CamUSP3_42-&lt;68476 ExecutionReport (8=FIX.4.2 9=303 35=8 34=68476 52=20151119-17:13:58 43=N 49=USA4P3_42 50=PROG 56=TWORDERS42 128=GUARDIAN 20=0 151=4381 150=1 11=AFMC286;6CE7-7DF5 29=1 31=159.0800 32=100 30=O 21=1 15=USD 59=0 55=AMGN 22=1 48=031162100 54=1 39=1 38=4481 40=1 37=42348647 17=842697795 6=159.0800000 14=100 60=20151119-17:13:58 75=20151119 10=243 )\n2015-11-19 12:13:58,300INFO [SessionManager for CamUSP3: USA4P3_42 CamUSP3_42]TWORDERS42_UBS-&gt;9061 ExecutionReport (8=FIX.4.2 9=296 35=8 34=9061 52=20151119-17:13:58 43=N 49=UBS 50=PROG 56=TWORDERS42 128=GUARDIAN 20=0 151=4381 150=1 11=AFMC286;6CE7-7DF5 29=1 31=159.0800 32=100 30=O 21=1 15=USD 59=0 55=AMGN 22=1 48=031162100 54=1 39=1 38=4481 40=1 37=42348647 17=842697795 6=159.0800000 14=100 60=20151119-17:13:58 75=20151119 10=068 )\n2015-11-19 12:14:16,245INFO [Fix message assembler]USA4P3_42_CamUSP3_42-&lt;68598 ExecutionReport (8=FIX.4.2 9=304 35=8 34=68598 52=20151119-17:14:16 43=N 49=USA4P3_42 50=PROG 56=TWORDERS42 128=GUARDIAN 20=0 151=4281 150=1 11=AFMC286;6CE7-7DF5 29=2 31=159.0850 32=100 30=65 21=1 15=USD 59=0 55=AMGN 22=1 48=031162100 54=1 39=1 38=4481 40=1 37=42348647 17=842698178 6=159.0825000 14=200 60=20151119-17:14:16 75=20151119 10=020 )\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>From TWORDERS42    to    UBS\nFrom TWORDERS42    to    USA4P3_42\nFrom USA4P3_42     to    TWORDERS42\nFrom UBS           to    TWORDERS42\nFrom USA4P3_42     to    TWORDERS42\nFrom UBS           to    TWORDERS42\nFrom USA4P3_42     to    TWORDERS42\n</code></pre>\n\n<p>This works fine for inline data, which is great for examples, but not so great for real life. Well, Perl makes it easy to process files, too: just delete the <code>__DATA__</code> section at the bottom and change <code>while (&lt;DATA&gt;)</code> to <code>while (&lt;&gt;)</code>. </p>\n\n<p>You can then run your script like this:</p>\n\n<pre><code>perl myscript.pl file1.log file2.log file3.log [...]\n</code></pre>\n\n<p>If you expect the width of the first column to be highly dynamic, you could do something like this, but I think it's overkill for this example, and I'd prefer to just use \"engineering judgement\" instead.</p>\n\n<pre><code>use List::Util qw(max);\n\nmy @data;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @fields = split;\n    my %values;\n\n    for (@fields) {\n        my @parts = split(/=/);\n        next unless scalar(@parts) == 2;\n        $values{$parts[0]} = $parts[1];\n    }\n\n    push(@data, \\%values);\n}\n\nmy $max = max(map { length($_-&gt;{49}) } @data);\n\nfor (@data) {\n    printf(\"From %-*s to    %s\\n\", $max + 3, $_-&gt;{49}, $_-&gt;{56});\n}\n</code></pre>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1448135412, "creation_date": 1448127972, "question_id": 33846576, "link": "https://stackoverflow.com/questions/33846576/fix-protocol-print-out-consecutive-spaces-perl", "title": "FIX protocol print out consecutive spaces. perl", "body": "<p>This is the FIX protocol Log</p>\n\n<pre><code>2015-11-19 12:11:34,050INFO [Fix message assembler]TWORDERS42_UBS-&lt;1356 OrderSingle (8=FIX.4.2 9=195 35=D 34=1356 49=TWORDERS42 52=20151119-17:11:34.049 56=UBS 57=PROG 97=N 115=GUARDIAN 11=AFMC286;6CE7-7DF5 15=USD 21=1 22=1 38=4481 40=1 48=031162100 54=1 55=AMGN 59=0 60=20151119-17:01:11 92=CSA 10=028 )\n2015-11-19 12:11:34,050INFO [SessionManager for CamUSP3: TWORDERS42 UBS]USA4P3_42_CamUSP3_42-&gt;4735 OrderSingle (8=FIX.4.2 9=197 35=D 34=4735 49=TWORDERS42 52=20151119-17:11:34 56=USA4P3_42 57=PROG 97=N 115=GUARDIAN 11=AFMC286;6CE7-7DF5 15=USD 21=1 22=1 38=4481 40=1 48=031162100 54=1 55=AMGN 59=0 60=20151119-17:01:11 92=CSA 10=210 )\n2015-11-19 12:12:54,468INFO [Fix message assembler]USA4P3_42_CamUSP3_42-&lt;68210 ExecutionReport (8=FIX.4.2 9=285 35=8 34=68210 52=20151119-17:12:54 43=N 49=USA4P3_42 50=PROG 56=TWORDERS42 128=GUARDIAN 20=0 151=4481 150=0 11=AFMC286;6CE7-7DF5 31=0.0000 32=0 21=1 15=USD 59=0 55=AMGN 22=1 48=031162100 54=1 39=0 38=4481 40=1 37=42348647 17=842696664 6=0.0000000 14=0 60=20151119-17:12:54 75=20151119 10=099 )\n2015-11-19 12:12:54,468INFO [SessionManager for CamUSP3: USA4P3_42 CamUSP3_42]TWORDERS42_UBS-&gt;9012 ExecutionReport (8=FIX.4.2 9=278 35=8 34=9012 52=20151119-17:12:54 43=N 49=UBS 50=PROG 56=TWORDERS42 128=GUARDIAN 20=0 151=4481 150=0 11=AFMC286;6CE7-7DF5 31=0.0000 32=0 21=1 15=USD 59=0 55=AMGN 22=1 48=031162100 54=1 39=0 38=4481 40=1 37=42348647 17=842696664 6=0.0000000 14=0 60=20151119-17:12:54 75=20151119 10=181 )\n2015-11-19 12:13:58,300INFO [Fix message assembler]USA4P3_42_CamUSP3_42-&lt;68476 ExecutionReport (8=FIX.4.2 9=303 35=8 34=68476 52=20151119-17:13:58 43=N 49=USA4P3_42 50=PROG 56=TWORDERS42 128=GUARDIAN 20=0 151=4381 150=1 11=AFMC286;6CE7-7DF5 29=1 31=159.0800 32=100 30=O 21=1 15=USD 59=0 55=AMGN 22=1 48=031162100 54=1 39=1 38=4481 40=1 37=42348647 17=842697795 6=159.0800000 14=100 60=20151119-17:13:58 75=20151119 10=243 )\n2015-11-19 12:13:58,300INFO [SessionManager for CamUSP3: USA4P3_42 CamUSP3_42]TWORDERS42_UBS-&gt;9061 ExecutionReport (8=FIX.4.2 9=296 35=8 34=9061 52=20151119-17:13:58 43=N 49=UBS 50=PROG 56=TWORDERS42 128=GUARDIAN 20=0 151=4381 150=1 11=AFMC286;6CE7-7DF5 29=1 31=159.0800 32=100 30=O 21=1 15=USD 59=0 55=AMGN 22=1 48=031162100 54=1 39=1 38=4481 40=1 37=42348647 17=842697795 6=159.0800000 14=100 60=20151119-17:13:58 75=20151119 10=068 )\n2015-11-19 12:14:16,245INFO [Fix message assembler]USA4P3_42_CamUSP3_42-&lt;68598 ExecutionReport (8=FIX.4.2 9=304 35=8 34=68598 52=20151119-17:14:16 43=N 49=USA4P3_42 50=PROG 56=TWORDERS42 128=GUARDIAN 20=0 151=4281 150=1 11=AFMC286;6CE7-7DF5 29=2 31=159.0850 32=100 30=65 21=1 15=USD 59=0 55=AMGN 22=1 48=031162100 54=1 39=1 38=4481 40=1 37=42348647 17=842698178 6=159.0825000 14=200 60=20151119-17:14:16 75=20151119 10=020 )\n\n\n\n#!/usr/bin/perl\nuse strict ;\nuse warnings ;\n\n\n\nmy $filename = \"/tmp/foo\" ;\n\nopen(my $fh, '&lt;', $filename)\nor die \"Could not open file '$filename' $!\";\n\nmy @fixString = \" \";\n\nwhile (my $row = &lt;$fh&gt;) {\nchomp $row;\n\nmy @line = split(\"\\s\", \"$row\");\nforeach my $line(@line) {\nif ($line =~ /56=(\\w+)/ ) {\n$fixString[3] = \"$1\" ;\n}\nforeach $line(@line) {\nif ($line =~ /49=(\\w+)/ ) {\n$fixString[2] = \"From $1 to \" ;\n}\n#sleep 1 ;\n}\n\n\n}\n\nprint \"@fixString\\n\" ;\n}\n</code></pre>\n\n<p>For some reason When i use the \"\\s\" as the splitter, It splits on the \"s\" - I thought that the regex for space is \"\\s\"</p>\n\n<pre><code>From TWORDERS42 to  ca\nFrom TWORDERS42 to  USA4P3_42\nFrom USA4P3_42 to  TWORDERS42\nFrom ca to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\nFrom ca to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\nFrom ca to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\nFrom ca to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\nFrom ca to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\nFrom ca to  TWORDERS42\nFrom ca to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\n</code></pre>\n\n<p>ANyhow when i replace the \"\\s\" with a \" \" it gets better -</p>\n\n<pre><code>From TWORDERS42 to  casperbank\nFrom TWORDERS42 to  USA4P3_42\nFrom USA4P3_42 to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom USA4P3_42 to  TWORDERS42\n</code></pre>\n\n<p>What I want is consistent spaces between the print outs.  Is there a way to do this whilst printing from an array ?</p>\n\n<pre><code>From TWORDERS42 to  casperbank\nFrom TWORDERS42 to  USA4P3_42\nFrom USA4P3_42  to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom USA4P3_42  to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom USA4P3_42  to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom USA4P3_42  to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom USA4P3_42  to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom USA4P3_42  to  TWORDERS42\nFrom USA4P3_42  to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom casperbank to  TWORDERS42\nFrom USA4P3_42  to  TWORDERS42\n</code></pre>\n"}, {"tags": ["perl", "dependencies"], "comments": [{"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1448137769, "post_id": 33846491, "comment_id": 55461102, "body": "Are you open to programatic checks, or does it have to be a one-liner require?"}, {"owner": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "reply_to_user": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1448137950, "post_id": 33846491, "comment_id": 55461145, "body": "A one liner would be nice. But a programmatic one is also OK."}, {"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1448138009, "post_id": 33846491, "comment_id": 55461167, "body": "I&#39;ll put a solution down, and work on some sample code and edit it."}], "answers": [{"tags": [], "owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "is_accepted": false, "score": 1, "last_activity_date": 1448138642, "last_edit_date": 1448138642, "creation_date": 1448138145, "answer_id": 33848290, "question_id": 33846491, "link": "https://stackoverflow.com/questions/33846491/moduleinstall-requires-and-skipping-a-version/33848290#33848290", "title": "Module::Install requires and skipping a version", "body": "<p>Load the module using require, possibly using eval if necessary to avoid errors if it doesn't exist. For most CPAN modules, you can check the $VERSION variable of the module to see if the loaded version is what you expect. If not, exit or otherwise handle the problem as you see fit.</p>\n\n<pre><code>BEGIN\n{\n    require Net::DNS;\n    if ($Net::DNS::VERSION == 1.03) {\n        print STDERR \"Error: Net::DNS version 1.03 loaded\\n\";\n        exit 1;\n    }\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": false, "score": 2, "last_activity_date": 1448139811, "creation_date": 1448139811, "answer_id": 33848546, "question_id": 33846491, "link": "https://stackoverflow.com/questions/33846491/moduleinstall-requires-and-skipping-a-version/33848546#33848546", "title": "Module::Install requires and skipping a version", "body": "<p>Something like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $ver = eval { require Net::DNS; $Net::DNS::VERSION };\n\nif (!$ver || $ver eq '1.03') {\n    requires 'Net::DNS' =&gt; '1.04';\n}\n</code></pre>\n"}], "owner": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1448139811, "creation_date": 1448127479, "last_edit_date": 1495540760, "question_id": 33846491, "link": "https://stackoverflow.com/questions/33846491/moduleinstall-requires-and-skipping-a-version", "title": "Module::Install requires and skipping a version", "body": "<p>I have the following requirement for a Perl application</p>\n\n<pre><code>requires 'Net::DNS'                      =&gt; 0;\n</code></pre>\n\n<p>Now, version 1.03 of <code>Net::DNS</code> is broken (see <a href=\"https://stackoverflow.com/questions/33846179/not-a-glob-reference-at-io-select-pm-line-61/33846324#33846324\">Not a GLOB reference at ...IO/Select.pm line 61</a> and <a href=\"https://rt.cpan.org/Ticket/Display.html?id=108745\" rel=\"nofollow noreferrer\">#108745: Net::DNS::Resolver bgsend</a>)  and I would like to skip it. Is there a way to say that?</p>\n\n<ul>\n<li>either that the version should be smaller than 1.03?</li>\n<li>or that that the version could be smaller than 1.03 or bigger?</li>\n</ul>\n"}, {"tags": ["perl", "dns"], "answers": [{"tags": [], "owner": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "is_accepted": false, "score": 1, "last_activity_date": 1448126444, "creation_date": 1448126444, "answer_id": 33846324, "question_id": 33846179, "link": "https://stackoverflow.com/questions/33846179/not-a-glob-reference-at-io-select-pm-line-61/33846324#33846324", "title": "Not a GLOB reference at ...IO/Select.pm line 61", "body": "<p>The problem is caused by a change in the API of Net::DNS::Resolver bgsend</p>\n\n<p>See <a href=\"https://rt.cpan.org/Ticket/Display.html?id=108745\" rel=\"nofollow\">#108745: Net::DNS::Resolver bgsend</a></p>\n"}], "owner": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448126444, "creation_date": 1448125659, "question_id": 33846179, "link": "https://stackoverflow.com/questions/33846179/not-a-glob-reference-at-io-select-pm-line-61", "title": "Not a GLOB reference at ...IO/Select.pm line 61", "body": "<p>I am passing an <code>IO::Select</code> object as handle to <code>IO::Select::add</code> and getting the following error:</p>\n\n<pre><code>Not a GLOB reference at ...IO/Select.pm line 61\n</code></pre>\n\n<p>This worked for years and since a couple of days (weeks) people are beginning to get the error. Looking online I was not able to find out if I was using the call in the wrong way or if some recent perl or <code>DNS::Resolver</code> update could be the cause of the problem.</p>\n\n<p>I am doing the following</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse IO::Select;\nuse Net::DNS;\n\n# create a resolver object\nmy $res = Net::DNS::Resolver-&gt;new();\n\n# create an IO::Select object\nmy $sel = IO::Select-&gt;new();\n\n\n# perform the background DNS query\nmy $sock = $res-&gt;bgsend('corti.li');\n\n# adding the socket generates the error\n$sel-&gt;add($sock);\n</code></pre>\n\n<p>Adding some debugging I don't see anything wrong:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Data::Dumper;\nuse IO::Select;\nuse Net::DNS;\n\n# create a resolver object\nmy $res = Net::DNS::Resolver-&gt;new();\n\nwarn Dumper $res;\n\n# create an IO::Select object\nmy $sel = IO::Select-&gt;new();\n\nwarn Dumper $sel;\n\n# perform the background DNS query\nmy $sock = $res-&gt;bgsend('corti.li');\n\nwarn Dumper $sock;\n\n# adding the socket generates the error\n$sel-&gt;add($sock);\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>$VAR1 = bless( {\n                 'force_v4' =&gt; 0,\n                 'retrans' =&gt; 5,\n                 'persistent_udp' =&gt; 0,\n                 'adflag' =&gt; 0,\n                 'force_v6' =&gt; 0,\n                 'port' =&gt; 53,\n                 'answerfrom' =&gt; '',\n                 'prefer_v6' =&gt; 0,\n                 'defnames' =&gt; 1,\n                 'tcp_timeout' =&gt; 120,\n                 'udp_timeout' =&gt; 30,\n                 'igntc' =&gt; 0,\n                 'udppacketsize' =&gt; 0,\n                 'dnsrch' =&gt; 1,\n                 'recurse' =&gt; 1,\n                 'srcaddr' =&gt; 0,\n                 'persistent_tcp' =&gt; 0,\n                 'retry' =&gt; 4,\n                 'cdflag' =&gt; 0,\n                 'nameserver4' =&gt; [\n                                    '129.132.98.12'\n                                  ],\n                 'searchlist' =&gt; [\n                                   'd.ethz.ch',\n                                   'ethz.ch'\n                                 ],\n                 'tsig_rr' =&gt; undef,\n                 'nameserver6' =&gt; [\n                                    '2001:67c:10ec::c'\n                                  ],\n                 'usevc' =&gt; 0,\n                 'dnssec' =&gt; 0,\n                 'debug' =&gt; 0,\n                 'errorstring' =&gt; 'unknown error or no error',\n                 'srcport' =&gt; 0\n               }, 'Net::DNS::Resolver' );\n$VAR1 = bless( [\n                 undef,\n                 0\n               ], 'IO::Select' );\n$VAR1 = bless( [\n                 ',\n                 1,\n                 undef,\n                 undef,\n                 undef,\n                 [\n                   bless( \\*Symbol::GEN0, 'IO::Socket::IP' ),\n                   1448125508,\n                   '129.132.98.12',\n                   54103\n                 ]\n               ], 'IO::Select' );\nNot a GLOB reference at /Users/corti/perl5/perlbrew/perls/perl-5.22.0/lib/5.22.0/darwin-2level/IO/Select.pm line 61.\n</code></pre>\n\n<p>I am using Perl 5.22 and Net::DNS 1.03</p>\n\n<p>Using Perl 5.18 and Net::DNS 0.74 the code works.</p>\n\n<p>Am I doing something wrong or it is a bug?</p>\n"}, {"tags": ["perl", "blast"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1448171328, "post_id": 33843205, "comment_id": 55468322, "body": "This question appears to be related to a fairly specialized bioinformatics tool, which means you might be better off seeking help from people who are more familiar with it. There&#39;s a <code>blast-help</code> mailing list mentioned on the page you linked to---I&#39;d give that a shot if I were you."}], "owner": {"reputation": 47, "user_id": 5589054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4965ce59763dac65bd703a277cc4ad81?s=128&d=identicon&r=PG&f=1", "display_name": "Alaa Alarfaj", "link": "https://stackoverflow.com/users/5589054/alaa-alarfaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 984, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1448108047, "creation_date": 1448108047, "question_id": 33843205, "link": "https://stackoverflow.com/questions/33843205/blast-database-error-no-alias-or-index-file-found-for-nucleotide-database-swis", "title": "BLAST database error: no alias or index file found for nucleotide database [swissprot] in search path", "body": "<p>I am following this link: <a href=\"http://www.ncbi.nlm.nih.gov/books/NBK52637/\" rel=\"nofollow\">http://www.ncbi.nlm.nih.gov/books/NBK52637/</a></p>\n\n<p>I install NCBI BLAST+ package. Then create db folder inside blast-2.2.31+ folder to download one of NCBI databases. I select swissprot database and download it in the db folder. After that, I run:</p>\n\n<p>perl update_blastdb.pl --passive swissprot</p>\n\n<p>and it connect to NCBI successfully and download swissport in the bin folder. So, now I have two swissprot.tar.gz. One I download it in db folder and one downloaded in bin folder after running perl cammand.</p>\n\n<p>Then I set PATH and BLASTDB environment variables. <strong>BLASTDB will contain which swissport database? the one in db or in bin?</strong></p>\n\n<p><strong><em>The main issue appears when I type:</em></strong>\nblastdbcmd -db swissprot -info</p>\n\n<p>BLAST database error: no alias or index file found for nucleotide database [swissprot] in search path.....</p>\n\n<p>What does this means?\nI follow the link step by step.</p>\n\n<p>Any hints?</p>\n\n<p>Thank you and regards,,,\nAlaa</p>\n"}, {"tags": ["perl", "dictionary", "mason"], "comments": [{"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1448102585, "post_id": 33842275, "comment_id": 55449268, "body": "This doesn&#39;t appear to be about Mason at all.  Instead, it appears to be about how to correctly use your <code>PI::employee::register::Service</code> class.  (Not to mention <code>map</code>.)  We&#39;re not going to know what its API is supposed to be."}, {"owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "reply_to_user": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1448102876, "post_id": 33842275, "comment_id": 55449359, "body": "It is about mason only .. PI is just referring to perl client that I am using to access a service."}, {"owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "reply_to_user": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1448103075, "post_id": 33842275, "comment_id": 55449411, "body": "I am getting a mason syntax error .. now does it make sense to you"}, {"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1448103219, "post_id": 33842275, "comment_id": 55449460, "body": "You are reporting parse errors.  Because you are not producing valid Perl.  Mason is not your problem."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1448103740, "post_id": 33842275, "comment_id": 55449604, "body": "Look at perl hashes, and <a href=\"https://stackoverflow.com/questions/15537157/perl-nested-structures\" title=\"perl nested structures\">stackoverflow.com/questions/15537157/perl-nested-structures</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 0, "creation_date": 1448104603, "post_id": 33842504, "comment_id": 55449829, "body": "Function takes three parameters - String, String, Map&lt;String, String&gt;"}, {"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "reply_to_user": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 0, "creation_date": 1448104738, "post_id": 33842504, "comment_id": 55449857, "body": "So it is obvious that <code>attributesMap =&gt; map { &#39;session-id&#39; =&gt; $Session-&gt;getSessionId()} (1)</code> cannot be correct."}, {"owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 0, "creation_date": 1448104865, "post_id": 33842504, "comment_id": 55449879, "body": "So please suggest .. how shall I pass the map . :( .. all I want to do is pass a map with key &quot;session-id&quot; and value $Session-&gt;getSessionId()"}, {"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "reply_to_user": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "edited": false, "score": 0, "creation_date": 1448106321, "post_id": 33842504, "comment_id": 55450282, "body": "I&#39;ve updated the answer to reflect the new things I&#39;ve learned about the API you are calling."}], "tags": [], "owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "is_accepted": true, "score": 3, "last_activity_date": 1448104870, "last_edit_date": 1448104870, "creation_date": 1448103545, "answer_id": 33842504, "question_id": 33842275, "link": "https://stackoverflow.com/questions/33842275/mason-passing-a-map-of-strings-to-a-service-call/33842504#33842504", "title": "Mason - Passing a map of strings to a service call", "body": "<p>Perl's <code>map</code> function, as documented in <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\"><code>perldoc -f map</code></a> takes a <code>BLOCK</code> (or <code>EXPR</code>) and a <code>LIST</code>.  You are not supplying a <code>LIST</code>, therefore your code does not compile.</p>\n\n<p>You can get rid of the parse error by supplying a list:</p>\n\n<p><code>map { ('session-id' =&gt; $Session-&gt;getSessionId()) } (1)</code></p>\n\n<p>This is almost certainly not what you want, though.  You are using <code>map</code> in error.  You want a map from keys to values, which is not what the <code>map</code> function is for.</p>\n\n<p>Instead of the call to <code>map</code>, it looks like you need a hashref like</p>\n\n<p><code>{ 'session-id' =&gt; $Session-&gt;getSessionId() }</code></p>\n\n<p>.</p>\n"}], "owner": {"reputation": 5835, "user_id": 969107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c221e0ceaa1881df71c997ced41137b5?s=128&d=identicon&r=PG", "display_name": "Andy897", "link": "https://stackoverflow.com/users/969107/andy897"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 33842504, "answer_count": 1, "score": 1, "last_activity_date": 1448104870, "creation_date": 1448101962, "question_id": 33842275, "link": "https://stackoverflow.com/questions/33842275/mason-passing-a-map-of-strings-to-a-service-call", "title": "Mason - Passing a map of strings to a service call", "body": "<p>I am trying to pass a map of string to a service call that I am making from my .mi file. </p>\n\n<p>I am trying the below but it gives me syntax error at \");\". </p>\n\n<pre><code>  my $serviceResult = PI::employee::register::Service-&gt;saveAttributes(\n          attributesMap =&gt; map { ('session-id' =&gt; $Session-&gt;getSessionId())}\n      );\n</code></pre>\n\n<p>If I instead try</p>\n\n<pre><code> my $serviceResult = PI::employee::register::Service-&gt;saveAttributes(\n          attributesMap =&gt; map { 'session-id' =&gt; $Session-&gt;getSessionId()}\n      );\n</code></pre>\n\n<p>It says not enough arguments for map. :(</p>\n"}, {"tags": ["regex", "linux", "bash", "perl", "sed"], "comments": [{"owner": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "edited": false, "score": 1, "creation_date": 1448101523, "post_id": 33842183, "comment_id": 55448996, "body": "bash and javascript?"}, {"owner": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "reply_to_user": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "edited": false, "score": 0, "creation_date": 1448102436, "post_id": 33842183, "comment_id": 55449224, "body": "I would like to use bash/grep as I currently am if at all possible. But as I understand it there are regex complexity limitations, so I would be happy to use javascript or perl instead if need be."}, {"owner": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "edited": false, "score": 1, "creation_date": 1448102577, "post_id": 33842183, "comment_id": 55449263, "body": "JS regex are more limited than bash. And bash provides <code>sed</code>, which uses Perl&#39;s regexes."}, {"owner": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "reply_to_user": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "edited": false, "score": 0, "creation_date": 1448102771, "post_id": 33842183, "comment_id": 55449321, "body": "I wasn&#39;t aware of that, I had read that the opposite is true. I know about using GNU <code>grep</code> since it can use perl regex, but I hadn&#39;t thought of <code>sed</code>. Either way, I&#39;m more comfortable with bash, so using <code>grep</code> or <code>sed</code> is perfect."}, {"owner": {"reputation": 6043, "user_id": 5290909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a34788cb69a6f3007f88e3a36a590ca?s=128&d=identicon&r=PG", "display_name": "Mariano", "link": "https://stackoverflow.com/users/5290909/mariano"}, "edited": false, "score": 0, "creation_date": 1448108274, "post_id": 33842183, "comment_id": 55450859, "body": "Since you&#39;re choosing the language, can it be done in PHP?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1448110745, "post_id": 33842183, "comment_id": 55451613, "body": "From your examples, <code>envelope-from=john.smith@gmail.com</code> <i>could</i> be a valid email address as well; without context, it&#39;s impossible to tell."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "edited": false, "score": 0, "creation_date": 1448110879, "post_id": 33842183, "comment_id": 55451658, "body": "@hjpotter92 <code>sed</code> does <i>not</i> support Perl regular expressions in any popular/common version."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1448183579, "post_id": 33842183, "comment_id": 55470629, "body": "@tripleee, I don&#39;t think this is a duplicate of <a href=\"http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address\">this</a>, as the Asker&#39;s goal is not to validate, but to extract (which requires less strict matching), and not only an email address, but also a name, while discarding other prefixed text. Please reconsider."}, {"owner": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1448188960, "post_id": 33842183, "comment_id": 55472009, "body": "@triplee, I concur. I did scour Stack Exchange for hours in search of an answer before posting my question. There are some related posts, but as trincot has mentioned, none that addressed a name as well as email while discarding prefixed text."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1448196378, "post_id": 33842183, "comment_id": 55473937, "body": "@trincot &amp; OP I am very hesitant to reopen this, for a number of reasons. If you studied previous questions then you know there are a number of common shortcuts which fail on some addresses but simplify the task a lot, but you have not stated your requirements for these (e.g. quoted localpart, international domain names, etc). If you studied previous questions, you know that regex is less than ideal for this task. ..."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1448196390, "post_id": 33842183, "comment_id": 55473938, "body": "... If your requirements for extraction are less demanding than for validation, one of the better validation regexes should be useful as a starting point (and frankly, just accepting Firstname Lastname in front would tackle most real-world cases, and you probably cannot achieve 100% accuracy anyway). The answers so far are not particularly striking, and in fact repeat many mistakes from the poorer answers to existing questions. And yet, you already accepted one of them. Do you seriously believe that you can get good new answers? Why?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1448198067, "post_id": 33842183, "comment_id": 55474445, "body": "Please keep in mind that I am by no means the final authority here, though. If you feel that this has been handled incorrectly, by all means open a question on <a href=\"https://meta.stackoverflow.com/\">meta.stackoverflow.com</a> or flag for moderator attention."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "edited": false, "score": 1, "creation_date": 1448103292, "post_id": 33842369, "comment_id": 55449487, "body": "Thank you, I do appreciate this logic, I hadn&#39;t thought about doing it like that. The only thing it doesn&#39;t pick up is the &#39;johnsmith@gmail.com&#39; variant. You can see it on <a href=\"https://regex101.com/r/zB9dR6/1\" rel=\"nofollow noreferrer\">regex101</a>.  Although handling the &#39;before&#39; with program logic is possible, if I <i>could</i> squeeze this into an all-powerful regex, it would make things much simpler for me. I have years and years of email to parse, that&#39;s a lot of false positives..."}, {"owner": {"reputation": 3890, "user_id": 907047, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Kn6z4.jpg?s=128&g=1", "display_name": "Georgi Naumov", "link": "https://stackoverflow.com/users/907047/georgi-naumov"}, "reply_to_user": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "edited": false, "score": 0, "creation_date": 1448104651, "post_id": 33842369, "comment_id": 55449842, "body": "I edit the answer to handle this case also."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 1, "creation_date": 1448105624, "post_id": 33842369, "comment_id": 55450098, "body": "email addresses can have more than just [a-z.]"}, {"owner": {"reputation": 3890, "user_id": 907047, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Kn6z4.jpg?s=128&g=1", "display_name": "Georgi Naumov", "link": "https://stackoverflow.com/users/907047/georgi-naumov"}, "edited": false, "score": 0, "creation_date": 1448106114, "post_id": 33842369, "comment_id": 55450225, "body": "Yes. Just bear in the mind."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1448111009, "post_id": 33842369, "comment_id": 55451709, "body": "And many valid, current top-level domains have a lot more than four characters, many from a broader set than the overly strict <code>[a-z]</code>."}], "tags": [], "owner": {"reputation": 3890, "user_id": 907047, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Kn6z4.jpg?s=128&g=1", "display_name": "Georgi Naumov", "link": "https://stackoverflow.com/users/907047/georgi-naumov"}, "is_accepted": false, "score": 0, "last_activity_date": 1448106477, "last_edit_date": 1448106477, "creation_date": 1448102644, "answer_id": 33842369, "question_id": 33842183, "link": "https://stackoverflow.com/questions/33842183/regular-expression-for-parsing-name-and-email-from-text/33842369#33842369", "title": "Regular expression for parsing name and email from text", "body": "<p>Just a suggestion. May be for you will be more suitable to check for \"before email\" and \"email\" and after extracting to handle \"before email\" from program logic. Like this:</p>\n\n<pre><code>((?:(?![a-z.]+@[a-z.]+\\.[a-z]{2,4})(?:.|\\r))+)([a-z.]+@[a-z.]+\\.[a-z]{2,4})\n</code></pre>\n\n<p><code>((?:(?!regex)(?:.|\\r))+)(regex)</code> - this mean \"something that not matched regex\" but instead this is every symbol including character return repeated from one to an infinite number of times and remember this into first backreference and after this try to match regex and put it in second backreference. </p>\n\n<p>Edit: \nIf you want to handle cases when first group don't exists (there is email present only) here is modified version.</p>\n\n<pre><code>((?:(?![a-z.]+@[a-z.]+\\.[a-z]{2,4})(?:.|\\r))*)([a-z.]+@[a-z.]+\\.[a-z]{2,4})\n\n* instead + \n</code></pre>\n\n<p>Edit2:\nImprovement according to trincot comment.</p>\n\n<pre><code>((?:(?![^&gt;&lt;@\\s=;]+@[^&gt;&lt;@\\s=;]+\\.[a-z]{2,4})(?:.|\\r))*)([^&gt;&lt;@\\s=;]+@[^&gt;&lt;@\\s=;]+\\.[a-z]{2,4})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "edited": false, "score": 0, "creation_date": 1448157251, "post_id": 33843473, "comment_id": 55466045, "body": "Excellent job, trincot. With the non-capturing group it&#39;s perfect - but there&#39;s a trailing space in the name  <code>&quot;John Smith &quot;</code>. How can I correct this, while still respecting the space between first name and last name? I&#39;ve played with <code>([\\w ]*)[ &quot;&lt;])?\\s*</code> to no avail. Many thanks."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "reply_to_user": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "edited": false, "score": 0, "creation_date": 1448182676, "post_id": 33843473, "comment_id": 55470410, "body": "Fixed that by making the &quot;name&quot; capturing group non-greedy (changed <code>[\\w ]*</code> to <code>[\\w ]*?</code>). I also made the prefix-matching non-capturing, and updated the regex fiddle accordingly."}, {"owner": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "edited": false, "score": 0, "creation_date": 1448188696, "post_id": 33843473, "comment_id": 55471936, "body": "You have my eternal thanks trincot! Plus, answer acceptance. :) Lastly, the regex seems to be incompatible with <code>grep</code>, I&#39;ve tried both double and single quotes. I guess the regex is too advanced for <code>grep</code> - could you recommend another cli tool, preferably already bundled in vanilla linux? <code>$ grep -E o -h &#39;&#47;\\s*(?:.*?[:=;]|ORCPT|for|domain of|ESMTPSA id)?\\s*(?:&quot;?([\\w ]*?)[ &quot;&lt;])?\\s*&lt;?([\\w.]*?@[\\w.]*)&gt;?&#47;gi&#39; examples</code>"}, {"owner": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "edited": false, "score": 0, "creation_date": 1448189457, "post_id": 33843473, "comment_id": 55472119, "body": "I&#39;m assuming the issue is unescaped characters? Must I escape them all?"}, {"owner": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "edited": false, "score": 0, "creation_date": 1448189813, "post_id": 33843473, "comment_id": 55472219, "body": "It seems to make more sense to use an alternative to <code>grep</code> instead. I&#39;ve read about <code>grep -P</code> but it doesn&#39;t seem to work for me either on Linux Mint."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "reply_to_user": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "edited": false, "score": 0, "creation_date": 1448190730, "post_id": 33843473, "comment_id": 55472460, "body": "In your <code>grep</code> statement, I notice a missing hyphen before the <code>o</code> option. I suppose this is not the only issue, but I thought I better mention it. I will look further."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "reply_to_user": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "edited": false, "score": 0, "creation_date": 1448194085, "post_id": 33843473, "comment_id": 55473299, "body": "Found a solution: perl. Added to my answer."}], "tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": true, "score": 0, "last_activity_date": 1448194066, "last_edit_date": 1448194066, "creation_date": 1448109701, "answer_id": 33843473, "question_id": 33842183, "link": "https://stackoverflow.com/questions/33842183/regular-expression-for-parsing-name-and-email-from-text/33843473#33843473", "title": "Regular expression for parsing name and email from text", "body": "<p>Here is another possible regex, which I split in three lines for clarity, but should be on one line:</p>\n\n<pre><code>\\s*(?:.*?[:=;]|ORCPT|for|domain of|ESMTPSA id)?\n\\s*(?:\"?([\\w ]*?)[ \"&lt;])?\n\\s*&lt;?([\\w.]*?@[\\w.]*)&gt;?\n</code></pre>\n\n<p>The first line eliminates the prefixes, and therefore is non-capturing. It eliminates anything that ends with <code>:;=</code> or some specific literals.</p>\n\n<p>The second and third line are the two capturing groups for name and email respectively.</p>\n\n<p>It correctly parses the example you provided.</p>\n\n<p>See <a href=\"https://regex101.com/r/kM1yN3/1\" rel=\"nofollow\">regex fiddle</a>.</p>\n\n<p><strong>Solution with Perl</strong></p>\n\n<p>You can launch this <code>perl</code> onliner:</p>\n\n<pre><code>perl -ne 'while(/.../gi){print \"$1|$2\\n\";}' yourinputfile\n</code></pre>\n\n<p>This will output the captured groups 1 and 2, separated by a pipe character:</p>\n\n<pre><code>John Smith|john.smith@gmail.com\nJohn Smith|johnsmith@gmail.com\nJohn Smith|johnsmith@gmail.com\nJohn|johnsmith@gmail.com\nJohn Smith|johnsmith@gmail.com\n|johnsmith@gmail.com\n|johnsmith@gmail.com\n|johnsmith@gmail.com\nJohn|johnsmith@gmail.com\nJohn Smith|john.smith@gmail.com\nJohn Smith|john.smith@gmail.com\n|john.smith@gmail.com\n|john.smith@gmail.com\n|john.smith@gmail.com\n|john.smith@gmail.com\n|john.smith@gmail.com\n|john.smith@gmail.com\n|john.smith@gmail.com\n|john.smith@gmail.com\n|john.smith@gmail.com\n|john.smith@gmail.com\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 5561703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f18f8140818476785cba68813303081?s=128&d=identicon&r=PG&f=1", "display_name": "Kier", "link": "https://stackoverflow.com/users/5561703/kier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "closed_date": 1448111169, "accepted_answer_id": 33843473, "answer_count": 2, "score": 1, "last_activity_date": 1448194066, "creation_date": 1448101352, "last_edit_date": 1448102882, "question_id": 33842183, "link": "https://stackoverflow.com/questions/33842183/regular-expression-for-parsing-name-and-email-from-text", "closed_reason": "Duplicate", "title": "Regular expression for parsing name and email from text", "body": "<p>This is the regular expression I have formed so far:</p>\n\n<pre><code>/(?:(\"?(?:.*)\"?)\\s*)?\\s&lt;(.*@.*)&gt;|(?:mailto:(.*@.*))|(.*@.*)/gi\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/mN5wA7/3\" rel=\"nofollow\">You can check it out at regex101</a></p>\n\n<p>I'm trying to extract 'Name' &amp; 'Email' from the following:</p>\n\n<pre><code>John Smith &lt;john.smith@gmail.com&gt;\nJohn Smith &lt;johnsmith@gmail.com&gt;\n\"John Smith\" &lt;johnsmith@gmail.com&gt;\n\"John\" &lt;johnsmith@gmail.com&gt;\nJohn Smith&lt;johnsmith@gmail.com&gt;\n&lt;johnsmith@gmail.com&gt;\njohnsmith@gmail.com\nmailto:johnsmith@gmail.com\n\"John\"&lt;johnsmith@gmail.com&gt;\n\nTo: John Smith &lt;john.smith@gmail.com&gt;\nFrom: John Smith &lt;john.smith@gmail.com&gt;\nReply-to: john.smith@gmail.com\nReturn-path: &lt;john.smith@gmail.com&gt;\nMessage-id: &lt;john.smith@gmail.com&gt;\nReferences: &lt;john.smith@gmail.com&gt;\nOriginal-recipient: rfc822;john.smith@gmail.com\nfor john.smith@gmail.com\nESMTPSA id &lt;john.smith@gmail.com&gt;\ndomain of john.smith@gmail.com\nenvelope-from=john.smith@gmail.com\n(ORCPT john.smith@gmail.com)\n</code></pre>\n\n<p>Having started from scratch, I feel as if I'm <em>almost</em> there - but having trouble with 3 things:</p>\n\n<ul>\n<li><p>Stripping double quotes from the first capturing group</p></li>\n<li><p>Dealing with the whitespace missing variant: <code>John Smith&lt;johnsmith@gmail.com&gt;</code></p></li>\n<li><p>False positives in the 'Name' field for the latter block, so I need a way of excluding these (perhaps using the preceding <code>:</code>, <code>:</code>, <code>=</code>, <code>for</code>, <code>id</code>, <code>of</code>?)</p></li>\n</ul>\n\n<p>As a complete regular expression novice, I would appreciate a little direction from someone knowledgeable on how I might overcome these issues.</p>\n\n<p>For the curious, I've unfortunately lost my CardDAV and thus all contacts, so in true Linux fashion, I'm going to rebuild a list of emails by manually parsing my entire raw MBOX, sorting by most common, and go from there.</p>\n\n<p>I will be using bash <code>grep</code>, or perl <code>sed</code>.</p>\n\n<p>Thank you for you time!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1448087952, "post_id": 33840469, "comment_id": 55445925, "body": "Looks like <code>split</code> is working as designed. Also, your first line isn&#39;t doing what you think it&#39;s doing. You&#39;ve got one empty string and 3 <code>undef</code>s."}, {"owner": {"reputation": 25, "user_id": 5588382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66d1b077a5279eb356bad5829b932e7f?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/5588382/user"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1448088336, "post_id": 33840469, "comment_id": 55446014, "body": "Is it possible to substring the whole double quoted string into one scalar variable.How this can be achieved"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1448089963, "post_id": 33840469, "comment_id": 55446335, "body": "I&#39;m curious that you expect 6 fields in the output when your code explicitly only handles 4 fields."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 1000559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da07b8ca60d459499ad151daa4846e05?s=128&d=identicon&r=PG", "display_name": "roland.minner", "link": "https://stackoverflow.com/users/1000559/roland-minner"}, "edited": false, "score": 0, "creation_date": 1448101378, "post_id": 33840614, "comment_id": 55448955, "body": "i would recommend using Text::CSVs getline method, because it can also handle multiline csv files (there are csv files which have fields with newlines in them). Syntax is almost the same: while (my $row = $csv-&gt;getline($FH)) {}"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 4, "last_activity_date": 1448088865, "creation_date": 1448088865, "answer_id": 33840614, "question_id": 33840469, "link": "https://stackoverflow.com/questions/33840469/how-to-get-substring-of-the-line-enclosed-in-double-quotes/33840614#33840614", "title": "How to get substring of the line enclosed in double quotes", "body": "<p>If you have CSV data, you really want to use <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\">Text::CSV</a> to parse it. As you've discovered, parsing CSV data is usually not as trivial as just splitting on commas, and Text::CSV can handle all the edge cases for you.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\nuse Text::CSV;\n\nmy $csv = Text::CSV-&gt;new;\n\nwhile (&lt;DATA&gt;) {\n    $csv-&gt;parse($_);\n    my @fields = $csv-&gt;fields;\n    dd(\\@fields);\n}\n\n__DATA__\nACC000121,2290,\"01009900,01009901,01009902,01009903,01009904\",4,5,6\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[\n  \"ACC000121\",\n  2290,\n  \"01009900,01009901,01009902,01009903,01009904\",\n  4,\n  5,\n  6,\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 0, "last_activity_date": 1448091617, "last_edit_date": 1495542217, "creation_date": 1448091617, "answer_id": 33840951, "question_id": 33840469, "link": "https://stackoverflow.com/questions/33840469/how-to-get-substring-of-the-line-enclosed-in-double-quotes/33840951#33840951", "title": "How to get substring of the line enclosed in double quotes", "body": "<p>I agree with <a href=\"https://stackoverflow.com/users/82262/matt-jacob\">Matt Jacob</a>'s <a href=\"https://stackoverflow.com/a/33840614\">answer</a> \u2014 you should parse CSV with <a href=\"http://search.cpan.org/perldoc?Text%3A%3ACSV\" rel=\"nofollow noreferrer\">Text::CSV</a> unless you've got a very good reason not to do so.</p>\n\n<p>If you're going to deal with it using regular expressions, I think you'll do better with <code>m//</code> than <code>split</code>.  For example, this seems to cover most single line CSV data variants, though it does not remove the quotes around a quoted field as <code>Text::CSV</code> would \u2014 that requires a separate post-processing step.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub splitter\n{\n    my($row) = @_;\n    my @fields;\n    my $i = 0;\n\n    while ($row =~ m/((?=,)|[^\",][^,]*|\"([^\"]|\"\")*\")(?:,|$)/g)\n    {\n        print \"Found [$1]\\n\";\n        $fields[$i++] = $1;\n    }\n\n    for (my $j = 0; $j &lt; @fields; $j++)\n    {\n        print \"$j = [$fields[$j]]\\n\";\n    }\n}\n\nmy $row;\n\n$row = q'ACC000121,2290,\"01009900,01009901,01009902,01009903,01009904\",4,5,6';\nprint \"Row 1: $row\\n\";\nsplitter($row);\n\n$row = q'ACC000121,\",\",2290,\"01009900,\"\"aux data\"\",01009902,01009903,01009904\",,5\"abc\",6,\"\"';\nprint \"Row 2: $row\\n\";\nsplitter($row);\n</code></pre>\n\n<p>Obviously, that has a fair amount of diagnostic code in it.  The output (from Perl 5.22.0 on Mac OS X 10.11.1) is:</p>\n\n<pre><code>Row 1: ACC000121,2290,\"01009900,01009901,01009902,01009903,01009904\",4,5,6\nFound [ACC000121]\nFound [2290]\nFound [\"01009900,01009901,01009902,01009903,01009904\"]\nFound [4]\nFound [5]\nFound [6]\n0 = [ACC000121]\n1 = [2290]\n2 = [\"01009900,01009901,01009902,01009903,01009904\"]\n3 = [4]\n4 = [5]\n5 = [6]\nRow 2: ACC000121,\",\",2290,\"01009900,\"\"aux data\"\",01009902,01009903,01009904\",,5\"abc\",6,\"\"\nFound [ACC000121]\nFound [\",\"]\nFound [2290]\nFound [\"01009900,\"\"aux data\"\",01009902,01009903,01009904\"]\nFound []\nFound [5\"abc\"]\nFound [6]\nFound [\"\"]\n0 = [ACC000121]\n1 = [\",\"]\n2 = [2290]\n3 = [\"01009900,\"\"aux data\"\",01009902,01009903,01009904\"]\n4 = []\n5 = [5\"abc\"]\n6 = [6]\n7 = [\"\"]\n</code></pre>\n\n<p>In the Perl code, the match is:</p>\n\n<pre><code>m/((?=,)|[^\",][^,]*|\"([^\"]|\"\")*\")(?:,|$)/\n</code></pre>\n\n<p>This looks for and captures (in <code>$1</code>) either an empty field followed by a comma, or for something other than a double quote followed by zero or more non-commas, or for a double quote followed by a sequence of zero or more occurrences of \"not a double quote or two consecutive double quotes\" and another double quote; it then expects either a comma or end of string.</p>\n\n<p>Handling multi-line fields requires a little more work.  Removing the escaping double quotes also requires a little more work.</p>\n\n<p>Using <code>Text::CSV</code> is much simpler and much less error prone (and it can handle more variants than this can).</p>\n"}], "owner": {"reputation": 25, "user_id": 5588382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66d1b077a5279eb356bad5829b932e7f?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/5588382/user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 33840614, "answer_count": 2, "score": 0, "last_activity_date": 1448091617, "creation_date": 1448087493, "last_edit_date": 1448088097, "question_id": 33840469, "link": "https://stackoverflow.com/questions/33840469/how-to-get-substring-of-the-line-enclosed-in-double-quotes", "title": "How to get substring of the line enclosed in double quotes", "body": "<p>I have an input string :</p>\n\n<pre><code>ACC000121,2290,\"01009900,01009901,01009902,01009903,01009904\",4,5,6\n</code></pre>\n\n<p>If I use split function, I'm getting weird output.</p>\n\n<pre><code>my ($field1, $field2, $field3, $field4) = \"\";\nwhile (&lt;DATAFILE&gt;) {\n    $row = $_;\n    $row =~ s/\\r?\\n$//;\n    ($field1, $field2, $field3, $field4) = split(/,/, $row);\n}\n</code></pre>\n\n<p>output I am getting is:</p>\n\n<pre><code>field1 :: ACC000121\nfield2 :: 2290\nfield3 :: \"01009900\nfield4 :: 01009901\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>field1 = ACC000121\nfield2 = 2290\nfield3 = 01009900,01009901,01009902,01009903,01009904\nfield4 = 4\nfield5 = 5\nfield6 = 6\n</code></pre>\n\n<p>I am quite weak in Perl. Please help me</p>\n"}, {"tags": ["perl", "testing", "mojolicious"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1448104036, "post_id": 33840283, "comment_id": 55449672, "body": "get_ok: from the docs, I do not think that is supposed to work, it says &quot;same arguments as &quot;get&quot; in Mojo::UserAgent&quot;, no mention of additional parameter for naming the test. get() takes additional parameters, though, so that may be the reason why."}], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 677767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a82b2645f72a9435afcabd19e733fea8?s=128&d=identicon&r=PG", "display_name": "VirtualWolf", "link": "https://stackoverflow.com/users/677767/virtualwolf"}, "edited": false, "score": 0, "creation_date": 1448144875, "post_id": 33844860, "comment_id": 55463189, "body": "Ahh, perfect. Thanks a lot!"}], "tags": [], "owner": {"reputation": 595, "user_id": 3847547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vL2YZ.png?s=128&g=1", "display_name": "type_outcast", "link": "https://stackoverflow.com/users/3847547/type-outcast"}, "is_accepted": true, "score": 4, "last_activity_date": 1448118294, "creation_date": 1448118294, "answer_id": 33844860, "question_id": 33840283, "link": "https://stackoverflow.com/questions/33840283/giving-descriptive-test-names-to-mojolicious-tests/33844860#33844860", "title": "Giving descriptive test names to Mojolicious tests?", "body": "<p>According to the <a href=\"http://mojolicio.us/perldoc/Test/Mojo.txt\" rel=\"nofollow\">Test::Mojo source code</a>, <code>get_ok()</code> only accepts three parameters, <code>($self, $method, $url)</code>. Hence, with <code>Test::Mojo</code> itself, you cannot assign a description to your test the way it is currently.</p>\n\n<p>It's a bit unfortunate that you can't supply descriptions, but you can wrap any test you like in <code>Test::More</code>'s <code>ok()</code>, <code>is()</code>, etc. subroutines.</p>\n\n<p>Don't be afraid to take it up to a higher level as well. If you need to test that several URLs return 403 when you don't supply credentials:</p>\n\n<pre><code>ok($t-&gt;get_ok($_)-&gt;status_is(403) =&gt; \"$_ no creds : 403\") for @urls;\n</code></pre>\n\n<p>Note that this will result in an extra line of test output (or an extra test number), but most of the time you should be running in a harness anyway, so only the tests that fail will display. You can consider <code>Test::Group</code> if you need a bit of extra organization.</p>\n"}], "owner": {"reputation": 483, "user_id": 677767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a82b2645f72a9435afcabd19e733fea8?s=128&d=identicon&r=PG", "display_name": "VirtualWolf", "link": "https://stackoverflow.com/users/677767/virtualwolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 33844860, "answer_count": 1, "score": 2, "last_activity_date": 1448118294, "creation_date": 1448086136, "question_id": 33840283, "link": "https://stackoverflow.com/questions/33840283/giving-descriptive-test-names-to-mojolicious-tests", "title": "Giving descriptive test names to Mojolicious tests?", "body": "<p>I'm tidying up my Mojolicious tests and giving them properly descriptive names. As an example:</p>\n\n<pre><code>$t-&gt;get_ok( '/api/ninjablock', 'Run a GET against /api/ninjablock with no credentials' )\n     -&gt;status_is( 403, '  and it has correctly returned a 403' );\n</code></pre>\n\n<p>The test output looks like this, however:</p>\n\n<pre><code>ok 1 - GET /api/ninjablock\nok 2 -   and it has correctly returned a 403\n</code></pre>\n\n<p>I assume I'm missing something obvious, but how do I make that first test show something other than <code>GET /api/ninjablock</code> as the name?</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1448062059, "post_id": 33837723, "comment_id": 55440852, "body": "<a href=\"https://duckduckgo.com/?q=How+to+find+last+item+in+a+perl+array\" rel=\"nofollow noreferrer\">duckduckgo.com/?q=How+to+find+last+item+in+a+perl+array</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1448062098, "post_id": 33837723, "comment_id": 55440867, "body": "You&#39;ve dumped a Perl hash. What does the Perl code look like? At any rate, <code>$array[-1]</code> will give you the last element of an array. If you edit your post to include your actual code, I can provide you with a complete answer."}, {"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1448063845, "post_id": 33837723, "comment_id": 55441384, "body": "it works, please post it as answer. thanks a lot. how -1 is picking last element?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1448065051, "post_id": 33837723, "comment_id": 55441643, "body": "See my answer for a description of why -1 works."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1448066568, "post_id": 33838007, "comment_id": 55441994, "body": "A downvote? Geez... tough crowd. Anonymous downvoter: it would be helpful to leave a comment explaining <i>why</i> you downvoted this answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448068865, "post_id": 33838007, "comment_id": 55442498, "body": "For my money, you have written a lazy answer that responds only to the subject line of a poor question. Stack Overflow isn&#39;t a forum but a <i>knowledge base</i>. So while it may be tempting to grab 25 experience points from someone who will accept and upvote your response, it isn&#39;t good for the site. And no, neither of your downvotes come from me"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1448069353, "post_id": 33838007, "comment_id": 55442615, "body": "We&#39;re probably getting into meta territory here, but this answer: a) answered the question that was asked, b) provided context for why the answer works, and c) even provided a viable alternative solution. If you&#39;re saying that the question shouldn&#39;t have been asked in the first place, that&#39;s hardly the fault of the person answering it!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448069813, "post_id": 33838007, "comment_id": 55442716, "body": "If you think that those are the qualities that make a good answer then you&#39;re beyond help"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1448070154, "post_id": 33838007, "comment_id": 55442786, "body": "Those are the things that make a <a href=\"http://stackoverflow.com/help/how-to-answer\">good answer</a> according to  <i>Stack Overflow</i>, not just to me!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448073370, "post_id": 33838007, "comment_id": 55443372, "body": "Look, I didn&#39;t downvote you, I tried to explain why your answer is lacking IMO. If you can&#39;t understand now why it takes more than beef and tomatoes to make a good chilli then you&#39;re on your own"}, {"owner": {"reputation": 3971, "user_id": 2840714, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/s9vli.jpg?s=128&g=1", "display_name": "ChuckCottrill", "link": "https://stackoverflow.com/users/2840714/chuckcottrill"}, "edited": false, "score": 0, "creation_date": 1448075111, "post_id": 33838007, "comment_id": 55443651, "body": "Your answer explains that perl handily offers [-1] addressing to obtain the last element of an array. You might also mention that you can address from the end to the beginning with more negative indices. And you could mention how perl provides the array size $#"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3971, "user_id": 2840714, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/s9vli.jpg?s=128&g=1", "display_name": "ChuckCottrill", "link": "https://stackoverflow.com/users/2840714/chuckcottrill"}, "edited": false, "score": 0, "creation_date": 1448121084, "post_id": 33838007, "comment_id": 55455157, "body": "@ChuckCottrill: Careful. <code>$#array</code> is not the array size, it&#39;s the last index into the array (so, basically, the same as <code>-1</code>). Because array indexes are zero-based, the size of the array is <code>$#array + 1</code>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 3971, "user_id": 2840714, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/s9vli.jpg?s=128&g=1", "display_name": "ChuckCottrill", "link": "https://stackoverflow.com/users/2840714/chuckcottrill"}, "edited": false, "score": 0, "creation_date": 1448121286, "post_id": 33838007, "comment_id": 55455241, "body": "@ChuckCottrill I agree, thanks for the constructive feedback."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1448122290, "last_edit_date": 1448122290, "creation_date": 1448063805, "answer_id": 33838007, "question_id": 33837723, "link": "https://stackoverflow.com/questions/33837723/in-perl-print-the-last-item-value-from-json-data/33838007#33838007", "title": "In perl, print the last item value from JSON data", "body": "<h3>Using <code>-1</code> as the subscript</h3>\n\n<p>To access the last element of the array (reference), you should use <code>-1</code> as the subscript:</p>\n\n<pre><code>print $data-&gt;{patchSets}[-1]{ref};  # DEF\n</code></pre>\n\n<p>From <a href=\"http://perldoc.perl.org/perldata.html#Subscripts\" rel=\"nofollow\">perldoc perldata</a>:</p>\n\n<blockquote>\n  <p>The array indices start with 0. A negative subscript retrieves its\n  value from the end.</p>\n</blockquote>\n\n<h3>Using <code>$#</code> as the subscript</h3>\n\n<p>Another way to get the last element that's arguably less clear in this case because of the nested references is to use <code>$#</code> to get the last index:</p>\n\n<pre><code>print $data-&gt;{patchSets}[$#{$data-&gt;{patchSets}}]{ref};  # DEF again\n</code></pre>\n\n<h3>Using array size minus one as the subscript</h3>\n\n<p>You could achieve the same thing as <code>$#</code> by getting the size of the array and remembering to subtract 1 from it, but again, not very readable and kind of painful syntax to look at:</p>\n\n<pre><code>print $data-&gt;{patchSets}[scalar(@{$data-&gt;{patchSets}}) - 1]{ref};  # yep... DEF\n</code></pre>\n\n<h3>Using <code>pop()</code></h3>\n\n<p>Finally, there's a very readable alternative that comes with a caveat. You could <code>pop</code> to get the last array element, but that actually modifies the array, which might not always be what you want. </p>\n\n<pre><code>my $last = pop(@{$data-&gt;{patchSets}});\nprint $last-&gt;{ref};  # still DEF\n</code></pre>\n\n<p>This is what <code>$data</code> will look like when you're done:</p>\n\n<pre><code>$VAR1 = {\n          'patchSets' =&gt; [\n                           {\n                             'ref' =&gt; 'ABC',\n                             'id' =&gt; '123'\n                           },\n                           {\n                             'ref' =&gt; 'PQR',\n                             'id' =&gt; '456'\n                           }\n                         ]\n        };\n</code></pre>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 33838007, "answer_count": 1, "score": 1, "last_activity_date": 1448122290, "creation_date": 1448061830, "last_edit_date": 1448063163, "question_id": 33837723, "link": "https://stackoverflow.com/questions/33837723/in-perl-print-the-last-item-value-from-json-data", "title": "In perl, print the last item value from JSON data", "body": "<p>I have data as shown in below example in a <code>JSON-&gt;new</code> variable, I need to print only the last 'ref' which is <code>DEF</code>, the size may vary, is there an easy way than looping and printing the last item? thanks. </p>\n\n<pre><code>$VAR1 = {\n      'patchSets' =&gt; [\n                  {\n                    'ref' =&gt; 'ABC',\n                    'id' =&gt; '123'\n                  },\n                  {\n                    'ref' =&gt; 'PQR',\n                    'id' =&gt; '456'\n                  },\n                  {\n                    'ref' =&gt; 'DEF',\n                    'id' =&gt; '789'\n                  }\n                ]\n    };\n</code></pre>\n\n<p>EDIT: well, the code snippet looks as shown below to print the first element which works good, but I need to print last element:</p>\n\n<pre><code>my $json = JSON-&gt;new;\nmy $json_text = `ssh -p $port $host gerrit query --format=JSON project:path/to/project --patch-sets $commitId`;\n\n#truncate {\"type\":\"stats\",\"rowCount\":1,\"runTimeMilliseconds\":6}\n$json_text = ( split /\\n/, $json_text )[0];\nmy $data = $json-&gt;decode($json_text);\n#print Dumper $data;\nprint $data-&gt;{patchSets}[0]{ref};\n</code></pre>\n"}, {"tags": ["python", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 1, "creation_date": 1448062983, "post_id": 33837415, "comment_id": 55441125, "body": "and you don&#39;t have/aren&#39;t allowed to write a 5 line c-program? That would be very simple and very-very fast. Good luck."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1448069225, "post_id": 33837415, "comment_id": 55442582, "body": "I don&#39;t know about C, which requires a bunch of boilerplate before you can even open a file, but pretty much anything except shell would be great"}, {"owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "edited": false, "score": 0, "creation_date": 1448071794, "post_id": 33837415, "comment_id": 55443140, "body": "When you say binary, do you mean that the first 3 bytes and the next 7 bytes represent actual integer data in their machine level representation, not ascii versions of them? Both 3 and 7 are unusual lengths for integer data (would expect 4 and 8 instead), so there must be some padding involved. Also, endianness of the data is a consideration. Any chance that you could post a short hex dump of some sample data and corresponding output?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1448116822, "post_id": 33837415, "comment_id": 55453609, "body": "I never work with binary files so I won&#39;t attempt to answer your question, but for any text manipulation you should use awk and GNU awk has a binary mode so I&#39;d suggest you take a look at that, e.g. by googling or getting the book Effective Awk Programming, 4th Edition, by Arnold Robbins. For any text manipulation an awk script will be orders of magnitude faster than a shell loop."}], "answers": [{"comments": [{"owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "edited": false, "score": 0, "creation_date": 1448073189, "post_id": 33838719, "comment_id": 55443346, "body": "Does this unpack the first two fields into their integer equivalents, or does it just dump the data as is? Shouldn&#39;t the resultant fields be tab separated?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "edited": false, "score": 0, "creation_date": 1448073674, "post_id": 33838719, "comment_id": 55443412, "body": "@mhawke: It seems that you don&#39;t understand either the question or my answer. Why are you interrogating us?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1448078776, "post_id": 33838719, "comment_id": 55444269, "body": "Far less magical to use <code>say join &quot;\\t&quot;, unpack ...</code>. Why on earth would you want to use <code>$&quot;</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448079080, "post_id": 33838719, "comment_id": 55444324, "body": "@ikegami: Because it keeps the statement that does the stringification and <code>print</code> clean. I much prefer it to <code>print join(&quot;\\t&quot;, @f), &quot;\\n&quot;</code> but you don&#39;t have to agree. And <code>$&quot;</code> isn&#39;t magical, but what&#39;s wrong with Perl magic anyway?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1448079279, "post_id": 33838719, "comment_id": 55444362, "body": "I don&#39;t consider putting 4 lines in the middle to be &quot;clean&quot;. I consider that the very opposite. // Magical has many meanings. I&#39;m using the very negative meaning of &quot;cause unexpected action at a distance&quot;, the very definition of bad programming."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448079402, "post_id": 33838719, "comment_id": 55444385, "body": "@ikegami: <i>\u201c4 lines\u201d</i>? But anyway, I disagree with you"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448079509, "post_id": 33838719, "comment_id": 55444410, "body": "uh, 3. Whatever. // Not with me. Action at a distance was decided to be bad long before I touched a computer. You&#39;re disagreeing with the tenets of CS."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448079678, "post_id": 33838719, "comment_id": 55444452, "body": "@ikegami: You&#39;re being petty again. If you can write a useful program without action at a distance of <i>two statements</i> then I&#39;d love to see it"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448080365, "post_id": 33838719, "comment_id": 55444596, "body": "@ikegami: I am seriously weary of your endless defensive and demanding comments. I&#39;ve said to you before that you&#39;re no more a guy who happens to know a little Perl. Why can&#39;t you get on with the rest of us and aim to read and learn instead of this tiresome sniping?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448081406, "post_id": 33838719, "comment_id": 55444771, "body": "@Borodin, Would you rather I remove the problem from your answer?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448085453, "post_id": 33838719, "comment_id": 55445421, "body": "@ikegami: That&#39;s it is it? Your only options are to snipe from the comments or to edit my post? I&#39;d rather you were less conceited and determined to have the last word, and more reflective and grateful for other people&#39;s insights into the language that you hadn&#39;t seen before"}, {"owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "edited": false, "score": 0, "creation_date": 1448103484, "post_id": 33838719, "comment_id": 55449542, "body": "@Borodin: you&#39;re right: I didn&#39;t understand your answer - your code does tab separate the fields on ouput, so sorry about that (I don&#39;t code in perl). However, the question clearly attempts to interpret the first 2 fields as binary integers as shown by the <code>--format=dI</code> option to <code>od</code>. Your code splits the data into records and fields, but it regurgitates the data as is. That&#39;s what I was getting at in my comment. I&#39;ve asked the OP for clarification."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1448069608, "creation_date": 1448069608, "answer_id": 33838719, "question_id": 33837415, "link": "https://stackoverflow.com/questions/33837415/read-process-continuous-binary-file-efficiently/33838719#33838719", "title": "Read, process continuous binary file - Efficiently", "body": "<pre><code>open my $fh, '&lt;:raw', shift;\n\nlocal $\" = \"\\t\";\n\nwhile ( read $fh, my $rec, 20 ) {\n    my @f = unpack 'a3 a7 a10', $rec;\n    print \"@f\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1448140273, "post_id": 33839645, "comment_id": 55461799, "body": "Surely you need to deal with EINTR when you are using sysread."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1448149773, "post_id": 33839645, "comment_id": 55464587, "body": "@chansen, Only if you have signal handlers defined. But if you do, you need to handle <code>EINTR</code> for all systems calls (<code>open</code>, <code>sysread</code>, <code>print</code>, <code>open</code>, etc.), not just <code>sysread</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1448149817, "last_edit_date": 1448149817, "creation_date": 1448079229, "answer_id": 33839645, "question_id": 33837415, "link": "https://stackoverflow.com/questions/33837415/read-process-continuous-binary-file-efficiently/33839645#33839645", "title": "Read, process continuous binary file - Efficiently", "body": "<p>Reads from STDIN, outputs to STDOUT, and performs error checking:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse constant BLOCK_SIZE =&gt; 20;\n\nbinmode STDIN;    \n\nwhile (1) {\n    my $rv = read(STDIN, my $buf, BLOCK_SIZE);\n    die(\"Error: $!\\n\") if !defined($rv);\n    last if !$rv;\n    die(\"Error: Insufficient data\\n\") if $rv != BLOCK_SIZE;\n    print(join(\"\\t\", unpack('a3 a7 a10', $buf)), \"\\n\");\n}\n</code></pre>\n\n<p>But I'm quite sure you'll find that slower than reading a lot more at a time, so I'd use the following:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse constant BLOCK_SIZE =&gt; 20;\n\nbinmode STDIN;    \n\nmy $buf;    \nwhile (1) {\n    my $rv = sysread(STDIN, $buf, BLOCK_SIZE*64*1024, length($buf));\n    die(\"Error: $!\\n\") if !defined($rv);\n    last if !$rv;\n\n    while (length($buf) &gt;= BLOCK_SIZE) {\n       print(join(\"\\t\", unpack('a3 a7 a10', substr($buf, 0, BLOCK_SIZE, '')), \"\\n\");\n    }\n}\n\ndie(\"Error: Insufficient data\\n\") if length($buf);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70791, "user_id": 997358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f849cfde4e526e22e916fa69103ef7e7?s=128&d=identicon&r=PG", "display_name": "peak", "link": "https://stackoverflow.com/users/997358/peak"}, "is_accepted": false, "score": 1, "last_activity_date": 1448089333, "creation_date": 1448089333, "answer_id": 33840672, "question_id": 33837415, "link": "https://stackoverflow.com/questions/33837415/read-process-continuous-binary-file-efficiently/33840672#33840672", "title": "Read, process continuous binary file - Efficiently", "body": "<pre><code>fold -b -w 20 | cut --output-delimiter $'\\t' -b 1-3,4-10,11-20\n</code></pre>\n\n<p>If your \"cut\" doesn't support --output-delimiter, try \"gcut\" (GNU cut) or consider installing GNU coreutils.</p>\n\n<p>(Please let us know how fast the different solutions that you try are :-)</p>\n"}], "owner": {"reputation": 39, "user_id": 5587666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d3f282c935e54773759529627a326e1?s=128&d=identicon&r=PG&f=1", "display_name": "chillvibes", "link": "https://stackoverflow.com/users/5587666/chillvibes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1448149817, "creation_date": 1448060128, "last_edit_date": 1448060448, "question_id": 33837415, "link": "https://stackoverflow.com/questions/33837415/read-process-continuous-binary-file-efficiently", "title": "Read, process continuous binary file - Efficiently", "body": "<p>I have very large binary files with no line and no field delimiters. The goal is to process these files in to tab delimited files, efficiently.</p>\n\n<p>The files are structured as follows:</p>\n\n<p>Each record is a fixed length, 20 bytes. Each field is a different length, three fields of length 3, 7 and 10 bytes, respectively. Each field also represents a different data type, fields 1 and 2 are int and 3 is char.</p>\n\n<p>What would be the most efficient method of processing these files? I would like to keep it as simple as possible, using Bash tools, dd/od sed/awk, avoiding perl/python if possible unless the performance difference is extreme.</p>\n\n<p>Below is a working attempt, it is very slow. I am new to the above tools so detailed explanations are greatly appreciated.</p>\n\n<pre><code>binfile=\"binfile.BIN\"\n\nfor (( i = 0 ; i &lt;= 20000000 ; i += 20 ))\ndo\n    field1=$( od \"${binfile}\" -An --skip-bytes\"$((${i}))\" --read-bytes=3 --format=dI )\n    field2=$( od \"${binfile}\" -An --skip-bytes\"$((${i}+3))\" --read-bytes=7 --format=dI )\n    field3=$( od \"${binfile}\" -An --skip-bytes\"$((${i}+10))\" --read-bytes=10 --format=c )\n\n    echo - ${field1}'\\t'${field2}'\\t'${field3} &gt;&gt; output.tab\ndone\n</code></pre>\n"}, {"tags": ["perl", "activestate"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1448061914, "post_id": 33836969, "comment_id": 55440801, "body": "What is the OS? I usually think of ActiveState as a perl for Windows, but I think of <code>tr</code> as a utility for Unix-y systems."}, {"owner": {"reputation": 1217, "user_id": 108153, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4eb37132eb3b660739da1191361207bf?s=128&d=identicon&r=PG", "display_name": "codeDr", "link": "https://stackoverflow.com/users/108153/codedr"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1448166831, "post_id": 33836969, "comment_id": 55467529, "body": "It&#39;s a perl script to run on multiple platforms.  ActiveState is the perl provided on the Windows platfrom.  tr is a perl builtin, see perlop."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1448209172, "post_id": 33836969, "comment_id": 55478420, "body": "Then it doesn&#39;t make sense to use <code>exec</code> to invoke a perl builtin. See perlfunc."}], "answers": [{"tags": [], "owner": {"reputation": 1217, "user_id": 108153, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4eb37132eb3b660739da1191361207bf?s=128&d=identicon&r=PG", "display_name": "codeDr", "link": "https://stackoverflow.com/users/108153/codedr"}, "is_accepted": false, "score": 0, "last_activity_date": 1448420581, "creation_date": 1448420581, "answer_id": 33907800, "question_id": 33836969, "link": "https://stackoverflow.com/questions/33836969/how-to-read-to-and-write-from-a-pipe-in-perl-with-activestate-perl/33907800#33907800", "title": "How to read to and write from a pipe in perl with ActiveState Perl?", "body": "<p><strong>Option 1</strong></p>\n\n<p>-- if your input perl process is simple enough to put into a one liner</p>\n\n<pre><code> my $cmd = \"perl -e ' -- your simple perl -- ' | cmdToExecute\";\n\n my $out;\n open my $cmdpipe \"-|\", $cmd;\n while (&lt;$cmdpipe&gt;) {\n    $out .= $_;\n }\n\n # $out is your captured output\n</code></pre>\n\n<p>-- if your input perl process is complicated, put it into a file</p>\n\n<pre><code> my $cmd = \"perl compInput.pl | cmdToExecute\";\n # rest as above\n</code></pre>\n\n<p><strong>Option 2</strong></p>\n\n<pre><code>- remove ActiveState perl\n- install git for windows and use the perl from it.\n</code></pre>\n"}], "owner": {"reputation": 1217, "user_id": 108153, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4eb37132eb3b660739da1191361207bf?s=128&d=identicon&r=PG", "display_name": "codeDr", "link": "https://stackoverflow.com/users/108153/codedr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 352, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448420581, "creation_date": 1448057784, "last_edit_date": 1495541242, "question_id": 33836969, "link": "https://stackoverflow.com/questions/33836969/how-to-read-to-and-write-from-a-pipe-in-perl-with-activestate-perl", "title": "How to read to and write from a pipe in perl with ActiveState Perl?", "body": "<p>This excellent question\n<a href=\"https://stackoverflow.com/questions/10765311/how-to-read-to-and-write-from-a-pipe-in-perl\">How to read to and write from a pipe in Perl?</a>\nprovides an excellent answer.</p>\n\n<p>It doesn't work on ActiveState Perl.</p>\n\n<p>The BUGS section of perlfork\n<a href=\"http://docs.activestate.com/activeperl/5.14/lib/pods/perlfork.html\" rel=\"nofollow noreferrer\">http://docs.activestate.com/activeperl/5.14/lib/pods/perlfork.html</a>\nsays</p>\n\n<blockquote>\n  <p>In certain cases, the OS-level handles created by the pipe(), socket(), and accept() operators\n  are apparently not duplicated accurately in pseudo-processes. This only happens in some situations,\n  but where it does happen, it may result in deadlocks between the read and write ends of pipe\n  handles, or inability to send or receive data across socket handles.</p>\n</blockquote>\n\n<p>It is not clear what 'not duplicated accurately' means or if it even applies in this case.</p>\n\n<p>Here is the test program</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $isActiveStatePerl = 1 ;  # defined(&amp;Win32::BuildNumber);\n\nsub pipeFromFork\n{\n    return open($_[0], \"-|\") if (!$isActiveStatePerl);\n    pipe $_[0], my $child or die \"cannot create pipe\";\n\n    printf STDERR \"$$: pipe create parent %d child %d\\n\", fileno($_[0]), fileno($child);\n    my $pid = fork();\n    die \"fork failed: $!\" unless defined $pid;\n    if ($pid) {         # parent\n        printf STDERR \"$$: fork parent close child %d\\n\", fileno($child);\n        close $child;\n    } else {            # child \n        open(STDOUT, \"&gt;&amp;=\", $child) or die \"cannot clone child to STDOUT\";\n        printf STDERR \"$$: fork child close parent %d stdout %d\\n\", fileno($_[0]), fileno(STDOUT);\n        close $_[0];\n    }\n    return $pid;\n}\n\n\nmy @transform = qw( tr [A-Za-z] [N-ZA-Mn-za-m] );  # rot13\nmy @inception = (\n  \"V xabj, Qnq. Lbh jrer qvfnccbvagrq gung V pbhyqa'g or lbh.\",\n  \"V jnf qvfnccbvagrq gung lbh gevrq.\",\n);\n\nsub snow_fortress { print STDERR \"$$: 1 start\\n\"; print map \"$_\\n\", @inception }\n\nsub hotel \n{\n    printf STDERR \"$$: 2 start %d\\n\", fileno(STDIN);\n    # my $pid = open STDIN, \"-|\";\n    my $fh;\n    my $pid = pipeFromFork($fh);\n    print STDERR \"$$: hotel: pid $pid\\n\";\n    defined($pid)  or die \"$0: fork: $!\";\n    if (0 == $pid) {\n        snow_fortress;\n        print STDERR \"$$: 1 exit\\n\";\n        exit(0);\n    }\n    open(STDIN, \"&lt;&amp;\", $fh)  or die \"cannot clone to STDIN\";\n    printf STDERR \"$$: 2 exec %d\\n\", fileno(STDIN);\n    # print while &lt;STDIN&gt;;\n    exec @transform or die \"$0: exec: $!\";\n}\n\n# my $pid = open my $fh, \"-|\";\nmy $pid = pipeFromFork(my $fh);\ndefined($pid) or die \"$0: fork: $!\";\nprint STDERR \"$$: outer: pid $pid\\n\";\n\nif (0 == $pid) {\n    hotel;\n    print STDERR \"$$: 2 exit\\n\";\n    exit(0);\n}\n\nprint STDERR \"$$: 3  start \" . fileno($fh) . \"x\\n\";\n\nprint while &lt;$fh&gt;;\nprint STDERR \"$$: 3  end\\n\";\nclose $fh or warn \"$0: close: $!\";\n</code></pre>\n"}, {"tags": ["perl", "parallel-processing", "perl-module"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1448050527, "post_id": 33834665, "comment_id": 55435901, "body": "Calling <code>@data=&lt;$in&gt;</code> on a large file is probably going to make your program (if not  your whole system) run slower. There is nothing in your post that suggests you couldn&#39;t iterate through this file one line at a time."}, {"owner": {"reputation": 1364, "user_id": 1379826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MQPSd.jpg?s=128&g=1", "display_name": "Sos", "link": "https://stackoverflow.com/users/1379826/sos"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1448066498, "post_id": 33834665, "comment_id": 55441976, "body": "@Sinan&#220;n&#252;r - there is no need to be rude at all. I made the mistake of missing an <code>open</code> in your first bit of code because I wrote this sample code on the fly in this page (my bad, I will correct it now). I am looking at each line for headers because I need to extract those identifiers (maybe I shouldn&#39;t have called them &quot;headers&quot;). What is wrong with <code>open my $out,&quot;&gt;&quot;,&quot;D:\\directory\\$head.data&quot;;</code>? (If it was the single/double-quotes, I already edited them and I apologize for that)"}, {"owner": {"reputation": 1364, "user_id": 1379826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MQPSd.jpg?s=128&g=1", "display_name": "Sos", "link": "https://stackoverflow.com/users/1379826/sos"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1448066632, "post_id": 33834665, "comment_id": 55442004, "body": "@mob - indeed, I am iterating through the file one line at a time. Are you suggesting that instead of using <code>@data=&lt;$in&gt;</code> I should do <code>while (my $row = &lt;$fh&gt;) {...}</code>?"}, {"owner": {"reputation": 1364, "user_id": 1379826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MQPSd.jpg?s=128&g=1", "display_name": "Sos", "link": "https://stackoverflow.com/users/1379826/sos"}, "edited": false, "score": 0, "creation_date": 1448066904, "post_id": 33834665, "comment_id": 55442077, "body": "I would appreciate that instead of simply downvoting, people could tell me what is wrong with my question. The errors pointed in the comments until this moment are only side questions and are not related with any of the main questions I raised at the bottom of my post."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1448080916, "post_id": 33834665, "comment_id": 55444690, "body": "Your code should be runnable. Code with obvious errors is not useful. I downvoted the question, and explained my reasoning. You think that&#39;s rude. For example, in the &quot;code&quot; you posted, you are reading the entire contents of the file into an array. Just not doing that will save you time, if, as you say, the file is large enough. I do not see the point of posting something that sort of kind of looks like a Perl program but is not."}, {"owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 1, "creation_date": 1448110302, "post_id": 33834665, "comment_id": 55451468, "body": "How many unique headers do you have in the file? Do the headers occur only at the start of the file, as pointed out in an earlier comment?"}, {"owner": {"reputation": 1364, "user_id": 1379826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MQPSd.jpg?s=128&g=1", "display_name": "Sos", "link": "https://stackoverflow.com/users/1379826/sos"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1448147949, "post_id": 33834665, "comment_id": 55464084, "body": "@Sinan&#220;n&#252;r - What I found rude was the way you commented (&quot;??? WTF???&quot;), not the downvoting. If I posted as I did was because I saw no harm in doing so and I would like to apologize if I did some harm. I am new at this so I appreciate all constructive criticism. The fact that I did not present entirely runable code was not an issue in several other questions, and to be honest I dont think it changes the main issues in my question (as you already pointed in your answer below). But I will not repeat the same mistake. Again I&#39;m sorry."}, {"owner": {"reputation": 1364, "user_id": 1379826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MQPSd.jpg?s=128&g=1", "display_name": "Sos", "link": "https://stackoverflow.com/users/1379826/sos"}, "reply_to_user": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 0, "creation_date": 1448148022, "post_id": 33834665, "comment_id": 55464108, "body": "@srvsh - I shouldn&#39;t have called them &quot;headers&quot; but ids. Each line has one id and they total ~1200 unique ids though the file has several million lines."}], "answers": [{"comments": [{"owner": {"reputation": 1364, "user_id": 1379826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MQPSd.jpg?s=128&g=1", "display_name": "Sos", "link": "https://stackoverflow.com/users/1379826/sos"}, "edited": false, "score": 0, "creation_date": 1448067029, "post_id": 33836399, "comment_id": 55442109, "body": "Oh... thanks for the explanation! I didn&#39;t know about those issues. Thanks!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1448055080, "creation_date": 1448055080, "answer_id": 33836399, "question_id": 33834665, "link": "https://stackoverflow.com/questions/33834665/using-parallelforkmanager-to-process-file/33836399#33836399", "title": "Using Parallel::ForkManager to process file", "body": "<p>Using <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow\">Parallel::ForkManager</a> with a single input file may end up making sense only if you preprocess the file to determine ranges to allocate to each worker. And, that only makes sense if you are going to repeat the work multiple times with the same input.</p>\n\n<p>Even if you might gain something from using <code>Parallel::ForkManager</code>, having 30 processes trying to do IO is not going to get you anything. The most I would recommend is twice the number of cores if the system is otherwise not doing anything else, assuming you have a lot of memory.</p>\n\n<p>The operating system's caching may result in different processes actually reading the file from memory after the initial warm up, and <a href=\"https://www.nu42.com/2012/04/can-parallelforkmanager-speed-up.html\" rel=\"nofollow\">lead to gains from having multiple processes do the processing</a>.</p>\n\n<p>The writes are much less likely to benefit from having multiple processes for many reasons. The processes will be reading from all over the memory space, processes will have to wait for buffers to be flushed to disk etc etc. In this case, the IO bottleneck will definitely be more prominent.</p>\n"}, {"tags": [], "owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "is_accepted": true, "score": 2, "last_activity_date": 1448205446, "creation_date": 1448205446, "answer_id": 33856372, "question_id": 33834665, "link": "https://stackoverflow.com/questions/33834665/using-parallelforkmanager-to-process-file/33856372#33856372", "title": "Using Parallel::ForkManager to process file", "body": "<p>Before you try making the code run in parallel, try and see if you can optimise your code to run efficiently in serial. If the benefit of this optimisation is not enough, then you can try using <code>Parallel::ForkManager</code>. Some of the issues with your code are:</p>\n\n<ol>\n<li><strong>The whole file is read into memory:</strong> Reading such a large number of lines at once will increase the memory usage of your program very much, but can also increase the amount of time if takes to execute. Memory may not be a concern, but the repeated reallocations of the <code>@data</code> array would take up time. If the amount of RAM is less, you'll have a lot of swapping to disk which is a lot more time consuming.</li>\n<li><strong><code>grep</code> is used instead of a hash for 'contains' checks:</strong> <code>grep</code>ping over such a large number of records multiple times is incredibly slow and not scalable at all. As of now, the process of extracting headers is of the order <code>O(n^2)</code>, where <code>n</code> is the number of records in the input file. If you use a hash, the order will be <code>O(n)</code> which is much more manageable. A similar argument applies to the way you're extracting the matching records.</li>\n<li><strong>The 'headers' are extracted at the start:</strong> This may be necessary in your current approach to running the code in parallel, but you can try an avoid this since it iterates over all the records.</li>\n</ol>\n\n<p>This is the way I would solve it, without making the code run in parallel. You may need to increase the number of open file descriptors allowed using the <code>ulimit -n</code> command.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy ($input_file, $output_dir) = (@ARGV);\n\ndie \"Syntax: $0 &lt;input_file&gt; &lt;output_dir&gt;\"\n    unless $input_file and $output_dir;\n\nopen my $in, '&lt;', $input_file\n    or die \"Could not open input file $input_file: $!\";\n\n# map of ID (aka header) -&gt; file handle\nmy %idfh;\n\nwhile (my $line = &lt;$in&gt;) {\n    # extract the ID\n    $line =~ /^(.+?)\\t/;\n\n    my $id = $1;\n    # get the open file handle\n    my $fh = $idfh{$id};\n\n    unless ($fh) {\n        # if there was no file handle for this ID, open a new one\n        open $fh, '&gt;', \"$output_dir/${id}data\"\n            or die \"Could not open file for ID $id: $!\";\n\n        $idfh{$id} = $fh;\n    }\n\n    # print the record to the correct file handle\n    print $fh $line;\n}\n\n# perl automatically closes all file handles\n</code></pre>\n\n<p>This is pretty simple:</p>\n\n<ol>\n<li>Iterate over each line of the file. For each iteration, do the following:</li>\n<li>Extract the ID.</li>\n<li>If we have not seen the ID before, open the file corresponding to the ID for writing. Otherwise, go to step 4.</li>\n<li>Store the file handle in a map with the ID as the key.</li>\n<li>If the ID was seen earlier, get the file handle from the hash.</li>\n<li>Write the record through the file handle.</li>\n</ol>\n"}], "owner": {"reputation": 1364, "user_id": 1379826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MQPSd.jpg?s=128&g=1", "display_name": "Sos", "link": "https://stackoverflow.com/users/1379826/sos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 878, "favorite_count": 0, "accepted_answer_id": 33856372, "answer_count": 2, "score": 1, "last_activity_date": 1448205446, "creation_date": 1448047936, "last_edit_date": 1448066735, "question_id": 33834665, "link": "https://stackoverflow.com/questions/33834665/using-parallelforkmanager-to-process-file", "title": "Using Parallel::ForkManager to process file", "body": "<p>I'm wondering whether it would be a good idea for use <code>Parallel::ForkManager</code> (or other parallelization tool) to process some files that I have. Basically, I am processing a very large file, and outputting its contents into multiple files. This usually takes some ~3 hours in a 64-core server.</p>\n\n<p>What I am wondering is how does the implementation of this Module gather the data. For instance, if I do</p>\n\n<pre><code>use Parallel::ForkManager;\n# Max 30 processes\nmy $pm = new Parallel::ForkManager(64);\n\nopen my $in,\"&lt;\",\"D:\\myfile.txt\";\nmy @data=&lt;$in&gt;;\nclose $in;\n\n#gathers unique dataheaders\nmy @uniqueheaders;\nforeach my $line (@data){\n  my @split=split \"\\t\",$line;\n  push @uniqueheaders,$split[0] unless (grep{$_=~/$split[0]} @uniqueheaders);\n}\n\nforeach my $head (@uniqueheaders) {\n   $pm-&gt;start and next; # do the fork\n\n   (my @matches) = grep{$_=~/^$head\\t/} @data; #finds all matches in @data started by $head\n   if($#matches&gt;1){ #prints out if matches are found\n      open my $out,\"&gt;\",'D:\\directory\\'.\"$head\".'data';\n      print $out @matches;\n      close $out;\n   }\n   else{ print \"Problem in $head!\\n\";}\n\n   $pm-&gt;finish; # do the exit in the child process\n}\n$pm-&gt;wait_all_children;\n</code></pre>\n\n<p>Now, my questions are: </p>\n\n<ol>\n<li>Do you see any problem in making the script like this? Would each <code>$head</code> be allocated to one core at a time or would I have to watch for something else that I'm unaware?</li>\n<li>What if I wanted to process the whole data and output it once? For instance, create an array <code>@gatherstuff</code> before the last <code>foreach</code> loop, where instead of <code>print</code>ing out, it would <code>push @gatherstuff,@matches;</code>. Is this as simple as I'm making it? </li>\n</ol>\n"}, {"tags": ["perl", "debugging", "epic"], "answers": [{"comments": [{"owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "edited": false, "score": 0, "creation_date": 1448306691, "post_id": 33878254, "comment_id": 55521952, "body": "umm.  that is interesting and I&#39;ll look into installing it. But I&#39;m not certain I understand how it would address my problem?"}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "edited": false, "score": 0, "creation_date": 1448309585, "post_id": 33878254, "comment_id": 55523744, "body": "It will format the ill-formated stack traces in Java and works with EPIC (Perl).  I haven&#39;t been able to reproduce your issue but I was hoping that the combination of these two features may help you in some way."}], "tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": true, "score": 0, "last_activity_date": 1448304158, "creation_date": 1448304158, "answer_id": 33878254, "question_id": 33834660, "link": "https://stackoverflow.com/questions/33834660/using-epic-debugger-how-to-see-get-a-meaningful-stack-trace-when-program-exits/33878254#33878254", "title": "Using EPIC debugger: how to see get a meaningful stack trace when program exits improperly", "body": "<p>Try the following plugin which works with EPIC:</p>\n\n<p><a href=\"http://andrei.gmxhome.de/anyedit/\" rel=\"nofollow\">http://andrei.gmxhome.de/anyedit/</a></p>\n"}], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 33878254, "answer_count": 1, "score": 0, "last_activity_date": 1448304158, "creation_date": 1448047924, "question_id": 33834660, "link": "https://stackoverflow.com/questions/33834660/using-epic-debugger-how-to-see-get-a-meaningful-stack-trace-when-program-exits", "title": "Using EPIC debugger: how to see get a meaningful stack trace when program exits improperly", "body": "<p>I'm new to both perl and epic, so forgive me for asking obvious things.  I did do some playing around online and did not find anything though.</p>\n\n<p>I'm running a perl program in the debugger, which fails.  When it fails I get a rather unhelpful message.  I can't copy and past it, and I can't write it by hand because it has so many unrecognizable characters.  It looks something like:</p>\n\n<pre><code>Debugged program terminated.  use [imq[0m to quit or [1mr[om to restart, \nuse [1mo[0m [4minhibit_exit[24m to avoid stopping after program termination\n</code></pre>\n\n<p>Everywhere that has brackets shows as an undefined character in the eclipse consol window.</p>\n\n<p>What I don't get is any kind of useful stack trace.  I can see that the setup_ram_directories method was called because it's the last line of the debugger before the error.  However, the actual error occurs deeper down the stack.  I don't get a stack trace, nor can I get eclipse to pause when an error comes up so I can inspect the memory state that caused the failure.</p>\n\n<p>Some extra playing around seems to suggest that EPIC is confused whenever a method defined in a different module is called, the setup_ram_directories being defined in a helper module.  If I have stepped deeper into the above method until I'm in a method contained within the module that throws an exception and then hit run I get a proper stack trace.  However, for errors deep in my stack it takes multiple runs of the program to determine what methods &amp; modules are failing before I get to the point where I get a proper stack trace.</p>\n\n<p>Is there some configuration I need to do to get PERL to provide me a proper stack trace?  Or better yet I would prefer to have the debugger pause when the program is going to fail so I can inspect variables.</p>\n\n<p>I have tried o inhibit_exit from perl expressions view, it didn't seem to do anything.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 5, "creation_date": 1448046009, "post_id": 33834010, "comment_id": 55433431, "body": "I think what you&#39;re asking is how to deal with that middle field that has multiple commas, but could you make that more clear?  Are you sure the original file is delimited by <code>,</code> and not something like tab?  Or perhaps the fields are of fixed size."}, {"owner": {"reputation": 1, "user_id": 5523972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39650968c59bd4a99ee1d49b9d04893?s=128&d=identicon&r=PG&f=1", "display_name": "ramky s", "link": "https://stackoverflow.com/users/5523972/ramky-s"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1448046232, "post_id": 33834010, "comment_id": 55433552, "body": "comma separated fields is the input file.when im trying to parse1002 and 1003 these are taking only first values"}, {"owner": {"reputation": 1, "user_id": 5523972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39650968c59bd4a99ee1d49b9d04893?s=128&d=identicon&r=PG&f=1", "display_name": "ramky s", "link": "https://stackoverflow.com/users/5523972/ramky-s"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1448046416, "post_id": 33834010, "comment_id": 55433666, "body": "yes original file is separated by , only"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1448048895, "post_id": 33834010, "comment_id": 55434992, "body": "Can you modify the source data at all, or is it outside of your control?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1448049256, "post_id": 33834010, "comment_id": 55435202, "body": "@ramkys The original file sure looks fixed-width to me.  Otherwise why have all that space between the columns?  Could you post a portion of the original somewhere that will preserve all the spacing, like <a href=\"http://pastebin.com/\" rel=\"nofollow noreferrer\">pastebin</a>?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1448080742, "post_id": 33834010, "comment_id": 55444669, "body": "Rather than editing your post and completely changing the problem, you should revert the changes and post a new question if you have a different problem."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5523972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39650968c59bd4a99ee1d49b9d04893?s=128&d=identicon&r=PG&f=1", "display_name": "ramky s", "link": "https://stackoverflow.com/users/5523972/ramky-s"}, "edited": false, "score": 0, "creation_date": 1448079056, "post_id": 33835272, "comment_id": 55444319, "body": "Jacob Yes, I agree there should be double quotes for the second field.can you please help me out how to parse the double quote string .I am new to perl"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 1, "user_id": 5523972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39650968c59bd4a99ee1d49b9d04893?s=128&d=identicon&r=PG&f=1", "display_name": "ramky s", "link": "https://stackoverflow.com/users/5523972/ramky-s"}, "edited": false, "score": 0, "creation_date": 1448080697, "post_id": 33835272, "comment_id": 55444660, "body": "Not just for the second field, but for every field! Click the Text::CSV link in my answer for examples on how to use that module. The documentation is pretty good, and there are plenty of Text::CSV examples on SO as well."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 1, "user_id": 5523972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39650968c59bd4a99ee1d49b9d04893?s=128&d=identicon&r=PG&f=1", "display_name": "ramky s", "link": "https://stackoverflow.com/users/5523972/ramky-s"}, "edited": false, "score": 0, "creation_date": 1448122029, "post_id": 33835272, "comment_id": 55455511, "body": "@ramkys If you can modify the source data (which is why I asked that question on your original post), using Text::CSV is the best way to go in terms of maintainability and correctness. I updated my answer with an example."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 6, "last_activity_date": 1448121825, "last_edit_date": 1448121825, "creation_date": 1448050101, "answer_id": 33835272, "question_id": 33834010, "link": "https://stackoverflow.com/questions/33834010/how-to-consider-comma-separated-field-as-a-single-field-in-perl/33835272#33835272", "title": "how to consider comma separated field as a single field in perl", "body": "<p>The best solution would be to enclose your values in quotes and use <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\">Text::CSV</a> to parse the file correctly. If you don't have control over the original data source and the columns are anchored somehow (e.g., first two, first three, or first and last as in your case), you can do something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @fields = split(/,/, $_);\n\n    my $first  = shift(@fields);\n    my $last   = pop(@fields);\n    my $middle = join(',', @fields);\n\n    printf(\"%-16s%-59s%s\\n\", $first, $middle, $last);\n}\n\n__DATA__\nlifelock,LifeLock,,web,Tempe,AZ,1-May-07,6850000,USD,b\nlifelock,LifeLock,,web,Tempe,AZ,1-Oct-06,6000000,USD,a\nlifelock,LifeLock,,web,Tempe,AZ,1-Jan-08,25000000,USD,c\nmycityfaces,MyCityFaces,7,web,Scottsdale,AZ,1-Jan-08,50000,USD,seed\nflypaper,Flypaper,,web,Phoenix,AZ,1-Feb-08,3000000,USD,a\ninfusionsoft,Infusionsoft,105,software,Gilbert,AZ,1-Oct-07,9000000,USD,a\ngauto,gAuto,4,web,Scottsdale,AZ,1-Jan-08,250000,USD,seed\nchosenlist-com,ChosenList.com,5,web,Scottsdale,AZ,1-Oct-06,140000,USD,seed\nchosenlist-com,ChosenList.com,5,web,Scottsdale,AZ,25-Jan-08,233750,USD,angel\ndigg,Digg,60,web,San Francisco,CA,1-Dec-06,8500000,USD,b\ndigg,Digg,60,web,San Francisco,CA,1-Oct-05,2800000,USD,a\nfacebook,Facebook,450,web,Palo Alto,CA,1-Sep-04,500000,USD,angel\nfacebook,Facebook,450,web,Palo Alto,CA,1-May-05,12700000,USD,a\nfacebook,Facebook,450,web,Palo Alto,CA,1-Apr-06,27500000,USD,b\nfacebook,Facebook,450,web,Palo Alto,CA,1-Oct-07,300000000,USD,c\nfacebook,Facebook,450,web,Palo Alto,CA,1-Mar-08,40000000,USD,c\nfacebook,Facebook,450,web,Palo Alto,CA,15-Jan-08,15000000,USD,c\nfacebook,Facebook,450,web,Palo Alto,CA,1-May-08,100000000,USD,debt_round\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>lifelock        LifeLock,,web,Tempe,AZ,1-May-07,6850000,USD                b\nlifelock        LifeLock,,web,Tempe,AZ,1-Oct-06,6000000,USD                a\nlifelock        LifeLock,,web,Tempe,AZ,1-Jan-08,25000000,USD               c\nmycityfaces     MyCityFaces,7,web,Scottsdale,AZ,1-Jan-08,50000,USD         seed\nflypaper        Flypaper,,web,Phoenix,AZ,1-Feb-08,3000000,USD              a\ninfusionsoft    Infusionsoft,105,software,Gilbert,AZ,1-Oct-07,9000000,USD  a\ngauto           gAuto,4,web,Scottsdale,AZ,1-Jan-08,250000,USD              seed\nchosenlist-com  ChosenList.com,5,web,Scottsdale,AZ,1-Oct-06,140000,USD     seed\nchosenlist-com  ChosenList.com,5,web,Scottsdale,AZ,25-Jan-08,233750,USD    angel\ndigg            Digg,60,web,San Francisco,CA,1-Dec-06,8500000,USD          b\ndigg            Digg,60,web,San Francisco,CA,1-Oct-05,2800000,USD          a\nfacebook        Facebook,450,web,Palo Alto,CA,1-Sep-04,500000,USD          angel\nfacebook        Facebook,450,web,Palo Alto,CA,1-May-05,12700000,USD        a\nfacebook        Facebook,450,web,Palo Alto,CA,1-Apr-06,27500000,USD        b\nfacebook        Facebook,450,web,Palo Alto,CA,1-Oct-07,300000000,USD       c\nfacebook        Facebook,450,web,Palo Alto,CA,1-Mar-08,40000000,USD        c\nfacebook        Facebook,450,web,Palo Alto,CA,15-Jan-08,15000000,USD       c\nfacebook        Facebook,450,web,Palo Alto,CA,1-May-08,100000000,USD       debt_round\n</code></pre>\n\n<p>This problem becomes trivial to solve using Text::CSV if your fields are quoted properly from the start, though the meaning of <em>properly</em> when referring to CSV is kind of <a href=\"https://github.com/parsecsv/csv-spec\" rel=\"nofollow\">up for debate</a>. At any rate, enclosing fields in double quotes is pretty well understood:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\nuse Text::CSV;\n\nmy $csv = Text::CSV-&gt;new;\n\nwhile (&lt;DATA&gt;) {\n    $csv-&gt;parse($_);\n    my @fields = $csv-&gt;fields;\n    dd(\\@fields);\n}\n\n__DATA__\nlifelock,\"LifeLock,,web,Tempe,AZ,1-May-07,6850000,USD\",b\nlifelock,\"LifeLock,,web,Tempe,AZ,1-Oct-06,6000000,USD\",a\nlifelock,\"LifeLock,,web,Tempe,AZ,1-Jan-08,25000000,USD\",c\nmycityfaces,\"MyCityFaces,7,web,Scottsdale,AZ,1-Jan-08,50000,USD\",seed\nflypaper,\"Flypaper,,web,Phoenix,AZ,1-Feb-08,3000000,USD\",a\ninfusionsoft,\"Infusionsoft,105,software,Gilbert,AZ,1-Oct-07,9000000,USD\",a\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[\"lifelock\", \"LifeLock,,web,Tempe,AZ,1-May-07,6850000,USD\", \"b\"]\n[\"lifelock\", \"LifeLock,,web,Tempe,AZ,1-Oct-06,6000000,USD\", \"a\"]\n[\n  \"lifelock\",\n  \"LifeLock,,web,Tempe,AZ,1-Jan-08,25000000,USD\",\n  \"c\",\n]\n[\n  \"mycityfaces\",\n  \"MyCityFaces,7,web,Scottsdale,AZ,1-Jan-08,50000,USD\",\n  \"seed\",\n]\n[\n  \"flypaper\",\n  \"Flypaper,,web,Phoenix,AZ,1-Feb-08,3000000,USD\",\n  \"a\",\n]\n[\n  \"infusionsoft\",\n  \"Infusionsoft,105,software,Gilbert,AZ,1-Oct-07,9000000,USD\",\n  \"a\",\n]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5523972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39650968c59bd4a99ee1d49b9d04893?s=128&d=identicon&r=PG&f=1", "display_name": "ramky s", "link": "https://stackoverflow.com/users/5523972/ramky-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1448121825, "creation_date": 1448045516, "last_edit_date": 1448088695, "question_id": 33834010, "link": "https://stackoverflow.com/questions/33834010/how-to-consider-comma-separated-field-as-a-single-field-in-perl", "title": "how to consider comma separated field as a single field in perl", "body": "<p>I have an input CSV file.</p>\n\n<pre><code>model,taccode,               date\n\n1001,234ghy,               20151120\n\n1002,hj3456,531908jh       20151120\n\n1003,56789ui,78fgby,34s2fg,20151120\n</code></pre>\n\n<p>When I parse the CSV file using <code>,</code> as the delimiter I am able to insert the rows into a temp table.</p>\n\n<pre><code>while (&lt;CSVFILE&gt;) {\n                $line = $_;\n                ($field1,$field2,$startDate)=split(/,/,trim($line));\n\n                if($field2 eq \"\")\n                {\n                    $field2=0;\n                }\n\n                $Loaddatainsertsql-&gt;bind_param(1,$field1);\n                $Loaddatainsertsql-&gt;bind_param(2,$field2);\n                $Loaddatainsertsql-&gt;bind_param(3,$startDate);\n                $Loaddatainsertsql-&gt;execute ();\n}\n</code></pre>\n\n<p>Data output in a table:</p>\n\n<pre><code>model  taccode                date\n\n1001   234ghy                20151120\n\n1002   hj3456,531908jh        20151120\n\n1003   56789ui,78fgby,34s2fg  20151120 \n</code></pre>\n\n<p>Can any one please help me out.</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1448041850, "post_id": 33832930, "comment_id": 55431091, "body": "<code>killall</code>? <code>kill</code> with a negative pid?"}, {"owner": {"reputation": 3079, "user_id": 1226655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Yyz1i.png?s=128&g=1", "display_name": "IDDQD", "link": "https://stackoverflow.com/users/1226655/iddqd"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1448042183, "post_id": 33832930, "comment_id": 55431280, "body": "Would <code>kill</code> with a negative pid eliminate the whole tree from ANY child? I could not find any info supporting that."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1448042533, "post_id": 33832930, "comment_id": 55431470, "body": "No, it kills a process group."}, {"owner": {"reputation": 3079, "user_id": 1226655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Yyz1i.png?s=128&g=1", "display_name": "IDDQD", "link": "https://stackoverflow.com/users/1226655/iddqd"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1448043269, "post_id": 33832930, "comment_id": 55431860, "body": "That&#39;s the thing, I cannot understand if calling <code>kill 9, -$pid</code> would kill the process from which <code>kill</code> was called and it&#39;s children ONLY, or would the ancestor processes get killed as well? Assuming I call <code>setpgrp 0,0</code> during forking."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1448052026, "last_edit_date": 1448052026, "creation_date": 1448044120, "answer_id": 33833606, "question_id": 33832930, "link": "https://stackoverflow.com/questions/33832930/perl-kill-whole-tree-from-any-child/33833606#33833606", "title": "Perl: kill whole tree from any child", "body": "<p>When the shell starts a process, it makes it the start of a process group.</p>\n\n<pre><code>$ perl -MPOSIX -E'\n   my $pid = fork();\n   say getpgrp(), \" \", getpid();\n   waitpid($pid, 0) if $pid;\n'\n6164 6164\n6164 6167\n</code></pre>\n\n<p>If none of the children have their process group altered, you could send a signal to the process group. For example, the following will send <code>SIGTERM</code> to all process in the same process group as process <code>1234</code>:</p>\n\n<pre><code>kill -s TERM -1234\n</code></pre>\n\n<p>If some of the children have their process group altered, you will need to throw a catchable signal (e.g. not <code>SIGKILL</code>), and the parents of the children with altered process groups will need to explicitly catch and rethrow the signal to those children.</p>\n"}], "owner": {"reputation": 3079, "user_id": 1226655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Yyz1i.png?s=128&g=1", "display_name": "IDDQD", "link": "https://stackoverflow.com/users/1226655/iddqd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 33833606, "answer_count": 1, "score": 1, "last_activity_date": 1448052026, "creation_date": 1448041538, "question_id": 33832930, "link": "https://stackoverflow.com/questions/33832930/perl-kill-whole-tree-from-any-child", "title": "Perl: kill whole tree from any child", "body": "<p>I have a perl script with a few recursively forked instances. What is a good way to kill the whole tree from any forked child? Need not be clean, <code>kill -9</code> will suffice.</p>\n"}, {"tags": ["arrays", "perl", "reference"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1448039928, "post_id": 33832269, "comment_id": 55430025, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2969567/perl-dereference-array-of-references\">Perl, dereference array of references</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1448120726, "post_id": 33832269, "comment_id": 55455017, "body": "You have an answer. But I&#39;d be very interested to know where you picked up that horrible referencing syntax. Most places only mention it in passing on their way to the more readable (and less confusing) <code>$_-&gt;[2]</code> syntax."}, {"owner": {"reputation": 61, "user_id": 5586698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2b427ea015eaa822b9e256e205a3a9f?s=128&d=identicon&r=PG&f=1", "display_name": "mable", "link": "https://stackoverflow.com/users/5586698/mable"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1448148145, "post_id": 33832269, "comment_id": 55464148, "body": "@DaveCross I think it was the first syntax I saw reading the perldoc about referencing: <a href=\"http://perldoc.perl.org/perlref.html#Using-References\" rel=\"nofollow noreferrer\">link</a> and I found it kind of intuitive... personally, I don&#39;t find <code>$$_[2]</code> more or less confusing than <code>$_-&gt;[2]</code> but rather a matter of habit"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1448039624, "creation_date": 1448039624, "answer_id": 33832397, "question_id": 33832269, "link": "https://stackoverflow.com/questions/33832269/how-can-i-dereference-an-array-of-arrays-of-arrays/33832397#33832397", "title": "How can I dereference an array of arrays of arrays?", "body": "<p>Look at the <code>-&gt;</code> operator. Likely the problem is the brackets. After all, when you say <code>$$_[2]</code> do you mean: <code>${$_}[2]</code> or <code>{$$_}[2]</code>.</p>\n\n<p>Something like this is probably clearer (assuming you want the 1,2 and 8,9)</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @x = ( [ \"a\", \"b\", [ 1, 2 ], \"c\" ], \n          [ \"x\", \"y\", [ 8, 9 ], \"z\" ] );\nmy $y = \\@x;\n\nprint Dumper $y;\n\nforeach my $array_ref (@$y) {\n    print Dumper $array_ref;\n    my $z = $array_ref-&gt;[2];\n    print \"@$z\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 5586698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2b427ea015eaa822b9e256e205a3a9f?s=128&d=identicon&r=PG&f=1", "display_name": "mable", "link": "https://stackoverflow.com/users/5586698/mable"}, "edited": false, "score": 0, "creation_date": 1448040234, "post_id": 33832405, "comment_id": 55430197, "body": "Ok, got it! Thank you :)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1448040287, "last_edit_date": 1448040287, "creation_date": 1448039659, "answer_id": 33832405, "question_id": 33832269, "link": "https://stackoverflow.com/questions/33832269/how-can-i-dereference-an-array-of-arrays-of-arrays/33832405#33832405", "title": "How can I dereference an array of arrays of arrays?", "body": "<p>You need curly braces:</p>\n\n<pre><code>@{$$_[2]}\n</code></pre>\n\n<p>or, more readable</p>\n\n<pre><code>@{ $_-&gt;[2] }\n</code></pre>\n\n<p>The original <code>@$$_[2]</code> is interpreted as</p>\n\n<pre><code>@{ $$_ }[2]\n</code></pre>\n\n<p>Cf.</p>\n\n<pre><code>use feature qw{ say postderef };\n\n$_ = [['a'], ['b'], ['c', 'd']];\nsay for @{ $_-&gt;[2] };\nsay for $_-&gt;[2]-&gt;@*;\n\n$_ = \\[ @$_ ];\nsay @$_ for @{ $$_ }[2];\nsay @$_ for $_-&gt;$*-&gt;[2];\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 5586698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2b427ea015eaa822b9e256e205a3a9f?s=128&d=identicon&r=PG&f=1", "display_name": "mable", "link": "https://stackoverflow.com/users/5586698/mable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 1, "accepted_answer_id": 33832405, "answer_count": 2, "score": 1, "last_activity_date": 1448040287, "creation_date": 1448039232, "last_edit_date": 1448039694, "question_id": 33832269, "link": "https://stackoverflow.com/questions/33832269/how-can-i-dereference-an-array-of-arrays-of-arrays", "title": "How can I dereference an array of arrays of arrays?", "body": "<p>I'm working on a Perl Dancer2 webapp and stumbled across the situation that I have an array that contains arrays that contain an array in position 2. I pass a reference to that array to a sub and then iterate over the array (that contains arrays).</p>\n\n<p>When I try to get the innermost array inside a <code>foreach()</code> loop with <code>@$$_[2]</code>, I get an error:</p>\n\n<blockquote>\n  <p>Not a SCALAR reference</p>\n</blockquote>\n\n<p>I can easily work around this with:</p>\n\n<pre><code>my $ref = $$_[2];\nprint \"@$ref\\n\";\n</code></pre>\n\n<p>but I wonder why the first approach doesn't work.</p>\n\n<p>Have a look at my minimal example:</p>\n\n<pre><code>my @x = ([\"a\", \"b\", [1, 2], \"c\"],\n         [\"x\", \"y\", [8, 9], \"z\"]);\nmy $y = \\@x;\n\nforeach (@$y) {\n#   print \"@$$_[2]\\n\"; #produces error\n\n    my $z = $$_[2];\n    print \"@$z\\n\"; #works\n}\n</code></pre>\n\n<p>Any ideas what is going on here?</p>\n"}, {"tags": ["javascript", "php", "python", "perl", "http"], "answers": [{"tags": [], "owner": {"reputation": 2312, "user_id": 2200058, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/eb6c5930c5e17bb33b1429acc61fee88?s=128&d=identicon&r=PG", "display_name": "Alex Gidan", "link": "https://stackoverflow.com/users/2200058/alex-gidan"}, "is_accepted": false, "score": 0, "last_activity_date": 1448029734, "creation_date": 1448029734, "answer_id": 33829146, "question_id": 33829003, "link": "https://stackoverflow.com/questions/33829003/getting-a-mac-address-from-a-device-via-web-script-or-http/33829146#33829146", "title": "Getting a mac address from a device via web script or http", "body": "<p>In a word: no. </p>\n\n<p>Actually, using the standard protocols/technologies you mentioned above it is not possible to retrieve the MAC address of the client.</p>\n\n<p>What is possible is using a legacy technique where you install a \"native\" software on the client machine (e.g. activeX, java applet...).\nThat software, once installed, can retrieve easily the MAC of the client's device. Thus, it could call your web server with the MAC as an argument. </p>\n\n<p>Nothing of the scenario above is expected to be implemented or is already implemented.</p>\n"}], "owner": {"reputation": 51, "user_id": 1983916, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/40bb57626954aac7de6fa54dfc5dcef9?s=128&d=identicon&r=PG", "display_name": "user1983916", "link": "https://stackoverflow.com/users/1983916/user1983916"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 543, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1448029734, "creation_date": 1448029320, "question_id": 33829003, "link": "https://stackoverflow.com/questions/33829003/getting-a-mac-address-from-a-device-via-web-script-or-http", "title": "Getting a mac address from a device via web script or http", "body": "<p>Is it possible, considering I have access to all of the end user devices to allow security exceptions, to request the device mac address using any web scripting process running in Apache/IIS/Nginx? PHP? Perl? ASP?</p>\n\n<p>Client devices are running iOS so this won't work <a href=\"http://www.qualitycodes.com/tutorial.php?articleid=19&amp;title=MAC-Address-Using-WMI-on-Internet-Explorer\" rel=\"nofollow\">http://www.qualitycodes.com/tutorial.php?articleid=19&amp;title=MAC-Address-Using-WMI-on-Internet-Explorer</a></p>\n\n<p>It must be possible because MDM solutions get it through a Config Profile...</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1448029587, "post_id": 33828197, "comment_id": 55422916, "body": "Is it fair to assume that your lines go further than after the comment, like <code>Foo. Bar. Baz. % A. comment. with periods. Syn. Ack. % Another. comment</code>, or do the lines end after a comment?"}, {"owner": {"reputation": 1039, "user_id": 882756, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5a3f7f896bb39fffe05701ded73d0df8?s=128&d=identicon&r=PG", "display_name": "Christian Wolf", "link": "https://stackoverflow.com/users/882756/christian-wolf"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1448030288, "post_id": 33828197, "comment_id": 55423413, "body": "Unfortunately the comments end at the end of the line (without any termination symbol)."}], "answers": [{"tags": [], "owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "is_accepted": true, "score": 4, "last_activity_date": 1448030334, "last_edit_date": 1495541710, "creation_date": 1448029873, "answer_id": 33829195, "question_id": 33828197, "link": "https://stackoverflow.com/questions/33828197/how-to-create-regex-search-and-replace-with-comments/33829195#33829195", "title": "How to create regex search-and-replace with comments?", "body": "<p>This is tricky as you're essentially trying to match all occurrences of \". \" that don't follow a \"%\". A negative look-behind would be useful here, but Perl doesn't support variable-width negative look-behind. (Though there are <a href=\"https://stackoverflow.com/a/2337603/8233\">hideous ways of faking it</a> in certain situations.) We can get by without it here using backtracking control verbs:</p>\n\n<pre><code>s/(?:%(*COMMIT)(*FAIL))|\\.\\K (?!%)/\\n/g;\n</code></pre>\n\n<p>The <code>(?:%(*COMMIT)(*FAIL))</code> forces replacement to stop the first time it sees a \"%\" by committing to a match and then unconditionally failing, which prevents back-tracking. The \"real\" match follows the alternation: <code>\\.\\K (?!%)</code> looks for a space that follows a period and isn't followed by a \"%\". The <code>\\K</code> causes the period to not be included in the match so we don't have to include it in the replacement. We only match and replace the space.</p>\n"}, {"comments": [{"owner": {"reputation": 1039, "user_id": 882756, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5a3f7f896bb39fffe05701ded73d0df8?s=128&d=identicon&r=PG", "display_name": "Christian Wolf", "link": "https://stackoverflow.com/users/882756/christian-wolf"}, "edited": false, "score": 0, "creation_date": 1448280930, "post_id": 33830114, "comment_id": 55505003, "body": "This only works if every line has a comment. This is not true in general. Then the first <code>s&#47;&#47;&#47;</code> match does not fit resulting in double lines."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 1039, "user_id": 882756, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5a3f7f896bb39fffe05701ded73d0df8?s=128&d=identicon&r=PG", "display_name": "Christian Wolf", "link": "https://stackoverflow.com/users/882756/christian-wolf"}, "edited": false, "score": 0, "creation_date": 1448293888, "post_id": 33830114, "comment_id": 55513763, "body": "You&#39;re right. Also, comments with no preceding text were getting extra newlines inserted before them. Two extra conditions need prefixed to handle those cases. Answer updated accordingly."}], "tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 1, "last_activity_date": 1448293923, "last_edit_date": 1448293923, "creation_date": 1448032568, "answer_id": 33830114, "question_id": 33828197, "link": "https://stackoverflow.com/questions/33828197/how-to-create-regex-search-and-replace-with-comments/33830114#33830114", "title": "How to create regex search-and-replace with comments?", "body": "<p>Putting the comment by itself on a following line can be done with sed pretty easily, using the hold space:</p>\n\n<pre><code>sed '/^[^.]*%/b;/%/!{s/\\. /.\\n/g;b};h;s/[^%]*%/%/;x;s/ *%.*//;s/\\. /.\\n/g;G'\n</code></pre>\n\n<p>Or if you want the comment by itself before the rest:</p>\n\n<pre><code>sed '/^[^.]*%/b;/%/!{s/\\. /.\\n/g;b};h;s/ *%.*//;s/\\. /.\\n/g;x;s/[^%]*%/%/;G'\n</code></pre>\n\n<p>Or finally, it is possible to combine the comment with the last line also:</p>\n\n<pre><code>sed '/^[^.]*%/b;/%/!{s/\\. /.\\n/g;b};h;s/[^%]*%/%/;x;s/ *%.*//;s/\\. /.\\n/g;G;s/\\n\\([^\\n]*\\)$/ \\1/'\n</code></pre>\n"}], "owner": {"reputation": 1039, "user_id": 882756, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5a3f7f896bb39fffe05701ded73d0df8?s=128&d=identicon&r=PG", "display_name": "Christian Wolf", "link": "https://stackoverflow.com/users/882756/christian-wolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 33829195, "answer_count": 2, "score": 3, "last_activity_date": 1448293923, "creation_date": 1448026967, "question_id": 33828197, "link": "https://stackoverflow.com/questions/33828197/how-to-create-regex-search-and-replace-with-comments", "title": "How to create regex search-and-replace with comments?", "body": "<p>I have a bit of a strange problem: I have a code (it's LaTeX but that does not matter here) that contains long lines with period (sentences).\nFor better version control I wanted to split these sentences on a new line each.\nThis can be achieved via <code>sed 's/\\. /.\\n/g'</code>.</p>\n\n<p>Now the problem arises if there are comments with potential periods as well.\nThese comments must not be altered, otherwise they will be parsed as LaTeX code and this might result in errors etc.</p>\n\n<p>As a pseudo example you can use</p>\n\n<pre><code>Foo. Bar. Baz. % A. comment. with periods.\n</code></pre>\n\n<p>The result should be</p>\n\n<pre><code>Foo.\nBar.\nBaz. % ...\n</code></pre>\n\n<p>Alternatively the comment might go on the next line without any problems.</p>\n\n<p>It was ok to use <code>perl</code> if that would work out better. I tried with different programs (<code>sed</code> and <code>perl</code>) a few ideas but none did what I expected. Either the comment was also altered or only the first period was altered (<code>perl -pe 's/^([^%]*?)\\. /\\1.\\n/g'</code>).</p>\n\n<p>Can you point me in the right direction?</p>\n"}, {"tags": ["regex", "perl", "text"], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1448025187, "last_edit_date": 1448025187, "creation_date": 1448024360, "answer_id": 33827343, "question_id": 33826954, "link": "https://stackoverflow.com/questions/33826954/replacing-empty-strings-in-a-specific-column-1-liner/33827343#33827343", "title": "Replacing empty strings in a specific column (1-liner)", "body": "<p><code>$, = \"\\t\"</code> will add tab char between list elements when printing,</p>\n\n<pre><code>perl -lane'\n  BEGIN { $, = \"\\t\" }\n  push @F, \"DUB\" if @F &lt;6 and $F[4] eq \"+\";\n  print @F;\n'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 0, "creation_date": 1448024769, "post_id": 33827403, "comment_id": 55419754, "body": "Works well. How could I make this conditional? i.e. Replace the empty string with &quot;DUB&quot; if the 5th column contains &quot;+&quot;?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 0, "creation_date": 1448024880, "post_id": 33827403, "comment_id": 55419819, "body": "Show more data.Anyway same way check for 5th column i.e <code>$F[5]</code>"}, {"owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 0, "creation_date": 1448025060, "post_id": 33827403, "comment_id": 55419936, "body": "See OP EDIT for clarification."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1448026371, "last_edit_date": 1448026371, "creation_date": 1448024564, "answer_id": 33827403, "question_id": 33826954, "link": "https://stackoverflow.com/questions/33826954/replacing-empty-strings-in-a-specific-column-1-liner/33827403#33827403", "title": "Replacing empty strings in a specific column (1-liner)", "body": "<p>Try this(Add field separator according to your need):</p>\n\n<pre><code> perl -lane '$_.=\"DUB\" unless($F[6]);print'\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<pre><code>perl -lane '$_.=\"DUB\" unless $F[6] || $F[4] ne \"+\";print'\n</code></pre>\n\n<p>I will say use this to avoid confusion in future:</p>\n\n<pre><code>perl -lane '$_.=\"DUB\" if (!$F[6] and $F[4] eq \"+\");print'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1448026394, "creation_date": 1448026394, "answer_id": 33828011, "question_id": 33826954, "link": "https://stackoverflow.com/questions/33826954/replacing-empty-strings-in-a-specific-column-1-liner/33828011#33828011", "title": "Replacing empty strings in a specific column (1-liner)", "body": "<pre><code>perl -lane 'print join \"\\t\", @F[0..5], $F[6] ? $F[6] : $f[5] eq \"+\" ? \"DUB\" : \"\"' input.txt\n</code></pre>\n"}], "owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 33827403, "answer_count": 3, "score": 0, "last_activity_date": 1448026394, "creation_date": 1448023052, "last_edit_date": 1448025038, "question_id": 33826954, "link": "https://stackoverflow.com/questions/33826954/replacing-empty-strings-in-a-specific-column-1-liner", "title": "Replacing empty strings in a specific column (1-liner)", "body": "<p>I have a 6-column tab-delimited .txt file; the 6th column can often contain an empty string:</p>\n\n<pre><code>1   ARS 10  36  .   TTT \n1   ARS 10  36  -   TTT \n1   ARS 10  36  -   TTT \n1   ARS 10  36  -   TTT \n1   ARS 10  36  -   TTT \n1   ARS 10  36  +   TTT \n1   ARS 10  36  +   TTT \n1   ARS 10  36  +   TTT \n1   ARS 10  36  +   TTT \n1   ARS 10  36  +   TTT \n1   ARS 10  36  +   TTT \n1   ARS 10  36  .   TTT \n1   ARS 10  36  -   TTT ARGF10\n1   ARS 10  36  -   TTT \n</code></pre>\n\n<p>Wherever $F[6] is empty, I wish to insert \"DUB\":</p>\n\n<pre><code>1   ARS 10  36  .   TTT DUB\n1   ARS 10  36  -   TTT DUB\n1   ARS 10  36  -   TTT DUB\n1   ARS 10  36  -   TTT DUB\n1   ARS 10  36  -   TTT DUB\n1   ARS 10  36  +   TTT DUB\n1   ARS 10  36  +   TTT DUB\n1   ARS 10  36  +   TTT DUB\n1   ARS 10  36  +   TTT DUB\n1   ARS 10  36  +   TTT DUB\n1   ARS 10  36  +   TTT DUB\n1   ARS 10  36  .   TTT DUB\n1   ARS 10  36  -   TTT ARGF10\n1   ARS 10  36  -   TTT DUB\n</code></pre>\n\n<p>I've tried to do this by using <code>if</code> and <code>else</code>:</p>\n\n<pre><code>perl -lane '($dub) = \"DUB\", print \"$F[0]\\t$F[1]\\t$F[2]\\t$F[3]\\t$F[4]\\t$F[5]\\t$dub\\n\" if $F[6] =~ \"\" else print \"$F[0]\\t$F[1]\\t$F[2]\\t$F[3]\\t$F[4]\\t$F[5]\\t$F[6]\\n\"'\n</code></pre>\n\n<p>However this returns the error: </p>\n\n<pre><code>syntax error at -e line 1, near \"\"\" else\"\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>Why is this happening? I am also not sure how to go about matching empty strings. </p>\n\n<p>Secondly, is there a better way to do conditional \"find and replace\" operations within 1-liners? For example if $F[6] is empty, replace the contents of $F[2] with \"X\". </p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>Is there a way to make this replacement conditional? e.g. only do it when column 5 = '+':</p>\n\n<pre><code>1   ARS 10  36  .   TTT\n1   ARS 10  36  -   TTT\n1   ARS 10  36  -   TTT\n1   ARS 10  36  -   TTT\n1   ARS 10  36  -   TTT\n1   ARS 10  36  +   TTT DUB\n1   ARS 10  36  +   TTT DUB\n1   ARS 10  36  +   TTT DUB\n1   ARS 10  36  +   TTT DUB\n1   ARS 10  36  +   TTT DUB\n1   ARS 10  36  +   TTT DUB\n1   ARS 10  36  .   TTT\n1   ARS 10  36  -   TTT ARGF10\n1   ARS 10  36  -   TTT\n</code></pre>\n"}, {"tags": ["regex", "perl", "file-io", "hash"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1448022437, "post_id": 33826641, "comment_id": 55418479, "body": "You have not defined <code>%hash</code> anywhere."}, {"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1448024402, "post_id": 33826641, "comment_id": 55419568, "body": "Hi actualy my hash is a very big one which is global variable.processed in other function so missed to include it . Thank you"}, {"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1448024615, "post_id": 33826641, "comment_id": 55419676, "body": "Very big hash and very big file so its taking very long time for me. Also since the text files full names are not standard once I am unable to use any perl functions like substr... I am not sure if there is a solution for this but found that we can do partial regex on hashs like /$fullname/ ~~ keys  % hash but I am not quite getting the syntax correct."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1448025011, "post_id": 33826641, "comment_id": 55419904, "body": "Could do with some sample data here I think. But <code>grep</code> is probably the tool you&#39;re looking for."}, {"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1448026613, "post_id": 33826641, "comment_id": 55420978, "body": "HI I have provided an example above and in description . With that can you please tell me the syntax of using grep please? My data is too large...is there a file upload here?"}, {"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1448028098, "post_id": 33826641, "comment_id": 55421926, "body": "I just searched for grep and put it in my code as if grep { /$previous_line/ } keys %hash; but how to know which key is matched :("}, {"owner": {"reputation": 745, "user_id": 1576103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f7f37947b40fc2385fdb6c5e1865eb4?s=128&d=identicon&r=PG&f=1", "display_name": "loganaayahee", "link": "https://stackoverflow.com/users/1576103/loganaayahee"}, "edited": false, "score": 0, "creation_date": 1448029482, "post_id": 33826641, "comment_id": 55422845, "body": "my @key= grep { $prevoius_line =~ /$_/ } keys(%hash); print $hash{$key[0]};"}, {"owner": {"reputation": 745, "user_id": 1576103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f7f37947b40fc2385fdb6c5e1865eb4?s=128&d=identicon&r=PG&f=1", "display_name": "loganaayahee", "link": "https://stackoverflow.com/users/1576103/loganaayahee"}, "edited": false, "score": 0, "creation_date": 1448029829, "post_id": 33826641, "comment_id": 55423096, "body": "if(($key)= grep { $line =~ /$_/ } keys(%hash)) { print $hash{$key}; }"}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 1, "creation_date": 1448037390, "post_id": 33826641, "comment_id": 55428476, "body": "Your &quot;too long&quot; problem is unavoidable if you have to loop over all keys over all lines. Please give an example of a few such keys. And please give examples of <i>actual</i> text in <code>Chemicalbook.txt </code> that represent each of your  XYZ patterns."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1448037826, "post_id": 33826641, "comment_id": 55428765, "body": "Please learn how to create a <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Without some of your data, it will be impossible for us to reproduce this problem."}, {"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1448044356, "post_id": 33826641, "comment_id": 55432448, "body": "ok I shall simplify my query. I want to search for a partial match key in a hash in a quickest way.Once found I can exit.                Example:  If I have a  long_name = &#39;Chromium.trioxideChromic_02acid&#39;   in a string . I want to match it with my key =  trioxide in  a hash , once matched I can exit from hash. Please kindly help"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1448030894, "post_id": 33827634, "comment_id": 55423878, "body": "Hi Thanks for response, What is $key ? Is it $_ instead ?"}, {"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1448091498, "post_id": 33827634, "comment_id": 55446644, "body": "I did try above suggested code using grep but the problem is it takes too long (for me it takes 2 minutes 48 seconds).I would like to reduce it to 60 seconds."}], "tags": [], "owner": {"reputation": 745, "user_id": 1576103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f7f37947b40fc2385fdb6c5e1865eb4?s=128&d=identicon&r=PG&f=1", "display_name": "loganaayahee", "link": "https://stackoverflow.com/users/1576103/loganaayahee"}, "is_accepted": false, "score": 0, "last_activity_date": 1448082863, "last_edit_date": 1448082863, "creation_date": 1448025270, "answer_id": 33827634, "question_id": 33826641, "link": "https://stackoverflow.com/questions/33826641/perl-apply-partial-match-regex-on-a-line-in-long-text-file-using-hash-key/33827634#33827634", "title": "Perl apply partial match regex on a line in long text file using hash key", "body": "<pre><code>my %hash;\nmy @arr=qw(X.Y.Z  X.YZ  XYZ  XY2 ZZZ Chromium.trioxideChromic_02acid);\n$hash{'Y'}='Hello';\n$hash{'R'}='Hai';\n$hash{'trioxide'}='Testing';\n\nforeach my $line (@arr)\n{\n        if( my($key)= grep { $line =~ /$_/ } keys(%hash)) {\n                print \"$line - $hash{$key} \\n\";\n        }\n        else {\n           print \"Unmatched $line\\n\";\n        }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1448039270, "post_id": 33832228, "comment_id": 55429648, "body": "Its not a standalone name in text file. Thats what is my probelm.otherwise i would have done if exists in hash check"}], "tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 0, "last_activity_date": 1448039105, "creation_date": 1448039105, "answer_id": 33832228, "question_id": 33826641, "link": "https://stackoverflow.com/questions/33826641/perl-apply-partial-match-regex-on-a-line-in-long-text-file-using-hash-key/33832228#33832228", "title": "Perl apply partial match regex on a line in long text file using hash key", "body": "<p>Looping over all keys for each line is hopeless(ly slow). Try replacing the <em>entire</em> inner foreach loop with this:</p>\n\n<pre><code>while ($previous_line =~ /(\\w+)/g)\n  {\n    if (my $s = $hash{$1})\n      {\n        $line = $$s{description};\n      }\n  }\n</code></pre>\n\n<p>It will pick up shortnames as long as they're \"standing alone\" in the text.</p>\n"}], "owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1448082863, "creation_date": 1448022169, "last_edit_date": 1448024338, "question_id": 33826641, "link": "https://stackoverflow.com/questions/33826641/perl-apply-partial-match-regex-on-a-line-in-long-text-file-using-hash-key", "title": "Perl apply partial match regex on a line in long text file using hash key", "body": "<p><strong>Input1</strong>: I have a chemicalnames hash.These names are short names and are the keys to hash.\n<strong>Input2</strong>: I have a text book (I mean a very long text file) where above shortnames appear in full.</p>\n\n<p><strong>Task</strong>: Where ever the name appears in full in text file , if the next line is with \"\" then I have to replace this \"\" with relevant hash value description.            $hash{key}{description}.</p>\n\n<p><strong>Example</strong>: if hash <strong>key = Y</strong> then it might appear in text file as either\nX.Y.Z or just X.YZ or XYZ or XY2 or X_Y_Z02 .Its unpredictable but it appears somewhere in the middle or end.\n<strong>That means the text file name is a partial match to hash key name.</strong></p>\n\n<p><strong>My Trails:</strong> I tried keeping full file into array then tried to find where empty \"\" appears .Once it appear I do regex compare on previous line with hash key.But this doesnot work :( .Also the process is too slow.I have tried different kind of techniques with experts help but failed to reduce speed with other methods.Please help</p>\n\n<p>My program is as follows: </p>\n\n<pre><code>use strict;\nuse warnings;\n\n\n\nmy $file = \"Chemicalbook.txt\"; #In text file full name might appear as    Dihydrogen.monoxide.hoax_C \nmy $previous_line = \"\";\n\nmy %hash;\n\n$hash{'monoxide'}{description}   = \"accelerates corrosion\";\nopen(my $FILE,'&lt;',$file) or die \"Cannot open input file\";\nopen(my $output,'&gt;',\"outfile.txt\") or die \"Cannot open output file\";\n\nmy @file_in_array = &lt;$FILE&gt;;\n\nforeach my $line (@file_in_array) {\n   my $name = $previous_line;\n   if($line =~ /\"\"/) {\n     foreach my $shortname(keys %hash) \n     {\n       if($previous_line =~ /$shortname/) {\n         $line = s/\"\"/$hash{$shortname}{description}/;\n       }\n     }\n    }\n  $previous_line = $line;   \n  print {$output} $line ;   \n}\n\nclose($FILE);\nclose($output);\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1448022011, "post_id": 33826452, "comment_id": 55418208, "body": "You have a bunch of code relating to SSH there. Are you asking how you can remotely load a module using SSH?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1448022308, "post_id": 33826452, "comment_id": 55418384, "body": "This makes me think of Object::Remote, but the other way around."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448025029, "post_id": 33826452, "comment_id": 55419914, "body": "What&#39;s the actual message you got, and what&#39;s the full path to the file?"}, {"owner": {"reputation": 56, "user_id": 1065260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/982f0d8df83e0544cf0a47cf33664f48?s=128&d=identicon&r=PG", "display_name": "GreenOlvi", "link": "https://stackoverflow.com/users/1065260/greenolvi"}, "edited": false, "score": 0, "creation_date": 1448031963, "post_id": 33826452, "comment_id": 55424652, "body": "Check out <a href=\"https://metacpan.org/pod/Carton\" rel=\"nofollow noreferrer\">Carton</a>. It can bundle your app with all dependencies."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1448546449, "last_edit_date": 1448546449, "creation_date": 1448027783, "answer_id": 33828484, "question_id": 33826452, "link": "https://stackoverflow.com/questions/33826452/use-perl-modules-from-linux-server-on-windows/33828484#33828484", "title": "Use Perl modules from Linux server on Windows", "body": "<p>You have two problems here.</p>\n\n<p>Firstly, it sounds like you're trying to load modules from a remote system. The easiest way to to this would be to mount the remote filesystem on your local system (using NFS or something like that). The remote filesystem would then have a path on your local system which you could put into <code>@INC</code>. Another option would be to use something like <a href=\"https://metacpan.org/pod/Object::Remote\" rel=\"nofollow\">Object::Remote</a>, but I think that might be rather difficult to get right.</p>\n\n<p>Your second problem is that you want to use modules that were built for a Linux system on a Windows system. Now, most Perl modules are written in pure Perl which means that they are largely cross-platform. But some of modules have a component which needs to be compiled. These cannot be used on a platform other than the one that they were built for. We know nothing about your modules, so we can't know whether this is going to be a problem for you.</p>\n\n<p>But I think that, all in all, you're going about solving this problem the wrong way. A much better solution would be to install these modules on your local Windows system. You say that they aren't available on PPM of CPAN. In that case, you'll need to find out where they come from (perhaps by reading the documentation) and see if you can find instructions for installing them on Windows. At a pinch, if they are pure Perl modules, this might be a simple as copying them to the correct module library directory.</p>\n\n<p>One last note. Your line:</p>\n\n<pre><code>BEGIN { unshift(@INC, \"/usr/local/lib/perl/File\") }\n</code></pre>\n\n<p>Is more usually (and more maintainably) written as:</p>\n\n<pre><code>use lib '/usr/local/lib/perl/File';\n</code></pre>\n\n<p>(This is just good practice - it still won't work for the reasons explained above.)</p>\n\n<p><strong>Update:</strong> I've just noticed another problem. You are adding the path <code>/usr/local/lib/perl/File</code> to <code>@INC</code> and then loading a module called <code>File::article</code>. I'm guessing that the file you're trying to load is <code>/usr/local/lib/perl/File/article.pm</code>, in which case you have an extra \"File\" on the end of the library path. It should be just:</p>\n\n<pre><code>use lib '/usr/local/lib/perl/';\n</code></pre>\n\n<p>But this still won't work because your Windows machine knows nothing about this directory.</p>\n"}], "owner": {"reputation": 3, "user_id": 5585519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d1616ab4f4ecaf79f8e0a90689c2b21?s=128&d=identicon&r=PG&f=1", "display_name": "DevzS", "link": "https://stackoverflow.com/users/5585519/devzs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 33828484, "answer_count": 1, "score": -1, "last_activity_date": 1448546449, "creation_date": 1448021606, "last_edit_date": 1448031304, "question_id": 33826452, "link": "https://stackoverflow.com/questions/33826452/use-perl-modules-from-linux-server-on-windows", "title": "Use Perl modules from Linux server on Windows", "body": "<p>How can I use modules that are installed on a Linux server, from Windows?\nI tried using <code>lib</code> and <code>BEGIN</code> to add modules path to <code>@INC</code>,\nbut it throws an error</p>\n\n<blockquote>\n  <p>can't locate xyz.pm in @INC</p>\n</blockquote>\n\n<p>These modules are not available on CPAN or PPM.\nHere is my code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nsystem (\"cls\");\nBEGIN { unshift(@INC, \"/usr/local/lib/perl/File\") } # path for modules on linux server\nuse File::article; # module on linux server\nuse Cwd;\nuse File::Path;\nuse Net::FTP;\nuse Net::SSH::W32Perl;\nuse Net::Telnet;\n\nmy $host;\nmy $login;\nmy $password;\n\n$host = \"abc.xyz.com\";\n$login = \"login\";\n$password = \"password\";\n</code></pre>\n"}, {"tags": ["regex", "perl", "text"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1448022065, "post_id": 33825066, "comment_id": 55418240, "body": "Some sample input data/expected output might be helpful here."}], "answers": [{"comments": [{"owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 0, "creation_date": 1448018386, "post_id": 33825377, "comment_id": 55416077, "body": "So this would match &quot;ID:&quot; independently of it&#39;s position/column number?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1448018186, "creation_date": 1448018186, "answer_id": 33825377, "question_id": 33825066, "link": "https://stackoverflow.com/questions/33825066/printing-only-a-portion-of-the-column-contents-txt-file/33825377#33825377", "title": "Printing only a portion of the column contents .txt file", "body": "<p>Use a regular expression to extract the ID, store it in a variable:</p>\n\n<pre><code>perl -lane '($id) = $F[5] =~ /ID=(.*?);/,\n            print \"$F[0]\\t$F[1]\\t$id\"\n                if $F[1] &gt; 0 &amp;&amp; $F[0] =~ /^A$/ &amp;&amp; $F[3] =~ /^A$/'\n</code></pre>\n\n<p><code>*?</code> is a \"frugal quantifier\", it matches the shortest string possible, thereofre the match will end at the first <code>;</code>.</p>\n\n<p><code>($id)</code> is in parentheses which forces list context, so the match returns the capture group.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1448019583, "creation_date": 1448019583, "answer_id": 33825840, "question_id": 33825066, "link": "https://stackoverflow.com/questions/33825066/printing-only-a-portion-of-the-column-contents-txt-file/33825840#33825840", "title": "Printing only a portion of the column contents .txt file", "body": "<p>If the bit you want is always in the same position within the sixth column, then you could use <code>split()</code> to get the relevant part of <code>$F[5]</code>.</p>\n\n<pre><code>$id = (split /;=/, $F[5])[1];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1448019704, "creation_date": 1448019704, "answer_id": 33825877, "question_id": 33825066, "link": "https://stackoverflow.com/questions/33825066/printing-only-a-portion-of-the-column-contents-txt-file/33825877#33825877", "title": "Printing only a portion of the column contents .txt file", "body": "<p>Just had problem looking at accepted answer so rewrite:</p>\n\n<pre><code>perl -lane'\n  next unless $F[1] &gt;0 and $F[0] =~ /^A$/ and $F[3] =~ /^A$/;\n  print \"$F[0]\\t$F[1]\\t$1\" if $F[5] =~ /ID=(.*?);/;\n'\n</code></pre>\n"}], "owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 33825377, "answer_count": 3, "score": 0, "last_activity_date": 1448019704, "creation_date": 1448017344, "question_id": 33825066, "link": "https://stackoverflow.com/questions/33825066/printing-only-a-portion-of-the-column-contents-txt-file", "title": "Printing only a portion of the column contents .txt file", "body": "<p>Ordinarily to conditionally print specific columns from a .txt file I would utilise:</p>\n\n<pre><code>perl -lane 'print \"$F[0]\\t$F[1]\\t$F[5]\" if $F[1] &gt; 0 &amp;&amp; $F[0] =~ /^A$/ &amp;&amp; $F[3] =~ /^A$/' input.txt &gt; output.txt\n</code></pre>\n\n<p>i.e. print column 1/2/6 in-full if the match criteria are met.</p>\n\n<p>This however prints the full contents of column 1/2/6. </p>\n\n<p>If for example the 6th column contained \"ID=A08AY;ID2=12309A;Name=TEST\"</p>\n\n<p>Is it possible as a 1-liner to print \"A08AY\" only and ignore the rest of the column contents? If so, how?</p>\n"}, {"tags": ["performance", "perl", "operations"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1448007254, "post_id": 33821753, "comment_id": 55409086, "body": "Check <code>perl -MO=Concise -e &#39;$a = $a.$b&#39;</code> vs. <code>perl -MO=Concise -e &#39;$a .= $b&#39;</code>"}, {"owner": {"reputation": 356, "user_id": 4037857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QfsNU.png?s=128&g=1", "display_name": "Roden Luo", "link": "https://stackoverflow.com/users/4037857/roden-luo"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1448009974, "post_id": 33821753, "comment_id": 55410400, "body": "I&#39;m new to program. I guess this is something like Trace. I will try to learn this and then to understand the output. Thanks @\u0421\u0443\u0445\u043e\u043927"}], "answers": [{"comments": [{"owner": {"reputation": 356, "user_id": 4037857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QfsNU.png?s=128&g=1", "display_name": "Roden Luo", "link": "https://stackoverflow.com/users/4037857/roden-luo"}, "edited": false, "score": 0, "creation_date": 1448010278, "post_id": 33821920, "comment_id": 55410552, "body": "Very clear. Thank you! So does this mean the same thing will not happen  for $a += 2 and $a = $a +2? Only for strings? @Steffen"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 356, "user_id": 4037857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QfsNU.png?s=128&g=1", "display_name": "Roden Luo", "link": "https://stackoverflow.com/users/4037857/roden-luo"}, "edited": false, "score": 1, "creation_date": 1448010957, "post_id": 33821920, "comment_id": 55410993, "body": "@RodenLuo: These are still different actions (add vs. add and assign) so there will be a difference. But it will not be as noticeable as in the test with strings because there is far less memory allocation and copying there."}, {"owner": {"reputation": 356, "user_id": 4037857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QfsNU.png?s=128&g=1", "display_name": "Roden Luo", "link": "https://stackoverflow.com/users/4037857/roden-luo"}, "edited": false, "score": 0, "creation_date": 1448019876, "post_id": 33821920, "comment_id": 55416994, "body": "Oh, Okay, I got it. Thank you very much!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1448024647, "post_id": 33821920, "comment_id": 55419697, "body": "Re &quot;and after this is done sets $a to this string&quot;, This is actually quite efficient since it will simply transfer the string buffer from the temporary to <code>$a</code> rather than (enlarging and) copying. [Notice how the PV address changes even though no reallocation was needed in <code>perl -MDevel::Peek -e&#39;$a = &quot;abcdef&quot;; Dump($a); $a = substr($a, 0, -1) . &quot;g&quot;; Dump($a);&#39;</code>] <code>$a = $a . $b</code> does indeed create a new scalar and requires copying <code>$a</code>, but only once (per loop pass)."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 7, "last_activity_date": 1448011056, "last_edit_date": 1448011056, "creation_date": 1448007445, "answer_id": 33821920, "question_id": 33821753, "link": "https://stackoverflow.com/questions/33821753/perl-speed-difference-between-a-a-b-and-a-b/33821920#33821920", "title": "Perl speed: difference between $a = $a.$b and $a .= $b", "body": "<p>The runtime is different because these are different operations:</p>\n\n<blockquote>\n<pre><code>$a .= 'a';\n</code></pre>\n</blockquote>\n\n<p>This appends to <code>$a</code>. Strings in Perl have often room for more data at the end so in lots of cases this is just setting a single byte in the string and changing the length information.</p>\n\n<blockquote>\n<pre><code>$a = $a.'a';\n</code></pre>\n</blockquote>\n\n<p>This creates a new string from <code>$a</code> and <code>'a'</code> and after this is done sets <code>$a</code> to this string. Thus first memory in at least the size of <code>$a</code> needs to be allocated and the content of <code>$a</code> need to be copied into this memory. Then the append is done, followed by the assignment and then the memory can be given back to Perl's internal memory management which depending on the OS and compile time options might give the memory back to the system.</p>\n"}], "owner": {"reputation": 356, "user_id": 4037857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QfsNU.png?s=128&g=1", "display_name": "Roden Luo", "link": "https://stackoverflow.com/users/4037857/roden-luo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 33821920, "answer_count": 1, "score": 3, "last_activity_date": 1448011056, "creation_date": 1448006720, "question_id": 33821753, "link": "https://stackoverflow.com/questions/33821753/perl-speed-difference-between-a-a-b-and-a-b", "title": "Perl speed: difference between $a = $a.$b and $a .= $b", "body": "<p>I've put all the code and running info below. When handling very long strings, the speed of operations in the title is different. Why and How many other operations show the same characteristics?\n(If the loops is lower than 10^4, the different is negligible.)</p>\n\n<pre><code>\u279c  ~  cat t1.pl\n#!/usr/bin/env perl\n$a = 'a';\n\n$i = 0;\nwhile ($i &lt; 100000){\n  $a .= 'a';\n  $i++;\n}\n\n\u279c  ~  time perl t1.pl\nperl t1.pl  0.01s user 0.00s system 85% cpu 0.021 total\n\n\n\n\u279c  ~  cat t2.pl\n#!/usr/bin/env perl\n$a = 'a';\n\n$i = 0;\nwhile ($i &lt; 100000){\n  $a = $a.'a';\n  $i++;\n}\n\n\u279c  ~  time perl t2.pl\nperl t2.pl  0.50s user 0.01s system 99% cpu 0.507 total\n</code></pre>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 10414, "user_id": 1251354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650becb7843763fb2a7e8f7135d9ef5e?s=128&d=identicon&r=PG", "display_name": "rutter", "link": "https://stackoverflow.com/users/1251354/rutter"}, "edited": false, "score": 2, "creation_date": 1448006362, "post_id": 33821544, "comment_id": 55408677, "body": "Your script is trying to import a module <code>Text::Template</code>, but cannot find it. That&#39;s not a core module, so you may need to install it."}, {"owner": {"reputation": 31, "user_id": 5143151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-CnFfBQzyEIU/AAAAAAAAAAI/AAAAAAAAAPM/G9OIBcpFOxs/photo.jpg?sz=128", "display_name": "rishi dadwal", "link": "https://stackoverflow.com/users/5143151/rishi-dadwal"}, "reply_to_user": {"reputation": 10414, "user_id": 1251354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650becb7843763fb2a7e8f7135d9ef5e?s=128&d=identicon&r=PG", "display_name": "rutter", "link": "https://stackoverflow.com/users/1251354/rutter"}, "edited": false, "score": 0, "creation_date": 1448022158, "post_id": 33821544, "comment_id": 55418298, "body": "i have alrady installed  the text::Template module /usr/local/cpanel/Cpanel/Template.pm /usr/local/cpanel/Cpanel/Exception/Template.pm /usr/local/cpanel/Cpanel/Exim/Config/Template.pm /usr/local/cpanel/Cpanel/ZoneFile/Template.pm /usr/local/cpanel/Whostmgr/Template.pm /usr/local/lib/perl5/site_perl/5.8.8/HTML/Template.pm /usr/local/lib/perl5/site_perl/5.8.8/Net/OSCAR/XML/Template.&zwnj;&#8203;pm /usr/local/lib/perl5/site_perl/5.8.8/x86_64-linux/Template.p&zwnj;&#8203;m /usr/local/lib64/perl5/Template.pm /usr/local/share/perl5/Net/OSCAR/XML/Template.pm /usr/share/perl5/vendor_perl/HTML/Template.pm"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1448029322, "post_id": 33821544, "comment_id": 55422731, "body": "@rishidadwal I don&#39;t see <code>Text&#47;Template.pm</code> in there. <i>How</i> did you install it?"}], "answers": [{"comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1448008177, "post_id": 33821995, "comment_id": 55409517, "body": "ppm is the package manager for ActivePerl on Windows. The OP seems to work on a linux system."}], "tags": [], "owner": {"reputation": 11, "user_id": 740311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NyRa7.jpg?s=128&g=1", "display_name": "AmitSK", "link": "https://stackoverflow.com/users/740311/amitsk"}, "is_accepted": false, "score": 0, "last_activity_date": 1448007730, "creation_date": 1448007730, "answer_id": 33821995, "question_id": 33821544, "link": "https://stackoverflow.com/questions/33821544/perl-script-cant-locate-text-template-pm-in-inc/33821995#33821995", "title": "Perl script Can&#39;t locate Text/Template.pm in @INC", "body": "<p>Open Command Promt. Type in the following:</p>\n\n<p><code>ppm install Text-Template</code></p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 5143151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-CnFfBQzyEIU/AAAAAAAAAAI/AAAAAAAAAPM/G9OIBcpFOxs/photo.jpg?sz=128", "display_name": "rishi dadwal", "link": "https://stackoverflow.com/users/5143151/rishi-dadwal"}, "edited": false, "score": 0, "creation_date": 1448022107, "post_id": 33822455, "comment_id": 55418274, "body": "Hi thanks for the reply   /usr/local/cpanel/Cpanel/Template.pm /usr/local/cpanel/Cpanel/Exception/Template.pm /usr/local/cpanel/Cpanel/Exim/Config/Template.pm /usr/local/cpanel/Cpanel/ZoneFile/Template.pm /usr/local/cpanel/Whostmgr/Template.pm /usr/local/lib/perl5/site_perl/5.8.8/HTML/Template.pm /usr/local/lib/perl5/site_perl/5.8.8/Net/OSCAR/XML/Template.&zwnj;&#8203;pm /usr/local/lib/perl5/site_perl/5.8.8/x86_64-linux/Template.p&zwnj;&#8203;m /usr/local/lib64/perl5/Template.pm /usr/local/share/perl5/Net/OSCAR/XML/Template.pm /usr/share/perl5/vendor_perl/HTML/Template.pm"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1448009565, "creation_date": 1448009565, "answer_id": 33822455, "question_id": 33821544, "link": "https://stackoverflow.com/questions/33821544/perl-script-cant-locate-text-template-pm-in-inc/33822455#33822455", "title": "Perl script Can&#39;t locate Text/Template.pm in @INC", "body": "<p>In your perl script <code>mysqltuner.pl</code>, you are using a module <a href=\"http://search.cpan.org/~mjd/Text-Template-1.46/lib/Text/Template.pm\" rel=\"nofollow\">Text::Template</a> which is not installed in your system, that's why you are getting this warning.<br>\nYou can installed it by using cpan. If you are on Linux system, open a terminal and type:</p>\n\n<pre><code>sudo cpan install Text::Template #sudo is not required if you have login as root.\n</code></pre>\n\n<p>If you are on windows system and using ActivePerl, use this:</p>\n\n<pre><code>ppm install Text-Template\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5143151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-CnFfBQzyEIU/AAAAAAAAAAI/AAAAAAAAAPM/G9OIBcpFOxs/photo.jpg?sz=128", "display_name": "rishi dadwal", "link": "https://stackoverflow.com/users/5143151/rishi-dadwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7121, "favorite_count": 0, "closed_date": 1448012790, "answer_count": 2, "score": 0, "last_activity_date": 1448009744, "creation_date": 1448005913, "last_edit_date": 1448009744, "question_id": 33821544, "link": "https://stackoverflow.com/questions/33821544/perl-script-cant-locate-text-template-pm-in-inc", "closed_reason": "Duplicate", "title": "Perl script Can&#39;t locate Text/Template.pm in @INC", "body": "<p>I am trying to tune the MySQL tuner script written in Perl. But getting the error below:</p>\n\n<pre><code>root@server2 [/tmp]# perl mysqltuner.pl\nCan't locate Text/Template.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at mysqltuner.pl line 2816.\nBEGIN failed--compilation aborted at mysqltuner.pl line 2816 (#1)\n    (F) You said to do (or require, or use) a file that couldn't be\n    found. Perl looks for the file in all the locations mentioned in @INC,\n    unless the file name included the full path to the file.  Perhaps you\n    need to set the PERL5LIB or PERL5OPT environment variable to say where\n    the extra library is, or maybe the script needs to add the library name\n    to @INC.  Or maybe you just misspelled the name of the file.  See\n    perlfunc/require and lib.\n\nUncaught exception from user code:\n        Can't locate Text/Template.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at mysqltuner.pl line 2816.\nBEGIN failed--compilation aborted at mysqltuner.pl line 2816.\n at mysqltuner.pl line 2816\n</code></pre>\n\n<p>It would glad to provide solution for the  same.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2873, "user_id": 1719755, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EGRbw.jpg?s=128&g=1", "display_name": "lordkain", "link": "https://stackoverflow.com/users/1719755/lordkain"}, "edited": false, "score": 0, "creation_date": 1448006249, "post_id": 33821461, "comment_id": 55408613, "body": "because already where answer and you want more information, you can look ath this online regex tester with explination :) <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a>"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1448006364, "post_id": 33821461, "comment_id": 55408679, "body": "Here is my suggestion: <a href=\"http://ideone.com/kbyKrt\" rel=\"nofollow noreferrer\"><code>next if &#47;^\\s*=+\\s*$&#47;;</code></a>. Matches if there is optional whitespaces before, then only 1 or more <code>=</code>s and then optional whitespace at the end."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1448006775, "post_id": 33821461, "comment_id": 55408848, "body": "Please have a look at <a href=\"http://ideone.com/J0gRNl\" rel=\"nofollow noreferrer\"><code>next if &#47;={3,}&#47; &amp;&amp; !&#47;\\bTOTAL\\b&#47;;</code></a> since now you changed the requirements completely."}, {"owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1448007493, "post_id": 33821461, "comment_id": 55409216, "body": "@stribizhev Thanks so much! This works, as well as the solutions below!"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1448007547, "post_id": 33821461, "comment_id": 55409244, "body": "You are welcome. Do not forget to upvote those that proved helpful to you."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "edited": false, "score": 0, "creation_date": 1448006129, "post_id": 33821568, "comment_id": 55408555, "body": "Do you mind clarifying what this does? Sorry I&#39;m still quite a beginner at Perl."}, {"owner": {"reputation": 2873, "user_id": 1719755, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EGRbw.jpg?s=128&g=1", "display_name": "lordkain", "link": "https://stackoverflow.com/users/1719755/lordkain"}, "edited": false, "score": 0, "creation_date": 1448006196, "post_id": 33821568, "comment_id": 55408585, "body": "the keyword ^ says beginning of the line. So if the beginning of the line start with == this is a match"}, {"owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "edited": false, "score": 0, "creation_date": 1448006462, "post_id": 33821568, "comment_id": 55408730, "body": "Ah sorry -- sometimes the line I wish to delete will not begin with &quot;=&quot;. Sometimes it is gibberish; I would only like to keep the line if a &quot;TOTAL&quot; is in it. I will edit the question."}, {"owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "edited": false, "score": 0, "creation_date": 1448007504, "post_id": 33821568, "comment_id": 55409225, "body": "Thanks so much for the solution -- this was very helpful!"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1448007882, "last_edit_date": 1448007882, "creation_date": 1448006021, "answer_id": 33821568, "question_id": 33821461, "link": "https://stackoverflow.com/questions/33821461/deleting-a-line-with-a-pattern-unless-another-pattern-is-found/33821568#33821568", "title": "Deleting a line with a pattern unless another pattern is found?", "body": "<p>You need <code>\\A</code> or <code>^</code> to check whether the string starts with <code>=</code> or not.Put <a href=\"http://perldoc.perl.org/perlreref.html#ANCHORS\" rel=\"nofollow\">anchor</a> in regex like:</p>\n\n<pre><code>next if /^===/;\n</code></pre>\n\n<p>or  if only <code>=</code> is going to exist then:</p>\n\n<pre><code>next if /^=+/;\n</code></pre>\n\n<p>It will skip all the lines beginning with <code>=</code>.<code>+</code> is for matching 1 or more occurrences of previous token.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Then you should use <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow\"><code>Negative look behind</code></a> like</p>\n\n<pre><code>next if /(?&lt;!TOTAL)===/\n</code></pre>\n\n<p>This will ensure that you <code>===</code> is not preceded by TOTAL.</p>\n\n<p>As any no of character's may occur between <code>TOTAL</code> and <code>===</code>, I will suggest you to use two regexes to ensure string contains <code>===</code> but it doesn't contain <code>TOTAL</code>  like:</p>\n\n<pre><code>next if (($_ =~ /===/) &amp;&amp; ($_ !~ /TOTAL/))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1448006281, "creation_date": 1448006281, "answer_id": 33821643, "question_id": 33821461, "link": "https://stackoverflow.com/questions/33821461/deleting-a-line-with-a-pattern-unless-another-pattern-is-found/33821643#33821643", "title": "Deleting a line with a pattern unless another pattern is found?", "body": "<p>You can use Negative look behind assertion </p>\n\n<p><code>next if /(?&lt;!TOTAL)===/</code></p>\n\n<p>matches <code>===</code> when NOT preceded by TOTAL</p>\n"}, {"tags": [], "owner": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "is_accepted": false, "score": 0, "last_activity_date": 1448007071, "last_edit_date": 1448007071, "creation_date": 1448006768, "answer_id": 33821769, "question_id": 33821461, "link": "https://stackoverflow.com/questions/33821461/deleting-a-line-with-a-pattern-unless-another-pattern-is-found/33821769#33821769", "title": "Deleting a line with a pattern unless another pattern is found?", "body": "<p>You're current regex will pick up anything that contains the string <code>===</code> anywhere in the string.</p>\n\n<pre><code>Hello===      Match\n===goodbye    Match\n=======       Match\nfoo======bar  Match\n===           Match\n=             No Match\nHello==       No Match\n=========     Match\n</code></pre>\n\n<p>If you wanted to ensure it picks up only strings made up of <code>=</code> signs then you would need to anchor to the start and the end of the line and account for any number of <code>=</code> signs. The regex that will work will be as follows:</p>\n\n<pre><code>next if /^=+$/;\n</code></pre>\n\n<p>Each symbols meaning:</p>\n\n<pre><code>^ The start of the string\n= A literal \"=\" sign\n+ One or more of the previous \n$ The end of the string\n</code></pre>\n\n<p>This will pick up a string of any length from the start of the string to the end of the string made up of only <code>=</code> signs. </p>\n\n<pre><code>Hello===      No Match\n===goodbye    No Match\n=======       No Match\nfoo======bar  No Match\n===           Match\n=             Match\nHello==       No Match\n=========     Match\n</code></pre>\n\n<p>I suggest you read up on perl's regex and what each symbol means it can be a very powerful tool if you know what's going on.\n<a href=\"http://perldoc.perl.org/perlre.html#Regular-Expressions\" rel=\"nofollow\">http://perldoc.perl.org/perlre.html#Regular-Expressions</a></p>\n\n<p>EDIT:\nIf you want to skip a line on matching both TOTAL and the = then just put in 2 checks:</p>\n\n<pre><code>next if(/TOTAL/ and /=+/)\n</code></pre>\n\n<p>This can probably be done with a single line of regex. But why bother making it complicated and less readable?</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1448013004, "creation_date": 1448013004, "answer_id": 33823594, "question_id": 33821461, "link": "https://stackoverflow.com/questions/33821461/deleting-a-line-with-a-pattern-unless-another-pattern-is-found/33823594#33823594", "title": "Deleting a line with a pattern unless another pattern is found?", "body": "<p>As a general rule, you should avoid making your regexes more complicated. Compressing too many things into a single regex may seem clever, but it makes it harder to understand and thus debug. </p>\n\n<p>So why not just do a compound condition?</p>\n\n<p>E.g. like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy @lines;\nwhile (&lt;DATA&gt;) {\n    next if ( m/====/ and not m/TOTAL/ );\n    push @lines, $_;\n}\n\nprint $_ for @lines;\n\n__DATA__\n========\nLine 1\ndfa====dsfdas==\nLine 2 \ndf  as TOTAL ============\n</code></pre>\n\n<p>Will skip any lines with <code>===</code> in, as long as they don't contain <code>TOTAL</code>. And doesn't need advanced regex features which I assure you will get your maintenance programmers cursing you. </p>\n"}], "owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 33821568, "answer_count": 4, "score": 1, "last_activity_date": 1448013004, "creation_date": 1448005630, "last_edit_date": 1448006503, "question_id": 33821461, "link": "https://stackoverflow.com/questions/33821461/deleting-a-line-with-a-pattern-unless-another-pattern-is-found", "title": "Deleting a line with a pattern unless another pattern is found?", "body": "<p>I have a very messy data file, that can look something like this</p>\n\n<pre><code>========\nLine 1\ndfa====dsfdas==\nLine 2 \ndf  as TOTAL ============\n</code></pre>\n\n<p>I would like to delete all the lines with \"=\" only in them, but keep the line if TOTAL is also in the line. </p>\n\n<p>My code is as follows:</p>\n\n<pre><code>for my $file (glob '*.csv') {\n    open my $in, '&lt;', $file;        \n    my @lines;\n    while (&lt;$in&gt;) {\n        next if /===/; #THIS IS THE PROBLEM\n        push @lines, $_;\n    }   \n    close $in;\n    open my $out, '&gt;', $file;\n    print $out $_ for @lines;\n    close $out;\n}\n</code></pre>\n\n<p>I was wondering if there was a way to do this in perl with regular expressions. I was thinking something like letting \"TOTAL\" be condition 1 and \"===\" be condition 2. Then, perhaps if both conditions are satisfied, the script leaves the line alone, but if only one or zero are fulfilled, then the line is deleted?</p>\n\n<p>Thanks in advance! </p>\n"}, {"tags": ["regex", "string", "perl", "substring"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1448010732, "post_id": 33821062, "comment_id": 55410838, "body": "Why do you think regex would help at all?"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1448010814, "post_id": 33822560, "comment_id": 55410897, "body": "The TextCat module in SpamAssassin does something similar.  They use <code>substr</code> to pull out substrings, rather than repeatedly joining stuff together, which is probably more efficient.  Also, they <i>removed</i> the inner loop for performance reasons, yielding code somewhat more like yours."}, {"owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "edited": false, "score": 0, "creation_date": 1448013665, "post_id": 33822560, "comment_id": 55412809, "body": "Your answer will further add to the time complexity and I want something which works better in terms of time."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "edited": false, "score": 0, "creation_date": 1448014509, "post_id": 33822560, "comment_id": 55413404, "body": "The code you show has two bugs, which I have corrected, and one efficiency problem, which I have corrected (and of course the indentation is missing, which I also addressed). If you take just those fixes and corrections from my answer, is it slower? In any event, perhaps you should update your question with fixed code so we don&#39;t have to discuss those bug fixes (make it right, <i>then</i> make it fast). I have not performed timings but perhaps you should -- how much does dot cost over <code>join</code>, and maybe against <code>substr</code> as suggested but not shown?"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 0, "last_activity_date": 1448009904, "creation_date": 1448009904, "answer_id": 33822560, "question_id": 33821062, "link": "https://stackoverflow.com/questions/33821062/generate-substrings-from-a-string-in-perl/33822560#33822560", "title": "Generate substrings from a string in Perl", "body": "<p>You could create an inner loop to avoid the repeated code.  Also, repeatedly gluing stuff with the dot operator is less efficient.</p>\n\n<pre><code>my @substrings;\nfor (my $i=0; $i&lt;=$#arr; ++$i)\n{\n    for (my $j=0; $j&lt;5 &amp;&amp; $i+$j&lt;=$#arr; ++$j)\n    {\n        push @substrings, join(' ', @arr[$i..$i+$j]);\n    }\n}\n</code></pre>\n\n<p>You'll notice the additional boundary condition to prevent the inner loop from going past the end of the input array, and the use of a new array <code>@substrings</code> to contain the results.  Finally, see how indentation helps you see what goes where.</p>\n"}], "owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1448009904, "creation_date": 1448004168, "last_edit_date": 1448006254, "question_id": 33821062, "link": "https://stackoverflow.com/questions/33821062/generate-substrings-from-a-string-in-perl", "title": "Generate substrings from a string in Perl", "body": "<p>I have a string of characters which I want to break down in its substrings on the spaces between words, but the number of spaces spanning between a substring should not be more than 4.<br>\n<br>E.g.: String: <br>\n<i>\"Baicalein, a specific lipoxygenase (LOX) inhibitor, has anti-inflammatory and antioxidant effects.\"</i><br>\nThe resulting substrings should look like<br>\n1. <i>Baicalein,</i><br>\n2. <i>Baicalein, a</i><br>\n3. <i>Baicalein, a specific</i><br>\n4. <i>Baicalein, a specific lipoxygenase</i><br>\n5. <i>Baicalein, a specific lipoxygenase (LOX)</i><br>\n6. <i>a</i><br>\n7. <i>a specific</i><br>...<br>\nI feel there must be some way with Regex, but I'm not sure<br><br></p>\n\n<h1>EDIT</h1>\n\n<p>Code that I have used:</p>\n\n<pre><code>my @arr = split('\\s', $line);\nfor(my $i=0; $i&lt;$#arr; $i++)\n{\nmy $str1 = $arr[$i];\nmy $str2 = $arr[$i].' '.$arr[$i+1];\nmy $str3 = $arr[$i].' '.$arr[$i+1].' '.$arr[$i+2];\nmy $str4 = $arr[$i].' '.$arr[$i+1].' '.$arr[$i+2].' '.$arr[$i+3];\n}\n</code></pre>\n\n<p>I have very long strings and by this approach it takes a lot of time.<br>\nThanks in Advance</p>\n"}, {"tags": ["html", "perl", "unicode"], "comments": [{"owner": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "edited": false, "score": 1, "creation_date": 1447991551, "post_id": 33818310, "comment_id": 55403139, "body": "<i>very</i> long answer about handling Unicode in Perl here: <a href=\"http://stackoverflow.com/questions/6162484/why-does-modern-perl-avoid-utf-8-by-default\" title=\"why does modern perl avoid utf 8 by default\">stackoverflow.com/questions/6162484/&hellip;</a>"}, {"owner": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "edited": false, "score": 1, "creation_date": 1447991783, "post_id": 33818310, "comment_id": 55403219, "body": "But in short: \u201ctheir true and pure form\u201d doesn&#39;t really mean anything. It has to be stored using some encoding like UTF-8 or UTF-16. If your text looks like <code>&#39;&#195;&#161;&#195;&#162;&#195;&#163;&#39;</code> then probably you&#39;re sending UTF-8 but declaring it as ISO-8859-1 in the HTTP the header."}, {"owner": {"reputation": 165, "user_id": 4336172, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fff3a722a15c949510b40ef9123056db?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4336172/bob"}, "reply_to_user": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "edited": false, "score": 0, "creation_date": 1447992298, "post_id": 33818310, "comment_id": 55403371, "body": "Exactly how it looks. Kudos for the link to the article about Unicode in Perl! My head is swimming now!"}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 4336172, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fff3a722a15c949510b40ef9123056db?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4336172/bob"}, "is_accepted": true, "score": 0, "last_activity_date": 1447992843, "creation_date": 1447992843, "answer_id": 33818870, "question_id": 33818310, "link": "https://stackoverflow.com/questions/33818310/special-characters-with-extra-characters-showing-up-before-them/33818870#33818870", "title": "Special characters with extra characters showing up before them", "body": "<p>Changed http header to <code>-charset=&gt;'utf-8'</code>, now it works perfectly.</p>\n"}], "owner": {"reputation": 165, "user_id": 4336172, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fff3a722a15c949510b40ef9123056db?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4336172/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 33818870, "answer_count": 1, "score": 0, "last_activity_date": 1447995173, "creation_date": 1447988710, "last_edit_date": 1447995173, "question_id": 33818310, "link": "https://stackoverflow.com/questions/33818310/special-characters-with-extra-characters-showing-up-before-them", "title": "Special characters with extra characters showing up before them", "body": "<p>I have been busting my noggin trying to figure out how to handle some special common characters that are input by users in forms. Examples of what I mean are the copyright sign, registered sign, fraction 1/2, fraction 1/4, etc. So here is what happens:</p>\n\n<p>Users enter these characters, and they are saved into a regular text file. No problem. They are saved in their true and pure form. Now when we grab them with the Perl CGI file, and they are displayed in a browser, I get all these \"A\"s and other A-characters with markings above them. I am running a subroutine on the string to try to convert these from Unicode matches into HTML entities, but it doesn't seem to be working.</p>\n\n<p><strong>Perl Code:</strong></p>\n\n<pre><code>#string with special characters\n$special_chars=encodebc($special_chars);\n\nsub encodebc{\n$answer=$_[0];\n$answer =~ s/:://gi;\n$answer =~ s/\\x{0022}/&amp;quot;/g;\n$answer =~ s/\\x{0027}/&amp;#039;/g;\n$answer =~ s/\\x{0026}/&amp;amp;/g;\n$answer =~ s/\\x{003C}/&amp;lt;/g;\n$answer =~ s/\\x{003E}/&amp;gt;/g;\n$answer =~ s/\\x{0060}/&amp;#096;/g;\n$answer =~ s/\\x{007B}/&amp;#123;/g;\n$answer =~ s/\\x{007D}/&amp;#125;/g;\n$answer =~ s/\\x{00A9}/&amp;copy;/g;\n$answer =~ s/\\x{00AE}/&amp;reg;/g;\n$answer =~ s/\\x{00AB}/&amp;laquo;/g;\n$answer =~ s/\\x{00BB}/&amp;raquo;/g;\n$answer =~ s/\\x{00A2}/&amp;cent;/g;\n$answer =~ s/\\x{00B0}/&amp;deg;/g;\n$answer =~ s/\\x{00B2}/&amp;sup2;/g;\n$answer =~ s/\\x{00B3}/&amp;sup3;/g;\n$answer =~ s/\\x{00B5}/&amp;micro;/g;\n$answer =~ s/\\x{00BC}/&amp;frac14;/g;\n$answer =~ s/\\x{00BD}/&amp;frac12;/g;\n$answer =~ s/\\x{00BE}/&amp;frac34;/g;\n$answer =~ s/\\x{00E1}/&amp;aacute;/g;\n$answer =~ s/\\x{00E9}/&amp;eacute;/g;\n$answer =~ s/\\x{00F1}/&amp;ntilde;/g;\n$answer =~ s/\\x{00F5}/&amp;otilde;/g;\n$answer =~ s/\\x{00F8}/&amp;oslash;/g;\nreturn $answer;\n}\n</code></pre>\n\n<p>In the above code, I'm matching for two-byte characters in Unicode...so I'm not understanding where the \"A\" characters are coming from.</p>\n\n<p>Before you downvote me, please know I have spent hours upon hours working on this and reading trying to figure this out. I appreciate anyone who can help me out here.</p>\n"}, {"tags": ["perl", "database-connection", "clearquest"], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 2683601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09eff589b0ea7cf807cdf6690788aba4?s=128&d=identicon&r=PG&f=1", "display_name": "AdamSkwersky", "link": "https://stackoverflow.com/users/2683601/adamskwersky"}, "is_accepted": false, "score": 0, "last_activity_date": 1449006924, "creation_date": 1449006924, "answer_id": 34030940, "question_id": 33817876, "link": "https://stackoverflow.com/questions/33817876/can-perl-monitor-for-pop-up-and-automatically-select-yes/34030940#34030940", "title": "Can Perl monitor for pop-up and automatically select Yes?", "body": "<p>Do you have code in your ClearQuest hooks to pop up the dialog? These are not coming from the script you pasted, so they must be coming from the hooks.</p>\n\n<p>What you could do is set a session variable in your script, e.g.</p>\n\n<pre><code>$session-&gt;SetNameValue(\"RUNNING_IN_SCRIPT\", \"true\");\n</code></pre>\n\n<p>Then in your hook code have this:</p>\n\n<pre><code>my $runningInHook = $session-&gt;GetNameValue(\"RUNNING_IN_SCRIPT\");\nmy $suppressPopup = $runningInHook eq \"true\";\n</code></pre>\n\n<p>Then anywhere you might do the popup, check if $suppressPopup, and assume \"yes\" instead of trying to pop up a dialog.</p>\n"}], "owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449006924, "creation_date": 1447985607, "last_edit_date": 1447997730, "question_id": 33817876, "link": "https://stackoverflow.com/questions/33817876/can-perl-monitor-for-pop-up-and-automatically-select-yes", "title": "Can Perl monitor for pop-up and automatically select Yes?", "body": "<p>I have the below code embedded in a script where I can inserting records into a database through the business logic layer.  When I ran the script a Win32 dialog box popped up and asked me a question in which I responded yes.  This dialog box is only presented to the user if certain values are entered into the database.  So it's a problem only a percentage of the time.  Is there a command to embed in my script which ignores pop-ups with a default Yes response?  Or is there a way to have the script respond and continue processing?  I'm not seeing much on this topic when googling and searching this site.  Perhaps there is and I'm searching the wrong phrase. If this is not possible I can have the business logic programmers put an exception for the role my script will run under.</p>\n\n<pre><code>#Process each action required to update the State field\n            foreach $action (@performAction) {\n                $entity-&gt;EditEntity($action);\n                #Evaluate for validation errors\n                $trappedErrorValidate = $entity-&gt;Validate();\n                    if ($trappedErrorValidate ne \"\") {\n                    print ERRFILE \"The State field has not been updated from $startState to $finishState for record number @fieldValues[0] due to the error code below.\\n\";\n                    print ERRFILE \"Error Code:$trappedErrorValidate\\n\";\n                    print ERRFILE \"*********************************************************************************\\n\";\n                        $entity-&gt;Revert();\n                                  } else {\n                                                #Commit and evaluate for errors\n                                    $trappedErrorCommit =$entity-&gt;Commit();\n                                    if ($trappedErrorCommit ne \"\") {\n                                        print ERRFILE \"The State field has not been updated from $startState to $finishState for record number @fieldValues[0] due to the error code below.\\n\";\n                                        print ERRFILE \"Error Code:$trappedErrorCommit\\n\";\n                                        print ERRFILE \"*********************************************************************************\\n\";\n                                                                                           }else {\n                                                          $stateChanges++; \n                                                                                                             } \n                                     }\n                             }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447969397, "post_id": 33814822, "comment_id": 55395432, "body": "Is there supposed to be an embedded <code>&lt;</code> somewhere in the sample data? The traditional way to handle this problem is to encode your entities: <code>&amp;lt;</code>"}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447969543, "post_id": 33814822, "comment_id": 55395497, "body": "@Matt, my description of the problem is getting cut off.  Sorry about that.  I am hoping to fix my &quot;sorry attempt&quot; so it reads between a +&gt; and a &lt;/+."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447969627, "post_id": 33814822, "comment_id": 55395542, "body": "Right now my code is just reading between a &gt; and a &lt; which works 99.9 % of the time except in the instance where a title is entered like this &quot;My title is &lt; than yours&quot;."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1447969762, "post_id": 33814822, "comment_id": 55395619, "body": "I don&#39;t see a <code>&lt;</code> imbedded in the content between tags."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447969839, "post_id": 33814822, "comment_id": 55395664, "body": "Sorry about that SLN.  I just fixed it."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1447970660, "post_id": 33814822, "comment_id": 55396057, "body": "Please check <a href=\"http://ideone.com/4FbuRt\" rel=\"nofollow noreferrer\">this demo</a> - does it work for you? Also, this can work, too: <a href=\"https://regex101.com/r/kC4hP8/2\" rel=\"nofollow noreferrer\"><code>\\+&gt;(?!&lt;\\+)([^&lt;]*(?:&lt;(?!\\&#47;\\+)[^&lt;]*)*)&lt;\\&#47;\\+</code></a>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1447971110, "post_id": 33814822, "comment_id": 55396276, "body": "... yurk, this is why in <code>XML</code> embedding <code>&lt;</code> is disallowed. Of course, neither is this actually <code>XML</code> either, so you&#39;re getting the worst of both worlds."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447978826, "post_id": 33814822, "comment_id": 55399459, "body": "Sobrique - I know this isn&#39;t ideal I guess I could come up with another tagging scheme...but Im sure it wouldn&#39;t be much prettier."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1447979591, "post_id": 33814822, "comment_id": 55399683, "body": "@stribizhev - thank you for the code and awesome website.  I was poking around on that site and it&#39;s filled with great information.  As a new PERL coder my head is spinning.  I had no idea the regexp for what I needed was so complicated.  Sobrique is right that I need to simplify the data output so I can parse it easier.  Thanks for the lesson and help! -Matt"}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1447984458, "post_id": 33814822, "comment_id": 55401194, "body": "@stribizhev - the 2nd one actually worked better.  I had the first one fail on a record for a reason I haven&#39;t yet determined.  But the 2nd one seems to be getting through fine.  Thanks again!"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1448001646, "post_id": 33814822, "comment_id": 55406557, "body": "So shall I post it or is sln&#39;s answer that works best? I ask because you accepted his answer that is based on tempered greedy token)."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1448025821, "post_id": 33814822, "comment_id": 55420438, "body": "@stribizhev - Right now I am using your second suggestion (\\+&gt;(?!&lt;\\+)([^&lt;]*(?:&lt;(?!\\/\\+)[^&lt;]*)*)&lt;\\/\\+.).  Your first suggestion worked on a small dataset but failed on a larger one probably due to another embedded &gt; or +.  I haven&#39;t root-caused it yet.  However your second suggestion has worked without failure yet.  SLNs suggestion worked on a small dataset but I have not had a chance yet to push a large dataset through it yet."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1448026029, "post_id": 33814822, "comment_id": 55420606, "body": "Thank you for the update. <code>(?!&lt;\\+)</code> in the 2nd suggestion just makes sure the <code>+&gt;</code> is not followed with <code>&lt;+</code>. If this rule is universal in your base, I will post with all explanations."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1448026649, "post_id": 33814822, "comment_id": 55421003, "body": "@stribizhev  - That rule is universal.  The only way that could happen is if the filed I am pulling is blank and I am protecting against that.  I&#39;m not pulling any fields that are blank.  I really appreciate you taking the time out of your busy day to answer my question.  Thank you so much!  Also thank you for that site where I can play with the regular expressions and see the results in real time.  Totally cool!"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447980344, "post_id": 33815092, "comment_id": 55399934, "body": "Thanks SLN.  This is really cool and a great lesson.  A little over my head still but I am goggling :)  Thank you sir!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1448013370, "post_id": 33815092, "comment_id": 55412585, "body": "With the best will in the world - whilst it is a valid answer to your problem - it will make future maintenance programmers really hate you."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1448026041, "post_id": 33815092, "comment_id": 55420613, "body": "I agree that these solutions are terribly complicated but Im not sure I have an alternative.  I&#39;m talking with a clearquest database and need to request and push data in a very specific way through their business logic layer.  I can&#39;t go directly to the SQL server database.  And I&#39;m also not allowed to install PERL packages above what is already there do to extreme security standards, red tape, and politics."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1448039796, "post_id": 33815092, "comment_id": 55429951, "body": "@Matt - I posted a terribly <i>simple</i> solution for ya."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1448039752, "last_edit_date": 1448039752, "creation_date": 1447970183, "answer_id": 33815092, "question_id": 33814822, "link": "https://stackoverflow.com/questions/33814822/regexp-to-read-to-a-plus-sign/33815092#33815092", "title": "Regexp to read to a plus sign", "body": "<p><strong>update</strong>:  Since you are just looking for simple, you don't have to<br>\ngo beyond the definition of tag delimiters.<br>\nThis is because you don't parse with a definition of a <em>tag</em> at all.</p>\n\n<p>The solution boils down to this very simple regex -  </p>\n\n<p>Find:  <code>&lt;(?!/?\\+)</code><br>\nReplace: <code>&amp;lt;</code>  </p>\n\n<hr>\n\n<p><em>If you want to proceed with a misconception that <code>+&gt; .. &lt;/+</code> delineates<br>\nsomething between tags, this is the original.</em></p>\n\n<hr>\n\n<p>Typically it's done with negative assertions on a character by character basis.  </p>\n\n<p><code>m{\\+&gt;((?:(?!\\+&gt;|&lt;/\\+).)*&lt;(?:(?!\\+&gt;|&lt;/\\+).)*)&lt;/\\+}s</code></p>\n\n<p>Formatted:  </p>\n\n<pre><code> \\+&gt;\n (                             # (1 start)\n      (?:\n           (?! \\+&gt; | &lt;/\\+ )\n           . \n      )*\n      &lt;\n      (?:\n           (?! \\+&gt; | &lt;/\\+ )\n           . \n      )*\n )                             # (1 end)\n &lt;/\\+\n</code></pre>\n\n<p>Output:  </p>\n\n<pre><code> **  Grp 0 -  ( pos 42 , len 29 ) \n+&gt;My Title Is &lt; Than Yours&lt;/+  \n **  Grp 1 -  ( pos 44 , len 24 ) \nMy Title Is &lt; Than Yours  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1448027336, "post_id": 33828245, "comment_id": 55421433, "body": "Awesome.  I&#39;m going to get a cup of coffee and study this.  You as well as all others that responded are genius!  My script is processing very large amounts of text between the delimiters for a few of the fields in my record.  Probably explains why the second option worked better.  Thank you!"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1448027640, "post_id": 33828245, "comment_id": 55421627, "body": "If you want to study unroll the loop technique, here is <a href=\"http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop\" rel=\"nofollow noreferrer\">one link</a> and an <a href=\"http://stackoverflow.com/questions/17043454/using-regexes-how-to-efficiently-match-strings-between-double-quotes-with-embed\">SO post</a>."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1448027117, "creation_date": 1448027117, "answer_id": 33828245, "question_id": 33814822, "link": "https://stackoverflow.com/questions/33814822/regexp-to-read-to-a-plus-sign/33828245#33828245", "title": "Regexp to read to a plus sign", "body": "<p>Since it works for you as <em>the <code>+&gt;</code> cannot be followed with <code>&lt;+</code></em>, I am posting my comment as an answer.</p>\n\n<p>This regex should be safe to use even with very large files:</p>\n\n<pre><code>\\+&gt;(?!&lt;\\+)([^&lt;]*(?:&lt;(?!\\/\\+)[^&lt;]*)*)&lt;\\/\\+\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/kC4hP8/2\" rel=\"nofollow\">regex demo</a></p>\n\n<p>Here is what it is doing:</p>\n\n<ul>\n<li><code>\\+&gt;(?!&lt;\\+)</code> - matches <code>+&gt;</code> (with <code>\\+&gt;</code>) that is not followed with <code>&lt;+</code> (due to the negative lookahead <code>(?!&lt;\\+)</code>)</li>\n<li><code>([^&lt;]*(?:&lt;(?!\\/\\+)[^&lt;]*)*)</code> - matches <em>and stores in Group 1</em>\n\n<ul>\n<li><code>[^&lt;]*</code> - 0 or more characters other than <code>&lt;</code> followed by...</li>\n<li><code>(?:&lt;(?!\\/\\+)[^&lt;]*)*</code> -  0 or more sequences of...\n\n<ul>\n<li><code>&lt;(?!\\/\\+)</code> - <code>&lt;</code> that is not followed by <code>/+</code> and then</li>\n<li><code>[^&lt;]*</code> - 0 or more characters other than <code>&lt;</code></li>\n</ul></li>\n</ul></li>\n<li><code>&lt;\\/\\+</code> - matches the final <code>&lt;/+</code></li>\n</ul>\n\n<p>In short, this is the same as <code>\\+&gt;(?!&lt;\\+)([\\s\\S]*?)&lt;\\/\\+</code>, but \"unwrapped\" using the <em>unrolling-the-loop</em> technique to allow large portions of text in-between the delimiters (that is, between <code>+&gt;</code> and the closest <code>&lt;/+</code>).</p>\n"}], "owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "accepted_answer_id": 33828245, "answer_count": 2, "score": 0, "last_activity_date": 1448039752, "creation_date": 1447969085, "last_edit_date": 1447969818, "question_id": 33814822, "link": "https://stackoverflow.com/questions/33814822/regexp-to-read-to-a-plus-sign", "title": "Regexp to read to a plus sign", "body": "<p>I am using the below regexp successfully to read between my tags until I reach a case where there is a <code>&lt;</code> sign embedded in my data between the tags.  To fix this I want to read between a <code>+&gt;</code> and a <code>&lt;/+</code>.  There is no way that combination would be used in the database I'm pulling from.  When I try to change the code below to do this I get stuck.  Have any ideas?</p>\n\n<p>Code:</p>\n\n<pre><code>@fieldValues =  $inFileLine =~ m(&gt;([^&lt;]+)&lt;)g;\n</code></pre>\n\n<p>My sorry attempt at modifying the code:</p>\n\n<pre><code>@fieldValues =  $inFileLine =~ m(\\+&gt;([^&lt;\\/\\+]+)&lt;\\/\\+)g;\n</code></pre>\n\n<p>Data:</p>\n\n<pre><code>&lt;+RecordID+&gt;SWCR000111&lt;/+RecordID+&gt;&lt;+Title+&gt;My Title Is &lt; Than Yours&lt;/+Title+&gt;\n</code></pre>\n"}, {"tags": ["perl", "unit-testing", "testing", "mocking"], "answers": [{"comments": [{"owner": {"reputation": 1536, "user_id": 4078249, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/86dafd29ac331022197e140c692f25eb?s=128&d=identicon&r=PG&f=1", "display_name": "learningMyWayThru", "link": "https://stackoverflow.com/users/4078249/learningmywaythru"}, "edited": false, "score": 0, "creation_date": 1447972718, "post_id": 33814779, "comment_id": 55397077, "body": "I opted for the first option you suggest. However it appears connect does not appear to return mocked value. It is actually making call to host parameter. Is the mocking of connect method correctly done? Thanks"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1447968880, "creation_date": 1447968880, "answer_id": 33814779, "question_id": 33814302, "link": "https://stackoverflow.com/questions/33814302/perl-unit-test-mocking/33814779#33814779", "title": "Perl Unit Test Mocking", "body": "<p>I believe this is because you're using the object oriented usage of the module, but your original module isn't OO.</p>\n\n<p>Change:</p>\n\n<pre><code>$status = $connect_module-&gt;connect_attempt(\"122\", \"53\", 0);\n</code></pre>\n\n<p>...to:</p>\n\n<pre><code>$status = MyConnect::connect_attempt(\"122\", \"53\", 0);\n</code></pre>\n\n<p>...or, change your MyConnect to be OO:</p>\n\n<pre><code>package MyConnect;\n\nsub new {\n    return bless {}, shift;\n}\n\nsub connect_attempt {\n    my ($a, $b, $c) = @_;\n    $status = connect( $a, $b );\n    return status;\n}\n1;\n</code></pre>\n\n<p>...then change this:</p>\n\n<pre><code>$status = $connect_module-&gt;connect_attempt(\"122\", \"53\", 0);\n</code></pre>\n\n<p>...to this:</p>\n\n<pre><code>my $mocked_myconnect = MyConnect-&gt;new;\n$status = $mocked_myconnect-&gt;connect_attempt(\"122\", \"53\", 0);\n</code></pre>\n"}], "owner": {"reputation": 1536, "user_id": 4078249, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/86dafd29ac331022197e140c692f25eb?s=128&d=identicon&r=PG&f=1", "display_name": "learningMyWayThru", "link": "https://stackoverflow.com/users/4078249/learningmywaythru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 983, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447968880, "creation_date": 1447966950, "last_edit_date": 1447967453, "question_id": 33814302, "link": "https://stackoverflow.com/questions/33814302/perl-unit-test-mocking", "title": "Perl Unit Test Mocking", "body": "<p>I am attempting write a unit test in Perl by mocking. Its my first attempt at mocking.</p>\n\n<p>Method is defined in MyConnect.pm</p>\n\n<pre><code>sub connect_attempt {\nmy ($a, $b, $c) = @_; \n// some calculation with $c\n$status = connect( $a, $b );\nreturn status;\n}\n</code></pre>\n\n<p>connect is subroutine defined in Socket module. I need to test two scenario </p>\n\n<p>1) Connection successful  - To test this I am planning to return a new mock object or string<br>\n2) Connection unsuccessful - Status will remain undefined</p>\n\n<p>MyConnect.t</p>\n\n<pre><code>use MyConnect;\nuse Socket;\nmy $status;\nmy $mock = Test::MockObject-&gt;new();\nmy $connect_module = Test::MockModule-&gt;new('MyConnect');\n$connect_module-&gt;mock( 'connect_attempt' =&gt; sub { return \"true\"});\nmy $socket_module = Test::MockModule-&gt;new('Socket');\n$socket_module-&gt;mock( 'connect' =&gt; sub { return \"true\"});\n$status = $connect_module-&gt;connect_attempt(\"122\", \"53\", 0);\nok(defined $status, 'Its fine');\n</code></pre>\n\n<p>I get the below error:</p>\n\n<pre><code>Cant locate object method \"connect_attempt\" via package \"Test::MockModule\" at t/MyConnect.t line 21.\n#Looks like your test exited with 9 before it could output anything.\nDubious, test returned 9 (wstat 2304, 0x900)`\nLine 21 is the call `$status = connect_attempt(\"122\", \"53\", 0);\n</code></pre>\n\n<p>As per my understanding, I have created MockModule for my Module(MyConnect) and Socket module since I will invoking connect subroutine from it. \nI have set the response from both subroutines to be true. I should be expecting $status to true as well.</p>\n\n<p>Can someone please explain where I am going wrong. This is my first unit test with mocking. I may have misunderstood certain concept.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["html", "perl"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5338734, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207666696405562/picture?type=large", "display_name": "Jonathan Gravato", "link": "https://stackoverflow.com/users/5338734/jonathan-gravato"}, "edited": false, "score": 0, "creation_date": 1447972980, "post_id": 33815475, "comment_id": 55397202, "body": "Awesome!  Thank you so much for your help!  I knew there was something more I needed to do.  It makes sense now why the object was printing vs the content within it.  Thanks again!"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 1, "last_activity_date": 1447971742, "creation_date": 1447971742, "answer_id": 33815475, "question_id": 33814196, "link": "https://stackoverflow.com/questions/33814196/htmltagfilter-returning-htmlelement-hash-object/33815475#33815475", "title": "HTML::TagFilter returning HTML::Element HASH object", "body": "<p><code>$filter-&gt;filter()</code> expects HTML, <code>HTML::TreeBuilder</code> is not HTML, but a subclass of <code>HTML::Element</code>. <code>look_down()</code> returns a <code>HTML::Element</code>. That is what you see from your print, because when you treat this reference as a string, you will get the string representation of the object. <code>HTML::Element=HASH(0x7f81509ab6d8)</code>, which means that the object <code>HTML::Element</code>, which is solved by a <code>HASH</code> structure and the memory address of this object.</p>\n\n<p>You can fix it all by calling filter with the HTML from the look_down:</p>\n\n<pre><code>         print FH $filter-&gt;filter($tree-&gt;as_HTML);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5338734, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207666696405562/picture?type=large", "display_name": "Jonathan Gravato", "link": "https://stackoverflow.com/users/5338734/jonathan-gravato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 33815475, "answer_count": 1, "score": 0, "last_activity_date": 1447971742, "creation_date": 1447966533, "question_id": 33814196, "link": "https://stackoverflow.com/questions/33814196/htmltagfilter-returning-htmlelement-hash-object", "title": "HTML::TagFilter returning HTML::Element HASH object", "body": "<p>New to Perl and I am digging what I can do as well as the support and documentation available for all these great libraries; however, I am having an issue with a script I am working on.  Prior to implementing HTML::TagFilter, I was using line 63 (print FH $tree->as_HTML) to print to file the html content I was looking for.  I looked specifically for everything in the body tag.  Now I'd like to only print out the p tags, h tags, and img tags without any attributes.  When I run my code, the files are created in the proper directory but in each file a hash object is printed (HTML::Element=HASH(0x3a104c8)).</p>\n\n<pre><code>use open qw(:locale);\nuse strict;\nuse warnings qw(all);\n\nuse HTML::TreeBuilder 5 -weak; # Ensure weak references in use\nuse URI::Split qw/ uri_split uri_join /;\nuse HTML::TagFilter;\n\nmy @links;\n\nopen(FH, \"&lt;\", \"index/site-index.txt\")\n    or die \"Failed to open file: $!\\n\";\nwhile(&lt;FH&gt;) { \n    chomp; \n    push @links, $_;\n} \nclose FH;\n\nmy $dir = \"\";\nwhile($dir eq \"\"){\nprint \"What is the name of the site we are working on? \";\n$dir = &lt;STDIN&gt;;\nchomp $dir; \n}\n\n#make directory to store files\nmkdir($dir);\n\nmy $entities = \"\";\nmy $indent_char = \"\\t\";\nmy $filter = HTML::TagFilter-&gt;new(\n    allow=&gt;{ p =&gt; { none =&gt; [] }, h1 =&gt; { none =&gt; [] }, h2 =&gt; { none =&gt; [] }, h3 =&gt; { none =&gt; [] }, h4 =&gt; { none =&gt; [] }, h5 =&gt; { none =&gt; [] }, h6 =&gt; { none =&gt; [] }, img =&gt; { none =&gt; [] },  },\n    log_rejects =&gt; 1,\n    strip_comments =&gt; 1\n    );\n\n foreach my $url (@links){\n\n    #print $url;\n\n    my ($filename) = $url =~ m#([^/]+)$#;\n\n    #print $filename;\n    $filename =~ tr/=/_/;\n    $filename =~ tr/?/_/;\n    #print \"\\n\";\n\n    my $currentfile = $dir . '/' . $filename . '.html';\n\n    print \"Preparing \" . $currentfile . \"\\n\" . \"\\n\";\n\n    open (FH, '&gt;', $currentfile)\n        or die \"Failed to open file: $!\\n\";\n\n\n    my $tree = HTML::TreeBuilder-&gt;new_from_url($url);\n    $tree-&gt;parse($url);\n    $tree = $tree-&gt;look_down('_tag', 'body');\n    if($tree){\n        $tree-&gt;dump; # a method we inherit from HTML::Element\n        print FH $filter-&gt;filter($tree);\n        #print FH $tree-&gt;as_HTML($entities, $indent_char), \"\\n\";\n    } else{\n        warn \"No body tag found\";\n    }\n\n    print \"File \" . $currentfile . \" completed.\\n\" . \"\\n\";\n\n    close FH;\n\n}\n</code></pre>\n\n<p>Why is this happening and how can I print the actual content I am looking for?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["perl", "flush", "autoflush"], "answers": [{"tags": [], "owner": {"reputation": 26962, "user_id": 62365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ba579b23ef4515920a77366d520bf3c8?s=128&d=identicon&r=PG", "display_name": "Diego Sevilla", "link": "https://stackoverflow.com/users/62365/diego-sevilla"}, "is_accepted": false, "score": 11, "last_activity_date": 1447961195, "creation_date": 1447961195, "answer_id": 33812689, "question_id": 33812618, "link": "https://stackoverflow.com/questions/33812618/can-you-force-flush-output-in-perl/33812689#33812689", "title": "Can you force flush output in Perl?", "body": "<p>There are several ways you can turn on autoflush:</p>\n\n<pre><code>$|++;\n</code></pre>\n\n<p>at the beginning, or also with a <code>BEGIN</code> block:</p>\n\n<pre><code>BEGIN{ $| = 1; }\n</code></pre>\n\n<p>However, it seems to be something unusual with your configuration, because usually a <code>\\n</code> at the end triggers the flushing (at least of the terminal).</p>\n"}, {"comments": [{"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 3, "creation_date": 1447963170, "post_id": 33812764, "comment_id": 55391963, "body": "This is a good answer, note you can also set autoflush for a specific handle <code>STDERR-&gt;autoflush(1);</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1537932050, "post_id": 33812764, "comment_id": 91958985, "body": "Indeed, but note that STDERR is auto-flushed by default."}, {"owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "edited": false, "score": 0, "creation_date": 1541963897, "post_id": 33812764, "comment_id": 93389209, "body": "@ikegami - In my experience, STDERR is <b>not always</b> auto-flushed <b>by default</b>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "edited": false, "score": 0, "creation_date": 1541966116, "post_id": 33812764, "comment_id": 93389849, "body": "@\u2126mega, For what OS and what version of Perl do you think it&#39;s not? All versions of Perl on Linux and Windows autoflush STDERR, and I&#39;d be very surprised to find out it&#39;s OS-specific or version-specific. In fact, you can&#39;t even turn off autoflushing for STDERR. Feel free to test with <code>perl -E&#39;print STDERR &quot;foo&quot;; sleep(5); say STDERR &quot;bar&quot;&#39;</code>"}, {"owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "edited": false, "score": 1, "creation_date": 1542054465, "post_id": 33812764, "comment_id": 93422977, "body": "@ikegami - Here is a simple example: <code>perl -E &#39;use open &quot;:std&quot;, &quot;:encoding(UTF-8)&quot;; print STDERR &quot;foo&quot;; sleep(5); say STDERR &quot;bar&quot;&#39;</code> versus <code>perl -E &#39;use open &quot;:std&quot;, &quot;:encoding(UTF-8)&quot;; STDERR-&gt;autoflush(1); print STDERR &quot;foo&quot;; sleep(5); say STDERR &quot;bar&quot;&#39;</code> using <i>CentOS Linux release 7.5.1804 (Core)</i> and <i>Perl 5, version 16, subversion 3 (v5.16.3) built for x86_64-linux-thread-multi</i>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "edited": false, "score": 1, "creation_date": 1542061065, "post_id": 33812764, "comment_id": 93425429, "body": "@\u2126mega, Ah yes, while the underlying handle is autoflushed, the encoding layer adds another buffer which is not. That should be reported as a bug, IMHO"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 39, "last_activity_date": 1572830896, "last_edit_date": 1572830896, "creation_date": 1447961417, "answer_id": 33812764, "question_id": 33812618, "link": "https://stackoverflow.com/questions/33812618/can-you-force-flush-output-in-perl/33812764#33812764", "title": "Can you force flush output in Perl?", "body": "<p>By default, STDOUT is line-buffered (flushed by LF) when connected to a terminal, and block-buffered (flushed when buffer becomes full) when connected to something other than a terminal. Furthermore, <code>&lt;STDIN&gt;</code> flushes STDOUT when it's connected to a terminal.</p>\n\n<p>This means</p>\n\n<ul>\n<li>STDOUT isn't connected to a terminal,</li>\n<li>you aren't printing to STDOUT, or</li>\n<li>STDOUT's been messed with.</li>\n</ul>\n\n<p><code>print</code> prints to the currently <code>select</code>ed handle when no handle is provided, so the following will work no matter which of the above is true:</p>\n\n<pre><code># Execute after the print.\n# Flush the currently selected handle.\n# Needs \"use IO::Handle;\" in older versions of Perl.\nselect()-&gt;flush();\n</code></pre>\n\n<p>or</p>\n\n<pre><code># Execute anytime before the &lt;STDIN&gt;.\n# Causes the currently selected handle to be flushed immediately and after every print.\n$| = 1;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 98639, "user_id": 18511, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c621039e41aef415ad25054da3bf3f9a?s=128&d=identicon&r=PG", "display_name": "Kip", "link": "https://stackoverflow.com/users/18511/kip"}, "edited": false, "score": 1, "creation_date": 1565791427, "post_id": 52357813, "comment_id": 101462360, "body": "for me, the first line (<code>use IO::Handle;</code>) wasn&#39;t necessary"}], "tags": [], "owner": {"reputation": 304, "user_id": 10124827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22adbe933ba29413ef64aac370adf743?s=128&d=identicon&r=PG&f=1", "display_name": "G&#225;bor", "link": "https://stackoverflow.com/users/10124827/g%c3%a1bor"}, "is_accepted": false, "score": 2, "last_activity_date": 1537127196, "creation_date": 1537127196, "answer_id": 52357813, "question_id": 33812618, "link": "https://stackoverflow.com/questions/33812618/can-you-force-flush-output-in-perl/52357813#52357813", "title": "Can you force flush output in Perl?", "body": "<pre><code>use IO::Handle;\nSTDOUT-&gt;flush();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "is_accepted": false, "score": 1, "last_activity_date": 1568046831, "creation_date": 1568046831, "answer_id": 57857966, "question_id": 33812618, "link": "https://stackoverflow.com/questions/33812618/can-you-force-flush-output-in-perl/57857966#57857966", "title": "Can you force flush output in Perl?", "body": "<p>Yes. I made a subroutine for this in my util.pl file, which is <code>require</code>d in all my Perl programs.</p>\n\n<pre><code>###########################################################################\n# In: File handle to flush.\n# Out: blank if no error,, otherwise an error message. No error messages at this time.\n# Usage: flushfile($ERRFILE);\n# Write any file contents to disk without closing file. Use at debugger prompt\n# or in program.\nsub flushfile\n{my($OUTFILE)=@_;\nmy $s='';\n\nmy $procname=(caller(0))[3]; # Get this subroutine's name.\n\nmy $old_fh = select($OUTFILE);\n$| = 1;\nselect($old_fh);\n\nreturn $s; # flushfile()\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2193, "user_id": 2856202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/AHuOz.png?s=128&g=1", "display_name": "eigenfield", "link": "https://stackoverflow.com/users/2856202/eigenfield"}, "is_accepted": false, "score": 2, "last_activity_date": 1572794440, "creation_date": 1572794440, "answer_id": 58681578, "question_id": 33812618, "link": "https://stackoverflow.com/questions/33812618/can-you-force-flush-output-in-perl/58681578#58681578", "title": "Can you force flush output in Perl?", "body": "<p>To those who don't want to call <code>flush()</code> following every <code>print</code> like a baby-sitter thing, because it might be in a <code>loop</code> or something and you simply want your <code>print</code> to be unbuffered, then simply put this at the top portion of your perl script:</p>\n\n<pre><code>STDOUT-&gt;autoflush(1);\n</code></pre>\n\n<p>Thereafter, no need to call <code>flush()</code> after <code>print</code>. </p>\n"}], "owner": {"reputation": 2890, "user_id": 1228628, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/173afeab815a2eda241edc16275c59a2?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1228628/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21592, "favorite_count": 4, "accepted_answer_id": 33812764, "answer_count": 5, "score": 24, "last_activity_date": 1591137217, "creation_date": 1447960947, "last_edit_date": 1591137217, "question_id": 33812618, "link": "https://stackoverflow.com/questions/33812618/can-you-force-flush-output-in-perl", "title": "Can you force flush output in Perl?", "body": "<p>I have the following two lines in Perl:</p>\n\n<pre><code>print \"Warning: this will overwrite existing files.  Continue? [y/N]: \\n\";\nmy $input = &lt;STDIN&gt;;\n</code></pre>\n\n<p>The problem is that the print line does not get executed before the Perl script pauses for input. That is, the Perl script just seems to stop indefinitely for no apparent reason.I'm guessing that the output is buffered somehow (which is why I put the \\n in, but that doesn't seem to help).</p>\n"}, {"tags": ["xml", "perl", "bugzilla"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1447960918, "post_id": 33811061, "comment_id": 55390639, "body": "Re (3), that&#39;s just a version check. Doesn&#39;t even load the module."}, {"owner": {"reputation": 1, "user_id": 5582504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2SFxV.jpg?s=128&g=1", "display_name": "Kurazarrh", "link": "https://stackoverflow.com/users/5582504/kurazarrh"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448393812, "post_id": 33811061, "comment_id": 55567160, "body": "@ikegami, do you mean that running &quot;install XML::Parser::Expat&quot; isn&#39;t actually trying to install it and it&#39;s just running the version check? Wouldn&#39;t it fail and tell me that my version isn&#39;t up-to-date even if that was the case?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448394822, "post_id": 33811061, "comment_id": 55567794, "body": "Your version is up to date. Whether it works or not is orthogonal."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5582504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2SFxV.jpg?s=128&g=1", "display_name": "Kurazarrh", "link": "https://stackoverflow.com/users/5582504/kurazarrh"}, "edited": false, "score": 0, "creation_date": 1448391734, "post_id": 33899084, "comment_id": 55565927, "body": "I&#39;ve got both the ..\\c\\bin and ..\\vendor\\bin strings in my PATH environment variable. The server&#39;s been rebooted since installing Perl (and I did it again since I&#39;ve been fiddling with the PATH environment variable). Checked IIS&#39;s environment variables and it included the necessary PATH variable, but... no beans."}], "tags": [], "owner": {"reputation": 123, "user_id": 1325079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gVhYT.jpg?s=128&g=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/1325079/denis"}, "is_accepted": false, "score": 0, "last_activity_date": 1448383029, "creation_date": 1448383029, "answer_id": 33899084, "question_id": 33811061, "link": "https://stackoverflow.com/questions/33811061/perl-expat-xs-dll-error-when-running-importxml-pl-for-bugzilla-installation/33899084#33899084", "title": "Perl Expat.xs.dll error when running importxml.pl for Bugzilla installation", "body": "<p>I had the same problem, but not with Bugzilla.\n\"set PATH=%PATH%;\\c\\bin\" solved my problem.</p>\n\n<p>Have you booted you server after installing perl?\nIs \"C:\\Strawberry\\perl\\vendor\\bin\" in the system environment variables?\nYou can check if your Bugzilla instance has inherited all system environment variables by means of process explorer from sysinternals suite.</p>\n"}], "owner": {"reputation": 1, "user_id": 5582504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2SFxV.jpg?s=128&g=1", "display_name": "Kurazarrh", "link": "https://stackoverflow.com/users/5582504/kurazarrh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 433, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1448383029, "creation_date": 1447955822, "question_id": 33811061, "link": "https://stackoverflow.com/questions/33811061/perl-expat-xs-dll-error-when-running-importxml-pl-for-bugzilla-installation", "title": "Perl Expat.xs.dll error when running importxml.pl for Bugzilla installation", "body": "<p>The organization where I work uses a Bugzilla installation for issue resolution and tracking. We're doing a big upgrade jump from Bugzilla 3.2.3 to 5.0.1. Everything was going well until I tried using the importxml.pl script in Bugzilla to import bugs from an XML file output from the old installation.</p>\n\n<p>I have Strawberry Perl (5.22.0) installed. The database (in case it matters) is Oracle 11g, and the application is running on a Windows 2012 R2 VM.</p>\n\n<p>Whenever I try to run the script, I get the following error:</p>\n\n<blockquote>\n  <p>Can't load 'C:/Strawberry/perl/vendor/lib/auto/XML/Parser/Expat/Expat.xs.dll' for module XML::Parser::Expat: load_file:The specified module could not be found at C:/Strawberry/perl/lib/DynaLoader.pm line 193.</p>\n  \n  <p>at C:/Strawberry/perl/vendor/lib/XML/Parser.pm line 18.</p>\n  \n  <p>Compilation failed in require at C:/Strawberry/perl/vendor/lib/XML/Parser.pm line 18.</p>\n  \n  <p>BEGIN failed--compilation aborted at C:/Strawberry/perl/vendor/lib/XML/Parser.pm line 22.</p>\n  \n  <p>Compilation failed in require at C:/Strawberry/perl/vendor/lib/XML/Twig.pm line 149.</p>\n  \n  <p>BEGIN failed--compilation aborted at C:/Strawberry/perl/vendor/lib/XML/Twig.pm line 149.</p>\n  \n  <p>Compilation failed in require at importxml.pl line 77.</p>\n  \n  <p>BEGIN failed--compilation aborted at importxml.pl line 77.</p>\n</blockquote>\n\n<p>I've been hunting for answers all day and come across numerous ones that have not helped:</p>\n\n<p>1) Setting the IIS Application Pool \"Load User Profile\" to \"True.\"</p>\n\n<p>2) Copied libexpat-1__.dll from C:\\Strawberry\\c\\bin to C:\\Strawberry\\perl\\bin.</p>\n\n<p>3) Used CPAN Client to install XML::Parser and XML::Parser::Expat. Both of these reported as being up-to-date and did not install further modules.</p>\n\n<p>4) Verified my PATH variables. Currently, the following paths are included:</p>\n\n<blockquote>\n  <p>C:\\Strawberry\\c\\bin</p>\n  \n  <p>C:\\Strawberry\\perl\\site\\bin</p>\n  \n  <p>C:\\Strawberry\\perl\\bin</p>\n  \n  <p>C:\\Strawberry\\perl\\vendor\\bin</p>\n</blockquote>\n\n<p>5) Gave \"Everyone\" full control of the \\Bugzilla and \\Strawberry folders. This didn't help, so I revoked those privileges for security's sake.</p>\n\n<p>6) Beat my head against the desk. This helped my stress, but not the situation.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1447951044, "post_id": 33809376, "comment_id": 55384327, "body": "unix time has a 1970 epoch, not 1900."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1447951384, "post_id": 33809376, "comment_id": 55384558, "body": "Please take a little more care when writing questions on Stack Overflow. Instead of providing code that does not compile to illustrate something, you can just use comments if that part of the code is not relevant to the question. It&#39;s also nice if the output you show is actually what the program you posted is producing."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1447956245, "post_id": 33809376, "comment_id": 55387718, "body": "is a single insert really taking more than a fractional second?"}, {"owner": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 1, "creation_date": 1447959804, "post_id": 33809376, "comment_id": 55389912, "body": "yes, we are talking about millions of data"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1447955079, "post_id": 33809442, "comment_id": 55387030, "body": "/ It didn&#39;t work : Execution time: 0 wallclock secs ( 0.00 usr +  0.00 sys =  0.00 CPU)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 2, "creation_date": 1447956291, "post_id": 33809442, "comment_id": 55387749, "body": "@doudy_05 if all you are doing is setting a <code>$sql</code> variable, not actually running a query, that would make sense"}, {"owner": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1447957770, "post_id": 33809442, "comment_id": 55388653, "body": "my script is to run a query to insert new values into a table and the duration is 1m07s"}, {"owner": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1448036897, "post_id": 33809442, "comment_id": 55428140, "body": "This is the Output I got :  the code took: 0 wallclock secs ( 0.00 usr +  0.00 sys =  0.00 CPU)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1448037613, "post_id": 33809442, "comment_id": 55428631, "body": "@doudy you might have put the first Benchmark object below the code you want to time."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1447951126, "last_edit_date": 1447951126, "creation_date": 1447950802, "answer_id": 33809442, "question_id": 33809376, "link": "https://stackoverflow.com/questions/33809376/how-do-calculate-and-convert-localtime-to-unix-time-stamp-in-perl/33809442#33809442", "title": "How do calculate and convert localtime to unix time stamp in Perl", "body": "<p><code>localtime</code> is used to convert unix timestamps to a human-readable time (or a list of parts of it), but you are giving it a <em>duration</em> in seconds. It will treat it like a timestamp, and give you a very low date and time.</p>\n\n<pre><code>print scalar localtime 648;\n# gives Thu Jan  1 01:10:48 1970\n</code></pre>\n\n<p>Your code gives the following output:</p>\n\n<blockquote>\n  <p>Unix time 648 converts to Jan 1, 1970 1:10:48</p>\n</blockquote>\n\n<p>The problem is that you are essentially mixing two concepts here.</p>\n\n<p><strong>You might want to use the <a href=\"http://perldoc.perl.org/Benchmark.html\" rel=\"nofollow\">Benchmark</a> module instead</strong>, which is intended for this exact purpose.</p>\n\n<pre><code>use strict;\nuse warning;\nuse Benchmark;\n\nmy $t0 = Benchmark-&gt;new;\n\n# do your database stuff here\n\nmy $t1 = Benchmark-&gt;new;\nmy $td = timediff($t1, $t0);\nprint \"the code took:\",timestr($td),\"\\n\";\n</code></pre>\n\n<hr>\n\n<p>If you are on a Linux or Unix, you can also use <a href=\"http://linux.die.net/man/1/time\" rel=\"nofollow\">the <code>time</code> program</a> to meassure the overall runtime of your program.</p>\n\n<pre><code>$ time perl foo.pl\nreal    0m2.241s\nuser    0m2.236s\nsys 0m0.000s\n\n$\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1447956070, "post_id": 33809705, "comment_id": 55387621, "body": "but even though it&#39;s a not timestamp, it can make sense to pass it to gmtime:  <code>use Time::Piece &quot;gmtime&quot;; say gmtime($run_time)-&gt;strftime(&quot;%H:%M:%S&quot;)</code>  (assumes it is less than a day)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1447956836, "post_id": 33809705, "comment_id": 55388106, "body": "@ysth, True, though using the builtin <code>gmtime</code> and  grabbing <code>strftime</code> from POSIX would be simpler and less magical."}, {"owner": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1447960209, "post_id": 33809705, "comment_id": 55390171, "body": "I did gmtime($run_time)-&gt;strftime(&quot;%H:%M:%S&quot;) but I didn&#39;t get the run time of my script. I need h:m:s"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1447960423, "post_id": 33809705, "comment_id": 55390303, "body": "@doudy_05, If you have a question, as a Question. I&#39;m not playing the guessing game."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1447981299, "post_id": 33809705, "comment_id": 55400223, "body": "@doudy_05, Oh, I thought you wanted to use ysth&#39;s code (since you (falsly) claimed it doesn&#39;t work)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1448035783, "post_id": 33809705, "comment_id": 55427370, "body": "@doudy_05, huh??? Already <a href=\"http://stackoverflow.com/a/33809705/589924\">gave</a> you one. And so did ysth."}, {"owner": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1448036197, "post_id": 33809705, "comment_id": 55427654, "body": "which one?  use strict; use warning; use Benchmark;  my $t0 = Benchmark-&gt;new;  # do your database stuff here  my $t1 = Benchmark-&gt;new; my $td = timediff($t1, $t0); print &quot;the code took:&quot;,timestr($td),&quot;\\n&quot;;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1448036325, "post_id": 33809705, "comment_id": 55427748, "body": "@doudy_05, Which one what? Why one is my answer? The one with my name on it. I even linked to it in the comment!"}, {"owner": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1448039237, "post_id": 33809705, "comment_id": 55429632, "body": "I have a script to insert new data into a table anytime  I run it. so, I want to calculate the execution time for the entire process.  Im using : use strict; use warnings; use Data::Dumper; use Time::localtime; use Benchmark; the output Im getting is: Execution time: 0 wallclock secs ( 0.00 usr +  0.00 sys =  0.00 CPU)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1448039981, "post_id": 33809705, "comment_id": 55430054, "body": "That code does NOT produce that output, and that has nothing to do with my answer. If you have a new question, post a Question, not a comment."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1448047423, "post_id": 33809705, "comment_id": 55434206, "body": "@doudy if you want the run time of the entire process, just use the <code>time</code> program from the bottom of my answer."}, {"owner": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "edited": false, "score": 0, "creation_date": 1448050478, "post_id": 33809705, "comment_id": 55435879, "body": "I&#39;ll try it , Thank you"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1448035990, "last_edit_date": 1448035990, "creation_date": 1447951590, "answer_id": 33809705, "question_id": 33809376, "link": "https://stackoverflow.com/questions/33809376/how-do-calculate-and-convert-localtime-to-unix-time-stamp-in-perl/33809705#33809705", "title": "How do calculate and convert localtime to unix time stamp in Perl", "body": "<p><code>$run_time</code> isn't a timestamp (a number of seconds since epoch representing a date-time), so it makes no sense to pass it to <code>localtime</code>.</p>\n\n<pre><code>my $s = $run_time % 60;  $run_time = ($run_time - $s) / 60;\nmy $m = $run_time % 60;  $run_time = ($run_time - $m) / 60;\nmy $h = $run_time;\n\nmy $formatted_run_time = sprintf \"%d:%02d:%02d\", $h, $m, $s;\n</code></pre>\n\n<p>You can get fancier too:</p>\n\n<pre><code>my $formatted_run_time =\n   $h ? sprintf \"%d:%02d:%02d\", $h, $m, $s\n   $m ? sprintf \"%d:%02d\", $m, $s\n   $s;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5261735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95e87340b42da1cef130b07f0a958e6?s=128&d=identicon&r=PG&f=1", "display_name": "doudy_05", "link": "https://stackoverflow.com/users/5261735/doudy-05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1448035990, "creation_date": 1447950629, "question_id": 33809376, "link": "https://stackoverflow.com/questions/33809376/how-do-calculate-and-convert-localtime-to-unix-time-stamp-in-perl", "title": "How do calculate and convert localtime to unix time stamp in Perl", "body": "<p>My script is :</p>\n\n<pre><code>   use warnings;\n   use strict;\n\nmy $start_time = localtime();\n     $sql = \"INSERT into Table1, Select (VAr1, Var2, Var3 ...........)\";\nmy $end_time = localtime();\nmy $run_time = ($end_time - $start_time);\n\nmy @months = (\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\");\nmy ($sec, $min, $hour, $day,$month,$year) = (localtime($run_time))[0,1,2,3,4,5]; \nprint \"Unix time \".$run_time.\" converts to \".$months[$month].\" \".$day.\", \".($year +=1900);\nprint \" \".$hour.\":\".$min.\":\".$sec.\"\\n\";\n</code></pre>\n\n<p>When I run it, I don't get the desire output. </p>\n\n<p>Unix time 648 converts to Jan , 1900 ::</p>\n\n<p>I need to get hour:min:sec\nthe time the script took to calculate the insert into the table.</p>\n\n<p>Thank you </p>\n"}, {"tags": ["perl", "gzip"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447955416, "post_id": 33806877, "comment_id": 55387250, "body": "Side note: You should avoid <a href=\"http://perldoc.perl.org/perlobj.html#Indirect-Object-Syntax\" rel=\"nofollow noreferrer\">indirect object notation</a>. Change <code>my $z = new IO::Compress::Gzip $out</code> to <code>my $z = IO::Compress::Gzip-&gt;new($out)</code>. See <a href=\"http://modernperlbooks.com/mt/2009/08/the-problems-with-indirect-object-notation.html\" rel=\"nofollow noreferrer\">The Problems with Indirect Object Notation</a>."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447957770, "post_id": 33806877, "comment_id": 55388652, "body": "@ThisSuitIsBlackNot I agree, that was copied from the module docs for a test."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447953943, "post_id": 33809647, "comment_id": 55386358, "body": "And in case it&#39;s not clear, you should <i>always</i> use parentheses when the sub is not predeclared/imported (unless it takes no arguments). This means all method calls, since method invocants are not resolved until run-time. See tobyink&#39;s response to <a href=\"http://www.perlmonks.org/?node_id=1083904\" rel=\"nofollow noreferrer\">&quot;to paren or not to paren&quot;</a> on PerlMonks."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 0, "creation_date": 1447957650, "post_id": 33809647, "comment_id": 55388587, "body": "Great explanation as to why it doesn&#39;t work the other way. Thanks!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "is_accepted": true, "score": 3, "last_activity_date": 1447951432, "creation_date": 1447951432, "answer_id": 33809647, "question_id": 33806877, "link": "https://stackoverflow.com/questions/33806877/functional-interface-to-iocompressgzip-is-not-handling-arguments-correctly/33809647#33809647", "title": "Functional interface to IO::Compress::Gzip is not handling arguments correctly", "body": "<p>This line:</p>\n\n<pre><code>IO::Compress::Gzip::gzip $input =&gt; $out\n</code></pre>\n\n<p>is parsed differently depending on whether the parser knows that there is a function called <code>IO::Compress::Gzip::gzip</code> or not.</p>\n\n<p>When you load the library with <code>use</code>, its functions are known to the parser before the rest of your program is parsed (because <code>use</code> is a type of <code>BEGIN</code>). In this case the parser chooses the interpretation you want.</p>\n\n<p>In the other case, it chooses the alternate interpretation: indirect object syntax, equivalent to <code>$input-&gt;IO::Compress::Gzip::gzip, $out</code></p>\n\n<p>You can see this for yourself by running <code>perl -MO=Deparse</code> on the different versions of your program.</p>\n\n<p>The fix is to make the function call explicit with parentheses:</p>\n\n<pre><code>IO::Compress::Gzip::gzip($input, $out)\n</code></pre>\n\n<p>The parser can't misinterpret that.</p>\n"}], "owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 33809647, "answer_count": 1, "score": 1, "last_activity_date": 1447951432, "creation_date": 1447943900, "question_id": 33806877, "link": "https://stackoverflow.com/questions/33806877/functional-interface-to-iocompressgzip-is-not-handling-arguments-correctly", "title": "Functional interface to IO::Compress::Gzip is not handling arguments correctly", "body": "<p>Here is a simple example to illustrate the issue I am seeing when trying to use IO::Compress::Gzip:</p>\n\n<pre><code>use strict;\nuse warnings;\n\neval {\n    require IO::Compress::Gzip;\n    IO::Compress::Gzip-&gt;import();\n    1;\n} or do {\n    my $error = $@;\n        die \"\\nERROR: Couldn't load IO::Compress::Gzip\" if $error;\n};\n\nmy $input = shift;\nmy $out = $input.\".gz\";\nprint \"Defined!\\n\" if defined $out;\n\nIO::Compress::Gzip::gzip $input =&gt; $out \n    or die \"gzip failed: $!\\n\";\n</code></pre>\n\n<p>This generates the following error:</p>\n\n<pre><code>Defined!\nUse of uninitialized value $_[1] in string eq at /home/statonse/perl/perlbrew/perls/perl-5.22.0/lib/5.22.0/IO/Compress/Base/Common.pm line 280.\nIO::Compress::Gzip::gzip: output filename is undef or null string at test.pl line 17.\n</code></pre>\n\n<p>However, if I use the object interface:</p>\n\n<pre><code>use strict;\nuse warnings;\n\neval {\n    require IO::Compress::Gzip;\n    IO::Compress::Gzip-&gt;import();\n    1;\n} or do {\n    my $error = $@;\n    die \"\\nERROR: Couldn't load IO::Compress::Gzip\" if $error;\n};\n\nmy $input = shift;\nmy $out = $input.\".gz\";\nprint \"Defined!\\n\" if defined $out;\n\nmy $z = new IO::Compress::Gzip $out\n    or die \"IO::Compress::Gzip failed: $!\\n\";\n\n$z-&gt;print($input);\n</code></pre>\n\n<p>It works just fine. For some context, it would work as normal if I imported the module with use:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IO::Compress::Gzip;\n\nmy $input = shift;\nmy $out = $input.\".gz\";\n\nIO::Compress::Gzip::gzip $input =&gt; $out\n    or die \"gzip failed: $!\\n\";\n</code></pre>\n\n<p>but I am trying to avoid that since this library is rarely used in the application. Is there something obvious I am doing wrong or is this a behavior specific to this module?</p>\n"}]