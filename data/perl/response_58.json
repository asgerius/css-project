[{"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455769321, "post_id": 35470808, "comment_id": 58640460, "body": "While that may work, it is all kinds of wrong. Please at least <code>use strict</code> and <code>use warnings &#39;all&#39;</code> and take a look at <a href=\"http://perldoc.perl.org/perlstyle.html\" rel=\"nofollow noreferrer\">perlstyle</a>"}, {"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1456058766, "post_id": 35470808, "comment_id": 58761144, "body": "Why  is this &quot;all kinds of wrong&quot;, doesn&#39;t it answer the question? Is it inefficient? Why should use strict/warnings for such a short snippet? There would be no warnings, it&#39;s just 11 lines of code."}], "tags": [], "owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "is_accepted": true, "score": -1, "last_activity_date": 1455769998, "last_edit_date": 1455769998, "creation_date": 1455757020, "answer_id": 35470808, "question_id": 35470004, "link": "https://stackoverflow.com/questions/35470004/remove-lines-containing-same-string/35470808#35470808", "title": "Remove lines containing same string", "body": "<p>On the assumption that all <code>IN(...)</code> lines are before the <code>OUT(...)</code> lines (i.e. sorted), the following should work:</p>\n\n<pre><code>my %in;\nwhile (&lt;DATA&gt;) {\n    if (/^IN\\((.*?)\\)/) {\n        $in{$1} = 1;\n    } elsif  (/^OUT\\((.*?)\\)/) {\n        if ($in{$1}) {\n            next;\n        }\n    }\n    print $_;\n}\n\n__DATA__\nIN(ABC);\nIN(DEF);\nIN(FGH);\nOUT(QWE);\nOUT(ABC);\nOUT(DEF);\n</code></pre>\n\n<p>The idea is to use a hash to track which <code>IN</code> values have been used. Go through the data line by line, if it's an <code>IN</code> line, store the value and print the line. If it's an <code>OUT</code> line and it is not in the list of recognized <code>IN</code> values, print it as well, otherwise, skip it.</p>\n"}], "owner": {"reputation": 39, "user_id": 5280743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8df96a5ae384a7a3cbe3bcc4fc6c844?s=128&d=identicon&r=PG&f=1", "display_name": "Presley", "link": "https://stackoverflow.com/users/5280743/presley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 35470808, "answer_count": 1, "score": -1, "last_activity_date": 1455813457, "creation_date": 1455752565, "last_edit_date": 1455776613, "question_id": 35470004, "link": "https://stackoverflow.com/questions/35470004/remove-lines-containing-same-string", "title": "Remove lines containing same string", "body": "<p>If a line <code>IN(..)</code> and a line <code>OUT(..)</code> have the same string in their parentheses, then remove the line <code>OUT(..)</code>.</p>\n\n<p>My input file is like :</p>\n\n<pre><code>IN(ABC); \nIN(DEF);        \nIN(FGH);        \nOUT(QWE);       \nOUT(ABC);       \nOUT(DEF);\n</code></pre>\n\n<p>My desired output is:</p>\n\n<pre><code>IN(ABC);\nIN(DEF);\nIN(FGH);\nOUT(QWE);\n</code></pre>\n"}, {"tags": ["perl", "module"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1455753897, "post_id": 35470072, "comment_id": 58635999, "body": "<code>perldoc -l Foo::Bar</code> is a common trick, although it doesn&#39;t always work."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455754179, "post_id": 35470072, "comment_id": 58636084, "body": "Also might be worth adding that you have to look at the distribution source to see XS code."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1455754404, "post_id": 35470072, "comment_id": 58636142, "body": "If <code>perldoc -l Foo::Bar</code> works, then <code>perldoc -m Foo::Bar</code> works too."}, {"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455754404, "post_id": 35470072, "comment_id": 58636143, "body": "Thanks @ThisSuitIsBlackNot, @mob I added <code>perldoc -[lm]</code> to the answer."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1455758260, "post_id": 35470072, "comment_id": 58637376, "body": "@mob What does <code>perldoc -m</code> do?"}, {"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1455758306, "post_id": 35470072, "comment_id": 58637385, "body": "<code>perldoc -m</code> prints out the content of the module, the perl code and POD."}], "tags": [], "owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "is_accepted": false, "score": 7, "last_activity_date": 1455754479, "last_edit_date": 1455754479, "creation_date": 1455752856, "answer_id": 35470072, "question_id": 35469981, "link": "https://stackoverflow.com/questions/35469981/how-can-i-inspect-the-code-of-a-perl-module-installed/35470072#35470072", "title": "How can I inspect the code of a perl module installed?", "body": "<p>Find the source code file with whatever means your OS provides.</p>\n\n<p>If you're looking for a properly installed module, you can use <code>perldoc -l</code> to find the file or <code>perldoc -m</code> to print the file (thanks @ThisSuitIsBlackNot, @mob):</p>\n\n<pre><code>perldoc -l List::Util\nperldoc -m List::Util\n</code></pre>\n\n<p>If your module is <code>MyCompany::Database::Utils</code>, you know it must be in a path <code>MyCompany/Database/Utils.pm</code> below one of the paths in <code>@INC</code>.</p>\n\n<p>You can list the default <code>@INC</code> paths with</p>\n\n<pre><code>perl -MData::Dumper -e 'print Dumper(\\@INC);'\n</code></pre>\n\n<p>If you are on a system with <code>mlocate</code> (such as most Linux/BSD distros), you can also find the file with</p>\n\n<pre><code>locate MyCompany/Database/Utils.pm\n</code></pre>\n\n<p>If you want to look into a distribution to see the full source (e.g. to find XS code, README, unit tests etc.), you can use <a href=\"https://cpanmin.us/\">cpanminus'</a> <code>--look</code> flag:</p>\n\n<pre><code>cpanm --look DateTime\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1455796815, "last_edit_date": 1455796815, "creation_date": 1455762651, "answer_id": 35471700, "question_id": 35469981, "link": "https://stackoverflow.com/questions/35469981/how-can-i-inspect-the-code-of-a-perl-module-installed/35471700#35471700", "title": "How can I inspect the code of a perl module installed?", "body": "<p>Perl can find the module, so let Perl tell you where it found it!</p>\n\n<pre><code>perl -e'\n   my $p = $ARGV[0];\n   $p =~ s{::}{/}g;\n   $p .= \".pm\";\n   require $p;\n   print \"$INC{$p}\\n\";\n' MyCompany::Database::Utils\n</code></pre>\n\n<p>If the module contains POD, you can use the following shortcut:</p>\n\n<pre><code>perldoc -l MyCompany::Database::Utils\n</code></pre>\n\n<p>If that doesn't find the module, it could be that the script that uses MyCompany::Database::Utils manipulates <code>@INC</code> to allow it to find the module. If so, add the following to your script:</p>\n\n<pre><code>END {\n   my $p = \"MyCompany::Database::Utils\";\n   $p =~ s{::}{/}g;\n   $p .= \".pm\";\n   print \"$INC{$p}\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1455910980, "last_edit_date": 1455910980, "creation_date": 1455772430, "answer_id": 35473347, "question_id": 35469981, "link": "https://stackoverflow.com/questions/35469981/how-can-i-inspect-the-code-of-a-perl-module-installed/35473347#35473347", "title": "How can I inspect the code of a perl module installed?", "body": "<p>The built-in hash <code>%INC</code> documented in <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\"><code>perldoc perlvar</code></a> relates each module's .pm source file to its file system location</p>\n\n<p>If you have</p>\n\n<pre><code>use MyCompany::Database::Utils;\n</code></pre>\n\n<p>then perl will search for a file like <code>MyCompany/Database/Utils.pm</code> relative to any of the directories listed in array <code>@INC</code> and, if it is found, will put its absolute location into the <code>%INC</code> hash</p>\n\n<p>To find where each module has been located, you can simply dump the entire hash using <a href=\"http://metacpan.org/module/Data::Dump\" rel=\"nofollow\"><code>Data::Dump</code></a> or <a href=\"http://metacpan.org/module/Data::Dumper\" rel=\"nofollow\"><code>Data::Dumper</code></a>. But if you're really only interested in one module then you can examine the relevant hash element. A statement like this</p>\n\n<pre><code>print \"$INC{'MyCompany/Database/Utils.pm'}\\n\";\n</code></pre>\n\n<p>will show the absolute path where that .pm file was found and loaded</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1455910980, "creation_date": 1455752484, "question_id": 35469981, "link": "https://stackoverflow.com/questions/35469981/how-can-i-inspect-the-code-of-a-perl-module-installed", "title": "How can I inspect the code of a perl module installed?", "body": "<p>If I know that a certain <code>perl</code> module is installed on a system, eg. <code>MyCompany::Database::Utils</code>, how can I inspect the <code>perl</code> code of this module?</p>\n"}, {"tags": ["regex", "perl", "cgi"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455745603, "post_id": 35468226, "comment_id": 58632448, "body": "Maybe <code>$DomainAccount =~ s&#47;^https?:\\&#47;\\&#47;(?:www\\.)?&#47;&#47;i;</code>?"}, {"owner": {"reputation": 173, "user_id": 1703803, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NZpHZ.jpg?s=128&g=1", "display_name": "Blnukem", "link": "https://stackoverflow.com/users/1703803/blnukem"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455745761, "post_id": 35468226, "comment_id": 58632550, "body": "Nope I still end up with: My-Domain.com/"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455746168, "post_id": 35468226, "comment_id": 58632772, "body": "Aha, you need to get to the first <code>&#47;</code>, use <code>$DomainAccount =~ s&#47;^https?:\\&#47;\\&#47;(?:www\\.)?([^\\&#47;]+).*&#47;$1&#47;i;</code>"}, {"owner": {"reputation": 173, "user_id": 1703803, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NZpHZ.jpg?s=128&g=1", "display_name": "Blnukem", "link": "https://stackoverflow.com/users/1703803/blnukem"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455746402, "post_id": 35468226, "comment_id": 58632903, "body": "Nope that get me this :Useless use of non-destructive substitution (s///r) in void context."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455746432, "post_id": 35468226, "comment_id": 58632916, "body": "I updated my comment, see my answer (I used that <code>&#47;r</code> in my testing)."}], "answers": [{"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1455749214, "post_id": 35468655, "comment_id": 58634125, "body": "Yes, as the example in the question. I have added a two-step solution to address such situations. See this <a href=\"http://ideone.com/omKTeR\" rel=\"nofollow noreferrer\">IDEONE demo</a>."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1455749172, "last_edit_date": 1455749172, "creation_date": 1455746400, "answer_id": 35468655, "question_id": 35468226, "link": "https://stackoverflow.com/questions/35468226/perl-strip-regex-for-uri/35468655#35468655", "title": "Perl Strip Regex For URI", "body": "<p>You just need to make sure you match the <code>http://</code> or <code>https://</code> that is optionally followed with <code>www.</code>, match <em>and capture</em> the host URL part up to the first <code>/</code> and then match the rest, and replace with the backreference to the first capture group <code>$1</code>, and in order to remove <code>.</code> from the <code>host.com</code> you need to use a second capturing group like this:</p>\n\n<pre><code>$DomainAccount =~ s/^https?:\\/\\/(?:www\\.)?([^\\/.]+)\\.([^\\/.]+).*/$1$2/i;\n</code></pre>\n\n<p>Output for <code>\"https://www.My-Domain.com/\"</code>: <code>My-Domaincom</code></p>\n\n<p>See the <strong><a href=\"https://regex101.com/r/pQ6qH6/1\" rel=\"nofollow\">regex demo here</a></strong>.</p>\n\n<p>Note I added a case-insensitive flag <code>/i</code> just to make sure the pattern can handle <code>HTTP://</code> casing, too.</p>\n\n<p>The regex matches:</p>\n\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>https?:\\/\\/</code> - a literal character sequence <code>http://</code> or <code>https://</code></li>\n<li><code>(?:www\\.)?</code> - one or zero occurrences of a literal character sequence <code>www.</code></li>\n<li><code>([^\\/.]+)</code> - Group 1: one or more characters other than <code>/</code> and <code>.</code></li>\n<li><code>\\.</code> - a literal dot</li>\n<li><code>([^\\/.]+)</code> - Group 2: one or more characters other than <code>/</code> and <code>.</code></li>\n<li><code>.*</code> - rest of the line</li>\n</ul>\n\n<p><strong>To address choroba's comment</strong>, here is a 2 step solution that will work with URLs containing more than one dot in the host part:</p>\n\n<pre><code>$DomainAccount =~ s/^https?:\\/\\/(?:www\\.)?([^\\/]+).*/$1/i;\n$DomainAccount =~ s/\\.//g;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455747353, "post_id": 35468672, "comment_id": 58633344, "body": "I hope my regex explanation makes it easier to understand. There is nothing difficult, really, no lookarounds, no <code>\\G</code> or <code>\\K</code> operators, no recursion, just plain character classes, grouping, anchors and quantifiers. Just the standard regex kit. Your suggestion is also very good, +1."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1455746684, "last_edit_date": 1455746684, "creation_date": 1455746456, "answer_id": 35468672, "question_id": 35468226, "link": "https://stackoverflow.com/questions/35468226/perl-strip-regex-for-uri/35468672#35468672", "title": "Perl Strip Regex For URI", "body": "<p><a href=\"http://p3rl.org/URI\" rel=\"nofollow\">URI</a> can help you, but you still have to remove the <code>www</code> yourself:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nuse URI;\n\nmy $url = 'URI'-&gt;new('https://www.My-Domain.com/');\nmy $account = $url-&gt;host;\n$account =~ s/^[^.]*\\.// while 1 != $account =~ tr/.//;\n$account =~ s/\\.//;\nprint $account, \"\\n\";\n</code></pre>\n\n<p>This only leaves the top and second level domains in the result (try with e.g. <code>http://some.very.long.domain.name.com</code>).</p>\n"}], "owner": {"reputation": 173, "user_id": 1703803, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NZpHZ.jpg?s=128&g=1", "display_name": "Blnukem", "link": "https://stackoverflow.com/users/1703803/blnukem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 35468655, "answer_count": 2, "score": 1, "last_activity_date": 1455749172, "creation_date": 1455744858, "question_id": 35468226, "link": "https://stackoverflow.com/questions/35468226/perl-strip-regex-for-uri", "title": "Perl Strip Regex For URI", "body": "<p>I'm trying to strip out all https, http, www, /, : and . out of a domain name to create a user account folder on my system. So what I need is to make a URL that looks like this \"<a href=\"https://www.My-Domain.com/\" rel=\"nofollow\">https://www.My-Domain.com/</a>\" into \"My-Domaincom\" I'm close but just cant seem to get it to work.</p>\n\n<pre><code>our $DomainAccount = lc($ENV{HTTP_REFERER});\n  $DomainAccount =~ s/^http:\\/\\/|^https:\\/\\///;\n  $DomainAccount =~ s/^www\\.|(/.)//;\n</code></pre>\n"}, {"tags": ["perl", "module", "subroutine"], "comments": [{"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 1, "creation_date": 1455746603, "post_id": 35467770, "comment_id": 58632996, "body": "You may want to read up on Perl modules and look at some examples. Start with creating a file <code>MyModule.pm</code>, store your <code>passwordAge</code> sub there, then create a file <code>script.pl</code> in the same folder and <code>use MyModule</code> and test your function with <code>MyModule::passwordAge($days)</code>. But there are lots of tutorials out there that can explain it better. Start small and build the functionality piece by piece."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1455746968, "creation_date": 1455746968, "answer_id": 35468774, "question_id": 35467770, "link": "https://stackoverflow.com/questions/35467770/i-have-created-a-module-in-perl-but-i-do-not-understand-how-to-use-it/35468774#35468774", "title": "I have created a module in perl but i do not understand how to use it", "body": "<p>The answer to your question as asked is:</p>\n\n<ul>\n<li>Save your module as 'Module1.pm'. </li>\n<li><code>use Module1;</code></li>\n<li>In your script: <code>Module1::PasswordAge();</code></li>\n</ul>\n\n<p>However at risk of sounding a bit patronising - it's probably worth reading up on e.g. <a href=\"http://perldoc.perl.org/perlmod.html\" rel=\"nofollow\"><code>perlmod</code></a> as the process of creating modules - whilst not <em>massively</em> difficult, is somewhat unusual to be doing before understanding how to import and load a module. </p>\n"}], "owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1455746968, "creation_date": 1455743239, "question_id": 35467770, "link": "https://stackoverflow.com/questions/35467770/i-have-created-a-module-in-perl-but-i-do-not-understand-how-to-use-it", "title": "I have created a module in perl but i do not understand how to use it", "body": "<p>So here is the module i have created:</p>\n\n<pre><code>#!/usr/bin/perl\n\n\nuse warnings;\nuse strict;\npackage Module1;\n\nmy @user;\nmy $count = 0;\nmy @test;\nmy @last =qx(last);\nmy @logins;\nmy %logins_by_user;\nmy @UserDiskUsage;\n#my $pass =qx(sudo passwd -S @user);\n\n#Opens the file /etc/passwd and puts the users with an uid over 1000 but less that 65000 into an array.\nsub userloggins {\nopen( my $passwd, \"&lt;\", \"/etc/passwd\") or die \"/etc/passwd failed to open.\\n\";\n\nwhile (my $lines = &lt;$passwd&gt;) {\n    my @splitarray = split(/\\:/, $lines );\n    if( $splitarray[2] &gt;= 1000 &amp;&amp; $splitarray[2] &lt; 65000) {\n\n        $user[$count] =$splitarray[0];\n        #print \"$user[$count]\\n\";\n        $count++;\n    }\n}\nclose $passwd;\n\n#Counts how many times each user has logged in and stores them in a hash, then sorts them\n\nfor my $user (@user) {\n$logins_by_user{$user} = grep /^\\Q$user\\E /, `last '$user'`;\n}\n\nfor my $user (\nsort { $logins_by_user{$b} &lt;=&gt; $logins_by_user{$a}  ||  $a cmp $b }     @user \n) {\nprint(\"$user: $logins_by_user{$user}\\n\");\n}\n}\nuserloggins(); \n#del 2, monitor user password age\nprint \"-------------------------------------------------------\\n\";\n\nPasswordAge();\n\nsub PasswordAge {\nmy $days = 10;\nmy $currentdate = (qx(date +%s)) / 86400;\nfor my $i (0...$#user) {\n    my @shadowDays = qx(sudo grep $user[$i] /etc/shadow | cut -d: -f3);\n    if ($shadowDays[0] &lt; ($currentdate - $days)){\n\n        print (\"User $user[$i] has not changed their password in $days days.\\n\");\n    }\n    #print \"$currentdate\\n\";\n\n\n\n    #print \"$user Has not changed their password since $splitpass\\n\"; \n}\n}\n</code></pre>\n\n<p>The subroutine i want to send data to is called PasswordAge. The variable i want to send data in to through user input,from another script, is called $days. How can i do this ? I've tried looking online searching for answers but i don't quite get it how i should do it in my case. Hope you understand.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1455734171, "post_id": 35464832, "comment_id": 58625541, "body": "Found a possible duplicate: <a href=\"http://stackoverflow.com/questions/19096127/use-lib-relative-path-not-working\">use lib relative path not working</a>"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1455734728, "post_id": 35464832, "comment_id": 58625868, "body": "I believe that the current directory is already included in @INC, so <code>use lib &#39;.&#39;;</code> doesn&#39;t mean anything here."}, {"owner": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "edited": false, "score": 0, "creation_date": 1455739200, "post_id": 35464832, "comment_id": 58628731, "body": "Adding &#39;.&#39; to lib path is a security weakness like adding &#39;.&#39; to the shell&#39;s path."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "edited": false, "score": 0, "creation_date": 1455743056, "post_id": 35464832, "comment_id": 58630960, "body": "@Neil &#39;.&#39; is generally included in the default <code>@INC</code>, no need to add it."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1455805451, "post_id": 35464832, "comment_id": 58661495, "body": "@HunterMcMillen Yes you are right, the current directory is included, but it is included at the end of <code>@INC</code>. So <code>use lib &#39;.&#39;</code> will add it to the front of <code>@INC</code>, giving you, for example, a chance to override standard modules by placing your own copy of those in the current directory. For example, this could be used in the case of debugging a CPAN module."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1455735012, "post_id": 35465104, "comment_id": 58626034, "body": "Yes, this works.. Maybe the <code>lib</code> pragma should not allow use of relative paths? That is: using relative paths with <code>lib</code> is never the right thing to do? Or do I miss something?"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1455735396, "post_id": 35465104, "comment_id": 58626247, "body": "I don&#39;t have enough overview of the use of lib to give a good answer to that. :) That being said perl does not usually prevent it&#39;s users to do a thing just because it&#39;s never the right thing to do. :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1455737839, "post_id": 35465104, "comment_id": 58627846, "body": "Speaking of never the right thing, use <code>$RealBin</code> instead of <code>$Bin</code>. This allows people to use symlinks to your script. Adjusted the answer."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455740888, "post_id": 35465104, "comment_id": 58629786, "body": "@ikegami: thanks. FindBin uses $FindBin::Bin in the man pages."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455838158, "post_id": 35465104, "comment_id": 58681638, "body": "@ikegami Out of curiosity: Is there any reason to use <code>$FindBin::Bin</code> over <code>$FindBin::RealBin</code>? I guess there should be some use cases; since if not, one could just simplify the API of the <code>FindBin</code> module by removing the variable <code>$FindBin::Bin</code>.."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1455869769, "post_id": 35465104, "comment_id": 58692278, "body": "@H&#229;konH&#230;gland: One such situation could be where you want to have different libraries depending on which one of the scripts you run. So you link your script to a new directory, and replace the <code>lib&#47;</code> with another library to test, or have different functionality."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455883413, "post_id": 35465104, "comment_id": 58700804, "body": "@bolav, That&#39;s a maintenance nightmare just to avoid copying the script along with the modules. (And it prevents you from linking to the script.)"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455883903, "post_id": 35465104, "comment_id": 58701109, "body": "@ikegami: Totally agree."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 1, "last_activity_date": 1455737656, "last_edit_date": 1455737656, "creation_date": 1455734782, "answer_id": 35465104, "question_id": 35464832, "link": "https://stackoverflow.com/questions/35464832/lib-pragma-does-not-work-when-script-called-with-relative-path/35465104#35465104", "title": "lib pragma does not work when script called with relative path", "body": "<p>Use <a href=\"https://metacpan.org/pod/FindBin\" rel=\"nofollow\">FindBin</a>.</p>\n\n<p><code>p.pl</code>:</p>\n\n<pre><code>use FindBin;\nuse lib \"$FindBin::RealBin\";\nuse My::Module;\nMy::Module::my_func();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 1, "last_activity_date": 1455738549, "creation_date": 1455738549, "answer_id": 35466339, "question_id": 35464832, "link": "https://stackoverflow.com/questions/35464832/lib-pragma-does-not-work-when-script-called-with-relative-path/35466339#35466339", "title": "lib pragma does not work when script called with relative path", "body": "<p>There is no error here.  The use lib pragma adds the directory specified to @INC - the list of directories Perl searches for modules.  By specifying '.', you are saying, \"Add the current directory I'm in to @INC\", so if you launch the program from the directory above <strong>test</strong>, then that is the folder from which the search is made.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 35465104, "answer_count": 2, "score": 0, "last_activity_date": 1455738549, "creation_date": 1455733861, "question_id": 35464832, "link": "https://stackoverflow.com/questions/35464832/lib-pragma-does-not-work-when-script-called-with-relative-path", "title": "lib pragma does not work when script called with relative path", "body": "<p>I have a script <code>p.pl</code> in a folder <code>test</code>:</p>\n\n<pre><code>use lib '.';\nuse My::Module;\nMy::Module::my_func();\n</code></pre>\n\n<p>In the test folder there is a subdirectory <code>My</code> containing the file <code>Module.pm</code>:</p>\n\n<pre><code>package My::Module;\nsub my_func {\n    print \"Hello\\n\";\n}    \n1;\n</code></pre>\n\n<p>If I run <code>p.pl</code> from the test folder by typing <code>./p.pl</code> in the terminal window, I get no errors and output <code>Hello</code>. If I change directory to the parent (<code>cd ..</code>) and type <code>test/p.pl</code> I get error:</p>\n\n<pre><code>Can't locate My/Module.pm in @INC  at test/p.pl line 2.\nBEGIN failed--compilation aborted at test/p.pl line 2.\n</code></pre>\n"}, {"tags": ["arrays", "perl", "tsql", "hash"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455741644, "post_id": 35464519, "comment_id": 58630193, "body": "<code>perl</code> 5.8.8 is quite old. You may want to consider updating it."}, {"owner": {"reputation": 129, "user_id": 4269655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b6179af834604092f10f32e412b9ed?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell Reid", "link": "https://stackoverflow.com/users/4269655/campbell-reid"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455787926, "post_id": 35464519, "comment_id": 58649127, "body": "Thanks - I&#39;d love to update it, but it&#39;s not my call!"}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 3, "last_activity_date": 1455733637, "creation_date": 1455733637, "answer_id": 35464760, "question_id": 35464519, "link": "https://stackoverflow.com/questions/35464519/obtaining-a-slice-through-an-array-of-hash-references-in-perl/35464760#35464760", "title": "Obtaining a slice through an array of hash references in Perl", "body": "<p>If you've used <code>use strict; use warnings;</code> you'd get:</p>\n\n<blockquote>\n  <p>Reference found where even-sized list expected at \"script\" \"line\"</p>\n</blockquote>\n\n<p>You want to populate a hash, use:</p>\n\n<pre><code>my %datarow1 = (\"firstname\"=&gt; \"dave\", \"bar\"=&gt;\"smith\");\n</code></pre>\n\n<p>Note the parenthesis instead of curly brackets</p>\n\n<p>Then, for printing the firstname, use:</p>\n\n<pre><code>my @columndata = map {$_-&gt;{\"firstname\"}}  @$rowsref;\nsay Dumper\\@columndata;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 4269655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b6179af834604092f10f32e412b9ed?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell Reid", "link": "https://stackoverflow.com/users/4269655/campbell-reid"}, "edited": false, "score": 0, "creation_date": 1455787372, "post_id": 35464775, "comment_id": 58648735, "body": "Thanks - worked a treat!  (BTW, I always do use strict and warnings, - the code I posted was more of a simplified example snippet than an actual real script.  I was in a bit of a rush when I posted it, so I forgot about the bracket convention!)"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 7, "last_activity_date": 1455733676, "creation_date": 1455733676, "answer_id": 35464775, "question_id": 35464519, "link": "https://stackoverflow.com/questions/35464519/obtaining-a-slice-through-an-array-of-hash-references-in-perl/35464775#35464775", "title": "Obtaining a slice through an array of hash references in Perl", "body": "<p>A few things to start:</p>\n\n<p>This is not how you define a Hash:</p>\n\n<pre><code>my %datarow1 = {\"firstname\"=&gt; \"dave\", \"bar\"=&gt;\"smith\"};\n</code></pre>\n\n<p>this line of code assigns a Hash reference to a Hash, which results in a structure like this:</p>\n\n<pre><code>( 'HASH(0x7f4ef0545e18)' =&gt; undef )\n</code></pre>\n\n<p>probably not what you wanted. </p>\n\n<p>To define your hashes correctly replace the curly braces with parentheses:</p>\n\n<pre><code>my %datarow1 = (\"firstname\"=&gt; \"dave\", \"bar\"=&gt;\"smith\");\n</code></pre>\n\n<p>Always enable strict mode and warnings: </p>\n\n<pre><code>use strict;\nuse warnings; \n</code></pre>\n\n<p>this would have caught the mistake of assigned a reference to a Hash.</p>\n\n<p>-- </p>\n\n<p>Now, the real question is \"How do I extract a specific key from Hash references held in an array?\" </p>\n\n<p>and the answer is exactly the same way as if the Hash references were not in an array: </p>\n\n<pre><code>my $h_ref = { a =&gt; b };\n# get key 'a'\nmy $a = $h_ref-&gt;{a}; \n</code></pre>\n\n<p>the <em>only</em> difference is that you need to apply this operation over an array. Applying operations over arrays is the purpose of the <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"noreferrer\"><code>map</code></a> builtin:</p>\n\n<pre><code>use strict;\nuse warnings; \n\nmy %datarow1 = (\"firstname\"=&gt; \"dave\", \"bar\"=&gt;\"smith\");\nmy %datarow2 = (\"firstname\"=&gt; \"john\", \"bar\"=&gt;\"doe\");\nmy %datarow3 = (\"firstname\"=&gt; \"kim\", \"bar\"=&gt;\"kardashian\");\n\nmy @rows = (\\%datarow1, \\%datarow2, \\%datarow3);\nmy $rowsref=\\@rows;\nmy @firstnames = map { $_-&gt;{firstname} } @$rowsref; \n# dave john kim\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1456197171, "creation_date": 1456197171, "answer_id": 35568099, "question_id": 35464519, "link": "https://stackoverflow.com/questions/35464519/obtaining-a-slice-through-an-array-of-hash-references-in-perl/35568099#35568099", "title": "Obtaining a slice through an array of hash references in Perl", "body": "<p>[<em>Edit:</em> already answered but I am ading this for <code>TIMTOWDI</code>-ness ]</p>\n\n<p>With <code>perl5.22.0</code> you can also do:</p>\n\n<pre><code>use experimental 'refaliasing';\n\nfor \\my %hash (\\%datarow2, \\%datarow1, \\%datarow3 ) { \n      say $hash{\"firstname\"} ; \n}\n</code></pre>\n\n<ul>\n<li><p>See the <a href=\"http://perltricks.com/article/165/2015/4/10/A-preview-of-Perl-5-22/\" rel=\"nofollow\">Perl Tricks article on new 5.22 features</a>  for @bdfoy's take on this feature.</p></li>\n<li><p><code>perl5.20.0</code> introduced <a href=\"http://www.effectiveperlprogramming.com/2014/07/perl-5-20-introduces-keyvalue-slices/\" rel=\"nofollow\">Key/Value slices</a> which could be relevant for you.</p></li>\n</ul>\n"}], "owner": {"reputation": 129, "user_id": 4269655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b6179af834604092f10f32e412b9ed?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell Reid", "link": "https://stackoverflow.com/users/4269655/campbell-reid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "accepted_answer_id": 35464775, "answer_count": 3, "score": 4, "last_activity_date": 1456197171, "creation_date": 1455732883, "question_id": 35464519, "link": "https://stackoverflow.com/questions/35464519/obtaining-a-slice-through-an-array-of-hash-references-in-perl", "title": "Obtaining a slice through an array of hash references in Perl", "body": "<p>I have a Perl-related question, concerning complex data structures.  I am running version 5.8.8 of Perl on a Linux (Centos v5) server, hosting Apache.  I am interrogating a MS-SQL database.  I am using the \"DBI\" Perl module.</p>\n\n<p>I have a table of results from an SQL query, encoded as a reference to an array of hash references.  So each row in the table is an array element containing a hash reference, obtained using the \"fetchrow_hashref\" command of the DBI module.  The keys of each hash correspond to the column headings and the values corresponding to a particular cell in the table under that column heading.</p>\n\n<p>What I would like to do is to obtain an array of column data. There appear to be some methods described in the DBI documentation about how to obtain column data, but to me they are a little opaque, and it would be nice to know in general how to obtain a slice through an array of hash references as an exercise in understanding how perl referencing / dereferencing works.</p>\n\n<p>So, basically, given this:</p>\n\n<pre><code>my %datarow1 = {\"firstname\"=&gt; \"dave\", \"bar\"=&gt;\"smith\"};\nmy %datarow2 = {\"firstname\"=&gt; \"john\", \"bar\"=&gt;\"doe\"};\nmy %datarow3 = {\"firstname\"=&gt; \"kim\", \"bar\"=&gt;\"kardashian\"};\n</code></pre>\n\n<p>Referenced like this:</p>\n\n<pre><code>my @rows = (\\%datarow1, \\%datarow2, \\%datarow3);\nmy $rowsref=\\@rows;\n</code></pre>\n\n<p>How do I get this array?:</p>\n\n<pre><code>(\"dave\", \"john\", \"kim\")\n</code></pre>\n\n<p>I've tried this:</p>\n\n<pre><code>my @columndata=@$rowsref-&gt;[0]{\"firstname\"}\n</code></pre>\n\n<p>but this only gets me the first cell in the column (i.e. an array containing the one element \"dave\").\nThere must be an elegant way of doing this in one line - if on of you perl gurus could help me out, I'd appreciate it hugely.</p>\n\n<p>Thanks</p>\n\n<p>C J</p>\n"}, {"tags": ["arrays", "perl", "grep"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 6, "creation_date": 1455728026, "post_id": 35462822, "comment_id": 58621803, "body": "Use <code>ne</code> instead of <code>!=</code> for strings."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1455728314, "post_id": 35462822, "comment_id": 58621974, "body": "<a href=\"http://perldoc.perl.org/perlfaq4.html#How-do-I-compute-the-difference-of-two-arrays%3f-How-do-I-compute-the-intersection-of-two-arrays%3f\" rel=\"nofollow noreferrer\">perldoc.perl.org/&hellip;</a>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1455732386, "post_id": 35462822, "comment_id": 58624519, "body": "and always <code>use warnings;</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1455828673, "post_id": 35462822, "comment_id": 58676949, "body": "because not doing so is like skydiving without a parachute.  compare <code>perl -E&quot;use warnings; say &#39;a&#39; != &#39;b&#39; ? &#39;not equal&#39; : &#39;equal&#39;&quot;</code> to <code>perl -E&quot;say &#39;a&#39; != &#39;b&#39; ? &#39;not equal&#39; : &#39;equal&#39;&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 6, "last_activity_date": 1455728547, "creation_date": 1455728547, "answer_id": 35463077, "question_id": 35462822, "link": "https://stackoverflow.com/questions/35462822/deleting-elements-in-a-perl-array-without-index/35463077#35463077", "title": "Deleting elements in a perl array without index", "body": "<p>@choroba shows above how to solve the specific problem you are asking. </p>\n\n<p>Deleting elements of one array based on the elements on another is a common problem in Perl, and there is a useful idiom that speeds up such operations. Specifically:</p>\n\n<ol>\n<li>Place the elements you want to delete (Array B) in a Hash H.  </li>\n<li>Loop over Array A and test whether any of its elements are in Hash H, if so delete them, otherwise keep them</li>\n</ol>\n\n<p>This method has the benefit of only reading the delete array (Array B) a single time instead of for every element of Array A</p>\n\n<pre><code>my @Aray = ('Chris', 'John', 'Paul', 'Max', 'Jim', 'John');\nmy @Bray = ('Chris', 'John');\n\nmy %to_delete = map { $_ =&gt; 1 } @Bray;\n@Aray = grep { ! $to_delete{$_} } @Aray;\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 5828093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd601d81e7f40e450ce160a3aa42e98e?s=128&d=identicon&r=PG&f=1", "display_name": "cjhutton", "link": "https://stackoverflow.com/users/5828093/cjhutton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1156, "favorite_count": 0, "accepted_answer_id": 35463077, "answer_count": 1, "score": 0, "last_activity_date": 1455728547, "creation_date": 1455727838, "question_id": 35462822, "link": "https://stackoverflow.com/questions/35462822/deleting-elements-in-a-perl-array-without-index", "title": "Deleting elements in a perl array without index", "body": "<p>I have an array which contains several strings. There is another array which contains strings which may or may not be contained in the first array. </p>\n\n<p>What is the best way to remove any instances of a string in array b from the strings in array a. I have tried to use grep as in the example below but it completely empties the array. </p>\n\n<pre><code>my @Aray = ('Chris', 'John', 'Paul', 'Max', 'Jim', 'John');\nmy @Bray = ('Chris', 'John');\nforeach $name (@Bray){\n    @Aray = grep {$_ != $name} @Aray;\n}\n</code></pre>\n\n<p>This would result in no elements left in @Aray, opposed to 'Paul', 'Max', 'Jim'</p>\n\n<p>I also tried with a traditional for loop and indexing each name in @Bray with the same result. </p>\n"}, {"tags": ["regex", "perl", "strawberry-perl"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5940135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55814a7689c8a25b90aa68247a7b56e5?s=128&d=identicon&r=PG&f=1", "display_name": "whirlcano", "link": "https://stackoverflow.com/users/5940135/whirlcano"}, "edited": false, "score": 0, "creation_date": 1455728506, "post_id": 35462864, "comment_id": 58622081, "body": "Hi Hunter, these are log files with no standard delimiters. above regex is returning &quot;uname&quot; and not &quot;whirlcano&quot;. This might be basic stuff, but I am not very good at regex. Please help, thanks."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 43, "user_id": 5940135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55814a7689c8a25b90aa68247a7b56e5?s=128&d=identicon&r=PG&f=1", "display_name": "whirlcano", "link": "https://stackoverflow.com/users/5940135/whirlcano"}, "edited": false, "score": 1, "creation_date": 1455728711, "post_id": 35462864, "comment_id": 58622220, "body": "If the row is actually the row you supplied in your question, then the regular expression I supplied will capture the username"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 2, "last_activity_date": 1455727977, "creation_date": 1455727977, "answer_id": 35462864, "question_id": 35462806, "link": "https://stackoverflow.com/questions/35462806/how-to-extract-a-subsequent-word-after-pattern-match-using-perl-regex/35462864#35462864", "title": "How to extract a subsequent word after pattern match using perl regex?", "body": "<p>You can use a regular expression capturing group to capture the username:</p>\n\n<pre><code>while (my $row = &lt;$fh&gt;) {\n    chomp($row); # strip newline character\n\n    # capture first group of word characters after uname and one or more spaces\n    my ($username) = $row =~ m/uname\\s+(\\w+)/;\n    ....\n}\n</code></pre>\n\n<p>You can change <code>\\s+</code> in the above example to whatever delimiter your file has, but typically when parsing CSV type files using a <em>real</em> CSV parser is better than regular expressions. <a href=\"https://metacpan.org/pod/Text::CSV_XS\" rel=\"nofollow\"><code>Text::CSV_XS</code></a> is one such parser that is popular.</p>\n\n<p>For more information about capturing groups in regular expressions, please refer to the Capture Groups section of <a href=\"http://perldoc.perl.org/perlre.html#Capture-groups\" rel=\"nofollow\"><code>perldoc perlre</code></a></p>\n"}], "owner": {"reputation": 43, "user_id": 5940135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55814a7689c8a25b90aa68247a7b56e5?s=128&d=identicon&r=PG&f=1", "display_name": "whirlcano", "link": "https://stackoverflow.com/users/5940135/whirlcano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "accepted_answer_id": 35462864, "answer_count": 1, "score": 1, "last_activity_date": 1455727977, "creation_date": 1455727803, "question_id": 35462806, "link": "https://stackoverflow.com/questions/35462806/how-to-extract-a-subsequent-word-after-pattern-match-using-perl-regex", "title": "How to extract a subsequent word after pattern match using perl regex?", "body": "<p>Sample line from a file:</p>\n\n<pre><code>one two three uname whirlcano four five\n</code></pre>\n\n<p>I want to extract the user names from multiple files</p>\n\n<pre><code>foreach $file (@file_names)\n{\n    open(my $fh, '&lt;:encoding(UTF-8)', $file)\n    or die \"Could not open file '$file' $!\";\n\n    while (my $row = &lt;$fh&gt;)\n    {\n        if($row =~  \"uname\")\n        {\n            #here I want to extract only the immediate word after \"uname\", which is \"whirlcano\" in the above example.\n        }\n    }\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["performance", "perl", "hash"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1455727740, "post_id": 35462643, "comment_id": 58621604, "body": "If you want to verify that the state really exists, using <code>AL =&gt; &#39;AL&#39;</code> might be the easiest way."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1455727842, "post_id": 35462643, "comment_id": 58621672, "body": "<code>$state = $STATEABBRIVATE{$state} if length($state) &gt; 2</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1455728106, "post_id": 35462643, "comment_id": 58621851, "body": "If the question is about performance, the answer is: it doesn&#39;t matter. (Any difference would be negligible/unnoticeable.)"}, {"owner": {"reputation": 99, "user_id": 1161204, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a0468e4b40c8a0a69b2cdb07bbadddf6?s=128&d=identicon&r=PG", "display_name": "OBoud", "link": "https://stackoverflow.com/users/1161204/oboud"}, "edited": false, "score": 0, "creation_date": 1455728218, "post_id": 35462643, "comment_id": 58621918, "body": "On a large enough data set I&#39;m not sure that&#39;s true."}, {"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 1, "creation_date": 1455728315, "post_id": 35462643, "comment_id": 58621975, "body": "Sure, you can scrape a few cycles by not mapping based on some conditioin (e.g. string length == 2). But doing the mapping for all values allows validation. Since the hash length is finite (100 values), lookup will be very efficient. Not validating input to avoid looking up a hash key seems premature optimization to me."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455728363, "post_id": 35462643, "comment_id": 58622006, "body": "@OBoud Isn&#39;t your data set 50-100 items?"}, {"owner": {"reputation": 99, "user_id": 1161204, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a0468e4b40c8a0a69b2cdb07bbadddf6?s=128&d=identicon&r=PG", "display_name": "OBoud", "link": "https://stackoverflow.com/users/1161204/oboud"}, "reply_to_user": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1455728839, "post_id": 35462643, "comment_id": 58622299, "body": "@kba - This was the discussion I was looking for, thanks."}, {"owner": {"reputation": 99, "user_id": 1161204, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a0468e4b40c8a0a69b2cdb07bbadddf6?s=128&d=identicon&r=PG", "display_name": "OBoud", "link": "https://stackoverflow.com/users/1161204/oboud"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455728844, "post_id": 35462643, "comment_id": 58622304, "body": "@Matt Jacob - The particular set I&#39;m currently working on is 20k lines. The practical bound is probably under a couple hundred k but this was more of a philosophical question. ;) Though I&#39;m running this on a raspberry pi rev 1 so..."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1455729070, "post_id": 35462643, "comment_id": 58622445, "body": "Ohhh... you&#39;re talking about the amount of input data and not the size of the hash. OK, got it. The answer is still the same: it doesn&#39;t matter."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1455730792, "post_id": 35462643, "comment_id": 58623549, "body": "&quot;Premature optimisation is the root of all evil&quot;. Don&#39;t optimise speculatively.  Write code that&#39;s clear what it&#39;s doing. If there&#39;s a need to optimise, then run a profiler. Chances are, there won&#39;t be - computers are pretty fast these days, so for most data sets, you won&#39;t save a significant amount of time. (if at all, once you&#39;ve optimised it, then realised in 6 months time you don&#39;t understand it any more)"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1455731568, "post_id": 35462643, "comment_id": 58624020, "body": "Rule 1 of Optimization Club: Do not optimize.  Rule 2 of Optimization Club: Do not optimize without measuring first."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1455732175, "post_id": 35462643, "comment_id": 58624388, "body": "@AndyLester Wouldn&#39;t 1 and 2 both be that you don&#39;t talk about Optimization Club?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1455732922, "post_id": 35462643, "comment_id": 58624816, "body": "As they nicely said, do not optimize first.  Now ... adding the extra pairs to the hash somewhere at top of code is a one-time operation and the later look-up of a hash is constant anyway.  This <i>has to</i>  beat running <code>define</code> or <code>exist</code> every single time.  If this is done often, of course.  So I&#39;d say that enlarging the hash is more efficient hands down.  However, firstly it won&#39;t matter."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1455820256, "post_id": 35462643, "comment_id": 58672212, "body": "Here&#39;s the full rules of Optimization Club: <a href=\"https://stackoverflow.com/questions/177122/how-can-i-speed-up-my-perl-program/177132\" title=\"how can i speed up my perl program\">stackoverflow.com/questions/177122/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 1161204, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a0468e4b40c8a0a69b2cdb07bbadddf6?s=128&d=identicon&r=PG", "display_name": "OBoud", "link": "https://stackoverflow.com/users/1161204/oboud"}, "edited": false, "score": 0, "creation_date": 1455728159, "post_id": 35462841, "comment_id": 58621881, "body": "The easy implementation is what had me second guessing the efficiency of the solution."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455728215, "post_id": 35462841, "comment_id": 58621915, "body": "@MattJacob: Without seeing the code, one can only guess."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1455732362, "last_edit_date": 1455732362, "creation_date": 1455727881, "answer_id": 35462841, "question_id": 35462643, "link": "https://stackoverflow.com/questions/35462643/efficient-use-of-perl-hash/35462841#35462841", "title": "Efficient use of Perl hash", "body": "<p>If you want to verify that the state really exists, using <code>AL =&gt; 'AL'</code> might be the easiest way.</p>\n\n<p>To keep your code DRY (Don't Repeat Yourself), you can just</p>\n\n<pre><code>my %STATEABBRIVATE = ( ALABAMA =&gt; 'AL',\n                       ...\n                     );\nmy @abbrevs = values %STATEABBRIVATE;\n@STATEABBRIVATE{@abbrevs} = @abbrevs;\n</code></pre>\n\n<p>If you're concenrned about performance, the bottleneck is probably somewhere else:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Benchmark qw{ cmpthese };\nuse Test::More;\n\nmy %hash = qw( Alabama AL Alaska AK Arizona AZ Arkansas AR California CA\n               Colorado CO Connecticut CT Delaware DE Florida FL\n               Georgia GA Hawaii HI Idaho ID Illinois IL Indiana IN\n               Iowa IA Kansas KS Kentucky KY Louisiana LA Maine ME\n               Maryland MD Massachusetts MA Michigan MI Minnesota MN\n               Mississippi MS Missouri MO Montana MT Nebraska NE\n               Nevada NV Ohio OH Oklahoma OK Oregon OR Pennsylvania PA\n               Tennessee TN Texas TX Utah UT Vermont VT Virginia VA\n               Washington WA Wisconsin WI Wyoming WY );\n\n$hash{'West Virginia'}  = 'WV';\n$hash{'South Dakota'}   = 'SD';\n$hash{'South Carolina'} = 'SC';\n$hash{'Rhode Island'}   = 'RI';\n$hash{'North Dakota'}   = 'ND';\n$hash{'North Carolina'} = 'NC';\n$hash{'New York'}       = 'NY';\n$hash{'New Mexico'}     = 'NM';\n$hash{'New Jersey'}     = 'NJ';\n$hash{'New Hampshire'}  = 'NH';\n\nmy %larger = %hash;\n@larger{ values %hash } = values %hash;\n\nsub def {\n    my $state = shift;\n    return defined $hash{$state} ? $hash{$state} : $state\n}\n\nsub ex {\n    my $state = shift;\n    return exists $hash{$state} ? $hash{$state} : $state\n}\n\nsub hash {\n    my $state = shift;\n    return $larger{$state}\n}\n\nis(def($_), ex($_),   \"def-ex-$_\")   for keys %larger;\nis(def($_), hash($_), \"def-hash-$_\") for keys %larger;\n\ndone_testing();\n\ncmpthese(-1,\n         { hash =&gt; sub { map hash($_), keys %larger },\n           ex   =&gt; sub { map ex($_),   keys %larger },\n           def  =&gt; sub { map def($_),  keys %larger },\n         });\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>        Rate  def   ex hash\ndef  27307/s   --  -2% -11%\nex   27926/s   2%   --  -9%\nhash 30632/s  12%  10%   --\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3973, "user_id": 266747, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/da5e3914edcd58b1abd64a38a2cff8a5?s=128&d=identicon&r=PG", "display_name": "Barton Chittenden", "link": "https://stackoverflow.com/users/266747/barton-chittenden"}, "is_accepted": false, "score": 1, "last_activity_date": 1455733298, "creation_date": 1455733298, "answer_id": 35464659, "question_id": 35462643, "link": "https://stackoverflow.com/questions/35462643/efficient-use-of-perl-hash/35464659#35464659", "title": "Efficient use of Perl hash", "body": "<p>Both <code>if defined $STATEABBRIVATE{$state}</code> and any hash lookups are going to be constant time (i.e. O(1) operations). In fact, <code>defined()</code> probably uses a hash table lookup behind the scenes anyway. So, my prediction is that the difference in performance is going to be negligible, even with large data sets. This is, at best, an educated guess.</p>\n"}], "owner": {"reputation": 99, "user_id": 1161204, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a0468e4b40c8a0a69b2cdb07bbadddf6?s=128&d=identicon&r=PG", "display_name": "OBoud", "link": "https://stackoverflow.com/users/1161204/oboud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1455733298, "creation_date": 1455727336, "question_id": 35462643, "link": "https://stackoverflow.com/questions/35462643/efficient-use-of-perl-hash", "title": "Efficient use of Perl hash", "body": "<p>I'm using a hash to abbreviate state names</p>\n\n<pre><code>%STATEABBRIVATE = ('ALABAMA' =&gt; 'AL',\n                   ...);\n</code></pre>\n\n<p>Some of my input sets already have abbreviated state names. Would it be more efficient to use an <code>if defined $STATEABBRIVATE{$state}</code> or to add another 51 matched pairs <code>'AL'=&gt;'AL'</code> to the hash?</p>\n"}, {"tags": ["perl", "printf"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455726121, "post_id": 35461804, "comment_id": 58620448, "body": "Are you doing every element of the 2d matrix? Because that simplifies things. (Is <code>$distances</code> the number of elements in <code>$matrix[y]</code>?)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1455726225, "post_id": 35461804, "comment_id": 58620525, "body": "And if you&#39;re just formatting - does it have to be <code>sprintf</code> - because I&#39;d be thinking using tab stops (<code>\\t</code>)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455726291, "post_id": 35461804, "comment_id": 58620582, "body": "Also - <code>for ($x=1; $x&lt;=$steps; $y++) {</code> - should probably be <code>$x++</code>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1455727057, "post_id": 35461804, "comment_id": 58621130, "body": "@Sobrique What about why <code>$x</code> is initialized to 0 and then immediately changed to 1? There&#39;s surely some sketchy stuff going on in just 5 lines of code. ;-)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455733685, "post_id": 35461804, "comment_id": 58625254, "body": "@kouki: do you know whether these are ints or floats or mixed types?  This matters for nice formatting."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455733538, "post_id": 35461998, "comment_id": 58625167, "body": "This is what I do, but note that it will silently convert int to float, and this may (or may not) be a problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455735017, "post_id": 35461998, "comment_id": 58626036, "body": "@zdim, The OP didn&#39;t specify what format they wanted. I used <code>%5.2f</code> as an example. If another format is more appropriate, they should use that."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455736017, "post_id": 35461998, "comment_id": 58626637, "body": "Right, clear and good.  My point is that if numbers have mixed ints and floats this way of printing hides that.    I sometimes have to print numbers for easy review and it turns out it is a little tricky because of that.  In fact I don&#39;t know of a way to do it simply, after years and years of banging at it.  (Have a lib that interrogates input, adjusts <code>%</code> etc, but that&#39;s horrible and off-topic here.)   [Don&#39;t know how to enter at-name??]"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455736132, "post_id": 35461998, "comment_id": 58626701, "body": "@zdim, If you have a random mix of ints and floats, you can&#39;t mechanically format them, so you wouldn&#39;t,"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455736265, "post_id": 35461998, "comment_id": 58626776, "body": "Because it may be critical to know whether a number came in as an integer or a float.  In scientific applications this may make or break things.  I may be scanning numbers for that reason alone.  (Or it may not matter, of course.)  But you have a point there, one just can&#39;t do it directly, period."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455736420, "post_id": 35461998, "comment_id": 58626897, "body": "@zdim, It sometimes gets removed when it&#39;s redundant, e.g. when the person is the author of the post to which you are replying."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455736485, "post_id": 35461998, "comment_id": 58626943, "body": "Ahhh!  Of course :).  Thank you.  I will remove these comments now."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455736709, "post_id": 35461998, "comment_id": 58627090, "body": "@ThisSuitIsBlackNot  Thank you!  I actually did look at that document and didn&#39;t see a specific way to do it (which I thought may be needed) or why/when it wouldn&#39;t work.  I guess I should&#39;ve read the thing carefully ... I see, right on top of the accepted answer.  Sorry for wasting time and bandwidth (of all kinds)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1455736085, "last_edit_date": 1455736085, "creation_date": 1455725552, "answer_id": 35461998, "question_id": 35461804, "link": "https://stackoverflow.com/questions/35461804/perl-sprintf-for-element-in-list/35461998#35461998", "title": "perl: sprintf for element in list", "body": "<pre><code>for my $row (@matrix) {\n   my $format = join(' ', ('%5.2f') x @$row).\"\\n\";\n   printf($format, @$row);\n}\n</code></pre>\n\n<p>If all rows have the same number of columns, you could calculate the format once.</p>\n\n<pre><code>if (@matrix) {\n   my $format = join(' ', ('%5.2f') x @{$matrix[0]}).\"\\n\";\n   for my $row (@matrix) {\n      printf($format, @$row);\n   }\n}\n</code></pre>\n\n<p>If the size of the columns isn't unknown in advance, you'll need to need to perform the following in order:</p>\n\n<ol>\n<li>Format the cells (if needed),</li>\n<li>Find the length of the largest cell of each column, then</li>\n<li>Print out the matrix with padding.</li>\n</ol>\n\n<p>The following assumes every row of the matrix is the same length.</p>\n\n<pre><code>use List::Util qw( max );\n\nif (@matrix) {\n   for my $row (@matrix) {\n      $_ = sprinf('%.2f', $_) for @$row;\n   }\n\n   my $num_cols = @{$matrix[0]};\n\n   my @col_sizes = (0) x $num_cols;\n   for my $row (@matrix) {\n      $col_sizes[$x] = max(0, $col_sizes[$x], $row-&gt;[$x]);\n   }\n\n   my $format = join(' ', map { \"%$_s\" } @col_sizes).\"\\n\";\n   for my $row (@matrix) {\n      printf($format, @$row);\n   }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455733822, "post_id": 35463734, "comment_id": 58625333, "body": "Nice, but will not line up decimal points and this may be a killer in some applications.  (I sometimes use formatted prints to spot check or look for things and it is critical that things are lined up.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455735259, "post_id": 35463734, "comment_id": 58626172, "body": "The OP specifically asked to be able to place spaces between the columns. Your (s)printf  solutions leave no spaces between the columns (or makes the first column larger than the others, depending on how you look at things)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1455730386, "creation_date": 1455730386, "answer_id": 35463734, "question_id": 35461804, "link": "https://stackoverflow.com/questions/35461804/perl-sprintf-for-element-in-list/35463734#35463734", "title": "perl: sprintf for element in list", "body": "<p>I would be thinking in terms of using <code>map</code>, as a way to display <em>every</em> element:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @matrix = ( [1,2,3,4],\n               [5,6,7,8], \n               [9,10,11,12], );\n\n print join (\"\\n\", map { join ( \"\\t\", @$_ ) } @matrix ); \n</code></pre>\n\n<p>This is formatting on tab-stops, rather than fixed width columns, and outputs:</p>\n\n<pre><code>1   2   3   4\n5   6   7   8\n9   10  11  12\n</code></pre>\n\n<p>If you particularly wanted <code>sprintf</code> though:</p>\n\n<pre><code>foreach my $row ( @matrix ) { \n   print map { sprintf(\"%5s\", $_) } @$row,\"\\n\";\n}\n</code></pre>\n\n<p>(5 columns wide).</p>\n\n<p>In each of these, I'm working on whole rows - that only really applies though, if I'm right about the assumptions I've made about which elements you're displaying. </p>\n\n<p>At a very basic level - your code could work as:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @matrix    = ( [ 1, 2, 3, 4 ], \n                  [ 5, 6, 7, 8 ], \n                  [ 9, 10, 11, 12 ], );\n\nmy $steps     = 2;\nmy $distances = 3;\n\nfor ( my $x = 1; $x &lt;= $steps; $x++ ) {    # loop through lines\n    for ( my $y = 0; $y &lt;= $distances; $y++ ) {\n        printf( \"%5s\", $matrix[$x][$y] );\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Although note - that will only work with equal numbers of columns. You could, however, do something like:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @matrix    = ( [ 1, 2, ], \n                  [ 3, 4, 5,  ], \n                  [ 6, 7, 8, 9, 10, 11, 12 ], );\n\nmy $steps     = 2;\nmy $distances = 3;\n\nfor ( my $x = 1; $x &lt;= $steps; $x++ ) {    # loop through lines\n    for ( my $y = 0; $y &lt;= $distances; $y++ ) {\n        printf( \"%5s\", $matrix[$x][$y] // '' );\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Which omits the first row (because you set <code>$x</code> to 1), and iterates up to 4 columns:</p>\n\n<pre><code>3    4    5     \n6    7    8    9\n</code></pre>\n\n<p>This omits the extra values on the last line, and uses <code>//</code> to test if the cell is empty or not. </p>\n"}], "owner": {"reputation": 35, "user_id": 5174810, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8a346783a211f34ed164c27618ef2de8?s=128&d=identicon&r=PG&f=1", "display_name": "kouki", "link": "https://stackoverflow.com/users/5174810/kouki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1455736085, "creation_date": 1455725025, "last_edit_date": 1455725221, "question_id": 35461804, "link": "https://stackoverflow.com/questions/35461804/perl-sprintf-for-element-in-list", "title": "perl: sprintf for element in list", "body": "<p>I've been really confused about this, I'm trying to create a big matrix of numbers and I want to use <code>sprintf</code> with perl to have a nicer output. I'm trying to use <code>sprintf</code> like so     </p>\n\n<pre><code>my $x = 0;\nmy $y = 0;\nfor ($x=1; $x&lt;=$steps; $y++) { # loop through lines\nfor ($y=0; $y&lt;=$distances; $y++) { \nmy $format = sprintf (\"%s\",$matrix[$x][$y]);\n</code></pre>\n\n<p>but this is really doing my head in, as I am looping through all the values of $x and $y and getting their combinations. So I am not sure if I'm meant to use more formatting arguments like so </p>\n\n<pre><code>my $format = sprintf (\"%s%s%s\",$matrix[$x][$y]);\n</code></pre>\n\n<p>(of course this is giving me compilation errors as it's not right)</p>\n\n<p>But when I only use one argument, I can't put spaces in between my columns :/ Can somebody explain what's happening? I really don't understand what I'm meant to do to get the formatting nice. I'm looking to just align the columns and have a couple of whitespaces between them. Thank you all so much.</p>\n"}, {"tags": ["perl", "dynamic", "eval"], "comments": [{"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 1, "creation_date": 1455725601, "post_id": 35461659, "comment_id": 58620073, "body": "Using the <code>eval</code> is the least code to maintain. See <a href=\"http://search.cpan.org/dist/Eval-Compile-0.10/lib/Eval/Compile.pm\" rel=\"nofollow noreferrer\">Eval::Compile</a> and <a href=\"http://stackoverflow.com/questions/24911132/perl-speeding-up-eval\">this question</a> about speeding up the eval."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1455725867, "post_id": 35461659, "comment_id": 58620276, "body": "I&#39;m not sure there&#39;s ever a reason to use <code>&#47;o</code>. Using it here makes no sense."}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455727335, "post_id": 35461659, "comment_id": 58621312, "body": "@ikegami I see <a href=\"http://stackoverflow.com/questions/550258/does-the-o-modifier-for-perl-regular-expressions-still-provide-any-benefit\">your point</a> on <code>&#47;o</code> thanks"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1455726052, "creation_date": 1455726052, "answer_id": 35462187, "question_id": 35461659, "link": "https://stackoverflow.com/questions/35461659/how-best-to-dynamcially-prepare-and-run-user-supplied-perl-operators/35462187#35462187", "title": "How best to dynamcially prepare and run user supplied Perl operators", "body": "<p>Using <code>eval EXPR</code>:</p>\n\n<pre><code>$match =~ /^(?:[=!][~=]|eq|ne)\\z/\n   or die(\"Unrecognized operator \\\"$match\\\"\\n\");\n\nmy $rv;\neval(\"\\$rv = \\$value $match \\$operand; 1\")\n   or die $@;\n</code></pre>\n\n<p>Using a dispatch table:</p>\n\n<pre><code>my %ops = (\n   '=~' =&gt; sub { $_[0] =~ $_[1] },\n   '!~' =&gt; sub { $_[0] !~ $_[1] },\n   '==' =&gt; sub { $_[0] == $_[1] },\n   '!=' =&gt; sub { $_[0] != $_[1] },\n   'eq' =&gt; sub { $_[0] eq $_[1] },\n   'ne' =&gt; sub { $_[0] ne $_[1] },\n);\n\nmy $op = $ops{$match}\n   or die(\"Unrecognized operator \\\"$match\\\"\\n\");\n\nmy $rv = $op-&gt;($value, $operand);\n</code></pre>\n\n<p>I don't see how closures could be of any use.</p>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1455726052, "creation_date": 1455724713, "question_id": 35461659, "link": "https://stackoverflow.com/questions/35461659/how-best-to-dynamcially-prepare-and-run-user-supplied-perl-operators", "title": "How best to dynamcially prepare and run user supplied Perl operators", "body": "<p><strong>Context:</strong></p>\n\n<p>Perl script initializes itself based on a <em>user-supplied</em> <strong>param-file</strong>, then acts on a <em>user-supplied</em> <strong>source-file</strong> to filter out data and do other operations.</p>\n\n<p>The <strong>param-file</strong> file contains partial perl expression, which are later suppose to be <code>eval</code>ed during runtime, for example:</p>\n\n<pre><code>match:!~  col:1  operand:1|2|3\nmatch:=~  col:1  operand:[^123]\nmatch:=!  col:1  operand:^DATE\nmatch:=~  col:1  operand:^(?:\\s|DATE)\nmatch:-~  col:1  operand:^\\s\nmatch:eq  col:7  operand:CA\nmatch:eq  col:7  operand:DI\nmatch:ne  col:1  operand:ACCOUNT\nmatch:ne  col:1  operand:POSITIONS\nmatch:==  col:8  operand:999\nmatch:!=  col:8  operand:999\n</code></pre>\n\n<p>Hmm, and how about something like this? maybe later, but I need that too</p>\n\n<pre><code>match=\"ne list\" '11, 71, 7'\n</code></pre>\n\n<p>Briefly, my perl will get the match operator from the user and then needs to filter out (or in) records from the <strong>source file</strong> based on the other params.</p>\n\n<p>One and simple approach, is <code>eval</code>:</p>\n\n<pre><code>next unless eval \"$value $match $operand\";\n</code></pre>\n\n<p>Now, given that I know that the <code>$match</code> will always be the same, the use of <code>eval</code> on EACH input of the source-file, sounds like an overkill.</p>\n\n<pre><code>if ($match eq '!~')\n{\n    next unless $value !~ /$operand/o;\n}\nelsif ($match eq '=~')\n{\n    next unless $value =~ /$operand/o;\n}\nelsif ($match eq 'eq')\n{\n    next unless $value eq $operand;\n}\n...\n</code></pre>\n\n<p>And I was thinking of having a hash lookup, not sure how to do that. (I wonder on that too), also thinking of closures ...</p>\n\n<p>I'm looking for best and most efficient approach?</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455722608, "post_id": 35460724, "comment_id": 58617666, "body": "Please provide example data. Also, take a look at <a href=\"http://p3rl.org/Data::Printer\" rel=\"nofollow noreferrer\">p3rl.org/Data::Printer</a>"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455723028, "post_id": 35460724, "comment_id": 58617999, "body": "You could grep for it ?"}, {"owner": {"reputation": 15, "user_id": 5908517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7404317a24402b1f35ca10ab87884c74?s=128&d=identicon&r=PG&f=1", "display_name": "user145265", "link": "https://stackoverflow.com/users/5908517/user145265"}, "edited": false, "score": 0, "creation_date": 1455723214, "post_id": 35460724, "comment_id": 58618157, "body": "I&#39;m not sure about the syntax for grepping a hashref"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5908517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7404317a24402b1f35ca10ab87884c74?s=128&d=identicon&r=PG&f=1", "display_name": "user145265", "link": "https://stackoverflow.com/users/5908517/user145265"}, "edited": false, "score": 0, "creation_date": 1455723876, "post_id": 35461171, "comment_id": 58618696, "body": "Would there a corresponding approach if I would like to print by a specified value?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 15, "user_id": 5908517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7404317a24402b1f35ca10ab87884c74?s=128&d=identicon&r=PG&f=1", "display_name": "user145265", "link": "https://stackoverflow.com/users/5908517/user145265"}, "edited": false, "score": 0, "creation_date": 1455725409, "post_id": 35461171, "comment_id": 58619930, "body": "@user145265: What do you mean?"}, {"owner": {"reputation": 15, "user_id": 5908517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7404317a24402b1f35ca10ab87884c74?s=128&d=identicon&r=PG&f=1", "display_name": "user145265", "link": "https://stackoverflow.com/users/5908517/user145265"}, "edited": false, "score": 0, "creation_date": 1455783961, "post_id": 35461171, "comment_id": 58646712, "body": "Well the approach you suggested works fine if i want to filter by keys, but what if i want to filter by values instead?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 15, "user_id": 5908517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7404317a24402b1f35ca10ab87884c74?s=128&d=identicon&r=PG&f=1", "display_name": "user145265", "link": "https://stackoverflow.com/users/5908517/user145265"}, "edited": false, "score": 0, "creation_date": 1455787089, "post_id": 35461171, "comment_id": 58648539, "body": "@user145265: <code>next unless grep &#39;john&#39; eq $_, values %{ $AoH[$i] };</code> or <code>next unless { reverse %{ $AoH[$i] } }-&gt;{homer};</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1455787583, "last_edit_date": 1455787583, "creation_date": 1455723497, "answer_id": 35461171, "question_id": 35460724, "link": "https://stackoverflow.com/questions/35460724/filter-array-of-hash-references-in-perl/35461171#35461171", "title": "Filter array of hash references in perl", "body": "<p>Just add</p>\n\n<pre><code>next unless exists $AoH[$i]{husband};\n</code></pre>\n\n<p>after the first <code>for</code>. It will skip the hash if the <code>husband</code> key doesn't exist in it.</p>\n\n<p>To filter the values, use either</p>\n\n<pre><code>next unless grep 'john' eq $_, values %{ $AoH[$i] };\n</code></pre>\n\n<p>or</p>\n\n<pre><code>next unless { reverse %{ $AoH[$i] } }-&gt;{homer};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1455725263, "last_edit_date": 1455725263, "creation_date": 1455724851, "answer_id": 35461735, "question_id": 35460724, "link": "https://stackoverflow.com/questions/35460724/filter-array-of-hash-references-in-perl/35461735#35461735", "title": "Filter array of hash references in perl", "body": "<pre><code>my %keys_to_find = map { $_ =&gt; 1 } qw( husband wife daughter );\nmy %vals_to_find = map { $_ =&gt; 1 } qw( fred wilma pebbles );\n\nfor my $person (@persons) {\n   my $match =\n      grep { $keys_to_find{$_} || $vals_to_find{$person-&gt;{$_}} }\n         keys(%$person);\n\n   next if !$match;\n\n   say\n      join ' ',\n         map { \"$_=$person-&gt;{$_}\" }\n            sort keys(%$person);\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5908517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7404317a24402b1f35ca10ab87884c74?s=128&d=identicon&r=PG&f=1", "display_name": "user145265", "link": "https://stackoverflow.com/users/5908517/user145265"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 0, "accepted_answer_id": 35461171, "answer_count": 2, "score": 0, "last_activity_date": 1455787583, "creation_date": 1455722486, "last_edit_date": 1455722919, "question_id": 35460724, "link": "https://stackoverflow.com/questions/35460724/filter-array-of-hash-references-in-perl", "title": "Filter array of hash references in perl", "body": "<p>Is it possible to filter the output generated by an Array of hashreferences to only print that array elements hash reference if it contains a specific key or value, with that i mean print out the entire hash of that array element. This example code would print out every hash in every element:</p>\n\n<pre><code>for $i ( 0 .. $#AoH ) {\n print \"$i is { \";\n for $role ( keys %{ $AoH[$i] } ) {\n     print \"$role=$AoH[$i]{$role} \";\n }\n print \"}\\n\";\n}\n</code></pre>\n\n<p>How would i go about filtering that output to only print the elements that has a hashref that contain a certain key or value ?</p>\n\n<p>Example hashref in :</p>\n\n<pre><code>push @AoH, { husband =&gt; \"fred\", wife =&gt; \"wilma\", daughter =&gt; \"pebbles\" };\n\noutput:\nhusband=fred wife=wilma daughter=pebbles\n</code></pre>\n\n<p>Example data would only be printed out if it one of the keys (husband/wife/daughter) or one of the values (fred/wilma/pebbles) were specified in some sort of if-statement(?)</p>\n"}, {"tags": ["linux", "bash", "perl", "clearcase", "openssh"], "comments": [{"owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "edited": false, "score": 0, "creation_date": 1455716279, "post_id": 35458251, "comment_id": 58612765, "body": "sorry for my english :p"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1455716324, "post_id": 35458251, "comment_id": 58612790, "body": "<i>Always</i> <code>use strict; use warnings;</code>!"}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 1, "creation_date": 1455716785, "post_id": 35458251, "comment_id": 58613098, "body": "If you don&#39;t want the program to be interactive, perhaps you shouldn&#39;t pass the option <code>-q interactive</code>?"}, {"owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "edited": false, "score": 0, "creation_date": 1455787595, "post_id": 35458251, "comment_id": 58648886, "body": "no.. removing -q interactive did not help.."}], "answers": [{"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": true, "score": 0, "last_activity_date": 1456843818, "creation_date": 1456843818, "answer_id": 35726019, "question_id": 35458251, "link": "https://stackoverflow.com/questions/35458251/pass-commands-server-using-perl-openssh/35726019#35726019", "title": "pass commands server using perl openssh", "body": "<p>That remote command expects to be run in interactive mode. This doesn't work with the SSH command mode. See this Net::OpenSSH <a href=\"https://metacpan.org/pod/Net::OpenSSH#Connecting-to-switches-routers-etc\" rel=\"nofollow\">FAQ</a>!</p>\n\n<p>You can:</p>\n\n<ol>\n<li>find a way to pass commands as arguments to that script.</li>\n<li>rewrite it to accept commands as arguments.</li>\n<li>talk to it using <a href=\"https://metacpan.org/pod/Expect\" rel=\"nofollow\">Expect</a>.</li>\n</ol>\n"}], "owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 2, "accepted_answer_id": 35726019, "answer_count": 1, "score": 3, "last_activity_date": 1456843818, "creation_date": 1455716239, "last_edit_date": 1455766743, "question_id": 35458251, "link": "https://stackoverflow.com/questions/35458251/pass-commands-server-using-perl-openssh", "title": "pass commands server using perl openssh", "body": "<p>there are 2 systems,</p>\n\n<p>client system,\nin which i am passing commands to the server by doing openssh to the server and my script goes like this </p>\n\n<pre><code>#!/usr/bin/perl\nuse lib \"/home/geek/app/usr/lib/perl5/site_perl/5.8.8\";\nuse lib \"/home/geek/app/usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi\";\nuse lib \"/usr/lib/perl5/5.8.8\";\n\nuse Net::OpenSSH;\nmy $host = '******010';\nmy $user = '*****';\nmy $pass = '*****';\nmy $ssh = Net::OpenSSH-&gt;new(\"$user:$pass\\@$host\");\n$ssh-&gt;error and\n die \"Couldn't establish SSH connection: \". $ssh-&gt;error;\nmy $out = $ssh-&gt;capture(\"/p/inway/bin/inway71 lib123 p123.0_CC default \");\n#my $out = $ssh-&gt;capture(\"cd units; ls\");\n#$out = $ssh-&gt;capture(\"ls units/\");\n\n print \"output is $out\";\n</code></pre>\n\n<p>and in server /p/inway/bin/inway71 is a scripts:</p>\n\n<pre><code>#!/bin/sh\n. $MODULESHOME/init/sh\nmodule load lsf\n\nexec bsub -Is -q interactive -J INWAY71_LSF -R 'type==X64LIN &amp;&amp; osrel==50 &amp;&amp; clearcase' /nfs/site/proj/inway/bin/inway71 ${1+\"$@\"}\n</code></pre>\n\n<p>so when i login to my server and run this script in my terminal, i will be directed to some path (i have no clue what it is, but i guess its one more server which i can login using this bash script) and i can do the rest of the activity like cd,ls,cat, etc etc)</p>\n\n<p>but when i run this from my client system it passes the control to the terminal and waits for my input, and in my terminal i get an error saying,</p>\n\n<pre><code>stty:standard input:Invalid argument\n</code></pre>\n\n<p>In my terminal i can do ls or anything, but not able to do it from the perl script and capture the result.\nHow can i resolve this and get what i want? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1455714256, "post_id": 35457397, "comment_id": 58611320, "body": "<code>sudo cpan WWW::Curl::Easy</code>. You will need <code>libcurl</code> installed."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455714411, "post_id": 35457397, "comment_id": 58611437, "body": "i recommend Net::Curl::Easy over WWW::Curl::Easy"}], "owner": {"reputation": 1, "user_id": 3528469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6086aaba329adecfc5e2430b3ff89c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Achyut Raj Acharya", "link": "https://stackoverflow.com/users/3528469/achyut-raj-acharya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1455720281, "answer_count": 0, "score": 0, "last_activity_date": 1455714075, "creation_date": 1455713819, "last_edit_date": 1455714075, "question_id": 35457397, "link": "https://stackoverflow.com/questions/35457397/cant-locate-www-curl-easy-pm-in-inc-inc-contains", "closed_reason": "Duplicate", "title": "Can&#39;t locate WWW/Curl/Easy.pm in @INC (@INC contains", "body": "<p>I am trying to configure perl http api.</p>\n\n<p>When I trying to run the perl script then it gives me error. Also I am not able to figure out how to install WWW/Curl/Easy package.</p>\n\n<pre><code>[emg@p1 ~]$ perl -c etc/ebe-http-custom.pl \nCan't locate WWW/Curl/Easy.pm in @INC (@INC contains: /opt/perl-5.12.2-emg/lib/site_perl/5.12.2/x86_64-linux-thread-multi /opt/perl-5.12.2-emg/lib/site_perl/5.12.2 /opt/perl-5.12.2-emg/lib/5.12.2/x86_64-linux-thread-multi /opt/perl-5.12.2-emg/lib/5.12.2 .) at /opt/perl-5.12.2-emg/lib/5.12.2/Tumasms.pm line 5.\nBEGIN failed--compilation aborted at /opt/perl-5.12.2-emg/lib/5.12.2/Tumasms.pm line 5.\nCompilation failed in require at etc/ebe-http-custom.pl line 27.\nBEGIN failed--compilation aborted at etc/ebe-http-custom.pl line 27.\n</code></pre>\n"}, {"tags": ["python", "regex", "string", "perl"], "comments": [{"owner": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1455712980, "post_id": 35456985, "comment_id": 58610419, "body": "<code>DOTMULTI</code> is just a string literal. In your Python code, <code>DOTMULTI</code> is a variable instead. So, no, it is not the equivalent."}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "reply_to_user": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1455713028, "post_id": 35456985, "comment_id": 58610446, "body": "I mean given that I know what <code>DOTMULTI</code> is in perl."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1455713064, "post_id": 35456985, "comment_id": 58610468, "body": "Could you just explain what input you have and what output you expect?"}, {"owner": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1455713178, "post_id": 35456985, "comment_id": 58610544, "body": "@alvas: are you getting that confused with the <a href=\"http://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\"><code>m</code> modifier</a>? I can&#39;t find any references to <code>DOTMULTI</code> being a feature. It certainly is a string literal in the code you link to."}, {"owner": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1455713211, "post_id": 35456985, "comment_id": 58610565, "body": "@alvas: otherwise, please link to something explaining what <code>DOTMULTI</code> is in perl so I can understand it and translate it for you to Python."}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455713230, "post_id": 35456985, "comment_id": 58610577, "body": "@WiktorStribi\u017cew, I&#39;m not sure what <code>DOTMULTI</code> is in Perl though, so I&#39;m not exactly sure what the output should be. But is <code>DOTMULTI</code> som sort of built in variable in Perl?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1455713287, "post_id": 35456985, "comment_id": 58610636, "body": "In <code>s&#47;\\.([\\.]+)&#47; DOTMULTI$1&#47;g;</code>, <code>DOTMULTI</code> is a <i>string</i>, a part of a replacement pattern. This code finds <code>\\.([\\.]+)</code> pattern and replaces it with &quot; DOTMULTI&quot; + the capture group 1 text, multiple times (due to <code>&#47;g</code>)"}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "reply_to_user": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1455713299, "post_id": 35456985, "comment_id": 58610647, "body": "@MartijnPieters, I&#39;m also unsure where was <code>DOTMULTI</code> initialized in <a href=\"https://github.com/moses-smt/mosesdecoder/blob/master/scripts/tokenizer/tokenizer.perl\" rel=\"nofollow noreferrer\">github.com/moses-smt/mosesdecoder/blob/master/scripts/tokeni&zwnj;&#8203;zer/&hellip;</a> I can&#39;t find it from the Perl docs too, hence the question."}, {"owner": {"reputation": 40394, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 1, "creation_date": 1455713367, "post_id": 35456985, "comment_id": 58610689, "body": "It is not initialized anywhere in the perl code you linked <a href=\"https://github.com/moses-smt/mosesdecoder/blob/master/scripts/tokenizer/tokenizer.perl#L358\" rel=\"nofollow noreferrer\">github.com/moses-smt/mosesdecoder/blob/master/scripts/tokeni&zwnj;&#8203;zer/&hellip;</a>. In there the string <code>DOTMULTI</code> is a literal string to be matched. If it was a variable reference in perl, it would have a <code>$</code> sigil on it."}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "reply_to_user": {"reputation": 40394, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 0, "creation_date": 1455713514, "post_id": 35456985, "comment_id": 58610786, "body": "@msw Ahhh... now I think i&#39;m getting it."}], "answers": [{"comments": [{"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1455713564, "post_id": 35457223, "comment_id": 58610821, "body": "So it&#39;s replacing the strings outside of the group and putting it into the the string literal <code>DOTMULTI</code>?"}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1455713668, "post_id": 35457223, "comment_id": 58610902, "body": "Okay, now I understand after some examples... Gosh, they literally replaced <code>...</code> with <code>DOTDOTDOTMULTI</code> as in the string <code>DOTDOTDOTMULTI</code>."}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1455713732, "post_id": 35457223, "comment_id": 58610938, "body": "Thanks @MartijnPieters!"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 1, "creation_date": 1455713978, "post_id": 35457223, "comment_id": 58611118, "body": "@alvas: Since you work in NLP, you should know it is called <i>entitization</i>, and it is a great thing when you want to normalize contents, especially those user generated ones."}], "tags": [], "owner": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 3, "last_activity_date": 1455713904, "last_edit_date": 1455713904, "creation_date": 1455713360, "answer_id": 35457223, "question_id": 35456985, "link": "https://stackoverflow.com/questions/35456985/what-is-the-python-equivalence-of-perls-dotmulti-and-dotdotmulti/35457223#35457223", "title": "What is the Python equivalence of Perl&#39;s DOTMULTI and DOTDOTMULTI", "body": "<p>There is no magic <code>DOTMULTI</code> functionality involved here. The code inserts a <em>string literal</em>, to then anchor further replacements on that string literal.</p>\n\n<p>The Python equivalent would be:</p>\n\n<pre><code>text = re.sub(r'\\.([\\.]+)', r' DOTMULTI\\1', text)\n\nwhile re.search(r'DOTMULTI\\.', text):\n    text = re.sub(r'DOTMULTI\\.([^\\.])', r'DOTDOTMULTI \\1', text)\n    text = re.sub(r'DOTMULTI\\.', 'DOTDOTMULTI', text)\n</code></pre>\n\n<p>So <code>'Some text...'</code> becomes <code>'Some text DOTMULTI..'</code>, which then becomes <code>'Some text DOTDOTMULTI.'</code>, which then becomes <code>'Some text DOTDOTDOTMULTI'</code>.</p>\n\n<p>This text is <a href=\"https://github.com/moses-smt/mosesdecoder/blob/master/scripts/tokenizer/tokenizer.perl#L357-L362\" rel=\"nofollow\">further onwards in the same code</a> replaced with dots again:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#restore multi-dots\nwhile($text =~ /DOTDOTMULTI/)\n{\n    $text =~ s/DOTDOTMULTI/DOTMULTI./g;\n}\n$text =~ s/DOTMULTI/./g;\n</code></pre>\n"}], "owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 35457223, "answer_count": 1, "score": -1, "last_activity_date": 1456536831, "creation_date": 1455712738, "last_edit_date": 1456536831, "question_id": 35456985, "link": "https://stackoverflow.com/questions/35456985/what-is-the-python-equivalence-of-perls-dotmulti-and-dotdotmulti", "title": "What is the Python equivalence of Perl&#39;s DOTMULTI and DOTDOTMULTI", "body": "<p>I'm trying to understand <a href=\"https://github.com/moses-smt/mosesdecoder/blob/master/scripts/tokenizer/tokenizer.perl\" rel=\"nofollow\">this perl code</a>.</p>\n\n<p>And in the code it uses regexes containing <code>DOTMULTI</code> and <code>DOTDOTMULTI</code> like:</p>\n\n<pre><code>#multi-dots stay together\n$text =~ s/\\.([\\.]+)/ DOTMULTI$1/g;\nwhile($text =~ /DOTMULTI\\./)\n{\n    $text =~ s/DOTMULTI\\.([^\\.])/DOTDOTMULTI $1/g;\n    $text =~ s/DOTMULTI\\./DOTDOTMULTI/g;\n}\n</code></pre>\n\n<p>I have tried looking through the Perl docs for <code>DOTMULTI</code> but I couldn't find any hint of it. From the code, <a href=\"https://github.com/moses-smt/mosesdecoder/blob/master/scripts/tokenizer/tokenizer.perl\" rel=\"nofollow\">https://github.com/moses-smt/mosesdecoder/blob/master/scripts/tokenizer/tokenizer.perl</a> , only the while loop in line 270 and 258 uses <code>DOTMULTI</code>. </p>\n\n<p><strong>Is there a Python equivalence of <code>DOTMULTI</code> and <code>DOTDOTMULTI</code>?</strong></p>\n\n<p>Given that we know the <code>DOTMULTI</code> and <code>DOTDOTMULTI</code> equivalence from Perl in Python, would this in Python:</p>\n\n<pre><code>re.sub(r'{}\\.([^\\.])'.format(DOTMULTI), r'{} \\1'.format(DOTDOTMULTI), text) \n</code></pre>\n\n<p>be the equivalence of this in Perl:</p>\n\n<pre><code>$text =~ s/DOTMULTI\\.([^\\.])/DOTDOTMULTI $1/g;\n</code></pre>\n"}, {"tags": ["php", "bash", "perl", "shell", "cron"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455711891, "post_id": 35456622, "comment_id": 58609601, "body": "Please fix your formatting, and even more importantly, tell us what error you got!"}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 1, "creation_date": 1455713281, "post_id": 35456622, "comment_id": 58610627, "body": "You need to start flagging questions as completed if there is a satisfactory answer. You keep asking questions yet you never mark them as completed."}], "answers": [{"tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1455712693, "creation_date": 1455712693, "answer_id": 35456968, "question_id": 35456622, "link": "https://stackoverflow.com/questions/35456622/running-php-script-on-perl-or-sh-error-not-found/35456968#35456968", "title": "Running PHP script on Perl or sh error. Not found", "body": "<p>The problem are the single quotes inside the qx() operator. Remove them:</p>\n\n<pre><code>my $x = qx(/usr/bin/php /home/script.here);\n</code></pre>\n\n<p>As long as they are there the shell tries to find a command \"<code>script.here</code>\" in the directory \"<code>/usr/bin/php /home</code>\" (yes, with the space in the directory name).</p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 3668624, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/822545251/picture?type=large", "display_name": "hashtagjet", "link": "https://stackoverflow.com/users/3668624/hashtagjet"}, "is_accepted": true, "score": 0, "last_activity_date": 1469858440, "creation_date": 1469858440, "answer_id": 38670849, "question_id": 35456622, "link": "https://stackoverflow.com/questions/35456622/running-php-script-on-perl-or-sh-error-not-found/38670849#38670849", "title": "Running PHP script on Perl or sh error. Not found", "body": "<p>Totally forgot about this question.\nFound a solution.<br>\nI just added \nSHELL=/bin/bash in crontab and the scripts worked.</p>\n"}], "owner": {"reputation": 121, "user_id": 3668624, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/822545251/picture?type=large", "display_name": "hashtagjet", "link": "https://stackoverflow.com/users/3668624/hashtagjet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "accepted_answer_id": 38670849, "answer_count": 2, "score": 0, "last_activity_date": 1469858440, "creation_date": 1455711739, "last_edit_date": 1455712582, "question_id": 35456622, "link": "https://stackoverflow.com/questions/35456622/running-php-script-on-perl-or-sh-error-not-found", "title": "Running PHP script on Perl or sh error. Not found", "body": "<p>I'm currently running a cron job that loads a php script.<br>\nI keep getting an error, <code>sh 1 /usr/bin/php: not found.</code> \nI tried it two other ways but to no avail. \non a perl script. I tried.</p>\n\n<pre><code>my $x = qx('/usr/bin/php /home/script.here');\n</code></pre>\n\n<p>This doesn't generate anything and sends me an error message on my mail. \nBut if I run the line</p>\n\n<pre><code>/usr/bin/php /home/script.here\n</code></pre>\n\n<p>on my shell, it works. </p>\n\n<p>I also create a script 1.sh and had this. </p>\n\n<pre><code>#!/usr/bin/php -v\n</code></pre>\n\n<p>I run the script <code>./1.sh</code> and it shows the result. But as soon as I try to call it via cron or <code>/bin/sh 1.sh</code>, it just fails and can't find the php path even if it was explicitly stated. </p>\n\n<p>Am I missing anything? </p>\n\n<p>I also tried this on php5, but same error. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1455712283, "post_id": 35455850, "comment_id": 58609905, "body": "Typeglobs like <code>IN</code> are inherently global, so it&#39;s a bad practice to use them. You should use <code>open(my $IN, ...)</code> (and thus <code>while (&lt;$IN&gt;)</code>) instead. /// You should also always use <code>use strict; use warnings qw( all );</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1455716420, "post_id": 35455850, "comment_id": 58612845, "body": "@Arc676: Please consider deleting your comment. It&#39;s obviously guesswork and mostly unhelpful."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455725827, "post_id": 35455850, "comment_id": 58620244, "body": "Language documentation almost always explains the parameters accepted by built-in functions. The <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">documentation for open</a> explains this."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455710339, "post_id": 35455899, "comment_id": 58608536, "body": "Might be worth expanding on &quot;whats going on&quot; in terms of the while loop reading line by line."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 7, "last_activity_date": 1455712541, "last_edit_date": 1455712541, "creation_date": 1455709777, "answer_id": 35455899, "question_id": 35455850, "link": "https://stackoverflow.com/questions/35455850/meaning-of-in-in-perl/35455899#35455899", "title": "Meaning of IN in Perl", "body": "<p><code>IN</code> has no special meaning, it is just a sequence of characters, much like a variable name. It's short for <code>*IN</code>, a typeglob (or glob for short). You needn't worry too much about knowing what that is beyond knowing it can store a file handle.</p>\n\n<p>You defined it as the name of a file handle when you said <code>open(IN,$xpaths);</code> and then you read from it when you said <code>while (&lt;IN&gt;)</code>.</p>\n\n<hr>\n\n<p>See also <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\">the documentation for open</a>:</p>\n\n<blockquote>\n  <p>An older style is to use a bareword as the filehandle, as</p>\n\n<pre><code>open(FH, \"&lt;\", \"input.txt\")\n   or die \"cannot open &lt; input.txt: $!\";\n</code></pre>\n  \n  <p>Then you can use FH as the filehandle, in close FH and  and so on.\n  Note that it's a global variable, so this form is not recommended in\n  new code.</p>\n</blockquote>\n\n<p>Modern Perl would use a lexically scoped variable, and the three-argument form of open, instead.</p>\n\n<pre><code>open(my $in, \"&lt;\", $xpaths) or die $!;\nwhile (&lt;$in&gt;) {\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1455712957, "post_id": 35456077, "comment_id": 58610407, "body": "A bareword filehandle, which is global in scope, and their use is discouraged in favour of lexical variable handles."}], "tags": [], "owner": {"reputation": 249, "user_id": 5938556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9766fd8fcf95fa6b40efd34886f08c08?s=128&d=identicon&r=PG&f=1", "display_name": "yael", "link": "https://stackoverflow.com/users/5938556/yael"}, "is_accepted": false, "score": 0, "last_activity_date": 1455710250, "creation_date": 1455710250, "answer_id": 35456077, "question_id": 35455850, "link": "https://stackoverflow.com/questions/35455850/meaning-of-in-in-perl/35456077#35456077", "title": "Meaning of IN in Perl", "body": "<p>IN is the filehandle that is created with open</p>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 35455899, "answer_count": 2, "score": -1, "last_activity_date": 1455712541, "creation_date": 1455709658, "question_id": 35455850, "link": "https://stackoverflow.com/questions/35455850/meaning-of-in-in-perl", "title": "Meaning of IN in Perl", "body": "<p>I tried googling and searching SO, but as you can imagine, looking for <em>in</em> doesn't provide me with any useful information other than <strong><em>in</strong> Perl</em>.</p>\n\n<p>I came across this script:</p>\n\n<pre><code>($script,$xpaths,$treebanks)=@ARGV;\n\nopen(IN,$xpaths);\nwhile (&lt;IN&gt;) {\n    # Some code\n}\n</code></pre>\n\n<p>but I don't understand what is going on with that IN. What does it mean? I understand if this is a stupid question but as I pointed out, search attempts returned nothing fruitful.</p>\n"}, {"tags": ["regex", "perl", "pattern-matching", "strawberry-perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1455709820, "post_id": 35455578, "comment_id": 58608182, "body": "First step is to write a program and show us what you have tried"}], "answers": [{"comments": [{"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 43, "user_id": 5940135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55814a7689c8a25b90aa68247a7b56e5?s=128&d=identicon&r=PG&f=1", "display_name": "whirlcano", "link": "https://stackoverflow.com/users/5940135/whirlcano"}, "edited": false, "score": 0, "creation_date": 1455722009, "post_id": 35457210, "comment_id": 58617225, "body": "I have attempted to put an edit to do what you seek...  try it out and let me know if it&#39;s not doing what you think it should be doing."}], "tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": true, "score": 1, "last_activity_date": 1455721978, "last_edit_date": 1455721978, "creation_date": 1455713320, "answer_id": 35457210, "question_id": 35455578, "link": "https://stackoverflow.com/questions/35455578/how-to-extract-the-whole-word-in-the-line-when-there-is-a-match-of-my-substring/35457210#35457210", "title": "how to extract the whole word in the line when there is a match of my substring found perl regular expressions", "body": "<p>It's possible I've oversimplified your task, but I think this is all you would need:</p>\n\n<pre><code>foreach $file (@file_names)\n{\n    open(my $fh, '&lt;:encoding(UTF-8)', $file)\n    or die \"Could not open file '$file' $!\";\n\n    while (my $row = &lt;$fh&gt;)\n    {\n        my ($result) = $row =~ m|(notepad/v\\d+\\.\\d+\\.\\d+)|;\n        if ($result) {\n           # we have a match            \n        }\n    }\n}\n</code></pre>\n\n<p>You already have a regex to find the match -- I wouldn't add a second one; I would just expand it to do the text and capture in one step.  If <code>$result</code> is empty, then you pretty much know the match failed.  If it is not, then you have your text.</p>\n\n<p>If the version text is anything other than v<em>x</em>.<em>x</em>.<em>x</em>, then you would of course need to tweak the regex to support the variations.</p>\n\n<p>-- edit, per OP's comment --</p>\n\n<p>\"everything from notepad/ until the next immediate whitespace\"</p>\n\n<pre><code>my ($result) = $row =~ m|(notepad/\\S+)|;\n</code></pre>\n\n<p>matches \"notepad/\" and then all non-whitespace characters.</p>\n"}], "owner": {"reputation": 43, "user_id": 5940135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55814a7689c8a25b90aa68247a7b56e5?s=128&d=identicon&r=PG&f=1", "display_name": "whirlcano", "link": "https://stackoverflow.com/users/5940135/whirlcano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 35457210, "answer_count": 1, "score": 0, "last_activity_date": 1455721978, "creation_date": 1455708928, "last_edit_date": 1455711197, "question_id": 35455578, "link": "https://stackoverflow.com/questions/35455578/how-to-extract-the-whole-word-in-the-line-when-there-is-a-match-of-my-substring", "title": "how to extract the whole word in the line when there is a match of my substring found perl regular expressions", "body": "<p>I am parsing multiple log files from perl(Windows) generated on different dates.\neach file has only one line, which contains a pattern as below:</p>\n\n<p><strong>notepad/<em>version_number</em></strong></p>\n\n<ul>\n<li>entry \"notepad\" is constant</li>\n<li>version_number varies for each file</li>\n<li>both are always separated by /</li>\n</ul>\n\n<p>In my current line read from the log file, if the string notepad is present, I want to extract <strong>notepad/<em>version_number</em></strong> into a variable (including <strong>/</strong>)</p>\n\n<p>Can someone please help me out with this. Thank you.</p>\n\n<pre><code>foreach $file (@file_names)\n{\n    open(my $fh, '&lt;:encoding(UTF-8)', $file)\n    or die \"Could not open file '$file' $!\";\n\n    while (my $row = &lt;$fh&gt;)\n    {\n        if($row =~  \"notepad\")\n        {\n            #here I want to extract the part of the line which I have highligted above(notepad/*version_number) into a variable.\n        }\n    }\n}\n</code></pre>\n\n<p>Above is the code snippet from my script. Hope this helps.</p>\n\n<p><strong>Sample line from log file:</strong></p>\n\n<pre><code>02/13/2014 22:39:51:464227 some_text notepad/v1.10.12 some_text\n</code></pre>\n"}, {"tags": ["python", "perl", "pipe"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1455702771, "post_id": 35453119, "comment_id": 58603024, "body": "What is the Problem with your perl code?"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455702892, "post_id": 35453119, "comment_id": 58603107, "body": "You don&#39;t close your open function... or whatever this is supposed to be <code>while (&lt;$fh&gt;) {  or die $!;</code>"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1455718183, "post_id": 35453119, "comment_id": 58614171, "body": "Googling for <code>perl</code> <code>open</code> <code>pipes</code> would have led you to <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">the documentation</a>."}], "answers": [{"comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455703085, "post_id": 35453256, "comment_id": 58603259, "body": "Are you sure you can&#39;t just use <code>&lt;</code> ? I&#39;ve done it before although tbh I&#39;m not exactly clear on what OP is trying to do..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1455703227, "post_id": 35453256, "comment_id": 58603378, "body": "It looks like an exec pipe. A <code>&lt;</code> won&#39;t do that."}, {"owner": {"reputation": 73, "user_id": 5501714, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5572cffbdd17221964ed81b4bbec0f5a?s=128&d=identicon&r=PG&f=1", "display_name": "Ulf ", "link": "https://stackoverflow.com/users/5501714/ulf"}, "edited": false, "score": 0, "creation_date": 1455705958, "post_id": 35453256, "comment_id": 58605444, "body": "Well, this looks good. I receive a GLOB(0x2054cb8) variable. How do I use this now?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455706107, "post_id": 35453256, "comment_id": 58605570, "body": "That&#39;s a filehandle. You need to read/write from it, like you would a filehandle."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455712673, "post_id": 35453256, "comment_id": 58610189, "body": "That <code>open2</code> example is BAD! It can deadlock. <code>open2</code> is too low-level for this. IPC::Run3 (or IPC::Run) should be used for this. (Not <a href=\"http://search.cpan.org/perldoc?IPC::Run2\" rel=\"nofollow noreferrer\">IPC::Run2</a>, because it doesn&#39;t exist.)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1455703088, "last_edit_date": 1455703088, "creation_date": 1455702896, "answer_id": 35453256, "question_id": 35453119, "link": "https://stackoverflow.com/questions/35453119/how-to-read-piped-data-in-perl/35453256#35453256", "title": "How to read piped data in Perl?", "body": "<p>Your mode to <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\"><code>open</code></a> isn't going to work. In order to <code>open</code> a pipe like that, you need to use a different symbol. <code>&lt;</code> means 'open a file for reading', and you aren't.</p>\n\n<p>You want;</p>\n\n<pre><code>open ( my $input_fh, '-|', $command_to_run ) or die $!;\n</code></pre>\n\n<p>But for something more extensive, you might want to look at <a href=\"http://perldoc.perl.org/IPC/Open2.html\" rel=\"nofollow\"><code>IPC::Open2</code></a> and <code>IPC::Run2</code> which allows you to open input and output filehandles. </p>\n\n<pre><code>open2 ( my $socat_stdou, my $socat_stdin, 'socat - /opt/colan/nagios/var/rw/live' );\nprint {$socat_stdin} \"GET hostgroups\\nColumns: members\\nFilter: name = HG_switches\";   \nprint &lt;$socat_stdout&gt;; \n</code></pre>\n\n<p><code>IPC::Run3</code>/<code>IPC::Open3</code> give you <code>STDERR</code> as well. And you may find, you don't actually need to shell out to <code>socat</code> but can implement that natively. </p>\n"}], "owner": {"reputation": 73, "user_id": 5501714, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5572cffbdd17221964ed81b4bbec0f5a?s=128&d=identicon&r=PG&f=1", "display_name": "Ulf ", "link": "https://stackoverflow.com/users/5501714/ulf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455709458, "creation_date": 1455702557, "last_edit_date": 1455709458, "question_id": 35453119, "link": "https://stackoverflow.com/questions/35453119/how-to-read-piped-data-in-perl", "title": "How to read piped data in Perl?", "body": "<p>I have a piece of <code>python</code> script, which I like to develop as a <code>perl</code> script.\nIt use <code>os.popen().readlines()</code> to get information from the pipe. I don't understand how this works in <code>Perl</code>.</p>\n\n<p>Can you help me, please?</p>\n\n<p><strong>Old Python Code:</strong></p>\n\n<pre><code>hosts = os.popen('echo \"GET hostgroups\\nColumns: members\\nFilter: name = HG_switches\" | socat - /opt/colan/nagios/var/rw/live').readlines()\nfor item in hosts:\nprint item;\n</code></pre>\n\n<p><strong>My Perl Code:</strong></p>\n\n<pre><code>open (my $fh, \"&lt;\", 'echo \"GET hostgroups\\nColumns: members\\nFilter: name = HG_switches\" | socat - /opt/colan/nagios/var/rw/live'while (&lt;$fh&gt;) {  or die $!;\nwhile (&lt;$fh&gt;) { \nprint $fh;\n}\n</code></pre>\n"}, {"tags": ["linux", "perl", "unix"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1455704367, "post_id": 35452981, "comment_id": 58604253, "body": "It sounds like there is a timeout on mysql server side. You will need to change that. Alternatively, try to change your query to pull fewer records at a time, use <code>LIMIT</code>, or add indexes for your specific query to your db. This is most likely not something that you can solve in Perl specifically."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1455704406, "post_id": 35452981, "comment_id": 58604278, "body": "Also, please <a href=\"https://stackoverflow.com/posts/35452981/edit\">edit</a> your question and use actual numbers. Not everyone here knows what a <i>lac</i> (or is it <i>lakh</i>?) is."}, {"owner": {"reputation": 11, "user_id": 5714080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41be7ac3bfdc68137d0cd2d0d7940c6c?s=128&d=identicon&r=PG", "display_name": "user41290", "link": "https://stackoverflow.com/users/5714080/user41290"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455704900, "post_id": 35452981, "comment_id": 58604667, "body": "thanks for updating me"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 0, "creation_date": 1455713607, "post_id": 35452981, "comment_id": 58610850, "body": "lakh means something?  I assumed it was a typo for &quot;lots.&quot;"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 0, "creation_date": 1455752363, "post_id": 35452981, "comment_id": 58635471, "body": "@Hambone <a href=\"https://en.wikipedia.org/wiki/Lakh\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Lakh</a>"}], "owner": {"reputation": 11, "user_id": 5714080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41be7ac3bfdc68137d0cd2d0d7940c6c?s=128&d=identicon&r=PG", "display_name": "user41290", "link": "https://stackoverflow.com/users/5714080/user41290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455768256, "creation_date": 1455702213, "last_edit_date": 1455768256, "question_id": 35452981, "link": "https://stackoverflow.com/questions/35452981/wait-perl-until-sql-query-finish", "title": "Wait perl until sql query finish", "body": "<p>I am writing a perl script which will query data from MySQL and pushed to an array using while loop.Query will take more than 30(No specific time) mins because it contains 100k records to filter. script is exiting without success.\nWhat command to wait until sql query finish?.</p>\n"}, {"tags": ["perl", "types", "type-conversion"], "comments": [{"owner": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "edited": false, "score": 1, "creation_date": 1455699790, "post_id": 35451979, "comment_id": 58600868, "body": "Yes: <a href=\"https://en.wikipedia.org/wiki/Perl#Features\" rel=\"nofollow noreferrer\"><i>Legal type conversions \u2014 for example, conversions from number to string \u2014 are done automatically at run time; illegal type conversions are fatal errors.</i></a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455699920, "post_id": 35451979, "comment_id": 58600955, "body": "A note: that ressource is a little bit outdated, but seems to be still fine. Due to Perl&#39;s long history, there is a lot of very old, bad stuff around."}], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1455701484, "post_id": 35452297, "comment_id": 58602053, "body": "Would one then use <code>eq</code> or <code>==</code> when the &#39;type&#39; of two variables to compare are not known in advance?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1455701864, "post_id": 35452297, "comment_id": 58602317, "body": "@Bram usually you would use <code>eq</code>, because <code>==</code> will give you a <i>warning</i> <code>Argument &quot;a&quot; isn&#39;t numeric in numeric eq (==)</code> if you do <code>&#39;a&#39; == 1</code>. The code will continue running though."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1455702515, "post_id": 35452297, "comment_id": 58602834, "body": "Also <code>0.0 == 0</code> but not <code>&quot;0.0&quot; eq &quot;0&quot;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455713377, "post_id": 35452297, "comment_id": 58610697, "body": "Perl has way more than three data types. It even has more than three variables types (<code>$foo</code>, <code>@foo</code>, <code>%foo</code>, <code>*foo</code>, <code>&amp;foo</code>)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455714400, "post_id": 35452297, "comment_id": 58611425, "body": "@ikegami the documentation says otherwise; the five different sigils you&#39;ve mentioned all point to the same symbol in the symbol table, and <code>&amp;foo</code> is not a variable, it&#39;s a subroutine. If you reference it, you&#39;ll get a code-ref, which is a ref, which is a scalar."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455714506, "post_id": 35452297, "comment_id": 58611505, "body": "The documentation quite easily demonstrably wrong (<code>&quot;a&quot;|&quot;b&quot;</code> vs <code>1|2</code>). You&#39;re limited with what you can do with <code>&amp;foo</code>, but it is a variable (<code>\\&amp;foo</code>), and it is a variable type (<code>CV</code>)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455714684, "post_id": 35452297, "comment_id": 58611627, "body": "@ikegami In that case, feel free to fix it: <a href=\"http://perldoc.perl.org/perlhack.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlhack.html</a> :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1455714449, "last_edit_date": 1455714449, "creation_date": 1455700402, "answer_id": 35452297, "question_id": 35451979, "link": "https://stackoverflow.com/questions/35451979/type-conversion-in-perl/35452297#35452297", "title": "Type conversion in Perl", "body": "<p>Although Perl is <a href=\"https://en.wikipedia.org/wiki/Strong_and_weak_typing\" rel=\"nofollow\">a <em>strongly typed</em> language</a>, it does not have static types. The concept of distinct <em>integers</em>, <em>strings</em> or <em>floats</em> is not there in Perl.</p>\n\n<p>Instead, when speaking about <em>types</em>, it refers to these three: </p>\n\n<ul>\n<li>scalars</li>\n<li>arrays</li>\n<li>hashes</li>\n</ul>\n\n<p>They are explained in the <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\">perldoc <em>perldata</em></a>. </p>\n\n<blockquote>\n  <p>Perl has three built-in data types: scalars, arrays of scalars, and associative arrays of scalars, known as \"hashes\". A scalar is a single string (of any size, limited only by the available memory), number, or a reference to something (which will be discussed in perlref). Normal arrays are ordered lists of scalars indexed by number, starting with 0. Hashes are unordered collections of scalar values indexed by their associated string key.</p>\n</blockquote>\n\n<p>Both numbers and strings are <em>scalars</em>, which means that they are one single value.</p>\n\n<p>There are, however, operators for numerical and string comparison, like <code>==</code> and <code>eq</code>. They are useful for example when sorting. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1455714034, "last_edit_date": 1455714034, "creation_date": 1455713678, "answer_id": 35457341, "question_id": 35451979, "link": "https://stackoverflow.com/questions/35451979/type-conversion-in-perl/35457341#35457341", "title": "Type conversion in Perl", "body": "<p>Perl is smart enough to do such type conversion itself.</p>\n\n<ul>\n<li>An operator that requires a string coerces its operand into a string.</li>\n<li>An operator that requires an integer coerces its operand into an integer.</li>\n<li>An operator that requires a number coerces its operand into an integer or float.</li>\n<li>etc</li>\n</ul>\n\n<p>The literal <code>42</code> results in an integer value. But string concatenation<sup>[1]</sup> requires strings for operands, so it coerces it into a string.</p>\n\n<hr>\n\n<ol>\n<li><code>\"Team $team_number\"</code> is identical to <code>\"Team \" . $team_number</code>.</li>\n</ol>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3245, "favorite_count": 0, "accepted_answer_id": 35452297, "answer_count": 2, "score": 4, "last_activity_date": 1455714449, "creation_date": 1455699569, "question_id": 35451979, "link": "https://stackoverflow.com/questions/35451979/type-conversion-in-perl", "title": "Type conversion in Perl", "body": "<p>I am trying to learn Perl <a href=\"http://learnperl.scratchcomputing.com/tutorials/csss/\" rel=\"nofollow\">here</a> and the tutorial suggests the following code snippet after reading some file:</p>\n\n<pre><code>my $team_number = 42;\nmy $filename = 'input.txt';\n\nopen(my $fh, '&lt;', $filename) or die \"cannot open '$filename' $!\";\n\nmy $found;\nwhile(&lt;$fh&gt;) {\n  chomp;\n  last if($_ eq \"Team $team_number\");\n}\ndie \"cannot find 'Team $team_number'\" if(eof $fh);\n</code></pre>\n\n<p>Why don't you need quotes around <code>42</code> when you are clearly comparing an integer to a string? Is Perl smart enough to do such type converting itself?</p>\n"}, {"tags": ["perl", "chomp"], "comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 2, "creation_date": 1455699742, "post_id": 35451956, "comment_id": 58600836, "body": "Don&#39;t you hate it when you do the effort of learning a new language and you get down-voted in the process?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 5, "creation_date": 1455700330, "post_id": 35451956, "comment_id": 58601234, "body": "I am not the downvoter, but this is an extremely common question; did you look for a duplicate before posting?"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455701463, "post_id": 35451956, "comment_id": 58602041, "body": "Unrelated but this code is pretty badly written as it would say cannot find Team 42 if it was on the last line..."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1455783964, "post_id": 35451956, "comment_id": 58646716, "body": "@tripleee I did! There are many questions on chomp and Perl and none of the first batch were helpful for me. Or at least I didn&#39;t understand from those questions what was going on as they were not the same as my question."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1455785580, "post_id": 35451956, "comment_id": 58647625, "body": "The <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\"><code>chomp</code> documentation</a> seems to me like an exhaustive answer.  In particular; <i>&quot;It&#39;s often used to remove the newline from the end of an input record when you&#39;re worried that the final record may be missing its newline.&quot;</i>"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1455786633, "post_id": 35451956, "comment_id": 58648252, "body": "@tripleee I understand that, but I didn&#39;t get why that was necessary to match since we&#39;re already looping through all the lines - why would you then need to remove the new line? It was only after reading Kallol&#39;s post that I realised that <code>eq</code> would fail if not chomped, because the <i>actual</i> string that is looped, then, is <i>Team 42\\n</i>. So that&#39;s why my question is different from other chomp questions: I didn&#39;t know why my code wasn&#39;t working withouit chomp and someone pointed me in the right direction."}], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1455700520, "post_id": 35452153, "comment_id": 58601349, "body": "But why then doesn&#39;t the code work without chomping?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1455702569, "post_id": 35452153, "comment_id": 58602870, "body": "Because then <code>$_</code> contains a linefeed at the end, so the <code>eq</code> test fails."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1455785356, "post_id": 35452153, "comment_id": 58647508, "body": "Out of these answers, this one gets my upvote. Deferring to other answers regarding why the code doesn&#39;t work is a bit of a wart here, though. A good answer should stand on its own, and solve the OP&#39;s problem completely."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1455785814, "post_id": 35452153, "comment_id": 58647773, "body": "@tripleee Thank you for commenting!  Still don&#39;t quite understand why it got downvoted (twice!), in fact.  Thank you for the suggestion, I will summarize others&#39; findings in my answer then (and leave this here a bit longer)."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1455785963, "post_id": 35452153, "comment_id": 58647852, "body": "All of us get downvoted for no good reason every once in a while. Just keep going and you should end up gaining rep from your answers at a steady rate. I still get upvotes on stuff I posted here when I started, several years ago."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1456170767, "post_id": 35452153, "comment_id": 58813315, "body": "Thank you for the elaborate answer, and the summary of others&#39; findings. +1 + accept ;)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1456177687, "post_id": 35452153, "comment_id": 58817364, "body": "@BramVanroy  You are welcome.  I found your question reasonable and worthy asking, given a bit specific code you posted."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 1, "creation_date": 1456201067, "post_id": 35452153, "comment_id": 58825179, "body": "@BramVanroy  Thank you for this comment, following the action, it is very supportive.  This Q-A came with a bit of an internal ride for me, as you can imagine, and it is educational to see how it all played out.  Big thanks go to tripleee for responding and for his comments.  (I&#39;ll remove this in a couple of days.)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1455868344, "last_edit_date": 1495542665, "creation_date": 1455700082, "answer_id": 35452153, "question_id": 35451956, "link": "https://stackoverflow.com/questions/35451956/use-of-chomp-in-this-perl-script/35452153#35452153", "title": "Use of chomp in this Perl script", "body": "<p>It is reasonable that you don't want the new line when you load text and are working with it.  The new lines organize text into a file, in memory you have arrays or other data structures.  You don't <em>have to</em>  <code>chomp</code> it, you generally want to.</p>\n\n<p>Why the code doesn't do what you intended without the <code>chomp</code> has been explained by <a href=\"https://stackoverflow.com/users/495600/kallol\">Kallol</a> and <a href=\"https://stackoverflow.com/users/2566198/sobrique\">Sobrique</a>: a new-line remains in <code>$_</code> which thus doesn't match (the string without a new line) so the file is read to the end and <code>eof</code> returns true.  See \n<a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\">chomp</a> (or<code>perldoc -f chomp</code>).  I don't see that the script \"throws an error\" though, as you say. It doesn't for me, with or without `chomp'; it just never matches.</p>\n\n<p>And there is another error even with <code>chomp</code>, as noted by <a href=\"https://stackoverflow.com/users/4923629/123\">123</a>: if the matching string is the last line in the file, by the time the match is found the file has been read so <code>eof</code> returns true and you get a statement that the string was not found.  That you could fix by using a flag, for example (which you have right there), in which case you wouldn't be deciding via <code>eof</code> any more.</p>\n\n<p>That would be a very good thing, because what you have now has a little twisted (and rather brittle!) logic -- which is precisely how this last-line-error came about, of course.</p>\n"}, {"tags": [], "owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "is_accepted": false, "score": 2, "last_activity_date": 1455700210, "creation_date": 1455700210, "answer_id": 35452222, "question_id": 35451956, "link": "https://stackoverflow.com/questions/35451956/use-of-chomp-in-this-perl-script/35452222#35452222", "title": "Use of chomp in this Perl script", "body": "<p>You would just need to change the match to include a new line if you don't chomp.</p>\n\n<pre><code>while(&lt;$fh&gt;) {\n  last if($_ eq \"Team $team_number\\n\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 328, "user_id": 495600, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/8183f0e2a203c53b30ce70d0cc7417c0?s=128&d=identicon&r=PG", "display_name": "Kallol", "link": "https://stackoverflow.com/users/495600/kallol"}, "is_accepted": false, "score": 0, "last_activity_date": 1455702494, "creation_date": 1455702494, "answer_id": 35453091, "question_id": 35451956, "link": "https://stackoverflow.com/questions/35451956/use-of-chomp-in-this-perl-script/35453091#35453091", "title": "Use of chomp in this Perl script", "body": "<p>Chomp removes new line character from the end of the line as you are looping through each line of the file. Since you are matching the line with a text without new line, there is no match found and the file is read until the end. So the last condition to check End-Of-File is true and the \"die\" statement is executed.</p>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 718, "favorite_count": 0, "accepted_answer_id": 35452153, "answer_count": 3, "score": -1, "last_activity_date": 1455868344, "creation_date": 1455699495, "last_edit_date": 1455825327, "question_id": 35451956, "link": "https://stackoverflow.com/questions/35451956/use-of-chomp-in-this-perl-script", "title": "Use of chomp in this Perl script", "body": "<p>I am trying to learn Perl <a href=\"http://learnperl.scratchcomputing.com/tutorials/csss/\" rel=\"nofollow\">here</a> and the tutorial suggests the following code snippet after reading some file:</p>\n\n<pre><code>my $team_number = 42;\nmy $filename = 'input.txt';\n\nopen(my $fh, '&lt;', $filename) or die \"cannot open '$filename' $!\";\n\nmy $found;\nwhile(&lt;$fh&gt;) {\n  chomp;\n  last if($_ eq \"Team $team_number\");\n}\ndie \"cannot find 'Team $team_number'\" if(eof $fh);\n</code></pre>\n\n<p>I don't quite understand why we need chomp, though. chomp removes the new line. So in each loop we remove the new line at the end of the line, but why? The script does throw an error if you remove the chomp, but I don't understand why.</p>\n\n<p><strong>Please re-consider down-voting</strong>: I understand what chomping does, but I didn't get why that was necessary to match since we're already looping through all the lines - why would you then need to remove the new line? It was only after reading Kallol's post that I realised that eq would fail if not chomped, because the actual string that is looped, then, is Team 42\\n. So that's why my question is different from other chomp questions: I didn't know why my code wasn't working withouit chomp and someone pointed me in the right direction.</p>\n"}, {"tags": ["regex", "perl", "search", "replace", "conditional"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455699861, "post_id": 35451935, "comment_id": 58600911, "body": "How doesn&#39;t it work, error? just does nothing ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455700350, "post_id": 35451935, "comment_id": 58601246, "body": "Hang on ... so patt2 should exist in some hash somewhere, OK; but the combination of patt1 and patt2 should exist ... in some string? Is this correct?"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455700650, "post_id": 35451935, "comment_id": 58601446, "body": "@123 no error; it just does nothing."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455700810, "post_id": 35451935, "comment_id": 58601563, "body": "@zdim well, pattern2 REALLY exist in the hash. pattern1 does not have anything to do with the hash; I use such a &quot;combination&quot; just to illustrate that pattern2 should be matched in a certain context."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455700901, "post_id": 35451935, "comment_id": 58601632, "body": "OK ... and then patt1-patt2 combination is sought and if it exists it is replaced with patt1-else? Is that what you want? I posted a quick answer, see and let  me know."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455700933, "post_id": 35451935, "comment_id": 58601653, "body": "@katyusza Should give an warning <code>Use of uninitialized value $2 in exists at perltest line 8.</code>"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455700958, "post_id": 35451935, "comment_id": 58601673, "body": "@zdim Right; this is what I want. I&#39;m reading your answer now ~ ;-)"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455701275, "post_id": 35451935, "comment_id": 58601903, "body": "@123 Thanks for your hints; unfortunately I disabled the &quot;warning&quot; stuff at the beginning."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455701558, "post_id": 35451935, "comment_id": 58602104, "body": "@katyusza Yeah don&#39;t do that."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1455707482, "post_id": 35451935, "comment_id": 58606533, "body": "@123 Thanks for the hint; I just habitually omitted that -____-"}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1455701212, "post_id": 35452403, "comment_id": 58601860, "body": "Thanks for your reply but this is not what I intended. What I really want is: FIRST, search for $patt1$patt2; THEN, if match is found AND if $patt2 exists in hash, then replace it with $patt1$replacement."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1455707274, "post_id": 35452403, "comment_id": 58606380, "body": "The new added code does not work either. As for the reason, well, my intention comes from the thing I&#39;m trying to do: Given a text file, I want to find all Dffs and replace them with a new name. Here &quot;Dffs&quot; appear in format like &quot;reg foo1&quot; or &quot;reg [3:0] foo2&quot;, but the stuff after &quot;reg&quot; may or may NOT be a Dff. Only if &quot;reg foo3&quot; AND &quot;foo3&quot; exist in Dff hash, foo3 is regarded as a Dff. There may be many Dffs in the file; I need to find-and-replace them all."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1455708374, "post_id": 35452403, "comment_id": 58607184, "body": "So you have &quot;reg text-to-replace&quot;, but to replace it only if BOTH &quot;text-to-replace&quot; and &quot;reg text-to-replace&quot; are keys in a hash?  Both of them? Btw, what is a &quot;Dff&quot; -- your name for these things you work with? What is &quot;Dff hash&quot;, simply a hash that has keys which are involved in strings to manipulate?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1455708659, "post_id": 35452403, "comment_id": 58607395, "body": "This reallly makes it completely different and I will remove this pointless &quot;answer&quot; once you update the question (since the explanation in these comments changes the question, I think), if you wish to do so.  I suggest that you do if you want useful ideas."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1455776863, "post_id": 35452403, "comment_id": 58643302, "body": "The answer given by Sobrique exactly does what I want. Thank you ;-)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1455705886, "last_edit_date": 1495539901, "creation_date": 1455700719, "answer_id": 35452403, "question_id": 35451935, "link": "https://stackoverflow.com/questions/35451935/how-to-do-conditional-if-exist-logic-search-replace-in-perl/35452403#35452403", "title": "How to do conditional (&quot;if exist&quot; logic) search &amp; replace in Perl?", "body": "<p>What is wrong (as in not working) with</p>\n\n<pre><code>if (exists($h{$patt1)) { $text =~ s/$patt1$patt2/$patt1$1replacement/g; }\n</code></pre>\n\n<p>If <code>$patt1</code> exists as a key in a hash then you go ahead and replace <code>$patt1$patt2</code> with <code>$patt1$replacement</code>.  Of course, if <code>$patt1$patt2</code> is found in <code>$text</code>, otherwise nothing happens.  Your first code snippet is circular, while the second one can't work like that at all.</p>\n\n<p>If you want <code>$patt1$patt2</code> first, <em>and</em> hash key as well then it seems that you'd have to go slow</p>\n\n<pre><code>if ($str =~ /$patt11$patt2/ &amp;&amp; exists $h{$patt2}) {\n     $str =~ s/$patt1$patt2/$patt1$replacement/gs;\n}\n</code></pre>\n\n<p>If this is what you want then it is really simple: you need two unrelated conditions, whichever way you turn it around. Can't combine them since it would be circular.</p>\n\n<p>From the point of view of the outcome these are the same.  If either condition fails nothing happens, regardless of the order in which you check them.</p>\n\n<p><b>NOTE</b> Or maybe you don't have to go slow, see <a href=\"https://stackoverflow.com/users/2566198/sobrique\">Sobrique</a>'s post.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1455705263, "post_id": 35453641, "comment_id": 58604955, "body": "Still can&#39;t completely wrap my mind around it but it&#39;s beautiful :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1455705904, "post_id": 35453641, "comment_id": 58605414, "body": "It&#39;s fairly straightforward - you create a (possibly really long) regex match expression using alternation. That alternation &#39;captures&#39; <code>$2</code>, which you then use in the right hand side of the substitution. There are a few gotchas though, around possible substrings, which means you sometimes have to sort the keys by length."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1455776757, "post_id": 35453641, "comment_id": 58643260, "body": "Yeah, your code is nice!! To say the truth, I did spend some time trying to figure the usage of &quot;map&quot;, &quot;qr&quot; and &quot;compile&quot; stuffs, but failed. Now I&#39;m simply using your code &quot;as is&quot;, without knowing what it actually means, and it really works in my code! Thank you~"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1455707810, "last_edit_date": 1455707810, "creation_date": 1455703903, "answer_id": 35453641, "question_id": 35451935, "link": "https://stackoverflow.com/questions/35451935/how-to-do-conditional-if-exist-logic-search-replace-in-perl/35453641#35453641", "title": "How to do conditional (&quot;if exist&quot; logic) search &amp; replace in Perl?", "body": "<p>I would do it a different way. It looks like you have a 'search this, replace that' hash. </p>\n\n<p>So:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n#our 'mappings'. \n#note - there can be gotchas here with substrings\n#so make sure you anchor patterns or sort, so \n#you get the right 'substring' match occuring. \n\nmy %replace = (\n    \"this phrase\" =&gt; \"that thing\",\n    \"cabbage\"     =&gt; \"carrot\"\n);\n\n#stick the keys together into an alternation regex. \n#quotemeta means regex special characters will be escaped. \n#you can remove that, if you want to use regex in your replace keys.     \nmy $search = join( \"|\", map {quotemeta} keys %replace );\n#compile it - note \\b is a zero width 'word break' \n#so it will only match whole words, not substrings. \n$search = qr/\\b($search)\\b/;\n\n#iterate the special DATA filehandle - for illustration and a runnable example. \n#you probably want &lt;&gt; instead for 'real world' use. \nwhile (&lt;DATA&gt;) {\n    #apply regex match and replace\n    s/(XX) ($search)/$1 $replace{$2}/g;\n    #print current line. \n    print;\n}\n\n##inlined data filehandle for testing. \n__DATA__\nXX this phrase cabbage\nXX cabbage carrot cabbage this phrase XX this phrase\nXX no words here\nand this shouldn't cabbage match this phrase at all\n</code></pre>\n\n<p>By doing this, we turn your hash keys into a regex (you can print it - it looks like: <code>(?^:\\b(cabbage|this\\ phrase)\\b)</code></p>\n\n<p>Which is inserted into the substitution pattern. This will <em>only</em> match if the key is present, so you can safely do the substitution operation. </p>\n\n<p>Note - I've added <code>quotemeta</code> because then it escapes any special characters in the keys. And the <code>\\b</code> is a \"word boundary\" match so it doesn't do substrings within words. (Obviously, if you <em>do</em> want that, then get rid of them)</p>\n\n<p>The above gives output of:</p>\n\n<pre><code>XX that thing cabbage\nXX carrot carrot cabbage this phrase XX that thing\nXX no words here\nand this shouldn't cabbage match this phrase at all\n</code></pre>\n\n<p>If you wanted to omit lines that <em>didn't</em> pattern match, you can stick <code>&amp;&amp; print;</code> after the regex. </p>\n"}], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1301, "favorite_count": 0, "accepted_answer_id": 35453641, "answer_count": 2, "score": 1, "last_activity_date": 1455707810, "creation_date": 1455699429, "last_edit_date": 1455700587, "question_id": 35451935, "link": "https://stackoverflow.com/questions/35451935/how-to-do-conditional-if-exist-logic-search-replace-in-perl", "title": "How to do conditional (&quot;if exist&quot; logic) search &amp; replace in Perl?", "body": "<p>in my Perl script I want to do conditional search &amp; replace using regular expression: Find a certain pattern, and if the pattern exists in a hash, then replace it with something else.</p>\n\n<p>For example, I want to search for a combination of \"pattern1\" and \"pattern2\", and if the latter exists in a hash, then replace the combination with \"pattern1\" and \"replacement\". I tried the following, but it just doesn't do anything at all.</p>\n\n<pre><code>$_ =~ s/(pattern1)(pattern2)/$1replacement/gs if exists $my_hash{$2};\n</code></pre>\n\n<p>I also tried stuff like:</p>\n\n<pre><code>$_ =~ s/(pattern1)(pattern2) &amp;&amp; exists $my_hash{$2}/$1replacement/gs;\n</code></pre>\n\n<p>Also does nothing at all, as if no match is found.</p>\n\n<p>Can anyone help me with this regex problem? Thx~</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1455697604, "post_id": 35451343, "comment_id": 58599548, "body": "<a href=\"http://p3rl.org/File::Find\" rel=\"nofollow noreferrer\">File::Find</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 2, "last_activity_date": 1455698494, "last_edit_date": 1455698494, "creation_date": 1455698187, "answer_id": 35451545, "question_id": 35451343, "link": "https://stackoverflow.com/questions/35451343/perl-subroutine-to-return-all-files-recursively-in-a-directory/35451545#35451545", "title": "Perl subroutine to return all files recursively in a directory", "body": "<p>Try this\nYou want to search the file into directory simply use <code>File::Find</code> module. Or else you should created recursive subroutine for to do it. </p>\n\n<pre><code>my $path = \"/home\";\nfind($path);\nsub find{\n    my ($s) = @_;\n    foreach my $files (glob \"$s/*\")\n    {\n        if(-f $files)\n        {\n            print \"$files \\n\";\n        }\n        elsif(-d $files)\n        {\n           find(\"$files\")\n        }\n\n    }\n}\n</code></pre>\n\n<p>Here <code>-d</code> means content as a directory. <code>-f</code> for means content as a file.</p>\n\n<p>First pass the name of the directory into the find subroutine. Then get the value by using $s variable, <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\">glob/*</a> list the all files in the path. Then iterate the loop for the particulary directory files. If files exists it comes in the <code>if</code> block if folders exist it comes in to the <code>elsif</code>. Then the folder name goto the subroutine again and so on.  </p>\n"}, {"comments": [{"owner": {"reputation": 688, "user_id": 3903913, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e6dd03d3c7ff5081545f69873197a23f?s=128&d=identicon&r=PG&f=1", "display_name": "Avinash Kumar Pandey", "link": "https://stackoverflow.com/users/3903913/avinash-kumar-pandey"}, "edited": false, "score": 0, "creation_date": 1455699192, "post_id": 35451609, "comment_id": 58600485, "body": "Thanks for help. It seems to return directories as well, how can we get rid of that?"}, {"owner": {"reputation": 688, "user_id": 3903913, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e6dd03d3c7ff5081545f69873197a23f?s=128&d=identicon&r=PG&f=1", "display_name": "Avinash Kumar Pandey", "link": "https://stackoverflow.com/users/3903913/avinash-kumar-pandey"}, "edited": false, "score": 0, "creation_date": 1455699682, "post_id": 35451609, "comment_id": 58600798, "body": "find(sub{if(-f $_){push @files, $_ }}, $dir);     Figured it out.      Thanks!"}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "reply_to_user": {"reputation": 688, "user_id": 3903913, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e6dd03d3c7ff5081545f69873197a23f?s=128&d=identicon&r=PG&f=1", "display_name": "Avinash Kumar Pandey", "link": "https://stackoverflow.com/users/3903913/avinash-kumar-pandey"}, "edited": false, "score": 0, "creation_date": 1455701701, "post_id": 35451609, "comment_id": 58602200, "body": "@AvinashKumarPandey See my answer"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1455698402, "creation_date": 1455698402, "answer_id": 35451609, "question_id": 35451343, "link": "https://stackoverflow.com/questions/35451343/perl-subroutine-to-return-all-files-recursively-in-a-directory/35451609#35451609", "title": "Perl subroutine to return all files recursively in a directory", "body": "<p>Use the <a href=\"http://p3rl.org/File::Find\" rel=\"nofollow\">File::Find</a> module:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nuse File::Find;\n\nsub get_all_files {\n    my ($dir) = @_;\n    my @files;\n    # Use $File::Find::name instead of $_ to get the paths.\n    find(sub { push @files, $_ }, $dir);\n    return @files\n}\n\nmy $dir = shift;\nmy @files = get_all_files($dir);\nprint \"$_\\n\" for @files;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1455699172, "creation_date": 1455699172, "answer_id": 35451830, "question_id": 35451343, "link": "https://stackoverflow.com/questions/35451343/perl-subroutine-to-return-all-files-recursively-in-a-directory/35451830#35451830", "title": "Perl subroutine to return all files recursively in a directory", "body": "<p>Learn to find stuff in the documentation.</p>\n\n<p>Start with \"perldoc perlfaq\" and you will find:</p>\n\n<pre><code>   perlfaq5 - Files and Formats\n</code></pre>\n\n<p>Then look at \"perldoc perlfaq5\" and search for \"directory\". You will find:</p>\n\n<p><strong>How do I traverse a directory tree?</strong>\n       <em>(contributed by brian d foy)</em></p>\n\n<pre><code>   The File::Find module, which comes with Perl, does all of the hard work to traverse a\n   directory structure. It comes with Perl. You simply call the \"find\" subroutine with a\n   callback subroutine and the directories you want to traverse:\n\n       use File::Find;\n\n       find( \\&amp;wanted, @directories );\n\n       sub wanted {\n           # full path in $File::Find::name\n           # just filename in $_\n           ... do whatever you want to do ...\n       }\n\n   The File::Find::Closures, which you can download from CPAN, provides many ready-to-use\n   subroutines that you can use with File::Find.\n\n   The File::Finder, which you can download from CPAN, can help you create the callback\n   subroutine using something closer to the syntax of the \"find\" command-line utility:\n\n       use File::Find;\n       use File::Finder;\n\n       my $deep_dirs = File::Finder-&gt;depth-&gt;type('d')-&gt;ls-&gt;exec('rmdir','{}');\n\n       find( $deep_dirs-&gt;as_options, @places );\n\n   The File::Find::Rule module, which you can download from CPAN, has a similar interface,\n   but does the traversal for you too:\n\n       use File::Find::Rule;\n\n       my @files = File::Find::Rule-&gt;file()\n                                -&gt;name( '*.pm' )\n                                -&gt;in( @INC );\n</code></pre>\n"}], "owner": {"reputation": 688, "user_id": 3903913, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e6dd03d3c7ff5081545f69873197a23f?s=128&d=identicon&r=PG&f=1", "display_name": "Avinash Kumar Pandey", "link": "https://stackoverflow.com/users/3903913/avinash-kumar-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1124, "favorite_count": 0, "closed_date": 1455744291, "accepted_answer_id": 35451609, "answer_count": 3, "score": -3, "last_activity_date": 1455699172, "creation_date": 1455697420, "question_id": 35451343, "link": "https://stackoverflow.com/questions/35451343/perl-subroutine-to-return-all-files-recursively-in-a-directory", "closed_reason": "Needs details or clarity", "title": "Perl subroutine to return all files recursively in a directory", "body": "<p>I am a newcomer to perl, while I can write code to print all file names in a directory in perl, I am not sure how to write a subroutine which will return the same to its caller function</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 3, "creation_date": 1455690156, "post_id": 35449230, "comment_id": 58595851, "body": "Obligatory link for all questions asking for regex to parse XML: <a href=\"http://stackoverflow.com/a/1732454/18157\">stackoverflow.com/a/1732454/18157</a>"}, {"owner": {"reputation": 643, "user_id": 2790119, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86ff770ac58c010482ce38480cf3e0da?s=128&d=identicon&r=PG&f=1", "display_name": "Pooja Dubey", "link": "https://stackoverflow.com/users/2790119/pooja-dubey"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1455690466, "post_id": 35449230, "comment_id": 58596000, "body": "@JimGarrison what i have to do in my case please help in that"}, {"owner": {"reputation": 10668, "user_id": 3000179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c01224502223a420219f7f3531505d?s=128&d=identicon&r=PG", "display_name": "\u02b0\u1d48\u02d1", "link": "https://stackoverflow.com/users/3000179/%ca%b0%e1%b5%88%cb%91"}, "edited": false, "score": 0, "creation_date": 1455704891, "post_id": 35449230, "comment_id": 58604662, "body": "Why not just <a href=\"http://php.net/strip_tags\" rel=\"nofollow noreferrer\">strip_tags()</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 10668, "user_id": 3000179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c01224502223a420219f7f3531505d?s=128&d=identicon&r=PG", "display_name": "\u02b0\u1d48\u02d1", "link": "https://stackoverflow.com/users/3000179/%ca%b0%e1%b5%88%cb%91"}, "edited": false, "score": 0, "creation_date": 1455773769, "post_id": 35449230, "comment_id": 58641981, "body": "@\u02b0\u1d48\u02d1 Uhh... because this is Perl and not PHP?"}, {"owner": {"reputation": 10668, "user_id": 3000179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c01224502223a420219f7f3531505d?s=128&d=identicon&r=PG", "display_name": "\u02b0\u1d48\u02d1", "link": "https://stackoverflow.com/users/3000179/%ca%b0%e1%b5%88%cb%91"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455784642, "post_id": 35449230, "comment_id": 58647100, "body": "@MattJacob damn, miss read the tag somehow, idek :c"}], "answers": [{"comments": [{"owner": {"reputation": 10668, "user_id": 3000179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c01224502223a420219f7f3531505d?s=128&d=identicon&r=PG", "display_name": "\u02b0\u1d48\u02d1", "link": "https://stackoverflow.com/users/3000179/%ca%b0%e1%b5%88%cb%91"}, "edited": false, "score": 0, "creation_date": 1455704667, "post_id": 35453812, "comment_id": 58604479, "body": "As this answer stands now, it&#39;s <i>very</i> low quality (and it errors)"}], "tags": [], "owner": {"reputation": 41, "user_id": 3509459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae9b35e2585460fb9c6ae4959f13f18e?s=128&d=identicon&r=PG&f=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/3509459/sandeep"}, "is_accepted": false, "score": -1, "last_activity_date": 1455705395, "last_edit_date": 1455705395, "creation_date": 1455704317, "answer_id": 35453812, "question_id": 35449230, "link": "https://stackoverflow.com/questions/35449230/regex-to-replace-all-html-tag-except-br-and-p-tag-perl/35453812#35453812", "title": "Regex to replace all html tag except br and p tag perl", "body": "<p>In your regular expression, you did not mention substitution character or delimiter. In your case, you should substitute with space.\nRegular expression is: </p>\n\n<pre><code>$msg =~s/(&lt;((?!br|p)[^&gt;]+)&gt;)/ /ig;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1455706672, "last_edit_date": 1455706672, "creation_date": 1455706279, "answer_id": 35454565, "question_id": 35449230, "link": "https://stackoverflow.com/questions/35449230/regex-to-replace-all-html-tag-except-br-and-p-tag-perl/35454565#35454565", "title": "Regex to replace all html tag except br and p tag perl", "body": "<p>You need to deal with closing tags:</p>\n\n<pre><code>use Modern::Perl;\n\nmy $str = 'Wrong html &lt;a&gt; &lt;/I&gt; &lt;p&gt;My paragraph&lt;/p&gt; &lt;i&gt;Italics&lt;/i&gt; &lt;p class=\"blue\"&gt;second&lt;/p&gt; and the string is &lt;br&gt; after that test.';\n\n$str =~ s~&lt;(?!/?\\s*br|/?\\s*p)[^&gt;]+&gt;~~ig;\nsay $str;\n</code></pre>\n\n<p>You could also use package <a href=\"http://search.cpan.org/dist/HTML-StripTags/lib/HTML/StripTags.pm\" rel=\"nofollow\">HTML::StripTags</a>:</p>\n\n<pre><code>use HTML::StripTags qw(strip_tags);\n\nmy $str = 'Wrong html &lt;a&gt; &lt;/I&gt; &lt;p&gt;My paragraph&lt;/p&gt; &lt;i&gt;Italics&lt;/i&gt; &lt;p class=\"blue\"&gt;second&lt;/p&gt; and the string is &lt;br&gt; after that test.';\nmy $allowed_tags = '&lt;p&gt;&lt;br&gt;';\n\nsay strip_tags( $str, $allowed_tags );\n</code></pre>\n"}], "owner": {"reputation": 643, "user_id": 2790119, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86ff770ac58c010482ce38480cf3e0da?s=128&d=identicon&r=PG&f=1", "display_name": "Pooja Dubey", "link": "https://stackoverflow.com/users/2790119/pooja-dubey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1455706672, "creation_date": 1455689769, "question_id": 35449230, "link": "https://stackoverflow.com/questions/35449230/regex-to-replace-all-html-tag-except-br-and-p-tag-perl", "title": "Regex to replace all html tag except br and p tag perl", "body": "<p>I have a string in that i will be getting so many html tag i want to replace them with space .How can we do this please suggest me .This is my string :</p>\n\n<pre><code>Wrong html &lt;a&gt; &lt;/I&gt; &lt;p&gt;My paragraph&lt;/p&gt; &lt;i&gt;Italics&lt;/i&gt; &lt;p class=\"blue\"&gt;second&lt;/p&gt; and the string is &lt;br&gt; after that test.\n</code></pre>\n\n<p>I have tried this but this is not working accordingly:</p>\n\n<pre><code>$string =~ s/(&lt;((?!br|p)[^&gt;]+)&gt;)//ig;\n</code></pre>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 3, "creation_date": 1455682530, "post_id": 35447818, "comment_id": 58593146, "body": "<a href=\"https://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it\" rel=\"nofollow noreferrer\">TMTOWTDI</a>?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1455683464, "post_id": 35447818, "comment_id": 58593421, "body": "<code>perldoc perlstyle</code> recommends <code>No space between function name and its opening parenthesis.</code>  Using parentheses makes it clear that it is a user-defined function, as opposed to a built-in."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1455686480, "post_id": 35447818, "comment_id": 58594428, "body": "@xxfelixxx: Good info re space, but just to be clear: I assume you&#39;re recommending adopting the <i>convention</i> of calling all user-defined functions <i>with</i> parentheses, and built-ins <i>without</i> (technically, however, built-ins <i>can</i> be called <i>with</i> parentheses, and user-defined functions <i>can</i> be called <i>without</i> parentheses, if predeclared)."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 1, "creation_date": 1455725635, "post_id": 35447818, "comment_id": 58620095, "body": "The linked question that some consider this question to be a duplicate of has a different focus: The linked question knows under what circumstances parentheses are needed, and asks <i>why</i> that is so. By contrast, <i>this</i> question asks about <i>whether</i> parentheses are needed, whether a space in front of the opening parentheses matters, and when to choose which invocation style."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 1, "creation_date": 1455728247, "post_id": 35447818, "comment_id": 58621941, "body": "@mklement0 Agreed, voted to reopen. I&#39;m really surprised there isn&#39;t a suitable duplicate for this."}], "answers": [{"tags": [], "owner": {"reputation": 5916, "user_id": 3068258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7ecfa82e529a576cbc6ef661b9c9815?s=128&d=identicon&r=PG", "display_name": "Andy Schweig", "link": "https://stackoverflow.com/users/3068258/andy-schweig"}, "is_accepted": false, "score": 1, "last_activity_date": 1455683874, "creation_date": 1455683874, "answer_id": 35448055, "question_id": 35447818, "link": "https://stackoverflow.com/questions/35447818/perl-subroutines-do-they-need-to-be-called-with-parentheses/35448055#35448055", "title": "Perl subroutines - do they need to be called with parentheses?", "body": "<p>The parens are optional. You need them in some situations to explicitly show which values are the arguments to the function, for example, when passing the result of a function call to another function:</p>\n\n<pre><code>myfunc(1, 2, otherfunc(3), \"z\");\n</code></pre>\n\n<p>Without parens around the 3, <code>otherfunc</code> will receive both 3 and \"z\" as arguments.</p>\n\n<p>As xxfelixxx mentioned, it's best to use them all the time.</p>\n"}, {"tags": [], "owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "is_accepted": false, "score": 5, "last_activity_date": 1455691766, "last_edit_date": 1495540765, "creation_date": 1455690770, "answer_id": 35449492, "question_id": 35447818, "link": "https://stackoverflow.com/questions/35447818/perl-subroutines-do-they-need-to-be-called-with-parentheses/35449492#35449492", "title": "Perl subroutines - do they need to be called with parentheses?", "body": "<p><code>echo @ARGV</code>, <code>echo (@ARGV)</code>, and <code>echo(@ARGV)</code> are technically <em>all</em> correct in your case, but using <strong>parentheses</strong> is <strong><em>sometimes</em> necessary</strong>; beyond that, it's a <strong>matter of choice</strong>, and some people employ <strong>conventions</strong> around when to use what style.</p>\n\n<ul>\n<li><p><strong>Enclosing the entire argument list in parentheses ALWAYS works</strong> - whether spaces precede the opening parenthesis or not - <code>echo (@ARGV)</code> or <code>echo(@ARGV)</code> - and whether you're calling a built-in or user-defined function (subroutine):</p>\n\n<ul>\n<li>As @xxfelixxx notes in a comment on the question, <code>perldoc perlstyle</code> recommends <em>no</em> spaces between the function name and <code>(</code> - <code>echo(@ARGV)</code>.</li>\n<li>Enclosing the entire argument list in parentheses <strong>can be used to <em>disambiguate</em></strong>:\n\n<ul>\n<li><code>print (1 + 2) + 4</code> prints only <code>3</code>, because <code>(1 + 2)</code> is interpreted as the <em>entire</em> argument list (with <code>+ 4</code> added to the the expression value of the <code>print</code> call, the result of which is not output).</li>\n<li><code>print((1 + 2) + 4)</code> resolves the ambiguity and prints <code>7</code>.</li>\n<li>Alternatively, prefix the parenthesized first argument with <code>+</code> to achieve the same effect: <code>print +(1 + 2) + 4</code> also prints <code>7</code>.</li>\n</ul></li>\n</ul></li>\n<li><p><strong><em>Not</em> using parentheses</strong> - <code>echo @ARGV</code> - works:</p>\n\n<ul>\n<li>with <strong><em>built-in</em> functions: <em>always</em></strong></li>\n<li>with <strong><em>user-defined</em> functions: ONLY if they are <em>predeclared</em></strong>, which can be ensured in one of the following ways:\n\n<ul>\n<li>The function is <em>defined</em> in the same script <em>before</em> its invocation.</li>\n<li>The function is <em>forward-declared</em> with <code>sub &lt;name&gt;;</code> <em>before</em> its invocation.</li>\n<li>The function is <em>imported</em> from a module with <code>use</code> <em>before</em> its invocation (<code>require</code> is not enough).</li>\n</ul></li>\n<li>This predeclaration requirement is is an unfortunate side effect of backward compatibility with the earliest Perl versions - see <a href=\"https://stackoverflow.com/a/5992858/45375\">this answer</a>.</li>\n<li>In the <strong>absence of a predeclaration, the safest approach is to use parentheses</strong> (while <code>&amp;echo @ARGV</code> works in principle, it bypasses any prototypes (a form of parameter typing) that the function may declare).</li>\n</ul></li>\n</ul>\n\n<p>As for <strong>conventions</strong>:</p>\n\n<ul>\n<li>Since using parentheses <em>always works</em> (even when not strictly needed) with <em>user-defined</em> functions, whereas they are never <em>needed</em> for <em>built-in</em> functions, some people recommend <em>always</em> using parentheses with <em>user-defined</em> functions, and <em>never</em> with <em>built-in</em> functions.<br>\nIn source code that adheres to this convention, looking at any function call then tells you whether a built-on or user-defined function is being invoked.</li>\n</ul>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 3, "closed_date": 1455704773, "answer_count": 2, "score": 3, "last_activity_date": 1455725631, "creation_date": 1455682462, "last_edit_date": 1455725631, "question_id": 35447818, "link": "https://stackoverflow.com/questions/35447818/perl-subroutines-do-they-need-to-be-called-with-parentheses", "closed_reason": "Duplicate", "title": "Perl subroutines - do they need to be called with parentheses?", "body": "<p>I built a simple subroutine, and I have a question about whether calling it requires parentheses.  </p>\n\n<pre><code>#!/usr/bin/perl\nsub echo {\n    print \"@_ \\n\" ;\n}\necho(@ARGV);\n</code></pre>\n\n<p>When I use</p>\n\n<pre><code>echo @ARGV\n</code></pre>\n\n<p>or</p>\n\n<pre><code>echo (@ARGV)\n</code></pre>\n\n<p>or (without a space) </p>\n\n<pre><code>echo(@ARGV)\n</code></pre>\n\n<p>they all work. Which one is correct?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1455680671, "post_id": 35447471, "comment_id": 58592652, "body": "It&#39;s not that you want to delete that line, its that you want to re-write the file without the line."}, {"owner": {"reputation": 73, "user_id": 2449825, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c3c0acbb1839538ca2a64ee17f237719?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/2449825/tyler"}, "edited": false, "score": 0, "creation_date": 1455681013, "post_id": 35447471, "comment_id": 58592732, "body": "@sln O ok, Im planning on saving the new lines into an array."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1455681626, "post_id": 35447471, "comment_id": 58592907, "body": "You could use grep then."}, {"owner": {"reputation": 73, "user_id": 2449825, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c3c0acbb1839538ca2a64ee17f237719?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/2449825/tyler"}, "edited": false, "score": 0, "creation_date": 1455681908, "post_id": 35447471, "comment_id": 58592987, "body": "@sln how is that implemented?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1455681938, "post_id": 35447471, "comment_id": 58592998, "body": "Do a search for grep and Perl."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1455681983, "post_id": 35447471, "comment_id": 58593011, "body": "@Tyler Did you try perl one liner?"}], "answers": [{"tags": [], "owner": {"reputation": 1124, "user_id": 5844347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZzQU.png?s=128&g=1", "display_name": "dancancode", "link": "https://stackoverflow.com/users/5844347/dancancode"}, "is_accepted": false, "score": -1, "last_activity_date": 1455681929, "creation_date": 1455681929, "answer_id": 35447737, "question_id": 35447471, "link": "https://stackoverflow.com/questions/35447471/how-to-delete-string-if-it-contains-specific-character-using-regex-in-perl/35447737#35447737", "title": "How to delete string if it contains specific character using regex in perl?", "body": "<pre><code>$ echo -e 'aa\\nbb\\nab\\ncc' | \n  perl -e 'while (&lt;&gt;) { push @lines, $_ unless m/a/ } END { print @lines }'        \nbb\ncc\n</code></pre>\n\n<p>The push is inside a loop where <code>$_</code> is set to each subsequent line.  It appends the array <code>@lines</code> unless the given regular expression matches against <code>$_</code>.</p>\n"}], "owner": {"reputation": 73, "user_id": 2449825, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c3c0acbb1839538ca2a64ee17f237719?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/2449825/tyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1455688026, "creation_date": 1455680452, "question_id": 35447471, "link": "https://stackoverflow.com/questions/35447471/how-to-delete-string-if-it-contains-specific-character-using-regex-in-perl", "title": "How to delete string if it contains specific character using regex in perl?", "body": "<p>I have a loop that reads in each line of a file. In the loop I want to have a regex that tests the line for a specific character and if the line contains that character I want to delete that whole line. I am very new to perl regex and I can't seem to figure out how to put one together.</p>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 5837, "user_id": 543538, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/fhOS2.jpg?s=128&g=1", "display_name": "GrandMasterFlush", "link": "https://stackoverflow.com/users/543538/grandmasterflush"}, "edited": false, "score": 3, "creation_date": 1455667186, "post_id": 35445341, "comment_id": 58588775, "body": "What&#39;s your question?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5641127"}, "reply_to_user": {"reputation": 5837, "user_id": 543538, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/fhOS2.jpg?s=128&g=1", "display_name": "GrandMasterFlush", "link": "https://stackoverflow.com/users/543538/grandmasterflush"}, "edited": false, "score": 0, "creation_date": 1455670263, "post_id": 35445341, "comment_id": 58589684, "body": "Im not sure how to make it repeat until user doesnt enter a message! please help :("}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455686785, "post_id": 35445341, "comment_id": 58594547, "body": "What does it mean &quot;user doesn&#39;t enter a message&quot;? (And, how does the user enter messages? From the terminal?)  If something is waiting for user&#39;s message ... it&#39;ll wait. How would you abort on something that doesn&#39;t happen? A time-out?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455676091, "post_id": 35446318, "comment_id": 58591343, "body": "Huh, replace <code>my $line = &lt;FH&gt;;</code> with <code>while (my $line = &lt;FH&gt;) { ... }</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455677064, "post_id": 35446318, "comment_id": 58591592, "body": "Wherever you want to read lines from a file handle in a loop. [I&#39;m confused. You know what <code>fork</code> is, but you don&#39;t know how to read from a file handle?]"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455678068, "post_id": 35446318, "comment_id": 58591876, "body": "Yes,  you could do that instead of what I suggested (though you&#39;d have to add a <code>my</code> inside the <code>if</code> condition)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455678616, "post_id": 35446318, "comment_id": 58592042, "body": "Use <code>$$</code> to get the current process&#39;s PID"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455711498, "post_id": 35446318, "comment_id": 58609327, "body": "That makes no sense. You mean until the user <i>won&#39;t</i> enter another message.  How do you know when that is? Usually, the user would signal EOF (which I already showed you how to handle already), or the user would type in a specific command (<code>quit</code> or <code>exit</code>) that indicates his wish to exit (<code>last if $line =~ &#47;^(?:quit|exit)$&#47;;</code>)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1455711786, "last_edit_date": 1455711786, "creation_date": 1455672581, "answer_id": 35446318, "question_id": 35445341, "link": "https://stackoverflow.com/questions/35445341/perl-creating-a-pipe-and-fork-a-sub-process/35446318#35446318", "title": "Perl creating a pipe and fork a sub-process", "body": "<p>First of all, you are unintentionally creating two children. Replace</p>\n\n<pre><code>if ($pid = fork)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>if ($pid)\n</code></pre>\n\n<hr>\n\n<p>In the child, call</p>\n\n<pre><code>close(PIPE_WRITE);\n</code></pre>\n\n<p>In the parent, call</p>\n\n<pre><code>close(PIPE_READ);\n</code></pre>\n\n<p>In the parent (when done writing), call</p>\n\n<pre><code>close(PIPE_WRITE);\n</code></pre>\n\n<hr>\n\n<p>As for reading from a file handle until EOF or a specific command is entered,</p>\n\n<pre><code>while (my $line = &lt;&gt;) {\n   last if $line =~ /^(?:quit|exit)$/;\n   ...\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5641127"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455711786, "creation_date": 1455666927, "last_edit_date": 1455680643, "question_id": 35445341, "link": "https://stackoverflow.com/questions/35445341/perl-creating-a-pipe-and-fork-a-sub-process", "title": "Perl creating a pipe and fork a sub-process", "body": "<p>All im trying to do here is:</p>\n\n<ol>\n<li>Create a pipe</li>\n<li>Fork a sub-process</li>\n<li>Parent gets a message from the user, sends it to the child</li>\n<li>Child gets the message, prints it to the screen</li>\n<li>Repeat until user doesn't enter a message</li>\n</ol>\n\n<p>This is what I got now so far: I still need to implement a loop to repeat until user doesn't enter a message.</p>\n\n<pre><code>    #!perl -w\n    use strict\n\n    pipe(PIPE_READ, PIPE_WRITE);\n    autoflush PIPE_WRITE 1;\n    my $pid = fork();\n    if ($pid) {\n      &amp;write_pipe ($pid);\n      waitpid($pid,0);\n    } \n    elsif (defined $pid) {\n      &amp;read_pipe;\n    }\n    else {\n      die \"cannot fork: $!\";\n    }\n\n    sub write_pipe {\n        print \"pid $$ \\n\";\n        print \"Enter message: \";\n        sleep 1;\n        my $usr_msg = &lt;&gt;;\n        print \"Parent pid = $$  message = $usr_msg\";\n        print PIPE_WRITE \"$usr_msg\\n\";\n        close(PIPE_WRITE)\n        close(PIPE_READ);\n    }\n\n    sub read_pipe {\n        print \"child pid = $pid\";\n        my $msg_read = &lt;PIPE_READ&gt;;\n        close(PIPE_WRITE);\n        print \"received from pipe $msg_read\";\n    }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "edited": false, "score": 0, "creation_date": 1455664176, "post_id": 35444557, "comment_id": 58587682, "body": "can you tell us more about the file? like some lines have  &quot;[blah blah blah]&quot; and you want that line deleted? Your best bet would be to store the lines you do want in a scalar then when the loop terminates write out to a new file."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455664422, "post_id": 35444557, "comment_id": 58587794, "body": "The code you included doesn&#39;t even <i>attempt</i> to do what you&#39;ve described."}, {"owner": {"reputation": 73, "user_id": 2449825, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c3c0acbb1839538ca2a64ee17f237719?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/2449825/tyler"}, "edited": false, "score": 0, "creation_date": 1455670628, "post_id": 35444557, "comment_id": 58589811, "body": "Basically I would like to store each line in an array index so that I can search the array. I don&#39;t know perl all that well and it seems like declaring and manipulating arrays in perl is much different than say Java."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455671143, "post_id": 35444557, "comment_id": 58589982, "body": "Then why not use whichever language you&#39;re most familiar with?"}, {"owner": {"reputation": 73, "user_id": 2449825, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c3c0acbb1839538ca2a64ee17f237719?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/2449825/tyler"}, "edited": false, "score": 0, "creation_date": 1455672031, "post_id": 35444557, "comment_id": 58590233, "body": "I&#39;d like to learn perl because I want to broaden my knowledge of different languages."}, {"owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "edited": false, "score": 0, "creation_date": 1455672359, "post_id": 35444557, "comment_id": 58590318, "body": "@Tyler let me know if my answer is what you are looking for."}, {"owner": {"reputation": 73, "user_id": 2449825, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c3c0acbb1839538ca2a64ee17f237719?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/2449825/tyler"}, "reply_to_user": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "edited": false, "score": 0, "creation_date": 1455673987, "post_id": 35444557, "comment_id": 58590790, "body": "@Seekheart that is exactly what I was looking for, thank you!"}, {"owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "edited": false, "score": 0, "creation_date": 1455674007, "post_id": 35444557, "comment_id": 58590795, "body": "you are welcome buddy ;)"}, {"owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "edited": false, "score": 0, "creation_date": 1455674674, "post_id": 35444557, "comment_id": 58590990, "body": "@Tyler yes, the trick is to use a regex capture, you capture everything you want and then store it, thereby deleting everything else."}], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455671184, "post_id": 35445208, "comment_id": 58589991, "body": "Good point. However, if the line doesn&#39;t contain the delimiter, <code>index($_, $delim)</code> will return -1 and <code>substr($_, 0, -1)</code> will only chomp the newline (if the newline is a single character). Not that it&#39;s good practice to rely on such behavior."}, {"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455671387, "post_id": 35445208, "comment_id": 58590049, "body": "Added a regex solution for completeness."}, {"owner": {"reputation": 73, "user_id": 2449825, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c3c0acbb1839538ca2a64ee17f237719?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/2449825/tyler"}, "edited": false, "score": 2, "creation_date": 1455674824, "post_id": 35445208, "comment_id": 58591022, "body": "The regex answer was exactly what I was looking for, thank you @kba"}], "tags": [], "owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "is_accepted": false, "score": 2, "last_activity_date": 1455671370, "last_edit_date": 1455671370, "creation_date": 1455666090, "answer_id": 35445208, "question_id": 35444557, "link": "https://stackoverflow.com/questions/35444557/how-to-delete-all-characters-after-a-certain-character-in-each-line-in-perl/35445208#35445208", "title": "How to delete all characters after a certain character in each line in perl?", "body": "<p>To print up to the first occurence of a specific string <code>$delim</code>:</p>\n\n<pre><code>while (&lt;INFILE&gt;) {\n    printf \"%s\\n\", substr($_, 0, index($_, $delim));\n}\n</code></pre>\n\n<p>This finds the index of the first occurence of the string and prints from first character (<code>0</code>) up to but excluding the index of tat first occurence.</p>\n\n<p>Another option is to use a regex:</p>\n\n<pre><code>while (&lt;$fh&gt;) {\n    s/\\Q$delim\\E.*$//m;\n    print;\n}\n</code></pre>\n\n<p>Note the <code>\\Q</code> and <code>\\E</code> delimiters to prevent the regex engine from interpreting e.g. <code>[</code> as a regex metacharacter.</p>\n"}, {"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1455681261, "post_id": 35446276, "comment_id": 58592793, "body": "I don&#39;t know why used the while loop? If store the file into array, simply use <code>@arr = &lt;INFILE&gt;;</code>"}, {"owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1455683527, "post_id": 35446276, "comment_id": 58593443, "body": "You need to remove any trailing white spaces?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1455683741, "post_id": 35446276, "comment_id": 58593510, "body": "For removing whitespace <code>foreach my $item (@arr) { chomp $item; ... }</code>  it will enough. :)"}, {"owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1455684176, "post_id": 35446276, "comment_id": 58593651, "body": "Great just guess I&#39;m lucky to have been chosen"}, {"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 2, "creation_date": 1455696451, "post_id": 35446276, "comment_id": 58598901, "body": "This seems not related to the original post at all. Also, you don&#39;t need to assign an empty list . <code>my @arr;</code> does the same. Also, what&#39;s the point of reading a file into an array if you don&#39;t know how to process it, as the question implies? Seems wasteful."}], "tags": [], "owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "is_accepted": true, "score": -4, "last_activity_date": 1455672325, "creation_date": 1455672325, "answer_id": 35446276, "question_id": 35444557, "link": "https://stackoverflow.com/questions/35444557/how-to-delete-all-characters-after-a-certain-character-in-each-line-in-perl/35446276#35446276", "title": "How to delete all characters after a certain character in each line in perl?", "body": "<p>Since you mentioned you wanted to store the line in an array then do the following.</p>\n\n<pre><code>my @arr = ();\nwhile(&lt;INFILE&gt;){\n     chomp;\n     push @arr, $_;\n}\nforeach my $item (@arr){\n     #process lines as you see fit here\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 2449825, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c3c0acbb1839538ca2a64ee17f237719?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/2449825/tyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 35446276, "answer_count": 2, "score": -3, "last_activity_date": 1455672325, "creation_date": 1455663064, "question_id": 35444557, "link": "https://stackoverflow.com/questions/35444557/how-to-delete-all-characters-after-a-certain-character-in-each-line-in-perl", "title": "How to delete all characters after a certain character in each line in perl?", "body": "<p>I have a file that I am reading in and I am trying to delete everything after specific characters such as \"[\". I have listed the code I have below:</p>\n\n<pre><code>while($line = &lt;INFILE&gt;) {\n    print \"$line \\n\";\n}\n</code></pre>\n\n<p>Some lines will have \"[blah blah blah blah]\" and I need to delete everything after the first bracket including the first bracket per line, any help would be greatly appreciated!</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1455664032, "creation_date": 1455664032, "answer_id": 35444783, "question_id": 35444427, "link": "https://stackoverflow.com/questions/35444427/perl-cant-locate-object-method-echo-via-package-iofile-at-echo-pl/35444783#35444783", "title": "PERL Can&#39;t locate object method &quot;echo&quot; via package &quot;IO::File&quot; at ./echo.pl", "body": "<pre><code>echo ARGV\n</code></pre>\n\n<p>is interpreted by Perl as \"indirect object notation\", i.e. the same as</p>\n\n<pre><code>ARGV-&gt;echo\n</code></pre>\n\n<p><a href=\"http://p3rl.org/perlvar#ARGV\" rel=\"nofollow\">ARGV</a>\n is a special file handle, its methods come form <a href=\"http://p3rl.org/IO::File\" rel=\"nofollow\">IO::File</a> - but there's no <code>echo</code> method there.</p>\n"}, {"tags": [], "owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "is_accepted": false, "score": 0, "last_activity_date": 1455664855, "creation_date": 1455664855, "answer_id": 35444967, "question_id": 35444427, "link": "https://stackoverflow.com/questions/35444427/perl-cant-locate-object-method-echo-via-package-iofile-at-echo-pl/35444967#35444967", "title": "PERL Can&#39;t locate object method &quot;echo&quot; via package &quot;IO::File&quot; at ./echo.pl", "body": "<p>what you are looking for should be this.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\n\nsub echo {\n     my @params = @_;\n     print \"@params\\n\";\n}\n\necho(@ARGV);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1455789715, "creation_date": 1455789715, "answer_id": 35478297, "question_id": 35444427, "link": "https://stackoverflow.com/questions/35444427/perl-cant-locate-object-method-echo-via-package-iofile-at-echo-pl/35478297#35478297", "title": "PERL Can&#39;t locate object method &quot;echo&quot; via package &quot;IO::File&quot; at ./echo.pl", "body": "<p>The book is <a href=\"http://www.greenteapress.com/perl/perl.pdf\" rel=\"nofollow\">online here</a>. This program is on page 4 (going by the page numbers). It is:</p>\n\n<pre><code>sub echo {\n    print \"@_\\n\";\n}\necho @ARGV\n</code></pre>\n\n<p>So this is just a typo. You have <code>ARGV</code> where you wanted <code>@ARGV</code>.</p>\n\n<p>That book is from 2003. A lot has changed in Perl since then. You might well be better off looking at <a href=\"http://modernperlbooks.com/\" rel=\"nofollow\">Modern Perl</a> instead.</p>\n"}], "owner": {"reputation": 111, "user_id": 4431006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2aeebcb9b041e9d0cc275b16e39d6fe?s=128&d=identicon&r=PG&f=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/4431006/edu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "accepted_answer_id": 35444783, "answer_count": 3, "score": -1, "last_activity_date": 1455789715, "creation_date": 1455662447, "question_id": 35444427, "link": "https://stackoverflow.com/questions/35444427/perl-cant-locate-object-method-echo-via-package-iofile-at-echo-pl", "title": "PERL Can&#39;t locate object method &quot;echo&quot; via package &quot;IO::File&quot; at ./echo.pl", "body": "<p>I'm learning Perl by following the book \"Learning Perl the Hard Way\" by Allen B. Downey. It instructs me to execute the following code \"echo.pl\":</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\n\nsub echo {\n    my @params = @_;\n    print \"@params\\n\";\n}\n\necho ARGV\n</code></pre>\n\n<p>Testing the code returns:</p>\n\n<pre><code>$./echo.pl TEST NOW\nCan't locate object method \"echo\" via package \"IO::File\" at ./echo.pl\nline 10.\n</code></pre>\n\n<p>It should return:</p>\n\n<pre><code>TEST NOW\n</code></pre>\n\n<p>What is wrong?</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 1, "user_id": 5937335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f38ac5ac77314b8828ae9745a82144ef?s=128&d=identicon&r=PG&f=1", "display_name": "VivekGh", "link": "https://stackoverflow.com/users/5937335/vivekgh"}, "edited": false, "score": 0, "creation_date": 1455659422, "post_id": 35443690, "comment_id": 58585392, "body": "my $commanLine = &quot;. SetConnection.sh -n $TaskName&quot;; system $commanLine; my $dbConnectString = &quot;$ENV{&#39;DB_USER&#39;}/$ENV{&#39;DB_PASSWORD&#39;}&quot;; print &quot;$dbConnectString&quot;;"}, {"owner": {"reputation": 2529, "user_id": 3705348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lJzyW.jpg?s=128&g=1", "display_name": "jaredbaszler", "link": "https://stackoverflow.com/users/3705348/jaredbaszler"}, "edited": false, "score": 0, "creation_date": 1455659923, "post_id": 35443690, "comment_id": 58585703, "body": "Include your code snippet that you have in your comment in your original post.  Use the code format tool in the text editor."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1455661710, "post_id": 35443690, "comment_id": 58586632, "body": "<code>system</code> forks a child process. What you want to do is impossible. (Or, rather, the way you want to do it is impossible.)"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 3, "creation_date": 1455662840, "post_id": 35443690, "comment_id": 58587136, "body": "You don&#39;t. This isn&#39;t because of perl, processes simply don&#39;t work that way."}], "answers": [{"tags": [], "owner": {"reputation": 71199, "user_id": 1301972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/T5G7N.jpg?s=128&g=1", "display_name": "Todd A. Jacobs", "link": "https://stackoverflow.com/users/1301972/todd-a-jacobs"}, "is_accepted": false, "score": 1, "last_activity_date": 1455663976, "creation_date": 1455663976, "answer_id": 35444771, "question_id": 35443690, "link": "https://stackoverflow.com/questions/35443690/how-to-use-environment-variables-exported-by-child-shell-script-in-parent-perl-s/35444771#35444771", "title": "How to use environment variables exported by child shell script in parent Perl script?", "body": "<h2>TL;DR</h2>\n\n<p>Exported variables are inherited by child processes from the parent. You <em>can't</em> modify the environment of the parent process from the child directly, but you can certainly exchange data using files, pipes, or other forms of interprocess communication.</p>\n\n<h2>Source a Perl File Holding Variables</h2>\n\n<p>The easiest solution is to have the child process write a file that can then be sourced by the parent. For example, security issues aside, <em>SetConnection.sh</em> could write to a file like <em>/tmp/variables.pl</em>, which you could then source as a Perl script inside the parent script.</p>\n\n<p>For example, consider the following file, presumably written by the child process:</p>\n\n<pre><code># /tmp/foo.pl\n$foo='bar';\n</code></pre>\n\n<p>Now you <code>require</code> the file in your parent script:</p>\n\n<pre><code>$ perl -e 'require \"/tmp/foo.pl\"; print \"$foo\\n\"'\nbar\n</code></pre>\n\n<p>This isn't really very secure, but it <em>does</em> work. Think of it as similar to <code>eval</code>, along with race conditions and access issues. Nevertheless, it's a very pragmatic solution.</p>\n\n<h2>Use a Real Configuration File</h2>\n\n<p>Alternatively, you could use a format like JSON, YAML, or CSV (created any way you like, including by your child process) to create a configuration file which you could then parse for values. This is generally the best approach, but your use case may vary.</p>\n\n<p>The benefit of this approach is that you can validate and sanitize values, and don't need to worry about the security or uniqueness of temp files. It's really the right way to do these things, but will require much more work on your part.</p>\n"}], "owner": {"reputation": 1, "user_id": 5937335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f38ac5ac77314b8828ae9745a82144ef?s=128&d=identicon&r=PG&f=1", "display_name": "VivekGh", "link": "https://stackoverflow.com/users/5937335/vivekgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1455663976, "creation_date": 1455659371, "last_edit_date": 1455662742, "question_id": 35443690, "link": "https://stackoverflow.com/questions/35443690/how-to-use-environment-variables-exported-by-child-shell-script-in-parent-perl-s", "title": "How to use environment variables exported by child shell script in parent Perl script?", "body": "<p>From my PERL script, I am calling child shell script.\nThere are few db environment variables which are exported by child shell script\nBut when I try to use those in <code>perl</code> script, they are not shown. Here is my code:</p>\n\n<pre><code>my $commanLine = \". SetConnection.sh -n $TaskName\"; \nsystem $commanLine; \nmy $dbConnectString = \"$ENV{'DB_USER'}/$ENV{'DB_PASSWORD'}\"; \nprint \"$dbConnectString\";\n</code></pre>\n\n<p>Please suggest.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1455641410, "post_id": 35438260, "comment_id": 58574630, "body": "<a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\"><code>grep</code></a> returns all things that match the supplied pattern <code>&#47;\\d{4}-\\d{2}-\\d{2}&#47;</code>. Since each output of <code>passwd -S &lt;username&gt;</code> matches that pattern, this means that all results will be returned. If you want to extract <i>only</i> the date you could/should use <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\"><code>map</code></a> and a regular expression capturing group."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455660725, "post_id": 35438260, "comment_id": 58586139, "body": "You got nice solutions but note a new one, with the whole record built in one line."}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "edited": false, "score": 0, "creation_date": 1455644550, "post_id": 35438512, "comment_id": 58576696, "body": "This worked great, the only problem im having now is that i want the output to match each user. So like this:  user1:2016-02-16  user2:2016-01-12  I tried using &quot;print &quot;$splitpass\\n&quot;. $user&quot; but that didn&#39;t turn out correct."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "edited": false, "score": 0, "creation_date": 1455644628, "post_id": 35438512, "comment_id": 58576746, "body": "So just <code>print &quot;$user:$splitpass\\n&quot;</code>?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1455641897, "creation_date": 1455641897, "answer_id": 35438512, "question_id": 35438260, "link": "https://stackoverflow.com/questions/35438260/grep-with-regular-expression-returns-everything/35438512#35438512", "title": "Grep with regular expression returns everything", "body": "<p><a href=\"http://p3rl.org/grep\">grep</a> selects elements of a list. If you want to match a part of a string, don't use <code>grep</code>, use matching:</p>\n\n<pre><code>sub PasswordAge {\n    for my $user (@users) {\n        my $pass = qx(passwd -S $user);\n        my ($splitpass) = $pass =~ /(\\d{4}-\\d{2}-\\d{2})/;\n        print $splitpass;\n    }\n}\n</code></pre>\n\n<p>The parentheses around $splitpass force list context to the assignment, in which the matching returns the captured matches. That's why I surrounded the regex in parentheses - they create a capture group.</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 2, "last_activity_date": 1455642693, "creation_date": 1455642693, "answer_id": 35438816, "question_id": 35438260, "link": "https://stackoverflow.com/questions/35438260/grep-with-regular-expression-returns-everything/35438816#35438816", "title": "Grep with regular expression returns everything", "body": "<p>While you <em>could</em> use a regular expression in this situation, you don't really need to. You could just as easily use <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split()</code></a>:</p>\n\n<pre><code>my $pass = 'user PS 2016-02-16 0 99999 7 -1 (Password set, SHA512 crypt.)';\nmy @parts = split(' ', $pass);\nprint \"[$parts[2]]\\n\";\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>my $date = (split(' ', $pass))[2];\nprint \"[$date]\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[2016-02-16]\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 35438512, "answer_count": 2, "score": 1, "last_activity_date": 1468907613, "creation_date": 1455641197, "last_edit_date": 1455642071, "question_id": 35438260, "link": "https://stackoverflow.com/questions/35438260/grep-with-regular-expression-returns-everything", "title": "Grep with regular expression returns everything", "body": "<p>I'm trying to to get the date from the linux command \"passwd\". What im doing is this, i am storing users in the array @user and i want to run the command \"passwd -S\" on every user. When i i run \"passwd -S user1\" it returns this:</p>\n\n<pre><code>user PS 2016-02-16 0 99999 7 -1 (Password set, SHA512 crypt.)\n</code></pre>\n\n<p>I came up with a regular expression to only get the date from that string, the regex looks like this:'</p>\n\n<pre><code>\\d{4}-\\d{2}-\\d{2}\n</code></pre>\n\n<p>However when i combine that with grep i cannot seem to get it to work, it still outputs the full output from the \"passwd\" command. Here is the code:</p>\n\n<pre><code>PasswordAge();\n\nsub PasswordAge {\n    for my $loop (@user) {\n        my $pass =qx(passwd -S $loop);\n        my @splitpass = grep {/\\d{4}-\\d{2}-\\d{2}/} $pass;\n        print @splitpass;\n    }\n}\n</code></pre>\n"}, {"tags": ["mysql", "perl", "unix"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455637237, "post_id": 35436742, "comment_id": 58571536, "body": "Have you decided on a database layout yet? Please <a href=\"https://stackoverflow.com/posts/35436742/edit\">edit</a> your question and share that as well. It looks to me like what you need is to normalize your DB."}, {"owner": {"reputation": 235, "user_id": 2642601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e6c5608a430d1611a0bf9b4209d48dbb?s=128&d=identicon&r=PG", "display_name": "user2642601", "link": "https://stackoverflow.com/users/2642601/user2642601"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455637458, "post_id": 35436742, "comment_id": 58571709, "body": "I have shared the db structure."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455637591, "post_id": 35436742, "comment_id": 58571813, "body": "What data type is <code>opened_ports</code>?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1455638578, "post_id": 35436742, "comment_id": 58572547, "body": "Change that, then. What is the real problem here?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1455638702, "post_id": 35436742, "comment_id": 58572645, "body": "With a single column for multiple port numbers, your database will not be in <a href=\"https://en.wikipedia.org/wiki/First_normal_form\" rel=\"nofollow noreferrer\">1NF</a>. If you want it to be, create a second table with columns (<code>id</code>, <code>port</code>). Every entry in the <code>port</code> column will be a single port number."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1455639216, "post_id": 35436742, "comment_id": 58573021, "body": "@reinierpost I got distracted while writing my answer, I didn&#39;t want to steal your comment ;)"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1455639524, "post_id": 35436742, "comment_id": 58573264, "body": "Great to see it turned into an answer!"}], "answers": [{"comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1455638763, "post_id": 35437078, "comment_id": 58572697, "body": "The problem is that there may be any number of port numbers for the same IP address."}, {"owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1455639636, "post_id": 35437078, "comment_id": 58573340, "body": "Each row in the database is unique by &quot;id&quot; not by &quot;ip&quot;  so multiple rows with the same ip can be inserted"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455641070, "post_id": 35437078, "comment_id": 58574410, "body": "Actually you don&#39;t know that. OP didn&#39;t say that in the question. Might as well have a unique index."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1455642693, "post_id": 35437078, "comment_id": 58575524, "body": "It is probably true, but this won&#39;t produce a normalized database (not in 3NF). The OP must tell whether that is acceptable."}, {"owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "edited": false, "score": 0, "creation_date": 1455649615, "post_id": 35437078, "comment_id": 58579884, "body": "My answer does fit in with the OP&#39;s script and sketchy description of their database.  And that&#39;s the magic of SO"}, {"owner": {"reputation": 235, "user_id": 2642601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e6c5608a430d1611a0bf9b4209d48dbb?s=128&d=identicon&r=PG", "display_name": "user2642601", "link": "https://stackoverflow.com/users/2642601/user2642601"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1455695574, "post_id": 35437078, "comment_id": 58598442, "body": "@reinierpost  is right ,the main problem is that there are several number of port numbers for the same IP address. And i do not know how to combine them so i can receive similar output in the db:    <code>|10.20.1.19 | fc:15:b4:31:77:76 | 21,80,22 | Hewlett Packard | 2016-02-15 15:50:19 |</code>"}, {"owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "edited": false, "score": 0, "creation_date": 1455706951, "post_id": 35437078, "comment_id": 58606150, "body": "I have updated the answer with an example schema that works and a query that gives the type of output required"}], "tags": [], "owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "is_accepted": false, "score": 0, "last_activity_date": 1455706970, "last_edit_date": 1455706970, "creation_date": 1455638053, "answer_id": 35437078, "question_id": 35436742, "link": "https://stackoverflow.com/questions/35436742/perl-script-for-checking-network/35437078#35437078", "title": "Perl script for checking network", "body": "<p>Below the initial print statement <code>print \"$mac  $vendor  \";</code> you know the mac vendor host and date at this point so <code>prepare</code> an insert statement with a placeholder <code>(?)</code> for the port number</p>\n\n<p>Then at the line to print the port number add an execute statement with the port in the placeholder position</p>\n\n<p>To do the reporting use a schema like this</p>\n\n<pre><code>create table scan (\n  id int,\n  ip char(15),\n  mac char(20),\n  opened_ports int,\n  vendor varchar(255),\n  d datetime\n  );\n</code></pre>\n\n<p>here is test data based on your examples above</p>\n\n<pre><code>INSERT INTO SCAN (Id,IP,MAC,OPENED_PORTS,VENDOR,D) VALUES(1,'10.20.1.19','fc:15:b4:31:77:76',25,'Hewlett Packard','2016-02-15 15:50:19');\nINSERT INTO SCAN (Id,IP,MAC,OPENED_PORTS,VENDOR,D) VALUES(2,'10.20.1.20','e8:39:35:25:dd:36',80,'Hewlett Packard','2016-02-15 15:50:19');\nINSERT INTO SCAN (Id,IP,MAC,OPENED_PORTS,VENDOR,D) VALUES(3,'10.20.1.21','8c:dc:d4:5d:21:7b',8080,'Hewlett Packard','2016-02-15 15:50:19');\nINSERT INTO SCAN (Id,IP,MAC,OPENED_PORTS,VENDOR,D) VALUES(4,'10.20.1.18','38:ea:a7:6f:d9:05',137,'Hewlett Packard','2016-02-15 16:02:09');\nINSERT INTO SCAN (Id,IP,MAC,OPENED_PORTS,VENDOR,D) VALUES(5,'10.20.1.19','fc:15:b4:31:77:76',443,'Hewlett Packard','2016-02-15 16:02:09');\nINSERT INTO SCAN (Id,IP,MAC,OPENED_PORTS,VENDOR,D) VALUES(6,'10.20.1.20','e8:39:35:25:dd:36',8080,'Hewlett Packard','2016-02-15 16:02:10');\nINSERT INTO SCAN (Id,IP,MAC,OPENED_PORTS,VENDOR,D) VALUES(7,'10.20.1.21','8c:dc:d4:5d:21:7b',22,'Hewlett Packard','2016-02-15 16:02:10');\n</code></pre>\n\n<p>and here is a query that makes output as required</p>\n\n<pre><code>select ip,mac,GROUP_CONCAT(opened_ports) as port,vendor, d from scan group by ip;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1455639163, "creation_date": 1455639163, "answer_id": 35437480, "question_id": 35436742, "link": "https://stackoverflow.com/questions/35436742/perl-script-for-checking-network/35437480#35437480", "title": "Perl script for checking network", "body": "<p><a href=\"https://en.wikipedia.org/wiki/Database_normalization\" rel=\"nofollow\">Your database is not normalized</a>. You have a basic 1:N relation where each line can have zero or more <code>opened_ports</code>. </p>\n\n<p>The correct way to deal with that is to create a second table and have N rows per <code>id</code>. It would look something like this:</p>\n\n<pre><code>+-------+--------------+\n| id_fk | opened_ports |\n+-------+--------------+\n|  1    | 22           |\n|  1    | 80           |\n|  3    | 22           |\n+-------+--------------+\n</code></pre>\n\n<p>Then you remove the column <code>opened_ports</code> fro your main table, and link them through the <code>id</code>.</p>\n\n<p>In your Perl program, you need to now do two inserts. The first one will be for the large table, which will also create your (probably auto_increment) <code>id</code>. You can fetch that by calling <a href=\"https://metacpan.org/pod/DBI#last_insert_id\" rel=\"nofollow\"><code>$dbh-&gt;last_insert_id</code></a>. After that, you use it to do subsequent second insert statements (or a combined one) on the small table that holds the ports.</p>\n"}], "owner": {"reputation": 235, "user_id": 2642601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e6c5608a430d1611a0bf9b4209d48dbb?s=128&d=identicon&r=PG", "display_name": "user2642601", "link": "https://stackoverflow.com/users/2642601/user2642601"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1456919263, "creation_date": 1455637142, "last_edit_date": 1456919263, "question_id": 35436742, "link": "https://stackoverflow.com/questions/35436742/perl-script-for-checking-network", "title": "Perl script for checking network", "body": "<p>I am new to Perl and for practice I am writing a simple perl script to check my home network for available ip addresses and check their mac address , vendor and opened ports for each of them.\nAll that information i want to put in mysql db.\nHere is my code:</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\nuse Net::Ping;\nuse Net::ARP;\nuse DBI;\nuse IO::Socket::PortState qw(check_ports);\nrequire config;\nmy $proto   = 'tcp';\nmy @ports    = (21,22,23,80,8080);\nmy $address;\nmy $ping_timeout = 1;\nmy $host;\nfor my $i (18..21)\n{\n        $host = \"10.20.1.$i\";\n        my $timeout = 1;\n        my $pinger  = Net::Ping-&gt;new('icmp', $timeout);\n        print \"$host  \";\n        if ($pinger-&gt;ping($host))\n        {\n                my $mac = Net::ARP::arp_lookup(\"em0\",\"$host\");\n                my $vendor = vendor_lookup($mac);\n                $vendor=~ s/^\\s+|\\s+$//g;\n                print \"$mac  $vendor  \";\n                foreach my $port (@ports)\n                {\n                        my($section, $ping_timeout, %porthash);\n                        $porthash{$proto}{$port}{'name'} = $section;\n                        check_ports($host, $ping_timeout, \\%porthash);\n                        my $open = $porthash{$proto}{$port}{'open'};\n                        if ($open) {\n                                print \"$port \";\n                        }\n                }\n                print \"\\n\";\n        }\n}\n</code></pre>\n\n<p>If i run the script i will receive something like that:</p>\n\n<pre><code>10.20.1.18  38:ea:a7:6f:d9:05  Hewlett Packard  80 8080 \n10.20.1.19  fc:15:b4:31:77:76  Hewlett Packard  80 8080 \n10.20.1.20  e8:39:35:25:dd:36  Hewlett Packard  22 80 \n</code></pre>\n\n<p>My problem is that i don't seem to find an answer how to combine all that information ($host,$mac,$vendor,$port) and put it in the database cause if we put the $port variable in @array it will have a different size from the other arrays. </p>\n\n<p>My database structure is looking like that:</p>\n\n<pre><code>+----+------------+-------------------+--------------+-----------------+---------------------+\n| id | ip         | mac               | opened_ports | vendor          | date                |\n+----+------------+-------------------+--------------+-----------------+---------------------+\n|  1 | 10.20.1.19 | fc:15:b4:31:77:76 | NULL         | Hewlett Packard | 2016-02-15 15:50:19 |\n|  2 | 10.20.1.20 | e8:39:35:25:dd:36 | NULL         | Hewlett Packard | 2016-02-15 15:50:19 |\n|  3 | 10.20.1.21 | 8c:dc:d4:5d:21:7b | NULL         | Hewlett Packard | 2016-02-15 15:50:19 |\n|  4 | 10.20.1.18 | 38:ea:a7:6f:d9:05 | NULL         | Hewlett Packard | 2016-02-15 16:02:09 |\n|  5 | 10.20.1.19 | fc:15:b4:31:77:76 | NULL         | Hewlett Packard | 2016-02-15 16:02:09 |\n|  6 | 10.20.1.20 | e8:39:35:25:dd:36 | NULL         | Hewlett Packard | 2016-02-15 16:02:10 |\n|  7 | 10.20.1.21 | 8c:dc:d4:5d:21:7b | NULL         | Hewlett Packard | 2016-02-15 16:02:10 |\n+----+------------+-------------------+--------------+-----------------+---------------------+\n</code></pre>\n\n<p>This is imported information without the information for the opened ports.</p>\n"}, {"tags": ["perl", "sorting"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1455645276, "post_id": 35435908, "comment_id": 58577168, "body": "Instead of reading /etc/passwd have you looked into using the built-in <code>getpwent</code> function?  It may prove to be a little more PAM friendly..."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1455636034, "creation_date": 1455636034, "answer_id": 35436287, "question_id": 35435908, "link": "https://stackoverflow.com/questions/35435908/sorting-variables-in-perl/35436287#35436287", "title": "Sorting variables in perl", "body": "<p>You only have one login counter. In order to sort the users by login count, you will need each user's login count.</p>\n\n<pre><code>my %logins_by_user;\nfor my $user (@users) {\n   $logins_by_user{$user} = grep /^\\Q$user\\E /, `last '$user'`;\n}\n\nfor my $user (\n   sort { $logins_by_user{$b} &lt;=&gt; $logins_by_user{$a}  ||  $a cmp $b } @users\n) {\n    print(\"$user: $logins_by_user{$user}\\n\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455636461, "post_id": 35436361, "comment_id": 58570911, "body": "<code>grep</code> in scalar context returns the number of matches. No need for that wasteful array. /// That regex is really poor. If my user name was my initials (<code>eb</code>), the count would be off by one when <code>wtmp</code> begins in February. /// You really should handle the order of users with the same login count better than that!"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455698424, "post_id": 35436361, "comment_id": 58600012, "body": "The wasteful array is deliberate, to make it more clear to the OP what&#39;s going on. The rest... well... I seem to have been having an off day."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455711404, "post_id": 35436361, "comment_id": 58609254, "body": "Again, could have made it a scalar (<code>my $num_logins = </code>) to get the same effect."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 0, "last_activity_date": 1455636178, "creation_date": 1455636178, "answer_id": 35436361, "question_id": 35435908, "link": "https://stackoverflow.com/questions/35435908/sorting-variables-in-perl/35436361#35436361", "title": "Sorting variables in perl", "body": "<p>Here's a version which uses a hash and prints the users sorted by login count:</p>\n\n<pre><code>#!/usr/bin/env perl    \n\nuse strict;\nuse warnings;\nuse 5.010;\n\nopen(my $passwd, \"&lt;\", \"/etc/passwd\") or die \"/etc/passwd failed to open.\\n\";\n\nmy %login_count;\nwhile (&lt;$passwd&gt;) {\n  my @splitarray = split(/\\:/);\n  if ($splitarray[2] &gt;= 1000 &amp;&amp; $splitarray[2] &lt; 65000) {\n    my $user   = $splitarray[0];\n    my @logins = qx(last $user);\n\n    # Remove lines that don't mention the user name\n    @logins = grep /$user/, @logins;\n\n    # Using an array in scalar context returns the number of items in the array\n    $login_count{$user} = @logins;\n  }\n}\nclose $passwd;\n\n# List users sorted by login count\nsay \"$_ : $login_count{$_}\"\n  for sort { $login_count{$a} cmp $login_count{$b} } keys %login_count;\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 35436287, "answer_count": 2, "score": 0, "last_activity_date": 1455668277, "creation_date": 1455634990, "last_edit_date": 1455668277, "question_id": 35435908, "link": "https://stackoverflow.com/questions/35435908/sorting-variables-in-perl", "title": "Sorting variables in perl", "body": "<p>Here is the code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy @user;\nmy $count = 0;\nmy @test;\nmy @last = qx(last);\nmy @logins;\n\n# Opens the file /etc/passwd and puts the users with an uid\n# over 1000 but less that 65000 into an array.\nopen( my $passwd, \"&lt;\", \"/etc/passwd\") or die \"/etc/passwd failed to open.\\n\";\n\nwhile (my $lines = &lt;$passwd&gt;) {\n    my @splitarray = split(/\\:/, $lines );\n\n    if( $splitarray[2] &gt;= 1000 &amp;&amp; $splitarray[2] &lt; 65000) {\n        $user[$count] = $splitarray[0];\n        #print \"$user[$count]\\n\";\n        $count++;\n    }\n}\nclose $passwd;\n\nfor my $i (0 .. $#user) {\n    my $counter = 0;\n    @logins =qx(last $user[$i]);\n    for my $j (0 .. $#logins) {\n        if ($logins[$j] =~ /$user[$i]/) {\n            $counter++;\n        }\n    }\n\n    print $user[$i] . \":\" . $counter . \"\\n\";\n}\n</code></pre>\n\n<p>And the output from this looks like this:</p>\n\n<pre><code>user1:15\nuser2:3\nuser3:6\nuser4:2\n</code></pre>\n\n<p>How can i sort this so that it shows the users with the most logins at the top? I tried with a hash but couldn't seem to get it right. Since they are not arrays i don't know how to sort them.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 1, "creation_date": 1455627795, "post_id": 35433303, "comment_id": 58564685, "body": "<a href=\"http://perldoc.perl.org/perlre.html#%2fx\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html#%2fx</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1455632018, "post_id": 35433446, "comment_id": 58567754, "body": "It would be useful if you explained what the commands do."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 6, "last_activity_date": 1455632963, "last_edit_date": 1455632963, "creation_date": 1455627942, "answer_id": 35433446, "question_id": 35433303, "link": "https://stackoverflow.com/questions/35433303/make-regex-more-readable/35433446#35433446", "title": "Make regex more readable", "body": "<p>Add the <code>/x</code> modifier which ignores whitespace in the regex:</p>\n\n<pre><code>if ($var =~ / ( word1 |  \n                word2 |\n                word3\n              )/x\n    ) {\n</code></pre>\n\n<p>You can also build the regex from a list by joining the words by <code>|</code> and using the <code>qr</code> operator to create a regex:</p>\n\n<pre><code>my $regex = join '|', qw( word1\n                          word2\n                          word3\n                        );\n$regex = qr/($regex)/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455647176, "post_id": 35439060, "comment_id": 58578370, "body": "That equivalent to <code>&#47;^(word1|word2|word3|word4)\\z&#47;</code>, not <code>&#47;(word1|word2|word3|word4)&#47;</code>. But that could very well be what the OP wants."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455647384, "post_id": 35439060, "comment_id": 58578483, "body": "@ikegami Yes, I was reading into the question a little. It&#39;s not very clear and doesn&#39;t contain actual code, so it&#39;s hard to say."}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "edited": false, "score": 0, "creation_date": 1455650527, "post_id": 35439060, "comment_id": 58580415, "body": "No I don&#39;t want it to be start of line or end of line."}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455650547, "post_id": 35439060, "comment_id": 58580429, "body": "@ikegami:You are right. I want <code>&#47;(word1|word2|word3|word4)&#47;</code>"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 2, "last_activity_date": 1455643371, "creation_date": 1455643371, "answer_id": 35439060, "question_id": 35433303, "link": "https://stackoverflow.com/questions/35433303/make-regex-more-readable/35439060#35439060", "title": "Make regex more readable", "body": "<p>You could make your regular expression more readable by... not using a regular expression in the first place. If your real code is actually as straightforward as your example (i.e., just matching alternate strings without any pattern matching), why not use a hash instead?</p>\n\n<pre><code>my $var = 'word1';\nmy %lookup = map { $_ =&gt; 1 } qw(word1 word2 word3 word4);\n\nif ($lookup{$var}) {\n    # do something...\n}\n</code></pre>\n"}], "owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "closed_date": 1455744552, "answer_count": 2, "score": 1, "last_activity_date": 1455643371, "creation_date": 1455627583, "question_id": 35433303, "link": "https://stackoverflow.com/questions/35433303/make-regex-more-readable", "closed_reason": "Duplicate", "title": "Make regex more readable", "body": "<p>I have a long reggex like this:<br>\n<code>if( $var =~ /(word1|word2|word3|word4)/</code> but actually I have much more than 4 words and they are much bigger.<br>\nHow can I add new lines to make it more readable without breaking the reggex?<br>\nE.g.  </p>\n\n<pre><code>if($var =~ /(word1 |  \n                  word2 |  etc\n</code></pre>\n"}, {"tags": ["regex", "linux", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1455626220, "post_id": 35432611, "comment_id": 58563551, "body": "Don&#39;t use pastebin. Enter the relevant parts of the code here."}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1455627650, "post_id": 35432611, "comment_id": 58564566, "body": "Which information do you actually need from this line? The whole line could be selected with <a href=\"https://regex101.com/r/rU2yE6/1\" rel=\"nofollow noreferrer\"><code>^(user(?:\\h+:0){2}.*)</code></a> for example."}], "answers": [{"tags": [], "owner": {"reputation": 28, "user_id": 5935316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GcGAb.jpg?s=128&g=1", "display_name": "Denny", "link": "https://stackoverflow.com/users/5935316/denny"}, "is_accepted": true, "score": 1, "last_activity_date": 1455632236, "creation_date": 1455632236, "answer_id": 35434914, "question_id": 35432611, "link": "https://stackoverflow.com/questions/35432611/trouble-getting-the-right-output-from-a-file/35434914#35434914", "title": "Trouble getting the right output from a file", "body": "<p>I think this regexp will do what you want: <code>m/^\\w+\\s+\\:0\\s+/</code></p>\n\n<p>Here's some code that works for me, based on the code you posted... let me know if you have any questions!  :)</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Modern::Perl '2009';    # strict, warnings, 'say'\n\n# Get a (read only) filehandle for /etc/passwd\nopen my $passwd, '&lt;', '/etc/passwd' \n    or die \"Failed to open /etc/passwd for reading: $!\";\n\n# Create a hash to store the results in\nmy %results;\n\n# Loop through the passwd file\nwhile ( my $lines = &lt;$passwd&gt; ) {\n    my @user_details = split ':', $lines;\n\n    my $user_id = $user_details[2];\n\n    if ( $user_id &gt;= 1000 &amp;&amp; $user_id &lt; 6500 ) {\n        my $username = $user_details[0];\n\n        # Run the 'last' command, store the output in an array\n        my @last_lines = `last $username`;\n\n        # Loop through the output from 'last'\n        foreach my $line ( @last_lines ) {\n            if ( $line =~ m/^\\w+\\s+\\:0\\s+/ ) {\n                # Looks like a direct login - increment the login count\n                $results{ $username }++;\n            }\n        }\n    }\n}\n\n# Close the filehandle\nclose $passwd or die \"Failed to close /etc/passwd after reading: $!\";\n\n# Loop through the hash keys outputting the direct login count for each username\nforeach my $username ( keys %results ) {\n    say $username, \"\\t\", $results{ $username };\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 1, "creation_date": 1455632351, "post_id": 35434931, "comment_id": 58567983, "body": "That will also grab the lines that have &quot;pts/&quot; between the user name and the &quot;:0&quot;. He doesn&#39;t want those."}], "tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": 0, "last_activity_date": 1455901820, "last_edit_date": 1455901820, "creation_date": 1455632285, "answer_id": 35434931, "question_id": 35432611, "link": "https://stackoverflow.com/questions/35432611/trouble-getting-the-right-output-from-a-file/35434931#35434931", "title": "Trouble getting the right output from a file", "body": "<p>So the answer is to use </p>\n\n<pre><code>my @lastbash = qx(last $_ | grep \":0 *:\");\n</code></pre>\n\n<p>in your code. </p>\n"}, {"tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1455632297, "creation_date": 1455632297, "answer_id": 35434934, "question_id": 35432611, "link": "https://stackoverflow.com/questions/35432611/trouble-getting-the-right-output-from-a-file/35434934#35434934", "title": "Trouble getting the right output from a file", "body": "<p>The shortest fix for your problem is to run the \"last\" output through \"grep\".</p>\n\n<pre><code>my @lastbash = qx(last $_ | grep ' :.* :');\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 35434914, "answer_count": 3, "score": 0, "last_activity_date": 1455901820, "creation_date": 1455625626, "question_id": 35432611, "link": "https://stackoverflow.com/questions/35432611/trouble-getting-the-right-output-from-a-file", "title": "Trouble getting the right output from a file", "body": "<p>Okay so here is my code:<a href=\"http://pastebin.com/ajc3cXEc\" rel=\"nofollow\">Pastebin</a></p>\n\n<p>What i want to do is read from the file /etc/passwd and extract all the users with an UID over 1000 but less than 65000. With those users i also want to print out how many times they have logged in. And with this current code the output is like this:</p>\n\n<blockquote>\n  <p>user:15</p>\n  \n  <p>User:4</p>\n  \n  <p>User:4</p>\n</blockquote>\n\n<p>The problem with this is that they haven't logged in 15 times or 4 times, because the program is counting every line that is output from the \"last\" command. So if i run the command \"last -l user\" it will look something like this:</p>\n\n<pre><code>user     pts/0        :0               Mon Feb 15 19:49 - 19:49  (00:00)\nuser     :0           :0               Mon Feb 15 19:49 - 19:49  (00:00)\n\nwtmp begins Tue Jan 26 13:52:13 2016\n</code></pre>\n\n<p>The part that i'm interested in is the \"user       :0\" line, not the others. And that is why the program outputs the number 4 instead of 1, like it should be. So i came up with a regular expression to only get the part that i need and it looks like this:</p>\n\n<pre><code>\\n(\\w{1,9})\\s+:0\n</code></pre>\n\n<p>However i cannot get it to work, i only get errors all of the time.\nIm hoping someone here might be able to help me.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1455622117, "post_id": 35431300, "comment_id": 58560647, "body": "Yes agree, I also thought that was the reason <code>Pod::Text::Termcap</code> underlined the text instead? Btw. I am using gnome-terminal, and it can do italics. But I think I am not interested in that feature ( I just want the text underlined)"}], "tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1455621985, "creation_date": 1455621985, "answer_id": 35431300, "question_id": 35431129, "link": "https://stackoverflow.com/questions/35431129/cannot-print-italics-text-from-pod2usage/35431300#35431300", "title": "Cannot print italics text from pod2usage()", "body": "<p>Traditionally (i.e. pre-1990s) terminals couldn't do italics. Most of the nroff/man/etc... tooling flow just isn't set up to handle it. Additionally, your own terminal may not cope itself.</p>\n\n<p>You can test your terminal itself by trying</p>\n\n<pre><code>$ echo -e \"\\e[3mitalics?\\e[m\"\n</code></pre>\n\n<p>and seeing if the result comes out in italics. If not, then your terminal definitely can't do it anyway.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1455621985, "creation_date": 1455621515, "question_id": 35431129, "link": "https://stackoverflow.com/questions/35431129/cannot-print-italics-text-from-pod2usage", "title": "Cannot print italics text from pod2usage()", "body": "<p>I am trying to output Pod text to the terminal using <a href=\"https://metacpan.org/pod/Pod::Usage\" rel=\"nofollow noreferrer\"><code>pod2usage()</code></a>. It works fine for most cases, except for text formatted as italics using the Pod formatting syntax <code>I&lt;text&gt;</code>. In this case I expect the text to be printed underlined (this is how it works when using <a href=\"https://metacpan.org/pod/Pod::Text::Termcap\" rel=\"nofollow noreferrer\">Pod::Text::Termcap</a> directly). For example (<code>prog.pl</code>):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Getopt::Long qw(GetOptions);\nBEGIN { $Pod::Usage::Formatter = 'Pod::Text::Termcap'; }\nuse Pod::Usage qw(pod2usage);\n\ncase1_use_termcap_directly();\ncase2_use_termcap_indirectly();\n\nsub case2_use_termcap_indirectly {\n    GetOptions(help =&gt; \\my $help, test =&gt; \\my $test);\n    if ( $help ) {\n        pod2usage(\n            -message =&gt; \"\",\n            -verbose =&gt; 2,\n            -output  =&gt; \\*STDERR\n        );\n    }\n}\n\nsub case1_use_termcap_directly {\n    my $parser = Pod::Text::Termcap-&gt;new();\n    $parser-&gt;output_string( \\my $out_str );\n    my $pod_str = do { local $/; &lt;DATA&gt; };\n    $parser-&gt;parse_string_document( $pod_str );\n    print $out_str;\n}    \n__DATA__\n\n=head1 SYNOPSIS\n\nprog [OPTIONS]\n\n=head1 OPTIONS\n\n=over 4\n\n=item --help\n\nPrint this summary.\n\n=item B&lt;--test&gt;=I&lt;value&gt;\n\nTesting C&lt;Pod::Text::Termcap&gt;\n\n=back\n\n=head1 DESCRIPTION\n\nA test program\n</code></pre>\n\n<p>The output of running <code>prog.pl --help</code> is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nvPDS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nvPDS.png\" alt=\"enter image description here\"></a></p>\n\n<p>Notice that the text <code>\"value\"</code> is underlined when using <code>Pod::Text::Termcap</code> directly, but not underlined when printed indirectly from <code>pod2usage()</code>.</p>\n\n<p>Note: I am using Ubuntu 15.10. This worked fine for Ubuntu 14.10, so I expect the problem was introduced when I upgraded Perl modules.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1455620910, "post_id": 35430347, "comment_id": 58559877, "body": "Your current regex matches <code>[a-z]+</code> only if at <code>^</code> start of string <code>|</code> or <code>\\w{4,8}</code> anywhere in the string. Is this meant? <a href=\"https://regex101.com/r/cU1oR5/1\" rel=\"nofollow noreferrer\">In this demo</a> using a neg. <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">lookahead</a> and only matching at <code>^</code> start."}, {"owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "reply_to_user": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1455621440, "post_id": 35430347, "comment_id": 58560222, "body": "I actually solved it by using this: \\n(\\w{1,9})\\s+:0"}], "answers": [{"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 1, "last_activity_date": 1455619710, "creation_date": 1455619710, "answer_id": 35430477, "question_id": 35430347, "link": "https://stackoverflow.com/questions/35430347/how-can-i-blacklist-words-in-a-regular-expression/35430477#35430477", "title": "How can i blacklist words in a regular expression?", "body": "<p>Unless you have to build a regex to match your desired format, just exclude those two terms:</p>\n\n<pre><code>while(&lt;DATA&gt;){\n    chomp;\n    say unless /unknown|reboot/;\n}\n\n__DATA__\nfoo\n15ppool\nunknown\nbar\nvici\nreboot\nbaz\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455654737, "creation_date": 1455619389, "question_id": 35430347, "link": "https://stackoverflow.com/questions/35430347/how-can-i-blacklist-words-in-a-regular-expression", "title": "How can i blacklist words in a regular expression?", "body": "<p>I am trying to blacklist the words \"unknown\" and \"reboot\". How do i do that using regular expressions? </p>\n\n<p>And i have a list of users that it matches but i want it to blacklist certain words like unknown and reboot whilst still matching names such as \"15ppool\" and \"vici\". </p>\n\n<p>This is what my current expression looks like that i have tried:</p>\n\n<pre><code> ^[a-z]+|\\w{4,8}\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455615938, "post_id": 35428319, "comment_id": 58556460, "body": "If the lists are sorted you can probably do it much more efficiently. Are they?"}, {"owner": {"reputation": 11, "user_id": 2995357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe417b5e3b3a5277bcbc478c4cb925c9?s=128&d=identicon&r=PG", "display_name": "Alex Druk", "link": "https://stackoverflow.com/users/2995357/alex-druk"}, "reply_to_user": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455616799, "post_id": 35428319, "comment_id": 58557066, "body": "@ neuhasus No, they are not sorted. Order of elements in each list contain certain info."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455616811, "post_id": 35428319, "comment_id": 58557077, "body": "You could abuse Test::Deep."}, {"owner": {"reputation": 11, "user_id": 2995357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe417b5e3b3a5277bcbc478c4cb925c9?s=128&d=identicon&r=PG", "display_name": "Alex Druk", "link": "https://stackoverflow.com/users/2995357/alex-druk"}, "edited": false, "score": 0, "creation_date": 1455619639, "post_id": 35428319, "comment_id": 58559102, "body": "@ simbabque The question is not about best method of comparison. I am fully satisfied with List::Compare intersection. The question is how to compare each element of @AoA with each other to get something like diagonal matrix."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2995357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe417b5e3b3a5277bcbc478c4cb925c9?s=128&d=identicon&r=PG", "display_name": "Alex Druk", "link": "https://stackoverflow.com/users/2995357/alex-druk"}, "edited": false, "score": 0, "creation_date": 1455684461, "post_id": 35439029, "comment_id": 58593732, "body": "Thanks a lot! It helps!"}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 0, "last_activity_date": 1455645350, "last_edit_date": 1455645350, "creation_date": 1455643294, "answer_id": 35439029, "question_id": 35428319, "link": "https://stackoverflow.com/questions/35428319/compare-multiple-arrays-in-perl/35439029#35439029", "title": "compare multiple arrays in perl", "body": "<p>If you feel comfortable with List::Compare, then you could use it instead of my function <code>intersect_count</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse List::MoreUtils 'uniq';\nuse List::Util 'any';\n\nmy @AoA = ([1,2,3,4,], [3,4,5,6], [4,7,8,9], [11,22,33]);\n\nmy @hdrs = map \"Array_$_\", 1 .. @AoA;\nmy $fmt = \"%-10s\" . \"%-10s\" x @hdrs . \"\\n\";\n\nprintf $fmt, ' ', @hdrs;\n\nfor (my $i=0; $i &lt; $#AoA; $i++) {\n    my @matches;\n    for (my $j = $i+1; $j &lt; @AoA; $j++) {\n        $matches[$j] = intersect_count( $AoA[$i], $AoA[$j]);\n    }\n    printf $fmt, $hdrs[$i], map $_ // ' ', @matches;\n}\n\nsub intersect_count {\n    my ($a1, $a2) = @_;\n    my $cnt;\n    for my $item (uniq @$a1) {\n        $cnt += any {$item eq $_} uniq @$a2;\n    }\n    return $cnt;\n}\n</code></pre>\n\n<p>This prints </p>\n\n<pre><code>.         Array_1   Array_2   Array_3   Array_4\nArray_1             2         1         0\nArray_2                       1         0\nArray_3                                 0\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 2995357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe417b5e3b3a5277bcbc478c4cb925c9?s=128&d=identicon&r=PG", "display_name": "Alex Druk", "link": "https://stackoverflow.com/users/2995357/alex-druk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1455645350, "creation_date": 1455614194, "last_edit_date": 1455619989, "question_id": 35428319, "link": "https://stackoverflow.com/questions/35428319/compare-multiple-arrays-in-perl", "title": "compare multiple arrays in perl", "body": "<p>I have 2D arrays (@AoA) that contains references to other arrays of strings. Size of this @AoA is different each time. I would like to compare each of these arrays of strings to each other.<br>\nTo compare first array of strings to each other I can use something like this:</p>\n\n<pre><code>for (my $i=0; $i &lt; $#AoA; $i++) {\n    my $lcm = List::Compare-&gt;new( $aAoA[$i],  $AoA[$i+1] );\n    my @intersection = $lcm-&gt;get_intersection;\n    if (@intersection) {\n      #some code here\n    }\n</code></pre>\n\n<p>But what the best way to compare Each array with Each other?\nI would like the results like this:</p>\n\n<pre><code>        Arr1    Arr2      \u2026.          ArrN\nArr1    x      1 match  3 matches   0 matches\nArr2           x        N matches   3 matches\n\u2026.                         x        1 match \nArrN                                 x\n</code></pre>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 2, "creation_date": 1455611732, "post_id": 35427000, "comment_id": 58553732, "body": "Use the JSON module: <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\">metacpan.org/pod/JSON</a>"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1455688719, "post_id": 35427000, "comment_id": 58595292, "body": "Get that Python out of your Perl."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455702089, "post_id": 35427000, "comment_id": 58602508, "body": "If you have a new question, ask a new question. Don&#39;t edit the existing one with a new revision. (Especially not to one that contains code that&#39;s simply never going to work, because you can&#39;t mix perl and python in the same script)"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5271639, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3185bb01c38634347786b6f638f66125?s=128&d=identicon&r=PG&f=1", "display_name": "ZXC", "link": "https://stackoverflow.com/users/5271639/zxc"}, "edited": false, "score": 0, "creation_date": 1455625542, "post_id": 35427560, "comment_id": 58563098, "body": "thank your answer. I have some question.  I want change below before  <code>cat usable | awk &#39;NF&gt;0 &amp;&amp; NR&gt;8 &amp;&amp; NR &lt; 15&#39;</code>  after  <code>cat $1 | awk &#39;NF&gt;0 &amp;&amp; NR&gt;8 &amp;&amp; NR &lt; 15&#39;</code>"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 9, "user_id": 5271639, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3185bb01c38634347786b6f638f66125?s=128&d=identicon&r=PG&f=1", "display_name": "ZXC", "link": "https://stackoverflow.com/users/5271639/zxc"}, "edited": false, "score": 0, "creation_date": 1455626262, "post_id": 35427560, "comment_id": 58563578, "body": "<code>$filename = &#39;usable&#39;;</code> and <code>cat $filename</code> will do that, but I still believe you should use @Sobrique&#39;s answer where you don&#39;t execute another program, when it&#39;s really easy to do it inline in perl."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 2, "last_activity_date": 1455618455, "last_edit_date": 1455618455, "creation_date": 1455611905, "answer_id": 35427560, "question_id": 35427000, "link": "https://stackoverflow.com/questions/35427000/how-can-make-json-output/35427560#35427560", "title": "How can make json output", "body": "<p>First of all. Your program almost works. You just need a g modifier on your regular expression: </p>\n\n<pre><code>($poolname, $devconfig, $unablegbs, $freegbs, $usedgbs, $full, $comp) = m/ (\\S+)/g;\n</code></pre>\n\n<p>And remove the <code>,</code> after <code>$comp</code> to be valid JSON.</p>\n\n<p>Your program could do with a couple of improvements. I would suggest</p>\n\n<ol>\n<li>Using <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow\">JSON</a> package to create JSON.</li>\n<li>Using perl inline syntax, instead of calling <code>cat</code> and <code>awk</code>. Perl has support for everything that you can do with awk. If you continue to use an external call then stop with <a href=\"https://en.wikipedia.org/wiki/Cat_(Unix)#Useless_use_of_cat\" rel=\"nofollow\">cat abuse</a>.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 5271639, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3185bb01c38634347786b6f638f66125?s=128&d=identicon&r=PG&f=1", "display_name": "ZXC", "link": "https://stackoverflow.com/users/5271639/zxc"}, "edited": false, "score": 0, "creation_date": 1455621709, "post_id": 35428775, "comment_id": 58560378, "body": "thank your answer. I have some question.  I want change below  before <code>cat usable | awk &#39;NF&gt;0 &amp;&amp; NR&gt;8 &amp;&amp; NR &lt; 15&#39;</code>  after <code>cat $1 | awk &#39;NF&gt;0 &amp;&amp; NR&gt;8 &amp;&amp; NR &lt; 15&#39;</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 9, "user_id": 5271639, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3185bb01c38634347786b6f638f66125?s=128&d=identicon&r=PG&f=1", "display_name": "ZXC", "link": "https://stackoverflow.com/users/5271639/zxc"}, "edited": false, "score": 0, "creation_date": 1455627634, "post_id": 35428775, "comment_id": 58564552, "body": "Then take a look at <code>&lt;&gt;</code> - if you replace <code>&lt;DATA&gt;</code> in the above with <code>&lt;&gt;</code> it will read from either <code>STDIN</code> or file as named on command line. (<code>myscript.pl usable</code>). But seriously - export to <code>XML</code> is the easiest answer."}, {"owner": {"reputation": 9, "user_id": 5271639, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3185bb01c38634347786b6f638f66125?s=128&d=identicon&r=PG&f=1", "display_name": "ZXC", "link": "https://stackoverflow.com/users/5271639/zxc"}, "edited": false, "score": 0, "creation_date": 1455668789, "post_id": 35428775, "comment_id": 58589230, "body": "hello. thank you very much. first I want make SYMMATRIX storage monitoring shell for zabbix. are you have SYMMATRIX monitoring shell? or do you know zabbix?  and I really want execute in command line like &quot;script.pl 0000&quot;. 0000 is sid  script include below symcli command. /opt/emc/SYMCLI/bin/symcfg -sid 0000 list -pool -gb"}, {"owner": {"reputation": 9, "user_id": 5271639, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3185bb01c38634347786b6f638f66125?s=128&d=identicon&r=PG&f=1", "display_name": "ZXC", "link": "https://stackoverflow.com/users/5271639/zxc"}, "edited": false, "score": 0, "creation_date": 1455688750, "post_id": 35428775, "comment_id": 58595307, "body": "please check my question"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 9, "user_id": 5271639, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3185bb01c38634347786b6f638f66125?s=128&d=identicon&r=PG&f=1", "display_name": "ZXC", "link": "https://stackoverflow.com/users/5271639/zxc"}, "edited": false, "score": 0, "creation_date": 1455699638, "post_id": 35428775, "comment_id": 58600769, "body": "If you have a new question, ask a new question.  Don&#39;t amend the existing one."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1455617020, "last_edit_date": 1455617020, "creation_date": 1455615454, "answer_id": 35428775, "question_id": 35427000, "link": "https://stackoverflow.com/questions/35427000/how-can-make-json-output/35428775#35428775", "title": "How can make json output", "body": "<p>I have two answers to this question:</p>\n\n<ul>\n<li>use the <a href=\"http://search.cpan.org/~makamaka/JSON-2.90/lib/JSON.pm\" rel=\"nofollow\"><code>JSON</code></a> module to assemble JSON. It's less painful.</li>\n<li>this looks like the Symmetrix CLI output. Set <a href=\"https://community.emc.com/docs/DOC-6812\" rel=\"nofollow\"><code>-output XML</code></a> and you'll get machine readable output. <code>XML</code> not <code>JSON</code>, but it's actually easier to convert from one to the other than hand parse anyway. </li>\n</ul>\n\n<p>To answer your question as asked though:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse JSON; \n\nmy @header = qw ( name flags raid usable_gb free_gb used_gb full_perc comp_perc ); \n\nmy $stuff;\n\nwhile ( &lt;DATA&gt; ) {\n    my %this_row; \n    if ( m/RAID/ ) {\n        my @fields = split; \n        @this_row{@header} = @fields; \n        push ( @$stuff, \\%this_row ); \n    }\n}\n\nprint to_json ( $stuff, { pretty =&gt; 1 } );\n\n__DATA__    \nSymmetrix ID: 000000000000\n\n                   S Y M M E T R I X   P O O L S\n---------------------------------------------------------------------------\nPool         Flags  Dev              Usable       Free       Used Full Comp\nName         PTECSL Config              GBs        GBs        GBs  (%)  (%)\n------------ ------ ------------ ---------- ---------- ---------- ---- ----\nSAS600_R1    TFFDEI RAID-5(3+1)     78725.1    160.3    64.8   94    0\nSAS600_R2    TFFDEI RAID-4(3+1)     725.1    120.3    666.8   83    0\nSAS600_R3    TFFDEI RAID-3(3+1)     7825.1    1260.3    6564.8   34    0\nSAS600_R4    TFFDEI RAID-2(3+1)     7875.1    160.3    664.8   4    0\nSAS600_R5    TFFDEI RAID-1(3+1)     872.1    1210.3    6564.8  1     0\n\n  Total                            ---------- ---------- ---------- ---- ---    -\n  GBs                                 78725.1    12160.3    66564.8   84    0\n\nLegend:\n  (P)ool Type:\n    S = Snap,  R = Rdfa DSE  T = Thin\n  (T)echnology:\n    S = SATA, F = Fibre Channel, E = Enterprise Flash Drive, M = Mixed, - =     N/A\n  Dev (E)mulation:\n    F = FBA, A = AS400, 8 = CKD3380, 9 = CKD3390, - = N/A\n  (C)ompression:\n    E = Enabled, D = Disabled, N = Enabling, S = Disabling, - = N/A\n  (S)tate:\n    E = Enabled, D = Disabled, B = Balancing\n  Disk (L)ocation:\n    I = Internal, X = External, M = Mixed, - = N/A`\n</code></pre>\n\n<h2>Output:</h2>\n\n<pre><code>[\n   {\n      \"full_perc\" : \"94\",\n      \"flags\" : \"TFFDEI\",\n      \"comp_perc\" : \"0\",\n      \"name\" : \"SAS600_R1\",\n      \"used_gb\" : \"64.8\",\n      \"free_gb\" : \"160.3\",\n      \"usable_gb\" : \"78725.1\",\n      \"raid\" : \"RAID-5(3+1)\"\n   },\n   {\n      \"flags\" : \"TFFDEI\",\n      \"comp_perc\" : \"0\",\n      \"name\" : \"SAS600_R2\",\n      \"full_perc\" : \"83\",\n      \"usable_gb\" : \"725.1\",\n      \"raid\" : \"RAID-4(3+1)\",\n      \"used_gb\" : \"666.8\",\n      \"free_gb\" : \"120.3\"\n   },\n   {\n      \"usable_gb\" : \"7825.1\",\n      \"raid\" : \"RAID-3(3+1)\",\n      \"free_gb\" : \"1260.3\",\n      \"used_gb\" : \"6564.8\",\n      \"name\" : \"SAS600_R3\",\n      \"flags\" : \"TFFDEI\",\n      \"comp_perc\" : \"0\",\n      \"full_perc\" : \"34\"\n   },\n   {\n      \"free_gb\" : \"160.3\",\n      \"used_gb\" : \"664.8\",\n      \"raid\" : \"RAID-2(3+1)\",\n      \"usable_gb\" : \"7875.1\",\n      \"full_perc\" : \"4\",\n      \"name\" : \"SAS600_R4\",\n      \"comp_perc\" : \"0\",\n      \"flags\" : \"TFFDEI\"\n   },\n   {\n      \"usable_gb\" : \"872.1\",\n      \"raid\" : \"RAID-1(3+1)\",\n      \"used_gb\" : \"6564.8\",\n      \"free_gb\" : \"1210.3\",\n      \"flags\" : \"TFFDEI\",\n      \"comp_perc\" : \"0\",\n      \"name\" : \"SAS600_R5\",\n      \"full_perc\" : \"1\"\n   }\n]\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5271639, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3185bb01c38634347786b6f638f66125?s=128&d=identicon&r=PG&f=1", "display_name": "ZXC", "link": "https://stackoverflow.com/users/5271639/zxc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 35428775, "answer_count": 2, "score": -1, "last_activity_date": 1455702113, "creation_date": 1455610096, "last_edit_date": 1455702113, "question_id": 35427000, "link": "https://stackoverflow.com/questions/35427000/how-can-make-json-output", "title": "How can make json output", "body": "<p>I want make json output using below code.</p>\n\n<p>But I can't make json output</p>\n\n<p>below is my code but not work</p>\n\n<p>===================================================================</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"{\\n\";\nprint \"\\t\\\"data\\\":[\\n\\n\";\n\nfor (`cat usable | awk 'NF&gt;0 &amp;&amp; NR&gt;8 &amp;&amp; NR &lt; 15'`)\n{\n($poolname, $devconfig, $unablegbs, $freegbs, $usedgbs, $full, $comp) = m/ (\\S+)/;\n\nprint \"\\t,\\n\" if not $first;\n$first = 0;\n\nprint \"\\t{\\n\";\nprint \"\\t\\t\\\"{#POOLSNAME}\\\":\\\"$poolname\\\",\\n\";\nprint \"\\t\\t\\\"{#DEVCOFIG}\\\":\\\"$devconfig\\\",\\n\";\nprint \"\\t\\t\\\"{#UNABLEGBS}\\\":\\\"$unablegbs\\\",\\n\";\nprint \"\\t\\t\\\"{#FREEGBS}\\\":\\\"$freegbs\\\",\\n\";\nprint \"\\t\\t\\\"{#USEDGBS}\\\":\\\"$usedgbs\\\",\\n\";\nprint \"\\t\\t\\\"{#FULL}\\\":\\\"$full\\\",\\n\";\nprint \"\\t\\t\\\"{#COMP}\\\":\\\"$comp\\\",\\n\";\nprint \"\\t}\\n\";\n}\nprint \"\\n\\t]\\n\";\nprint \"}\\n\";\n</code></pre>\n\n<p>===================================================================</p>\n\n<p>input file is below</p>\n\n<pre><code>Symmetrix ID: 000000000000\n\n                   S Y M M E T R I X   P O O L S\n---------------------------------------------------------------------------\nPool         Flags  Dev              Usable       Free       Used Full Comp\nName         PTECSL Config              GBs        GBs        GBs  (%)  (%)\n------------ ------ ------------ ---------- ---------- ---------- ---- ----\nSAS600_R1    TFFDEI RAID-5(3+1)     78725.1    160.3    64.8   94    0\nSAS600_R2    TFFDEI RAID-4(3+1)     725.1    120.3    666.8   83    0\nSAS600_R3    TFFDEI RAID-3(3+1)     7825.1    1260.3    6564.8   34    0\nSAS600_R4    TFFDEI RAID-2(3+1)     7875.1    160.3    664.8   4    0\nSAS600_R5    TFFDEI RAID-1(3+1)     872.1    1210.3    6564.8  1     0\n\n  Total                            ---------- ---------- ---------- ---- ---    -\n  GBs                                 78725.1    12160.3    66564.8   84    0\n\nLegend:\n  (P)ool Type:\n    S = Snap,  R = Rdfa DSE  T = Thin\n  (T)echnology:\n    S = SATA, F = Fibre Channel, E = Enterprise Flash Drive, M = Mixed, - =     N/A\n  Dev (E)mulation:\n    F = FBA, A = AS400, 8 = CKD3380, 9 = CKD3390, - = N/A\n  (C)ompression:\n    E = Enabled, D = Disabled, N = Enabling, S = Disabling, - = N/A\n  (S)tate:\n    E = Enabled, D = Disabled, B = Balancing\n  Disk (L)ocation:\n    I = Internal, X = External, M = Mixed, - = N/A`\n</code></pre>\n\n<p>===================================================================</p>\n\n<p>OUTPUT want look like below</p>\n\n<pre><code>{\n\"{#POOLINDEX1}\":\"SAS600_R5\",\"{#RAIDVALUE1}\":\"RAID-5(3+1)\",\"   {#USABLEVALUE1}\":\"725.1\",\"{#FREEVALUE1}\":\"160.3\",\"{#USEDVALUE1}\":\"564.8\"},\"   {#FULLVALUE1}\":\"84%\",\"{#COMPVALUE1}\":\"0\"},\n\"{#POOLINDEX2}\":\"SAS600_R3\",\"{#RAIDVALUE2}\":\"RAID-3(3+1)\",{#USABLEVALUE2}\":\"78725.1\",\"{#FREEVALUE2}\":\"1160.3\",\"{#USEDVALUE2}\":\"6564.8\"},\"    {#FULLVALUE2}\":\"54%\",\"{#COMPVALUE2}\":\"0\"},\n\"{#POOLINDEX3}\":\"SAS600_R2\",\"{#RAIDVALUE3}\":\"RAID-1(3+1)\",\"    {#USABLEVALUE3}\":\"7725.1\",\"{#FREEVALUE3}\":\"12160.3\",\"{#USEDVALUE3}\":\"66564.8\"},\"        {#FULLVALUE3}\":\"8%\",\"{#COMPVALUE3}\":\"0\"}\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 3, "creation_date": 1455607482, "post_id": 35426166, "comment_id": 58551561, "body": "Or just use a for:  <code>$events{$_} = 1 for @event_ids;</code>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1455610654, "post_id": 35426166, "comment_id": 58553144, "body": "Or just do them all at once: <code>$events{$_}++ for @event_ids, @teens, @kids;</code>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1455628725, "post_id": 35426166, "comment_id": 58565384, "body": "@TLP, did you try that? The <code>++</code> is activated for each element in all the arrays, which act as one long list."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455630962, "post_id": 35426166, "comment_id": 58566960, "body": "Maybe TLP meant <code>++$events{$_} for (@event_ids)x1, (@teens)x2, (@kids)x3;</code> ;)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1455653813, "post_id": 35426166, "comment_id": 58582245, "body": "Using <code>map</code> when you meant to use <code>for</code> is dirty."}], "tags": [], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "is_accepted": false, "score": -2, "last_activity_date": 1455607175, "creation_date": 1455607175, "answer_id": 35426166, "question_id": 35426068, "link": "https://stackoverflow.com/questions/35426068/using-map-in-a-void-context/35426166#35426166", "title": "Using map in a void context?", "body": "<p>OK, it's time to get some sleep. Should just be using <code>=</code> not the fat arrow, <code>=&gt;</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 1, "last_activity_date": 1455624883, "last_edit_date": 1455624883, "creation_date": 1455611323, "answer_id": 35427396, "question_id": 35426068, "link": "https://stackoverflow.com/questions/35426068/using-map-in-a-void-context/35427396#35427396", "title": "Using map in a void context?", "body": "<p>That's... not really the way <code>map</code> is intended to be used.  It transforms a list into a different list and returns the resulting list.  It's not meant to change a list (or hash) in-place.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>my %events = (); \n$events{$_} = 1 for @event_ids;\n$events{$_} = 2 for @teen_event_ids;\n$events{$_} = 3 for @kids_event_ids;\n</code></pre>\n\n<p>or, if you specifically want to include a <code>map</code>:</p>\n\n<pre><code>my %events = map { $_ =&gt; 1 } @event_ids;\n$events{$_} = 2 for @teen_event_ids;\n$events{$_} = 3 for @kids_event_ids;\n</code></pre>\n\n<p>or even:</p>\n\n<pre><code>my %events = map { $_ =&gt; find_event_category($_) } @event_ids, @teen_event_ids, @kids_event_ids;\n</code></pre>\n\n<p>where <code>find_event_category</code> is a function which determines whether an id is for a teen or kids event and returns <code>1</code>, <code>2</code>, or <code>3</code> as appropriate.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1455625149, "creation_date": 1455625149, "answer_id": 35432441, "question_id": 35426068, "link": "https://stackoverflow.com/questions/35426068/using-map-in-a-void-context/35432441#35432441", "title": "Using map in a void context?", "body": "<p><code>%events</code> wasn't changed because you never even tried to change <code>%events</code> (except for emptying it when it was already empty)! I think you meant to do</p>\n\n<pre><code>my %events; \nmap { $events{$_} = 1 } @event_ids;\nmap { $events{$_} = 2 } @teen_event_ids;\nmap { $events{$_} = 3 } @kids_event_ids;\n</code></pre>\n\n<p>Using <code>map</code> in void context is frowned-upon. The following are more familiar:</p>\n\n<pre><code>my %events = (\n   ( map { $_ =&gt; 1 } @event_ids ),\n   ( map { $_ =&gt; 2 } @teen_event_ids ),\n   ( map { $_ =&gt; 3 } @kids_event_ids ),\n);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my %events; \n$events{$_} = 1 for @event_ids;\n$events{$_} = 2 for @teen_event_ids;\n$events{$_} = 3 for @kids_event_ids;\n</code></pre>\n\n<hr>\n\n<p>Technically, you can use parens around <code>map</code>'s operands (<code>map( BLOCK LIST )</code>), but it looks weird, so I put the parens around then entire <code>map</code>.</p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1455625149, "creation_date": 1455606830, "question_id": 35426068, "link": "https://stackoverflow.com/questions/35426068/using-map-in-a-void-context", "title": "Using map in a void context?", "body": "<p>I have this code:</p>\n\n<pre><code>my %events = (); \nmap { $events{$_} =&gt; 1 } @event_ids;\nmap { $events{$_} =&gt; 2 } @teen_event_ids;\nmap { $events{$_} =&gt; 3 } @kids_event_ids;\n</code></pre>\n\n<p>Although the arrays have data, the content of <code>%events</code> is turning up empty. </p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455655579, "post_id": 35425534, "comment_id": 58583172, "body": "OP asks for &#39;everything past last &lt;DIV&gt;&#39; so it wouldn&#39;t need the leading <code>!</code> for that, even though the context has it. The requirement is not clear (do lines w/o <code>^!</code> count?), and I like coding the full behavior (upvoted), but sticking to the minimal problem statement (no <code>^!</code>) should not be worse and I&#39;d suggest to add it for completeness?"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455686159, "post_id": 35425534, "comment_id": 58594315, "body": "@zdim agreed, will edit tomorrow as it&#39;s rather hard to edit on an iPad"}], "tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": true, "score": 3, "last_activity_date": 1455605044, "creation_date": 1455605044, "answer_id": 35425534, "question_id": 35425440, "link": "https://stackoverflow.com/questions/35425440/retrieve-string-between-two-string-delimiters-using-regex-in-perl/35425534#35425534", "title": "Retrieve string between two string delimiters using regex in perl", "body": "<p>The statement</p>\n\n<pre><code>@b = $a =~ /^!(.*?)&lt;DIV&gt;(.*?)&lt;DIV&gt;(.*?)&lt;DIV&gt;(.*)/\n</code></pre>\n\n<p>will split the string into a list, and you can then extract the 4th element with</p>\n\n<pre><code>$b[3]\n</code></pre>\n\n<p>If you really want only the last one, do this instead:</p>\n\n<pre><code>($text) = $a =~ /^!.*&lt;DIV&gt;(.*)/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1465118955, "last_edit_date": 1495541282, "creation_date": 1455606308, "answer_id": 35425921, "question_id": 35425440, "link": "https://stackoverflow.com/questions/35425440/retrieve-string-between-two-string-delimiters-using-regex-in-perl/35425921#35425921", "title": "Retrieve string between two string delimiters using regex in perl", "body": "<p>I don't know whether you insist on regex or simply didn't think of else, but <code>split</code> will nicely do this</p>\n\n<pre><code>$text = (split '&lt;DIV&gt;', $str)[-1];\n</code></pre>\n\n<p>If you regularly have such repeating patterns <code>split</code> may well be better for the job than a pure regex. (Split also uses full regular expressions in its pattern, of course.)</p>\n\n<p><b>ADDED</b></p>\n\n<p>All this can be done directly, if you simply only need to pull the last thing from each line:</p>\n\n<pre><code>open my $fh, '&lt;', $file;\nmy @text = map { (split '&lt;DIV&gt;')[-1] } &lt;$fh&gt;;\nclose $fh;\nprint \"$_\\n\" for @text;\n</code></pre>\n\n<p>The <code>split</code> by default uses <code>$_</code>, which inside the map is the current element processed.  For lines without a <code>&lt;DIV&gt;</code> this returns the whole line.  A file handle in the list context serves all lines as a list; the list context is imposed by <code>map</code> here.</p>\n\n<p>In case you want all text between delimiters you can do</p>\n\n<pre><code>my @rlines = map { [ split '&lt;DIV&gt;' ] } &lt;$fh&gt;;\n</code></pre>\n\n<p>where <code>[ ]</code> takes a reference to the list returned by <code>split</code> and thus <code>@rlines</code> contains references to arrays, each with text in between <code>&lt;DIV&gt;</code>s on a line. The leading <code>!</code> is there though and to drop it a little more processing is needed.</p>\n\n<p>Of course, for the map block you can use <code>{ (/.*&lt;DIV&gt;(.*)/)[0] }</code> from <a href=\"https://stackoverflow.com/users/18157/jim-garrison\">Jim Garrison</a>'s answer for a single match, or modify the regex a little to catch'em all.</p>\n\n<p>If performance is a factor then that's a little different question.</p>\n"}, {"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1455629694, "last_edit_date": 1455629694, "creation_date": 1455618772, "answer_id": 35430082, "question_id": 35425440, "link": "https://stackoverflow.com/questions/35425440/retrieve-string-between-two-string-delimiters-using-regex-in-perl/35430082#35430082", "title": "Retrieve string between two string delimiters using regex in perl", "body": "<p>A simple substitution could work too: </p>\n\n<pre><code>while(&lt;DATA&gt;){\nchomp;\nmy $text = (s/.*&lt;DIV&gt;//g, $_);\nsay $text;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 3509459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae9b35e2585460fb9c6ae4959f13f18e?s=128&d=identicon&r=PG&f=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/3509459/sandeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1455706710, "creation_date": 1455706710, "answer_id": 35454749, "question_id": 35425440, "link": "https://stackoverflow.com/questions/35425440/retrieve-string-between-two-string-delimiters-using-regex-in-perl/35454749#35454749", "title": "Retrieve string between two string delimiters using regex in perl", "body": "<p>Simple regex which answers your question:</p>\n\n<pre><code>my $match= '';\nwhile($line = &lt;INFILE&gt;) {\n ($match) = $line =~/.*&lt;DIV&gt;(.*)/; \n}\nprint $match, \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 2449825, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c3c0acbb1839538ca2a64ee17f237719?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/2449825/tyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 35425534, "answer_count": 4, "score": 3, "last_activity_date": 1465118955, "creation_date": 1455604661, "last_edit_date": 1455604805, "question_id": 35425440, "link": "https://stackoverflow.com/questions/35425440/retrieve-string-between-two-string-delimiters-using-regex-in-perl", "title": "Retrieve string between two string delimiters using regex in perl", "body": "<p>I have been working on this for a little while now and can't seem to figure it out. I have a file containing a bunch of lines all structured like the one below meaning each line starts with \"!\" and has three separators \"<code>&lt;DIV&gt;</code>\".</p>\n\n<pre><code>!the&lt;DIV&gt;car&lt;DIV&gt;drove down the&lt;DIV&gt;road off into the distance\n</code></pre>\n\n<p>I am interested in retrieving the last string \"road off into the distance\" I can't seem to get it to work. Below I have listed the current code I have.</p>\n\n<pre><code>while($line = &lt;INFILE&gt;) {\n    $line =~ /&lt;SEP&gt;{3}(.*)/;\n    print $1;\n}\n</code></pre>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["regex", "string", "perl"], "answers": [{"tags": [], "owner": {"reputation": 442665, "user_id": 148870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/559f9b4a76982a9c3e496e2e7686d4b1?s=128&d=identicon&r=PG", "display_name": "Amber", "link": "https://stackoverflow.com/users/148870/amber"}, "is_accepted": true, "score": 6, "last_activity_date": 1455604916, "last_edit_date": 1455604916, "creation_date": 1455604146, "answer_id": 35425311, "question_id": 35425275, "link": "https://stackoverflow.com/questions/35425275/use-perl-to-filter-out-the-word-a-but-not-each-letter-a/35425311#35425311", "title": "Use Perl to filter out the word &quot;a&quot; but not each letter &quot;a&quot;", "body": "<p>Use the <code>\\b</code> delimiter for word boundaries:</p>\n\n<pre><code>$string =~ s/\\ba\\b//g;\n</code></pre>\n\n<p>Note that this will only get rid of the <code>a</code>, it won't get rid of the spaces next to it. If you wanted a properly spaced sentence, you'd probably want to use something like this (which would remove the leading space before the <code>a</code> as well, but leave the trailing one to prevent the before and after words from being pushed together):</p>\n\n<pre><code>$string =~ s/\\s*\\ba\\b//g;\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 4822472, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3d8fa7366215e617e62de9db36c689d8?s=128&d=identicon&r=PG&f=1", "display_name": "CS student", "link": "https://stackoverflow.com/users/4822472/cs-student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 35425311, "answer_count": 1, "score": 1, "last_activity_date": 1455604916, "creation_date": 1455603964, "question_id": 35425275, "link": "https://stackoverflow.com/questions/35425275/use-perl-to-filter-out-the-word-a-but-not-each-letter-a", "title": "Use Perl to filter out the word &quot;a&quot; but not each letter &quot;a&quot;", "body": "<p>I am trying to write a regular expression in Perl to filter out the word 'a' in a string but not each occurrence of the letter 'a'.  For example, if I have the string \"I saw a fat cat\", </p>\n\n<pre><code>my $string = \"I saw a fat cat\";\n</code></pre>\n\n<p>I want the filtered string to be \"I saw fat cat\", but I'm getting \"I sw ft ct\".  I have tried variations of this expression:</p>\n\n<pre><code>$string=~ s/a//g;\n</code></pre>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 1632, "user_id": 1072222, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e25a242e4a1ca113d0fad40e1ba611d6?s=128&d=identicon&r=PG", "display_name": "cur4so", "link": "https://stackoverflow.com/users/1072222/cur4so"}, "edited": false, "score": 0, "creation_date": 1455600447, "post_id": 35424270, "comment_id": 58548539, "body": "I can&#39;t reproduce your behavior. On my system it prints the question 1st."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1455600805, "post_id": 35424270, "comment_id": 58548671, "body": "Its working for me. It prints question first and after that when I enter a name it prints hello message with name."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1455605769, "post_id": 35424270, "comment_id": 58550673, "body": "What shell are you running this in?  Does using \\r\\n instead of \\n make a difference?"}], "answers": [{"tags": [], "owner": {"reputation": 715, "user_id": 4630350, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--Dv4_vchBTQ/AAAAAAAAAAI/AAAAAAAAAAA/JlAVdHNIOdg/photo.jpg?sz=128", "display_name": "Q the Platypus", "link": "https://stackoverflow.com/users/4630350/q-the-platypus"}, "is_accepted": false, "score": 2, "last_activity_date": 1455603345, "creation_date": 1455603345, "answer_id": 35425126, "question_id": 35424270, "link": "https://stackoverflow.com/questions/35424270/cygwin-perl-subroutine-executing-out-of-order/35425126#35425126", "title": "cygwin perl subroutine executing out of order", "body": "<p>This type of behaviour can be created if perl is confused about what type of buffering it should do to the IO.  Try adding the following line.</p>\n\n<pre><code>$|++;\n</code></pre>\n\n<p>Just after your 'use strict;' to force perl to flush the buffers after every print statement.</p>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455603345, "creation_date": 1455599557, "last_edit_date": 1455602888, "question_id": 35424270, "link": "https://stackoverflow.com/questions/35424270/cygwin-perl-subroutine-executing-out-of-order", "title": "cygwin perl subroutine executing out of order", "body": "<p>I wrote this simple program with a subroutine. \nIt acts strangely when I put it in a sub routine.   </p>\n\n<pre><code>#!/usr/bin/perl -w \nuse strict ; \nsub get_name {\n    print \"what is your name ?\\n\" ;\n    my $name = &lt;STDIN&gt; ;\n    chomp($name) ;\n    print \"Hello $name\\n\";\n  }\n\nget_name ;\n</code></pre>\n\n<p>This is the result </p>\n\n<pre><code>$ ./name_print\ncasper\nwhat is your name ?\nHello casper\n</code></pre>\n\n<p>It never prints the what is your name string. \nIt waits for me to enter in some standard input , and then prints the \"what is your name string\". It executes out of order. \nVery strange. </p>\n"}, {"tags": ["perl", "data-dumper"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455597072, "post_id": 35423716, "comment_id": 58547399, "body": "<code>my $info = image_info($file); print $info-&gt;{width};</code> See <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a> for more info."}], "answers": [{"comments": [{"owner": {"reputation": 118, "user_id": 5055195, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c972d44652eeadefd86ac423c3d6e629?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Ranjan", "link": "https://stackoverflow.com/users/5055195/nikhil-ranjan"}, "edited": false, "score": 0, "creation_date": 1455599311, "post_id": 35423894, "comment_id": 58548127, "body": "Thanks so much,  could you give me any reference for making my concept more clear like you?"}, {"owner": {"reputation": 1632, "user_id": 1072222, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e25a242e4a1ca113d0fad40e1ba611d6?s=128&d=identicon&r=PG", "display_name": "cur4so", "link": "https://stackoverflow.com/users/1072222/cur4so"}, "reply_to_user": {"reputation": 118, "user_id": 5055195, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c972d44652eeadefd86ac423c3d6e629?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Ranjan", "link": "https://stackoverflow.com/users/5055195/nikhil-ranjan"}, "edited": false, "score": 0, "creation_date": 1455599972, "post_id": 35423894, "comment_id": 58548366, "body": "I&#39;m not quite follow your question, could you reformulate it? What is your concept?"}, {"owner": {"reputation": 118, "user_id": 5055195, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c972d44652eeadefd86ac423c3d6e629?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Ranjan", "link": "https://stackoverflow.com/users/5055195/nikhil-ranjan"}, "edited": false, "score": 0, "creation_date": 1455603960, "post_id": 35423894, "comment_id": 58549863, "body": "I just want to make my skill sharp. if you give any reference like blog, books, etc. Then it is helpful for me"}, {"owner": {"reputation": 1632, "user_id": 1072222, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e25a242e4a1ca113d0fad40e1ba611d6?s=128&d=identicon&r=PG", "display_name": "cur4so", "link": "https://stackoverflow.com/users/1072222/cur4so"}, "reply_to_user": {"reputation": 118, "user_id": 5055195, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c972d44652eeadefd86ac423c3d6e629?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Ranjan", "link": "https://stackoverflow.com/users/5055195/nikhil-ranjan"}, "edited": false, "score": 0, "creation_date": 1455604327, "post_id": 35423894, "comment_id": 58550046, "body": "may be this help <a href=\"http://search.cpan.org/~srezic/Image-Info-1.38/lib/Image/Info.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~srezic/Image-Info-1.38/lib/Image/Info.pm</a> ? It&#39;s a description of Image-Info package you use"}, {"owner": {"reputation": 118, "user_id": 5055195, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c972d44652eeadefd86ac423c3d6e629?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Ranjan", "link": "https://stackoverflow.com/users/5055195/nikhil-ranjan"}, "edited": false, "score": 0, "creation_date": 1455627366, "post_id": 35423894, "comment_id": 58564373, "body": "Thanks for this one. But I am taking about over all Perl not for a particular module"}], "tags": [], "owner": {"reputation": 1632, "user_id": 1072222, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e25a242e4a1ca113d0fad40e1ba611d6?s=128&d=identicon&r=PG", "display_name": "cur4so", "link": "https://stackoverflow.com/users/1072222/cur4so"}, "is_accepted": false, "score": 0, "last_activity_date": 1455597662, "creation_date": 1455597662, "answer_id": 35423894, "question_id": 35423716, "link": "https://stackoverflow.com/questions/35423716/how-to-get-var1-value-of-dumper-in-perl/35423894#35423894", "title": "How to get &quot;Var1&quot; value of dumper in perl", "body": "<p><code>image_info($file)</code> returns a hash reference. Looking at the dump you know the keys available (the keys are strings before <code>=&gt;</code>) </p>\n\n<pre><code>    $info = image_info($file);\n\n    foreach my $key ( qw/width file_media_type file_ext/ ){\n        print \"$key:$info-&gt;{$key}\\n\";\n    }\n</code></pre>\n"}], "owner": {"reputation": 118, "user_id": 5055195, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c972d44652eeadefd86ac423c3d6e629?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Ranjan", "link": "https://stackoverflow.com/users/5055195/nikhil-ranjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1548, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455597662, "creation_date": 1455596624, "question_id": 35423716, "link": "https://stackoverflow.com/questions/35423716/how-to-get-var1-value-of-dumper-in-perl", "title": "How to get &quot;Var1&quot; value of dumper in perl", "body": "<p>When i use below code then it gives output, But i want \"width\", \"file_media_type\", \"file_ext\" values, But I am unable to get this value in individual. I am very new with Perl Please help me!</p>\n\n<p>Code</p>\n\n<pre><code>use warnings ;\nuse strict;\nuse Image::Info qw[image_info];\nuse Data::Dumper;\n\nmy $file = 'd:\\perl\\test\\a.jpg';\nmy $info = Dumper(image_info($file));\nprint $info;\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>$VAR1 = {\n          'width' =&gt; 45,\n          'file_media_type' =&gt; 'image/png',\n          'file_ext' =&gt; 'png',\n          'PNG_Chunks' =&gt; [\n                            'IHDR',\n                            'gAMA',\n                            'cHRM',\n                            'IDAT',\n                            'IEND'\n                          ],\n          'Chunk-cHRM' =&gt; '  z%  \u00c7\u00e2  \u00b7\u00a0  \u00c7F  u0  O`  :\u00f9  ?o',\n          'PNG_Filter' =&gt; 'Adaptive',\n          'color_type' =&gt; 'RGB',\n          'height' =&gt; 20,\n          'Gamma' =&gt; '0.45454',\n          'resolution' =&gt; '1/1',\n          'SampleFormat' =&gt; 'U8',\n          'Compression' =&gt; 'Deflate'\n        };\n</code></pre>\n"}, {"tags": ["javascript", "perl", "www-mechanize-firefox", "mozrepl"], "owner": {"reputation": 498, "user_id": 1769925, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/fb6cf77bdcefd03d0e7e7228314c179e?s=128&d=identicon&r=PG&f=1", "display_name": "user1769925", "link": "https://stackoverflow.com/users/1769925/user1769925"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455670590, "creation_date": 1455594879, "last_edit_date": 1455670590, "question_id": 35423412, "link": "https://stackoverflow.com/questions/35423412/executing-javascript-function-using-mozrepl-and-perl-wwwmechanizefirefox", "title": "Executing JavaScript function using MozRepl and Perl (WWW::Mechanize::Firefox)", "body": "<p>I am using the following Perl snippet to execute a JavaScript function using MozRepl. However, I get the error message \"MozRepl::RemoteObject: TypeError: myFunction is not a function at test.pl line 16.\" What am I doing wrong?</p>\n\n<pre><code>use v5.10;\nuse WWW::Mechanize::Firefox;\nuse strict;\nuse warnings;\n\nmy $mech = WWW::Mechanize::Firefox-&gt;new();\n$mech-&gt;update_html(&lt;&lt;HTML);\n&lt;script type=\"text/javascript\"&gt;\nfunction myFunction() {\n    alert(\"Hello World!\");\n}\n&lt;/script&gt;\nHTML\n\nsleep 2;\n$mech-&gt;eval_in_page( 'myFunction();' );\n</code></pre>\n"}, {"tags": ["arrays", "perl", "expect"], "comments": [{"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1455584743, "post_id": 35421334, "comment_id": 58544209, "body": "Have you tried printing your <code>$expectCmd</code> variable and confirming it&#39;s in the correct format. The items in the array may be getting appended to each other without spacing."}, {"owner": {"reputation": 35, "user_id": 5293954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzN9l.jpg?s=128&g=1", "display_name": "Captain Ryan", "link": "https://stackoverflow.com/users/5293954/captain-ryan"}, "reply_to_user": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1455585700, "post_id": 35421334, "comment_id": 58544478, "body": "Hi @Joshua - I am sure the expect command is being called and I am sure that all of the variables (ip, port and pass) are being passed properly. The final variable, the array, is my issue: I do not know how to properly pass it or, once I have passed it to the expect script, how to properly use an array parameter inside the expect script itself."}], "answers": [{"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1455631464, "post_id": 35423066, "comment_id": 58567324, "body": "There&#39;s an idiom for older Tcl&#39;s that don&#39;t have <code>lassign</code>: <code>foreach {num ip port pass} $argv break</code> -- that will store the first 4 elements of the argv list into the named variables, and the break will stop the loop so there&#39;s only one iteration through the loop."}, {"owner": {"reputation": 35, "user_id": 5293954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzN9l.jpg?s=128&g=1", "display_name": "Captain Ryan", "link": "https://stackoverflow.com/users/5293954/captain-ryan"}, "edited": false, "score": 0, "creation_date": 1455655361, "post_id": 35423066, "comment_id": 58583037, "body": "Thank you so much for the response. I was able to use parts of it to eventually solve my issue. I truly appreciate your help!"}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 2, "last_activity_date": 1455592778, "creation_date": 1455592778, "answer_id": 35423066, "question_id": 35421334, "link": "https://stackoverflow.com/questions/35421334/how-do-i-pass-an-array-from-perl-to-an-expect-script/35423066#35423066", "title": "How do I pass an array from Perl to an Expect script?", "body": "<p>You should use the multi-argument version of <code>system</code>:</p>\n\n<pre><code>system('expect.sh', 300, $vmIp, $vmPort, $pass, @configInfo);\n</code></pre>\n\n<p>And in expect, you'd write (with a recent expect)</p>\n\n<pre><code>set config_info [lassign $argv num ip port pass]\n</code></pre>\n\n<p>If your expect does not know about the <code>lassign</code> command, do this</p>\n\n<pre><code>set num  [lindex $argv 0]\nset ip   [lindex $argv 1]\nset port [lindex $argv 2]\nset pass [lindex $argv 3]\nset config_info [lrange $argv 4 end]\n</code></pre>\n\n<p>To satisfy your end goal</p>\n\n<pre><code>set fh [open some.file.name w]\nputs $fh [join $config_info \\n]\nclose $fh\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5293954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzN9l.jpg?s=128&g=1", "display_name": "Captain Ryan", "link": "https://stackoverflow.com/users/5293954/captain-ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 2, "accepted_answer_id": 35423066, "answer_count": 1, "score": 1, "last_activity_date": 1455741405, "creation_date": 1455580708, "last_edit_date": 1455741405, "question_id": 35421334, "link": "https://stackoverflow.com/questions/35421334/how-do-i-pass-an-array-from-perl-to-an-expect-script", "title": "How do I pass an array from Perl to an Expect script?", "body": "<p>I am trying to remove my program's dependency on reading information from files and then interpreting that information. I have created a library of Perl commands that generates the necessary information on-demand. The one hang-up I am experiencing is that Perl sometimes calls an expect script and the expect script is currently designed to take in a file path, open that file, read in the information and then use that information.</p>\n\n<p>Instead I would like to pass in a Perl array to the expect script that contains all of the information. Herein lies my problem: I have been struggling to figure out how an expect script handles an array as a parameter and translating that parameter into something useful.</p>\n\n<p>Perl example:</p>\n\n<pre><code>my $expectCmd = \"expect.sh 300 $vmIp $vmPort $pass @configInfo\";\nsystem($expectCmd);\n</code></pre>\n\n<p>Expect Script:</p>\n\n<pre><code>set ip [lindex $argv 1]\nset port [lindex $argv 2]\nset pass [lindex $argv 3]\n</code></pre>\n\n<p>At this point I have no idea how to read in the @configInfo array and use it. I have tried various methods of upvar, array set, for-loops, foreach loops, begging, pleading and bribing. Nothing has worked so far.</p>\n\n<p>The end goal will be to send the @configInfo array line-by-line to a file. Basically, I want each index of the array to be a line in the file - if it was Perl I would just:</p>\n\n<pre><code>foreach my $line (@configInfo) {\n    print FILE $line;\n}\n</code></pre>\n\n<p>If anyone has experience in passing arrays into an expect script and then unpacking their contents for use I would be very grateful for a response. Many thanks!</p>\n"}, {"tags": ["perl", "openoffice.org", "libreoffice", "libreoffice-calc", "odf"], "comments": [{"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1455570273, "post_id": 35418996, "comment_id": 58538653, "body": "This happens with DOM too (and that&#39;s likely the underlying implementation). <a href=\"http://search.cpan.org/dist/XML-LibXML/lib/XML/LibXML/Document.pod#importNode\" rel=\"nofollow noreferrer\">search.cpan.org/dist/XML-LibXML/lib/XML/LibXML/&hellip;</a>"}, {"owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "reply_to_user": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1455571435, "post_id": 35418996, "comment_id": 58539268, "body": "@Kenney don&#39;t follow you, do you care more specific explanation?"}, {"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1455572396, "post_id": 35418996, "comment_id": 58539754, "body": "It&#39;s just a guess - I couldn&#39;t find the dependencies of <code>ODF::lpOD</code> to be sure, but, Elements ($el) are owned by a Document ($doc). If you want to insert an $el into a $doc, then $doc must have either created the element, or it must have <a href=\"http://search.cpan.org/dist/XML-LibXML/lib/XML/LibXML/Document.pod#adoptNode\" rel=\"nofollow noreferrer\">adopted</a> it."}, {"owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "reply_to_user": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1455573379, "post_id": 35418996, "comment_id": 58540248, "body": "@Kenney So I must clone the table before I could insert into new doc?"}, {"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 1, "creation_date": 1455573471, "post_id": 35418996, "comment_id": 58540288, "body": "I think <code>$newtable-&gt;adoptNode( $table );</code> before the <code>insert_element</code> should do it. If you clone, you still have to transfer ownership - <a href=\"http://stackoverflow.com/questions/6605158/perl-xmldom-copy-node-tree-between-files\">see here</a>."}, {"owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "reply_to_user": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 1, "creation_date": 1455575067, "post_id": 35418996, "comment_id": 58540992, "body": "@Kenney: actually it was still cloning like <code>my $newtable = $table-&gt;clone;</code> before insert. You could form it as an answer. Thank you!"}], "owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455570081, "creation_date": 1455570081, "question_id": 35418996, "link": "https://stackoverflow.com/questions/35418996/how-to-copy-one-ods-sheet-into-other-file", "title": "How to copy one ODS sheet into other file?", "body": "<p>Thought that copying one sheet from one ODF file into other is piece of cake. Unfortunately even simplest code below ends with empty new file:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict; use warnings; use 5.014; use utf8::all;\nuse ODF::lpOD;\n\nmy $doc = odf_get_document( \"olddoc.ods\" )\n  or die \"Failed to load the document\\n\";\n\nmy $table = $doc-&gt;get_body-&gt;get_table_by_position(0);\n\nmy $newdoc = odf_new_document('spreadsheet');\nmy $context = $newdoc-&gt;get_body;\nmy $newtable = $context-&gt;insert_element( $table );\n\n$newdoc-&gt;save(target =&gt; \"newdoc.ods\");\n</code></pre>\n\n<p>Only output I see is <code>Element already belonging to a tree</code>.</p>\n\n<p>Do you see why it fails to create new doc with first sheet of old document?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455569606, "post_id": 35418609, "comment_id": 58538345, "body": "Why are you using <code>foreach ($line)</code> there? It doesn&#39;t do anything, because <code>$line</code> is a single string."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455569618, "post_id": 35418609, "comment_id": 58538350, "body": "Also - what are you trying to get <i>out</i> of this file?"}, {"owner": {"reputation": 3, "user_id": 5931868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7d81ef5ff3a90bc225a65c2b6ece27?s=128&d=identicon&r=PG&f=1", "display_name": "E-man", "link": "https://stackoverflow.com/users/5931868/e-man"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455569900, "post_id": 35418609, "comment_id": 58538480, "body": "My reasoning was to use it for each iteration of going through the file do this regex, which I guess now that I think about it was not the best route, haha.  I am trying to get just the song titles off of the end of each line."}, {"owner": {"reputation": 7145, "user_id": 267398, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/beea308e4f0cd2781b8b3a362bac5493?s=128&d=identicon&r=PG", "display_name": "sebnukem", "link": "https://stackoverflow.com/users/267398/sebnukem"}, "edited": false, "score": 0, "creation_date": 1455570168, "post_id": 35418609, "comment_id": 58538597, "body": "Please post the expected result from your sample."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5931868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7d81ef5ff3a90bc225a65c2b6ece27?s=128&d=identicon&r=PG&f=1", "display_name": "E-man", "link": "https://stackoverflow.com/users/5931868/e-man"}, "edited": false, "score": 0, "creation_date": 1455570720, "post_id": 35419092, "comment_id": 58538880, "body": "That worked perfectly thank you! Definitely showed me where I was going wrong too."}, {"owner": {"reputation": 7145, "user_id": 267398, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/beea308e4f0cd2781b8b3a362bac5493?s=128&d=identicon&r=PG", "display_name": "sebnukem", "link": "https://stackoverflow.com/users/267398/sebnukem"}, "edited": false, "score": 0, "creation_date": 1455570831, "post_id": 35419092, "comment_id": 58538938, "body": "This doesn&#39;t answer the question. OP explicitely asked for <i>everything</i> after  3rd sep."}, {"owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "reply_to_user": {"reputation": 7145, "user_id": 267398, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/beea308e4f0cd2781b8b3a362bac5493?s=128&d=identicon&r=PG", "display_name": "sebnukem", "link": "https://stackoverflow.com/users/267398/sebnukem"}, "edited": false, "score": 1, "creation_date": 1455571243, "post_id": 35419092, "comment_id": 58539150, "body": "@sebnukem yep he did but strangely that&#39;s not what he meant"}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1455585091, "post_id": 35419092, "comment_id": 58544312, "body": "<code>&lt;</code> and <code>&gt;</code> aren&#39;t meta-characters, so you don&#39;t need to escape them... <code>split(&#47;&lt;br&gt;&#47;, $line)</code> would work fine. An alternative to capturing all the other data would be <code>my $title = ( split(&#47;&lt;br&gt;&#47;,$line) )[3]</code>."}], "tags": [], "owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "is_accepted": true, "score": 0, "last_activity_date": 1455570365, "creation_date": 1455570365, "answer_id": 35419092, "question_id": 35418609, "link": "https://stackoverflow.com/questions/35418609/perl-i-cant-seem-to-figure-out-how-to-make-this-print-out-whats-after-the-third/35419092#35419092", "title": "Perl I cant seem to figure out how to make this print out whats after the third &lt;SEP&gt; and delete everything before that", "body": "<pre><code>while( $line =&lt;INFILE&gt;) {\n  my ($code,$code2,$artiste,$title,undef)=split(/\\&lt;br\\&gt;/,$line);\n  print \"$title\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5931868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7d81ef5ff3a90bc225a65c2b6ece27?s=128&d=identicon&r=PG&f=1", "display_name": "E-man", "link": "https://stackoverflow.com/users/5931868/e-man"}, "edited": false, "score": 0, "creation_date": 1455570830, "post_id": 35419120, "comment_id": 58538937, "body": "Thanks a lot for the help! and for the awesome walkthrough on how you were doing it! Still figuring out perl here so that is very helpful."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1455570524, "creation_date": 1455570524, "answer_id": 35419120, "question_id": 35418609, "link": "https://stackoverflow.com/questions/35418609/perl-i-cant-seem-to-figure-out-how-to-make-this-print-out-whats-after-the-third/35419120#35419120", "title": "Perl I cant seem to figure out how to make this print out whats after the third &lt;SEP&gt; and delete everything before that", "body": "<p>Looking at it - your sample isn't going to do much. The <code>while</code> loop reads a line at a time, but the <code>foreach</code> loop and pattern match doesn't do very much at all. </p>\n\n<p>So at a basic level - you could just do something simple like this:</p>\n\n<pre><code>while ( &lt;INFILE&gt; ) {\n    s/.*&gt;//;\n    print;\n}\n</code></pre>\n\n<p>This chops off everything up to <code>&gt;</code> - which works for the last line, but not the ones where you have a trailing <code>&lt;br&gt;</code>.</p>\n\n<p>So instead - to avoid that happening, we say 'but not at the end of line':</p>\n\n<pre><code>s/.*&gt;(?!$)//;\n</code></pre>\n\n<p>This gives us as output:</p>\n\n<pre><code>Autumn In The Mind (Acoustic Version)&lt;br&gt;\nAll For A Purpose (Speak Life Album Version)&lt;br&gt;\nAll of the same blood\n</code></pre>\n\n<p>So all we need do is drop <code>&lt;br&gt;</code> now:</p>\n\n<pre><code>s/.*&gt;(?!$)//;\ns/&lt;br&gt;$//g;\nprint;\n</code></pre>\n\n<p>This gives us: </p>\n\n<pre><code>Autumn In The Mind (Acoustic Version)\nAll For A Purpose (Speak Life Album Version)\nAll of the same blood\n</code></pre>\n\n<p>Whilst we're at it - you should really:</p>\n\n<ul>\n<li><code>use strict;</code> <code>use warnings;</code></li>\n<li>if you're opening a file, don't open <code>INFILE</code> instead <code>open ( my $infile, '&lt;', input_file_name ) or die $!;</code> </li>\n<li>You can usually just use <code>&lt;&gt;</code> for simple cases - that reads <code>STDIN</code> or files specified on command line.</li>\n<li>for really simple applications, that means <code>-n</code> wraps your code in a <code>while ( &lt;&gt; ) {</code> loop. <code>p</code> is almost the same, but it automatically prints. </li>\n</ul>\n\n<p>So:</p>\n\n<pre><code>perl -pe 's/.*&gt;(?!$)//; s/&lt;br&gt;$//g' yourfile. \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5931868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7d81ef5ff3a90bc225a65c2b6ece27?s=128&d=identicon&r=PG&f=1", "display_name": "E-man", "link": "https://stackoverflow.com/users/5931868/e-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 35419092, "answer_count": 2, "score": -2, "last_activity_date": 1456138025, "creation_date": 1455568637, "last_edit_date": 1456138025, "question_id": 35418609, "link": "https://stackoverflow.com/questions/35418609/perl-i-cant-seem-to-figure-out-how-to-make-this-print-out-whats-after-the-third", "title": "Perl I cant seem to figure out how to make this print out whats after the third &lt;SEP&gt; and delete everything before that", "body": "<pre><code>%TRMMMRR12903CF395D&lt;br&gt;SOJJAZT12AC4687219&lt;br&gt;Mike Badger and Friends&lt;br&gt;Autumn In The Mind (Acoustic Version)&lt;br&gt;\n%TRMMMWA128F1462C8C&lt;br&gt;SOYNOIK12A6D4F7F3F&lt;br&gt;Sev Statik&lt;br&gt;All For A Purpose (Speak Life Album Version)&lt;br&gt;\n%TRMMMKQ128F92EBCB5&lt;br&gt;SOOLRHW12A8C142643&lt;br&gt;Kreator&lt;br&gt;All of the same blood\n</code></pre>\n\n<p>above are a few examples of the lines I am reading and below is what I have so far.  </p>\n\n<p>It works fine and cuts out everything before the first <code>&lt;SEP&gt;</code> but whenever I try to modify it to make it reiterate through the loop or change to the third instance it just prints blank space for the whole file.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>while($line = &lt;INFILE&gt;) {   \n    foreach ($line){    \n    $title =~ $1 if /&lt;SEP&gt;/;        \n    print\"$'\\n\";\n    }   \n}\n</code></pre>\n\n<p>Expected Result:<br>\nAutumn In The Mind (Acoustic Version)<br>\nAll For A Purpose (Speak Life Album Version)<br>\nAll of the same blood<br></p>\n\n<p>and so on for larger files than just these 3 lines.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1455662182, "post_id": 35418454, "comment_id": 58586842, "body": "Provided an update to my answer based on your clarification. Though you are correct re: <code>croak</code> and <code>carp</code>. They appear to be the same. Don&#39;t know why I thought otherwise."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462300279, "post_id": 35418454, "comment_id": 61575555, "body": "I just ran into this while reviewing some older posts -- I am curious, how did it work for your purpose?  It is an interesting question.  Also, I suggest to always <a href=\"http://stackoverflow.com/help/someone-answers\">mark answers (link)</a> as appropriate or provide feedback.  It helps other users."}], "answers": [{"comments": [{"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1455570857, "post_id": 35419122, "comment_id": 58538953, "body": "Intent, as stated, is to use <code>MY_package::logme</code> as a helper sub in any other script (or module). <b>But</b> when <code>MY_package::logme</code> outputs the <code>carp</code> msg it should do so from the other script (or module)&#39;s calling point-of-view"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 2, "creation_date": 1455571415, "post_id": 35419122, "comment_id": 58539258, "body": "How does logme() help? An error happened elsewhere, I take it, then what -- do you pass it ($!) to logme()?  You have to be very careful, it gets tricky if that&#39;s what you do.  Why do you call <code>carp</code> from a logger-helper?  I&#39;ve written libraries for my own use which do related things, but only to reconstruct the stack, and they do report from their caller&#39;s perspective.  However, I call <code>carp</code> exclusively exactly where the error happened."}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1455572013, "post_id": 35419122, "comment_id": 58539552, "body": "logme() does some other sweet stuff, which I&#39;m not bringing into question, I know I can <code>carp</code> exclusively exactly where the error happened, but I want my cherry too:) I <b>do</b> know that logme() will <b>always</b> be called one level down from the any other script (or module)."}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1455633334, "post_id": 35419122, "comment_id": 58568670, "body": "Yes, that&#39;s the way I invoke <code>logme</code>, why would it matter? Also, I see that the docs discourage the use of <code>$Carp::CarpLevel</code>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1512120381, "last_edit_date": 1512120381, "creation_date": 1455570534, "answer_id": 35419122, "question_id": 35418454, "link": "https://stackoverflow.com/questions/35418454/have-carp-report-correct-caller-from-sub-helper/35419122#35419122", "title": "Have Carp report correct caller from sub helper", "body": "<p>Both <a href=\"http://perldoc.perl.org/Carp.html\" rel=\"nofollow noreferrer\">Carp</a> and <a href=\"http://perldoc.perl.org/caller.html\" rel=\"nofollow noreferrer\">caller</a> go back up the call stack and their output can be parsed for a report. <code>Carp</code> routines such as <code>carp</code> and <code>cluck</code> print to <code>STDERR</code> so they are not directly suitable for the purpose in this question, but <code>Carp::longmess</code> returns a string underlying those calls.</p>\n\n<p><code>Carp</code> routines print messages at the point at which they are called and cannot be asked to go to levels above, like one does with <code>caller($frameno)</code>. (Docs advise <em>against</em> the use of the variable <code>$Carp::CarpLevel</code> that messes with how <code>Carp</code> plays with call frames.) However, we can parse the string output of <code>longmess</code>.</p>\n\n<p>The code posted here uses <code>Carp::Longmess()</code>, except for one additional example of <code>caller</code> (which can also be used to this purpose). For its basics review the output of</p>\n\n<pre><code>use Carp qw(longmess);\nmy @lm = split '\\n', longmess();\n</code></pre>\n\n<p>Beware that some calls may get 'optimized away' and thus not be there for <code>Carp</code> to find them.</p>\n\n<p>On the other hand, <code>@call = caller($fno)</code> gives an 11-long list about the frame <code>$fno</code>. There are subtleties in how subs and lines are reported. For example, this summarizes the call to its sub  </p>\n\n<pre><code>my $caller = (caller(1))[3] . ' l.' . (caller)[2];\n</code></pre>\n\n<p>This allows one to 'walk the stack,' by iterating over the frame number, also shown in the code below.</p>\n\n<p>Error tracing is hard and adding another call after the error in my opinion adds to trouble.  This post only aims to show a basic way to see the call stack, and to have a sub parse the trace so to omit itself. There are related modules out there but I am not familiar enough with them to comment.</p>\n\n<hr>\n\n<p>In the code below calls are made in <code>main::</code> to trigger the sub that would log the error, via subs spread over two packages and main. They 'die' with or without <code>eval</code>, attempt a bad <code>open</code>, and in one case a mere message is sent (no error).</p>\n\n<p>These calls are printed, along with the logger's output, built using <code>Carp::longmess</code>. Reporting omits the logger itself, as if it came from a level above. There is also a <strong>separate example slipped in</strong> of how to build the <strong>full trace by <code>caller</code></strong>, and <strong>indent output by the stack-frame level</strong> of the sub.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n$| = 1;\n\npackage LogPack;\nuse Carp qw(longmess);\nsub logme {\n    my ($err, @other) = @_;\n    chomp($err);\n    my @lm = split '\\n', longmess();\n    # longmess() return:\n    #   first line:  message passed if any, then \"at pack::sub line num.\"\n    #   all others:  \"pack::sub(args) called at sub line num\"\n    print \"Message: \\\"$err\\\":\\n\";\n    # Print first line if error message doesn't show where it was issued\n    # (If it comes from eval it does, otherwise it may not)\n    if ( $err =~ m/line \\d+\\./ ) {\n        print \"$_\\n\" for ( map { s/\\(.*\\)/()/; $_ } @lm[1..$#lm] );\n    } else { \n        print \"$_\\n\" for ( map { s/\\(.*\\)/()/; $_ } @lm );\n    }\n    return 1;\n}\n\npackage ThrowPack;\nsub throw_die_pack {\n    # First a separate example: get stack-trace; indent by frame number \n    my $rstack = main::get_call_stack(); \n    my $tno = \"\\t\" x @$rstack;\n    print $tno . \"In ThrowPack::throw_die_pack()\\n\";\n    print $tno . \"Example: Show stack trace. Indented by frame number.\\n\";\n    print $tno . \"--- stack\\n\";\n    print $tno . \"$_\\n\"  for @$rstack;\n    print $tno . \"---------\\n\";\n    # Now throw; it bubbles up, but handler call is outside!\n    print $tno . \"Will cook div by zero now (1/0) ... \\n\";\n    my $res = 1/0;\n}\n\npackage main;\n\nsub err_handler   { LogPack::logme(@_); return 1 }\nsub call_for_msg  { LogPack::logme(@_); return 1 }\nsub open_nofile   {\n    open my $fh, '&lt;', \"no_such_file.$$\"  or err_handler($!);\n    return 1;\n}\nsub call_err      { throw_die() }\nsub call_err_pack { ThrowPack::throw_die_pack() }\nsub throw_die     { eval { my $res = 1/0 } or err_handler($@); }\n\n# Not necessary, showing another way of tracing the call stack\nsub get_call_stack() { \n    my $i = 1; # omit this call from trace\n    my @strace;\n    while ( my @call = caller($i++) ) {\n        push @strace, \"$call[1] line $call[2] in sub $call[3]\";\n    }\n    return [ @strace ];\n}\n\nprint \"Starting main.\\n\";\nprint \"1. Log a message when there is no error.\\n\";\ncall_for_msg(\"A string, no error.\");\nprint \"2. Call a sub that attempts to open a non-existent file ...\\n\";\nopen_nofile();\nprint \"3. Call subs which throw 'die' and do eval ...\\n\";\n# Need to control returns from code inside eval for 'eval { } or' to work\neval { call_err() } or err_handler($@); \nprint \"4. Call subs which 'die' without eval ...\\n\";\neval { call_err_pack() } or err_handler($@); \nprint \"Normal end.\\n\";\n</code></pre>\n\n<p>Output follows. <strong>The print indented far to the right is a separate example of the trace via <code>caller</code>, indented by the (<code>\"\\t\" x</code>) stack-frame number of the sub.</strong> I find it of huge help when all calls are tagged this way, sometimes (GUI debugging comes to mind).</p>\n\n<pre>\nStarting main.\n1. Log a message when there is no error.\nMessage: \"A string, no error.\":\nat rept_err.pl line 45.\n       main::call_for_msg() called at rept_err.pl line 67\n2. Call a sub that attempts to open a non-existent file ...\nMessage: \"No such file or directory\":\nat rept_err.pl line 44.\n       main::err_handler() called at rept_err.pl line 47\n       main::open_nofile() called at rept_err.pl line 70\n3. Call subs which throw 'die' and do eval ...\nMessage: \"Illegal division by zero at rept_err.pl line 52.\":\n       main::err_handler() called at rept_err.pl line 52\n       main::throw_die() called at rept_err.pl line 50\n       main::call_err() called at rept_err.pl line 72\n       eval {...} called at rept_err.pl line 72\n4. Call subs which 'die' without eval ...\n                       In ThrowPack::throw_die_pack()\n                       Example: Show stack trace. Indented  by frame number.\n                       --- stack\n                       rept_err.pl line 51 in sub ThrowPack::throw_die_pack\n                       rept_err.pl line 74 in sub main::call_err_pack\n                       rept_err.pl line 74 in sub (eval)\n                       ---------\n                       Will cook div by zero now (1/0) ... \nMessage: \"Illegal division by zero at rept_err.pl line 38.\":\n       main::err_handler() called at rept_err.pl line 74\nNormal end.\n</pre>\n\n<p>Note that the call to subs which die without <code>eval</code>-ing doesn't show anything beyond the point of handler invocation, triggered by its <code>eval</code> in <code>main::</code> -- because that call started with the handler invocation. The error message still correctly shows the point of error but there is no trace to it. This is an important case: you use code (module, libs) with no access to, and an unhandled <code>die</code> hits you.</p>\n"}, {"comments": [{"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1455634446, "post_id": 35419594, "comment_id": 58569467, "body": "first see I clarified the question for you.... and I don&#39;t see why <code>croak</code> differs from <code>carp</code> even before I clarified the question..."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 2, "last_activity_date": 1455664012, "last_edit_date": 1455664012, "creation_date": 1455572425, "answer_id": 35419594, "question_id": 35418454, "link": "https://stackoverflow.com/questions/35418454/have-carp-report-correct-caller-from-sub-helper/35419594#35419594", "title": "Have Carp report correct caller from sub helper", "body": "<p>Use the <code>croak</code> function from <code>Carp</code>.</p>\n\n<pre><code>    # TestModule.pm\n3|\n4| sub this_method {\n5|     my $arg = shift or croak('Not enough arguments supplied');\n6|     print \"Yay, got $arg\\n\";\n7| }\n8|\n</code></pre>\n\n<p>Now when you call that method from another script, it will report the error relative to where you called it, eg. doing this...</p>\n\n<pre><code>    # test_script.pl\n5|\n6| use TestModule;\n7|\n8| TestModule::this_method();\n9|\n</code></pre>\n\n<p>Would yield the following error...</p>\n\n<pre><code>Not enough arguments supplied at test_script.pl line 8.\n</code></pre>\n\n<p>If you want a full stacktrace you can opt for <code>confess</code> instead of <code>croak</code>, which would give you this error...</p>\n\n<pre><code>Not enough arguments supplied at TestModule.pm line 5.\n        TestModule::this_method() called at test_script.pl line 8\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Ok, given your clarification, what you really need to do is catch the exception at the helper sub. Rather than catch it in the module, you need to propagate the error up by returning a falsey value (ie <code>return;</code>). At the helper sub we can then call <code>Module::method() or die</code> and the <code>or</code> condition will trigger, because <code>Module::method()</code> returned a falsy value.</p>\n\n<pre><code>    # MyPackage.pm\n 1| package MyPackage;\n 2| \n 3| sub logme {\n 4|     my $arg = shift;\n 5|     return if !$arg;\n 6|     print \"Yay, got $arg\\n\";\n 7|     return 1;\n 8| }\n 9|\n10| 1;\n\n    # test_script.pl\n 5| use MyPackage;\n 6| use Carp qw( longmess );\n 7| \n 8| sub helper {\n 9|     MyPackage::logme(@_) or die(longmess('Not enough args'));\n10| }\n11| \n12| helper();\n</code></pre>\n\n<p>Alternatively... rather than have the error defined in your script file, you might opt to set the global <code>$EVAL_ERROR</code> (<code>$@</code>) variable, although this is sometimes frowned upon as it would overwrite that value if it had been set by another failed operation. Which is to say, in the event of cascading failures, you really want to know what the first failure was... so doing this is only acceptable in very simple functions where you want to be able to return different error messages.</p>\n\n<pre><code>    # MyPackage.pm\n 1| package MyPackage;\n 2| \n 3| sub logme {\n 4|     my $arg = shift;\n 5|     if ( !$arg ) {\n 6|         $@ = 'Not enough arguments supplied';\n 7|         return;\n 8|     }\n 9|     print \"Yay, got $arg\\n\";\n10|     return 1;\n11| }\n12| \n13| 1;\n\n    # test_script.pl\n 5| use MyPackage; \n 6| use Carp qw( longmess );\n 7| \n 8| sub helper {\n 9|     MyPackage::logme(@_) or die(longmess($@));\n10| }   \n11| \n12| helper();\n</code></pre>\n\n<p>Both the above implementations should gives you this error</p>\n\n<pre><code>Not enough args at test_script.pl line 12.\n</code></pre>\n\n<p>Also, there are modules on CPAN to provide better support for throwing and catching exceptions (just search for <code>throw</code>). I have not used them so I can't comment on them, but you might want to look into them.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>A better option than setting <code>$@</code> would be to create a variable in your module to store the error, and a method to set/get that error.</p>\n\n<pre><code>    # MyModule.pm\n 6| sub error {\n 7|     my $msg = shift;\n 8|     state $error;\n 9|     if ($msg) {\n10|         $error = $msg;\n11|     }\n12|     return $error;\n13| }\n14| \n15| sub logme {\n16|     my $arg = shift;\n17|     if ( !$arg ) {\n18|         error('Not enough arguments supplied');\n19|         return;\n20|     }\n21|     print \"Yay, got $arg\\n\";\n22|     return 1;\n23| }\n24|\n25| 1;\n\n    # test_script.pl\n 8| sub helper {\n 9|     MyPackage::logme(@_) or die( longmess( MyPackage::error() ) );\n10| }    \n</code></pre>\n\n<p>I'm using a <code>state</code> variable here, which is availble in perl > 5.10 (via <code>use feature 'state'</code>). If you have an old perl, <code>$error</code> would need to be a package global.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10194101"}, "is_accepted": false, "score": 0, "last_activity_date": 1533674657, "creation_date": 1533674657, "answer_id": 51735135, "question_id": 35418454, "link": "https://stackoverflow.com/questions/35418454/have-carp-report-correct-caller-from-sub-helper/51735135#51735135", "title": "Have Carp report correct caller from sub helper", "body": "<p>This questions is a little old now but the correct way to do this is to use <code>@CARP_NOT</code>.</p>\n\n<h2>Example</h2>\n\n<pre><code>package Helper;\n\nuse Carp;\nour @CARP_NOT;\n\nsub gonna_carp {\n  carp(\"Error\");\n}\n\n1;\n</code></pre>\n\n<hr>\n\n<pre><code>package Something;\n\nuse Helper;\n@Helper::CARP_NOT = (\"Something\");\n\nsub do_thing {\n  Helper::gonna_carp();\n}\n\n1;\n</code></pre>\n\n<hr>\n\n<p>Now when something calls Something::do_thing the carp will ignore Something.pm and go up again to the caller.</p>\n\n<p><a href=\"https://metacpan.org/pod/Carp#@CARP_NOT\" rel=\"nofollow noreferrer\">cpanm link</a></p>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1533674657, "creation_date": 1455568076, "last_edit_date": 1455634371, "question_id": 35418454, "link": "https://stackoverflow.com/questions/35418454/have-carp-report-correct-caller-from-sub-helper", "title": "Have Carp report correct caller from sub helper", "body": "<p>How do I have Perl's <code>Carp</code> report the caller location by skipping (or going back) one level of the <code>caller</code> ?</p>\n\n<p>Given my own local sub in <code>MY_Package</code>:</p>\n\n<pre><code>package MY_package;\n\nsub logme\n{\n    # some stuff I need logme for but the stack this example suffices\n    carp shift;\n}\n</code></pre>\n\n<p>Now, whenever I use <code>MY_package::logme</code>, how (or can I ?) get <code>carp</code> to skip the <code>logme</code> location and instead show from where <code>MY_package::logme</code> was called?</p>\n\n<p><strong>UPDATED</strong> based on @Joshua's answer, I'm adding this for clarity:</p>\n\n<p>Actually, the case/question is when I use <code>MY_package::logme</code> withing another helper sub of a different module (or script).</p>\n\n<p>So, given:</p>\n\n<pre><code>    # MY_package.pm\n3|\n4| sub logme {\n5|     my $arg = shift or croak('Not enough arguments supplied');\n6|     print \"Yay, got $arg\\n\";\n7| }\n8|\n</code></pre>\n\n<p>I'd use it like this:</p>\n\n<pre><code>     # test_script.pl\n 5|\n 6| use MY_package;\n 7|\n 8| sub helper {\n 9|    MY_package::logme(@_);\n10| }\n11|\n12| helper (\"balh blah blah\");\n...\n80| helper ($foo, $bar, $baz);\n...\n99| helper (\"I hope my question is more clear now\");\n</code></pre>\n\n<p>Given the above, and the calls from lines 12, 80 and 99, the <code>logme</code> and <code>croak</code> (or <code>carp</code>) from <code>MY_package</code> would always report on line 9 as the error! I wish to report the point where the <code>helper</code> sub was called from...</p>\n"}, {"tags": ["regex", "linux", "perl", "multiline"], "comments": [{"owner": {"reputation": 2228, "user_id": 2568535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c7af0a1b534bfb56df00a4529abf219?s=128&d=identicon&r=PG", "display_name": "Terry Burton", "link": "https://stackoverflow.com/users/2568535/terry-burton"}, "edited": false, "score": 0, "creation_date": 1455567758, "post_id": 35417891, "comment_id": 58537421, "body": "Please demonstrate that you are attempting to gain an understanding of the problem by providing an example if what you have already tried."}], "answers": [{"tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 0, "last_activity_date": 1455569653, "last_edit_date": 1455569653, "creation_date": 1455567544, "answer_id": 35418311, "question_id": 35417891, "link": "https://stackoverflow.com/questions/35417891/replace-multiline-string-by-multiline-string-using-perl/35418311#35418311", "title": "Replace multiline string by multiline string using perl", "body": "<p>You could come up with:</p>\n\n<pre><code>~^(&lt;!--.*\\R)(\\s+&lt;Connector[^&gt;]+&gt;)(.*\\R--&gt;.*)~\n</code></pre>\n\n<p>And replace the match with the second group, see <a href=\"https://regex101.com/r/sW1dI3/2\" rel=\"nofollow\">a demo here on regex101.com</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 0, "creation_date": 1455582368, "post_id": 35418762, "comment_id": 58543618, "body": "Obligatory link to what happens when you try to use regex to parse XML or HTML: <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1455604775, "post_id": 35418762, "comment_id": 58550242, "body": "While I agree generally, he did not actually ask for <i>parsing</i> the HTML, i.e. getting info out of it."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1455612270, "post_id": 35418762, "comment_id": 58554053, "body": "@Jan: The point is you can&#39;t reliably modify an XML document without parsing it."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1455569677, "last_edit_date": 1455569677, "creation_date": 1455569196, "answer_id": 35418762, "question_id": 35417891, "link": "https://stackoverflow.com/questions/35417891/replace-multiline-string-by-multiline-string-using-perl/35418762#35418762", "title": "Replace multiline string by multiline string using perl", "body": "<p>Regular expression is not the right tool to modify XML.\nUse an XML aware library. For example, <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nuse XML::LibXML;\n\nmy $xml     = 'XML::LibXML'-&gt;load_xml(location =&gt; 'file.xml');\nmy $comment = $xml-&gt;findnodes('//comment()')-&gt;[0];\nmy $inner   = 'XML::LibXML'-&gt;load_xml(string =&gt; $comment-&gt;textContent)\n              -&gt;getFirstChild;\n$comment-&gt;replaceNode($inner);\nprint $xml;\n</code></pre>\n\n<p>Or shorter with the <a href=\"https://metacpan.org/pod/distribution/XML-XSH2/xsh\" rel=\"nofollow\">xsh</a>\n wrapper:</p>\n\n<pre><code>open file.xml ;\nxinsert chunk string(//comment()[1]) replace //comment()[1] ;\nsave :b ;\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 4812217, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/28ef6470c7e73be6b7ebff032515fef7?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Benz", "link": "https://stackoverflow.com/users/4812217/jakob-benz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1455569677, "creation_date": 1455566003, "last_edit_date": 1455568381, "question_id": 35417891, "link": "https://stackoverflow.com/questions/35417891/replace-multiline-string-by-multiline-string-using-perl", "title": "Replace multiline string by multiline string using perl", "body": "<p>I'm trying to edit a tomcat configuration file using perl. I want to uncomment the following lines in an xml file. I tried it with perl, but it won't work.</p>\n\n<pre><code>&lt;!--\n    &lt;Connector port=\"8443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\"\n               maxThreads=\"150\" SSLEnabled=\"true\" scheme=\"https\" secure=\"true\"\n               clientAuth=\"false\" sslProtocol=\"TLS\" /&gt;\n--&gt;\n</code></pre>\n\n<p>This is what i got:</p>\n\n<pre><code>perl -i -pe 's~&lt;!--\\n    &lt;Connector port=\"8443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\"\\n              maxThreads=\"150\" SSLEnabled=\"true\" scheme=\"https\" secure=\"true\"\\n              clientAuth=\"false\" sslProtocol=\"TLS\" /&gt;\\n    --&gt;~&lt;Connector port=\"8443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\"\\n              maxThreads=\"150\" SSLEnabled=\"true\" scheme=\"https\" secure=\"true\"\\n              clientAuth=\"false\" sslProtocol=\"TLS\" /&gt;~' $CATALINA_HOME/conf/server.xml\n</code></pre>\n\n<p>Another question: can i find and replace a string with a regex?</p>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 2, "creation_date": 1455565309, "post_id": 35417685, "comment_id": 58536214, "body": "You can&#39;t do it like this. When you repeat a capture group the previous match is overwritten by the new one (at each repetition). Why don&#39;t you just use split?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455571295, "post_id": 35417685, "comment_id": 58539182, "body": "You can achieve that with Python PyPi regex, .NET Regex (CapureCollection) and there is an option to get the captures in Boost regex library."}, {"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455574007, "post_id": 35417685, "comment_id": 58540530, "body": "@WiktorStribi\u017cew: You can also achieve that with Perl regexes -- just not the way the OP is trying to."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455574365, "post_id": 35417685, "comment_id": 58540681, "body": "Perl 6 is even cooler with its <code>%</code> modifier"}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 1190149, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f423c8bed516d3c83e4d0c92753a4dcc?s=128&d=identicon&r=PG", "display_name": "Jesse Walton", "link": "https://stackoverflow.com/users/1190149/jesse-walton"}, "edited": false, "score": 0, "creation_date": 1455568908, "post_id": 35417760, "comment_id": 58537990, "body": "Thanks for the response.   Edit: So is it not possible to do this with regex?  What about: /^(\\w+)(\\|\\w+)*?$/"}, {"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "reply_to_user": {"reputation": 183, "user_id": 1190149, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f423c8bed516d3c83e4d0c92753a4dcc?s=128&d=identicon&r=PG", "display_name": "Jesse Walton", "link": "https://stackoverflow.com/users/1190149/jesse-walton"}, "edited": false, "score": 0, "creation_date": 1455573910, "post_id": 35417760, "comment_id": 58540482, "body": "@JesseWalton: The number of capture-groups in a regex is a static/lexical property of the regex, and doesn&#39;t depend on the string it&#39;s matching against. If you need a variable number of capture-groups, then a single regex match is not for you. (<code>&#39;red|white|blue&#39; =~ m&#47;^(\\w+)(\\|(\\w+))*$&#47;</code> is like writing <code>$1 = &#39;red&#39;; $2 = &#39;|white&#39;; $3 = &#39;white&#39;; $2 = &#39;|blue&#39;; $3 = &#39;blue&#39;</code>. It keeps reusing the same capture variables.)"}], "tags": [], "owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "is_accepted": false, "score": 2, "last_activity_date": 1455565417, "creation_date": 1455565417, "answer_id": 35417760, "question_id": 35417685, "link": "https://stackoverflow.com/questions/35417685/regex-capturing-repeating-group-of-groups-perl/35417760#35417760", "title": "Regex: Capturing repeating group of groups (Perl)", "body": "<p>Your first regex is actually wrong &mdash; the <code>*</code> is in the wrong place &mdash; but I'll focus on your second regex, which is correct:</p>\n\n<pre><code>/^(\\w+)(\\|(\\w+))*$/\n</code></pre>\n\n<p>The problem is that this regex has three capture groups: <code>(\\w+)</code>, <code>(\\|(\\w+))</code>, and <code>(\\w+)</code>. So it will populate, at most, three match variables: <code>$1</code>, <code>$2</code>, and <code>$3</code>. Each match variable corresponds to a single corresponding capture group. Which is not what you want.</p>\n\n<p>What you should do instead is use <code>split</code>:</p>\n\n<pre><code>my @words = split /\\|/, \"red|white|blue\";\n\n# now $words[0] is 'red', $words[1] is 'white', $words[2] is 'blue'\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 1190149, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f423c8bed516d3c83e4d0c92753a4dcc?s=128&d=identicon&r=PG", "display_name": "Jesse Walton", "link": "https://stackoverflow.com/users/1190149/jesse-walton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1455565417, "creation_date": 1455565131, "question_id": 35417685, "link": "https://stackoverflow.com/questions/35417685/regex-capturing-repeating-group-of-groups-perl", "title": "Regex: Capturing repeating group of groups (Perl)", "body": "<p>In Perl, I am trying to capture the words as tokens from the following example strings (there will always be at least one word):</p>\n\n<pre><code>\"red\"               ==&gt;    $1 = 'red';\n\"red|white\"         ==&gt;    $1 = 'red'; $2 = 'white';\n\"red|white|blue\"    ==&gt;    $1 = 'red'; $2 = 'white'; $3 = 'blue';\netc.\n</code></pre>\n\n<p>The pattern I see here is: WORD, followed by n sets of \"|WORD\" [n >= 0]</p>\n\n<p>So from that, I have: </p>\n\n<p><strong>/(\\w+)((?:\\|)(\\w+)*)/</strong></p>\n\n<p>Which, to my understanding will always match the first WORD, and if a |WORD pair exists, capture that as many times as needed. </p>\n\n<p>This doesn't work though, and I've tried several versions like: </p>\n\n<p><strong>/^(\\w+)(\\|(\\w+))*$/</strong></p>\n\n<p>... what am I missing?</p>\n"}, {"tags": ["perl", "template-toolkit"], "comments": [{"owner": {"reputation": 728, "user_id": 475992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85a5103436273a4620f51c82b7ecce73?s=128&d=identicon&r=PG", "display_name": "bob.faist", "link": "https://stackoverflow.com/users/475992/bob-faist"}, "edited": false, "score": 2, "creation_date": 1455565540, "post_id": 35417326, "comment_id": 58536303, "body": "<a href=\"http://stackoverflow.com/questions/2311303/how-can-i-handle-hash-keys-containing-illegal-identifier-characters-in-template\" title=\"how can i handle hash keys containing illegal identifier characters in template\">stackoverflow.com/questions/2311303/&hellip;</a>"}, {"owner": {"reputation": 1013, "user_id": 4943322, "user_type": "registered", "profile_image": "https://graph.facebook.com/10104170815733738/picture?type=large", "display_name": "Barry Jones", "link": "https://stackoverflow.com/users/4943322/barry-jones"}, "reply_to_user": {"reputation": 728, "user_id": 475992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85a5103436273a4620f51c82b7ecce73?s=128&d=identicon&r=PG", "display_name": "bob.faist", "link": "https://stackoverflow.com/users/475992/bob-faist"}, "edited": false, "score": 0, "creation_date": 1455573234, "post_id": 35417326, "comment_id": 58540178, "body": "Confirmed; that answers my question. Thanks!"}], "owner": {"reputation": 1013, "user_id": 4943322, "user_type": "registered", "profile_image": "https://graph.facebook.com/10104170815733738/picture?type=large", "display_name": "Barry Jones", "link": "https://stackoverflow.com/users/4943322/barry-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "closed_date": 1455568236, "answer_count": 0, "score": 0, "last_activity_date": 1455565146, "creation_date": 1455563765, "last_edit_date": 1592644375, "question_id": 35417326, "link": "https://stackoverflow.com/questions/35417326/perl-template-toolkit-can-you-access-hash-keys-that-have-hyphenated-names", "closed_reason": "Duplicate", "title": "Perl Template Toolkit: Can you access hash keys that have hyphenated names?", "body": "<h1>Perl Template Toolkit</h1>\n<h2>Accessing Hyphenated Hashtable Keys</h2>\n<h3>Question</h3>\n<p>Can you access hash keys that have hyphenated names?</p>\n<p>For example, if you declare the following hashref in Perl:</p>\n<pre><code>$hashref = {\n    'regularKey' =&gt; 1,\n    'hyphenated-key' =&gt; 1,\n};\n</code></pre>\n<p>And then try to access the entries via the Template Toolkit:</p>\n<pre><code>1. [% hashref.regularKey %] # Okay\n2. [% hashref.hyphenated-key %] # Generates error\n</code></pre>\n<p>The error reads:</p>\n<pre><code>Argument &quot;&quot; isn't numeric in subtraction (-) at myTemplatizedFile line 2.\n</code></pre>\n<p>Is there a way to get around the toolkit's assumption that the hyphens are for subtraction?</p>\n<h3>What I Tried</h3>\n<p>I tried escaping the hyphens with backslashes, but it generates this error when processing the template:</p>\n<pre><code>error - parse error - myTemplatizedFile line 138: unexpected token (\\)\n</code></pre>\n<h3>Backup Plan</h3>\n<p>I see two options to work around the issue:</p>\n<ol>\n<li>Change the keys to remove the hyphens.</li>\n<li>Create another hashref through which to access the hyphenated names, which repackages the names without hyphens. E.g.:</li>\n</ol>\n<p>Add in Perl:</p>\n<pre><code>$intermediateHashref = {\n    'unhyphenatedKey' =&gt; $hashref-&gt;{'hyphenated-key'},\n}\n</code></pre>\n<p>Change templated file:</p>\n<pre><code>1. [% hashref.regularKey %] # Okay\n2. [% intermediateHashref.unhyphenatedKey %] # Okay\n</code></pre>\n"}, {"tags": ["perl", "irssi"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5205324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/toFff.jpg?s=128&g=1", "display_name": "rud0lf", "link": "https://stackoverflow.com/users/5205324/rud0lf"}, "is_accepted": false, "score": 0, "last_activity_date": 1458057573, "last_edit_date": 1458057573, "creation_date": 1458049158, "answer_id": 36012963, "question_id": 35416810, "link": "https://stackoverflow.com/questions/35416810/irssi-dcc-stats-on-channel/36012963#36012963", "title": "irssi dcc stats on channel", "body": "<p>One problem may be the <code>dccs()</code> command itself, it's not recognized in my Irssi v0.8.15, so I used <code>Irssi::Irc::dccs()</code>. It returns <strong>the array</strong> of dcc connections, so it won't (pardon my sarcasm) \"magically\" turn into string of current dccs status, as \"/dcc list\" (you used \"/dcc stat\" term which i beleive is either a mistake or a command of a script which is unknown to me). You need to loop through the array of dccs and pick up the all the data you want. A sketchy (but working) code is given below, so you could use it as a template. Have fun with Irssi scripts.</p>\n\n<pre><code>use Irssi;\n\nuse vars qw($VERSION %IRSSI);\n\n$VERSION = \"1.0\";\n%IRSSI = (\nTest\n);\n\nsub event_privmsg {\n    my ($server, $data, $nick, $mask) =@_;\n    my ($target, $text) = $data =~ /^(\\S*)\\s:(.*)/;\n    return if ( $text !~ /^!dccstat$/i ); # this line could be removed as the next one checks for the same\n    if ($text =~ /^!dccstat$/ ) {\n        # get array of dccs and store it in @dccs\n        my @dccs = Irssi::Irc::dccs();\n        # iterate through array\n        foreach my $dcc (@dccs) {\n            # get type of dcc (SEND, GET or CHAT)\n            my $type = $dcc-&gt;{type};\n            # process only SEND and GET types\n            if ($type eq \"SEND\" || $type eq \"GET\") {\n                my $filename = $dcc-&gt;{arg};   # name of file            \n                my $nickname = $dcc-&gt;{nick};  # nickname of sender/receiver\n                my $filesize = $dcc-&gt;{size};  # size of file in bytes\n                my $transfered = $dcc-&gt;{transfd}; # bytes transfered so far\n\n                # you probably want to format file size and bytes transfered nicely, i'll leave it to you\n                $server-&gt;command(\"msg $target nick: $nickname type: $type file: $filename size: $filesize transfered: $transfered\");\n            }\n        }\n    }\n}\n\nIrssi::signal_add('event privmsg', 'event_privmsg');\n</code></pre>\n\n<p>Also, you use \"event privmsg\" which triggers also for (surprise!) private messages, not only channel ones, yet it works for those too (the response would be sent as a private message to the user). If it's not desired, i suggest use of \"message public\" signal, as below:</p>\n\n<pre><code># ..\n\nsub event_message_public {\n    my ($server, $msg, $nick, $mask, $target) = @_;\n\n    # .. the rest of code\n\n}\n\nIrssi::signal_add(\"message public\", event_message_public);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5865513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c217206af0a9bde96364756bfcb55c9a?s=128&d=identicon&r=PG&f=1", "display_name": "sayan", "link": "https://stackoverflow.com/users/5865513/sayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458057573, "creation_date": 1455561934, "last_edit_date": 1458050150, "question_id": 35416810, "link": "https://stackoverflow.com/questions/35416810/irssi-dcc-stats-on-channel", "title": "irssi dcc stats on channel", "body": "<p>I made my first irssi perl script, but it doesn't work.  I don't understand why not.</p>\n\n<p>When I type <code>!dccstat</code> on the channel, my home PC just responds with all DCC connections, like when I type <code>/dcc stat</code> on irssi.</p>\n\n<pre><code>use Irssi;\n\nuse vars qw($VERSION %IRSSI);\n\n$VERSION = \"1.0\";\n%IRSSI = (\nTest\n);\n\nsub event_privmsg {\nmy ($server, $data, $nick, $mask) =@_;\nmy ($target, $text) = $data =~ /^(\\S*)\\s:(.*)/;\n        return if ( $text !~ /^!dccstat$/i );\nif ($text =~ /^!dccstat$/ ) {\n        my $dcc = dccs();\n        $server-&gt;command ( \"msg $target $dcc\" )\n    }\n}\n\nIrssi::signal_add('event privmsg', 'event_privmsg');\n</code></pre>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 1, "creation_date": 1455561048, "post_id": 35416437, "comment_id": 58533893, "body": "Change <code>$temparray</code> with <code>$_</code> in <code>$lastbash</code>. Is your problem just to interpret the output from the <code>last</code> command?"}, {"owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1455562333, "post_id": 35416437, "comment_id": 58534583, "body": "@bolav Thanks very much! That worked brilliantly."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1455577072, "post_id": 35418732, "comment_id": 58541868, "body": "Any particular reason for keeping the seemingly unnecessary <code>utf8</code> pragma, the unused <code>@lastarray</code>, the poorly named variables, or the unconventional method of adding users to <code>@temparray</code>?"}, {"owner": {"reputation": 38, "user_id": 5892569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a99161b7235ec4b45ce7a74f9d71ce?s=128&d=identicon&r=PG", "display_name": "Bryan Jarmain", "link": "https://stackoverflow.com/users/5892569/bryan-jarmain"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455606296, "post_id": 35418732, "comment_id": 58550936, "body": "Often with such trivial scripts, bugs are few and optimizations unfortunately get neglected. As is always the case, many optimizations are possible. However that wasn&#39;t the focus of the question."}], "tags": [], "owner": {"reputation": 38, "user_id": 5892569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a99161b7235ec4b45ce7a74f9d71ce?s=128&d=identicon&r=PG", "display_name": "Bryan Jarmain", "link": "https://stackoverflow.com/users/5892569/bryan-jarmain"}, "is_accepted": true, "score": 1, "last_activity_date": 1455619448, "last_edit_date": 1455619448, "creation_date": 1455569090, "answer_id": 35418732, "question_id": 35416437, "link": "https://stackoverflow.com/questions/35416437/perl-using-a-linux-command-on-users-stored-in-a-hash/35418732#35418732", "title": "Perl, using a linux command on users stored in a hash", "body": "<p>The following should perform the task as requested:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse utf8;\n\n\nmy @temparray;\nmy $count = 0;\nmy @lastarray;\nmy $lastbash;\n\n\n#Opens the file /etc/shadow and puts the users with an uid over 1000 but less that 65000 into an array.\nopen( my $passwd, \"&lt;\", \"/etc/passwd\") or die \"/etc/passwd failed to open.\\n\";\n\n    while (my $lines = &lt;$passwd&gt;) {\n        my @splitarray = split(/\\:/, $lines );\n        if( $splitarray[2] &gt;= 1000 &amp;&amp; $splitarray[2] &lt; 65000) {\n\n            $temparray[$count] =$splitarray[0];\n            print \"$temparray[$count]\\n\";\n            $count++;\n        }\n    }\nclose $passwd;\n\nforeach (@temparray) {\n    my @lastbash = qx(last $_); #&lt;----Note the lines read in go to the $_ variable. Note use of my. You also read the text into array.\n    print $_.\":\".@lastbash.\"\\n\";  #&lt;----Note the formatting. Reading @lastbash returns the number of elements.\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 1, "last_activity_date": 1455752758, "last_edit_date": 1455752758, "creation_date": 1455575317, "answer_id": 35420263, "question_id": 35416437, "link": "https://stackoverflow.com/questions/35416437/perl-using-a-linux-command-on-users-stored-in-a-hash/35420263#35420263", "title": "Perl, using a linux command on users stored in a hash", "body": "<p>You don't really need the <code>$count</code>, you could just do <code>push @temparray, $splitarray[0]</code>.</p>\n\n<p>That said, I'm not sure why you need <code>@temparray</code> either... You can just run the command against the users as you find them.</p>\n\n<pre><code>my $passwd = '/etc/passwd';\nopen( my $fh, '&lt;', $passwd )\n  or die \"Could not open file '$passwd' : $!\";\n\nmy %counts;\n\n# Get `last` counts and store them %counts\nwhile ( my $line = &lt;$fh&gt; ) {\n    my ( $user, $uid ) = ( split( /:/, $line ) )[ 0, 2 ];\n    if ( $uid &gt;= 1000 &amp;&amp; $uid &lt; 65000 ) {\n        my $last = () = qx{last $user};\n        $counts{$user} = $last\n    }\n}\nclose $fh;\n\n# Sort %counts keys by value (in descending order)\nfor my $user ( sort { $counts{$b} &lt;=&gt; $counts{$a} } keys %counts ) {\n    printf \"%s:\\t %3d\\n\", $user, $counts{$user};\n}\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 35418732, "answer_count": 2, "score": 0, "last_activity_date": 1455752758, "creation_date": 1455560623, "last_edit_date": 1455560881, "question_id": 35416437, "link": "https://stackoverflow.com/questions/35416437/perl-using-a-linux-command-on-users-stored-in-a-hash", "title": "Perl, using a linux command on users stored in a hash", "body": "<p>Here is the code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse utf8;\n\n\nmy @temparray;\nmy $count = 0;\nmy @lastarray;\nmy $lastbash;\n\n\n#Opens the file /etc/shadow and puts the users with an uid over 1000 but less that 65000 into an array.\nopen( my $passwd, \"&lt;\", \"/etc/passwd\") or die \"/etc/passwd failed to open.\\n\";\n\n    while (my $lines = &lt;$passwd&gt;) {\n        my @splitarray = split(/\\:/, $lines );\n        if( $splitarray[2] &gt;= 1000 &amp;&amp; $splitarray[2] &lt; 65000) {\n\n            $temparray[$count] =$splitarray[0];\n            print \"$temparray[$count]\\n\";\n            $count++;\n        }\n    }\nclose $passwd;\n\nforeach (@temparray) {\n    $lastbash = qx(last $temparray);\n    print \"$lastbash\\n\";\n}\n</code></pre>\n\n<p>What I want to do is use the built in linux command \"last\" on all the users stored in the @temparray. And i want the output to be like this:</p>\n\n<p>user1:10</p>\n\n<p>user2:22</p>\n\n<p>Where 22 and 10 being the number of times they logged in. How can I achieve this ?\nI have tried several different ways but I always end up with errors.</p>\n"}, {"tags": ["linux", "perl", "encryption"], "comments": [{"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1455560530, "post_id": 35416226, "comment_id": 58533613, "body": "Don&#39;t use RC4 nowadays. Use authenticated encryption such as AES-GCM or ChaCha20-Poly1305 for example through libsodium."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1455640835, "post_id": 35416226, "comment_id": 58574212, "body": "&quot;but it didn&#39;t work properly&quot; - that&#39;s a terrible description of your problem. Exactly what unexpected behaviour did you see?"}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 4, "last_activity_date": 1455560446, "creation_date": 1455560446, "answer_id": 35416393, "question_id": 35416226, "link": "https://stackoverflow.com/questions/35416226/encryption-decryption-in-perl/35416393#35416393", "title": "Encryption Decryption in Perl", "body": "<p>MIME::Base64 is not encryption, but encoding. Look at for instance <a href=\"https://metacpan.org/pod/Crypt::CBC\">Crypt::CBC</a> for encryption.</p>\n"}, {"tags": [], "owner": {"reputation": 962, "user_id": 6447563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b6075775f2df179d7f6d7f1d66d5bcdb?s=128&d=identicon&r=PG&f=1", "display_name": "sixtytrees", "link": "https://stackoverflow.com/users/6447563/sixtytrees"}, "is_accepted": false, "score": 0, "last_activity_date": 1470147720, "creation_date": 1470147720, "answer_id": 38723088, "question_id": 35416226, "link": "https://stackoverflow.com/questions/35416226/encryption-decryption-in-perl/38723088#38723088", "title": "Encryption Decryption in Perl", "body": "<p>base64 is an encoding module that is used by some as diy code obfuscation technique. </p>\n\n<p>Consider using <code>Crypt::RSA</code> and <code>Crypt::SaltedHash</code> for your purposes.</p>\n"}], "owner": {"reputation": 215, "user_id": 1383839, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7bb2a3d98d9da6c256237073dc6af03d?s=128&d=identicon&r=PG", "display_name": "user1383839", "link": "https://stackoverflow.com/users/1383839/user1383839"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 35416393, "answer_count": 2, "score": -2, "last_activity_date": 1470147720, "creation_date": 1455559854, "question_id": 35416226, "link": "https://stackoverflow.com/questions/35416226/encryption-decryption-in-perl", "title": "Encryption Decryption in Perl", "body": "<p>I'm trying to use encryption and decryption in Perl on Linux, I can see modules like mime::base64 and rc4.</p>\n\n<p>I have tried base64 and rc4 but it didn't work   properly, any suggestions would be really helpful.</p>\n\n<p>Like I want to encrypt initially after some operation i want to decrypt it.</p>\n"}, {"tags": ["perl", "search", "hash", "user-defined"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 2, "last_activity_date": 1455555259, "creation_date": 1455555259, "answer_id": 35414841, "question_id": 35414785, "link": "https://stackoverflow.com/questions/35414785/user-defined-search-of-a-hash/35414841#35414841", "title": "User defined search of a hash", "body": "<p>You have a trailing newline character.  You need to <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">chomp</a> before you compare:</p>\n\n<pre><code>$search = &lt;&gt;;\nchomp $search;\n</code></pre>\n\n<p>Also, you should use the string compare <code>eq</code>:</p>\n\n<pre><code>if ($search eq \"N\")\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5925777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b2191d39bfda87ea5ac21519674a2cd?s=128&d=identicon&r=PG&f=1", "display_name": "jveytech", "link": "https://stackoverflow.com/users/5925777/jveytech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 35414841, "answer_count": 1, "score": 1, "last_activity_date": 1455555363, "creation_date": 1455555095, "last_edit_date": 1455555363, "question_id": 35414785, "link": "https://stackoverflow.com/questions/35414785/user-defined-search-of-a-hash", "title": "User defined search of a hash", "body": "<p>New to Perl. Using Windows 10 w/ Padre IDE. I have a question that has been stumping me and it's probably very simple yet I have yet to find an answer on the net.</p>\n\n<p>Here is the code that is working up until my search. It reads a list.txt file with names and matching phone numbers so I have two hashes (one is name => number, the second is number =>).</p>\n\n<pre><code>my $search = \"\";\n\nprint \"File name to be read in: \";\nmy $textFile = &lt;&gt;;\n\nopen FILE, $textFile;\nmy %hash;\n\nwhile (&lt;FILE&gt;)\n{\n    chomp;\n    my ($key, $val) = split / /;\n\n    $hash{$key} .= exists $hash{$key} ? \"$val\" : $val;\n}\n\nclose FILE;\n\nopen FILE, $textFile;\nmy %hash2;\n\nwhile (&lt;FILE&gt;)\n{\n    chomp;\n    my ($val, $key) = split / /;\n\n    $hash2{$key} .= exists $hash2{$key} ? \"$val\" : $val;\n}\n\nclose FILE;\n\n\nprint \"(N) for name (#) for number search and (.) to exit: \";\n\n$search = &lt;&gt;;\n\nif ($search == \"N\")                #heres where we have the problem\n{\n        print \"Enter name: \";  \n        my $person = &lt;&gt;;           #user defined search looks for Bob Smith\n        print $hash{$person};      #prints nothing\n}\n</code></pre>\n\n<p>However, when I make the search non-user defined, it works perfected as in:</p>\n\n<pre><code>if ($search == \"N\")                \n{\n        #print \"Enter name: \";  \n        #my $person = &lt;&gt;;           \n        print $hash{\"Bob Smith\"};      #prints Bob Smith's number\n}\n</code></pre>\n\n<p>For the record, I had $search print to screen to verify that there was no issue whenI entered the name in the first place. When I user-define the search, the hash will not pull up. When the name is specically coded into the hash function, it works every time.</p>\n\n<p>Thank you for helping a stumped Perl Noobie.</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1455549841, "post_id": 35412953, "comment_id": 58526809, "body": "The smallest value for 23.9901 is 3.364. Are same $1 values always consecutives?"}, {"owner": {"reputation": 89, "user_id": 1584111, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37061b341c1052b08cea844320cb71a9?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/1584111/jamie"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1455550207, "post_id": 35412953, "comment_id": 58527068, "body": "Yes, that is correct. Just fixed it. $1 values are always sorted incrementally."}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1455550295, "post_id": 35412953, "comment_id": 58527119, "body": "Also, your sample output looks to have rounded <code>$1</code> to two decimal places, has you only have <code>45.79 0</code> in your output, did you want ot process <code>45.7902 12.1518</code>. Hm.. no you have included a similar case in <code>54.1102 14.0718</code> . Oh yeah, and you forgot to include your attempt in code to solve your problem. We can help you fix your code but, S.O. isn&#39;t a free coding service. Good luck."}], "answers": [{"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 1, "last_activity_date": 1455550669, "last_edit_date": 1455550669, "creation_date": 1455550314, "answer_id": 35413172, "question_id": 35412953, "link": "https://stackoverflow.com/questions/35412953/find-smallest-2-for-every-unique-1/35413172#35413172", "title": "find smallest $2 for every unique $1", "body": "<p>You can do that:</p>\n\n<pre><code>awk 'NR==1{k=$1;v=$2;next} k==$1 { if (v&gt;$2) v=$2; next} {print k,v; k=$1;v=$2}END{print k,v}'\n</code></pre>\n\n<p>indented:</p>\n\n<pre><code># for the first record store the two fields\nNR==1 {\n    k=$1\n    v=$2\n    next\n}\n# when the first field doesn\\'t change\nk==$1 {\n    # check if the second field is lower\n    if (v&gt;$2)\n       v=$2\n    next\n}\n{\n    # otherwise print stored fields and reinitialize them\n    print k,v\n    k=$1\n    v=$2\n}\nEND {\n    print k,v\n}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 2, "last_activity_date": 1455550792, "creation_date": 1455550792, "answer_id": 35413345, "question_id": 35412953, "link": "https://stackoverflow.com/questions/35412953/find-smallest-2-for-every-unique-1/35413345#35413345", "title": "find smallest $2 for every unique $1", "body": "<p>You can use this gnu-awk command:</p>\n\n<pre><code>awk '!($1 in m) || m[$1]&gt;$2{m[$1]=$2} END{for (i in m) print i, m[i]}' file\n</code></pre>\n\n<p>Or to get the order same as the input file:</p>\n\n<pre><code>awk 'BEGIN{PROCINFO[\"sorted_in\"]=\"@ind_num_asc\"} !($1 in m) || m[$1] &gt; $2 {m[$1] = $2}\n     END{for (i in m) print i, m[i]}' file\n</code></pre>\n\n<p><code>BEGIN{PROCINFO[\"sorted_in\"]=\"@ind_num_asc\"}</code> is used to order the associative array by numerical index.</p>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>0 0\n23.9901 3.364\n24.054 18.5279\n25.0981 17.4839\n42.582 0\n45.79 0\n45.7902 12.1518\n51.034 12.028\n54.11 14.072\n54.1102 14.0718\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1455551045, "creation_date": 1455551045, "answer_id": 35413429, "question_id": 35412953, "link": "https://stackoverflow.com/questions/35412953/find-smallest-2-for-every-unique-1/35413429#35413429", "title": "find smallest $2 for every unique $1", "body": "<p>In Perl:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy %min;\n\nwhile (&lt;&gt;) {\n  chomp;\n  my ($key, $value) = split;\n  if (!exists $min{$key} or $value &lt; $min{$key}) {\n    $min{$key} = $value;\n  }\n}\n\nfor (sort { $a &lt;=&gt; $b } keys %min) {\n  say \"$_ $min{$_}\";\n}\n</code></pre>\n\n<p>It's written as a Unix filter, so it reads from STDIN and writes to STDOUT. Call it as:</p>\n\n<pre><code>$ ./get_min &lt; input_file &gt; output_file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 1584111, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37061b341c1052b08cea844320cb71a9?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/1584111/jamie"}, "edited": false, "score": 0, "creation_date": 1455552608, "post_id": 35413484, "comment_id": 58528677, "body": "This is a great way to solve this problem! However, a bit slow for large data..."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 89, "user_id": 1584111, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37061b341c1052b08cea844320cb71a9?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/1584111/jamie"}, "edited": false, "score": 0, "creation_date": 1455554661, "post_id": 35413484, "comment_id": 58530129, "body": "@jamie: Yes, this solution is more apt for the case where the first column is not already sorted. I missed that in the specification."}], "tags": [], "owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "is_accepted": false, "score": 3, "last_activity_date": 1455600657, "last_edit_date": 1592644375, "creation_date": 1455551201, "answer_id": 35413484, "question_id": 35412953, "link": "https://stackoverflow.com/questions/35412953/find-smallest-2-for-every-unique-1/35413484#35413484", "title": "find smallest $2 for every unique $1", "body": "<p>With Gnu or FreeBSD <code>sort</code>, you can do it as follows;</p>\n<pre><code>sort -k1,1 -k2,2g file | sort -k1,1g -su\n</code></pre>\n<p>The first <code>sort</code> sorts the file into order by first and then second column value. The second <code>sort</code> uniquifies the file (<code>-u</code>) using <em>only</em> the first column to determine uniqueness. It also uses the <code>-s</code> flag to guarantee that the second column is still in order. In both cases, the sort uses the <code>-g</code> flag when it matters (see below), which does general numeric comparison, unlike the Posix-standard <code>-n</code> flag which only compares leading integers.</p>\n<p><strong>Performance note:</strong> (And thanks to OP for spurring me to do the measurements):</p>\n<p>Leaving the <code>g</code> off of <code>-k1,1</code> in the first sort is not a typo; it actually considerably speeds the sort up (on large files, with Gnu sort). Standard or integer (<code>-n</code>) sorts are <em>much</em> faster than general numeric sorts, perhaps 10 times as fast. However, all key types are about twice as fast for files which are &quot;mostly sorted&quot;. For more-or-less uniformly sampled random numbers, a lexicographic sort is a close approximation to a general numeric sort; close enough that the result shows the &quot;mostly sorted&quot; speed-up.</p>\n<p>It would have been possible to only sort by the second field in the first sort: <code>sort -k2,2g file | sort -k1,1g -su</code> but this is <em>much</em> slower, both because the primary sort in the first pass is general numeric instead of lexicographic and because the file is no longer mostly sorted for the second pass.</p>\n<p>Here's just one sample point, although I did a few tests with similar results. The input file consists of 299,902 lines, each containing two numbers in the range 0 to 1,000,000, with three decimal digits. There are precisely 100,000 distinct numbers in the first column; each appears from one to five times with different numbers in the second column. (All numbers in the second column are distinct, as it happens.)</p>\n<p>All timings were collected with bash's <code>time</code> verb, taking the real (wallclock) time. (Sort multithreads nicely so the user time was always greater).</p>\n<p>With the first column correctly sorted and the second column randomised:</p>\n<pre><code>sort -k1,1  -k2,2g sorted | sort -k1,1g -su          1.24s\nsort -k1,1g -k2,2g sorted | sort -k1,1g -su          1.78s\nsort        -k2,2g sorted | sort -k1,1g -su          3.00s\n</code></pre>\n<p>With the first column randomised:</p>\n<pre><code>sort -k1,1  -k2,2g unsorted | sort -k1,1g -su        1.42s\nsort -k1,1g -k2,2g unsorted | sort -k1,1g -su        2.19s\nsort        -k2,2g unsorted | sort -k1,1g -su        3.01s\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16325, "user_id": 3220113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1c0b015f14adfdf581d04c065e903d?s=128&d=identicon&r=PG&f=1", "display_name": "Walter A", "link": "https://stackoverflow.com/users/3220113/walter-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1455551791, "last_edit_date": 1455551791, "creation_date": 1455551269, "answer_id": 35413510, "question_id": 35412953, "link": "https://stackoverflow.com/questions/35412953/find-smallest-2-for-every-unique-1/35413510#35413510", "title": "find smallest $2 for every unique $1", "body": "<p>When you want to use sort, you first have to fix the ordering. Sort will not understand the decimal point, so temporary change that for a <code>x</code>.<br>\nNow sort numeric on the numeric fields and put back the decimal point.\nThe resulting list is sorted correctly, take the first value of each key.</p>\n\n<pre><code>sed 's/\\./ x /g' inputfile | sort -n -k1,3 -k4,6  | sed 's/ x /./g'  | sort -u -k1,1\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 1584111, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37061b341c1052b08cea844320cb71a9?s=128&d=identicon&r=PG", "display_name": "jamie", "link": "https://stackoverflow.com/users/1584111/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "closed_date": 1455551274, "accepted_answer_id": 35413172, "answer_count": 5, "score": 0, "last_activity_date": 1455600657, "creation_date": 1455549607, "last_edit_date": 1455550721, "question_id": 35412953, "link": "https://stackoverflow.com/questions/35412953/find-smallest-2-for-every-unique-1", "closed_reason": "Duplicate", "title": "find smallest $2 for every unique $1", "body": "<p>I am trying to obtain the smallest $2 value for every $1 value. My data looks like follows:</p>\n\n<pre><code>0 0\n23.9901 13.604\n23.9901 13.604\n23.9901 3.364\n23.9901 3.364\n24.054 18.5279\n25.0981 17.4839\n42.582 0\n45.79 0\n45.79 15.36\n45.7902 12.1518\n51.034 12.028\n54.11 14.072\n54.1102 14.0718\n</code></pre>\n\n<p>The output must look like:</p>\n\n<pre><code>0 0\n23.9901 3.364\n24.054 18.5279\n25.0981 17.4839\n42.582 0\n45.79 0\n45.7902 12.1518\n51.034 12.028\n54.11 14.072\n54.1102 14.0718\n</code></pre>\n\n<p>I can manage this by creating multiple files for each $1 value and finding the min in each file. But I am wondering if there might be a more elegant solution for this?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1455547848, "post_id": 35412241, "comment_id": 58525481, "body": "This sounds like an <code>XY Problem</code>. Please explain what you&#39;re trying to accomplish."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1455548031, "post_id": 35412241, "comment_id": 58525613, "body": "Your example is valid Perl code, but doesn&#39;t do what you think it does. Please <a href=\"https://stackoverflow.com/posts/35412241/edit\">edit</a> your question and show actual real life examples."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1455558865, "post_id": 35412721, "comment_id": 58532690, "body": "/g is possibly wanted on the substitution"}, {"owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "edited": false, "score": 0, "creation_date": 1456581711, "post_id": 35412721, "comment_id": 59020490, "body": "@simbabque Thank this work for me. But if the string is something like $str = &quot; a=b and c=d &quot;. How can i change two sign together?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "edited": false, "score": 0, "creation_date": 1456650065, "post_id": 35412721, "comment_id": 59039075, "body": "@tim use  the <code>&#47;g</code> modifier as ysth suggested."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1455548872, "creation_date": 1455548872, "answer_id": 35412721, "question_id": 35412241, "link": "https://stackoverflow.com/questions/35412241/best-way-to-reverse-the-mathematical-operator/35412721#35412721", "title": "Best way to reverse the mathematical operator", "body": "<p>Assuming your strings are really like this:</p>\n\n<pre><code>$str = 'a &gt; b';\n$str1 = 'c &lt; d';\n$str2 = 'e = f';\n</code></pre>\n\n<p>For one-character operators you can use the <a href=\"http://perldoc.perl.org/functions/tr.html\" rel=\"nofollow\">transliteration operator</a> <code>tr///</code>, which is cheaper than regular expressions.</p>\n\n<pre><code>$str =~ tr/&lt;&gt;+-/&gt;&lt;-+/;\n</code></pre>\n\n<p>For turning <code>=</code> into <code>!=</code>, you will need to fall back to a <a href=\"http://perldoc.perl.org/functions/s.html\" rel=\"nofollow\">substitution</a> using <code>s///</code>. </p>\n\n<p>You can use a lookup hash for each negation, and turn the lookup keys into a pattern that you can use for the lookup.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %op = (\n    '&lt;'  =&gt; '&gt;',\n    '&gt;'  =&gt; '&lt;',\n    '='  =&gt; '!=',\n    '!=' =&gt; '=',\n);\n\nmy $pattern = sprintf '(%s)', join '|', map quotemeta, keys %op;\n\nmy @strings = ('a &gt; b', 'a &lt; b', 'e = f', 'g != h');\nforeach my $str (@strings) {\n    print $str;\n    $str =~ s/$pattern/$op{$1}/e;\n    print \" --&gt; $str\\n\";\n}\n\n__END__\na &gt; b --&gt; a &lt; b\na &lt; b --&gt; a &gt; b\ne = f --&gt; e != f\ng != h --&gt; g = h\n</code></pre>\n\n<p>The <code>quotemeta</code> makes sure there are no regular expression meta chars in the pattern. That's not important for the example chars I showed, but it might be in your full use case.</p>\n\n<p>This might be a good time to read <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">perlre</a>.</p>\n"}], "owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455548872, "creation_date": 1455547448, "question_id": 35412241, "link": "https://stackoverflow.com/questions/35412241/best-way-to-reverse-the-mathematical-operator", "title": "Best way to reverse the mathematical operator", "body": "<p>I have some string which contain</p>\n\n<pre><code>$str = a &gt; b;\n$str1 = c &lt; d;\n$str2 = e = f;\n</code></pre>\n\n<p>What is the best way to do if i want to reverse the operator for example > become &lt; , > become &lt; , = become !=. The only way i know is to doing matching and get the a and b and using join function to join a and b with opposite operator. Any better way to do it? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1455545216, "post_id": 35411312, "comment_id": 58523580, "body": "Start with not using XML::Simple, which is horrible. And post some sample XML with a desired output."}, {"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1455545412, "post_id": 35411312, "comment_id": 58523734, "body": "The XML::Simple is requested.. i know there are other methods"}, {"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455545531, "post_id": 35411312, "comment_id": 58523806, "body": "The desired output would be the same with the first Dumper output..  <code>$VAR1 = {       &#39;opt&#39; =&gt; {                &#39;step820&#39; =&gt; &#39;0&#39;,                &#39;step190&#39; =&gt; &#39;0&#39;,                &#39;step124&#39; =&gt; &#39;0&#39;,                }     }; </code> what i am trying to do is to acces the values and modify them"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1455546004, "post_id": 35411312, "comment_id": 58524177, "body": "<a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Why is XML::Simple \u201cDiscouraged\u201d?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": true, "score": 1, "last_activity_date": 1455545782, "creation_date": 1455545782, "answer_id": 35411695, "question_id": 35411312, "link": "https://stackoverflow.com/questions/35411312/perl-overwrite-structure-member-value/35411695#35411695", "title": "Perl: overwrite structure member value", "body": "<blockquote>\n  <p>I just need to overwrite the values of steps(ex:$var1->opt->step820 = 2). How can i do that? </p>\n</blockquote>\n\n<pre><code>$input-&gt;{opt}-&gt;{step820} = 2;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1455545913, "creation_date": 1455545913, "answer_id": 35411753, "question_id": 35411312, "link": "https://stackoverflow.com/questions/35411312/perl-overwrite-structure-member-value/35411753#35411753", "title": "Perl: overwrite structure member value", "body": "<p>Look at the <code>RootName</code> option of XMLout. By default, when \"XMLout()\" generates XML, the root element will be named 'opt'.  This option allows you to specify an alternative name.</p>\n\n<p>Specifying either undef or the empty string for the RootName option will produce XML with no root elements.</p>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "edited": false, "score": 0, "creation_date": 1455549573, "post_id": 35412096, "comment_id": 58526642, "body": "The XML::Simple is requested, because it is &quot;basic&quot; (at least that&#39;s what I&#39;ve benn told)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "edited": false, "score": 1, "creation_date": 1455551139, "post_id": 35412096, "comment_id": 58527662, "body": "It is basic, in the same way as trying to light a fire by twiddling a piece of wood. E.g. it&#39;s hard work, and prone to failure, and by the way wouldn&#39;t you rather use the lighter you&#39;ve got in your pocket?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1455547003, "last_edit_date": 1495541694, "creation_date": 1455547003, "answer_id": 35412096, "question_id": 35411312, "link": "https://stackoverflow.com/questions/35411312/perl-overwrite-structure-member-value/35412096#35412096", "title": "Perl: overwrite structure member value", "body": "<p>I'm going to say what I always do, whenever someone posts something asking about <code>XML::Simple</code> - and that is that <code>XML::Simple</code> is deceitful - it isn't simple at all.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Why is XML::Simple &quot;Discouraged&quot;?</a></p>\n\n<p>So - in your example:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $xml= XML::Twig-&gt;new-&gt;parsefile($file);\n$xml -&gt; get_xpath('./opt/step820',0)-&gt;set_text(\"2\");\n$xml -&gt; print;\n</code></pre>\n\n<p>The problem is that <code>XML::Simple</code> is only any good for parsing the type of <code>XML</code> that you didn't really need XML for in the first place. </p>\n\n<p>For more simple examples - have you considered using <code>JSON</code> for serialisation? As it more directly reflects the hash/array structure of native perl data types. </p>\n\n<p>That way you can instead:</p>\n\n<pre><code>print {$output_fh} to_json ( $myconfig, {pretty=&gt;1} ); \n</code></pre>\n\n<p>And read it back in:</p>\n\n<pre><code>my $myconfig = from_json ( do { local $/; &lt;$input_fh&gt; }); \n</code></pre>\n\n<p>Something like:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse JSON; \n\nmy $input; \n\nmy $time = 0; \nforeach my $step ( qw ( step820 step190 step124 ) ) {\n    push(@{$input-&gt;{$step}},$time);\n}\n\nprint to_json ( $input, {pretty=&gt;1} );\n</code></pre>\n\n<p>Giving resultant JSON of:</p>\n\n<pre><code>{\n   \"step190\" : [\n      0\n   ],\n   \"step820\" : [\n      0\n   ],\n   \"step124\" : [\n      0\n   ]\n}\n</code></pre>\n\n<p>Although actually, I'd probably:</p>\n\n<pre><code>foreach my $step ( qw ( step820 step190 step124 ) ) {\n    $input-&gt;{$step} = $time;\n}\n\nprint to_json ( $input, {pretty=&gt;1} );\n</code></pre>\n\n<p>Which gives;</p>\n\n<pre><code>{\n   \"step190\" : 0,\n   \"step124\" : 0,\n   \"step820\" : 0\n}\n</code></pre>\n\n<p>JSON uses very similar conventions to <code>perl</code> - in that <code>{}</code> denote key value pairs (hashes) and <code>[]</code> denote arrays. </p>\n"}], "owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 35411695, "answer_count": 3, "score": 1, "last_activity_date": 1455547003, "creation_date": 1455544734, "question_id": 35411312, "link": "https://stackoverflow.com/questions/35411312/perl-overwrite-structure-member-value", "title": "Perl: overwrite structure member value", "body": "<p>I am creating $input with this code:\n<code>push(@{$input-&gt;{$step}},$time);</code>, then I save it in an xml file, and at the next compiling, I read it from that file. When i print it, i get the structure bellow.</p>\n\n<pre><code>if(-e $file)\nmy $input =XMLin($file...);\n</code></pre>\n\n<p><code>print Dumper $input;</code></p>\n\n<p>and I get this structure</p>\n\n<pre><code>$VAR1 = {\n      'opt' =&gt; {\n               'step820' =&gt; '0',\n               'step190' =&gt; '0',\n               'step124' =&gt; '0',\n               }\n    };\n</code></pre>\n\n<p>for each step with it's time..</p>\n\n<pre><code>push(@{$input-&gt;{$step}},$time3);\n\n\nXmlOut($file, $input);\n</code></pre>\n\n<p>If I run the program again, I get this structure:</p>\n\n<pre><code>$VAR1 = {\n      'opt' =&gt; {\n               'step820' =&gt; '0',\n               'step190' =&gt; '0',\n               'step124' =&gt; '0',\n               'opt' =&gt; {\n                        'step820' =&gt; '0',\n                        'step190' =&gt; '0',\n                        'step124' =&gt; '0'\n                        }\n         }\n</code></pre>\n\n<p>I just need to overwrite the values of steps(ex:$var1->opt->step820 = 2). How can i do that? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1455541523, "post_id": 35410071, "comment_id": 58520927, "body": "Because that&#39;s what the design said. Probably because though <code>#</code> denotes a comment in shell scripts."}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1455541745, "post_id": 35410071, "comment_id": 58521059, "body": "Is there some reason you think it should have been different?  Some problem you&#39;re encountering as a result of this?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1455542230, "post_id": 35410071, "comment_id": 58521375, "body": "@David \u2014 Presumably that the pound symbol is also known as the hash sign."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455542477, "post_id": 35410071, "comment_id": 58521548, "body": "Yeah, but it&#39;s a rather &#39;why does a language use the syntax like this&#39;... and there&#39;s no real answer apart from &quot;because it does&quot;."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455551224, "post_id": 35410071, "comment_id": 58527733, "body": "@Sobrique: That is simply wrong. Someone made the decision which syntax to use, that someone had reasons for the solution chosen, and listing those reasons here would be a perfect answer to a perfectly valid question. Perhaps the question is off-topic here, but it is a factual question, a good answer to it <i>is</i> possible, and it would <i>not</i> be opinion-based."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1455577399, "post_id": 35410071, "comment_id": 58541974, "body": "Perl is Open Source, you are free to download it and alter the code to be whatever you want.  Good luck!"}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455618852, "post_id": 35410071, "comment_id": 58558586, "body": "@akshymane please mark answer as accepted unless there is still an open issue."}, {"owner": {"reputation": 47, "user_id": 1301668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MKsTy.jpg?s=128&g=1", "display_name": "akshaymane", "link": "https://stackoverflow.com/users/1301668/akshaymane"}, "reply_to_user": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455776803, "post_id": 35410071, "comment_id": 58643278, "body": "@neuhaus   I dont think it answers the question,   Im looking at historical perspective of PERL and symbols.  More importantly i dont understand why this question is put on hold :/ :/"}], "answers": [{"comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1455543305, "post_id": 35410379, "comment_id": 58522151, "body": "What&#39;s the mnemonic?"}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 1, "creation_date": 1455543425, "post_id": 35410379, "comment_id": 58522234, "body": "There are two numbers in a percent sign, separated by the slash. Think of them as key + value."}], "tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 3, "last_activity_date": 1455542179, "creation_date": 1455542179, "answer_id": 35410379, "question_id": 35410071, "link": "https://stackoverflow.com/questions/35410071/why-did-perl-creators-use-to-represent-hash-data-structure-instead-of-using-th/35410379#35410379", "title": "Why did PERL creators use % to represent Hash Data Structure instead of using the #(hash ) sign?", "body": "<blockquote>\n  <p>It's a little mnemonic trick to help you remind about the key-value\n  structure.</p>\n</blockquote>\n\n<p>Source: <a href=\"http://perlmaven.com/perl-hashes\" rel=\"nofollow\">http://perlmaven.com/perl-hashes</a></p>\n"}], "owner": {"reputation": 47, "user_id": 1301668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MKsTy.jpg?s=128&g=1", "display_name": "akshaymane", "link": "https://stackoverflow.com/users/1301668/akshaymane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1455543499, "answer_count": 1, "score": -1, "last_activity_date": 1455600379, "creation_date": 1455541355, "last_edit_date": 1455600379, "question_id": 35410071, "link": "https://stackoverflow.com/questions/35410071/why-did-perl-creators-use-to-represent-hash-data-structure-instead-of-using-th", "closed_reason": "Opinion-based", "title": "Why did PERL creators use % to represent Hash Data Structure instead of using the #(hash ) sign?", "body": "<p>why did the perl creators use <code>%</code> instead of <code>#</code>?</p>\n\n<p><em>Right:</em> =>    %data = ('John Paul', 45, 'Lisa', 30, 'Kumar', 40);</p>\n\n<p><em>Wrong:</em> =>   #data = ('John Paul', 45, 'Lisa', 30, 'Kumar', 40);  (**This could have been a lot simpler to understand  because the # sign is also called HASH  **)</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1455535593, "post_id": 35408052, "comment_id": 58517176, "body": "What do you mean by a &quot;map&quot;? Where&#39;s your <code>on duplicate</code> statement?"}, {"owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1455536004, "post_id": 35408052, "comment_id": 58517442, "body": "my requirement is, while inserting the row from db1 to db2, if PR_ID which is primary key is  duplicate then i want to store it in map. how it can be achieved?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1455543603, "post_id": 35408052, "comment_id": 58522362, "body": "What do you mean by &quot;a map&quot;? Do you mean a hash?"}, {"owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "edited": false, "score": 0, "creation_date": 1455551301, "post_id": 35408052, "comment_id": 58527778, "body": "yes. hashmap. is it possible to store in form of key and value"}], "answers": [{"tags": [], "owner": {"reputation": 5667, "user_id": 5875887, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3fQa0.jpg?s=128&g=1", "display_name": "Dylan Su", "link": "https://stackoverflow.com/users/5875887/dylan-su"}, "is_accepted": true, "score": 1, "last_activity_date": 1455536998, "creation_date": 1455536998, "answer_id": 35408642, "question_id": 35408052, "link": "https://stackoverflow.com/questions/35408052/how-to-check-the-duplicate-key-in-mysql-dbi-perl/35408642#35408642", "title": "how to check the duplicate key in mysql dbi Perl?", "body": "<p>You may need to call the following function to do it.</p>\n\n<p>$h->errstr()<br>\nReturns the native database engine error message from the last DBI method called.</p>\n\n<p>Refer to: <a href=\"http://zetcode.com/db/mysqlperl/err/\" rel=\"nofollow\">http://zetcode.com/db/mysqlperl/err/</a></p>\n"}], "owner": {"reputation": 379, "user_id": 1474701, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/679120adfc2610cffd50fe686b361651?s=128&d=identicon&r=PG", "display_name": "ashu", "link": "https://stackoverflow.com/users/1474701/ashu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "accepted_answer_id": 35408642, "answer_count": 1, "score": 0, "last_activity_date": 1455536998, "creation_date": 1455535320, "question_id": 35408052, "link": "https://stackoverflow.com/questions/35408052/how-to-check-the-duplicate-key-in-mysql-dbi-perl", "title": "how to check the duplicate key in mysql dbi Perl?", "body": "<p>I am trying to migrate data from one db1 to other db2.</p>\n\n<p>While migrating, there is possibility of duplicate primary key, then i want to over write with the db1 values. This can be achieved by on duplicate key sql statement.</p>\n\n<p>But i want to store duplicate entry key into a map? how it is possible?</p>\n\n<p>This is code which i have written for migration:</p>\n\n<pre><code>my $select = $dbh1-&gt;prepare(\"SELECT pr_id, name, lastname FROM person\");\nmy $insert = $dbh2-&gt;prepare(\"INSERT INTO PERSON(pr_id, name, last_name) VALUES (?,?,?)\");\n\n$select-&gt;execute; \nwhile ( my($PR_ID,$NAME,$LASTNAME) = $select-&gt;fetchrow_array )\n{\n   $insert-&gt;execute($PR_ID,$NAME,$LASTNAME);\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455528666, "post_id": 35405270, "comment_id": 58512665, "body": "Handily, <code>perl</code> has a <code>sort</code> function, which works quite nicely."}, {"owner": {"reputation": 49, "user_id": 5005716, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/044fdeda43b8b0c5f53f000376f0e8a9?s=128&d=identicon&r=PG&f=1", "display_name": "puspa", "link": "https://stackoverflow.com/users/5005716/puspa"}, "edited": false, "score": 0, "creation_date": 1455529251, "post_id": 35405270, "comment_id": 58513043, "body": "I am  writing to errr file: open($oErrorFileHandle, &quot;&gt; &quot;.$InputFile.&quot;.error&quot;) || die &quot;\\n ERROR  -&gt; failed to open $InputFile.error ...&quot;; then  I trying to sort the error file as mentioned above by using the below program:#    foreach (sort &lt;$oErrorFileHandle&gt;) #      { #   print $oErrorFileHandle $_; #      } I am getting the error message as :readline() on closed filehandle Symbol::GEN3 at ./SCOM_importOnePosMigrationId line 226. Thanks"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1455532037, "post_id": 35405270, "comment_id": 58514997, "body": "Please <a href=\"https://stackoverflow.com/posts/35405270/edit\">edit</a> your question with additional detail. (like code snippets). They&#39;re hard to read in comments. (And comments get deleted a little more readily)"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 5005716, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/044fdeda43b8b0c5f53f000376f0e8a9?s=128&d=identicon&r=PG&f=1", "display_name": "puspa", "link": "https://stackoverflow.com/users/5005716/puspa"}, "edited": false, "score": 0, "creation_date": 1455530130, "post_id": 35406020, "comment_id": 58513670, "body": "Thanks.But I am writing my script output to error file.And I want to display my error in order.First field above represent the line number.I am writing to the error file and closing the file.When I am trying to read it again to sort I am getting message readline() on closed filehandle Symbol::GEN3 at ./SCOM_importOnePosMigrationId .My close command $oErrorFileHandle-&gt;close();"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 1, "last_activity_date": 1455529580, "creation_date": 1455529580, "answer_id": 35406020, "question_id": 35405270, "link": "https://stackoverflow.com/questions/35405270/sorting-files-numerically-in-perl/35406020#35406020", "title": "Sorting files numerically in Perl", "body": "<p>Split on <code>:</code> and store in a hash of arrays. Then you can sort and print out the hash keys:</p>\n\n<pre><code>my %data;\n\nwhile(&lt;DATA&gt;){\n    my @field = split(/:/);\n    $data{$field[0]} = [@field[1..2]];\n}\n\nprint join (':', $_, @{$data{$_}}) for sort { $a &lt;=&gt; $b } keys %data;\n\nprint \"\\n\";\n</code></pre>\n\n<hr>\n\n<pre><code>1:file1:filed2\n3:filed1:field2\n4:field1:field2\n7:field1:field2\n10:filed1:field2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1455529818, "creation_date": 1455529818, "answer_id": 35406100, "question_id": 35405270, "link": "https://stackoverflow.com/questions/35405270/sorting-files-numerically-in-perl/35406100#35406100", "title": "Sorting files numerically in Perl", "body": "<p>For simple and fast solution, use <a href=\"https://metacpan.org/pod/Sort::Key::Natural\" rel=\"nofollow\">Sort::Key::Natural</a> (fast natural sorting) module:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Sort::Key::Natural qw( natsort );\n\nopen my $fh, \"&lt;\", \"file.txt\" or die $!;\nmy @files = natsort &lt;$fh&gt;;\nclose $fh;\nprint @files;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1:file1:filed2\n3:filed1:field2\n4:field1:field2\n7:field1:field2\n10:filed1:field2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1455547794, "creation_date": 1455547794, "answer_id": 35412367, "question_id": 35405270, "link": "https://stackoverflow.com/questions/35405270/sorting-files-numerically-in-perl/35412367#35412367", "title": "Sorting files numerically in Perl", "body": "<p>The way <code>sort</code> works in perl, is that it works through your list, setting each element to <code>$a</code> and <code>$b</code> - then testing those. By default, it uses <code>cmp</code> which is an alphanumeric sort. </p>\n\n<p>You've also got <code>&lt;=&gt;</code> which is a numeric sort, and the kind you're looking for. (Alpha sorts <code>10</code> ahead of <code>2</code> ). </p>\n\n<p>So - all we need do is extract the numeric value of your key. There's a number of ways you could do this - the obvious being to take a subroutine that temporarily copies the variables:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nsub compare_first_num {\n   my ( $a1 ) = split ( /:/, $a ); \n   my ( $b1 ) = split ( /:/, $b );\n   return $a1 &lt;=&gt; $b1;\n}\n\nprint sort compare_first_num &lt;&gt;;\n</code></pre>\n\n<p>This uses <code>&lt;&gt;</code> - the magic filehandle - to read <code>STDIN</code> or files specified on command line. </p>\n\n<p>Or alternatively, in newer perls (5.16+):</p>\n\n<pre><code>print sort { $a =~ s/:.*//r &lt;=&gt; $b =~ s/:.*//r } &lt;&gt;;\n</code></pre>\n\n<p>We use the 'substitute-and-return' operation to compare just the substrings we're interested in. (Numerically). </p>\n"}], "owner": {"reputation": 49, "user_id": 5005716, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/044fdeda43b8b0c5f53f000376f0e8a9?s=128&d=identicon&r=PG&f=1", "display_name": "puspa", "link": "https://stackoverflow.com/users/5005716/puspa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1455547794, "creation_date": 1455527410, "last_edit_date": 1455530018, "question_id": 35405270, "link": "https://stackoverflow.com/questions/35405270/sorting-files-numerically-in-perl", "title": "Sorting files numerically in Perl", "body": "<p>I would like to sort files numerically using Perl script.</p>\n\n<p>My files looks like below:</p>\n\n<pre><code>1:file1:filed2\n3:filed1:field2\n10:filed1:field2\n4:field1:field2\n7:field1:field2\n</code></pre>\n\n<p>I would like to display it as:</p>\n\n<pre><code>1:file1:filed2\n3:filed1:field2\n4:field1:field2\n7:field1:field2\n10:filed1:field2\n</code></pre>\n"}, {"tags": ["perl", "ftp", "connection", "connection-refused"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1455517790, "post_id": 35402742, "comment_id": 58507159, "body": "Sounds like the remote host at <code>111.118.248.24</code> is not running an FTP server, or FTP access is blocked by your firewall. Can you ftp to that server from the command line? What command do you type?"}], "answers": [{"tags": [], "owner": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "is_accepted": false, "score": 0, "last_activity_date": 1455525253, "creation_date": 1455525253, "answer_id": 35404666, "question_id": 35402742, "link": "https://stackoverflow.com/questions/35402742/connection-refused-while-connecting-host-through-netftp-in-perl/35404666#35404666", "title": "Connection Refused While connecting Host Through Net::FTP in perl", "body": "<p>i supposed you server works properly, just for the case you can make some pings on it. Anyway, do you have a possibility to run in a terminal ( with ssh or some client like putty if you are a windows user ) following commands:</p>\n\n<p><code>netstat -tulpena | grep -i LIST &lt;&lt;ENTER&gt;&gt;</code></p>\n\n<p>Now you can see is there a FTP-Server which is running in a listener mode.</p>\n\n<p>The second step would be to to use some ftp-client to check, that you can connect with your FTP-Server properly, just to see is there a firewall-rule in between, actually you could run \"iptables -L\" on a server to, but it will be easier just to use some ftp-client to make a verification of your ftp-server.</p>\n\n<p>An other suggestion would be to use something more secure \nand not the net::ftp-module. Perl has nice CPAN-Modules for SFTP (Net::FTP).</p>\n\n<p>Cheers.</p>\n"}], "owner": {"reputation": 1, "user_id": 4341703, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-I5gbKfu7jfg/AAAAAAAAAAI/AAAAAAAACIU/gpdxjbZa02g/photo.jpg?sz=128", "display_name": "Mayur Patoliya", "link": "https://stackoverflow.com/users/4341703/mayur-patoliya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 514, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455525253, "creation_date": 1455517422, "last_edit_date": 1455517538, "question_id": 35402742, "link": "https://stackoverflow.com/questions/35402742/connection-refused-while-connecting-host-through-netftp-in-perl", "title": "Connection Refused While connecting Host Through Net::FTP in perl", "body": "<p>When  I run below code through perl script at that time I always get error like connection refused so please any body can suggest to solve this issue.</p>\n\n<p>ftp_check.pl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Net::FTP;\n\n\nmy $host = '111.118.248.24';\n\n#-- connect to ftp server\nmy $ftp = Net::FTP-&gt;new($host, Debug =&gt; 1) or die \"Error connecting to $host: $!\";\n</code></pre>\n\n<p>Message getting like \"Error connecting to 111.118.248.24: Connection refused at ftp_check.pl line 10.\"</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "edited": false, "score": 0, "creation_date": 1455514013, "post_id": 35401985, "comment_id": 58505837, "body": "Is there any other way without using hashes?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "edited": false, "score": 5, "creation_date": 1455516237, "post_id": 35401985, "comment_id": 58506603, "body": "@user5485904 <code>foo(&#39;bar&#39;, undef, &#39;baz&#39;)</code>"}, {"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "reply_to_user": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "edited": false, "score": 2, "creation_date": 1455534506, "post_id": 35401985, "comment_id": 58516544, "body": "@user5485904, why would you want to not use hashes?  Writing a Perl script without hashes is like writing a novel without using the letter \u2018E\u2019."}], "tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": false, "score": 6, "last_activity_date": 1455513686, "creation_date": 1455513686, "answer_id": 35401985, "question_id": 35401964, "link": "https://stackoverflow.com/questions/35401964/perl-multiple-optional-parameters/35401985#35401985", "title": "Perl multiple optional parameters", "body": "<p>The usual solution for multiple optional parameters is to take a hash.</p>\n\n<pre><code>sub myfunction {\n  my %options = @_;\n  my ($text, $color, $font) = @options{qw(text color font)};\n  ...\n}\n</code></pre>\n\n<p>then you call it like this:</p>\n\n<pre><code>myfunction( font =&gt; 'font goes here', text =&gt; \"Here's the text\") # no color\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 2, "creation_date": 1455525438, "post_id": 35402056, "comment_id": 58510725, "body": "I&#39;m pretty sure that the question is about passing parameters into a function (<code>sub</code>) call, not about accepting command-line parameters."}, {"owner": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "edited": false, "score": 0, "creation_date": 1455526248, "post_id": 35402056, "comment_id": 58511162, "body": "Yes, passing parameters to function."}], "tags": [], "owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "is_accepted": false, "score": 0, "last_activity_date": 1455514095, "creation_date": 1455514095, "answer_id": 35402056, "question_id": 35401964, "link": "https://stackoverflow.com/questions/35401964/perl-multiple-optional-parameters/35402056#35402056", "title": "Perl multiple optional parameters", "body": "<p>you can use the Getopt module.</p>\n\n<pre><code>use Getopt::Long;\n\n#make options\nmy $text;\nmy $color;\nmy $font;\n\nGetOptions('-text=s' =&gt; $text, '-color=s' =&gt; $color, '-font=s' =&gt; $font,);\n\nunless ($text){\n     die \"No text arg provided\";\n}\n\n#do something\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1517657477, "creation_date": 1455513526, "last_edit_date": 1517657477, "question_id": 35401964, "link": "https://stackoverflow.com/questions/35401964/perl-multiple-optional-parameters", "title": "Perl multiple optional parameters", "body": "<p>I have a perl submodule which has 3 parameters: $text,$color,$font<br>\nOut of these paramters, $color and $font are optional. </p>\n\n<p>If I need to pass only $font without $color, how can it be done as perl will assign the font string to $color when shift is used.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455512657, "post_id": 35401306, "comment_id": 58505412, "body": "Parentheses do not a hash make. What you have is a list. Could you edit your post to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? It will help you formulate what the actual problem is..."}, {"owner": {"reputation": 185, "user_id": 4822472, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3d8fa7366215e617e62de9db36c689d8?s=128&d=identicon&r=PG&f=1", "display_name": "CS student", "link": "https://stackoverflow.com/users/4822472/cs-student"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455514056, "post_id": 35401306, "comment_id": 58505855, "body": "@MattJacob I edited my post."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1455515696, "last_edit_date": 1455515696, "creation_date": 1455515325, "answer_id": 35402293, "question_id": 35401306, "link": "https://stackoverflow.com/questions/35401306/find-key-for-greatest-value-in-hash-of-hashes-in-perl/35402293#35402293", "title": "Find key for greatest value in hash of hashes in Perl", "body": "<p>The sub doesn't need to know anything about the outer hash, so it makes far more sense to call the sub as follows:</p>\n\n<pre><code>print key_with_highest_val($hash{a});\n</code></pre>\n\n<p>The sub simply needs to iterate over all the elements of that hash, keeping track of the highest value seen, and the key at which it was seen.</p>\n\n<pre><code>sub key_with_highest_val {\n   my ($h) = @_;\n   my $hi_v;\n   my $hi_k;\n   for my $k (keys(%$h)) {\n      my $v = $h-&gt;{$k};\n      if (!defined($hi_v) || $v &gt; $hi_v) {\n         $hi_v = $v;\n         $hi_k = $k;\n      }\n   }\n\n   return $hi_k;\n}\n</code></pre>\n\n<p>As Chris Charley points out, List::Util's <code>reduce</code> can simply this function. With the calling convention I recommended above, the <code>reduce</code> solution becomes the following:</p>\n\n<pre><code>use List::Util qw( reduce );\n\nsub key_with_highest_val {\n   my ($h) = @_;\n   return reduce { $h-&gt;{$a} &gt;= $h-&gt;{$b} ? $a : $b } keys(%$h);\n}\n</code></pre>\n\n<p>Both versions return an arbitrary key among those that tied when there's a tie.</p>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 0, "last_activity_date": 1455515326, "creation_date": 1455515326, "answer_id": 35402294, "question_id": 35401306, "link": "https://stackoverflow.com/questions/35401306/find-key-for-greatest-value-in-hash-of-hashes-in-perl/35402294#35402294", "title": "Find key for greatest value in hash of hashes in Perl", "body": "<p>Use the <a href=\"https://metacpan.org/pod/List::Util#reduce\" rel=\"nofollow\">reduce</a> function from List::Util (which is part of core perl).</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse List::Util qw/reduce/;\n\nmy %hash = (\n    \"a\" =&gt; {\n        \"b\" =&gt; 2,\n        \"c\" =&gt; 1,\n    },\n    \"d\" =&gt; {\n        \"e\" =&gt; 4,\n    },\n);\n\n\nmy $key = 'a';\nprint  \"For key: $key, max key is \", max_key($key, %hash), \"\\n\";\n\n\nsub max_key {\n    my ($key, %hash) = @_;\n    return \"$key does not exist\" unless exists $hash{$key};\n\n    my $href = $hash{$key};\n    return reduce { $href-&gt;{$a} &gt; $href-&gt;{$b} ? $a : $b } keys %$href;\n}\n</code></pre>\n\n<p>You should always include <code>use strict</code> and <code>use warnings</code> at the top of your programs to catch errors so you can find and fix them. This requires declaring of your variables with <code>my</code>, like <code>my $key = 'a';</code>, for example and <code>my %hash = ...</code></p>\n\n<p>This program prints:</p>\n\n<pre><code>For key: a, max key is b\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1455515370, "creation_date": 1455515370, "answer_id": 35402302, "question_id": 35401306, "link": "https://stackoverflow.com/questions/35401306/find-key-for-greatest-value-in-hash-of-hashes-in-perl/35402302#35402302", "title": "Find key for greatest value in hash of hashes in Perl", "body": "<p>This code makes the following assumptions:</p>\n\n<ol>\n<li>The values of your nested hashes are always numeric.</li>\n<li>You don't have duplicate values.</li>\n</ol>\n\n<p>Anything else is left as an exercise for the reader.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\nuse List::Util qw(max);\n\nmy %hash = (\n    a =&gt; {\n        b =&gt; 2,\n        c =&gt; 1,\n    },\n    d =&gt; {\n        e =&gt; 4,\n    },\n);\n\ndd(max_hash_value(\\%hash, $_)) for 'a' .. 'd';\n\nsub max_hash_value {\n    my ($hash_ref, $search_key) = @_;\n    return unless $hash_ref-&gt;{$search_key};\n\n    my %lookup;\n\n    while (my ($key, $value) = each(%{$hash_ref-&gt;{$search_key}})) {\n        $lookup{$value} = $key;\n    }\n\n    return $lookup{max(keys(%lookup))};\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>\"b\"\n()\n()\n\"e\"\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 4822472, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3d8fa7366215e617e62de9db36c689d8?s=128&d=identicon&r=PG&f=1", "display_name": "CS student", "link": "https://stackoverflow.com/users/4822472/cs-student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 1, "accepted_answer_id": 35402294, "answer_count": 3, "score": 1, "last_activity_date": 1455515696, "creation_date": 1455508849, "last_edit_date": 1455514009, "question_id": 35401306, "link": "https://stackoverflow.com/questions/35401306/find-key-for-greatest-value-in-hash-of-hashes-in-perl", "title": "Find key for greatest value in hash of hashes in Perl", "body": "<p>I have a hash of hashes containing keys, values, and counts of the form ((k1, v1), c1).  I am trying to write a subroutine that returns the value of the key passed as a parameter with the greatest count.  For example, if I had:</p>\n\n<pre><code>%hash = (\n    \"a\" =&gt; {\n        \"b\" =&gt; 2,\n        \"c\" =&gt; 1,\n    },\n    \"d\" =&gt; {\n        \"e\" =&gt; 4,\n    },\n);\n</code></pre>\n\n<p>and made the call:</p>\n\n<pre><code>print &amp;function(\"a\");\n</code></pre>\n\n<p>it should print \"b\" because key \"a\" has the highest count of 2 with \"b\" as its value.  Here is the code I have so far:</p>\n\n<pre><code>sub function() {\n    $key = $_[0];\n    if(exists($hash{$key})) {\n        while (my ($value, $count) = each %{$hash{$key}}) {\n            #logic goes here\n        }\n\n    } else {\n        return \"$key does not exist\";\n    }\n}\n</code></pre>\n"}, {"tags": ["python", "c++", "perl", "ncurses"], "answers": [{"tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": true, "score": 4, "last_activity_date": 1455530084, "creation_date": 1455530084, "answer_id": 35406201, "question_id": 35400904, "link": "https://stackoverflow.com/questions/35400904/how-to-popup-a-ncurses-widget-without-clearing-background/35406201#35406201", "title": "How to popup a ncurses widget without clearing background?", "body": "<p>Short answer: you cannot do this.</p>\n\n<p>Long: curses applications are full-screen programs that clear the screen so that they <em>know</em> what is on the screen (so the curses library can <em>optimize</em> its output: use the least amount of work).</p>\n\n<p>You could write a low-level application which uses its own rules, e.g., using the terminfo/termcap interface.  Even if you link it with the ncurses library, that would <strong>not</strong> make it a <em>curses</em> application, but a <em>terminfo</em> (preferred) or <em>termcap</em> (long deprecated) application.  See the ncurses FAQ <a href=\"http://invisible-island.net/ncurses/ncurses.faq.html#uses_of_library\" rel=\"nofollow\"><em>Types of library users</em></a>.</p>\n\n<p>To make a terminfo application for the example shown, your application would (offhand, there are probably additional things to do):</p>\n\n<ul>\n<li>initialize the terminal (actually the application's connection to the terminal <em>database</em>) using <a href=\"https://docs.python.org/2/library/curses.html#curses.setupterm\" rel=\"nofollow\"><code>setupterm</code></a>.</li>\n<li>if the terminal supports it, save the original cursor position</li>\n<li>clear the <em>remainder</em> of the screen</li>\n<li>draw your dialog</li>\n<li>run your dialog</li>\n<li>using the saved cursor position, return the cursor to the original position</li>\n<li>clear the <em>remainder</em> of the screen.</li>\n</ul>\n\n<p>Depending on the terminal's capabilities, different schemes (different combinations of terminal capabilities) may be needed to clear the screen, draw the dialog, etc.</p>\n\n<p>In drawing the dialog, you wouldn't be able to use any of the high-level curses calls.  The python documentation does not really outline the low-level calls. To see that, read the <a href=\"http://invisible-island.net/ncurses/man/curs_terminfo.3x.html\" rel=\"nofollow\">ncurses documentation</a>.</p>\n\n<p>Some may suggest alternatives (I won't), but those have the same limitations which are due to the <em>terminal capabilities</em>.  </p>\n"}, {"comments": [{"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "edited": false, "score": 0, "creation_date": 1470168223, "post_id": 38723331, "comment_id": 64835212, "body": "OP is showing an ssh session with a Windows console window.  Your answer should take into account how to make <b>that</b> run on OP&#39;s configuration."}], "tags": [], "owner": {"reputation": 962, "user_id": 6447563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b6075775f2df179d7f6d7f1d66d5bcdb?s=128&d=identicon&r=PG&f=1", "display_name": "sixtytrees", "link": "https://stackoverflow.com/users/6447563/sixtytrees"}, "is_accepted": false, "score": 0, "last_activity_date": 1470148305, "creation_date": 1470148305, "answer_id": 38723331, "question_id": 35400904, "link": "https://stackoverflow.com/questions/35400904/how-to-popup-a-ncurses-widget-without-clearing-background/38723331#38723331", "title": "How to popup a ncurses widget without clearing background?", "body": "<p>Curses is not designed for that. You should use perl tk or a similar module for GUI. It is reasonably easy to use and it is much more powerful than curses for your purposes.</p>\n"}], "owner": {"reputation": 1278, "user_id": 3598703, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/95a4d8dbd4290d1fab2c1e711b9a9377?s=128&d=identicon&r=PG", "display_name": "Boying", "link": "https://stackoverflow.com/users/3598703/boying"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 941, "favorite_count": 0, "accepted_answer_id": 35406201, "answer_count": 2, "score": 3, "last_activity_date": 1470148305, "creation_date": 1455505704, "question_id": 35400904, "link": "https://stackoverflow.com/questions/35400904/how-to-popup-a-ncurses-widget-without-clearing-background", "title": "How to popup a ncurses widget without clearing background?", "body": "<p>The ncurses normally clears background and show widgets/windows.</p>\n\n<p>I would like to make ncurses working like a helper for current session and it pops up window above current ssh session</p>\n\n<p>The appearance will be look like the CMD.exe implementation (see picture)</p>\n\n<p><a href=\"https://i.stack.imgur.com/ufUDy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ufUDy.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["perl", "data-structures"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1455507645, "post_id": 35400573, "comment_id": 58504201, "body": "What is the question? As it stands, this post is too broad to be useful."}, {"owner": {"reputation": 305, "user_id": 1781749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/65084b4eaadc6bfc209ef73609e1e256?s=128&d=identicon&r=PG", "display_name": "genx1mx6", "link": "https://stackoverflow.com/users/1781749/genx1mx6"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455509073, "post_id": 35400573, "comment_id": 58504552, "body": "i edited original post"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455512801, "post_id": 35400573, "comment_id": 58505453, "body": "Your edit almost makes the question worse, because now any answers would be opinions rather than facts."}, {"owner": {"reputation": 305, "user_id": 1781749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/65084b4eaadc6bfc209ef73609e1e256?s=128&d=identicon&r=PG", "display_name": "genx1mx6", "link": "https://stackoverflow.com/users/1781749/genx1mx6"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455513035, "post_id": 35400573, "comment_id": 58505528, "body": "That&#39;s fine. I&#39;ll take opinions. Right now organizing and accessing the data seems daunting. How would you do it?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1455513393, "post_id": 35400573, "comment_id": 58505628, "body": "No, I don&#39;t think you understand. Questions that are primarily opinion-based are not considered to be <a href=\"http://stackoverflow.com/help/on-topic\">on-topic</a> for <a href=\"https://stackoverflow.com\">Stack Overflow</a> and are subject to being closed."}, {"owner": {"reputation": 305, "user_id": 1781749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/65084b4eaadc6bfc209ef73609e1e256?s=128&d=identicon&r=PG", "display_name": "genx1mx6", "link": "https://stackoverflow.com/users/1781749/genx1mx6"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455514428, "post_id": 35400573, "comment_id": 58505985, "body": "hmm. So How do I ask a question about data organization without opinions?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455529306, "post_id": 35400573, "comment_id": 58513082, "body": "Outline what you are trying to accomplish. Add what you have got so far. Describe what&#39;s wrong with it.The answer might be object oriented code."}], "answers": [{"comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1455531142, "post_id": 35406456, "comment_id": 58514393, "body": "Nice approach! Excuse my ignorance, but where in your code do you save the data structures to disk between games please?"}, {"owner": {"reputation": 305, "user_id": 1781749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/65084b4eaadc6bfc209ef73609e1e256?s=128&d=identicon&r=PG", "display_name": "genx1mx6", "link": "https://stackoverflow.com/users/1781749/genx1mx6"}, "edited": false, "score": 0, "creation_date": 1455531396, "post_id": 35406456, "comment_id": 58514560, "body": "Thanks for the help, I didn&#39;t even think about the OO approach. Inheritance really is nice now that I think about it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455531405, "post_id": 35406456, "comment_id": 58514565, "body": "I don&#39;t. The above is an illustration, and actually a fairly broad topic in it&#39;s own right. I would probably do that by a <code>save</code> method and serialise to <code>JSON</code>. (E.g. save a character, and save &quot;items&quot; to another sub directory as separate files - which you would &quot;read in&quot; )"}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1455538480, "post_id": 35406456, "comment_id": 58519052, "body": "Ok, many thanks for taking the time to reply."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1455531934, "last_edit_date": 1495540229, "creation_date": 1455530792, "answer_id": 35406456, "question_id": 35400573, "link": "https://stackoverflow.com/questions/35400573/how-do-you-organize-read-a-large-amount-of-data/35406456#35406456", "title": "How do you Organize / Read a large amount of data?", "body": "<p>I would say yes, there's a better way. </p>\n\n<p>And the answer is - use object oriented code. OO might sound intimidating if you've not really encountered it - and there's plenty of Java or C++ programmers that like to make it so.</p>\n\n<p>But all it <em>really</em> is, is a data structure that includes code 'built in' to manipulate it. These bits of code are known as \"methods\" and apply to the object. </p>\n\n<p>So - to take the above. You have \"characters\" and \"equipment\" as clear examples of 'objects'. </p>\n\n<pre><code>#!/usr/bin/env perl\n\npackage MyStuff::Character;\n\nuse strict;\nuse warnings;\n\nsub new { \n   my ( $class, $name ) = @_;\n   my $self = {}; \n   $self -&gt; {name} = $name;\n   bless $self, $class; \n   return $self; \n}\n\nsub set_attr { \n   my ( $self, $attr, $value ) = @_; \n   $self -&gt; {attr} -&gt; {$attr} = $value;\n}\n\nsub get_attr { \n   my ( $self, $attr ) = @_;\n   return $self -&gt; {attr} -&gt; {$attr}; \n}\n\nsub get_name { \n   my ( $self ) = @_;\n   return $self -&gt; {name}; \n}\n\nsub add_item {\n   my ( $self, $item_ref ) = @_; \n   push ( @{ $self -&gt; {items} }, $item_ref ); \n}\n\nsub inventory {\n  my ( $self ) = @_; \n  return @{$self-&gt;{items}};\n}\n\npackage MyStuff::Items;\n\nsub new {\n    my ( $class, $name, $type ) = @_; \n    my $self = {};\n    $self -&gt; {name} = $name; \n    $self -&gt; _set_type($type); \n    bless $self, $class;\n    return $self; \n}\n\nsub get_name {\n   my ( $self ) = @_;\n   return $self -&gt; {name};\n}\n\nsub _set_type {\n   my ( $self, $type ) = @_; \n   $self -&gt; {type} = $type;\n   if ( $type eq \"sword\" ) { \n       $self -&gt; {attack_bonus} = \"+10\"; \n   }\n}\n\npackage main; \n\nuse strict;\nuse warnings;\n\nmy $character = MyStuff::Character -&gt; new ( \"Joe Beefcake\" ); \n$character -&gt; set_attr('STR', 9000); \n\nprint $character -&gt; get_name, \" has STR \", $character -&gt; get_attr('STR'),\"\\n\";\n\nmy $new_sword = MyStuff::Character -&gt; new ( \"Hackmaster\", \"sword\"); \n$character -&gt; add_item( $new_sword ); \n\nprint \"And is carrying:\\n\";\nforeach my $item ( $character -&gt; inventory ) {\n    print $item -&gt; get_name,\"\\n\";\n}\n</code></pre>\n\n<p>This is a very basic example, but hopefully illustrates a new way of tackling complicated data structures? </p>\n\n<p>Specifically - we 'hand off' things we don't care about, to the object to look after, and just use methods to interact with it. Because an item is a self contained object, and it 'knows' it's state. You could take it away, and 'give' it to another character. </p>\n\n<p>The other advantage of doing it like this, is inheritance. I've got a very general 'item' object. Each item will have things you might want to do with any of them - pick them up, carry them, sell them, give them to another person.</p>\n\n<p>But you could then make a 'weapon' class, which inherits the \"item\" class (and so you can still give someone else your sword) but also adds in extra stuff - like an attack bonus, a proficiency requirement, an attack bonus, etc. </p>\n\n<p>The notion of Object Orientation is not a new one, but it's not too common in perl. There's a <a href=\"http://perldoc.perl.org/perlobj.html\" rel=\"nofollow noreferrer\"><code>perldoc perlobj</code></a> which has some of the basics.</p>\n\n<p>There's also a few packages which assist the process (the above works standalone) like <code>Moose</code>. </p>\n\n<p>For \"saving\" and \"loading\" - there's a number of possible options, and it depends a bit. </p>\n\n<p>I would <em>probably</em> tackle it by serialising 'characters' and 'items' separately to JSON, and reload/validate. </p>\n\n<p>That's covered in a bit more detail here: <a href=\"https://stackoverflow.com/questions/4185482/how-to-convert-perl-objects-into-json-and-vice-versa\">How to convert Perl objects into JSON and vice versa</a></p>\n"}, {"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 0, "last_activity_date": 1455534791, "creation_date": 1455534791, "answer_id": 35407886, "question_id": 35400573, "link": "https://stackoverflow.com/questions/35400573/how-do-you-organize-read-a-large-amount-of-data/35407886#35407886", "title": "How do you Organize / Read a large amount of data?", "body": "<p>Firstly, when I posted your data into a file and used the percent command in vi, I found what I believe is a pasting error.  As it was, the 'abilities' hash had three entries including \"Equipment\".  Looking at the indentation this very much looks like a mistake - I believe a closing curly is missing above the letter \"E\" in \"Equipment\" and a corresponding closing curly (third last in the file) needs to be removed.  Then \"Equipment\" becomes a characteristic of a Character rather than a type of ability which seems more likely.</p>\n\n<p>After correcting for that, what can you do?  I don't think there's an easy way out - you have to comb through the data looking for repeated patterns and identifying groupings of data that can be candidates for objects.</p>\n\n<p>Taking it from the top and ignoring the detail for now, we see a character is made up of seven attributes - perhaps not as bad as it first looks.  I'm going to use perl6 as its more concise for class declarations and frankly, with something this big, any solution is a good solution (or more bluntly, I don't want to be here all day);</p>\n\n<pre><code>class Character {\n  has $.description ;\n  has $.alignment ;\n  has $.categories ;\n  has $.primaryStat ;\n  has $.baseStats ;\n  has Abilities $.abilities ;\n  has %.equipment of Equipment ;\n}\n</code></pre>\n\n<p><code>baseStats</code> could be an object in its own right, but its a straight forward hash - so leave it.  The idea here is to make sub-objects only when we need to due to the depth of the structure.</p>\n\n<p>Looking at <code>abilities</code>, there are only two; attack abilities and special abilities.  It would be better to take them out of their containing hash - its creating another level for the sake of two entries.  They also appear to have the same attributes so, we can make an Abilities sub-object and contain two of them in our Character class - one for attack and one for special.</p>\n\n<p>It looks as though tiers is a hash where the keys are <code>\"level n\"</code> and the values are hashes of level data.  Its debatable but, its probably worth creating a class to represent a tier or level.  So, that takes us three levels deep - again, perhaps not quite as bad as it first looks.</p>\n\n<p>Equipment looks similar to tiers in that its a hash where the keys are levels and the values are hashes of data.  That data is a straight forward hash of stuff under <code>\"cummulatedStats\"</code> and then a list of items.\nAgain, its a judgement call, but I would say you need an Item sub-object. So we have;</p>\n\n<pre><code>#!/usr/bin/env perl6\n\nclass Tiers {\n  has $.unlockLevel ;\n  has $.cost ;\n  has $.fromPrevious ;\n  has $.description\n}\n\nclass Abilities {\n  has $.name ;\n  has $.cooldown ;\n  has $.type ;\n  has %.tiers of Tiers ;\n  has $.conditions ;\n}\n\nclass Items {\n  has $.name ;\n  has $.id ;\n  has $.tier ;\n  has $.mark ;\n  has $.requiredLevel ;\n  has $.sellValue ;\n  has $.stats ;\n}\n\nclass Equipment {\n  has $.cummulatedStats ;\n  has $.items ;\n}\n\nclass Character {\n  has $.description ;\n  has $.alignment ;\n  has $.categories ;\n  has $.primaryStat ;\n  has $.baseStats ;\n  has Abilities $.attack_abilities ;\n  has Abilities $.special_abilities ;\n  has %.equipment of Equipment ;\n}\n\nmy %char_hash = hash.new(\n            \"description\" =&gt; \"\",\n            \"alignment\" =&gt; \"\",\n   ... etc from your data ...\n</code></pre>\n\n<p>Now, we need to pull the <code>Abilities</code> out of their hash to create the sub objects.  We also need to do the same with <code>Tiers</code> and <code>Items</code>.  This post is already too long so I'll cut to the chase;</p>\n\n<pre><code>my %equipment = %char_hash&lt;Equipment&gt; :delete ;\nmy %abilities = %char_hash&lt;abilities&gt; :delete ;\n\nmy %special = %abilities&lt;special&gt; ;\nmy %attack  = %abilities&lt;attack&gt;  ;\n%abilities = ();\n\nfor %special&lt;tiers&gt;.kv -&gt; $level, $data_hash {\n  %special&lt;tiers&gt;{ $level } = Tiers.new: |$data_hash\n}\nfor %attack&lt;tiers&gt;.kv -&gt; $level, $data_hash {\n  %attack&lt;tiers&gt;{ $level } = Tiers.new: |$data_hash\n}\n\n%char_hash&lt;special_abilities&gt; = Abilities.new: |%special ;\n%char_hash&lt;attack_abilities&gt;  = Abilities.new: |%attack ;\n\nfor %equipment.kv -&gt; $level, $data_hash is rw {\n  my @items;\n  @items.push: Items.new(|$_) for $data_hash&lt;items&gt;.flat ;\n  $data_hash&lt;items&gt; = @items ;\n  %equipment{ $level } = Equipment.new: |$data_hash ;\n}\n%char_hash&lt;equipment&gt; = %equipment ;\n\nmy $char = Character.new( |%char_hash );\nsay $char.perl;\n</code></pre>\n\n<p>The approach is inside out - we start with tiers as they are nested the deepest.  We create our hash of levels and then poke them back into the <code>%special</code> and <code>%attack</code> abilities hashes.  From them we can create two <code>Abilities</code> objects and poke them back into the master hash, <code>%char_hash</code>.</p>\n\n<p>Similarly with <code>Items</code> and then <code>Equipment</code> before we're finally ready to create our <code>Character</code>.  Once you have the data loaded, you can create stringification methods, <code>.Str</code>, to customize the presentation of each type of object.  It should also be easy to create special purpose methods for the manipulation and transformation you wanted to achieve.</p>\n\n<p>... I should never have started on this question ;-)</p>\n"}], "owner": {"reputation": 305, "user_id": 1781749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/65084b4eaadc6bfc209ef73609e1e256?s=128&d=identicon&r=PG", "display_name": "genx1mx6", "link": "https://stackoverflow.com/users/1781749/genx1mx6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "closed_date": 1455541765, "accepted_answer_id": 35406456, "answer_count": 2, "score": 1, "last_activity_date": 1455534791, "creation_date": 1455502960, "last_edit_date": 1455509045, "question_id": 35400573, "link": "https://stackoverflow.com/questions/35400573/how-do-you-organize-read-a-large-amount-of-data", "closed_reason": "Needs more focus", "title": "How do you Organize / Read a large amount of data?", "body": "<p>I have a large amount of data saved as a Data::Dumper output.</p>\n\n<p>How in the world am I suppose to read this data? I would like to reorganize it but I'm completely lost to the approach. the data structures are hashes in arrays that are hashes of hashes... </p>\n\n<p>Here is a (very trimmed down) example. Also the creation wasn't great as a character can have two \"attacks\" or two \"specials\" so obviously it's a collision and one will be overwritten.</p>\n\n<p>EDIT: What I'm really asking is this: Is this an ideal way to store data like this? or is there a better way? because to me accessing the hash like <code>$char_hash{Character Name}{abilities}{attack}{tiers}{level 1}{description}</code> seems terrible to write. and iterating through things like <code>@{$char_hash{Character Name}{Equipment}{Equipment Level 1}{Items}}</code> seems crazy difficult</p>\n\n<pre><code>my @char_hash = (\n\"Character Name\" =&gt; {\n            \"description\" =&gt; \"\",\n            \"alignment\" =&gt; \"\",\n            \"categories\" =&gt; [\n                \"ex 1\",\n                \"ex 2\",\n                \"ex 4\",\n                \"ex 5\"\n            ],\n            \"primaryStat\" =&gt; \"Strength (STR)\",\n            \"baseStats\" =&gt; {\n                \"Strength (STR)\" =&gt; \"22\",\n                \"Agility (AGI)\" =&gt; \"15\",\n                \"Intelligence (INT)\" =&gt; \"17\",\n                \"Speed\" =&gt; \"100\",\n                \"Health\" =&gt; \"197\",\n                \"Physical Damage\" =&gt; \"17\"\n            },\n            \"abilities\" =&gt; {\n                \"attack\" =&gt; {\n                    \"name\" =&gt; \"ex 1\",\n                    \"type\" =&gt; \"Physical\",\n                    \"tiers\" =&gt; {\n                        \"level 1\" =&gt; {\n                            \"description\" =&gt; \"\"\n                        },\n                        \"level 2\" =&gt; {\n                            \"unlockLevel\" =&gt; 16,\n                            \"cost\" =&gt; {\n                                \"Money\" =&gt; 700,\n                                \"Material\" =&gt; 3\n                            },\n                            \"fromPrevious\" =&gt; \"+5% Damage\",\n                            \"description\" =&gt; \"\"\n                        }\n                    },\n                    \"conditions\" =&gt; {\n                    }\n                },\n                \"special\" =&gt; {\n                    \"name\" =&gt; \"ex\",\n                    \"cooldown\" =&gt; 3,\n                    \"type\" =&gt; \"special\",\n                    \"tiers\" =&gt; {\n                        \"level 1\" =&gt; {\n                            \"description\" =&gt; \"\"\n                        },\n                        \"level 2\" =&gt; {\n                            \"unlockLevel\" =&gt; 18,\n                            \"cost\" =&gt; {\n                                \"Money\" =&gt; 1300,\n                                \"Material\" =&gt; 2\n                            },\n                            \"fromPrevious\" =&gt; \"+5% Damage\",\n                            \"description\" =&gt; \"\"\n                        }\n                    },\n                    \"conditions\" =&gt; {\n                    }\n                },\n            \"Equipment\" =&gt; {\n                \"Equipment Lvl I\" =&gt; {\n                    \"cummulatedStats\" =&gt; {\n                        \"Strength (STR)\" =&gt; \"+22\",\n                        \"Agility (AGI)\" =&gt; \"+15\",\n                        \"Intelligence (INT)\" =&gt; \"+17\",\n                        \"Speed\" =&gt; \"+100\",\n                        \"Health\" =&gt; \"+197\",\n                        \"Physical Damage\" =&gt; \"+17\"\n                    },\n                    \"items\" =&gt; [\n                        {\n                            \"name\" =&gt; \"\",\n                            \"id\" =&gt; \"\",\n                            \"tier\" =&gt; 1,\n                            \"mark\" =&gt; \"\",\n                            \"requiredLevel\" =&gt; 1,\n                            \"sellValue\" =&gt; 10,\n                            \"stats\" =&gt; {\n                                \"Physical Damage\" =&gt; \"\"\n                            }\n                        },\n                        {\n                            \"name\" =&gt; \"\",\n                            \"id\" =&gt; \"\",\n                            \"tier\" =&gt; 1,\n                            \"mark\" =&gt; \"\",\n                            \"requiredLevel\" =&gt; 2,\n                            \"sellValue\" =&gt; 20,\n                            \"stats\" =&gt; {\n                                \"Strength (STR)\" =&gt; \"\",\n                                \"Agility (AGI)\" =&gt; \"\",\n                                \"Intelligence (INT)\" =&gt; \"\"\n                            }\n                        },\n                        {\n                            \"name\" =&gt; \"\",\n                            \"id\" =&gt; \"\",\n                            \"tier\" =&gt; 1,\n                            \"mark\" =&gt; \"\",\n                            \"requiredLevel\" =&gt; 2,\n                            \"sellValue\" =&gt; 20,\n                            \"stats\" =&gt; {\n                                \"Strength (STR)\" =&gt; \"\",\n                                \"Agility (AGI)\" =&gt; \"\",\n                                \"Intelligence (INT)\" =&gt; \"\"\n                            }\n                        },\n                        {\n                            \"name\" =&gt; \"\",\n                            \"id\" =&gt; \"\",\n                            \"tier\" =&gt; 1,\n                            \"mark\" =&gt; \"\",\n                            \"requiredLevel\" =&gt; 2,\n                            \"sellValue\" =&gt; 20,\n                            \"stats\" =&gt; {\n                                \"Speed\" =&gt; \"\"\n                            }\n                        },\n                        {\n                            \"name\" =&gt; \"\",\n                            \"id\" =&gt; \"\",\n                            \"tier\" =&gt; 1,\n                            \"mark\" =&gt; \"\",\n                            \"requiredLevel\" =&gt; 2,\n                            \"sellValue\" =&gt; 20,\n                            \"stats\" =&gt; {\n                                \"Strength (STR)\" =&gt; \"\"\n                            }\n                        },\n                        {\n                            \"name\" =&gt; \"\",\n                            \"id\" =&gt; \"\",\n                            \"tier\" =&gt; 1,\n                            \"mark\" =&gt; \"\",\n                            \"requiredLevel\" =&gt; 2,\n                            \"sellValue\" =&gt; 20,\n                            \"stats\" =&gt; {\n                                \"Armor\" =&gt; \"\"\n                            }\n                        }\n                    ]\n                }\n            }\n        }\n}\n);\n</code></pre>\n"}, {"tags": ["java", "perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1455514782, "last_edit_date": 1455514782, "creation_date": 1455514419, "answer_id": 35402128, "question_id": 35400571, "link": "https://stackoverflow.com/questions/35400571/pack-h-equivalent-in-java/35402128#35402128", "title": "Pack h* equivalent in Java", "body": "<pre><code>// Takes hex string with low nibble first as produced by Perl's unpack 'h*'\n// For example, 031323 =&gt; 0x30, 0x31, 0x32\npublic static byte[] hexLoHiStringToByteArray(String s) {\n    int len = s.length();\n    byte[] data = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n        data[i / 2] = (byte)(\n              (Character.digit(s.charAt(i+0), 16) &lt;&lt; 4)\n            |  Character.digit(s.charAt(i+1), 16)\n        );\n    }\n\n    return data;\n}\n</code></pre>\n\n<p>(<code>h*</code> is such a weird choice over <code>H*</code>.)</p>\n"}], "owner": {"reputation": 35, "user_id": 4395316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R31Lq.png?s=128&g=1", "display_name": "Striker1440", "link": "https://stackoverflow.com/users/4395316/striker1440"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 35402128, "answer_count": 1, "score": 1, "last_activity_date": 1480422673, "creation_date": 1455502954, "question_id": 35400571, "link": "https://stackoverflow.com/questions/35400571/pack-h-equivalent-in-java", "title": "Pack h* equivalent in Java", "body": "<p>Server side we have a Perl script that takes an uploaded PDF file and performs the following on it, after which the data is stored within an SQL database:</p>\n\n<pre><code>unpack ('h*', $fileData);\n</code></pre>\n\n<p>I'm writing a new Java based module that obtains the data from the database, and I need some way to get this data back into a PDF file.\nThe Perl equivalent is:</p>\n\n<pre><code>pack ('h*', $FileContents);\n</code></pre>\n\n<p>Is there an equivalent method that can be used in Java to achieve this?\nNote: I cannot make any changes to the existing server side code.</p>\n"}, {"tags": ["perl", "unix", "executable"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1455497267, "post_id": 35399693, "comment_id": 58502050, "body": "Are they the same version?  If not, use whichever version you want to use.  If they are the same version, why do you have two?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1455497462, "post_id": 35399693, "comment_id": 58502092, "body": "@jwodder This is not my system.  This is on a server where I have limited rights. If I run <code>perl</code> from my home directory, which <code>perl</code> will be executed?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1455558894, "post_id": 35399693, "comment_id": 58532710, "body": "&quot;which perl will be executed?&quot; ... If only someone had figure out a way to tell that: <b><i><code>$ which perl</code></i></b> Also, if your basic Unix knowledge is at this level, you might want to consider learning a bit before diving in further."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1455586087, "post_id": 35399693, "comment_id": 58544587, "body": "@Sinan&#220;n&#252;r How do you set which <code>perl</code> to use?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1455652874, "post_id": 35399693, "comment_id": 58581734, "body": "See <a href=\"http://stackoverflow.com/a/2429515/100754\">stackoverflow.com/a/2429515/100754</a>"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1455687364, "post_id": 35399693, "comment_id": 58594757, "body": "@Sinan&#220;n&#252;r No, I mean how do I set which <code>perl</code> it uses when you type in <code>perl</code>."}], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1455501377, "post_id": 35400022, "comment_id": 58502935, "body": "Do you need admin rights to install <code>anyenv</code> and <code>plenv</code>?  I know you already said I don&#39;t need to be admin, but can you explain this more?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1455543097, "post_id": 35400022, "comment_id": 58522010, "body": "@CJ7 <code>Anyenv</code> can be installed to any directory writable to you (it defaults to <code>$HOME&#47;.anyenv</code>) and the <code>plenv</code> (installed by <code>anyenv</code> goes inside to this directory. And the perl (installed by <code>plenv</code>) goes also to subdirectory. So no, you didn&#39;t need admin rights. As shebang you could use <code>#!&#47;usr&#47;bin&#47;env perl</code>."}], "tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 4, "last_activity_date": 1455498318, "creation_date": 1455498318, "answer_id": 35400022, "question_id": 35399693, "link": "https://stackoverflow.com/questions/35399693/which-of-usr-bin-perl-or-usr-local-bin-perl-should-be-used/35400022#35400022", "title": "Which of /usr/bin/perl or /usr/local/bin/perl should be used?", "body": "<p>This question is unanswerable cleanly, without more informations and like - so only few remarks.</p>\n\n<ul>\n<li>are you sure than you have two perls? The one could be an symbolic link to the another, for example the <code>/usr/bin/perl -&gt; /usr/local/bin/perl</code>.</li>\n<li>if they're aren't symlinked\n\n<ul>\n<li>the <code>/usr/bin/perl</code> is <em>probably</em> the system-wide perl, which comes with your basic system installation</li>\n<li>and the <code>/usr/local/bin/perl</code> is installed by some package-management</li>\n<li>just try:</li>\n<li><code>/usr/bin/perl -V</code></li>\n<li>and <code>/usr/local/bin/perl -V</code></li>\n</ul></li>\n<li>if they're different versions - someone installed to your system one additional perl</li>\n<li>also, you could try which one is executed when you type <code>perl</code> - e.g. which one is first in your path. <code>type perl</code> could help. Or the simple <code>perl -V</code>.</li>\n</ul>\n\n<p>Which one you should to use? Probably the package installed one, because your package-manager will install the CPAN-modules to the right location. Isn't possible to tell, which one it is. But this depends on your system's package management.</p>\n\n<p>If you doubt, just install <em>your own</em> perl. I recommending to you</p>\n\n<ul>\n<li>check the <code>anyenv</code> - here: <a href=\"https://github.com/riywo/anyenv\" rel=\"nofollow\">https://github.com/riywo/anyenv</a></li>\n<li>after installing the <code>anyenv</code> you could install the <code>plenv</code> (you could install <a href=\"https://github.com/tokuhirom/plenv\" rel=\"nofollow\">plenv</a> without anyenv too - but anyenv could help you with other interpreters too in the future)</li>\n<li>install <code>plenv</code> with <code>anyenv install plenv</code></li>\n<li>after you got installed the <code>plenv</code>, you could install any perl version what is available and which one you want, using the:</li>\n<li><code>plenv install 5.16.2</code> #or similar command</li>\n<li>read about the plenv here: <a href=\"https://github.com/tokuhirom/plenv\" rel=\"nofollow\">https://github.com/tokuhirom/plenv</a></li>\n</ul>\n\n<p>You will get your own perl, and could install any CPAN module without the risk overriding your system perl modules. Also, you don't need to be admin. Simple, nice and clean.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1259, "favorite_count": 0, "closed_date": 1455744694, "answer_count": 1, "score": -2, "last_activity_date": 1455498318, "creation_date": 1455495442, "question_id": 35399693, "link": "https://stackoverflow.com/questions/35399693/which-of-usr-bin-perl-or-usr-local-bin-perl-should-be-used", "closed_reason": "Opinion-based", "title": "Which of /usr/bin/perl or /usr/local/bin/perl should be used?", "body": "<p>If I have both <code>/usr/bin/perl</code> and <code>/usr/local/bin/perl</code> available on a system, which one should I use?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1455487114, "post_id": 35398449, "comment_id": 58499318, "body": "Hash slicing (the thing you&#39;re doing) is a great way to zip two ordered arrays together, but I don&#39;t think it&#39;s a good fit for the problem you&#39;re trying to solve."}, {"owner": {"reputation": 185, "user_id": 4822472, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3d8fa7366215e617e62de9db36c689d8?s=128&d=identicon&r=PG&f=1", "display_name": "CS student", "link": "https://stackoverflow.com/users/4822472/cs-student"}, "reply_to_user": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1455487454, "post_id": 35398449, "comment_id": 58499428, "body": "@Mathias R. Jessen Any suggestions for a better approach?"}, {"owner": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1455487544, "post_id": 35398449, "comment_id": 58499454, "body": "Not 100% sure about your intended hash of hash structure (<code>((key,value), count)</code>). A Key/Value pair can&#39;t be a hash key, has to be a string"}, {"owner": {"reputation": 185, "user_id": 4822472, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3d8fa7366215e617e62de9db36c689d8?s=128&d=identicon&r=PG&f=1", "display_name": "CS student", "link": "https://stackoverflow.com/users/4822472/cs-student"}, "reply_to_user": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1455487703, "post_id": 35398449, "comment_id": 58499501, "body": "I just need some way to count the number of occurrences for a key/value pair @MathiasR.Jessen"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455522743, "post_id": 35398449, "comment_id": 58509400, "body": "Can you give some example data and a desired result? Key collision mean you can&#39;t slice them together, because that will overwrite"}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 4822472, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3d8fa7366215e617e62de9db36c689d8?s=128&d=identicon&r=PG&f=1", "display_name": "CS student", "link": "https://stackoverflow.com/users/4822472/cs-student"}, "edited": false, "score": 0, "creation_date": 1455495105, "post_id": 35398756, "comment_id": 58501602, "body": "I tried printing values from this hash of hashes using foreach $item (keys %hash){  \tprint &quot;$item: &quot;;   \tforeach $iteminitem (keys %{$hash{$item}}){     \t    print &quot;$iteminitem = $hash{$item}{$iteminitem} &quot;;   \t}   \tprint &quot;\\n&quot;; } in the form: key: value = count and it showed k1: v2 = 1 when I want it to show k1: v2 = 2 since there are two k1 keys with values of v2"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 185, "user_id": 4822472, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3d8fa7366215e617e62de9db36c689d8?s=128&d=identicon&r=PG&f=1", "display_name": "CS student", "link": "https://stackoverflow.com/users/4822472/cs-student"}, "edited": false, "score": 0, "creation_date": 1455526949, "post_id": 35398756, "comment_id": 58511534, "body": "@CSstudent: Very strange. Shows <code>k1: v2 = 2 v1 = 1</code> for me (after adding <code>my</code> to loop variables)."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1455488690, "creation_date": 1455488690, "answer_id": 35398756, "question_id": 35398449, "link": "https://stackoverflow.com/questions/35398449/hash-of-hashes-from-arrays-in-perl/35398756#35398756", "title": "Hash of hashes from arrays in Perl", "body": "<p>You can use a hash of hashes, where each key hash a subhash of the form <code>value =&gt; count</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Data::Dumper;\n\nmy @keys   = qw( k1 k1 k1 k2 k2 k3 k4 k4 k5);\nmy @values = qw( v1 v2 v2 v3 v4 v5 v6 v6 v7 );\n\nmy %hash;\nfor my $idx (0 .. $#keys) {\n    $hash{ $keys[$idx] }{ $values[$idx] }++;\n}\n\nprint Dumper \\%hash;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 185, "user_id": 4822472, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3d8fa7366215e617e62de9db36c689d8?s=128&d=identicon&r=PG&f=1", "display_name": "CS student", "link": "https://stackoverflow.com/users/4822472/cs-student"}, "edited": false, "score": 0, "creation_date": 1455494917, "post_id": 35398769, "comment_id": 58501562, "body": "I tried printing values from this hash of hashes using foreach $item (keys %hash){  \tprint &quot;$item: &quot;;   \tforeach $iteminitem (keys %{$hash{$item}}){     \t    print &quot;$iteminitem = $hash{$item}{$iteminitem} &quot;;   \t}   \tprint &quot;\\n&quot;; } in the form: key: value = count but the output produces a: 1 = 1 when I want it to show a: 1 = 2 since there are two a keys with values of 1"}], "tags": [], "owner": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "is_accepted": true, "score": 0, "last_activity_date": 1455495274, "last_edit_date": 1455495274, "creation_date": 1455488802, "answer_id": 35398769, "question_id": 35398449, "link": "https://stackoverflow.com/questions/35398449/hash-of-hashes-from-arrays-in-perl/35398769#35398769", "title": "Hash of hashes from arrays in Perl", "body": "<p>Let's say you arrays look like this:</p>\n\n<pre><code>my @keys   = qw/a b c a a/;\nmy @values = qw/1 2 3 4 1/;\n</code></pre>\n\n<p>It's as easy as a simple for loop:</p>\n\n<pre><code>for ($i = 0; $i &lt; scalar @keys; $i++) {\n    $hash{$keys[$i]}{$values[$i]} += 1;\n}\n</code></pre>\n\n<p>You can then iterate over the inner values (the count) with a nested loop:</p>\n\n<pre><code>foreach my $key (keys %hash) {\n    while (my ($value, $count) = each %{ $hash{$key} } ) {\n        print \"$key : $value = $count\\n\";\n    }\n}\n</code></pre>\n\n<p>Which would produce:</p>\n\n<pre><code>c : 3 = 1\na : 4 = 1\na : 1 = 2\nb : 2 = 1\n</code></pre>\n\n<p>You can sort the keys if you want to:</p>\n\n<pre><code>foreach my $key (sort keys %hash) {\n    # same as before \n}\n</code></pre>\n\n<p>To get</p>\n\n<pre><code>a : 4 = 1\na : 1 = 2\nb : 2 = 1\nc : 3 = 1\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 4822472, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3d8fa7366215e617e62de9db36c689d8?s=128&d=identicon&r=PG&f=1", "display_name": "CS student", "link": "https://stackoverflow.com/users/4822472/cs-student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 35398769, "answer_count": 2, "score": 0, "last_activity_date": 1455495274, "creation_date": 1455486712, "last_edit_date": 1455486798, "question_id": 35398449, "link": "https://stackoverflow.com/questions/35398449/hash-of-hashes-from-arrays-in-perl", "title": "Hash of hashes from arrays in Perl", "body": "<p>I am using two arrays (one that holds keys and one that holds values) to build a hash in Perl.  I need to count and delete the repeated key/value pairs so that I have a unique hash.  Then I have to build a hash of hashes of the form: ((key,value), count). </p>\n\n<p>I am using this line to build the hash from the arrays.</p>\n\n<pre><code>@hash{@keys} = @values;\n</code></pre>\n\n<p>This will keep repeated key/value pairs in the hash which I do not want.  Any help in creating the hash of hashes is appreciated.  Thanks.</p>\n"}, {"tags": ["perl", "parsing", "expression", "parse-recdescent"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1455481475, "post_id": 35397507, "comment_id": 58497563, "body": "<a href=\"http://cpansearch.perl.org/src/SMUELLER/Math-Symbolic-0.612/lib/Math/Symbolic/Parser.pm\" rel=\"nofollow noreferrer\">cpansearch.perl.org/src/SMUELLER/Math-Symbolic-0.612/lib/Mat&zwnj;&#8203;h/&hellip;</a>"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1455482103, "post_id": 35397507, "comment_id": 58497774, "body": "Please <a href=\"https://stackoverflow.com/posts/35397507/edit\">edit</a> your question to show the input that doesn&#39;t work. Ideally, create a runnable testcase that would pass when your problem is solved. See also: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "edited": false, "score": 0, "creation_date": 1455498317, "post_id": 35398177, "comment_id": 58502272, "body": "seem to work except on the following expression : #          got: &#39;z / 13 + 22&#39; #     expected: &#39;z / 13 + 22 * abc + 16&#39; any idea ?"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "edited": false, "score": 0, "creation_date": 1455498941, "post_id": 35398177, "comment_id": 58502405, "body": "@user1019129 sorry, been a while since I&#39;ve done this, I forgot to allow for associativity. Edited, try again?"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "edited": false, "score": 0, "creation_date": 1455500455, "post_id": 35398177, "comment_id": 58502750, "body": "@user1019129 cool. Look at the docs for <code>leftop</code> (and <code>rightop</code>) to see how to simplify it further \u2014 what I gave you is the canonical version, but it&#39;s not the best that P::RD can do :)"}, {"owner": {"reputation": 791, "user_id": 4747937, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d9d99088c98489a7e0f718631b9e82fc?s=128&d=identicon&r=PG&f=1", "display_name": "kevlarr", "link": "https://stackoverflow.com/users/4747937/kevlarr"}, "edited": false, "score": 0, "creation_date": 1554168273, "post_id": 35398177, "comment_id": 97643047, "body": "I&#39;ve been trying to solve a left-recursive problem for a few nights now, and this was the single clearest breakdown of the problem I&#39;ve seen anywhere! Very easily transferable, too."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 791, "user_id": 4747937, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d9d99088c98489a7e0f718631b9e82fc?s=128&d=identicon&r=PG&f=1", "display_name": "kevlarr", "link": "https://stackoverflow.com/users/4747937/kevlarr"}, "edited": false, "score": 0, "creation_date": 1554170056, "post_id": 35398177, "comment_id": 97643351, "body": "@kevlarr glad to have helped :)"}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 4, "last_activity_date": 1463986055, "last_edit_date": 1463986055, "creation_date": 1455485192, "answer_id": 35398177, "question_id": 35397507, "link": "https://stackoverflow.com/questions/35397507/parserecdescent-parsing-nested-arithmetic-expression/35398177#35398177", "title": "Parse::RecDescent : Parsing nested arithmetic expression?", "body": "<p>Your precedence chain has a problem. <code>1 + (2 + 3)</code> can parse as <code>number op expr</code>, with the <code>expr</code> on the right being <code>'(' expr ')'</code>, but <code>(1 + 2) + 3</code> can't, because <code>expr</code> can't appear to the left of <code>op</code>. Of course you can't add it there directly because left-recursion is forbidden. What you need to do is break it down like:</p>\n\n<pre><code>expr: term '+' expr\n    | term '-' expr\n    | term\n\nterm: factor '*' term\n      | factor '/' term\n      | factor\n\nfactor: '(' expr ')'\n    | number\n    | variable\n    | &lt;error&gt;\n</code></pre>\n\n<p>yes, parentheses are all the way down there at the end of the chain, which might seem weird, but what it says is that a parenthesized expression can appear anywhere a factor can, and will be evaluated before it bubbles up. Now it's easy to see that since everything refers to <code>factor</code>, a parenthesized expression can appear anywhere it needs to.</p>\n"}, {"comments": [{"owner": {"reputation": 791, "user_id": 4747937, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d9d99088c98489a7e0f718631b9e82fc?s=128&d=identicon&r=PG&f=1", "display_name": "kevlarr", "link": "https://stackoverflow.com/users/4747937/kevlarr"}, "edited": false, "score": 0, "creation_date": 1554167578, "post_id": 35398196, "comment_id": 97642915, "body": "&quot;Stay with this solution only ...&quot; - Were you referring to your answer or hobbs&#39;?"}], "tags": [], "owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "is_accepted": false, "score": 3, "last_activity_date": 1556184886, "last_edit_date": 1556184886, "creation_date": 1455485336, "answer_id": 35398196, "question_id": 35397507, "link": "https://stackoverflow.com/questions/35397507/parserecdescent-parsing-nested-arithmetic-expression/35398196#35398196", "title": "Parse::RecDescent : Parsing nested arithmetic expression?", "body": "<p>Add a rule to combine a bracketed expression with another expression using an infix operator:</p>\n\n<pre><code>| '(' expr ')' op expr\n</code></pre>\n\n<p>Btw, the original grammar does not suffer wrt nested expressions but infix expressions that start with a term in parentheses.</p>\n\n<p>In general, the solution by user hobbs is the standard approach to tackle expressions with infix operators of different preference. It has the additional advantage that the correct subexpression evaluation order is taken care of by the grammar proper and need not be handled by extra code.</p>\n\n<p>Stay with my solution only if you do not need a full-fledged expression evaluator (You will most certainly find that you need one ...).</p>\n"}], "owner": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 35398177, "answer_count": 2, "score": 3, "last_activity_date": 1556184886, "creation_date": 1455481159, "last_edit_date": 1455484789, "question_id": 35397507, "link": "https://stackoverflow.com/questions/35397507/parserecdescent-parsing-nested-arithmetic-expression", "title": "Parse::RecDescent : Parsing nested arithmetic expression?", "body": "<p>Currently I use this to parse Arithmetic expressions :</p>\n\n<pre><code>expr  : '(' expr ')' \n      | number op expr \n      | variable op expr \n      | number\n      | variable\n      | &lt;error&gt;\n</code></pre>\n\n<p>It works for simple expressions, but can't handle nested bracketed-expressions.\nAny idea how to extend/modify it so it can handle nested expressions.</p>\n\n<p>For  example  this works :</p>\n\n<pre><code>5 + 12\n33 - $var\n13 + 2 * $v\n( 44 + 98 )\n</code></pre>\n\n<p>but this does not work :</p>\n\n<pre><code>( 44 + 98 ) / 2\n( 44 + 98 ) / ( 5 + $var2 )\n( 11 + 5 ) * ( 3 + ( $v * 2 ) )\n</code></pre>\n"}, {"tags": ["perl", "exception", "error-handling", "template-engine"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1455471382, "post_id": 35394872, "comment_id": 58493484, "body": "I would think a simple search through the <code>.tt</code> file looking for <code>&#47;etc&#47;hosts</code> would suffice."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1455471525, "post_id": 35394872, "comment_id": 58493526, "body": "@JimGarrison In this particular case, yes. But I want a method of easily locating errors when there are many files structured with <code>[% INCLUDE %]</code> directives and it is unknown where to search the offending file"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1455471632, "post_id": 35394872, "comment_id": 58493561, "body": "This is probably helpful <a href=\"http://www.perlmonks.org/?node_id=605410\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=605410</a>"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1455471817, "post_id": 35394872, "comment_id": 58493630, "body": "@JimGarrison No, the link you suggested is on an entirely orthogonal topic, it does not describe how to locate the line of the error, but just how to display errors (without the line information)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455472994, "post_id": 35394872, "comment_id": 58494099, "body": "Does <code>$template-&gt;error()</code> not show the line number?"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1455473219, "post_id": 35394872, "comment_id": 58494172, "body": "@ThisSuitIsBlackNot It does not show the line number :-("}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 2, "creation_date": 1455473959, "post_id": 35394872, "comment_id": 58494402, "body": "Weirdly enough it does not show error location for <code>file error</code>, but works well (shows line numbers) for such things as unclosed <code>[% IF %]</code> directive. I will report a bug"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455516615, "post_id": 35394872, "comment_id": 58506737, "body": "(<code>$@</code> is set by <code>eval BLOCK</code>, <code>eval EXPR</code> and <code>do EXPR</code>, but you don&#39;t use any of those. There&#39;s no reason to believe <code>$@</code> is meaningful. Please use <code>$template-&gt;error()</code> as documented.)"}], "answers": [{"tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": true, "score": 0, "last_activity_date": 1455542486, "creation_date": 1455542486, "answer_id": 35410471, "question_id": 35394872, "link": "https://stackoverflow.com/questions/35394872/how-to-find-the-line-with-the-error-in-template-toolkit-files/35410471#35410471", "title": "How to find the line with the error in Template Toolkit files?", "body": "<p>Yes, it's a bug. Thanks for <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=112022\" rel=\"nofollow\">reporting</a> it.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 35410471, "answer_count": 1, "score": 2, "last_activity_date": 1455542486, "creation_date": 1455471274, "question_id": 35394872, "link": "https://stackoverflow.com/questions/35394872/how-to-find-the-line-with-the-error-in-template-toolkit-files", "title": "How to find the line with the error in Template Toolkit files?", "body": "<p><code>print $@</code> for template toolkit does not show the line where the exception occurred. How to find the exact place of the error?</p>\n\n<pre><code>$ perl -Mstrict -Mwarnings -MTemplate -e 'my $template = Template-&gt;new({ABSOLUTE=&gt;0}); $template-&gt;process(\"test.tt\") || print $@, \"\\n\"'\nfile error - /etc/hosts: absolute paths are not allowed (set ABSOLUTE option)\n</code></pre>\n\n<p>I do not see which line of the <code>.tt</code> file caused the error. This makes debugging difficult.</p>\n\n<p>Why does TT not show the location of the error? Is it an inherent problem of a feature which is hard to implement? If not, why is it yet not implemented? Should I propose bug report to implement this feature?</p>\n"}, {"tags": ["arrays", "perl", "associative-array"], "comments": [{"owner": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "edited": false, "score": 0, "creation_date": 1455441213, "post_id": 35390069, "comment_id": 58484152, "body": "You have to use -&gt;fetchrow_hashref (instead of fetchrow_array). This way you obtain a ref to an associative array (hash)"}, {"owner": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "edited": false, "score": 0, "creation_date": 1455441871, "post_id": 35390069, "comment_id": 58484349, "body": "Remember: given an hash ref $href you can use the syntax $href-&gt;{&#39;key&#39;} to get the value associated to &#39;key&#39;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "edited": false, "score": 2, "creation_date": 1455447596, "post_id": 35390069, "comment_id": 58485896, "body": "@frhack: If you read the question carefully, you will see that the OP is not asking for the data structure that <code>fetchrow_hashref()</code> returns."}, {"owner": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "edited": false, "score": 0, "creation_date": 1455448051, "post_id": 35390069, "comment_id": 58486017, "body": "He needs &quot;to create a Associative array&quot; from a dbi query. So the answer is use &quot;$href = $sth-&gt;fetchrow_hashref&quot;"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "edited": false, "score": 0, "creation_date": 1455491272, "post_id": 35390069, "comment_id": 58500502, "body": "@frhack No, that&#39;s not the answer."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "edited": false, "score": 1, "creation_date": 1455533108, "post_id": 35390069, "comment_id": 58515661, "body": "@frhack: Read the question more closely. The key in the hash is one column from each row and the value is another. That is not what <code>fetchrow_hashref()</code> gives you. Using <code>fetchrow_hashref()</code> would give a data structure like <code>{ userid =&gt; &quot;foo&quot;, username =&gt; &quot;bar&quot; }</code>. The question asks for a structure like <code>{ foo =&gt; &quot;bar&quot;}</code>."}, {"owner": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "edited": false, "score": 1, "creation_date": 1455543327, "post_id": 35390069, "comment_id": 58522167, "body": "ok ok ok .... sorry what a my mistake... I apologize  !!! Please see my new answer."}], "answers": [{"comments": [{"owner": {"reputation": 2022, "user_id": 1236128, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DxsJR.png?s=128&g=1", "display_name": "Jonathan Komar", "link": "https://stackoverflow.com/users/1236128/jonathan-komar"}, "edited": false, "score": 0, "creation_date": 1569307828, "post_id": 35390988, "comment_id": 102544110, "body": "<i>Associative array</i> is formal CS language, and it refers to that which the Perl &quot;hash&quot; is implementing (actually a hash table, I suppose). In formal CS language, <i>hash</i> refers to either the <i>hash function</i> itself or the output of a hash function, the <i>hash value</i>, not an associative array. I cannot really cite this, but a quick search on <code>scholar.google.com</code> or perusing some CS textbooks might yield quantitatively sufficient evidence that this information is true, and is not outdated by 20 years."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 2022, "user_id": 1236128, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DxsJR.png?s=128&g=1", "display_name": "Jonathan Komar", "link": "https://stackoverflow.com/users/1236128/jonathan-komar"}, "edited": false, "score": 0, "creation_date": 1569309882, "post_id": 35390988, "comment_id": 102545059, "body": "@JonathanKomar: I understand all of that. But my point stands that if you&#39;re using Perl resources that use the term, (unless they say something like &quot;hashes are Perl&#39;s implementation of associative arrays&quot;) then they are likely to be rather outdated."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1455447698, "creation_date": 1455447698, "answer_id": 35390988, "question_id": 35390069, "link": "https://stackoverflow.com/questions/35390069/associative-array-perl/35390988#35390988", "title": "Associative array - PERL", "body": "<p>I worry about the resources that you are using to learn Perl. Perl programmers haven't used the term \"associative array\" since Perl 5 was released over twenty years ago. We now call these structures \"hashes\". If you're learning from resources that use the term \"associative array\", then they are almost certainly horribly outdated.</p>\n\n<p>But, to answer your question. The code is pretty simple.</p>\n\n<pre><code>my $sql = 'select profiles.userid, profiles.username...';\nmy $sth = $dbh-&gt;prepare($sql);\n$sth-&gt;execute;\n\nmy %techs_hash;\nwhile (my @row = $sth-&gt;fetchrow_array) {\n  $techs_hash{$row[0]} = $row[1];\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455463099, "post_id": 35391139, "comment_id": 58490450, "body": "Only the second option does what the question asked, and it&#39;s not very efficient with no additional benefit."}, {"owner": {"reputation": 126, "user_id": 5629187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a5107ca0c722de83e57801d071fe2e?s=128&d=identicon&r=PG", "display_name": "kergma", "link": "https://stackoverflow.com/users/5629187/kergma"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455518661, "post_id": 35391139, "comment_id": 58507539, "body": "additional benefit here is a shorter code  - why write those <code>prepare execute while fetch</code> things when they are already (and quite efficiently) implemented in selectall_* subs ?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1455533286, "post_id": 35391139, "comment_id": 58515773, "body": "&quot;this is exactly what you want&quot; - well, the question asks for a hash and you have given us a hash reference. Not sure that&#39;s &quot;exactly what you want&quot; :-)  Perhaps <code>my %result; $result{$_-&gt;{userid}}=$_-&gt;{username} foreach @$tech;</code> would be a little closer :-)"}], "tags": [], "owner": {"reputation": 126, "user_id": 5629187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a5107ca0c722de83e57801d071fe2e?s=128&d=identicon&r=PG", "display_name": "kergma", "link": "https://stackoverflow.com/users/5629187/kergma"}, "is_accepted": false, "score": 0, "last_activity_date": 1455448789, "creation_date": 1455448789, "answer_id": 35391139, "question_id": 35390069, "link": "https://stackoverflow.com/questions/35390069/associative-array-perl/35391139#35391139", "title": "Associative array - PERL", "body": "<p>you can fetch all rows into hash of hashes by one call to selectall_hashref:</p>\n\n<pre><code> my $tech=$dbh-&gt;selectall_hashref(\"select profile.userid, profiles.username, ...\",'userid');\n</code></pre>\n\n<p>or you can fetch all rows into array of hashes with selectall_arrayref with attribute <code>{Slice=&gt;{}}</code> :</p>\n\n<pre><code>my $tech=$dbh-&gt;selectall_arrayref(\"select profile.userid, profiles.username, ...\",{Slice=&gt;{}});\n</code></pre>\n\n<p>and then turn it into desired hash (this is exactly what you want):</p>\n\n<pre><code>my $result;\n$result-&gt;{$_-&gt;{userid}}=$_-&gt;{username} foreach @$tech;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 2, "last_activity_date": 1455462633, "creation_date": 1455462633, "answer_id": 35393293, "question_id": 35390069, "link": "https://stackoverflow.com/questions/35390069/associative-array-perl/35393293#35393293", "title": "Associative array - PERL", "body": "<p>Use <a href=\"https://metacpan.org/pod/DBI#selectcol_arrayref\" rel=\"nofollow\"><code>selectcol_arrayref()</code></a> and the <code>Columns</code> attribute:</p>\n\n<pre><code>my $aref = $dbh-&gt;selectcol_arrayref('select userid, login_name ...', {Columns =&gt; [1, 2]});\nmy %hash = @$aref;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1455613578, "post_id": 35410727, "comment_id": 58554869, "body": "Why not assign the hash inside the <code>while</code> loop? <code>while (...) { $hash{$h-&gt;{userid}} = $h-&gt;{username}; }</code>. Not sure why you&#39;d want to add in that extra loop."}, {"owner": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1455615052, "post_id": 35410727, "comment_id": 58555865, "body": "You are right but here I wanted propose a lambda style. The map function is one of the fundamental instrument. <a href=\"http://reactivex.io/learnrx/\" rel=\"nofollow noreferrer\">reactivex.io/learnrx</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1455617657, "post_id": 35410727, "comment_id": 58557740, "body": "<code>my %hash = map { $_-&gt;{userid} =&gt; $_-&gt;{username} } @{ $sth-&gt;fetchall_arrayref({}) };</code>"}, {"owner": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1455618862, "post_id": 35410727, "comment_id": 58558594, "body": "@DaveCross perfect answer !"}], "tags": [], "owner": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "is_accepted": false, "score": 0, "last_activity_date": 1455543744, "last_edit_date": 1455543744, "creation_date": 1455543226, "answer_id": 35410727, "question_id": 35390069, "link": "https://stackoverflow.com/questions/35390069/associative-array-perl/35410727#35410727", "title": "Associative array - PERL", "body": "<pre><code>my @l;\nwhile(my $h = $sth-&gt;fetchrow_hashref){\n  push @l,$h;\n}\nmy %hash;\nmap { $hash{$_-&gt;{userid}} = $_-&gt;{username} } @l;\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 5577224, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1740f35b18ed494a65807496d6c062ef?s=128&d=identicon&r=PG&f=1", "display_name": "iamnewuser", "link": "https://stackoverflow.com/users/5577224/iamnewuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 0, "accepted_answer_id": 35390988, "answer_count": 4, "score": 1, "last_activity_date": 1455543744, "creation_date": 1455440704, "question_id": 35390069, "link": "https://stackoverflow.com/questions/35390069/associative-array-perl", "title": "Associative array - PERL", "body": "<p>I need to know the way of creating the Associative array in Perl.</p>\n\n<p>Basically now I have the code which is implemented as follows:</p>\n\n<pre><code> my $getEmployeeListOfTeamQuery  = \"SELECT profiles.userid \n                                  FROM user_group_map,profiles \n                                  WHERE user_group_map.group_id = $teamId \n                                  AND profiles.userid = user_group_map.user_id \n                                  AND profiles.active = 'y' \n                                  AND profiles.login_name NOT LIKE 'qa_%' \n                                  AND profiles.disabledtext = '' \n                                  GROUP BY profiles.login_name \n                                  ORDER BY profiles.login_name\";\n\n    my $getEmployeeListOfTeam = $dbh-&gt;prepare($getEmployeeListOfTeamQuery);\n    $getEmployeeListOfTeam -&gt; execute();\n    my @techs = ();\n\n    while(my ($tech) - $getEmployeeListOfTeam-&gt;fetchrow_array) {\n        push @techs,$tech;\n    }\n</code></pre>\n\n<p>So above code will be having the query in $getEmployeeListOfTeamQuery, Created the array names as techs.</p>\n\n<p>Then tried pushing the values in to the the array.</p>\n\n<p>Here it is working fine.</p>\n\n<p>My question here is regarding the creation of associative array.</p>\n\n<p>That is I need to query as follows : \"SELECT profiles.userid, profiles,username.....\" </p>\n\n<p>Hence I need to create a Associative array with \"userid\" as key and \"username\" as value.</p>\n"}, {"tags": ["oracle", "perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1455404755, "post_id": 35386223, "comment_id": 58477183, "body": "Use <code>-&gt;do</code> instead of <code>-&gt;execute</code>?"}, {"owner": {"reputation": 858, "user_id": 4048585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n2JQS.jpg?s=128&g=1", "display_name": "davis", "link": "https://stackoverflow.com/users/4048585/davis"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1455405428, "post_id": 35386223, "comment_id": 58477355, "body": "@mob I tried $db-&gt;do($query); but it didn&#39;t work."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1455407319, "post_id": 35386223, "comment_id": 58477830, "body": "Try &quot;BEGIN $query END;&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 1, "last_activity_date": 1455406100, "creation_date": 1455406100, "answer_id": 35386576, "question_id": 35386223, "link": "https://stackoverflow.com/questions/35386223/run-multiple-updates-in-a-row-perl-with-oracle-db/35386576#35386576", "title": "Run multiple updates in a row | perl with oracle db", "body": "<p>No, this is not possible.  Per the <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow\">DBI documentation</a>:</p>\n\n<blockquote>\n  <p>Multiple SQL statements may not be combined in a single statement handle ($sth)</p>\n</blockquote>\n\n<p>I presume that this decision was made for reasons of security, to give additional protection from <a href=\"http://bobby-tables.com/\" rel=\"nofollow\">Little Bobby Tables</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "is_accepted": false, "score": 2, "last_activity_date": 1455408634, "creation_date": 1455408634, "answer_id": 35386874, "question_id": 35386223, "link": "https://stackoverflow.com/questions/35386223/run-multiple-updates-in-a-row-perl-with-oracle-db/35386874#35386874", "title": "Run multiple updates in a row | perl with oracle db", "body": "<p>One workaround would be to put your UPDATE/INSERT logic in a stored procedure, and call that stored procedure from Perl, with either <code>prepare</code> and <code>execute</code>, or (if you only need to call it once) <code>do</code>.</p>\n"}], "owner": {"reputation": 858, "user_id": 4048585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n2JQS.jpg?s=128&g=1", "display_name": "davis", "link": "https://stackoverflow.com/users/4048585/davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 35386576, "answer_count": 2, "score": 1, "last_activity_date": 1455408634, "creation_date": 1455403460, "last_edit_date": 1455407402, "question_id": 35386223, "link": "https://stackoverflow.com/questions/35386223/run-multiple-updates-in-a-row-perl-with-oracle-db", "title": "Run multiple updates in a row | perl with oracle db", "body": "<p>everyone.</p>\n\n<p>Is there a way to execute a bunch of UPDATES and INSERTS into a database in oracle in a row?</p>\n\n<p>What I've got is something like that but it didn't work and didn't return a error message.</p>\n\n<pre><code>my $query = \"UPDATE ...; UPDATE...; INSERT...;\"\n$sth = $db-&gt;prepare($query);\n$sth-&gt;execute() or die $sth-&gt;errstr;\nif ($sth-&gt;err){\n    $content .= \"error code: \" . $sth-&gt;err . \"msg:\" . $sth-&gt;errstr;\n}\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["regex", "perl", "substitution"], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1455403574, "post_id": 35386172, "comment_id": 58476864, "body": "Thank you.  Makes perfect sense.  I didn&#39;t know about the <code>&#47;s</code> changing <code>.</code> I&#39;ll have to refresh my regex operations a bit more.  Really appreciate the help!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1455403087, "creation_date": 1455403087, "answer_id": 35386172, "question_id": 35386061, "link": "https://stackoverflow.com/questions/35386061/perl-string-repetition-operator-in-substituion-regex/35386172#35386172", "title": "Perl: String Repetition Operator in Substituion Regex", "body": "<p>Operators are not interpolated in strings. You need the <code>/e</code> switch to interpret the replacement as code, not just string:</p>\n\n<pre><code>s/&lt;h(\\d)&gt;([^&lt;]*)&lt;\\/h\\d&gt;/\"=\" x $1 . $2 . \"=\" x $1/ge\n</code></pre>\n\n<p>You can also use a different delimiter instead of <code>/</code> to avoid the need to backslash it in <code>&lt;/h</code>.</p>\n\n<p><code>/s</code> is not needed, as it changes the behaviour of <code>.</code> which doesn't occur in the regex.</p>\n"}, {"comments": [{"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1455403499, "post_id": 35386173, "comment_id": 58476844, "body": "Thank you, looks like you and @choroba were both right on top of this one!  Appreciate the quick turnaround."}], "tags": [], "owner": {"reputation": 7787, "user_id": 1257035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHLC8.png?s=128&g=1", "display_name": "a3f", "link": "https://stackoverflow.com/users/1257035/a3f"}, "is_accepted": false, "score": 1, "last_activity_date": 1455403741, "last_edit_date": 1455403741, "creation_date": 1455403094, "answer_id": 35386173, "question_id": 35386061, "link": "https://stackoverflow.com/questions/35386061/perl-string-repetition-operator-in-substituion-regex/35386173#35386173", "title": "Perl: String Repetition Operator in Substituion Regex", "body": "<p>That's what the <code>s///e</code> <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow\">regex modifier</a> is for:</p>\n\n<pre><code>s/&lt;h(\\d)&gt;([^&lt;]*)&lt;\\/h\\d&gt;/(\"=\" x $1) .$2. (\"=\" x $1)/gse\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 4242385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/078bea2667b144256a7ca042d37caddd?s=128&d=identicon&r=PG&f=1", "display_name": "Doggerel", "link": "https://stackoverflow.com/users/4242385/doggerel"}, "is_accepted": false, "score": 0, "last_activity_date": 1455433330, "creation_date": 1455433330, "answer_id": 35389237, "question_id": 35386061, "link": "https://stackoverflow.com/questions/35386061/perl-string-repetition-operator-in-substituion-regex/35389237#35389237", "title": "Perl: String Repetition Operator in Substituion Regex", "body": "<p>This version uses a {} delimeter to avoid escape-itis, a /i and a backreference so something like </p>\n\n<pre><code>&lt;h1&gt;.....&lt;/h3&gt; \n</code></pre>\n\n<p>doesn't get matched.</p>\n\n<pre><code>s{&lt;h(\\d)&gt;([^&lt;]*)&lt;/h\\g1&gt;}{\"=\" x $1 . \" $2 \" . \"=\" x $1}gei;\n</code></pre>\n"}], "owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 35386172, "answer_count": 3, "score": 0, "last_activity_date": 1455433330, "creation_date": 1455402334, "last_edit_date": 1455402663, "question_id": 35386061, "link": "https://stackoverflow.com/questions/35386061/perl-string-repetition-operator-in-substituion-regex", "title": "Perl: String Repetition Operator in Substituion Regex", "body": "<p>Is there an easy way to use Perl's repetition operator, <code>x</code>, during a substitution regex?</p>\n\n<p>I'm trying to do a quick one-liner on very basic HTML without using a module. Essentially, I'd like to transform lines with opening <code>&lt;h*&gt;</code> and closing <code>&lt;/h*&gt;</code> HTML tags into WIKI markup based on the heading number in the HTML tag.  So...</p>\n\n<p><code>___Original DATA___</code> </p>\n\n<ul>\n<li><p><code>&lt;h1&gt; This is a header one&lt;/h1&gt;</code></p></li>\n<li><p><code>&lt;h2&gt; This is a header two&lt;/h2&gt;</code></p></li>\n<li><p><code>&lt;h3&gt; This is a header three&lt;/h3&gt;</code></p></li>\n</ul>\n\n<p><code>___Wanted DATA___</code> </p>\n\n<ul>\n<li><p><code>= This is a header one =</code></p></li>\n<li><p><code>== This is a header two ==</code></p></li>\n<li><p><code>=== This is a header three ===</code></p></li>\n</ul>\n\n<p>Everything works well with the regex itself, capturing the digit needed from the original header tag into the <code>$1</code> variable. During the substitution portion, is there a way I can use that variable to create the needed number of <code>=</code> signs (e.g., <code>\"=\" x $1</code>)?</p>\n\n<p><code>perl -0777 -pe 's/&lt;h(\\d)&gt;([^&lt;]*)&lt;\\/h\\d&gt;/\"=\"x$1 $2 \"=\"x$1/gs'</code>, but the latter half (<code>\"=\"x$1 $2 \"=\"x$1</code>) of the command doesn't give me the wanted output.</p>\n"}, {"tags": ["perl", "unit-testing", "automated-tests"], "comments": [{"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1455403193, "post_id": 35385563, "comment_id": 58476749, "body": "Have you written some tests yet? If not, have you seen <a href=\"http://stackoverflow.com/questions/2876091/what-is-the-preferred-unit-testing-framework-for-perl\">this question on the preferred test framework for perl</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 1537, "user_id": 1248009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/911aa8c8d83d7f53d1650fa7c585dd92?s=128&d=identicon&r=PG", "display_name": "a7omiton", "link": "https://stackoverflow.com/users/1248009/a7omiton"}, "edited": false, "score": 0, "creation_date": 1455404855, "post_id": 35386321, "comment_id": 58477209, "body": "Perfect! Thanks for letting me know :)"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 5, "last_activity_date": 1455404146, "creation_date": 1455404146, "answer_id": 35386321, "question_id": 35385563, "link": "https://stackoverflow.com/questions/35385563/how-to-test-a-cpan-package-that-requires-having-user-credentials/35386321#35386321", "title": "How to test a CPAN package that requires having user credentials", "body": "<p>Have the tests expect the credentials in environment variables (or if they are long or complicated, a config file). When the credentials are not provided, have the test issue a warning with instructions about performing the tests with credentials.</p>\n\n<pre><code> use Test::More;\n\n unless ($ENV{MY_ID} &amp;&amp; $ENV{MY_PWD}) {\n     BAIL_OUT \"*** This module requires credentials. Pass them in the\n           MY_ID and MY_PWD environment variables, like \n\n                 MY_ID=username MY_PWD=passwd make test\";\n }\n</code></pre>\n\n<p>Automated test systems (such as what many CPANTesters use) will never configure a module before it is tested, so the <code>BAIL_OUT</code> registers the test result on CPAN Testers as an \"N/A\" as opposed to a fail.</p>\n"}, {"tags": [], "owner": {"reputation": 603, "user_id": 2625346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ee31fca82dd2895bc5eb68ead5f973e?s=128&d=identicon&r=PG", "display_name": "Ivan Baidakou", "link": "https://stackoverflow.com/users/2625346/ivan-baidakou"}, "is_accepted": false, "score": 0, "last_activity_date": 1456160060, "creation_date": 1456160060, "answer_id": 35559333, "question_id": 35385563, "link": "https://stackoverflow.com/questions/35385563/how-to-test-a-cpan-package-that-requires-having-user-credentials/35559333#35559333", "title": "How to test a CPAN package that requires having user credentials", "body": "<p>I don't think, that this is a good idea to BAIL_OUT for common tests, run automatically by cpan-testers and on module installation. </p>\n\n<p>I think you should just move your test into <code>xt</code> directory (authors test), which will be run only by you. And yes, best way to transfer credentials is via <code>ENV</code>, as <strong>mob</strong> suggested.</p>\n"}], "owner": {"reputation": 1537, "user_id": 1248009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/911aa8c8d83d7f53d1650fa7c585dd92?s=128&d=identicon&r=PG", "display_name": "a7omiton", "link": "https://stackoverflow.com/users/1248009/a7omiton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 35386321, "answer_count": 2, "score": 3, "last_activity_date": 1456160060, "creation_date": 1455399124, "question_id": 35385563, "link": "https://stackoverflow.com/questions/35385563/how-to-test-a-cpan-package-that-requires-having-user-credentials", "title": "How to test a CPAN package that requires having user credentials", "body": "<p>I'm in the process of making a module that I plan to distribute on CPAN that is a client library for a public API.</p>\n\n<p>The API requires API credentials (client_id/secret), and I'm not sure what the best practice is in regards to running Perl tests for a distribution with such credentials.</p>\n\n<p>Do I:</p>\n\n<ul>\n<li>Create a dummy account with the API and hope that others don't mess with it?</li>\n<li>Mock the requests and responses? &lt;- Not in favour of this, as I don't think that it's a good idea to mock HTTP transactions for a API client library</li>\n<li>Not test... :S</li>\n</ul>\n"}, {"tags": ["perl", "dbix-class"], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 986818, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8baf2119a59c2c8c47c9fcc5c962ec23?s=128&d=identicon&r=PG", "display_name": "rajeev", "link": "https://stackoverflow.com/users/986818/rajeev"}, "edited": false, "score": 0, "creation_date": 1479266713, "post_id": 35385610, "comment_id": 68480979, "body": "How do you know whether the object was &#39;found&#39; or &#39;created&#39;?                       $obj = $schema-&gt;resultset(&#39;ObjList&#39;)-&gt;find_or_create({...some conditions...});"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1479500759, "post_id": 35385610, "comment_id": 68601444, "body": "Please read the documentation. Here is what it says: If you need to know if an existing row was found or a new one created use &quot;find_or_new&quot; and &quot;in_storage&quot; in DBIx::Class::Row instead. Don&#39;t forget to call &quot;insert&quot; in DBIx::Class::Row to save the newly created row to the database!"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 1, "last_activity_date": 1479500661, "last_edit_date": 1479500661, "creation_date": 1455399423, "answer_id": 35385610, "question_id": 35384297, "link": "https://stackoverflow.com/questions/35384297/dbixclass-find-or-create-objects/35385610#35385610", "title": "DBIx::Class Find or Create objects", "body": "<p>If you have a key on the name you can use <a href=\"https://metacpan.org/pod/DBIx::Class::ResultSet#find_or_create\" rel=\"nofollow noreferrer\">find_or_create</a>.</p>\n"}], "owner": {"reputation": 1350, "user_id": 1103848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/aMC26.jpg?s=128&g=1", "display_name": "Sandeep Chayapathi", "link": "https://stackoverflow.com/users/1103848/sandeep-chayapathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 35385610, "answer_count": 1, "score": 0, "last_activity_date": 1479500661, "creation_date": 1455391237, "question_id": 35384297, "link": "https://stackoverflow.com/questions/35384297/dbixclass-find-or-create-objects", "title": "DBIx::Class Find or Create objects", "body": "<p>I'm using DBIx::Class to model the following:</p>\n\n<p>A <code>Recipe</code> with many <code>Tags</code>. The <code>Tag</code> is shared with other <code>Recipe</code> objects.</p>\n\n<p>While creating a <code>Recipe</code> object I want to create a set of <code>Tag</code> objects and associate them with the newly created <code>Recipe</code> object. (The user enters a list of tags and I only have the name of the tag to go with)</p>\n\n<p>For the Tags I could iterate over the list and find one that matches the user entered name or create a new object manually. </p>\n\n<p>I couldn't find a documented <code>findOrCreate</code> type method in DBIx::Class. Any suggestions ?</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1455391339, "post_id": 35384277, "comment_id": 58473027, "body": "Perhaps you would like to narrow your question down a bit, describe exactly which code your problem concerns, and what you expect it to do instead."}, {"owner": {"reputation": 858, "user_id": 4048585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n2JQS.jpg?s=128&g=1", "display_name": "davis", "link": "https://stackoverflow.com/users/4048585/davis"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1455391525, "post_id": 35384277, "comment_id": 58473104, "body": "@TLP Sure. I&#39;ll edit right now to make it clearly. Thanks!"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1455391608, "post_id": 35384277, "comment_id": 58473137, "body": "Also, <code>Switch</code> is a deprecated module. Don&#39;t use the other version <code>given&#47;when</code> which is also .. not good. Use <code>if</code> instead."}, {"owner": {"reputation": 858, "user_id": 4048585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n2JQS.jpg?s=128&g=1", "display_name": "davis", "link": "https://stackoverflow.com/users/4048585/davis"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1455392212, "post_id": 35384277, "comment_id": 58473369, "body": "Thanks for this tip, @TLP I&#39;ll modify that. :) Also, I edited the post. There is the code that fills the variable that looses its value after submit."}], "answers": [{"tags": [], "owner": {"reputation": 858, "user_id": 4048585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n2JQS.jpg?s=128&g=1", "display_name": "davis", "link": "https://stackoverflow.com/users/4048585/davis"}, "is_accepted": true, "score": 0, "last_activity_date": 1455403067, "creation_date": 1455403067, "answer_id": 35386167, "question_id": 35384277, "link": "https://stackoverflow.com/questions/35384277/perl-not-getting-the-value-after-second-submit/35386167#35386167", "title": "PERL | Not getting the value after second submit", "body": "<p>I figured out how to perform this.\nAs per my analysis I cannot simply create a variable and pass it through the cgi form.</p>\n\n<p>To workaround this what I've done is create a hidden input in HTML and then send the variable through it.</p>\n\n<pre><code>&lt;input type='hidden' name='the_query' value=\\\"$final_query\\\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 858, "user_id": 4048585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n2JQS.jpg?s=128&g=1", "display_name": "davis", "link": "https://stackoverflow.com/users/4048585/davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 35386167, "answer_count": 1, "score": 0, "last_activity_date": 1465599727, "creation_date": 1455391138, "last_edit_date": 1465599727, "question_id": 35384277, "link": "https://stackoverflow.com/questions/35384277/perl-not-getting-the-value-after-second-submit", "title": "PERL | Not getting the value after second submit", "body": "<p>everyone.</p>\n\n<p>I'm doing an tool with Perl that actually verifies a status in the database and if necessary it gets the properly queries and after confirmation it updates the value.</p>\n\n<p>The page has three possible contents:</p>\n\n<p>If the query that will be used is already filled it updates and returns the status.</p>\n\n<p>If only the serial that the user input is filled it generates the query and then asks for confirmation.</p>\n\n<p>If none of those 2 variables are already filled it goes to the main form where the user can submit the serial.</p>\n\n<p>The problem that I'm facing is that after it generates the <code>$final_query</code> and shows up for confirmation, when I click the Confirm button it reloads the page but it pass directly through the <code>if($final_query)</code> and even the <code>elseif</code> that verifies if the <code>$serial_no</code> is already set.</p>\n\n<p>Does Perl really lose those values if I perform a second submit or am I doing something wrong?</p>\n\n<p>I'd love to have some explanation about it because it's the second time that I'm doing something with that language.</p>\n\n<p>Thanks in advance!</p>\n\n<p>--edit </p>\n\n<p>I chopped the code to show where it defines the $final_query but I kept the structure to help in the understanding.</p>\n\n<p>The full code is available at <a href=\"http://pastebin.com/6NqhbVau\" rel=\"nofollow\">http://pastebin.com/6NqhbVau</a></p>\n\n<pre><code>#headers\nif ($final_query) {\n\n        $content = \"&lt;h1&gt;first if&lt;/h1&gt;\";\n#updateESNDatabase($database, $final_query);\n\n#it only enters here if the user type the ESN\n}elsif ($serial_no) {\n        #selects the database\n            switch(checkUpdateNeeded($database, $serial_no)) {\n                case 0 {\n            #Shows that the updates are no needed\n                }\n                case 1 {\n                    $final_query = `cat $query1`;\n                    chop($final_query);\n                    $final_query =~ s/SERIALNUM/$serial_no/g;\n                    $final_query =~ s/LOGINID/$login_id/g;\n                    $content = $cgi-&gt;start_form .\n                    \"&lt;center&gt;\" .\n                        \"&lt;h3&gt; Please double check the queries below before you update on database &lt;/h3&gt;\" .\n                    \"&lt;/center&gt;\" . \n                    $cgi-&gt;submit(\"Confirm\") . $cgi-&gt;end_form;\n\n                    $content .= $final_query;\n\n                }\n                case 2 {\n                    #Makes almost the same as the first case, it only uses a different file to generate the query.\n                }\n            }\n} else {\n    #Generates the first page, where the users inputs information\n} \n$page-&gt;set_content($content);\n$page-&gt;process;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1455388627, "post_id": 35382290, "comment_id": 58472049, "body": "<code>grep -c &quot;that&quot; file.txt</code>?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1455388887, "post_id": 35382290, "comment_id": 58472139, "body": "By the way, your description of your problem is very confusing. You say that your problem is that your matches are only lines ending with your keyword &quot;that&quot;. Then you say that you get 268 such lines, but you only need 13. Which is quite contradictory to your previous statement, and seemingly has <i>nothing</i> to do with what seems to be your real problem, which is the <b>count</b> variable which you print towards the end. You really should take a minute to formulate your question better."}], "answers": [{"tags": [], "owner": {"reputation": 2682, "user_id": 4072843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKkUM.jpg?s=128&g=1", "display_name": "Castaglia", "link": "https://stackoverflow.com/users/4072843/castaglia"}, "is_accepted": false, "score": 2, "last_activity_date": 1455381986, "creation_date": 1455381986, "answer_id": 35382529, "question_id": 35382290, "link": "https://stackoverflow.com/questions/35382290/perl-script-confusing-error/35382529#35382529", "title": "Perl script - Confusing error", "body": "<p>Don't you want to increment your <code>$count</code> variable only if the line contains \"that\", <em>i.e.</em>:</p>\n\n<pre><code>if ($line =~ /that/) {\n  $count++;\n</code></pre>\n\n<p>instead of incrementing the counter <strong>before</strong> checking if <code>$line</code> contains \"that\", as you have it:</p>\n\n<pre><code>$count++;\nif ($line =~ /that/) {\n</code></pre>\n\n<p>Similarly, I suspect that your <code>push()</code> and <code>join()</code> calls, for stashing a matching line in <code>@array</code>, should also be within the <code>if</code> block, only executed if the line contains \"that\".</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5922864"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1455529972, "creation_date": 1455380685, "last_edit_date": 1455383633, "question_id": 35382290, "link": "https://stackoverflow.com/questions/35382290/perl-script-confusing-error", "title": "Perl script - Confusing error", "body": "<p>When I run this code, I am purely trying to get all the lines containing the word \"that\" in them. Sounds easy enough. But when I run it, I get a list of matches that contain the word \"that\" but only at the end of the line. I don't know why it's coming out like this and I have been going crazy trying to solve it. I am currently getting an output of 268 total matches, and the output I need is only 13. Please advise!</p>\n\n<pre><code>#!/usr/bin/perl -w\n#Usage: conc.shift.pl textfile word\n\nopen (FH, \"$ARGV[0]\") || die \"cannot open\";\n@array = (1,2,3,4,5);\n$count = 0;\nwhile($line = &lt;FH&gt;) {\n    chomp $line;\n    shift @array;\n    push(@array, $line);\n    $count++;\n    if ($line =~ /that/)\n    {\n        $output = join(\" \",@array);\n        print \"$output \\n\";\n    }\n}\n\nprint \"Total matches: $count\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 4, "creation_date": 1455375917, "post_id": 35381138, "comment_id": 58467775, "body": "Uh oh. Are you sure you don&#39;t want a proper XML parser to rewrite your document? Using regular expressions is asking for disaster."}, {"owner": {"reputation": 1, "user_id": 5922544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb4b4091fd667ead25060b4115bbfadc?s=128&d=identicon&r=PG&f=1", "display_name": "jennie", "link": "https://stackoverflow.com/users/5922544/jennie"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1455376356, "post_id": 35381138, "comment_id": 58467913, "body": "Well, I already know some stuff about regular expressions and nothing about XML parsers, so..."}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 3, "creation_date": 1455376650, "post_id": 35381138, "comment_id": 58467998, "body": "Seriously...  what @tadman said.  There is no shame in not knowing, but in the category of &quot;the right tool for the right job&quot; it&#39;s well worth your time to  check it out."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455453498, "post_id": 35381138, "comment_id": 58487469, "body": "Re ask the question and frame it as an XML parsing problem, and you will get some useful answers. Regex parsing XML creates brittle code."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5922544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb4b4091fd667ead25060b4115bbfadc?s=128&d=identicon&r=PG&f=1", "display_name": "jennie", "link": "https://stackoverflow.com/users/5922544/jennie"}, "edited": false, "score": 0, "creation_date": 1455378022, "post_id": 35381527, "comment_id": 58468454, "body": "I used your solution but with a &quot;while&quot; instead of an &quot;if&quot;, and it works. (The &quot;if&quot; statement only makes the substitution once."}, {"owner": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "reply_to_user": {"reputation": 1, "user_id": 5922544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb4b4091fd667ead25060b4115bbfadc?s=128&d=identicon&r=PG&f=1", "display_name": "jennie", "link": "https://stackoverflow.com/users/5922544/jennie"}, "edited": false, "score": 0, "creation_date": 1455379580, "post_id": 35381527, "comment_id": 58468908, "body": "Hi, i believe that actually the &quot;if&quot; or &quot;while&quot; statement are redundant in your case, maybe it just is useful for a better performance by really many rows. You could make some check without this statements, with probably same results like before, cause your one-row-statement already is a loop throw every single row and actually the regex definition decide if you substitute every &quot;match&quot; or just one of it and so on. But the main think is, that it works. Cheers."}], "tags": [], "owner": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "is_accepted": false, "score": 0, "last_activity_date": 1457295945, "last_edit_date": 1457295945, "creation_date": 1455376519, "answer_id": 35381527, "question_id": 35381138, "link": "https://stackoverflow.com/questions/35381138/perl-one-liner-repeat-substitution/35381527#35381527", "title": "Perl one-liner repeat substitution", "body": "<p>for the first this is not a \"search\", this is a \"substitution\" and the second think is, that you don't need a while loop, cause the 'perl one liner' read out every single row. </p>\n\n<p>But you can use an \"if-statement\" like -> 's/foo/bar/i if m/foo/i' or similar thinks, like ternare if-then-else but, it is not necessary. I would make a check first with the flag \"-p\" without \"-i\" (not  \"-pi\"), to check the output first.</p>\n\n<p>example:</p>\n\n<pre><code> perl -p -e 's/(&lt;langSet xml.lang=....&gt;)\\s*&lt;tig&gt;(.*?)&lt;\\/tig&gt;\\s*&lt;tig&gt;/\\1&lt;tig&gt;\n\\2&lt;\\/tig&gt;\\1&lt;tig&gt;/g if m/(&lt;langSet xml.lang=....&gt;)\\s*&lt;tig&gt;(.*?)&lt;\\/tig&gt;\n\\s*&lt;tig&gt;/gi' iate.dsl\n</code></pre>\n\n<p>Good luck.   </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5922544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb4b4091fd667ead25060b4115bbfadc?s=128&d=identicon&r=PG&f=1", "display_name": "jennie", "link": "https://stackoverflow.com/users/5922544/jennie"}, "is_accepted": true, "score": 0, "last_activity_date": 1455378312, "creation_date": 1455378312, "answer_id": 35381825, "question_id": 35381138, "link": "https://stackoverflow.com/questions/35381138/perl-one-liner-repeat-substitution/35381825#35381825", "title": "Perl one-liner repeat substitution", "body": "<p>This worked:</p>\n\n<pre><code>perl -p -i -e 's/(&lt;langSet xml.lang=....&gt;)\\s*&lt;tig&gt;(.*?)&lt;\\/tig&gt;\\s*&lt;tig&gt;/\\1&lt;tig&gt;\\2&lt;\\/tig&gt;\\1&lt;tig&gt;/g while m/(&lt;langSet xml.lang=....&gt;)\\s*&lt;tig&gt;(.*?)&lt;\\/tig&gt;\\s*&lt;tig&gt;/gi' iate.dsl\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5922544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb4b4091fd667ead25060b4115bbfadc?s=128&d=identicon&r=PG&f=1", "display_name": "jennie", "link": "https://stackoverflow.com/users/5922544/jennie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 35381825, "answer_count": 2, "score": 0, "last_activity_date": 1457295945, "creation_date": 1455373859, "last_edit_date": 1455375693, "question_id": 35381138, "link": "https://stackoverflow.com/questions/35381138/perl-one-liner-repeat-substitution", "title": "Perl one-liner repeat substitution", "body": "<p>I want to repeat this search until there are no matches available in the text:</p>\n\n<pre><code>perl -pi -e 's/(&lt;langSet xml.lang=....&gt;)\\s*&lt;tig&gt;(.*?)&lt;\\/tig&gt;\\s*&lt;tig&gt;/\\1&lt;tig&gt;\\2&lt;\\/tig&gt;\\1&lt;tig&gt;/g' iate.dsl\n</code></pre>\n\n<p>Basically, I need a while-loop in a one-liner form, which will take lines looking a bit like this</p>\n\n<pre><code>&lt;langSet...&gt;&lt;tig&gt;...&lt;/tig&gt;&lt;tig&gt;...&lt;/tig&gt;&lt;tig&gt;...&lt;/tig&gt;&lt;tig&gt;...&lt;/tig&gt;\n</code></pre>\n\n<p>and return something like this</p>\n\n<pre><code>&lt;langSet...&gt;&lt;tig&gt;...&lt;/tig&gt;&lt;langSet...&gt;&lt;tig&gt;...&lt;/tig&gt;&lt;langSet...&gt;&lt;tig&gt;...&lt;/tig&gt;&lt;langSet...&gt;&lt;tig&gt;...&lt;/tig&gt;\n</code></pre>\n\n<p>where the number of <code>&lt;tig&gt;</code> instances varies for each line.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5922446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/423c44ccdc82cad5e033c683f753faa4?s=128&d=identicon&r=PG&f=1", "display_name": "skingsbury", "link": "https://stackoverflow.com/users/5922446/skingsbury"}, "edited": false, "score": 0, "creation_date": 1455403532, "post_id": 35382834, "comment_id": 58476850, "body": "This was exactly what i needed thank you very much for the explanation."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1455523854, "last_edit_date": 1455523854, "creation_date": 1455383693, "answer_id": 35382834, "question_id": 35380662, "link": "https://stackoverflow.com/questions/35380662/perl-sftp-download-oldest-files-first/35382834#35382834", "title": "Perl SFTP download oldest files first", "body": "<p>After going through <a href=\"http://search.cpan.org/~salva/Net-SFTP-Foreign-1.81/lib/Net/SFTP/Foreign.pm\" rel=\"nofollow\"><code>Net::SFTP::Foreign</code></a>, I believe , you are doing two mistakes:</p>\n\n<p>First, you are retrieving only names of file with <code>names_only =&gt; 1</code>. So you will not get <code>mtime</code>.</p>\n\n<p>Second, I am not sure what you are doing with <code>$@ls</code> dereferencing array into scalar. It is <code>syntax error</code>.</p>\n\n<p>All you need to do is perform simple <code>$sftp -&gt; ls(...)</code> and get <code>mtime</code> from <code>Net::SFTP::Foreign::Attributes</code> object in the result and <code>sort</code> it.</p>\n\n<p>Below two lines will work for you: </p>\n\n<pre><code>my @ls =  @{ $sftp -&gt; ls('.', no_wanted =&gt; qr/^\\./)   \n               or die \"unable to retrieve directory: \".$sftp -&gt; error };\n\nmy @sorted = map{$_ -&gt; {filename}}\n             sort{ $a -&gt; {a}{mtime} &lt;=&gt; $b -&gt; {a}{mtime} } \n             @ls;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5922446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/423c44ccdc82cad5e033c683f753faa4?s=128&d=identicon&r=PG&f=1", "display_name": "skingsbury", "link": "https://stackoverflow.com/users/5922446/skingsbury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1455523854, "creation_date": 1455370951, "question_id": 35380662, "link": "https://stackoverflow.com/questions/35380662/perl-sftp-download-oldest-files-first", "title": "Perl SFTP download oldest files first", "body": "<p>I am having an issue where I am trying to download the oldest files first and the directory listing isn't coming back correctly. The example below is how I thought it should be done but I cant get it to work. I am using the Net::SFTP::Foreign module.</p>\n\n<pre><code>$source_sftp-&gt;setcwd($path) or die \"unable to change cwd: \" . $source_sftp-&gt;error;\n\nmy @ls = @{ $source_sftp-&gt;ls ('.', names_only =&gt; 1,\n                                no_wanted =&gt; qr/^\\./,\n                                )};\n\nmy @sorted = sort { $a-&gt;{a}{mtime} &lt;=&gt; $b-&gt;{a}{mtime} } $@ls;\n\nfor (@sorted) {\n\nprint \"$_\\n\";\n}\n</code></pre>\n"}, {"tags": ["mysql", "perl", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 18405, "user_id": 1145388, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HZ9CL.png?s=128&g=1", "display_name": "Stephen Ostermiller", "link": "https://stackoverflow.com/users/1145388/stephen-ostermiller"}, "edited": false, "score": 1, "creation_date": 1455370718, "post_id": 35380583, "comment_id": 58465917, "body": "I was hoping to get back a hashref like <code>{&quot;id&quot;-&gt;1}</code> which is why I chose the hashref version.   Does the hashref refer to the parameters it takes rather than what it returns?"}, {"owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "reply_to_user": {"reputation": 18405, "user_id": 1145388, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HZ9CL.png?s=128&g=1", "display_name": "Stephen Ostermiller", "link": "https://stackoverflow.com/users/1145388/stephen-ostermiller"}, "edited": false, "score": 0, "creation_date": 1455371011, "post_id": 35380583, "comment_id": 58466018, "body": "I see. I&#39;m afraid you need to go row by row and use fetchrow_hashref for this. DBI is slightly inconsistent regarding naming..."}, {"owner": {"reputation": 18405, "user_id": 1145388, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HZ9CL.png?s=128&g=1", "display_name": "Stephen Ostermiller", "link": "https://stackoverflow.com/users/1145388/stephen-ostermiller"}, "edited": false, "score": 0, "creation_date": 1455371152, "post_id": 35380583, "comment_id": 58466067, "body": "That&#39;s it.   I wanted <code>selectrow_hashref</code> not <code>selectall_hashref</code>.    I&#39;d seen examples for both and copied the wrong code."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 18405, "user_id": 1145388, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HZ9CL.png?s=128&g=1", "display_name": "Stephen Ostermiller", "link": "https://stackoverflow.com/users/1145388/stephen-ostermiller"}, "edited": false, "score": 1, "creation_date": 1455376723, "post_id": 35380583, "comment_id": 58468019, "body": "@StephenOstermiller You <i>can</i> use <code>selectall_arrayref()</code> to get everything as an arrayref of hashrefs."}, {"owner": {"reputation": 1033, "user_id": 77193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82705f5ab43c73273ab5d690866b3?s=128&d=identicon&r=PG", "display_name": "Tim Bunce", "link": "https://stackoverflow.com/users/77193/tim-bunce"}, "edited": false, "score": 1, "creation_date": 1455466346, "post_id": 35380583, "comment_id": 58491688, "body": "The naming scheme is <code>selectX_Yref</code> where <code>X</code> is either <code>row</code>, <code>col</code> or <code>all</code>, and <code>Y</code> is either <code>array</code> or <code>hash</code>. The array or hash refers to the <i>outermost</i> reference, i.e. the reference returned from the method, the container for the rows. The attribute parameter controls what&#39;s <i>inside</i> the outermost reference."}], "tags": [], "owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "is_accepted": false, "score": 2, "last_activity_date": 1455370518, "creation_date": 1455370518, "answer_id": 35380583, "question_id": 35380509, "link": "https://stackoverflow.com/questions/35380509/error-attribute-parameter-is-not-in-hash-ref-when-using-perl-dbi-selectall-has/35380583#35380583", "title": "Error &quot;attribute parameter is not in hash ref&quot; when using Perl DBI selectall_hashref", "body": "<p>The methods expects key column as the second parameter and attributes ref is passed as third one. In the result it builds a hash with the specified column as a key. What you probably want, is <code>selectall_arrayref</code>:</p>\n\n<pre><code>$ dbh-&gt;selectall_arrayref('SELECT id FROM users WHERE login=?',undef,\"myusername\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1455376584, "last_edit_date": 1495541248, "creation_date": 1455376584, "answer_id": 35381542, "question_id": 35380509, "link": "https://stackoverflow.com/questions/35380509/error-attribute-parameter-is-not-in-hash-ref-when-using-perl-dbi-selectall-has/35381542#35381542", "title": "Error &quot;attribute parameter is not in hash ref&quot; when using Perl DBI selectall_hashref", "body": "<p>If you want to store everything as an arrayref where each row is a hashref (which is what your <a href=\"https://stackoverflow.com/questions/35380509/error-attribute-parameter-is-not-in-hash-ref-when-using-perl-dbi-selectall-has#comment58465917_35380583\">comment</a> seems to indicate), you can use the <code>selectall_arrayref()</code> method with the <code>Slice</code> attribute:</p>\n\n<pre><code>$dbh-&gt;selectall_arrayref('SELECT id FROM users WHERE login=?', {Slice =&gt; {}}, 'myusername');\n</code></pre>\n\n<p>It's a little weird, but <a href=\"https://metacpan.org/pod/DBI#fetchall_arrayref\" rel=\"nofollow noreferrer\">here's how it works</a>:</p>\n\n<blockquote>\n  <p>If $slice is a hash reference, <code>fetchall_arrayref</code> fetches each row as\n  a hash reference. If the $slice hash is empty then the keys in the\n  hashes have whatever name lettercase is returned by default. (See\n  \"<a href=\"https://metacpan.org/pod/DBI#FetchHashKeyName\" rel=\"nofollow noreferrer\">FetchHashKeyName</a>\" attribute.) If the $slice hash is <em>not</em> empty,\n  then it is used as a slice to select individual columns by name. The\n  values of the hash should be set to 1. The key names of the returned\n  hashes match the letter case of the names in the parameter hash,\n  regardless of the \"<a href=\"https://metacpan.org/pod/DBI#FetchHashKeyName\" rel=\"nofollow noreferrer\">FetchHashKeyName</a>\" attribute.</p>\n</blockquote>\n\n<p>It's a good idea to set the <code>FetchHashKeyName</code> attribute on the database handle to make your hash key names consistent; I happen to like <code>NAME_lc</code> in my applications. </p>\n"}], "owner": {"reputation": 18405, "user_id": 1145388, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HZ9CL.png?s=128&g=1", "display_name": "Stephen Ostermiller", "link": "https://stackoverflow.com/users/1145388/stephen-ostermiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "accepted_answer_id": 35381542, "answer_count": 2, "score": 0, "last_activity_date": 1455376584, "creation_date": 1455370079, "last_edit_date": 1455370456, "question_id": 35380509, "link": "https://stackoverflow.com/questions/35380509/error-attribute-parameter-is-not-in-hash-ref-when-using-perl-dbi-selectall-has", "title": "Error &quot;attribute parameter is not in hash ref&quot; when using Perl DBI selectall_hashref", "body": "<p>I'm trying to get my first select to work using <code>selectall_hashref</code> from the Perl DBI module.   I've opened a connection to the database (MySQL) successfully.   I'm getting an error when I execute the following:</p>\n\n<pre><code>$dbh-&gt;selectall_hashref('SELECT id FROM users WHERE login=?',undef,\"myusername\");\n</code></pre>\n\n<blockquote>\n  <p>DBI::st=HASH(0x1505a60)->_prepare(...): attribute parameter 'myusername' is not a hash ref at /usr/lib/x86_64-linux-gnu/perl5/5.20/DBD/mysql.pm line 238.</p>\n</blockquote>\n\n<p>My table should be able to support this query, it has an <code>id</code> column and <code>login</code> column for each user.</p>\n\n<p>The examples I've found for <code>selectall_hashref</code> show the <code>?</code> substitution parameter being passed as the third parameter.   The <a href=\"http://search.cpan.org/~timb/DBI-1.634/DBI.pm#selectrow_hashref\" rel=\"nofollow\">DBI documentation</a> says that the second and third arguments should be <code>%attr</code> and <code>@bind_values</code> but doesn't give much documentation about them or show working examples. </p>\n\n<p>What is causing the error, and more importantly how do you actually use the <code>%attr</code> and <code>@bind_values</code> correctly? </p>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 913, "user_id": 1358124, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a2e66571b3ee08864bee31721253830f?s=128&d=identicon&r=PG", "display_name": "shampoo", "link": "https://stackoverflow.com/users/1358124/shampoo"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1455365265, "post_id": 35379592, "comment_id": 58464139, "body": "<code>Use of uninitialized value $mail in print at ...</code> at  the line <code>print $mailtime;</code>"}, {"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1455365393, "post_id": 35379592, "comment_id": 58464184, "body": "Are you sure that <code>mail_time</code> is set for every user? Is the warning given for every iteration of the loop or just for specific <code>$user_key</code>?"}, {"owner": {"reputation": 913, "user_id": 1358124, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a2e66571b3ee08864bee31721253830f?s=128&d=identicon&r=PG", "display_name": "shampoo", "link": "https://stackoverflow.com/users/1358124/shampoo"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1455365611, "post_id": 35379592, "comment_id": 58464252, "body": "@Mat: Yes, of course. Done that."}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1455365652, "post_id": 35379592, "comment_id": 58464263, "body": "It would also help to see the structure of <code>%data</code>. Edit: most likely one (or more) of your users has an undefined <code>mail_time</code> value."}, {"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1455365765, "post_id": 35379592, "comment_id": 58464291, "body": "<a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> &lt;= please provide this, chameleon error messages cannot be trusted."}, {"owner": {"reputation": 913, "user_id": 1358124, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a2e66571b3ee08864bee31721253830f?s=128&d=identicon&r=PG", "display_name": "shampoo", "link": "https://stackoverflow.com/users/1358124/shampoo"}, "edited": false, "score": 0, "creation_date": 1455366622, "post_id": 35379592, "comment_id": 58464551, "body": "It&#39;s gonna take some time, I am working on an mcve ..."}], "answers": [{"comments": [{"owner": {"reputation": 913, "user_id": 1358124, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a2e66571b3ee08864bee31721253830f?s=128&d=identicon&r=PG", "display_name": "shampoo", "link": "https://stackoverflow.com/users/1358124/shampoo"}, "edited": false, "score": 0, "creation_date": 1455368608, "post_id": 35379805, "comment_id": 58465199, "body": "That was true, Thank you for your help."}, {"owner": {"reputation": 3364, "user_id": 693294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5935d56f077497b60c12cf86b9d2e1?s=128&d=identicon&r=PG", "display_name": "Gilbert", "link": "https://stackoverflow.com/users/693294/gilbert"}, "edited": false, "score": 0, "creation_date": 1455384210, "post_id": 35379805, "comment_id": 58470407, "body": "When mysterious problems arise, put in a special debugging statement, like &quot;print STDERR &quot;UNDEFINED mailtime: $user_key\\n&quot; if ! $mailtime;  Maybe even do a full dump of the element."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": true, "score": 2, "last_activity_date": 1455367052, "last_edit_date": 1455367052, "creation_date": 1455366426, "answer_id": 35379805, "question_id": 35379592, "link": "https://stackoverflow.com/questions/35379592/variable-has-correct-value-but-uninitialized-value-warning-is-shown/35379805#35379805", "title": "Variable has correct value but &#39;uninitialized value&#39; warning is shown", "body": "<p>Without seeing a dump of <code>%data</code> it's impossible to see why it's failing, however a little testing suggests one of your users is missing the <code>mail_time</code> key. If I create <code>%data</code> as follow and run your script...</p>\n\n<pre><code>my %data = (\n    users =&gt; {\n        user1 =&gt; {\n            id_local  =&gt; '0',\n            mail_time =&gt; '1117579067',\n            id_global =&gt; '2',\n        },\n        user2 =&gt; {\n            id_local  =&gt; '0',\n            # purposely missing mail_time &lt;---\n            id_global =&gt; '2',\n        },\n    },\n);\n</code></pre>\n\n<p>Then I get the same problem you are having... Output as follows</p>\n\n<pre><code>Use of uninitialized value $mailtime in print at custom_log.pl line 27.\n1117579067\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "is_accepted": false, "score": 0, "last_activity_date": 1455377579, "last_edit_date": 1455377579, "creation_date": 1455373648, "answer_id": 35381106, "question_id": 35379592, "link": "https://stackoverflow.com/questions/35379592/variable-has-correct-value-but-uninitialized-value-warning-is-shown/35381106#35381106", "title": "Variable has correct value but &#39;uninitialized value&#39; warning is shown", "body": "<p>i like perl, cause you have to be precise.\nTry to read out your value with: </p>\n\n<pre><code>print $users{$user_key}-&gt;{'mail_time'};\n</code></pre>\n\n<p>resp.  </p>\n\n<pre><code>my $mailtime = $users{$user_key}-&gt;{'mail_time'};\n</code></pre>\n\n<p>or eventually</p>\n\n<pre><code>print $users-&gt;{$user_key}-&gt;{'mail_time'};\n</code></pre>\n\n<p>I don't now exactly the structure of your hash, but i supposed the first example should works for you, the second one is just for the case. The next time, please Dump the root-hash, in your case  \"$data{'user'}\" to see the whole structure of it. Further it is not bad to use the perl-debugger, which gives your more informations, just simple with \"perl -d scriptname.pl\". Good luck and cheers ;-).</p>\n"}], "owner": {"reputation": 913, "user_id": 1358124, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a2e66571b3ee08864bee31721253830f?s=128&d=identicon&r=PG", "display_name": "shampoo", "link": "https://stackoverflow.com/users/1358124/shampoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 35379805, "answer_count": 2, "score": 0, "last_activity_date": 1455377579, "creation_date": 1455364992, "last_edit_date": 1455365717, "question_id": 35379592, "link": "https://stackoverflow.com/questions/35379592/variable-has-correct-value-but-uninitialized-value-warning-is-shown", "title": "Variable has correct value but &#39;uninitialized value&#39; warning is shown", "body": "<p>There is a hash containing some data, whose users section is of my interest. </p>\n\n<pre><code>my %users = %{$data{'users'}};\nforeach my $user_key (keys %users){\n        print Dumper $users{$user_key};\n        my $mailtime      =  $users{$user_key}{'mail_time'};\n        my $id_local       =  $users{$user_key}{'id_local'};\n        my $id_global      =  $users{$user_key}{'id_global'};\n        print $mailtime;\n}\n</code></pre>\n\n<p>everything works properly except the thrown warning at the line <code>print $mailtime</code>.<br>\nEven the print command would output a correct value along with the nonsense warning, as follows. </p>\n\n<pre><code>Use of uninitialized value $mailtime in print at custom_log.pl line 51.\n</code></pre>\n\n<p>The output of the dumper is: </p>\n\n<pre><code>$VAR1 = {                                                    \n          'id_local' =&gt; '0',                                 \n          'mail_time' =&gt; '1117579067',                       \n          'id_global' =&gt; '2'                                 \n        };\n</code></pre>\n"}, {"tags": ["perl", "format", "correlation", "counting"], "comments": [{"owner": {"reputation": 3, "user_id": 5922060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b1b01d4ac1ee84892b8634b962328e?s=128&d=identicon&r=PG&f=1", "display_name": "jencek123", "link": "https://stackoverflow.com/users/5922060/jencek123"}, "edited": false, "score": 0, "creation_date": 1455469324, "post_id": 35378907, "comment_id": 58492786, "body": "No one has any tips?"}], "answers": [{"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 0, "last_activity_date": 1455505072, "creation_date": 1455505072, "answer_id": 35400818, "question_id": 35378907, "link": "https://stackoverflow.com/questions/35378907/perl-correlation-by-time-in-output/35400818#35400818", "title": "PERL Correlation by time in output", "body": "<p>For working with (and comparing) dates, look into <a href=\"http://perldoc.perl.org/Time/Piece.html\" rel=\"nofollow\">Time::Piece</a>, which should be a core module unless you are using a very ancient perl. You can create a <code>Time::Piece</code> object by parsing your timestamp string... so once you pull out just the timestamp substring...</p>\n\n<pre><code>my $datetime = Time::Piece-&gt;strptime( $timestamp, '%d.%m.%Y %H:%M:%S' );\n</code></pre>\n\n<p>Then once you have that <code>Time::Piece</code> object, you can add and remove seconds, and compare it with other <code>Time::Piece</code> objects. You might do something like this to create a cutoff time...</p>\n\n<pre><code>$end_time = $datetime;\n$end_time += 1 while $end_time-&gt;minute !~ /(?:0|5)$/;\n</code></pre>\n\n<p>Given a <code>$datetime</code> of <code>05.09.2015 18:46:56</code>, <code>$end_time</code> will be <code>05.09.2015 18:50:00</code>. You can then continue to convert each lines timestamp to a <code>Time::Piece</code> object and compare these objects numerically, ie</p>\n\n<pre><code>if ( $datetime &lt; $end_time ) {\n    # ... increase count for the current logs error\n}\nelse {\n    # ... define new $end_time from the current logs timestamp\n}\n</code></pre>\n\n<p>Ultimately I leave actual to implementation of these ideas into your script up to you.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1455535206, "creation_date": 1455535206, "answer_id": 35408025, "question_id": 35378907, "link": "https://stackoverflow.com/questions/35378907/perl-correlation-by-time-in-output/35408025#35408025", "title": "PERL Correlation by time in output", "body": "<p>Firstly, use a date/time library to make your life easier. <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a> is a standard part of the Perl distribution and works well here. Secondly, normalise the times to five minute chunks. Thirdly, create a hash of errors keyed on normalised time and error message.</p>\n\n<p>Something like this, perhaps:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Time::Piece;\n\n# Paragraph mode\n$/ = '';\n\nmy $format = '[%d.%m.%Y %H:%M:%S]';\n\nmy %errors;\n\nwhile (&lt;DATA&gt;) {\n  # Convert to one line\n  s/\\n+/ /g;\n  my ($time, $error) = split /\\s+\\-\\s+/;\n  $time = Time::Piece-&gt;strptime($time, $format);\n  my $mins = $time-&gt;min;\n  # Normalise to a five mins\n  # By subtracting the correct number of seconds\n  $time -= (($mins % 5) * 60) + $time-&gt;sec;\n  $errors{$time}{$error}++;\n}\n\nforeach my $time (keys %errors) {\n  foreach my $error (keys %{$errors{$time}}) {\n    say \"$time ; $error ; $errors{$time}{$error}\"\n  }\n}\n\n__DATA__\n[05.09.2015 18:44:56] - Error 505\n some text about Error 505\n\n[05.09.2015 18:45:56] - Error 505\n some text about Error 505\n\n[05.09.2015 18:46:56] -  Error 505\n some text about Error 505\n\n[05.09.2015 18:47:56] - Error 505\n some text about Error 505\n\n[05.09.2015 18:48:56] - Error 505\n some text about Error 505\n\n[05.09.2015 18:49:56] - Error 505\n some text about Error 505\n\n[06.09.2015 12:46:56] - Error 404\n some text about Error 404\n\n[06.09.2015 12:47:56] - Error 404\n some text about Error 404\n\n[06.09.2015 12:48:56] - Error 404\n some text about Error 404\n\n[06.09.2015 12:48:56] - Oracle Error\n some text about Oracle Error\n\n[06.09.2015 12:49:56] - Error 404\n some text about Error 404\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5922060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b1b01d4ac1ee84892b8634b962328e?s=128&d=identicon&r=PG&f=1", "display_name": "jencek123", "link": "https://stackoverflow.com/users/5922060/jencek123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 35408025, "answer_count": 2, "score": 0, "last_activity_date": 1455535206, "creation_date": 1455360383, "last_edit_date": 1455469355, "question_id": 35378907, "link": "https://stackoverflow.com/questions/35378907/perl-correlation-by-time-in-output", "title": "PERL Correlation by time in output", "body": "<p>I want ask for some tips. I am working on script parsing some loged data, formate it and than write it on screen. In my case I have 3 Atribute output \"Date\", \"Time\", and some \"Message\". I have log file where some Messages are often occuring. My Idea is. If its possible use Perl for correlations? For Example if I have any event loged 9 times during 5 minutes, output is just 1 message with 9 times count?</p>\n\n<p>My code is this one:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\n\n#what should be searched in logs\nmy $regex = 'Error';\n\nmy @filtered_arr = ();\nmy @formated_rows = ();\n\nmy $filename = 'report3.txt';\n\nwhile (&lt;DATA&gt;) {\n   if (my $i =/\\b(\\d\\d.\\d\\d.\\d\\d\\d\\d)\\b/ .. /^\\n+$/ ) {\n      s/\\n// if $i !~ /E0\\z/; \n\n       my $logContent = \"$_\";\n\n  open(my $fh, '&gt;&gt;', $filename) or die(\"Could not open file. $!\");\n  print $fh \"$logContent\";\n  close $fh;\n     }\n}\n\n  open my $formatedLog, $filename or die \"Could not open $filename: $!\";\n\n    while( my $line = &lt;$formatedLog&gt;){\n      while ($line =~ m/$regex/g) {\n         $line =~ m/$regex/;\n           push @filtered_arr, $line;\n      }\n}\n  close $formatedLog;\n\n  for my $row (@filtered_arr) {\n\n    my $date = substr $row, 1, 10;  \n    my $time = substr $row, 12, 8;\n    my $stringDistance = (length $row) - 24;\n    my $message = substr $row, 24, $stringDistance -1;\n\n    # creating formated array (For AB)\n    push @formated_rows, [$date,\";\", $time ,\";\", $message];\n  }\n\n# first pass over rows: compute the maximum width for each column\nmy @widths;\nfor my $output_row (@formated_rows) {\n    for (my $col = 0; $col &lt; @$output_row; $col++) {\n        $widths[$col] = length $output_row-&gt;[$col] if length $output_row-&gt;[$col] &gt; ($widths[$col] // 0);\n    }\n}\n\n # compute the format. for this data, it works out to \"%-3s %-11s %-6s %-5s\\n\"\nmy $format = join(' ', map { \"%-${_}s\" } @widths) . \"\\n\";\n\n # second pass: print each row using the format\nfor my $output_row (@formated_rows) {\n    printf $format, @$output_row;\n}\n\n__DATA__\n\n[05.09.2015 18:44:56] - Error 505\n some text about Error 505\n\n[05.09.2015 18:45:56] - Error 505\n some text about Error 505\n\n[05.09.2015 18:46:56] -  Error 505\n some text about Error 505\n\n[05.09.2015 18:47:56] - Error 505\n some text about Error 505\n\n[05.09.2015 18:48:56] - Error 505\n some text about Error 505\n\n[05.09.2015 18:49:56] - Error 505\n some text about Error 505\n\n[06.09.2015 12:46:56] - Error 404\n some text about Error 404\n\n[06.09.2015 12:47:56] - Error 404\n some text about Error 404\n\n[06.09.2015 12:48:56] - Error 404\n some text about Error 404\n\n[06.09.2015 12:48:56] - Oracle Error\n some text about Oracle Error\n\n[06.09.2015 12:49:56] - Error 404\n some text about Error 404\n</code></pre>\n\n<p>My output looks like this:</p>\n\n<pre><code>05.09.2015 ; 18:44:56 ; Error 505 some text about Error 505\n05.09.2015 ; 18:44:56 ; Error 505 some text about Error 505\n05.09.2015 ; 18:45:56 ; Error 505 some text about Error 505\n05.09.2015 ; 18:45:56 ; Error 505 some text about Error 505\n05.09.2015 ; 18:46:56 ;  Error 505 some text about Error 505\n05.09.2015 ; 18:46:56 ;  Error 505 some text about Error 505\n05.09.2015 ; 18:47:56 ; Error 505 some text about Error 505\n05.09.2015 ; 18:47:56 ; Error 505 some text about Error 505\n05.09.2015 ; 18:48:56 ; Error 505 some text about Error 505\n05.09.2015 ; 18:48:56 ; Error 505 some text about Error 505\n05.09.2015 ; 18:49:56 ; Error 505 some text about Error 505\n05.09.2015 ; 18:49:56 ; Error 505 some text about Error 505\n06.09.2015 ; 12:46:56 ; Error 404 some text about Error 404\n06.09.2015 ; 12:46:56 ; Error 404 some text about Error 404\n06.09.2015 ; 12:47:56 ; Error 404 some text about Error 404\n06.09.2015 ; 12:47:56 ; Error 404 some text about Error 404\n06.09.2015 ; 12:48:56 ; Error 404 some text about Error 404\n06.09.2015 ; 12:48:56 ; Error 404 some text about Error 404\n06.09.2015 ; 12:48:56 ; Oracle Error some text about Oracle Error\n06.09.2015 ; 12:48:56 ; Oracle Error some text about Oracle Error\n06.09.2015 ; 12:49:56 ; Error 404 some text about Error 404\n06.09.2015 ; 12:49:56 ; Error 404 some text about Error 404\n</code></pre>\n\n<p>And what I want achieve as output:</p>\n\n<pre><code>05.09.2015 ; 18:44:56 ; Error 505 some text about Error 505 ; 12 &lt;- (Means it occur 12 times)\n06.09.2015 ; 12:46:56 ; Error 404 some text about Error 404 ; 8\n06.09.2015 ; 12:48:56 ; Oracle Error some text about Oracle Error; 2\n</code></pre>\n\n<p>Thank you for any tips Jan.</p>\n"}, {"tags": ["perl", "join"], "answers": [{"tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 2, "last_activity_date": 1455387318, "last_edit_date": 1455387318, "creation_date": 1455351519, "answer_id": 35377675, "question_id": 35377411, "link": "https://stackoverflow.com/questions/35377411/how-to-print-statement-with-join-function-in-between/35377675#35377675", "title": "how to print statement with join function in between?", "body": "<p>Simply separate the print to multiple statements. But if you want do it in one step, could use:</p>\n\n<pre><code>print \"$string -&gt; $string1 ( @{[ join(',',@arr) ]} )\\n\";\n</code></pre>\n\n<p>Code inside an double quoted string can be executed using the <a href=\"https://metacpan.org/pod/distribution/perlsecret/lib/perlsecret.pod\" rel=\"nofollow\">baby-cart operator</a>, <code>@{[ ... ]}</code>. Of course, this isn't recommented practice - because hard to read - use one of the other answers. :)</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "edited": false, "score": 0, "creation_date": 1551241018, "post_id": 35377721, "comment_id": 96564269, "body": "&quot;<i>Code cannot be executed inside of double quotes</i>&quot; -- except, of course, under <code>&quot;.. @{[...]} ..&quot;</code> as in jm666 answer :)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1455351871, "creation_date": 1455351871, "answer_id": 35377721, "question_id": 35377411, "link": "https://stackoverflow.com/questions/35377411/how-to-print-statement-with-join-function-in-between/35377721#35377721", "title": "how to print statement with join function in between?", "body": "<p>That is correct, you cannot print like that. Code cannot be executed inside of double quotes.  Instead, join the result of code, for example:</p>\n\n<pre><code>print \"$str -&gt; $str ( \" . join(',', @array) . \")\\n\";\n</code></pre>\n\n<p>There is a number of other ways to do it, but the main point is that code cannot run inside quotes.</p>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 3, "last_activity_date": 1455354712, "creation_date": 1455354712, "answer_id": 35378093, "question_id": 35377411, "link": "https://stackoverflow.com/questions/35377411/how-to-print-statement-with-join-function-in-between/35378093#35378093", "title": "how to print statement with join function in between?", "body": "<p>Consider using <code>printf</code></p>\n\n<pre><code>printf \"%s -&gt; $s (%s)\\n\", $string1, $string2, join(',', @array);\n</code></pre>\n\n<p>Or if you want to store the string in a variable (or return it from a function) use <code>sprintf</code>;</p>\n\n<pre><code>my $output = sprintf \"%s -&gt; $s (%s)\\n\", $string1, $string2, join(',', @array);\n# ... later\nprint $output;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1455387318, "creation_date": 1455349365, "question_id": 35377411, "link": "https://stackoverflow.com/questions/35377411/how-to-print-statement-with-join-function-in-between", "title": "how to print statement with join function in between?", "body": "<p>I would like to print a statement like this</p>\n\n<pre><code>print \"$string -&gt; $string1 ( join (\",\", @array) )\\n\";\n</code></pre>\n\n<p>but i found that i cannot print the result of join function but the join just print like normal word. For example my $string = a , $string1= b and @array = c d e give me the result like below</p>\n\n<pre><code>a -&gt; b (join (\",\",@array) )\n</code></pre>\n\n<p>The actual result i want is something like this. </p>\n\n<pre><code>a -&gt; b (c,d,e)\n</code></pre>\n\n<p>Any solution i can get the result i want?</p>\n"}, {"tags": ["arrays", "perl", "sorting"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455340754, "post_id": 35375639, "comment_id": 58458431, "body": "What is your question, and what have you tried so far?"}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1455383622, "post_id": 35375821, "comment_id": 58470220, "body": "Are duplicates ok? Then you should match zero or more times."}, {"owner": {"reputation": 3364, "user_id": 693294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5935d56f077497b60c12cf86b9d2e1?s=128&d=identicon&r=PG", "display_name": "Gilbert", "link": "https://stackoverflow.com/users/693294/gilbert"}, "edited": false, "score": 0, "creation_date": 1455383791, "post_id": 35375821, "comment_id": 58470277, "body": "In regard to being bothered by repeating letters, change the ?s to *s."}, {"owner": {"reputation": 197, "user_id": 5253336, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9816da99c833fc2df2b3524db2413253?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/5253336/erik-olson"}, "edited": false, "score": 0, "creation_date": 1455394546, "post_id": 35375821, "comment_id": 58474104, "body": "Thank you! I slaved over nested foreach loops before seeing your answer, which is much easier to follow!"}, {"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1455399794, "post_id": 35375821, "comment_id": 58475763, "body": "You&#39;re welcome, feel free to mark accepted. It is a fun puzzle and actually useful, a similar algorithm is used for fuzzy matching in tools like <a href=\"https://github.com/kien/ctrlp.vim\" rel=\"nofollow noreferrer\">ctrlp</a> and such. See the comments under <a href=\"http://stackoverflow.com/a/35376367/201318\">zdim&#39;s answer</a> for a solution with a loop."}], "tags": [], "owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "is_accepted": false, "score": 5, "last_activity_date": 1455334943, "creation_date": 1455334943, "answer_id": 35375821, "question_id": 35375639, "link": "https://stackoverflow.com/questions/35375639/perl-custom-sort-order/35375821#35375821", "title": "Perl: custom sort order?", "body": "<p>You could create a regex with anchors to start and end of string and allow every character 0 or one time. Here's an example:</p>\n\n<pre><code>sub match {\n    my $yesno = $_[0] =~ /^S?T?K?P?W?H?R?A?O?\\*?#?E?U?F?R?P?B?L?G?T?S?\\.?$/g;\n    print $_[0] . \" \" . ($yesno ? 'yes' : 'no') . \"\\n\";\n}\nmatch 'KAT';\nmatch 'FRAG';\nmatch 'TKPWAUL';\nmatch 'GAUL';\n</code></pre>\n\n<p>delivers</p>\n\n<pre><code>KAT yes\nFRAG no\nTKPWAUL yes\nGAUL no\n</code></pre>\n\n<p>You could generate that regex from a list using <code>split</code>, <code>join</code> etc.</p>\n"}, {"comments": [{"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 1, "creation_date": 1455359722, "post_id": 35376367, "comment_id": 58462614, "body": "If you use a hash for lookup, characters cannot be repeated. For example, <code>S</code> is the left-most and the right-most character. The word <code>SAS</code>  would be allowed but the hash- and index-versions of your algorithm would mark that as a bad word."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 1, "creation_date": 1455366857, "post_id": 35376367, "comment_id": 58464626, "body": "Corrected, thanks again.  Didn&#39;t expect that and just didn&#39;t catch it, while I understood OP&#39;s &quot;twice in order&quot; the wrong way round.  (Wouldn&#39;t post another comment for this but I can&#39;t edit the first one.)"}, {"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 1, "creation_date": 1455368880, "post_id": 35376367, "comment_id": 58465297, "body": "Just for the heck of it, I implemented your approach (doesn&#39;t work like in the answer, you don&#39;t need <code>$mark</code> if using 3-arg <code>index</code>) and benchmarked the two, see <a href=\"https://gist.github.com/kba/879f3cb33311f15c4d44\" rel=\"nofollow noreferrer\">gist.github.com/kba/879f3cb33311f15c4d44</a>. Using <code>index</code> is slighly faster."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1455409255, "post_id": 35376367, "comment_id": 58478312, "body": "Interesting. The posted code doesn&#39;t waste (much) time and <code>index</code> is fast but I wouldn&#39;t know what exactly to expect against the regex (even as they are not speed daemons).  What you posted in the link is cleaner, I just wanted to keep it basic and to literally express the &#39;algorithm&#39; (not much of an algorithm really).  My posted code works as it stands, with a handful of words I tried."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1455410517, "post_id": 35376367, "comment_id": 58478569, "body": "As for performance: Since the sequence seems to be a fixed thing we can make use of the fact that only S and T are doubled, at first and last places.  This may allow optimization: If char is S it just goes since it is last, no indexing needed, and so does the next one since S is first, too (skip next iteration); if it is T it need be checked whether S is next to it, otherwise it goes.  For all others, a single <code>index</code> invocation is enough.  Even though there&#39;s logic involved (a performance killer) I&#39;d expect this to run better.  Can&#39;t do such fine tuning with regex."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 0, "last_activity_date": 1459534369, "last_edit_date": 1495540824, "creation_date": 1455340468, "answer_id": 35376367, "question_id": 35375639, "link": "https://stackoverflow.com/questions/35375639/perl-custom-sort-order/35376367#35376367", "title": "Perl: custom sort order?", "body": "<p>Here is a straightforward algorithm.  This should be efficient, and can also be improved if needed.</p>\n\n<p>Iterate through the characters in the word, searching for each in the reference sequence.  Compare match's position in the sequence with the one for the previous character. Keep searching for all matches since some letters repeat in the sequence. Search uses <code>index</code>.</p>\n\n<pre><code>sub accept_word {\n    my ($refseq, $word) = @_; \n    my ($mark, $pos) = (0, 0); \n    foreach my $ch (split '', $word) {\n        # search until position is &gt;= $mark, or the word is bad \n        while ( ($pos = index($refseq, $ch, $pos)) != -1 ) { \n            $mark = $pos, last  if $pos &gt;= $mark;\n        }   \n        return 0 if $pos &lt; $mark;\n    }   \n    return 1;\n}   \nfor my $word (qw(KAT FRAG TKPWAUL GAUL SAS)) {\n    print \"$word is \" . (accept_word($refseq, $word) ? 'accepted' : 'rejected') . \"\\n\";\n}   \n</code></pre>\n\n<p>Comments:</p>\n\n<p>This can be tightened quite a bit if needed.  The search can be greatly optimized since only 'S' and 'T' repeat, at start and end (see comments). Or, it can be optimized by looking up the count of letters in the sequence first (say via <code>('S' =&gt; 2, 'T' =&gt; 2, 'K' =&gt; 1)</code> etc) so that <code>index</code> doesn't do unnecessary work. See <a href=\"https://stackoverflow.com/users/201318/kba\">tba</a>'s comment for his link to a slightly tighter version and a benchmark between that and his posted regex solution, which uses a different algorithm.</p>\n\n<p>A detailed worded description of this step-by-step solution. Iterate through your word by characters, for each doing the following:</p>\n\n<p>Traverse the reference sequence and once a match is found record its numeric index in the sequence. On the first pass (first word character) this becomes the highest position, say <code>$mark</code>.</p>\n\n<p>For the rest of iterations one need be careful since the reference sequence has repeated characters. (Thanks to <a href=\"https://stackoverflow.com/users/201318/kba\">tba</a> for a comment.)  As a char is found to match in the sequence, the index of the match is compared to <code>$mark</code> and if it is <code>&gt;=</code> we reset the <code>$mark</code> to it and go to the next char. If the position is <code>&lt; $mark</code> the search-and-comparison continues until <code>&gt;=</code> is found or the sequence exhausted, when the word is discarded (char is to the left of the previous one).  Improvement: start the search from <code>$mark</code> and if a match is found reset <code>$mark</code> and move to next char, otherwise the word is discarded (done via <code>index</code> in the code above).  As you are matching characters in your word you are crawling up the reference sequence and remembering how far you got.</p>\n\n<p>This way the word is mapped to a non-decreasing numeric sequence based in the reference string, or discarded. In the code above that numeric encoding can be recorded if needed.</p>\n"}], "owner": {"reputation": 197, "user_id": 5253336, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9816da99c833fc2df2b3524db2413253?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/5253336/erik-olson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1459534369, "creation_date": 1455333134, "question_id": 35375639, "link": "https://stackoverflow.com/questions/35375639/perl-custom-sort-order", "title": "Perl: custom sort order?", "body": "<p>A stenographic keyboard has the keys in a specific order: STKPWHRAO*#EUFRPBLGTS.</p>\n\n<p>I am attempting to take an input $word and determine if its letters follow this order, from left to right. </p>\n\n<p>So KAT would be valid, but FRAG would not be, because while F is before R on the right side, they are not before A-. TKPWAUL would work, but GAUL would not, because -G is not before A. The keys must be ordered from left to right.</p>\n\n<p>I'm getting tripped up by some letters appearing twice in the order.</p>\n\n<p>Thank you very much for any ieas!</p>\n"}, {"tags": ["regex", "perl", "unicode", "diacritics"], "comments": [{"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1455334054, "post_id": 35375557, "comment_id": 58457247, "body": "If it&#39;s a combining character, that might be possible by <a href=\"http://stackoverflow.com/questions/17051732/algorithm-to-check-for-combining-characters-in-unicode\">generating a list of unicode codepoints</a>."}, {"owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "edited": false, "score": 0, "creation_date": 1455972199, "post_id": 35375557, "comment_id": 58736444, "body": "Make a character class out of single letters is not reliable and would not work. It would only work for precomposed letters matching strings NFC (normalization form composed). Most characters with two or more diacritics have no precomposed character. I.e. they consist of more than one code point (= character in Unicode speech). If you copy and paste them into a character class the diacritic is still a single character and will match the same single diacritics in the target string."}], "answers": [{"comments": [{"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1455392282, "post_id": 35376230, "comment_id": 58473394, "body": "There is no point converting to UTF32 (and, if you&#39;re going to assume the result is UTF-32LE, you should convert to that rather than leaving it to chance). Also, the assumption that the grave accent immediately follows the base character may be incorrect when the glyph contains more than one diacritic."}, {"owner": {"reputation": 5900, "user_id": 698632, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iCuMO.jpg?s=128&g=1", "display_name": "Dakusan", "link": "https://stackoverflow.com/users/698632/dakusan"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1455417111, "post_id": 35376230, "comment_id": 58479784, "body": "Indeed. It was pretty fruitless research and testing"}], "tags": [], "owner": {"reputation": 5900, "user_id": 698632, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iCuMO.jpg?s=128&g=1", "display_name": "Dakusan", "link": "https://stackoverflow.com/users/698632/dakusan"}, "is_accepted": false, "score": 0, "last_activity_date": 1455347743, "last_edit_date": 1455347743, "creation_date": 1455339173, "answer_id": 35376230, "question_id": 35375557, "link": "https://stackoverflow.com/questions/35375557/regex-match-character-with-specific-diacritic/35376230#35376230", "title": "regex match character with specific diacritic", "body": "<p>It's a bit of a tricky question, but it is possible. First, you have to normalize the unicode string into one of the 4 forms. Information on normalization is <a href=\"http://www.unicode.org/reports/tr15/\" rel=\"nofollow\">here</a>, and a map of character examples with the different normalizations is <a href=\"http://www.unicode.org/charts/normalization/\" rel=\"nofollow\">here</a>, and a good chart for the normalized characters is <a href=\"https://en.wikipedia.org/wiki/Combining_character\" rel=\"nofollow\">here</a>. Essentially, normalizing just makes sure all the characters are in the same format when handling diacritics. Golang has great support for this, and most all languages should contain libraries to do this.</p>\n\n<p>So for my example, convert your string to \"Normalization Form D\" (NFD) and utf32, so all unicode characters are their code points in 4 bytes.</p>\n\n<p>All diacritic characters for the grave accent have 0x0300 next to the character. So you can do a regular expression search in ascii mode (NOT unicode mode) for <code>....\\x00\\x00\\x03\\x00</code>. From there you'd have to extract which rune location it is in. That can be done with different methods depending on which encoding you are using.</p>\n\n<p>So if you land on a division of 4, you'll know its a valid character.</p>\n\n<p>Besides that, there are no official perl character groupings to do this.</p>\n\n<p>Perl code as an example:</p>\n\n<pre><code>use Encode;\nuse Unicode::Normalize;\n\n$StartUTF8='x\u00e0a\u00e2\u00e8a\u00ea';\n$PerlEncoded=decode('utf8', $StartUTF8);\n$PerlNormalized=NFD($PerlEncoded); \n$UTF32Normalized=encode('utf32', $PerlNormalized);\n\nwhile($UTF32Normalized =~ /(....\\x00\\x00\\x03\\x00)/gs) {\n    $Pos=pos($UTF32Normalized)-8;\n    if($Pos%4==0) {\n        print(\"$Pos\\n\");\n    }\n}\n</code></pre>\n\n<p>But at this point, you might as well just be doing a for loop over the characters :-\\</p>\n\n<p>I also tried matching without needing the position test using //c, but for some reason it wouldn't work.</p>\n\n<p><code>/^(?:....)*?(....\\x00\\x00\\x03\\x00)/gcs</code></p>\n"}, {"tags": [], "owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "is_accepted": false, "score": 1, "last_activity_date": 1455970648, "last_edit_date": 1455970648, "creation_date": 1455970235, "answer_id": 35523057, "question_id": 35375557, "link": "https://stackoverflow.com/questions/35375557/regex-match-character-with-specific-diacritic/35523057#35523057", "title": "regex match character with specific diacritic", "body": "<p>It's possible with some limitations.</p>\n\n<pre><code>#!perl\n\nuse strict;\nuse warnings;\n\nuse Encode;\nuse Unicode::Normalize;\nuse charnames qw();\nuse utf8;  # source is utf-8\n\nbinmode(STDOUT, \":utf8\"); # print in utf-8\n\nmy $utf8_string = 'x\u00e0a\u00e2\u00e8a\u00ea\u00f2\u0364';\n\nmy $nfd_string = NFD($utf8_string); # decompose\n\nmy @chars_with_grave = $nfd_string =~\n  m/\n    (\n      \\p{L}           # one letter\n      \\p{M}*          # 0 or more marks\n      \\N{COMBINING GRAVE ACCENT}\n      \\p{M}*          # 0 or more marks\n    )\n  /xmsg;\n\nprint join(', ',@chars_with_grave), \"\\n\";\n</code></pre>\n\n<p>This prints</p>\n\n<pre><code>$ perl utf_match_grave.pl \na\u0300, e\u0300, o\u0300\u0364\n</code></pre>\n\n<p>NOTE: The characters in the edit area are correctly displayed as combined, but stackoverflow renders them wrongly seperated.</p>\n\n<p>It needs a letter as base character. Change the regex for other base characters. Mark <code>\\p{M}</code> is maybe not exactly what you want, should be improved.</p>\n"}], "owner": {"reputation": 5906, "user_id": 474819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/90031dd96e51d2025f48ce6805b550ec?s=128&d=identicon&r=PG", "display_name": "Nate Glenn", "link": "https://stackoverflow.com/users/474819/nate-glenn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 746, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1455970648, "creation_date": 1455332339, "question_id": 35375557, "link": "https://stackoverflow.com/questions/35375557/regex-match-character-with-specific-diacritic", "title": "regex match character with specific diacritic", "body": "<p>Is there any way in a regex to specify a match for a character with a specific diacritic? Let's say a grave accent for example. The long way to do this is to go to the <a href=\"https://en.wikipedia.org/wiki/Grave_accent\">Wikipedia page on the grave accent</a>, copy all of the characters it shows, then make a character class out of them:</p>\n\n<pre><code>/[\u00e0\u1ea7\u1eb1\u00e8\u1ec1\u1e15\u00ec\u01f9\u00f2\u1ed3\u1e51\u00f9\u01dc\u1eeb\u1e81\u1ef3]/i\n</code></pre>\n\n<p>That's quite tedious. I was hoping for a Unicode property like <code>\\p{hasGraveAccent}</code>, but I can't find anything like that. Searching for a solution only comes up with questions from people trying to match characters while ignoring diacritics, which involves performing a normalization of some kind, which is not what I want.</p>\n"}, {"tags": ["perl", "fuzzy-logic"], "answers": [{"comments": [{"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1455332705, "post_id": 35375325, "comment_id": 58456943, "body": "Thanks, but wondering if you can help me out. I also looked at the source code but could not follow it. The Perl code is here: <a href=\"http://cpansearch.perl.org/src/BKB/Text-Fuzzy-0.24/lib/Text/Fuzzy.pm\" rel=\"nofollow noreferrer\">cpansearch.perl.org/src/BKB/Text-Fuzzy-0.24/lib/Text/Fuzzy.p&zwnj;&#8203;m</a>. How does the C code get called? I don&#39;t quite follow how this module works."}, {"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "reply_to_user": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 2, "creation_date": 1455333628, "post_id": 35375325, "comment_id": 58457134, "body": "The C code is compiled in the Perl way, using <a href=\"http://perldoc.perl.org/perlxs.html\" rel=\"nofollow noreferrer\">XS</a>. You can see the binding <a href=\"https://github.com/benkasminbullock/Text-Fuzzy/blob/master/Fuzzy.xs\" rel=\"nofollow noreferrer\">here</a>, the actual build process is a bit involved but the core C functionality is <a href=\"https://github.com/benkasminbullock/Text-Fuzzy/blob/master/edit-distance.c.tmpl\" rel=\"nofollow noreferrer\">here</a>. The important thing is: Text distance is calculated on edit distance of characters, without looking at the semantics of those characters, i.e. the distance between <code>a</code> and <code>b</code> is the same as between <code>a</code> and <code>A</code> is the same as between <code>a</code> and <code>&#228;</code>."}], "tags": [], "owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "is_accepted": true, "score": 3, "last_activity_date": 1455329907, "creation_date": 1455329907, "answer_id": 35375325, "question_id": 35375082, "link": "https://stackoverflow.com/questions/35375082/is-perls-textfuzzy-case-sensitive/35375325#35375325", "title": "Is Perl&#39;s Text::Fuzzy case sensitive", "body": "<p>From looking at the <a href=\"https://github.com/benkasminbullock/Text-Fuzzy\" rel=\"nofollow\">source code</a>, it is case-<strong>sensitive</strong>. You can debug what the module is doing (at least the perl implementation) by setting <code>$Text::Fuzzy::verbose = 1</code> at the beginning.</p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 35375325, "answer_count": 1, "score": 1, "last_activity_date": 1455329907, "creation_date": 1455327698, "question_id": 35375082, "link": "https://stackoverflow.com/questions/35375082/is-perls-textfuzzy-case-sensitive", "title": "Is Perl&#39;s Text::Fuzzy case sensitive", "body": "<p>I'm using the <a href=\"http://search.cpan.org/~bkb/Text-Fuzzy-0.24/lib/Text/Fuzzy.pod\" rel=\"nofollow\">Text::Fuzzy</a> module. The documentation doesn't mention if the string comparison is case sensitive. Anyone happen to know?</p>\n"}, {"tags": ["perl", "web", "hosting", "server-side"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1455313511, "post_id": 35372560, "comment_id": 58451282, "body": "does <code>curl</code> or <code>wget</code> of that same URL give you anything?"}, {"owner": {"reputation": 314, "user_id": 5404257, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-xH_7wClRBZg/AAAAAAAAAAI/AAAAAAAAAoU/tK54tfcDTg4/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0441\u0435\u043d \u0413\u043e\u044f\u043d", "link": "https://stackoverflow.com/users/5404257/%d0%90%d1%80%d1%81%d0%b5%d0%bd-%d0%93%d0%be%d1%8f%d0%bd"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455314568, "post_id": 35372560, "comment_id": 58451751, "body": "It does seem to work with wget"}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 0, "creation_date": 1455343300, "post_id": 35372560, "comment_id": 58458964, "body": "Are you in any proxy? if so set proxy for LWP&#39;s object. Also you can check the HTTP :: Status using that object like success or error. Link:<a href=\"http://search.cpan.org/~ether/libwww-perl-6.15/lib/LWP/Simple.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~ether/libwww-perl-6.15/lib/LWP/Simple.&zwnj;&#8203;pm</a>"}], "answers": [{"tags": [], "owner": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "is_accepted": true, "score": 0, "last_activity_date": 1455376949, "last_edit_date": 1455376949, "creation_date": 1455375170, "answer_id": 35381324, "question_id": 35372560, "link": "https://stackoverflow.com/questions/35372560/perl-getprint-returns-nothing/35381324#35381324", "title": "Perl getprint() returns nothing", "body": "<p>You should modify your script a bit for the first, with some kind of \"try-catches\" or \"die(...) if ...\" structure and further if you script works on more domains, but not on yours or some certain domains, it means that they don't like crawlers :-). There are many ways to make some workarounds, try to identify your script throw LWP like some \"browser\" ( you have to many examples in the 'www' ) and the second think is - use first some normal PC as a client, cause it is possible that your server ip can be ban i some of the dark lists, but this is less possible.</p>\n\n<hr>\n\n<p>use LWP;\nmy $userAgnt = LWP::UserAgent->new;</p>\n\n<p>print \"Content-type:text/html\\n\\n\";</p>\n\n<p>die \"no success :-(\" unless defined $userAgnt->get(\"DOMAIN\");</p>\n\n<h2>$userAgnt->getprint(\"DOMAIN/\");</h2>\n\n<p>or</p>\n\n<p>if (is_success($userAgnt->getprint(\"DOMAIN\"))) {\n     ...\n }</p>\n\n<p>Cheers.</p>\n"}], "owner": {"reputation": 314, "user_id": 5404257, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-xH_7wClRBZg/AAAAAAAAAAI/AAAAAAAAAoU/tK54tfcDTg4/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0441\u0435\u043d \u0413\u043e\u044f\u043d", "link": "https://stackoverflow.com/users/5404257/%d0%90%d1%80%d1%81%d0%b5%d0%bd-%d0%93%d0%be%d1%8f%d0%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 35381324, "answer_count": 1, "score": 0, "last_activity_date": 1455376949, "creation_date": 1455312896, "question_id": 35372560, "link": "https://stackoverflow.com/questions/35372560/perl-getprint-returns-nothing", "title": "Perl getprint() returns nothing", "body": "<p>Sorry, I'm new to Perl, however, this seems really weird to me.</p>\n\n<p>The point is: I have a perl script with this content:</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Content-type:text/html\\n\\n\";\nuse LWP::Simple;\n\ngetprint(\"http://DOMAIN/\");\n</code></pre>\n\n<p>And I host it on some domain. The point is that it does work with every domain I enter except for my domain and the domain of the hosting company (including their service domains like those for admin tools and so on)...</p>\n\n<p>I'm really confused with that, no idea what I'm doing wrong</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1455312768, "post_id": 35372523, "comment_id": 58450973, "body": "The first argument is <code>$self</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3906716"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1455312937, "post_id": 35372523, "comment_id": 58451047, "body": "write me the code, I tried to pass 3 arguments but the same random results appear.."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3906716"}, "edited": false, "score": 0, "creation_date": 1455313471, "post_id": 35372624, "comment_id": 58451266, "body": "Thanks its working now, is there a way for me to remove $self and only stick to the variables that I actually need and used, it seems bit strange to declare the $self in each sub..."}, {"owner": {"reputation": 474, "user_id": 5905325, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4Uf-a54iNo/AAAAAAAAAAI/AAAAAAAAAdA/jc13jE20tww/photo.jpg?sz=128", "display_name": "murphy", "link": "https://stackoverflow.com/users/5905325/murphy"}, "edited": false, "score": 0, "creation_date": 1455313703, "post_id": 35372624, "comment_id": 58451350, "body": "@user3906716 in perl $self is meant to store the programs state. this way every method can access the internal state of the object and retrieve or store object variables. Because of this it is not possible to get rid of $self if you want to program with the OOP paradigm in Perl."}, {"owner": {"reputation": 474, "user_id": 5905325, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4Uf-a54iNo/AAAAAAAAAAI/AAAAAAAAAdA/jc13jE20tww/photo.jpg?sz=128", "display_name": "murphy", "link": "https://stackoverflow.com/users/5905325/murphy"}, "edited": false, "score": 0, "creation_date": 1455314234, "post_id": 35372624, "comment_id": 58451587, "body": "@user3906716 You can call your functions like <code>Math::add($number1, $number2)</code> but then  you don&#39;t use the object, you call a method in the Math namespace. That&#39;s like calling a static method in c++/java"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3906716"}, "edited": false, "score": 0, "creation_date": 1455314263, "post_id": 35372624, "comment_id": 58451601, "body": "Thank you again Murphy, I made the change now I will have sample to work with in the future. I used perl a lot 3 years ago but mostly using sub without creating classes, now I am finally return to it. I was digging an hour for this. Thanks again :-)"}, {"owner": {"reputation": 474, "user_id": 5905325, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4Uf-a54iNo/AAAAAAAAAAI/AAAAAAAAAdA/jc13jE20tww/photo.jpg?sz=128", "display_name": "murphy", "link": "https://stackoverflow.com/users/5905325/murphy"}, "edited": false, "score": 0, "creation_date": 1455315337, "post_id": 35372624, "comment_id": 58452092, "body": "@user3906716 glad I could help :)"}], "tags": [], "owner": {"reputation": 474, "user_id": 5905325, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4Uf-a54iNo/AAAAAAAAAAI/AAAAAAAAAdA/jc13jE20tww/photo.jpg?sz=128", "display_name": "murphy", "link": "https://stackoverflow.com/users/5905325/murphy"}, "is_accepted": true, "score": 2, "last_activity_date": 1455314014, "last_edit_date": 1455314014, "creation_date": 1455313194, "answer_id": 35372624, "question_id": 35372523, "link": "https://stackoverflow.com/questions/35372523/object-return-random-number-instead-of-a-value-in-perl/35372624#35372624", "title": "object return random number instead of a value in perl", "body": "<p>When you use OOP in perl the first argument to each method is the thing you blessed</p>\n\n<pre><code>sub new{\n    my $class = shift;\n    my $self = {};              &lt;--  this hashref\n    bless($self, $class);\n    return $self;\n}\n\n\nsub add{\n    my $self = shift;           &lt;-- is the first argument in methods\n    my $x = shift;\n    my $y = shift;\n    return $x + $y;\n}\n</code></pre>\n\n<p>HTH</p>\n"}, {"comments": [{"owner": {"reputation": 1632, "user_id": 1072222, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e25a242e4a1ca113d0fad40e1ba611d6?s=128&d=identicon&r=PG", "display_name": "cur4so", "link": "https://stackoverflow.com/users/1072222/cur4so"}, "edited": false, "score": 0, "creation_date": 1455314421, "post_id": 35372742, "comment_id": 58451685, "body": "@user3906716 here people usually +1 answers / questions if they find them useful"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1455341062, "post_id": 35372742, "comment_id": 58458489, "body": "May I suggest adding a little explanation as to why this works and what the OP did wrong?"}, {"owner": {"reputation": 1632, "user_id": 1072222, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e25a242e4a1ca113d0fad40e1ba611d6?s=128&d=identicon&r=PG", "display_name": "cur4so", "link": "https://stackoverflow.com/users/1072222/cur4so"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1455395371, "post_id": 35372742, "comment_id": 58474357, "body": "@Benjamin W. it already has been mentioned above, the OP have sent 3 args to a function, while intended to send 2"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1455403102, "post_id": 35372742, "comment_id": 58476720, "body": "I just think it would make your answer better as an independent entity if you mentioned that."}], "tags": [], "owner": {"reputation": 1632, "user_id": 1072222, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e25a242e4a1ca113d0fad40e1ba611d6?s=128&d=identicon&r=PG", "display_name": "cur4so", "link": "https://stackoverflow.com/users/1072222/cur4so"}, "is_accepted": false, "score": 0, "last_activity_date": 1455313663, "creation_date": 1455313663, "answer_id": 35372742, "question_id": 35372523, "link": "https://stackoverflow.com/questions/35372523/object-return-random-number-instead-of-a-value-in-perl/35372742#35372742", "title": "object return random number instead of a value in perl", "body": "<pre><code>use strict ;\nuse warnings;\nuse Math;\n\nmy $math_action = new Math();\nmy $number1 = 5;\nmy $number2 = 3;\nmy $results = Math::add($number1, $number2);\nprint $results;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "is_accepted": false, "score": 1, "last_activity_date": 1455378342, "creation_date": 1455378342, "answer_id": 35381837, "question_id": 35372523, "link": "https://stackoverflow.com/questions/35372523/object-return-random-number-instead-of-a-value-in-perl/35381837#35381837", "title": "object return random number instead of a value in perl", "body": "<p>This is no more possible at Perl6, to access to object-methods as class-methods in a way of procedural subroutine calls. But now you can call the methods just without reference throw an instance resp. object and every think it's fine:</p>\n\n<p>Like: <strong>print add(2, 3)</strong>. In your case, when your forget the declartaion and definition of the <em>blessed</em> reference-variable.</p>\n\n<p>Cheers.  </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3906716"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 35372624, "answer_count": 3, "score": 0, "last_activity_date": 1455378342, "creation_date": 1455312722, "question_id": 35372523, "link": "https://stackoverflow.com/questions/35372523/object-return-random-number-instead-of-a-value-in-perl", "title": "object return random number instead of a value in perl", "body": "<p>I have this PM class file:</p>\n\n<pre><code>use strict ;\nuse warnings;\n\npackage Math;\n\n\nsub new{\n    my $class = shift;\n    my $self = {};\n    bless($self, $class);\n    return $self;\n}\n\n\nsub add{\n    my $x = shift;\n    my $y = shift;\n    return $x + $y;\n}\n\nsub substract{\n\n    my $x = shift;\n    my $y = shift;\n    return $x - $y;\n\n}\n\nsub multiple{\n\n    my $x = shift;\n    my $y = shift;\n    return $x * $y;\n}\n\nsub divide{\n    my $x = shift;\n    my $y = shift;\n    return $x / $y;\n}\n\n1;\n</code></pre>\n\n<p>and I have the main test pl file:</p>\n\n<pre><code>use strict ;\nuse warnings;\nuse Math;\n\nmy $math_action = new Math();\nmy $number1 = 5;\nmy $number2 = 3;\nmy $results = $math_action-&gt;add($number1, $number2);\nprint $results;\n</code></pre>\n\n<p>From some reason I am getting odd results randomly with each run.\nProbably something easy (?) I did not touch perl for long time, digging an hour to find solution could not find ...Any help will be appreciated.</p>\n"}, {"tags": ["perl", "interface", "moose", "abc"], "answers": [{"tags": [], "owner": {"reputation": 178, "user_id": 3960762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bqvHi.png?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/3960762/jonathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1456336293, "creation_date": 1456336293, "answer_id": 35609450, "question_id": 35372440, "link": "https://stackoverflow.com/questions/35372440/child-classes-implement-a-moosexinterface-with-moosexabc-abstract-base-clas/35609450#35609450", "title": "Child classes implement a MooseX::Interface with MooseX::ABC (Abstract Base Class)", "body": "<p>The documentation for <a href=\"https://metacpan.org/pod/MooseX::ABC\" rel=\"nofollow\">MooseX::ABC</a> states \"NOTE: This module is almost certainly a bad idea. You really want to just be using a role instead!\". The documentation for <a href=\"https://metacpan.org/pod/MooseX::Interface\" rel=\"nofollow\">MooseX::Interface</a> states that \"Interfaces are just roles with a few additional restrictions...\" Your choice of modules suggests that you want Moose to look and work like Java, which is a lost cause. The good news is that <a href=\"https://metacpan.org/pod/distribution/Moose/lib/Moose/Manual/Roles.pod\" rel=\"nofollow\">Moose Roles</a> can almost certainly provide much if not all of the <em>behavior</em> you're looking for. Furthermore, you might be surprised by some of the powerful things that you can accomplish with Roles that don't have an analog in Java. </p>\n"}], "owner": {"reputation": 1, "user_id": 5416138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac79741c7d9e382e610a012a978d61fe?s=128&d=identicon&r=PG&f=1", "display_name": "yougotborked", "link": "https://stackoverflow.com/users/5416138/yougotborked"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456336293, "creation_date": 1455312330, "question_id": 35372440, "link": "https://stackoverflow.com/questions/35372440/child-classes-implement-a-moosexinterface-with-moosexabc-abstract-base-clas", "title": "Child classes implement a MooseX::Interface with MooseX::ABC (Abstract Base Class)", "body": "<p>I am trying to force all child classes of an Abstract Base Class to implement an interface. When I try add <code>with '&lt;interface&gt;'</code> to the ABC, it requires me to implement the required methods immediately and add <code>sub &lt;method&gt; {}</code> for each interface method.</p>\n\n<p>To Illustrate the Problem,</p>\n\n<pre><code>package drawAPI {\n   use MooseX::Interface;\n   require 'draw';\n   one;\n}\n\npackage shape {\n   use MooseX::ABC;\n   with 'drawAPI';\n}\n\npackage square {\n   extends 'shape';\n    #here is where having a draw subroutine would be inforced\n   sub draw {};\n}\n</code></pre>\n\n<p>Does anyone know a way to do this? or can recommend a different set of modules to accomplish this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "http-request"], "migrated_from": {"other_site": {"aliases": ["http://programmer.stackexchange.com", "http://programmers.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1292524346, "open_beta_date": 1283972400, "closed_beta_date": 1283367600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon@2.png", "twitter_account": "StackSoftEng", "favicon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon.png", "audience": "professionals, academics, and students working within the systems development life cycle", "site_url": "https://softwareengineering.stackexchange.com", "api_site_parameter": "softwareengineering", "logo_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/logo.png", "name": "Software Engineering", "site_type": "main_site"}, "on_date": 1455310529, "question_id": 309995}, "owner": {"reputation": 379, "user_id": 4228193, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5nPj1.jpg?s=128&g=1", "display_name": "mpag", "link": "https://stackoverflow.com/users/4228193/mpag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 319, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455657847, "creation_date": 1455306560, "last_edit_date": 1455657847, "question_id": 35372039, "link": "https://stackoverflow.com/questions/35372039/406-not-acceptable-response-received-using-lwpuseragent-filedownload", "title": "406: not acceptable response received using LWP::UserAgent/File::Download", "body": "<p>Edit: it seems the issue was caused by a dropped cookie.  There should have been a session id cookie as well.</p>\n\n<p>For posterity, here's the original question</p>\n\n<blockquote>\n  <p>When sending a request formed as this</p>\n\n<pre><code>GET https://&lt;url&gt;?&lt;parameters&gt;\nCache-Control: max-age=0\nConnection: keep-alive\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Charset: iso-8859-1,utf-8,UTF-8\nAccept-Encoding: gzip, x-gzip, deflate, x-bzip2\nAccept-Language: en-US,en;q=0.5\nIf-None-Match: \"6eb7d55abfd0546399e3245ad3a76090\"\nUser-Agent: Mozilla/5.0 libwww-perl/6.13\nCookie: auth_token=&lt;blah&gt;; __cfduid=&lt;blah&gt;\nCookie2: $Version=\"1\"\n</code></pre>\n  \n  <p>I receive the following response</p>\n\n<pre><code>response-type: text/html\ncharset=utf-8\nHTTP/1.1 406 Not Acceptable\nCache-Control: no-cache\nConnection: keep-alive\nDate: Fri, 12 Feb 2016 18:34:00 GMT\nServer: cloudflare-nginx\nContent-Type: text/html; charset=utf-8\nCF-RAY: 273a62969a9b288e-SJC\nClient-Date: Fri, 12 Feb 2016 18:34:00 GMT\nClient-Peer: &lt;IP4&gt;:443\nClient-Response-Num: 10\nClient-SSL-Cert-Issuer: /C=GB/ST=Greater Manchester/L=Salford/O=COMODO CA Limite\nd/CN=COMODO ECC Domain Validation Secure Server CA 2\nClient-SSL-Cert-Subject: /OU=Domain Control Validated/OU=PositiveSSL Multi-Domai\nn/CN=ssl&lt;blah&gt;.cloudflaressl.com\nClient-SSL-Cipher: &lt;some value&gt;\nClient-SSL-Socket-Class: IO::Socket::SSL\nClient-SSL-Warning: Peer certificate not verified\nClient-Transfer-Encoding: chunked\nStatus: 406 Not Acceptable\nX-Runtime: 9\n</code></pre>\n  \n  <p>I'm not entirely sure why the response is <code>406 Not Acceptable</code>. When\n  downloaded with firefox, the file in question in 996 KB (as reported\n  by Windows 8.1's explorer). It looks like I have a partially\n  transferred file from my perl script at 991 KB (again, windows\n  explorer size), so it got MOST of the file before throwing the <code>Not\n  Acceptable</code> response. Using the same URL pattern and request style, I\n  was able to successfully download a 36 MB file from the server with\n  this perl library and request form, so the size of the file should not\n  be magically past some max (chunk) size.  As these files are being\n  updated on approximately 15-minute intervals, I suppose it's possible\n  that a write was performed on the server, invalidating the ETag before\n  all chunks were complete on this file?</p>\n  \n  <p>I tried adding chunked to <code>Accept-Encoding</code>, but that's not for\n  <em><code>Transfer</code></em> encoding and it appears to have no affect on the server's behavior.  Additionally, as I've been able to download larger files\n  (same format) from the same server, that alone shouldn't be the cause\n  of my woes.  LWP is supposed to be able to handle chunked data\n  returned by a response to <code>GET</code> (as <a href=\"http://www.nntp.perl.org/group/perl.libwww/2001/11/msg3100.html\" rel=\"nofollow\">per this</a> newsgroup post).</p>\n  \n  <p>The server in question is running <code>nginx</code> with <code>Rack::Lint</code>. The\n  particular server configuration (which I in no way control), throws\n  <code>500</code> errors on its own attempts to send <code>304: not modified</code>. This\n  caused me to write a workaround for File::Download (sub\n  <a href=\"https://github.com/MPagel/file-download-1/blob/master/lib/File/Download.pm\" rel=\"nofollow\"><code>lintWorkAround</code> here</a>), so I'm not above putting blame on the\n  server in this instance also, if warranted. I don't believe I buggered\n  up the chunk-handling code from File::Download 0.3 (see <a href=\"https://github.com/MPagel/file-download-1/commit/70ecd69da6182818bde1b879b0c25ee2aba239d9\" rel=\"nofollow\">diff</a>),\n  but I suppose that's also possible.  Is it possible to request a\n  particular chunk size from the server?</p>\n  \n  <p>I'm using <code>LWP</code> and <code>libwww</code> versions 6.13 in <code>perl</code> 5.18.2.\n  <code>File::Download</code> version is <a href=\"https://github.com/MPagel/file-download-1\" rel=\"nofollow\">my own 0.4_050601</a>.</p>\n  \n  <p>So, what else could the 406 error mean? Is there a way to request that\n  the server temporarily cache/version control the entire file so that I\n  can download a given ETag'd file once the transfer begins?</p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 2, "creation_date": 1455306227, "post_id": 35370925, "comment_id": 58447860, "body": "You&#39;re not returning an array, you&#39;re returning a list. An array is <code>[&quot;Apple&quot;, &quot;Orange&quot;]</code>"}, {"owner": {"reputation": 3590, "user_id": 2066468, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3d95d4d4529fc0d8169cf4844db5369?s=128&d=identicon&r=PG", "display_name": "Dirty Penguin", "link": "https://stackoverflow.com/users/2066468/dirty-penguin"}, "edited": false, "score": 0, "creation_date": 1455306295, "post_id": 35370925, "comment_id": 58447887, "body": "Is it possible to return the entire list? How might I unpack the list?"}, {"owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "edited": false, "score": 0, "creation_date": 1455306416, "post_id": 35370925, "comment_id": 58447962, "body": "<code>$fruits_ref = [ generate_fruits() ]</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 1, "creation_date": 1455306456, "post_id": 35370925, "comment_id": 58447988, "body": "List becomes its last element when you pass it to scalar context. To pass to list context, you could do <code>my @fruits = generate_fruits();</code> . But that is likely not what you need - you seem to need a reference. For that, just use square brackets. Oh, another alternative is <code>my $fruits_ref = [generate_fruits()];</code>"}, {"owner": {"reputation": 3590, "user_id": 2066468, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3d95d4d4529fc0d8169cf4844db5369?s=128&d=identicon&r=PG", "display_name": "Dirty Penguin", "link": "https://stackoverflow.com/users/2066468/dirty-penguin"}, "edited": false, "score": 0, "creation_date": 1455306600, "post_id": 35370925, "comment_id": 58448069, "body": "Thanks @arkadiy. If you post a answer I&#39;d be happy to accept."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 7, "last_activity_date": 1455306472, "creation_date": 1455306472, "answer_id": 35371020, "question_id": 35370925, "link": "https://stackoverflow.com/questions/35370925/perl-return-anonymous-array-from-a-subroutine/35371020#35371020", "title": "Perl: Return anonymous array from a subroutine", "body": "<p>Anonymous arrays are constructed with square brackets.</p>\n\n<pre><code>return [ 'Apple', 'Orange' ]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455309723, "post_id": 35371071, "comment_id": 58449537, "body": "Nit: <code>[&quot;Apple&quot;, &quot;Orange&quot;]</code> is <i>not</i> an array; it&#39;s a reference to an anonymous array. An array would be <code>@array = (&quot;Apple&quot;, &quot;Orange&quot;)</code>."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "is_accepted": true, "score": 2, "last_activity_date": 1455310392, "last_edit_date": 1455310392, "creation_date": 1455306687, "answer_id": 35371071, "question_id": 35370925, "link": "https://stackoverflow.com/questions/35370925/perl-return-anonymous-array-from-a-subroutine/35371071#35371071", "title": "Perl: Return anonymous array from a subroutine", "body": "<p>You're not returning an array (or a reference to array), you're returning a list. A reference to anonymous array is <code>[\"Apple\", \"Orange\"]</code></p>\n\n<p>List becomes its last element when you pass it to scalar context. To pass to list context, you could do </p>\n\n<pre><code>my @fruits = generate_fruits();\n</code></pre>\n\n<p>But that is likely not what you need - you seem to need a reference. For that, just use square brackets. </p>\n\n<p>Oh, another alternative is</p>\n\n<pre><code>my $fruits_ref = [generate_fruits()];\n</code></pre>\n"}], "owner": {"reputation": 3590, "user_id": 2066468, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c3d95d4d4529fc0d8169cf4844db5369?s=128&d=identicon&r=PG", "display_name": "Dirty Penguin", "link": "https://stackoverflow.com/users/2066468/dirty-penguin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 0, "accepted_answer_id": 35371071, "answer_count": 2, "score": 0, "last_activity_date": 1455310392, "creation_date": 1455306096, "question_id": 35370925, "link": "https://stackoverflow.com/questions/35370925/perl-return-anonymous-array-from-a-subroutine", "title": "Perl: Return anonymous array from a subroutine", "body": "<p>I'm trying to return an anonymous array from a subroutine, however, when dumping the returned variable I only see one value (I'm expecting two).</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $fruits_ref = generate_fruits();\nprint \"Fruits: \" . Dumper($fruits_ref) . \"\\n\";\n\nsub generate_fruits\n{\n    return (\"Apple\", \"Orange\");\n}\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>Fruits: $VAR1 = 'Orange';\n</code></pre>\n\n<p>How do I get the subroutine to return that array ref?</p>\n"}, {"tags": ["perl", "parsing"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1455296718, "post_id": 35367968, "comment_id": 58442455, "body": "What are you trying to accomplish here? It seems like it might be easier to import the other module."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1455297332, "post_id": 35367968, "comment_id": 58442856, "body": "If your major reason for wanting not to do this, is because <code>perlcritic</code> complains, I would suggest that the answer is turn off that warning - a &quot;stringy eval&quot; is <i>exactly</i> what you are trying to accomplish here."}, {"owner": {"reputation": 551, "user_id": 2229684, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d152f6a91b828fcc890eda5e78e32ba8?s=128&d=identicon&r=PG", "display_name": "mrfred", "link": "https://stackoverflow.com/users/2229684/mrfred"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455298822, "post_id": 35367968, "comment_id": 58443757, "body": "@Sobrique Because of the way the codebase is set up, there would be some hoops to jump through to do that.  But it is possible if that would be the best solution."}], "answers": [{"comments": [{"owner": {"reputation": 551, "user_id": 2229684, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d152f6a91b828fcc890eda5e78e32ba8?s=128&d=identicon&r=PG", "display_name": "mrfred", "link": "https://stackoverflow.com/users/2229684/mrfred"}, "edited": false, "score": 0, "creation_date": 1455307627, "post_id": 35369956, "comment_id": 58448565, "body": "So the point of the question was that all the arguments were stored in a string and I want to extract them.  I don&#39;t have them as actual perl structures."}], "tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1455302645, "creation_date": 1455302645, "answer_id": 35369956, "question_id": 35367968, "link": "https://stackoverflow.com/questions/35367968/parsing-a-subroutine-and-determining-arguments-of-function-call-in-perl/35369956#35369956", "title": "Parsing a subroutine and determining arguments of function call in perl", "body": "<p>You don't have to eval if you don't want to. You can use the name to get the symbol and then use that to get the code ref. </p>\n\n<pre><code>my $func = do { \n    no strict 'refs';\n    *{'main::MyFunction'}{CODE};\n};\n\nmy @arguments = $func-&gt;( {arg1 =&gt; \"hashref\"}, [\"arg2\", \"arrayref\"], \"etc...\" );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "is_accepted": false, "score": -1, "last_activity_date": 1455320350, "creation_date": 1455320350, "answer_id": 35374063, "question_id": 35367968, "link": "https://stackoverflow.com/questions/35367968/parsing-a-subroutine-and-determining-arguments-of-function-call-in-perl/35374063#35374063", "title": "Parsing a subroutine and determining arguments of function call in perl", "body": "<p>Parsing Perl is hard (and there's a folk theorem that only Perl can parse Perl).   Parsing perl with your own hand-rolled string hack is likely to end in disaster in all but the simplest cases.     What you really want is a tool that can parse Perl and give you the arguments.</p>\n\n<p>Our DMS Software Reegineering Toolkit can do this.  See parse tree below,\nobtained from a file that contains exactly OP's MySub example text:</p>\n\n<pre><code>C:\\DMS\\Domains\\Perl\\Tools\\Parser&gt;run ..\\domainparser ++AST C:\\temp\\test.pl\n\nPerl~Perl5 Domain Parser Version 2.6.15 DEBUG BUILD\nCopyright (C) 1996-2015 Semantic Designs, Inc; All Rights Reserved; SD Confidential\nPowered by DMS (R) Software Reengineering Toolkit\nUsing encoding Unicode-UTF-8?ANSI +CRLF +1 /^I\n432 tree nodes in tree.\n(Perl@Perl~Perl5=1#5c21d20^0 Line 1 Column 1 File C:/temp/test.pl\n (statements@Perl~Perl5=10#5c21c80^1#5c21d20:1 Line 1 Column 1 File C:/temp/test.pl\n  (subroutine_head@Perl~Perl5=551#5c73680^1#5c21c80:1 Line 1 Column 1 File C:/temp/test.pl\n   (IDENTIFIER@Perl~Perl5=573#5c735e0^1#5c73680:1[`MySub'] Line 1 Column 5 File C:/temp/test.pl)IDENTIFIER\n   (prototype@Perl~Perl5=552#5c73640^1#5c73680:2 Line 1 Column 11 File C:/temp/test.pl)prototype\n   (attributes@Perl~Perl5=554#5c73660^1#5c73680:3 Line 1 Column 11 File C:/temp/test.pl)attributes\n  )subroutine_head#5c73680\n  (block@Perl~Perl5=4#5c21640^1#5c21c80:2 Line 1 Column 11 File C:/temp/test.pl\n   precomment 3:1 `# ...'\n   precomment 3:2 `# more code...'\n   (statement@Perl~Perl5=21#5c7cf40^1#5c21640:1 Line 5 Column 5 File C:/temp/test.pl\n   |(call_statement@Perl~Perl5=561#5c209a0^1#5c7cf40:1 Line 5 Column 5 File C:/temp/test.pl\n   | (IDENTIFIER@Perl~Perl5=573#5c73920^13#5c210a0:1#5c73ec0:1#5c778c0:1#5c21080:1#5c73e00:1#5c77860:1#5c209a0:1#5c7f860:1#5c73d60:1#5c77840:1#5c7f840:1#5c73560:1#5c777e0:1[`MyFunction'] Line 5 Column 5 File C:/temp/test.pl\n   |  precomment 0:1 `# some code here...'\n   |  precomment 0:2 `# ...')IDENTIFIER\n   | (L20@Perl~Perl5=514#5c7f240^3#5c206c0:2#5c209a0:2#5c21020:1 Line 5 Column 17 File C:/temp/test.pl\n   |  (L20@Perl~Perl5=514#5c7b540^3#5c7f240:1#5c7c640:1#5c738e0:1 Line 5 Column 17 File C:/temp/test.pl\n   |   (L1_term@Perl~Perl5=187#5c7a700^11#5c7abc0:1#5c7b540:1#5c7c860:1#5c7d280:1#5c7b620:1#5c7ad60:1#5c7a9a0:1#5c20840:1#5c7c1c0:1#5c7b8a0:1#5c7aaa0:1 Line 5 Column 17 File C:/temp/test.pl\n   |   |(L20@Perl~Perl5=514#5c77da0^2#5c7a700:1#5c7a380:2 Line 5 Column 18 File C:/temp/test.pl\n   |   | (constant@Perl~Perl5=101#5c73180^6#5c77bc0:1#5c77da0:1#5c77d60:1#5c77a00:1#5c7a420:1#5c77ae0:1 Line 5 Column 18 File C:/temp/test.pl\n   |   |  (string_prefix@Perl~Perl5=120#5c731a0^1#5c73180:1 Line 5 Column 18 File C:/temp/test.pl)string_prefix\n   |   |  (ORDINARY_STRING@Perl~Perl5=604#5c77400^1#5c73180:2[`I'] Line 5 Column 19 File C:/temp/test.pl)ORDINARY_STRING\n   |   | )constant#5c73180\n   |   | (constant@Perl~Perl5=101#5c77e00^6#5c7a6a0:2#5c7a740:2#5c7a2a0:2#5c7a160:2#5c77da0:2#5c7a140:2 Line 5 Column 24 File C:/temp/test.pl\n   |   |  (string_prefix@Perl~Perl5=120#5c7a020^1#5c77e00:1 Line 5 Column 24 File C:/temp/test.pl)string_prefix\n   |   |  (ORDINARY_STRING@Perl~Perl5=604#5c7a000^1#5c77e00:2[`want'] Line 5 Column 25 File C:/temp/test.pl)ORDINARY_STRING\n   |   | )constant#5c77e00\n   |   |)L20#5c77da0\n   |   )L1_term#5c7a700\n   |   (L1_term@Perl~Perl5=187#5c7b420^14#5c7b600:2#5c7b780:2#5c7b620:2#5c7c7c0:1#5c7e880:1#5c20600:1#5c7d160:1#5c7c0c0:1#5c7bf00:2#5c7bf80:2#5c20c20:1#5c7c360:1#5c7b540:2#5c7b560:2 Line 5 Column 34 File C:/temp/test.pl\n   |   |(qw_constant@Perl~Perl5=113#5c7b260^1#5c7b420:1 Line 5 Column 35 File C:/temp/test.pl\n   |   | (WORD_LIST_STRING_START@Perl~Perl5=630#5c7b180^1#5c7b260:1[\"(\"] Line 5 Column 37 File C:/temp/test.pl)WORD_LIST_STRING_START\n   |   | (word_list@Perl~Perl5=117#5c7b240^1#5c7b260:2 Line 5 Column 38 File C:/temp/test.pl\n   |   |  (word_list@Perl~Perl5=117#5c7b200^1#5c7b240:1 Line 5 Column 38 File C:/temp/test.pl\n   |   |   (word_list@Perl~Perl5=116#5c7b1c0^1#5c7b200:1 Line 5 Column 38 File C:/temp/test.pl)word_list\n   |   |   (WORD@Perl~Perl5=633#5c7b1a0^1#5c7b200:2[`to'] Line 5 Column 38 File C:/temp/test.pl)WORD\n   |   |  )word_list#5c7b200\n   |   |  (WORD@Perl~Perl5=633#5c7b1e0^1#5c7b240:2[`get'] Line 5 Column 41 File C:/temp/test.pl)WORD\n   |   | )word_list#5c7b240\n   |   | (STRING_END@Perl~Perl5=620#5c7b220^1#5c7b260:3[\")\"] Line 5 Column 44 File C:/temp/test.pl)STRING_END\n   |   |)qw_constant#5c7b260\n   |   )L1_term#5c7b420\n   |  )L20#5c7b540\n   |  (L1_term@Perl~Perl5=187#5c20260^12#5c20e80:2#5c20ea0:2#5c20f20:2#5c20f60:2#5c205c0:2#5c20600:2#5c20620:2#5c20380:2#5c7f240:2#5c7f260:2#5c7e880:2#5c7e8a0:2 Line 6 Column 9 File C:/temp/test.pl\n   |   (L20@Perl~Perl5=514#5c7e7e0^1#5c20260:1 Line 6 Column 10 File C:/temp/test.pl\n   |   |(constant@Perl~Perl5=103#5c7d820^5#5c7de60:1#5c7e7e0:1#5c7e140:1#5c7f940:1#5c7dd60:1 Line 6 Column 10 File C:/temp/test.pl\n   |   | (INTERPOLATED_STRING_START@Perl~Perl5=621#5c7d5e0^2#5c7d840:1#5c7d820:1[\"\"\"] Line 6 Column 10 File C:/temp/test.pl)INTERPOLATED_STRING_START\n   |   | (interpolated_string_content@Perl~Perl5=130#5c7d800^2#5c7d840:2#5c7d820:2 Line 6 Column 11 File C:/temp/test.pl\n   |   |  (interpolated_string_content@Perl~Perl5=129#5c7d7c0^1#5c7d800:1 Line 6 Column 11 File C:/temp/test.pl)interpolated_string_content\n   |   |  (ORDINARY_INTERPOLATED_STRING_CONTENT@Perl~Perl5=642#5c7c6e0^1#5c7d800:2[`these'] Line 6 Column 11 File C:/temp/test.pl)ORDINARY_INTERPOLATED_STRING_CONTENT\n   |   | )interpolated_string_content#5c7d800\n   |   | (STRING_END@Perl~Perl5=620#5c7d7e0^2#5c7d840:3#5c7d820:3[\"\"\"] Line 6 Column 16 File C:/temp/test.pl)STRING_END\n   |   |)constant#5c7d820\n   |   |(constant@Perl~Perl5=103#5c7dc40^3#5c7e7e0:2#5c7e840:2#5c7e8e0:2 Line 6 Column 19 File C:/temp/test.pl\n   |   | (INTERPOLATED_STRING_START@Perl~Perl5=621#5c76320^4#5c7dec0:1#5c7e420:1#5c7e400:1#5c7dc40:1[\"\"\"] Line 6 Column 19 File C:/temp/test.pl)INTERPOLATED_STRING_START\n   |   | (interpolated_string_content@Perl~Perl5=130#5c76800^4#5c7dec0:2#5c7e420:2#5c7e400:2#5c7dc40:2 Line 6 Column 20 File C:/temp/test.pl\n   |   |  (interpolated_string_content@Perl~Perl5=129#5c76140^1#5c76800:1 Line 6 Column 20 File C:/temp/test.pl)interpolated_string_content\n   |   |  (ORDINARY_INTERPOLATED_STRING_CONTENT@Perl~Perl5=642#5c76120^1#5c76800:2[`arguments'] Line 6 Column 20 File C:/temp/test.pl)ORDINARY_INTERPOLATED_STRING_CONTENT\n   |   | )interpolated_string_content#5c76800\n   |   | (STRING_END@Perl~Perl5=620#5c76180^4#5c7dec0:3#5c7e420:3#5c7e400:3#5c7dc40:3[\"\"\"] Line 6 Column 29 File C:/temp/test.pl)STRING_END\n   |   |)constant#5c7dc40\n   |   )L20#5c7e7e0\n   |  )L1_term#5c20260\n   | )L20#5c7f240\n   |)call_statement#5c209a0\n   )statement#5c7cf40\n  )block#5c21640\n )statements#5c21c80\n)Perl#5c21d20\n</code></pre>\n\n<p>You still have to walk over the parse tree and pick out the arguments.  If you do pick up subtrees, they can be prettyprinted to generate the surface syntax string.</p>\n"}], "owner": {"reputation": 551, "user_id": 2229684, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d152f6a91b828fcc890eda5e78e32ba8?s=128&d=identicon&r=PG", "display_name": "mrfred", "link": "https://stackoverflow.com/users/2229684/mrfred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1455320350, "creation_date": 1455295696, "question_id": 35367968, "link": "https://stackoverflow.com/questions/35367968/parsing-a-subroutine-and-determining-arguments-of-function-call-in-perl", "title": "Parsing a subroutine and determining arguments of function call in perl", "body": "<p>I'm writing a perl script which needs to parse a file (or more specifically, a known sub in the file) find a specific function call, and retrieve all the arguments for that call.  For example:</p>\n\n<pre><code>sub MySub {\n    # some code here...\n    # ...\n\n    MyFunction ([q{I}, q{want}], [qw(to get)], \n        [\"these\", \"arguments\"]);\n\n    # ...\n    # more code...\n}\n</code></pre>\n\n<p>I've been able to parse through the file grab the appropriate line/lines for the function call, and then I wrote my own local \"MyFunction\" which can grab the args.  Then I use a stringy eval to call that function and get the arguments.  Example:</p>\n\n<pre><code>sub MyFunction {\n    return @_;\n}\n\n# Not actually doing this, but this is what I might get from parsing:\nmy $lines = 'MyFunction ({arg1 =&gt; \"hashref\"}, [\"arg2\", \"arrayref\"], \"etc...\");';\n\nmy @arguments = eval $lines;\n</code></pre>\n\n<p>This works great, except for the fact that I'm using a <a href=\"http://search.cpan.org/dist/Perl-Critic-1.126/lib/Perl/Critic/Policy/BuiltinFunctions/ProhibitStringyEval.pm\" rel=\"nofollow\">stringy eval</a>.  The problem with parsing the argument directly out of the string is there are many different formats (including multiple lines) that are possible.  So I guess is there an easy way to parse the arguments directly out of the string, or to call the function without a stringy eval?</p>\n\n<p>Thanks a lot for any help!</p>\n"}, {"tags": ["perl", "makemaker"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1455479930, "post_id": 35367315, "comment_id": 58497064, "body": "I believe this is related to <a href=\"http://stackoverflow.com/q/23161910/100754\">Using Perl&#39;s ExtUtils::MakeMaker, how can I compile an executable using the same settings as my XS module?</a>. Note, this is not a vote to close as duplicate, just pointing out what I believe is a related question."}], "owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1455293902, "creation_date": 1455293902, "question_id": 35367315, "link": "https://stackoverflow.com/questions/35367315/extutilsmakemaker-compile-helper-utility", "title": "ExtUtils::MakeMaker compile helper utility", "body": "<p>Can I persuade EU::MM to compile a helper utility without looking for XS to build?</p>\n\n<p>For example, given the following:</p>\n\n<pre>\n  Makefile.PL\n  helper.c\n  example.pl\n  lib/App/Example.pm\n</pre>\n\n<p>... a <em>make</em> on the generated Makefile tries to work with a dynamic library:</p>\n\n<pre><code>$:- cat Makefile.PL\nuse ExtUtils::MakeMaker;\nWriteMakefile(\n  NAME              =&gt; 'App::Example',\n  VERSION_FROM      =&gt; 'lib/App/Example.pm', # finds $VERSION\n);\n$:- perl Makefile.PL \nChecking if your kit is complete...\nLooks good\nWriting Makefile for App::Example\n$:- make\ncp lib/App/Example.pm blib/lib/App/Example.pm\nAutoSplitting blib/lib/App/Example.pm (blib/lib/auto/App/Example)\nRunning Mkbootstrap for App::Example ()\nchmod 644 Example.bs\nrm -f blib/arch/auto/App/Example/Example.so\ngcc  -shared .... Example.o  -o blib/arch/auto/App/Example/Example.so   \\\n        \\\n\ngcc: Example.o: No such file or directory\ngcc: no input files\nmake: *** [blib/arch/auto/App/Example/Example.so] Error 1\n</code></pre>\n\n<p>What I'd ultimately like is to have <em>helper</em> built and installed under <code>/usr/bin</code>, <em>example.pl</em> under <code>/usr/sbin</code>, and App::Example under <code>$Config{vendorlib}</code>.  However, I need the pure perl modules \"built\" correctly first.  Playing with C and EXE_FILES directives didn't change this behavior.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1358, "user_id": 4775223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5327698aa4150d6219fb5f9e9501e1a?s=128&d=identicon&r=PG&f=1", "display_name": "Wilmer SH", "link": "https://stackoverflow.com/users/4775223/wilmer-sh"}, "edited": false, "score": 0, "creation_date": 1455283335, "post_id": 35363637, "comment_id": 58433150, "body": "What are you using? C, C++, C#..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455283363, "post_id": 35363637, "comment_id": 58433168, "body": "Question&#39;s tagged <code>perl</code>..."}], "answers": [{"tags": [], "owner": {"reputation": 2786, "user_id": 1263565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a387c319e911adcdd5996d7af0d578?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/1263565/hayden"}, "is_accepted": true, "score": 1, "last_activity_date": 1455283337, "last_edit_date": 1495541734, "creation_date": 1455283337, "answer_id": 35363712, "question_id": 35363637, "link": "https://stackoverflow.com/questions/35363637/how-do-i-join-a-list-with-commas-and-an-and/35363712#35363712", "title": "How do I join a list with commas and an &#39;and&#39;?", "body": "<p>Remember to search for questions before asking one as a similar question has been asked before (but for Python): <a href=\"https://stackoverflow.com/questions/32008737/how-to-efficiently-join-a-list-with-commas-and-add-and-before-the-last-element\">How to efficiently join a list with commas and add &quot;and&quot; before the last element</a></p>\n\n<p>One way you could do this in perl would be:</p>\n\n<pre><code>#!/usr/bin/perl\nuse v5.10;\n\nmy @list = qw( a b c );\n\nsay join ' and ', $#list ? ( join(', ', @list[0..$#list-1]), $list[-1] ) : @list if @list;\n</code></pre>\n\n<p>Which will print:</p>\n\n<ul>\n<li><code>a</code> for list <code>qw( a )</code>; </li>\n<li><code>a and b</code> for the list <code>qw( a b )</code>; and </li>\n<li><code>a, b and c</code> for the list <code>qw( a b c )</code>.</li>\n</ul>\n\n<p>If the list is empty, nothing will be printed.</p>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1455286903, "post_id": 35363867, "comment_id": 58435531, "body": "@Bearhug: What do you mean? We don&#39;t write tests at work :-)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1455284215, "last_edit_date": 1455284215, "creation_date": 1455283786, "answer_id": 35363867, "question_id": 35363637, "link": "https://stackoverflow.com/questions/35363637/how-do-i-join-a-list-with-commas-and-an-and/35363867#35363867", "title": "How do I join a list with commas and an &#39;and&#39;?", "body": "<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse Test::More;\n\nsub nice_join {\n    my @connectors = (q(), (', ') x (@_ - 2), ' and ');\n    return join q(), map shift(@connectors) . $_, @_\n}\n\nis nice_join(qw( a     )), 'a',          'single';\nis nice_join(qw( a b   )), 'a and b',    'double';\nis nice_join(qw( a b c )), 'a, b and c', 'treble';\n\ndone_testing();\n</code></pre>\n\n<p>For Oxford comma, you need to change the array to</p>\n\n<pre><code>my @connectors = (q(), (', ') x (@_ - 2), (',' x (@_ &gt; 2)) . ' and ');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1455284636, "post_id": 35363991, "comment_id": 58434043, "body": "Oxford comma is more tricky: it doesn&#39;t appear in a two member list, and should be followed by a single space :-)"}, {"owner": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "edited": false, "score": 0, "creation_date": 1455284928, "post_id": 35363991, "comment_id": 58434241, "body": "Perhaps change the second function to <code>return join(@_==1?&#39; &#39;:&#39;, &#39;, @_, &quot;and $last&quot;);</code> ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455285948, "post_id": 35363991, "comment_id": 58434901, "body": "I just dropped that part of my answer. The point of my answer was to show a more readable solution, so I&#39;m going to avoid posting something that turned out to be a little complicated that wasn&#39;t requested in the first place."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3995586"}, "edited": false, "score": 0, "creation_date": 1455287235, "post_id": 35363991, "comment_id": 58435763, "body": "Are you serious? That&#39;s clearer than what my <code>join(&#39;, &#39;, @list) =~ s&#47; .* \\K , &#47; and&#47;xr</code> says? 5/6 lines of code? I think maybe you don&#39;t know Perl lol. It&#39;s a happy day today and the sun is shining and I&#39;m smiling and I have to deal with all you miseries here :D"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1455288455, "post_id": 35363991, "comment_id": 58436665, "body": "First of all, yours was posted 20 minutes after mine. It&#39;s not bad (though it&#39;s only 2 statements shorter, not 5). It&#39;s not perfect, though. It requires Perl 5.14 which is not as common as it should be. (I try to avoid it except as an alternative.) Also, handling of empty lists is suboptimal."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1455285997, "last_edit_date": 1455285997, "creation_date": 1455284138, "answer_id": 35363991, "question_id": 35363637, "link": "https://stackoverflow.com/questions/35363637/how-do-i-join-a-list-with-commas-and-an-and/35363991#35363991", "title": "How do I join a list with commas and an &#39;and&#39;?", "body": "<p>In this case, jamming everything in one statement makes the solution harder to read.</p>\n\n<pre><code>sub nice_join {\n    my $last = pop;\n    return $last if !@_;\n    return join(', ', @_) . \" and $last\";\n}\n</code></pre>\n\n<p>If you want something other than undef for no arguments,</p>\n\n<pre><code>sub nice_join {\n    return \"none\" if !@_;\n    my $last = pop;\n    return $last if !@_;\n    return join(', ', @_) . \" and $last\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 1, "creation_date": 1455286871, "post_id": 35364364, "comment_id": 58435505, "body": "this will have issues if the values contain a comma."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3995586"}, "reply_to_user": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455291231, "post_id": 35364364, "comment_id": 58438667, "body": "@neuhaus: Umm, what is the right result if there are already commas? We don&#39;t know do we? So isn&#39;t it about an extra checking first? I&#39;m not sure why you say this"}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1455533314, "post_id": 35364364, "comment_id": 58515801, "body": "The other solutions don&#39;t have problems with entries with a comma in them, they treat them opaquely. That&#39;s why I pointed it out."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3995586"}, "is_accepted": false, "score": 2, "last_activity_date": 1455285380, "creation_date": 1455285380, "answer_id": 35364364, "question_id": 35363637, "link": "https://stackoverflow.com/questions/35363637/how-do-i-join-a-list-with-commas-and-an-and/35364364#35364364", "title": "How do I join a list with commas and an &#39;and&#39;?", "body": "<p>My thinking is that the easiest way to do what you need is to use join to make a comma separated list, and then turn the final comma into <code>and</code></p>\n\n<p>I think this shows</p>\n\n<pre><code>my @list = qw(a b c);\n\nmy $nice = join(', ', @list) =~ s/ .* \\K , / and/xr;\n\nsay $nice;\n</code></pre>\n\n<p><strong>giving</strong></p>\n\n<pre><code>a, b and c\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5799713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b1a7aa3b6b26012202dadd69614dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/5799713/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 828, "favorite_count": 0, "accepted_answer_id": 35363712, "answer_count": 4, "score": 3, "last_activity_date": 1455285997, "creation_date": 1455283139, "last_edit_date": 1455283445, "question_id": 35363637, "link": "https://stackoverflow.com/questions/35363637/how-do-i-join-a-list-with-commas-and-an-and", "title": "How do I join a list with commas and an &#39;and&#39;?", "body": "<p>Given a list <code>(a, b, c)</code> what is the nicest way to create a string where commas separate all the elements, except the last which is separated by an 'and': <code>a, b and c</code>. Ideally this should also work for one and two element lists.</p>\n"}, {"tags": ["regex", "perl", "awk", "sed", "word-list"], "comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1455280336, "post_id": 35362387, "comment_id": 58431205, "body": "What would the expected output be if the line only contained 2 characters?"}], "answers": [{"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 5, "user_id": 5918354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2772239702b00eb39d4e766c4c4253?s=128&d=identicon&r=PG&f=1", "display_name": "crendaline75", "link": "https://stackoverflow.com/users/5918354/crendaline75"}, "edited": false, "score": 0, "creation_date": 1455281988, "post_id": 35362464, "comment_id": 58432286, "body": "@crendaline75 - I&#39;ve deleted my answer now as I don&#39;t want you to change but I&#39;m just very curious: what was it that made you pick <code>sed -e &#39;s&#47;^\\(.*\\)\\(.\\{3\\}\\)$&#47;\\1\\U\\2&#47;&#39; file</code> over the functionally equivalent but more concise <code>sed &#39;s&#47;.\\{3\\}$&#47;\\U&amp;&#47;&#39; file</code> I had posted?"}], "tags": [], "owner": {"reputation": 13433, "user_id": 874178, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AdjGb.jpg?s=128&g=1", "display_name": "sat", "link": "https://stackoverflow.com/users/874178/sat"}, "is_accepted": true, "score": 3, "last_activity_date": 1455280483, "last_edit_date": 1455280483, "creation_date": 1455279391, "answer_id": 35362464, "question_id": 35362387, "link": "https://stackoverflow.com/questions/35362387/uppercase-last-n-characters-of-every-line-in-a-wordlist-regexp/35362464#35362464", "title": "Uppercase last n characters of every line in a wordlist regexp", "body": "<p>Use this GNU <code>sed</code>:</p>\n\n<pre><code>sed -e 's/^\\(.*\\)\\(.\\{3\\}\\)$/\\1\\U\\2/' file\n</code></pre>\n\n<p>With extended regex:</p>\n\n<pre><code>sed -r 's/^(.*)(.{3})$/\\1\\U\\2/' file\n</code></pre>\n\n<p><strong>Test:</strong></p>\n\n<pre><code>$ sed -e 's/^\\(.*\\)\\(.\\{3\\}\\)$/\\1\\U\\2/' file\nthisisatEST\nuppercasethelast3charactERS\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "edited": false, "score": 0, "creation_date": 1455286466, "post_id": 35362732, "comment_id": 58435254, "body": "A simpler solution might be:  <code>sed &#39;&#47;.\\{3\\}$&#47;!b;s&#47;&#47;\\n&amp;&#47;;h;y&#47;abcdefghijklmnopqrstuvwxyz&#47;ABCDEFGH&zwnj;&#8203;IJKLMNOPQRSTUVWXYZ&#47;;&zwnj;&#8203;H;g;s&#47;\\n.*\\n&#47;&#47;&#39; file</code>"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "edited": false, "score": 0, "creation_date": 1455289158, "post_id": 35362732, "comment_id": 58437174, "body": "@potong: This solution works too, but I don&#39;t see in what it is more simple."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1455280584, "last_edit_date": 1455280584, "creation_date": 1455280249, "answer_id": 35362732, "question_id": 35362387, "link": "https://stackoverflow.com/questions/35362387/uppercase-last-n-characters-of-every-line-in-a-wordlist-regexp/35362732#35362732", "title": "Uppercase last n characters of every line in a wordlist regexp", "body": "<p>Without the <code>\\U</code> feature (that is a GNU feature), it's a bit less handy:</p>\n\n<pre><code>sed -e 'h;s/.\\{3\\}$//;x;s/.*\\(.\\{3\\}\\)/\\1/;y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/;H;g;s/\\n//;' file\n</code></pre>\n\n<p>details:</p>\n\n<pre><code>h              # copy the pattern space into the buffer space\ns/.\\{3\\}$//    # remove the 3 last characters (in the pattern space)\nx              # exchange the pattern space and the buffer space\ns/.*\\(.\\{3\\}\\)/\\1/ # remove all characters except the three last\n# translate lower case to upper case letters \ny/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/\nH  # append the pattern space to the buffer space\ng  # replace the pattern space with the buffer space\ns/\\n// # remove the newline character\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 2, "last_activity_date": 1455289214, "last_edit_date": 1455289214, "creation_date": 1455288391, "answer_id": 35365411, "question_id": 35362387, "link": "https://stackoverflow.com/questions/35362387/uppercase-last-n-characters-of-every-line-in-a-wordlist-regexp/35365411#35365411", "title": "Uppercase last n characters of every line in a wordlist regexp", "body": "<p>Since you tagged perl, I'm posting a perl solution...</p>\n\n<pre><code># with RegEx\nperl -nle '/(.*)(.{3})$/; print $1 . uc $2;' file.txt\n# formatted with n at the end\ncat file.txt | perl -nle 'print $1 . uc $2 if /(.*)(.{3})$/;'\n\n# or without RegEx\nperl -nle '$n=3; print substr($_,0,-$n).uc substr($_,length($_)-$n);' file.txt\n# formated with n at the end\ncat file.txt| perl -nle 'print substr($_,0,-$n).uc substr($_,length($_)-$n) if $n=3;'\n</code></pre>\n\n<p>The <code>substr</code> solution will be a <em>lot</em> faster than doing regex captures. </p>\n"}], "owner": {"reputation": 5, "user_id": 5918354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2772239702b00eb39d4e766c4c4253?s=128&d=identicon&r=PG&f=1", "display_name": "crendaline75", "link": "https://stackoverflow.com/users/5918354/crendaline75"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 35362464, "answer_count": 3, "score": -5, "last_activity_date": 1455307666, "creation_date": 1455279146, "last_edit_date": 1455279318, "question_id": 35362387, "link": "https://stackoverflow.com/questions/35362387/uppercase-last-n-characters-of-every-line-in-a-wordlist-regexp", "title": "Uppercase last n characters of every line in a wordlist regexp", "body": "<p>I'm looking for a way to uppercase the last n characters of every line in a wordlist, using regular expression. Example with n=3:</p>\n\n<p>Input:</p>\n\n<pre><code>thisisatest\nuppercasethelast3characters\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>thisisatEST\nuppercasethelast3charactERS\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455276696, "post_id": 35361302, "comment_id": 58428887, "body": "I&#39;m afraid you&#39;re going to have to expand a bit to explain what algorithm you&#39;d be using. Given a selection of inputs, what&#39;s the desired outputs?"}, {"owner": {"reputation": 1, "user_id": 5918118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f163f548ea12ad7d619abd3a527442a4?s=128&d=identicon&r=PG&f=1", "display_name": "D4NTE", "link": "https://stackoverflow.com/users/5918118/d4nte"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455277122, "post_id": 35361302, "comment_id": 58429141, "body": "I want this assignment to be made : $numbers = &quot;1+1+1:1+2:2+1&quot;     when i use this subroutine &amp;partition(3)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455277185, "post_id": 35361302, "comment_id": 58429188, "body": "And what is the problem you are having with making this modification?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455277600, "post_id": 35361302, "comment_id": 58429438, "body": "Also - can you expand on what you mean by &#39;doesn&#39;t find every possible combination&#39;? What would you be seeking there?"}, {"owner": {"reputation": 1, "user_id": 5918118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f163f548ea12ad7d619abd3a527442a4?s=128&d=identicon&r=PG&f=1", "display_name": "D4NTE", "link": "https://stackoverflow.com/users/5918118/d4nte"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455279222, "post_id": 35361302, "comment_id": 58430514, "body": "By doesnt find every possible combination i mean it finds 2+1+1 but it doesnt find 1+2+1 or 1+1+2."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455279406, "post_id": 35361302, "comment_id": 58430642, "body": "So for each &#39;returned value&#39; you want to permute them?"}, {"owner": {"reputation": 1, "user_id": 5918118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f163f548ea12ad7d619abd3a527442a4?s=128&d=identicon&r=PG&f=1", "display_name": "D4NTE", "link": "https://stackoverflow.com/users/5918118/d4nte"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455280204, "post_id": 35361302, "comment_id": 58431123, "body": "Exactly, i am new at Perl sorry i bothered you a lot but how do i do that?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455280324, "post_id": 35361302, "comment_id": 58431190, "body": "Fortunately, this is a <a href=\"http://learn.perl.org/faq/perlfaq4.html#How-do-I-permute-N-elements-of-a-list\" rel=\"nofollow noreferrer\">frequently asked question</a>"}, {"owner": {"reputation": 1, "user_id": 5918118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f163f548ea12ad7d619abd3a527442a4?s=128&d=identicon&r=PG&f=1", "display_name": "D4NTE", "link": "https://stackoverflow.com/users/5918118/d4nte"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455280585, "post_id": 35361302, "comment_id": 58431374, "body": "Thanks for all your help have a good day sir"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1455291328, "last_edit_date": 1455291328, "creation_date": 1455290995, "answer_id": 35366330, "question_id": 35361302, "link": "https://stackoverflow.com/questions/35361302/how-to-find-all-possible-partitions-of-a-number/35366330#35366330", "title": "How to Find All Possible Partitions of A Number", "body": "<p>Method 1:</p>\n\n<pre><code>sub partition {\n    my @partitions = join(\"+\", @_);\n\n    my ( $largest, @rest ) = @_;\n    my $min = $rest[0] || 1;\n    my $max = int( $largest / 2 );\n    for my $n ( $min .. $max ) {\n        push @partitions, partition( $largest - $n, $n, @rest );\n    }\n\n    return join(':', @partitions);\n}\n</code></pre>\n\n<p>Method 2: (Uses less memory)</p>\n\n<pre><code>sub partition {\n    my @partitions;\n\n    local *_partition = sub {\n        push @partitions, join(\"+\", @_);\n\n        my ( $largest, @rest ) = @_;\n        my $min = $rest[0] || 1;\n        my $max = int( $largest / 2 );\n        for my $n ( $min .. $max ) {\n            _partition( $largest - $n, $n, @rest );\n        }\n    };\n\n    _partition(@_);\n    return join(':', @partitions);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5918118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f163f548ea12ad7d619abd3a527442a4?s=128&d=identicon&r=PG&f=1", "display_name": "D4NTE", "link": "https://stackoverflow.com/users/5918118/d4nte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1455291328, "creation_date": 1455276006, "last_edit_date": 1455276813, "question_id": 35361302, "link": "https://stackoverflow.com/questions/35361302/how-to-find-all-possible-partitions-of-a-number", "title": "How to Find All Possible Partitions of A Number", "body": "<pre><code>sub partition {\n    print \"@_\\n\";\n    my ( $largest, @rest ) = @_;\n    my $min = $rest[0] || 1;\n    my $max = int( $largest / 2 );\n    for my $n ( $min .. $max ) {\n        partition( $largest - $n, $n, @rest );\n    }\n}\n</code></pre>\n\n<p>I found this code on internet that prints all possible partitions if used as\n<code>&amp;partition(number)</code> but i want it to assign all possible partitions to a \nvariable called <code>$numbers</code>. Can any one modify this to make it like this:</p>\n\n<pre><code>&amp;partition(3);\n#and assigns them to $numbers like this\n$numbers = \"1+1+1:1+2:2+1\";\n</code></pre>\n\n<p>The code above prints every possible partition but it doesn't find\nevery possible combination.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1455267293, "post_id": 35358008, "comment_id": 58422810, "body": "<code>use strict; use warnings</code>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5917411"}, "edited": false, "score": 0, "creation_date": 1455266566, "post_id": 35358110, "comment_id": 58422419, "body": "Well if string length is more than 4 it goes to <code>@mas4</code> if it&#39;s less or equal to 4 it goes to <code>mas5</code> this part works perfectly. I didn&#39;t miss it, I want to compare only numbers."}], "tags": [], "owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "is_accepted": false, "score": 0, "last_activity_date": 1455267513, "last_edit_date": 1455267513, "creation_date": 1455266408, "answer_id": 35358110, "question_id": 35358008, "link": "https://stackoverflow.com/questions/35358008/cant-make-array-from-numbers-in-while-cycle/35358110#35358110", "title": "Can&#39;t make array from numbers in while cycle", "body": "<p>All the items are put into <code>@mas4</code> or <code>@mas5</code> arrays as the first or second conditions are always satisfied, so any <code>else</code> block couldn't be ever reached:</p>\n\n<pre><code>if(length($reiksme) &gt; 4) { my @mas4=push(@mas4,$reiksme); }\nelsif(length($reiksme) &lt;= 4) { my @mas5=push(@mas5,$reiksme); }\n</code></pre>\n\n<p>There can't be any else for them, either variable is bigger than 4 or lower or equal than 4.</p>\n\n<p>Additionally, for the <code>$reiksme &lt; 10</code> you probably miss <code>length()</code> around <code>$reiksme</code>.</p>\n\n<p>Last but not least - you don't need to assign the result of push to other variable, the original one which you pass as parameter is modified.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5917411"}, "edited": false, "score": 0, "creation_date": 1455269839, "post_id": 35358860, "comment_id": 58424368, "body": "Genius! thank you very much. Where I could learn more about all those <code>&#47;\\d&#47;</code> things? :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3995586"}, "edited": false, "score": 0, "creation_date": 1455272171, "post_id": 35358860, "comment_id": 58425929, "body": "@TomasVilemaitis:  All of the Perl documents are installed together with Perl itself. You can run <code>perldoc perlre</code> or look at the same information <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">on line here</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5917411"}, "edited": false, "score": 0, "creation_date": 1455274629, "post_id": 35358860, "comment_id": 58427547, "body": "and what <code>=~</code> means? :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455274652, "post_id": 35358860, "comment_id": 58427555, "body": "Apply this regex comparison to the thing on the left hand side. Documented in <code>perldoc perlop</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3995586"}, "edited": false, "score": 0, "creation_date": 1455275293, "post_id": 35358860, "comment_id": 58427983, "body": "@TomasVilemaitis: You write <code>STRING =~ PATTERN</code> to test whether a string matches a regular expression pattern. The result is a true or a false depending on whether the string matched. In the above <code>$reiksme =~ &#47;\\d&#47;</code> it is testing whether <code>$reiksme</code> matches the pattern <code>&#47;\\d&#47;</code>, that is to say it contains a numerical digit (anywhere)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3995586"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455275525, "post_id": 35358860, "comment_id": 58428132, "body": "@sobrique: Why is your answer answer so stiff? I think our questioner is from Lithuania and may also need help with English, but you explain one difficult idea in terms of another"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3995586"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455275586, "post_id": 35358860, "comment_id": 58428179, "body": "@sobrique: I&#39;m sorry, do I mean stern, not stiff. I&#39;m sorry"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455275743, "post_id": 35358860, "comment_id": 58428282, "body": "Because it&#39;s slightly politer than &quot;RTFM&quot; and explaining it in detail is a separate question entirely."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3995586"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455275948, "post_id": 35358860, "comment_id": 58428405, "body": "@sobrique: So you can be rude or stern, but not caring. Agh! All you people care about is your fame. I don&#39;t think I like you Mr Sobrique"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455276953, "post_id": 35358860, "comment_id": 58429037, "body": "A more detailed explanation of terms - requested for clarification in comments - would be better edited into the answer, as comments are ephemeral. Even if that is just a reference to the appropriate piece of documentation."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3995586"}, "is_accepted": true, "score": 0, "last_activity_date": 1455272102, "last_edit_date": 1455272102, "creation_date": 1455268916, "answer_id": 35358860, "question_id": 35358008, "link": "https://stackoverflow.com/questions/35358008/cant-make-array-from-numbers-in-while-cycle/35358860#35358860", "title": "Can&#39;t make array from numbers in while cycle", "body": "<p>I've tidied your program a little so that I can see properly where the blocks start and end. I've also added <code>use strict</code> and <code>use warnings</code>, which are essential, as someone commented.</p>\n\n<p>As Zbynek wrote, every word is either longer than four characters or four characters and shorter so one of the first two conditions will always succeed and, the third condition is never tested.</p>\n\n<p>The easiest way to test whether a string contains a number is using a regular expression. I've used <code>$reiksme =~ /\\d/ and length $reiksme == 1</code> where the regular expression <code>/\\d/</code> tests whether the string contains a digit, and if it's only one character long then it must be 0 to 9. I've also moved the test to the beginning so that it isn't overridden by the other two tests</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $eilute1 = \"Sveiki man yra 10 metu as buvau gimtadienyje pries 2 metus\";\nmy $eilute2 = \"Sveiki man sueis 15 metu o kazkada buvo tik 5\";\n\nprint \"$eilute1\\n\";\nprint \"$eilute2\\n\";\nprint \"\\n\";\n\nmy @mas1 = split ' ', $eilute1;\nmy @mas2 = split ' ', $eilute2;\n\nprint \"Pirmas masyvas\\n@mas1\\nAntras masyvas\\n@mas2\\n\";\nprint \"\\n\";\nprint \"Pirmas naujas masyvas\\n\";\n\nmy @mas3 = ( @mas1, @mas2 );\nprint \"@mas3\\n\";\n\nmy (@mas4, @mas5, @mas6);\n\nfor my $reiksme ( @mas3 ) {\n\n    if ( $reiksme =~ /\\d/ and length $reiksme == 1   ) {\n        push @mas6, $reiksme;\n    }\n    elsif ( length($reiksme) &gt; 4 ) {\n        push @mas4, $reiksme;\n    }\n    elsif ( length($reiksme) &lt;= 4 ) {\n        push @mas5, $reiksme;\n    }\n    else {\n        print \" ## Error ##\\n\";\n    }\n}\n\nprint \"\\n\";\n\nprint \"4 - @mas4\\n\\n\";\nprint \"5 - @mas5\\n\\n\";\nprint \"6 - @mas6\\n\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Sveiki man yra 10 metu as buvau gimtadienyje pries 2 metus\nSveiki man sueis 15 metu o kazkada buvo tik 5\n\nPirmas masyvas\nSveiki man yra 10 metu as buvau gimtadienyje pries 2 metus\nAntras masyvas\nSveiki man sueis 15 metu o kazkada buvo tik 5\n\nPirmas naujas masyvas\nSveiki man yra 10 metu as buvau gimtadienyje pries 2 metus Sveiki man sueis 15 metu o kazkada buvo tik 5\n\n4 - Sveiki buvau gimtadienyje pries metus Sveiki sueis kazkada\n\n5 - man yra 10 metu as man 15 metu o buvo tik\n\n6 - 2 5\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5917411"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 35358860, "answer_count": 2, "score": 0, "last_activity_date": 1455272102, "creation_date": 1455266002, "question_id": 35358008, "link": "https://stackoverflow.com/questions/35358008/cant-make-array-from-numbers-in-while-cycle", "title": "Can&#39;t make array from numbers in while cycle", "body": "<p>I'm having a problem with my array. I'm trying to make new array's from <code>@mas3</code> , The problem is with <code>@mas6</code> my program doesn't add any numbers that is below 10 to the array. But as you can see there is few numbers in the array <code>@mas3</code> that are lower than 10.</p>\n\n<pre><code>#!/usr/bin/perl\n\n$eilute1 = \"Sveiki man yra 10 metu as buvau gimtadienyje pries 2 metus\";\n$eilute2 = \"Sveiki man sueis 15 metu o kazkada buvo tik 5\";\n\nprint \"$eilute1\";\nprint \"$eilute2\";\nprint \"\\n\";\n@mas1=split(\" \",$eilute1);\n@mas2=split(\" \",$eilute2);\nprint \"Pirmas masyvas\\n@mas1\\nAntras masyvas\\n@mas2\\n\";\nprint \"\\n\";\nprint \"Pirmas naujas masyvas\\n\";\nmy @mas3=(@mas1,@mas2);\nprint \"@mas3\\n\";\nmy $i=0;\nmy $x=scalar(@mas3);\nwhile($i &lt; $x){\n\nmy $reiksme=@mas3[$i];\n\nif(length($reiksme) &gt; 4) { my @mas4=push(@mas4,$reiksme); }\nelsif(length($reiksme) &lt;= 4) { my @mas5=push(@mas5,$reiksme); }\nelsif($reiksme &lt; 10) { my @mas6=push(@mas6,$reiksme); }\nelse { print \" ## Error ##\\n\" } ;\n$i++;\n}\nprint \"\\n\";\nprint \"@mas4\\n\";\nprint \"@mas5\\n\";\nprint \"@mas6\\n\";\n</code></pre>\n"}]