[{"tags": ["perl", "reference", "closures", "operator-overloading"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1559167030, "post_id": 56368602, "comment_id": 99340703, "body": "Using type-based polymorphism is inherently broken in Perl. That&#39;s why <code>keys($ref)</code> and smartmatching are failed experiments. For example, what if you have an object that overloaded both numification and <code>&amp;{}</code>? You could even have a sub named <code>123</code>, a situation in which <code>123</code> becomes a valid reference to the sub."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559170758, "post_id": 56368639, "comment_id": 99341672, "body": "Now, it returns false for things that can be treated as a subroutine, and it can return true for things that are integers. (If you want to support overloaded subification, you surely want to support overloaded numification)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559170875, "post_id": 56368639, "comment_id": 99341697, "body": "@ikegami If you mean blessed refs that could also be used as integers, sure, there is nothing you can do about that when making this distinction. But I don&#39;t know what &quot;could be treated as a subroutine&quot; would fail the check."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559170899, "post_id": 56368639, "comment_id": 99341705, "body": "Symbolic refs. ."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1559170978, "post_id": 56368639, "comment_id": 99341715, "body": "@ikegami I&#39;m going to say that accepting a symbolic ref is something no API should endeavor to do, or could sanely do."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1559171115, "post_id": 56368639, "comment_id": 99341737, "body": "No, what a Perl API shouldn&#39;t do is accept something that can be either an integer or sub."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1559172486, "post_id": 56368639, "comment_id": 99342025, "body": "in a perfect world, yes :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1559180095, "post_id": 56368639, "comment_id": 99343537, "body": "@ysth That&#39;s just horrible (int-or-code interface) in any world, no? I&#39;d say, more so in the real world."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1559202461, "post_id": 56368639, "comment_id": 99349422, "body": "It&#39;s actually quite fine if you don&#39;t go this far to DWIM, the problem is trying to guess what the user meant to pass. Accept only an unblessed coderef and treat everything else as an integer, you can use the simple ref check in the OP, don&#39;t give the user any expectation of other behavior. No complications, no ambiguity."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 5, "last_activity_date": 1559170572, "last_edit_date": 1559170572, "creation_date": 1559164623, "answer_id": 56368639, "question_id": 56368602, "link": "https://stackoverflow.com/questions/56368602/how-to-check-if-a-perl-scalar-can-be-treated-as-a-subroutine/56368639#56368639", "title": "How to check if a Perl scalar can be treated as a subroutine?", "body": "<p>You can check by attempting to dereference it, but not run it, as a subroutine.</p>\n\n<pre><code>my $is_code = ref $ref &amp;&amp; do { local $@; eval { $ref = \\&amp;$ref; 1 } };\n</code></pre>\n\n<p>In this case you don't care what the error is, just whether one occurred. <code>\\&amp;$ref</code> is sufficient, but by assigning the result back to <code>$ref</code> you can avoid invoking the overload a second time when you call that coderef. Localizing <code>$@</code> is just for politeness.</p>\n\n<p>As used in <a href=\"https://metacpan.org/source/Autoload::AUTOCAN#L48\" rel=\"nofollow noreferrer\">my Autoload::AUTOCAN module</a>, with original credit to haarg.</p>\n"}], "owner": {"reputation": 45599, "user_id": 27727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05b48b72766177b3b0a6ff4afdb70790?s=128&d=identicon&r=PG", "display_name": "derobert", "link": "https://stackoverflow.com/users/27727/derobert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 56368639, "answer_count": 1, "score": 6, "last_activity_date": 1559170572, "creation_date": 1559164391, "question_id": 56368602, "link": "https://stackoverflow.com/questions/56368602/how-to-check-if-a-perl-scalar-can-be-treated-as-a-subroutine", "title": "How to check if a Perl scalar can be treated as a subroutine?", "body": "<p>I have an API that originally took just a plain constant integer, but I am extending it so it can instead be computed when used by passing a subroutine reference instead. To keep backwards compatibility, I'm testing if it's a code reference:</p>\n\n<pre><code>'CODE' eq ref($var)\n    ? $var-&gt;()\n    : $var;\n</code></pre>\n\n<p>but I realized that excludes objects that act as subroutines. Something like this:</p>\n\n<pre><code>package Foo {\n    sub new { bless {}, 'Foo' }\n    use overload '&amp;{}' =&gt; sub { sub { \"Hello, world.\" } };\n}\n</code></pre>\n\n<p>I could just try to call it inside an <code>eval</code> block, but then would have to carefully check <code>$@</code> to determine if it failed because it wasn't a subroutine reference (thus falling back to it being a simple scalar) vs. the called subroutine failed for some reason (error should be propagated). </p>\n\n<p>In this case, of course, since the old value was a non-reference, I could just presume any reference is callable, but I'd like a general solution (as I've used this approach before when it used to be a hashref). Is there a simple and reliable way to test if a scalar is \u201cexecutable\u201d?</p>\n"}, {"tags": ["bash", "shell", "perl", "sh"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 3038195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebefff27a5ec4d835620385e7a2420f6?s=128&d=identicon&r=PG&f=1", "display_name": "user3038195", "link": "https://stackoverflow.com/users/3038195/user3038195"}, "edited": false, "score": 0, "creation_date": 1559150225, "post_id": 56365485, "comment_id": 99334398, "body": "Thanks for your help, the queuename will always be &quot;queuename=&#39;any 8 digit name with combination of [a-z] and [0-9]&#39;&quot;. Is there any way to make the changes inside the file(file.txt) in the same command line, instead of redirecting it to a different file and move back . Thanks again."}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "reply_to_user": {"reputation": 21, "user_id": 3038195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebefff27a5ec4d835620385e7a2420f6?s=128&d=identicon&r=PG&f=1", "display_name": "user3038195", "link": "https://stackoverflow.com/users/3038195/user3038195"}, "edited": false, "score": 0, "creation_date": 1559152616, "post_id": 56365485, "comment_id": 99335379, "body": "You really don&#39;t want to make the changes directly in the file.  Doing so provides you with no &quot;escape hatch&quot; and can easily lead to loss of data.  Filtering your data to a temporary file and then overwriting the original data is the proper (TM) way to do this sort of thing."}], "tags": [], "owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "is_accepted": false, "score": 1, "last_activity_date": 1559149656, "creation_date": 1559149656, "answer_id": 56365485, "question_id": 56365448, "link": "https://stackoverflow.com/questions/56365448/how-to-convert-parts-of-a-line-to-uppercase-in-a-file/56365485#56365485", "title": "How to convert parts of a line to uppercase in a file", "body": "<pre><code>awk '$1 == \"queuename\" {$2 = toupper($2)}1' FS== OFS== input-file\n</code></pre>\n\n<p>Note that this will fail if there are 2 <code>=</code> in the line, and only the values between the first 2 <code>=</code> will be uppercased.  If that's an issue, it's an easy fix (left as an exercise for the reader).</p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 1, "last_activity_date": 1559150093, "creation_date": 1559150093, "answer_id": 56365596, "question_id": 56365448, "link": "https://stackoverflow.com/questions/56365448/how-to-convert-parts-of-a-line-to-uppercase-in-a-file/56365596#56365596", "title": "How to convert parts of a line to uppercase in a file", "body": "<p>A simple Perl solution:</p>\n\n<pre><code>perl -i -pe 's/^\\s*queuename=\\K(.*)/\\U$1/' file.txt\n</code></pre>\n\n<p>(Remove <code>-i</code> if you don't want to modify the file in place.)</p>\n"}, {"tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1559150483, "last_edit_date": 1559150483, "creation_date": 1559150294, "answer_id": 56365637, "question_id": 56365448, "link": "https://stackoverflow.com/questions/56365448/how-to-convert-parts-of-a-line-to-uppercase-in-a-file/56365637#56365637", "title": "How to convert parts of a line to uppercase in a file", "body": "<p>With GNU sed:</p>\n\n<pre><code>sed -i 's/\\(^[[:blank:]]*queuename=\\)\\(.*\\)/\\1\\U\\2/' file.txt\n</code></pre>\n\n<p>This uses two captures groups and the <code>\\U</code> sequence to toggle uppercase substitution for the second group.</p>\n"}, {"tags": [], "owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "is_accepted": false, "score": 0, "last_activity_date": 1559153866, "creation_date": 1559153866, "answer_id": 56366431, "question_id": 56365448, "link": "https://stackoverflow.com/questions/56365448/how-to-convert-parts-of-a-line-to-uppercase-in-a-file/56366431#56366431", "title": "How to convert parts of a line to uppercase in a file", "body": "<p>You can also use the <code>sed</code> conversion <code>\\U</code> to convert the portions of the matched pattern with the substitution command to uppercase. To covert everything following the <code>'='</code> sign you could use, e.g.</p>\n\n<pre><code>sed '/^queuename=/s/=.*$/\\U&amp;/' filename\n</code></pre>\n\n<p>To edit the file in-place, include the <code>-i</code> option, e.g.</p>\n\n<pre><code>sed -i '/^queuename=/s/=.*$/\\U&amp;/' filename\n</code></pre>\n\n<p><strong>Example Use/Output</strong></p>\n\n<pre><code>$ echo \"queuename=sp00245b\" | sed '/^queuename=/s/=.*$/\\U&amp;/'\nqueuename=SP00245B\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3038195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebefff27a5ec4d835620385e7a2420f6?s=128&d=identicon&r=PG&f=1", "display_name": "user3038195", "link": "https://stackoverflow.com/users/3038195/user3038195"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1559153866, "creation_date": 1559149468, "last_edit_date": 1559150328, "question_id": 56365448, "link": "https://stackoverflow.com/questions/56365448/how-to-convert-parts-of-a-line-to-uppercase-in-a-file", "title": "How to convert parts of a line to uppercase in a file", "body": "<p>I have a file <code>file.txt</code> and it has the lines below. I want the queuename to be converted to uppercase, like this: <code>queuename=SP00245B</code></p>\n\n<pre><code>    # Queue name\n    #\n    queuename=sp00245b\n</code></pre>\n"}, {"tags": ["perl", "spreadsheet", "xls"], "comments": [{"owner": {"reputation": 61, "user_id": 11573420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aVlf4nyDCak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyzTl7-o8p2NcvIolb2pPiTgKUCg/mo/photo.jpg?sz=128", "display_name": "PUNEET NEMADE", "link": "https://stackoverflow.com/users/11573420/puneet-nemade"}, "edited": false, "score": 0, "creation_date": 1559139923, "post_id": 56362825, "comment_id": 99328978, "body": "link for the writeExcel module <a href=\"https://metacpan.org/pod/Spreadsheet::WriteExcel\" rel=\"nofollow noreferrer\">metacpan.org/pod/Spreadsheet::WriteExcel</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1559140385, "post_id": 56362825, "comment_id": 99329262, "body": "Do you want to add a row at the end or in the middle?"}, {"owner": {"reputation": 61, "user_id": 11573420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aVlf4nyDCak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyzTl7-o8p2NcvIolb2pPiTgKUCg/mo/photo.jpg?sz=128", "display_name": "PUNEET NEMADE", "link": "https://stackoverflow.com/users/11573420/puneet-nemade"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1559151027, "post_id": 56362825, "comment_id": 99334763, "body": "I want to add the row in the middle"}], "owner": {"reputation": 61, "user_id": 11573420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aVlf4nyDCak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyzTl7-o8p2NcvIolb2pPiTgKUCg/mo/photo.jpg?sz=128", "display_name": "PUNEET NEMADE", "link": "https://stackoverflow.com/users/11573420/puneet-nemade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561541249, "creation_date": 1559139787, "last_edit_date": 1561541249, "question_id": 56362825, "link": "https://stackoverflow.com/questions/56362825/how-can-i-add-a-new-row-between-two-existing-rows-in-a-excel-file-using-perl", "title": "How can I add a new row between two existing rows in a excel file using perl?", "body": "<p>I want to modify an existing excel file using Perl. So, right now I am using the Spreadsheet::ParseExcel::SaveParser for that. Using the Addcell command I am able to modify any cell. </p>\n\n<p>But now I want to add new rows between two existing rows which I am unable to do. I have provided a code below. </p>\n\n<p>So, using this I can use the commands of the module Spreadsheet::WriteExcel too. Please suggest a command from the module Spreadsheet::ParseExcel::SaveParser or Spreadsheet::WriteExcel which can help me add a new row between two existing rows. </p>\n\n<p>This question is cross-posted on perlmonks :\n<a href=\"https://perlmonks.org/?node_id=11101921\" rel=\"nofollow noreferrer\">https://perlmonks.org/?node_id=11101921</a></p>\n\n<pre><code>my $workbook = $template-&gt;SaveAs('newfile.xls');\n\nmy $worksheet1  = $workbook-&gt;sheets(0);\nmy $north = $workbook-&gt;add_worksheet('North');\n\n$worksheet1-&gt;write($row+2, $col, \"World2\");\n\n$workbook-&gt;close();\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 17497, "user_id": 23915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e935da7b67c03dd56f385b031f485c?s=128&d=identicon&r=PG", "display_name": "Unixmonkey", "link": "https://stackoverflow.com/users/23915/unixmonkey"}, "edited": false, "score": 0, "creation_date": 1559139589, "post_id": 56362405, "comment_id": 99328777, "body": "Is it necessary to the same file as you are reading from? Either store the contents in memory, and write when done, or write to a different file, and copy it over the original when done."}, {"owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "reply_to_user": {"reputation": 17497, "user_id": 23915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e935da7b67c03dd56f385b031f485c?s=128&d=identicon&r=PG", "display_name": "Unixmonkey", "link": "https://stackoverflow.com/users/23915/unixmonkey"}, "edited": false, "score": 0, "creation_date": 1559139698, "post_id": 56362405, "comment_id": 99328830, "body": "@Unixmonkey, Yes. Because my source file is too large and storing the contents of whole file in memory is not efficient for system."}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1559139928, "post_id": 56362405, "comment_id": 99328981, "body": "I would generally use <a href=\"https://perlmaven.com/calculate-bank-balance-take-two-dbd-csv\" rel=\"nofollow noreferrer\">DBD::CSV</a>, though I believe that loads the contents of the file into memory. And, generally, that <i>is</i> efficient, even at hundreds of MB."}, {"owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1559140003, "post_id": 56362405, "comment_id": 99329021, "body": "@Tanktalus, Could you please help me with the code in the form of answer?"}, {"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "edited": false, "score": 1, "creation_date": 1559142002, "post_id": 56362405, "comment_id": 99330173, "body": "Do you have Text::CSV_XS module installed on the server?"}, {"owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "reply_to_user": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "edited": false, "score": 0, "creation_date": 1559142815, "post_id": 56362405, "comment_id": 99330603, "body": "@Andrey, No. See output: Can&#39;t locate Text/CSV.pm"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1559143551, "post_id": 56362405, "comment_id": 99331029, "body": "<a href=\"https://metacpan.org/pod/Text::AutoCSV\" rel=\"nofollow noreferrer\">Text::AutoCSV</a> is another handy one, especially the <code>field_add_computed</code> method."}], "answers": [{"comments": [{"owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "edited": false, "score": 0, "creation_date": 1559140877, "post_id": 56363022, "comment_id": 99329559, "body": "Getting below error: Can&#39;t locate Tie/Array/CSV.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at test2.pl line 1. BEGIN failed--compilation aborted at test2.pl line 1.  I don&#39;t have access to install anything on server, even perl modules, Please suggest another way."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "reply_to_user": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "edited": false, "score": 1, "creation_date": 1559141202, "post_id": 56363022, "comment_id": 99329758, "body": "I refuse to. Find a way to install the module. <a href=\"https://perlmonks.org/?node_id=693828\" rel=\"nofollow noreferrer\">&quot;Yes, even you can use CPAN&quot;</a> Copy-paste the module source code as a last resort."}, {"owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "edited": false, "score": 0, "creation_date": 1559141363, "post_id": 56363022, "comment_id": 99329844, "body": "I already tried CPAN. See below output: cpan -i Tie::Array::CSV -bash: cpan: command not found  This is high security banking server, so no way to install anything."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "reply_to_user": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "edited": false, "score": 1, "creation_date": 1559141506, "post_id": 56363022, "comment_id": 99329916, "body": "Look, you <b>can</b> &quot;install&quot; your script. You do have write permission <b>somewhere</b>. Copy the dependent modules into the same place."}, {"owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "edited": false, "score": 0, "creation_date": 1559141805, "post_id": 56363022, "comment_id": 99330067, "body": "Yes, I can install. Please let me know how can I install without CPAN, because CPAN is not allowed but manual installation is allowed."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "edited": false, "score": 0, "creation_date": 1559142113, "post_id": 56363022, "comment_id": 99330235, "body": "@PrakashG It is incorrect to install CPAN modules without a CPAN client, or your distro&#39;s package manager. They handle required things like dependencies and correct install locations. Since Tie::Array::CSV is pure perl and Text::CSV has a pure perl backend option (Text::CSV_PP) then it could be <a href=\"https://metacpan.org/pod/App::FatPacker\" rel=\"nofollow noreferrer\">fatpacked</a>, by installing them first on a different machine if necessary and fatpacking them into a script."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 2, "last_activity_date": 1559140393, "creation_date": 1559140393, "answer_id": 56363022, "question_id": 56362405, "link": "https://stackoverflow.com/questions/56362405/how-to-read-csv-file-in-perl-to-get-required-fields-only-perform-some-operatio/56363022#56363022", "title": "How to read .csv file in Perl to get required fields only, perform some operation and write back the results to same file?", "body": "<pre><code>use Tie::Array::CSV qw();\ntie my @file, 'Tie::Array::CSV', 'servers.csv';\n\nfor my $server (@file) {\n    next if 'ip' eq $server-&gt;[0]; # skip table header\n    my $ping_result = rand &gt; 0.5 ? 'Yes' : 'No'; # fake ping\n    $server-&gt;[1] = $ping_result; # update file\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1559232073, "post_id": 56364274, "comment_id": 99363784, "body": "It&#39;s justified because you did not pay attention to the requirements in the comments attached to the question. Quoted for your convenience: &gt;&gt; Is it necessary to the same file as you are reading from? &gt; Yes."}, {"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1559234426, "post_id": 56364274, "comment_id": 99364911, "body": "Yes, because it is too large to store in memory. My solution does not store the file in memory."}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": -1, "last_activity_date": 1559144672, "creation_date": 1559144672, "answer_id": 56364274, "question_id": 56362405, "link": "https://stackoverflow.com/questions/56362405/how-to-read-csv-file-in-perl-to-get-required-fields-only-perform-some-operatio/56364274#56364274", "title": "How to read .csv file in Perl to get required fields only, perform some operation and write back the results to same file?", "body": "<p>I think this does what you want:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Net::Ping;\nuse Data::Dumper;\nuse File::Copy;\n\nmy $file = 'servers.csv';\nmy $fileOut = 'serversOut.csv';\n\nmy @filedata;\nopen(my $fh, '&lt;', $file) or die \"Can't read file '$file' [$!]\\n\";\nopen(my $fhOut, '&gt;', $fileOut) or die \"Can't read file '$fileOut' [$!]\\n\";\nwhile (my $line = &lt;$fh&gt;) {\n    chomp $line;\n    my @fields = split(/,/, $line);\n\n    my $p = Net::Ping-&gt;new();\n    if($fields[0] eq 'ip') {\n        print \"Header $fields[0]\\n\";\n        print $fhOut 'ping, ' . $line . \"\\n\";\n        next;\n    }\n    if ($p-&gt;ping($fields[0])) {\n        print \"Pinging $fields[0] - yes\\n\";\n        print $fhOut 'Yes, ' . $line . \"\\n\";\n    }\n    else {      \n        print \"Pinging $fields[0] - no\\n\";\n        print $fhOut 'No, ' . $line . \"\\n\";\n    }\n}\nclose $fh;\nclose $fhOut;   \n\nmove($fileOut, $file) or die \"Can't move '$fileOut' file '$file' [$!]\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 1, "accepted_answer_id": 56363022, "answer_count": 2, "score": 1, "last_activity_date": 1559150317, "creation_date": 1559138493, "question_id": 56362405, "link": "https://stackoverflow.com/questions/56362405/how-to-read-csv-file-in-perl-to-get-required-fields-only-perform-some-operatio", "title": "How to read .csv file in Perl to get required fields only, perform some operation and write back the results to same file?", "body": "<p>I have a CSV file which contains <em>IP, Alive</em> fields like below: </p>\n\n<pre><code>ip, alive\n127.0.0.1, Yes\n127.0.0.2, No\n</code></pre>\n\n<p>I want to ping each IP and if the ping is reachable then I need to put Yes in front of that IP in same CSV file.<br>\nI'm trying with below code, but stuck at reading and writing the same CSV file.  </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Net::Ping;\nuse Data::Dumper;\n\nmy $file = 'servers.csv';\nmy @filedata;\nopen(my $fh, '&lt;', $file) or die \"Can't read file '$file' [$!]\\n\";\nwhile (my $line = &lt;$fh&gt;) {\n    chomp $line;\n    my @fields = split(/,/, $line);\n    push @filedata, \\@fields;\n}\nprint Dumper(@filedata);    \n\nmy $p = Net::Ping-&gt;new();\n\nif ($p-&gt;ping('127.0.0.1'))\n{\n   print \"\\nYes\\n\";\n}\n</code></pre>\n\n<p>My code for ping and reading file is working fine but I'm not much sure about loop through the data read from file and then ping and store the result back to CSV file.<br>\nAny help will be highly appreciated.</p>\n"}, {"tags": ["perl", "lwp"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1559136641, "post_id": 56361787, "comment_id": 99326956, "body": "You can combine all kinds of things, that&#39;s what programming is all about. But your question does not make much sense. It is way too broad. If you want to extract data from a website, you should not use plain regex, but an HTML parser instead. LWP is for fetching the website off the internet. Then a parser to make sense of the content."}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 0, "last_activity_date": 1559137533, "creation_date": 1559137533, "answer_id": 56362095, "question_id": 56361787, "link": "https://stackoverflow.com/questions/56361787/how-to-fetch-a-one-table-from-html-source-file-using-lwp-module/56362095#56362095", "title": "How to fetch a one table from HTML source file using lwp module?", "body": "<pre><code>use Web::Query::LibXML 'wq';\n\nwq('https://www.december.com/html/demo/table.html')\n    -&gt;find('table th')\n    -&gt;each(sub {\n        my (undef, $e) = @_;\n        print $e-&gt;text . \"\\n\";\n    });\n__END__\nOuter Table\nInner Table\nCORNER\nHead1\nHead2\nHead3\nHead4\nHead5\nHead6\nLittle\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1559140320, "creation_date": 1559140320, "answer_id": 56363001, "question_id": 56361787, "link": "https://stackoverflow.com/questions/56361787/how-to-fetch-a-one-table-from-html-source-file-using-lwp-module/56363001#56363001", "title": "How to fetch a one table from HTML source file using lwp module?", "body": "<p>You can use LWP to get the HTML source of a web page. Most easily, by using the <code>get()</code> function from <a href=\"https://metacpan.org/pod/LWP::Simple\" rel=\"nofollow noreferrer\">LWP::Simple</a>.</p>\n\n<pre><code>my $html = get('http://example.com/');\n</code></pre>\n\n<p>Now, in <code>$html</code> you have a text string (potentially a very long text string) which contains HTML. You can use any techniques you want to extract data from that string.</p>\n\n<p>(<strong>Hint:</strong> Using a regex to do this is likely to be a very bad idea. It will be far harder than you expect and probably very fragile. Perhaps use a better tool - like <a href=\"https://metacpan.org/pod/HTML::TableExtract\" rel=\"nofollow noreferrer\">HTML::TableExtract</a> instead.)</p>\n"}], "owner": {"reputation": 1, "user_id": 11573148, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bQh5QUkwI3Q/AAAAAAAAAAI/AAAAAAAAFgg/4wLvDbILYqM/photo.jpg?sz=128", "display_name": "Madhu sanjeevi", "link": "https://stackoverflow.com/users/11573148/madhu-sanjeevi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1559140320, "creation_date": 1559136528, "question_id": 56361787, "link": "https://stackoverflow.com/questions/56361787/how-to-fetch-a-one-table-from-html-source-file-using-lwp-module", "title": "How to fetch a one table from HTML source file using lwp module?", "body": "<p>I'm beginner. I want to know how to fetch one table form the source HTML file using LWP module? Is it possible to use Regex with LWP?</p>\n"}, {"tags": ["string", "perl", "substring"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1559135916, "post_id": 56361388, "comment_id": 99326461, "body": "Do you care about the actual amount?"}, {"owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "reply_to_user": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1559146406, "post_id": 56361388, "comment_id": 99332593, "body": "@DaveSherohman, yeah, I need to remove. Thanks for question, I updated title."}, {"owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "edited": false, "score": 0, "creation_date": 1559146657, "post_id": 56361388, "comment_id": 99332713, "body": "yes, exactly! fixed"}], "answers": [{"tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 1, "last_activity_date": 1559135950, "creation_date": 1559135950, "answer_id": 56361611, "question_id": 56361388, "link": "https://stackoverflow.com/questions/56361388/most-elegant-and-fastest-way-to-remove-all-leading-zeroes-in-perl-string/56361611#56361611", "title": "Most elegant and fastest way to remove all leading zeroes in perl string", "body": "<p>Use the substitute operator</p>\n\n<pre><code>$str =~ s/^0+//\n</code></pre>\n\n<p>Replace the beginning of the string followed by 1 or more <code>0</code> with nothing instead of </p>\n\n<pre><code>if ( $str =~ /^(.[0])/ ) {\n    return substr( $str, length($1));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 6, "last_activity_date": 1559142828, "creation_date": 1559142828, "answer_id": 56363750, "question_id": 56361388, "link": "https://stackoverflow.com/questions/56361388/most-elegant-and-fastest-way-to-remove-all-leading-zeroes-in-perl-string/56363750#56363750", "title": "Most elegant and fastest way to remove all leading zeroes in perl string", "body": "<p>A simple substitution will remove leading zeros:</p>\n\n<pre><code>$str =~ s/^0+(?=[0-9])//;\n</code></pre>\n\n<p>This removes as many zeros as possible while still leaving at least one digit.\nThe latter constraint is needed to prevent \"0\" becoming \"\".</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 4, "last_activity_date": 1574456783, "last_edit_date": 1574456783, "creation_date": 1559145968, "answer_id": 56364617, "question_id": 56361388, "link": "https://stackoverflow.com/questions/56361388/most-elegant-and-fastest-way-to-remove-all-leading-zeroes-in-perl-string/56364617#56364617", "title": "Most elegant and fastest way to remove all leading zeroes in perl string", "body": "<p>Since this seems to be about a number, can reformat it as such (if indeed an integer)</p>\n\n<pre><code>my $num = sprintf \"%d\", $num_in_str;\n</code></pre>\n\n<p>or have Perl take care of it by making it treat the string as a number</p>\n\n<pre><code>my $num = 0 + $num_in_str;   # or just:  $num_in_str += 0;\n</code></pre>\n\n<p>This does the right thing for any kind of number in <code>$num_in_str</code>, and it is incomparably more efficient than <code>sprintf</code> or starting a regex engine.  While it may appear tricky it's fine in a sub </p>\n\n<pre><code>sub rmlz { return 0+$_[0] }\n</code></pre>\n\n<p>where you practically pay only for the function call overhead (still a bit in Perl).</p>\n\n<p>Both of these print warnings if <code>$num_in_str</code> isn't a valid number, what is good in my opinion (unless you need to work with things like <code>0023a</code>, in which case you want a regex).</p>\n"}], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 56363750, "answer_count": 3, "score": 1, "last_activity_date": 1574456783, "creation_date": 1559135188, "last_edit_date": 1559146631, "question_id": 56361388, "link": "https://stackoverflow.com/questions/56361388/most-elegant-and-fastest-way-to-remove-all-leading-zeroes-in-perl-string", "title": "Most elegant and fastest way to remove all leading zeroes in perl string", "body": "<p>I wrote <code>rmlz</code> function for trimming all leading zeroes from string.</p>\n\n<pre><code># remove all leading zeroes from string\nuse strict;\nuse warnings;\nuse feature 'say';\n\nsub rmlz {\n  my ( $str ) = @_;\n  if ( $str =~ /^(.[0])/ ) {\n    return substr( $str, length($1));\n  }\n  return $str;\n}\n\nsay rmlz('0050625'); # must return 50625\n</code></pre>\n\n<p>Is there most elegant and clear way to rewrite this code ? Or regexp+length+substr is best option ?</p>\n"}, {"tags": ["perl", "sockets", "asynchronous", "net-http"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1559130360, "post_id": 56358803, "comment_id": 99323055, "body": "This looks like an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>. It might be more useful to describe the original problem X you are trying to solve instead of only passing some snippets from your attempts of solving problem Y you run into in an attempt to solve X.  See also <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1559149228, "post_id": 56358803, "comment_id": 99333934, "body": "I wrote <a href=\"http://search.cpan.org/perldoc?LWP::Protocol::AnyEvent::http\" rel=\"nofollow noreferrer\">LWP::Protocol::AnyEvent::http</a>, which I&#39;d use over Coro::LWP. That said, ClickHouse doesn&#39;t use LWP?!?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11572362, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VK3AL4SU0N0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNTx5EgyrfpwVw2NFIngbXegjJjg/mo/photo.jpg?sz=128", "display_name": "Rabota rabotavich", "link": "https://stackoverflow.com/users/11572362/rabota-rabotavich"}, "edited": false, "score": 0, "creation_date": 1559214932, "post_id": 56365153, "comment_id": 99354974, "body": "&gt; Coro::LWP specifically makes Net::HTTP use Coro::LWP::Socket instead of IO::Socket::INET  i&#39;m not trying to change it to IO::Socket::IP IO::Socket::IP is default socket when you try to create Net::HTTP client. so i need to change it to IO::Socket::INET, so Coro::LWP will replace it with  Coro::LWP::Socket.  but when Coro::LWP replaced socket to Coro::LWP::Socket, i&#39;ve got error when trying send a request."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 33, "user_id": 11572362, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VK3AL4SU0N0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNTx5EgyrfpwVw2NFIngbXegjJjg/mo/photo.jpg?sz=128", "display_name": "Rabota rabotavich", "link": "https://stackoverflow.com/users/11572362/rabota-rabotavich"}, "edited": false, "score": 0, "creation_date": 1559243311, "post_id": 56365153, "comment_id": 99368638, "body": "oic. Working around a bug in Coro::LWP. I&#39;d normally suggest reaching out to the author, but this particular author is a real pain to deal with. What you said isn&#39;t exactly true, though. ::IP is only the default if ::IP is installed, and if a class isn&#39;t specified ahead of time. Put this early in your program: <code>use IO::Socket::INET qw( );  BEGIN { $Net::HTTP::SOCKET_CLASS = &#39;IO::Socket::INET&#39;; }</code>"}, {"owner": {"reputation": 33, "user_id": 11572362, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VK3AL4SU0N0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNTx5EgyrfpwVw2NFIngbXegjJjg/mo/photo.jpg?sz=128", "display_name": "Rabota rabotavich", "link": "https://stackoverflow.com/users/11572362/rabota-rabotavich"}, "edited": false, "score": 0, "creation_date": 1559287679, "post_id": 56365153, "comment_id": 99380120, "body": "thanks! i hardcoded inside Net::HTTP :) i edited a body of question, can you please check the code?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 33, "user_id": 11572362, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VK3AL4SU0N0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNTx5EgyrfpwVw2NFIngbXegjJjg/mo/photo.jpg?sz=128", "display_name": "Rabota rabotavich", "link": "https://stackoverflow.com/users/11572362/rabota-rabotavich"}, "edited": false, "score": 0, "creation_date": 1559288286, "post_id": 56365153, "comment_id": 99380378, "body": "The code in you added uses Coro::LWP::Socket (instead of IO::Socket::IP or IO::Socket::INET) as the base class for Net::HTTP (which you can verify by examining <code>@Net::HTTP::ISA</code>). Again, if you&#39;re having problem, maybe you should stop hacking a solution and use AnyEvent::ClickHouse. AnyEvent and Coro are compatible."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 33, "user_id": 11572362, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VK3AL4SU0N0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNTx5EgyrfpwVw2NFIngbXegjJjg/mo/photo.jpg?sz=128", "display_name": "Rabota rabotavich", "link": "https://stackoverflow.com/users/11572362/rabota-rabotavich"}, "edited": false, "score": 0, "creation_date": 1559288785, "post_id": 56365153, "comment_id": 99380602, "body": "I don&#39;t seem to be able to install Coro on my machine anymore, so I can&#39;t run the code to see if it works for me."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1559149038, "last_edit_date": 1559149038, "creation_date": 1559148124, "answer_id": 56365153, "question_id": 56358803, "link": "https://stackoverflow.com/questions/56358803/how-to-use-nethttp-in-coro/56365153#56365153", "title": "How to use &quot;Net::http&quot; in Coro?", "body": "<p>You can't use IO::Socket::INET or IO::Socket::IP with Coro. Coro is a co-operative multi-threading system, so it only works with co-operating modules, and neither of these modules are Coro-aware. (By \"work\", I mean allow threads and asynchronous operations to progress.)</p>\n\n<p>Among other things, Coro::LWP specifically makes Net::HTTP use Coro::LWP::Socket instead of IO::Socket::INET. Your attempts to make Net::HTTP use IO::Socket::IP are counter-productive.</p>\n\n<p>You said you're switching the module because Clickhouse (by which I presume you meant ClickHouse) doesn't support async requests, but replacing IO::Socket::INET with IO::Socket::IP doesn't help with that at all.</p>\n\n<p>Have you looked at <a href=\"http://search.cpan.org/perldoc?AnyEvent::ClickHouse\" rel=\"nofollow noreferrer\">AnyEvent::ClickHouse</a>?</p>\n"}], "owner": {"reputation": 33, "user_id": 11572362, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VK3AL4SU0N0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNTx5EgyrfpwVw2NFIngbXegjJjg/mo/photo.jpg?sz=128", "display_name": "Rabota rabotavich", "link": "https://stackoverflow.com/users/11572362/rabota-rabotavich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 56365153, "answer_count": 1, "score": 0, "last_activity_date": 1559300655, "creation_date": 1559126975, "last_edit_date": 1559300655, "question_id": 56358803, "link": "https://stackoverflow.com/questions/56358803/how-to-use-nethttp-in-coro", "title": "How to use &quot;Net::http&quot; in Coro?", "body": "<p>Got stuck on using Net::HTTP\nwhen i create a Net::HTTP object it initialize with \"IO::Socket::IP\".\nhow can i change default socket without hard-coding? I would like to change it to IO::Socket::INET.</p>\n\n<p>So if i hard-code socket, it works.\nBut when i'm trying to use Coro::LWP and Coro::LWP changes IO::Socket::INET to Coro::Socket i got error:</p>\n\n<p>Status read failed: Transport endpoint is not connected at perl5/lib/perl5/Net/HTTP/Methods.pm line 282.</p>\n\n<p>I need to change socket because Clickhouse module on cpan doesn't support async requests.</p>\n\n<p>here is code that doesn't work</p>\n\n<pre><code>use IO::Socket::INET qw( );\nBEGIN { $Net::HTTP::SOCKET_CLASS = 'IO::Socket::INET'; };\nuse Coro::LWP;\nmy $s = Net::HTTP-&gt;new(Host =&gt; \"www.perl.com\") || die $@;\n$s-&gt;write_request(GET =&gt; \"/\");\nprint $_ for ( $s-&gt;read_response_headers );\n</code></pre>\n\n<p>fixed!\njust change Coro::Socket with Coro::PatchSet::Socket</p>\n"}, {"tags": ["arrays", "perl", "variable-assignment"], "answers": [{"comments": [{"owner": {"reputation": 192, "user_id": 6260800, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a9d4cea5e75c3adb52e40801583a55a4?s=128&d=identicon&r=PG&f=1", "display_name": "l00p", "link": "https://stackoverflow.com/users/6260800/l00p"}, "edited": false, "score": 0, "creation_date": 1559198335, "post_id": 56358462, "comment_id": 99347616, "body": "Clear now :)  All the examples noted! Thank you!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1559133829, "last_edit_date": 1559133829, "creation_date": 1559125872, "answer_id": 56358462, "question_id": 56358326, "link": "https://stackoverflow.com/questions/56358326/access-an-element-while-splitting-a-string/56358462#56358462", "title": "Access an element while splitting a string", "body": "<p>Looking at the documentation for <code>split()</code> we see this:</p>\n\n<blockquote>\n  <p>Splits the string EXPR into a list of strings and returns the list in list context, or the size of the list in scalar context</p>\n</blockquote>\n\n<p>So we can get the list in an array:</p>\n\n<pre><code>my @net_info = split(/\\//,'10.0.0.2/8');\n</code></pre>\n\n<p>And then get the last element of that array:</p>\n\n<pre><code>my $cidr = $net_info[-1];\n</code></pre>\n\n<p>But you can do it in one line of code by using a <em>list slice</em>. The syntax for a list slice is:</p>\n\n<pre><code>( LIST )[ INDEX ]\n</code></pre>\n\n<p>You were getting a little lost and using this:</p>\n\n<pre><code>${ LIST }[ INDEX ]\n</code></pre>\n\n<p>So the correct syntax for your problem is:</p>\n\n<pre><code>my $cidr = ( split(/\\//,'10.0.0.2/8') )[-1];\n</code></pre>\n\n<p>In addition, your code might be a little easier to understand if you used a different delimiter for the regex that is the first argument to <code>split()</code> - thereby getting rid of the need to escape the slash.</p>\n\n<pre><code>my $cidr = ( split(m[/],'10.0.0.2/8') )[-1];\n</code></pre>\n\n<p><strong>Update:</strong> Given that a netmask only ever contains a single slash, it might be easier to write something like:</p>\n\n<pre><code>my ($ip, $cidr) = split(m[/], '10.0.0.2/8');\n</code></pre>\n\n<p>Or (using <code>undef</code> to drop the first value returned by <code>split()</code>:</p>\n\n<pre><code>my (undef, $cidr) = split(m[/], '10.0.0.2/8');\n</code></pre>\n\n<p><strong>Update 2:</strong> And to explain what was going in your original code. You were inadvertently using this construct:</p>\n\n<pre><code>${ ARRAYREF }[ INDEX ]\n</code></pre>\n\n<p>Which is the general version of one way to get the value of an element of an array when you only have a reference to the array (more commonly, of course, you'd use <code>ARRAYREF-&gt;[ INDEX ]</code>).</p>\n\n<p>As the expression within <code>${ ... }</code> is expected to evaluate to an array reference and as array references are always scalar values, Perl evaluates the expression in scalar context. And as we see from the documentation extract above, in scalar context, <code>split()</code> returns the number of elements in the list - which will be 2. And \"2\" isn't an array reference, so you get the error that you've seen.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10419107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32a43b2af88b8fe2eef4e43d63cf6a9?s=128&d=identicon&r=PG&f=1", "display_name": "Volcano", "link": "https://stackoverflow.com/users/10419107/volcano"}, "is_accepted": false, "score": 1, "last_activity_date": 1559126288, "creation_date": 1559126288, "answer_id": 56358599, "question_id": 56358326, "link": "https://stackoverflow.com/questions/56358326/access-an-element-while-splitting-a-string/56358599#56358599", "title": "Access an element while splitting a string", "body": "<p>The right syntax is:</p>\n\n<pre><code>my $cidr = (split(/\\//,'10.0.0.2/8'))[-1];\n</code></pre>\n"}], "owner": {"reputation": 192, "user_id": 6260800, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a9d4cea5e75c3adb52e40801583a55a4?s=128&d=identicon&r=PG&f=1", "display_name": "l00p", "link": "https://stackoverflow.com/users/6260800/l00p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 56358462, "answer_count": 2, "score": 1, "last_activity_date": 1559133829, "creation_date": 1559125394, "question_id": 56358326, "link": "https://stackoverflow.com/questions/56358326/access-an-element-while-splitting-a-string", "title": "Access an element while splitting a string", "body": "<p>I want to retrieve a last element of the array. Array is a splitted string retrieved as follows:<br>\n<code>my @net_info = split(/\\//,'10.0.0.2/8');</code></p>\n\n<p>I am interested only in the last element of the array, that is the CIDR value in one line. I was thinking of:<br>\n    <code>my $cidr = ${split(/\\//,'10.0.0.2/8')}[-1];</code>  </p>\n\n<p>but that resulted in:<br>\n<code>Can't use string (\"2\") as an ARRAY ref while \"strict refs\" in use at...</code>  </p>\n\n<p>Is it possible to get last element directly? What is the right syntax to achieve it?</p>\n"}, {"tags": ["perl", "perldoc"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1559125138, "post_id": 56357973, "comment_id": 99320221, "body": "The most recent stable Perl 5 version is 5.30."}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1559125408, "post_id": 56357973, "comment_id": 99320354, "body": "@simbabque thanks for the feedback. So the issue seems to be just a lack of time to update the official one? But if the <a href=\"https://github.com/Grinnz/perldoc-browser\" rel=\"nofollow noreferrer\">Perldoc Browser</a> generates the web view from the documentation installed with Perl, couldn&#39;t it be an option for the perldoc.perl.org maintainers to switch to it?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1559125969, "post_id": 56357973, "comment_id": 99320652, "body": "@Wolf: Every page on <a href=\"https://perldoc.perl.org/\" rel=\"nofollow noreferrer\">perldoc.perl.org</a> contains the email address of the site owner. Perhaps he would be grateful if you were to email him and offer to help him maintain the site."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1559144249, "post_id": 56357973, "comment_id": 99331448, "body": "The current state of perldoc.perl.org is indeed an appearance problem. Imagine if the PHP official documentation did not show the latest version of their docs. From outside it is assumed that a language&#39;s official docs will be from their latest version. perl.org also needs to be updated to reference 5.30 as the latest version, but I will send a pull request for this (this is maintained instead by the NOC at <a href=\"https://github.com/perlorg/perlweb\" rel=\"nofollow noreferrer\">github.com/perlorg/perlweb</a>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559149624, "post_id": 56357973, "comment_id": 99334103, "body": "To answer the actual question, there is nothing special about 5.28 or 5.30 (which just came out)"}], "answers": [{"comments": [{"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1559127638, "post_id": 56358305, "comment_id": 99321561, "body": "I see: CPAN also has a delta for perl v5.30.0 but not an own URL for it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1559127974, "post_id": 56358305, "comment_id": 99321743, "body": "@Wolf: The delta for the current version of Perl is always just called &quot;perldelta&quot;. Once Perl 5.30.1 is released, the current perldelta will be renamed perl5300delta."}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1559128017, "post_id": 56358305, "comment_id": 99321775, "body": "... the official docs are less usable, compare <a href=\"https://metacpan.org/pod/distribution/perl/pod/perldiag.pod#Variable-%22%s%22-will-not-stay-shared\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/perl/pod/&hellip;</a> vs. <a href=\"https://perldoc.pl/perldiag#Variable-%22%25s%22-will-not-stay-shared\" rel=\"nofollow noreferrer\">perldoc.pl/perldiag#Variable-%22%25s%22-will-not-stay-shared</a> vs. <a href=\"https://perldoc.perl.org/perldiag.html#Variable-%22%25s%22-will-not-stay-shared\" rel=\"nofollow noreferrer\">perldoc.perl.org/&hellip;</a>"}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1559128177, "post_id": 56358305, "comment_id": 99321868, "body": "<i>The delta for the current version [...]</i> -- this is just what I wanted to say, <i>perldelta</i> currently leads to 5.28.2 (on CPAN)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 2, "creation_date": 1559128311, "post_id": 56358305, "comment_id": 99321943, "body": "@Wolf: Oh, you&#39;re right. But that&#39;s because <a href=\"https://metacpan.org/release/perl\" rel=\"nofollow noreferrer\">https://metacpan.org/release/perl</a> is pointing to 5.28.2, not 5.30.0. Not sure why that is. I&#39;ll find someone to report it to."}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1559128436, "post_id": 56358305, "comment_id": 99322021, "body": "Great, thanks you&#39;ll have a look on it. Such things are hard for occasional users of Perl."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 2, "creation_date": 1559131780, "post_id": 56358305, "comment_id": 99323888, "body": "@Wolf: I reported it to the #metacpan channel on irc.perl.org and it&#39;s now fixed."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1559140536, "post_id": 56358305, "comment_id": 99329360, "body": "While MetaCPAN is a great resource for CPAN docs, it&#39;s not ideal for core docs. It displays docs as they are present in CPAN tarballs, and several cases of core perldocs are generated on install, such as <a href=\"https://perldoc.pl/perlapi\" rel=\"nofollow noreferrer\">perlapi</a> and the <a href=\"https://perldoc.pl/perl5300delta\" rel=\"nofollow noreferrer\">current version perlXXXdelta</a> which is nicer for future linkability. It is also nice to have individual function pages and tailored core doc search functions. These are the reasons I found metacpan insufficient for this purpose and followed the perldoc.perl.org approach to create perldoc.pl."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1559140900, "post_id": 56358305, "comment_id": 99329579, "body": "You are correct on the motivation: perldoc.perl.org has become completely unmaintained, with many <a href=\"https://github.com/jonallen/perldoc.perl.org/issues\" rel=\"nofollow noreferrer\">unfixed issues</a> and only a brief update to install new perl versions every couple years (which also seems to have stopped since 5.26.1). Despite offers to help there has been no response. Based on the <a href=\"https://mojolicious.org\" rel=\"nofollow noreferrer\">mojolicious docs</a> I created a new site that would be easy to fix or avoid these open issues and maintain in the future."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1559141023, "post_id": 56358305, "comment_id": 99329656, "body": "@Grinnz: Have you considered approaching the Perl NOC team and asking for perldoc.perl.org being repointed at your site?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1559141145, "post_id": 56358305, "comment_id": 99329723, "body": "@DaveCross I attempted to open a dialog about the state of the site which would be a precursor to any such suggestion but got no response unfortunately."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1607616902, "last_edit_date": 1607616902, "creation_date": 1559125318, "answer_id": 56358305, "question_id": 56357973, "link": "https://stackoverflow.com/questions/56357973/what-is-the-official-perl-documentation-on-the-web/56358305#56358305", "title": "What is the official Perl documentation on the web?", "body": "<p>The site at <a href=\"https://perldoc.perl.org\" rel=\"nofollow noreferrer\">perldoc.perl.org</a> is the &quot;official&quot; one (you can tell as it's on the perl.org domain), but that site is run by someone outside of the Perl Foundation and it seems that they have been too busy to update the site recently. I believe that <a href=\"https://perldoc.pl\" rel=\"nofollow noreferrer\">perldoc.pl</a> is an alternative project that was set up when it was noticed that the older site was no longer being kept up to date.</p>\n<p>Actually, you can always get the most up-to-date and official documents on <a href=\"https://metacpan.org/release/perl\" rel=\"nofollow noreferrer\">CPAN</a>.</p>\n"}], "owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 56358305, "answer_count": 1, "score": 3, "last_activity_date": 1607616902, "creation_date": 1559124244, "last_edit_date": 1607616400, "question_id": 56357973, "link": "https://stackoverflow.com/questions/56357973/what-is-the-official-perl-documentation-on-the-web", "title": "What is the official Perl documentation on the web?", "body": "<p>I found <a href=\"https://perldoc.pl/\" rel=\"nofollow noreferrer\">perldoc.pl</a> with a high usability level being up-to-date to version 5.30.0.</p>\n<p><a href=\"https://www.perl.org/\" rel=\"nofollow noreferrer\">Perl.org</a> links to <a href=\"https://perldoc.perl.org/\" rel=\"nofollow noreferrer\">perldoc.perl.org</a> which stops at version 5.26.1. But on the other hand, it links to <em>Download</em> (version 5.28.2) to <em>Strawberry Perl</em> (actually version 5.30.0) which I find very confusing.</p>\n<p>I already know that Perl 6 is a completely different language. Is there maybe another language barrier after 5.26.*?</p>\n<h2>Background</h2>\n<p>Since I use it rarely, a program update is the starting point when I reenter Perl. And that's why I was interested in studying the <a href=\"https://perldoc.pl/perl5300delta\" rel=\"nofollow noreferrer\">delta documentation</a> <em>before</em> installing, and this delta was hard to find.</p>\n"}, {"tags": ["windows", "perl", "replace", "strawberry-perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1559114220, "post_id": 56354760, "comment_id": 99314148, "body": "It seems to work fine from the Cygwin terminal, I guess you are using the command prompt?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1559114351, "post_id": 56354760, "comment_id": 99314212, "body": "@H&#229;kon H&#230;gland, Cygwin is an environment that emulates unix; you can&#39;t think of it as Windows."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559114439, "post_id": 56354760, "comment_id": 99314260, "body": "@ikegami Ok thanks, I am new to Windows terminology :)"}], "answers": [{"tags": [], "owner": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "is_accepted": false, "score": 1, "last_activity_date": 1559113856, "creation_date": 1559113856, "answer_id": 56354916, "question_id": 56354760, "link": "https://stackoverflow.com/questions/56354760/strawberry-perl-search-and-replace-in-windows/56354916#56354916", "title": "Strawberry Perl - Search and replace in Windows", "body": "<p>In Unix-derived operating systems, the shell expands globs like <code>*.*</code>, and provides the command line as an array of strings to the program. </p>\n\n<p>In Windows, the command line is a single string, and it is up to the program to interpret what it means, including things like quote characters and globs. If the program is a normal C program, the C runtime interprets command line, and expands the globs, and passes an array of strings to <code>main</code>. This is because the C standard requires this.</p>\n\n<p>However Perl is not C. Use the <code>File::Glob</code> library to expand the arguments.</p>\n"}, {"comments": [{"owner": {"reputation": 3791, "user_id": 1342006, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YtZ10.jpg?s=128&g=1", "display_name": "JDC", "link": "https://stackoverflow.com/users/1342006/jdc"}, "edited": false, "score": 0, "creation_date": 1559115877, "post_id": 56355004, "comment_id": 99315019, "body": "Thank you for the full explanation and solution snippet!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1559274642, "last_edit_date": 1559274642, "creation_date": 1559114170, "answer_id": 56355004, "question_id": 56354760, "link": "https://stackoverflow.com/questions/56354760/strawberry-perl-search-and-replace-in-windows/56355004#56355004", "title": "Strawberry Perl - Search and replace in Windows", "body": "<p>In unix systems, the shell expands globs and passes the file names to the program.</p>\n\n<pre><code>$ perl -e'CORE::say for @ARGV' *\nfile1\nfile2\n</code></pre>\n\n<p>The Windows shell, on the other hand, passes the values as is, and leaves it up to the program to treat them as globs if so desired.</p>\n\n<pre><code>&gt;perl -e\"CORE::say for @ARGV\" *\n*\n</code></pre>\n\n<p>You can perform the globbing as follows:</p>\n\n<pre><code>&gt;perl -MFile::DosGlob=glob -e\"BEGIN { @ARGV = map glob, @ARGV } CORE::say for @ARGV\" *\nfile1\nfile2\n</code></pre>\n\n<p>The <code>BEGIN</code> block isn't generally needed, but it will ensure the globing once and early enough when using <code>-n</code> (which is implied by <code>-p</code>).</p>\n\n<p>The <code>-MFile::DosGlob=glob</code> makes <code>glob</code> have Windows-like semantics. For example, it causes <code>*.*</code> to match all files, even if they don't contain <code>.</code>.</p>\n\n<p>Integrated:</p>\n\n<pre><code>perl -i -MFile::DosGlob=glob -pe\"BEGIN { @ARGV = map glob, @ARGV } s,vaadin-element,color-picker,g\" *.* demo/* test/* src/* theme/*/*\n</code></pre>\n"}], "owner": {"reputation": 3791, "user_id": 1342006, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YtZ10.jpg?s=128&g=1", "display_name": "JDC", "link": "https://stackoverflow.com/users/1342006/jdc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 56355004, "answer_count": 2, "score": 0, "last_activity_date": 1559274642, "creation_date": 1559113242, "question_id": 56354760, "link": "https://stackoverflow.com/questions/56354760/strawberry-perl-search-and-replace-in-windows", "title": "Strawberry Perl - Search and replace in Windows", "body": "<p>I am trying to execute the following command:  </p>\n\n<p><code>perl -pi -e 's,vaadin-element,color-picker,g' *.* demo/* test/* src/* theme/*/*</code><br>\n<em>(following <a href=\"https://github.com/vaadin/vaadin-element-skeleton/blob/master/README_CREATE_NEW.md\" rel=\"nofollow noreferrer\">this</a> document)</em></p>\n\n<p>Unfortunately it seems that the window distribution of pearl I use has some issues with the command, as I get the following error:</p>\n\n<pre><code>Can't open *.*: Invalid argument.\nCan't open demo/*: Invalid argument.\nCan't open test/*: Invalid argument.\nCan't open src/*: Invalid argument.\nCan't open theme/*/*: Invalid argument.\n</code></pre>\n\n<p>Any suggestions on how to fix that?\nThank you in advance!</p>\n\n<p><strong><em>Disclaimer:</strong> I never used pearl before and have absolutely no experience.</em></p>\n"}, {"tags": ["python", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1559110960, "post_id": 56354165, "comment_id": 99312714, "body": "We thought you had tried something...Code?"}, {"owner": {"reputation": 21, "user_id": 6048061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c24865c5126225a3102875f9a4d99d?s=128&d=identicon&r=PG&f=1", "display_name": "raif", "link": "https://stackoverflow.com/users/6048061/raif"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1559111540, "post_id": 56354165, "comment_id": 99312938, "body": "sed -i &#39;/abcd|vwxyz/d&#39; file1 but that didn&#39;t work as expected"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6048061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c24865c5126225a3102875f9a4d99d?s=128&d=identicon&r=PG&f=1", "display_name": "raif", "link": "https://stackoverflow.com/users/6048061/raif"}, "edited": false, "score": 0, "creation_date": 1559114100, "post_id": 56354438, "comment_id": 99314090, "body": "Thanks, the 1st option seems simple enough...gotta knock my head for not thinking about \\n :)"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1559140974, "post_id": 56354438, "comment_id": 99329629, "body": "<code>^</code> means &quot;start of string&quot; not &quot;start of line&quot; so won&#39;t <code>sed -z &#39;s&#47;^...&#39;</code> only match the text at the start of the file? I&#39;ve no idea what the <code>m</code> before the <code>g</code> does though so maybe it&#39;s for &quot;<b>m</b>agic&quot;... :-)."}, {"owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1559156044, "post_id": 56354438, "comment_id": 99336790, "body": "@EdMorton the <code>m</code> flag following the substitution command is for multiline, where the <code>^</code> and <code>$</code> represent anchors for start/end of line."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1559161276, "post_id": 56354438, "comment_id": 99338866, "body": "@potong - ah, ok thanks for the explanation. That command line just output the input file unchanged when I tried it just now though with GNU sed 4.4-1."}, {"owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1559169407, "post_id": 56354438, "comment_id": 99341326, "body": "@EdMorton thanks Ed I&#39;m  currently on GNU sed 4.2.2 and do not experience this problem. Please use  the first solution  and perhaps if this error persists,  issue a bug report to the GNU sed maintainer. I believe the current version is GNU sed 4.7."}], "tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 2, "last_activity_date": 1559117599, "last_edit_date": 1559117599, "creation_date": 1559111770, "answer_id": 56354438, "question_id": 56354165, "link": "https://stackoverflow.com/questions/56354165/deleting-n-matching-patterns-using-sed-awk-perl-etc/56354438#56354438", "title": "Deleting N matching patterns using sed, awk, perl etc", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed 'N;/^abcd\\nvwxyz$/d;P;D' file\n</code></pre>\n\n<p>Create a 2 line window  throughout the length of the file and delete that window if the current window matches the required strings. Otherwise print/delete the first line of the window and append another line, repeat.</p>\n\n<p>This can be extended to match n lines:</p>\n\n<pre><code>sed ':a;N;s/[^\\n]\\+/&amp;/2;Ta;/^abcd\\nvwxyz$/d;P;D' file\n</code></pre>\n\n<p>generalised for 2 lines:</p>\n\n<p>Or:</p>\n\n<pre><code>sed ':a;N;s/[^\\n]\\+/&amp;/3;Ta;/^line1\\nline2\\nline3$/d;P;D' file\n</code></pre>\n\n<p>for 3 lines, etc.</p>\n\n<p>An alternative:</p>\n\n<pre><code>sed -z 's/^abcd\\nvwxyz\\n//mg' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "edited": false, "score": 0, "creation_date": 1559117012, "post_id": 56354474, "comment_id": 99315630, "body": "This might fail to delete a pair of lines if such a pair were preceded by <code>abcd</code>."}], "tags": [], "owner": {"reputation": 2855, "user_id": 11178750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XNjOS.jpg?s=128&g=1", "display_name": "UtLox", "link": "https://stackoverflow.com/users/11178750/utlox"}, "is_accepted": false, "score": 2, "last_activity_date": 1559111980, "creation_date": 1559111980, "answer_id": 56354474, "question_id": 56354165, "link": "https://stackoverflow.com/questions/56354165/deleting-n-matching-patterns-using-sed-awk-perl-etc/56354474#56354474", "title": "Deleting N matching patterns using sed, awk, perl etc", "body": "<p>you mean something like this?</p>\n\n<pre><code>sed '/abcd/{N;/vwxyz/d}' yourdata.file\n</code></pre>\n\n<p><strong>explanation</strong></p>\n\n<pre><code>/abcd/    # search first Pattern\n{\nN;        # if match read next line\n/vwxyz/d  # if second pattern match then delete line\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1559113568, "last_edit_date": 1559113568, "creation_date": 1559112571, "answer_id": 56354598, "question_id": 56354165, "link": "https://stackoverflow.com/questions/56354165/deleting-n-matching-patterns-using-sed-awk-perl-etc/56354598#56354598", "title": "Deleting N matching patterns using sed, awk, perl etc", "body": "<p>With Perl, the simplest solution is to load the entire input into memory.</p>\n\n<pre><code>perl -0777pe's/abcd\\nvwxyz\\n//g'\n</code></pre>\n\n<p>If reading a line at a time, the generic solution in these types of problems is to keep a buffer of past lines.</p>\n\n<pre><code>if (!eof()) {\n   my @buf = scalar(&lt;&gt;);\n   while (&lt;&gt;) {\n      if ($buf[-1] =~ /^abcd$/ &amp;&amp; /^vwxyz$/) {\n         @buf = ();\n      } else {\n         print(shift(@buf));\n         push(@buf, $_);\n      }\n   }\n\n   print @buf;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1559140352, "post_id": 56354690, "comment_id": 99329243, "body": "You should mention that requires GNU awk for multi-char RS. Always use <code>printf &quot;%s&quot;, $0</code> instead of <code>printf $0</code> as the latter will fail when $0 contains printf formatting characters such as <code>%s</code>. It should really be written as <code>awk -v RS=&#39;(^|\\n)abcd\\nvwxyz\\n&#39; &#39;1&#39;</code> though to handle the cases where <code>abcd</code> and/or <code>vwxyz</code> might appear mid-line and/or at the start and/or end of the file. I feel like that&#39;s still missing a case though...."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1559140827, "post_id": 56354690, "comment_id": 99329524, "body": "Ah, yeah - the problem with that RS in my comment is it won&#39;t match the 2nd <code>\\nabcd\\nvwxy\\n</code> when there&#39;s 2 consecutive blocks since it&#39;s consuming the <code>\\n</code> at both ends of each block. I&#39;d have to put some thought into the real RS necessary for this - it may simply not be an option."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1559141990, "post_id": 56354690, "comment_id": 99330167, "body": "After some thought - you can&#39;t do this robustly just by setting RS to the target multi-line string with surrounding line start/ends so I posted a new answer."}], "tags": [], "owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "is_accepted": false, "score": 0, "last_activity_date": 1559114393, "last_edit_date": 1559114393, "creation_date": 1559112919, "answer_id": 56354690, "question_id": 56354165, "link": "https://stackoverflow.com/questions/56354165/deleting-n-matching-patterns-using-sed-awk-perl-etc/56354690#56354690", "title": "Deleting N matching patterns using sed, awk, perl etc", "body": "<p>With <code>awk</code>, where you define your record separator as the 2 lines and you simply print each line.</p>\n\n<pre><code>awk -v RS='abcd\\nvwxyz\\n' '{printf $0}' file.in \nabcd\nline1\nline2\nline3\nvwxyz\nline4\nline5\n</code></pre>\n\n<hr>\n\n<p>A python solution:</p>\n\n<pre><code>import re\n\nwith open('file.in', 'r') as file:\n    data = file.read()\n    print(re.sub(r'(^|\\n)abcd\\nvwxyz(?=\\n)','',data), end='')\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>python3 filter_lines.py \nabcd\nline1\nline2\nline3\nvwxyz\nline4\nline5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 1, "last_activity_date": 1559114551, "creation_date": 1559114551, "answer_id": 56355109, "question_id": 56354165, "link": "https://stackoverflow.com/questions/56354165/deleting-n-matching-patterns-using-sed-awk-perl-etc/56355109#56355109", "title": "Deleting N matching patterns using sed, awk, perl etc", "body": "<p>Could you please try following, considering your actual Input_file is same as shown samples.</p>\n\n<pre><code>awk -v RS=\"\" '{gsub(/abcd\\nvwxyz/,\"\");gsub(/[[:space:]]+\\n/,ORS)} 1' Input_file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1559142322, "last_edit_date": 1559142322, "creation_date": 1559141896, "answer_id": 56363484, "question_id": 56354165, "link": "https://stackoverflow.com/questions/56354165/deleting-n-matching-patterns-using-sed-awk-perl-etc/56363484#56363484", "title": "Deleting N matching patterns using sed, awk, perl etc", "body": "<p>A bit more cryptic than I'd like but with GNU awk for multi-char RS:</p>\n\n<pre><code>$ awk -v RS='\\nvwxyz\\n' -v ORS= '!sub(/(^|\\n)abcd$/,\"\"){$0=$0 RT} 1' file\nabcd\nline1\nline2\nline3\nvwxyz\nline4\nline5\n</code></pre>\n\n<p>Unfortunately if we're going with an RS-based solution (as opposed to keeping a rolling 2-line buffer or similar) then that's how it has to be done to accommodate the multi-line string appearing at the start and/or end of the file and/or in repeated blocks and/or starting/stopping in the middle of other lines. It can be used as-is for arbitrary long blocks of lines though:</p>\n\n<pre><code>awk -v RS='\\nvwxyz\\n' -v ORS= '!sub(/(^|\\n)foo\\nbar\\netc\\nabcd$/,\"\"){$0=$0 RT} 1' file\n</code></pre>\n\n<p>or if you prefer:</p>\n\n<pre><code>awk -v RS='\\nbar\\netc\\nabcd\\nvwxyz\\n' -v ORS= '!sub(/(^|\\n)foo$/,\"\"){$0=$0 RT} 1' file\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6048061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c24865c5126225a3102875f9a4d99d?s=128&d=identicon&r=PG&f=1", "display_name": "raif", "link": "https://stackoverflow.com/users/6048061/raif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 6, "score": 2, "last_activity_date": 1559142322, "creation_date": 1559110544, "last_edit_date": 1559113379, "question_id": 56354165, "link": "https://stackoverflow.com/questions/56354165/deleting-n-matching-patterns-using-sed-awk-perl-etc", "title": "Deleting N matching patterns using sed, awk, perl etc", "body": "<p>I have this situation, the file contains</p>\n\n<pre><code>abcd\nline1\nline2\nline3\nvwxyz\nabcd\nvwxyz\nabcd\nvwxyz\nabcd\nvwxyz\nline4\nline5\n</code></pre>\n\n<p>I would like to delete whenever I find matching 2 lines of</p>\n\n<pre><code>abcd\nvwxyz\n</code></pre>\n\n<p>to be deleted so that it becomes</p>\n\n<pre><code>abcd\nline1\nline2\nline3\nvwxyz\nline4\nline5\n</code></pre>\n\n<p>I have search numerous stackoverflow suggestions of pattern matching but never encountered pattern matching of 2 lines</p>\n\n<p>I have triend <code>sed -i '/abcd|vwxyz/d' file1</code> but that didn't work as expected...</p>\n\n<p>Any help is appreciated using awk, sed, perl, pyhon etc</p>\n"}, {"tags": ["perl", "ssl", "tls1.2", "mojolicious", "hypnotoad"], "answers": [{"comments": [{"owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "edited": false, "score": 0, "creation_date": 1559111577, "post_id": 56341913, "comment_id": 99312951, "body": "I have enabled the TLSv1.2 but how do I <b>disable</b> TLSv1.0 and TLSv1.1? Looks like setting <code>MOJO_NO_TLS</code> ENV variable totally disable TLS.  Also is there a way to disable following: <code>ssl-3des-ciphers</code> and <code>ssl-static-key-ciphers</code>? I did look into <a href=\"https://metacpan.org/pod/Mojo::Server::Hypnotoad\" rel=\"nofollow noreferrer\">Mojo::Server::Hypnotoad</a> and [Mojo::Server::Daemonhttps://metacpan.org/pod/Mojo::Server::&zwnj;&#8203;Daemon]() but din&#39;t find answer."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "reply_to_user": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "edited": false, "score": 1, "creation_date": 1559126537, "post_id": 56341913, "comment_id": 99320952, "body": "This quickly turns into &quot;how do I configure OpenSSL/IO::Socket::SSL&quot;. Read <a href=\"http://p3rl.org/IO::Socket::SSL#SSL_version\" rel=\"nofollow noreferrer\"><code>SSL_version</code> in <code>IO::Socket::SSL</code></a> and <a href=\"https://www.openssl.org/docs/man1.1.1/man1/ciphers.html\" rel=\"nofollow noreferrer\">man ciphers</a>. Configuring <code>TLSv1_2</code> already disables anything but 1.2. You can check with <code>openssl s_client -tls1_1 -connect localhost:8443</code>."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "reply_to_user": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "edited": false, "score": 1, "creation_date": 1559126542, "post_id": 56341913, "comment_id": 99320955, "body": "The configuration item is <a href=\"http://p3rl.org/Mojo::Server::Daemon#ciphers\" rel=\"nofollow noreferrer\"><code>ciphers</code> in <code>Mojo::Server::Daemon</code></a>, you didn&#39;t look carefully enough. Use <a href=\"https://mozilla.github.io/server-side-tls/ssl-config-generator/\" rel=\"nofollow noreferrer\">mozilla.github.io/server-side-tls/ssl-config-generator</a> to find a recommended cipher string, I checked the &quot;modern&quot; profile and it does not contain 3DES nor static key cipher suites. <a href=\"https://stackoverflow.com/questions/ask\">Open a new question</a> if you don&#39;t understand."}, {"owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "edited": false, "score": 0, "creation_date": 1559190128, "post_id": 56341913, "comment_id": 99345317, "body": "Thanks again @daxim for the help. I understood. Fixed the issues."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 9, "last_activity_date": 1559045169, "creation_date": 1559045169, "answer_id": 56341913, "question_id": 56340614, "link": "https://stackoverflow.com/questions/56340614/mojolicioushypnotoad-enforce-tls-v1-2/56341913#56341913", "title": "Mojolicious(hypnotoad) - enforce TLS v1.2", "body": "<p>Configure <a href=\"http://p3rl.org/Mojo::Server::Daemon#version\" rel=\"noreferrer\">version with value <code>TLSv1_2</code></a>, e.g. in <code>my_app.conf</code></p>\n\n<pre><code>{\n    secrets =&gt; ['\u2026\u2026\u2026'],\n    hypnotoad =&gt; {\n        listen  =&gt; ['https://localhost:8443?cert=server_cert.pem&amp;key=server_key.pem&amp;version=TLSv1_2'],\n    }\n}\n</code></pre>\n\n<p>Test with <code>curl -k -v https://localhost:8443</code>. Daemon will serve 1.3 by default, but use 1.2 when forced to do so.</p>\n"}], "owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 2, "accepted_answer_id": 56341913, "answer_count": 1, "score": 5, "last_activity_date": 1559067789, "creation_date": 1559040779, "last_edit_date": 1559067789, "question_id": 56340614, "link": "https://stackoverflow.com/questions/56340614/mojolicioushypnotoad-enforce-tls-v1-2", "title": "Mojolicious(hypnotoad) - enforce TLS v1.2", "body": "<p>How to enforce Mojolicious(hypnotoad) app to use TLS v1.2?</p>\n\n<p><code>mojo version</code> output:</p>\n\n<pre><code>CORE\n  Perl        (v5.16.3, linux)\n  Mojolicious (8.0, Supervillain)\n\nOPTIONAL\n  Cpanel::JSON::XS 4.04+  (n/a)\n  EV 4.0+                 (4.22)\n  IO::Socket::Socks 0.64+ (n/a)\n  IO::Socket::SSL 2.009+  (2.060)\n  Net::DNS::Native 0.15+  (n/a)\n  Role::Tiny 2.000001+    (2.000005)\n</code></pre>\n\n<p>hypnotoad conf:</p>\n\n<pre><code>{\n     hypnotoad =&gt; {\n         listen =&gt; ['https://myserver.domain.com:xxxx?cert=/path/to/cert/file.cer&amp;key=/path/to/key/file.key'],\n     }\n}\n</code></pre>\n\n<p>This is how I start hypnotoad:</p>\n\n<pre><code>hypnotoad -f script/apps\n</code></pre>\n\n<p>I have updated the <code>IO::Socket::SSL</code> module as suggested somewhere. It din't work. </p>\n\n<p>Much appreciate any guidance.</p>\n"}, {"tags": ["perl", "google-bigquery"], "comments": [{"owner": {"reputation": 189342, "user_id": 243782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gInNr.png?s=128&g=1", "display_name": "Pentium10", "link": "https://stackoverflow.com/users/243782/pentium10"}, "edited": false, "score": 0, "creation_date": 1559033934, "post_id": 56337942, "comment_id": 99282518, "body": "It may be a DNS issues for the API endpoint Google uses."}, {"owner": {"reputation": 765, "user_id": 11403457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f56f243327c03cc24eb24d3d04ccf0b9?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/11403457/christopher"}, "edited": false, "score": 0, "creation_date": 1559034571, "post_id": 56337942, "comment_id": 99282875, "body": "It may be because of the timeout. Check the Stackdriver logging and the query history in the BQ UI for the complete error message. If it does not complete within the specified time then get the jobID then use <a href=\"https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/getQueryResults\" rel=\"nofollow noreferrer\">cloud.google.com/bigquery/docs/reference/rest/v2/jobs/&hellip;</a> method to fetch the result once it completes."}, {"owner": {"reputation": 53, "user_id": 6516229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qsSQo.jpg?s=128&g=1", "display_name": "Edmund Adjei", "link": "https://stackoverflow.com/users/6516229/edmund-adjei"}, "edited": false, "score": 0, "creation_date": 1559037132, "post_id": 56337942, "comment_id": 99284370, "body": "Thanks Christopher, I have the timeout set at 2 hours. In general I would expect tBigQuery, as a data warehouse product, to handle long running queries"}, {"owner": {"reputation": 669, "user_id": 10150695, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-12sajOoHfqg/AAAAAAAAAAI/AAAAAAAAAB4/E6dZmDqlIjA/photo.jpg?sz=128", "display_name": "Komal Bansal", "link": "https://stackoverflow.com/users/10150695/komal-bansal"}, "edited": false, "score": 0, "creation_date": 1594887153, "post_id": 56337942, "comment_id": 111285541, "body": "@EdmundAdjei  I am getting the same issue , is it solved ?"}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 11293217, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LW1EsBfh8g4/AAAAAAAAAAI/AAAAAAAAAAo/_lkj30bl9wQ/photo.jpg?sz=128", "display_name": "Corinne White", "link": "https://stackoverflow.com/users/11293217/corinne-white"}, "is_accepted": false, "score": 1, "last_activity_date": 1565686999, "creation_date": 1565686999, "answer_id": 57474411, "question_id": 56337942, "link": "https://stackoverflow.com/questions/56337942/bigquery-randomnly-fails-with-bigquery-v2-projects-project-queries-jobid-hex/57474411#57474411", "title": "BigQuery randomnly fails with /bigquery/v2/projects/&lt;project&gt;/queries/&gt;jobID-HEX 404 not found", "body": "<p>The default timeout when calling the API endpoint is <a href=\"https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query#QueryRequest.FIELDS.timeout_ms\" rel=\"nofollow noreferrer\">10 seconds</a>, this is for the request not for the query.</p>\n\n<p>The query timeout for BigQuery itself is <a href=\"https://cloud.google.com/bigquery/quotas#query_jobs\" rel=\"nofollow noreferrer\">six hours</a> </p>\n"}], "owner": {"reputation": 53, "user_id": 6516229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qsSQo.jpg?s=128&g=1", "display_name": "Edmund Adjei", "link": "https://stackoverflow.com/users/6516229/edmund-adjei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565686999, "creation_date": 1559031852, "question_id": 56337942, "link": "https://stackoverflow.com/questions/56337942/bigquery-randomnly-fails-with-bigquery-v2-projects-project-queries-jobid-hex", "title": "BigQuery randomnly fails with /bigquery/v2/projects/&lt;project&gt;/queries/&gt;jobID-HEX 404 not found", "body": "<p>I am getting random failures from the Big Query API when I send it some SQL to fetch data over the REST API.</p>\n\n<p>the REST point I am using is</p>\n\n<p><a href=\"https://www.googleapis.com/bigquery/v2/projects/\" rel=\"nofollow noreferrer\">https://www.googleapis.com/bigquery/v2/projects/</a>${project}/queries</p>\n\n<p>Sometimes I get results and sometimes not.</p>\n\n<p>I found a similar issue on the web where the error was caused by the location parameter being defaulted to 'US', so I tried 'EU' and a couple of my queries worked but some still failed.\nThe queries do take a while to run, (5 minutes) .</p>\n\n<p>I am able to run it okay in the console.</p>\n\n<p>Any help with where to look would be much appreciated</p>\n\n<p>The error I get looks like this (PS: I did not create that job id returned in the error</p>\n\n<pre><code>Query failed: &lt;!DOCTYPE html&gt;\n&lt;html lang=en&gt;\n  &lt;meta charset=utf-8&gt;\n  &lt;meta name=viewport content=\"initial-scale=1, minimum-scale=1, width=device-width\"&gt;\n  &lt;title&gt;Error 404 (Not Found)!!1&lt;/title&gt;\n  &lt;style&gt;\n    *{margin:0;padding:0}html,code{font:15px/22px arial,sans-serif}html{background:#fff;color:#222;padding:15px}body{margin:7% auto 0;max-width:390px;min-height:180px;padding:30px 0 15px}* &gt; body{background:url(//www.google.com/images/errors/robot.png) 100% 5px no-repeat;padding-right:205px}p{margin:11px 0 22px;overflow:hidden}ins{color:#777;text-decoration:none}a img{border:0}@media screen and (max-width:772px){body{background:none;margin-top:0;max-width:none;padding-right:0}}#logo{background:url(//www.google.com/images/branding/googlelogo/1x/googlelogo_color_150x54dp.png) no-repeat;margin-left:-5px}@media only screen and (min-resolution:192dpi){#logo{background:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) no-repeat 0% 0%/100% 100%;-moz-border-image:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) 0}}@media only screen and (-webkit-min-device-pixel-ratio:2){#logo{background:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) no-repeat;-webkit-background-size:100% 100%}}#logo{display:inline-block;height:54px;width:150px}\n  &lt;/style&gt;\n  &lt;a href=//www.google.com/&gt;&lt;span id=logo aria-label=Google&gt;&lt;/span&gt;&lt;/a&gt;\n  &lt;p&gt;&lt;b&gt;404.&lt;/b&gt; &lt;ins&gt;That\u2019s an error.&lt;/ins&gt;\n  &lt;p&gt;The requested URL &lt;code&gt;/bigquery/v2/projects/$project/queries/job_F6t2Lvufj01Eo1PyuUZuyUiIUwZA&lt;/code&gt; was not found on this server.  &lt;ins&gt;That\u2019s all we know.&lt;/ins&gt;\n\n\n</code></pre>\n\n<p>I have tried with no location and also changing the location from US to EU with no luck. I'm based in the UK and the dataset I am querying has the location set to US</p>\n\n<p>below is the perl code that runs the query.</p>\n\n<p>sub query {</p>\n\n<pre><code>my ( $self, $sql, %params ) = @_;\n\nmy $url\n    = \"https://www.googleapis.com/bigquery/v2/projects/$self-&gt;{project}/queries\";\n\nmy $res\n    = %params\n    ? $self-&gt;request( $url,\n    { query =&gt; $sql, useLegacySql =&gt; \\0, %params } )\n    : $self-&gt;request( $url, { query =&gt; $sql, useLegacySql =&gt; \\0 } );\n\ncroak \"Query failed: $res-&gt;{content}\" unless $res-&gt;{success};\n\nmy $job_id = $res-&gt;{content}{jobReference}{jobId};\n\nmy $attempts;\n\n# If the result set takes longer to build than the default BigQuery\n# timeout (10 seconds), we need to poll an endpoint to gather the results.\n# We attempt this up to n times before giving up.\nuntil ( $res-&gt;{content}{jobComplete} ) {\n    $res\n        = %params\n        ? $self-&gt;request( \"$url/$job_id\", \\%params )\n        : $self-&gt;request(\"$url/$job_id\");\n\n    croak \"Query failed: $res-&gt;{content}\" unless $res-&gt;{success};\n\n    croak 'Query failed: result set took too long to return'\n        if ++$attempts &gt; MAX_ATTEMPTS;\n}\n\nmy @fields = map $_-&gt;{name}, @{ $res-&gt;{content}{schema}{fields} };\n\nsub {\n    my @rows;\n\n    for ( @{ delete $res-&gt;{content}{rows} // [] } ) {\n        push @rows, \\my %row;\n\n        @row{@fields} = map $_-&gt;{v}, @{ $_-&gt;{f} };\n    }\n\n    if ( $res-&gt;{content}{pageToken} ) {\n        my $url = \"$url/$job_id?\";\n\n        $url .= HTTP::Tiny-&gt;www_form_urlencode(\n            { pageToken =&gt; $res-&gt;{content}{pageToken} } );\n\n        $res\n            = %params\n            ? $self-&gt;request( $url, \\%params )\n            : $self-&gt;request($url);\n\n        croak \"Query failed: $res-&gt;{content}\" unless $res-&gt;{success};\n    }\n\n    @rows;\n};\n</code></pre>\n\n<p>}</p>\n\n<p>I expect the rows that are pulled returned when I run the same SQL in the console to be returned over the API in a consistent way.</p>\n\n<p>Actual result is, sometimes the REST point fails with 404 job id not found</p>\n"}, {"tags": ["regex", "perl", "grep", "regex-lookarounds", "regex-group"], "comments": [{"owner": {"reputation": 253862, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 3, "creation_date": 1559024829, "post_id": 56336130, "comment_id": 99278161, "body": "Lookaround does not consume characters - you&#39;re not consuming the <code>+</code> before the <code>1234</code>. Did you want <code>(?&lt;=-)123 \\+1234</code>?"}, {"owner": {"reputation": 349, "user_id": 10845954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7a20733c398b10b7813669f57d346da?s=128&d=identicon&r=PG&f=1", "display_name": "MOntu", "link": "https://stackoverflow.com/users/10845954/montu"}, "reply_to_user": {"reputation": 253862, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1559025099, "post_id": 56336130, "comment_id": 99278260, "body": "in that case I am getting <code>+</code> in my output, <code>123 +1234</code> I don&#39;t want the signs to be included in my final result"}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1559025167, "post_id": 56336130, "comment_id": 99278286, "body": "If your string is always signs followed by digits, you can simply use <code>[+-](\\d+)</code> and take only captured group"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1559025260, "creation_date": 1559025260, "answer_id": 56336253, "question_id": 56336130, "link": "https://stackoverflow.com/questions/56336130/regex-for-matching-specific-numeric-patterns/56336253#56336253", "title": "RegEx for matching specific numeric patterns", "body": "<p>It may be that you want to just match numbers</p>\n\n<pre><code>echo \"-123 +1234\" | perl -wnE'@m = /([0-9]+)/g; say for @m'\n</code></pre>\n\n<p>unless you'd like to match numbers <em>only if they come with signs</em>, in which case</p>\n\n<pre><code>echo \"-123 +1234\" | perl -wnE'@m = /(?&lt;=[+-])([0-9]+)/g; say for @m'\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>echo \"-123 +1234\" | perl -wnE'@m = /[+-]([0-9]+)/g; say for @m'\n</code></pre>\n\n<p>in which case the <code>+</code> or <code>-</code> are consumed.</p>\n"}, {"comments": [{"owner": {"reputation": 349, "user_id": 10845954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7a20733c398b10b7813669f57d346da?s=128&d=identicon&r=PG&f=1", "display_name": "MOntu", "link": "https://stackoverflow.com/users/10845954/montu"}, "edited": false, "score": 0, "creation_date": 1559025905, "post_id": 56336311, "comment_id": 99278587, "body": "I did not get <code>is preceded by a space and preceded by a +</code> Where did I specify that I want this to be preceded by space?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 349, "user_id": 10845954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7a20733c398b10b7813669f57d346da?s=128&d=identicon&r=PG&f=1", "display_name": "MOntu", "link": "https://stackoverflow.com/users/10845954/montu"}, "edited": false, "score": 1, "creation_date": 1559026706, "post_id": 56336311, "comment_id": 99278917, "body": "I added clarification to the question"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1559091363, "last_edit_date": 1559091363, "creation_date": 1559025506, "answer_id": 56336311, "question_id": 56336130, "link": "https://stackoverflow.com/questions/56336130/regex-for-matching-specific-numeric-patterns/56336311#56336311", "title": "RegEx for matching specific numeric patterns", "body": "<p>In regex patterns, <code>ab</code> means <code>a</code> followed by <code>b</code>, which is another way of saying <code>b</code> preceded by <code>a</code>. Don't forget that <code>(?&lt;=...)</code> matches zero characters from the perspective of the surrounding pattern, so it's as if it wasn't there from the point of view of the surrounding pattern. This means that <code>(?&lt;=-)123 (?&lt;=\\+)1234</code> will match a subset of what <code>123 1234</code> matches. It's of particular interest that the pattern will only match if <code>1234</code> is preceded by a space.</p>\n\n<p>The subset of strings that match are those where <code>123</code> is preceded by a <code>-</code> (thanks to <code>(?&lt;=-)</code>) and <code>1234</code> is preceded by a <code>+</code> (thanks to <code>(?&lt;=\\+)</code>). It's of particular interest that the pattern will only match if <code>1234</code> is preceded by a <code>+</code>.</p>\n\n<p>Since <code>(?&lt;=-)123 (?&lt;=\\+)1234</code> will only match if <code>1234</code> is preceded by a space and preceded by a <code>+</code>, it will never match.</p>\n\n<p>It's not clear what you want.</p>\n\n<p>Maybe you want this?</p>\n\n<pre><code>$ echo \"-123 +1234\" | grep -Po '\\d+'\n123\n1234\n</code></pre>\n\n<p>Maybe you want this?</p>\n\n<pre><code>$ echo \"-123 +1234\" | perl -nle'@m=/\\d+/g; print \"@m\" if @m'\n123 1234\n</code></pre>\n\n<p>Maybe you want this?</p>\n\n<pre><code>$ echo \"-123 +1234\" | perl -nle'print \"$1 $2\" if /-(\\d+) \\+(\\d+)/'\n123 1234\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "is_accepted": false, "score": 0, "last_activity_date": 1559026899, "last_edit_date": 1559026899, "creation_date": 1559025850, "answer_id": 56336402, "question_id": 56336130, "link": "https://stackoverflow.com/questions/56336130/regex-for-matching-specific-numeric-patterns/56336402#56336402", "title": "RegEx for matching specific numeric patterns", "body": "<p>If you really want to extract the numbers that are preceded by a <code>-</code> or a <code>+</code>, then you can use:</p>\n\n<pre><code>echo '-123 +1234 456' | grep -oP '(?&lt;=-|\\+)\\d+'\n123\n1234\n</code></pre>\n\n<p>If you just want to extract any sequence of digits <em>(that is a word by itself)</em>, then using grep in <code>perl</code> like regex is not required and you can simply use:</p>\n\n<pre><code> echo '-123 +1234 456' | grep -Eo '\\b[0-9]+\\b'\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 10845954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7a20733c398b10b7813669f57d346da?s=128&d=identicon&r=PG&f=1", "display_name": "MOntu", "link": "https://stackoverflow.com/users/10845954/montu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 56336311, "answer_count": 3, "score": 1, "last_activity_date": 1559099673, "creation_date": 1559024673, "last_edit_date": 1559099673, "question_id": 56336130, "link": "https://stackoverflow.com/questions/56336130/regex-for-matching-specific-numeric-patterns", "title": "RegEx for matching specific numeric patterns", "body": "<p>I want to match numbers without signs or operator, So I came up this regex.</p>\n\n<pre><code>echo \"-123 +1234\" | grep -Po '(?&lt;=-)123 (?&lt;=\\+)1234'\n</code></pre>\n\n<p>but it's not matching the string. Why two lookbehind not working? If I do </p>\n\n<pre><code>echo \"-123 +1234\" | grep -Po '(?&lt;=-)123\n</code></pre>\n\n<p>I get the correct result <code>123</code> but when I do <code>grep -Po '(?&lt;=-)123 (?&lt;=\\+)1234'</code> the second part is not matching.</p>\n\n<p>My desired result: </p>\n\n<pre><code>123 1234\n</code></pre>\n"}, {"tags": ["bash", "git", "perl"], "comments": [{"owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 1, "creation_date": 1558988492, "post_id": 56331882, "comment_id": 99270759, "body": "<code>git stash</code> will sometimes do nothing and not create any stash. If that&#39;s the case, your later <code>git stash apply</code> will apply some <i>other</i> stash, if there is one, or just fail; neither seems like a good idea. This is probably not related to the problem you&#39;re seeing, but maybe it is, it&#39;s hard to tell since you don&#39;t have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> here."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1558988576, "post_id": 56331882, "comment_id": 99270784, "body": "Probably unrelated issue: <code>.</code> has special meaning in Perl regex, so your pattern doesn&#39;t match what you think it does. Fix that and the related code injection bugs as follows: <code>perl -i -spe&#39;s&#47;\\Q$o&#47;$n&#47;g&#39; -- -o=&quot;$old_version&quot; -n=&quot;$new_version&quot; file1.txt</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1558989572, "post_id": 56331882, "comment_id": 99271069, "body": "Tip: You can combine both calls to <code>perl</code>: <code>perl -i -spe&#39;s&#47;\\Q$o&#47;$n&#47;g&#39; -- -o=&quot;$old_version&quot; -n=&quot;$new_version&quot; file1.txt file2.txt</code>"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 11564014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36306ad648ffcab179c3c0a8ca791d50?s=128&d=identicon&r=PG&f=1", "display_name": "darknight", "link": "https://stackoverflow.com/users/11564014/darknight"}, "is_accepted": true, "score": 3, "last_activity_date": 1559056283, "creation_date": 1559056283, "answer_id": 56345229, "question_id": 56331882, "link": "https://stackoverflow.com/questions/56331882/bash-script-containing-git-commands-behaves-differently-when-used-together-with/56345229#56345229", "title": "Bash script containing git commands behaves differently when used together with perl", "body": "<p>The problem was in regex pattern used in the perl call. Changing it the following line has solved the problem:</p>\n\n<p><code>perl -i -spe's/\\Q$o/$n/g' -- -o=\"$old_version\" -n=\"$new_version\" file1.txt file2.txt</code></p>\n\n<p>Thanks <em>@ikegami</em> for the solution</p>\n"}], "owner": {"reputation": 63, "user_id": 11564014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36306ad648ffcab179c3c0a8ca791d50?s=128&d=identicon&r=PG&f=1", "display_name": "darknight", "link": "https://stackoverflow.com/users/11564014/darknight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 56345229, "answer_count": 1, "score": 2, "last_activity_date": 1559056283, "creation_date": 1558987402, "last_edit_date": 1558989600, "question_id": 56331882, "link": "https://stackoverflow.com/questions/56331882/bash-script-containing-git-commands-behaves-differently-when-used-together-with", "title": "Bash script containing git commands behaves differently when used together with perl", "body": "<p>I wrote a script that replaces last 3 digits of a version number in a file containing a string in this format </p>\n\n<blockquote>\n  <p>\"version-all:255.24.788\"</p>\n</blockquote>\n\n<p>There are 2 modes for the script: regular and advanced. Regular mode just makes the necessary changes, adds the files to git and commits them. Advanced version creates a branch to make those changes in, modifies the files, adds, commits, then returns to the original working branch.</p>\n\n<p>I observe an odd behavior when running the script. The script works when ran first time, but when ran second time, it stops committing the results and tries to change the branch resulting in merge conflicts. I can't figure out why the script would only work odd number of times (first, third, fifth time) and when ran even number of times (second, fourth, sixth), fails.</p>\n\n<p>I've tried changing the syntax of variables and replaced perl calls with a simple </p>\n\n<pre><code>echo \"test\" &gt; file1.txt\n</code></pre>\n\n<p>for debugging purposes and it seems to work fine then. When adding perl commands back, the script seems to return to its odd behaviour.</p>\n\n<pre><code>#!/bin/bash\n# This script replaces last 3 digits of a version number in a file\n# There are 2 modes for the script\n#   1. Regular - no flag needed, requires 1 argument: a version number\n#   2. Advanced - flag \"-a\" needs to be used followed by 3 arguments: version number, push repo name, remote repo name.\n\nadvanced_script=false\nversion=\"none\"\n\nif [ \"$1\" = \"-a\" ] ; then\n    advanced_script=true\nfi\n\nif [ \"$advanced_script\" = true ] ; then \n    if [ $# -ne 4 ] ; then\n        echo -e \"ERROR: Please supply the following 3 arguments and try again.\\n\" \n        echo -e \"       1. New version number\\n\"\n        echo -e \"       2. Push repository name\\n\"\n        echo -e \"       3. Remote repository name\\n\"\n        exit 1\n    fi\n    version=\"$2\"\nelse\n    if [ $# -ne 1 ] ; then\n        echo -e \"ERROR: Please supply version number and try again.\\n\"  \n        exit 1\n    fi \n    version=\"$1\"\nfi\n\nold_version_full=\"version-all:255.24.788\"\nold_version=${old_version_full##*all:}\nnew_version=${old_version%.*}\nnew_version+=\".${version}\"\n\ncurrent_branch=$(git branch | grep \\* | cut -d ' ' -f2)\ncommit_string=\"Bump the version to $version\"\n\nif [ \"$advanced_script\" = true ] ; then \n    local_branch=\"new_$version\"\n    remote_master=\"$4/master\"\n    git stash\n    git checkout -b \"$local_branch\" \"$remote_master\"\nfi \n\nperl -i -pe\"s/${old_version}/${new_version}/g\" file1.txt\nperl -i -pe\"s/${old_version}/${new_version}/g\" file2.txt\n\ngit add file1.txt\ngit add file2.txt\n\ngit status\n\ngit commit -m \"$commit_string\"\n\nif [ \"$advanced_script\" = true ] ; then \n    git push \"$3\"\n    git checkout \"$current_branch\"\n    git stash apply\nfi\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558984844, "post_id": 56330515, "comment_id": 99269733, "body": "You could try upload test files to <a href=\"https://pastebin.com/\" rel=\"nofollow noreferrer\">pastebin.com</a>"}, {"owner": {"reputation": 27, "user_id": 11469335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0RfuegXh4Oc/AAAAAAAAAAI/AAAAAAABxRc/7HSYCzJn9e0/photo.jpg?sz=128", "display_name": "Marcele Laux", "link": "https://stackoverflow.com/users/11469335/marcele-laux"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1559039131, "post_id": 56330515, "comment_id": 99285456, "body": "My files uploaded: input 1: <a href=\"https://ufile.io/k0zx0r3o\" rel=\"nofollow noreferrer\">ufile.io/k0zx0r3o</a> input 2: <a href=\"https://ufile.io/szweuy8g\" rel=\"nofollow noreferrer\">ufile.io/szweuy8g</a> expected/generated output: <a href=\"https://ufile.io/y8yyrk7g\" rel=\"nofollow noreferrer\">ufile.io/y8yyrk7g</a> my current script: <a href=\"https://ufile.io/s14x346o\" rel=\"nofollow noreferrer\">ufile.io/s14x346o</a>"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 11469335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0RfuegXh4Oc/AAAAAAAAAAI/AAAAAAABxRc/7HSYCzJn9e0/photo.jpg?sz=128", "display_name": "Marcele Laux", "link": "https://stackoverflow.com/users/11469335/marcele-laux"}, "edited": false, "score": 1, "creation_date": 1559039364, "post_id": 56331790, "comment_id": 99285604, "body": "Thank you, it almost worked, but it didn&#39;t write the output lines properly, I think it is because we are trying to write nested arrays, dont you think? so maybe it is messing the inner components of each array... Your script wrote 418 lines, nice, it fixed the loop, but it wrote all mixed, look: AB456050UniplantRoncirus49rifoli68a geneforwardTCCCGHYTGAYYTGRGGTCDC 26S20RNA, c71.4ete and partial sequ56.5 - 69.8men_voucher: THS:77968. I uploaded my files, if you would like to help me, its right after my question. Thank you very much"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 27, "user_id": 11469335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0RfuegXh4Oc/AAAAAAAAAAI/AAAAAAABxRc/7HSYCzJn9e0/photo.jpg?sz=128", "display_name": "Marcele Laux", "link": "https://stackoverflow.com/users/11469335/marcele-laux"}, "edited": false, "score": 0, "creation_date": 1559040123, "post_id": 56331790, "comment_id": 99286024, "body": "Ok great. <i>&quot; look: AB456050UniplantRoncirus...&quot;</i> : I downloaded your files <code>input1_only_its.fasta</code> and <code>input2_plant_names_primer_bind_sorted.txt</code> but I cannot find any reference in those files to &quot;<i>Roncirus</i>&quot; so I cannot reproduce the output you give"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 27, "user_id": 11469335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0RfuegXh4Oc/AAAAAAAAAAI/AAAAAAABxRc/7HSYCzJn9e0/photo.jpg?sz=128", "display_name": "Marcele Laux", "link": "https://stackoverflow.com/users/11469335/marcele-laux"}, "edited": false, "score": 0, "creation_date": 1559040533, "post_id": 56331790, "comment_id": 99286246, "body": "Note also: your files was DOS (windows type line endings) format so I had to convert to UNIX line endings before I could use my script, see <a href=\"http://manpages.ubuntu.com/manpages/disco/man1/fromdos.1.html\" rel=\"nofollow noreferrer\">man fromdos</a>"}, {"owner": {"reputation": 27, "user_id": 11469335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0RfuegXh4Oc/AAAAAAAAAAI/AAAAAAABxRc/7HSYCzJn9e0/photo.jpg?sz=128", "display_name": "Marcele Laux", "link": "https://stackoverflow.com/users/11469335/marcele-laux"}, "edited": false, "score": 0, "creation_date": 1559041499, "post_id": 56331790, "comment_id": 99286788, "body": "About the &quot;Roncirus&quot; I didn&#39;t find any refernce with this name in any of the 2 inputs, weird... and about the files, its something about the uploader, because I&#39;m working on unix system."}, {"owner": {"reputation": 27, "user_id": 11469335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0RfuegXh4Oc/AAAAAAAAAAI/AAAAAAABxRc/7HSYCzJn9e0/photo.jpg?sz=128", "display_name": "Marcele Laux", "link": "https://stackoverflow.com/users/11469335/marcele-laux"}, "edited": false, "score": 0, "creation_date": 1559041791, "post_id": 56331790, "comment_id": 99286938, "body": "I didnt because I took them directly from my server, where Im working, so I didnt think about converting, the windows did only the uploading in the website, should I do something different? could you just wc the files to me to check if it is the same?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 27, "user_id": 11469335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0RfuegXh4Oc/AAAAAAAAAAI/AAAAAAABxRc/7HSYCzJn9e0/photo.jpg?sz=128", "display_name": "Marcele Laux", "link": "https://stackoverflow.com/users/11469335/marcele-laux"}, "edited": false, "score": 0, "creation_date": 1559041886, "post_id": 56331790, "comment_id": 99286991, "body": "I could email them to you? If its ok"}, {"owner": {"reputation": 27, "user_id": 11469335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0RfuegXh4Oc/AAAAAAAAAAI/AAAAAAABxRc/7HSYCzJn9e0/photo.jpg?sz=128", "display_name": "Marcele Laux", "link": "https://stackoverflow.com/users/11469335/marcele-laux"}, "edited": false, "score": 0, "creation_date": 1559042247, "post_id": 56331790, "comment_id": 99287174, "body": "sure! Just an extra detail, besides the &quot;=-420&quot; lines, another checking feature would be each output line have 3 fields, like using the cut -f &quot;\\t&quot;, 1 for accession, 2 for species name and 3 for primer details."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 27, "user_id": 11469335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0RfuegXh4Oc/AAAAAAAAAAI/AAAAAAABxRc/7HSYCzJn9e0/photo.jpg?sz=128", "display_name": "Marcele Laux", "link": "https://stackoverflow.com/users/11469335/marcele-laux"}, "edited": false, "score": 0, "creation_date": 1559042334, "post_id": 56331790, "comment_id": 99287219, "body": "sorry I could not find your email address in your profile, if you send an email to me I will reply with the files, thank you!"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1558986884, "creation_date": 1558986884, "answer_id": 56331790, "question_id": 56330515, "link": "https://stackoverflow.com/questions/56330515/how-to-create-an-output-file-rewrited/56331790#56331790", "title": "How to create an output file (re)writed?", "body": "<p>Here is an example where I read the multi fasta file headers into a hash before I start processing the primer validation file. In this way I avoid a double <code>for</code> loop:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n{\n    my $fasta_data = read_fasta_file();\n    print \"file to rename:\\t\";\n    chomp (my $fn = &lt;STDIN&gt;);\n    open ( my $fh, '&lt;', $fn ) or die \"Could not open file '$fn': $!\";\n    my $save_fn = 'plant_names_primer_bind_renamed.txt';\n    open ( my $save_fh, '&gt;', $save_fn ) or die \"Could not open file '$save_fn': $!\";\n    my $count = 0;\n    while (my $line = &lt;$fh&gt;) {\n        chomp $line;\n        my @data = split /,/, $line;\n        if (@data) {\n            my $key = $data[0];\n            my $def = $fasta_data-&gt;{$key};\n            if (defined $def) {\n                #say ++$count;\n                say $save_fh join \"\\t\", $key, $def, @data[1..$#data];\n            }\n        }\n    }\n    close $save_fh;\n    close $fh;\n}  \n\n\nsub read_fasta_file {\n    print \"multifasta:\\t\";\n    chomp(my $fn = &lt;STDIN&gt;);\n    open ( my $fh, '&lt;', $fn ) or die \"Could not open file '$fn': $!\";\n    my %data;\n    while (my $line = &lt;$fh&gt;) {\n        chomp $line;\n        my ($key, $value ) = $line =~ /^&gt;(\\S+)\\s+(.*)$/;\n        $data{$key} = $value if defined $value;\n    }\n    close $fh;\n    return \\%data;\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 11469335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0RfuegXh4Oc/AAAAAAAAAAI/AAAAAAABxRc/7HSYCzJn9e0/photo.jpg?sz=128", "display_name": "Marcele Laux", "link": "https://stackoverflow.com/users/11469335/marcele-laux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558986884, "creation_date": 1558979628, "last_edit_date": 1558980726, "question_id": 56330515, "link": "https://stackoverflow.com/questions/56330515/how-to-create-an-output-file-rewrited", "title": "How to create an output file (re)writed?", "body": "<p>I've been trying to solve my script but I really would appreciate some help.\nI have 2 input files. </p>\n\n<p>The first one is a multi-fasta file with headers like this:</p>\n\n<pre><code>'&gt;AH008024.2 Angelica acutiloba internal transcribed spacers 1 and 2, partial sequence'\n'&gt;AJ969149.1 Carthamus tinctorius partial ITS2'\n....\n</code></pre>\n\n<p>(the quotes are just to let the > sign visible, otherwise it is not showed...)</p>\n\n<p>The second one is a primer validation file which looks like this:</p>\n\n<pre><code>AB280738.1,UniplantR,49,68,forward,CCCGHYTGAYYTGRGGTCDC,20,71.4,,,56.5 - 69.8\nAB280739.1,UniplantR,49,68,forward,CCCGHYTGAYYTGRGGTCDC,20,71.4,,,56.5 - 69.8\nAB280740.1,UniplantR,49,68,forward,CCCGHYTGAYYTGRGGTCDC,20,71.4,,,56.5 - 69.8\n...\n</code></pre>\n\n<p>I want to write a \"rewrited\" version of the second file, changing the accession number \"AB280738.1\" for the species names from the fasta file, generating a tab delimited output like this:</p>\n\n<pre><code>AB280738.1      Glycyrrhiza uralensis ITS1, 5.8S rRNA and ITS2     UniplantR 49 68 forward CCCGHYTGAYYTGRGGTCDC 20 71.4   56.5 - 69.8\n\nAB280739.1      Glycyrrhiza glabra ITS1, 5.8S rRNA and ITS2      UniplantR 49 68 forward CCCGHYTGAYYTGRGGTCDC 20 71.4   56.5 - 69.8     \n...\n</code></pre>\n\n<p>The final output must have the same number of lines that the second input file, the primers file, which in this case is 420 lines, but my current output is writing 292140 lines, it is doing the matching, but it is not writing properly.</p>\n\n<p>I've been working on this code that I'm showing to you.\nI see that the \"matching\" part of my script is working, but I think that I am not doing the right \"push\" step. Besides this, something is making my nested loops recursive, because there's multiple lines from the same match.\nTo know that it is working, the output must have the same number of lines that the second input, the primers input.\nThe second \"print\" tells me hou many times the pattern matched, and it is giving me 540 instead of 420.</p>\n\n<p>I would like to upload my input files and my current output if someone would like to try with it, but I couldn't find where upload files..</p>\n\n<pre><code>   #!/usr/bin/perl\n   use diagnostics;\n   use warnings;\n   use strict;\n\n   print \"multifasta:\\t\";\n   my $arq1 = &lt;STDIN&gt;;\n   open (MYFILE, $arq1);\n   my @file = &lt;MYFILE&gt;;\n   close (MYFILE);\n   print \"file to rename:\\t\";\n   my $arq2 = &lt;STDIN&gt;;\n   open (MYFILE2, $arq2);\n   my @file2 = &lt;MYFILE2&gt;;\n   close (MYFILE2);\n   my @new_file=();\n   my $count = ();\n   open (NEW_FILE, '&gt;&gt;plant_names_primer_bind_renamed.txt');\n   foreach my $line2 (@file2) { \n           my @fields = split (/,/, $line2);\n           my $accession2 = shift(@fields);\n                   foreach my $line (@file) {\n                           if ($line =~ /^&gt;/) {    \n                           my $rev = reverse $line;\n                           chop ($rev);\n                           my $header = reverse $rev;\n                           my @header = split (/ /, $header);\n                           my $accession = shift (@header);\n                                 if ($accession =~ /$accession2/)        {       \n                   $count++;\n                   print \"$accession2 match $accession\\t@header\\t@fields\\n\\n\";\n                   print \"$count\\n\";\n                   push (@new_file, (\"$accession2\\t@header\\t@fields\"));\n                   print NEW_FILE @new_file;\n           }      \n        }       \n      }       \n   }  \n\n\n\n\n\n</code></pre>\n"}, {"tags": ["arrays", "perl", "indexing", "comparison"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1558968566, "post_id": 56328240, "comment_id": 99264052, "body": "Crossposted to <a href=\"https://www.perlmonks.org/?node_id=11100573\" rel=\"nofollow noreferrer\">PerlMonks</a>."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 4, "creation_date": 1558969634, "post_id": 56328240, "comment_id": 99264520, "body": "A lot of people answered your question on PerlMonks. Yet you ask here exactly the same one, and don&#39;t seem to have made any effort to fix it by following the suggestions you were given on PerlMonks. So basically, you seem to be waiting for a solution matching exactly your requirements, rather than for help to solve your problem. If you want someone to do your code for you, you should hire a developer."}, {"owner": {"reputation": 616, "user_id": 7922428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vINFX.png?s=128&g=1", "display_name": "Bman70", "link": "https://stackoverflow.com/users/7922428/bman70"}, "edited": false, "score": 0, "creation_date": 1559022280, "post_id": 56328240, "comment_id": 99277212, "body": "This sounds like a midterm"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 11562346, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HbOdHQ-ZcI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfC6LLHMkb1SiGuqx_42piI2fmZCw/mo/photo.jpg?sz=128", "display_name": "RebiKirl", "link": "https://stackoverflow.com/users/11562346/rebikirl"}, "edited": false, "score": 1, "creation_date": 1559034376, "post_id": 56329902, "comment_id": 99282765, "body": "Thank you for your help! I ll take a look to the &quot;exists&quot; function"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1558976155, "creation_date": 1558976155, "answer_id": 56329902, "question_id": 56328240, "link": "https://stackoverflow.com/questions/56328240/get-identical-elements-and-index-from-2-arrays-in-perl/56329902#56329902", "title": "Get identical elements and index from 2 Arrays in Perl", "body": "<p>Here is an example:</p>\n\n<pre><code>my @A = (\"Red\", \"Green\", \"Yellow\");\nmy @B = (\"Yellow\", \"Black\",\"Yellow\",\"Red\", \"White\", \"Yellow\");\nmy %indices;\nfor my $i (0..$#B) {\n    push @{ $indices{$B[$i]} }, $i;\n}\nmy $count = 0;\nfor (@A) {\n    if (exists $indices{$_} ) {\n        my @temp = @{ $indices{$_} };\n        $count += (scalar @temp);\n        print \"$_ is at index: \", @temp, \"\\n\";\n    }\n    else {\n        print \"$_ is missing\\n\";\n    }\n}\nprint \"Elements from B were detected \", $count, \" times in A.\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 11562346, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HbOdHQ-ZcI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfC6LLHMkb1SiGuqx_42piI2fmZCw/mo/photo.jpg?sz=128", "display_name": "RebiKirl", "link": "https://stackoverflow.com/users/11562346/rebikirl"}, "edited": false, "score": 1, "creation_date": 1559304800, "post_id": 56336417, "comment_id": 99388243, "body": "Thanks! this is a great help for me"}], "tags": [], "owner": {"reputation": 616, "user_id": 7922428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vINFX.png?s=128&g=1", "display_name": "Bman70", "link": "https://stackoverflow.com/users/7922428/bman70"}, "is_accepted": false, "score": 0, "last_activity_date": 1559025905, "creation_date": 1559025905, "answer_id": 56336417, "question_id": 56328240, "link": "https://stackoverflow.com/questions/56328240/get-identical-elements-and-index-from-2-arrays-in-perl/56336417#56336417", "title": "Get identical elements and index from 2 Arrays in Perl", "body": "<p>Here's a somewhat simple way. A count and a switch variable keeps track of whether an item is found or missing: </p>\n\n<pre><code>my @a = (\"Red\", \"Green\", \"Yellow\");\nmy @b = (\"Yellow\", \"Black\",\"Yellow\",\"Red\", \"White\", \"Yellow\");\nmy $count = 0;\nfor my $ael (0 .. $#a) {\n my $switch = \"off\";\n for my $bel (00 .. $#b) {\n  if ($a[$ael] eq $b[$bel]) {\n  $count++;\n  $switch = \"on\"; \nprint \"$b[$bel] found at index $bel\\n\";\n                            }\n                         }\nprint \"$a[$ael] is missing\\n\" if $switch eq \"off\";  \n                        }\nprint \"Elements from B found $count times in A\";\n</code></pre>\n\n<p>Outputs: </p>\n\n<pre><code>Red found at index 3\nGreen is missing\nYellow found at index 0\nYellow found at index 2\nYellow found at index 5\nElements from B found 4 times in A\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 11562346, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HbOdHQ-ZcI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfC6LLHMkb1SiGuqx_42piI2fmZCw/mo/photo.jpg?sz=128", "display_name": "RebiKirl", "link": "https://stackoverflow.com/users/11562346/rebikirl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1559025905, "creation_date": 1558968293, "question_id": 56328240, "link": "https://stackoverflow.com/questions/56328240/get-identical-elements-and-index-from-2-arrays-in-perl", "title": "Get identical elements and index from 2 Arrays in Perl", "body": "<p>I am new in Perl and I am trying to solve the following comparison.</p>\n\n<p>I have two arrays:<br>\n@A = (\"Red\", \"Green\", \"Yellow\");<br>\n@B = (\"Yellow\", \"Black\",\"Yellow\",\"Red\", \"White\", \"Yellow\");</p>\n\n<p>In array A, each element occurs only once.<br>\nIn array B, each element can occur zero, one or many times. </p>\n\n<p>For every element in A, the code should lists the position at which it is present in B and give the output as following:  </p>\n\n<p><code>&gt;</code> Red at index 3.<br>\n<code>&gt;</code> Green is missing.<br>\n<code>&gt;</code> Yellow at index 0, 2 and 5.<br>\n<code>&gt;</code> Elements from B were detected 4 times in A. </p>\n\n<p>I tried the following but I cannot figure out how to list indexes of elements after comparing two arrays</p>\n\n<pre><code>foreach $x (@A){\n    foreach $y (@B){\n    if ($y eq $x){\n    print \"$y\\n\";\n    }\n    elsif ($x ne$y){\n    print \"$x\";\n    }\n  }\n}\n</code></pre>\n\n<p>Can someone please, help me? Thank you very much in advance!\nRebi</p>\n"}, {"tags": ["perl", "multiprocessing", "fork", "posix", "waitpid"], "answers": [{"comments": [{"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1559008827, "post_id": 56329721, "comment_id": 99274605, "body": "But isn&#39;t the REAPER doing a while loop? Shouldn&#39;t that hold up the main at the point of execution? Loop is attempting to do <i>while reaped PIDs are greater than 0 - sleep for 1 second</i>? What do you think."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1559020698, "post_id": 56329721, "comment_id": 99276772, "body": "@User9102d82 Yes, the <code>while</code> loop <i>would</i> do that -- as long as it keeps running, that is.  But it exits when <code>waitpid</code> returns 0, and you get when there are child processes out there (what is really exactly what you want).  So the problem is not the non-blocking operation but the condition <code>&gt; 0</code> in the <code>while</code> loop."}, {"owner": {"reputation": 961, "user_id": 341930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2819a0020e657078218ed37f96b97b7?s=128&d=identicon&r=PG", "display_name": "TFBW", "link": "https://stackoverflow.com/users/341930/tfbw"}, "reply_to_user": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1559031584, "post_id": 56329721, "comment_id": 99281350, "body": "@User9102d82 The REAPER is doing a while loop on waitpid() with the WNOHANG option. This option prevents waitpid() from actually waiting: it reaps child processes which have already terminated, returning the pid of the deceased process, and then returns zero if there are more processes that haven&#39;t terminated yet, or -1 if there are no more child processes. At the end, you want to do a <i>blocking</i> wait (rather than a non-blocking one) so that you don&#39;t exit until all the children are done."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559058701, "post_id": 56329721, "comment_id": 99296781, "body": "@TFBW All correct, but as they say that <code>while</code> loop keeps spinnin&#39;.  It keeps coming back to check what you describe, again and again. (It should have a <code>sleep</code> in there!) The non-blocking nature isn&#39;t a problem -- as long as it doesn&#39;t exit at <code>0</code> return (see my answer)."}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1559222705, "post_id": 56329721, "comment_id": 99358620, "body": "@TFBW: Thank you for replying to my question and I appreciate you taking out time to answer it."}], "tags": [], "owner": {"reputation": 961, "user_id": 341930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2819a0020e657078218ed37f96b97b7?s=128&d=identicon&r=PG", "display_name": "TFBW", "link": "https://stackoverflow.com/users/341930/tfbw"}, "is_accepted": false, "score": 1, "last_activity_date": 1558975190, "creation_date": 1558975190, "answer_id": 56329721, "question_id": 56327077, "link": "https://stackoverflow.com/questions/56327077/parent-doesnt-wait-for-child-processes-to-finish-despite-reaping/56329721#56329721", "title": "Parent doesn&#39;t wait for child processes to finish despite reaping", "body": "<p>On exiting your main loop, you call REAPER(), which does a non-blocking waitpid(). Non-blocking. Non. And it's not blocking. So it's exiting.</p>\n\n<p>While I'm here, I note that your update_proc_hash() function is not looping like the other things that do waitpid(), so it's not catching all that it could. Do yourself a favour and factor all that stuff out neatly.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559021643, "post_id": 56332694, "comment_id": 99277051, "body": "@User9102d82  Edited the explanation for clarity (hopefully!).  Added a more basic way to do this."}, {"owner": {"reputation": 961, "user_id": 341930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2819a0020e657078218ed37f96b97b7?s=128&d=identicon&r=PG", "display_name": "TFBW", "link": "https://stackoverflow.com/users/341930/tfbw"}, "edited": false, "score": 0, "creation_date": 1559060899, "post_id": 56332694, "comment_id": 99298013, "body": "Why not just use wait(), or waitpid(-1) without the WNOHANG option? The whole point of non-blocking waits are to deal with situations where you <i>don&#39;t</i> want to pause and wait for things to finish, you just want to clean up the ones which have already done so."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 961, "user_id": 341930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2819a0020e657078218ed37f96b97b7?s=128&d=identicon&r=PG", "display_name": "TFBW", "link": "https://stackoverflow.com/users/341930/tfbw"}, "edited": false, "score": 0, "creation_date": 1559066163, "post_id": 56332694, "comment_id": 99300249, "body": "@TFBW Sure, can do that as well. The non-blocking one allows one to do other things in between checks (perhaps check up on how/what those processes are doing), what can be useful with long waits. (I might add more discussion)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 961, "user_id": 341930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2819a0020e657078218ed37f96b97b7?s=128&d=identicon&r=PG", "display_name": "TFBW", "link": "https://stackoverflow.com/users/341930/tfbw"}, "edited": false, "score": 0, "creation_date": 1559095794, "post_id": 56332694, "comment_id": 99309083, "body": "@User9102d82 Added another way"}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1559222707, "post_id": 56332694, "comment_id": 99358622, "body": "Thanks @zdim, this worked. I missed out on the not checking greater than -1 and that was the key issue. I am selecting  your explanation as answer as it hits the point directly and is more detailed and elaborated."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1566887842, "last_edit_date": 1566887842, "creation_date": 1558993271, "answer_id": 56332694, "question_id": 56327077, "link": "https://stackoverflow.com/questions/56327077/parent-doesnt-wait-for-child-processes-to-finish-despite-reaping/56332694#56332694", "title": "Parent doesn&#39;t wait for child processes to finish despite reaping", "body": "<p>The <a href=\"https://perldoc.perl.org/functions/waitpid.html\" rel=\"nofollow noreferrer\">waitpid</a></p>\n\n<blockquote>\n  <p>can return 0 if there are child processes matching PID but none have terminated yet</p>\n</blockquote>\n\n<p>With <code>-1</code> this applies to any child process and so your code with multiple children will surely encounter a zero return from the non-blocking <code>waitpid</code> in <code>REAPER</code>; this is precisely how we get to wait as long as there are non-terminated child processes.  But your <code>while</code> loop exits at first such zero.</p>\n\n<p>One way about this is to poll for non-negative returns</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse POSIX ':sys_wait_h';\nuse Time::HiRes qw(sleep) ;\n\nfor (1..4) { \n    my $pid = fork // die \"Can't fork: $!\";\n    if ($pid == 0) { \n        sleep rand 4;  \n        say \"\\tkid $$ exiting\"; \n        exit;\n    };  \n}; \n\nwhile ( (my $kid = waitpid -1, WNOHANG) &gt; -1 ) { \n    say \"got $kid\" if $kid &gt; 0;\n    sleep 0.2;\n}\n</code></pre>\n\n<p>Prints</p>\n\n<pre>\n        kid 12687 exiting\ngot 12687\n        kid 12690 exiting\ngot 12690\n        kid 12689 exiting\ngot 12689\n        kid 12688 exiting\ngot 12688\n</pre>\n\n<p>Please adjust the polling period as suitable.  Note that since this catches <em>any</em> child processes it is possible for it to interfere with yet other forks, if there were any unwaited ones by that point.</p>\n\n<p>Or you can block with the wait</p>\n\n<pre><code>while ( (my $kid = waitpid -1, 0) &gt; -1 ) { \n    say \"got $kid\";\n}\n</code></pre>\n\n<p>where you can now also do <code>&gt; 0</code>, as there'll be no <code>0</code> returns here since the call blocks. While we only need the loop to terminate once <code>-1</code> comes back (no more processes out there), as before.</p>\n\n<p>The major difference is that the block executes only once a child process actually exited, so if you need to keep tabs on what some long-running children are doing (and perhaps limit their run times or protect against hung jobs) that is not as easy in this form; you want a non-blocking operation for that.</p>\n\n<p>Note that some of details, in particular relating to returns, may vary across systems.</p>\n\n<hr>\n\n<p>The naive version of this is to wait only for these specific PIDs, collected as you <code>fork</code></p>\n\n<pre><code>foreach my $pid (@pids) {\n    my $gone = waitpid $pid, 0;\n    say \"Process $gone exited with $?\" if $gone &gt; 0;  # -1 if reaped already\n}\n</code></pre>\n\n<p>which blocks with <code>waitpid</code> for each process. The problem with this is that if one process runs much longer than others (or hangs) this loop will be stuck waiting at it. And, just in general, we'd rather have children processes reaped as they exit than in the order in which they were started.</p>\n"}], "owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "accepted_answer_id": 56332694, "answer_count": 2, "score": 2, "last_activity_date": 1566887842, "creation_date": 1558963784, "last_edit_date": 1559223281, "question_id": 56327077, "link": "https://stackoverflow.com/questions/56327077/parent-doesnt-wait-for-child-processes-to-finish-despite-reaping", "title": "Parent doesn&#39;t wait for child processes to finish despite reaping", "body": "<p>I am fully aware that there are tonnes of articles explaining the inner workings of parent-child process dynamics. I have gone through them and got my stuff working as  I want it to function, almost. But there is one thing which is bugging me out and I am not able to understand it despite multiple tries.</p>\n\n<p><strong>Problem:</strong> Despite reaping the children, main is not waiting for all children to finish and exits prematurely. I believe I did make a proper exit from the child process and I have installed the REAPER in the child process - so how is main exiting before the child finishes?</p>\n\n<p><em>Not looking for a solution here</em> - but I need a new direction where I could bang my head for the next week. As of now - I feel I have exhausted my options and tried a lot many things but to no avail.</p>\n\n<p><strong>Some background about what I am trying to achieve:</strong> </p>\n\n<p>All in all - I want all the children to finish, and only then I want to proceed to do something further. Each child process spawns a bunch of threads and those threads are properly joined by the said child process which then proceeds to make an exit with <code>exit(0)</code>.</p>\n\n<p>The additional hoopla you might observe in the program is nothing but our requirement where we are to hit 5 APIs (engines) but only with a fixed batch size, say 10 for each, at a time. I launch child process for each engine and launch thread for each request - and then I wait for all threads to finish, join them, and only then child process exits. Only now I could deposit the next batch of requests to the same engine, and I do this for all engines till I exhaust my total requests, say 10000.</p>\n\n<p>Each request may take anywhere between 1 second to 2 hours - basically they are CSV reports being fetched from an HTTP API.</p>\n\n<p><strong>My issue</strong> is that when I have exhausted my total set of requests - I am not able to wait make the MAIN wait till all child processes have finished. This is weird and is the issue which I am trying to tackle.</p>\n\n<p>Any ideas?</p>\n\n<p><strong>My Program OUTPUT:</strong></p>\n\n<pre><code>[compuser@lenovoe470:little-stuff]$  perl 07--20190526-batch-processing-using-threads-with-busy-pool-detection-2.pl 12\n26710: STARTING TASKS IN BATCHES\n26710: RUNNING batch_engine 1_e1 tasks (1 2)\n26710: RUNNING batch_engine 2_e2 tasks (3 4)\n26710: RUNNING batch_engine 3_e3 tasks (5 6 7)\n26710: BUSY_ENGINE: e1.\n26710: BUSY_ENGINE: e2.\n26710: BUSY_ENGINE: e3.\n26710: BUSY_ENGINE: e1.\n26710: BUSY_ENGINE: e2.\n26710:26712: TASK_ORCHESTRATOR: &gt;&gt; finished batch_engine (2_e2) tasks (3 4)\n26710: PID (26712) has finished with status (0). updating proc hash\n26710: BUSY_ENGINE: e3.\n26710:26713: TASK_ORCHESTRATOR: &gt;&gt; finished batch_engine (3_e3) tasks (5 6 7)\n26710:26711: TASK_ORCHESTRATOR: &gt;&gt; finished batch_engine (1_e1) tasks (1 2)\n26710: PID (26713) has finished with status (0). updating proc hash\n26710: BUSY_ENGINE: e1.\n26710: PID (26711) has finished with status (0). updating proc hash\n26710: RUNNING batch_engine 4_e2 tasks (8 9)\n26710: RUNNING batch_engine 5_e3 tasks (10 11 12)\n26710: FINISHED TASKS IN BATCHES\n[compuser@lenovoe470:little-stuff]$  1:26722: TASK_ORCHESTRATOR: &gt;&gt; finished batch_engine (5_e3) tasks (10 11 12)\n1:26721: TASK_ORCHESTRATOR: &gt;&gt; finished batch_engine (4_e2) tasks (8 9)\n</code></pre>\n\n<p><strong>In above output:</strong></p>\n\n<ul>\n<li>Running batch_engine means I am running a batch of numbered tasks.</li>\n<li>BUSY_ENGINE means that the endpoint/engine is busy as it is already busy handling max batch size of requests. I need to wait.</li>\n<li>finished batch_engine means that the child process has finished processing the given batch of requests for a particular engine/end-point. It exits and main detects that the current engine is now free and next batch can be en-queued </li>\n<li>if we see the last 2 lines, its evident that the child processes' output has spilled over &amp; main exited prematurely without waiting for the running children. Why? any help?</li>\n</ul>\n\n<p><strong>My program:</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse POSIX ':sys_wait_h';\nuse Thread qw(async);\n\n\nSTDOUT-&gt;autoflush(1);\n\n\n# doesn't work\n  sub reaper {\n    my $reaped;\n    while (($reaped = waitpid (-1,&amp;WNOHANG) &gt; 0)) {\n      print \"$$: reaped: $reaped\\n\";\n      sleep(1);\n    }\n    $SIG{CHLD} = \\&amp;reaper;\n  }\n# doesn't work\n\n\nmy @total_tasks = (1 .. shift || 9);\nmy @engines = (qw/e1 e2 e3/);\nmy $sizes = { e1 =&gt; 2, e2 =&gt; 2, e3 =&gt; 3, };\n\nmy $proc_hash;\nmy $global_string = \"ENGINE\";\n\n# source: https://duyanghao.github.io/ways_avoid_zombie_process/\n#\n  sub REAPER {\n    local ($!, $?);\n    while ( (my $reaped_pid = waitpid(-1, WNOHANG)) &gt; 0 ) {\n      if ( WIFEXITED($?) ) \n      {\n        # my\n        my $ret_code = WEXITSTATUS($?);\n        print \"$$: PID ($reaped_pid) has finished with status ($ret_code). updating proc hash\\n\";\n        my $engine_name = $proc_hash-&gt;{$reaped_pid};\n        delete ($proc_hash-&gt;{$reaped_pid});\n        delete ($proc_hash-&gt;{$engine_name});\n        # my\n\n        # original\n        #my $ret_code = WEXITSTATUS($?);\n        #print \"child process:$pid exit with code:$ret_code\\n\";\n        # original\n      }\n    }\n  }\n#\n\n$SIG{CHLD} = \\&amp;REAPER;\n\nsub random_sleep_time {\n  return (int(rand(5)+1))\n  #return (sprintf \"%.2f\",(rand(1)+1))\n}\n\nsub task_runner {\n  my @args = @_;\n  my ($batch_engine, $task) = ($args[0]-&gt;[0],$args[0]-&gt;[1]);\n  STDOUT-&gt;autoflush(1);\n  my $task_time = random_sleep_time();\n  sleep ($task_time);\n  threads-&gt;exit(0);\n  #print \"$$:\".(threads-&gt;tid()).\": TASK_RUNNER: $global_string ($batch_engine) task ($task) finished in $task_time seconds\\n\";\n  #return;\n};\n\nsub task_orchestrator {\n  my ($batch_engine, @tasks) = @_;\n  my $engine = (split (/_/,$batch_engine))[1];\n  my $task_orch_pid = fork();\n  die \"Failed to fork task_orchestrator\\n\" if not defined $task_orch_pid;\n\n  if ($task_orch_pid != 0) {\n    $proc_hash-&gt;{$engine} = $task_orch_pid;\n    $proc_hash-&gt;{$task_orch_pid} = $engine;\n  }\n\n  if ($task_orch_pid == 0) {\n    STDOUT-&gt;autoflush(1);\n    my @tids;\n    for (my $i=1 ; $i &lt;= $#tasks ; $i++) { push (@tids,$i) }\n    foreach my $task_number (0 .. $#tasks) { \n      $tids [$task_number] = threads-&gt;create (\n        \\&amp;task_runner,[$batch_engine,$tasks [$task_number]]\n      );\n    }\n    my $ppid = getppid();\n    foreach my $tid (@tids) {$tid-&gt;join()}\n    print \"$ppid:$$: TASK_ORCHESTRATOR: &gt;&gt; finished batch_engine ($batch_engine) tasks (@tasks)\\n\";\n    exit (0);\n  }\n}\n\nsub update_proc_hash {\n  my $finished_pid = waitpid (-1, POSIX-&gt;WNOHANG);\n  if ($finished_pid &gt; 0) {\n    print \"$$: PID ($finished_pid) has finished. updating proc hash\\n\";\n    my $engine_name = $proc_hash-&gt;{$finished_pid};\n    delete ($proc_hash-&gt;{$finished_pid});\n    delete ($proc_hash-&gt;{$engine_name});\n  }\n}\n\nmy $batch=1;\nprint \"$$: STARTING TASKS IN BATCHES\\n\";\nwhile (@total_tasks) {\n  foreach my $engine (@engines) {\n    update_proc_hash();\n    if (exists $proc_hash-&gt;{$engine}) {\n      print \"$$: BUSY_ENGINE: $engine.\\n\";\n      sleep (1);\n      next;\n    }\n    else {\n      my @engine_tasks;\n      my $engine_max_tasks = $sizes-&gt;{$engine};\n      while ($engine_max_tasks-- != 0) {\n        my $task = shift @total_tasks;\n        push (@engine_tasks,$task) if $task;\n      }\n      if (@engine_tasks) {\n        my $batch_engine = $batch.'_'.$engine;\n        print \"$$: RUNNING batch_engine $batch_engine tasks (@engine_tasks)\\n\";\n        task_orchestrator (\"$batch_engine\",@engine_tasks);\n        $batch++;\n      }\n    }\n  }\n}\n\nREAPER();\n\nprint \"$$: FINISHED TASKS IN BATCHES\\n\";\n\n__END__\n</code></pre>\n\n<p><strong>Update after 3 days:</strong> Thank you SO community. Once again, I am grateful to all of you who have taken out their time to look into this and helped spot and correct the problem. Thank you so much.</p>\n\n<p>Allow me to share the new output with the final program for everyone's reference.</p>\n\n<p><strong>OUTPUT after using the fix:</strong></p>\n\n<pre><code>User@Host:/cygdrive/c/bash-home&gt; perl test.pl\n22044: STARTING TASKS IN BATCHES\n22044: MAIN: engine (e1) is RUNNING batch #1 tasks: (1 2)\n22044: MAIN: engine (e2) is RUNNING batch #2 tasks: (3 4 5)\n22044: MAIN: engine (e3) is RUNNING batch #3 tasks: (6 7)\n41456: TASK_RUNNER: engine (e1) finished batch #1 task #1 in (1.80) seconds\n41456: TASK_RUNNER: engine (e1) finished batch #1 task #2 in (1.31) seconds\n41456: TASK_ORCHESTRATOR: engine (e1) finished batch #1 tasks in (1.00) seconds.\n22044: REAPER: TASK_ORCHESTRATOR pid (41456) has finished with status (0).\n18252: TASK_RUNNER: engine (e2) finished batch #2 task #3 in (1.04) seconds\n18252: TASK_RUNNER: engine (e2) finished batch #2 task #4 in (1.91) seconds\n18252: TASK_RUNNER: engine (e2) finished batch #2 task #5 in (1.63) seconds\n18252: TASK_ORCHESTRATOR: engine (e2) finished batch #2 tasks in (1.00) seconds.\n22044: REAPER: TASK_ORCHESTRATOR pid (18252) has finished with status (0).\n14544: TASK_RUNNER: engine (e3) finished batch #3 task #6 in (1.42) seconds\n14544: TASK_RUNNER: engine (e3) finished batch #3 task #7 in (1.84) seconds\n14544: TASK_ORCHESTRATOR: engine (e3) finished batch #3 tasks in (1.00) seconds.\n22044: REAPER: TASK_ORCHESTRATOR pid (14544) has finished with status (0).\n22044: MAIN: engine (e1) is RUNNING batch #4 tasks: (8 9)\n22044: MAIN: engine (e2) is RUNNING batch #5 tasks: (10)\n37612: TASK_RUNNER: engine (e1) finished batch #4 task #8 in (1.19) seconds\n37612: TASK_RUNNER: engine (e1) finished batch #4 task #9 in (1.31) seconds\n37612: TASK_ORCHESTRATOR: engine (e1) finished batch #4 tasks in (1.00) seconds.\n16300: TASK_RUNNER: engine (e2) finished batch #5 task #10 in (1.53) seconds\n16300: TASK_ORCHESTRATOR: engine (e2) finished batch #5 tasks in (1.00) seconds.\n22044: ALL ORCHESTRATORS HAVE FINISHED\n22044: FINISHED TASKS IN BATCHES\n</code></pre>\n\n<p><strong>FINAL Working PROGRAM:</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse POSIX ':sys_wait_h';\nuse threads;\n\nSTDOUT-&gt;autoflush(1);\n\nmy @total_tasks = (1 .. 10);\nmy $sleep_time = 1;\nmy @engines = (qw/e1 e2 e3/);\nmy $sizes = {\n  e1 =&gt; 2,\n  e2 =&gt; 3,\n  e3 =&gt; 2,\n};\n\nmy $proc_hash;\nmy $global_string = \"engine\";\n\nsub REAPER {\n  local ($!, $?);\n  while ( (my $reaped_pid = waitpid(-1, WNOHANG)) &gt; 0 ) {\n    if ( WIFEXITED($?) ) {\n      my $ret_code = WEXITSTATUS($?);\n      print \"$$: REAPER: TASK_ORCHESTRATOR pid ($reaped_pid) has finished with status ($ret_code).\\n\";\n      my $engine_name = $proc_hash-&gt;{$reaped_pid};\n      delete ($proc_hash-&gt;{$reaped_pid});\n      delete ($proc_hash-&gt;{$engine_name});\n    }\n  }\n}\n\n$SIG{CHLD} = \\&amp;REAPER;\n\nsub random_sleep_time { return sprintf (\"%.2f\",(rand ($sleep_time||5) + 1)) }\n\nsub task_runner {\n  STDOUT-&gt;autoflush(1);\n  my @args = @_;\n  my ($batch_engine, $task) = ($args[0]-&gt;[0],$args[0]-&gt;[1]);\n  my ($batch, $engine) = split (/_/,$batch_engine);\n  my $task_time = random_sleep_time();\n  sleep ($task_time);\n  print \"$$: TASK_RUNNER: $global_string ($engine) finished batch #$batch task #$task in ($task_time) seconds\\n\";\n  threads-&gt;exit(0);\n};\n\nsub task_orchestrator {\n  my ($batch_engine, @tasks) = @_;\n  my ($batch, $engine) = split (/_/,$batch_engine);\n  my $task_orch_pid = fork();\n  die \"Failed to fork task_orchestrator\\n\" if not defined $task_orch_pid;\n\n  if ($task_orch_pid != 0) {\n    $proc_hash-&gt;{$engine} = $task_orch_pid;\n    $proc_hash-&gt;{$task_orch_pid} = $engine;\n  }\n\n  if ($task_orch_pid == 0) {\n    STDOUT-&gt;autoflush(1);\n    my @tids;\n    my $start_time = time;\n    for (my $i=1 ; $i &lt;= $#tasks ; $i++) { push (@tids,$i) }\n    foreach my $task_number (0 .. $#tasks) {\n      $tids [$task_number] = threads-&gt;create (\n        \\&amp;task_runner,[$batch_engine,$tasks [$task_number]]\n      );\n    }\n    foreach my $tid (@tids) {$tid-&gt;join()}\n    my $end_time = time;\n    my $total_time = sprintf (\"%.2f\",($end_time - $start_time));\n    print \"$$: TASK_ORCHESTRATOR: engine ($engine) finished batch #$batch tasks in ($total_time) seconds.\\n\";\n    exit (0);\n  }\n}\n\nmy $batch=1;\nprint \"$$: STARTING TASKS IN BATCHES\\n\";\nwhile (@total_tasks)\n{\n  foreach my $engine (@engines)\n  {\n    if (exists $proc_hash-&gt;{$engine})\n    {\n      sleep (1);\n      next;\n    }\n    else\n    {\n      my @engine_tasks;\n      my $engine_max_tasks = $sizes-&gt;{$engine};\n      while ($engine_max_tasks-- != 0)\n      {\n        my $task = shift @total_tasks;\n        push (@engine_tasks,$task) if $task;\n      }\n      if (@engine_tasks)\n      {\n        my $batch_engine = $batch.'_'.$engine;\n        print \"$$: MAIN: engine ($engine) is RUNNING batch #$batch tasks: (@engine_tasks)\\n\";\n        task_orchestrator ($batch_engine,@engine_tasks);\n        $batch++;\n      }\n    }\n  }\n}\n\n# All 3 below work properly\n#sleep (.2) while ((waitpid(-1, WNOHANG)) &gt;= 0);\n#sleep (.2) while ((waitpid(-1, WNOHANG)) != -1);\nsleep (.2) while ((waitpid(-1, WNOHANG)) &gt; -1);\n\nprint \"$$: ALL ORCHESTRATORS HAVE FINISHED\\n\";\nprint \"$$: FINISHED TASKS IN BATCHES\\n\";\n__END__\n</code></pre>\n"}, {"tags": ["perl", "reference", "dump"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1558971070, "post_id": 56326950, "comment_id": 99265137, "body": "Your question discusses <code>return Dumper $pagetypes;</code> but the code doesn&#39;t show a <code>$pagetypes</code> scalar variable, it shows a <code>@pagetypes</code> array. Therefore we can only guess at what you actually are doing to get the dump that you showed. Please post the actual snippet of code that produces the dump you are seeing."}, {"owner": {"reputation": 13, "user_id": 3356082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5c2f3cf833e86b7f766131edbd65f5?s=128&d=identicon&r=PG&f=1", "display_name": "user3356082", "link": "https://stackoverflow.com/users/3356082/user3356082"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1559029694, "post_id": 56326950, "comment_id": 99280411, "body": "You&#39;re right, I&#39;m sorry. I tried to access the variable with a <code>$</code> and didn&#39;t undo it. I updated the code extract now and added another information."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3356082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5c2f3cf833e86b7f766131edbd65f5?s=128&d=identicon&r=PG&f=1", "display_name": "user3356082", "link": "https://stackoverflow.com/users/3356082/user3356082"}, "edited": false, "score": 0, "creation_date": 1559029806, "post_id": 56332055, "comment_id": 99280469, "body": "Thank god, that works! I though you access this array with <code>$pagetype[0]</code>. I guess the <code>-&gt;</code> needs to be used because its ref?"}, {"owner": {"reputation": 86, "user_id": 11564138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc781cf5f2d8436163ffd31aa1d5822d?s=128&d=identicon&r=PG&f=1", "display_name": "Bl00D4NGEL", "link": "https://stackoverflow.com/users/11564138/bl00d4ngel"}, "reply_to_user": {"reputation": 13, "user_id": 3356082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5c2f3cf833e86b7f766131edbd65f5?s=128&d=identicon&r=PG&f=1", "display_name": "user3356082", "link": "https://stackoverflow.com/users/3356082/user3356082"}, "edited": false, "score": 0, "creation_date": 1559055123, "post_id": 56332055, "comment_id": 99294708, "body": "Yes, certainly. You should check out this perl maven article: <a href=\"https://perlmaven.com/array-references-in-perl\" rel=\"nofollow noreferrer\">perlmaven.com/array-references-in-perl</a>"}, {"owner": {"reputation": 13, "user_id": 3356082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5c2f3cf833e86b7f766131edbd65f5?s=128&d=identicon&r=PG&f=1", "display_name": "user3356082", "link": "https://stackoverflow.com/users/3356082/user3356082"}, "edited": false, "score": 0, "creation_date": 1560530097, "post_id": 56332055, "comment_id": 99780187, "body": "thank you very much! Can I ask you to check UPDATE 2 in my initial question? With your comment I only get the first element of the array. Thank you very much!"}, {"owner": {"reputation": 86, "user_id": 11564138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc781cf5f2d8436163ffd31aa1d5822d?s=128&d=identicon&r=PG&f=1", "display_name": "Bl00D4NGEL", "link": "https://stackoverflow.com/users/11564138/bl00d4ngel"}, "reply_to_user": {"reputation": 13, "user_id": 3356082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5c2f3cf833e86b7f766131edbd65f5?s=128&d=identicon&r=PG&f=1", "display_name": "user3356082", "link": "https://stackoverflow.com/users/3356082/user3356082"}, "edited": false, "score": 0, "creation_date": 1560532699, "post_id": 56332055, "comment_id": 99781268, "body": "Looks like you&#39;re accessing @pagetypes wrong. if you want to access an array or hash element you need to type $variable[0] or $variable{&#39;key&#39;} to access it. You tried accessing the variable by using @pagetypes[0]-&gt;[$a]-&gt;{&quot;id&quot;}, which is wrong, therefore a syntax error occured."}, {"owner": {"reputation": 13, "user_id": 3356082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5c2f3cf833e86b7f766131edbd65f5?s=128&d=identicon&r=PG&f=1", "display_name": "user3356082", "link": "https://stackoverflow.com/users/3356082/user3356082"}, "edited": false, "score": 0, "creation_date": 1560758729, "post_id": 56332055, "comment_id": 99826443, "body": "nah, @pagetypes[0]-&gt;[$a]-&gt;{&quot;id&quot;} is just working fine. The problem is, that I dont know how to get the right code for the array length in the for loop. and with foreach the single $pagetype is always the full array of @pagetypes in dumper :("}, {"owner": {"reputation": 86, "user_id": 11564138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc781cf5f2d8436163ffd31aa1d5822d?s=128&d=identicon&r=PG&f=1", "display_name": "Bl00D4NGEL", "link": "https://stackoverflow.com/users/11564138/bl00d4ngel"}, "reply_to_user": {"reputation": 13, "user_id": 3356082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5c2f3cf833e86b7f766131edbd65f5?s=128&d=identicon&r=PG&f=1", "display_name": "user3356082", "link": "https://stackoverflow.com/users/3356082/user3356082"}, "edited": false, "score": 0, "creation_date": 1560765823, "post_id": 56332055, "comment_id": 99829916, "body": "to get the length of an array in perl use scalar(@array), but if I get your scenario right the @pagetype array only has one element (in Index 0) and in there, there are multiple values, am I right with this? If so, what you might need to do is something like <code>my @values = @{$pagetypes[0]}</code> and then do <code>for my $value (@values) { ... }</code> to iterate over the elements."}], "tags": [], "owner": {"reputation": 86, "user_id": 11564138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc781cf5f2d8436163ffd31aa1d5822d?s=128&d=identicon&r=PG&f=1", "display_name": "Bl00D4NGEL", "link": "https://stackoverflow.com/users/11564138/bl00d4ngel"}, "is_accepted": true, "score": 1, "last_activity_date": 1558988457, "creation_date": 1558988457, "answer_id": 56332055, "question_id": 56326950, "link": "https://stackoverflow.com/questions/56326950/how-to-reference-data-in-an-array-hash-from-json-response-in-perl/56332055#56332055", "title": "How to reference Data in an Array/Hash from JSON Response in Perl", "body": "<p>It looks like the $pagetype variable is actually an array ref (looking at the Dumper at least it looks like it)\nSo what should probably solve this issue is this:</p>\n\n<pre><code>    my $pagetype = $_;\n\n    $html .= sprintf(\n\n    '&lt;option value=\"%s\"&gt;%s&lt;/option&gt;',\n    $pagetype-&gt;[0]-&gt;{\"identifier\"},\n    encode_utf8($pagetype-&gt;{\"label\"}),\n\n    );\n\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3356082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5c2f3cf833e86b7f766131edbd65f5?s=128&d=identicon&r=PG&f=1", "display_name": "user3356082", "link": "https://stackoverflow.com/users/3356082/user3356082"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 56332055, "answer_count": 1, "score": 0, "last_activity_date": 1560866147, "creation_date": 1558963319, "last_edit_date": 1560866147, "question_id": 56326950, "link": "https://stackoverflow.com/questions/56326950/how-to-reference-data-in-an-array-hash-from-json-response-in-perl", "title": "How to reference Data in an Array/Hash from JSON Response in Perl", "body": "<p>I'm writing some Perl Code and I am a totally noob (specialized in PHP and JS). I'm retrieving some data from a JSON API Request and I want to reference the data and build some HTML-Options for a select field. But I just can't figure out how to reference the values from the JSON Response.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/bin/false\n\nuse strict;\nuse warnings;\n\nuse LWP::UserAgent;\nuse HTTP::Request;\nuse JSON;\nuse Encode;\n\nuse vars qw(@parameters $new $mode $metainfo);\n\nuse Data::Dumper qw(Dumper);\n\nsub main\n{\n    if ($mode ne 'EDIT') {\n        return;\n    }\n\n    my @pagetypes = _getPagetypes();\n    if (scalar @pagetypes == 0 || ! defined \\@pagetypes) {\n        return \"\";\n    }\n\n    my $html = \"\";\n\n    foreach (@pagetypes) {\n        my $pagetype = $_;\n\n        return Dumper @pagetypes;\n\n        $html .= sprintf(\n            '&lt;option value=\"%s\"&gt;%s&lt;/option&gt;',\n            $pagetype-&gt;{\"identifier\"},\n            encode_utf8($pagetype-&gt;{\"label\"}),\n        );\n    }\n\n    return $html;\n}\n\n##\n# Get Pagetypes from API\n##\nsub _getPagetypes\n{\n    my $url = sprintf(\n        \"%s/page-types/\",\n        $ENV{'URL'}\n    );\n\n    my $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; { verify_hostname =&gt; 1 });\n    my $header = HTTP::Request-&gt;new(GET =&gt; $url);\n    my $request = HTTP::Request-&gt;new('GET', $url, $header);\n    my $response = $ua-&gt;request($request);\n\n    my @data = decode_json($response-&gt;content);\n    my @pagetypes = @data[0]-&gt;{'pageTypes'};\n\n    return @pagetypes;\n}\n</code></pre>\n\n<p>Where it says <code>return Dumper $pagetypes;</code> the following output is written:</p>\n\n<pre><code>$VAR1 = [\n    {\n        'label' =&gt; 'Projektsteckbrief',\n        'identifier' =&gt; 'pagetype-profile'\n    }\n];\n</code></pre>\n\n<p>I tried <code>$pagetype-&gt;{\"label\"}</code> and <code>$pagetypes[0]-&gt;{\"label\"}</code> and so much more...but I just don't know how to get the label and the identifier there.</p>\n\n<p><strong>update:</strong></p>\n\n<p>I tried to implement the pagetypes manually and this is working fine with the <code>main()</code> method (without the Dumper Call):</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub _getPagetypes\n{\n    my @pagetypes = (\n        {\n            identifier =&gt; \"pagetype-profile\",\n            label =&gt; \"Projektsteckbrief\",\n        },\n    );\n\n    return @pagetypes;\n}\n</code></pre>\n\n<p><strong>UPDATE 2</strong>:</p>\n\n<p>So I got a new problem...it's not working completely yet, but Bl00D4NGEL's response was a great help anyway!</p>\n\n<p>So my code looks like this right now:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/bin/false\n\nuse strict;\nuse warnings;\n\nuse LWP::UserAgent;\nuse HTTP::Request;\nuse JSON;\nuse Encode;\nuse Project::Util::Api;\n\nuse vars qw(@parameters $new $mode $metainfo);\n\nsub main\n{\n    if ($mode ne 'EDIT') {\n        return;\n    }\n\n    my @pagetypes = _getPagetypes();\n    if (scalar @pagetypes == 0 || ! defined \\@pagetypes) {\n        return \"\";\n    }\n\n    my $html = \"\";\n\n    foreach my $pagetype (@pagetypes) {\n        # selection will be automatically set by Imperia\n        $html .= sprintf(\n            '&lt;option value=\"%s\"&gt;%s&lt;/option&gt;',\n            $pagetype-&gt;[0]-&gt;{\"identifier\"},\n            encode_utf8($pagetype-&gt;[0]-&gt;{\"label\"}),\n        );\n    }\n\n    return $html;\n}\n\n##\n# Get Pagetypes from API\n##\nsub _getPagetypes\n{\n    my $response = Project::Util::Api-&gt;sendRequest(\"/ajax/imperia/page-types/de/\");\n    my @pagetypes = $response-&gt;{\"pageTypes\"};\n\n    return @pagetypes;\n}\n\n$new = main();\n</code></pre>\n\n<p>The problem is now that only one item is displayed.\nSo <code>$pagetype</code> in my foreach loop looks like it's still the array with all of the items inside and <code>$pagetype-&gt;[0]</code> then gives me only the first item out of the array.</p>\n\n<p>When I use <code>for</code> instead of <code>foreach</code> like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>for ( $a = 0 ; $a &lt;= 10 ; $a++ ) {\n    $html .= sprintf(\n        '&lt;option value=\"%s\"&gt;%s&lt;/option&gt;',\n        @pagetypes[0]-&gt;[$a]-&gt;{\"id\"},\n        encode_utf8(@pagetypes[0]-&gt;[$a]-&gt;{\"label\"}),\n    );\n}\n</code></pre>\n\n<p>I get 10 items of 200, but I just cant figure out how to get the length of the array <code>@pagetypes</code>.\nI tried the following:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code># 500 Server error (because of long loading?)\nfor ( $a = 0 ; $a &lt;= @pagetypes[0] ; $a++ ) {\n\nmy $pagetypesLength = @pagetypes;\n# Only 2 items are displayed\nfor ( $a = 0 ; $a &lt;= @pagetypes ; $a++ ) {\nfor ( $a = 0 ; $a &lt;= $pagetypesLength ; $a++ ) {\nfor ( $a = 0 ; $a &lt;= scalar @pagetypes ; $a++ ) {\nfor ( $a = 0 ; $a &lt;= length @pagetypes ; $a++ ) {\n</code></pre>\n\n<p><strong>UPDATE 3 (FINALLY WORKING)</strong>:</p>\n\n<p>So finally I managed to get it working. Final code following:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/bin/false\n\nuse strict;\nuse warnings;\n\nuse Encode;\nuse Project::Util::Api;\n\nuse vars qw(@parameters $new $mode $metainfo);\n\nsub main\n{\n    if ($mode ne 'EDIT') {\n        return;\n    }\n\n    my $items = _getData();\n    if (0 == scalar @$items) {\n        return \"\";\n    }\n\n    my $html = \"\";\n\n    # $#{$items} is last index of array reference $items\n    for (my $i = 0 ; $i &lt;= $#{$items} ; $i++) {\n        if (defined $items-&gt;[$i]-&gt;{\"id\"}) {\n            # option selection will be automatically set by Imperia\n            $html .= sprintf(\n                '&lt;option value=\"%s\"&gt;%s&lt;/option&gt;',\n                $items-&gt;[$i]-&gt;{\"identifier\"},\n                encode_utf8($items-&gt;[$i]-&gt;{\"label\"}),\n            );\n        }\n    }\n\n    return $html;\n}\n\n##\n# Get Pagetypes from API\n##\nsub _getData\n{\n    my $response = Project::Util::Api-&gt;sendRequest(\"/ajax/imperia/page-types/de/\");\n\n    return $response-&gt;{\"pageTypes\"};\n}\n\n$new = main();\n\n</code></pre>\n"}, {"tags": ["windows", "perl", "cmd"], "answers": [{"tags": [], "owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "is_accepted": false, "score": 1, "last_activity_date": 1558974806, "creation_date": 1558974806, "answer_id": 56329659, "question_id": 56326544, "link": "https://stackoverflow.com/questions/56326544/perl-function-for-escaping-characters-for-windows-commands/56329659#56329659", "title": "Perl function for escaping characters for Windows commands", "body": "<p>Yes, there's <a href=\"https://metacpan.org/pod/Win32::ShellQuote\" rel=\"nofollow noreferrer\"><code>Win32::ShellQuote</code></a>, which should do what you want.</p>\n"}], "owner": {"reputation": 49, "user_id": 10612838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4482c501462e43cedb8d13e94496975e?s=128&d=identicon&r=PG&f=1", "display_name": "tim.tub", "link": "https://stackoverflow.com/users/10612838/tim-tub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558974806, "creation_date": 1558961712, "last_edit_date": 1558974060, "question_id": 56326544, "link": "https://stackoverflow.com/questions/56326544/perl-function-for-escaping-characters-for-windows-commands", "title": "Perl function for escaping characters for Windows commands", "body": "<p>I have a string in Perl which contains various special characters and I need to pass this string to a Windows command using backticks, but I don't want the special characters to mess up the command. I have found out that with Windows commands, different special characters need to be escaped in different ways. Is there a Perl function which has been specially created to escape a string in such a way as to prepare it for a Windows command?</p>\n"}, {"tags": ["perl", "module"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558954818, "post_id": 56324473, "comment_id": 99257053, "body": "<code>Warning: prerequisite Math::Int64 0.54 not found.</code>. Maybe try to install the prerequisites first?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1558954870, "post_id": 56324473, "comment_id": 99257068, "body": "Are you sure it worked with <code>INSTALL_BASE=~&#47;perl5</code>? It seems the resolution of <code>~</code> is implemented by <code>getpwuid</code> which doesn&#39;t exist on MSWin."}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558957023, "post_id": 56324473, "comment_id": 99258138, "body": "@H&#229;konH&#230;gland -  I tried installing Math::Int64 first. And that also gives same error."}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1558957091, "post_id": 56324473, "comment_id": 99258170, "body": "@choroba - What does this INSTALL_BASE means? Do you think I need to make correction over here?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558957162, "post_id": 56324473, "comment_id": 99258200, "body": "@vinodk89 <i>&quot;..gives same error&quot;</i> what error is that?"}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558957449, "post_id": 56324473, "comment_id": 99258356, "body": "@H&#229;konH&#230;gland - Here is the error message <code>The getpwuid function is unimplemented at C:&#47;Perl64&#47;lib&#47;ExtUtils&#47;MakeMaker.pm li ne 1064. Warning: No success on command[C:\\Perl64\\bin\\perl.exe Makefile.PL INSTALL_BASE=~ &#47;perl5]   SALVA&#47;Math-Int64-0.54.tar.gz   C:\\Perl64\\bin\\perl.exe Makefile.PL INSTALL_BASE=~&#47;perl5 -- NOT OK</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558958209, "post_id": 56324473, "comment_id": 99258736, "body": "I am not familiar with Windows, but is it possible to set <code>INSTALL_BASE</code> before you install? Like <code>INSTALL_BASE=C:\\path\\to\\perl5 perl -MCPAN -e &quot;install Net::SFTP&quot;</code> ? (This to avoid having the tilde <code>~</code> in INSTALL_BASE)"}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558962404, "post_id": 56324473, "comment_id": 99260989, "body": "@H&#229;konH&#230;gland - Even I am not sure. But how I can forcefully install the module. using -f doesn&#39;t work!!"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558974366, "post_id": 56324473, "comment_id": 99266368, "body": "@vinodk89 I tried now on cygwin on Windows 10, and it installed <code>Net::SFTP</code> fine. I used the <code>local::lib</code> option with <code>cpan</code> and I did not set <code>INSTALL_BASE</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558985816, "post_id": 56324473, "comment_id": 99270019, "body": "@H&#229;kon H&#230;gland, Re &quot;<i>Maybe try to install the prerequisites first?</i>&quot;, Not the issue. <code>cpan</code> will handle the prereqs"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558985822, "post_id": 56324473, "comment_id": 99270020, "body": "@H&#229;kon H&#230;gland, If you used local::lib, you <i>did</i> set <code>INSTALL_BASE</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559024760, "post_id": 56331564, "comment_id": 99278130, "body": "So what windows path I should use? Do you mean that I should make changes in ../MyConfig.pm file?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559024796, "post_id": 56331564, "comment_id": 99278148, "body": "Re &quot;<i>So what windows path I should use?</i>&quot;, As I said, you shouldn&#39;t use <code>INSTALL_BASE</code> at all."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559024858, "post_id": 56331564, "comment_id": 99278173, "body": "Re &quot;<i>Do you mean that I should make changes in ../MyConfig.pm file?</i>&quot;, No, I meant what I said. You&#39;ll need to change the environment or use <code>cpan</code>&#39;s <code>o conf</code> command. You should never edit <code>cpan</code>&#39;s config file directly."}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559025587, "post_id": 56331564, "comment_id": 99278449, "body": "Is there any way that I can revert back my changes or I can make a default settings? I&#39;m not remembering where I made changes to INSTALL_BASE."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559025752, "post_id": 56331564, "comment_id": 99278517, "body": "Re &quot;<i>Is there any way that I can revert back my changes or I can make a default settings?</i>&quot;, Yes. In fact, that&#39;s what I recommend you do."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559025842, "post_id": 56331564, "comment_id": 99278558, "body": "Re &quot;<i>I&#39;m not remembering where I made changes to INSTALL_BASE.</i>&quot;, Then check. I told you the two places it can be."}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559034169, "post_id": 56331564, "comment_id": 99282648, "body": "I have added proper lib path to &#39;makepl_arg&#39; in MyConfig.pm and its working now. But new error is occaring &#39;C:\\Perl64\\site\\bin\\dmake.exe -- NOT OK&#39;. Can someone please tell me what should be the value for &#39;make&#39; and &#39;make_arg&#39; in MyConfig.pm ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559035039, "post_id": 56331564, "comment_id": 99283147, "body": "Fine, don&#39;t follow my advice. So you&#39;re having problems, you say."}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559035196, "post_id": 56331564, "comment_id": 99283261, "body": "There are the things I have added to &#39;makepl_arg&#39; 0 [PREFIX=~/lib/perl5] 1 [LIB=~/lib/perl5/lib]"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559035284, "post_id": 56331564, "comment_id": 99283302, "body": "Neither of those makes sense for a Windows build of Perl. Clear it with <code>o conf makepl_arg &#39;&#39;</code>. Might need to do the same to <code>mbuildpl_arg</code>"}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559035778, "post_id": 56331564, "comment_id": 99283579, "body": "Done but no luck. Still this error is coming -  C:\\Perl64\\site\\bin\\dmake.exe -- NOT OK"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559035966, "post_id": 56331564, "comment_id": 99283691, "body": "That message simply indicates an error occurred earlier"}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559036263, "post_id": 56331564, "comment_id": 99283857, "body": "Yep. And I could see this path is mentioned in for <code>make               [C:\\Perl64\\site\\bin\\dmake.exe]     make_arg           []     make_install_arg   [UNINST=1]     make_install_make_command [&#47;usr&#47;bin&#47;sudo &#47;usr&#47;bin&#47;make] </code>. So doubting that I am missing something over here?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559036476, "post_id": 56331564, "comment_id": 99283989, "body": "Still can&#39;t help unless you show the relevant error message"}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559036963, "post_id": 56331564, "comment_id": 99284272, "body": "Here it is <code>dmake.exe:  Error executing &#39;\\bin\\bash&#39;: No such file or directory dmake.exe:  Error code 255, while making &#39;blib\\lib\\Net\\.exists&#39;   LKINLEY&#47;Net-SFTP-0.12.tar.gz   C:\\Perl64\\site\\bin\\dmake.exe -- NOT OK </code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559037278, "post_id": 56331564, "comment_id": 99284456, "body": "How did you mess up your system so bad? It&#39;s like you copied files from a unix system?!!?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1559037700, "post_id": 56331564, "comment_id": 99284669, "body": "Try running <code>o conf init</code> from within <code>cpan</code>. Press Enter when asked &quot;Would you like to configure as much as possible automatically?&quot;. THIS WILL CLOBBER YOUR <code>cpan</code> SETTINGS (but surely you made a backup of them before you started editing them earlier...)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1559025200, "last_edit_date": 1559025200, "creation_date": 1558985535, "answer_id": 56331564, "question_id": 56324473, "link": "https://stackoverflow.com/questions/56324473/install-base-perl5-not-ok-while-installing-perl-module/56331564#56331564", "title": "INSTALL_BASE=~/perl5 -- NOT OK - While installing Perl Module", "body": "<p>You're telling Perl to into <code>~/perl5</code>. That's not a Windows path, and ExtUtils::MakeMaker is using a unix-specific function (<code>getpwuid</code>) to expand it. Your problem should go away if you use a Windows path.</p>\n\n<p>That said, if you have access to write to <code>C:\\Perl64\\...</code>, I suggest that you install modules to the default directory by removing <code>INSTALL_BASE=~/perl5</code>.</p>\n\n<p>If you don't have access to write to <code>C:\\Perl64\\...</code>, I suggest that you install Perl itself in a directly to which you do have access to write, and then I'd install modules to the default directory by removing <code>INSTALL_BASE=~/perl5</code>.</p>\n\n<p>Since you didn't actually specify <code>INSTALL_BASE=~/perl5</code> on the command line, you are specifying it through the environment (<code>PERL_MM_OPT</code> and <code>PERL_MB_OPT</code>),  or in <code>cpan</code>'s configuration (<code>o conf</code> from within <code>cpan</code>).</p>\n"}], "owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559025200, "creation_date": 1558953689, "question_id": 56324473, "link": "https://stackoverflow.com/questions/56324473/install-base-perl5-not-ok-while-installing-perl-module", "title": "INSTALL_BASE=~/perl5 -- NOT OK - While installing Perl Module", "body": "<p>I am trying to install one of the Perl module in my local system (Windows 7). But its failing to install the module</p>\n\n<p>Here is what its displaying </p>\n\n<pre><code>C:\\Windows\\system32&gt;perl -MCPAN -e \"install Net::SFTP\"\nReading 'C:\\Users\\AppData\\Local\\.cpan\\Metadata'\n  Database was generated on Sun, 26 May 2019 05:17:03 GMT\nRunning install for module 'Net::SFTP'\nChecksum for C:\\Users\\AppData\\Local\\.cpan\\sources\\authors\\id\\L\\LK\\LKINLE\nY\\Net-SFTP-0.12.tar.gz ok\nConfiguring L/LK/LKINLEY/Net-SFTP-0.12.tar.gz with Makefile.PL\nChecking if your kit is complete...\nLooks good\nWarning: prerequisite Math::Int64 0.54 not found.\nWarning: prerequisite Net::SSH::Perl 2.12 not found.\nThe getpwuid function is unimplemented at C:/Perl64/lib/ExtUtils/MakeMaker.pm li\nne 1064.\nWarning: No success on command[C:\\Perl64\\bin\\perl.exe Makefile.PL INSTALL_BASE=~\n/perl5]\n  LKINLEY/Net-SFTP-0.12.tar.gz\n  C:\\Perl64\\bin\\perl.exe Makefile.PL INSTALL_BASE=~/perl5 -- NOT OK\n</code></pre>\n\n<p>It was working fine before and I have installed couple of modules, don't know what happens suddenly. </p>\n\n<p>Please help me to resolve this. Do I need to make any modifications in config?</p>\n"}, {"tags": ["database", "oracle", "perl"], "comments": [{"owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "edited": false, "score": 0, "creation_date": 1558947992, "post_id": 56322435, "comment_id": 99253796, "body": "Show us what you have done so far"}, {"owner": {"reputation": 3, "user_id": 6805983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1048400718613947/picture?type=large", "display_name": "Bala Ranga", "link": "https://stackoverflow.com/users/6805983/bala-ranga"}, "reply_to_user": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "edited": false, "score": 0, "creation_date": 1559023079, "post_id": 56322435, "comment_id": 99277486, "body": "use strict; use DBI; use Excel::Writer::XLSX;  # connect to the db my $dbh = DBI-&gt;connect(&#39;dbi:ODBC:dbname&#39;, &#39;dblogin&#39;, &#39;dbpassword&#39;);   my $sth1 = $dbh-&gt;selectall_arrayref(&quot;  select col1, col2 from table&quot;);  foreach my $ln (@$sth1)  { my($col1, $col2) = @$ln; print &quot;$col1  $col2\\n&quot;;}  my $workbook  = Excel::Writer::XLSX-&gt;new( &#39;col1col2test.xlsx&#39; ); my $worksheet = $workbook-&gt;add_worksheet();  $worksheet-&gt;write( &quot;A1&quot;, &quot;$col1&quot; ); $worksheet-&gt;write( &quot;A2&quot;, &quot;$col2&quot; );"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1559034383, "post_id": 56322435, "comment_id": 99282772, "body": "@BalaRanga: Please don&#39;t dump code in a comment like that. As you can see, it&#39;s unreadable. It&#39;s a far better idea to <a href=\"https://stackoverflow.com/posts/56322435/edit\">edit your question</a> to add the code there."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1559060089, "creation_date": 1559060089, "answer_id": 56346338, "question_id": 56322435, "link": "https://stackoverflow.com/questions/56322435/use-perl-to-select-multiple-query-output-data-from-sql-database-and-place-into-s/56346338#56346338", "title": "Use Perl to select multiple query output data from SQL database and place into single Excel sheet", "body": "<p>If that is your code, then it will be throwing errors complaining about <code>$col1</code> and <code>$col2</code> needing an \"explicit package name\".</p>\n\n<p>This means that you haven't declared the variables correctly. You declare variables using the keyword <code>my</code>. But <code>my</code> declares the variables within a block of code. So when you write this:</p>\n\n<pre><code>foreach my $ln (@$sth1) {\n  my($col1, $col2) = @$ln;\n  print \"$col1 $col2\\n\";\n}\n</code></pre>\n\n<p>the variables are only declared <strong>within</strong> that block. And when you try to use them outside the block:</p>\n\n<pre><code>$worksheet-&gt;write( \"A1\", \"$col1\" );\n$worksheet-&gt;write( \"A2\", \"$col2\" );\n</code></pre>\n\n<p>You will get the error I mentioned above.</p>\n\n<p>The fix for this is to declare the variables at the correct level - that is <strong>outside</strong> of the loop.</p>\n\n<pre><code>my ($col1, $col2);\nforeach my $ln (@$sth1) {\n  ($col1, $col2) = @$ln;\n  print \"$col1 $col2\\n\";\n}\n</code></pre>\n\n<p>For future reference, when asking for help on a site like this it's really useful if you give us all the useful information - particularly any error messages that you see.</p>\n"}], "owner": {"reputation": 3, "user_id": 6805983, "user_type": "registered", "profile_image": "https://graph.facebook.com/1048400718613947/picture?type=large", "display_name": "Bala Ranga", "link": "https://stackoverflow.com/users/6805983/bala-ranga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 56346338, "answer_count": 1, "score": 0, "last_activity_date": 1559060089, "creation_date": 1558946123, "last_edit_date": 1559059625, "question_id": 56322435, "link": "https://stackoverflow.com/questions/56322435/use-perl-to-select-multiple-query-output-data-from-sql-database-and-place-into-s", "title": "Use Perl to select multiple query output data from SQL database and place into single Excel sheet", "body": "<p>I am new to Perl so I'm hoping someone can help me with this,</p>\n\n<p>I'm working on a special validation project where we extract data from database and show as an report in a excel. I have a Perl script to extract data from database and place into excel. But i tried to exact data from multiple query and to display the multiple output in a single excel sheet.</p>\n\n<p>How do i return multiple query output in a single excel sheet?</p>\n\n<pre><code>use strict;\nuse DBI;\nuse Excel::Writer::XLSX;\n\n# connect to the db\nmy $dbh = DBI-&gt;connect('dbi:ODBC:dbname', 'dblogin', 'dbpassword');\n\nmy $sth1 = $dbh-&gt;selectall_arrayref(\" select col1, col2 from table\");\n\nforeach my $ln (@$sth1) {\n  my($col1, $col2) = @$ln;\n  print \"$col1 $col2\\n\";\n}\n\nmy $workbook = Excel::Writer::XLSX-&gt;new( 'col1col2test.xlsx' );\nmy $worksheet = $workbook-&gt;add_worksheet();\n$worksheet-&gt;write( \"A1\", \"$col1\" );\n$worksheet-&gt;write( \"A2\", \"$col2\" );\n</code></pre>\n"}, {"tags": ["perl", "ssl", "dancer"], "comments": [{"owner": {"reputation": 127019, "user_id": 59303, "user_type": "moderator", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/gIt1g.png?s=128&g=1", "display_name": "ChrisF", "link": "https://stackoverflow.com/users/59303/chrisf"}, "edited": false, "score": 0, "creation_date": 1559035016, "post_id": 56321938, "comment_id": 99283129, "body": "If you have a solution that&#39;s different please add it as an answer instead of editing it in to your question."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4257461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9450bb4418c286650fd73339c6c76d39?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Sagar", "link": "https://stackoverflow.com/users/4257461/manoj-sagar"}, "edited": false, "score": 0, "creation_date": 1558959922, "post_id": 56325502, "comment_id": 99259681, "body": "yeah, would need to utilize server abilities to do the validation, worked around it and managed to get the details in the application"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 1, "last_activity_date": 1558957740, "creation_date": 1558957740, "answer_id": 56325502, "question_id": 56321938, "link": "https://stackoverflow.com/questions/56321938/how-to-authenticate-https-client-certificates-using-dancer-starman-or-mojoliciou/56325502#56325502", "title": "How to authenticate https client certificates using Dancer/Starman or Mojolicious/Daemon?", "body": "<p>In Dancer you can get the IO::Socket::SSL object with <code>request-&gt;env-&gt;{'psgix.io'}</code>, but that does not help you because you have no opportunity to configure it for client verification. IO::Socket::SSL::set_defaults does not run early enough, either.</p>\n\n<p>This means it's best to set up <a href=\"http://httpd.apache.org/docs/2.4/mod/mod_ssl.html#SSL_CLIENT_VERIFY\" rel=\"nofollow noreferrer\">Apache httpd</a> or <a href=\"http://nginx.org/en/docs/http/ngx_http_ssl_module.html#var_ssl_client_verify\" rel=\"nofollow noreferrer\">nginx</a> to terminate TLS. Pass on the certificate info you need (e.g. client verification result) in environment variables to the Dancer application.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 4257461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9450bb4418c286650fd73339c6c76d39?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Sagar", "link": "https://stackoverflow.com/users/4257461/manoj-sagar"}, "is_accepted": false, "score": 1, "last_activity_date": 1559038726, "last_edit_date": 1559038726, "creation_date": 1558959545, "answer_id": 56325947, "question_id": 56321938, "link": "https://stackoverflow.com/questions/56321938/how-to-authenticate-https-client-certificates-using-dancer-starman-or-mojoliciou/56325947#56325947", "title": "How to authenticate https client certificates using Dancer/Starman or Mojolicious/Daemon?", "body": "<p>To anyone who is facing the issue, I solved it by the following steps:\n(To create client and server certificates, I followed <a href=\"https://medium.com/@sevcsik/authentication-using-https-client-certificates-3c9d270e8326\" rel=\"nofollow noreferrer\">https://medium.com/@sevcsik/authentication-using-https-client-certificates-3c9d270e8326</a>)</p>\n\n<p>1) Use nginx (Setup guide:<a href=\"https://gist.github.com/netpoetica/5879685\" rel=\"nofollow noreferrer\">https://gist.github.com/netpoetica/5879685</a>)</p>\n\n<p>2) Create the nginx config</p>\n\n<pre><code>server {\n    listen 443 ssl;\n    server_name localhost;\n    ssl_certificate /to/path/server_cert.pem;  # server certificate\n    ssl_certificate_key /to/path/server_key.pem; # server key\n\n    ssl_client_certificate /to/path/server_cert.pem; # client CA =&gt; server certificate for self signed \n    ssl_verify_client on;\n\n    location / {\n        proxy_pass http://localhost:5000;\n        proxy_set_header SSL_CLIENT_CERT $ssl_client_cert; #ENTIRE CLIENT CERTIFICATE\n        proxy_set_header SSL_CLIENT_S_DN $ssl_client_s_dn; #SUBJECT DN\n        proxy_set_header SSL_CLIENT_I_DN $ssl_client_i_dn; #ISSUER DN\n    }\n}\n</code></pre>\n\n<p>More details regarding ssl can be shared using the attributes mentioned on <a href=\"http://nginx.org/en/docs/http/ngx_http_ssl_module.html#variables\" rel=\"nofollow noreferrer\">http://nginx.org/en/docs/http/ngx_http_ssl_module.html#variables</a></p>\n\n<p>3) Dancer application</p>\n\n<pre><code>get '/' =&gt; sub {\n    info to_dumper(request-&gt;headers);\n    content_type 'text/xml';\n    return \"OK\";\n};\n</code></pre>\n\n<p>4) Start the dancer application using plackup (or starman/your preferred choice) </p>\n\n<pre><code>carton exec plackup -R /bin,/lib bin/app.psgi\n</code></pre>\n\n<p>5) Send the request to the server</p>\n\n<pre><code>curl -v https://localhost/ --key client_key.pem --cert client_cert.pem --cacert server_cert.pem\n</code></pre>\n\n<p>6) You should observe client certificate details in the plackup logs</p>\n"}], "owner": {"reputation": 41, "user_id": 4257461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9450bb4418c286650fd73339c6c76d39?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Sagar", "link": "https://stackoverflow.com/users/4257461/manoj-sagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1559038726, "creation_date": 1558943926, "last_edit_date": 1559034967, "question_id": 56321938, "link": "https://stackoverflow.com/questions/56321938/how-to-authenticate-https-client-certificates-using-dancer-starman-or-mojoliciou", "title": "How to authenticate https client certificates using Dancer/Starman or Mojolicious/Daemon?", "body": "<p>I am trying to perform Authentication using HTTPS client certificates using perl Dancer framework.\nI would like to accept requests sent with/without certificate and do validation on the certificate CN to proceed with the valid response\n(<a href=\"https://medium.com/@sevcsik/authentication-using-https-client-certificates-3c9d270e8326\" rel=\"nofollow noreferrer\">https://medium.com/@sevcsik/authentication-using-https-client-certificates-3c9d270e8326</a>, the link shows how to do it in node.js, need something very similar for perl Dancer/Starman/Plackup)</p>\n\n<p>I have setup ssl using Dancer/Plackup, but have not found a way to get details about the peer certificate to perform validation in Dancer framework</p>\n\n<p>I would like to achieve the following:</p>\n\n<p>If the request is sent </p>\n\n<p>without certificate => 401</p>\n\n<p>with certificate but client has self-signed (CN doesn't match with server cert CN) => 401</p>\n\n<p>with certificate but client cert has been signed using server cert (CN matches server cert CN) => 200</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1558931670, "post_id": 56318739, "comment_id": 99247845, "body": "This usage of <code>system</code> is a little odd; why <code>@rm</code>, is that an array with a single element in it, and that element is the string <code>&#39;rm&#39;</code>? Why?  But as to why the <code>&quot;$path&#47;test*&quot;</code> isn&#39;t working as intended is because you are explicitly calling <code>system</code> with a list of parameters. Since there&#39;s a list, you invoke the behavior wherein the list elements are NOT checked for metacharacters, and the shell is not invoked. Without the shell getting involved, the asterisk is not expanded, but is treated as a literal part of the path. Of course switching to single-arg version of <code>system</code> would be less secure"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1558970203, "post_id": 56318739, "comment_id": 99264769, "body": "Another consideration is how the files and directories got there in the first place, and why. If these files and directories were placed there with the intent of being temporary, living only during the runtime of the thing that put them there, then use a tempdir instead using the core module <code>File::Temp</code> to create a temporary directory under the system&#39;s $TMPDIR (typically /tmp for Linux) that gets cleaned up when it falls out of scope in the program."}], "answers": [{"comments": [{"owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "edited": false, "score": 0, "creation_date": 1558923127, "post_id": 56318874, "comment_id": 99246382, "body": "so @dirs_to_delete in here do i have to mention one by one ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "edited": false, "score": 1, "creation_date": 1558923715, "post_id": 56318874, "comment_id": 99246475, "body": "@Debugger  Yes, you can spell out a list (<code>&quot;d1&quot;, &quot;d2&quot;</code> ... or <code>$d1, $d2, ...</code>), or you can have an array with elements which are directory names.  Please always check carefully how you generate those names in your program! (Or, you can have some code that returns a list, but that can be really dangerous.)"}, {"owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "edited": false, "score": 0, "creation_date": 1558924056, "post_id": 56318874, "comment_id": 99246538, "body": "hmm but i need a way to delete d* without listing d1 ,d2. if i explain more i wanna delete all directories starting with d.. is it possible ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "edited": false, "score": 1, "creation_date": 1558924179, "post_id": 56318874, "comment_id": 99246557, "body": "@Debugger  That&#39;s what I meant by putting an array there, that you can populate it with names as suitable. Like <code>@dirs_to_delete =  glob &quot;d*&quot;;</code> or such.  (<i>This is just an example which  assumes that <code>d*</code> are really directories to delete!</i>)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1558937795, "last_edit_date": 1558937795, "creation_date": 1558922859, "answer_id": 56318874, "question_id": 56318739, "link": "https://stackoverflow.com/questions/56318739/how-can-i-delete-directories-including-their-contents-using-perl/56318874#56318874", "title": "How can i delete directories including their contents using perl?", "body": "<p>I must first say that this is inherently dangerous, recursively removing directories out of a program.</p>\n\n<p>Having said that, one module that provides the capability is the core <a href=\"https://perldoc.perl.org/File/Path.html\" rel=\"nofollow noreferrer\">File::Path</a></p>\n\n<pre><code>use File::Path qw(remove_tree);\n\n...\n\nremove_tree( @dirs_to_delete, safe =&gt; 1 );\n</code></pre>\n\n<p>This will <code>croak</code> on errors, which is a pretty good idea in my opinion if recursive removal had trouble.  But if that won't work with your designs you can use the <code>error</code> option and then it's up to you to check for errors. See <a href=\"https://perldoc.perl.org/File/Path.html#ERROR-HANDLING\" rel=\"nofollow noreferrer\">Error Handling</a>, and see a few other useful options.</p>\n\n<p>This removes files as well. So be careful in composing the list of things to blow away, for example</p>\n\n<pre><code>use File::Glob ':bsd_glob';\n\nmy @dirs_to_delete = glob \"$path/test*/\";   # note the trailing /\n</code></pre>\n\n<p>where the trailing <code>/</code> makes it so that only directories are returned.  With <a href=\"https://perldoc.perl.org/File/Glob.html\" rel=\"nofollow noreferrer\">File::Glob</a> use statement we get the <code>glob</code> from <code>:bsd_glob</code> which works with filenames that have spaces.<sup>&dagger;</sup> </p>\n\n<p>It may also be safer to first get \"closer\" to what you want to remove</p>\n\n<pre><code>my $orig_cwd = Cwd::cwd;\n\nchdir $path  or die \"Can't \\\"chdir $path\\\": $!\";\n\nmy @dirs_to_delete = glob \"test*/\";\n\n# chdir $orig_cwd;\n</code></pre>\n\n<p>(there are options other than <code>Cwd</code> for <code>chdir</code>-ing and getting back to the original <code>cwd</code>)<br>\nThis of course does not (at all) make it error-proof.</p>\n\n<p>Please excuse repeated warnings but posting on recursive removal makes me a little nervous.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup>&thinsp;Or double those (double) quotes, <code>glob qq{\"$path/test*/\"}</code>, or use the <code>\\Q</code> form of <a href=\"https://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">quotemeta</a>, <code>glob \"\\Q$path/test/*/\"</code>, but which also escapes all non-word characters.</p>\n"}], "owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 56318874, "answer_count": 1, "score": 1, "last_activity_date": 1558937795, "creation_date": 1558921505, "question_id": 56318739, "link": "https://stackoverflow.com/questions/56318739/how-can-i-delete-directories-including-their-contents-using-perl", "title": "How can i delete directories including their contents using perl?", "body": "<p>It is possible to delete few directories including their contents at once using perl ?\nEg:- I have below folders</p>\n\n<ul>\n<li>test1</li>\n<li>test2</li>\n<li>test3</li>\n<li>test4</li>\n</ul>\n\n<p>Can i delete them like rm -rf test* ?\ni tried with below </p>\n\n<pre><code>system(@rm, '-fr', \"$path/test*\");\n</code></pre>\n\n<p>but its not taking <code>*</code> </p>\n"}, {"tags": ["windows", "apache", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1558907520, "post_id": 56315958, "comment_id": 99244211, "body": "<code>A2W</code> has three problems: It effectively uses the wrong encoding (UCS-2 instead of UTF-16le), it doesn&#39;t properly terminate the string (<code>00</code> instead of <code>00 00</code>), and it&#39;s badly named (expects Unicode Code Points rather than ACP-encoded characters). Is using <code>sub U2W { encode(&#39;UTF-16le&#39;, &quot;$_[0]\\0&quot;) }</code> instead of <code>A2W</code> enough to solve the problem?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1558908197, "post_id": 56315958, "comment_id": 99244318, "body": "You use <code>P</code> instead of <code>I</code> for <code>dwLogonFlags</code> and <code>dwCreationFlags</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1558908544, "post_id": 56315958, "comment_id": 99244379, "body": "<code>L</code> is not always the appropriate pack format for pointers (incl <code>HANDLE</code>). Instead, use the value of <code>PTR_PACK_FORMAT</code> as produced by <code>use Config qw( %Config ); use constant PTR_SIZE =&gt; $Config{ptrsize};  use constant PTR_PACK_FORMAT =&gt;      PTR_SIZE == 8 ? &#39;Q&#39;    : PTR_SIZE == 4 ? &#39;L&#39;    : die(&quot;Unrecognized ptrsize\\n&quot;);</code> Of course, you could also use Win32::API::Struct to build the structure."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1558908737, "post_id": 56315958, "comment_id": 99244426, "body": "Specifying <code>STARTF_USESTDHANDLES</code> then passing <code>-1</code> instead of handles seems wrong."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1558916116, "post_id": 56315958, "comment_id": 99245399, "body": "Your handling of <code>lpProcessInformation</code> is problematic. You need to close handles returned via this argument. (But this can wait until after you resolve this crash.)"}], "owner": {"reputation": 49, "user_id": 10612838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4482c501462e43cedb8d13e94496975e?s=128&d=identicon&r=PG&f=1", "display_name": "tim.tub", "link": "https://stackoverflow.com/users/10612838/tim-tub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558907409, "creation_date": 1558892522, "last_edit_date": 1558907409, "question_id": 56315958, "link": "https://stackoverflow.com/questions/56315958/perl-script-for-starting-a-process-as-another-user-not-working-properly", "title": "Perl script for starting a process as another user not working properly", "body": "<p>I have a Perl script which uses Win32::API and the command CreateProcessWithLogonW in order to start a process as another user. However, when I run this script from a browser, the following error message appears on the server screen:</p>\n\n<p>\"The application failed to initiate properly (0xc0000142). Click on OK to terminate the application.\"</p>\n\n<p>I have, however, discovered that if I stop Apache as a service and start it directly by double-clicking on httpd.exe, my perl script works without a problem. How can I get it to work when Apache is running as a service?</p>\n\n<p>My code is as follows:</p>\n\n<pre><code>#!C:\\usr\\bin\\perl\nuse CGI::Carp qw(fatalsToBrowser);\nuse Win32::API;\n\nsub A2W{ pack 'S*', unpack 'C*', $_[0] }\n\nmy $CreateProcessWithLogon = new Win32::API('advapi32.dll', 'CreateProcessWithLogonW', ['P','P','P','P','P','P','P','P','P','P','P'],'N') || return $^E;\n\nmy $si = pack('LLLLLLLLLLLL SS LLLL',68, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1|0x100, 1, 0, 0, -1, -1, -1);\n\nmy $num=$CreateProcessWithLogon-&gt;Call(\n    A2W( 'username' ),\n    A2W( '\\\\.\\ ' ),\n    A2W( 'password' ),\n    0,\n    0,\n    A2W( 'myprocess' ),\n    0,\n    0,\n    0,\n    $si,\n    chr(0) x 100\n) or die $^E;\n\nprint \"Content-type:text/html\\n\\n\";\nprint $num;\n</code></pre>\n"}, {"tags": ["perl", "file-io"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1559034264, "post_id": 56313895, "comment_id": 99282705, "body": "I&#39;ve fixed the indentation of your code. You&#39;re welcome, of course, but please consider doing it yourself in the future. Good indentation is a powerful tool for helping people understand your code. If you want people to read and understand your code, then it&#39;s a good idea to get the indentation right."}], "answers": [{"tags": [], "owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "is_accepted": false, "score": 1, "last_activity_date": 1558878615, "creation_date": 1558878615, "answer_id": 56314091, "question_id": 56313895, "link": "https://stackoverflow.com/questions/56313895/how-can-i-output-the-response-to-text-file-and-open-the-text-file-when-done/56314091#56314091", "title": "How Can I output the response to text file and open the text file when done", "body": "<p>Seems you're always overwriting your report file.</p>\n\n<p>Your open is inside the foreach loop. The loop is done 4 times. You will only receive the output of the last run as the first 3 file creations will be overwritten by the last one.</p>\n\n<p>You should put the open and close outside the loop.</p>\n\n<p>If you only need the first result, you can leave, the loop by putting a <code>last</code> statement at the end of the \"<code>then</code>-part\" of your <code>if</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "edited": false, "score": 0, "creation_date": 1558940265, "post_id": 56320357, "comment_id": 99250415, "body": "What&#39;s the advantage of opening and closing the same file each run through the loop over opening and closing outside the loop?"}], "tags": [], "owner": {"reputation": 616, "user_id": 7922428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vINFX.png?s=128&g=1", "display_name": "Bman70", "link": "https://stackoverflow.com/users/7922428/bman70"}, "is_accepted": false, "score": 0, "last_activity_date": 1558937127, "last_edit_date": 1558937127, "creation_date": 1558936564, "answer_id": 56320357, "question_id": 56313895, "link": "https://stackoverflow.com/questions/56313895/how-can-i-output-the-response-to-text-file-and-open-the-text-file-when-done/56320357#56320357", "title": "How Can I output the response to text file and open the text file when done", "body": "<p>Try changing <code>open(my $fh, '&gt;', $filename)</code> to <code>open(my $fh, '&gt;&gt;', $filename)</code> (two arrows instead of one. This will add each new entry instead of delete the last one. </p>\n\n<p>Here are some answers on opening Windows files with Perl:<br>\n<a href=\"https://stackoverflow.com/questions/8224839/how-to-run-an-executable-file-using-perl-on-windows-xp\">How to run an executable file using Perl on Windows XP?</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11557782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f720a1b24d2a210612f6d6cc31ce9383?s=128&d=identicon&r=PG&f=1", "display_name": "jason", "link": "https://stackoverflow.com/users/11557782/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559467081, "creation_date": 1558877055, "last_edit_date": 1559034160, "question_id": 56313895, "link": "https://stackoverflow.com/questions/56313895/how-can-i-output-the-response-to-text-file-and-open-the-text-file-when-done", "title": "How Can I output the response to text file and open the text file when done", "body": "<p>I want to modify a Perl script to save the result to text file output.txt and open the results output.txt when task is done</p>\n\n<p>I have tried used \"use strict;\nuse warnings;\" and other methods but I keep getting an errors' The Last error was \"Couldn't open output.txt\"</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse HTTP::Request;\nuse LWP::UserAgent;\n\nsystem('cls');\nsystem \"color c\";\nprint\"\\n\";\nprint\" |||||||||||||||||Robots scanner|||||||||||||||||||||\";\nprint \"\\n\";\n\nprint \" Scan Your site Site\\n\\n Example: www.test.com \\n\\n-&gt; \";\n\n\n$site=&lt;STDIN&gt;;\nchomp $site;\n\nif($site !~ /http:\\/\\//) { $site = \"http://$site/\"; };\n\nprint \"\\n\";\n\n@path = ('robotx.txt','robots.txt','robot.txt','search',);\n\n\nforeach $robots(@path){\n\n  $url = $site.$robots;\n  $req = HTTP::Request-&gt;new(GET=&gt;$url);\n  $useragent = LWP::UserAgent-&gt;new();\n\n  $response = $useragent-&gt;request($req);\n  my $filename = 'report.txt';\n  open(my $fh, '&gt;', $filename) or die \"Could not open file '$filename' $!\";\n  if ($response-&gt;is_success){\n\n    print  \"&gt;&gt;&gt;&gt;&gt;&gt;Robots Found !!!&gt;&gt;&gt;: $url\\n\";\n    print $fh \"out put has been generated by perl\\n\"; # THIS DOESN'T WORK THE report.txt is empty \n    print \"done\\n\";\n\n  }else{\n    print \"NotFound : $robots\\n\";\n    print \"done\\n\";\n    # I want to open the file from windows explorer automatically here when its done \n    close $fh; \n  }\n\n}\n</code></pre>\n\n<p>after running cmd as Admin , as you can see the report.txt file shows empty\nI expect to see the out put of the Response </p>\n\n<p>I also want perl to open the report.txt ( without going to windows explorer and opening it manually by the user )  I want it automatically open when its done but I wasn't able to achieve that. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "https"], "answers": [{"tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 3, "last_activity_date": 1558841360, "last_edit_date": 1558841360, "creation_date": 1558840844, "answer_id": 56310391, "question_id": 56309443, "link": "https://stackoverflow.com/questions/56309443/debugging-httptiny/56310391#56310391", "title": "Debugging HTTP::Tiny", "body": "<p>I don't see such a feature mentioned in the HTTP::Tiny documentation, nor do I see it facilitated in the source code for the module. However, you can use a module such as Test::MockModule to get a closer look at what is going on. Here is an example:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse HTTP::Tiny;\nuse Test::MockModule;\nuse Data::Dumper;\n\nmy $t = HTTP::Tiny-&gt;new();\n\nmy $mock = Test::MockModule-&gt;new('HTTP::Tiny');\n\n$mock-&gt;redefine('_request' =&gt; sub {\n    warn \"In _request: \", Dumper {self =&gt; $_[0], method =&gt; $_[1], url =&gt; $_[2], args =&gt; $_[3]};\n    return $mock-&gt;original('_request')-&gt;(@_);\n});\n\nprint \"Response: \", Dumper $t-&gt;get('http://localhost:3000');\n</code></pre>\n\n<p>So in this snippet we are mocking <code>_request</code>, but the mock method we install in behalf of <code>_request</code> calls out to the original <code>_request</code> method, so our mocked method becomes a wrapper around the original method, and we can dump the underlying object and args passed into the method. I'm doing the dump prior to the request being made, but I could have done the initial dump, captured the return value of the real request, and then dump the object again afterward if I thought it might contain additional useful information. So long as we return the actual response, the calling code is none the wiser.</p>\n\n<p>Here's an example of the output. The URL I'm hitting is just a default Mojolicious::Lite app.</p>\n\n<pre><code>In _request: $VAR1 = {\n          'method' =&gt; 'GET',\n          'self' =&gt; bless( {\n                             'agent' =&gt; 'HTTP-Tiny/0.076',\n                             'no_proxy' =&gt; [],\n                             'max_redirect' =&gt; 5,\n                             'keep_alive' =&gt; 1,\n                             'verify_SSL' =&gt; 0,\n                             'timeout' =&gt; 60\n                           }, 'HTTP::Tiny' ),\n          'args' =&gt; {},\n          'url' =&gt; 'http://localhost:3000'\n        };\nResponse: $VAR1 = {\n          'headers' =&gt; {\n                         'content-length' =&gt; '146',\n                         'content-type' =&gt; 'text/html;charset=UTF-8',\n                         'server' =&gt; 'Mojolicious (Perl)',\n                         'date' =&gt; 'Sun, 26 May 2019 03:19:57 GMT'\n                       },\n          'protocol' =&gt; 'HTTP/1.1',\n          'reason' =&gt; 'OK',\n          'url' =&gt; 'http://localhost:3000',\n          'success' =&gt; 1,\n          'status' =&gt; '200',\n          'content' =&gt; '&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;Welcome&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;&lt;h1&gt;Welcome to the Mojolicious real-time web framework!&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n'\n        };\n</code></pre>\n\n<p>Before I was able to know that <code>_request</code> was where I wanted to target my mock, I had to look at the source code for HTTP::Tiny. Fortunately the <code>::Tiny</code> part of the module means there's not a whole lot to look at. It's really a relatively simple module.</p>\n\n<p>You may decide that for your own purposes it makes more sense to introduce your wrapper at some other point in HTTP::Tiny, but wrapping <code>_request</code> seems like a pretty good choice for most cases.</p>\n"}], "owner": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 1, "accepted_answer_id": 56310391, "answer_count": 1, "score": 1, "last_activity_date": 1558841360, "creation_date": 1558826053, "question_id": 56309443, "link": "https://stackoverflow.com/questions/56309443/debugging-httptiny", "title": "Debugging HTTP::Tiny", "body": "<p>I am using HTTP::Tiny to interact with rest api below an example :</p>\n\n<pre><code>my $req = $ua-&gt;get('https://myapi.com/user?xyz', {headers =&gt; \n\n     {token =&gt; 'xyzzz',\n      data =&gt; '5343'.\n\n     }});\n</code></pre>\n\n<p>i am using Data::Dumper to see the response header and body </p>\n\n<pre><code>print Dumper($req); -#i can see the response \n</code></pre>\n\n<p>is there an option to see also the HTTP request i am sending using HTTP::Tiny ,without the need of other tool like wireshark etc..\nsomething like what mojo::useragent achieve with MOJO_CLIENT_DEBUG=1 any idea?</p>\n"}, {"tags": ["perl", "parameter-passing", "conditional-statements", "command-line-arguments"], "answers": [{"comments": [{"owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 0, "creation_date": 1558802139, "post_id": 56306720, "comment_id": 99223919, "body": "Amazing. Thank you. At times I get confused with these declarations #newtoPerl  :)"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1558802667, "last_edit_date": 1558802667, "creation_date": 1558801810, "answer_id": 56306720, "question_id": 56306624, "link": "https://stackoverflow.com/questions/56306624/while-loop-not-looping-past-1/56306720#56306720", "title": "while loop not looping past 1", "body": "<p>The problem is here:</p>\n\n<pre><code>my $numberOfhellos = @ARGV;\n</code></pre>\n\n<p>You're assigning an array to a scalar variable. What this gives you is the number of elements in the array. Since you're passing a single argument (<code>3</code>) to your script, i.e.</p>\n\n<pre><code>@ARGV = (\"3\")\n</code></pre>\n\n<p>this sets <code>$numberOfHellos</code> to <code>1</code>.</p>\n\n<p>The fix is to set <code>$numberOfhellos</code> to the first element of <code>@ARGV</code>, as in:</p>\n\n<pre><code>my $numberOfhellos = $ARGV[0];\n</code></pre>\n\n<p>or alternatively,</p>\n\n<pre><code>my ($numberOfhellos) = @ARGV;\n</code></pre>\n\n<p>which (because of the parentheses) performs list assignment, which stores the first element of <code>@ARGV</code> in the first element of the list on the left-hand side, i.e. it also ends up setting <code>$numberOfhellos = $ARGV[0]</code>.</p>\n\n<p>Also, you don't need this:</p>\n\n<pre><code>chomp($numberOfhellos);\n</code></pre>\n\n<p><code>chomp</code> is used to remove a trailing newline character from a string returned from the <code>readline</code> function. There are no newlines involved here.</p>\n\n<hr>\n\n<p>That said, a more idiomatic way to write a counting loop in Perl is to use <code>for</code> (and a range) instead of <code>while</code>:</p>\n\n<pre><code>my $numberOfHellos = $ARGV[0];\n\nfor my $count (1 .. $numberOfHellos) {\n    print \"Hello number $count\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1558802175, "post_id": 56306744, "comment_id": 99223926, "body": "<code>==</code> already evaluates its operands in scalar context; <code>scalar( )</code> is redundant here."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1558802230, "post_id": 56306744, "comment_id": 99223938, "body": "<code>m&#47;^\\d+$&#47;</code> allows quite a few unexpected strings (e.g. Unicode digits or trailing newlines). Better: <code>m&#47;\\A[0-9]+\\z&#47;</code>."}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1558802364, "post_id": 56306744, "comment_id": 99223977, "body": "@melpomene: Hmm, never thought of that but you&#39;re right. But using <code>scalar</code> more explicitly demonstrates whats going on there. So I&#39;ll leave that and upvote your comment."}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1558802412, "post_id": 56306744, "comment_id": 99223999, "body": "@melpomene: Changed the regexp as suggested."}], "tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": false, "score": 1, "last_activity_date": 1558802393, "last_edit_date": 1558802393, "creation_date": 1558801957, "answer_id": 56306744, "question_id": 56306624, "link": "https://stackoverflow.com/questions/56306624/while-loop-not-looping-past-1/56306744#56306744", "title": "while loop not looping past 1", "body": "<p>When you do</p>\n\n<blockquote>\n<pre><code>...\nmy $numberOfhellos = @ARGV;\n...\n</code></pre>\n</blockquote>\n\n<p>scalar context is used and <code>$numberOfhellos</code> gets the number of elements in <code>@ARGV</code> assigned, which is <code>1</code> if you passed one argument.</p>\n\n<p>Explicitly assign the first element to the variable.</p>\n\n<pre><code>...\nmy $numberOfhellos = $ARGV[0];\n...\n</code></pre>\n\n<p>There also is no need for <code>chomp()</code> there. You might confuse <code>@ARGV</code> with <code>&lt;STDIN&gt;</code> or similar. But it wouldn't harm to check for the arguments being what you expect. That is check their number and if the first one is an integer. Something like:</p>\n\n<pre><code>...\nmy $numberOfhellos;\nif (scalar(@ARGV) == 1\n    &amp;&amp; $ARGV[0] =~ m/\\A[0-9]+\\z/) {\n    $numberOfhellos = $ARGV[0];\n}\nelse {\n    die(\"Wrong arguments\");\n}\n...\n</code></pre>\n\n<p>Note that <code>scalar(@ARGV)</code> forces scalar context on <code>@ARGV</code> resulting in its number of elements. I.e. the same that happened in your original assignment.</p>\n"}], "owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56306720, "answer_count": 2, "score": 0, "last_activity_date": 1558802667, "creation_date": 1558801023, "last_edit_date": 1592644375, "question_id": 56306624, "link": "https://stackoverflow.com/questions/56306624/while-loop-not-looping-past-1", "title": "while loop not looping past 1", "body": "<p>I am trying to use a <code>while</code> loop in Perl that takes one argument from command line, which is the number of hellos to print on the string. I wrote the following:</p>\n<pre><code># Basic settings to catch errors\nuse strict;\nuse warnings;\n\n# Define subroutine containing the program\nsub WhileNumbers {\n    \n    # read script arguments\n    my $numberOfhellos = @ARGV;\n    chomp($numberOfhellos);\n    \n    # Loop through the files\n    my $counts = 1;\n    while($counts &lt;= $numberOfhellos) {\n        # Get user input the protein of interest\n        print (&quot;Hello number $counts \\n&quot;);\n        \n        $counts ++;\n        \n    }\n    \n\n}\n\n# Calling the subroutine\nWhileNumbers();\n</code></pre>\n<p>When I run:\n<code>$ perl hellos.pl 3</code></p>\n<p>I get as output:</p>\n<blockquote>\n<p>Hello number 1</p>\n</blockquote>\n<p>While in reality I would like:</p>\n<blockquote>\n<p>Hello number 1</p>\n<p>Hello number 2</p>\n<p>Hello number 3</p>\n</blockquote>\n<p>Any clue why the while loop is not working as intended?</p>\n"}, {"tags": ["perl", "multidimensional-array"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1558800709, "post_id": 56306497, "comment_id": 99223597, "body": "Can you show a few sample calls to this subroutine? I&#39;m having a hard time picturing what you&#39;re looking for."}], "answers": [{"tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": false, "score": 3, "last_activity_date": 1558837582, "last_edit_date": 1558837582, "creation_date": 1558800694, "answer_id": 56306574, "question_id": 56306497, "link": "https://stackoverflow.com/questions/56306497/how-to-process-variable-dimension-array-in-perl/56306574#56306574", "title": "How to process variable dimension array in Perl", "body": "<p>As in most dynamic languages, arrays in Perl are only one-dimensional. You usually represent a two-dimensional array by having each element of the array be a reference to another array - so you effectively have an array of arrays. If each element of an inner array is also a reference to a third array, then you effectively have a three-dimensional array.</p>\n\n<p>If you don't know ahead of time how deep your array goes, you can use <a href=\"https://perldoc.perl.org/functions/ref.html\" rel=\"nofollow noreferrer\">the <code>ref</code> function</a> to check an element to see if it's a reference; if it is, then dereference it to get another dimension out of your array and process it. If not, then expect it to be a leaf element of the array.</p>\n\n<p>One potential gotcha is that Perl doesn't enforce any kind of structure on the arrays; different elements can be different types. Which means subarrays could exist alongside simple numbers or strings in the same array. It'd be up to the array-construction code to make sure that a single array doesn't mix and match dimensionalities.</p>\n"}], "owner": {"reputation": 219, "user_id": 5179776, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3b67ce56655c6fd60e9e22f36f5df01f?s=128&d=identicon&r=PG&f=1", "display_name": "Nissa", "link": "https://stackoverflow.com/users/5179776/nissa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558837582, "creation_date": 1558800121, "last_edit_date": 1558800676, "question_id": 56306497, "link": "https://stackoverflow.com/questions/56306497/how-to-process-variable-dimension-array-in-perl", "title": "How to process variable dimension array in Perl", "body": "<p>I have a sub that takes in a reference of a multidimensional array and processes it.</p>\n\n<p>The problem is, the underlying array may be 2D or 3D, or a 2D array with up to two fields that is a reference to a 1D array.</p>\n\n<p>Is it possible to detect the dimension of the array, so that I can handle all these cases within this sub?\nOr I have to write several subs to handle all different dimensions?</p>\n"}, {"tags": ["perl", "posix"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 10272755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FE9C9.jpg?s=128&g=1", "display_name": "Harry_", "link": "https://stackoverflow.com/users/10272755/harry"}, "edited": false, "score": 0, "creation_date": 1558791085, "post_id": 56305160, "comment_id": 99221162, "body": "Yes, of course that answered the question, but it didn&#39;t actually tell me anything that my skill set can make useful.   So far, the only time I have found a reference to is: <code>if (defined($str) &amp;&amp; $str ne &#39;&#39; &amp;&amp; !isprint($str)) {</code> I am still combing through all the modules in the package.  Am I wanting to change: <code>if (defined($str) &amp;&amp; $str ne &#39;&#39; &amp;&amp; !isprint($str)) {</code> to <code>if (defined($str) &amp;&amp; $str ne &#39;&#39; &amp;&amp; !qr&#47; ^ [[:print:]]+ $ &#47;x) {</code> ?"}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "reply_to_user": {"reputation": 29, "user_id": 10272755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FE9C9.jpg?s=128&g=1", "display_name": "Harry_", "link": "https://stackoverflow.com/users/10272755/harry"}, "edited": false, "score": 2, "creation_date": 1558791940, "post_id": 56305160, "comment_id": 99221384, "body": "@Harry_: <code>$_</code> might not be set to <code>$str</code> in your context, so probably an explicit match on it is safer: <code>... &amp;&amp; $str !~ qr&#47; ^ [[:print:]]+ $ &#47;x ...</code> or skip the <code>qr</code>, it doesn&#39;t seem useful to me there (but maybe that&#39;s just me): <code>$str !~ m&#47; ^ [[:print:]]+ $ &#47;x</code>."}, {"owner": {"reputation": 29, "user_id": 10272755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FE9C9.jpg?s=128&g=1", "display_name": "Harry_", "link": "https://stackoverflow.com/users/10272755/harry"}, "edited": false, "score": 0, "creation_date": 1558793180, "post_id": 56305160, "comment_id": 99221677, "body": "<code>if (defined($str) &amp;&amp; $str ne &#39;&#39; &amp;&amp; $str ne qr&#47; ^ [[:print:]]+ $ &#47;x) {</code> seemed to do the trick. Also commenting out the <code>use POSIX qw(isprint);</code>  Thank you!"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 29, "user_id": 10272755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FE9C9.jpg?s=128&g=1", "display_name": "Harry_", "link": "https://stackoverflow.com/users/10272755/harry"}, "edited": false, "score": 1, "creation_date": 1558802070, "post_id": 56305160, "comment_id": 99223897, "body": "@Harry_ <code>$str ne qr&#47; ^ [[:print:]]+ $ &#47;x</code> does not do what you intend. Reread sticky bit&#39;s comment if you don&#39;t know how to match a particular variable against a regular expression."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 29, "user_id": 10272755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FE9C9.jpg?s=128&g=1", "display_name": "Harry_", "link": "https://stackoverflow.com/users/10272755/harry"}, "edited": false, "score": 1, "creation_date": 1558819152, "post_id": 56305160, "comment_id": 99227823, "body": "@Harry_ The qr operator just creates a regex reference. You need the <a href=\"https://perldoc.pl/functions/m\" rel=\"nofollow noreferrer\">m operator</a> to test if a string matches it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1558900149, "post_id": 56305160, "comment_id": 99242808, "body": "Re &quot;<i>it didn&#39;t actually tell me anything that my skill set can make useful.</i>&quot;, Then maybe you should have asked how to match against a regex pattern? Or googled for the answer? Even googling for just <code>perl qr</code> gives <a href=\"https://stackoverflow.com/questions/30093272/what-is-the-meaning-of-qr-in-perl\">this pertinent post</a> as the second search result."}], "tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": true, "score": 3, "last_activity_date": 1558790100, "creation_date": 1558790100, "answer_id": 56305160, "question_id": 56305102, "link": "https://stackoverflow.com/questions/56305102/posix-isprint-has-been-deleted-what-to-do/56305160#56305160", "title": "POSIX (isprint) has been deleted; what to do?", "body": "<p>The <a href=\"https://metacpan.org/pod/POSIX\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n\n<blockquote>\n  <p><code>isprint</code></p>\n  \n  <p>This function has been removed as of v5.24. It was very similar to matching against <code>qr/ ^ [[:print:]]+ $ /x</code>, <strong>which you should convert to use instead</strong>. (...)</p>\n</blockquote>\n\n<p>(emphasis: me)</p>\n\n<p>So I guess this very likely answers your question.</p>\n"}], "owner": {"reputation": 29, "user_id": 10272755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FE9C9.jpg?s=128&g=1", "display_name": "Harry_", "link": "https://stackoverflow.com/users/10272755/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 56305160, "answer_count": 1, "score": -3, "last_activity_date": 1558790100, "creation_date": 1558789672, "last_edit_date": 1558789918, "question_id": 56305102, "link": "https://stackoverflow.com/questions/56305102/posix-isprint-has-been-deleted-what-to-do", "title": "POSIX (isprint) has been deleted; what to do?", "body": "<p>A Perl modules uses </p>\n\n<pre><code>use POSIX qw(isprint);\n</code></pre>\n\n<p>Which has been removed from Perl's POSIX. </p>\n\n<p>Is there a work around for this?</p>\n"}, {"tags": ["javascript", "html", "perl", "mojolicious", "mojolicious-lite"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1559067937, "post_id": 56301631, "comment_id": 99301089, "body": "You tagged this with &quot;javascript&quot;, but you aren&#39;t using any. Do you want a javascript form submission solution, as opposed to an HTML form? In other words, do you want to direct the user to a new page with the results of the form, or do you want to call an API from the form and update the page in place (requires javascript)?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11562676, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/b48fe50df538e296d27065bb61807a3c?s=128&d=identicon&r=PG", "display_name": "user11562676", "link": "https://stackoverflow.com/users/11562676/user11562676"}, "is_accepted": false, "score": 0, "last_activity_date": 1558965673, "creation_date": 1558965673, "answer_id": 56327566, "question_id": 56301631, "link": "https://stackoverflow.com/questions/56301631/how-to-store-values-of-an-input-tag-in-a-variable/56327566#56327566", "title": "How to store values \u200bof an input_tag in a variable?", "body": "<p>Add a form, grab the input values and send them e.g. as arguments to the perl script.</p>\n\n<pre><code>use Mojolicious::Lite;\n\nget '/' =&gt; 'index';\n\npost '/' =&gt; sub {\n    my $c = shift;\n\n    my ($nodes, $edges, $start) = map { $c-&gt;param($_) } qw(nodes edges start);\n\n    system 'script.pl', '--nodes', $nodes, '--edges', $edges, '--start', $start;\n\n    $c-&gt;render(text =&gt; 'done');\n};\n\napp-&gt;start;\n__DATA__\n\n@@ index.html.ep\n&lt;html lang=\"es\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"/&gt;\n    &lt;title&gt;Graphs&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;form method=\"post\"&gt;\n        &lt;%= tag div =&gt; (id =&gt; 'inputs') =&gt; begin %&gt;\n            &lt;h1&gt;Grafos dirigidos&lt;/h1&gt;\n            %= input_tag 'nodes', placeholder =&gt; '#Nodos', id =&gt; 'nodes'\n            %= input_tag 'edges', placeholder =&gt; '#Edges', id =&gt; 'edges'\n            %= input_tag 'start', placeholder =&gt; 'Start', id =&gt; 'start'\n            %= submit_button 'Generate', id =&gt; 'render', onclick =&gt; 'renderGraph()'\n            %= tag 'br'\n            %= text_area 'dijkstra', cols =&gt; 40, rows =&gt; 40, id =&gt; 'dijkstra'\n        &lt;% end %&gt;\n    &lt;/form&gt;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 11348001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60c599cad5599beddfb07518a971eef1?s=128&d=identicon&r=PG&f=1", "display_name": "aesbetancourt", "link": "https://stackoverflow.com/users/11348001/aesbetancourt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559067956, "creation_date": 1558757560, "last_edit_date": 1559067956, "question_id": 56301631, "link": "https://stackoverflow.com/questions/56301631/how-to-store-values-of-an-input-tag-in-a-variable", "title": "How to store values \u200bof an input_tag in a variable?", "body": "<p>I am trying to send data from an input_tag when I press a button with the templates in mojolicious.</p>\n\n<pre><code>use Mojolicious::Lite;\n\nget '/' =&gt; 'index';\n\napp-&gt;start;\n__DATA__\n\n@@ index.html.ep\n&lt;html lang=\"es\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"/&gt;\n    &lt;title&gt;Graphs&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;%= tag div =&gt; (id =&gt; 'inputs') =&gt; begin %&gt;\n        &lt;h1&gt;Grafos dirigidos&lt;/h1&gt;\n        %= input_tag 'nodes', placeholder =&gt; '#Nodos', id =&gt; 'nodes'\n        %= input_tag 'edges', placeholder =&gt; '#Edges', id =&gt; 'edges'\n        %= input_tag 'start', placeholder =&gt; 'Start', id =&gt; 'start'\n        %= submit_button 'Generate', id =&gt; 'render', onclick =&gt; 'renderGraph()'\n        %= tag 'br'\n        %= text_area 'dijkstra', cols =&gt; 40, rows =&gt; 40, id =&gt; 'dijkstra'\n    &lt;% end %&gt;\n</code></pre>\n\n<p>When I press the \"generate\" button I want to send that data in the inputs to another perl script.</p>\n"}, {"tags": ["bash", "perl", "vim", "exec"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1558899705, "last_edit_date": 1558899705, "creation_date": 1558757637, "answer_id": 56301637, "question_id": 56301513, "link": "https://stackoverflow.com/questions/56301513/how-to-open-a-file-at-a-specific-line-and-column/56301637#56301637", "title": "How to open a file at a specific line and column?", "body": "<p>The bash command</p>\n\n<pre><code>vim +'call cursor(1,3)' README.md\n</code></pre>\n\n<p>is no different than</p>\n\n<pre><code>vim '+call cursor(1,3)' README.md\n</code></pre>\n\n<p>Both launch <code>vim</code> with the following args:</p>\n\n<p>0: <code>vim</code><br>\n1: <code>+call cursor(1,3)</code><br>\n2: <code>README.md</code></p>\n\n<p>However, you instructed Perl to pass the following args to <code>vim</code>:</p>\n\n<p>0: <code>vim</code><br>\n1: <code>+'call cursor(1,3)'</code><br>\n2: <code>README.md</code></p>\n\n<p>The Perl equivalent of that shell command would be</p>\n\n<pre><code>exec('vim', '+call cursor(1,3)', 'README.md')\n</code></pre>\n"}], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 56301637, "answer_count": 1, "score": 1, "last_activity_date": 1558921430, "creation_date": 1558755889, "last_edit_date": 1558921430, "question_id": 56301513, "link": "https://stackoverflow.com/questions/56301513/how-to-open-a-file-at-a-specific-line-and-column", "title": "How to open a file at a specific line and column?", "body": "<p>I'm working on a module which needs to open a file in <code>vim</code> at an arbitrary line and column.  I'm doing this via <code>exec()</code>, but <code>vim</code> is not getting the correct line and column:</p>\n\n<p>If I distill this down a one-liner:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>perl -E \"exec(q{vim}, q{+'call cursor(1,3)'}, q{README.md})\"\n</code></pre>\n\n<p>This errors with:</p>\n\n<pre><code>\"README.md\" 116L, 3790C\nError detected while processing command line:\nE20: Mark not set\nPress ENTER or type command to continue\n</code></pre>\n\n<p>When <code>vim</code> is showing this error, <code>ps</code> is showing <code>vim +'call cursor(1,3)' README.md</code>, which is the command that I want.  In fact, copy/pasting <code>vim +'call cursor(1,3)' README.md</code> into a new terminal window gives me the desired behaviour.</p>\n\n<p>It looks to me like <code>vim</code> thinks the line is 116 rather than 1 and that the column is 3790 rather than 3 when the command is run via Perl's <code>exec()</code>.</p>\n\n<p>This is Perl 5.26.1, Vim 8.1 and GNU bash, version 3.2.57(1)-release (x86_64-apple-darwin18).</p>\n"}, {"tags": ["perl", "graph"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558737622, "post_id": 56299935, "comment_id": 99212606, "body": "I am not sure if this will help, but you can get grid lines by using option <a href=\"https://metacpan.org/pod/release/RUZ/GDGraph-1.54/Graph.pm#Options-for-graphs-with-axes\" rel=\"nofollow noreferrer\"><code>long_ticks</code></a>"}], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 2267422, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/T3FOc.jpg?s=128&g=1", "display_name": "Timothy B.", "link": "https://stackoverflow.com/users/2267422/timothy-b"}, "edited": false, "score": 0, "creation_date": 1558746572, "post_id": 56300245, "comment_id": 99213810, "body": "Those are also cool. What I&#39;m trying to achieve is lines exactly like those, but at the location of my choosing, to indicate when events took place."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1558738076, "creation_date": 1558738076, "answer_id": 56300245, "question_id": 56299935, "link": "https://stackoverflow.com/questions/56299935/how-to-add-vertical-lines-to-gdgraphlinespoints-line-chart/56300245#56300245", "title": "How to add vertical lines to GD::Graph::linespoints line chart?", "body": "<p>Try setting <a href=\"https://metacpan.org/pod/release/RUZ/GDGraph-1.54/Graph.pm#Options-for-graphs-with-axes.\" rel=\"nofollow noreferrer\"><code>long_ticks = 1</code></a> and  <a href=\"https://metacpan.org/pod/release/RUZ/GDGraph-1.54/Graph.pm#Options-for-graphs-with-axes\" rel=\"nofollow noreferrer\"><code>y_tick_number = 1</code></a>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/GYDDA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GYDDA.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 427, "user_id": 2267422, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/T3FOc.jpg?s=128&g=1", "display_name": "Timothy B.", "link": "https://stackoverflow.com/users/2267422/timothy-b"}, "edited": false, "score": 1, "creation_date": 1558896489, "post_id": 56311876, "comment_id": 99241922, "body": "That seems to be the exactly the desired output and the code works perfectly. I will see if I can adapt it to my project. Thanks!"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1558864236, "last_edit_date": 1558864236, "creation_date": 1558859025, "answer_id": 56311876, "question_id": 56299935, "link": "https://stackoverflow.com/questions/56299935/how-to-add-vertical-lines-to-gdgraphlinespoints-line-chart/56311876#56311876", "title": "How to add vertical lines to GD::Graph::linespoints line chart?", "body": "<p>It seems it is not possible to add vertical lines at specific locations directly to a <a href=\"https://metacpan.org/pod/release/RUZ/GDGraph-1.54/Graph.pm\" rel=\"nofollow noreferrer\"><code>GD::Graph</code></a> but you can add lines after doing <a href=\"https://metacpan.org/pod/release/RUZ/GDGraph-1.54/Graph.pm#METHODS\" rel=\"nofollow noreferrer\"><code>$graph-&gt;plot()</code></a> using <a href=\"https://metacpan.org/pod/GD::Polyline\" rel=\"nofollow noreferrer\">GD::Polyline</a>. For example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse GD::Graph::mixed;\nuse GD::Polyline;\n\nmy $start_day = 5;\nmy $end_day = 26;\nmy @data = (10, 20, 30, 40);\nmy @label = qw(2019-05-05 2019-05-12 2019-05-19 2019-05-26);\nmy @all_labels = map { sprintf \"2019-05-%02d\", $_ } $start_day..$end_day;\nmy $N = scalar @all_labels;\nmy $label_indices = get_event_indices( \\@all_labels, \\@label );\nmy $ydata = linear_interpolation(\\@data, $label_indices, $N);\nmy @events = qw(2019-05-07 2019-05-15 2019-05-26);\n\nmy $points_data1 = get_point_data( \\@all_labels, \\@label, $ydata);\n\nmy @plot_data = (\\@all_labels, $ydata, $points_data1);\n\nmy $width = 1400;\nmy $height = 600;\nmy $graph = GD::Graph::mixed-&gt;new($width, $height);\n$graph-&gt;set(\n  axislabelclr          =&gt; 'gray',\n  bgclr                 =&gt; 'white',\n  dclrs                 =&gt; [ qw(blue) ],\n  fgclr                 =&gt; 'green',\n  labelclr              =&gt; 'orange',\n  marker_size           =&gt; 2,\n  markers               =&gt; 1,\n  shadowclr             =&gt; 'dgreen',\n  shadow_depth          =&gt; 3,\n  textclr               =&gt; 'orange',\n  title                 =&gt; 'Average Daily Things',\n  transparent           =&gt; 0,\n  types                 =&gt; [ qw( lines points  ) ],\n  x_label               =&gt; 'Week',\n  x_label_position      =&gt; .5,\n  x_label_skip          =&gt; 7,\n  x_labels_vertical     =&gt; 1,\n  y_label               =&gt; 'Things',\n  y_min_value           =&gt; 0,\n) or die $graph-&gt;error;\n$graph-&gt;plot(\\@plot_data) or die $graph-&gt;error;\n\nmy $event_indices = get_event_indices( \\@all_labels, \\@events );\n\nplot_vertical_lines( $graph, $height, $event_indices );\n\nmy $file = 'testing.png';\nopen OUT, '&gt;', $file or die \"Cannot open '$file' for write: $!\";\nbinmode OUT;\nprint OUT $graph-&gt;gd-&gt;png;\nclose OUT;\n\nsub plot_vertical_lines {\n    my ( $graph, $height, $event_indices ) = @_;\n\n    my $gd = $graph-&gt;gd;\n    my $black  = $gd-&gt;colorAllocate(  0,  0,  0);\n\n    for my $idx ( @$event_indices ) {\n        my @line = $graph-&gt;get_hotspot(1, $idx);\n        my $x = $line[3];\n        my $polyline = GD::Polyline-&gt;new();\n\n        # add some points\n        $polyline-&gt;addPt(  $x, 20);\n        $polyline-&gt;addPt(  $x, $height - 70);\n        $gd-&gt;setThickness( 2);\n        $gd-&gt;polydraw($polyline, $black);\n    }\n}\n\nsub get_event_indices {\n    my ( $l1, $l2 ) = @_;\n\n    my @idx;\n    my $j = 0;\n    for my $i (0..$#$l1) {\n        my $label = $l1-&gt;[$i];\n        if ( $label eq $l2-&gt;[$j] ) {\n            push @idx, $i;\n            $j++;\n        }\n    }\n    return \\@idx;\n}\n\nsub get_point_data {\n    my ( $l1, $l2, $ydata) = @_;\n\n    my @data;\n    my $j = 0;\n    for my $i (0..$#$l1) {\n        my $label = $l1-&gt;[$i];\n        if ( $label eq $l2-&gt;[$j] ) {\n            push @data, $ydata-&gt;[$i];\n            $j++;\n        }\n        else {\n            push @data, undef;\n        }\n    }\n    return \\@data;\n}\n\nsub linear_interpolation {\n    my ($data, $indices, $N) = @_;\n\n    my @all_data = (undef) x $N;\n    my $k = 0;\n    for my $i (0..($#$data - 1)) {\n        my $min = $data-&gt;[$i];\n        my $max = $data-&gt;[$i + 1];\n        my $N2 = $indices-&gt;[$i + 1] - $indices-&gt;[$i];\n        my $step = ($max - $min) / $N2;\n        for my $j (0..$N2) {\n            $all_data[$k] = $min + $step * $j;\n            $k++ if $j &lt; $N2;\n        }\n    }\n    return \\@all_data;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/CRSQN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CRSQN.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 427, "user_id": 2267422, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/T3FOc.jpg?s=128&g=1", "display_name": "Timothy B.", "link": "https://stackoverflow.com/users/2267422/timothy-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 56311876, "answer_count": 2, "score": 2, "last_activity_date": 1558864236, "creation_date": 1558734981, "question_id": 56299935, "link": "https://stackoverflow.com/questions/56299935/how-to-add-vertical-lines-to-gdgraphlinespoints-line-chart", "title": "How to add vertical lines to GD::Graph::linespoints line chart?", "body": "<p>My line chart is good, but I would like to add vertical lines to indicate \"timeline\" dates.</p>\n\n<pre><code>use GD::Graph::linespoints;\nuse GD::Graph::Data;\n\nmy @label = qw(2019-05-05 2019-05-12 2019-05-19 2019-05-26);\nmy @data = (10, 20, 30, 40);\nmy @events = qw(2019-05-07 2019-05-15 2019-05-30);\n\nmy @input = (\\@label, \\@data);\nmy $data = GD::Graph::Data-&gt;new(\\@input) or die GD::Graph::Data-&gt;error;\nmy $graph = GD::Graph::linespoints-&gt;new(1400,600);\n$graph-&gt;set(\n  x_label               =&gt; 'Week',\n  x_label_position      =&gt; .5,\n  y_label               =&gt; 'Things',\n  y_min_value           =&gt; 0,\n  title                 =&gt; 'Average Daily Things',\n  x_labels_vertical     =&gt; 1,\n  textclr               =&gt; 'orange',\n  labelclr              =&gt; 'orange',\n  axislabelclr          =&gt; 'gray',\n  fgclr                 =&gt; 'green',\n  bgclr                 =&gt; 'white',\n  shadow_depth          =&gt; 3,\n  markers               =&gt; 1,\n  marker_size           =&gt; 2,\n  shadowclr             =&gt; 'dgreen',\n  transparent           =&gt; 0,\n  dclrs                 =&gt; [ qw(blue) ],\n) or die $graph-&gt;error;\n$graph-&gt;plot($data) or die $graph-&gt;error;\nmy $file = 'testing.png';\nopen OUT, '&gt;', $file or die \"Cannot open '$file' for write: $!\";\nbinmode OUT;\nprint OUT $graph-&gt;gd-&gt;png;\nclose OUT;\n</code></pre>\n\n<p>Desired output:</p>\n\n<ul>\n<li>Vertical lines should be spaced between points based on actual date, but snapped to previous tick would also be acceptable.</li>\n<li>The vertical line should fully traverse from top border to bottom border.</li>\n<li>A text legend explaining the dates highlighted, if possible.</li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1558711019, "post_id": 56295330, "comment_id": 99203294, "body": "What output do you get? What do you expect instead?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1558720870, "post_id": 56295330, "comment_id": 99207357, "body": "Always <code>use strict; use warnings;</code>. Also, you can stop using <code>-w</code>: The last perl that didn&#39;t support <code>use warnings</code> didn&#39;t allow 3-argument <code>open</code> either."}, {"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1558722555, "post_id": 56295330, "comment_id": 99208040, "body": "What about &#39;&gt;&gt;&#39; ?"}, {"owner": {"reputation": 25, "user_id": 8171849, "user_type": "registered", "profile_image": "https://graph.facebook.com/2269780149914388/picture?type=large", "display_name": "sacky0003", "link": "https://stackoverflow.com/users/8171849/sacky0003"}, "edited": false, "score": 0, "creation_date": 1558723401, "post_id": 56295330, "comment_id": 99208402, "body": "I want :YOYO -O -i min_mdin.3 -o min_mdout.3 -p TATA -c prod.rst.2.75 -r min.rst.3  YOYO -O -i min_mdin.3.25 -o min_mdout.3.25 -p TATA -c prod.rst.3 -r min.rst.3.25"}, {"owner": {"reputation": 25, "user_id": 8171849, "user_type": "registered", "profile_image": "https://graph.facebook.com/2269780149914388/picture?type=large", "display_name": "sacky0003", "link": "https://stackoverflow.com/users/8171849/sacky0003"}, "edited": false, "score": 0, "creation_date": 1558723469, "post_id": 56295330, "comment_id": 99208430, "body": "But using this codew i get : YOYO -O -i min_mdin.3.25 -o min_mdout.3.25 -p TATA -c prod.rst.3 -r min.rst.3.25"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8171849, "user_type": "registered", "profile_image": "https://graph.facebook.com/2269780149914388/picture?type=large", "display_name": "sacky0003", "link": "https://stackoverflow.com/users/8171849/sacky0003"}, "edited": false, "score": 0, "creation_date": 1558756042, "post_id": 56295420, "comment_id": 99214730, "body": "I have not understood your reply. Can you elaborate on this?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 25, "user_id": 8171849, "user_type": "registered", "profile_image": "https://graph.facebook.com/2269780149914388/picture?type=large", "display_name": "sacky0003", "link": "https://stackoverflow.com/users/8171849/sacky0003"}, "edited": false, "score": 0, "creation_date": 1558786253, "post_id": 56295420, "comment_id": 99220051, "body": "You first change the value, then print. Try printing first, then changing the value."}, {"owner": {"reputation": 25, "user_id": 8171849, "user_type": "registered", "profile_image": "https://graph.facebook.com/2269780149914388/picture?type=large", "display_name": "sacky0003", "link": "https://stackoverflow.com/users/8171849/sacky0003"}, "edited": false, "score": 0, "creation_date": 1558936555, "post_id": 56295420, "comment_id": 99249110, "body": "Sir, may you edit my code? Actually, I am very new in Perl code."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1558945573, "last_edit_date": 1558945573, "creation_date": 1558711060, "answer_id": 56295420, "question_id": 56295330, "link": "https://stackoverflow.com/questions/56295330/cant-print-the-inital-number-in-perl/56295420#56295420", "title": "Can&#39;t print the inital number in perl", "body": "<p>If you want to print the value before it changes, put the <code>print</code> before the assignment.</p>\n\n<pre><code>while ($dist &lt; 15) {\n    print $BATCHFILE \"\\nYOYO -O -i min_mdin.$dist -o min_mdout.$dist -p TATA -c prod.rst.$inti -r min.rst.$dist\\n\";\n    $dist += $incr;\n    $inti = $dist - 0.25;\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8171849, "user_type": "registered", "profile_image": "https://graph.facebook.com/2269780149914388/picture?type=large", "display_name": "sacky0003", "link": "https://stackoverflow.com/users/8171849/sacky0003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 56295420, "answer_count": 1, "score": 0, "last_activity_date": 1558945573, "creation_date": 1558710645, "last_edit_date": 1558720941, "question_id": 56295330, "link": "https://stackoverflow.com/questions/56295330/cant-print-the-inital-number-in-perl", "title": "Can&#39;t print the inital number in perl", "body": "<p>My Perl code is not executed from the initial number.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nprint \"SrepAring inpCKut filYes\\n\";\n\n$incr=0.25;\n$dist=3.0;\n$inti=3.0;\n\nmy $filename = 'job-1.sh';\n\nopen (my $BATCHFILE, '&gt;', \"$filename\");\n\nwhile ($dist &lt; 15) {\n    $dist += $incr;\n    $inti = $dist - 0.25;\n    print $BATCHFILE\n\"\nYOYO -O -i min_mdin.$dist -o min_mdout.$dist -p TATA -c prod.rst.$inti -r min.rst.$dist\n\"\n}\n\nclose ($BATCHFILE);\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>YOYO -O -i min_mdin.3 -o min_mdout.3 -p TATA -c prod.rst.2.75 -r min.rst.3\n\nYOYO -O -i min_mdin.3.25 -o min_mdout.3.25 -p TATA -c prod.rst.3 -r min.rst.3.25\n\nYOYO -O -i min_mdin.3.5 -o min_mdout.3.5 -p TATA -c prod.rst.3.25 -r min.rst.3.5\n</code></pre>\n"}, {"tags": ["bash", "perl", "printf", "quoting"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1558710085, "post_id": 56295150, "comment_id": 99202800, "body": "Can you give us an example of the input?"}], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1558711159, "post_id": 56295291, "comment_id": 99203372, "body": "I&#39;d argue that the environment approach is sufficiently stronger that it should probably be first, if not the <i>only</i> approach shown. Otherwise, anyone who can control your start and end regexps can inject arbitrary code."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1558711614, "post_id": 56295291, "comment_id": 99203578, "body": "@CharlesDuffy: I agree, but surprisingly, the second approach is harder to explain to people not familiar with the details of the shell, environments, and Perl."}, {"owner": {"reputation": 2147, "user_id": 5649639, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d62527cc72c1a877a15b7bfc27d79a50?s=128&d=identicon&r=PG&f=1", "display_name": "SebMa", "link": "https://stackoverflow.com/users/5649639/sebma"}, "edited": false, "score": 0, "creation_date": 1558712187, "post_id": 56295291, "comment_id": 99203867, "body": "@choroba I chose the second approach because complicated quoting code is not easy for me to re-read."}, {"owner": {"reputation": 2147, "user_id": 5649639, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d62527cc72c1a877a15b7bfc27d79a50?s=128&d=identicon&r=PG&f=1", "display_name": "SebMa", "link": "https://stackoverflow.com/users/5649639/sebma"}, "edited": false, "score": 0, "creation_date": 1558712459, "post_id": 56295291, "comment_id": 99203990, "body": "@choroba BTW :Do you know what is wrong with my question that someone would want to close it ? I&#39;d like to improve myself :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1558716670, "post_id": 56295291, "comment_id": 99205778, "body": "The first solution suffers from a Code Injection bug! Don&#39;t generate Perl code from the shell! The correct answer being harder to explain doesn&#39;t justify explaining how to do it wrong."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1558723076, "last_edit_date": 1558723076, "creation_date": 1558710500, "answer_id": 56295291, "question_id": 56295150, "link": "https://stackoverflow.com/questions/56295150/quoting-pb-with-the-perl-print-function/56295291#56295291", "title": "Quoting pb with the Perl print function", "body": "<p>Single quotes in Perl don't interpolate variables. Send the variables to the script through the environment so they become first class citizens and you can use any characters in them:</p>\n\n<pre><code>s=$startRegExp e=$endRegExp perl -ne 'print \"$ARGV:$_\" if /$ENV{s}/ ... /$ENV{e}/'\n</code></pre>\n\n<p>Note that if the file doesn't contain the closing <code>}</code>, perl will continue printing the next file. This can be fixed by changing the right range operand to <code>(/$ENV{e}/ || eof)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1558716852, "last_edit_date": 1558716852, "creation_date": 1558716535, "answer_id": 56296672, "question_id": 56295150, "link": "https://stackoverflow.com/questions/56295150/quoting-pb-with-the-perl-print-function/56296672#56296672", "title": "Quoting pb with the Perl print function", "body": "<p>There are two problems:</p>\n\n<ul>\n<li><p>Single-quotes don't interpolate. You need double-quoted strings, concatenation, etc.</p></li>\n<li><p>You are incorrectly generating Perl code. Generating code is hard to begin with, and doing it from the shell only makes it harder. You end up with all kinds of <a href=\"https://en.wikipedia.org/wiki/Code_injection\" rel=\"nofollow noreferrer\">code injection</a> bugs. Don't do this! Pass the data as arguments (or environment variables) instead.</p></li>\n</ul>\n\n<p>Fixed:</p>\n\n<pre><code>perl -sne'print \"$ARGV:$_\" if /$s/.../$e/' -- \\\n   -s=\"$startRegExp\" -e=\"$endRegExp\" bash_functions*\n</code></pre>\n"}], "owner": {"reputation": 2147, "user_id": 5649639, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d62527cc72c1a877a15b7bfc27d79a50?s=128&d=identicon&r=PG&f=1", "display_name": "SebMa", "link": "https://stackoverflow.com/users/5649639/sebma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 1, "accepted_answer_id": 56295291, "answer_count": 2, "score": 0, "last_activity_date": 1558723076, "creation_date": 1558709901, "last_edit_date": 1558711647, "question_id": 56295150, "link": "https://stackoverflow.com/questions/56295150/quoting-pb-with-the-perl-print-function", "title": "Quoting pb with the Perl print function", "body": "<p>I want to <code>grep</code> a paragraph in a list a files using 2 regexp which are inside 2 bash variables, here is what I type :</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ startRegExp=function.toto\n$ endRegExp=^}\n$ set -x\n$ perl -ne \"print '\\$ARGV:\\$_' if /$startRegExp/ ... /$endRegExp/\" .bash_functions*\n</code></pre>\n\n<p>But this is what I get :</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>+ perl -ne 'print '\\''$ARGV:$_'\\'' if /function.locate/ ... /^}/' .bash_functions .bash_functions.AV .bash_functions.Darwin .bash_functions.Debian .bash_functions.Linux .bash_functions.build .bash_functions.mpv .bash_functions.ytdl\n$ARGV:$_$ARGV:$_$ARGV:$_$ARGV:$_$ARGV:$_$ARGV:$_$ARGV:$_$ARGV:$_$ARGV:$_$ARGV:$_$ARGV:$_$ARGV:$_$ARGV:$_$ARGV:$_\n</code></pre>\n\n<p>Can you help me ?</p>\n"}, {"tags": ["linux", "windows", "oracle", "perl", "windows-subsystem-for-linux"], "comments": [{"owner": {"reputation": 375, "user_id": 10704286, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-of8xlFarfwE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i8d962iFCs6D-HXxGc6_MAps5gIQ/mo/photo.jpg?sz=128", "display_name": "Demeter P. Chen", "link": "https://stackoverflow.com/users/10704286/demeter-p-chen"}, "edited": false, "score": 1, "creation_date": 1558956590, "post_id": 56293318, "comment_id": 99257936, "body": "What is the content of  <i><code>&#47;home&#47;user1&#47;.cpanm&#47;work&#47;1558699904.1138&#47;build.log</code></i>?"}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "reply_to_user": {"reputation": 375, "user_id": 10704286, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-of8xlFarfwE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i8d962iFCs6D-HXxGc6_MAps5gIQ/mo/photo.jpg?sz=128", "display_name": "Demeter P. Chen", "link": "https://stackoverflow.com/users/10704286/demeter-p-chen"}, "edited": false, "score": 0, "creation_date": 1559033065, "post_id": 56293318, "comment_id": 99282014, "body": "@DemeterP.Chen the content is the build.log file that I postet! Basically it tells you to look into this file. Circular reference ... :/"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1559041799, "post_id": 56293318, "comment_id": 99286942, "body": "There&#39;s a line in that output that says &quot;Remember to actually <i>READ</i> the README file! Especially if you have any problems.&quot; Did you try that? It&#39;s <a href=\"https://metacpan.org/source/ZARQUON/DBD-Oracle-1.76/README\" rel=\"nofollow noreferrer\">online here</a>."}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 0, "creation_date": 1559116128, "post_id": 56293318, "comment_id": 99315163, "body": "Can you use the --verbose flag please?"}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1559117127, "post_id": 56293318, "comment_id": 99315696, "body": "@DaveCross yes I did, but nothing relating to a timeout issue ..."}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "reply_to_user": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 0, "creation_date": 1559117416, "post_id": 56293318, "comment_id": 99315869, "body": "@sergiotarxz --verbose does not seem to fly. It freezes from the get go ... I am going to try perl Makefile.PL -F -v and see how that goes but no luck so far ..."}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1559117491, "post_id": 56293318, "comment_id": 99315915, "body": "Would any of you care to upvote this question, I would appreciate that ..."}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 0, "creation_date": 1559117568, "post_id": 56293318, "comment_id": 99315954, "body": "I&#39;m waiting for more information :)"}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1559118021, "post_id": 56293318, "comment_id": 99316190, "body": "There you go, running with -F -v just stops ..."}, {"owner": {"reputation": 375, "user_id": 10704286, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-of8xlFarfwE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i8d962iFCs6D-HXxGc6_MAps5gIQ/mo/photo.jpg?sz=128", "display_name": "Demeter P. Chen", "link": "https://stackoverflow.com/users/10704286/demeter-p-chen"}, "reply_to_user": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 0, "creation_date": 1559290335, "post_id": 56293318, "comment_id": 99381308, "body": "See @sergiotarxz answer, maybe you can adding <code>--configure-timeout</code> in cpanm <a href=\"https://github.com/perl-carton/carton/issues/139\" rel=\"nofollow noreferrer\">github.com/perl-carton/carton/issues/139</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1559344876, "post_id": 56364001, "comment_id": 99403626, "body": "oh, here&#39;s the rub ... thanks for pointing me into this direction ... wtafudge ... if it installs, the bounty is going towards your direction immediatly."}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1559426985, "post_id": 56364001, "comment_id": 99418647, "body": "how long should something like that run? it ran for longer than 30 mins but nothing happened, will try again tomorrow ..."}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1559470495, "post_id": 56364001, "comment_id": 99424487, "body": "Can you elaborate on your last comment? You would not compile on wsl but another machine? I am using plenv with a specific Perl version to an older project ..."}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1559470613, "post_id": 56364001, "comment_id": 99424505, "body": "also, carton does not recognize --build-timeout ... is my version of carton to old, or has the option been renamed?"}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "reply_to_user": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1559490749, "post_id": 56364001, "comment_id": 99429001, "body": "@mahatmanich How do you know cpanm does not recognize the option? Can you give us any pointers? I have updated my response, I expect it will be useful."}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1559496434, "post_id": 56364001, "comment_id": 99430417, "body": "carton doesn&#39;t have the options, cpanm does which carton is a wrapper to. I let it sit for more than 5 hours, nothing happend but a blinkin cursor."}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1559497586, "post_id": 56364001, "comment_id": 99430689, "body": "check out my latest update log with cpanm --verbose and --build-timeout"}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "reply_to_user": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1559544405, "post_id": 56364001, "comment_id": 99439468, "body": "@mahatmanich I don&#39;t know how to continue helping you, sorry."}, {"owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "edited": false, "score": 0, "creation_date": 1559721281, "post_id": 56364001, "comment_id": 99504643, "body": "thanks for the outstanding help, you get the bounty non the less, however I will leave the issue as not resolved."}], "tags": [], "owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "is_accepted": false, "score": 5, "last_activity_date": 1559497793, "last_edit_date": 1559497793, "creation_date": 1559143723, "answer_id": 56364001, "question_id": 56293318, "link": "https://stackoverflow.com/questions/56293318/dbd-oracle-1-74-or-1-76-with-oracle-instantclient-11-2-on-win10-wsl-ubuntu/56364001#56364001", "title": "DBD-Oracle (1.74 or 1.76) with oracle instantclient 11.2 on win10 wsl ubuntu", "body": "<p>From what I have seen here <a href=\"https://github.com/perl-carton/carton/issues/139\" rel=\"nofollow noreferrer\">https://github.com/perl-carton/carton/issues/139</a> this could be the issue.</p>\n\n<p>Add --build-timeout with a very large value to avoid timeout, also you can try with cpan instead of cpanm.</p>\n\n<p>EDIT:</p>\n\n<p>There are three arguments concerning timeout for different parts of the build: </p>\n\n<p>--configure-timeout, --build-timeout, --test-timeout</p>\n\n<p>They should be passed as arguments to cpanm.</p>\n\n<p>Source: <a href=\"https://metacpan.org/pod/distribution/App-cpanminus/bin/cpanm\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/distribution/App-cpanminus/bin/cpanm</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 2872648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac1f904557c57d40d185a956f32b44be?s=128&d=identicon&r=PG&f=1", "display_name": "NerdWrangler", "link": "https://stackoverflow.com/users/2872648/nerdwrangler"}, "is_accepted": false, "score": 1, "last_activity_date": 1576168584, "creation_date": 1576168584, "answer_id": 59309076, "question_id": 56293318, "link": "https://stackoverflow.com/questions/56293318/dbd-oracle-1-74-or-1-76-with-oracle-instantclient-11-2-on-win10-wsl-ubuntu/59309076#59309076", "title": "DBD-Oracle (1.74 or 1.76) with oracle instantclient 11.2 on win10 wsl ubuntu", "body": "<p>I found this question while investigating a similar issue.\nFrom what I see here: <a href=\"https://github.com/microsoft/WSL/issues/2294\" rel=\"nofollow noreferrer\">https://github.com/microsoft/WSL/issues/2294</a>\nThere is an issue with <strong>\"assignment of the result of a subprocess to a variable hangs\"</strong></p>\n\n<p>I reviewed the Makefile.PL and ~line 1635 I found  </p>\n\n<p>\n</p>\n\n<pre><code>        open FH, \"&gt;define.sql\" or warn \"Can't create define.sql: $!\";\n        print FH \"DEFINE _SQLPLUS_RELEASE\\nQUIT\\n\";\n        close FH;\n        my $sqlplus_release = `$sqlplus_exe -S /nolog \\@define.sql 2&gt;&amp;1`;\n</code></pre>\n\n\n\n<p>I ran a quick test locally</p>\n\n<p>\n</p>\n\n<pre><code>user@machine:~$ echo -e \"DEFINE _SQLPLUS_RELEASE\\nQUIT\\n\" &gt; mydefine.sql\nuser@machine:~$ /usr/bin/sqlplus -S /nolog @mydefine.sql\nDEFINE _SQLPLUS_RELEASE = \"1903000000\" (CHAR)\nuser@machine:~$ perl -e 'print `/usr/bin/sqlplus -S /nolog \\@mydefine.sql`'\n    &lt;hangs forever&gt;\n</code></pre>\n\n\n\n<p>SO... now we know there's an issue when sqlplus exists the output cannot be assigned to a variable.</p>\n\n<p>After reviewing Makefile.PL, sqlplus is only being used to determine the version of oracle installed.  I decided to try a hack to get around the issue.  This worked for me, but your mileage may vary.  You will need to vary the commands for your oracle client installation.</p>\n\n<ul>\n<li>Rename the sqlplus executable so it cannot be used.</li>\n<li>Install the (previously downloaded) DBD:Oracle source manually</li>\n<li>Rename the sqlplus executable so it is available again.</li>\n</ul>\n\n<p>\n</p>\n\n<pre><code>user@machine:~$ sudo su\nroot@machine:~# mv /usr/lib/oracle/19.3/client64/bin/sqlplus /usr/lib/oracle/19.3/client64/bin/sqlplusx \nroot@machine:~# cd /home/user/.cpan/build/DBD-Oracle-1.80-0\nroot@machine:DBD-Oracle-1.80-0# perl Makefile.PL\n...\nroot@machine:DBD-Oracle-1.80-0# make\nroot@machine:DBD-Oracle-1.80-0# make install\n... SUCCESS ...\nroot@machine:DBD-Oracle-1.80-0# mv /usr/lib/oracle/19.3/client64/bin/sqlplusx /usr/lib/oracle/19.3/client64/bin/sqlplus\nroot@machine:DBD-Oracle-1.80-0# exit\nexit\nuser@machine:~$\n</code></pre>\n\n\n"}], "owner": {"reputation": 9368, "user_id": 316408, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d693c173f4a9e6cfec05c26c1df0d91?s=128&d=identicon&r=PG&f=1", "display_name": "mahatmanich", "link": "https://stackoverflow.com/users/316408/mahatmanich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 817, "favorite_count": 1, "answer_count": 2, "score": 15, "last_activity_date": 1576168584, "creation_date": 1558703182, "last_edit_date": 1559497997, "question_id": 56293318, "link": "https://stackoverflow.com/questions/56293318/dbd-oracle-1-74-or-1-76-with-oracle-instantclient-11-2-on-win10-wsl-ubuntu", "title": "DBD-Oracle (1.74 or 1.76) with oracle instantclient 11.2 on win10 wsl ubuntu", "body": "<p>I am trying to install DBD::Oracle, either 1.74 or 1.76 on an ubuntu wsl bash on windows 10.</p>\n\n<p>I am on a 64 architecture, and sqlplus64 is working and I can connect to my database!</p>\n\n<p>Installation with <code>cpanm</code> or installing with <code>carton</code> or trying to compile with <code>perl Makeperl.pm -l</code> does not work and always results in the same error.</p>\n\n<p><strong>Using Oracle in /usr/lib/oracle/11.2/client64\n-> FAIL Timed out (> 60s). Use --verbose to retry.\n-> N/A</strong></p>\n\n<p><em>I have tried following:</em></p>\n\n<ol>\n<li>I have tried to elevate folder permissions but no luck.</li>\n<li>I am behind a corporate proxy other packages have installed\nfine, but I also tried with mobile connection on the wild internet, no luck either.</li>\n</ol>\n\n<p>Here is my build.log</p>\n\n<pre><code>cpanm (Menlo) 1.9019 on perl 5.018002 built for x86_64-linux\nWork directory is /home/user1/.cpanm/work/1558699904.1138\nYou have make /usr/bin/make\nYou have LWP: 6.39\nYou have LWP::Protocol::https: 6.07\nYou have /bin/tar: tar (GNU tar) 1.29\nCopyright (C) 2015 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nWritten by John Gilmore and Jay Fenlason.\nYou have /usr/bin/unzip\n--&gt; Working on /mnt/c/project/\nEntering /mnt/c/project\nConfiguring /mnt/c/project\n-&gt; OK\nChecking if you have Try::Tiny 0.24 ... Yes (0.27)\nChecking if you have Tie::IxHash 1.23 ... Yes (1.23)\nChecking if you have Image::Size 3.300 ... Yes (3.300)\nChecking if you have Dancer2 0.203001 ... Yes (0.203001)\nChecking if you have HTTP::Request 0 ... Yes (6.11)\nChecking if you have Test::Fixture::DBI 0 ... Yes (0.09)\nChecking if you have Net::SSLeay 1.88 ... Yes (1.88)\nChecking if you have Plack::Middleware::CrossOrigin 0.012 ... Yes (0.012)\nChecking if you have Date::Format 2.24 ... Yes (2.24)\nChecking if you have Dancer2::Plugin::Database 2.16 ... Yes (2.17)\nChecking if you have MIME::Lite 3.030 ... Yes (3.030)\nChecking if you have Crypt::JWT 0.018 ... Yes (0.018)\nChecking if you have JSON 0 ... Yes (2.90)\nChecking if you have LockFile::Simple 0.208 ... Yes (0.208)\nChecking if you have DBD::Oracle 1.74 ... No\nChecking if you have Date::Language 1.10 ... Yes (1.10)\nChecking if you have HTML::TreeBuilder 5.03 ... Yes (5.03)\nChecking if you have Date::DayOfWeek 1.22 ... Yes (1.22)\nChecking if you have Data::Serializer 0.60 ... Yes (0.60)\nChecking if you have Date::Manip 6.54 ... Yes (6.56)\nChecking if you have Locale::Maketext 0 ... Yes (1.23)\nChecking if you have Time::Piece 0 ... Yes (1.20_01)\nChecking if you have Redis 1.991 ... Yes (1.991)\nChecking if you have Unicode::String 2.09 ... Yes (2.10)\nChecking if you have LWP::Protocol::https 6.06 ... Yes (6.06)\nChecking if you have Date::Calc 6.4 ... Yes (6.4)\nChecking if you have Test::More 0 ... Yes (0.98)\nChecking if you have MooX::Types::MooseLike 0.29 ... Yes (0.29)\nChecking if you have MIME::Types 2.13 ... Yes (2.13)\nChecking if you have LWP::UserAgent 0 ... Yes (6.15)\nChecking if you have Algorithm::Diff 1.1903 ... Yes (1.1903)\nChecking if you have Moo 2.002004 ... Yes (2.002004)\nChecking if you have Starman 0.4014 ... Yes (0.4014)\n==&gt; Found dependencies: DBD::Oracle\nSearching DBD::Oracle on mirror index /mnt/c/project/local/cache/modules/02packages.details.txt ...\n--&gt; Working on DBD::Oracle\nFetching http://cpan.metacpan.org/authors/id/P/PY/PYTHIAN/DBD-Oracle-1.74.tar.gz\n-&gt; OK\nUnpacking DBD-Oracle-1.74.tar.gz\nCopying DBD-Oracle-1.74.tar.gz to /mnt/c/project/local/cache/authors/id/P/PY/PYTHIAN/DBD-Oracle-1.74.tar.gz\nEntering DBD-Oracle-1.74\nChecking configure dependencies from META.json\nChecking if you have ExtUtils::MakeMaker 6.58 ... Yes (7.18)\nChecking if you have DBI 1.51 ... Yes (1.631)\nConfiguring DBD-Oracle-1.74\nRunning Makefile.PL\nMultiple copies of Driver.xst found in: /mnt/c/project/local/lib/perl5/x86_64-linux/auto/DBI/ /home/user1/.plenv/versions/5.18.2/lib/perl5/site_perl/5.18.2/x86_64-linux/auto/DBI/ at Makefile.PL line 39.\nUsing DBI 1.631 (for perl 5.018002 on x86_64-linux) installed in /mnt/c/project/local/lib/perl5/x86_64-linux/auto/DBI/\n\nConfiguring DBD::Oracle for perl 5.018002 on linux (x86_64-linux)\n\nRemember to actually *READ* the README file! Especially if you have any problems.\n\nInstalling on a linux, Ver#4.4\nUsing Oracle in /usr/lib/oracle/11.2/client64\n-&gt; FAIL Timed out (&gt; 60s). Use --verbose to retry.\n-&gt; N/A\nChecking dependencies from META.json ...\nChecking if you have DBI 1.51 ... Yes (1.631)\nChecking if you have warnings 0 ... Yes (1.18)\nChecking if you have Exporter 0 ... Yes (5.68)\nChecking if you have strict 0 ... Yes (1.07)\nChecking if you have DynaLoader 0 ... Yes (1.18)\n-&gt; FAIL Configure failed for DBD-Oracle-1.74. See /home/user1/.cpanm/work/1558699904.1138/build.log for details.\n-&gt; FAIL Installing the dependencies failed: Module 'DBD::Oracle' is not installed\n-&gt; FAIL Bailing out the installation for /mnt/c/project/.\n</code></pre>\n\n<p>Running <code>perl Makefile.PL -F -v</code> (force verbose) stops after it outputs PATH: </p>\n\n<pre><code>Using DBI 1.642 (for perl 5.018002 on x86_64-linux) installed in /home/user1/.plenv/versions/5.18.2/lib/perl5/site_perl/5.18.2/x86_64-linux/auto/DBI/\n\nConfiguring DBD::Oracle for perl 5.018002 on linux (x86_64-linux)\n\nRemember to actually *READ* the README file! Especially if you have any problems.\n\nInstalling on a linux, Ver#4.4\nUsing Oracle in /usr/lib/oracle/11.2/client64\nPATH=/usr/lib/oracle/11.2/client64/bin:/usr/lib/oracle/11.2/client64:/home/user1/.plenv/versions/5.18.2/bin:/home/user1/.plenv/libexec:/home/user1/.plenv/plugins/perl-build/bin:/home/user1/.plenv/shims:/home/user1/.plenv/bin:/home/user1/.nodenv/shims:/home/user1/.nodenv/bin:/home/user1/.rbenv/shims:/home/user1/.rbenv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/mnt/c/Program Files/WindowsApps/CanonicalGroupLimited.UbuntuonWindows_1804.2019.521.0_x64__79rhkp1fndgsc:/mnt/c/Program Files (x86)/Nmap:/mnt/c/Program Files (x86)/Common Files/Oracle/Java/javapath_target_937390:/mnt/c/Windows/System32:/mnt/c/Windows:/mnt/c/Windows/System32/wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0:/mnt/c/Windows/System32/OpenSSH:/mnt/c/Program Files/Git/cmd:/mnt/c/Users/user1/AppData/Local/Microsoft/WindowsApps\n</code></pre>\n\n<p><strong>Latest output with cpanm --verbose --build-timeout</strong></p>\n\n<pre><code>$ cpanm DBD::Oracle@1.74 --verbose --build-timeout 3600\ncpanm (App::cpanminus) 1.7044 on perl 5.018002 built for x86_64-linux\nWork directory is /home/user1/.cpanm/work/1559491379.298\nYou have make /usr/bin/make\nYou have LWP 6.39\nYou have /bin/tar: tar (GNU tar) 1.29\nCopyright (C) 2015 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nWritten by John Gilmore and Jay Fenlason.\nYou have /usr/bin/unzip\nSearching DBD::Oracle (== 1.74) on cpanmetadb ...\n--&gt; Working on DBD::Oracle\nFetching http://backpan.perl.org/authors/id/P/PY/PYTHIAN/DBD-Oracle-1.74.tar.gz ... OK\nUnpacking DBD-Oracle-1.74.tar.gz\nDBD-Oracle-1.74/\nDBD-Oracle-1.74/lib/\nDBD-Oracle-1.74/lib/DBD/\nDBD-Oracle-1.74/lib/DBD/Oracle.pm\nDBD-Oracle-1.74/lib/DBD/Oracle/\nDBD-Oracle-1.74/lib/DBD/Oracle/GetInfo.pm\nDBD-Oracle-1.74/lib/DBD/Oracle/Troubleshooting/\nDBD-Oracle-1.74/lib/DBD/Oracle/Troubleshooting/Win32.pod\nDBD-Oracle-1.74/lib/DBD/Oracle/Troubleshooting/Vms.pod\nDBD-Oracle-1.74/lib/DBD/Oracle/Troubleshooting/Hpux.pod\nDBD-Oracle-1.74/lib/DBD/Oracle/Troubleshooting/Aix.pod\nDBD-Oracle-1.74/lib/DBD/Oracle/Troubleshooting/Sun.pod\nDBD-Oracle-1.74/lib/DBD/Oracle/Troubleshooting/Macos.pod\nDBD-Oracle-1.74/lib/DBD/Oracle/Troubleshooting/Linux.pod\nDBD-Oracle-1.74/lib/DBD/Oracle/Troubleshooting/Cygwin.pod\nDBD-Oracle-1.74/lib/DBD/Oracle/Troubleshooting/Win64.pod\nDBD-Oracle-1.74/lib/DBD/Oracle/Troubleshooting.pod\nDBD-Oracle-1.74/lib/DBD/Oracle/Object.pm\nDBD-Oracle-1.74/oci.def\nDBD-Oracle-1.74/Makefile.PL\nDBD-Oracle-1.74/MANIFEST\nDBD-Oracle-1.74/ocitrace.h\nDBD-Oracle-1.74/Changes\nDBD-Oracle-1.74/LICENSE\nDBD-Oracle-1.74/README.help.txt\nDBD-Oracle-1.74/README.mkdn\nDBD-Oracle-1.74/CONTRIBUTING.mkd\nDBD-Oracle-1.74/INSTALL\nDBD-Oracle-1.74/Oracle.xs\nDBD-Oracle-1.74/CONTRIBUTORS\nDBD-Oracle-1.74/META.json\nDBD-Oracle-1.74/oci8.c\nDBD-Oracle-1.74/META.yml\nDBD-Oracle-1.74/Oracle.h\nDBD-Oracle-1.74/dbivport.h\nDBD-Oracle-1.74/typemap\nDBD-Oracle-1.74/t/\nDBD-Oracle-1.74/t/23wide_db_al32utf8.t\nDBD-Oracle-1.74/t/00versions.t\nDBD-Oracle-1.74/t/22nchar_al32utf8.t\nDBD-Oracle-1.74/t/31lob.t\nDBD-Oracle-1.74/t/lib/\nDBD-Oracle-1.74/t/lib/ExecuteArray.pm\nDBD-Oracle-1.74/t/10general.t\nDBD-Oracle-1.74/t/28array_bind.t\nDBD-Oracle-1.74/t/26exe_array.t\nDBD-Oracle-1.74/t/14threads.t\nDBD-Oracle-1.74/t/rt74753-utf8-encoded.t\nDBD-Oracle-1.74/t/23wide_db.t\nDBD-Oracle-1.74/t/22nchar_utf8.t\nDBD-Oracle-1.74/t/31lob_extended.t\nDBD-Oracle-1.74/t/000-report-versions-tiny.t\nDBD-Oracle-1.74/t/12impdata.t\nDBD-Oracle-1.74/t/36lob_leak.t\nDBD-Oracle-1.74/t/24implicit_utf8.t\nDBD-Oracle-1.74/t/38taf.t\nDBD-Oracle-1.74/t/21nchar.t\nDBD-Oracle-1.74/t/70meta.t\nDBD-Oracle-1.74/t/15nls.t\nDBD-Oracle-1.74/t/39attr.t\nDBD-Oracle-1.74/t/rt85886.t\nDBD-Oracle-1.74/t/34pres_lobs.t\nDBD-Oracle-1.74/t/56embbeded.t\nDBD-Oracle-1.74/t/40ph_type.t\nDBD-Oracle-1.74/t/55nested.t\nDBD-Oracle-1.74/t/30long.t\nDBD-Oracle-1.74/t/32xmltype.t\nDBD-Oracle-1.74/t/58object.t\nDBD-Oracle-1.74/t/50cursor.t\nDBD-Oracle-1.74/t/80ora_charset.t\nDBD-Oracle-1.74/t/51scroll.t\nDBD-Oracle-1.74/t/01base.t\nDBD-Oracle-1.74/t/20select.t\nDBD-Oracle-1.74/t/nchar_test_lib.pl\nDBD-Oracle-1.74/t/23wide_db_8bit.t\nDBD-Oracle-1.74/t/60reauth.t\nDBD-Oracle-1.74/t/rt13865.t\nDBD-Oracle-1.74/t/25plsql.t\nDBD-Oracle-1.74/examples/\nDBD-Oracle-1.74/examples/japh\nDBD-Oracle-1.74/examples/oradump.pl\nDBD-Oracle-1.74/examples/ora_explain.pl\nDBD-Oracle-1.74/examples/commit.pl\nDBD-Oracle-1.74/examples/bind.pl\nDBD-Oracle-1.74/examples/curref.pl\nDBD-Oracle-1.74/examples/ex.pl\nDBD-Oracle-1.74/examples/read_long_via_blob_read.pl\nDBD-Oracle-1.74/examples/tabinfo.pl\nDBD-Oracle-1.74/examples/proc.pl\nDBD-Oracle-1.74/examples/sql\nDBD-Oracle-1.74/examples/mktable.pl\nDBD-Oracle-1.74/examples/inserting_longs.pl\nDBD-Oracle-1.74/examples/README\nDBD-Oracle-1.74/mkta.pl\nDBD-Oracle-1.74/Todo\nDBD-Oracle-1.74/dbdimp.h\nDBD-Oracle-1.74/hints/\nDBD-Oracle-1.74/hints/macos_syms.pl\nDBD-Oracle-1.74/hints/macos_bundle.syms\nDBD-Oracle-1.74/hints/macos_lib.syms\nDBD-Oracle-1.74/hints/dgux.pl\nDBD-Oracle-1.74/hints/svr4.pl\nDBD-Oracle-1.74/dbdimp.c\nDBD-Oracle-1.74/README\nEntering DBD-Oracle-1.74\nChecking configure dependencies from META.json\nChecking if you have DBI 1.51 ... Yes (1.642)\nChecking if you have ExtUtils::MakeMaker 6.58 ... Yes (7.36)\nRunning Makefile.PL\nConfiguring DBD-Oracle-1.74 ... Using DBI 1.642 (for perl 5.018002 on x86_64-linux) installed in /home/user1/.plenv/versions/5.18.2/lib/perl5/site_perl/5.18.2/x86_64-linux/auto/DBI/\n\nConfiguring DBD::Oracle for perl 5.018002 on linux (x86_64-linux)\n\nRemember to actually *READ* the README file! Especially if you have any problems.\n\nInstalling on a linux, Ver#4.4\nUsing Oracle in /usr/lib/oracle/11.2/client64\nBLINKIN CURSOR LONGER THAN 5 HOURS ...\n</code></pre>\n"}, {"tags": ["perl", "file-handling"], "comments": [{"owner": {"reputation": 4446, "user_id": 7500028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf0e88580cccb9004735bcb92be952e?s=128&d=identicon&r=PG&f=1", "display_name": "Julio", "link": "https://stackoverflow.com/users/7500028/julio"}, "edited": false, "score": 5, "creation_date": 1558691427, "post_id": 56290020, "comment_id": 99192606, "body": "May we see your code?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1558692080, "post_id": 56290020, "comment_id": 99192961, "body": "It&#39;s impossible to be much help here without seeing some code. Please share a small, self-contained example which exhibits the behaviour you&#39;re talking about."}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1558708321, "post_id": 56291255, "comment_id": 99201924, "body": "Interesting, I didn&#39;t know append mode would append regardless of the seek position!"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 2, "creation_date": 1558712197, "post_id": 56291255, "comment_id": 99203873, "body": "@Grinnz: append mode is done with the <code>O_APPEND</code> flag to open. From <a href=\"http://man7.org/linux/man-pages/man2/open.2.html\" rel=\"nofollow noreferrer\">the man page</a> regarding this flag: <i>&quot;Before each write(2), the               file offset is positioned at the end of the file, as if with               lseek(2).  The modification of the file offset and the write               operation are performed as a single atomic step.&quot;</i>."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 5, "last_activity_date": 1558700310, "last_edit_date": 1558700310, "creation_date": 1558695418, "answer_id": 56291255, "question_id": 56290020, "link": "https://stackoverflow.com/questions/56290020/perl-print-to-a-file-and-stdout-which-is-the-file/56291255#56291255", "title": "perl print to a file and STDOUT which is the file", "body": "<p>As far as I understand your program basically looks like this:</p>\n\n<pre><code>open(my $fh,'&gt;','foobar.txt');\nprint $fh \"foo\\n\";\nprint \"bar\\n\"; # prints to STDOUT\n</code></pre>\n\n<p>And then you use it in a way that STDOUT is redirected in the shell to the same file which is already opened in your program:</p>\n\n<pre><code>$ perl test.pl &gt; foobar.txt\n</code></pre>\n\n<p>This will open two independent file handles to the same file: one within your program and the other within the shell where you start the program. Both file handles manage their own file position for writing, start at position 0 and advance the position after each write. </p>\n\n<p>Since these file handles are independent from each other they will not care if there are other file handles dealing currently with this file, no matter if these other file handles are inside or outside the program. This means that these writes will overwrite each other.</p>\n\n<p>In addition to this there is also internal buffering done, i.e. each <code>print</code> will first result into a write into some internal buffer and might result immediately into a write to the file handle. When data are written to the file handle depends on the mode of the file handle, i.e. unbuffered, line-buffered or a buffer of a specific size. This makes the result kind of unpredictable. </p>\n\n<p>If you don't want this behavior but still want to write to the same file using multiple file handle you better use the append-mode, i.e. open with <code>&gt;&gt;</code> instead of <code>&gt;</code> in both Perl code and shell. This will make sure that all data will be appended to the end of the file instead of written to the file position maintained by the file handle. This way data will not get overwritten. Additionally you might want to make the file handles unbuffered so that data in the file end up in the same order as the <code>print</code> statements where done:</p>\n\n<pre><code>open(my $fh,'&gt;&gt;','foobar.txt');\n$fh-&gt;autoflush(1); # make $fh unbuffered\n$|=1;   # make STDOUT unbuffered\nprint $fh \"foo\\n\";\nprint \"bar\\n\"; # prints to STDOUT\n\n$ perl test.pl &gt;&gt; foobar.txt\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 6356055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c07a3916687cd87948545c694a1cda2?s=128&d=identicon&r=PG&f=1", "display_name": "Dasha Sham", "link": "https://stackoverflow.com/users/6356055/dasha-sham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558700310, "creation_date": 1558691193, "question_id": 56290020, "link": "https://stackoverflow.com/questions/56290020/perl-print-to-a-file-and-stdout-which-is-the-file", "title": "perl print to a file and STDOUT which is the file", "body": "<p>My program is trying to print to a file which for it is the STDOUT. \nTo say, <em>print \"text here\";</em> prints to a file x.log , while I am also trying to print to the file x.log using file-handler method as in <em>print FH1 \"text here\";</em> . I notice that when the file-handler method statement is provided first and then followed by the STDOUT procedure. My second print can override the first.I would like to know more on why this occurs. </p>\n\n<p>This makes me think of a race condition or that the file-handler is relatively slow (if it goes through buffer?) than the STDOUT print statements. This I am not sure on how if that is the way Perl works. Perl version - 5.22.0</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 1, "creation_date": 1558694093, "post_id": 56289556, "comment_id": 99194138, "body": "Not sure this is an exact duplicate as the equation can&#39;t be directly evaled"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558697772, "post_id": 56289556, "comment_id": 99196052, "body": "For general text parsing in Perl, see for example: <a href=\"https://metacpan.org/pod/Regexp::Grammars\" rel=\"nofollow noreferrer\">Regexp::Grammars</a> or <a href=\"https://metacpan.org/pod/Marpa::R2\" rel=\"nofollow noreferrer\">Marpa::R2</a>"}], "owner": {"reputation": 21, "user_id": 11549248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b7ff22507e26c8a4ce4affc1e0d3aed?s=128&d=identicon&r=PG&f=1", "display_name": "udit", "link": "https://stackoverflow.com/users/11549248/udit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1558690983, "answer_count": 0, "score": 2, "last_activity_date": 1558689696, "creation_date": 1558689696, "question_id": 56289556, "link": "https://stackoverflow.com/questions/56289556/how-to-convert-string-into-equation-and-solve-it-in-perl", "closed_reason": "Duplicate", "title": "How to convert string into equation and solve it in Perl?", "body": "<p>I have equation stored as string in a variable. I want to convert that string into equation and solve it using the values I have.\nCan someone help me how to approach this problem? How to understand equation stored in string and put values in it. For example in code I have following information,</p>\n\n<pre><code>$eq = \"(a+b)*c\";\n$a = \"4\";\n$b = \"1\";\n$c = \"2\";\n</code></pre>\n\n<p>I want output of this as 10 which is solution of equation.</p>\n"}, {"tags": ["regex", "perl", "regex-greedy"], "comments": [{"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 1, "creation_date": 1558685332, "post_id": 56288309, "comment_id": 99189362, "body": "Look into greedy and non-greedy quantifiers."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1558685415, "post_id": 56288309, "comment_id": 99189404, "body": "Regex with <code>g</code> flag does not usually work like this, once a match is found, the regex index is advanced. So, generally, you can&#39;t match several times at one and the same location. In Perl6, however, this is solved."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1558685749, "post_id": 56288309, "comment_id": 99189576, "body": "Read <a href=\"https://www.regular-expressions.info/repeat.html\" rel=\"nofollow noreferrer\">regular-expressions.info/repeat.html</a> particularly the section about greediness."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1558685784, "post_id": 56288309, "comment_id": 99189606, "body": "@WiktorStribi\u017cew He&#39;s not asking to get all the matches, he just wants to know which one it will match."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1558686089, "post_id": 56288309, "comment_id": 99189755, "body": "@Barmar Then OP needs something like <code>m&#47;(?:h[^o]o){1,x}&#47;</code> where <code>x</code> controls how many times <code>h...o</code> repeats. Else, I should have kept it closed as another <a href=\"https://stackoverflow.com/questions/22444\">My regex is matching too much. How do I make it stop?</a> dupe."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1558686189, "post_id": 56288309, "comment_id": 99189819, "body": "Why does he &quot;need&quot; that? He never said what he wanted to match, he just asked how it normally matches."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1558686205, "post_id": 56288309, "comment_id": 99189830, "body": "@Barmar See <i>could match &#39;hello&#39;, &#39;hellohello&#39; or &#39;hellohellohello&#39;</i> What you suggest, only matches <code>hello</code> (non-greedy) or <code>hellohellohello</code> (greedy) in <code>&#39;hellohellohello&#39;</code>"}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1558686282, "post_id": 56288309, "comment_id": 99189879, "body": "Those are the potential matches because he doesn&#39;t know how <code>*</code> limits itself."}], "answers": [{"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1558686281, "post_id": 56288523, "comment_id": 99189876, "body": "Just greedy/non-greedy does not fully solve the issue. See <i>could match &#39;hello&#39;, &#39;hellohello&#39; or &#39;hellohellohello&#39;</i> What you suggest, only matches <code>hello</code> (non-greedy) or <code>hellohellohello</code> (greedy) in <code>&#39;hellohellohello&#39;</code>"}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1558686326, "post_id": 56288523, "comment_id": 99189904, "body": "You&#39;re not understanding the question. He wants to know which of the possible matches it actually matches. And greediness is used to determine that."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1558708012, "post_id": 56288523, "comment_id": 99201735, "body": "To be precise, in all cases it will match the <i>first</i> possible match from left to right. Greediness only determines whether it will be the shortest or longest match starting from that position, even if it&#39;s not the shortest or longest match possible overall."}], "tags": [], "owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1558685903, "creation_date": 1558685903, "answer_id": 56288523, "question_id": 56288309, "link": "https://stackoverflow.com/questions/56288309/multiple-possible-matches-for-regex-in-perl/56288523#56288523", "title": "Multiple possible matches for regex in Perl", "body": "<p><code>*</code> is greedy, so it tries to match the longest possible string, so long as the rest of the pattern can still be matched. So it will match <code>hellohellohello</code>.</p>\n\n<p>If you use <code>*?</code> instead, that makes it non-greedy, and it will match the shortest possible string, again as long as the rest of the pattern matches. So <code>m/h.*?o/</code> will match <code>hello</code>.</p>\n"}], "owner": {"reputation": 447, "user_id": 10202232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Avzwj.png?s=128&g=1", "display_name": "him", "link": "https://stackoverflow.com/users/10202232/him"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "closed_date": 1558686398, "answer_count": 1, "score": -1, "last_activity_date": 1558688425, "creation_date": 1558685061, "last_edit_date": 1558688425, "question_id": 56288309, "link": "https://stackoverflow.com/questions/56288309/multiple-possible-matches-for-regex-in-perl", "closed_reason": "Duplicate", "title": "Multiple possible matches for regex in Perl", "body": "<p>I'm new to Perl and is working with regular expressions. I am not able to decide how Perl resolves the ambiguity for a regex match when multiple matches are possible for a given query string. For example</p>\n\n<ul>\n<li><p><code>('hellohellohello' =~ m/h.*o/)</code> </p>\n\n<p>This could match 'hello', 'hellohello' or 'hellohellohello'. Which one will it choose - shortest or largest match ? What if we want opposite behavior (like if default is to find the shortest match then finding the largest match) ?</p></li>\n<li><p>In case the answer to the first is largest consider</p>\n\n<p><code>('hello\n   hellohello' =~ m/h.*o/)</code></p>\n\n<p>Here, it could match from the first line (before the newline character) or the second line (after the newline character) - first vs largest match. Which one will it use ?</p></li>\n</ul>\n\n<p>What are the complete set of rules that can be used to decide which substring of a string would match a given regex (might be some case other than the one mentioned in the examples where multiple matches could be found) ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1558672613, "post_id": 56285782, "comment_id": 99184950, "body": "Tip: Don&#39;t use global vars for file handles, especially not <code>DATA</code> (which already has meaning). Use lexical vars. /// Don&#39;t use 2-arg open. /// Check the result of <code>open</code> cause it&#39;s a frequent source of failure.  <code>open(my $fh, &#39;&lt;&#39;, $qfn) or die(&quot;Can&#39;t open \\&quot;$qfn\\&quot;: $!\\n&quot;);</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1558672676, "post_id": 56285782, "comment_id": 99184962, "body": "Tip: <code>split &#39; &#39;, $line</code> almost always makes more sense than <code>split &#47;\\s+&#47;, $line</code>. Though if your input is tab-separated like your output <code>split &#47;\\t&#47;, $line</code> would be the appropriate solution here."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1558687941, "post_id": 56285782, "comment_id": 99190779, "body": "Heretical non-perl approach using the ever-useful <a href=\"https://www.gnu.org/software/datamash/\" rel=\"nofollow noreferrer\">gnu datamash</a>: <code>datamash groupby 1,2 sum 3 &lt; input.tsv</code>. (If your real input isn&#39;t already sorted the way your sample is, add <code>-s</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "is_accepted": true, "score": 1, "last_activity_date": 1558676307, "creation_date": 1558676307, "answer_id": 56286430, "question_id": 56285782, "link": "https://stackoverflow.com/questions/56285782/grouping-tabular-data-by-multiple-columns/56286430#56286430", "title": "Grouping tabular data by multiple columns", "body": "<p>To keep the sequence, store it:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nmy @sequence;\nmy %scores_by_year;\n\nwhile (&lt;DATA&gt;) {\n   my ($protein, $year, $score) = split;\n   if (not exists $scores_by_year{$protein}{$year}) {\n     push @sequence, [$protein, $year];\n   }\n   $scores_by_year{$protein}{$year} += $score;\n}\n\nfor my $protein_year (@sequence) {\n  my($protein, $year)= @$protein_year;\n  print join(\"\\t\", $protein, $year, $scores_by_year{$protein}{$year}), \"\\n\";\n}\n__DATA__\nb1  1995    1\nb1  2007    0.1\nb2  1974    0.1\nb2  1974    0.7\nb2  1975    0.3\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 7208278, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0byC-qG6vn0/AAAAAAAAAAI/AAAAAAAACuc/-ALdLLJ-6q8/photo.jpg?sz=128", "display_name": "swati sinha", "link": "https://stackoverflow.com/users/7208278/swati-sinha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 56286430, "answer_count": 1, "score": 0, "last_activity_date": 1558679123, "creation_date": 1558671090, "last_edit_date": 1558679123, "question_id": 56285782, "link": "https://stackoverflow.com/questions/56285782/grouping-tabular-data-by-multiple-columns", "title": "Grouping tabular data by multiple columns", "body": "<p>I have the data in this format</p>\n\n<pre><code>b1  1995    1\nb1  2007    0.1\nb2  1974    0.1\nb2  1974    0.6\nb2  1975    0.3\n</code></pre>\n\n<p>And, I want to sum values in column 3 based on similar values in both columns 1 and 2.</p>\n\n<p>I have written a code where it sums up the value but I do not know how to print the groups values.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\nmy $file=shift;\nopen (DATA, $file);\nmy %score_by_year;\n\nwhile ( my $line = &lt;DATA&gt; )\n{\n        my ($protein, $year, $score) = split /\\s+/, $line;\n        $score_by_year{$year} +=$score;\n        print \"$protein\\t$year\\t$score_by_year{$year}\\n\";\n}\nclose DATA;\n</code></pre>\n\n<p>so my code gives output as:</p>\n\n<pre><code>b1  1995    1\nb1  2007    0.1\nb2  1974    0.1\nb2  1974    0.7\nb2  1975    0.3\n</code></pre>\n\n<p>whereas, the expected output is this:</p>\n\n<pre><code>b1  1995    1\nb1  2007    0.1\nb2  1974    0.7\nb2  1975    0.3\n</code></pre>\n"}, {"tags": ["perl", "parsing", "parquet"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558636019, "post_id": 56279665, "comment_id": 99175926, "body": "Are these binary files? See <a href=\"https://www.perl.com/article/how-to-parse-binary-data-with-perl/\" rel=\"nofollow noreferrer\">How to parse binary data with Perl</a> for an approach."}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558639208, "post_id": 56279665, "comment_id": 99177310, "body": "@H&#229;konH&#230;gland - they are very specific format for Apache Hadoop"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1558644770, "post_id": 56279665, "comment_id": 99179505, "body": "there seems to be a C++ library <a href=\"https://github.com/apache/parquet-cpp\" rel=\"nofollow noreferrer\">github.com/apache/parquet-cpp</a> that could be wrapped in a perl interface with perl XS"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1558645442, "post_id": 56279665, "comment_id": 99179794, "body": "It could be built as an <a href=\"https://metacpan.org/pod/Alien::Build::Manual::Alien\" rel=\"nofollow noreferrer\">Alien</a> and then used via XS or <a href=\"https://metacpan.org/pod/FFI::Platypus\" rel=\"nofollow noreferrer\">FFI</a> but the third party dependencies for building look somewhat complex."}], "answers": [{"tags": [], "owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "is_accepted": false, "score": 1, "last_activity_date": 1558706535, "creation_date": 1558706535, "answer_id": 56294250, "question_id": 56279665, "link": "https://stackoverflow.com/questions/56279665/parsing-parquet-files-with-perl/56294250#56294250", "title": "Parsing Parquet files with Perl", "body": "<p>There's not a single module that would do this, but there is a path forward.  First, note that the Parquet <a href=\"https://github.com/apache/parquet-format#file-format\" rel=\"nofollow noreferrer\">format</a> has a <a href=\"https://thrift.apache.org/\" rel=\"nofollow noreferrer\">Thrift</a> <a href=\"https://github.com/apache/parquet-format/blob/master/src/main/thrift/parquet.thrift\" rel=\"nofollow noreferrer\">specification</a>, which is parseable by <a href=\"https://metacpan.org/pod/Thrift::IDL\" rel=\"nofollow noreferrer\">Thrift::IDL</a>.  That, coupled with either <a href=\"https://metacpan.org/pod/Convert::Binary::C\" rel=\"nofollow noreferrer\">Convert::Binary::C</a> or the link posted by@H\u00e5konH\u00e6gland should get you started.</p>\n"}], "owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1558706535, "creation_date": 1558629661, "last_edit_date": 1558694786, "question_id": 56279665, "link": "https://stackoverflow.com/questions/56279665/parsing-parquet-files-with-perl", "title": "Parsing Parquet files with Perl", "body": "<p>What would be the correct approach to parsing <a href=\"https://parquet.apache.org/\" rel=\"nofollow noreferrer\">Parquet</a> files with Perl?</p>\n\n<p>CPAN seems devoid of any module to do this, aside from some logic inside S3 Amazon Web Services modules that don't offer any parsing code I can find.</p>\n"}, {"tags": ["string", "perl", "quotes", "double-quotes", "single-quotes"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1558612041, "post_id": 56273829, "comment_id": 99163523, "body": "My guess is that it is because <code>&quot;${ \\&quot;_&lt;$filename\\&quot; }&quot;</code> is parsed twice. If you use single quotes inside it will not interpolate <code>$filename</code> (since single quotes does not interpolate)?"}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1558614780, "post_id": 56274618, "comment_id": 99165031, "body": "the value of <code>$filename</code> is <code>Specio::Constraint::Simple-&gt;_optimized_constraint</code>"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1558615679, "post_id": 56274618, "comment_id": 99165578, "body": "@EugenKonkov it doesn&#39;t matter: my example shows <i>why</i> interpolation needs to be done by <code>${}</code> rather than by <code>&quot;&quot;</code>. It would be ridiculous for Perl to look at the value of <code>$filename</code> and decide based on that where the interpolation needs to be done."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1558617038, "post_id": 56274618, "comment_id": 99166349, "body": "now the example answers the question. Is this documented that single quotes inside double quoted string toggle interpolation?"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1558617304, "post_id": 56274618, "comment_id": 99166487, "body": "@EugenKonkov I didn&#39;t find any documentation about this in neither perldata nor perlop. I don&#39;t know if it&#39;s documented anywhere."}], "tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": true, "score": 2, "last_activity_date": 1558621626, "last_edit_date": 1558621626, "creation_date": 1558612281, "answer_id": 56274618, "question_id": 56273829, "link": "https://stackoverflow.com/questions/56273829/the-difference-between-and-in-perl/56274618#56274618", "title": "The difference between &quot; and &#39; in Perl", "body": "<p>What happens is that in both cases, <code>$filename</code> is not interpolated by the outer string (<code>\"&gt;&gt;...&lt;&lt;\\n\"</code>), but rather by <code>${ ... }</code>. (this is just deduction from the behavior). This means that in <code>\"&gt;&gt;${  '_&lt;$filename'  }&lt;&lt;\\n\"</code>, <code>$filename</code> isn't interpolated at all, while it is in <code>\"&gt;&gt;${ \\\"_&lt;$filename\\\" }&lt;&lt;\\n\"</code>.</p>\n\n<p>If it was interpolated by the outer string, then you'd ran into some troubles if your string was containing quotes:</p>\n\n<pre><code>$filename = \"ab'cd\";\n</code></pre>\n\n<p>If interpolation was done by the outer string, then <code>\"${'$filename'}\"</code> would be equivalent to <code>\"${'ab'cd'}\"</code>, which is a syntax error. Or maybe rather to <code>\"${ab'cd}\"</code>, which is equivalent to <code>\"${ab::cd}\"</code>; not what you want either.</p>\n\n<p>Whereas if the interpolation is done by <code>${}</code>, then in <code>\"${'$filename'}\"</code>, <code>${...}</code> is really <code>${\"$filename\"}</code> (without the escaped double-quotes), which interpolates <code>$filename</code>, and you get something like <code>${\"ab'cd\"}</code>, like you'd want.</p>\n\n<hr>\n\n<p>Consider this example:</p>\n\n<pre><code>$abcd = \"First var\";\n${'$v'} = \"Second var\";\n$v = \"abcd\";\n\nsay \"${\\\"$v\\\"}\"; # prints \"First var\"\nsay \"${'$v'}\";   # prints \"Second var\"\n</code></pre>\n\n<p>It shows that with <code>\"${\\\"$v\\\"}\"</code>, <code>$v</code> was interpolated, whereas with <code>\"${'$v'}\"</code>, it wasn't.</p>\n"}, {"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1558616243, "post_id": 56275249, "comment_id": 99165889, "body": "While this is interesting, I don&#39;t see how it answers you question, which came down to the difference between <code>\\&quot;_&lt;$filename\\&quot;</code> and <code>&#39;_&lt;$filename&#39;</code> within a <code>${}</code> within a string. In all of the examples of your answer, you use double quotes around <code>$filename</code>."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 2, "creation_date": 1558616766, "post_id": 56275249, "comment_id": 99166205, "body": "Maybe it was supposed to be an answer to your previous question?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1558682346, "post_id": 56275249, "comment_id": 99188053, "body": "@Dada: not all examples have <code>&#39;</code> around filename. Notice hardcoded: <code>Devel::Peek::Dump( ${       &#39;::_&lt;Specio::Constraint::Simple-&gt;_optimized_constraint&#39;  } );</code>"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1558682516, "post_id": 56275249, "comment_id": 99188117, "body": "@Dada: I am agree that this does not answer my question directly. Here I show test results of some aspects of <code>${ }</code>. I am not going to accept this answer or so. Do not worry."}], "tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1558682906, "last_edit_date": 1558682906, "creation_date": 1558614487, "answer_id": 56275249, "question_id": 56273829, "link": "https://stackoverflow.com/questions/56273829/the-difference-between-and-in-perl/56275249#56275249", "title": "The difference between &quot; and &#39; in Perl", "body": "<p>This is only my assumption and I can not find any official documentation about this, but it seems work. </p>\n\n<p>Also <code>ilmari</code> says that I should <code>go via the symbol table</code>:  </p>\n\n<pre><code>${$main::{'_&lt;foo::bar::baz'}}\n</code></pre>\n\n<p>Thus my code is splited on two cases:.</p>\n\n<p>CASE 1:</p>\n\n<pre><code>Devel::Peek::Dump( ${       \"::_&lt;$filename\"          } );\nDevel::Peek::Dump( ${       '::_&lt;' .\"$filename\"      } );\nDevel::Peek::Dump( ${       \"::_&lt;Specio::Constraint::Simple-&gt;_optimized_constraint\"  } );\nDevel::Peek::Dump( ${       '::_&lt;Specio::Constraint::Simple-&gt;_optimized_constraint'  } );\n</code></pre>\n\n<p>All these are same. Double quoted or single quoted: it has not matter.</p>\n\n<pre><code>SV = PV(0xe64ab00) at 0xe300bc8\n  REFCNT = 1\n  FLAGS = ()\n  PV = 0\n</code></pre>\n\n<p>CASE 2:</p>\n\n<pre><code>Devel::Peek::Dump( ${ ${ 'main::' }{ \"_&lt;$filename\" } } );\nDevel::Peek::Dump( ${       ${'::'}{ \"_&lt;$filename\" } } );\nDevel::Peek::Dump( ${           $::{ \"_&lt;$filename\" } } );\nDevel::Peek::Dump( ${     $::{\"_&lt;Specio::Constraint::Simple-&gt;_optimized_constraint\"} } );\nDevel::Peek::Dump( ${     $::{'_&lt;Specio::Constraint::Simple-&gt;_optimized_constraint'} } );\n</code></pre>\n\n<p>Also it has no matter how it was quoted. Just going via the symbol table I can reach the value:</p>\n\n<pre><code>SV = PV(0x15e0a40) at 0x186cd10\n  REFCNT = 1\n  FLAGS = (POK,pPOK)\n  PV = 0x1934880 \"Specio::Constraint::Simple-&gt;_optimized_constraint\"\\0\n  CUR = 49\n  LEN = 51\n</code></pre>\n\n<p><strong>findings</strong><br>\nIt has no matter how to quote variable name. Only difference is how we go:</p>\n\n<ol>\n<li>direct</li>\n<li>via symbol table</li>\n</ol>\n\n<p>Thus if you variable name <strong>has not</strong> double colon, then you can use either form:</p>\n\n<pre><code>    Devel::Peek::Dump( ${ $::{ \"$name\" } } );\n    Devel::Peek::Dump( ${    \"::$name\"   } );\n</code></pre>\n\n<p>both will refer the same thing.</p>\n\n<p>But if your variable name <strong>has</strong> double colon, then you <strong>must</strong> access its value <strong>only via symbol table</strong></p>\n\n<p><strong>UPD</strong><br>\nSome one may note that this answer does not answer my question directly. You are right.\nI post test results of two different method of accessing variable's value here because I count these findings important.</p>\n"}, {"tags": [], "owner": {"reputation": 961, "user_id": 341930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2819a0020e657078218ed37f96b97b7?s=128&d=identicon&r=PG", "display_name": "TFBW", "link": "https://stackoverflow.com/users/341930/tfbw"}, "is_accepted": false, "score": 6, "last_activity_date": 1558620477, "creation_date": 1558620477, "answer_id": 56277095, "question_id": 56273829, "link": "https://stackoverflow.com/questions/56273829/the-difference-between-and-in-perl/56277095#56277095", "title": "The difference between &quot; and &#39; in Perl", "body": "<p>The short answer to your question is that <code>$filename</code> is interpolated in your first example, whereas it's not in the second example. Why, you ask? Oh, boy. Strap in for a bumpy ride.</p>\n\n<p>First, understand what the <code>${...}</code> notation is for. There are two reasons to use it: one is to simply distinguish a variable name from surrounding text; the other is to dereference the value returned by a BLOCK (of code).</p>\n\n<p>If the contents of the brackets are just a bareword (with possible surrounding whitespace), then it's just a simple variable name. Thus the string <code>\"$foo\"</code> and the string <code>\"${foo}\"</code> and the string <code>\"${  foo  }\"</code> all produce the same result. This is handy if you need to append text directly after a variable in a string: instead of saying <code>$foo.'bar'</code>, you can say <code>\"${foo}bar\"</code>. The notations work outside interpolating strings too: you can say <code>${foo} = 'bar'</code> if you like.</p>\n\n<p>But that's not what your code is doing. Oh, no. You're aiming the double-barrel shotgun of symbolic dereferencing directly at your feet. You're evaluating the contents of the brackets as code, and using the result as a reference to a variable. You're making it doubly confusing by putting the whole lot in an interpolating string. Let's not go any deeper than necessary with the concept of dereferencing, since that's not the main question here. The key point is that the stuff in curly brackets is effectively being eval'd if it's not a bareword.</p>\n\n<p>Now, understand that when Perl reaches the \"${\" notation inside your interpolating string, it has to make a decision about what it's interpolating here: an ordinary variable name or code. <em>Without interpolating anything else,</em> it seeks the matching close-bracket. If the sub-string delimited by those brackets doesn't look like a bareword, then it's going to be eval'd. You still need to escape double-quotes in this region, because any unescaped double quote would count as the final delimiter for the outer string of which this is a subset, and the remainder of your \"block\" would be outside the string.</p>\n\n<p>With that in mind, we can see that your first example evals <code>\"_&lt;$filename\"</code>, whereas your second example evals <code>'_&lt;$filename'</code>. That's just the difference between an interpolating string and not: the first has <code>$filename</code> replaced by something, whereas the second one is strictly literal.</p>\n\n<p>In both cases, the string is used to perform symbolic dereferencing on a global scalar variable with a ghastly name, and shame on you if you actually defined it. The less said about it, the better.</p>\n\n<p>If you think I'm kidding about the contents of the curly brackets being effectively eval'd try this code.</p>\n\n<pre><code>print \"This, ${die qq(oops!\\n)}, and this.\\n\";\n</code></pre>\n\n<p>Of course, the key difference between in-string code like this and <code>eval()</code> proper is that <code>eval()</code> would catch the exception and set $@. This doesn't: it just dies as it would in an ordinary code block.</p>\n\n<p>This gives rise to one of Perl's hidden tricks. You can't interpolate a method call like <code>$foo-&gt;bar</code>, but you can dereference a reference to an array that contains it, like so.</p>\n\n<pre><code>print \"@{[$foo-&gt;bar]}\\n\";\n</code></pre>\n\n<p>In summary then, for the love of God please don't write code like that.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1558647552, "last_edit_date": 1558647552, "creation_date": 1558639331, "answer_id": 56281731, "question_id": 56273829, "link": "https://stackoverflow.com/questions/56273829/the-difference-between-and-in-perl/56281731#56281731", "title": "The difference between &quot; and &#39; in Perl", "body": "<p>The answer is quite simple: A <code>$</code> and <code>@</code> character has no special significance when found in code in a string literal.</p>\n\n<p><code>\"&gt;&gt;${ \\\"_&lt;$filename\\\" }&lt;&lt;\\n\"</code> is equivalent to <code>\"&gt;&gt;\" . ${ \"_&lt;$filename\" } . \"&lt;&lt;\\n\"</code>.</p>\n\n<p><code>\"&gt;&gt;${ '_&lt;$filename'\" }&lt;&lt;\\n\"</code> is equivalent to <code>\"&gt;&gt;\" . ${ '_&lt;$filename' } . \"&lt;&lt;\\n\"</code>.</p>\n\n<p>As you can see <code>$filename</code> wasn't replaced with the value of <code>$filename</code> as would normally happen in double-quoted strings.</p>\n\n<p>If that's not clear, let's consider a far more common example.</p>\n\n<p><code>\"&gt;&gt;$h{$key}&lt;&lt;\"</code>  is equivalent to <code>\"&gt;&gt;\" . $h{$key} . \"&lt;&lt;\"</code>.</p>\n\n<p><code>\"&gt;&gt;$h{\\\"$key\\\"}&lt;&lt;\"</code>  is equivalent to <code>\"&gt;&gt;\" . $h{\"$key\"} . \"&lt;&lt;\"</code>.</p>\n\n<p><code>\"&gt;&gt;$h{'$key'}&lt;&lt;\"</code>  is equivalent to <code>\"&gt;&gt;\" . $h{'$key'} . \"&lt;&lt;\"</code>.</p>\n\n<p>Now consider what would happen if <code>$key</code> was interpolated instead. (For example, use <code>$key = \"2+3\";</code>.) The behaviour would be far more unexpected and far more dangerous.</p>\n\n<hr>\n\n<p>Similarly, a <code>\\</code> character has no special significance when found in code in a string literals unless it escapes a delimiter.</p>\n\n<p><code>\"foo ${\\f()} bar\"</code> is equivalent to <code>\"foo \" . ${\\f()} . \" bar\"</code></p>\n\n<p>As you can see <code>\\f</code> wasn't replaced with a form feed as would normally happen in double-quoted strings literals.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 56274618, "answer_count": 4, "score": 4, "last_activity_date": 1558682906, "creation_date": 1558609380, "last_edit_date": 1558668750, "question_id": 56273829, "link": "https://stackoverflow.com/questions/56273829/the-difference-between-and-in-perl", "title": "The difference between &quot; and &#39; in Perl", "body": "<p>According to <a href=\"https://stackoverflow.com/questions/56270222/why-these-two-variables-filename-and-filename-not-equa#comment99155725_56270222\">this</a> comment:</p>\n\n<blockquote>\n  <p>You also should not use single quotes in <code>print \"&gt;&gt;${ '_&lt;$filename' }&lt;&lt;\\n\"</code>.\n  Instead try: <code>print \"&gt;&gt;${ \\\"_&lt;$filename\\\" }&lt;&lt;\\n\"</code></p>\n</blockquote>\n\n<p>I always thought that differences between <code>\"</code> and <code>'</code> are only that the string is interpreted or not.</p>\n\n<p>I want to ask why at this context:</p>\n\n<pre><code>print \"&gt;&gt;${ \\\"_&lt;$filename\\\" }&lt;&lt;\\n\"\nprint \"&gt;&gt;${  '_&lt;$filename'  }&lt;&lt;\\n\"\n</code></pre>\n\n<p><em>perl</em> prints different values?</p>\n\n<p>Why I should use <code>\\\"</code> instead of just <code>'</code> here?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1558608743, "post_id": 56273425, "comment_id": 99161792, "body": "<i>&quot;Specio::Constraint::Simple&quot;</i> seems to be related to the double colons in the name somehow.. If I remove them it works fine"}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 3, "last_activity_date": 1558626150, "last_edit_date": 1558626150, "creation_date": 1558623643, "answer_id": 56278066, "question_id": 56273425, "link": "https://stackoverflow.com/questions/56273425/why-these-two-variables-filename-and-filename-not/56278066#56278066", "title": "Why these two variables `${ $::{&quot;_&lt;$filename&quot;} }` and `${ \u201c::_&lt;$filename\u201d }` not equal?", "body": "<p>This is because your variable <code>$filename</code> contains double colons, so when used as part of a symbolic reference, those double colons will be interpreted as namespace separators. Going directly through the symbol table (stash) does not interpret them as separators, as namespaces are distinguished by the physical stash hierarchy. Thus to access variables whose symbol names may contain double colons, direct stash access is needed. Normally I would recommend <a href=\"https://metacpan.org/pod/Package::Stash\" rel=\"nofollow noreferrer\">Package::Stash</a> for such dealings with the stash, but it disallows accessing symbol names containing double colons because it's impossible to use them normally as variables.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "accepted_answer_id": 56278066, "answer_count": 1, "score": 1, "last_activity_date": 1558626150, "creation_date": 1558607974, "last_edit_date": 1558608450, "question_id": 56273425, "link": "https://stackoverflow.com/questions/56273425/why-these-two-variables-filename-and-filename-not", "title": "Why these two variables `${ $::{&quot;_&lt;$filename&quot;} }` and `${ \u201c::_&lt;$filename\u201d }` not equal?", "body": "<p>This question belongs to <a href=\"https://stackoverflow.com/q/56270222/4632019\">this</a> and <a href=\"https://stackoverflow.com/a/56268691/4632019\">this</a></p>\n\n<p>@ikegami says:</p>\n\n<hr>\n\n<p>We've established that the following returns a glob to the symbol in the root/main namespace whose name is produced by <code>\"_&lt;$filename\"</code></p>\n\n<pre><code>$::{ \"_&lt;$filename\" }\n</code></pre>\n\n<p>We've also established that the following references the scalar in the root/main whose name is produced by <code>\"_&lt;$filename\"</code>:</p>\n\n<pre><code>${ $::{ \"_&lt;$filename\" } }\n</code></pre>\n\n<p>And finally, we've also established that following is a symbolic reference that references the same scalar:</p>\n\n<pre><code>${ \"::_&lt;$filename\" }\n</code></pre>\n\n<hr>\n\n<p>While debugging my app I write next code at the debugger:</p>\n\n<pre><code>DB::say \"EXISTS\";\ndefined ${ 'main::' }{ \"_&lt;$filename\" }? DB::say \"YES\" : DB::say \"NO\";\ndefined ${ \"::_&lt;$filename\" }? DB::say \"YES\" : DB::say \"NO\";\nif( ${ 'main::' }{ \"_&lt;$filename\" } ne ${ \"::_&lt;$filename\" } ) {\n    print \"MISMATCH\\n\";\n    print \"$filename\\n\";\n    print ${ 'main::' }{ \"_&lt;$filename\" }, \"\\n\",\n        defined ${ 'main::' }{ \"_&lt;$filename\" }, \"\\n\",\n        ${ \"::_&lt;$filename\" }, \"\\n\",\n        defined ${ \"::_&lt;$filename\" }, \"\\n\";\n    Devel::Peek::Dump( ${ ${ 'main::' }{ \"_&lt;$filename\" } } );\n    Devel::Peek::Dump( ${       \"::_&lt;$filename\"  } );\n    Devel::Peek::Dump( ${     $::{\"_&lt;$filename\"} } );\n    Devel::Peek::Dump( ${ ${'::'}{\"_&lt;$filename\"} } );\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>EXISTS\nYES\nNO\nMISMATCH\nSpecio::Constraint::Simple-&gt;_optimized_constraint\n*main::_&lt;Specio::Constraint::Simple-&gt;_optimized_constraint\n1\n\n\nSV = PV(0x14f6a30) at 0x184b200\n  REFCNT = 1\n  FLAGS = (POK,pPOK)\n  PV = 0x1849990 \"Specio::Constraint::Simple-&gt;_optimized_constraint\"\\0\n  CUR = 49\n  LEN = 51\nSV = PV(0xe1f5f50) at 0xe5b9438\n  REFCNT = 1\n  FLAGS = ()\n  PV = 0\nSV = PV(0x14f6a30) at 0x184b200\n  REFCNT = 1\n  FLAGS = (POK,pPOK)\n  PV = 0x1849990 \"Specio::Constraint::Simple-&gt;_optimized_constraint\"\\0\n  CUR = 49\n  LEN = 51\nSV = PV(0x14f6a30) at 0x184b200\n  REFCNT = 1\n  FLAGS = (POK,pPOK)\n  PV = 0x1849990 \"Specio::Constraint::Simple-&gt;_optimized_constraint\"\\0\n  CUR = 49\n  LEN = 51\n</code></pre>\n\n<p>NOTICE: when <code>$filename</code> is <code>Specio::Constraint::Simple-&gt;_optimized_constraint</code> variables <strong>are different</strong>:</p>\n\n<pre><code>$::{ \"_&lt;$filename\" }      # SV = PV(0xe1f5f50) at 0xe5b9438\n${ $::{ \"_&lt;$filename\" } } # SV = PV(0x14f6a30) at 0x184b200\n</code></pre>\n\n<p>but <a href=\"https://stackoverflow.com/q/56270222/4632019\">here</a> (see UPD section) when <code>$filename</code> is <code>\n/home/kes/work/projects/tucha/monkeyman/app/maitre_d/../..//local/lib/perl5/Specio/Constraint/Role/Interface.pm</code> variables <strong>are same</strong>:</p>\n\n<pre><code>$::{ \"_&lt;$filename\" }             # SV = PV(0x2e43d80) at 0x2f40400\n${ $::{ \"_&lt;$filename\" } }        # SV = PV(0x2e43d80) at 0x2f40400\n</code></pre>\n"}, {"tags": ["python", "perl", "exe"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558607315, "post_id": 56273078, "comment_id": 99161005, "body": "You could try <a href=\"https://metacpan.org/pod/App::FatPacker\" rel=\"nofollow noreferrer\"><code>App::Fatpacker</code></a> but I think it requires the <code>perl</code> interpreter installed on the user&#39;s machine"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558609086, "post_id": 56273078, "comment_id": 99161973, "body": "See also <a href=\"https://github.com/skaji/plenv-download\" rel=\"nofollow noreferrer\">plenv-download</a> for a way to include a precompiled perl binary"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1558621520, "post_id": 56273078, "comment_id": 99169108, "body": "<a href=\"https://metacpan.org/pod/pp\" rel=\"nofollow noreferrer\">PAR Packager</a> can package an architecture-specific perl executable with your code. I don&#39;t know if it could be combined with other things in an executable."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1558621831, "post_id": 56273078, "comment_id": 99169297, "body": "ActiveState.com used to offer Perl Dev Kit which could create .exe from .pl and .pm. They still do I think, but maybe not for free anymore. Also take a look at <a href=\"https://www.perlmonks.org/?node_id=1165708\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1165708</a> On Windows10 you could also look into WSL (Windows Subsystem for Linux) to run python and perl scripts directly from source without compiling."}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1558618016, "creation_date": 1558618016, "answer_id": 56276335, "question_id": 56273078, "link": "https://stackoverflow.com/questions/56273078/is-there-a-way-to-combine-python-and-perl-scripts-into-a-single-exe/56276335#56276335", "title": "Is there a way to combine python and perl scripts into a single exe?", "body": "<p><a href=\"http://p3rl.org/staticperl\" rel=\"nofollow noreferrer\">staticperl</a>:</p>\n\n<blockquote>\n  <p>when linking statically, you can create (or embed) a single file that contains perl interpreter, [\u2026] and of course your actual program</p>\n</blockquote>\n"}], "owner": {"reputation": 21, "user_id": 11377975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636bb013d30afc03bbc504c155c09e99?s=128&d=identicon&r=PG&f=1", "display_name": "HappyDuckling", "link": "https://stackoverflow.com/users/11377975/happyduckling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1558618016, "creation_date": 1558606728, "question_id": 56273078, "link": "https://stackoverflow.com/questions/56273078/is-there-a-way-to-combine-python-and-perl-scripts-into-a-single-exe", "title": "Is there a way to combine python and perl scripts into a single exe?", "body": "<p>I trying to combine several python scripts to an exe, which works fine. However, one of my scripts is calling a perl script, which is not a problem on my machine since I have perl installed. </p>\n\n<p>Now my question: is there a way to include this perl script into my exe, so that it can run as a standalone exe, regardless if the user has perl installed or not?</p>\n\n<p>For context I use subprocess to execute the perl script.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558606216, "post_id": 56272026, "comment_id": 99160415, "body": "See also <a href=\"https://stackoverflow.com/q/55908645/2173773\">Sort dates using DateTime-&gt;compare()</a>"}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "edited": false, "score": 0, "creation_date": 1558610784, "post_id": 56272188, "comment_id": 99162890, "body": "I don&#39;t understand. Just populate <code>my @dirs = glob &#39;*&#47;&#39;;</code> instead of hardcoding the directories."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1558603908, "creation_date": 1558603908, "answer_id": 56272188, "question_id": 56272026, "link": "https://stackoverflow.com/questions/56272026/how-to-get-most-recently-created-directory-using-perl/56272188#56272188", "title": "How to get most recently created directory using perl?", "body": "<p>For timestamps in the given format, normal string comparison works, so you can use <code>maxstr</code> from <a href=\"http://p3rl.org/List::Util\" rel=\"nofollow noreferrer\">List::Util</a>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse List::Util qw{ maxstr };\n\nmy @dirs = qw(\n    2019-05-20_16-38-21\n    2019-05-20_16-38-22\n    2019-05-20_16-38-23\n    2019-05-20_16-38-24\n);\n\nmy $most_recent = maxstr(@dirs);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "is_accepted": true, "score": 2, "last_activity_date": 1558641491, "last_edit_date": 1558641491, "creation_date": 1558623152, "answer_id": 56277897, "question_id": 56272026, "link": "https://stackoverflow.com/questions/56272026/how-to-get-most-recently-created-directory-using-perl/56277897#56277897", "title": "How to get most recently created directory using perl?", "body": "<p>Here's an alternative to @choroba's answer if your directories are not named consistently.  It uses <a href=\"https://metacpan.org/pod/File::stat\" rel=\"nofollow noreferrer\">File::stat</a> (which comes standard with Perl) and a <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow noreferrer\">Schwartzian Transform</a> to sort on creation date of the directories:</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse File::stat;\n\nmy $parent = '.';    # parent directory you're searching\n\n# Schwartzian Transform to sort directories by their creation time\n# see https://en.wikipedia.org/wiki/Schwartzian_transform\nmy @dirs =\n  map { $_-&gt;[0] }                      # 3. extract the directory names from the sorted list\n  sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] }         # 2. sort the arrays on creation time\n  map { [ $_ =&gt; stat( $_ )-&gt;ctime ] }  # 1. get the creation time for each directory\n                                       #    and store it with the directory name in an array\n  glob( \"$parent/*/\" );                # 0. get the directories in the parent dir\n\nmy $most_recent = $dirs[-1];           # the last one is the most recent\n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 56277897, "answer_count": 2, "score": 0, "last_activity_date": 1558641491, "creation_date": 1558603386, "question_id": 56272026, "link": "https://stackoverflow.com/questions/56272026/how-to-get-most-recently-created-directory-using-perl", "title": "How to get most recently created directory using perl?", "body": "<p>Ed:- i have below directories </p>\n\n<ul>\n<li>2019-05-20_16-38-21</li>\n<li>2019-05-20_16-38-22</li>\n<li>2019-05-20_16-38-23</li>\n<li>2019-05-20_16-38-24</li>\n</ul>\n\n<p>i need to pick 2019-05-20_16-38-24 this directory as variable using perl</p>\n\n<p>Is it possible ?  </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558602619, "post_id": 56271668, "comment_id": 99158428, "body": "In your expected result: where does <code>413aa</code> come from?"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1558605636, "post_id": 56271668, "comment_id": 99160116, "body": "In your expected result, where does <i>everything</i> come from?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558610020, "post_id": 56271668, "comment_id": 99162497, "body": "So there can be multiple entries in the file, and each end with a <code>&#47;&#47;</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 55, "user_id": 6282320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34gxw.jpg?s=128&g=1", "display_name": "\u03a3\u03c9\u03c4\u03b7\u03c1\u03b7\u03c2 \u0399\u03c9\u03b1\u03bd\u03bd\u03b9\u03b4\u03b7\u03c2", "link": "https://stackoverflow.com/users/6282320/%ce%a3%cf%89%cf%84%ce%b7%cf%81%ce%b7%cf%82-%ce%99%cf%89%ce%b1%ce%bd%ce%bd%ce%b9%ce%b4%ce%b7%cf%82"}, "edited": false, "score": 0, "creation_date": 1558622512, "post_id": 56274397, "comment_id": 99169706, "body": "I am not familiar with Visual Studio. Is that on Windows?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 55, "user_id": 6282320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34gxw.jpg?s=128&g=1", "display_name": "\u03a3\u03c9\u03c4\u03b7\u03c1\u03b7\u03c2 \u0399\u03c9\u03b1\u03bd\u03bd\u03b9\u03b4\u03b7\u03c2", "link": "https://stackoverflow.com/users/6282320/%ce%a3%cf%89%cf%84%ce%b7%cf%81%ce%b7%cf%82-%ce%99%cf%89%ce%b1%ce%bd%ce%bd%ce%b9%ce%b4%ce%b7%cf%82"}, "edited": false, "score": 0, "creation_date": 1558622725, "post_id": 56274397, "comment_id": 99169828, "body": "Ok, I am on Ubuntu too.. it might also be the input file format in <code>transmem_proteins.swiss</code>. Could you email me the input file? Then I will test it."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1558611525, "creation_date": 1558611525, "answer_id": 56274397, "question_id": 56271668, "link": "https://stackoverflow.com/questions/56271668/parse-swiss-file-with-perl/56274397#56274397", "title": "Parse swiss file with Perl", "body": "<p>Here is an example of how to extract the data from the swiss file:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\n{\n    my $data = read_swiss_file();\n    my @ids;\n    for my $chunk ( @$data ) {\n        my ( $item1, $item2, $item3);\n        if( $chunk =~ /^ID\\s{3}(\\S+)\\s+\\S+;\\s+(.*)\\.\\s+$/m ){\n            $item1 = $1;\n            $item2 = $2;\n            $item2 =~ s/\\s+//;\n        }\n        if( $chunk =~ /^AC\\s{3}(\\S+);/m ){\n            $item3 = $1;\n        }\n        push @ids, [$item1, $item2, $item3] if defined $item1;\n    }\n\n    my $fn = 'text.txt';\n    open ( my $fh, '&gt;', $fn ) or die \"Could not open file '$fn': $!\";\n    for my $items (@ids) {\n        say $fh \"-&gt;\", join '|', @$items;\n    }\n    close $fh;\n}\n\nsub read_swiss_file {\n    my $fn = 'transmem_proteins.swiss';\n    open ( my $fh, '&lt;', $fn ) or die \"Could not open file '$fn': $!\";\n    my $str = do { local $/; &lt;$fh&gt; };\n    close $fh;\n    my @chunks = split /(?m:^\\/\\/)/, $str;\n    return \\@chunks;\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 6282320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34gxw.jpg?s=128&g=1", "display_name": "\u03a3\u03c9\u03c4\u03b7\u03c1\u03b7\u03c2 \u0399\u03c9\u03b1\u03bd\u03bd\u03b9\u03b4\u03b7\u03c2", "link": "https://stackoverflow.com/users/6282320/%ce%a3%cf%89%cf%84%ce%b7%cf%81%ce%b7%cf%82-%ce%99%cf%89%ce%b1%ce%bd%ce%bd%ce%b9%ce%b4%ce%b7%cf%82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 56274397, "answer_count": 1, "score": 0, "last_activity_date": 1558712980, "creation_date": 1558602308, "last_edit_date": 1558712980, "question_id": 56271668, "link": "https://stackoverflow.com/questions/56271668/parse-swiss-file-with-perl", "title": "Parse swiss file with Perl", "body": "<p>I'm a begginer in Perl and I want to parse some arguments from a swiss file into a text. I find the way how to parse ID from the swiss file but nothing more so far. I have to take from the file ID AC.</p>\n\n<p>My swiss file looks like this:</p>\n\n<pre><code>ID   140U_DROME Reviewed; 261 AA.\n\nAC   P81928; Q9VFM8;\n\nSQ   SEQUENCE   261 AA;  29182 MW;  5DB78CF6CFC4435A CRC64;\n\n     MNFLWKGRRF LIAGILPTFE GAADEIVDKE NKTYKAFLAS KPPEETGLER LKQMFTIDEF\n     GSISSELNSV YQAGFLGFLI GAIYGGVTQS RVAYMNFMEN NQATAFKSHF DAKKKLQDQF\n     TVNFAKGGFK WGWRVGLFTT SYFGIITCMS VYRGKSSIYE YLAAGSITGS LYKVSLGLRG\n     MAAGGIIGGF LGGVAGVTSL LLMKASGTSM EEVRYWQYKW RLDRDENIQQ AFKKLTEDEN\n     PELFKAHDEK TSEHVSLDTI K\n//\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>open(IN, \"&lt;transmem_proteins.swiss\") or die \"Cant open the file\";\nopen(OUT, \"&gt;text.txt\") or die \"Cant open the file\";\nwhile(&lt;IN&gt;){\n\n    if($_=~/^ID\\s{3}(\\S+\\s)/){\n\n        print OUT \"&gt;$1| \\n\";\n        print OUT \"// \\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "mojolicious", "mojolicious-lite"], "comments": [{"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 1, "creation_date": 1558599173, "post_id": 56270770, "comment_id": 99156425, "body": "Could it be the browser cache? Try pressing ctrl+shift+supr and deleting it."}, {"owner": {"reputation": 179, "user_id": 5530806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d27003bf675e52583fa0fb5309bfb74?s=128&d=identicon&r=PG&f=1", "display_name": "rx57", "link": "https://stackoverflow.com/users/5530806/rx57"}, "reply_to_user": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 0, "creation_date": 1558599704, "post_id": 56270770, "comment_id": 99156702, "body": "@sergiotarxz i tried that."}, {"owner": {"reputation": 179, "user_id": 5530806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d27003bf675e52583fa0fb5309bfb74?s=128&d=identicon&r=PG&f=1", "display_name": "rx57", "link": "https://stackoverflow.com/users/5530806/rx57"}, "reply_to_user": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 0, "creation_date": 1558600601, "post_id": 56270770, "comment_id": 99157251, "body": "@sergiotarxz when i restart hypnotoad it is showing updated content. i think problem is with caching"}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 0, "creation_date": 1558601176, "post_id": 56270770, "comment_id": 99157623, "body": "Then I don&#39;t know what can be happening, I am a novice with Mojolicious."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1558602926, "post_id": 56270770, "comment_id": 99158595, "body": "I remember a question about caching in Mojo. Let me find it for you."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1558603064, "post_id": 56270770, "comment_id": 99158671, "body": "Take a look at <a href=\"https://stackoverflow.com/q/41750243/1331451\">stackoverflow.com/q/41750243/1331451</a>. I wrote a new cache plugin <a href=\"https://metacpan.org/pod/Mojolicious::Plugin::Renderer::WithoutCache\" rel=\"nofollow noreferrer\">metacpan.org/pod/Mojolicious::Plugin::Renderer::WithoutCache</a> to solve it, and then had a long discussion with Mojo author SRI about the uselessness of it. He couldn&#39;t fathom someone wanting this."}], "owner": {"reputation": 179, "user_id": 5530806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d27003bf675e52583fa0fb5309bfb74?s=128&d=identicon&r=PG&f=1", "display_name": "rx57", "link": "https://stackoverflow.com/users/5530806/rx57"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 714, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1558724128, "creation_date": 1558599084, "last_edit_date": 1558724128, "question_id": 56270770, "link": "https://stackoverflow.com/questions/56270770/how-to-disable-caching-in-mojoliciouslite-app", "title": "How to disable caching in Mojolicious::Lite app", "body": "<p>currently i added this line to Mojolicious::Lite app to disable caching</p>\n\n<pre><code>app-&gt;renderer-&gt;cache-&gt;max_keys(0);\n</code></pre>\n\n<p>but sometimes webpage showing updated content and sometimes showing cached template</p>\n\n<p>i do not know exactly what the problem is, there is no problem with morbo, this is happening only with hypnotoad. i want to try disabling the cache.</p>\n\n<p>edit: i solved my problem. problem is not with the mojolicious caching, it is with the database caching. if you experience similar problem, try setting 'AutoCommit' to 1 in your DBI->connect() method.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558597454, "post_id": 56270222, "comment_id": 99155549, "body": "It works for me (does not print <code>MISMATCH</code>). I tried with the <code>$filename</code> you gave and then set <code>${ &quot;_&lt;$filename&quot; } = &quot;Hello&quot;</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1558597796, "post_id": 56270222, "comment_id": 99155725, "body": "You also should not use single quotes in <code>print &quot;&gt;&gt;${ &#39;_&lt;$filename&#39; }&lt;&lt;\\n&quot;</code>. Instead try: <code>print &quot;&gt;&gt;${ \\&quot;_&lt;$filename\\&quot; }&lt;&lt;\\n&quot;</code>"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1558601676, "post_id": 56270222, "comment_id": 99157930, "body": "@H&#229;konH&#230;gland Unfortunately this is only one small part of code at big application. I bother this because my debugger is died at this point. I am investigating why that happens."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1558601943, "post_id": 56270222, "comment_id": 99158098, "body": "@H&#229;konH&#230;gland: 2: This is surprise for me. Never thought that perl distinguish <code>&quot;</code> and <code>&#39;</code> at that context. Notice. I have updated output. But then <code>${ &quot;::_&lt;$filename&quot; }</code> and <code>${ &quot;_&lt;$filename&quot; }</code> are not the same thing as @ikegami noted <a href=\"https://stackoverflow.com/a/56268691/4632019\">here</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1558602311, "post_id": 56270222, "comment_id": 99158268, "body": "<i>&quot;... are not the same thing ...&quot;</i> Yes, you are right. I tried in package <code>main</code>, but if I change to <code>package foo</code> they are different yes"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1558602783, "post_id": 56270222, "comment_id": 99158520, "body": "@H&#229;konH&#230;gland: I missed that  <code>::</code> mean <code>main</code> package"}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1558603247, "post_id": 56271904, "comment_id": 99158759, "body": "It seems <code>ikegami</code> updated <a href=\"https://stackoverflow.com/a/56268691/4632019\">his answer</a> too. Thank you @ikegami"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1558642810, "post_id": 56271904, "comment_id": 99178713, "body": "I didn&#39;t say <code>${ &quot;_&lt;$filename&quot; }</code> referred to a variable in the main package; I said <i><code>${ &quot;::_&lt;$filename&quot; }</code></i> is equivalent to <i><code>${ &quot;_&lt;$filename&quot; }</code> in main package</i>. If <code>${ &quot;_&lt;$filename&quot; }</code> is found in different package, it won&#39;t be equivalent to <code>${ &quot;::_&lt;$filename&quot; }</code>. Fixed misquote."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1558643201, "post_id": 56271904, "comment_id": 99178867, "body": "That said, I agree it was written in a confusing manner. To that end, I rewrote that part of the Answer in question (long before seeing this Q&amp;A), and I&#39;ve just made it even clearer."}], "tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1558642801, "last_edit_date": 1592644375, "creation_date": 1558602974, "answer_id": 56271904, "question_id": 56270222, "link": "https://stackoverflow.com/questions/56270222/why-these-two-variables-filename-and-filename-not-equa/56271904#56271904", "title": "Why these two variables `${ &quot;_&lt;$filename&quot; }` and `${ &quot;::_&lt;$filename&quot; }` not equal?", "body": "<p>Thanks to <code>@H\u00e5konH\u00e6gland</code>. I missed that <code>::</code> mean <code>main</code> package.</p>\n<p>I was messed up by:</p>\n<blockquote>\n<p>the following are equivalent:</p>\n<pre><code>${ &quot;::_&lt;$filename&quot; }                       # Not allowed under strict.\n${ &quot;_&lt;$filename&quot; }     # In main package   # Not allowed under strict.\n</code></pre>\n</blockquote>\n<p>Now I understand that means</p>\n<pre><code>${ &quot;::_&lt;$filename&quot; }   # This refers to a var in main package\n${ &quot;_&lt;$filename&quot; }     # This refers to a var in CURRENT! package\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558642801, "creation_date": 1558596918, "last_edit_date": 1558602649, "question_id": 56270222, "link": "https://stackoverflow.com/questions/56270222/why-these-two-variables-filename-and-filename-not-equa", "title": "Why these two variables `${ &quot;_&lt;$filename&quot; }` and `${ &quot;::_&lt;$filename&quot; }` not equal?", "body": "<p>This question is related to <a href=\"https://stackoverflow.com/q/56260910/4632019\">this</a> one.</p>\n\n<p>You say that these two are same:</p>\n\n<pre><code>${ \"::_&lt;$filename\" }                       # Not allowed under strict.\n${ \"_&lt;$filename\" }     # In main package   # Not allowed under strict.\n</code></pre>\n\n<p>But how then next is possible?</p>\n\n<pre><code>if( ${ \"_&lt;$filename\" } ne ${ \"::_&lt;$filename\" } ) {\n    print \"MISMATCH\\n\";\n    print \"&gt;&gt;${ '_&lt;$filename' }&lt;&lt;\\n&gt;&gt;${ '::_&lt;$filename' }&lt;&lt;\\n\";\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>MISMATCH\n&gt;&gt;&lt;&lt;\n&gt;&gt;&lt;&lt;\n</code></pre>\n\n<p>this happens when <code>$filename</code> is <code>/home/kes/work/projects/tucha/monkeyman/app/maitre_d/../..//local/lib/perl5/Specio/Constraint/Role/Interface.pm</code></p>\n\n<p><strong>UPD</strong><br>\nwith <code>\"</code> quotes as <code>@H\u00e5konH\u00e6gland</code> advised </p>\n\n<pre><code>    print \"MISMATCH\\n\";\n    print \"&gt;&gt;${ \\\"_&lt;$filename\\\" }&lt;&lt;\\n&gt;&gt;${ \\\"::_&lt;$filename\\\" }&lt;&lt;\\n\";\n    Devel::Peek::Dump( ${         \"_&lt;$filename\"  } );\n    Devel::Peek::Dump( ${       \"::_&lt;$filename\"  } );\n    Devel::Peek::Dump( ${     $::{\"_&lt;$filename\"} } );\n    Devel::Peek::Dump( ${ ${'::'}{\"_&lt;$filename\"} } );\n</code></pre>\n\n<p>output is:</p>\n\n<pre><code>MISMATCH\n&gt;&gt;&lt;&lt;\n&gt;&gt;/home/kes/work/projects/tucha/monkeyman/app/maitre_d/../..//local/lib/perl5/Specio/Constraint/Role/Interface.pm&lt;&lt;\nSV = PV(0xfb84520) at 0xff527a0\n  REFCNT = 1\n  FLAGS = ()\n  PV = 0\nSV = PV(0x2e43d80) at 0x2f40400\n  REFCNT = 1\n  FLAGS = (POK,IsCOW,pPOK)\n  PV = 0x2edc4a0 \"/home/kes/work/projects/tucha/monkeyman/app/maitre_d/../..//local/lib/perl5/Specio/Constraint/Role/Interface.pm\"\\0\n  CUR = 111\n  LEN = 113\n  COW_REFCNT = 0\nSV = PV(0x2e43d80) at 0x2f40400\n  REFCNT = 1\n  FLAGS = (POK,IsCOW,pPOK)\n  PV = 0x2edc4a0 \"/home/kes/work/projects/tucha/monkeyman/app/maitre_d/../..//local/lib/perl5/Specio/Constraint/Role/Interface.pm\"\\0\n  CUR = 111\n  LEN = 113\n  COW_REFCNT = 0\nSV = PV(0x2e43d80) at 0x2f40400\n  REFCNT = 1\n  FLAGS = (POK,IsCOW,pPOK)\n  PV = 0x2edc4a0 \"/home/kes/work/projects/tucha/monkeyman/app/maitre_d/../..//local/lib/perl5/Specio/Constraint/Role/Interface.pm\"\\0\n  CUR = 111\n  LEN = 113\n  COW_REFCNT = 0\n</code></pre>\n\n<p>From the output we can see that topic variables are different:</p>\n\n<pre><code>SV = PV(0xfb84520) at 0xff527a0\nSV = PV(0x2e43d80) at 0x2f40400\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 848, "user_id": 4164951, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/FCVCW.jpg?s=128&g=1", "display_name": "Al Kasih", "link": "https://stackoverflow.com/users/4164951/al-kasih"}, "edited": false, "score": 0, "creation_date": 1558598198, "post_id": 56270138, "comment_id": 99155930, "body": "Hi @ikegami Thank you for the respond. But it still return:   can&#39;t use string <code>(&quot;{&quot;id&quot;: &quot;1234****&quot;, &quot;message&quot;:&quot;hi&quot;}&quot;)</code> as a HASH ref while &quot;strict refs&quot;"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 848, "user_id": 4164951, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/FCVCW.jpg?s=128&g=1", "display_name": "Al Kasih", "link": "https://stackoverflow.com/users/4164951/al-kasih"}, "edited": false, "score": 1, "creation_date": 1558598575, "post_id": 56270138, "comment_id": 99156123, "body": "@AlKasih You probably need to decode the JSON string first"}, {"owner": {"reputation": 848, "user_id": 4164951, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/FCVCW.jpg?s=128&g=1", "display_name": "Al Kasih", "link": "https://stackoverflow.com/users/4164951/al-kasih"}, "edited": false, "score": 0, "creation_date": 1558598652, "post_id": 56270138, "comment_id": 99156142, "body": "white this: <code>$data = perl-&gt;decoded_content</code> ?, or this is still not enough?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1558599219, "last_edit_date": 1558599219, "creation_date": 1558596568, "answer_id": 56270138, "question_id": 56269460, "link": "https://stackoverflow.com/questions/56269460/get-array-in-perl-from-json-encode/56270138#56270138", "title": "Get array in perl from json_encode", "body": "<p>To decode the JSON, you'd use</p>\n\n<pre><code>use Cpanel::JSON::XS qw( );\n\nmy $data = decode_json($json);\n</code></pre>\n\n<p>This will produce a <em>reference</em> to a <em>hash</em>, so</p>\n\n<pre><code>$data-&gt;{id}\n</code></pre>\n"}], "owner": {"reputation": 848, "user_id": 4164951, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/FCVCW.jpg?s=128&g=1", "display_name": "Al Kasih", "link": "https://stackoverflow.com/users/4164951/al-kasih"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569925767, "creation_date": 1558593926, "last_edit_date": 1569925767, "question_id": 56269460, "link": "https://stackoverflow.com/questions/56269460/get-array-in-perl-from-json-encode", "title": "Get array in perl from json_encode", "body": "<pre><code>use LWP::UserAgent; \n</code></pre>\n\n<p>I make this in php which is then called from perl:</p>\n\n<pre><code>      $data = array(\"id\"=&gt; $id, \"message\" =&gt; $test); \n      echo json_encode($data);\n</code></pre>\n\n<p>And from print <code>$data = perl-&gt;decoded_content</code> script, it return :</p>\n\n<pre><code>  {\"id\": \"1234****\", \"message\":\"hi\"};\n</code></pre>\n\n<p>But I can't manage to get <code>id</code> and <code>message</code>. I tried <code>$data{'id'}</code> and <code>$data-&gt;{'id'}</code>, but still no luck. </p>\n"}]