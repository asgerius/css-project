[{"tags": ["macos", "perl"], "answers": [{"comments": [{"owner": {"reputation": 759, "user_id": 607453, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f460ee15558ce3c81d2048c7778476a9?s=128&d=identicon&r=PG", "display_name": "raindog308", "link": "https://stackoverflow.com/users/607453/raindog308"}, "edited": false, "score": 0, "creation_date": 1518737554, "post_id": 48797692, "comment_id": 84639915, "body": "Very interesting.  I&#39;ve used DBI + DBD for 20-odd years and I&#39;ve always loaded the DBD module via use before calling DBI connect..and apparently I&#39;ve been doing that wrong for 20-odd years as none of the major drivers&#39; docs say to do that."}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 10, "last_activity_date": 1518649425, "creation_date": 1518649425, "answer_id": 48797692, "question_id": 48797185, "link": "https://stackoverflow.com/questions/48797185/using-dbdsqlite-on-macos-high-sierra-produces-tons-of-subroutine-redefined-w/48797692#48797692", "title": "Using DBD::SQLite on macOS High Sierra produces tons of &quot;subroutine redefined&quot; warnings", "body": "<p>You don't need to <code>use</code> the DBD module. It's loaded automatically by DBI when you call <code>DBI-&gt;connect</code>. Removing the redundant <code>use</code> will silence your errors.</p>\n\n<p>Details: On most operating systems, <code>use DBD::sqlite</code>would fail -- the module is actually called <code>DBD::SQLite</code> (capital \"SQL\"). It succeeds on macOS because the filesystem is case-insensitive, so the module can be loaded using either name; however, this causes it to be loaded a second time by DBI.</p>\n"}], "owner": {"reputation": 759, "user_id": 607453, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f460ee15558ce3c81d2048c7778476a9?s=128&d=identicon&r=PG", "display_name": "raindog308", "link": "https://stackoverflow.com/users/607453/raindog308"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 48797692, "answer_count": 1, "score": 0, "last_activity_date": 1518649425, "creation_date": 1518646844, "question_id": 48797185, "link": "https://stackoverflow.com/questions/48797185/using-dbdsqlite-on-macos-high-sierra-produces-tons-of-subroutine-redefined-w", "title": "Using DBD::SQLite on macOS High Sierra produces tons of &quot;subroutine redefined&quot; warnings", "body": "<p>Briefly, when I use DBD::SQLite on macOS High Sierra, I get a ton of spurious \"subroutine ... redefined\" errors.</p>\n\n<p>If I take this code and run it on either my iMac or MacBook Pro (both running 10.13.3 High Sierra)...</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse DBI;\nuse DBD::sqlite;\n\n$db_file = \"./anything.db\";\n\n$dbh = DBI-&gt;connect(\"dbi:SQLite:dbname=$db_file\",\"\",\"\");\n$dbh-&gt;disconnect();\n</code></pre>\n\n<p>It produces this:</p>\n\n<pre><code>Constant subroutine DBD::SQLite::NEWAPI redefined at /System/Library/Perl/5.18/constant.pm line 140.\nSubroutine driver redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 31.\nSubroutine CLONE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 73.\nSubroutine connect redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 80.\nSubroutine install_collation redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 160.\nSubroutine regexp redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 178.\nSubroutine prepare redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 186.\nSubroutine do redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 200.\nSubroutine ping redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 219.\nSubroutine _get_version redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 230.\nSubroutine get_info redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 240.\nSubroutine _attached_database_list redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 247.\nSubroutine table_info redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 262.\nSubroutine primary_key_info redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 378.\nSubroutine foreign_key_info redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 536.\nSubroutine statistics_info redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 636.\nSubroutine type_info_all redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 704.\nSubroutine column_info redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 766.\nSubroutine TIEHASH redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 885.\nSubroutine STORE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 889.\nSubroutine DELETE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 894.\nSubroutine DBD::SQLite::db::sqlite_last_insert_rowid redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::last_insert_rowid redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_create_function redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::create_function redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_enable_load_extension redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::enable_load_extension redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::load_extension redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_load_extension redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::create_aggregate redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_create_aggregate redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_create_collation redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::create_collation redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::collation_needed redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_collation_needed redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_progress_handler redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::progress_handler redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_trace redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_profile redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::profile redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::commit_hook redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_commit_hook redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::rollback_hook redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_rollback_hook redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::update_hook redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_update_hook redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_set_authorizer redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::set_authorizer redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::busy_timeout redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_busy_timeout redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_backup_from_file redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::backup_from_file redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::backup_to_file redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_backup_to_file redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::table_column_metadata redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_table_column_metadata redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_db_filename redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::db_filename redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::register_fts3_perl_tokenizer redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_register_fts3_perl_tokenizer redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::sqlite_db_status redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::db_status redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::sqlite_st_status redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::st_status redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::compile_options redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::sqlite_status redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::OK redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::DENY redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::IGNORE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::CREATE_INDEX redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::CREATE_TABLE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::CREATE_TEMP_INDEX redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::CREATE_TEMP_TABLE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::CREATE_TEMP_TRIGGER redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::CREATE_TEMP_VIEW redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::CREATE_TRIGGER redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::CREATE_VIEW redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::DELETE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::DROP_INDEX redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::DROP_TABLE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::DROP_TEMP_INDEX redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::DROP_TEMP_TABLE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::DROP_TEMP_TRIGGER redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::DROP_TEMP_VIEW redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::DROP_TRIGGER redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::DROP_VIEW redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::INSERT redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::PRAGMA redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::READ redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::SELECT redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::TRANSACTION redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::UPDATE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::ATTACH redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::DETACH redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::ALTER_TABLE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::REINDEX redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::ANALYZE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::CREATE_VTABLE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::DROP_VTABLE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::FUNCTION redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::SAVEPOINT redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::dr::dbixs_revision redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::dr::discon_all_ redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::dr::disconnect_all redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::_login redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::selectall_arrayref redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::selectrow_array redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::selectrow_arrayref redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::last_insert_id redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::commit redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::rollback redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::disconnect redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::STORE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::FETCH redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::db::DESTROY redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::_prepare redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::rows redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::bind_col redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::bind_param redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::bind_param_inout redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::execute redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::fetchrow_arrayref redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::fetch redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::fetchrow_array redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::fetchrow redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::fetchall_arrayref redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::finish redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::blob_read redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::STORE redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::FETCH_attrib redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::FETCH redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\nSubroutine DBD::SQLite::st::DESTROY redefined at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm line 17.\n</code></pre>\n\n<p>If I add code to do things in the DB, the operations succeed, and the errors don't appear if I remove -w.  But I like my code to be \"-w clean\".</p>\n\n<p>I'm a bit mystified by this.  Those are indeed the places where DBD::SQLite is sourced from.  I'm using the system perl at /usr/bin/perl:</p>\n\n<pre><code>$ ls -l /usr/bin/perl\n-rwxr-xr-x  1 root  wheel  66608 Dec  1 12:45 /usr/bin/perl\n$ file /usr/bin/perl\n/usr/bin/perl: Mach-O universal binary with 2 architectures: [x86_64:Mach-O 64-bit executable x86_64] [i386:Mach-O executable i386]\n/usr/bin/perl (for architecture x86_64):    Mach-O 64-bit executable x86_64\n/usr/bin/perl (for architecture i386):  Mach-O executable i386\n</code></pre>\n\n<p>I've used homebrew on both systems, but neither writes in /System and /usr/bin/perl -V says:</p>\n\n<pre><code>  @INC:\n    /Library/Perl/5.18/darwin-thread-multi-2level\n    /Library/Perl/5.18\n    /Network/Library/Perl/5.18/darwin-thread-multi-2level\n    /Network/Library/Perl/5.18\n    /Library/Perl/Updates/5.18.2/darwin-thread-multi-2level\n    /Library/Perl/Updates/5.18.2\n    /System/Library/Perl/5.18/darwin-thread-multi-2level\n    /System/Library/Perl/5.18\n    /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level\n    /System/Library/Perl/Extras/5.18\n    .\n</code></pre>\n\n<p>(No, I don't have any modules in my current directory).</p>\n\n<p>DBD::SQLite is in /System:</p>\n\n<pre><code>$ ll /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm \n-rw-r--r--  1 root  wheel  87746 Jul 27  2013 /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm\n</code></pre>\n\n<p>For what it's worth, the strings DBD, SQLite, and NEWAPI don't even appear in /System/Library/Perl/5.18/constants.pm :-(</p>\n\n<p>There's only one SQLite.pm on the box:</p>\n\n<pre><code>$ locate SQLite|grep DBD \n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/share/man/man3/DBD::SQLite.3pm\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/share/man/man3/DBD::SQLite5.18.3pm\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/share/man/man3/DBD::SQLite::Cookbook.3pm\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/share/man/man3/DBD::SQLite::Cookbook5.18.3pm\n/System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite\n/System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite/Cookbook.pod\n/System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBD/SQLite.pm\n/System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/auto/DBD/SQLite\n/System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/auto/DBD/SQLite/SQLite.bs\n/System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/auto/DBD/SQLite/SQLite.bundle\n</code></pre>\n\n<p>My usual method of debugging - typing detailed posts into StackOverflow and figuring out the problem myself through confessional debugging appears to have failed.  Any ideas?</p>\n"}, {"tags": ["perl", "ubuntu"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1518638397, "post_id": 48795195, "comment_id": 84592857, "body": "Run <code>which perl</code>. Your shell is still pointing to the system Perl. You need to change your PATH."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1518638650, "post_id": 48795195, "comment_id": 84592970, "body": "Out of curiosity, why limit your upgrade to such an ancient version? 5.10 is over 10 years old!"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 3, "creation_date": 1518638951, "post_id": 48795195, "comment_id": 84593107, "body": "And Ubuntu 8.04 (or 8.08) are equally old -- the leading 8 stands for 2008."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1518638408, "creation_date": 1518638408, "answer_id": 48795268, "question_id": 48795195, "link": "https://stackoverflow.com/questions/48795195/upgrade-perl-v5-8-to-perl-v5-10-on-on-ubuntu-8/48795268#48795268", "title": "Upgrade Perl v5.8 to Perl v5.10 on on Ubuntu 8", "body": "<p>That's because <code>/bin</code> appears before <code>/home/admin/localperl/bin</code> in your path.</p>\n\n<p>Add the following to your login script:</p>\n\n<pre><code>export PATH=\"/home/admin/localperl/bin:$PATH\"\n</code></pre>\n\n<p>(Bourne shell syntax provided; adjust as needed.)</p>\n\n<hr>\n\n<p>Remember, the scripts that should use this Perl should have the following shebang line:</p>\n\n<pre><code>#!/home/admin/localperl/bin/perl\n</code></pre>\n\n<p>The standard Perl installers will automatically convert <code>#!/bin/perl</code> into the above in scripts they install.</p>\n"}], "owner": {"reputation": 3468, "user_id": 1258669, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1988d60d9df1a4aaecc77ffc49532a5a?s=128&d=identicon&r=PG", "display_name": "RanPaul", "link": "https://stackoverflow.com/users/1258669/ranpaul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 48795268, "answer_count": 1, "score": 0, "last_activity_date": 1518638408, "creation_date": 1518638140, "question_id": 48795195, "link": "https://stackoverflow.com/questions/48795195/upgrade-perl-v5-8-to-perl-v5-10-on-on-ubuntu-8", "title": "Upgrade Perl v5.8 to Perl v5.10 on on Ubuntu 8", "body": "<p>I have installed the <code>Perl v5.10</code> in <code>/home/admin/localperl</code> location as per the below install commands   </p>\n\n<pre><code>./Configure -des -Dprefix=$HOME/localperl\nmake test\nmake install\n</code></pre>\n\n<p>But when I ran the <code>$ perl -v</code> command am still seeing <code>perl, v5.8.8</code> instead of <code>Perl v5.10</code></p>\n\n<pre><code>This is perl, v5.8.8 built for i486-linux-gnu-thread-multi\n</code></pre>\n\n<p>I am a windows user and in the windows world I usually change the class path to make it work, but am not sure how this can be done in <code>Ubuntu 8</code> world, can someone please help?</p>\n"}, {"tags": ["linux", "perl", "curl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1518627151, "post_id": 48791786, "comment_id": 84586913, "body": "Looks like a single error related to <code>CURL_STRICTER</code>. Might be easy to address. I can&#39;t look at it now, though."}, {"owner": {"reputation": 79, "user_id": 7637846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65cedf5b34239b72e08f1e6733e1dabf?s=128&d=identicon&r=PG&f=1", "display_name": "TheAdam122", "link": "https://stackoverflow.com/users/7637846/theadam122"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518627358, "post_id": 48791786, "comment_id": 84587059, "body": "Thanks for the advice, I will do research on it."}], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 7637846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65cedf5b34239b72e08f1e6733e1dabf?s=128&d=identicon&r=PG&f=1", "display_name": "TheAdam122", "link": "https://stackoverflow.com/users/7637846/theadam122"}, "is_accepted": true, "score": 1, "last_activity_date": 1518705271, "creation_date": 1518705271, "answer_id": 48809693, "question_id": 48791786, "link": "https://stackoverflow.com/questions/48791786/failed-to-install-wwwcurleasy-szbalint-www-curl-4-17-tar-gz-make-no/48809693#48809693", "title": "Failed to install WWW::Curl::Easy: SZBALINT/WWW-Curl-4.17.tar.gz : make NO", "body": "<p>Okay, this is how I got it to work: The error was related to <code>CURL_STRICTER</code>, it was missing in a line of <code>MAKEFILE.pl</code>. I found <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=117793\" rel=\"nofollow noreferrer\">this bug</a> and <a href=\"https://rt.cpan.org/Ticket/Attachment/1668211/895272/WWW-Curl-4.17-Skip-preprocessor-symbol-only-CURL_STRICTER.patch\" rel=\"nofollow noreferrer\">this patch</a>, so I downloaded the <code>WWW-Curl-4.17.tar.gz</code> and extracted it, and changed the following line according to the patch:</p>\n\n<pre><code>if($e =~ /(OBSOLETE|^CURL_EXTERN|_LAST\\z|_LASTENTRY\\z)/) {\n</code></pre>\n\n<p>to look like</p>\n\n<pre><code>if($e =~ /(OBSOLETE|^CURL_EXTERN|^CURL_STRICTER\\z|_LAST\\z|_LASTENTRY\\z)/) {\n</code></pre>\n\n<p>After that I installed it according to the included README and it worked.</p>\n"}], "owner": {"reputation": 79, "user_id": 7637846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65cedf5b34239b72e08f1e6733e1dabf?s=128&d=identicon&r=PG&f=1", "display_name": "TheAdam122", "link": "https://stackoverflow.com/users/7637846/theadam122"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 48809693, "answer_count": 1, "score": 1, "last_activity_date": 1518705271, "creation_date": 1518625360, "last_edit_date": 1518626989, "question_id": 48791786, "link": "https://stackoverflow.com/questions/48791786/failed-to-install-wwwcurleasy-szbalint-www-curl-4-17-tar-gz-make-no", "title": "Failed to install WWW::Curl::Easy: SZBALINT/WWW-Curl-4.17.tar.gz : make NO", "body": "<p>I am trying to install WWW::Curl::Easy on my Fedora 26 machine</p>\n\n<pre><code>gcc -c  -I/usr/include -D_REENTRANT -D_GNU_SOURCE -O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -fwrapv -fno-strict-aliasing -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g   -DVERSION=\\\"4.17\\\" -DXS_VERSION=\\\"4.17\\\" -fPIC \"-I/usr/lib64/perl5/CORE\"   Curl.c\nCurl.xs: In function \u2018fwrite_wrapper2\u2019:\nCurl.xs:363:13: warning: unused variable \u2018sv\u2019 [-Wunused-variable]\n         SV *sv;\n             ^~\nIn file included from Curl.xs:574:0:\ncurlopt-constants.c: In function \u2018constant\u2019:\ncurlopt-constants.c:19:58: warning: \u2018return\u2019 with no value, in function returning non-void\n             if (strEQ(name, \"DID_MEMORY_FUNC_TYPEDEFS\")) return CURL_DID_MEMORY_FUNC_TYPEDEFS;\n                                                          ^~~~~~\ncurlopt-constants.c:2:1: note: declared here\n constant(const char *name)\n ^~~~~~~~\ncurlopt-constants.c:130:49: error: \u2018CURL_STRICTER\u2019 undeclared (first use in this function); did you mean \u2018PMf_STRICT\u2019?\n             if (strEQ(name, \"STRICTER\")) return CURL_STRICTER;\n                                                 ^~~~~~~~~~~~~\n                                                 PMf_STRICT\ncurlopt-constants.c:130:49: note: each undeclared identifier is reported only once for each function it appears in\ncurlopt-constants.c:2077:44: warning: overflow in implicit constant conversion [-Woverflow]\n             if (strEQ(name, \"ANY\")) return CURLAUTH_ANY;\n                                            ^~~~~~~~~~~~\ncurlopt-constants.c:2078:48: warning: overflow in implicit constant conversion [-Woverflow]\n             if (strEQ(name, \"ANYSAFE\")) return CURLAUTH_ANYSAFE;\n                                                ^~~~~~~~~~~~~~~~\n</code></pre>\n\n<p><a href=\"https://pastebin.com/Gv2u62qG\" rel=\"nofollow noreferrer\">Full output</a></p>\n\n<p>I have <code>curl</code>, <code>curl-config</code> and <code>curl-devel</code> installed. I have tried all suggestions I found on similar problems, but I can't get this to work. Any ideas appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1518616192, "post_id": 48788597, "comment_id": 84579212, "body": "Have you checked <a href=\"https://stackoverflow.com/questions/7634937/split-with-no-argument-in-perl\">this question</a>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1518617374, "post_id": 48788597, "comment_id": 84580048, "body": "The tutorial you&#39;re using says this: <i>&quot;Most talented unix Perl programmers I have met have a dirty little secret. They cannot resist the allure of  the gnarly Perl one-liner for accomplishing short tasks that do not need a complete script.&quot;</i> I have found quite the opposite: anyone who knows Perl at all well will hate the <i>one-liner</i> with a passion. It is a device from bash that allows you to write single-line Perl programs, and the only people who like them are newcomers to the language and people who like to show off."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1518617878, "post_id": 48788597, "comment_id": 84580389, "body": "In my opinion, no one other than Perl experts should even consider attempting a one-liner, and if that restriction were in place no one ever would. I think you&#39;re seeing it as a soft introduction to Perl, when in fact it is by far the very hardest. The facility remains only as a backward-compatibility thing, and the modern facilities like <code>strict</code> and lexical variables are unavailable unless you use <code>perl -Mstrict</code> which has lost 10% of the line already, plus another 3 characters for every <code>my </code>. There&#39;s no reason not to source a proper Perl program from a <code>.pl</code> file."}, {"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1518620892, "post_id": 48788597, "comment_id": 84582575, "body": "@raina77ow no I haven&#39;t seen that question. As I mentioned, it was so hard to search that particular topic because the phrase &#39;parentheses&#39; interfered so much with the &#39;calling a function with arguments inside parentheses&#39; topics, so I gave up searching. That post was useful, thank you for that."}, {"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518620905, "post_id": 48788597, "comment_id": 84582583, "body": "@Borodin Thank you for the comments, they&#39;ve been enlightening for me. You&#39;re correct I&#39;m a newcomer to the Perl. After I noticed Perl&#39;s similarities  to Javascript, PHP and Ruby and because Perl was designed years before them,I found it highly interesting and decided to learn intricacies of it. That&#39;s why I got stuck in the one liners as they seemed so interesting. But I practice them as way to warm up for the real Perl applications, to be able to write my own Perl scripts in the near future."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1518616366, "post_id": 48788803, "comment_id": 84579355, "body": "You might want to go into detail how <code>split</code> returns a list, and the <code>(...)[4]</code> essentially uses the return value in list context, and accesses the 5th element of that list, discarding the whole list afterwards."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1518617127, "post_id": 48788803, "comment_id": 84579858, "body": "@simbabque aside from not mentioning what <code>split</code> returns, isn&#39;t that what I said?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1518619754, "post_id": 48788803, "comment_id": 84581759, "body": "You&#39;re describing <code>+(...)</code> as a unit, followed by <code>[8]</code>. But <code>(</code> <code>)[</code> <code>]</code> is actually a single operator (list slicing). You can&#39;t have a bare <code>[8]</code>."}, {"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1518632366, "post_id": 48788803, "comment_id": 84589676, "body": "The plus sign is really disambiguous. Where is it documented as a &#39;no-op&#39; operator? Google search and perldoc didn&#39;t return any useful info. I use perlbrew on a Mac;maybe perldoc was not installed in full, perldoc no-op returns No documentation found for &quot;no-op&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 1, "creation_date": 1518639215, "post_id": 48788803, "comment_id": 84593216, "body": "@Romario, Operators are documented in <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a>. <i>Unary &quot;<code>+</code>&quot; has no effect whatsoever, even on strings. It is useful syntactically for separating a function name from a parenthesized expression that would otherwise be interpreted as the complete list of function arguments.</i>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518687842, "post_id": 48788803, "comment_id": 84610747, "body": "<i>&quot;is basically a very succinct way of writing  <code>my @results=split(&#47; &#47;,$_)</code> ...&quot;</i> No, it&#39;s not. It&#39;s equivalent to <code>my @results=split(&#39; &#39;, $_)</code> and the distinction is very important. This is generally a poor-quality answer, as your <i>&quot;It probably doesn&#39;t help that the use of split is defaulting everything&quot;</i> is also baseless."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518687954, "post_id": 48788803, "comment_id": 84610835, "body": "@Borodin there are no parameters being passed to <code>split</code> so how is it not using default values for all of them?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518688644, "post_id": 48788803, "comment_id": 84611340, "body": "@Chris: It is using default parameters, but that makes no difference at all."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518688750, "post_id": 48788803, "comment_id": 84611412, "body": "@Borodin the OP was confused by what the code meant so I was covering all bases"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1518689076, "post_id": 48788803, "comment_id": 84611649, "body": "@Romario: <i>&quot;Disambiguous&quot;</i> isn&#39;t an English word. Can you explain what you meant here?"}, {"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518690698, "post_id": 48788803, "comment_id": 84612753, "body": "@Borodin I was aware of the wrong use of the word &#39;disambiguous&#39;  I meant &#39;unclear&#39; od course. The plus sign there is unclear or tricky for the uninitiated."}], "tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": true, "score": 5, "last_activity_date": 1518639341, "last_edit_date": 1518639341, "creation_date": 1518616198, "answer_id": 48788803, "question_id": 48788597, "link": "https://stackoverflow.com/questions/48788597/function-name-inside-parentheses-in-perl-one-liner/48788803#48788803", "title": "Function name inside parentheses in Perl one liner", "body": "<p>It probably doesn't help that the use of <code>split</code> is defaulting everything - it's splitting <code>$_</code> by spaces and returning a list of values. </p>\n\n<p>The <code>(...)[8]</code> is called a list slice, and it filters out all but the 9th value returned by <code>split</code>. The preceding plus is there to prevent Perl from misparsing the brackets as being part of a function call. Which also means you don't need it on the second instance.</p>\n\n<p>So <code>print +(split)[8];</code> is basically a very succinct way of writing</p>\n\n<pre><code>my @results=split(/ /,$_);\nprint $results[8]; \n</code></pre>\n\n<p>The example you've included is performing the <code>split</code> twice so it might be more efficient to do the more verbose version as you can get <code>$results[4]</code> from the above without any extra effort.</p>\n\n<p>Or because you can put a list of indexes inside the <code>[]</code>, you could do the split once and use printf to format the output like this</p>\n\n<pre><code>printf \"%s size: %s\\n\", (split)[8,4];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1518621597, "post_id": 48789642, "comment_id": 84583059, "body": "Thank you so much for the answer. It&#39;s as much helpful as the one I ticked as the answer. The one liner which uses the special variable F is particularly enlightening and the next one which puts the regexp to the front and making use of the &#39;or&#39; construct is fine too; it shows the flexibility of the Perl."}, {"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1518621919, "post_id": 48789642, "comment_id": 84583278, "body": "And as for the Camel Book, actually I&#39;ve got that book and read several pages of it. But for this particular problem, it was of no use because I had to search against a very generic term &#39;parenthesis&#39; resulting in hundreds of matches, all seeming similar to each other."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1518629615, "post_id": 48789642, "comment_id": 84588274, "body": "@Romario FWIW: I find <code>perldoc</code> to be a great <i>reference tool</i> for looking things up in the moment.  Just get accustomed to what&#39;s in each sub-page.  I find the Camel Book on the other hand to be more useful in my down-time, to teach/remind one of how to best use Perl&#39;s strengths."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1518619400, "last_edit_date": 1518619400, "creation_date": 1518618692, "answer_id": 48789642, "question_id": 48788597, "link": "https://stackoverflow.com/questions/48788597/function-name-inside-parentheses-in-perl-one-liner/48789642#48789642", "title": "Function name inside parentheses in Perl one liner", "body": "<p>In my opinion you should be avoiding this author's advice, both for the reasons laid out in my comments on your question, and because they don't appear to know their topic at all well.</p>\n\n<p>The original \"one-liner\" was this</p>\n\n<pre><code>ls -lAF | perl -e 'while (&lt;&gt;) {next if /^[dt]/; print +(split)[8] . \" size: \" . +(split)[4] . \"\\n\"}'\n</code></pre>\n\n<p>This could be written much more succinctly by using the <code>-n</code> and <code>-a</code> options, giving this</p>\n\n<pre><code>ls -lAF | perl -wane 'print $F[8] size: $F[4]\\n\" unless /^[dt]/'\n</code></pre>\n\n<p>Even without the \"luxury\" of these options you could write</p>\n\n<pre><code>ls -lAF | perl -e '/^[dt]/ or printf \"%s size: %s\\n\", (split)[8,4]  while &lt;&gt;'\n</code></pre>\n\n<p>I recommend that you go and read the <a href=\"http://shop.oreilly.com/product/9780596004927.do\" rel=\"nofollow noreferrer\"><em>Camel Book</em></a> several times over the next few years. That is the best way to learn the language that I have found.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1518619428, "last_edit_date": 1518619428, "creation_date": 1518619058, "answer_id": 48789762, "question_id": 48788597, "link": "https://stackoverflow.com/questions/48788597/function-name-inside-parentheses-in-perl-one-liner/48789762#48789762", "title": "Function name inside parentheses in Perl one liner", "body": "<p>Most installations of Perl include a full set of documentation, accessible using the <code>perldoc</code> command.</p>\n\n<p>You need to read the <a href=\"https://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\"><em>Slices</em> section of <code>perldoc perldata</code></a> which makes very clear this use of slicing.</p>\n"}], "owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 1, "accepted_answer_id": 48788803, "answer_count": 3, "score": 1, "last_activity_date": 1518639341, "creation_date": 1518615542, "question_id": 48788597, "link": "https://stackoverflow.com/questions/48788597/function-name-inside-parentheses-in-perl-one-liner", "title": "Function name inside parentheses in Perl one liner", "body": "<p>I'm working on a Perl one liner <a href=\"http://www.ccg.unam.mx/~vinuesa/tlem/pdfs/TPR_one-liners.pdf\" rel=\"nofollow noreferrer\">tutorial</a> and there are one liners like this:</p>\n\n<pre><code>ls -lAF | perl -e 'while (&lt;&gt;) {next if /^[dt]/; print +(split)[8] . \" size: \" . +(split)[4] . \"\\n\"}'\n</code></pre>\n\n<p>You see the function name <strong>split</strong> has been inside parentheses. Documentation about this use of functions is hard to find on Google so I couldn't find any information on it. Could somebody explain it? Thank you.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 5, "creation_date": 1518612950, "post_id": 48787770, "comment_id": 84577082, "body": "<i>Always</i> <code>use strict;</code>!"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 6, "creation_date": 1518613084, "post_id": 48787770, "comment_id": 84577166, "body": "<code>grep</code> doesn\u2019t do what you think it does, and you\u2019re <a href=\"https://stackoverflow.com/a/1732454/418066\">parsing HTML with regex, which is a bad idea</a>. The immediate error, however, is with <code>$link-&gt;text</code>; consider what <code>$link</code> is here."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1518613464, "post_id": 48787770, "comment_id": 84577421, "body": "Why do you have LWP::Simple and WWW::Mechanize and use neither?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1518613699, "creation_date": 1518613699, "answer_id": 48788032, "question_id": 48787770, "link": "https://stackoverflow.com/questions/48787770/cant-call-method-text-without-a-package-or-object-reference/48788032#48788032", "title": "Can&#39;t call method &quot;text&quot; without a package or object reference", "body": "<p>In scalar context, <code>grep</code> returns the number of items in the list that \"match\" the criterion. So, because there is only one item in your list, your statement</p>\n\n<pre><code>$link = grep( /&lt;a.*href=.*&gt;/, $line )\n</code></pre>\n\n<p>will set <code>$link</code> to either 1 or 0 according to whether <code>$line</code> matches the regex <code>/&lt;a.*href=.*&gt;/</code></p>\n\n<p>Then you have</p>\n\n<pre><code>print $fh $link-&gt;text\n</code></pre>\n\n<p>which calls either <code>1-&gt;text</code> or <code>0-text</code>, neither of which make sense</p>\n"}], "owner": {"reputation": 1809, "user_id": 5413666, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/c560e122aef358e019a4971d4fbc6833?s=128&d=identicon&r=PG&f=1", "display_name": "rParvathi", "link": "https://stackoverflow.com/users/5413666/rparvathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518613699, "creation_date": 1518612889, "question_id": 48787770, "link": "https://stackoverflow.com/questions/48787770/cant-call-method-text-without-a-package-or-object-reference", "title": "Can&#39;t call method &quot;text&quot; without a package or object reference", "body": "<p>The following is my code </p>\n\n<pre><code>use warnings;\nuse LWP::Simple;\nuse WWW::Mechanize;\nuse WWW::Mechanize::Link;\n\n\nmy $mech = new  WWW::Mechanize();\nmy $link = new  WWW::Mechanize::Link();\n\nmy $file = 'source1.txt';\nmy $filename = 'links2.txt';\n\nopen(my $fh, '&gt;', $filename) or die \"Could not open file '$filename' $!\";\nopen my $info, $file or die \"Could not open $file: $!\";\n\nwhile( my $line = &lt;$info&gt;)  {\n $link = grep(/&lt;a.*href=.*&gt;/,$line);\n   print $fh $link-&gt;text;\n\n}\nclose $fh;\n</code></pre>\n\n<p>when I try to run this I get the error\nCan't call method \"text\" without a package or object reference.</p>\n"}, {"tags": ["html", "ajax", "perl", "cgi", "jquery-chosen"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526386131, "post_id": 48785488, "comment_id": 87715323, "body": "What happened to your other question? Did you figure it out on your own?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9304834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee96f42696b241c9fe999d0a1e89ee7d?s=128&d=identicon&r=PG&f=1", "display_name": "Himani Arora 16MCA0065", "link": "https://stackoverflow.com/users/9304834/himani-arora-16mca0065"}, "edited": false, "score": 0, "creation_date": 1518608803, "post_id": 48786182, "comment_id": 84574199, "body": "i changed the class to &#39;hosts&#39; and it&#39;s still not working.. please tell me what to do exactly."}, {"owner": {"reputation": 2304, "user_id": 5264501, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh5.googleusercontent.com/-ZVUTKavAkNE/AAAAAAAAAAI/AAAAAAAAEKM/Vjq_EgjFw04/photo.jpg?sz=128", "display_name": "Yvonne Aburrow", "link": "https://stackoverflow.com/users/5264501/yvonne-aburrow"}, "reply_to_user": {"reputation": 1, "user_id": 9304834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee96f42696b241c9fe999d0a1e89ee7d?s=128&d=identicon&r=PG&f=1", "display_name": "Himani Arora 16MCA0065", "link": "https://stackoverflow.com/users/9304834/himani-arora-16mca0065"}, "edited": false, "score": 0, "creation_date": 1518609521, "post_id": 48786182, "comment_id": 84574698, "body": "but your html has an <b>id</b> not a class?"}, {"owner": {"reputation": 2304, "user_id": 5264501, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh5.googleusercontent.com/-ZVUTKavAkNE/AAAAAAAAAAI/AAAAAAAAEKM/Vjq_EgjFw04/photo.jpg?sz=128", "display_name": "Yvonne Aburrow", "link": "https://stackoverflow.com/users/5264501/yvonne-aburrow"}, "reply_to_user": {"reputation": 1, "user_id": 9304834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee96f42696b241c9fe999d0a1e89ee7d?s=128&d=identicon&r=PG&f=1", "display_name": "Himani Arora 16MCA0065", "link": "https://stackoverflow.com/users/9304834/himani-arora-16mca0065"}, "edited": false, "score": 0, "creation_date": 1518609625, "post_id": 48786182, "comment_id": 84574772, "body": "please can you post your html and your jQuery, as I can&#39;t see what the problem is from what you have posted"}, {"owner": {"reputation": 1, "user_id": 9304834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee96f42696b241c9fe999d0a1e89ee7d?s=128&d=identicon&r=PG&f=1", "display_name": "Himani Arora 16MCA0065", "link": "https://stackoverflow.com/users/9304834/himani-arora-16mca0065"}, "edited": false, "score": 0, "creation_date": 1518610728, "post_id": 48786182, "comment_id": 84575522, "body": "see it has an attribute -class=&gt;&#39;host_name&#39;,... i have changed it to &#39;hosts&#39;"}, {"owner": {"reputation": 2304, "user_id": 5264501, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh5.googleusercontent.com/-ZVUTKavAkNE/AAAAAAAAAAI/AAAAAAAAEKM/Vjq_EgjFw04/photo.jpg?sz=128", "display_name": "Yvonne Aburrow", "link": "https://stackoverflow.com/users/5264501/yvonne-aburrow"}, "reply_to_user": {"reputation": 1, "user_id": 9304834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee96f42696b241c9fe999d0a1e89ee7d?s=128&d=identicon&r=PG&f=1", "display_name": "Himani Arora 16MCA0065", "link": "https://stackoverflow.com/users/9304834/himani-arora-16mca0065"}, "edited": false, "score": 0, "creation_date": 1518611665, "post_id": 48786182, "comment_id": 84576191, "body": "in that case, your jquery should be <code>$( function() { $(&quot;.hosts&quot;).chosen();  });</code> (and your html should be <code>class=&quot;host_name&quot;</code>"}, {"owner": {"reputation": 1, "user_id": 9304834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee96f42696b241c9fe999d0a1e89ee7d?s=128&d=identicon&r=PG&f=1", "display_name": "Himani Arora 16MCA0065", "link": "https://stackoverflow.com/users/9304834/himani-arora-16mca0065"}, "edited": false, "score": 0, "creation_date": 1518669310, "post_id": 48786182, "comment_id": 84602737, "body": "so u mean class name and the name that chosen() calls should be different?"}, {"owner": {"reputation": 2304, "user_id": 5264501, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh5.googleusercontent.com/-ZVUTKavAkNE/AAAAAAAAAAI/AAAAAAAAEKM/Vjq_EgjFw04/photo.jpg?sz=128", "display_name": "Yvonne Aburrow", "link": "https://stackoverflow.com/users/5264501/yvonne-aburrow"}, "reply_to_user": {"reputation": 1, "user_id": 9304834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee96f42696b241c9fe999d0a1e89ee7d?s=128&d=identicon&r=PG&f=1", "display_name": "Himani Arora 16MCA0065", "link": "https://stackoverflow.com/users/9304834/himani-arora-16mca0065"}, "edited": false, "score": 0, "creation_date": 1518709034, "post_id": 48786182, "comment_id": 84625200, "body": "oh dear, no, sorry, I mean <code>$( function() { $(&quot;.hosts&quot;).chosen(); });</code> and your html should be <code>class=&quot;hosts&quot;</code>"}], "tags": [], "owner": {"reputation": 2304, "user_id": 5264501, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh5.googleusercontent.com/-ZVUTKavAkNE/AAAAAAAAAAI/AAAAAAAAEKM/Vjq_EgjFw04/photo.jpg?sz=128", "display_name": "Yvonne Aburrow", "link": "https://stackoverflow.com/users/5264501/yvonne-aburrow"}, "is_accepted": false, "score": 0, "last_activity_date": 1518607924, "creation_date": 1518607924, "answer_id": 48786182, "question_id": 48785488, "link": "https://stackoverflow.com/questions/48785488/chosen-jquery-not-working-for-values-fetched-from-database/48786182#48786182", "title": "chosen jquery not working for values fetched from database", "body": "<pre><code>$( function() {\n$(\".host_name\").chosen();  });\n</code></pre>\n\n<p>The <code>$(\".host_name\")</code> jQuery selector selects all elements with the <strong>class</strong> hostname (e.g. <code>&lt;div class=\"host_name\"&gt;&lt;/div&gt;</code>).</p>\n\n<pre><code>   $( function() {\n    $(\"#host_name\").chosen().change(host_name);  })\n</code></pre>\n\n<p>The <code>$(\"#host_name\")</code> jQuery selector selects all elements with the <strong>id</strong> hostname (e.g. <code>&lt;div id=\"host_name\"&gt;&lt;/div&gt;</code>)</p>\n\n<pre><code>$( function() {\n    $('#host_name').trigger('chosen:updated');\n})\n</code></pre>\n\n<p>You might want to check the <a href=\"https://harvesthq.github.io/chosen/\" rel=\"nofollow noreferrer\">chosen() documentation</a> for usage examples, too.</p>\n\n<p>There's an error in your commented-out bit of JavaScript:</p>\n\n<pre><code>//document.getElementById('host_name').appendChild(var);\n</code></pre>\n\n<p>It should be</p>\n\n<pre><code>//document.getElementById('host_name').appendChild(option);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9304834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee96f42696b241c9fe999d0a1e89ee7d?s=128&d=identicon&r=PG&f=1", "display_name": "Himani Arora 16MCA0065", "link": "https://stackoverflow.com/users/9304834/himani-arora-16mca0065"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518607924, "creation_date": 1518605881, "question_id": 48785488, "link": "https://stackoverflow.com/questions/48785488/chosen-jquery-not-working-for-values-fetched-from-database", "title": "chosen jquery not working for values fetched from database", "body": "<p>I have been trying to add the chosen jquery for my selectbox which is fetching the values from database based on another. The normal selectbox works fine and all the options are getting displayed but the chosen jquery is not working.\nI won't put the script tags over here because the chosen jquery is working fine for hard coded values of host names.I have applied jquery for 'host_name' scrolling list.</p>\n\n<p>This is what i tried</p>\n\n<pre><code>$( function() {\n$(\".host_name\").chosen();  });\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>   $( function() {\n    $(\"#host_name\").chosen().change(host_name);  })\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>$( function() {\n    $('#host_name').trigger('chosen:updated');\n})\n</code></pre>\n\n<p>perl cgi code containing ajax for fetching data from database scrolling list:</p>\n\n<pre><code>my $JAVASCRIPT = &lt;&lt;'ENDJS';\nfunction call(host)\n{\n//alert(\"in call\");\nvar selos=document.getElementById(\"ostype\");\nvar x=selos.options[selos.selectedIndex].text;\n\nif (x){\n                var xhttp = new XMLHttpRequest();\n                xhttp.onreadystatechange=function() {\n    if (this.readyState == 4 &amp;&amp; this.status == 200) {\n                                var obj=JSON.parse(this.responseText);\n var select = document.getElementById(\"host_name\");\n        for (var key in obj){\n\n                                        var option = document.createElement('option');\n                                        option.text = option.value = obj[key];\n                                        select.add(option, 0);\n\n                                        //document.getElementById('host_name').appendChild(var);\n                                }\n    }\n  };\n  xhttp.open(\"GET\", \"logic.cgi?ostype=\"+x, true);\n\n  xhttp.send();\n\n}\n}\n</code></pre>\n\n<p>cgi code for html</p>\n\n<pre><code> $q-&gt;start_td({-colspan=&gt;2}),\n       $q-&gt;scrolling_list(-name=&gt;'ostype',\n-size=&gt;1,\n-id=&gt;'ostype',\n-values=&gt;['RHEL','Windows','SLES'],\n-onClick=&gt;'together()',\n-onChange=&gt;'call()'\n),\n$q-&gt;end_td,\n\n\n\n\"Host name\",$q-&gt;font({-color=&gt;'red'},\"*\") ,\n$q-&gt;end_td,\n $q-&gt;start_td({-colspan=&gt;2}),\n\n$q-&gt;scrolling_list({-style=&gt;'width:150px',\n-name=&gt;'host_name',\n-class=&gt;'host_name',\n-id=&gt;'host_name',\n-size=&gt;'3',\n-values=&gt;[],\n-multiple=&gt;'true'}\n),\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3606, "user_id": 2042827, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/8Wspp.jpg?s=128&g=1", "display_name": "ikos23", "link": "https://stackoverflow.com/users/2042827/ikos23"}, "edited": false, "score": 1, "creation_date": 1518604847, "post_id": 48785076, "comment_id": 84571594, "body": "This question is missing a lot of details like what you mean by i-XXX, cont etc. Please provide more information, add details about what you&#39;ve tried and it didn&#39;t work."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1518605117, "post_id": 48785076, "comment_id": 84571782, "body": "By writing code."}, {"owner": {"reputation": 1, "user_id": 9359475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/022bceb74dc4ab47ee5562ca700d1718?s=128&d=identicon&r=PG&f=1", "display_name": "venkat", "link": "https://stackoverflow.com/users/9359475/venkat"}, "edited": false, "score": 0, "creation_date": 1518605142, "post_id": 48785076, "comment_id": 84571794, "body": "I have file and trying to get the value after &quot;:&quot; in associated &quot;cont&quot;  variable."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1518608815, "post_id": 48785076, "comment_id": 84574208, "body": "offhand I can think of about 10 methods of doing this with perl. I can also tell you for a fact that a single search on google will bring up pages full of results on how to do this."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9359475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/022bceb74dc4ab47ee5562ca700d1718?s=128&d=identicon&r=PG&f=1", "display_name": "venkat", "link": "https://stackoverflow.com/users/9359475/venkat"}, "edited": false, "score": 0, "creation_date": 1518618003, "post_id": 48787678, "comment_id": 84580480, "body": "thanks ,it&#39;s working if i will use separate perl file but  i want to add to my existing  code to replace CNS to  &quot;i-02dd208bf1d81c254&quot;  in output. can you please help me how to achive this? And also the file is getting runtime so each run the values will change(which is in after &quot;cont&quot; value i.e. &quot;i -02dd208bf1d81c254&quot;)"}], "tags": [], "owner": {"reputation": 33, "user_id": 1037717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5101f81d2eff6fb5ff38b8a93e1de3da?s=128&d=identicon&r=PG", "display_name": "SaRaVaNaN", "link": "https://stackoverflow.com/users/1037717/saravanan"}, "is_accepted": false, "score": 0, "last_activity_date": 1518612574, "creation_date": 1518612574, "answer_id": 48787678, "question_id": 48785076, "link": "https://stackoverflow.com/questions/48785076/how-to-grep-string-and-assign-it-to-a-variable-in-perl/48787678#48787678", "title": "How to grep string and assign it to a variable in Perl", "body": "<pre><code>$myStr = \"cont:i-02dd208bf1d81c254 rs:i-0098ad0b59b7fe7cf\";\n\nif ($myStr =~ /cont:([^ ]+)/) # match the full pattern with the value you required\n{\n   $controller=1;\n   $cont = $1;    # assign required value to a variable\n}\nprint $cont;      # print the variable\n</code></pre>\n\n<p>This might work for you.</p>\n"}], "owner": {"reputation": 1, "user_id": 9359475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/022bceb74dc4ab47ee5562ca700d1718?s=128&d=identicon&r=PG&f=1", "display_name": "venkat", "link": "https://stackoverflow.com/users/9359475/venkat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 699, "favorite_count": 0, "answer_count": 1, "score": -7, "last_activity_date": 1518620742, "creation_date": 1518604680, "last_edit_date": 1592644375, "question_id": 48785076, "link": "https://stackoverflow.com/questions/48785076/how-to-grep-string-and-assign-it-to-a-variable-in-perl", "title": "How to grep string and assign it to a variable in Perl", "body": "<p>I have a file with the below details;</p>\n<h3>file name: allappsclus</h3>\n<pre><code>cont:i-02dd208bf1d81c254\nrs:i-0098ad0b59b7fe7cf\n</code></pre>\n<p>I want to use the value for  <code>i-XXX&quot;=</code> in associated <code>cont</code> name and assign it to another variable.</p>\n<p>If run my code and get an output it is</p>\n<pre><code>test-1.1.0.0\n1insideif-CNS\n</code></pre>\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $jupyter    = 0;\nmy $controller = 0;\nmy $rstudio    = 0;\nmy $zeppelin   = 0;\n\nmy $fh= '/tmp/allappsclus';\n\nopen my $fh2, '&lt;', $fh  or die &quot;Cannot open file: $!\\n&quot;;\n\nwhile ( &lt;$fh2&gt; ) {\n\n    if ( $_ =~ /jup/ ) {\n        $jupyter = 1;\n    }\n    elsif ( $_ =~ /con/ ) {\n        $controller = 1;\n    }\n    elsif ( $_ =~ /rs/ ) {\n        $rstudio = 1;\n    }\n    elsif ( $_ =~ /zep/ ) {\n        $zeppelin = 1;\n    }\n}\n\nprint &quot;test-$rs.$con.$jup.$zep\\n&quot;;\n\nif ( $zepeq '0' &amp;&amp; $jup eq '0' &amp;&amp; $con eq '1' &amp;&amp; $rs eq '1' ) {\n    print &quot;insideif-CNS&quot;;\n}\nelse {\n    print &quot;do nothing&quot;;\n}\n\nclose $fh;\nclose $fh2;\n</code></pre>\n<p>Now I want to print the value <code>i-02dd208bf1d81c254</code> instead of <code>CNS</code> in the output.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1518604421, "post_id": 48784561, "comment_id": 84571284, "body": "You want <a href=\"https://metacpan.org/pod/HTML::Entities\" rel=\"nofollow noreferrer\">metacpan.org/pod/HTML::Entities</a>."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1518605735, "post_id": 48784561, "comment_id": 84572212, "body": "@simbabque thanks, I did try that, but wasn&#39;t too keen on bloating it out even more just for that one feature :) (when it can be done with a regex)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1518605963, "post_id": 48784561, "comment_id": 84572365, "body": "You can &lt;strike&gt;steal&lt;/strike&gt; borrow the essential regex. Your code is fine though."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 1, "creation_date": 1518618115, "post_id": 48784561, "comment_id": 84580567, "body": "@AndrewNewby Don&#39;t reinvent the wheel. <code>HTML::Entities</code> is an old module, meaning it has taken care of bugs you don&#39;t even know exist. Bloat is not a problem on modern computers."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518676919, "post_id": 48791628, "comment_id": 84605187, "body": "Forgot to exclude <code>&lt;</code>, <code>&gt;</code>, <code>&amp;</code>, <code>&#39;</code> and <code>&quot;</code>&quot; from the exclusion list so they would get escaped. Fixed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1518676888, "last_edit_date": 1518676888, "creation_date": 1518624823, "answer_id": 48791628, "question_id": 48784561, "link": "https://stackoverflow.com/questions/48784561/convert-utf8-into-html-entities-in-perl/48791628#48791628", "title": "Convert utf8 into html entities in Perl", "body": "<pre><code>s/(...)/ ... /eg;\n</code></pre>\n\n<p>Choices of patterns:</p>\n\n<ul>\n<li><code>[^\\x00-\\x21\\x23-\\x25\\x28-\\x3B\\x3D\\x3F-\\x7F]</code> (Escape non-ASCII.)</li>\n<li><code>[^\\x09\\x0A\\x0D\\x20-\\x21\\x23-\\x25\\x28-\\x3B\\x3D\\x3F-\\x7E]</code> (Escape non-ASCII and control characters.)</li>\n</ul>\n\n<p>Choices of replacement expressions:</p>\n\n<ul>\n<li><code>\"&amp;#\".ord($1).\";\"</code></li>\n<li><code>sprintf(\"&amp;#x%X;\", ord($1))</code> (Extra CPU, but reduced bandwidth.)</li>\n</ul>\n\n<p>For example,</p>\n\n<pre><code>s/([^\\x09\\x0A\\x0D\\x20-\\x21\\x23-\\x25\\x28-\\x3B\\x3D\\x3F-\\x7E])/ sprintf(\"&amp;#x%X;\", ord($1)) /eg;\n</code></pre>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 48791628, "answer_count": 1, "score": 1, "last_activity_date": 1518676888, "creation_date": 1518603189, "last_edit_date": 1518603794, "question_id": 48784561, "link": "https://stackoverflow.com/questions/48784561/convert-utf8-into-html-entities-in-perl", "title": "Convert utf8 into html entities in Perl", "body": "<p>I've inherited a horrible site, so please forgive this question :) Rather than upgrading the site into fully UTF8, we need to convert any non-standard chars into HTML entities:</p>\n\n<pre><code>&amp;#ord_value;\n</code></pre>\n\n<p>This test script does this for one charachter:</p>\n\n<pre><code>$foo =~ s/(\\x{ed})/to_ord($1)/e;\n\nsub to_ord {\n    return (\"&amp;#\" . ord($_[0]). \";\")\n}\n</code></pre>\n\n<p>What I need to do though, is trigger this on anything greater than ord 127. Is there an easy way I can do this? I've looked into the character classes but can't see anything that fits the bill</p>\n\n<p><strong>FWIW</strong>, I've made them aware that the way they currently store the data is horrible, and will cause issues with people trying to search on the HTML entities - but this is out of my control. </p>\n\n<p><strong>UPDATE:</strong> This works, but I'm sure there must be a better way to do it - so please do share if you have a suggestion :)</p>\n\n<pre><code>s/([^a-z \\.,-_0-9])/to_ord($1)/eg\n</code></pre>\n"}, {"tags": ["apache", "perl", "http", "search", "solr"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 7094931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/737c4ba8a1483aa72fa57955b0803483?s=128&d=identicon&r=PG&f=1", "display_name": "Aswathy Santhosh", "link": "https://stackoverflow.com/users/7094931/aswathy-santhosh"}, "edited": false, "score": 0, "creation_date": 1518604416, "post_id": 48784129, "comment_id": 84571280, "body": "It worked! That you so much! I am new to Perl and JSON, so I was not clear what to do. Thanks again."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 0, "last_activity_date": 1518601969, "creation_date": 1518601969, "answer_id": 48784129, "question_id": 48783801, "link": "https://stackoverflow.com/questions/48783801/how-to-get-numfound-value-from-response-in-apache-solr-using-perl/48784129#48784129", "title": "How to get numFound value from response in Apache Solr using Perl", "body": "<p>You neglected to transform the JSON text into a data structure.</p>\n\n<pre><code>use JSON::MaybeXS qw(decode_json);\nsay decode_json($page-&gt;decoded_content)-&gt;{response}{numFound}\n# 0\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 7094931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/737c4ba8a1483aa72fa57955b0803483?s=128&d=identicon&r=PG&f=1", "display_name": "Aswathy Santhosh", "link": "https://stackoverflow.com/users/7094931/aswathy-santhosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 48784129, "answer_count": 1, "score": 0, "last_activity_date": 1518601969, "creation_date": 1518600957, "question_id": 48783801, "link": "https://stackoverflow.com/questions/48783801/how-to-get-numfound-value-from-response-in-apache-solr-using-perl", "title": "How to get numFound value from response in Apache Solr using Perl", "body": "<p>I used the below code to search documents (which has a particular keyword in content) from Apache Solr</p>\n\n<pre><code>my $solrgetapi = \"http://$address:$port/solr/OppsBot/select?q=content:\";\nmy $solrgeturl = $solrgetapi.'\"'.$keyword.'\"';\n\nmy $browser = LWP::UserAgent-&gt;new;\nmy $req =  HTTP::Request-&gt;new( GET =&gt; $solrgeturl );\n$req-&gt;authorization_basic( \"$username\", \"$pass\" );\nmy $page = $browser-&gt;request( $req );\nprint $page-&gt;decoded_content;\n</code></pre>\n\n<p>The result I get is as follows:</p>\n\n<pre><code>{\n\"responseHeader\":{\n\"status\":0,\n\"QTime\":2,\n\"params\":{\n\"q\":\"content:\\\"ABC\\\"\"}},\n\"response\":{\"numFound\":0,\"start\":0,\"docs\":[]\n}}\n</code></pre>\n\n<p>I want to extract the numFound value to a variable. </p>\n\n<p>I came across some solutions in SolrJ like these </p>\n\n<pre><code>queryResponse.getResults().getNumFound();\n</code></pre>\n\n<p>But I couldn't find in Perl.</p>\n\n<p>I tried with these below codes also. But I couldn't get these to work. Please help.</p>\n\n<pre><code>$numFound = $page-&gt;decoded_content-&gt;{response}-&gt;{numFound};\nprint $page-&gt;{numFound}\n</code></pre>\n"}, {"tags": ["perl", "docker"], "comments": [{"owner": {"reputation": 4083, "user_id": 1885518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5971e6c4c6476a1bed2c41e646287f?s=128&d=identicon&r=PG", "display_name": "Murmel", "link": "https://stackoverflow.com/users/1885518/murmel"}, "edited": false, "score": 0, "creation_date": 1518555153, "post_id": 48772393, "comment_id": 84552539, "body": "Could you link the post dealing with performance issues while using port ragens? And why exactly are you providing the source code for server and client? It is quite hard to get to the point and I think you are not really willing to change your code anyway to work with fixed ports, so even an <code>nc -l -p $((RANDOM%9999))</code> would have proven what you are trying to achieve, but I would omit these details."}, {"owner": {"reputation": 4083, "user_id": 1885518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5971e6c4c6476a1bed2c41e646287f?s=128&d=identicon&r=PG", "display_name": "Murmel", "link": "https://stackoverflow.com/users/1885518/murmel"}, "edited": false, "score": 1, "creation_date": 1518555259, "post_id": 48772393, "comment_id": 84552600, "body": "Redarding your question: You did not mention an argument againt using the network option <code>host</code>, like: <code>--net=host</code> so you would not need to bind/expose ports in the first place, instead ports get bound directly when needed"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 4083, "user_id": 1885518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5971e6c4c6476a1bed2c41e646287f?s=128&d=identicon&r=PG", "display_name": "Murmel", "link": "https://stackoverflow.com/users/1885518/murmel"}, "edited": false, "score": 0, "creation_date": 1518561281, "post_id": 48772393, "comment_id": 84555318, "body": "@Murmel it&#39;s a legacy code that&#39;s being containerized and would want to work as-is in a container w/o changing the application. the code is versioned and if we make infra changes (containerized) we would have to apply the fix/featuer to all prev versions i.e. --net=host"}, {"owner": {"reputation": 4083, "user_id": 1885518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5971e6c4c6476a1bed2c41e646287f?s=128&d=identicon&r=PG", "display_name": "Murmel", "link": "https://stackoverflow.com/users/1885518/murmel"}, "edited": false, "score": 0, "creation_date": 1518565315, "post_id": 48772393, "comment_id": 84556573, "body": "Ok, I&#39;m not quite sure if you got the point of <code>--net=host</code> option being part of the docker API (and was not a suggestion to be added to your application as additional parameter), so I added this point to the list of possible options to my answer. But could be, that I missed your point, why this is not an option for you."}], "answers": [{"comments": [{"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 1, "creation_date": 1518605718, "post_id": 48777456, "comment_id": 84572198, "body": "thank you for this answer. i think what i need to use is macvlan network, instead of overlay network so client.pl doesnt need to be in a container and be able to connect to it"}], "tags": [], "owner": {"reputation": 4083, "user_id": 1885518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5971e6c4c6476a1bed2c41e646287f?s=128&d=identicon&r=PG", "display_name": "Murmel", "link": "https://stackoverflow.com/users/1885518/murmel"}, "is_accepted": true, "score": 3, "last_activity_date": 1519148317, "last_edit_date": 1519148317, "creation_date": 1518565188, "answer_id": 48777456, "question_id": 48772393, "link": "https://stackoverflow.com/questions/48772393/docker-exposing-multiple-ports-which-applications-use-inside-a-container-which/48777456#48777456", "title": "Docker: exposing multiple ports which applications use inside a container which are not pre-determined", "body": "<p><strong>Option 1 - Docker swarm &amp; overlay network</strong></p>\n\n<p>Containers (to be more precise: services) within the <a href=\"https://docs.docker.com/network/overlay/\" rel=\"nofollow noreferrer\">overlay network</a> of a Docker swarm expose all ports per default. The overlay network acts more or less as private network in this case. Hence, your <em>client</em> application would only be able to connect to <em>server</em> container/service, if it is also part of the swarm.<br>\n<s>However, if this is not the case, you could still solve this situation by using the <a href=\"https://docs.docker.com/engine/reference/commandline/service_update/#add-or-remove-published-service-ports\" rel=\"nofollow noreferrer\"><code>service update --publish-add</code></a> API. This command provides the possibility to change port exposure at runtime (which is more or less what you asked for), for further information have a look at the <a href=\"https://docs.docker.com/network/overlay/#publish-ports-on-an-overlay-network\" rel=\"nofollow noreferrer\">Publish ports on an overlay network</a> section:</p>\n\n<blockquote>\n  <p>Swarm services connected to the same overlay network effectively expose all ports to each other. For a port to be accessible outside of the service, that port must be published using the -p or --publish flag on docker service create or docker service update. Both the legacy colon-separated syntax and the newer comma-separated value syntax are supported. The longer syntax is preferred because it is somewhat self-documenting.</p>\n</blockquote>\n\n<p>This will be the best option if you want to use the Docker API to solve your problem and it will also perfectly deal with multi-host scenarios. But for the advanced part (where your client is not part of the swarm and you want to use the <code>service update</code>), you will have to wrap your container into a service.\n</s><br>\nNote: The <code>--publish-add</code> was not really  thought through, as the <code>docker service update</code> works by restarting the container and therefore your application would very likely switch to another port, this could be an option for a slightly different use case.</p>\n\n<p><strong>Option 2 - --net=host</strong></p>\n\n<p>If all your <em>server</em> containers should run on one host anyway, you could easily use the <a href=\"https://docs.docker.com/network/host/\" rel=\"nofollow noreferrer\"><code>--net=host</code></a> feature of Docker and you don't have to explicitly expose any port.</p>\n\n<p>Example:</p>\n\n<pre><code>docker run --net=host ubuntu perl server.pl\n</code></pre>\n\n<p><strong>Option 3 - port proxying</strong></p>\n\n<p>You could also use applications like <code>socat</code> or <code>ssh</code> to manually map the port of the server application to a predefined port for every container. See for example <a href=\"https://stackoverflow.com/a/28160365/1885518\">this answer</a> from <a href=\"https://stackoverflow.com/questions/19897743/exposing-a-port-on-a-live-docker-container\">Exposing a port on a live Docker container</a>.</p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 0, "accepted_answer_id": 48777456, "answer_count": 1, "score": 1, "last_activity_date": 1519148317, "creation_date": 1518542795, "last_edit_date": 1518561427, "question_id": 48772393, "link": "https://stackoverflow.com/questions/48772393/docker-exposing-multiple-ports-which-applications-use-inside-a-container-which", "title": "Docker: exposing multiple ports which applications use inside a container which are not pre-determined", "body": "<p>server.pl</p>\n\n<pre><code>sub sock_initialize {\n    my $sock  = q{};\n    my $port  = q{};\n\n    # Get a port for our server.\n    $sock = IO::Socket::INET-&gt;new(\n        Listen    =&gt; SOMAXCONN,    # listen queue depth\n        LocalPort =&gt; 0,\n        Reuse     =&gt; 1\n    );\n\n    die \"Unable to bind a port: $!\" if !$sock;\n\n    $port      = $sock-&gt;sockport();\n    my $ip = \"\";\n    my $uid = (getpwuid( $&gt; ))[2];\n    my $queue = join(\":\", $ip, $port, $$, $uid);\n\n    print sprintf(\"put started on port $port ($$), SOMAXCONN=%d\\n\", SOMAXCONN);\n    return $sock;\n} ## end sub sock_initialize\n\nmy $listen_sock = sock_initialize();\nwhile (1) {\n    #my $xsock = Accept();\n    my $xsock;\n    while (1) {\n        $! = 0;\n        # Accept can block.  Need to use nonblocking poll (Stevens)\n        $xsock = $listen_sock-&gt;accept;    # ACCEPT\n        last if defined $xsock;\n        next if $! == EINTR;\n        die \"accept error: $!\";\n        if ( defined $xsock ) {\n            $xsock-&gt;blocking(0);    # mark executor socket nonblocking\n            $xsock-&gt;sockopt( SO_KEEPALIVE() =&gt; 1 ) or die \"sockopt: $!\";\n        }\n\n\n    #my $rbufp = $conn-&gt;readbufref;\n    #my $rdstatus = Read( $sock, $rbufp );\n    my $buff = \"\";\n\n    while (1) {\n        $! = 0;\n        # Accept can block.  Need to use nonblocking poll (Stevens)\n        $xsock = $listen_sock-&gt;accept;    # ACCEPT\n        last if defined $xsock;\n        next if $! == EINTR;\n        die \"accept error: $!\";\n        if ( defined $xsock ) {\n            $xsock-&gt;blocking(0);    # mark executor socket nonblocking\n            $xsock-&gt;sockopt( SO_KEEPALIVE() =&gt; 1 ) or die \"sockopt: $!\";\n        }\n    }\n\n    #my $rbufp = $conn-&gt;readbufref;\n    #my $rdstatus = Read( $sock, $rbufp );\n    my $buff = \"\";\n    while (1) {\n        my $nbytes = sysread $xsock, $buff, 32768, length($buff);    # SYSCALL\n\n        if ( !defined $nbytes ) {                            # read error\n            next if $! == EINTR;\n            last if $! == EWOULDBLOCK;                       # normal\n            return;\n        }\n        last if $nbytes == 0;                            # EOF\n    }\n    print \"received $buff\\n\";\n    last;\n}\n</code></pre>\n\n<p>client.pl</p>\n\n<pre><code>my $host = \"localhost\";\nmy $port = 37402; # get port number from server.pl\n\n\nmy $s = IO::Socket::INET-&gt;new (PeerAddr =&gt; $host,\n                                        PeerPort =&gt; $port,\n                                        Type     =&gt; SOCK_STREAM,\n                                        Proto    =&gt; 'tcp',\n                                        Timeout  =&gt; 1);\nif ($s) {\n    $s-&gt;blocking (0) ;\n}\n\nmy   $nbytes = syswrite $s, \"hi from X\";   # SYSCALL\n</code></pre>\n\n<p>First, i would start server.pl</p>\n\n<pre><code>$perl test_socket_server.pl \n$put started on port 37402 (16974), SOMAXCONN=128\n</code></pre>\n\n<p>Then i would put the port number on client.pl</p>\n\n<pre><code>perl test_socket_client.pl\n</code></pre>\n\n<p>then, on server.pl shell, i see</p>\n\n<pre><code>received hi from X\n</code></pre>\n\n<p>So, it's working as intended.\nNow when I put the server.pl inside a container via</p>\n\n<pre><code>docker run ubuntu perl server.pl\nput started on port 38170 (1), SOMAXCONN=128\n</code></pre>\n\n<p>And then, I would write the port number in client.pl and run it, but server.pl does not get the message</p>\n\n<p>My understanding is that container port isnt expose to host's via EXPOSE </p>\n\n<p>Now, even if the problem could be fixed with EXPOSE, server.pl connects on an unassigned port i.e the pornumber can change every time it runs <code>LocalPort =&gt; 0,</code> server.pl is run inside the container. My understanding is you have to expose the port at container runtime but at this time, you dont know which port server.pl will run at. And I would like it to be this way, no designated port, as multiple instances of server.pl could be run in a container (so need to be able to use different ports). Is there a strategy to accommodate this?</p>\n\n<p>can you expose port ranges, perhaps, 30000 and upwards when starting container? [I've read some other stack overflow questions on exposing port ranges but it seems to have some performance issues as a real process is forked per port (?) <a href=\"https://stackoverflow.com/questions/28717464/docker-expose-all-ports-or-range-of-ports-from-7000-to-8000]\">Docker expose all ports or range of ports from 7000 to 8000</a> The ideal solution would be somehow only exposing ports being used by the app which resides in a container at runtime. Maybe that is accomplished by an orchestrator?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 1, "creation_date": 1518539682, "post_id": 48771421, "comment_id": 84543978, "body": "Oh you legend! Works like a charm now :)"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 8, "last_activity_date": 1518539592, "creation_date": 1518539592, "answer_id": 48771421, "question_id": 48771118, "link": "https://stackoverflow.com/questions/48771118/newlines-inside-csv-data-break-textcsv-reading/48771421#48771421", "title": "Newlines inside CSV data break Text::CSV reading", "body": "<p><a href=\"https://metacpan.org/pod/Text::CSV#Embedded-newlines\" rel=\"noreferrer\">https://metacpan.org/pod/Text::CSV#Embedded-newlines</a>:</p>\n\n<blockquote>\n  <p><strong>Important Note:</strong> The default behavior is to accept only ASCII characters in the range from <code>0x20</code> (space) to <code>0x7E</code> (tilde). This means that the fields can not contain newlines. If your data contains newlines embedded in fields, or characters above <code>0x7E</code> (tilde), or binary data, you <strong><em>must</em></strong> set <code>binary =&gt; 1</code> in the call to <code>new</code>. To cover the widest range of parsing options, you will always want to set binary.</p>\n</blockquote>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 48771421, "answer_count": 1, "score": 2, "last_activity_date": 1518539592, "creation_date": 1518538563, "question_id": 48771118, "link": "https://stackoverflow.com/questions/48771118/newlines-inside-csv-data-break-textcsv-reading", "title": "Newlines inside CSV data break Text::CSV reading", "body": "<p>I have some sample data (from a <em>Google Sheets</em> spreadsheet);</p>\n\n<pre><code>Title,Website URL,Description,Contact Number,Address 1,Address 2,City,State ,Province,Country,Facebook,Twitter,Full Category Name\nSample title,http://www.test.com,\"A short description. Press Ctrl+Enter to create a new line\n\nLike this\",44 (0)1430 123 123,Some address line,Line 2,The city,The state,Some province,UK,facebook.com/test,twitter.com/test,Full Category/Path/To/Category or ID\n</code></pre>\n\n<p>I then have this simple script:</p>\n\n<pre><code>use Text::CSV;\nmy $csv = Text::CSV-&gt;new({\n    sep_char =&gt; ','\n   });\n   $csv-&gt;column_names(\"title\",\"url\",\"description\",\"contact_number\",\"address1\",\"address2\",\"city\",\"state\",\"province\",\"country\",\"facebook\",\"twitter\",\"category_name\");\n\nmy $file = './tmp/$USER-&gt;{Username}.csv';\n\nopen (WRITEIT, \"&gt;:encoding(utf8)\", $file) or die \"cant write $file: $!\";\n    print WRITEIT join(\"\\n\", @data). \"\\n\";\nclose (WRITEIT) or die \"cant write $file: $!\";\n\nopen my $io, \"&lt;:encoding(utf8)\", $file or die \"$file: $!\";\n\nuse Data::Dumper;\n\nmy $i = 0;\nwhile (my $row = $csv-&gt;getline_hr($io)) {\n\n    $i++;\n\n    print Dumper($row);\n\n}\n</code></pre>\n\n<p>The problem with this, is that I get the following output:</p>\n\n<pre><code>$VAR1 = 'Sample title,http://www.test.com,\"A short description. Press Ctrl+Enter to create a new line\n';\n$VAR2 = '\n';\n$VAR3 = 'Like this\",44 (0)1430 123 123,Some address line,Line 2,The city,The state,Some province,UK,facebook.com/test,twitter.com/test,Full Category/Path/To/Category or ID';\n</code></pre>\n\n<p>It's taking the \\n in the description as a newline. Is there any way around this? </p>\n"}, {"tags": ["perl", "ternary-operator"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 3, "creation_date": 1518537012, "post_id": 48770407, "comment_id": 84542253, "body": "Several of those attempts will never have worked because <code>undef()</code> makes a variable undefined"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1518537100, "post_id": 48770407, "comment_id": 84542324, "body": "and others won&#39;t work because = is lower precedence than ?:"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 9355368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f408be0771b8451b59900e02670c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jes", "link": "https://stackoverflow.com/users/9355368/jes"}, "edited": false, "score": 0, "creation_date": 1518540479, "post_id": 48770689, "comment_id": 84544523, "body": "Thank you for the further explanation of undef. Your way also worked and is probably better written than my original ternary-operator request :) I wanted to put both answers as solutions but can&#39;t :("}], "tags": [], "owner": {"reputation": 2783, "user_id": 782570, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cbbf87d7ce9ed596faa7e64231114991?s=128&d=identicon&r=PG&f=1", "display_name": "giusti", "link": "https://stackoverflow.com/users/782570/giusti"}, "is_accepted": false, "score": 4, "last_activity_date": 1518538636, "last_edit_date": 1518538636, "creation_date": 1518537250, "answer_id": 48770689, "question_id": 48770407, "link": "https://stackoverflow.com/questions/48770407/perl-ternary-operator-with-undef/48770689#48770689", "title": "Perl Ternary Operator with Undef", "body": "<p>The answer you want is:</p>\n\n<pre><code>$name = $emp-&gt;{Owner} || 'No name provided';\n</code></pre>\n\n<p>If <code>$emp-&gt;{Owner}</code> is not a false value (example: undefined, zero, empty string...) then it will be assigned. Otherwise, Perl will assign whatever is to the right of the operator.</p>\n\n<p>Also, let me add that <code>undef</code> is a function that changes the argument to an undefined value and always returns an undefined value. For example, a very common mistake is to do something like this:</p>\n\n<pre><code>if (undef $var) {\n   # do something\n}\n</code></pre>\n\n<p>This is not testing if <code>$var</code> is undefined. Rather, it is making <code>$var</code> undefined and then testing the expression---which will be false-ish, so this <code>if</code> block will never be executed.</p>\n\n<p>That's why <code>defined</code> is recommended instead:</p>\n\n<pre><code>if (!defined $var) {\n  # do something\n}\n</code></pre>\n\n<p>This will test <code>$var</code> without changing it.</p>\n\n<p>However, as others have noted, your variable was not really undefined to begin with.</p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 9355368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f408be0771b8451b59900e02670c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jes", "link": "https://stackoverflow.com/users/9355368/jes"}, "edited": false, "score": 0, "creation_date": 1518539777, "post_id": 48770728, "comment_id": 84544042, "body": "Thank you for clarifying that empty is not undefined."}, {"owner": {"reputation": 179, "user_id": 1932773, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MfgpO.jpg?s=128&g=1", "display_name": "Nico Rittner", "link": "https://stackoverflow.com/users/1932773/nico-rittner"}, "edited": false, "score": 2, "creation_date": 1518551663, "post_id": 48770728, "comment_id": 84550733, "body": "if <code>$a</code> contains <code>0</code> the right-side expression in your 3rd example evaluates to <code>&#39;Undef&#39;</code> too. <code>$a</code> should by replaced by <code>length($a)</code>, which is true if <code>$a</code> is defined <b>and</b> contains at least one character."}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "reply_to_user": {"reputation": 179, "user_id": 1932773, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MfgpO.jpg?s=128&g=1", "display_name": "Nico Rittner", "link": "https://stackoverflow.com/users/1932773/nico-rittner"}, "edited": false, "score": 1, "creation_date": 1518552354, "post_id": 48770728, "comment_id": 84551092, "body": "@nico-rittner indeed, but if <code>$a</code> contains whitespace characters, it is also defined,  non-zero length and true. in this case we should get rid of whitespaces first like <code>$a =~ s&#47;[\\r\\n\\t\\s]&#47;&#47;g</code>. my point was to explain the difference between uninitialized and undefined"}], "tags": [], "owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "is_accepted": true, "score": 6, "last_activity_date": 1518561910, "last_edit_date": 1518561910, "creation_date": 1518537376, "answer_id": 48770728, "question_id": 48770407, "link": "https://stackoverflow.com/questions/48770407/perl-ternary-operator-with-undef/48770728#48770728", "title": "Perl Ternary Operator with Undef", "body": "<pre><code>Owner=&gt;''\n</code></pre>\n\n<p>Empty is not undefined, so</p>\n\n<pre><code>$name = defined($a) ? $emp-&gt;{Owner} : 'Undef';\n</code></pre>\n\n<p>will always return <code>$emp-&gt;{Owner}</code> content, even if it's empty. However</p>\n\n<pre><code>$name = $a ? $emp-&gt;{Owner} : 'Undef';\n</code></pre>\n\n<p>Will substitute 'Undef' if <code>$a</code> is empty and <code>$emp-&gt;{Owner}</code> if not, because <code>$a</code> is defined, but empty, i.e. 'False'</p>\n\n<p><strong>upd:</strong> there is sort of an uglier form of a ternary operator. it should be used only for fun,  because it makes code quite a bit less readable:</p>\n\n<pre><code>$name =  $a &amp;&amp; $emp-&gt;{Owner} || 'Undef';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 88, "user_id": 3772148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f4f90cff7afbae46d36e777cd813756?s=128&d=identicon&r=PG&f=1", "display_name": "lthemick", "link": "https://stackoverflow.com/users/3772148/lthemick"}, "is_accepted": false, "score": 1, "last_activity_date": 1518545795, "creation_date": 1518545795, "answer_id": 48773123, "question_id": 48770407, "link": "https://stackoverflow.com/questions/48770407/perl-ternary-operator-with-undef/48773123#48773123", "title": "Perl Ternary Operator with Undef", "body": "<p>You need to test for <code>defined</code>, not <code>undef</code>.</p>\n\n<p>assuming <code>$a</code> is <code>undef</code>, your last example should work:</p>\n\n<pre><code>$name = defined($a) ? $emp-&gt;{Owner} : 'Undef';\n</code></pre>\n\n<p>However, maybe you need to test for an empty string as well.  <code>undef</code> is not the same as an empty string; if you want the same action for both, you'll need to test each condition explicitly.</p>\n"}], "owner": {"reputation": 75, "user_id": 9355368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f408be0771b8451b59900e02670c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Jes", "link": "https://stackoverflow.com/users/9355368/jes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "accepted_answer_id": 48770728, "answer_count": 3, "score": 3, "last_activity_date": 1518561910, "creation_date": 1518536329, "question_id": 48770407, "link": "https://stackoverflow.com/questions/48770407/perl-ternary-operator-with-undef", "title": "Perl Ternary Operator with Undef", "body": "<p>I am having issues with getting a ternary operator to work using undef. \nMy original code that works:</p>\n\n<pre><code>my $qr = [\n    {IP=&gt;'x.x.x.51',Testnet=&gt;'bos-portal-legacy',Owner=&gt;'Amund', Email =&gt; 'bosemail'},\n    {IP=&gt;'x.x.x.52',Testnet=&gt;'bos-portal-2',Owner=&gt;'Amund', Email =&gt; 'boemail2'},\n    {IP=&gt;'x.x.x.53',Testnet=&gt;'bos-portal-legacy',Owner=&gt;'Amund', Email =&gt; 'bosemail'},\n    {IP=&gt;'x.x.x.54',Testnet=&gt;'sqa',Owner=&gt;'Richard', Email =&gt; 'sqaemail'},\n    {IP=&gt;'x.x.x.55',Testnet=&gt;'sqa',Owner=&gt;'Richard', Email =&gt; 'sqaemail'},\n    {IP=&gt;'x.x.x.56',Testnet=&gt;'fll-pro',Owner=&gt;'Larry', Email =&gt; 'fllemail'},\n    {IP=&gt;'x.x.x.57',Testnet=&gt;'fll-pro', Owner=&gt;'', Email =&gt; 'fllemail'},\n    {IP=&gt;'x.x.x.58',Testnet=&gt;'fll-pro2', Owner=&gt;'', Email =&gt; 'flemail2'},\n];\nmy $len = scalar @$qr;\nprint \"Starting of array: $len\\n\";\nmy $l = $len;\nmy $a = @$qr[0]-&gt;{Owner};\nfunc ($a);\nmy @ip;\nmy %test;\nmy $name;\nmy $manager;\nmy $ip_ref;\nmy $test_ref;\nsub func{\nforeach my $emp (@$qr) {\n        if ($l &gt; 1 &amp;&amp; $emp-&gt;{Owner} eq $a) {\n            $name = $emp-&gt;{Owner};   #to use with email as $a will change as cycle thru\n            $manager = $emp-&gt;{Manager};\n            push (@ip, $emp-&gt;{IP});                  #capture all IPs related to owner $name\n            $test{$emp-&gt;{Testnet}} = $emp-&gt;{Email};              #capture unique testnets only related to owner $name\n            $l--;                                    #to cycle thru array until reach last row\n            print \"Finished line: $l\\n\";\n        }\n</code></pre>\n\n<p>I have some elseif as well, but didn't want to bog this all down. Everything works, and if Owner is undefined in my hash, then when it goes to print it is a blank spot as expected. So it prints like this:</p>\n\n<pre><code>Starting of array: 8\nFinished line: 7\nFinished line: 6\nFinished line: 5\nAmund\nx.x.x.51, x.x.x.52, x.x.x.53\nbos-portal-2 \nbos-portal-legacy \nFinished with Amund\nMoving on to Richard: 4\nFinished line: 3\nRichard\nx.x.x.54, x.x.x.55\nsqa \nFinished with Richard\nMoving on to Larry: 2\nLarry\nx.x.x.56\nfll-pro \nFinished with Larry\nMoving on to : 1\n                     #Blank Spot want to have $name printed as 'Undef' instead\nx.x.x.57, x.x.x.58\nfll-pro \nfll-pro2 \n</code></pre>\n\n<p>I want to now make it so that $name is $emp->{Owner} unless Owner is undefined then instead of a blank spot it would say 'Undef.' So I wanted to change all the parts of my code that say $name = $emp->{Owner} to a ternary operation.</p>\n\n<p>I have tried many different uses of the () with undef as that is what the error stated. A couple of similar posts talked about the defined-or usage, which I tried, and other posts stated to use defined, but if I do, then all names become 'Undef' and not just the blank ones. Some of these do nothing and I still get blanks. Others give errors where $a is now uninitialized. </p>\n\n<pre><code>$a = undef ? $name = 'Undefined' : $name = $emp-&gt;{Owner};\n($a = undef) ? $name = 'Undefined' : $name = $emp-&gt;{Owner};\n$a = undef($a) ? $name = 'Undefined' : $name = $emp-&gt;{Owner};\n$name = undef($a) ? 'Undefined' : $emp-&gt;{Owner};\n$name = $emp-&gt;{Owner} // 'Undefined';\ndefined($a) ? $name = $emp-&gt;{Owner} : $name = 'Undef';\n$name = defined($a) ? $emp-&gt;{Owner} : 'Undef';\n</code></pre>\n\n<p>Any help would be greatly appreciated. Thank you.</p>\n"}, {"tags": ["regex", "perl", "hyphen"], "comments": [{"owner": {"reputation": 3034, "user_id": 6101071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b1da77c00202a8477bee1a68950824f?s=128&d=identicon&r=PG&f=1", "display_name": "Srdjan M.", "link": "https://stackoverflow.com/users/6101071/srdjan-m"}, "edited": false, "score": 2, "creation_date": 1518530766, "post_id": 48768612, "comment_id": 84537894, "body": "Try <a href=\"https://regex101.com/r/WoP9T9/2\" rel=\"nofollow noreferrer\">regex101.com/r/WoP9T9/2</a>"}, {"owner": {"reputation": 5278, "user_id": 7393478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gNAVs.jpg?s=128&g=1", "display_name": "Kaddath", "link": "https://stackoverflow.com/users/7393478/kaddath"}, "reply_to_user": {"reputation": 3034, "user_id": 6101071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b1da77c00202a8477bee1a68950824f?s=128&d=identicon&r=PG&f=1", "display_name": "Srdjan M.", "link": "https://stackoverflow.com/users/6101071/srdjan-m"}, "edited": false, "score": 0, "creation_date": 1518530949, "post_id": 48768612, "comment_id": 84538025, "body": "@S.Kablar please try not to answer in comments, and more, with an external link. A proper answer, why not with some explanation, would be so much better.."}, {"owner": {"reputation": 6044, "user_id": 3906965, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c1d2cce52fc69b94c86cb07293091922?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/3906965/abhishek"}, "reply_to_user": {"reputation": 3034, "user_id": 6101071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b1da77c00202a8477bee1a68950824f?s=128&d=identicon&r=PG&f=1", "display_name": "Srdjan M.", "link": "https://stackoverflow.com/users/6101071/srdjan-m"}, "edited": false, "score": 1, "creation_date": 1518531169, "post_id": 48768612, "comment_id": 84538170, "body": "Perfect! It works. @S.Kablar If you can add answer and some explanation, I can mark it as answer."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1518531884, "post_id": 48768612, "comment_id": 84538689, "body": "Is <code>abc</code> dynamic or static? If it is static, just use <code>&#47;^abc\\h*-\\h*(\\S+)&#47;</code>"}, {"owner": {"reputation": 6044, "user_id": 3906965, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c1d2cce52fc69b94c86cb07293091922?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/3906965/abhishek"}, "reply_to_user": {"reputation": 3034, "user_id": 6101071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b1da77c00202a8477bee1a68950824f?s=128&d=identicon&r=PG&f=1", "display_name": "Srdjan M.", "link": "https://stackoverflow.com/users/6101071/srdjan-m"}, "edited": false, "score": 0, "creation_date": 1518532052, "post_id": 48768612, "comment_id": 84538824, "body": "It is static, but based on the regex given by @S.Kablar, I was able to modify it to work for <code>abc</code>.  But there is only one issue, the regex can&#39;t handle <code>abc - - xyz</code>. Adding it in question."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1518532496, "post_id": 48768612, "comment_id": 84539144, "body": "What do you expect to get for the <code>abc - - xyz</code> string? Do you expect an empty string? Try <a href=\"https://regex101.com/r/JrVe5x/2\" rel=\"nofollow noreferrer\"><code>^abc\\h*-\\h*([^-\\s]*)</code></a>"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 1, "creation_date": 1518532846, "post_id": 48768612, "comment_id": 84539406, "body": "What about <a href=\"https://regex101.com/r/WoP9T9/3\" rel=\"nofollow noreferrer\"><code>^[^-]+-\\s\\K[^-\\s]*</code></a>?"}, {"owner": {"reputation": 6044, "user_id": 3906965, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c1d2cce52fc69b94c86cb07293091922?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/3906965/abhishek"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1518534330, "post_id": 48768612, "comment_id": 84540495, "body": "@WiktorStribi\u017cew the text between hyphen can have spaces. it needn&#39;t be single word."}], "answers": [{"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 6044, "user_id": 3906965, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c1d2cce52fc69b94c86cb07293091922?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/3906965/abhishek"}, "edited": false, "score": 0, "creation_date": 1518534440, "post_id": 48769327, "comment_id": 84540580, "body": "@Abhishek And what about <a href=\"https://regex101.com/r/JrVe5x/3\" rel=\"nofollow noreferrer\"><code>^abc\\h*-\\h*([^-\\n]*[^-\\s])</code></a>?"}, {"owner": {"reputation": 6044, "user_id": 3906965, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c1d2cce52fc69b94c86cb07293091922?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/3906965/abhishek"}, "edited": false, "score": 0, "creation_date": 1518534533, "post_id": 48769327, "comment_id": 84540660, "body": "It works, but it takes <code>\\n</code> into account as well. I just need to take care of spaces, but not new line."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 6044, "user_id": 3906965, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c1d2cce52fc69b94c86cb07293091922?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/3906965/abhishek"}, "edited": false, "score": 0, "creation_date": 1518534796, "post_id": 48769327, "comment_id": 84540839, "body": "@Abhishek It should not now. And it can still return an empty value in Group 1."}, {"owner": {"reputation": 6044, "user_id": 3906965, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c1d2cce52fc69b94c86cb07293091922?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/3906965/abhishek"}, "edited": false, "score": 0, "creation_date": 1518534846, "post_id": 48769327, "comment_id": 84540869, "body": "Yes.. Thank you!"}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1518534662, "last_edit_date": 1518534662, "creation_date": 1518532863, "answer_id": 48769327, "question_id": 48768612, "link": "https://stackoverflow.com/questions/48768612/capture-word-between-optional-hyphens-regex/48769327#48769327", "title": "Capture word between optional hyphens regex", "body": "<p>Note that <code>(.*)</code> part is a greedily quantified dot and it grabs any 0+ chars other than line break chars, as many as possible, up to the end of the line and the <code>[^ -]?</code>, being able to match an empty string due to the <code>?</code> quantifier (<em>1 or 0 repetitions</em>), matches the empty string at the end of the line. Thus, <code>pqr - xyz</code> output for <code>abc - pqr - xyz</code> is only logical for the regex engine.</p>\n\n<p>You need to use a more restrictive pattern here. E.g.</p>\n\n<pre><code>/^abc\\h*-\\h*((?:[^\\s-]+(?:\\h+[^\\s-]+)*)?)/\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/JrVe5x/5\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n\n<p><strong>Details</strong></p>\n\n<ul>\n<li><code>^</code> - start of a string</li>\n<li><code>abc</code> - an <code>abc</code></li>\n<li><code>\\h*-\\h*</code> - a hyphen enclosed with 0+ horizontal whitespaces</li>\n<li><code>((?:[^\\s-]+(?:\\h+[^\\s-]+)*)?)</code> - Group 1 capturing an optional occurrence of\n\n<ul>\n<li><code>[^\\s-]+</code> - 1 or more chars other than whitespace and <code>-</code></li>\n<li><code>(?:\\h+[^\\s-]+)*</code> - zero or more repetitions of\n\n<ul>\n<li><code>\\h+</code> - 1+ horizontal whitespaces</li>\n<li><code>[^\\s-]+</code> - 1 or more chars other than whitespace and <code>-</code></li>\n</ul></li>\n</ul></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 821, "user_id": 8767753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b33c292d3b4b70d1d64bc4b89a670e?s=128&d=identicon&r=PG&f=1", "display_name": "PJProudhon", "link": "https://stackoverflow.com/users/8767753/pjproudhon"}, "reply_to_user": {"reputation": 6044, "user_id": 3906965, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c1d2cce52fc69b94c86cb07293091922?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/3906965/abhishek"}, "edited": false, "score": 0, "creation_date": 1518534546, "post_id": 48769333, "comment_id": 84540668, "body": "Edited my answer accordingly."}, {"owner": {"reputation": 6044, "user_id": 3906965, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c1d2cce52fc69b94c86cb07293091922?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/3906965/abhishek"}, "edited": false, "score": 0, "creation_date": 1518534589, "post_id": 48769333, "comment_id": 84540702, "body": "Thanks.. But updated one, takes \\n into account as well. I just need to take care of spaces, but not new line."}, {"owner": {"reputation": 821, "user_id": 8767753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b33c292d3b4b70d1d64bc4b89a670e?s=128&d=identicon&r=PG&f=1", "display_name": "PJProudhon", "link": "https://stackoverflow.com/users/8767753/pjproudhon"}, "reply_to_user": {"reputation": 6044, "user_id": 3906965, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c1d2cce52fc69b94c86cb07293091922?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/3906965/abhishek"}, "edited": false, "score": 0, "creation_date": 1518534754, "post_id": 48769333, "comment_id": 84540800, "body": "Did you try with horizontal spacing, as suggested by @wiktor?"}], "tags": [], "owner": {"reputation": 821, "user_id": 8767753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b33c292d3b4b70d1d64bc4b89a670e?s=128&d=identicon&r=PG&f=1", "display_name": "PJProudhon", "link": "https://stackoverflow.com/users/8767753/pjproudhon"}, "is_accepted": false, "score": 1, "last_activity_date": 1518534477, "last_edit_date": 1518534477, "creation_date": 1518532874, "answer_id": 48769333, "question_id": 48768612, "link": "https://stackoverflow.com/questions/48768612/capture-word-between-optional-hyphens-regex/48769333#48769333", "title": "Capture word between optional hyphens regex", "body": "<p>You could use <code>^[^-]*-\\s*\\K[^\\s-]*</code>.</p>\n\n<p>Here's how it works:</p>\n\n<pre><code>^       # Matches at the beginning of the line (in multiline mode)\n[^-]*   # Matches every non - characters\n-       # Followed by -\n\\s*     # Matches every spacing characters\n\\K      # Reset match at current position\n[^\\s-]* # Matches every non-spacing or - characters\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/TS9H9O/1\" rel=\"nofollow noreferrer\">Demo</a>.</p>\n\n<hr>\n\n<p>Update for multiple enclosed words: <code>^[^-]*-\\s*\\K[^\\s-]*(?:\\s*[^\\s-]+)*</code></p>\n\n<p>Last part <code>(?:\\s*[^\\s-]+)*</code> checks for existence of any other word preceded by space(s).</p>\n\n<p><a href=\"https://regex101.com/r/TS9H9O/2\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 0, "last_activity_date": 1518576620, "last_edit_date": 1518576620, "creation_date": 1518573814, "answer_id": 48778578, "question_id": 48768612, "link": "https://stackoverflow.com/questions/48768612/capture-word-between-optional-hyphens-regex/48778578#48778578", "title": "Capture word between optional hyphens regex", "body": "<blockquote>\n  <p>Can it be done via regex?</p>\n</blockquote>\n\n<p>Yes, with three simple regexes: <code>-</code> and <code>^\\s+</code> and <code>\\s+$</code>.</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse autodie;\nuse Data::Dumper;\n\nopen my $INFILE, '&lt;', 'data.txt';\n\nmy @results = map {\n    (undef, my $target) = split /-/, $_, 3;\n    $target =~ s/^\\s+//;  #remove leading spaces\n    $target =~ s/\\s+$//;  #remove trailing spaces\n    $target;\n} &lt;$INFILE&gt;;\n\nclose $INFILE;\n\nsay Dumper \\@results;\n\n--output:--\n$VAR1 = [\n          'xyz',\n          'pqr',\n          '',\n          'pqr uvw'\n        ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9360550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ebe185d2c4bdc467fb41aa3bca614e?s=128&d=identicon&r=PG&f=1", "display_name": "Willa", "link": "https://stackoverflow.com/users/9360550/willa"}, "is_accepted": false, "score": 1, "last_activity_date": 1518627747, "creation_date": 1518627747, "answer_id": 48792554, "question_id": 48768612, "link": "https://stackoverflow.com/questions/48768612/capture-word-between-optional-hyphens-regex/48792554#48792554", "title": "Capture word between optional hyphens regex", "body": "<p>You could use split:</p>\n\n<pre><code>$answer = (split / \\- /, $t)[1];\n</code></pre>\n\n<p>Where $t is the text string and you want the 2nd split (i.e. [1] as starts from 0). Works for everything except abc - - xyz but if the separator is \" - \" then it should have 2 spaces in the middle to return nothing. If abc - - xyz is correct then you can do this before the split for all to work:</p>\n\n<pre><code>$t =~ s/\\- \\-/-  -/;\n</code></pre>\n\n<p>It simply inserts an extra space so it'll match \" - \" twice with nothing in-between.</p>\n"}], "owner": {"reputation": 6044, "user_id": 3906965, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c1d2cce52fc69b94c86cb07293091922?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/3906965/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 48769327, "answer_count": 4, "score": 4, "last_activity_date": 1518627747, "creation_date": 1518530501, "last_edit_date": 1518534893, "question_id": 48768612, "link": "https://stackoverflow.com/questions/48768612/capture-word-between-optional-hyphens-regex", "title": "Capture word between optional hyphens regex", "body": "<p>I've following type of strings,</p>\n\n<pre><code>abc - xyz\nabc - pqr - xyz\nabc - - xyz\nabc - pqr uvw - xyz\n</code></pre>\n\n<p>I want to retrieve the text <code>xyz</code> from 1st string and <code>pqr</code> from 2nd string, `` (empty) from 3rd &amp; <code>pqr uvw</code>. The 2nd hyphen is optional. <code>abc</code> is static string, it has to be there. I've tried following regex, </p>\n\n<pre><code>/^(?:abc) - (.*)[^ -]?/\n</code></pre>\n\n<p>But it gives me following output,</p>\n\n<pre><code>xyz\npqr - xyz\n- xyz\npqr uvw - xyz\n</code></pre>\n\n<p>I don't need the last part in the second string. I'm using perl for scripting. Can it be done via regex?</p>\n"}, {"tags": ["regex", "perl", "regex-negation", "regex-lookarounds"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1518522991, "post_id": 48765888, "comment_id": 84532678, "body": "I think we need some more examples of positive/negative matches. But I think the answer will be &#39;use two regexes&#39;. Alternatively - given your source data is <code>CSV</code> - use a CSV parser instead."}, {"owner": {"reputation": 67, "user_id": 8723539, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YxYicJQFV-0/AAAAAAAAAAI/AAAAAAAAAHo/KR3TzIopAsk/photo.jpg?sz=128", "display_name": "Dan Dimacuha", "link": "https://stackoverflow.com/users/8723539/dan-dimacuha"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1518523470, "post_id": 48765888, "comment_id": 84532960, "body": "Yes, it will be much more easier in CSV parser. But we have more different data to be processed. And also, we need to replace some of the characters, that&#39;s why I prefer to use regex rather than the CSV parser. Thanks for the advise anyway. I&#39;ll add more examples in the regexr link."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518523606, "post_id": 48765888, "comment_id": 84533048, "body": "@DanD: <i>&quot;but it doesn&#39;t work&quot;</i> That&#39;s not the best description of misbehaving software I&#39;ve read."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1518523981, "post_id": 48765888, "comment_id": 84533282, "body": "@DanD: If you&#39;re dealing with well-formed CSV data then you should say so. <i>&quot;multiple double quotes&quot;</i> isn&#39;t how CSV data is constructed. If you want help then you shouldn&#39;t restrict the available tools unnecessarily. I think <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\"><code>Text::CSV</code></a> is still the best way to go, but you need to expand substantially on <i>&quot;we need to replace some of the characters&quot;</i>. I can&#39;t imagine any way that removing CSV markup would prevent you from doing this, whatever you may mean by it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518543414, "post_id": 48765888, "comment_id": 84546466, "body": "@DanD: I don&#39;t think you&#39;re telling us the truth here. If your company&#39;s  restricting you to just <i>two</i> pragmas and no core modules at all then, first of all they have no good reason, and secondly they are depriving their programmers of useful tools. If I were to believe you then they&#39;re doing it solely because they like to punish those coders who have no idea how to install a module."}], "answers": [{"comments": [{"owner": {"reputation": 474, "user_id": 7881015, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7fstm8cSRSI/AAAAAAAAAAI/AAAAAAAAAd4/i75UzXckPQE/photo.jpg?sz=128", "display_name": "Ho Zong", "link": "https://stackoverflow.com/users/7881015/ho-zong"}, "edited": false, "score": 0, "creation_date": 1518534126, "post_id": 48766487, "comment_id": 84540328, "body": "Well this does not handle embedded quotes either, like \\&quot;. But if it is not expected do not overcomplicate it. Also as other said many times it can be easier to go whit more regexps and probably replaces also."}, {"owner": {"reputation": 474, "user_id": 7881015, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7fstm8cSRSI/AAAAAAAAAAI/AAAAAAAAAd4/i75UzXckPQE/photo.jpg?sz=128", "display_name": "Ho Zong", "link": "https://stackoverflow.com/users/7881015/ho-zong"}, "edited": false, "score": 0, "creation_date": 1518534533, "post_id": 48766487, "comment_id": 84540659, "body": "Many times there is just not enough time to think and experiment hours on these small details, to solve in one step, or find the nicest solution, so better to have it fast but still robust. If you have the time and perfectionism, you can go back later, so can be useful to put a TODO comment in these cases."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518543620, "post_id": 48766487, "comment_id": 84546581, "body": "You don&#39;t understand how double-quotes work within regex patterns. <code>&#47;&quot;&#47;</code> is <i>identical</i> to <code>&#47;\\&quot;&#47;</code>. You must describe how your regex is supposed to work within Perl. <i>&quot;What about using this&quot;</i> doesn&#39;t help at all: <b><i>how</i></b> is it supposed to work without any binding operator?"}], "tags": [], "owner": {"reputation": 474, "user_id": 7881015, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7fstm8cSRSI/AAAAAAAAAAI/AAAAAAAAAd4/i75UzXckPQE/photo.jpg?sz=128", "display_name": "Ho Zong", "link": "https://stackoverflow.com/users/7881015/ho-zong"}, "is_accepted": true, "score": 1, "last_activity_date": 1518558586, "last_edit_date": 1518558586, "creation_date": 1518523630, "answer_id": 48766487, "question_id": 48765888, "link": "https://stackoverflow.com/questions/48765888/perl-regex-match-this-group-but-not-having-this-pattern/48766487#48766487", "title": "Perl Regex: Match this group, but not having this pattern", "body": "<p>What about using this:</p>\n\n<pre><code>\"([^\"]+?)\"(,|$)\n</code></pre>\n\n<p>You can see it <a href=\"https://regexr.com/3kn8b\" rel=\"nofollow noreferrer\">here</a>\nand also <a href=\"https://regex101.com/r/pXYo4v/2/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p>Thanks for this one. Strange, I think I've tried this one before. But didn't get the result I've expected. Maybe it's because I didn't wait for it to be matched again.</p>\n</blockquote>\n"}], "owner": {"reputation": 67, "user_id": 8723539, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YxYicJQFV-0/AAAAAAAAAAI/AAAAAAAAAHo/KR3TzIopAsk/photo.jpg?sz=128", "display_name": "Dan Dimacuha", "link": "https://stackoverflow.com/users/8723539/dan-dimacuha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 48766487, "answer_count": 1, "score": 2, "last_activity_date": 1518558586, "creation_date": 1518521736, "last_edit_date": 1518523972, "question_id": 48765888, "link": "https://stackoverflow.com/questions/48765888/perl-regex-match-this-group-but-not-having-this-pattern", "title": "Perl Regex: Match this group, but not having this pattern", "body": "<p>I need to extract some text that starts and ends with a double quote <code>\"</code> but will not extract if it detects multiple double quotes.  </p>\n\n<p><a href=\"https://regexr.com/3kn4v\" rel=\"nofollow noreferrer\">This is my example</a></p>\n\n<p>I tried using different look-arounds, positive/negative look-aheads and look-behinds, but it leads to an error.  </p>\n\n<p>In my example above, I would like to exclude the data  </p>\n\n<pre><code>\"XxXXXXX - \"\"                                \"\"\"\"XX\"\"\"\"\"\"\",  \n</code></pre>\n\n<p>and  </p>\n\n<pre><code>\"XxXXXXX - \"\"XXXXX XXXXXXXX 1.4.90          \"\"\"\"X2\"\"\"\"\"\"\",  \n</code></pre>\n\n<p>from being matched. </p>\n\n<p>I saw some other answers here but I'm getting an error whenever I use a negative look-behind, no problems in positive look-ahead and negative look-ahead but it doesn't work.</p>\n\n<blockquote>\n  <p>Edit:<br>\n  I've added some examples regex in the link provided, and also more example data. \n  However, I still don't want to match data above by the current regex.</p>\n</blockquote>\n"}, {"tags": ["bash", "shell", "perl", "csv", "awk"], "comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1518521201, "post_id": 48765566, "comment_id": 84531658, "body": "Welcome to Stack Overflow. So number of records means all lines which are not null and having values right? And I believe we need not to count empty line? Could you please confirm on same?"}, {"owner": {"reputation": 859, "user_id": 8513103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d298d3271438be46aaff29495445a827?s=128&d=identicon&r=PG&f=1", "display_name": "sKwa", "link": "https://stackoverflow.com/users/8513103/skwa"}, "edited": false, "score": 0, "creation_date": 1518521287, "post_id": 48765566, "comment_id": 84531714, "body": "python acceptable?"}, {"owner": {"reputation": 19, "user_id": 9354442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9d5ec99102ca434f9f8ba58a87da3b?s=128&d=identicon&r=PG&f=1", "display_name": "diksha ojha", "link": "https://stackoverflow.com/users/9354442/diksha-ojha"}, "edited": false, "score": 0, "creation_date": 1518521911, "post_id": 48765566, "comment_id": 84532065, "body": "There&#39;ll be no empty lines. So we need not count that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1518522233, "post_id": 48765566, "comment_id": 84532223, "body": "<i>&quot;Solution required for printing the output to console and to another csv file as well&quot;</i> You seem to be under the impression that you&#39;re my manager. Please treat this site as you would if you were being offered high-quality programming effort free of charge."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1518528109, "post_id": 48765566, "comment_id": 84535965, "body": "Could you show what output you expect from that sample input?  It&#39;s not clear to me from your explanation.  Also, does your Perl command work correctly for this small sample?  (I.e. you have a simple scaling issue - it does look like it with <code>perl -0777</code>, which will attempt to read the entire file as a single line before operating on it)."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 1, "creation_date": 1518528153, "post_id": 48765566, "comment_id": 84535986, "body": "Also, what characters do you consider to be &quot;special&quot;?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1518530746, "post_id": 48765566, "comment_id": 84537877, "body": "See <a href=\"https://stackoverflow.com/questions/45420535/whats-the-most-robust-way-to-efficiently-parse-csv-using-awk\" title=\"whats the most robust way to efficiently parse csv using awk\">stackoverflow.com/questions/45420535/&hellip;</a> for how to do it with awk."}, {"owner": {"reputation": 19, "user_id": 9354442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9d5ec99102ca434f9f8ba58a87da3b?s=128&d=identicon&r=PG&f=1", "display_name": "diksha ojha", "link": "https://stackoverflow.com/users/9354442/diksha-ojha"}, "reply_to_user": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1518591529, "post_id": 48765566, "comment_id": 84564025, "body": "@TobySpeight Yes 0777 slurp files whole. But this solution is not working for big files. Special characters as in - ($,@,#,*,-,_,%)"}, {"owner": {"reputation": 19, "user_id": 9354442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9d5ec99102ca434f9f8ba58a87da3b?s=128&d=identicon&r=PG&f=1", "display_name": "diksha ojha", "link": "https://stackoverflow.com/users/9354442/diksha-ojha"}, "reply_to_user": {"reputation": 859, "user_id": 8513103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d298d3271438be46aaff29495445a827?s=128&d=identicon&r=PG&f=1", "display_name": "sKwa", "link": "https://stackoverflow.com/users/8513103/skwa"}, "edited": false, "score": 0, "creation_date": 1518591572, "post_id": 48765566, "comment_id": 84564040, "body": "@sKwa I have python 2.6.6"}, {"owner": {"reputation": 859, "user_id": 8513103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d298d3271438be46aaff29495445a827?s=128&d=identicon&r=PG&f=1", "display_name": "sKwa", "link": "https://stackoverflow.com/users/8513103/skwa"}, "edited": false, "score": 0, "creation_date": 1518593891, "post_id": 48765566, "comment_id": 84565106, "body": "@dikshaojha: question is <b>on hold</b>, I can&#39;t answer, but check <a href=\"https://pastebin.com/3GUydhei\" rel=\"nofollow noreferrer\">this</a>"}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1518603515, "post_id": 48765566, "comment_id": 84570688, "body": "Reading entire files into the process tends to cause performance problems if you don&#39;t have enough memory for it.  Process the file a row at a time, e.g. using a CSV library as recommended in Borodin&#39;s answer."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 9354442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9d5ec99102ca434f9f8ba58a87da3b?s=128&d=identicon&r=PG&f=1", "display_name": "diksha ojha", "link": "https://stackoverflow.com/users/9354442/diksha-ojha"}, "edited": false, "score": 0, "creation_date": 1518593436, "post_id": 48765935, "comment_id": 84564886, "body": "Thank you for replying. I don&#39;t think I&#39;ll be having permissions to download these modules onto server. Please help me with some alternate solution if possible. Thanks"}, {"owner": {"reputation": 859, "user_id": 8513103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d298d3271438be46aaff29495445a827?s=128&d=identicon&r=PG&f=1", "display_name": "sKwa", "link": "https://stackoverflow.com/users/8513103/skwa"}, "edited": false, "score": 0, "creation_date": 1518594243, "post_id": 48765935, "comment_id": 84565275, "body": "@Borodin: one remark, total rows <code>$num_records -1</code>, because of header."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 9354442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9d5ec99102ca434f9f8ba58a87da3b?s=128&d=identicon&r=PG&f=1", "display_name": "diksha ojha", "link": "https://stackoverflow.com/users/9354442/diksha-ojha"}, "edited": false, "score": 0, "creation_date": 1518611327, "post_id": 48765935, "comment_id": 84575939, "body": "@diksha: It&#39;s very defeatist to presume failure before you&#39;ve even tried. Are you even sure that <code>Text::CSV</code> isn&#39;t already installed? Your question is on hold, so you&#39;re unlikely to get a different answer now."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 859, "user_id": 8513103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d298d3271438be46aaff29495445a827?s=128&d=identicon&r=PG&f=1", "display_name": "sKwa", "link": "https://stackoverflow.com/users/8513103/skwa"}, "edited": false, "score": 0, "creation_date": 1518611555, "post_id": 48765935, "comment_id": 84576110, "body": "@sKwa: The OP doesn&#39;t say exactly what they want counted. I&#39;m sure they also want something more than <code>print pp($row)</code> but we don&#39;t know what. People mostly know how to subtract one from a variable if they need to."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 9354442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9d5ec99102ca434f9f8ba58a87da3b?s=128&d=identicon&r=PG&f=1", "display_name": "diksha ojha", "link": "https://stackoverflow.com/users/9354442/diksha-ojha"}, "edited": false, "score": 0, "creation_date": 1518611841, "post_id": 48765935, "comment_id": 84576308, "body": "@diksha: Remember that any Pure Perl solution will be much slower than an <code>XS</code> module. Surely your company would prefer a module from an identifiable author on CPAN than some random, slow code from an unidentifiable contributor on SO?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1518523242, "last_edit_date": 1518523242, "creation_date": 1518521857, "answer_id": 48765935, "question_id": 48765566, "link": "https://stackoverflow.com/questions/48765566/count-number-of-records-and-remove-new-line-character-in-between-a-record-in-csv/48765935#48765935", "title": "Count number of records and remove new line character in between a record in csv file(size almost 132 GB) using shell/awk/perl", "body": "\n\n<p>You just need to use the\n<a href=\"https://metacpan.org/pod/Text::CSV_XS\" rel=\"nofollow noreferrer\"><code>Text::CSV_XS</code></a> module\nwith the <code>binary</code> option enabled. This will allow quoted fields to contain control characters including CR and LF. The <code>_XS</code> suffix indicates that the module has a substantial C component, and so will provide a solution that is the the most optimum available without writing the whole thing in C</p>\n\n<p>This program expects the input file as a parameter on the command line</p>\n\n<p>You don't say anything about the output that you want, so I have used the\n<a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow noreferrer\"><code>Data::Dump</code></a> module\nto display the result of using <code>Text::CSV_XS</code> to parse each row of your example data</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Data::Dump 'pp';\nuse Text::CSV_XS;\n\nmy ( $csv_file ) = @ARGV or die \"CSV File parameter missing\";\n\nopen my $fh, '&lt;', $csv_file or die qq{Unable to open \"$csv_file\" for input: $!};\n\nmy $csv = Text::CSV-&gt;new( {\n    binary =&gt; 1,\n} );\n\nmy $num_records = 0;\n\nwhile ( my $row = $csv-&gt;getline( $fh ) ) {\n\n    print pp($row), \"\\n\\n\";\n\n    ++$num_records;\n}\n\nprintf \"Total of %d %s\\n\\n\",\n        $num_records,\n        $num_records == 1 ? 'record' : 'records';\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\"RandomName\", \"FileName\", \"Date\", \"OwnerName\"]\n\n[\"f\", \"df\", \"10/12/1298\", \"dgds\"]\n\n[-13, \"fg\\ndhd\\nfd\\nf\", \"10/22/1029\", \"dvg \\ntr\\n-456\\n3gf\"]\n\n[123, \"fd13\", \"13/23/1245\", \"13\\nsdg\\nfsdg\"]\n\n[\"dv\", \"Df\", \"12/12/3455\", \"adf\"]\n\nTotal of 5 records\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 9354442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9d5ec99102ca434f9f8ba58a87da3b?s=128&d=identicon&r=PG&f=1", "display_name": "diksha ojha", "link": "https://stackoverflow.com/users/9354442/diksha-ojha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518622395, "creation_date": 1518520607, "last_edit_date": 1518589250, "question_id": 48765566, "link": "https://stackoverflow.com/questions/48765566/count-number-of-records-and-remove-new-line-character-in-between-a-record-in-csv", "title": "Count number of records and remove new line character in between a record in csv file(size almost 132 GB) using shell/awk/perl", "body": "<p>I'm unable to count the number of records and remove new line characters which is present in between a single record and append this file output to another code. Csv file looks like</p>\n\n<pre><code>RandomName,FileName,Date,OwnerName\n\"f\",\"df\",10/12/1298,\"dgds\"\n-13,\"fg\ndhd\nfd\nf\",10/22/1029,\"dvg \ntr\n-456\n3gf\"\n\"123\",\"fd13\",13/23/1245,\"13\nsdg\nfsdg\"\ndv,\"Df\",12/12/3455,\"adf\"\n</code></pre>\n\n<p>Expected Output</p>\n\n<pre><code>RandomName,FileName,Date,OwnerName\n\"f\",\"df\",10/12/1298,\"dgds\"\n-13,\"fgdhdfdf\",10/22/1029,\"dvgtr-4563gf\"\n\"123\",\"fd13\",13/23/1245,\"13sdgfsdg\"\ndv,\"Df\",12/12/3455,\"adf\"\n</code></pre>\n\n<p>The file is 132GB  in size.I'm using this solution-</p>\n\n<pre><code>perl -0777 -pe 's/((?:,\"|(?!^)\\G)[^\",\\n]*)\\n/\\1/g; s/,\\n/,/' \"${dir}\" | wc -l\n</code></pre>\n\n<p>But Its throwing kernel soft lockup error. I have shell/awk/perl in my server.\nMy File can contain-</p>\n\n<ol>\n<li>any number of records </li>\n<li>size &lt;= 132 GB</li>\n<li>file can contains special characters.($,@,#,*,-,_,%)</li>\n<li>new line character can occur more than once in a single record.</li>\n</ol>\n\n<p>Kindly help me in finding solution for printing the output to console and to another csv file as well.\nThanks in advance.</p>\n"}, {"tags": ["perl", "otrs"], "answers": [{"tags": [], "owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "is_accepted": true, "score": 2, "last_activity_date": 1518535528, "creation_date": 1518535528, "answer_id": 48770145, "question_id": 48765287, "link": "https://stackoverflow.com/questions/48765287/unable-to-run-otrs-daemon-otrs6-on-cent-os-7/48770145#48770145", "title": "Unable to run OTRS daemon, OTRS6 on Cent OS 7", "body": "<p>The error comes from the mysql daemon and has nothing to do with Perl.  Try this on the command-line on the server running otrs:</p>\n\n<pre><code>mysql --user=otrs --host=localhost --password=XXXXXXX\n</code></pre>\n\n<p>That will probably fail with the same error.  Once you have fixed your mysql configuration so that the command succeeds, otrs should also start.</p>\n\n<p>Omit the option <code>--password</code> and let mysql prompt you for the password, if you  are not alone on the machine.</p>\n\n<p>Another reason for the failure could, of course, be that you have misconfigured otrs, and you have to change the mysql user, host, or password.</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 6850983, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kE5a5vOKYig/AAAAAAAAAAI/AAAAAAAAA3Q/E21b_rvAw3k/photo.jpg?sz=128", "display_name": "Edem Robin", "link": "https://stackoverflow.com/users/6850983/edem-robin"}, "is_accepted": false, "score": 1, "last_activity_date": 1582681334, "creation_date": 1582681334, "answer_id": 60405607, "question_id": 48765287, "link": "https://stackoverflow.com/questions/48765287/unable-to-run-otrs-daemon-otrs6-on-cent-os-7/60405607#60405607", "title": "Unable to run OTRS daemon, OTRS6 on Cent OS 7", "body": "<p>After searching for solution for two days i finally get it working.\nI first change to /opt/otrs/bin/ directory.\nTo get the daemon working, you have to start the daemon as otrs user. \nTo do that just change user to otrs : you can use this command. (su otrs) from your terminal, you will be prompted for the password for otrs. Just enter the password and use the (whoami) command to check if you are otrs. If it shows that the current user is otrs issue this command (./otrs.Daemon.pl status) to see the current status of the daemon. if it shows that the daemon not running then issue this command (./otrs.Daemon.pl start).  </p>\n"}], "owner": {"reputation": 41, "user_id": 8677497, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1125008de4f4ecc3df192a58d72db8bd?s=128&d=identicon&r=PG&f=1", "display_name": "LomidzeAlex", "link": "https://stackoverflow.com/users/8677497/lomidzealex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2480, "favorite_count": 0, "accepted_answer_id": 48770145, "answer_count": 2, "score": 0, "last_activity_date": 1582681334, "creation_date": 1518519790, "last_edit_date": 1518520004, "question_id": 48765287, "link": "https://stackoverflow.com/questions/48765287/unable-to-run-otrs-daemon-otrs6-on-cent-os-7", "title": "Unable to run OTRS daemon, OTRS6 on Cent OS 7", "body": "<p><strong>I am facing issue while trying to start ORTS daemon on CentOS linux</strong>    </p>\n\n<p>FACILITY:</p>\n\n<blockquote>\n  <p>OTRS-otrs.Daemon.pl - Daemon\n  Kernel::System::Daemon::DaemonModules::SystemConfigurationSyncManager-07</p>\n</blockquote>\n\n<p>MESSAGE:</p>\n\n<blockquote>\n  <p>Access denied for user 'otrs'@'localhost' (using password: YES)</p>\n</blockquote>\n\n<p>When I am trying get the status using command:</p>\n\n<pre><code>./opt/otrs/bin/otrs.Daemon.pl status\n</code></pre>\n\n<p>getting this message: </p>\n\n<pre><code>Manage the OTRS daemon process.\n\nDaemon running\n</code></pre>\n\n<p>But when I go to the web page it says that OTRS Daemon is not running.\nAny help is appreciated!?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1518514125, "post_id": 48763010, "comment_id": 84527283, "body": "Could do with some clarification as to how you identify a &#39;binary file&#39; - is it by extension, or do you need to do some content inspection?"}, {"owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1518534397, "post_id": 48763010, "comment_id": 84540547, "body": "@Sobrique: The binary files could be *.h, *.bin or *.c files."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1518537963, "post_id": 48763010, "comment_id": 84542900, "body": "<code>*.h</code> and <code>*.c</code> aren&#39;t typically &#39;binary&#39; - they&#39;re usually ascii text pre-compilation."}, {"owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1518538245, "post_id": 48763010, "comment_id": 84543098, "body": "Yes, that&#39;s true. I had called it &quot;binary&quot; just for the sake of simplicity here. However in the real usecase, the nested directories may have a *.x, *.h or *.bin files."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1518515837, "last_edit_date": 1518515837, "creation_date": 1518514076, "answer_id": 48763400, "question_id": 48763010, "link": "https://stackoverflow.com/questions/48763010/check-if-the-nested-directory-structure-is-empty-using-perl/48763400#48763400", "title": "Check if the nested directory structure is empty using perl", "body": "<p>Use <a href=\"http://search.cpan.org/~rclamp/File-Find-Rule-0.34/lib/File/Find/Rule.pm\" rel=\"nofollow noreferrer\"><code>File::Find::Rule</code></a></p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse File::Find::Rule;\n\nmy $someDir = \"/path/of/DIR-A\";\n\nmy @files = File::Find::Rule-&gt;file()\n                            -&gt;name('*.bin')\n                            -&gt;in($someDir);\n</code></pre>\n\n<p>This will get you all files with the extension '.bin'. </p>\n\n<p>If you need to perform a per file test to check that they are 'binary' then you can use <code>grep</code> on your list of <code>@files</code>. </p>\n\n<pre><code>my @files = grep {-B} File::Find::Rule-&gt;file()\n                                      -&gt;in($someDir);\n\nprint \"Binary files found\\n\" if @files;\n</code></pre>\n\n<p>Also:</p>\n\n<ul>\n<li><code>use strict;</code> <code>use warnings;</code>. It's good.</li>\n<li>Code formatting is a really good thing. <code>perltidy -pbp</code> makes it easy. </li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "edited": false, "score": 0, "creation_date": 1518537817, "post_id": 48763704, "comment_id": 84542796, "body": "Hi @nakulbansal : In either case (whether or not a binary is present) i&#39;m getting the SUCCESS message. I think the code needs a  bit of fine tuning."}], "tags": [], "owner": {"reputation": 285, "user_id": 2319672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ff1340a932140322d41db199c6cf1a4?s=128&d=identicon&r=PG", "display_name": "Dev123", "link": "https://stackoverflow.com/users/2319672/dev123"}, "is_accepted": false, "score": 0, "last_activity_date": 1518515023, "creation_date": 1518515023, "answer_id": 48763704, "question_id": 48763010, "link": "https://stackoverflow.com/questions/48763010/check-if-the-nested-directory-structure-is-empty-using-perl/48763704#48763704", "title": "Check if the nested directory structure is empty using perl", "body": "<p>You can use below script to find if binary file exist or not recursively.</p>\n\n<pre><code>#! /usr/bin/env perl\nuse warnings;\nuse strict;\nuse File::Find;\n\nmy $path=\"/path/of/DIR-A\";\n\nsub find_binary {\n    my $file = $File::Find::name;\n\n    if (-B $file &amp;&amp; ! -d $file) {\n        print \"ERROR: At least one of the nested directories has a binary file : $file\\n\";\n        exit;\n    }\n}\n\nfind(\\&amp;find_binary,$path);\nprint(\"SUCCESS: None of the nested directories have a binary file. \\n\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "is_accepted": false, "score": 0, "last_activity_date": 1518516132, "last_edit_date": 1518516132, "creation_date": 1518515544, "answer_id": 48763857, "question_id": 48763010, "link": "https://stackoverflow.com/questions/48763010/check-if-the-nested-directory-structure-is-empty-using-perl/48763857#48763857", "title": "Check if the nested directory structure is empty using perl", "body": "<p>Use (warning: my) module <code>File::Globstar</code>:</p>\n\n<pre><code>use v5.10;\nuse File::Globstar qw(globstar);\n\nmy $dir = $ARGV[0] // '.';\nsay join \"\\n\", grep { -B &amp;&amp; ! -d } globstar \"$dir/**\";\n</code></pre>\n\n<p>If you want the list of files in a list, assign it instead of printing it:</p>\n\n<pre><code>my @nondirs = grep { -B &amp;&amp; ! -d } globstar \"$dir/**\";\n</code></pre>\n\n<p>If you know the extender of the files, you can also do this:</p>\n\n<pre><code>my @nondirs = grep { -B &amp;&amp; ! -d } globstar \"$dir/**/*.png\";\n</code></pre>\n\n<p>Note that the file test <code>-B</code> produces a truthy value for empty files which is maybe not what you want.  In that case change the test to <code>-B &amp;&amp; -s &amp;&amp; ! -d</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1672, "user_id": 4355253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee8cbfecfb7686f370b07eea52273c5?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Elices", "link": "https://stackoverflow.com/users/4355253/javier-elices"}, "is_accepted": false, "score": 1, "last_activity_date": 1518518588, "last_edit_date": 1518518588, "creation_date": 1518517846, "answer_id": 48764593, "question_id": 48763010, "link": "https://stackoverflow.com/questions/48763010/check-if-the-nested-directory-structure-is-empty-using-perl/48764593#48764593", "title": "Check if the nested directory structure is empty using perl", "body": "<p>I am unclear as to what a binary file is for your test. I am assuming that any file found in the directory structure traversed is a binary file. Using <a href=\"https://perldoc.perl.org/File/Find.html\" rel=\"nofollow noreferrer\"><code>File::Find</code></a>, which is a core module:</p>\n\n<pre><code>use File::Find;\n\nmy $error = 0;\nfind(\\&amp;wanted, @ARGV);\n\nif( $error ) {\n  print \"ERROR, $error files found\\n\";\n}\nelse {\n  print \"SUCCESS\\n\";\n}\n\nsub wanted {\n  if( -f $_ ) {\n    $error++;\n  }\n}\n</code></pre>\n\n<p>You may add any test to the <code>wanted</code> function. The <code>find</code> function will invoke the function provided for each file found in the list of directories that is also passed, which will be traversed recursively in depth-first search order (much like the <code>find</code> command does.) Passing it <code>@ARGV</code> you may invoke the script with a list of directories as required (maybe using shell expansion like <code>DIR-*</code>.)</p>\n\n<p>The test function will get the file name being traversed in <code>$_</code>, while the current working directory is set to the directory that contains the file.</p>\n"}], "owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 48763400, "answer_count": 4, "score": 0, "last_activity_date": 1518518588, "creation_date": 1518512832, "question_id": 48763010, "link": "https://stackoverflow.com/questions/48763010/check-if-the-nested-directory-structure-is-empty-using-perl", "title": "Check if the nested directory structure is empty using perl", "body": "<p>My requirement is to check if a nested directory structure is having any binary file or not.</p>\n\n<p>The directory structure looks something like this:</p>\n\n<pre><code>DIR-A\n    |\n    |--DIR-X\n    |       |\n    |       |--DIR-X1\n    |       |--DIR-X2\n    |\n    |--DIR-Y\n    |       |\n    |       |--DIR-Y1\n    |       |--DIR-Y2\n    |       |--DIR-Y3\n    |\n    |--DIR-Z\n    |       |\n    |       |--DIR-Z1\n    |       |--DIR-Z2\n    |       |--DIR-Z3\n</code></pre>\n\n<p>At any point in time there can be more directories at Level-1 or Level-2 i.e. there can be some more directories i.e. <code>DIR-P, DIR-Q</code> etc at level-1 and there can be <code>DIR-X3 or DIR-Y4</code> at level-2.</p>\n\n<p>I have written a sample code but it exits if it finds <code>DIR-X1</code>, Ideally it should exit if there is a binary file inside the directory.</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $someDir = \"/path/of/DIR-A\";\nmy @files = ();\nmy $file;\nmy $i=0;\n\nopendir(DIR, \"$someDir\") or die \"Cant open $someDir: $!\\n\";\n    @files = readdir(DIR);\n    foreach $file(@files) \n    {\n          unless ($file =~ /^[.][.]?\\z/) \n        {\n            print \"$i : $file \\n\";              \n            $i++;\n            last;\n            }\n        }\n\n    if ($i != 0) \n    {\n        print \"The directory contains files! \\n\";\n        exit 1;      \n    } \n    else \n    {\n        print \"This DIR-A is Empty! \\n\";\n        exit 0;\n    }\n\nclosedir(DIR);\n</code></pre>\n\n<p>Please suggest me get to the expected solution as below:</p>\n\n<pre><code>read DIR-A\nprint SUCCESS, if none of the nested directories have a binary file.\nprint ERROR, if at least one of the nested directories has a binary file.\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "split", "substring"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1518509233, "post_id": 48761440, "comment_id": 84524451, "body": "It would be interesting to hear why you cannot use a regex?"}, {"owner": {"reputation": 11, "user_id": 9350237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kemc0ZFWyC0/AAAAAAAAAAI/AAAAAAAAGH0/ZQN5yA1CARE/photo.jpg?sz=128", "display_name": "mac t&#237;re beag", "link": "https://stackoverflow.com/users/9350237/mac-t%c3%adre-beag"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1518512562, "post_id": 48761440, "comment_id": 84526265, "body": "The reasons I have been provided: - The scripts these functions are in are parsing very large files  - This function is used extremely often - Using a function without regex is measureably faster in this case"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1518512864, "post_id": 48761440, "comment_id": 84526416, "body": "I am not sure about <code>substr</code> + 2 times <code>index</code> being faster than a regex match operation. You  could do a benchmark to check that it really is faster"}, {"owner": {"reputation": 11, "user_id": 9350237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kemc0ZFWyC0/AAAAAAAAAAI/AAAAAAAAGH0/ZQN5yA1CARE/photo.jpg?sz=128", "display_name": "mac t&#237;re beag", "link": "https://stackoverflow.com/users/9350237/mac-t%c3%adre-beag"}, "edited": false, "score": 1, "creation_date": 1518513233, "post_id": 48761440, "comment_id": 84526645, "body": "That was exactly my thought too; the benchmarks did prove to be correct. I don&#39;t remember the specifics but while it was not miles faster it was at least noticeably faster (we&#39;re talking seconds out of a minute). This said I do feel in this situation that correlation does not imply causation, from my discussions with software engineer buddies they are all surprised with this outcome."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1518848974, "post_id": 48761440, "comment_id": 84681547, "body": "I ran a <a href=\"https://codereview.stackexchange.com/q/187684/33560\">benchmark</a> and it seems that <code>substr</code> + <code>index</code> is usually faster than a regex match, but not for all cases. If you like to improve the speed even further, you could also consider implementing the <code>findBetween()</code> in C."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9350237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kemc0ZFWyC0/AAAAAAAAAAI/AAAAAAAAGH0/ZQN5yA1CARE/photo.jpg?sz=128", "display_name": "mac t&#237;re beag", "link": "https://stackoverflow.com/users/9350237/mac-t%c3%adre-beag"}, "edited": false, "score": 0, "creation_date": 1518512213, "post_id": 48762700, "comment_id": 84526040, "body": "I see what you are saying; the issue here is I want it to return the substring however I do not know the substring, i know the delimiters.   So in your exemple it would be: &quot;hello &quot; and &quot; world&quot;"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 11, "user_id": 9350237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kemc0ZFWyC0/AAAAAAAAAAI/AAAAAAAAGH0/ZQN5yA1CARE/photo.jpg?sz=128", "display_name": "mac t&#237;re beag", "link": "https://stackoverflow.com/users/9350237/mac-t%c3%adre-beag"}, "edited": false, "score": 0, "creation_date": 1518514196, "post_id": 48762700, "comment_id": 84527321, "body": "then simply loop index to find the delimiters and print the substring based on position."}, {"owner": {"reputation": 11, "user_id": 9350237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kemc0ZFWyC0/AAAAAAAAAAI/AAAAAAAAGH0/ZQN5yA1CARE/photo.jpg?sz=128", "display_name": "mac t&#237;re beag", "link": "https://stackoverflow.com/users/9350237/mac-t%c3%adre-beag"}, "edited": false, "score": 0, "creation_date": 1518514427, "post_id": 48762700, "comment_id": 84527462, "body": "Yes I see how that would work; however I remember finding a solution that was only a line with two functions which worked perfectly."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 11, "user_id": 9350237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kemc0ZFWyC0/AAAAAAAAAAI/AAAAAAAAGH0/ZQN5yA1CARE/photo.jpg?sz=128", "display_name": "mac t&#237;re beag", "link": "https://stackoverflow.com/users/9350237/mac-t%c3%adre-beag"}, "edited": false, "score": 0, "creation_date": 1518515821, "post_id": 48762700, "comment_id": 84528353, "body": "must have been a regex or perhaps sed."}, {"owner": {"reputation": 11, "user_id": 9350237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kemc0ZFWyC0/AAAAAAAAAAI/AAAAAAAAGH0/ZQN5yA1CARE/photo.jpg?sz=128", "display_name": "mac t&#237;re beag", "link": "https://stackoverflow.com/users/9350237/mac-t%c3%adre-beag"}, "edited": false, "score": 0, "creation_date": 1518516350, "post_id": 48762700, "comment_id": 84528674, "body": "I see what you mean, and had I not seen this solution I would be inclined to agree wholeheartedly with you. I&#39;ll definitely update if and when I do find it."}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1518512211, "last_edit_date": 1518512211, "creation_date": 1518511661, "answer_id": 48762700, "question_id": 48761440, "link": "https://stackoverflow.com/questions/48761440/extract-substring-using-two-delimiters-and-no-regex/48762700#48762700", "title": "Extract substring using two delimiters and NO REGEX", "body": "<p>I would simply use <a href=\"https://perldoc.perl.org/functions/index.html\" rel=\"nofollow noreferrer\"><code>index</code></a></p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $string = \"hello my world\";\nmy $substr = \"my\";\n    if (index($string, $substr) != -1) {\n        print \"$substr found in $string\";\n  } \n</code></pre>\n\n<p>Extract from <a href=\"https://perldoc.perl.org/functions/index.html\" rel=\"nofollow noreferrer\">perldoc</a></p>\n\n<blockquote>\n  <p>\u2022 index STR,SUBSTR,POSITION </p>\n  \n  <p>\u2022 index STR,SUBSTR </p>\n  \n  <blockquote>\n    <p>The index function searches for one string within another, but without the wildcard-like behavior of a full regular-expression pattern match. It returns the position of the first occurrence of SUBSTR in STR at or after POSITION. If POSITION is omitted, starts searching from the beginning of the string. POSITION before the beginning of the string or after its end is treated as if it were the beginning or the end, respectively. POSITION and the return value are based at zero. If the substring is not found, index returns -1.</p>\n  </blockquote>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1518513567, "creation_date": 1518513567, "answer_id": 48763264, "question_id": 48761440, "link": "https://stackoverflow.com/questions/48761440/extract-substring-using-two-delimiters-and-no-regex/48763264#48763264", "title": "Extract substring using two delimiters and NO REGEX", "body": "<p>You can use two <code>index()</code> calls to locate both delimiters and use indexes to extract string between them,</p>\n\n<pre><code>sub findBetween {\n\n    my ($theString,$delimiter1,$delimiter2) = @_;\n\n    my $i1 = index($theString, $delimiter1, 0) + length($delimiter1);\n    my $i2 = index($theString, $delimiter2, $i1);\n\n    return substr($theString, $i1, $i2-$i1);\n}\n\nprint findBetween(\"111--2222~~333\", \"--\", \"~~\"), \"\\n\";\n</code></pre>\n\n<p>output</p>\n\n<pre><code>2222\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9350237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kemc0ZFWyC0/AAAAAAAAAAI/AAAAAAAAGH0/ZQN5yA1CARE/photo.jpg?sz=128", "display_name": "mac t&#237;re beag", "link": "https://stackoverflow.com/users/9350237/mac-t%c3%adre-beag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 1, "answer_count": 2, "score": -4, "last_activity_date": 1518513567, "creation_date": 1518506526, "last_edit_date": 1518506602, "question_id": 48761440, "link": "https://stackoverflow.com/questions/48761440/extract-substring-using-two-delimiters-and-no-regex", "title": "Extract substring using two delimiters and NO REGEX", "body": "<p>I have a function whose aim is to extract a substring found between two delimiters. I would use regex but in this case I have explicit instructions not to use them.</p>\n\n<p>I had a simpler and more elegant solution which was just one line but I cannot for the life of me remember or find it.</p>\n\n<pre><code>sub findBetween {\n\nmy ($theString,$delimiter1,$delimiter2) = (@_);\nmy $tmp = substr($theString, index($theString,$delimiter1)+length($delimiter1));\n$tmp = substr($tmp, 0, index($tmp,$delimiter2));\nreturn $tmp;}\n</code></pre>\n\n<p>Thank you for taking a look at this issue, I am aware it is very basic and somewhat redundant. What I need is a simpler solution involving perl basic functions and no regex.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "is_accepted": true, "score": 12, "last_activity_date": 1518609585, "last_edit_date": 1518609585, "creation_date": 1518503633, "answer_id": 48760773, "question_id": 48760722, "link": "https://stackoverflow.com/questions/48760722/perl-double-dollar-sign-what-does-it-dereference/48760773#48760773", "title": "Perl $$ (double dollar) sign -- what does it dereference?", "body": "<h3>Simply</h3>\n\n<p>Like under <a href=\"/questions/tagged/bash\" class=\"post-tag\" title=\"show questions tagged &#39;bash&#39;\" rel=\"tag\">bash</a> and other <em><code>POSIX</code></em> <a href=\"/questions/tagged/shell\" class=\"post-tag\" title=\"show questions tagged &#39;shell&#39;\" rel=\"tag\">shell</a>: <strong><code>$$</code> is current <em>process id (PID)</em></strong></p>\n\n<p>For <code>man perlvar</code>:</p>\n\n<blockquote>\n<pre><code>  $PROCESS_ID\n  $PID\n  $$      The process number of the Perl running this script.  Though you can\n          set this variable, doing so is generally discouraged, although it can\n          be invaluable for some testing purposes.  It will be reset\n          automatically across \"fork()\" calls.\n</code></pre>\n</blockquote>\n\n<p>Nota: from <code>man perl</code></p>\n\n<blockquote>\n<pre><code>Reference Manual\n        perlsyn             Perl syntax\n        perldata            Perl data structures\n        ...\n        perldebug           Perl debugging\n        perlvar             Perl predefined variables\n        ...\n</code></pre>\n</blockquote>\n\n<p>And from <code>man POSIX</code>...</p>\n\n<blockquote>\n<pre><code>   \"getpid\"\n          Returns the process identifier.  Identical to Perl's builtin\n          variable $$, see \"$PID\" in perlvar.\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1260, "favorite_count": 0, "accepted_answer_id": 48760773, "answer_count": 1, "score": 6, "last_activity_date": 1518609585, "creation_date": 1518503395, "last_edit_date": 1518552640, "question_id": 48760722, "link": "https://stackoverflow.com/questions/48760722/perl-double-dollar-sign-what-does-it-dereference", "title": "Perl $$ (double dollar) sign -- what does it dereference?", "body": "<p>I saw the question on <a href=\"https://stackoverflow.com/questions/22619917/perl-var-two-dollar-signs-as-a-sigil\">Perl $$var -- two dollar signs as a sigil?</a> and that double dollar sign is used to dereference</p>\n\n<p>I have this perl code</p>\n\n<pre><code>sub sock_initialize {\n\n    my $sock  = q{};\n    my $port  = q{};\n\n    # $name running\n    my $max_count   = 250;\n    my $timeout     = 5;\n    my $max_retries = 36;\n\n    # Get a port for our server.\n    $sock = IO::Socket::INET-&gt;new(\n        Listen    =&gt; SOMAXCONN,    # listen queue depth\n        LocalPort =&gt; 0,\n        Reuse     =&gt; 1\n    );\n\n    die \"Unable to bind a port: $!\" if !$sock;\n\n    $port      = $sock-&gt;sockport();\n    my $ip = inet_ntoa( scalar gethostbyname( $HOST ));\n    my $uid = (getpwuid( $&gt; ))[2];\n    my $queue = join(\":\", $ip, $port, $$, $uid);\n\n    print sprintf(\"started on port $port ($$), SOMAXCONN=%d\\n\", SOMAXCONN);\n\n    return $sock;\n} ## end sub sock_initialize\n</code></pre>\n\n<p>from the above code, what does double dollar sign dereferencing? <code>my $queue = join(\":\", $ip, $port, $$, $uid);</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 17, "user_id": 9263601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55261f1008bd13137f7061e561e0b179?s=128&d=identicon&r=PG&f=1", "display_name": "user380892", "link": "https://stackoverflow.com/users/9263601/user380892"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518496411, "post_id": 48759214, "comment_id": 84519677, "body": "That worked. Thanks"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1518541550, "post_id": 48759214, "comment_id": 84545258, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/206320/how-do-i-distinguish-a-file-from-a-directory-in-perl\">How do I distinguish a file from a directory in Perl?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 4, "last_activity_date": 1518496973, "creation_date": 1518496973, "answer_id": 48759605, "question_id": 48759214, "link": "https://stackoverflow.com/questions/48759214/excluding-directories-in-file-tests-for-perl/48759605#48759605", "title": "excluding directories in file tests for perl", "body": "<p>Use the file test operator <code>-d</code> to test if you have a directory.</p>\n\n<p>In your code, you can skip directories by adding:</p>\n\n<pre><code>next if -d $x;\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">perldoc -f -X</a> for details on this and all other file test functions.</p>\n"}], "owner": {"reputation": 17, "user_id": 9263601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55261f1008bd13137f7061e561e0b179?s=128&d=identicon&r=PG&f=1", "display_name": "user380892", "link": "https://stackoverflow.com/users/9263601/user380892"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 48759605, "answer_count": 1, "score": 1, "last_activity_date": 1518496973, "creation_date": 1518494379, "question_id": 48759214, "link": "https://stackoverflow.com/questions/48759214/excluding-directories-in-file-tests-for-perl", "title": "excluding directories in file tests for perl", "body": "<p>I am taking arguments from the command line to test if they exist print out their names if they do. In this code directories are printed out if they exist. How do I exclude directories?</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n\nforeach my $x (@ARGV) {\n  if (-e $x){\n    print \"$x \";\n  else {\n    print \"'$x' does not exist\"\n  }\n}\nexit;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 285, "user_id": 2319672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ff1340a932140322d41db199c6cf1a4?s=128&d=identicon&r=PG", "display_name": "Dev123", "link": "https://stackoverflow.com/users/2319672/dev123"}, "is_accepted": true, "score": 4, "last_activity_date": 1518501753, "last_edit_date": 1518501753, "creation_date": 1518495009, "answer_id": 48759293, "question_id": 48758946, "link": "https://stackoverflow.com/questions/48758946/why-is-the-output-the-way-it-is-splitting-and-chop/48759293#48759293", "title": "Why is the output the way it is? -Splitting and chop", "body": "<p>There are few issues with this script but first I will answer your points</p>\n\n<ol>\n<li><p><code>chop</code> will remove the last character of a string and returns the character chopped. In your data file \"heading.txt\" every line might be ending with <code>\\n</code> and hence <code>chop</code> will be removing <code>\\n</code>. It is always recommended to use <code>chomp</code> instead.\nYou can verify what is the last character of the line by running the command below:</p>\n\n<pre><code>od -bc heading.txt\n\n0000000 116 101 115 105 040 101 107 105 012 112 157 150 156 040 062 066\n          N   A   M   E       A   G   E  \\n   J   o   h   n       2   6\n\n0000020 012 101 154 151 040 062 061 012 103 150 145 156 040 062 062 012\n         \\n   A   l   i       2   1  \\n   C   h   e   n       2   2  \\n\n\n0000040 123 141 154 154 171 040 062 065 012\n          S   a   l   l   y       2   5  \\n\n\n0000051\n</code></pre>\n\n<p>You can see <code>\\n</code></p></li>\n<li><p>There is no use of <code>$firstline</code> because it is never been set to 1. So you can remove the <code>if/else</code> block.</p></li>\n<li><p>In the first line it is reading all the elements of array @data one by one. In 2nd line it is splitting the contents of the element in characters and capturing first 2 characters and assigning them to <code>$name</code> and <code>$age</code> variables and discarding the rest. In the last line we are printing those captured characters.\nIMO, in line 2 we should do split based on space to actual capture the name and age.\nSo the final script should looks like:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @data;  \nopen (INFILE,\"heading.txt\") or die \"Can't open heading.txt: $!\";\nwhile (&lt;INFILE&gt;) {\n    chomp(@data= &lt;INFILE&gt;);\n}\nclose(INFILE);\n\nprint \"Data in file is: \\n\";\nforeach (@data) {\n    my ($name,$age)=split(/ /,$_);\n    print \"$name $age\\n\";\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Data in file is:\nJohn 26\nAli 21\nChen 22\nSally 25\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 35, "user_id": 9336343, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/01613fc3fe056209188d4ec4e966d06c?s=128&d=identicon&r=PG&f=1", "display_name": "Anon", "link": "https://stackoverflow.com/users/9336343/anon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 48759293, "answer_count": 1, "score": 1, "last_activity_date": 1518501753, "creation_date": 1518492381, "last_edit_date": 1518495060, "question_id": 48758946, "link": "https://stackoverflow.com/questions/48758946/why-is-the-output-the-way-it-is-splitting-and-chop", "title": "Why is the output the way it is? -Splitting and chop", "body": "<p>I'm trouble understanding the output of the below code. \n1. Why is the output Jo Al Ch and Sa? Doesn't chop remove the last character of string and return that character, so shouldn't the output be n i n and y? 2. What is the purpose of the $firstline=0; line in the code?\n3. What exactly is happening at the lines </p>\n\n<pre><code>foreach(@data) \n{$name,$age)=split(//,$_);\nprint \"$name $age \\n\";     \n</code></pre>\n\n<p>The output of the following code is </p>\n\n<p>Data in file is:  </p>\n\n<pre><code>J o\nA l\nC h\nS a\n</code></pre>\n\n<p>The file contents are:</p>\n\n<pre><code>NAME AGE\nJohn 26\nAli 21\nChen 22\nSally 25\n</code></pre>\n\n<p>The code:</p>\n\n<pre><code>#!/usr/bin/perl\nmy ($firstline,\n@data,\n$data);\n\nopen (INFILE,\"heading.txt\") or die $.;\n\nwhile (&lt;INFILE&gt;)\n{\nif ($firstline)\n{\n$firstline=0;\n}\nelse\n{\nchop(@data=&lt;INFILE&gt;);\n}\nprint \"Data in file is: \\n\";\nforeach (@data)\n{\n($name,$age)=split(//,$_);\nprint \"$name $age\\n\";\n}\n}\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 6, "creation_date": 1518461912, "post_id": 48753460, "comment_id": 84507858, "body": "Using regex to parse XML is going to result in lots of failures and wasted effort.  Use a real XML parser.  Really."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1518462356, "post_id": 48753460, "comment_id": 84508102, "body": "Using named variables for this is not a smart idea. In XML the order of elements is not relevant. It might change, and then your data gets assigned to the wrong variable. That&#39;s why the semantics of an XML parser are required. It&#39;s also not clear if your array contains two <code>&lt;WebPage&gt;</code>elements as one array element, or if each of them is one element in the array."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1518462545, "post_id": 48753460, "comment_id": 84508214, "body": "Feel-free to write your own regexp-based parser, but don&#39;t waste our time if you want to reinvent the wheel. Besides, why is our code on SO better than our code on CPAN???"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1518463573, "post_id": 48753460, "comment_id": 84508831, "body": "<a href=\"https://stackoverflow.com/questions/6751105/why-its-not-possible-to-use-regex-to-parse-html-xml-a-formal-explanation-in-la\" title=\"why its not possible to use regex to parse html xml a formal explanation in la\">stackoverflow.com/questions/6751105/&hellip;</a> <a href=\"https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg\" title=\"can you provide some examples of why it is hard to parse xml and html with a reg\">stackoverflow.com/questions/701166/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9346959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DyDTl.png?s=128&g=1", "display_name": "George Bouras", "link": "https://stackoverflow.com/users/9346959/george-bouras"}, "is_accepted": false, "score": -3, "last_activity_date": 1518473820, "creation_date": 1518473820, "answer_id": 48756439, "question_id": 48753460, "link": "https://stackoverflow.com/questions/48753460/split-meta-type-data-with-a-regex/48756439#48756439", "title": "Split Meta Type Data With A Regex", "body": "<p>here it is </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict; use warnings; use Data::Dumper;\nmy $hash;\n\n\nwhile (&lt;DATA&gt;) {\n\n    if ( /&lt;WebPage&gt;/ ) {\n    $hash={} \n    }\n    elsif  ( /&lt;\\/WebPage&gt;/ ) {\n    print Dumper $hash\n    }\n    elsif ( /^&lt;(.+)&gt;(.+)&lt;\\/\\1&gt;\\s*/ ) {\n    $hash-&gt;{$1}=$2      \n    }\n}\n\n__DATA__\n&lt;WebPage&gt;\n&lt;Action&gt;Action Goes Here 1&lt;/Action&gt;\n&lt;SystemData&gt;SystemData Goes Here 1&lt;/SystemData&gt;\n&lt;PageSatausData&gt;PageSatausData Goes Here 1&lt;/PageSatausData&gt;\n&lt;PageNameData&gt;PageNameData Goes Here 1&lt;/PageNameData&gt;\n&lt;TitleData&gt;TitleData Goes Here 1&lt;/TitleData&gt;\n&lt;KeywordData&gt;KeywordData Goes Here 1&lt;/KeywordData&gt;\n&lt;DescriptionData&gt;DescriptionData Goes Here 1&lt;/DescriptionData&gt;\n&lt;HeaderData&gt;HeaderData Goes Here 1&lt;/HeaderData&gt;\n&lt;BodyData&gt;BodyData Goes Here 1&lt;/BodyData&gt;\n&lt;FooterData&gt;FooterData Goes Here 1&lt;/FooterData&gt;\n&lt;/WebPage&gt;\n&lt;WebPage&gt;\n&lt;Action&gt;Action Goes Here 2&lt;/Action&gt;\n&lt;SystemData&gt;SystemData Goes Here 2&lt;/SystemData&gt;\n&lt;PageSatausData&gt;PageSatausData Goes Here 2&lt;/PageSatausData&gt;\n&lt;PageNameData&gt;PageNameData Goes Here 2&lt;/PageNameData&gt;\n&lt;TitleData&gt;TitleData Goes Here 2&lt;/TitleData&gt;\n&lt;KeywordData&gt;KeywordData Goes Here 2&lt;/KeywordData&gt;\n&lt;DescriptionData&gt;DescriptionData Goes Here 2&lt;/DescriptionData&gt;\n&lt;HeaderData&gt;HeaderData Goes Here 2&lt;/HeaderData&gt;\n&lt;BodyData&gt;BodyData Goes Here 2&lt;/BodyData&gt;\n&lt;FooterData&gt;FooterData Goes Here 2&lt;/FooterData&gt;\n&lt;/WebPage&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 173, "user_id": 1703803, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NZpHZ.jpg?s=128&g=1", "display_name": "Blnukem", "link": "https://stackoverflow.com/users/1703803/blnukem"}, "edited": false, "score": 0, "creation_date": 1518535314, "post_id": 48768708, "comment_id": 84541159, "body": "7stud Thank you! I&#39;m glad to see there are some people here to help like yourself, then the others that just criticize you over your question."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": true, "score": -2, "last_activity_date": 1518531103, "last_edit_date": 1518531103, "creation_date": 1518530797, "answer_id": 48768708, "question_id": 48753460, "link": "https://stackoverflow.com/questions/48753460/split-meta-type-data-with-a-regex/48768708#48768708", "title": "Split Meta Type Data With A Regex", "body": "<p>Instead of this:</p>\n\n<pre><code>my($Var1,$Var2,$Var3,$Var4,$Var5,$Var6,$Var7,$Var8,$Var9,$Var10) = split (/\\&gt;\\&lt;/,$Line,10);\n\nprint \"Result: $Var1,$Var2,$Var3,$Var4,$Var5,$Var6,$Var7,$Var8,$Var9,$Var10&lt;br&gt;\";\n }\n</code></pre>\n\n<p>you can write:</p>\n\n<pre><code>my @pieces = split (/\\&gt;\\&lt;/,$Line,10);\nmy $str = join '', @pieces;\nprint \"Results: $str &lt;br&gt;\";\n</code></pre>\n\n<p>And if you need to refer to the individual items, instead of writing $var1, you can write $pieces[0]; and instead of writing $var2, you can write  $pieces[1], etc.  </p>\n\n<p>See how much more succinct that is?  Beginners in every language try what you did.  The rule is: if you ever find yourself writing variable names that only differ by a number, then you should store the data in an array instead.</p>\n"}], "owner": {"reputation": 173, "user_id": 1703803, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NZpHZ.jpg?s=128&g=1", "display_name": "Blnukem", "link": "https://stackoverflow.com/users/1703803/blnukem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 48768708, "answer_count": 2, "score": -4, "last_activity_date": 1518531103, "creation_date": 1518461418, "question_id": 48753460, "link": "https://stackoverflow.com/questions/48753460/split-meta-type-data-with-a-regex", "title": "Split Meta Type Data With A Regex", "body": "<p>I Have a array that has stored data like this:</p>\n\n<pre><code>&lt;WebPage&gt;\n&lt;Action&gt;Action Goes Here 1&lt;/Action&gt;\n&lt;SystemData&gt;SystemData Goes Here 1&lt;/SystemData&gt;\n&lt;PageSatausData&gt;PageSatausData Goes Here 1&lt;/PageSatausData&gt;\n&lt;PageNameData&gt;PageNameData Goes Here 1&lt;/PageNameData&gt;\n&lt;TitleData&gt;TitleData Goes Here 1&lt;/TitleData&gt;\n&lt;KeywordData&gt;KeywordData Goes Here 1&lt;/KeywordData&gt;\n&lt;DescriptionData&gt;DescriptionData Goes Here 1&lt;/DescriptionData&gt;\n&lt;HeaderData&gt;HeaderData Goes Here 1&lt;/HeaderData&gt;\n&lt;BodyData&gt;BodyData Goes Here 1&lt;/BodyData&gt;\n&lt;FooterData&gt;FooterData Goes Here 1&lt;/FooterData&gt;\n&lt;/WebPage&gt;\n&lt;WebPage&gt;\n&lt;Action&gt;Action Goes Here 2&lt;/Action&gt;\n&lt;SystemData&gt;SystemData Goes Here 2&lt;/SystemData&gt;\n&lt;PageSatausData&gt;PageSatausData Goes Here 2&lt;/PageSatausData&gt;\n&lt;PageNameData&gt;PageNameData Goes Here 2&lt;/PageNameData&gt;\n&lt;TitleData&gt;TitleData Goes Here 2&lt;/TitleData&gt;\n&lt;KeywordData&gt;KeywordData Goes Here 2&lt;/KeywordData&gt;\n&lt;DescriptionData&gt;DescriptionData Goes Here 2&lt;/DescriptionData&gt;\n&lt;HeaderData&gt;HeaderData Goes Here 2&lt;/HeaderData&gt;\n&lt;BodyData&gt;BodyData Goes Here 2&lt;/BodyData&gt;\n&lt;FooterData&gt;FooterData Goes Here 2&lt;/FooterData&gt;\n&lt;/WebPage&gt;\n</code></pre>\n\n<p>What I'm trying to do is loop thew it and assign variable to each of the values like this: </p>\n\n<pre><code>foreach my $Line (@Meta_Content) {\n\nmy($Var1,$Var2,$Var3,$Var4,$Var5,$Var6,$Var7,$Var8,$Var9,$Var10) = split (/\\&gt;\\&lt;/,$Line,10);\n\nprint \"Result: $Var1,$Var2,$Var3,$Var4,$Var5,$Var6,$Var7,$Var8,$Var9,$Var10&lt;br&gt;\";\n }\n</code></pre>\n\n<p>With no luck I'm aware of the XML modules but in this case I need a regex to do so modules are not an option.</p>\n"}, {"tags": ["shell", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 9, "creation_date": 1518457944, "post_id": 48752438, "comment_id": 84505750, "body": "What have you tried so far? Stack Overflow is about helping you fix your code."}], "answers": [{"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1518469309, "last_edit_date": 1518469309, "creation_date": 1518464643, "answer_id": 48754325, "question_id": 48752438, "link": "https://stackoverflow.com/questions/48752438/sum-rows-of-different-columns-by-match-in-the-second-column/48754325#48754325", "title": "Sum rows of different columns by match in the second column", "body": "<p>data1.txt:</p>\n\n<pre><code>ID  Category Sample1 Sample2 Sample3\n1   A        5       5       5\n2   A        5       5       5\n3   A        5       5       5\n4   B        1       2       3\n5   B        1       2       3\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse autodie;\nuse Data::Dumper;\nuse List::MoreUtils qw{ uniq };\n\nopen my $INFILE, '&lt;', 'data1.txt';\n\nmy %results;\nmy @cat_order;\n\n#Get names of column headers:\nmy ($h1, $h2, @sample_names) =  split ' ', &lt;$INFILE&gt;;\n\nwhile (my $line = &lt;$INFILE&gt;) {\n    my($id, $cat, @samples)= split ' ', $line;\n    push @cat_order, $cat;\n\n    push @{ $results{$cat}{$h1} }, $id;  #e.g. push results{A}{ID}, 1 \n\n    while ( my($i, $sample) = each @samples ) {\n        $results{$cat}{ $sample_names[$i] } += $sample;  #e.g. results{A}{Sample1} += 5   \n    }\n}\n\nclose $INFILE;\nopen my $OUTFILE, '&gt;', 'results.txt';\n\nmy $format = \"%-3s %-9s %-9s %-9s %-9s\\n\";\nprintf {$OUTFILE} $format, $h1, $h2, @sample_names;\n\nfor my $cat (uniq(@cat_order)) {\n    printf( $OUTFILE \n        $format, \n        $results{$cat}{$h1}[0],  #e.g. results{A}{ID}[0], which is the first id in the ID array\n        $cat,  #e.g. A\n        @{ $results{$cat} }{@sample_names}  #e.g. results{A}{'Sample1', 'Sample2', 'Sample3'}  -- a hash slice,\n                                            #which returns an array of the values matching those keys.\n    )\n}\n\nclose $OUTFILE;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ rm results.txt\nremove results.txt? y\n\n$ perl 1.pl \n\n$ cat results.txt \nID  Category  Sample1   Sample2   Sample3  \n1   A         15        15        15       \n4   B         2         4         6  \n</code></pre>\n\n<p>And with data1.txt:</p>\n\n<pre><code>ID  Category Sample1 Sample2 Sample3\n1   A        5       5       5\n2   B        1       2       3\n3   A        5       5       5\n4   C        10      11      12\n5   B        1       2       3\n6   A        5       5       5\n7   C        1       1       1\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ rm results.txt\nremove results.txt? y\n\n$ perl 1.pl \n$ cat results.txt \nID  Category  Sample1   Sample2   Sample3  \n1   A         15        15        15       \n2   B         2         4         6        \n4   C         11        12        13  \n</code></pre>\n\n<p><code>%results</code>:</p>\n\n<pre><code>$VAR1 = {\n          'C' =&gt; {\n                   'ID' =&gt; [\n                             '4',\n                             '7'\n                           ],\n                   'Sample1' =&gt; 11,\n                   'Sample3' =&gt; 13,\n                   'Sample2' =&gt; 12\n                 },\n          'B' =&gt; {\n                   'ID' =&gt; [\n                             '2',\n                             '5'\n                           ],\n                   'Sample1' =&gt; 2,\n                   'Sample3' =&gt; 6,\n                   'Sample2' =&gt; 4\n                 },\n          'A' =&gt; {\n                   'Sample1' =&gt; 15,\n                   'ID' =&gt; [\n                             '1',\n                             '3',\n                             '6'\n                           ],\n                   'Sample2' =&gt; 15,\n                   'Sample3' =&gt; 15\n                 }\n        };\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 9351141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b304c895572ef4a63ef32c66d615cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Cristbal Alejandro Hernndez lv", "link": "https://stackoverflow.com/users/9351141/cristbal-alejandro-hernndez-lv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "closed_date": 1518460583, "answer_count": 1, "score": -2, "last_activity_date": 1518469309, "creation_date": 1518457533, "last_edit_date": 1518458355, "question_id": 48752438, "link": "https://stackoverflow.com/questions/48752438/sum-rows-of-different-columns-by-match-in-the-second-column", "closed_reason": "Needs details or clarity", "title": "Sum rows of different columns by match in the second column", "body": "<p>I have a file like this:</p>\n\n<pre><code>ID  Category Sample1 Sample2 Sample3\n1   A        5       5       5\n2   A        5       5       5\n3   A        5       5       5\n4   B        1       2       3\n5   B        1       2       3\n</code></pre>\n\n<p>And I'm looking for an awk, sed or similar solution to achieve this:</p>\n\n<pre><code>ID  Category Sample1 Sample2 Sample3\n1   A        15      15      15\n4   B        2       4       6\n</code></pre>\n\n<p>The idea is to sum rows of matching categories, considering the values of each sample column and remove the repeated IDs.</p>\n"}, {"tags": ["perl", "https", "dtd", "xml-libxml"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1518454582, "post_id": 48751396, "comment_id": 84503724, "body": "I can reproduce. But note that you can simplify the example: The issue is that <code>Dtd-&gt;new(\u2026)</code>  doesn&#39;t seem to work with HTTPS. That validation fails is then a consequence of that, and adds no further information."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518454922, "post_id": 48751396, "comment_id": 84503944, "body": "You could always download the DTD yourself (e.g. using LWP) and use <code>-&gt;parse_string($downloaded_dtd)</code> instead of <code>-&gt;new($url)</code>."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1518455789, "post_id": 48751396, "comment_id": 84504500, "body": "Seems to be a central problem in libxml2. See: <a href=\"https://bugzilla.gnome.org/show_bug.cgi?id=791220\" rel=\"nofollow noreferrer\">Bug 791220 - xmllint and https support</a>, <a href=\"https://github.com/gentoo/dotnet/issues/178\" rel=\"nofollow noreferrer\">gentoo/dotnet: libxml2 doesn&#39;t support https</a>, or <a href=\"https://stackoverflow.com/q/35530009/1521179\">How to validate metadata.xml against .dtd in gentoo?</a> (Ignore Gentoo, this is about the libxml2 library.)"}, {"owner": {"reputation": 65, "user_id": 2455451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8naQT.jpg?s=128&g=1", "display_name": "jesusbagpuss", "link": "https://stackoverflow.com/users/2455451/jesusbagpuss"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1518456798, "post_id": 48751396, "comment_id": 84505101, "body": "@amon - I&#39;d seen the libxml2 issues before I started looking at <code>XML::LibXML::InputCallback</code> - but forgot to mention it.  @ikegami - if there are external references in the DTD, would this break?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 2, "creation_date": 1518468967, "post_id": 48751396, "comment_id": 84511686, "body": "Ideally your validation code shouldn&#39;t be downloading the DTD every time anyway. There&#39;s a thing called <a href=\"https://en.wikipedia.org/wiki/XML_Catalog\" rel=\"nofollow noreferrer\">XML Catalog</a> that provides a standard way for applications requesting a DTD to map URLs to a local file instead. For example on a Debian system the facility is provided by the <code>xml-core</code> package and it&#39;s configured via files in /etc/xml."}, {"owner": {"reputation": 65, "user_id": 2455451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8naQT.jpg?s=128&g=1", "display_name": "jesusbagpuss", "link": "https://stackoverflow.com/users/2455451/jesusbagpuss"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1518731441, "post_id": 48751396, "comment_id": 84637661, "body": "Thanks @GrantMcLean (something else for me to get my head around sometime soon). Does this help in this situation - e.g. does the XML Catalog get queried by libxml2 before it baulks on having an HTTPS URL to deal with?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1518746322, "post_id": 48751396, "comment_id": 84642013, "body": "Yes, according to the <a href=\"http://xmlsoft.org/catalog.html\" rel=\"nofollow noreferrer\">libxml docs</a> the system catalog will be checked before making a network request.  So if the catalog has a mapping the file will be retrieved directly and no network request will happen."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 2455451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8naQT.jpg?s=128&g=1", "display_name": "jesusbagpuss", "link": "https://stackoverflow.com/users/2455451/jesusbagpuss"}, "edited": false, "score": 1, "creation_date": 1518731025, "post_id": 48755635, "comment_id": 84637466, "body": "I think this fits the bill for what I need. I don&#39;t want to rely on other things (XML Catalogue) being on the server, so this gives the best solution."}], "tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": true, "score": 2, "last_activity_date": 1518470182, "creation_date": 1518470182, "answer_id": 48755635, "question_id": 48751396, "link": "https://stackoverflow.com/questions/48751396/xmllibxml-cannot-validate-against-dtd-available-over-https/48755635#48755635", "title": "XML::LibXML cannot validate against DTD available over HTTPS", "body": "<p>Note that the XML already contains the URL to the DTD, so you don't need to create a <code>XML::LibXML::Dtd</code> to pass to <code>-&gt;is_valid</code>.</p>\n\n<p>I agree with commenter Grant McLean that you might not want to go out on the network all the time. In fact, a while back I wrote some code that used a <code>XML::LibXML::InputCallback</code> to redirect all network requests to the local FS where I had cached network resources.</p>\n\n<p>But to answer your question, it wasn't too difficult to adapt that code to fetch from the network, including HTTPS, via <a href=\"https://metacpan.org/pod/HTTP::Tiny\" rel=\"nofollow noreferrer\"><code>HTTP::Tiny</code></a>, which needs <a href=\"https://metacpan.org/pod/IO::Socket::SSL\" rel=\"nofollow noreferrer\"><code>IO::Socket::SSL</code></a> >=1.56 and <a href=\"https://metacpan.org/pod/Net::SSLeay\" rel=\"nofollow noreferrer\"><code>Net::SSLeay</code></a> >=1.49 installed for SSL support. The following prints the expected \"<code>Is valid: yes</code>\":</p>\n\n<pre><code>use warnings;\nuse strict;\nuse XML::LibXML;\nuse HTTP::Tiny;\nuse URI;\n\nmy $parser = XML::LibXML-&gt;new;\nmy $cb = XML::LibXML::InputCallback-&gt;new;\nmy $http = HTTP::Tiny-&gt;new;\nmy %cache;\n$cb-&gt;register_callbacks([\n    sub { 1 }, # match (URI), returns Bool\n    sub { # open (URI), returns Handle\n        my $uri = URI-&gt;new($_[0]);\n        my $file;\n        #warn \"Handling &lt;&lt;$uri&gt;&gt;\\n\"; #Debug\n        if (!$uri-&gt;scheme) { $file = $_[0] }\n        elsif ($uri-&gt;scheme eq 'file') { $file = $uri-&gt;path }\n        elsif ($uri-&gt;scheme=~/\\Ahttps?\\z/i) {\n            if (!defined $cache{$uri}) {\n                my $resp = $http-&gt;get($uri);\n                die \"$uri: $resp-&gt;{status} $resp-&gt;{reason}\\n\"\n                    unless $resp-&gt;{success};\n                $cache{$uri} = $resp-&gt;{content};\n            }\n            $file = \\$cache{$uri};\n        }\n        else { die \"unsupported URL scheme: \".$uri-&gt;scheme }\n        open my $fh, '&lt;', $file or die \"$file: $!\";\n        return $fh;\n    },\n    sub { # read (Handle,Length), returns Data\n        my ($fh,$len) = @_;\n        read($fh, my $buf, $len);\n        return $buf;\n    },\n    sub { close shift } # close (Handle)\n]);\n$parser-&gt;input_callbacks($cb);\n\nmy $doc = $parser-&gt;load_xml( IO =&gt; \\*DATA );\nprint \"Is valid: \", $doc-&gt;is_valid ? \"yes\" : \"no\", \"\\n\";\n\n__DATA__\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;!DOCTYPE LinkSet PUBLIC \"-//NLM//DTD LinkOut 1.0//EN\" \"https://www.ncbi.nlm.nih.gov/projects/linkout/doc/LinkOut.dtd\" [\n&lt;!ENTITY base.url \"https://some.domain.com\"&gt;\n&lt;!ENTITY icon.url \"https://some.domain.com/logo.png\"&gt;\n]&gt;\n&lt;LinkSet&gt;\n  &lt;Link&gt;\n    &lt;LinkId&gt;1&lt;/LinkId&gt;\n    &lt;ProviderId&gt;XXXX&lt;/ProviderId&gt;\n    &lt;IconUrl&gt;&amp;icon.url;&lt;/IconUrl&gt;\n    &lt;ObjectSelector&gt;\n      &lt;Database&gt;PubMed&lt;/Database&gt;\n      &lt;ObjectList&gt;\n        &lt;ObjId&gt;1234567890&lt;/ObjId&gt;\n      &lt;/ObjectList&gt;\n    &lt;/ObjectSelector&gt;\n    &lt;ObjectUrl&gt;\n      &lt;Base&gt;&amp;base.url;&lt;/Base&gt;\n      &lt;Rule&gt;/1/&lt;/Rule&gt;\n    &lt;/ObjectUrl&gt;\n  &lt;/Link&gt;\n&lt;/LinkSet&gt;\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 2455451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8naQT.jpg?s=128&g=1", "display_name": "jesusbagpuss", "link": "https://stackoverflow.com/users/2455451/jesusbagpuss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 48755635, "answer_count": 1, "score": 1, "last_activity_date": 1518470182, "creation_date": 1518453827, "last_edit_date": 1592644375, "question_id": 48751396, "link": "https://stackoverflow.com/questions/48751396/xmllibxml-cannot-validate-against-dtd-available-over-https", "title": "XML::LibXML cannot validate against DTD available over HTTPS", "body": "\n<p>How do I validate an XML document using\n<a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow noreferrer\"><code>XML::LibXML</code></a>\nwhen the DTD is available over HTTPS?</p>\n<h3>Test code:</h3>\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl -w\n\nuse XML::LibXML;\n\nuse strict;\n\nmy $xml = XML::LibXML-&gt;load_xml(IO =&gt; \\*DATA);\nmy $dtd = XML::LibXML::Dtd-&gt;new( &quot;-//NLM//DTD LinkOut 1.0//EN&quot;, &quot;https://www.ncbi.nlm.nih.gov/projects/linkout/doc/LinkOut.dtd&quot; );\nmy $https_is_valid = $xml-&gt;is_valid( $dtd );\nprint &quot;HTTPS dtd: &quot;, ref $dtd, &quot;\\n Is valid: $https_is_valid\\n&quot;;\n\nmy $dtd_http = XML::LibXML::Dtd-&gt;new( &quot;-//NLM//DTD LinkOut 1.0//EN&quot;, &quot;http://www.ncbi.nlm.nih.gov/projects/linkout/doc/LinkOut.dtd&quot; );\nmy $http_is_valid = $xml-&gt;is_valid( $dtd_http );\nprint &quot;HTTP dtd: &quot;, ref $dtd_http, &quot;\\n Is valid: $http_is_valid\\n&quot;;\n\n__DATA__\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!DOCTYPE LinkSet PUBLIC &quot;-//NLM//DTD LinkOut 1.0//EN&quot; &quot;https://www.ncbi.nlm.nih.gov/projects/linkout/doc/LinkOut.dtd&quot; [\n&lt;!ENTITY base.url &quot;https://some.domain.com&quot;&gt;\n&lt;!ENTITY icon.url &quot;https://some.domain.com/logo.png&quot;&gt;\n]&gt;\n&lt;LinkSet&gt;\n  &lt;Link&gt;\n    &lt;LinkId&gt;1&lt;/LinkId&gt;\n    &lt;ProviderId&gt;XXXX&lt;/ProviderId&gt;\n    &lt;IconUrl&gt;&amp;icon.url;&lt;/IconUrl&gt;\n    &lt;ObjectSelector&gt;\n      &lt;Database&gt;PubMed&lt;/Database&gt;\n      &lt;ObjectList&gt;\n        &lt;ObjId&gt;1234567890&lt;/ObjId&gt;\n      &lt;/ObjectList&gt;\n    &lt;/ObjectSelector&gt;\n    &lt;ObjectUrl&gt;\n      &lt;Base&gt;&amp;base.url;&lt;/Base&gt;\n      &lt;Rule&gt;/1/&lt;/Rule&gt;\n    &lt;/ObjectUrl&gt;\n  &lt;/Link&gt;\n&lt;/LinkSet&gt;\n</code></pre>\n<p>The code above produces the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>HTTPS dtd:\n  Is valid: 0\nHTTP dtd: XML::LibXML::Dtd\n  Is valid: 1\n</code></pre>\n<p>The DTD fails to load from the HTTPS URL, and therefore cannot be used to validate the XML.</p>\n<p>I've downloaded the DTD over HTTPS and checked for HTTP redirects - there aren't any.</p>\n<p>I've also had a look at\n<a href=\"https://metacpan.org/pod/distribution/XML-LibXML/lib/XML/LibXML/InputCallback.pod#EXAMPLE-CALLBACKS\" rel=\"nofollow noreferrer\"><code>XML::LibXML::InputCallback</code></a>\nbut can't see how I can incorporate it with <code>XML::LibXML::Dtd-&gt;new( ... );</code>.</p>\n<p>How should I implement this validation?</p>\n<p><em>The DTD is available over HTTP so I could just use that to validate, but this feels like I'm avoiding the problem rather than solving it properly!</em></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 9, "creation_date": 1518450513, "post_id": 48750100, "comment_id": 84500897, "body": "In perl a variable can be <code>1</code> and <code>&quot;1&quot;</code> at the same time. You&#39;re trying to make a distinction that doesn&#39;t really exist."}, {"owner": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "edited": false, "score": 0, "creation_date": 1518450905, "post_id": 48750100, "comment_id": 84501198, "body": "you can have a look at the answer here: <a href=\"https://stackoverflow.com/questions/21070947/when-does-perl-impose-string-context\" title=\"when does perl impose string context\">stackoverflow.com/questions/21070947/&hellip;</a>"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1518474619, "post_id": 48750100, "comment_id": 84514331, "body": "See also <a href=\"https://stackoverflow.com/questions/12686335/how-to-tell-apart-numeric-scalars-and-string-scalars-in-perl\">How to tell apart numeric scalars and string scalars in Perl?</a>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1518475062, "post_id": 48750100, "comment_id": 84514528, "body": "also <a href=\"https://stackoverflow.com/questions/12647/how-do-i-tell-if-a-variable-has-a-numeric-value-in-perl/3806159#3806159\" title=\"how do i tell if a variable has a numeric value in perl\">stackoverflow.com/questions/12647/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 860, "user_id": 3553138, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Gjmch.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/3553138/pavel"}, "edited": false, "score": 0, "creation_date": 1518451270, "post_id": 48750310, "comment_id": 84501486, "body": "Thanks a lot. I feel like I understand Perl so much more now. I only mentioned <code>~~</code> because I&#39;ve been trying to use Perl 6 more than Perl 5 recently."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 860, "user_id": 3553138, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Gjmch.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/3553138/pavel"}, "edited": false, "score": 1, "creation_date": 1518459138, "post_id": 48750310, "comment_id": 84506348, "body": "I don&#39;t know Perl 6, and the answer could be completely different. That&#39;s why I removed the Perl 6 portions of your question. Feel free to ask the same question about Perl 6 as a separate question."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1518475782, "post_id": 48750310, "comment_id": 84514772, "body": "one is not always one: <code>perl -E&#39;say( (1 &amp; &quot;&quot;) eq (&quot;1&quot; &amp; &quot;&quot;) ? &quot;eq&quot; : &quot;!eq&quot;)&#39;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1518543065, "post_id": 48750310, "comment_id": 84546232, "body": "@ysth, Yes, that operator breaks the rule, but doing so has caused countless problems. This reinforces my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 11, "last_activity_date": 1518466915, "last_edit_date": 1518466915, "creation_date": 1518450515, "answer_id": 48750310, "question_id": 48750100, "link": "https://stackoverflow.com/questions/48750100/how-do-i-compare-two-objects-in-perl-without-coercing-them-to-the-same-type/48750310#48750310", "title": "How do I compare two objects in Perl without coercing them to the same type?", "body": "<p>Don't. In Perl, <em>one</em> is <em>one</em>. Polymorphism based on a value's type is bound to fail. That's why Perl has two comparison operators, and that's why <code>~~</code> is broken<sup>[1]</sup>.</p>\n\n<p>For example, the scalar returned by <code>!0</code> contains three values, <em>one</em> stored as an integer, <em>one</em> stored as a floating point number, and <em>one</em> stored as a string.</p>\n\n<p>For example, an object of class <code>package Foo; use overload '0+' =&gt; sub { 1 }, fallback =&gt; 1;</code> might not contain <em>one</em> at all, but it's considered to be <em>one</em> in numerical and string contexts.</p>\n\n<hr>\n\n<ol>\n<li>That's why it's still flagged as experimental.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1518453964, "post_id": 48750635, "comment_id": 84503290, "body": "This can lead to different behaviour in different Perl versions, though, if you do more complex stuff with the variables before dumping them."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1518470658, "post_id": 48750635, "comment_id": 84512448, "body": "I agree with @choroba, just using a string in a numeric context can change what <code>Data::Dumper</code> outputs. <code>perl -MData::Dumper -e &#39;my $x=&quot;1&quot;; print Dumper($x); $x==1 and print Dumper($x)&#39;</code> prints <code>$VAR1 = &#39;1&#39;; $VAR1 = 1;</code>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1518472780, "post_id": 48750635, "comment_id": 84513448, "body": "Most users, most of the time, should not worry about the internal representation of their scalars or rely on them having any particular internal representation. For whatever reason -- maybe a good reason, maybe not for a good reason -- OP is worrying about it, and looking at Dumper output is one of the ways to access it."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1518474996, "post_id": 48750635, "comment_id": 84514503, "body": "@mob I completely agree that users normally shouldn&#39;t have to worry about the internal representation, and this kind of question usually comes up when someone is either trying to implement a Dumper themselves, or when they&#39;re looking at the wrong kind of solution for their actual problem. However, I disagree that <i>&quot;looking at Dumper output is one of the ways to access it&quot;</i>, for the simple reason I showed above (<a href=\"https://stackoverflow.com/questions/12686335/how-to-tell-apart-numeric-scalars-and-string-scalars-in-perl\">see also</a>). Often, <code>Scalar::Util::looks_like_number</code> can be a good solution."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1518543270, "post_id": 48750635, "comment_id": 84546375, "body": "They &quot;address&quot; the issue by imposing an arbitrary set of rules that results in values that are different than they might appear in Perl.  e.g. <code>perl -MJSON -le&#39;$!=5; print JSON-&gt;new-&gt;encode([$!]); print $! == 5;&#39;</code>"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1518451544, "creation_date": 1518451544, "answer_id": 48750635, "question_id": 48750100, "link": "https://stackoverflow.com/questions/48750100/how-do-i-compare-two-objects-in-perl-without-coercing-them-to-the-same-type/48750635#48750635", "title": "How do I compare two objects in Perl without coercing them to the same type?", "body": "<p>Serializers like <code>Data::Dumper::Dumper</code> and <code>JSON::encode_json</code> can treat scalars internally stored as numbers <a href=\"https://stackoverflow.com/questions/27967104/keeping-track-of-type-with-json-pm\">differently</a> from scalars internally stored as strings, so you can compare serialized output:</p>\n\n<pre><code>use Data::Dumper;\n$x = 1;\n$y = \"1\";\n$same = Dumper($x) eq Dumper($y);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518542446, "post_id": 48770809, "comment_id": 84545850, "body": "Fails for magic vars (e.g. <code>${\\substr(&quot;abc&quot;,1,1)}</code>, initially)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518542668, "post_id": 48770809, "comment_id": 84545988, "body": "Fails for overloaded objects."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518542816, "post_id": 48770809, "comment_id": 84546090, "body": "Doesn&#39;t address scalars that contain more than one of the following: a string, an integer, and a floating point number. (e.g. <code>!1</code>)."}, {"owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518543082, "post_id": 48770809, "comment_id": 84546246, "body": "<i>starting point</i> ... I will update the answer and point the OP to JSON::PP which addresses a lot of the issues you mentioned."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518543245, "post_id": 48770809, "comment_id": 84546355, "body": "It &quot;address&quot; the issue by imposing an arbitrary set of rules that results in values that are different than they might appear in Perl.  e.g. <code>perl -MJSON::PP -le&#39;$!=5; print JSON::PP-&gt;new-&gt;encode([$!]); print $! == 5;&#39;</code>"}, {"owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518543975, "post_id": 48770809, "comment_id": 84546764, "body": "There are two equality testing operators in Perl plus the experimental one.  And if that is not sufficient for a specific use case, then <code>B::svref_object</code> helps you checking more conditions.  And it answers the question how you can distinguish &quot;1&quot; from 1 without going through <code>Data::Dumper</code> in most cases.  If that is enough or not depends on the exact use case."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518544050, "post_id": 48770809, "comment_id": 84546810, "body": "Re &quot;<i>B::svref_object helps you checking more conditions.</i>&quot;, Then please show how. What you posted in your answer doesn&#39;t cut it, as previously mentioned."}, {"owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518544443, "post_id": 48770809, "comment_id": 84547030, "body": "A real problem that I had solved with B::svref_2object: I had to reimplement a little JavaScript template engine in Perl and it was crucial that they produced the same output for the same input JSON (generated by Perl).  The problem was to decide whether &quot;1 + 1&quot; should render as &quot;11&quot; or &quot;2&quot; and looking at the flags in Perl was good enough for that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518544718, "post_id": 48770809, "comment_id": 84547187, "body": "The gaps in your testing is not interesting to me."}], "tags": [], "owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "is_accepted": false, "score": 1, "last_activity_date": 1518543331, "last_edit_date": 1518543331, "creation_date": 1518537635, "answer_id": 48770809, "question_id": 48750100, "link": "https://stackoverflow.com/questions/48750100/how-do-i-compare-two-objects-in-perl-without-coercing-them-to-the-same-type/48770809#48770809", "title": "How do I compare two objects in Perl without coercing them to the same type?", "body": "<p>You can use this snippet as a starting point for your comparison function:</p>\n\n<pre><code>my $num = 42;\nmy $str = \"42\";\nsay B::svref_2object(\\$num)-&gt;FLAGS;\nsay B::svref_2object(\\$str)-&gt;FLAGS;\n</code></pre>\n\n<p>You will see that the flags of both variables differ.  Read <code>perldoc B</code> for more in-depth information.</p>\n\n<p>You may also find the source code of <a href=\"https://metacpan.org/source/ISHIGAKI/JSON-PP-2.97001/lib/JSON/PP.pm\" rel=\"nofollow noreferrer\"><code>JSON::PP</code></a> interesting.  Search for \"sub value_to_json\".</p>\n"}], "owner": {"reputation": 860, "user_id": 3553138, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Gjmch.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/3553138/pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 48750310, "answer_count": 3, "score": 4, "last_activity_date": 1518543331, "creation_date": 1518449946, "last_edit_date": 1518450812, "question_id": 48750100, "link": "https://stackoverflow.com/questions/48750100/how-do-i-compare-two-objects-in-perl-without-coercing-them-to-the-same-type", "title": "How do I compare two objects in Perl without coercing them to the same type?", "body": "<p>In Perl, I know of three ways to test objects for equality: <code>==</code>, <code>eq</code>, and <code>~~</code>. All of these tell me that <code>1</code> is equal to <code>\"1\"</code> in <a href=\"https://tio.run/##K0gtyjH9/7@gKDOvRMFQwdZWQclQyZoLxk8tROXX1YH5//8DAA\" rel=\"nofollow noreferrer\">Perl 5</a>.</p>\n\n<p>However, <code>1</code> and <code>\"1\"</code> are not the same thing. How can I compare two objects so that <code>1</code> equals <code>1</code>, <code>\"1\"</code> equals <code>\"1\"</code>, <code>1</code> does not equal <code>\"1\"</code> or <code>2</code>, and <code>\"1\"</code> does not equal <code>\"01\"</code>? Answers for both Perls would be appreciated.</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8978529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e2e74e182c5efdeab0316a061c207c?s=128&d=identicon&r=PG&f=1", "display_name": "Grumpy", "link": "https://stackoverflow.com/users/8978529/grumpy"}, "edited": false, "score": 0, "creation_date": 1519240184, "post_id": 48750676, "comment_id": 84833549, "body": "The code you provided works well after adjusting it! And as a perl newby the literature you indicated will be a great input."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 11, "user_id": 8978529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e2e74e182c5efdeab0316a061c207c?s=128&d=identicon&r=PG&f=1", "display_name": "Grumpy", "link": "https://stackoverflow.com/users/8978529/grumpy"}, "edited": false, "score": 0, "creation_date": 1519281473, "post_id": 48750676, "comment_id": 84848374, "body": "@Grumpy, See the improvements."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1519281258, "last_edit_date": 1519281258, "creation_date": 1518451659, "answer_id": 48750676, "question_id": 48749871, "link": "https://stackoverflow.com/questions/48749871/extracting-values-from-a-file/48750676#48750676", "title": "Extracting values from a file", "body": "<p>Here's a better way to do parallel iteration of two files:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse autodie;\nuse Data::Dumper;\n\nopen my $INFILE1, '&lt;', 'data1.txt';\nopen my $INFILE2, '&lt;', 'data2.txt';\nopen my $OUTFILE, '&gt;', 'common.txt';\n\nwhile (!eof($INFILE1) and !eof($INFILE2)) {\n    my $line1 = &lt;$INFILE1&gt;;\n    my $line2 = &lt;$INFILE2&gt;;\n\n    my(undef, $target1) = split ' ', $line1, 2;\n    my(undef, $target2) = split ' ', $line2, 2;\n\n    if ($target1 eq $target2) {\n        print {$OUTFILE} $line1 \n    }\n}\n\nclose $INFILE1;\nclose $INFILE2;\nclose $OUTFILE;\n</code></pre>\n\n<hr>\n\n<p>Don't use <em>bareword</em> file handles, e.g.  File.  Instead, use <code>my</code> \nvariables:  </p>\n\n<pre><code>open my $FILE, '&lt;', 'data.txt'\n</code></pre>\n\n<p>When you read from a file <em>in a while loop conditional</em>:</p>\n\n<pre><code>while (my $line = &lt;$FILE&gt;)\n</code></pre>\n\n<p>perl automatically does a <code>defined()</code> check on <code>$line</code>, and the while loop will only end when there are no more lines to read and <code>&lt;&gt;</code> returns <code>undef</code>.</p>\n\n<p>Don't try to learn perl by reading old perl tutorials.  Instead, buy the latest edition of \"Learning Perl\" (Schwartz, d Foy, Phoenix).  Perl has the best books of any programming language that I've studied, so take advantage of that resource.  \"Learning Perl\" is fairly thin, as far as programming books go, so it won't take you a year to read through it all.  And, it has exercises at the end of every chapter with answers at the end of the book.</p>\n\n<p>data1.txt:</p>\n\n<pre><code>a 1 2 3 4\nb 5 6 7 8\nc 3 4 5 5\nd 2 2 2 2\n</code></pre>\n\n<p>data2.txt:</p>\n\n<pre><code>w 2 4 2 4\nx 5 6 7 8\ny 3 4 5 6\nz 2 2 2 2\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse autodie;\nuse Data::Dumper;\n\nopen my $INFILE1, '&lt;', 'data1.txt';\nopen my $INFILE2, '&lt;', 'data2.txt';\nopen my $OUTFILE, '&gt;', 'common.txt';\n\nLINE_FROM_FILE1:\nwhile (my $line1 = &lt;$INFILE1&gt;) {\n    if (defined(my $line2 = &lt;$INFILE2&gt;)) {\n        my($first1, $target1) = split ' ', $line1, 2;\n        my($first2, $target2) = split ' ', $line2, 2;\n\n        if ($target1 eq $target2) {\n            print {$OUTFILE} $line1 \n        }\n    }\n    else {\n        say \"File2 is shorter than File1.  \" .\n            \"No more lines in File2...quitting\";\n        last;\n    }\n}\n\nclose $INFILE1;\nclose $INFILE2;\nclose $OUTFILE;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ rm common.txt\nremove common.txt? y\n\n$ perl 1.pl \n\n$ cat common.txt\nb 5 6 7 8\nd 2 2 2 2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1518454588, "post_id": 48751260, "comment_id": 84503728, "body": "<i>when the PATTERN is ... a             literal string composed of a single space character...the             PATTERN is instead treated as if it were &quot;/\\s+/&quot;</i> -- CSV files are notoriously corrupted by spaces instead of tabs or spaces and tabs, so you could end up comparing two strings where one string has a leading or trailing space.  On the other hand, if column 1 contains multiple &quot;words&quot;, then you would need to split on tabs only."}, {"owner": {"reputation": 11, "user_id": 8978529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e2e74e182c5efdeab0316a061c207c?s=128&d=identicon&r=PG&f=1", "display_name": "Grumpy", "link": "https://stackoverflow.com/users/8978529/grumpy"}, "edited": false, "score": 0, "creation_date": 1519239931, "post_id": 48751260, "comment_id": 84833427, "body": "I have already used split, but made a mess with the fields. Your input helped a lot!!"}], "tags": [], "owner": {"reputation": 101, "user_id": 1303940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FVLo9.jpg?s=128&g=1", "display_name": "talkloud", "link": "https://stackoverflow.com/users/1303940/talkloud"}, "is_accepted": false, "score": 0, "last_activity_date": 1518453382, "creation_date": 1518453382, "answer_id": 48751260, "question_id": 48749871, "link": "https://stackoverflow.com/questions/48749871/extracting-values-from-a-file/48751260#48751260", "title": "Extracting values from a file", "body": "<p>You want to use <code>split</code> to access the fields of each line:</p>\n\n<pre><code>for my $line (@file1) {\n    my @fields = split \"\\t\", $line;  # split into fields with TAB as a delimiter\n    print \"$fields[1]\\n\";            # print second field of each line\n}\n</code></pre>\n\n<p><a href=\"https://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> and <a href=\"https://perldoc.perl.org/functions/join.html\" rel=\"nofollow noreferrer\">join</a> should quickly become a natural part of your perl vocabulary if you're working with delimited files like this a lot.</p>\n"}], "owner": {"reputation": 11, "user_id": 8978529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e2e74e182c5efdeab0316a061c207c?s=128&d=identicon&r=PG&f=1", "display_name": "Grumpy", "link": "https://stackoverflow.com/users/8978529/grumpy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1519281258, "creation_date": 1518449282, "question_id": 48749871, "link": "https://stackoverflow.com/questions/48749871/extracting-values-from-a-file", "title": "Extracting values from a file", "body": "<p>hope, somebody can help me with the following issue:</p>\n\n<p>I have two lists of the following (either one tab-delimited): </p>\n\n<p>chr\\t start\\t end\\t alt\\t ref\\t .... (additional colums)</p>\n\n<p>My goal is to compare both lists using a perl script on the basis of values in colums \"start\", \"end\", \"alt\" and \"ref\". That means, if values of a line in list 1 in these four colums equal entries in a line of list 2, the whole line of list 1 should be written to a file \"common.txt\". For the basic script I started to write content of list 1 into an array:</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\nmy @file1;\nopen (FILE, \"&lt; path_to_file\") || die \"Can not find file: $!\\n\";\nwhile (defined(my $i = &lt;FILE&gt;) {\n     push (@file1, $i)\n     }\nprint \"@file1\\n\"; #temporary added line to test for output \n</code></pre>\n\n<p>As a result, an array @file1 is created containing all entries of FILE (thats fine, the array contains the values of FILE). The question now is: how do I specify the above mentioned colums. I tried to write the array into a scalar $content and wanted to isolate the second colum (start) using</p>\n\n<pre><code>$content = @file1;\nprint \"$content[1]\\n\";\n</code></pre>\n\n<p>But (makes sense for sure), these lines give me the element [1] of the array that is the second line of FILE. \nTaken together: I wrote contents of FILE into array @file1 line by line using the while-loop. How can I extract the values of the defined colums? (Remark: the values of the specified colums are not known, so no use for pattern search).</p>\n\n<p>Best,\nGrumpy</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 299, "user_id": 4440445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/079efb3c08fc853cb3ef1ee9d906c18f?s=128&d=identicon&r=PG", "display_name": "steeldriver", "link": "https://stackoverflow.com/users/4440445/steeldriver"}, "edited": false, "score": 0, "creation_date": 1518448480, "post_id": 48772814, "comment_id": 84547080, "body": "You aren&#39;t &quot;passing&quot; <code>$value</code> to anything. I can&#39;t reproduce the issue: <code>perl -le &#39;my $pattern = 0x35040; my $pattern1 = $pattern &amp; 0xfffffffc; print $pattern1&#39;</code> (correctly) gives (decimal) <code>217152</code> and <code>perl -le &#39;my $pattern = 0x35040; my $pattern1 = $pattern &amp; 0xfffffffc; printf &quot;%#x\\n&quot;, $pattern1&#39;</code> (correctly) gives <code>0x35040</code>. Regardless this appears to be a pure perl programming question so would be better asked on <a href=\"https://stackoverflow.com\">Stack Overflow</a>"}, {"owner": {"reputation": 17, "user_id": 9106494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a4ec5892837869b52094eb40c1987ff?s=128&d=identicon&r=PG&f=1", "display_name": "RCV", "link": "https://stackoverflow.com/users/9106494/rcv"}, "edited": false, "score": 0, "creation_date": 1518461717, "post_id": 48772814, "comment_id": 84547081, "body": "The printf tells me the hexadecimal value but the value is further used in the code for some calculation. Will it be correct"}], "answers": [{"tags": [], "owner": {"reputation": 2494, "user_id": 1921546, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fe4ac75c43b846d9665f422cdac5cb03?s=128&d=identicon&r=PG", "display_name": "pii_ke", "link": "https://stackoverflow.com/users/1921546/pii-ke"}, "is_accepted": false, "score": 0, "last_activity_date": 1518556453, "creation_date": 1518556453, "answer_id": 48775757, "question_id": 48772814, "link": "https://stackoverflow.com/questions/48772814/hexadecimal-bit-wise-and-operation/48775757#48775757", "title": "hexadecimal bit wise and operation", "body": "<p>You can specify hexadecimal numbers like <code>$hex_number = 0xaf56</code>, <code>hex</code> converts a string having hexadecimal text into the equivalent number, i.e. <code>$hex_number == hex 'af56'</code>. Numbers are represented in binary inside a computer and they will behave properly with any bit-wise operation you do on them.</p>\n\n<p>It is only when you print a number that you need to be careful about how you want it formatted. By default numbers are printed in decimal, you can print in hexadecimal using the <code>%x</code> format specifier with <code>printf</code>.</p>\n"}], "migrated_from": {"other_site": {"aliases": ["http://ubuntu.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1286712000, "open_beta_date": 1280948400, "closed_beta_date": 1280343600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/askubuntu/Img/apple-touch-icon@2.png", "twitter_account": "AskUbuntu", "favicon_url": "https://cdn.sstatic.net/Sites/askubuntu/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/askubuntu/Img/apple-touch-icon.png", "audience": "Ubuntu users and developers", "site_url": "https://askubuntu.com", "api_site_parameter": "askubuntu", "logo_url": "https://cdn.sstatic.net/Sites/askubuntu/Img/logo.png", "name": "Ask Ubuntu", "site_type": "main_site"}, "on_date": 1518544542, "question_id": 1005465}, "owner": {"reputation": 17, "user_id": 9106494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a4ec5892837869b52094eb40c1987ff?s=128&d=identicon&r=PG&f=1", "display_name": "RCV", "link": "https://stackoverflow.com/users/9106494/rcv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518556453, "creation_date": 1518443482, "question_id": 48772814, "link": "https://stackoverflow.com/questions/48772814/hexadecimal-bit-wise-and-operation", "title": "hexadecimal bit wise and operation", "body": "<p>I am fresher in writing scripts so need some help.</p>\n\n<p>so the issue is in one of my script i am doing a bitwise AND operation but i am getting wrong data.</p>\n\n<p>elaborating on this:</p>\n\n<pre><code>$value have a hex value 0xffffffc0.\n</code></pre>\n\n<p>And i have done some grepping and i have hex value stored in $pattern.</p>\n\n<p>so i need to do and operation of $value &amp; $pattern but getting wrong data, because whatever the $value i am passing its getting converted into decimal value.</p>\n\n<pre><code>$value = hex '0xffffffc0' ;\nprint $value;\n$pattern = 0x35040 ; ####this value will be from the grepping#### \n$pattern1 = $pattern &amp; 0xfffffffc;\n\nprint \"$pattern1\\n\";\n</code></pre>\n\n<p>i am seeing O/P: 35008 </p>\n"}, {"tags": ["regex", "perl", "spamassassin"], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 2, "last_activity_date": 1518438540, "creation_date": 1518438540, "answer_id": 48746533, "question_id": 48745943, "link": "https://stackoverflow.com/questions/48745943/spamassassin-regex-header-rule-not-working/48746533#48746533", "title": "Spamassassin regex header rule not working", "body": "<p>I don't know SpamAssassin, but could it be that it requires <code>/</code> <code>/</code> around the regex?</p>\n\n<p>Because the error message indicates Perl is treating <code>?</code> as the regex delimiter, leading to a regex of:</p>\n\n<pre><code>?:[a-z]+))(\\\\.)((?\n#-------^ unmatched ')'\n</code></pre>\n\n<p>So what I'd try is:</p>\n\n<pre><code>header NAME_DOT_SURNAME_DOT_FQDN From=~/((?:[a-z]+))(\\\\.)((?:[a-z]+))(\\\\.)(@)((?:[a-z][a-z\\\\.\\\\d\\\\-]+)\\\\.(?:[a-z][a-z\\\\-]+))(?![\\\\w\\\\.])/\n</code></pre>\n\n<p>Also, those doubled backslashes look suspicious. Are you sure you don't mean e.g. <code>\\w</code> instead of <code>\\\\w</code>?</p>\n"}], "owner": {"reputation": 502, "user_id": 7619305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de30ee100e2c9b84ff729f1b496d0421?s=128&d=identicon&r=PG", "display_name": "JohnTheWalker", "link": "https://stackoverflow.com/users/7619305/johnthewalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 0, "accepted_answer_id": 48746533, "answer_count": 1, "score": 0, "last_activity_date": 1518438540, "creation_date": 1518436601, "last_edit_date": 1518438119, "question_id": 48745943, "link": "https://stackoverflow.com/questions/48745943/spamassassin-regex-header-rule-not-working", "title": "Spamassassin regex header rule not working", "body": "<p>I'm new to Spamassassin, regex and Perl, so I'd appreciate some help. I was trying to add a spam score to all emails whose senders follow a certain pattern, namely:\n<code>name.surname.@example.com</code>.\nThis is what I came up with</p>\n\n<pre><code>header NAME_DOT_SURNAME_DOT_FQDN From=~((?:[a-z]+))(\\\\.)((?:[a-z]+))(\\\\.)(@)((?:[a-z][a-z\\\\.\\\\d\\\\-]+)\\\\.(?:[a-z][a-z\\\\-]+))(?![\\\\w\\\\.])\nscore NAME_DOT_SURNAME_DOT_FQDN 3.0\n</code></pre>\n\n<p>However, it doesn't seem to be working. When I run <code>spamassassin --lint</code> i get the following output:</p>\n\n<pre><code>Feb 12 12:52:59.521 [32767] warn: Use of ?PATTERN? without explicit operator is deprecated at /etc/spamassassin/local.cf, rule NAME_DOT_SURNAME_DOT_FQDN, line 1.\nFeb 12 12:52:59.522 [32767] warn: rules: failed to compile Mail::SpamAssassin::Plugin::Check::_head_tests_0_3, skipping:\nFeb 12 12:52:59.522 [32767] warn:  (Unmatched ) in regex; marked by &lt;-- HERE in m/: [...][a-z]+) &lt;-- HERE )(\\\\.)((/ at /etc/spamassassin/local.cf, rule NAME_DOT_SURNAME_DOT_FQDN, line 1.)\nFeb 12 12:52:59.620 [32767] warn: lint: 1 issues detected, please rerun with debug enabled for more information\n</code></pre>\n\n<p>Running <code>spamassassin --lint -D</code> just produces a wall of text that contains the same error.\nCan anyone please point me to the right direction? Thanks in advance. </p>\n"}, {"tags": ["perl", "sockets", "flush", "inet", "autoflush"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1518426004, "post_id": 48742557, "comment_id": 84484956, "body": "as of version 1.18 autoflush is on by default."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 4, "creation_date": 1518429232, "post_id": 48742557, "comment_id": 84486969, "body": "Note <code>$|=1;</code> doesn&#39;t turn on autoflush for the socket, you would want <code>$socket-&gt;autoflush(1);</code> instead - but it sounds to me like that&#39;s not the problem, and I&#39;d suggest investigating and telling us more about the rest of the code. For example: What does <i>&quot;works fine on the first few minutes&quot;</i> mean? Are you using <code>print</code> or <code>syswrite</code> to write to the socket? etc."}, {"owner": {"reputation": 227, "user_id": 1966084, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/d3e391bb0bbfb4f8b3f1213f47b6460b?s=128&d=identicon&r=PG", "display_name": "yanger", "link": "https://stackoverflow.com/users/1966084/yanger"}, "edited": false, "score": 0, "creation_date": 1518437534, "post_id": 48742557, "comment_id": 84492153, "body": "Well - let me elaborate a bit more:  $message is a simple string with 20-50 characters.  I want each $message to be sent when i call &quot;say()&quot; function.  The &quot;forward_message&quot; function is called once every 1-5 seconds.  I am using tcpdump to capture the interface output and here is what i see:  In the first few minutes - i get individual messages every 1-5 seconds. after some time I see one big message (truncated) every few minutes.  Also - I opened the Socket.pm file and made sure autoflush is set to 1 on the constructor."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518543939, "post_id": 48742557, "comment_id": 84546752, "body": "Please provide <code>strace</code> output"}], "answers": [{"tags": [], "owner": {"reputation": 227, "user_id": 1966084, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/d3e391bb0bbfb4f8b3f1213f47b6460b?s=128&d=identicon&r=PG", "display_name": "yanger", "link": "https://stackoverflow.com/users/1966084/yanger"}, "is_accepted": false, "score": 0, "last_activity_date": 1518596007, "creation_date": 1518596007, "answer_id": 48782457, "question_id": 48742557, "link": "https://stackoverflow.com/questions/48742557/perl-socket-iosocketinet6-is-not-autoflushing/48782457#48782457", "title": "Perl socket (IO::Socket::INET6) is not autoflushing", "body": "<p>I found a workaround.\nNot sure it will work as expected if you are using Perl-Threads, but for my small application it works. </p>\n\n<pre><code>$socket-&gt;say($message);\n$socket-&gt;flush();\n</code></pre>\n\n<p>Manually calling flush will send the message if autoflush failed to do so. </p>\n\n<p>I will open a ticket the the CPAN IO group</p>\n"}], "owner": {"reputation": 227, "user_id": 1966084, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/d3e391bb0bbfb4f8b3f1213f47b6460b?s=128&d=identicon&r=PG", "display_name": "yanger", "link": "https://stackoverflow.com/users/1966084/yanger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518596007, "creation_date": 1518425634, "question_id": 48742557, "link": "https://stackoverflow.com/questions/48742557/perl-socket-iosocketinet6-is-not-autoflushing", "title": "Perl socket (IO::Socket::INET6) is not autoflushing", "body": "<p>I have a very strange scenario.\nI have a Perl application that receives input from several connections (sockets and pipes). \nThan I am forwarding the message to a pre-defined destinations (sockets are already opened).</p>\n\n<p>see code example: </p>\n\n<pre><code>our %openSockets;\nsub forward_message{\n    my ($message,$ip,$port,$proto) = @_;\n    my $key = \"$ip:$port:$proto\";\n\n    my $socket = $openSockets{$key};\n    unless ($socket &amp;&amp; $socket-&gt;connected()){\n$|=1;#Setting autoflush\n        $socket = new IO::Socket::INET6(\n        PeerAddr =&gt; $ip,\n        PeerPort =&gt; $port,\n        Proto    =&gt; $proto\n        ) || die \"Can't create socket [$key]\"; \n        $openSockets{$key} = $socket;\n    }\n\n    #autoflush $sock 1;\n    $socket-&gt;say($message);\n    #$socket-&gt;flush();\n}\n</code></pre>\n\n<p>The program works fine on the first few minutes but than - for some reason autoflush stop working and the socket starts to buffer. The socket starts to send chunks of ~1500 bytes.</p>\n\n<p>Currently what seems to help is manually calling the flush function (see commented inline). \nCan anyone explain why autoflush stop working suddenly after few minutes? \nIs calling manually to flush a valid and only solution? </p>\n\n<p>FYI - i run strace on the process and made sure its the process that writes the ~1500 bytes chunks (This is not the interface driver that decides to buffer it)</p>\n\n<p>More info if needed: \nPlatfom: Linux\nPerl version: 5.16\nModule Version: 2.69 (INET6) | 1.34 (Socket)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 3, "creation_date": 1518423994, "post_id": 48742087, "comment_id": 84483912, "body": "In which way does it not work? What did you try? What indicators of failure did you get?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518424090, "post_id": 48742087, "comment_id": 84483964, "body": "In your <code>script.pl</code> you can <code>use app::Attachments qw( SendEmmsgAttachments );</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518424232, "post_id": 48742087, "comment_id": 84484043, "body": "You can change your <code>@EXPORTS</code> line to <code>@EXPORTS_OK qw( SendEmmsgAttachments );</code> Notice there is no <code>&amp;</code> there."}, {"owner": {"reputation": 25, "user_id": 8254578, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-WWnaKx3gglw/AAAAAAAAAAI/AAAAAAAAAD4/YFCxv1juZ9s/photo.jpg?sz=128", "display_name": "Deep Mukherjee", "link": "https://stackoverflow.com/users/8254578/deep-mukherjee"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518428039, "post_id": 48742087, "comment_id": 84486170, "body": "Hi @xxfelixx when i am using use app::Attachments qw( SendEmmsgAttachments ); in my code script.pl it is giving &quot;&quot;SendEmmsgAttachments&quot; is not exported by the app::Attachments module&quot; exception"}, {"owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "edited": false, "score": 1, "creation_date": 1518428679, "post_id": 48742087, "comment_id": 84486578, "body": "Remve the &#39;&amp;&#39; in front of the subroutine name.  And while you&#39;re at it, move lines 4-6 out of the BEGIN block.  It&#39;s not needed.  And add &quot;use strict&quot; somewhere."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1518428922, "post_id": 48742087, "comment_id": 84486752, "body": "And <code>@ISA</code> and <code>@EXPORT</code> both need an <code>our</code> before them too."}, {"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "reply_to_user": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "edited": false, "score": 1, "creation_date": 1518435354, "post_id": 48742087, "comment_id": 84490794, "body": "@GuidoFlohr <a href=\"http://perldoc.perl.org/Exporter.html\" rel=\"nofollow noreferrer\">perldoc Exporter</a> says that the <code>&amp;</code> for exporting subs is optional, so this should not be the problem."}, {"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1518435449, "post_id": 48742087, "comment_id": 84490855, "body": "@xxfelixxx it&#39;s <code>@EXPORT</code> and <code>@EXPORT_OK</code>, without the trailing &#39;s&#39;. And the <code>&amp;</code> is ok, although it is optional."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 0, "creation_date": 1518438340, "post_id": 48742087, "comment_id": 84492639, "body": "Thanks @tinita, you are correct. Hopefully that was reflected in my answer!"}, {"owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "reply_to_user": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 0, "creation_date": 1518514427, "post_id": 48742087, "comment_id": 84527463, "body": "@tinita yep, you&#39;re right."}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 2, "last_activity_date": 1518429416, "creation_date": 1518429416, "answer_id": 48743652, "question_id": 48742087, "link": "https://stackoverflow.com/questions/48742087/how-to-call-a-subroutine-exported-from-a-pm-file/48743652#48743652", "title": "How to call a subroutine exported from a .pm file", "body": "<p>Here is a very basic hello world, using a perl module and script, demonstrating how to use the Exporter library.  See <a href=\"http://perldoc.perl.org/Exporter.html\" rel=\"nofollow noreferrer\">perldoc Exporter</a> for more details.</p>\n\n<p><strong>Foo.pm</strong></p>\n\n<pre><code>package Foo;\n\nuse strict;\nuse warnings FATAL =&gt; 'all';\nuse Exporter 'import';\n\nour $VERSION = '0.01';\nour @EXPORT_OK = qw( bar );\n\nsub bar {\n    return \"Hello World\";\n}\n\n1; # Last statement of a .pm file must evaluate to 'true'\n</code></pre>\n\n<p><strong>try_foo.pl</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nuse Foo qw( bar );\n\nmy $msg = bar();\n\nprint $msg . \"\\n\";\n</code></pre>\n\n<p><strong>In action:</strong></p>\n\n<pre><code>perl try_foo.pl \nHello World\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1518463968, "creation_date": 1518463968, "answer_id": 48754160, "question_id": 48742087, "link": "https://stackoverflow.com/questions/48742087/how-to-call-a-subroutine-exported-from-a-pm-file/48754160#48754160", "title": "How to call a subroutine exported from a .pm file", "body": "<p>In your program you have this line:</p>\n\n<pre><code>use Exporter();\n</code></pre>\n\n<p>This instructs Perl to load the <code>Exporter</code> module but to not import anything from it. The parentheses denote that you want to supply your own import list rather than accepting the default list. Since you have nothing in your import list, nothing is imported.</p>\n\n<p>You get around this by inheriting from <code>Exporter</code> by adding it to <code>@ISA</code>. There's plenty of sample code out there that does this. However, you only really want the <code>import</code> routine rather than being a more specific version of an exporting tool. You can do that by asking for only the <code>import</code> routine:</p>\n\n<pre><code>use Exporter qw(import);\n</code></pre>\n\n<p>After that you need to specify what you want to export by default in <code>@EXPORT</code>. For subroutines, leave off the <code>&amp;</code>. It's not a big deal but it's common to see it like this:</p>\n\n<pre><code>our @EXPORT = qw( SendEmmsgAttachments );\n</code></pre>\n\n<p>If you want your program to specifically ask to import a subroutine you can put that in <code>@EXPORT_OK</code>. These entries are not exported by default\u2014they are allowed to be exported if you ask for them:</p>\n\n<pre><code>our @EXPORT_OK = qw( SendEmmsgAttachments );\n</code></pre>\n\n<p>The <code>our</code> is there to declare the variable as a package variable. Your program isn't bothered by that because you don't <code>use strict</code> (which isn't the end of the world but is a good habit).</p>\n\n<p>I'd take your <code>BEGIN</code> block and replace it with:</p>\n\n<pre><code>use Exporter qw(import);\nour @EXPORT_OK = qw( SendEmmsgAttachments );\n</code></pre>\n\n<p>When you run into problems like this, create the smallest example that shows the problem so you eliminate anything else that might be a problem.</p>\n"}], "owner": {"reputation": 25, "user_id": 8254578, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-WWnaKx3gglw/AAAAAAAAAAI/AAAAAAAAAD4/YFCxv1juZ9s/photo.jpg?sz=128", "display_name": "Deep Mukherjee", "link": "https://stackoverflow.com/users/8254578/deep-mukherjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1518463968, "creation_date": 1518423714, "last_edit_date": 1518439570, "question_id": 48742087, "link": "https://stackoverflow.com/questions/48742087/how-to-call-a-subroutine-exported-from-a-pm-file", "title": "How to call a subroutine exported from a .pm file", "body": "<p>I have a script <code>Attachments.pm</code> which contains below</p>\n\n<pre><code>package app::Attachments;\n\nuse MIME::Lite;\n\nBEGIN {\n    use Exporter();\n    @ISA    = qw(Exporter);\n    @EXPORT = qw(&amp;SendEMmsgAttachments);\n}\n\nsub SendEMmsgAttachments {\n\n    $EM_SERVER  = \"1234.com\";\n    $EM_FROM    = \"yyy@1234.com\"; #hardcoded\n    $EM_TIMEOUT = 120;\n\n    my $mailMessage;\n    my $mailToEmailAddress;\n    my $mailSubject;\n    my $mailBody;\n    my $mailAttachmentFileName;\n    my $mailAttachmentFullPath;\n\n    $mailMessage = MIME::Lite-&gt;new(\n        From    =&gt; $EM_FROM,\n        To      =&gt; $mailToEmailAddress,\n        Subject =&gt; $mailSubject,\n        Type    =&gt; 'multipart/mixed'\n    )  or die \"Error creating multipart container: $!\\n\";\n\n    ### Add the text message part\n    $mailMessage-&gt;attach(\n        Type =&gt; 'text/csv',\n        Data =&gt; $mailBody\n    )  or die \"Error adding the text message part: $!\\n\";\n\n    ### Add the text file\n    $mailMessage-&gt;attach(\n        Encoding =&gt; 'base64',\n        Type     =&gt; \"text\",\n</code></pre>\n\n<p>I want to use <code>SendEMmsgAttachments</code> in my <code>testscript.pl</code> file so that I can send my Excel attachment in email.</p>\n\n<p>Can anyone help me out in resolving the issue?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1518422014, "post_id": 48741605, "comment_id": 84482970, "body": "line 4 is a useless use of string in a void context."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518422528, "post_id": 48741605, "comment_id": 84483232, "body": "How is it possible for you to be inside the if-block, because if <code>@_</code> is empty, you will never hit the rest of the lines?"}, {"owner": {"reputation": 1, "user_id": 8640382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/187478f14eca5ffbb64e50bd1cddfe31?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/8640382/manish"}, "edited": false, "score": 0, "creation_date": 1518422569, "post_id": 48741605, "comment_id": 84483253, "body": "that is useful in case of array consisting of some values like ([(1),(3),(8),(6)])"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518422602, "post_id": 48741605, "comment_id": 84483264, "body": "ok, fine, but then you will never handle the case where the array is empty."}, {"owner": {"reputation": 1, "user_id": 8640382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/187478f14eca5ffbb64e50bd1cddfe31?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/8640382/manish"}, "edited": false, "score": 0, "creation_date": 1518422867, "post_id": 48741605, "comment_id": 84483378, "body": "yes, that is the issue which i am facing."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 2, "creation_date": 1518422984, "post_id": 48741605, "comment_id": 84483426, "body": "Well, there is no <code>nul</code> in perl, there is <code>undef</code>.  You could just <code>print &quot;[]\\n&quot; unless scalar @_;</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518423018, "post_id": 48741605, "comment_id": 84483440, "body": "0 means the array is empty, as in it has 0-elements."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1518450097, "creation_date": 1518450097, "answer_id": 48750152, "question_id": 48741605, "link": "https://stackoverflow.com/questions/48741605/rand-generating-0-value-instead-of-null-for-empty-array-in-perl/48750152#48750152", "title": "rand() generating 0 value instead of null for empty array in perl", "body": "<pre><code>@a ? int(rand(@a)) : undef\n</code></pre>\n\n<p>&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;</p>\n"}], "owner": {"reputation": 1, "user_id": 8640382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/187478f14eca5ffbb64e50bd1cddfe31?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/8640382/manish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "closed_date": 1518457500, "answer_count": 1, "score": -2, "last_activity_date": 1518450097, "creation_date": 1518421421, "last_edit_date": 1518422376, "question_id": 48741605, "link": "https://stackoverflow.com/questions/48741605/rand-generating-0-value-instead-of-null-for-empty-array-in-perl", "closed_reason": "Needs details or clarity", "title": "rand() generating 0 value instead of null for empty array in perl", "body": "<pre><code>if (@_ &amp;&amp; @$types &amp;&amp; $types-&gt;[0]) {\n    # Random array lookup\n    print \"@_\\n\"; #([])\n    (\"\\@{$_[0]}&amp;&amp;$_[0]\\-&gt;[rand(\\@{$_[0]})]\", chooseType($_[0]))\n}\n</code></pre>\n\n<p>I want to return <code>nul</code> instead of <code>0</code>, as the array is empty.</p>\n"}, {"tags": ["perl", "ziparchive"], "comments": [{"owner": {"reputation": 57, "user_id": 5098071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903a54b41a713d250f114e1e32e25444?s=128&d=identicon&r=PG&f=1", "display_name": "sangramjit basu", "link": "https://stackoverflow.com/users/5098071/sangramjit-basu"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1518415980, "post_id": 48739723, "comment_id": 84480441, "body": "YOU are fabulous !!...such a silly mistake on my part :("}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1518417099, "creation_date": 1518417099, "answer_id": 48740717, "question_id": 48739723, "link": "https://stackoverflow.com/questions/48739723/accessing-a-specific-file-in-zipped-folder-using-perl-perl-module/48740717#48740717", "title": "Accessing a specific file in zipped folder using perl (perl module)", "body": "<p>You are assigning to $line but printing $_; try <code>print $line;</code> </p>\n"}], "owner": {"reputation": 57, "user_id": 5098071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903a54b41a713d250f114e1e32e25444?s=128&d=identicon&r=PG&f=1", "display_name": "sangramjit basu", "link": "https://stackoverflow.com/users/5098071/sangramjit-basu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 48740717, "answer_count": 1, "score": 0, "last_activity_date": 1518417099, "creation_date": 1518411024, "question_id": 48739723, "link": "https://stackoverflow.com/questions/48739723/accessing-a-specific-file-in-zipped-folder-using-perl-perl-module", "title": "Accessing a specific file in zipped folder using perl (perl module)", "body": "<p>I am trying to access a text file <strong>within a zipped folder</strong> to extract a certain information, without actually unzipping the file. I am trying to use Archive::Zip. The directory structure is like Data_stats.zip--> Data_stats/ --> full_data_stats.txt. Now I tried this</p>\n\n<pre><code>use Archive::Zip;\nuse Archive::Zip::MemberRead;\nuse File::Basename;\n\n$zip_dir=$ARGV[0];\n@name =split(\"\\\\.\",basename($zip_dir)); ## to get zipped folder name\n$dir = Archive::Zip-&gt;new(\"$zip_dir\");\n$fh = Archive::Zip::MemberRead-&gt;new($dir,\"$name[0]/full_data_stats.txt\"); ##trying to reads the file giving the path and mentioning the specific file name\n\nwhile (defined($line = $fh-&gt;getline()))\n{\n{print}\n}\n</code></pre>\n\n<p>I see it extracting the folder but not reading in the file !!. </p>\n\n<p>Regards</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 3, "creation_date": 1518392890, "post_id": 48737647, "comment_id": 84475006, "body": "To summarize the dup, without the plus sign, it parses as <code>(print(...))-&gt;readline()</code>. i.e it tries to call <code>readline</code> on the result of <code>print</code>."}, {"owner": {"reputation": 944, "user_id": 1832712, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e57c7d0a8ad5f647bce1df728ed7a227?s=128&d=identicon&r=PG", "display_name": "Georg", "link": "https://stackoverflow.com/users/1832712/georg"}, "reply_to_user": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 1, "creation_date": 1518393377, "post_id": 48737647, "comment_id": 84475143, "body": "Thanks @that other guy for the link, and @ Silvio Mayolo for the summary. It all makes sense now."}, {"owner": {"reputation": 944, "user_id": 1832712, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e57c7d0a8ad5f647bce1df728ed7a227?s=128&d=identicon&r=PG", "display_name": "Georg", "link": "https://stackoverflow.com/users/1832712/georg"}, "reply_to_user": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 3, "creation_date": 1518394261, "post_id": 48737647, "comment_id": 84475334, "body": "The following code also works, and some may find it clearer: <code>print ((File::ReadBackwards-&gt;new(&#39;file.txt&#39;) || die $!)-&gt;readline());</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518415166, "post_id": 48737647, "comment_id": 84480152, "body": "This code should be two or even three separate statements: <code>my $fh = File::ReadBackwards-&gt;new(&#39;file.txt&#39;) or die $!</code>, <code>my $line = &lt;$fh&gt;</code> and <code>print $line</code>. (The last two may be combined as <code>print scalar &lt;$fh&gt;</code>.)  It&#39;s a false economy to reduce code to the point of obfuscation."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1518415621, "post_id": 48737647, "comment_id": 84480305, "body": "<i>&quot;It doesn&#39;t help that Google search ignores symbols such as &quot;+&quot; or &quot;+(&quot; in queries...&quot;</i> The plus sign is a Google search metacharacter. You need to put it inside quotes to make it part of the search string: <code>perl &quot;print +(&quot;</code> works fine."}], "owner": {"reputation": 944, "user_id": 1832712, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e57c7d0a8ad5f647bce1df728ed7a227?s=128&d=identicon&r=PG", "display_name": "Georg", "link": "https://stackoverflow.com/users/1832712/georg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "closed_date": 1518393153, "answer_count": 0, "score": 2, "last_activity_date": 1518393730, "creation_date": 1518392508, "last_edit_date": 1518393730, "question_id": 48737647, "link": "https://stackoverflow.com/questions/48737647/perl-what-is-this-doing-here-print-plus", "closed_reason": "Duplicate", "title": "Perl: What is this + doing here? (print plus)", "body": "<p>I came across <a href=\"http://www.perlmonks.org/bare/?node_id=385338\" rel=\"nofollow noreferrer\">this</a> which prints the last line of a text file:</p>\n\n<pre><code>use File::ReadBackwards;\nprint +( \n        File::ReadBackwards-&gt;new('file.txt') || die $! \n       )-&gt;readline();\n</code></pre>\n\n<p>What is the <code>+</code> for in <code>print +(</code> ?</p>\n\n<p>It doesn't help that Google search ignores symbols such as \"+\" or \"+(\" in queries...</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1518385114, "post_id": 48736628, "comment_id": 84472948, "body": "Please include a complete example."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1518386995, "post_id": 48736628, "comment_id": 84473515, "body": "yes, more code please.  what is &quot;the result file&quot;?  nothing you show actually outputs anything"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1518395515, "post_id": 48736628, "comment_id": 84475614, "body": "Is your actual code doing something other than <code>chmod</code>? This, as it stands, doesn&#39;t make much sense.  There is absolutely no reason to run <code>grep</code> on all lines if all you want is to check the file for a phrase, it is very confusing to look at <code>grep</code> in void context, and it is inefficient. Just read line by line."}, {"owner": {"reputation": 1, "user_id": 9347198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b79ccf4869143493e5077eaaad6426f?s=128&d=identicon&r=PG&f=1", "display_name": "ABD", "link": "https://stackoverflow.com/users/9347198/abd"}, "edited": false, "score": 0, "creation_date": 1518407107, "post_id": 48736628, "comment_id": 84478143, "body": "Sorry I missed the line  in the code. Have updated it now."}, {"owner": {"reputation": 1, "user_id": 9347198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b79ccf4869143493e5077eaaad6426f?s=128&d=identicon&r=PG&f=1", "display_name": "ABD", "link": "https://stackoverflow.com/users/9347198/abd"}, "edited": false, "score": 0, "creation_date": 1518458312, "post_id": 48736628, "comment_id": 84505959, "body": "Hi @simbalque and all. Can you help me understand how to add callback to my code so that it preforms grep only after the result file is completely generated."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1518516060, "post_id": 48736628, "comment_id": 84528504, "body": "There isn&#39;t enough shown. Guesses: (1) <code>lsf_bsub</code> forks processes on its own, which finish later, after <code>lsf_bsub</code> itself exited. There is no easy answer to that  (2) Something is up with <code>$LOG</code> filehandle, which you never close. Add <code>close $LOG;</code>, say after you wait out all children. Btw, how does that logging work for you? The writes from child processes in general overlap. Consider each child writing its own log (and assemble them afterwards) // Otherwise, after <code>wait_all_children</code> it should all be done. You don&#39;t need callbacks."}], "answers": [{"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 0, "last_activity_date": 1518396801, "last_edit_date": 1518396801, "creation_date": 1518389789, "answer_id": 48737378, "question_id": 48736628, "link": "https://stackoverflow.com/questions/48736628/parallel-processing-in-perl/48737378#48737378", "title": "Parallel processing in perl", "body": "<p>As far as I can tell, the only thing you are doing in your multiprocessing code is changing the permissions of the files to give them execute privileges--you aren't actually running the tests.  So, <code>wait_all_children</code> is only waiting for the file permissions to change--not for the tests to complete.</p>\n\n<hr>\n\n<p>I could not duplicate your problem with <code>wait_all_children()</code>, but you can use callbacks that will execute when a child process terminates, which is nice because then you can start processing a file without having to wait until <em>all</em> the children have finished executing:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse autodie;\nuse Data::Dumper;\nuse Parallel::ForkManager;\n\nmy %prog_names = (\n    'a.pl' =&gt; 'a.txt',\n    'b.pl' =&gt; 'b.txt',\n    'c.pl' =&gt; 'c.txt',\n    'd.pl' =&gt; 'd.txt',\n);\n\nmy $max_procs = 3;\nmy $pm = new Parallel::ForkManager($max_procs);\n\nsub process_file {\n    my ($pid, $exit_code, $ident) = @_;\n\n    say \"** $ident just got out of the pool \".\n        \"with PID $pid and exit code: $exit_code\";\n\n    open my $INFILE, '&lt;', $prog_names{$ident};\n    my @lines = grep {$_ =~ /hello/} &lt;$INFILE&gt;;\n    close $INFILE;    \n    say for @lines;\n}\n\n$pm-&gt;run_on_finish(\\&amp;process_file);\n\nPROG_NAME:\nfor my $prog_name (keys %prog_names) {\n\n    system(\"chmod a+x $prog_name\");\n\n    #The arg for start() becomes $ident in the callback function\n    my $pid = $pm-&gt;start($prog_name) and next PROG_NAME;\n\n    # This code is the child process:\n    system(\"/usr/bin/env perl $prog_name\");\n\n    #A numeric arg specified for finish() becomes $exit_code in the\n    #callback function.\n    $pm-&gt;finish;\n}\n\n$pm-&gt;wait_all_children;\n</code></pre>\n\n<p>a.pl:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse autodie;\nuse Data::Dumper;\n\nsleep int(rand(10));\n\nopen my $OUTFILE, '&gt;', 'a.txt'; \nsay {$OUTFILE} \"hello a.txt world\";\nclose $OUTFILE;\n</code></pre>\n\n<p>b.pl:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse autodie;\nuse Data::Dumper;\n\nsleep int(rand(10));\n\nopen my $OUTFILE, '&gt;', 'b.txt'; \nsay {$OUTFILE} \"hello b.txt world\";\nclose $OUTFILE;\n</code></pre>\n\n<p>c.pl and d.pl:</p>\n\n<pre><code>Similar to others.\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ rm [a-d].txt\nremove a.txt? y\nremove b.txt? y\nremove c.txt? y\nremove d.txt? y\n\n$ perl 1.pl \n** c.pl just got out of the pool with PID 23293 and exit code: 0\nhello c.txt world\n\n** b.pl just got out of the pool with PID 23290 and exit code: 0\nhello b.txt world\n\n** a.pl just got out of the pool with PID 23296 and exit code: 0\nhello a.txt world\n\n** d.pl just got out of the pool with PID 23299 and exit code: 0\nhello d.txt world\n\n$ cat [a-d].txt\nhello a.txt world\nhello b.txt world\nhello c.txt world\nhello d.txt world\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9347198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b79ccf4869143493e5077eaaad6426f?s=128&d=identicon&r=PG&f=1", "display_name": "ABD", "link": "https://stackoverflow.com/users/9347198/abd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518407068, "creation_date": 1518384322, "last_edit_date": 1518407068, "question_id": 48736628, "link": "https://stackoverflow.com/questions/48736628/parallel-processing-in-perl", "title": "Parallel processing in perl", "body": "<p>I am using the following code to run the multiprocessing jobs. After launching the multiprocessing I am trying to grep \"RUN COMPLETED\" from the result file, but the grep operation is completed before it reached \"RUN COMPLETED\" line.Hence my grep output is not correct.\nHowever , if I use sleep(20); after $pm->wait_all_children; the grep output is correct. Can anyone let me know how to wait until my all jobs are complete, so that I can get rid of sleep(20).\nI think I need to wait until my job is completely executed to generate the result file completely but unable to understand how to do it. Please suggest.</p>\n\n<pre><code>pJobs:\nforeach my $test(sort (@test_files)) {\n    $pm-&gt;start and next pJobs;\n    my $Exec = $output.\"/Runsets/\".$test;\n    system (\"chmod +x $Exec\");\n    print $LOG `lsf_bsub -J $test -o $output/Runsets/output.file &lt; $Exec`, \"\\n\";\n    $pm-&gt;finish;\n    }\n    $pm-&gt;wait_all_children;\nmy $DH = IO::Dir-&gt;new(\"$output/Runsets\") || die \"ERROR : Can not access $output/Runsets: ($!)\";\nwhile ( defined (my $file = $DH-&gt;read)) {\n    if($file =~ /^testcase\\.(\\d+)/) {\n        my $Result_File = IO::File-&gt;new (\"$output/Runsets/$file\", 'r') || die \"ERROR while tryed to open $output/Runsets/$file:($!)\";\n        grep {\n            my $line = $_;\n            chomp $line;\n            if($line =~ /RUN COMPLETED/) {\n                print $OUT \"FOUND\"\n            }elsif ($line =~ /^ERROR:/) {\n                print \"ERROR - NOT FOUND\";\n            } \n        } &lt;$Result_File&gt; ;\n        $Result_File-&gt;close;\n   }\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "css", "perl", "cgi.pm"], "comments": [{"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1518374549, "post_id": 48734859, "comment_id": 84469335, "body": "Could you please clarify what your problem is? Any errors?"}, {"owner": {"reputation": 21, "user_id": 8565178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee775804ca4061cb60b61036a6cc9149?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/8565178/sanjay"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1518375363, "post_id": 48734859, "comment_id": 84469633, "body": "@KoshVery.. the error is :  Uncaught ReferenceError: $ is not defined     at inputvalidation.js:17"}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1518379200, "post_id": 48734859, "comment_id": 84471007, "body": "Don&#39;t see <code>inputvalidation.js</code> in your code. Where is it being included?"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 1, "creation_date": 1518379668, "post_id": 48734859, "comment_id": 84471136, "body": "@Sanjay, To the left of the answer that solved your problem, there is a checkmark.  If you click it, then it does three things: 1) It tells everyone else that your question was answered to your satisfaction, so they don&#39;t have to bother reading the question. 2) It awards points to the person who answered your question.  3) It awards points to you as well."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8565178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee775804ca4061cb60b61036a6cc9149?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/8565178/sanjay"}, "edited": false, "score": 0, "creation_date": 1518376172, "post_id": 48735133, "comment_id": 84469931, "body": "my $q = CGI-&gt;new();  my $JAVASCRIPT = &lt;&lt;&#39;ENDJS&#39;; $( function() {     $( &quot;#datepick&quot; ).datepicker({ minDate: 0, maxDate: &quot;+1M +10D&quot; }); } ); ENDJS  print $q-&gt;header, $q-&gt;start_html ( -style=&gt;[{&#39;src&#39;=&gt;&#39;/sthome.css&#39;}, {&#39;src&#39;=&gt;&#39;//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.c&zwnj;&#8203;ss&#39;}, {&#39;src&#39;=&gt;&#39;/resources/demos/style.css&#39;}], \t -script=&gt;[{-language=&gt;&#39;javascript&#39;, \t-src=&gt;&#39;/ivalid.js&#39;}, {-language=&gt;&#39;javascript&#39;, -src=&gt;&#39;<a href=\"https://code.jquery.com/jquery-1.12.4.js\" rel=\"nofollow noreferrer\">code.jquery.com/jquery-1.12.4.js</a>&#39;}, {-language=&gt;&#39;javascript&#39;,          $JAVASCRIPT, ] ),     tried this.. doesn&#39;t work"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 21, "user_id": 8565178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee775804ca4061cb60b61036a6cc9149?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/8565178/sanjay"}, "edited": false, "score": 0, "creation_date": 1518376480, "post_id": 48735133, "comment_id": 84470042, "body": "@Sanjay That&#39;s really difficult to read, but yes, it looks like what I meant. I just edited down my example to leave out a few elements to make it shorter."}, {"owner": {"reputation": 21, "user_id": 8565178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee775804ca4061cb60b61036a6cc9149?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/8565178/sanjay"}, "edited": false, "score": 0, "creation_date": 1518376652, "post_id": 48735133, "comment_id": 84470104, "body": "its showing after compiling as you said.. if i execute like this in normal html file then the datepicker is showing.. but in cgi.pm format its not showing"}, {"owner": {"reputation": 21, "user_id": 8565178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee775804ca4061cb60b61036a6cc9149?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/8565178/sanjay"}, "edited": false, "score": 0, "creation_date": 1518376696, "post_id": 48735133, "comment_id": 84470118, "body": "what is this cdata?"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 21, "user_id": 8565178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee775804ca4061cb60b61036a6cc9149?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/8565178/sanjay"}, "edited": false, "score": 0, "creation_date": 1518376860, "post_id": 48735133, "comment_id": 84470185, "body": "@Sanjay Sorry, I don&#39;t understand what you mean with <i>&quot;in cgi.pm format its not showing&quot;</i> - not showing where and how? As for <code>CDATA</code>, see e.g. <a href=\"https://stackoverflow.com/questions/66837/when-is-a-cdata-section-necessary-within-a-script-tag\">When is a CDATA section necessary within a script tag?</a>"}, {"owner": {"reputation": 21, "user_id": 8565178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee775804ca4061cb60b61036a6cc9149?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/8565178/sanjay"}, "edited": false, "score": 0, "creation_date": 1518377364, "post_id": 48735133, "comment_id": 84470363, "body": "when i compile the script, the result is the same as you just showed(in html format), but the date datepicker is not working. and there are no errors also."}, {"owner": {"reputation": 21, "user_id": 8565178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee775804ca4061cb60b61036a6cc9149?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/8565178/sanjay"}, "edited": false, "score": 1, "creation_date": 1518377783, "post_id": 48735133, "comment_id": 84470510, "body": "ya it works now... i was missing the id tag actually"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 1, "creation_date": 1518379255, "post_id": 48735133, "comment_id": 84471025, "body": "Nice work!  One missing comma in my <code>$q-&gt;textfield()</code> element caused the datepicker to not get installed because the attributes for the <code>&lt;input type=&quot;text&quot;&gt;</code> were all screwed up--most importantly the id attribute.  I always forget about <code>$ perl cgi.pl</code>, which will show the output of the cgi program.   Your answer with the output jogged my memory, which allowed me to fix my html. My question: How in the heck did you come up with that syntax in the <code>-script</code> array?  According to the CGI.pm docs, the syntax should be <code>{-code=&gt;$JSCRIPT}</code>.  Of course, the output shows that your syntax also works."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1518381358, "post_id": 48735133, "comment_id": 84471677, "body": "@7stud Thanks, and I have to admit I don&#39;t remember where I originally got that syntax from - for this post I pulled some code out of an existing, older CGI script I had lying around. It&#39;s a pure guess, but maybe back then I looked into the docs, saw the first example of <code>-script =&gt; $JSCRIPT</code> and then the mention that you can put multiple scripts in an arrayref... or maybe I got it from someone else&#39;s code online :-)"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1518384089, "post_id": 48735133, "comment_id": 84472590, "body": "No worries. Thanks for getting back to me."}], "tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": false, "score": 2, "last_activity_date": 1518374998, "creation_date": 1518374998, "answer_id": 48735133, "question_id": 48734859, "link": "https://stackoverflow.com/questions/48734859/include-internal-javascript-in-cgi-pm/48735133#48735133", "title": "include internal javascript in cgi.pm", "body": "<p>If I understood your question correctly, all you need to do is include a string in the <code>-script=&gt;[...]</code> array:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse CGI;\n\nmy $q = CGI-&gt;new;\n\nmy $JAVASCRIPT = &lt;&lt;'ENDJS';\n$( function() {\n    $( \"#datepick\" ).datepicker({ minDate: 0, maxDate: \"+1M +10D\" });\n} );\nENDJS\n\nprint $q-&gt;start_html(\n    -title=&gt;'Baseline Automation Input',\n    -style=&gt;[ {'src'=&gt;'/sthome.css'}, ],\n    -script=&gt;[\n        {-language=&gt;'javascript', -src=&gt;'/ivalid.js'},\n        $JAVASCRIPT,\n    ],\n);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;!DOCTYPE html\n    PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n     \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en-US\" xml:lang=\"en-US\"&gt;\n&lt;head&gt;\n&lt;title&gt;Baseline Automation Input&lt;/title&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/sthome.css\" /&gt;\n&lt;script src=\"/ivalid.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;//&lt;![CDATA[\n$( function() {\n    $( \"#datepick\" ).datepicker({ minDate: 0, maxDate: \"+1M +10D\" });\n} );\n\n//]]&gt;&lt;/script&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 8565178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee775804ca4061cb60b61036a6cc9149?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/8565178/sanjay"}, "edited": false, "score": 0, "creation_date": 1518377518, "post_id": 48735229, "comment_id": 84470415, "body": "this didn&#39;t make any difference"}], "tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": false, "score": 1, "last_activity_date": 1518375578, "creation_date": 1518375578, "answer_id": 48735229, "question_id": 48734859, "link": "https://stackoverflow.com/questions/48734859/include-internal-javascript-in-cgi-pm/48735229#48735229", "title": "include internal javascript in cgi.pm", "body": "<p>Set <code>ivalid.js</code> after the <code>jquery</code> and <code>jquery-ui</code>:</p>\n\n<pre><code>$q-&gt;start_html\n(\n    -title=&gt;'Baseline Automation Input',\n    -style=&gt;[\n        {'src'=&gt;'/sthome.css'},\n        {'src'=&gt;'//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css'},\n        {'src'=&gt;'/resources/demos/style.css'}\n    ],\n    -script=&gt;[\n        {-language=&gt;'javascript', -src=&gt;'https://code.jquery.com/jquery-1.12.4.js'},\n        {-language=&gt;'javascript', -src=&gt;'https://code.jquery.com/ui/1.12.1/jquery-ui.js'}\n        {-language=&gt;'javascript', -src=&gt;'/ivalid.js'},\n    ]\n), \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1518383153, "last_edit_date": 1518383153, "creation_date": 1518380928, "answer_id": 48736123, "question_id": 48734859, "link": "https://stackoverflow.com/questions/48734859/include-internal-javascript-in-cgi-pm/48736123#48736123", "title": "include internal javascript in cgi.pm", "body": "<p>I also got your jquery to work by putting the jquery inline in the file--so there is no reason that the jquery can't be put in an external file as well.  I think you must have a <code>path problem</code> to your external js file.</p>\n\n<p>I use apache for my server, and here is my directory structure:</p>\n\n<pre><code>apache2/\n    cgi-bin/\n        perl4.pl\n    htdocs/\n       page.html\n       js/   \n           datepicker_installer.js\n</code></pre>\n\n<p>I can request perl4.pl with this url:</p>\n\n<pre><code>http://localhost:8080/cgi-bin/perl4.pl\n</code></pre>\n\n<p>My apache server is configured to listen on port 8080.</p>\n\n<p>I can request pages in the <code>htdocs</code> directory like this:</p>\n\n<pre><code>http://localhost:8080/page.html\n</code></pre>\n\n<p>Note how I don't have to specify the <code>htdocs</code> directory in the url.  At first glance, a relative path from the <code>cgi-bin</code> directory to the <code>htdocs/js</code> directory looks like it would be:</p>\n\n<pre><code>../htdocs/js/datepicker_installer.js\n</code></pre>\n\n<p>But, in fact my browser will fail to load the js file with that path:</p>\n\n<blockquote>\n  <p>Failed to load resource: the server responded with a status of 404\n  (Not Found) <a href=\"http://localhost:8080/htdocs/js/datepicker_installer.js\" rel=\"nofollow noreferrer\">http://localhost:8080/htdocs/js/datepicker_installer.js</a></p>\n</blockquote>\n\n<p>The correct relative path does not include the <code>htdocs</code> directory:</p>\n\n<pre><code>../js/datepicker_installer.js\n</code></pre>\n\n<p>With that path, I can put your js in the external file <code>datepicker_installer.js</code>, and here is what the perl cgi looks like:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse CGI qw(:all); \nuse CGI::Carp qw(fatalsToBrowser);\n\nmy $q = new CGI;\n\nmy $JSCRIPT = q-\n\n$( function() {\n    $( \"#datepick\" ).datepicker({ \n        minDate: 0, maxDate: \"+1M +10D\" \n    });\n} )\n\n-;\n\nprint(\n\n    $q-&gt;header,\n\n$q-&gt;start_html(\n    -title=&gt;'Baseline Automation Input',\n    -style=&gt;[\n        {-src=&gt;'https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css'}\n    ],\n    -script=&gt;[\n        {-src=&gt;'http://code.jquery.com/jquery-3.3.1.js',\n         -integrity=&gt;'sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=',\n         -crossorigin=&gt;'anonymous'\n        },\n        {-src=&gt;'https://code.jquery.com/ui/1.12.1/jquery-ui.js',\n         -integrity=&gt;'sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=',\n         -crossorigin=&gt;'anonymous'\n        },\n        #{-code=&gt;$JSCRIPT}  #This works too!\n        {-src=&gt;'../js/datepicker_installer.js'}  #&lt;===HERE\n    ],\n\n),\n\n    $q-&gt;div(\n        {-id=&gt;\"divtop\"},\n        $q-&gt;p(\"Here's a paragraph\")\n    ),\n\n    $q-&gt;start_form(\n        -method=&gt;'post'\n    ),\n\n    $q-&gt;div(\n        \"Reservation Date:\",\n        $q-&gt;textfield(\n            -name=&gt;'reservation',  #&lt;==Don't forget a comma here!\n            -size=&gt;50,\n            -maxlength=&gt;80,\n            -id=&gt;'datepick'\n        )\n    ),\n\n    $q-&gt;end_form(),\n    $q-&gt;end_html()\n\n);\n</code></pre>\n\n<p>datepicker_installer.js:</p>\n\n<pre><code>$( function() {\n    $( \"#datepick\" ).datepicker({ \n        minDate: 0, maxDate: \"+1M +10D\" \n    });\n} );\n</code></pre>\n\n<p>And here is the output produced by that script:</p>\n\n<pre><code>/usr/local/apache2/cgi-bin$ perl perl4.pl\n</code></pre>\n\n<hr>\n\n<pre><code>Content-Type: text/html; charset=ISO-8859-1\n\n&lt;!DOCTYPE html\n    PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n     \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en-US\" xml:lang=\"en-US\"&gt;\n&lt;head&gt;\n&lt;title&gt;Baseline Automation Input&lt;/title&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css\" /&gt;\n&lt;script src=\"http://code.jquery.com/jquery-3.3.1.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"../js/datepicker_installer.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"divtop\"&gt;&lt;p&gt;Here's a paragraph&lt;/p&gt;&lt;/div&gt;&lt;form method=\"post\" action=\"http://localhost\" enctype=\"multipart/form-data\"&gt;&lt;div&gt;Reservation Date: &lt;input type=\"text\" name=\"reservation\"  size=\"50\" maxlength=\"80\" id=\"datepick\" /&gt;&lt;/div&gt;&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Note in the output that CGI.pm does not accept arbitrary attributes for the <code>-script</code> hashes.  Therefore, you cannot follow best practices by including the integrity and crossorigin attributes.</p>\n"}], "owner": {"reputation": 21, "user_id": 8565178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee775804ca4061cb60b61036a6cc9149?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/8565178/sanjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1518383153, "creation_date": 1518373272, "last_edit_date": 1518376064, "question_id": 48734859, "link": "https://stackoverflow.com/questions/48734859/include-internal-javascript-in-cgi-pm", "title": "include internal javascript in cgi.pm", "body": "<p>I want to add jquery datepicker in cgi.pm file and want to add the script jquery tag inline for datepicker as it is not working in the external javascript file. how can this be added..\nI have to use cgi.pm because I am told to do so at my workplace, not by choice...</p>\n\n<p>The code in ivalid.js and sthome.css is working perfectly fine...</p>\n\n<p>This is the function I want to add internally in the cgi file.</p>\n\n<pre><code>$( function() {\n    $( \"#datepick\" ).datepicker({ minDate: 0, maxDate: \"+1M +10D\" });\n  } );\n</code></pre>\n\n<p>cgi.pm</p>\n\n<pre><code>$q-&gt;start_html\n(\n        -title=&gt;'ai',\n    -style=&gt;[{'src'=&gt;'/sthome.css'},\n         {'src'=&gt;'//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css'},\n         {'src'=&gt;'/resources/demos/style.css'}],\n     -script=&gt;[{-language=&gt;'javascript',\n              -src=&gt;'/ivalid.js'},\n              {-language=&gt;'javascript',\n             -src=&gt;'https://code.jquery.com/jquery-1.12.4.js'},\n             {-language=&gt;'javascript',\n            -src=&gt;'https://code.jquery.com/ui/1.12.1/jquery-ui.js'}\n              ]\n),\n</code></pre>\n"}, {"tags": ["shell", "perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1518371625, "post_id": 48734493, "comment_id": 84468277, "body": "how big is File B?"}, {"owner": {"reputation": 49, "user_id": 8802831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb28b8b09d0b36a9a1d2395b056662?s=128&d=identicon&r=PG&f=1", "display_name": "ebk", "link": "https://stackoverflow.com/users/8802831/ebk"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1518371744, "post_id": 48734493, "comment_id": 84468312, "body": "around 1000 lines"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 8802831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb28b8b09d0b36a9a1d2395b056662?s=128&d=identicon&r=PG&f=1", "display_name": "ebk", "link": "https://stackoverflow.com/users/8802831/ebk"}, "edited": false, "score": 0, "creation_date": 1518373284, "post_id": 48734791, "comment_id": 84468895, "body": "I have already did but it stops in this value West and doesn&#39;t process the second loop Morning. while ( &lt;IN2&gt; ) {     chomp;     my @ col2 = split &quot;,&quot;;     $hash{$col2[0]} = $col2[2]; }   while ( &lt;IN1&gt; ) {     chomp;     my @ col1 = split &quot;,&quot;;      if ( exists( $hash{$col1[2]} ) ) {         print OUT $col1[2] . &quot;,&quot; . $col1[1] . &quot;,&quot; . $col1[0] . &quot;,&quot; . $col1[3] . &quot;,&quot; . $hash{$col1[2]} . &quot;\\n&quot;;         } }"}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 0, "last_activity_date": 1518372877, "creation_date": 1518372877, "answer_id": 48734791, "question_id": 48734493, "link": "https://stackoverflow.com/questions/48734493/adding-a-new-position-at-the-end-of-the-file-shell-or-perl/48734791#48734791", "title": "Adding a new position at the end of the file Shell or Perl", "body": "<ol>\n<li>Convert small file into perl's hash</li>\n<li>Process big file line by line</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 8802831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb28b8b09d0b36a9a1d2395b056662?s=128&d=identicon&r=PG&f=1", "display_name": "ebk", "link": "https://stackoverflow.com/users/8802831/ebk"}, "edited": false, "score": 0, "creation_date": 1518387221, "post_id": 48735598, "comment_id": 84473575, "body": "It&#39;s worked. Thank you so much. I have a lot to learn. Do you recommend any site?"}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 0, "last_activity_date": 1518377699, "creation_date": 1518377699, "answer_id": 48735598, "question_id": 48734493, "link": "https://stackoverflow.com/questions/48734493/adding-a-new-position-at-the-end-of-the-file-shell-or-perl/48735598#48735598", "title": "Adding a new position at the end of the file Shell or Perl", "body": "<p>I was able to get the results you want by making a few changes to your code.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen IN2, '&lt;', \\&lt;&lt;EOF;\n**9999**,Position,West\n**9998**,Position,West\n**9997**,Position,South\n**1111**,Position,South\n**9999**,Time,Morning\n**9997**,Time,Afternoon\nEOF\n\nmy %hash;\n\nwhile ( &lt;IN2&gt; ) {\n     chomp;\n     my @col2 = split \",\"; \n     $hash{$col2[0]}{$col2[1]} = $col2[2]; \n} \n\nopen IN1, '&lt;', \\&lt;&lt;EOF;\nabc1111,1070X00Y0,**9999**,B\nabc2222,1070X00Y0,**9999**,B\nabc3333,1070x00Y0,**9999**,B\nEOF\n\nwhile ( &lt;IN1&gt; ) { \n    chomp;\n    my $key = (split /,/)[2];\n    if ( exists( $hash{$key} ) ) { \n        print join(\",\", $_, @{ $hash{$key} }{ qw/Position Time/ }), \"\\n\";\n    }\n} \n</code></pre>\n\n<p>This produced output of:</p>\n\n<pre><code>abc1111,1070X00Y0,**9999**,B,West,Morning\nabc2222,1070X00Y0,**9999**,B,West,Morning\nabc3333,1070x00Y0,**9999**,B,West,Morning\n</code></pre>\n\n<p>The changes to the code were</p>\n\n<ol>\n<li><p><code>$hash{$col2[0]}{$col2[1]} = $col2[2];</code> Create a Hash of Hash to hold the <code>Position</code> and <code>Time</code> keys. They are used in a hash slice here</p></li>\n<li><p><code>@{ $hash{$key} }{ qw/Position Time/ })</code></p></li>\n</ol>\n"}], "owner": {"reputation": 49, "user_id": 8802831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb28b8b09d0b36a9a1d2395b056662?s=128&d=identicon&r=PG&f=1", "display_name": "ebk", "link": "https://stackoverflow.com/users/8802831/ebk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 48735598, "answer_count": 2, "score": 0, "last_activity_date": 1518377699, "creation_date": 1518371138, "last_edit_date": 1518371558, "question_id": 48734493, "link": "https://stackoverflow.com/questions/48734493/adding-a-new-position-at-the-end-of-the-file-shell-or-perl", "title": "Adding a new position at the end of the file Shell or Perl", "body": "<p>My question is how to add a new position at the end of the file in Shell or Perl?</p>\n\n<p>I have two files:\nFile A with 536382 lines and the key is third column:</p>\n\n<pre><code>abc1111,1070X00Y0,**9999**,B\nabc2222,1070X00Y0,**9999**,B\nabc3333,1070x00Y0,**9999**,B\n</code></pre>\n\n<p>File B with 946 lines and the key is the first column:</p>\n\n<pre><code>**9999**,Position,West\n**9998**,Position,West\n**9997**,Position,South\n**1111**,Position,South\n**9999**,Time,Morning\n**9997**,Time,Afternoon\n</code></pre>\n\n<p>I want a combination of these two files:</p>\n\n<pre><code>abc1111,1070X00Y0,9999,B,West,Morning\nabc2222,1070X00Y0,9999,B,West,Morning\nabc3333,1070x00Y0,9999,B,West,Morning\n</code></pre>\n\n<p>I was trying shell script but I was receiving a message of out of memory.\nSo I open for suggestions.</p>\n\n<p>Thank you, so far.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 0, "creation_date": 1518367733, "post_id": 48733474, "comment_id": 84466859, "body": "GDBM_File is a core module as you can see <a href=\"http://perlpunks.de/corelist/version?module=GDBM_File\" rel=\"nofollow noreferrer\">here</a>. Maybe it isn&#39;t included in the perl core under macOS. Check if you can find the module in another package. You cannot install it via CPAN, since it&#39;s only included in Perl."}, {"owner": {"reputation": 6321, "user_id": 263858, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ZKsgT.jpg?s=128&g=1", "display_name": "New Alexandria", "link": "https://stackoverflow.com/users/263858/new-alexandria"}, "edited": false, "score": 0, "creation_date": 1518405504, "post_id": 48733474, "comment_id": 84477818, "body": "If you&#39;re going to re-open, you need to update the question to state why it&#39;s more viable now.  Formatting is almost never the reason"}], "answers": [{"comments": [{"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 1, "creation_date": 1518367795, "post_id": 48733862, "comment_id": 84466877, "body": "GDBM_File is a core module and cannot be installed without installing the perl it&#39;s included with."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 0, "creation_date": 1518369065, "post_id": 48733862, "comment_id": 84467404, "body": "@tinita: Some Linux distributions like to trim Perl core modules, presumably to save storage. For instance, see <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=1110564\" rel=\"nofollow noreferrer\">this about <b><i>RedHat</i></b></a>. I can only imagine that it&#39;s intended for embedded systems or similar, but I can&#39;t find an instance of ther RedHat team giving either an explanation or a list of what has been cut out."}, {"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518369332, "post_id": 48733862, "comment_id": 84467502, "body": "@Borodin I know about RedHat/CentOS, you can install all core modules there with the additional package <code>perl-core</code>. But still, you can&#39;t use cpan to install those packages, only if they are dual-life modules that have their own distribution. For the issue here with macOS it seems there was a reason for excluding this module."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 0, "creation_date": 1518369765, "post_id": 48733862, "comment_id": 84467638, "body": "@tinita: I can only guess about this specific module, but even <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=985791\" rel=\"nofollow noreferrer\"><code>perl-core</code> does not contain all perl modules</a>. The complaint there is only that <code>CGI</code> is missing, but it leaves the <code>perl-core</code> package questionable."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518370170, "post_id": 48733862, "comment_id": 84467794, "body": "Off topic, I&#39;m wondering why <code>Text::CSV</code> is non-core. I can see that its reliance on both <code>Text::CSV_PP</code> and <code>Text::CSV_XS</code> may be an issue, but I&#39;d rather not be guessing."}, {"owner": {"reputation": 26, "user_id": 5143417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a40b356a6eafd6859dcf1c662f9ca73?s=128&d=identicon&r=PG&f=1", "display_name": "XHY", "link": "https://stackoverflow.com/users/5143417/xhy"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1518408829, "post_id": 48733862, "comment_id": 84478530, "body": "@amon I can not install GDBM_File using <code>CPAN GDBM_File</code> &gt; cpan GDBM_File CPAN: Storable loaded ok (v2.41) Reading &#39;/Users/xuhuaiyu/.cpan/Metadata&#39;   Database was generated on Sun, 11 Feb 2018 17:29:02 GMT Running install for module &#39;GDBM_File&#39; The most recent version &quot;1.15&quot; of the module &quot;GDBM_File&quot; is part of the perl-5.26.1 distribution. To install that, you need to run   force install GDBM_File   --or--   install S/SH/SHAY/perl-5.26.1.tar.bz2 Running make test   Can&#39;t test without successful make Running make install   Make had returned bad status, install seems impossible"}, {"owner": {"reputation": 26, "user_id": 5143417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a40b356a6eafd6859dcf1c662f9ca73?s=128&d=identicon&r=PG&f=1", "display_name": "XHY", "link": "https://stackoverflow.com/users/5143417/xhy"}, "edited": false, "score": 0, "creation_date": 1518412513, "post_id": 48733862, "comment_id": 84479397, "body": "Thanks for your help, I&#39;ve solved this. I use <code>CPAN install S&#47;SH&#47;SHAY&#47;perl-5.26.1.tar.bz2</code> and run <code>perl .&#47;gentest.pl --dsn=dbi:mysql:host=127.0.0.1:port=4000:user=root:database=&zwnj;&#8203;test --grammar=conf&#47;outer_join.yy --gendata=conf&#47;outer_join.zz --thread=1 --sqltrace=MarkErrors </code>"}, {"owner": {"reputation": 26, "user_id": 5143417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a40b356a6eafd6859dcf1c662f9ca73?s=128&d=identicon&r=PG&f=1", "display_name": "XHY", "link": "https://stackoverflow.com/users/5143417/xhy"}, "edited": false, "score": 0, "creation_date": 1518412718, "post_id": 48733862, "comment_id": 84479462, "body": "And after <code>CPAN install S&#47;SH&#47;SHAY&#47;perl-5.26.1.tar.bz2</code>, <code>perl -e &#39;print join(&quot;\\n&quot;, @INC);&#39;</code> outputs: <code>&#47;usr&#47;local&#47;lib&#47;perl5&#47;5.26.1&#47;darwin-2level &#47;usr&#47;local&#47;lib&#47;perl5&#47;5.26.1 &#47;usr&#47;local&#47;lib&#47;perl5 &#47;usr&#47;local&#47;lib&#47;perl5&#47;site_perl&#47;5.26.1&#47;darwin-2level &#47;usr&#47;local&#47;lib&#47;perl5&#47;site_perl&#47;5.26.1 &#47;usr&#47;local&#47;lib&#47;perl5&#47;5.26.1&#47;darwin-2level &#47;usr&#47;local&#47;lib&#47;perl5&#47;5.26.1 &#47;usr&#47;local&#47;lib&#47;perl5&#47;site_perl&#47;5.18.2 &#47;usr&#47;local&#47;lib&#47;perl5&#47;site_perl%</code>"}], "tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": false, "score": 0, "last_activity_date": 1518367703, "last_edit_date": 1518367703, "creation_date": 1518367505, "answer_id": 48733862, "question_id": 48733474, "link": "https://stackoverflow.com/questions/48733474/cant-locate-gdbm-file-pm/48733862#48733862", "title": "Can&#39;t locate GDBM_File.pm", "body": "<p>It's on <a href=\"http://search.cpan.org/~shay/perl-5.26.1/ext/GDBM_File/GDBM_File.pm\" rel=\"nofollow noreferrer\">cpan</a>. </p>\n\n<p>You can install it via this command: </p>\n\n<blockquote>\n  <p>cpan GDBM_File</p>\n</blockquote>\n"}], "owner": {"reputation": 26, "user_id": 5143417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a40b356a6eafd6859dcf1c662f9ca73?s=128&d=identicon&r=PG&f=1", "display_name": "XHY", "link": "https://stackoverflow.com/users/5143417/xhy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 449, "favorite_count": 0, "closed_date": 1518368248, "answer_count": 1, "score": 0, "last_activity_date": 1518368677, "creation_date": 1518365068, "last_edit_date": 1518368677, "question_id": 48733474, "link": "https://stackoverflow.com/questions/48733474/cant-locate-gdbm-file-pm", "closed_reason": "Duplicate", "title": "Can&#39;t locate GDBM_File.pm", "body": "<p>I installed <a href=\"https://github.com/RQG/RQG-Documentation/wiki/RandomQueryGeneratorQuickStart\" rel=\"nofollow noreferrer\">RandSQLGenerator</a> on my Mac (Sierra) and ran this command.</p>\n\n<pre><code>./gentest.pl --dsn=dbi:mysql:host=127.0.0.1:port=4000:user=root:database=test --grammar=conf/outer_join.yy --gendata=conf/outer_join.zz --thread=1 --sqltrace=MarkErrors\n</code></pre>\n\n<p>I got the following error message</p>\n\n<blockquote>\n  <p>Can't locate GDBM_File.pm in @INC (you may need to install the GDBM_File module)<br>\n  (@INC contains:<br>\n      /lib<br>\n      lib<br>\n      /Library/Perl/5.18/darwin-thread-multi-2level<br>\n      /Library/Perl/5.18<br>\n      /Network/Library/Perl/5.18/darwin-thread-multi-2level<br>\n      /Network/Library/Perl/5.18<br>\n      /Library/Perl/Updates/5.18.2/darwin-thread-multi-2level<br>\n      /Library/Perl/Updates/5.18.2<br>\n      /System/Library/Perl/5.18/darwin-thread-multi-2level<br>\n      /System/Library/Perl/5.18<br>\n      /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level<br>\n      /System/Library/Perl/Extras/5.18<br>\n      .<br>\n  ) at lib/GenTest.pm line 34.<br>\n      BEGIN failed--compilation aborted at lib/GenTest.pm line 34.<br>\n      Compilation failed in require at ./gentest.pl line 27.<br>\n      BEGIN failed--compilation aborted at ./gentest.pl line 27.  </p>\n</blockquote>\n\n<p>I tried to search it from Google but still cannot solve this problem.</p>\n"}, {"tags": ["perl", "sockets", "network-programming"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1518350455, "post_id": 48730871, "comment_id": 84461525, "body": "Not the problem, but you need to use <code>eq</code>, not <code>==</code> when your data contains non-numerical characters."}, {"owner": {"reputation": 560, "user_id": 8551315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZw6F.jpg?s=128&g=1", "display_name": "CFV", "link": "https://stackoverflow.com/users/8551315/cfv"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1518350609, "post_id": 48730871, "comment_id": 84461578, "body": "Yes, I know. I fixed it on my machine."}, {"owner": {"reputation": 560, "user_id": 8551315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZw6F.jpg?s=128&g=1", "display_name": "CFV", "link": "https://stackoverflow.com/users/8551315/cfv"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1518350663, "post_id": 48730871, "comment_id": 84461600, "body": "Have you any suggestion to solve my problem? @simbabque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1518350665, "post_id": 48730871, "comment_id": 84461603, "body": "Please <a href=\"https://stackoverflow.com/posts/48730871/edit\">edit</a> and update the question then. Always show us your real code, so you&#39;re not wasting someone&#39;s time on a problem that isn&#39;t one ;)"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1518350712, "post_id": 48730871, "comment_id": 84461620, "body": "After the accept you read something, write something and then your block inside the loop is done. This means the client file descriptor gets out of scope which closes the socket. If you want to read+write multiple times on the same connection you have to make a loop around this reading and writing."}, {"owner": {"reputation": 560, "user_id": 8551315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZw6F.jpg?s=128&g=1", "display_name": "CFV", "link": "https://stackoverflow.com/users/8551315/cfv"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1518350911, "post_id": 48730871, "comment_id": 84461688, "body": "Thanks to @SteffenUllrich. It worked!"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1518351422, "post_id": 48731359, "comment_id": 84461834, "body": "The outer loop is not needed, as you specifically <code>exit</code> the program, so it will only ever make one connection."}], "tags": [], "owner": {"reputation": 560, "user_id": 8551315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZw6F.jpg?s=128&g=1", "display_name": "CFV", "link": "https://stackoverflow.com/users/8551315/cfv"}, "is_accepted": true, "score": 5, "last_activity_date": 1518351710, "last_edit_date": 1518351710, "creation_date": 1518351222, "answer_id": 48731359, "question_id": 48730871, "link": "https://stackoverflow.com/questions/48730871/keep-open-socket-connection-perl/48731359#48731359", "title": "Keep open socket connection Perl", "body": "<p>I added a loop in my code and it worked!\nThanks to @simbabque and @SteffenUllrich.</p>\n\n<pre><code>    # waiting for a new client connection\n    my $client_socket = $sock-&gt;accept();\n\n    # get information about a newly connected client\n    my $client_address = $client_socket-&gt;peerhost();\n    my $client_port = $client_socket-&gt;peerport();\n    print \"Connection from $client_address:$client_port\\n\";\n\n    # read up to 1024 characters from the connected client\n    while(1){\n        my $data = \"\";\n        $client_socket-&gt;recv($data, 1024);\n        chomp($data);\n        print \"Data: $data\\n\";\n\n        # write response data to the connected client\n        my $dataok = \"OK\";\n        $client_socket-&gt;send(\"$dataok\\n\");\n        $client_socket-&gt;send(\"$data\\n\");\n        if($data == 500){\n            close($sock);\n            exit(); \n        }\n        elsif($data eq \"Close\\r\") {\n            close($sock);\n            exit();\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 560, "user_id": 8551315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZw6F.jpg?s=128&g=1", "display_name": "CFV", "link": "https://stackoverflow.com/users/8551315/cfv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "accepted_answer_id": 48731359, "answer_count": 1, "score": 3, "last_activity_date": 1518351710, "creation_date": 1518347470, "last_edit_date": 1518351672, "question_id": 48730871, "link": "https://stackoverflow.com/questions/48730871/keep-open-socket-connection-perl", "title": "Keep open socket connection Perl", "body": "<p>I created a Perl script that open a new socket on my server.\nWhen I connect with telnet to the socket and I write (and receive) something, the connection closes.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse IO::Socket;\nuse IO::Socket::INET;\n$| = 1;\nmy $sock = IO::Socket::INET-&gt;new(Listen    =&gt; 5,\n                                 LocalAddr =&gt; 'localhost',\n                                 LocalPort =&gt; 9000,\n                                 Reuse =&gt; 1,\n                                 Proto     =&gt; 'tcp');\ndie \"Socket not created $!\\n\" unless $sock;\nprint \"Server waiting for connections\\n\";\nwhile(1)\n{\n    # waiting for a new client connection\n    my $client_socket = $sock-&gt;accept();\n\n    # get information about a newly connected client\n    my $client_address = $client_socket-&gt;peerhost();\n    my $client_port = $client_socket-&gt;peerport();\n    print \"Connection from $client_address:$client_port\\n\";\n\n    # read up to 1024 characters from the connected client\n    my $data = \"\";\n    $client_socket-&gt;recv($data, 1024);\n    chomp($data);\n    print \"Data: $data\\n\";\n\n    # write response data to the connected client\n    my $dataok = \"OK\";\n    $client_socket-&gt;send(\"$dataok\\n\");\n    $client_socket-&gt;send(\"$data\\n\");\n    if($data == 500){\n        close($sock);\n        exit(); \n    }\n    elsif($data eq \"Close\\r\") {\n        close($sock);\n        exit();\n    }\n}\n</code></pre>\n\n<p>My telnet session:</p>\n\n<pre><code>telnet localhost 9000\nTrying 127.0.0.1...\nConnected to localhost.\nEscape character is '^]'.\ne //(Sent)\ne //(Received)\nConnection closed by foreign host.\n</code></pre>\n\n<p>Why does my script close the connection?\nThanks in advance</p>\n"}, {"tags": ["perl", "floating-point", "precision"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 1, "creation_date": 1518284468, "post_id": 48723654, "comment_id": 84446195, "body": "I have no idea what you&#39;re asking, maybe just because I don&#39;t know what your pvalues are. Can you post a <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> please?"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1518285264, "post_id": 48723654, "comment_id": 84446432, "body": "Are you sure it &quot;hangs&quot;, or does it just take longer to run? If you get the correct results with <code>use bignum;</code>/<code>use bigrat;</code>, and incorrect results without, that would be an important diagnostic."}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1518285909, "post_id": 48723654, "comment_id": 84446624, "body": "@Robert I&#39;ve added a mcve at the end, it&#39;s basically how can I get <code>exp(large negative number)</code> to evaluate as a very small positive float instead of <code>0</code>?"}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "reply_to_user": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1518285943, "post_id": 48723654, "comment_id": 84446635, "body": "@haukex the program runs more than 5 min 42 seconds (I stopped).  It should run in about 20 milliseconds."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 1, "creation_date": 1518292295, "post_id": 48723654, "comment_id": 84448751, "body": "@con Unfortunately that doesn&#39;t answer my question though, since the important part is whether the program truly &quot;hangs&quot; (never returns), or whether it <i>works</i> - that it runs slowly with those modules is to be expected."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1518355981, "post_id": 48723654, "comment_id": 84463173, "body": "@con: What you have written isn&#39;t even close to an MCVE. You need to read the link <a href=\"https://stackoverflow.com/help/mcve\"><i>How to create a Minimal, Complete, and Verifiable example</i></a> that <a href=\"https://stackoverflow.com/questions/48723654/numerical-convergence-and-minimum-number-size#comment84446195_48723654\"><b>Robert</b> posted</a>."}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518364245, "post_id": 48723654, "comment_id": 84465700, "body": "@borodin I re-wrote this several times in order to address the problem in as brief a manner as possible.  If you&#39;re going to downvote me, write down <i>explicitly</i> what is wrong, it is far too easy to downvote and just complain."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518369573, "post_id": 48723654, "comment_id": 84467580, "body": "@con: <i>&quot;If you&#39;re going to downvote me, write down explicitly what is wrong, it is far too easy to downvote and just complain&quot;</i> You are in no position to demand anything from me; <i>Stack Overflow</i> provides anonymous voting, and you need to abide by the rules of the site. As far as I can see you currently have no votes at all either way, and I certainly didn&#39;t cast any. You will find that a lack of commentary on the votes you receive is far from the worst experience you will encounter, and rants about injustice will be quickly be deleted."}], "answers": [{"tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": true, "score": 6, "last_activity_date": 1518292373, "creation_date": 1518292373, "answer_id": 48724946, "question_id": 48723654, "link": "https://stackoverflow.com/questions/48723654/numerical-convergence-and-minimum-number-size/48724946#48724946", "title": "Numerical convergence and minimum number size", "body": "<p><a href=\"http://www.wolframalpha.com/\" rel=\"noreferrer\">Wolfram Alpha</a> says that <code>exp(-626294.830)</code> is 4.08589\u00d710^-271997... zero is a pretty close approximation to that <code>;-)</code> Although you've edited and removed the context from your question, do you really need to work with such tiny numbers, or perhaps there is some way you could optimize your algorithm or scale your numbers?</p>\n\n<p>Anyway, you are correct that code like <code>Math::BigFloat-&gt;new(\"-626294.830\")-&gt;bexp</code> seems to take quite some time, even with the support of <code>use Math::BigFloat lib =&gt; 'GMP';</code>.</p>\n\n<p>The only alternative I can offer at the moment is <a href=\"https://metacpan.org/pod/Math::Prime::Util::GMP#expreal\" rel=\"noreferrer\"><code>Math::Prime::Util::GMP</code>'s <code>expreal</code></a>, although you need to specify a precision to it.</p>\n\n<pre><code>use Math::Prime::Util::GMP qw/expreal/;\nuse Math::BigFloat;\nmy $e = Math::BigFloat-&gt;new(expreal(-626294.830,272000));\nprint $e-&gt;bnstr,\"\\n\";\n__END__\n4.086e-271997\n</code></pre>\n\n<p>But on my machine, even that still takes ~20s to run, which brings us back to the question of potential optimization in other places.</p>\n"}, {"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 4, "last_activity_date": 1518292544, "creation_date": 1518292544, "answer_id": 48724973, "question_id": 48723654, "link": "https://stackoverflow.com/questions/48723654/numerical-convergence-and-minimum-number-size/48724973#48724973", "title": "Numerical convergence and minimum number size", "body": "<p>Floating point numbers do not have infinite precision. Assuming the number is represented as an IEEE 754 double, we have 52 bits for a fraction, 11 bits for the exponent, and one bit for the sign. Due to the way exponents are encoded, the smallest positive number that can be represented is 2^-1022.</p>\n\n<p>If we look at your number e^-626294.830, we can do a change of base and see that it equals 2^(log_2 e \u00b7 -626294.830) = 2^-903552.445, which is significantly smaller than 2^-1022. Approximating your number as zero is therefore correct.</p>\n\n<p>Instead of calculating this value using arbitrary-precision numerics, you are likely better off solving the necessary equations <em>by hand</em>, then coding this in a way that does not require extreme precision. For example, it is unlikely that you need the exact value of e^-626294.830, but perhaps just the magnitude. Then, you can calculate the logarithm instead of using exp().</p>\n"}], "owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 48724946, "answer_count": 2, "score": 0, "last_activity_date": 1518355774, "creation_date": 1518284227, "last_edit_date": 1518355774, "question_id": 48723654, "link": "https://stackoverflow.com/questions/48723654/numerical-convergence-and-minimum-number-size", "title": "Numerical convergence and minimum number size", "body": "<p>I have a program which calculates probability values\n(<a href=\"https://en.wikipedia.org/wiki/P-value\" rel=\"nofollow noreferrer\"><em>p</em>-values</a>),\nbut it is entering a very large negative number into the\n<code>exp</code> function\n<code>exp(-626294.830)</code> which evaluates to zero instead of the very small\npositive number that it should be.</p>\n\n<p>How can I get this to evaluate as a very small floating point number?\nI have tried\n<a href=\"https://metacpan.org/pod/Math::BigFloat\" rel=\"nofollow noreferrer\"><code>Math::BigFloat</code></a>,\n<a href=\"https://metacpan.org/pod/bignum\" rel=\"nofollow noreferrer\"><code>bignum</code></a>, and \n<a href=\"https://metacpan.org/pod/bigrat\" rel=\"nofollow noreferrer\"><code>bigrat</code></a>\nbut all have failed.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 1, "creation_date": 1518266025, "post_id": 48720791, "comment_id": 84440398, "body": "No magic. You have to get all key-value pairs, sort them by value (yourself, using the appropriate function) and then take the key from each pair you are interested in."}, {"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 1, "creation_date": 1518266058, "post_id": 48720791, "comment_id": 84440409, "body": "See also <a href=\"https://stackoverflow.com/questions/2886872/what-is-the-easiest-way-to-get-a-key-with-the-highest-value-from-a-hash-in-perl?rq=1\" title=\"what is the easiest way to get a key with the highest value from a hash in perl\">stackoverflow.com/questions/2886872/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/7791958/sort-hash-by-value-and-key-in-that-order?rq=1\" title=\"sort hash by value and key in that order\">stackoverflow.com/questions/7791958/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/5972224/the-simple-way-to-sort-based-on-values-in-a-hash-in-perl?rq=1\" title=\"the simple way to sort based on values in a hash in perl\">stackoverflow.com/questions/5972224/&hellip;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1518272660, "post_id": 48720791, "comment_id": 84442422, "body": "@Thilo: You don&#39;t have to <i>&quot;get all key-value pairs&quot;</i>: they&#39;re already sitting there, nicely paired-up, in the hash of data."}, {"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518345775, "post_id": 48720791, "comment_id": 84460256, "body": "@Borodin: I meant to say &quot;you have to iterate over all the entries of the hash&quot;. No shortcut to that."}], "answers": [{"tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": false, "score": 5, "last_activity_date": 1518266254, "creation_date": 1518266254, "answer_id": 48720845, "question_id": 48720791, "link": "https://stackoverflow.com/questions/48720791/perl-hash-sort-by-value-and-get-the-key/48720845#48720845", "title": "Perl: Hash-sort by value and get the key", "body": "<pre><code>my %hash = ( one =&gt; 'a', two =&gt; 'b', three =&gt; 'c', four =&gt; 'd' );\nfor my $k ( sort { $hash{$a} cmp $hash{$b} } keys %hash ) {\n    print \"$k: $hash{$k}\\n\";\n}\n__END__\none: a\ntwo: b\nthree: c\nfour: d\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1518272530, "creation_date": 1518272530, "answer_id": 48721760, "question_id": 48720791, "link": "https://stackoverflow.com/questions/48720791/perl-hash-sort-by-value-and-get-the-key/48721760#48721760", "title": "Perl: Hash-sort by value and get the key", "body": "<p>Please remember in future to give an <em>example</em> of your data, the required result, and the code that you've written together with an account of what is wrong with it.</p>\n\n<p>As it stands your question is very vague, and I have had to make several assumptions which may or may not be wrong</p>\n\n<p>It isn't \"magical\"; you simply have to write the appropriate <code>sort</code> block</p>\n\n<p>This will sort the keys of <code>%hash</code> in ascending lexical order of their corresponding values</p>\n\n<pre><code>my @sorted_keys = sort { $hash{$a} cmp $hash{$b} } keys %hash;\n</code></pre>\n\n<p>You may also make use of <code>List::UtilsBy</code>, like this. It may be significantly faster than the simple <code>sort</code> technique, depending on your data</p>\n\n<pre><code>use List::UtilsBy 'sort_by';\n\nmy @sorted_keys = sort_by { $hash{$_} } keys %hash;\n</code></pre>\n"}], "owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "closed_date": 1518272791, "answer_count": 2, "score": 0, "last_activity_date": 1518272530, "creation_date": 1518265844, "question_id": 48720791, "link": "https://stackoverflow.com/questions/48720791/perl-hash-sort-by-value-and-get-the-key", "closed_reason": "Duplicate", "title": "Perl: Hash-sort by value and get the key", "body": "<p>Is there some perl \"magic\" to iterate through a hash sorted by the values but get the key in the iteration?</p>\n\n<p>Sort by X and get X is easy (keys, values) - as well as sort by key and get the value.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "copy"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 9341972, "user_type": "registered", "profile_image": "https://graph.facebook.com/1670559252990665/picture?type=large", "display_name": "Somesh Pokarne", "link": "https://stackoverflow.com/users/9341972/somesh-pokarne"}, "edited": false, "score": 0, "creation_date": 1518260493, "post_id": 48719789, "comment_id": 84438951, "body": "i want as follows:  readfile.txt  fsffs sfsfsf sfSDFF END OF HEADER { dsgs xdgfxdg zFZ } dgdbg vfraeer  Data present in END OF HEADER should copy in writefile.txt"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 17, "user_id": 9341972, "user_type": "registered", "profile_image": "https://graph.facebook.com/1670559252990665/picture?type=large", "display_name": "Somesh Pokarne", "link": "https://stackoverflow.com/users/9341972/somesh-pokarne"}, "edited": false, "score": 0, "creation_date": 1518261274, "post_id": 48719789, "comment_id": 84439151, "body": "@SomeshPokarne Unfortunately that&#39;s not readable in the form of a comment. Please edit your question to include the example input and expected output for that input, properly formatted. And did you try the code I showed?"}], "tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": false, "score": 6, "last_activity_date": 1518258954, "creation_date": 1518258954, "answer_id": 48719789, "question_id": 48719545, "link": "https://stackoverflow.com/questions/48719545/copying-content-from-one-file-to-another-file-using-perl/48719789#48719789", "title": "Copying content from one file to another file using perl", "body": "<p><a href=\"http://perldoc.perl.org/functions/next.html\" rel=\"noreferrer\"><code>next</code></a> will continue to the next iteration of the loop, effectively skipping the rest of the statements in the loop for that iteration (in this case, the <code>last</code>).</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/last.html\" rel=\"noreferrer\"><code>last</code></a> will immediately exit the loop, which sounds like what you want. So you should be able to simply put the conditional statement on the <code>last</code>.</p>\n\n<p>Also, I'm not sure why you want to read the entire file into memory to iterate over its lines? Why not just use a regular <a href=\"http://perldoc.perl.org/perlintro.html#Files-and-I/O\" rel=\"noreferrer\"><code>while(&lt;&gt;)</code></a>? And I would recommend avoiding <code>File::Slurp</code>, it has some <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=File-Slurp\" rel=\"noreferrer\">long-standing issues</a>.</p>\n\n<p>You don't show any example input with expected output, and your description is unclear - you said <em>\"i want to copy upto some keyword\"</em> but in your code you use <a href=\"http://perldoc.perl.org/functions/shift.html\" rel=\"noreferrer\"><code>shift</code></a>, which removes items from the <em>beginning</em> of the array.</p>\n\n<p>Do you want to remove the lines <em>before</em> or <em>after</em> and <em>including</em> or <em>not</em> including <code>\"END OF HEADER\"</code>?</p>\n\n<p>This code will copy over only the header:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $infile  = 'readfile.txt';\nmy $outfile = 'writefile.txt';\n\nopen my $ifh, '&lt;', $infile  or die \"$infile: $!\";\nopen my $ofh, '&gt;', $outfile or die \"$outfile: $!\";\nwhile (&lt;$ifh&gt;) {\n    last if /END OF HEADER/;\n    print $ofh $_;\n}\nclose $ifh;\nclose $ofh;\n</code></pre>\n\n<p>Whereas if you want to copy everything after the header, you could replace the <code>while</code> above with:</p>\n\n<pre><code>while (&lt;$ifh&gt;) {\n    last if /END OF HEADER/;\n}\nwhile (&lt;$ifh&gt;) {\n    print $ofh $_;\n}\n</code></pre>\n\n<p>Which will loop and do nothing until it sees <code>END OF HEADER</code>, then breaking out of the first loop and moving to the second, which prints out the lines after the header.</p>\n"}, {"comments": [{"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1518293011, "post_id": 48723577, "comment_id": 84448976, "body": "A neat solution and explained well - just to get a little nitpicky, there is a caveat: If the file contains the string <code>END OF HEADER</code> more than once, it&#39;ll be a problem because the second read won&#39;t get all of the rest of the file. I think it&#39;d be better to play it safe and set <code>$&#47;=undef;</code> for <a href=\"http://perldoc.perl.org/perlvar.html#%24/\" rel=\"nofollow noreferrer\">slurp mode</a> after reading the header."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1518287411, "last_edit_date": 1518287411, "creation_date": 1518283810, "answer_id": 48723577, "question_id": 48719545, "link": "https://stackoverflow.com/questions/48719545/copying-content-from-one-file-to-another-file-using-perl/48723577#48723577", "title": "Copying content from one file to another file using perl", "body": "<p>data.txt:</p>\n\n<pre><code>fsffs\nsfsfsf \nsfSDFF\nEND OF HEADER \n{ dsgs xdgfxdg zFZ } \ndgdbg \nvfraeer \n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse autodie;\nuse Data::Dumper;\n\nmy $infile = 'data.txt';\nmy $header_file = 'header.txt';\nmy $after_header_file = 'after_header.txt';\nopen my $DATA, '&lt;', $infile;\nopen my $HEADER, '&gt;', $header_file;\nopen my $AFTER_HEADER, '&gt;', $after_header_file;\n\n{\n    local $/ =  \"END OF HEADER\";\n\n    my $header = &lt;$DATA&gt;; \n    say {$HEADER} $header;\n\n    my $rest = &lt;$DATA&gt;;\n    say {$AFTER_HEADER} $rest;\n}\n\n\nclose $DATA;\nclose $HEADER;\nclose $AFTER_HEADER;\n\nsay \"Created files: $header_file, $after_header_file\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ perl 1.pl \nCreated files: header.txt, after_header.txt\n\n$ cat header.txt \nfsffs\nsfsfsf \nsfSDFF\nEND OF HEADER\n\n$ cat after_header.txt \n\n{ dsgs xdgfxdg zFZ } \ndgdbg \nvfraeer \n</code></pre>\n\n<p><code>$/</code> specifies the <em>input record separator</em>, which by default is a newline.  Therefore, when you read from a file:</p>\n\n<pre><code>while (my $x = &lt;$INFILE&gt;) {\n\n}\n</code></pre>\n\n<p>each value of $x is a sequence of characters up to and including the input recored separator, i.e. a newline, which is what we normally think of as a line of text in a file.  Often, we chomp off the newline/input_record_separator at the end of the text:</p>\n\n<pre><code>while (my $x = &lt;$INFILE&gt;) {\n    chomp $x;\n    say \"$x is a dog\";\n}\n</code></pre>\n\n<p>But, you can set the <em>input record separator</em> to anything you want, like your \"END OF HEADER\" text.  That means a line will be all the text up to and including the input record separator, which in this case is \"END OF HEADER\".  For example, a line will be: \"abc\\ndef\\nghi\\nEND OF HEADER\". Furthermore, <code>chomp()</code> will now remove \"END OF HEADER\" from the end of its argument, so you could chomp your line if you don't want the \"END OF HEADER\" marker in the output file.</p>\n\n<p>If perl cannot find the input record separator, then perl keeps reading the file until perl hits the end of the file, then perl returns all the text that was read.</p>\n\n<p>You can use those operations to your advantage when you want to seek to some specific text in a file.</p>\n\n<p>Declaring a variable as <code>local</code> makes the variable magical: when the <em>closing</em> brace of the surrounding block is encountered, perl sets the variable back to the value it had just before the <em>opening</em> brace of the surrounding block:</p>\n\n<pre><code>#Here, by default $/ = \"\\n\", but some code out here could have\n#also set $/ to something else\n\n{\n    local $/ =  \"END OF HEADER\";\n\n\n} # $/ gets set back to whatever value it had before this block\n</code></pre>\n\n<p>When you change one of perl's predefined global variables, it's considered good practice to only change the variable for as long as you need to use the variable, then change the variable back to what it was.</p>\n\n<p>If you want to target just the text between the braces, you can do:</p>\n\n<p>data.txt:</p>\n\n<pre><code>fsffs\nsfsfsf \nsfSDFF\nEND OF HEADER { dsgs xdgfxdg zFZ } \ndgdbg \nvfraeer \n</code></pre>\n\n<p>Code snippet:</p>\n\n<pre><code>    ...\n    ...\n    {\n        local $/ = 'END OF HEADER {';\n        my $pre_brace = &lt;$DATA&gt;; \n\n        $/ = '}';\n        my $target_text = &lt;$DATA&gt;;\n        chomp $target_text;  #Removes closing brace\n        say \"-&gt;$target_text&lt;-\";\n    }\n\n--output:--\n-&gt; dsgs xdgfxdg zFZ &lt;-\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 9341972, "user_type": "registered", "profile_image": "https://graph.facebook.com/1670559252990665/picture?type=large", "display_name": "Somesh Pokarne", "link": "https://stackoverflow.com/users/9341972/somesh-pokarne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3764, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1518287411, "creation_date": 1518257298, "last_edit_date": 1518259363, "question_id": 48719545, "link": "https://stackoverflow.com/questions/48719545/copying-content-from-one-file-to-another-file-using-perl", "title": "Copying content from one file to another file using perl", "body": "<p>Following code is for copying file content from readfile to writefile. Instead of copying upto last, i want to copy upto some keyword. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse File::Slurp;\n\nmy @lines = read_file('readfile.txt');\n\nwhile ( my $line = shift @lines) {\n  next unless ($line =~ m/END OF HEADER/);\n  last; # here suggest some other logic \n}\n\nappend_file('writefile.txt', @lines);\n</code></pre>\n"}, {"tags": ["shell", "perl", "awk", "sed", "gawk"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1518258205, "post_id": 48719330, "comment_id": 84438264, "body": "re: <code>&gt; 1 Million records</code> &amp;&amp; <code>without affecting performance</code> good luck"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1518259834, "post_id": 48719330, "comment_id": 84438773, "body": "@\u0421\u0443\u0445\u043e\u043927, I completely second you on same."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1518262665, "post_id": 48719330, "comment_id": 84439531, "body": "Both solutions you&#39;ve got so far apply each substition to the whole of each input line rather then the remainder of the input line after the previous substitutions are made so if, for example, sample_content.txt contained <code>xay</code> and patterns.txt included <code>a b</code> and <code>b c</code>, then the tools would output <code>xcy</code> - <b>is</b> that the expected output or should it be <code>xby</code>? Whichever is correct you should include a case that tests that in your sample input."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1518315287, "post_id": 48719330, "comment_id": 84454153, "body": "Dhanabalana, see George&#39;s NICE testing reports and seems my 2nd solution is MUCH FASTER than my previous solution. Please check all solutions and let us know your experience so that we all could learn here too, cheers :)"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 1, "creation_date": 1518352368, "post_id": 48719330, "comment_id": 84462097, "body": "@RavinderSingh13 the OP specifically said <code>Single line may have multiple matching value to replace in sample_content.txt</code> so jumping put of the loop after the first match, while faster, wouldn&#39;t produce the expected output. I also think that just doing 1 replacement for each matching string instead of replacing all occurrences of each string on each line (as both your scripts do by using sub() instead of gsub()) is incorrect."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1518353030, "post_id": 48719330, "comment_id": 84462298, "body": "@EdMorton, sure Ed sir I got it, you are right on this."}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1518364932, "post_id": 48719330, "comment_id": 84465890, "body": "Would be better maybe to unaccept answer and allow more answers to appear. In mt opinion all answers does not perform really well. Some are faster than others but even the fastest one will need hours for a 50K lines file."}, {"owner": {"reputation": 542, "user_id": 6441403, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QwIb4.jpg?s=128&g=1", "display_name": "Dhanabalan", "link": "https://stackoverflow.com/users/6441403/dhanabalan"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1518378547, "post_id": 48719330, "comment_id": 84470785, "body": "@EdMorton Sorry for the delay Ed Sir. We can assume that real scenario will not have this pattern. If a = b comes then b will not come in LHS side again. So once we replaced xay as xby then we can consider reminder of this line for further replacement as single line will have multiple matching value to replace."}], "answers": [{"comments": [{"owner": {"reputation": 542, "user_id": 6441403, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QwIb4.jpg?s=128&g=1", "display_name": "Dhanabalan", "link": "https://stackoverflow.com/users/6441403/dhanabalan"}, "edited": false, "score": 0, "creation_date": 1518257346, "post_id": 48719401, "comment_id": 84438023, "body": "Expected outptut is coming fine but its taking too much time to complete it"}, {"owner": {"reputation": 542, "user_id": 6441403, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QwIb4.jpg?s=128&g=1", "display_name": "Dhanabalan", "link": "https://stackoverflow.com/users/6441403/dhanabalan"}, "edited": false, "score": 0, "creation_date": 1518259607, "post_id": 48719401, "comment_id": 84438698, "body": "I have attached the sample input file <a href=\"https://drive.google.com/open?id=1dVzivKMirEQU3yk9KfPM6iE7tTzVRdt_\" rel=\"nofollow noreferrer\">drive.google.com/open?id=1dVzivKMirEQU3yk9KfPM6iE7tTzVRdt_</a>"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 542, "user_id": 6441403, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QwIb4.jpg?s=128&g=1", "display_name": "Dhanabalan", "link": "https://stackoverflow.com/users/6441403/dhanabalan"}, "edited": false, "score": 0, "creation_date": 1518259748, "post_id": 48719401, "comment_id": 84438745, "body": "@Dhanabalan, let&#39;s count how much time it is taking once and then we could see more what we could do more, let us know on same."}, {"owner": {"reputation": 542, "user_id": 6441403, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QwIb4.jpg?s=128&g=1", "display_name": "Dhanabalan", "link": "https://stackoverflow.com/users/6441403/dhanabalan"}, "edited": false, "score": 0, "creation_date": 1518260041, "post_id": 48719401, "comment_id": 84438830, "body": "Its still running :("}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 542, "user_id": 6441403, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QwIb4.jpg?s=128&g=1", "display_name": "Dhanabalan", "link": "https://stackoverflow.com/users/6441403/dhanabalan"}, "edited": false, "score": 1, "creation_date": 1518260696, "post_id": 48719401, "comment_id": 84439004, "body": "@Dhanabalan, Please be patience and test both of the solutions and note down their timings by adding <code>time</code> command before them. Let us know how it goes then. We can&#39;t expect millions of lines to be processed in seconds buddy."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1518265015, "post_id": 48719401, "comment_id": 84440140, "body": "That&#39;s much more complicated than necessary (you start with <code>i</code> and then you use <code>match()</code>+<code>substr()</code> to get <code>val</code> when <code>val</code> will always be identical to <code>i</code> and then you do a <code>sub()</code> to look for the same string you just did a <code>match()</code> on!). See the first script I posted at <a href=\"https://stackoverflow.com/a/48720400/1745001\">stackoverflow.com/a/48720400/1745001</a> for the simple implementation of this approach. Yours will also fail if the same string appears multiple times on 1 line as it&#39;d only replace the first occurrence of each string."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 3, "last_activity_date": 1518257965, "last_edit_date": 1518257965, "creation_date": 1518256150, "answer_id": 48719401, "question_id": 48719330, "link": "https://stackoverflow.com/questions/48719330/sed-or-awk-replace-all-with-patterns-from-another-file/48719401#48719401", "title": "SED or AWK replace all with patterns from another file", "body": "<p>Could you please try following <code>awk</code> and let me know if this helps you.</p>\n\n<p><strong><em>Solution 1st:</em></strong></p>\n\n<pre><code>awk 'FNR==NR{a[$1]=$2;next}   {for(i in a){match($0,i);val=substr($0,RSTART,RLENGTH);if(val){sub(val,a[i])}};print}' patterns.txt  sample_content.txt\n</code></pre>\n\n<p>Output will be as follows.</p>\n\n<pre><code>288Y2RZDBPX9000000003dhana\nJP2F64EI2000000001d\nEU9V3IXI3000000001dfg9000000003dfdfds\nXATSSSSFOO4dhanaUXIBB7TF74000000001adf\n10Q1W4ZEAV18LXNPSPGRTTIDHBN5000000001egw\n</code></pre>\n\n<p><strong><em>Explanation of solution 1st:</em></strong> Adding explanation too now here:</p>\n\n<pre><code>awk '\nFNR==NR{                           ##FNR==NR is a condition which will be TRUE when only first Input_file patterns.txt is being read.\n                                   ##FNR and NR both represents line number of Input_file(s) where FNR value will be RESET when a new Input_file is getting read on the other hand NR value will be keep increasing till all Input_file(s) read.\n  a[$1]=$2;                        ##creating an array a whose index is first field of line and value is 2nd field of current line.\n  next                             ##next will skip all further statements for now.\n}\n{\nfor(i in a){                       ##Starting a for loop which traverse through array a all element.\n  match($0,i);                     ##Using match function of awk which will try to match index if array a present in variable i.\n  val=substr($0,RSTART,RLENGTH);   ##Creating a variable named val which contains the substring of current line substring starts from value of variable RSTART till RLENGTH value.\n  if(val){                         ##Checking condition if variable val is NOT NULL then do following:\n    sub(val,a[i])}                 ##using sub function of awk to substitute variable val value with array a value of index i.\n};\n  print                            ##Using print here to print the current line either changed or not changed one.\n}\n' patterns.txt  sample_content.txt ##Mentioning the Input_file(s) name here.\n</code></pre>\n\n<p><strong>Solution 2nd:</strong> Without traversing all the time to array as like first solution coming out of array when a match is found as follows:</p>\n\n<pre><code>awk '\nFNR==NR{                           ##FNR==NR is a condition which will be TRUE when only first Input_file patterns.txt is being read.\n                                   ##FNR and NR both represents line number of Input_file(s) where FNR value will be RESET when a new Input_file is getting read on the other hand NR value will be keep increasing till all Input_file(s) read.\n  a[$1]=$2;                        ##creating an array a whose index is first field of line and value is 2nd field of current line.\n  next                             ##next will skip all further statements for now.\n}\n{\nfor(i in a){                       ##Starting a for loop which traverse through array a all element.\n  match($0,i);                     ##Using match function of awk which will try to match index if array a present in variable i.\n  val=substr($0,RSTART,RLENGTH);   ##Creating a variable named val which contains the substring of current line substring starts from value of variable RSTART till RLENGTH value.\n  if(val){                         ##Checking condition if variable val is NOT NULL then do following:\n    sub(val,a[i]);print;next}                 ##using sub function of awk to subsitute variable val value with array a value of index i.\n};\n}\n1\n' patterns.txt  sample_content.txt ##Mentioning the Input_file(s) name here.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "reply_to_user": {"reputation": 542, "user_id": 6441403, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QwIb4.jpg?s=128&g=1", "display_name": "Dhanabalan", "link": "https://stackoverflow.com/users/6441403/dhanabalan"}, "edited": false, "score": 0, "creation_date": 1518276875, "post_id": 48719536, "comment_id": 84443625, "body": "@Dhanabalan: Maybe that&#39;s faster: <code>sed -f &lt;(sed -E &#39;s|(.*) (.*)|s&#47;\\1&#47;\\2&#47;|g&#39; patterns.txt) sample_content.txt</code>"}], "tags": [], "owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "is_accepted": false, "score": 6, "last_activity_date": 1518257552, "last_edit_date": 1518257552, "creation_date": 1518257233, "answer_id": 48719536, "question_id": 48719330, "link": "https://stackoverflow.com/questions/48719330/sed-or-awk-replace-all-with-patterns-from-another-file/48719536#48719536", "title": "SED or AWK replace all with patterns from another file", "body": "<p>Give a try to this one . Should be fast.</p>\n\n<pre><code>$ sed -f &lt;(printf 's/%s/%s/g\\n' $(&lt;patterns.txt)) contents.txt\n</code></pre>\n\n<p>This formats the data of `patterns.txt like bellow without actually changing patterns.txt real contents: </p>\n\n<pre><code>$ printf 's/%s/%s/g\\n' $(&lt;patterns.txt)\ns/1000000001/9000000003/g\ns/1000000002/2000000001/g\ns/1000000003/3000000001/g\ns/1000000004/4000000001/g\ns/1000000005/5000000001/g\n</code></pre>\n\n<p>All above are then given with process substitution <code>&lt;(...)</code> to a simple <code>sed</code> as a script file using<br>\n<code>sed -f</code> switch = read sed commands from file</p>\n\n<pre><code>$ sed -f &lt;(printf 's/%s/%s/g\\n' $(&lt;patterns.txt)) contents.txt\n288Y2RZDBPX9000000003dhana\nJP2F64EI2000000001d\nEU9V3IXI3000000001dfg9000000003dfdfds\nXATSSSSFOO4dhanaUXIBB7TF74000000001adf\n10Q1W4ZEAV18LXNPSPGRTTIDHBN5000000001egw\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 2, "last_activity_date": 1518264707, "last_edit_date": 1518264707, "creation_date": 1518263146, "answer_id": 48720400, "question_id": 48719330, "link": "https://stackoverflow.com/questions/48719330/sed-or-awk-replace-all-with-patterns-from-another-file/48720400#48720400", "title": "SED or AWK replace all with patterns from another file", "body": "<p>The simple approach is:</p>\n\n<pre><code>$ cat tst.awk\nNR==FNR {\n    map[$1] = $2\n    next\n}\n{\n    for (old in map) {\n        gsub(old,map[old])\n    }\n    print\n}\n\n$ awk -f tst.awk patterns.txt sample_content.txt\n288Y2RZDBPX9000000003dhana\nJP2F64EI2000000001d\nEU9V3IXI3000000001dfg9000000003dfdfds\nXATSSSSFOO4dhanaUXIBB7TF74000000001adf\n10Q1W4ZEAV18LXNPSPGRTTIDHBN5000000001egw\n</code></pre>\n\n<p>Just like the other solutions posted so far this applies every substitution to the whole line and so given sample_content.txt containing <code>xay</code> and patterns.txt including <code>a b</code> and <code>b c</code>, then the tools would output <code>xcy</code> rather than <code>xby</code>.</p>\n\n<p>Alternatively you could try this:</p>\n\n<pre><code>$ cat tst.awk\nNR==FNR {\n    map[$1] = $2\n    re = re sep $1\n    sep = \"|\"\n    next\n}\n{\n    head = \"\"\n    tail = $0\n    while ( match(tail,re) ) {\n        head = head substr(tail,1,RSTART-1) map[substr(tail,RSTART,RLENGTH)]\n        tail = substr(tail,RSTART+RLENGTH)\n    }\n    print head tail\n}\n\n$ awk -f tst.awk patterns.txt sample_content.txt\n288Y2RZDBPX9000000003dhana\nJP2F64EI2000000001d\nEU9V3IXI3000000001dfg9000000003dfdfds\nXATSSSSFOO4dhanaUXIBB7TF74000000001adf\n10Q1W4ZEAV18LXNPSPGRTTIDHBN5000000001egw\n</code></pre>\n\n<p>That approach has several advantages:</p>\n\n<ol>\n<li>It would output <code>xby</code> (which is what I suspect you'd really want if that situation arose) in the case I mention above</li>\n<li>It only does as many regexp comparisons per line of sample_content.txt as could match instead of 1 per line of patterns.txt for every line of sample_content.txt</li>\n<li>It only operates on whats left of the line after the previous replacement so the string being tested keeps shrinking</li>\n<li>It doesn't change <code>$0</code> and so awk doesn't have to recompile and resplit that record with every subsitution.</li>\n</ol>\n\n<p>so it should be <strong>much</strong> faster than the original script assuming the regexp constructed from patterns.txt isn't so huge it causes a performance degradation just by it's size.</p>\n"}, {"comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1518282003, "post_id": 48723014, "comment_id": 84445266, "body": "Thanks George for sharing the same. Could you please test my 2nd solution once too and post it here, since I don&#39;t have that much lines files couldn&#39;t test it sir, will be grateful to you."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1518283720, "post_id": 48723014, "comment_id": 84445919, "body": "cool, actually that link is somehow not working for me. Thanks again."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1518315185, "post_id": 48723014, "comment_id": 84454130, "body": "Thanks George, it is because ASAP I am finding a match inside array(a) and coming out of it so it will NOT traverse whole array :) I am glad I could make it some efficient. THANKS a LOT for checking it sir."}, {"owner": {"reputation": 542, "user_id": 6441403, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QwIb4.jpg?s=128&g=1", "display_name": "Dhanabalan", "link": "https://stackoverflow.com/users/6441403/dhanabalan"}, "edited": false, "score": 1, "creation_date": 1518318074, "post_id": 48723014, "comment_id": 84454645, "body": "Thanks a lot everyone. This is the first time I&#39;m learning these scripts. Lot of knowledge gained from these. Thanks again."}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "reply_to_user": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1518343163, "post_id": 48723014, "comment_id": 84459584, "body": "@RavinderSingh13 It seems that your awk is fast for small input files. If 9000 lines of input files are examined then the results are different. See updated benchmark."}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "reply_to_user": {"reputation": 542, "user_id": 6441403, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QwIb4.jpg?s=128&g=1", "display_name": "Dhanabalan", "link": "https://stackoverflow.com/users/6441403/dhanabalan"}, "edited": false, "score": 0, "creation_date": 1518343183, "post_id": 48723014, "comment_id": 84459587, "body": "@Dhanabalan Check out the parallel seds solution"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1518350975, "post_id": 48723014, "comment_id": 84461703, "body": "Did all scripts produce the same output as each other? Why didn&#39;t you try the 2nd solution in my answer - the one I claimed would be faster? Also, it&#39;s extremely hard to believe that Ravinders script which does 3 function calls per line would be faster than even my first script which does one - did you do 3rd-exectution timing to remove cache-ing issues?"}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1518353766, "post_id": 48723014, "comment_id": 84462517, "body": "@EdMorton I tried your second script but for some reason my laptop hanged badly... i had to hard reset my machine (power off). I will try one more time. I use to run all scripts three times."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1518353968, "post_id": 48723014, "comment_id": 84462582, "body": "It&#39;s possible that the regexp string just gets too big, I was concerned about that. Did you compare the output files with each other to make sure all the scripts are producing the same output? Also for your parallel sed scripts - you should add the step that concatenates the output files into 1 and tidies up by removing the temp output files so it&#39;s output is the same as the others. It&#39;d also make sense to do it in a loop rather than hard-coding several scripts for it to be a realistic approach. Thanks for providing the timings."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1518354147, "post_id": 48723014, "comment_id": 84462638, "body": "P.S. I asked about the 3rd timing because I just can&#39;t see any way that <code>match($0,i);val=substr($0,RSTART,RLENGTH);if(val){sub(val,a[&zwnj;&#8203;i])}</code> could be faster than <code>sub(val,a[i])</code> alone but I can&#39;t think of anything other than cacheing that&#39;d explain the results you got!"}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1518356916, "post_id": 48723014, "comment_id": 84463462, "body": "@EdMorton Using cat for such small files (3000 lines each) does not really affecting parallel sed script performance. I updated the script. I did not verify the results (file newcontents.txt) in any of the solutions."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1518358674, "post_id": 48723014, "comment_id": 84463997, "body": "That <code>cat</code> won&#39;t do the job though since it&#39;ll cat the the files in alphabetic instead of numeric order. What I&#39;m getting at is that for a general, usable solution there&#39;s more work to do that just running sed multiple times."}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1518358738, "post_id": 48723014, "comment_id": 84464021, "body": "@EdMorton It is true that your second script turns my laptop to a brick. Sorry. I have upload OP files to github (see links in this post); maybe you can make a test on your own."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1518358836, "post_id": 48723014, "comment_id": 84464055, "body": "Guess I&#39;d have to carve that RE up into an array of still large but smaller REs. Oh well. The OPs already selected an answer and isn&#39;t responding to questions (see my comment under the question) so it&#39;s time to move on like he apparently has.... thanks again for running the timing tests."}], "tags": [], "owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "is_accepted": true, "score": 7, "last_activity_date": 1518359027, "last_edit_date": 1518359027, "creation_date": 1518280429, "answer_id": 48723014, "question_id": 48719330, "link": "https://stackoverflow.com/questions/48719330/sed-or-awk-replace-all-with-patterns-from-another-file/48723014#48723014", "title": "SED or AWK replace all with patterns from another file", "body": "<p><strong>Benchmarks for future reference</strong></p>\n\n<p>Test environment:   </p>\n\n<p>Using your sample files <code>patterns.txt</code> with 50,000 lines and <code>contents.txt</code> also with 50,000 lines.</p>\n\n<p>All lines from <code>patterns.txt</code> are loaded in all solutions but only the first 1000 lines of <code>contents.txt</code> are examined.</p>\n\n<p>Testing laptop is equipped with a dual core 64bit Intel(R) Celeron(R) CPU  N3050  @ 2.16GHz, 4 GB RAM, Debian 9 64bit Testing , <code>gnu sed 4.4</code> and <code>gnu awk 4.1.4</code></p>\n\n<p>In all cases the output is sent to a new file to avoid the slow overhead for printing data on the screen.</p>\n\n<p>Results:</p>\n\n<p><strong>1. RavinderSingh13 1st awk solution</strong></p>\n\n<pre><code>$ time awk 'FNR==NR{a[$1]=$2;next}   {for(i in a){match($0,i);val=substr($0,RSTART,RLENGTH);if(val){sub(val,a[i])}};print}' patterns.txt  &lt;(head -n 1000 contents.txt) &gt;newcontents.txt\n\nreal    19m54.408s\nuser    19m44.097s\nsys 0m1.981s\n</code></pre>\n\n<p><strong>2. EdMorton 1st awk Solution</strong></p>\n\n<pre><code>$ time awk 'NR==FNR{map[$1]=$2;next}{for (old in map) {gsub(old,map[old])}print}' patterns.txt &lt;(head -n1000 contents.txt) &gt;newcontents.txt\n\nreal    20m3.420s\nuser    19m16.559s\nsys 0m2.325s\n</code></pre>\n\n<p><strong>3. Sed (my sed) solution</strong></p>\n\n<pre><code>$ time sed -f &lt;(printf 's/%s/%s/g\\n' $(&lt;patterns.txt)) &lt;(head -n 1000 contents.txt) &gt;newcontents.txt\n\nreal    1m1.070s\nuser    0m59.562s\nsys 0m1.443s\n</code></pre>\n\n<p><strong>4. Cyrus sed solution</strong>     </p>\n\n<pre><code>$ time sed -f &lt;(sed -E 's|(.*) (.*)|s/\\1/\\2/|g' patterns.txt) &lt;(head -n1000 contents.txt) &gt;newcontents.txt\n\nreal    1m0.506s\nuser    0m59.871s\nsys 0m1.209s\n</code></pre>\n\n<p><strong>5. RavinderSingh13 2nd awk solution</strong></p>\n\n<pre><code>$ time awk 'FNR==NR{a[$1]=$2;next}{for(i in a){match($0,i);val=substr($0,RSTART,RLENGTH);if(val){sub(val,a[i]);print;next}};}1' patterns.txt  &lt;(head -n 1000 contents.txt) &gt;newcontents.txt\n\nreal    0m25.572s\nuser    0m25.204s\nsys     0m0.040s\n</code></pre>\n\n<p><strong>For a small amount of input data like 1000 lines, awk solution seems good. \nLets make make another  test with 9000 lines this time to compare performance</strong></p>\n\n<p><strong>6.RavinderSingh13 2nd awk solution with 9000 lines</strong> </p>\n\n<pre><code>$ time awk 'FNR==NR{a[$1]=$2;next}{for(i in a){match($0,i);val=substr($0,RSTART,RLENGTH);if(val){sub(val,a[i]);print;next}};}1' patterns.txt  &lt;(head -9000 contents.txt) &gt;newcontents.txt\n\nreal    22m25.222s\nuser    22m19.567s\nsys      0m2.091s\n</code></pre>\n\n<p><strong>7. Sed Solution with 9000 lines</strong></p>\n\n<pre><code>$ time sed -f &lt;(printf 's/%s/%s/g\\n' $(&lt;patterns.txt)) &lt;(head -9000 contents.txt) &gt;newcontents.txt\n\nreal    9m7.443s\nuser    9m0.552s\nsys     0m2.650s\n</code></pre>\n\n<p><strong>8. Parallel Seds Solution with 9000 lines</strong></p>\n\n<pre><code>$ cat sedpar.sh\ns=$SECONDS\nsed -f &lt;(printf 's/%s/%s/g\\n' $(&lt;patterns.txt)) &lt;(head -3000 contents.txt) &gt;newcontents1.txt &amp;\nsed -f &lt;(printf 's/%s/%s/g\\n' $(&lt;patterns.txt)) &lt;(tail +3001 contents.txt |head -3000) &gt;newcontents2.txt &amp;\nsed -f &lt;(printf 's/%s/%s/g\\n' $(&lt;patterns.txt)) &lt;(tail +6001 contents.txt |head -3000) &gt;newcontents3.txt &amp;\nwait\ncat newcontents1.txt newcontents2.txt newcontents3.txt &gt;newcontents.txt &amp;&amp; rm -f newcontents1.txt newcontents2.txt newcontents3.txt\necho \"seconds elapsed: $(($SECONDS-$s))\"\n\n$ time ./sedpar.sh\nseconds elapsed: 309\n\nreal    5m16.594s\nuser    9m43.331s\nsys     0m4.232s\n</code></pre>\n\n<p>Splitting the task to more commands like three parallel seds seems that can speed things up.</p>\n\n<p>For those who would like to repeat the benchmarks on their own PC you can download files <code>contents.txt</code> and <code>patterns.txt</code> either by OP's links or by my github:  </p>\n\n<p><a href=\"https://raw.githubusercontent.com/gevasiliou/PythonTests/master/contents.txt\" rel=\"noreferrer\">contents.txt</a>   </p>\n\n<p><a href=\"https://raw.githubusercontent.com/gevasiliou/PythonTests/master/patterns.txt\" rel=\"noreferrer\">patterns.txt</a></p>\n"}], "owner": {"reputation": 542, "user_id": 6441403, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/QwIb4.jpg?s=128&g=1", "display_name": "Dhanabalan", "link": "https://stackoverflow.com/users/6441403/dhanabalan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3299, "favorite_count": 5, "accepted_answer_id": 48723014, "answer_count": 4, "score": 10, "last_activity_date": 1518381033, "creation_date": 1518255664, "last_edit_date": 1518381033, "question_id": 48719330, "link": "https://stackoverflow.com/questions/48719330/sed-or-awk-replace-all-with-patterns-from-another-file", "title": "SED or AWK replace all with patterns from another file", "body": "<p>I am trying to do pattern replacement using SED script but its not working properly <br></p>\n\n<p><strong>sample_content.txt</strong> <br></p>\n\n<pre><code>288Y2RZDBPX1000000001dhana\nJP2F64EI1000000002d\nEU9V3IXI1000000003dfg1000000001dfdfds\nXATSSSSFOO4dhanaUXIBB7TF71000000004adf\n10Q1W4ZEAV18LXNPSPGRTTIDHBN1000000005egw\n</code></pre>\n\n<p>patterns.txt</p>\n\n<pre><code>1000000001 9000000003\n1000000002 2000000001\n1000000003 3000000001\n1000000004 4000000001\n1000000005 5000000001\n</code></pre>\n\n<p><strong>Expected output</strong></p>\n\n<pre><code>288Y2RZDBPX9000000003dhana\nJP2F64EI2000000001d\nEU9V3IXI3000000001dfg9000000003dfdfds\nXATSSSSFOO4dhanaUXIBB7TF74000000001adf\n10Q1W4ZEAV18LXNPSPGRTTIDHBN5000000001egw\n</code></pre>\n\n<p>I am able to do with single SED replacement like <br></p>\n\n<pre><code>sed  's/1000000001/1000000003/g' sample_content.txt\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<ul>\n<li>Matching pattern is not in fixed position. </li>\n<li>Single line may have multiple matching value to replace in sample_content.txt</li>\n<li>Sample_content.txt and patterns.txt has > 1 Million records</li>\n</ul>\n\n<p><strong>File attachment link:</strong> <a href=\"https://drive.google.com/open?id=1dVzivKMirEQU3yk9KfPM6iE7tTzVRdt_\" rel=\"noreferrer\">https://drive.google.com/open?id=1dVzivKMirEQU3yk9KfPM6iE7tTzVRdt_</a></p>\n\n<p>Could anyone suggest how can achieve this without affecting performance?</p>\n\n<p><strong>Updated on 11-Feb-2018</strong></p>\n\n<p>After analyzing the real file I just got a hint that there is a <strong>grade</strong> value at the <strong>30 and 31th position</strong>. Which helps where and all we need to apply replacement. <br>\nIf <strong>grade AB</strong> then replace the 10 digit phone number at <strong>41-50 and 101-110</strong> <br>\nIf <strong>grade BC</strong> then replace the 10 digit phone number at <strong>11-20, 61-70 and 151-160</strong><br>\nIf <strong>grade DE</strong> then replace the 10 digit phone number at <strong>1-10, 71-80, 151-160 and 181-190</strong> <br></p>\n\n<p>Like this I am seeing <strong>50 unique grades</strong> for <strong>2 Million</strong> sample records.</p>\n\n<pre><code>{   grade=substr($0,110,2)} // identify grade\n{ \n    if (grade == \"AB\") {\n        print substr($0,41,10) ORS substr($0,101,10)\n    } else if(RT == \"BC\"){\n        print substr($0,11,10) ORS substr($0,61,10) ORS substr($0,151,10) \n    }\n\n    like wise 50 coiditions\n}\n</code></pre>\n\n<p>May I know, whether this approach is advisable or anyother better approach?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2289, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 1, "creation_date": 1518228946, "post_id": 48716510, "comment_id": 84432436, "body": "<a href=\"https://tio.run/##K0gtyjH9/z8zTUFDQaPOyNRIzcjUVFPB1lbBWEFTobqgKDOvREEpIzUnJz8mT8m69v9/AA\" rel=\"nofollow noreferrer\">Operator precedence</a>"}, {"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "reply_to_user": {"reputation": 2289, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 0, "creation_date": 1518230165, "post_id": 48716510, "comment_id": 84432651, "body": "@user202729 are you saying it should work?"}], "answers": [{"comments": [{"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "edited": false, "score": 0, "creation_date": 1518230689, "post_id": 48716686, "comment_id": 84432737, "body": "I see. I will try this."}], "tags": [], "owner": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "is_accepted": false, "score": 2, "last_activity_date": 1518230273, "creation_date": 1518230273, "answer_id": 48716686, "question_id": 48716510, "link": "https://stackoverflow.com/questions/48716510/perl-bitwise-operation-gives-unexpected-results/48716686#48716686", "title": "Perl bitwise operation gives unexpected results", "body": "<p><code>dsm@local:~$ perl -le 'print (~252&amp;255 == 3);'\n0\ndsm@local:~$ perl -le 'print ((~252&amp;255) == 3);'\n1\ndsm@local:~$</code></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 10, "last_activity_date": 1518300006, "last_edit_date": 1518300006, "creation_date": 1518231757, "answer_id": 48716810, "question_id": 48716510, "link": "https://stackoverflow.com/questions/48716510/perl-bitwise-operation-gives-unexpected-results/48716810#48716810", "title": "Perl bitwise operation gives unexpected results", "body": "<p>It's a precedence issue.</p>\n\n<pre><code>~252&amp;255 == 3\n</code></pre>\n\n<p>means</p>\n\n<pre><code>(~252) &amp; (255 == 3)\n</code></pre>\n\n<p>but you want</p>\n\n<pre><code>((~252) &amp; 255) == 3\n</code></pre>\n\n<p>It's unintuitive for comparison operators (e.g. <code>==</code>) to have higher precedence than infix bitwise operators (e.g. <code>&amp;</code>), but Perl opted to follow C's precedence rules.</p>\n\n<blockquote>\n  <p>Operators borrowed from C keep the same precedence relationship with each other, even where C's precedence is slightly screwy. (This makes learning Perl easier for C folks.) </p>\n</blockquote>\n\n<p><a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a></p>\n"}], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 48716810, "answer_count": 2, "score": 2, "last_activity_date": 1537390121, "creation_date": 1518228027, "last_edit_date": 1537390121, "question_id": 48716510, "link": "https://stackoverflow.com/questions/48716510/perl-bitwise-operation-gives-unexpected-results", "title": "Perl bitwise operation gives unexpected results", "body": "<p>I'm trying to workout the subnet mask and neighbor IP address. When using an AND to find the network ID i get strange results. </p>\n\n<p>Why is this not true, and how can i make it true? </p>\n\n<pre><code>if ( ~252&amp;255 == 3 ) {print \"hello\\n\";}\n</code></pre>\n\n<p>I've also tried but I have the same problem </p>\n\n<pre><code>if ( ~252&amp;255 == 0x11 ) {print \"hello\\n\";}\n</code></pre>\n"}, {"tags": ["perl", "csv", "awk"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1518268792, "post_id": 48713879, "comment_id": 84441265, "body": "And what code have you tried so far?"}], "answers": [{"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1518267558, "post_id": 48714883, "comment_id": 84440874, "body": "I think there&#39;s something wrong in that logic since you&#39;re only incrementing <code>i</code> when <code>$i == j</code> so it won&#39;t necessarily test all of the fields. Try it..."}, {"owner": {"reputation": 2285, "user_id": 8592975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fea54eef1c73000439a2c38b53d422?s=128&d=identicon&r=PG&f=1", "display_name": "ctac_", "link": "https://stackoverflow.com/users/8592975/ctac"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1518268993, "post_id": 48714883, "comment_id": 84441326, "body": "It&#39;s ok with the given data because ports number are in ordinal order. If a line look like that SERVER2,22,7885,110,3389,45001 , you are right, it&#39;s false."}], "tags": [], "owner": {"reputation": 2285, "user_id": 8592975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fea54eef1c73000439a2c38b53d422?s=128&d=identicon&r=PG&f=1", "display_name": "ctac_", "link": "https://stackoverflow.com/users/8592975/ctac"}, "is_accepted": false, "score": 1, "last_activity_date": 1518214525, "creation_date": 1518214525, "answer_id": 48714883, "question_id": 48713879, "link": "https://stackoverflow.com/questions/48713879/how-to-parse-data-into-unique-columns-in-csv-file/48714883#48714883", "title": "How to Parse Data into Unique Columns in CSV File", "body": "<p>You can try this awk</p>\n\n<pre><code>awk -F, '\nNR==FNR{\n  for(i=2;i&lt;=NF;i++)\n  a[$i];\n  next\n}\n{\n  i=2;\n  b=$1;\n  for(j in a)\n  {\n    if($i == j)\n    {\n      b=b FS $i;\n      i++\n    }\n    else\n      b=b FS\n  }\n  print b\n}\n' infile infile\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 0, "last_activity_date": 1518218336, "creation_date": 1518218336, "answer_id": 48715499, "question_id": 48713879, "link": "https://stackoverflow.com/questions/48713879/how-to-parse-data-into-unique-columns-in-csv-file/48715499#48715499", "title": "How to Parse Data into Unique Columns in CSV File", "body": "<p>perl</p>\n\n<pre><code>perl -MSet::Scalar -e '\n    $ports = Set::Scalar-&gt;new;\n    open $fh, \"&lt;\", shift @ARGV;\n    while (&lt;$fh&gt;) {\n        chomp;\n        @fields = split /,/;\n        $ports-&gt;insert(@fields[1..$#fields]);\n    }\n    @all_ports = sort {$a &lt;=&gt; $b} $ports-&gt;members;\n    seek $fh, 0, 0;\n    while (&lt;$fh&gt;) {\n        chomp;\n        @fields = split /,/;\n        print $fields[0];\n        $ports = Set::Scalar-&gt;new(@fields[1..$#fields]);\n        print(\",\", ($ports-&gt;has($_) ? $_ : \"\")) for @all_ports;\n        print \"\\n\"\n    }\n' file.csv\n</code></pre>\n\n\n\n<pre><code>SERVER1,etc,22,25,110,3389,\nSERVER2,etc,22,,110,3389,45001\nSERVER3,etc,,,,3389,45001\n</code></pre>\n\n<p>Don't worry about \"etc\" showing up first: the ports are sorted numerically and the string \"etc\" is treated as the number zero.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1518267004, "creation_date": 1518267004, "answer_id": 48720953, "question_id": 48713879, "link": "https://stackoverflow.com/questions/48713879/how-to-parse-data-into-unique-columns-in-csv-file/48720953#48720953", "title": "How to Parse Data into Unique Columns in CSV File", "body": "<p>With GNU awk for sorted_in:</p>\n\n<pre><code>$ cat tst.awk\nBEGIN {\n    FS=OFS=\",\"\n    PROCINFO[\"sorted_in\"] = \"@ind_num_asc\"\n}\nNR==FNR {\n    for (i=2; i&lt;=NF; i++) {\n        allVals[$i]\n    }\n    next\n}\n{\n    delete curVals\n    for (i=1; i&lt;=NF; i++) {\n        curVals[$i]\n    }\n    printf \"%s\", $1\n    for (i in allVals) {\n        printf \"%s%s\", OFS, (i in curVals ? i : \"\")\n    }\n    print \"\"\n}\n\n$ awk -f tst.awk file file\nSERVER1,etc,22,25,110,3389,\nSERVER2,etc,22,,110,3389,45001\nSERVER3,etc,,,,3389,45001\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9340382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6a3e8d7800b14224cae6915fea6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "user9340382", "link": "https://stackoverflow.com/users/9340382/user9340382"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 48715499, "answer_count": 3, "score": 0, "last_activity_date": 1518267004, "creation_date": 1518209358, "last_edit_date": 1518266171, "question_id": 48713879, "link": "https://stackoverflow.com/questions/48713879/how-to-parse-data-into-unique-columns-in-csv-file", "title": "How to Parse Data into Unique Columns in CSV File", "body": "<p>So, I have a csv file with thousands of columns. As an example, let say I have the first column as a server name and the remaining columns as ports that are open.</p>\n\n<p>eg:</p>\n\n<pre><code>SERVER1,22,25,110,3389,etc\nSERVER2,22,110,3389,45001,etc\nSERVER3,3389,45001,etc\n</code></pre>\n\n<p>I am trying to find a way with any command line tools to process this into unique columns such that the above would become:</p>\n\n<pre><code>SERVER1,22,25,110,3389,,etc\nSERVER2,22,,110,3389,45001,etc\nSERVER3,,,,3389,45001,etc\n</code></pre>\n\n<p>Any ideas are appreciated. Thanks!</p>\n"}, {"tags": ["c", "linux", "perl", "stdout", "flush"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1518206639, "post_id": 48712907, "comment_id": 84425628, "body": "<a href=\"http://p3rl.org/system\" rel=\"nofollow noreferrer\">system</a> can&#39;t help you massage the stdout."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1518207302, "post_id": 48712907, "comment_id": 84425899, "body": "The C program will flush its buffer when it exits (unless you call <code>_exit</code>). <code>fflush</code> is not needed."}, {"owner": {"reputation": 100758, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "edited": false, "score": 1, "creation_date": 1518208431, "post_id": 48712907, "comment_id": 84426429, "body": "Maybe the C program is segfaulting or something?"}, {"owner": {"reputation": 83, "user_id": 4096837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4273ccfca19855d472fc53b94bbab247?s=128&d=identicon&r=PG&f=1", "display_name": "cniggeler", "link": "https://stackoverflow.com/users/4096837/cniggeler"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1518211674, "post_id": 48712907, "comment_id": 84427803, "body": "@choroba, I was thinking of system(&quot;stdbuf -oL myprog&quot;)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 1, "creation_date": 1518220555, "post_id": 48712907, "comment_id": 84430782, "body": "Replace your <code>fflush</code> with an explicit <code>exit(0)</code>. <code>exit()</code> flushes all output streams. Now you have a different mystery: why your program doesn&#39;t exit normally without the explicit call. But since you&#39;ve posted no code, it&#39;s not possible to know what you&#39;ve actually done."}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 4096837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4273ccfca19855d472fc53b94bbab247?s=128&d=identicon&r=PG&f=1", "display_name": "cniggeler", "link": "https://stackoverflow.com/users/4096837/cniggeler"}, "is_accepted": false, "score": 3, "last_activity_date": 1518219601, "creation_date": 1518219601, "answer_id": 48715659, "question_id": 48712907, "link": "https://stackoverflow.com/questions/48712907/perl-system-requires-stdout-flush/48715659#48715659", "title": "Perl system() requires stdout flush", "body": "<p>I've tested, and found the issue can be resolved with either of these approaches:</p>\n\n<ol>\n<li>Add fflush at the end of the C program.</li>\n<li>Run the C program without fflush using (in perl) `stdbuf -oL myprog` (I had incorrectly referenced system() before, sorry). </li>\n</ol>\n\n<p>Some commenters refer to the fact that C should flush the buffer on exit, but CERT vulnerability FI023.C is specifically about unflushed data in stdout using C. When capturing stdout using perl tickmarks, I'm left wondering if that's a sort of redirection where this situation can occur.</p>\n"}], "owner": {"reputation": 83, "user_id": 4096837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4273ccfca19855d472fc53b94bbab247?s=128&d=identicon&r=PG&f=1", "display_name": "cniggeler", "link": "https://stackoverflow.com/users/4096837/cniggeler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1518219601, "creation_date": 1518204850, "last_edit_date": 1518205399, "question_id": 48712907, "link": "https://stackoverflow.com/questions/48712907/perl-system-requires-stdout-flush", "title": "Perl system() requires stdout flush", "body": "<p>I have a problem similar to <a href=\"https://stackoverflow.com/questions/1429951/force-flushing-of-output-to-a-file-while-bash-script-is-still-running\">bash script flush</a> but would appreciate confirmation and clarification:</p>\n\n<p>I have a console-based, interactive perl script that writes to stdout. Along the way, it uses system() to call a C program, and its output (also to stdout) is massaged by the script and output to the user.</p>\n\n<p>On Windows there have been no issues. But on Linux, in one very specific and very repeatable instance, only the trailing part of the program's message arrives to the script. Found that by adding fflushes in the C program, the issue goes away. </p>\n\n<p>EDIT: Further testing reveals that a single fflush just before returning has cleared up the issue, at least for this specific instance.  So this point of this post is now where the community thinks the issue is occurring, so I can avoid it in other situations in the future...</p>\n\n<p>Is it the interplay between the script and the C program, both of which use stdout? Or is it that system() in perl creates a sub-shell to execute the program, and maybe the issue arises there?</p>\n\n<p>If the former: is fflush the best option?  Just one call seems quite reasonable in terms of overhead.</p>\n\n<p>If the latter, could stdbuf somehow be used to alter the stdout behavior of the sub-shell running the program, especially if it's a program that can't be rewritten?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "perl", "exec"], "comments": [{"owner": {"reputation": 1681, "user_id": 1601729, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6b02d894080135c59b1629faafe8ad29?s=128&d=identicon&r=PG", "display_name": "Ironcache", "link": "https://stackoverflow.com/users/1601729/ironcache"}, "edited": false, "score": 1, "creation_date": 1518199281, "post_id": 48711446, "comment_id": 84422229, "body": "Okay for future questions (and preferably edited into this one), you really should include how it isn&#39;t working (IE: what&#39;s happening that you don&#39;t want).  Also, you should post any research you&#39;ve done and things you&#39;ve tried (preferably an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>).  All that said, have you tried specifying the absolute path of your script and data files (I would know this if you mentioned what you tried and research you&#39;ve done)?  IE: <code>&quot;perl C:\\\\tmp\\\\lowercase.perl C:\\\\tmp\\\\lower.eng C:\\\\tmp\\\\lowerlm.eng&quot;</code>."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1518199336, "post_id": 48711446, "comment_id": 84422257, "body": "<a href=\"https://stackoverflow.com/questions/14022114/perl-script-runs-in-terminal-but-doesnt-run-when-invoked-from-java-program\" title=\"perl script runs in terminal but doesnt run when invoked from java program\">stackoverflow.com/questions/14022114/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 9238004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb227d0c650db76e77a537ae096f5fe?s=128&d=identicon&r=PG", "display_name": "user9238004", "link": "https://stackoverflow.com/users/9238004/user9238004"}, "edited": false, "score": 0, "creation_date": 1518202705, "post_id": 48711446, "comment_id": 84423873, "body": "Thankyou for your suggestion i will take care in future.I have updated my question and hope it is clear now."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518203150, "post_id": 48711446, "comment_id": 84424085, "body": "Your Perl script is missing a <code>}</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518203207, "post_id": 48711446, "comment_id": 84424111, "body": "What output are you getting (in the console and in <code>lowerlm.eng</code>)?"}, {"owner": {"reputation": 23, "user_id": 9238004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb227d0c650db76e77a537ae096f5fe?s=128&d=identicon&r=PG", "display_name": "user9238004", "link": "https://stackoverflow.com/users/9238004/user9238004"}, "edited": false, "score": 0, "creation_date": 1518203270, "post_id": 48711446, "comment_id": 84424141, "body": "the missing } is a typo here in the question sorry.no output comes in console but lowerlm.eng gets edited with the lowercase version of all the text from lower.eng this happens only when perl command is ran directly but not when ran using java"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9238004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb227d0c650db76e77a537ae096f5fe?s=128&d=identicon&r=PG", "display_name": "user9238004", "link": "https://stackoverflow.com/users/9238004/user9238004"}, "edited": false, "score": 0, "creation_date": 1518256945, "post_id": 48719466, "comment_id": 84437907, "body": "Thankyou very much for your help this answer is very helpful"}], "tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": true, "score": 0, "last_activity_date": 1518256708, "creation_date": 1518256708, "answer_id": 48719466, "question_id": 48711446, "link": "https://stackoverflow.com/questions/48711446/run-a-perl-script-using-java/48719466#48719466", "title": "run a perl script using java", "body": "<p>What is a little confusing in your description is</p>\n\n<blockquote>\n<pre><code>exec(\"perl lowercase.perl  &lt;lower.eng&gt; lowerlm.eng\");\n</code></pre>\n  \n  <p>...\n  the input parameter <code>&lt;lower.eng&gt;</code> (this has to be passed with diamond\n  operators) that i have passed is not working properly.</p>\n</blockquote>\n\n<p>because that implies you want the literal string <code>\"&lt;lower.eng&gt;\"</code> as a command-line argument. However, in your comments you say</p>\n\n<blockquote>\n  <p>lowerlm.eng gets edited with the lowercase version of all the text\n  from lower.eng this happens only when perl command is ran directly but\n  not when ran using java</p>\n</blockquote>\n\n<p>which means that actually, <code>&lt;lower.eng</code> and <code>&gt;lowerlm.eng</code> are <a href=\"https://unix.stackexchange.com/a/159514/273777\">shell redirections</a>. Although not explicitly stated in the documentation of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#exec(java.lang.String,%20java.lang.String[],%20java.io.File)\" rel=\"nofollow noreferrer\"><code>Runtime.exec</code></a>, it appears that Java does not call the shell.\nAnd indeed, if in your Perl script you inspect <a href=\"http://perldoc.perl.org/perlvar.html#@ARGV\" rel=\"nofollow noreferrer\"><code>@ARGV</code></a> (e.g. by writing it to a file), you will see that your Perl script, when called from Java, is being called with the command-line arguments <code>\"&lt;lower.eng&gt;\"</code> and <code>\"lowerlm.eng\"</code> instead of having its input and output redirected.</p>\n\n<p>There are a couple of possible solutions:</p>\n\n<p><strong>A.</strong> Use Java's <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\"><code>ProcessBuilder</code></a> to set up the redirections for you, either to and from files, or, if your input and/or output originates in the same Java program, avoid the temporary files using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html\" rel=\"nofollow noreferrer\"><code>OutputStream</code></a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\"><code>InputStream</code></a> directly. This would not require any modifications to the Perl script.</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"perl\", \"lowercase.perl\");\npb.redirectInput(new File(\"lower.eng\"));\npb.redirectOutput(new File(\"lowerlm.eng\"));\nProcess process = pb.start();\n</code></pre>\n\n<p><strong>B.</strong> Modify the Perl script to accept input/output filenames on the command line (e.g. <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow noreferrer\"><code>Getopt::Long</code></a>, although below I'm keeping it simpler), so that you don't have to rely on shell redirections.</p>\n\n<pre><code>use warnings;\nuse strict;\n\ndie \"Usage: $0 INFILE OUTFILE\\n\" unless @ARGV==2;\nmy $INFILE  = $ARGV[0];\nmy $OUTFILE = $ARGV[1];\n\nopen my $ifh, '&lt;', $INFILE  or die \"$INFILE: $!\";\nopen my $ofh, '&gt;', $OUTFILE or die \"$OUTFILE: $!\";\nwhile (&lt;$ifh&gt;) {\n    print $ofh lc;\n}\nclose $ifh;\nclose $ofh;\n</code></pre>\n\n<p><strong>C.</strong> Although I <strong>don't recommend</strong> this, just for the sake of completeness: you could call the shell from Java, e.g. <code>sh -c 'perl ...'</code>. This is not a good idea because you would have to be <em>very</em> careful with quoting and all shell metacharacters.</p>\n"}], "owner": {"reputation": 23, "user_id": 9238004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb227d0c650db76e77a537ae096f5fe?s=128&d=identicon&r=PG", "display_name": "user9238004", "link": "https://stackoverflow.com/users/9238004/user9238004"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 795, "favorite_count": 0, "accepted_answer_id": 48719466, "answer_count": 1, "score": -1, "last_activity_date": 1518256708, "creation_date": 1518198459, "last_edit_date": 1518203464, "question_id": 48711446, "link": "https://stackoverflow.com/questions/48711446/run-a-perl-script-using-java", "title": "run a perl script using java", "body": "<p>I have a file lowercase.perl ,this takes one file as an input and prints  all its content in lowercase into another output file.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nbinmode(STDIN, \":utf8\");\nbinmode(STDOUT, \":utf8\");\n\nwhile(&lt;STDIN&gt;) {\n  print lc($_);\n   }\n</code></pre>\n\n<p>and I want to run it from java</p>\n\n<pre><code>import java.io.*;\n\npublic class Sample {\n    public static void main(String args[]) {\n        Process process;\n        try\n        {\n            process = Runtime.getRuntime().exec(\"perl lowercase.perl  &lt;lower.eng&gt; lowerlm.eng\");\n\n            process.waitFor();\n            if(process.exitValue() == 0)\n            {\n                System.out.println(\"Command Successful\");\n            }\n            else\n            {\n                System.out.println(\"Command Failure\");\n            }\n        }\n        catch(Exception e)\n        {\n            System.out.println(\"Exception: \"+ e.toString());\n        }\n    }\n}\n</code></pre>\n\n<p>but this is not working.\nAll my files are in same directory and i am running terminal in same directory as well. What seems to be happening is that the perl script is being executed but the input parameter <strong><code>&lt;lower.eng&gt;</code></strong>(this has to be passed with diamond operators) that i have passed is not working properly.\nI have ran perl script directly and it is working fine if ran without using java.</p>\n"}, {"tags": ["linux", "perl", "nagios", "nrpe"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1518190937, "post_id": 48709038, "comment_id": 84417481, "body": "is <code>utils</code> your own module? Because without knowing what <code>$utils::PATH_TO_LMSTAT</code> says we cannot help."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1518194251, "post_id": 48709038, "comment_id": 84419479, "body": "<code>-x &quot;lmstat&quot;</code> will not search your PATH. It will just check the file <code>lmstat</code> in the current directory. To test for an executable named <code>lmstat</code> in your PATH, run <code>which lmstat</code> and check the exit code."}, {"owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1518196533, "post_id": 48709038, "comment_id": 84420820, "body": "@mob No it is the unmodified code. I have no idea what that part does."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 8, "last_activity_date": 1518197863, "last_edit_date": 1518197863, "creation_date": 1518194573, "answer_id": 48710394, "question_id": 48709038, "link": "https://stackoverflow.com/questions/48709038/why-isnt-usr-local-bin-checked-in-check-flexlm-pl-source-included/48710394#48710394", "title": "Why isn&#39;t /usr/local/bin/ checked in check_flexlm.pl ? Source included", "body": "<p>Never assume you know what something is. Try printing the path to verify it is what you think it is:</p>\n\n<pre><code>unless (-x $utils::PATH_TO_LMSTAT ) {\n    print qq/Cannot find \"lmstat\" at &lt;$utils::PATH_TO_LMSTAT&gt;\\n/;\n    exit $ERRORS{'UNKNOWN'};\n}\n</code></pre>\n\n<p>If <code>$utils::PATH_TO_LMSTAT</code> is a relative path (such as <code>lmstat</code> by itself) the <code>-x</code> is looking in the current directory. If it's a full path, maybe you have the string wrong.</p>\n\n<p>Note that your options handling can be a bit less unwieldy since you can specify multiple names for options in the same key:</p>\n\n<pre><code>GetOptions(\n        \"V|version\"    =&gt; \\$opt_V,\n        \"h|help\"       =&gt; \\$opt_h,\n        \"v|verbose\"    =&gt; \\$verbose,\n        \"F|filename=s\" =&gt; \\$opt_F,\n        \"t|timeout=i\"  =&gt; \\$opt_t,\n        );\n</code></pre>\n\n<p>The \"Secure Programming Techniques\" chapter of <a href=\"https://www.masteringperl.org\" rel=\"noreferrer\">Mastering Perl</a> discusses many of the headaches of programs that call external programs.</p>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 48710394, "answer_count": 1, "score": 0, "last_activity_date": 1518197863, "creation_date": 1518189971, "question_id": 48709038, "link": "https://stackoverflow.com/questions/48709038/why-isnt-usr-local-bin-checked-in-check-flexlm-pl-source-included", "title": "Why isn&#39;t /usr/local/bin/ checked in check_flexlm.pl ? Source included", "body": "<p>Eventhough I have <code>/usr/local/bin/lmstat</code> the below script always fails with <code>Cannot find \"lmstat\"</code>.</p>\n\n<p>Can anyone see why that is the case?</p>\n\n<pre><code>use strict;\nuse Getopt::Long;\nuse vars qw($opt_V $opt_h $opt_F $opt_t $verbose $PROGNAME);\nuse FindBin;\nuse lib \"$FindBin::Bin\";\nuse lib '/usr/lib64/nagios/plugins';\nuse utils qw(%ERRORS &amp;print_revision &amp;support &amp;usage);\n\n$PROGNAME=\"check_flexlm\";\n\nsub print_help ();\nsub print_usage ();\n\n$ENV{'PATH'}='/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin';\n$ENV{'BASH_ENV'}='';\n$ENV{'ENV'}='';\n\nGetopt::Long::Configure('bundling');\nGetOptions\n        (\"V\"   =&gt; \\$opt_V,   \"version\"    =&gt; \\$opt_V,\n         \"h\"   =&gt; \\$opt_h,   \"help\"       =&gt; \\$opt_h,\n         \"v\"   =&gt; \\$verbose, \"verbose\"    =&gt; \\$verbose,\n         \"F=s\" =&gt; \\$opt_F,   \"filename=s\" =&gt; \\$opt_F,\n         \"t=i\" =&gt; \\$opt_t, \"timeout=i\"  =&gt; \\$opt_t);\n\nif ($opt_V) {\n        print_revision($PROGNAME,'2.2.1');\n        exit $ERRORS{'OK'};\n}\n\nunless (defined $opt_t) {\n        $opt_t = $utils::TIMEOUT ;      # default timeout\n}\n\n\nif ($opt_h) {print_help(); exit $ERRORS{'OK'};}\n\nunless (defined $opt_F) {\n        $opt_F = $ENV{'LM_LICENSE_FILE'};\n        unless (defined $opt_F) {\n                print \"Missing license.dat file\\n\";\n                print_usage();\n                exit $ERRORS{'UNKNOWN'};\n        }\n}\n# Just in case of problems, let's not hang Nagios\n$SIG{'ALRM'} = sub {\n        print \"Timeout: No Answer from Client\\n\";\n        exit $ERRORS{'UNKNOWN'};\n};\nalarm($opt_t);\n\nmy $lmstat = $utils::PATH_TO_LMSTAT ;\nunless (-x $lmstat ) {\n        print \"Cannot find \\\"lmstat\\\"\\n\";\n        exit $ERRORS{'UNKNOWN'};\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 257, "user_id": 2304437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037de599b574fc63c5d0bf22ed811d4c?s=128&d=identicon&r=PG", "display_name": "robut", "link": "https://stackoverflow.com/users/2304437/robut"}, "edited": false, "score": 1, "creation_date": 1518189750, "post_id": 48708929, "comment_id": 84416734, "body": "Neat, thanks ! Will accept answer unless someone can provide a non-eval method."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 257, "user_id": 2304437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037de599b574fc63c5d0bf22ed811d4c?s=128&d=identicon&r=PG", "display_name": "robut", "link": "https://stackoverflow.com/users/2304437/robut"}, "edited": false, "score": 3, "creation_date": 1518189911, "post_id": 48708929, "comment_id": 84416838, "body": "@robut note that this is not actually <i>string eval</i>. It&#39;s a regular, built-in feature of the Perl regex engine. See <code>perl -MO=Concise -e &#39;my $str = &quot;foo95285734776bar&quot;; $str =~ s&#47;([0-9]{2,4})&#47;&quot;_&quot; . length($1) . &quot;_&quot;&#47;ge;&#39;</code> See my update with more documentation. It&#39;s not a bad <code>eval</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 257, "user_id": 2304437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037de599b574fc63c5d0bf22ed811d4c?s=128&d=identicon&r=PG", "display_name": "robut", "link": "https://stackoverflow.com/users/2304437/robut"}, "edited": false, "score": 0, "creation_date": 1518300710, "post_id": 48708929, "comment_id": 84451201, "body": "@robut, This solution does not involve <code>eval</code> (unlike <code>&#47;ee</code>).  <code>&#47;e</code> causes the source file to be treated as code (not the value of some variable), so there&#39;s no security issue. Anyone who can change your source file can already make your script do anything. For example, <code>s{foo}{bar}g</code> is equivalent to <code>s{foo}{ qq{bar} }eg</code>; both evaluate a double-quoted string on replacement."}, {"owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 0, "creation_date": 1563274830, "post_id": 48708929, "comment_id": 100637219, "body": "I came to the question when wanting to craft some eval in perl. Maybe somebody can point me to place in perl docs where dot (.) operator is described, I could not find it in <a href=\"https://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html</a>, only some other places on the web via search."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 1, "creation_date": 1563275329, "post_id": 48708929, "comment_id": 100637509, "body": "@AlexeiMartianov the <code>.</code> is the concatenation operator. See <a href=\"https://perlmaven.com/string-operators\" rel=\"nofollow noreferrer\">perlmaven.com/string-operators</a> for a good tutorial, and <a href=\"https://perldoc.perl.org/perlop.html#Additive-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Additive-Operators</a> for the general description in the docs. It&#39;s not much there, because it just adds two strings together."}, {"owner": {"reputation": 2231, "user_id": 5499118, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5a208904f0bcb017ca7ac854070f4b55?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Martianov", "link": "https://stackoverflow.com/users/5499118/alexei-martianov"}, "edited": false, "score": 1, "creation_date": 1563279686, "post_id": 48708929, "comment_id": 100639901, "body": "Thank you. My mistake I searched for &#39;concatenation&#39; in docs, but it&#39;s &#39;concatenates&#39; - pitty I have not guessed to search for beginning of the word!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1518190018, "last_edit_date": 1518190018, "creation_date": 1518189622, "answer_id": 48708929, "question_id": 48708885, "link": "https://stackoverflow.com/questions/48708885/perl-replace-capture-group-with-length-of-capture-group/48708929#48708929", "title": "Perl Replace Capture Group With Length of Capture Group", "body": "<p>You can use the <a href=\"http://perldoc.perl.org/perlre.html#Modifiers\" rel=\"noreferrer\"><code>/e</code> modifier</a> to add Perl code into the substitution part that is then evaled.</p>\n\n<pre><code>my $str = \"foo95285734776bar\";\n$str =~ s/([0-9]{2,4})/'_' . length($1) . '_'/ge;\n\nprint $str;\n</code></pre>\n\n<p>Will output</p>\n\n<pre><code>foo_4__4__3_bar\n</code></pre>\n\n<p>Note that you now need a full Perl expression there. That's why you have to actually quote and concatenate the underscores.</p>\n\n<p>From <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"noreferrer\">perlop</a>:</p>\n\n<blockquote>\n  <p>A <code>/e</code> will cause the replacement portion to be treated as a full-fledged Perl expression and evaluated right then and there. It is, however, syntax checked at compile-time. A second e modifier will cause the replacement portion to be evaled before being run as a Perl expression.</p>\n</blockquote>\n"}], "owner": {"reputation": 257, "user_id": 2304437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037de599b574fc63c5d0bf22ed811d4c?s=128&d=identicon&r=PG", "display_name": "robut", "link": "https://stackoverflow.com/users/2304437/robut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 1, "accepted_answer_id": 48708929, "answer_count": 1, "score": 0, "last_activity_date": 1518190018, "creation_date": 1518189479, "question_id": 48708885, "link": "https://stackoverflow.com/questions/48708885/perl-replace-capture-group-with-length-of-capture-group", "title": "Perl Replace Capture Group With Length of Capture Group", "body": "<p>Given : </p>\n\n<pre><code>my $str = \"foo95285734776bar\"; \n$str =~ s/([0-9]{2,4})/_????_/g; \n</code></pre>\n\n<p>What single regex where '????' is the length of $1 can produce output \"foo_4__4__3_bar\" ?  </p>\n\n<p>That is, where \"9528\" is replaced with \"_4_\", \"5734\" with \"_4_\", and the remaining \"776\" with \"_3_\".</p>\n"}, {"tags": ["python", "python-3.x", "perl"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1518186747, "post_id": 48708002, "comment_id": 84414817, "body": "are you set on a command line or a python code would do?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1518186821, "post_id": 48708002, "comment_id": 84414877, "body": "You could considerably shorten that Perl program by doing <code>perl -n -E &#39;say if &#47;180205&#47;</code>"}, {"owner": {"reputation": 1119, "user_id": 1514029, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beZLm.png?s=128&g=1", "display_name": "Gerd", "link": "https://stackoverflow.com/users/1514029/gerd"}, "edited": false, "score": 0, "creation_date": 1518186882, "post_id": 48708002, "comment_id": 84414917, "body": "both interesting but commandline is much more important"}, {"owner": {"reputation": 1119, "user_id": 1514029, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beZLm.png?s=128&g=1", "display_name": "Gerd", "link": "https://stackoverflow.com/users/1514029/gerd"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1518186966, "post_id": 48708002, "comment_id": 84414975, "body": "@simbabque I now. But I want migrate from perl to python3!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1518187147, "post_id": 48708002, "comment_id": 84415070, "body": "Start by running <code>python3 --help</code> then. Or look at the man page for command line switches."}, {"owner": {"reputation": 469127, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 3, "creation_date": 1518187183, "post_id": 48708002, "comment_id": 84415097, "body": "For anyone familiar with Python but not with Perl, you might want to describe what <code>-n</code> does exactly."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1518187534, "post_id": 48708002, "comment_id": 84415330, "body": "Actually, <code>perl --help</code> says that <code>-n</code> means <i>assume &quot;while (&lt;&gt;) { ... }&quot; loop around program</i>"}, {"owner": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1518187825, "post_id": 48708002, "comment_id": 84415496, "body": "Found this searching pypi: <a href=\"https://pypi.python.org/pypi/red/0.2.1\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/red/0.2.1</a>"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 3, "creation_date": 1518188041, "post_id": 48708002, "comment_id": 84415638, "body": "Why do you need either perl or python when you could do <code>ls -l *180205*</code>?"}, {"owner": {"reputation": 1119, "user_id": 1514029, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beZLm.png?s=128&g=1", "display_name": "Gerd", "link": "https://stackoverflow.com/users/1514029/gerd"}, "reply_to_user": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1518188163, "post_id": 48708002, "comment_id": 84415724, "body": "@JoshLee should work: not nice BUT useful"}, {"owner": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1518189282, "post_id": 48708002, "comment_id": 84416408, "body": "<a href=\"https://stackoverflow.com/questions/7842919/python-equivalent-to-perl-pe\" title=\"python equivalent to perl pe\">stackoverflow.com/questions/7842919/&hellip;</a> <a href=\"https://stackoverflow.com/questions/38417743/are-there-anything-similar-to-perl-pe-option-in-python\" title=\"are there anything similar to perl pe option in python\">stackoverflow.com/questions/38417743/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 3, "last_activity_date": 1518188048, "creation_date": 1518188048, "answer_id": 48708465, "question_id": 48708002, "link": "https://stackoverflow.com/questions/48708002/can-i-use-in-python3-something-like-n-pipe-option-in-perl/48708465#48708465", "title": "Can I use in python3 something like -n pipe-option in perl?", "body": "<p>Python oneliners with <code>python -c '...'</code> are extremely restricted, as the Python grammar assumes that each statement sits on its own line. You can combine some statements with a semicolon \u201c<code>;</code>\u201d, but some statements need to have their own line, notably compound statements like loops. If you want to write this on the command line, we have to express the loop over all lines as a list comprehension:</p>\n\n<pre><code>python3 -c 'import re, fileinput; [print(line, end=\"\") for line in fileinput.input() if re.search(\"180205\", line)]'\n</code></pre>\n\n<p>This is of course fairly unreadable, because Python is not well-suited for one-liners. Looping over the <code>fileinput.input()</code> is similar to Perl's <code>-n</code> option.</p>\n\n<p>If you want to use Python, consider writing a script. This is much more readable:</p>\n\n<pre><code>import re, fileinput\nfor line in fileinput.input():\n    if re.search(\"180205\", line):\n        print(line, end=\"\")\n</code></pre>\n"}], "owner": {"reputation": 1119, "user_id": 1514029, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beZLm.png?s=128&g=1", "display_name": "Gerd", "link": "https://stackoverflow.com/users/1514029/gerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 48708465, "answer_count": 1, "score": 2, "last_activity_date": 1518188048, "creation_date": 1518186411, "last_edit_date": 1518187911, "question_id": 48708002, "link": "https://stackoverflow.com/questions/48708002/can-i-use-in-python3-something-like-n-pipe-option-in-perl", "title": "Can I use in python3 something like -n pipe-option in perl?", "body": "<p>If I look for a filename pattern in perl, you can do this simple:</p>\n\n<pre><code>ls -l | perl -n -e'if(/.*180205.*/){ print \"$_\\n\"; }'\n</code></pre>\n\n<blockquote>\n  <p><code>-n</code><br>\n  causes Perl to assume the following loop around your program, which makes it iterate over filename arguments somewhat like <code>sed -n</code> or <code>awk</code>:</p>\n\n<pre><code>LINE:\n  while (&lt;&gt;) {\n      ...             # your program goes here\n  }\n</code></pre>\n</blockquote>\n\n<p>How can I code this in python3? (python3 --help shows not such option)</p>\n"}, {"tags": ["linux", "perl", "awk"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1518175593, "post_id": 48704760, "comment_id": 84407837, "body": "Perl or awk? Which one is it?"}, {"owner": {"reputation": 1056, "user_id": 4319483, "user_type": "registered", "profile_image": "https://graph.facebook.com/668992100/picture?type=large", "display_name": "Bjorn A.", "link": "https://stackoverflow.com/users/4319483/bjorn-a"}, "edited": false, "score": 0, "creation_date": 1518175633, "post_id": 48704760, "comment_id": 84407863, "body": "Since you use printf, you want a format specifier(just like in C). printf &quot;%s\\n&quot;, $1 (or $2) will do"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1518196609, "post_id": 48704760, "comment_id": 84420854, "body": "Given the subject line <code>How to use awk for filtering(perl automation)</code> you&#39;re a;most certainly going to get the answer to your question instead of being shown the right way to solve your problem. See <a href=\"https://meta.stackexchange.com/q/66377/361691\">meta.stackexchange.com/q/66377/361691</a>."}], "answers": [{"tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 1, "last_activity_date": 1518175616, "creation_date": 1518175616, "answer_id": 48704812, "question_id": 48704760, "link": "https://stackoverflow.com/questions/48704760/how-to-use-awk-for-filteringperl-automation/48704812#48704812", "title": "How to use awk for filtering(perl automation)", "body": "<p>Following <code>awk</code> may help you on same.</p>\n\n<p><strong><em>Solution 1st:</em></strong></p>\n\n<pre><code>awk '/vcpu_count/{print;next} /memory/{print}'  Input_file\n</code></pre>\n\n<p>Output will be as follows:</p>\n\n<pre><code>vcpu_count=10\nmemory=23.59\n</code></pre>\n\n<p><strong><em>Solution 2nd:</em></strong>\nIn case you want to print the values on a single line using <code>printf</code> then following may help you on same:</p>\n\n<pre><code>awk '/vcpu_count/{val=$0;next}  /memory/{printf(\"%s AND %s\\n\",val,$0)}'  Input_file\n</code></pre>\n\n<p>Output will be as follows:</p>\n\n<pre><code>vcpu_count=10 AND memory=23.59\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1518191075, "post_id": 48705185, "comment_id": 84417556, "body": "I&#39;d probably just slurp the whole lot into a hash in one go:  <code>my %config_hash = do { local $&#47;; &lt;$config&gt;} =~ m&#47;(\\w+)=([\\d\\.]+)&#47;gm</code> - and then <code>print $config_hash{$_} for qw ( vcpu_count memory )</code> or similar. (Left as a comment, because it&#39;s not materially different from your answer)"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 3, "last_activity_date": 1518177032, "creation_date": 1518177032, "answer_id": 48705185, "question_id": 48704760, "link": "https://stackoverflow.com/questions/48704760/how-to-use-awk-for-filteringperl-automation/48705185#48705185", "title": "How to use awk for filtering(perl automation)", "body": "<p>If you are using Perl anyway, just use Perl for this too.</p>\n\n<pre><code>my %array;\nopen ($config, \"&lt;\", \".vmConfig.txt\") or die \"$0: Could not open .vmConfig.txt: $!\\n\";\nwhile (&lt;$config&gt;) {\n    next unless /^\\s*(vcpu_count|memory)\\s*=\\s*(.*?)\\s*\\n/;\n    $array{$1} = $2;\n}\nclose($config);\n</code></pre>\n\n<p>If you don't want the result to be an associative array (aka hash), refactoring should be relatively easy.</p>\n"}, {"comments": [{"owner": {"reputation": 147, "user_id": 8622811, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b99f6d7e3938f5f31578cc93d42953f0?s=128&d=identicon&r=PG&f=1", "display_name": "Abhilasha", "link": "https://stackoverflow.com/users/8622811/abhilasha"}, "edited": false, "score": 1, "creation_date": 1518178846, "post_id": 48705414, "comment_id": 84409760, "body": "Thanks for explaining so thoroughly"}], "tags": [], "owner": {"reputation": 627, "user_id": 5943150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63cb130ccc1e5d1ef7cba38e994210e2?s=128&d=identicon&r=PG&f=1", "display_name": "Guy", "link": "https://stackoverflow.com/users/5943150/guy"}, "is_accepted": false, "score": 1, "last_activity_date": 1518177852, "creation_date": 1518177852, "answer_id": 48705414, "question_id": 48704760, "link": "https://stackoverflow.com/questions/48704760/how-to-use-awk-for-filteringperl-automation/48705414#48705414", "title": "How to use awk for filtering(perl automation)", "body": "<p>when you use <code>awk -F'=' '/vcpu_count/{printf \"\\n\",$1}' .vmConfig.txt</code> there are a couple of mistakes. Firstly, <code>printf \"\\n\"</code> will only ever print a new line, as you have found. You need to add a format specifier - something like <code>printf \"%s\\n\", $2</code> will treat field 2 as a string and add it into the printed string. Checking out <code>man printf</code> at the command line will explain a bit more,.</p>\n\n<p>Secondly, as I changed there, when you used <code>$1</code> you were using the first field, which is the key in this case (while <code>$0</code> is the whole line.)</p>\n\n<p>Triplees solution is probably the most appropriate, but if there is a particular reason to start awk to perform this before perl, the following may help.</p>\n\n<p>As you have done, it splits on <code>=</code>, but then outputs as <code>csv</code>, which you can change as appropriate. Even if input lines are not always in same order, will output in predictable order on single line</p>\n\n<pre><code>awk 'BEGIN {\n        FS=\"=\";\n        OFS=\",\"  # tabs, etc if wanted, delete for spaces.\n    }\n    /vcpu_count/  {cpu=$2} \n    /memory/      {mem=$2} \n    END           { print cpu, mem }'\n</code></pre>\n\n<p>This gives</p>\n\n<pre><code>10,23.59\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 8622811, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b99f6d7e3938f5f31578cc93d42953f0?s=128&d=identicon&r=PG&f=1", "display_name": "Abhilasha", "link": "https://stackoverflow.com/users/8622811/abhilasha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1518177852, "creation_date": 1518175438, "question_id": 48704760, "link": "https://stackoverflow.com/questions/48704760/how-to-use-awk-for-filteringperl-automation", "title": "How to use awk for filtering(perl automation)", "body": "<p>This is my txt file</p>\n\n<pre><code>type=0\nvcpu_count=10\nmaste=0\nh=0\np=0\nmemory=23.59\nnum=2\n</code></pre>\n\n<p>I want to get the vcpu_count and memory values and store it in some array through perl(automating script) .</p>\n\n<pre><code>awk -F'=' '/vcpu_count/{printf \"\\n\",$1}' .vmConfig.txt\n</code></pre>\n\n<p>i am using this command just to test on terminal.but am getting a blank line. How do i do it. I need to get these two values and check for condition</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518173869, "post_id": 48704240, "comment_id": 84406919, "body": "<code>my @line = split &#47;\\s+&#47;; my $index = shift @line; my $word = shift @line; print join(&#39; &#39;, @line) . &quot;\\n&quot;;</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518173928, "post_id": 48704240, "comment_id": 84406960, "body": "<code>$line[2..]</code> in your code could be written as <code>$line[2..$#line]</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1518174108, "post_id": 48704240, "comment_id": 84407054, "body": "<code>The special variable $#array tells you the index of the last element of an array:</code> - from  perldoc perlintro <a href=\"https://perldoc.perl.org/perlintro.html#Perl-variable-types\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlintro.html#Perl-variable-types</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1518174181, "post_id": 48704240, "comment_id": 84407098, "body": "You should <code>use warnings; use strict;</code> in your code, and possible <code>use diagnostics;</code> to get detailed information about error messages."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1518174275, "post_id": 48704240, "comment_id": 84407155, "body": "And either <code>use autodie;</code> or check that your <code>open</code> calls finished successfully, as in: <code>open my $fh, &quot;&lt;$file&quot; or die &quot;Unable to open &#39;$file&#39; : $!&quot;</code>"}, {"owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518174731, "post_id": 48704240, "comment_id": 84407399, "body": "Thanks @xxfelixxx  it&#39;s working properly. can you see this question <a href=\"https://stackoverflow.com/questions/48699784/how-to-modify-a-particular-column-based-on-the-content-of-column-of-another-file\" title=\"how to modify a particular column based on the content of column of another file\">stackoverflow.com/questions/48699784/&hellip;</a>"}, {"owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518177089, "post_id": 48704240, "comment_id": 84408695, "body": "According to your code <b>print join(&#39; &#39;, @line) . &quot;\\n&quot;;</b>  only print values in while loop. If i want to store these text in an array for further use then what can i use ?  @xxfelixxx"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518177139, "post_id": 48704240, "comment_id": 84408716, "body": "You can <code>push @txt, @line;</code>"}, {"owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518177991, "post_id": 48704240, "comment_id": 84409233, "body": "it&#39;s not working correctly.."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518178157, "post_id": 48704240, "comment_id": 84409339, "body": "I cannot see what your are trying to show."}, {"owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518179412, "post_id": 48704240, "comment_id": 84410073, "body": "<b>File :</b>     ;; LABEL &quot;SW-F&quot; &quot;Switchboard Female&quot; &quot;Switchboard Female Caller&quot;   ;; LABEL &quot;SW-M&quot; &quot;Switchboard Male&quot; &quot;Switchboard Male Caller&quot;   en_4156 A en_4156_A 301.85 302.48 &lt;O,en,F,en-F&gt;  OH YEAH   en_4156 A en_4156_A 304.71 306.72 &lt;O,en,F,en-F&gt;  WELL I AM GOING TO HAVE MINE IN TWO MORE CLASSES   en_4156 A en_4156_A 307.63 311.16 &lt;O,en,F,en-F&gt;  NO I AM NOT WELL THEN I HAVE TO TAKE MY EXAMS MY ORALS BUT   en_4156 A en_4156_A 313.34 315.37 &lt;O,en,F,en-F&gt;  THAT IS KIND OF WHAT I WOULD LIKE TO DO"}, {"owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518180095, "post_id": 48704240, "comment_id": 84410524, "body": "yes,this is an input file. Actually i want to comment it as a proper manner but i failed"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518181025, "post_id": 48704240, "comment_id": 84411163, "body": "You can edit your question, and put it there the same way, with 4 leading spaces on each line."}, {"owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518182557, "post_id": 48704240, "comment_id": 84412119, "body": "Edited my question @xxfelixxx"}, {"owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518183572, "post_id": 48704240, "comment_id": 84412766, "body": "problem solved. Thanks for the help @xxfelixxx"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1518224678, "post_id": 48704240, "comment_id": 84431670, "body": "You are welcome @ziks.  Glad you figured it all out."}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1518199360, "creation_date": 1518199360, "answer_id": 48711668, "question_id": 48704240, "link": "https://stackoverflow.com/questions/48704240/how-to-print-the-text-from-column-6-to-till-end-of-line-from-a-file-using-perl/48711668#48711668", "title": "How to print the text from column-6 to till end of line from a file using Perl?", "body": "<p>You're making this more complicated than it needs to be. It looks like you have fixed-width data, so why not extract it with <a href=\"https://perldoc.perl.org/functions/unpack.html\" rel=\"nofollow noreferrer\"><code>unpack</code></a>?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n    if (/^;;/) {\n        print;\n        next;\n    }\n\n    my @fields = unpack('A8 A2 A10 A7 A7 A15 A*');\n    print join('  ', @fields[0, 5, 6]),  \"\\n\";\n}\n\n__DATA__\n;; LABEL \"EN-F\" \"Callhome Female\" \"Callhome Female Caller\"\n;; LABEL \"EN-M\" \"Callhome Male\" \"Callhome Male Caller\"\n;; LABEL \"SW-F\" \"Switchboard Female\" \"Switchboard Female Caller\"\n;; LABEL \"SW-M\" \"Switchboard Male\" \"Switchboard Male Caller\"\nen_4156 A en_4156_A 301.85 302.48 &lt;O,en,F,en-F&gt;  OH YEAH\nen_4156 A en_4156_A 304.71 306.72 &lt;O,en,F,en-F&gt;  WELL I AM GOING TO HAVE MINE IN TWO MORE CLASSES\nen_4156 A en_4156_A 307.63 311.16 &lt;O,en,F,en-F&gt;  NO I AM NOT WELL THEN I HAVE TO TAKE MY EXAMS MY ORALS BUT\nen_4156 A en_4156_A 313.34 315.37 &lt;O,en,F,en-F&gt;  THAT IS KIND OF WHAT I WOULD LIKE TO DO\nen_4156 A en_4156_A 316.83 319.20 &lt;O,en,F,en-F&gt;  I MIGHT EVEN WANT TO GO ON AND GET MY P H D\nen_4156 A en_4156_A 321.55 322.16 &lt;O,en,F,en-F&gt;  IT IS JUST THAT\nen_4156 A en_4156_A 323.05 327.38 &lt;O,en,F,en-F&gt;  I DO NOT KNOW IT IS SO COMFORTABLE WHERE I AM AND AND IF I\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>;; LABEL \"EN-F\" \"Callhome Female\" \"Callhome Female Caller\"\n;; LABEL \"EN-M\" \"Callhome Male\" \"Callhome Male Caller\"\n;; LABEL \"SW-F\" \"Switchboard Female\" \"Switchboard Female Caller\"\n;; LABEL \"SW-M\" \"Switchboard Male\" \"Switchboard Male Caller\"\nen_4156  &lt;O,en,F,en-F&gt;  OH YEAH\nen_4156  &lt;O,en,F,en-F&gt;  WELL I AM GOING TO HAVE MINE IN TWO MORE CLASSES\nen_4156  &lt;O,en,F,en-F&gt;  NO I AM NOT WELL THEN I HAVE TO TAKE MY EXAMS MY ORALS BUT\nen_4156  &lt;O,en,F,en-F&gt;  THAT IS KIND OF WHAT I WOULD LIKE TO DO\nen_4156  &lt;O,en,F,en-F&gt;  I MIGHT EVEN WANT TO GO ON AND GET MY P H D\nen_4156  &lt;O,en,F,en-F&gt;  IT IS JUST THAT\nen_4156  &lt;O,en,F,en-F&gt;  I DO NOT KNOW IT IS SO COMFORTABLE WHERE I AM AND AND IF I\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518199360, "creation_date": 1518173558, "last_edit_date": 1518182491, "question_id": 48704240, "link": "https://stackoverflow.com/questions/48704240/how-to-print-the-text-from-column-6-to-till-end-of-line-from-a-file-using-perl", "title": "How to print the text from column-6 to till end of line from a file using Perl?", "body": "<p><strong>File :</strong></p>\n\n<pre><code>;; LABEL \"EN-F\" \"Callhome Female\" \"Callhome Female Caller\"\n;; LABEL \"EN-M\" \"Callhome Male\" \"Callhome Male Caller\"\n;; LABEL \"SW-F\" \"Switchboard Female\" \"Switchboard Female Caller\"\n;; LABEL \"SW-M\" \"Switchboard Male\" \"Switchboard Male Caller\"\nen_4156 A en_4156_A 301.85 302.48 &lt;O,en,F,en-F&gt;  OH YEAH\nen_4156 A en_4156_A 304.71 306.72 &lt;O,en,F,en-F&gt;  WELL I AM GOING TO HAVE MINE IN TWO MORE CLASSES\nen_4156 A en_4156_A 307.63 311.16 &lt;O,en,F,en-F&gt;  NO I AM NOT WELL THEN I HAVE TO TAKE MY EXAMS MY ORALS BUT\nen_4156 A en_4156_A 313.34 315.37 &lt;O,en,F,en-F&gt;  THAT IS KIND OF WHAT I WOULD LIKE TO DO\nen_4156 A en_4156_A 316.83 319.20 &lt;O,en,F,en-F&gt;  I MIGHT EVEN WANT TO GO ON AND GET MY P H D\nen_4156 A en_4156_A 321.55 322.16 &lt;O,en,F,en-F&gt;  IT IS JUST THAT\nen_4156 A en_4156_A 323.05 327.38 &lt;O,en,F,en-F&gt;  I DO NOT KNOW IT IS SO COMFORTABLE WHERE I AM AND AND IF I\n</code></pre>\n\n<p><strong>Output File :</strong></p>\n\n<pre><code>;; LABEL \"EN-F\" \"Callhome Female\" \"Callhome Female Caller\"\n;; LABEL \"EN-M\" \"Callhome Male\" \"Callhome Male Caller\"\n;; LABEL \"SW-F\" \"Switchboard Female\" \"Switchboard Female Caller\"\n;; LABEL \"SW-M\" \"Switchboard Male\" \"Switchboard Male Caller\"\nen_4156  &lt;O,en,F,en-F&gt;  OH YEAH\nen_4156  &lt;O,en,F,en-F&gt;  WELL I AM GOING TO HAVE MINE IN TWO MORE CLASSES\nen_4156  &lt;O,en,F,en-F&gt;  NO I AM NOT WELL THEN I HAVE TO TAKE MY EXAMS MY ORALS BUT\nen_4156  &lt;O,en,F,en-F&gt;  THAT IS KIND OF WHAT I WOULD LIKE TO DO\nen_4156  &lt;O,en,F,en-F&gt;  I MIGHT EVEN WANT TO GO ON AND GET MY P H D\nen_4156  &lt;O,en,F,en-F&gt;  IT IS JUST THAT\nen_4156  &lt;O,en,F,en-F&gt;  I DO NOT KNOW IT IS SO COMFORTABLE WHERE I AM AND AND IF I\n</code></pre>\n\n<p><strong>Code :</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nmy ($file, $new_file)=@ARGV;\nopen(FILE, \"&lt;$file\") or die \"Unable to open $file\";\nopen(NEW, \"&gt;$new_file\") or die \"Unable to open $new_file\";\nwhile (&lt;FILE&gt;) {\n  @line=split(\" \", $_);\n  push @wav_s, $line[0];\n  push @channel_s, $line[1];\n  push @start_s, $line[3];\n  push @end_s, $line[4];\n  push @label, $line[5];\n  push @txt, $line[6..$#line];\n  if ($wav_s eq \";;\") {\n    print NEW $_;\n  }\n}\n$ls=scalar @start_s;\n\nfor ($i=0; $i&lt;$ls; $i++) {\n  while ($wav_s[$i] eq \";;\") {\n    $i++;\n  }\n  print NEW \"$wav_s[$i] $label[$i] $txt[$i]\\n\";\n}\n</code></pre>\n\n<p>I want to print column-0, column-5 and all characters from column-6 to till end of file in a different file.\nWhat is the right code for this problem ?</p>\n\n<blockquote>\n  <p>Anyone can Complete this code .</p>\n</blockquote>\n"}, {"tags": ["c", "regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1518175857, "post_id": 48704002, "comment_id": 84407993, "body": "Do you consider this a partial match? <code>perl -le &#39;print &quot;aa&quot; =~ &#47;aaa?a?&#47;&#39;</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1518189236, "post_id": 48704002, "comment_id": 84416377, "body": "Well, for simple cases I just reverse the matches. E.g. <code>&quot;aaaa&quot; =~ &#47;aa&#47;</code>, and use that as my &#39;partial&#39; case.  This would appear to work in your example - is there a reason why it wouldn&#39;t &#39;for real&#39;?"}, {"owner": {"reputation": 25147, "user_id": 78720, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2d78d7a7bd9b1eca98bf4b7f0aba52dc?s=128&d=identicon&r=PG", "display_name": "sigjuice", "link": "https://stackoverflow.com/users/78720/sigjuice"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1518198184, "post_id": 48704002, "comment_id": 84421685, "body": "@revo your example is not strictly a partial match.  I have updated my question to include output from the <a href=\"https://www.pcre.org/original/doc/html/pcretest.html\" rel=\"nofollow noreferrer\">pcretest</a> tool to illustrate the difference."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1518199094, "post_id": 48704002, "comment_id": 84422132, "body": "I was trying to shed some light on question. That&#39;s kinda simulating <i>partial match</i> if what you are trying to match is <i>partial</i>. Yet I don&#39;t get if this question is asking whether it&#39;s possible to do partial matching in Perl or just looks for a workaround to a specific problem."}, {"owner": {"reputation": 25147, "user_id": 78720, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2d78d7a7bd9b1eca98bf4b7f0aba52dc?s=128&d=identicon&r=PG", "display_name": "sigjuice", "link": "https://stackoverflow.com/users/78720/sigjuice"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1518200016, "post_id": 48704002, "comment_id": 84422576, "body": "@revo Thanks for looking into this.  I have a C program that makes heavy use of pcre_exec(..., PCRE_PARTIAL, ....);.  For now, I am trying to translate it to Perl and be as close as possible to the C code.  I tried to phrase my question according to the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> guidelines."}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 4, "last_activity_date": 1518205332, "creation_date": 1518205332, "answer_id": 48713014, "question_id": 48704002, "link": "https://stackoverflow.com/questions/48704002/what-is-the-perl-equivalent-of-pcres-pcre-partial/48713014#48713014", "title": "What is the Perl equivalent of PCRE&#39;s PCRE_PARTIAL?", "body": "<p>There is no simple way to do this with Perl regexes. Perl's match operator either returns true (match found) or false (match not found).</p>\n\n<p>There are possible workarounds if you know what pattern you're dealing with (by rewriting the pattern to do partial matching manually), but there's no general solution as far as I'm aware.</p>\n"}], "owner": {"reputation": 25147, "user_id": 78720, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2d78d7a7bd9b1eca98bf4b7f0aba52dc?s=128&d=identicon&r=PG", "display_name": "sigjuice", "link": "https://stackoverflow.com/users/78720/sigjuice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1518205332, "creation_date": 1518172834, "last_edit_date": 1518198104, "question_id": 48704002, "link": "https://stackoverflow.com/questions/48704002/what-is-the-perl-equivalent-of-pcres-pcre-partial", "title": "What is the Perl equivalent of PCRE&#39;s PCRE_PARTIAL?", "body": "<p>Is there a way for a Perl regular expression to do a partial match, i.e. some variation of the following expression should return true.</p>\n\n<pre><code>perl -le 'print \"aa\" =~ /aaaa/'\n</code></pre>\n\n<p>Here is the equivalent PCRE code that does this.</p>\n\n<pre><code>$ cat partial.c \n#include &lt;stdio.h&gt;\n#include &lt;pcre.h&gt;\n\nint main(void)\n{\n    const char *errptr;\n    int erroffset, result;\n    pcre *re;\n\n    re = pcre_compile(\"aaaa\", 0, &amp;errptr, &amp;erroffset, NULL);\n    if (re == NULL)\n        return 42;\n\n    result = pcre_exec(re, NULL, \"aa\", 2, 0, PCRE_PARTIAL, NULL, 0);\n\n    printf(\"%d\\n\", result == PCRE_ERROR_PARTIAL);\n\n    return 0;\n}\n\n$ make partial LDFLAGS=-lpcre\ncc   -lpcre  partial.c   -o partial\n\n$ ./partial \n1\n</code></pre>\n\n<p>EDIT: The <a href=\"https://www.pcre.org/original/doc/html/pcretest.html\" rel=\"nofollow noreferrer\">pcretest</a> tool can be used to demonstrate the difference between partial and non-partial matches.  Also include result of matching the regex suggested by @revo in comments.</p>\n\n<pre><code>$ pcretest\nPCRE version 8.41 2017-07-05\n\n  re&gt; /aaaa/\n\ndata&gt; aa\nNo match\n\ndata&gt; aa\\P\nPartial match: aa\ndata&gt; aaaa\n 0: aaaa\n\n$ pcretest\nPCRE version 8.41 2017-07-05\n\n  re&gt; /aaa?a?/\n\ndata&gt; aa\n 0: aa\n\ndata&gt; aa\\P\n 0: aa\n</code></pre>\n"}, {"tags": ["perl", "uwsgi", "dancer", "perlbrew", "psgi"], "answers": [{"tags": [], "owner": {"reputation": 2698, "user_id": 1016105, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9dd2d48ff6355997d79723154201e3dc?s=128&d=identicon&r=PG", "display_name": "burnersk", "link": "https://stackoverflow.com/users/1016105/burnersk"}, "is_accepted": true, "score": 3, "last_activity_date": 1518171525, "creation_date": 1518171525, "answer_id": 48703589, "question_id": 48703042, "link": "https://stackoverflow.com/questions/48703042/why-a-perlbrew-psgi-application-with-uwsgi-psgi-causes-wrong-perl-include-path/48703589#48703589", "title": "Why a Perlbrew PSGI application with uwsgi_psgi causes &quot;wrong&quot; Perl include paths?", "body": "<p>I found a solution, thanks to @simbabque.</p>\n\n<p>My issue was that I was using the system native <code>uwsgi_psgi</code>, which was compiled with the system Perl installation and was not compatible with my local Perlbrew installation.</p>\n\n<p>This <a href=\"http://lists.unbit.it/pipermail/uwsgi/2012-October/004849.html\" rel=\"nofollow noreferrer\">mailing list thread</a> suggest to recompile <code>uwsgi</code> within the Perlbrew scope to be able to work (only) with the local Perlbrew installation.</p>\n\n<p>So by doing the following compile I get managed to start the Perl application:</p>\n\n<pre><code>curl http://uwsgi.it/install | bash -s psgi /home/soeren/perl5/perlbrew/bin/uwsgi\n</code></pre>\n\n<p>However the above shown command is not the best way since it lacks all further important compile switches (e.g. pcre, jit).</p>\n\n<p><em>I will improve this answer over time with the further compile switches.</em></p>\n"}], "owner": {"reputation": 2698, "user_id": 1016105, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9dd2d48ff6355997d79723154201e3dc?s=128&d=identicon&r=PG", "display_name": "burnersk", "link": "https://stackoverflow.com/users/1016105/burnersk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 48703589, "answer_count": 1, "score": 2, "last_activity_date": 1541637016, "creation_date": 1518169920, "last_edit_date": 1541637016, "question_id": 48703042, "link": "https://stackoverflow.com/questions/48703042/why-a-perlbrew-psgi-application-with-uwsgi-psgi-causes-wrong-perl-include-path", "title": "Why a Perlbrew PSGI application with uwsgi_psgi causes &quot;wrong&quot; Perl include paths?", "body": "<p>I want to deploy a PSGI based web application by using an uWSGI gateway interface.</p>\n\n<p>To accomplish this I installed Perlbrew locally on my Debian server where no root access is available.</p>\n\n<pre><code>perlbrew init\n# close shell and reopen new shell\nperlbrew self-install\n# close shell and reopen new shell\nperlbrew self-upgrade\n# close shell and reopen new shell\nperlbrew install-patchperl\nperlbrew install-cpanm\n# close shell and reopen new shell\nperlbrew install -j 10 perl-5.26.1\nperlbrew lib create perl-5.26.1@main\nperlbrew switch perl-5.26.1@main\n# close shell and reopen new shell\n</code></pre>\n\n<p>Then I checked using <code>cpanm -V</code> the Perl environment:</p>\n\n<pre><code>cpanm (App::cpanminus) version 1.7043 (/home/soeren/perl5/perlbrew/bin/cpanm)\nperl version 5.026001 (/home/soeren/perl5/perlbrew/perls/perl-5.26.1/bin/perl)\n\n  %Config:\n    archname=x86_64-linux\n    installsitelib=/home/soeren/perl5/perlbrew/perls/perl-5.26.1/lib/site_perl/5.26.1\n    installsitebin=/home/soeren/perl5/perlbrew/perls/perl-5.26.1/bin\n    installman1dir=/home/soeren/perl5/perlbrew/perls/perl-5.26.1/man/man1\n    installman3dir=/home/soeren/perl5/perlbrew/perls/perl-5.26.1/man/man3\n    sitearchexp=/home/soeren/perl5/perlbrew/perls/perl-5.26.1/lib/site_perl/5.26.1/x86_64-linux\n    sitelibexp=/home/soeren/perl5/perlbrew/perls/perl-5.26.1/lib/site_perl/5.26.1\n    archlibexp=/home/soeren/perl5/perlbrew/perls/perl-5.26.1/lib/5.26.1/x86_64-linux\n    privlibexp=/home/soeren/perl5/perlbrew/perls/perl-5.26.1/lib/5.26.1\n  %ENV:\n    PERL5LIB=/home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5\n    PERLBREW_HOME=/home/soeren/.perlbrew\n    PERLBREW_LIB=main\n    PERLBREW_MANPATH=/home/soeren/.perlbrew/libs/perl-5.26.1@main/man:/home/soeren/perl5/perlbrew/perls/perl-5.26.1/man\n    PERLBREW_PATH=/home/soeren/.perlbrew/libs/perl-5.26.1@main/bin:/home/soeren/perl5/perlbrew/bin:/home/soeren/perl5/perlbrew/perls/perl-5.26.1/bin\n    PERLBREW_PERL=perl-5.26.1\n    PERLBREW_ROOT=/home/soeren/perl5/perlbrew\n    PERLBREW_SHELLRC_VERSION=0.82\n    PERLBREW_VERSION=0.82\n    PERL_LOCAL_LIB_ROOT=/home/soeren/.perlbrew/libs/perl-5.26.1@main\n    PERL_MB_OPT=--install_base /home/soeren/.perlbrew/libs/perl-5.26.1@main\n    PERL_MM_OPT=INSTALL_BASE=/home/soeren/.perlbrew/libs/perl-5.26.1@main\n  @INC:\n    FatPacked::93953009226544=HASH(0x557323bd9330)\n    /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/x86_64-linux\n    /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5\n    /home/soeren/perl5/perlbrew/perls/perl-5.26.1/lib/site_perl/5.26.1/x86_64-linux\n    /home/soeren/perl5/perlbrew/perls/perl-5.26.1/lib/site_perl/5.26.1\n    /home/soeren/perl5/perlbrew/perls/perl-5.26.1/lib/5.26.1/x86_64-linux\n    /home/soeren/perl5/perlbrew/perls/perl-5.26.1/lib/5.26.1\n</code></pre>\n\n<p>Everything looks good so I installed <code>Dancer2</code> as the web framework of choice and successfully launched a skeleton test application:</p>\n\n<pre><code>dancer2 gen --application DemoApp\ncd ./DemoApp\nplackup ./bin/app.psgi\n</code></pre>\n\n<p>The Plack-internal HTTP web server has started and was ready to serve the application.</p>\n\n<p>Again, so far so good. But I wanted to go with uWSGI instead of having yet another fully fledged web server in the service chain.</p>\n\n<p>So I installed <code>uwsgi-plugin-psgi</code> which automatically comes with <code>uwsgi-core</code>:</p>\n\n<pre><code>apt install uwsgi-plugin-psgi\n</code></pre>\n\n<p>Now I wanted to start the uWSGI gateway interface...:</p>\n\n<pre><code>uwsgi_psgi --uwsgi-socket 127.0.0.1:5999 --psgi /home/soeren/DemoApp/bin/app.psgi\n</code></pre>\n\n<p>...and the application has crashed:</p>\n\n<pre><code>[uwsgi] implicit plugin requested psgi\n*** Starting uWSGI 2.0.14-debian (64bit) on [Fri Feb  9 10:41:20 2018] ***\ncompiled with version: 6.2.1 20161124 on 07 December 2016 16:14:59\nos: Linux-4.9.0-5-amd64 #1 SMP Debian 4.9.65-3+deb9u2 (2018-01-04)\nnodename: skde-deu-02.sklink.de\nmachine: x86_64\nclock source: unix\npcre jit disabled\ndetected number of CPU cores: 8\ncurrent working directory: /home/soeren/DemoApp\ndetected binary path: /usr/bin/uwsgi-core\n*** WARNING: you are running uWSGI without its master process manager ***\nyour processes number limit is 256817\nyour memory page size is 4096 bytes\ndetected max file descriptor number: 1024\nlock engine: pthread robust mutexes\nthunder lock: disabled (you can enable it with --thunder-lock)\nuwsgi socket 0 bound to TCP address 127.0.0.1:5999 fd 3\ninitialized Perl 5.24.1 main interpreter at 0x557337c6fd40\nyour server socket listen backlog is limited to 100 connections\nyour mercy for graceful operations on workers is 60 seconds\nmapped 72768 bytes (71 KB) for 1 cores\n*** Operational MODE: single process ***\nError while loading /home/soeren/DemoApp/bin/app.psgi: Can't locate WWW/Form/UrlEncoded.pm in @INC (you may need to install the WWW::Form::UrlEncoded module) (@INC contains: /home/soeren/DemoApp/bin/../lib /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/5.24.1/x86_64-linux-gnu-thread-multi /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/5.24.1 /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/x86_64-linux-gnu-thread-multi /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5 /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.24.1 /usr/local/share/perl/5.24.1 /usr/lib/x86_64-linux-gnu/perl5/5.24 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.24 /usr/share/perl/5.24 /usr/local/lib/site_perl) at /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/HTTP/Entity/Parser/UrlEncoded.pm line 5.\nBEGIN failed--compilation aborted at /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/HTTP/Entity/Parser/UrlEncoded.pm line 5.\nCompilation failed in require at /usr/share/perl/5.24/Module/Load.pm line 77.\nCan't locate HTTP/Entity/Parser/UrlEncoded in @INC (@INC contains: /home/soeren/DemoApp/bin/../lib /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/5.24.1/x86_64-linux-gnu-thread-multi /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/5.24.1 /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/x86_64-linux-gnu-thread-multi /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5 /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.24.1 /usr/local/share/perl/5.24.1 /usr/lib/x86_64-linux-gnu/perl5/5.24 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.24 /usr/share/perl/5.24 /usr/local/lib/site_perl) at /usr/share/perl/5.24/Module/Load.pm line 77.\nCompilation failed in require at /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/Plack/Request.pm line 17.\nBEGIN failed--compilation aborted at /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/Plack/Request.pm line 17.\nCompilation failed in require at /usr/share/perl/5.24/parent.pm line 16.\nBEGIN failed--compilation aborted at /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/Dancer2/Core/Request.pm line 6.\nCompilation failed in require at /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/Dancer2/Core/App.pm line 29.\nBEGIN failed--compilation aborted at /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/Dancer2/Core/App.pm line 29.\nCompilation failed in require at /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/Dancer2.pm line 11.\nBEGIN failed--compilation aborted at /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/Dancer2.pm line 11.\nCompilation failed in require at /home/soeren/DemoApp/bin/../lib/DemoApp.pm line 2.\nBEGIN failed--compilation aborted at /home/soeren/DemoApp/bin/../lib/DemoApp.pm line 2.\nCompilation failed in require at /home/soeren/DemoApp/bin/app.psgi line 10.\nBEGIN failed--compilation aborted at /home/soeren/DemoApp/bin/app.psgi line 10.\nunable to find PSGI function entry point.\n*** no app loaded. going in full dynamic mode ***\n*** uWSGI is running in multiple interpreter mode ***\nspawned uWSGI worker 1 (and the only) (pid: 9769, cores: 1)\n</code></pre>\n\n<p>The fist thing that I see was the architecture. While the other (<code>cpnam</code> and <code>plackup</code>) programs using \"x86_64-linux\" architecture, only uWSGI is using \"x86_64-linux-gnu-thread-multi\" instead.</p>\n\n<p>Well Perl's architecture folder for \"x86_64-linux-gnu-thread-multi\" is available but does not contain any modules. Most modules are installed in the \"root library path\" and \"x86_64-linux\" architecture folder.</p>\n\n<pre><code>/home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5\n/home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/x86_64-linux\n</code></pre>\n\n<p>I tried to work around this by using the <code>uwsgi_psgi</code> command line switch <code>--perl-local-lib</code> but had no luck:</p>\n\n<pre><code>uwsgi_psgi --uwsgi-socket 127.0.0.1:5999 --psgi /home/soeren/DemoApp/bin/app.psgi --perl-local-lib /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5\nuwsgi_psgi --uwsgi-socket 127.0.0.1:5999 --psgi /home/soeren/DemoApp/bin/app.psgi --perl-local-lib /home/soeren/.perlbrew/libs/perl-5.26.1@main/lib/perl5/x86_64-linux\n</code></pre>\n\n<p>I also have messed around with different uWSGI operation modes (single process, prefork, threaded), but also no luck.</p>\n\n<p>Why is uWSGI modifying the include path and how do I either start uWSGI so it works like with the other programs or install the modules for that architecture in addition?</p>\n"}, {"tags": ["unit-testing", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1518169976, "post_id": 48701942, "comment_id": 84404378, "body": "Your example code does not compile. Please fix the syntax errors, and load all the dependencies."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1518170118, "post_id": 48701942, "comment_id": 84404481, "body": "I would temporarily overwrite <code>$CONFIG</code> with <code>local</code>, set it to another temporary directory, and let the code run its course, then verify that it did in the file system what it was supposed to do. That eliminates the need for mocking. You also say you cannot mock <code>File::Copy::copy</code> and <code>make_path</code>. How did you try?"}], "answers": [{"tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": true, "score": 2, "last_activity_date": 1518174421, "creation_date": 1518174421, "answer_id": 48704481, "question_id": 48701942, "link": "https://stackoverflow.com/questions/48701942/perl-test-mock-make-path/48704481#48704481", "title": "perl test mock make_path", "body": "<p>If I ignore the code that can't be run because the context is missing and focus only on the two functions that you want mocked, one can do this by temporarily replacing the <code>sub</code>s in the <a href=\"http://perldoc.perl.org/perlmod.html#Symbol-Tables\" rel=\"nofollow noreferrer\">symbol table</a> with <a href=\"http://perldoc.perl.org/perlsub.html#Temporary-Values-via-local()\" rel=\"nofollow noreferrer\"><code>local</code></a>.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Data::Dump;\nuse File::Path qw/make_path/;\nuse File::Copy;\n\nsub to_be_mocked {\n    my $targetpath = '/tmp/foo';\n    make_path($targetpath) if ! -d $targetpath;\n    File::Copy::copy(\"file.xml\", $targetpath) or die;\n}\n\nsub run_with_mock {\n    no warnings 'redefine';\n    local *make_path = sub { dd 'make_path', @_; return 1 };\n    local *File::Copy::copy = sub { dd 'copy', @_; return 1 };\n    to_be_mocked();\n}\n\nrun_with_mock();\n\n__END__\n# Output:\n(\"make_path\", \"/tmp/foo\")\n(\"copy\", \"file.xml\", \"/tmp/foo\")\n</code></pre>\n\n<p>Note that <code>-d</code> apparently <a href=\"https://stackoverflow.com/q/1954529/9300627\">can't be mocked</a>, at least not <a href=\"https://stackoverflow.com/a/2008224/9300627\">directly</a>.</p>\n"}], "owner": {"reputation": 980, "user_id": 2486083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/pZudJ.jpg?s=128&g=1", "display_name": "Chetan", "link": "https://stackoverflow.com/users/2486083/chetan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 48704481, "answer_count": 1, "score": 2, "last_activity_date": 1518174757, "creation_date": 1518166226, "last_edit_date": 1518174757, "question_id": 48701942, "link": "https://stackoverflow.com/questions/48701942/perl-test-mock-make-path", "title": "perl test mock make_path", "body": "<p>I have a function which looks like the one written below. I need to write a unit test for the below function. I am not able to mock few values.</p>\n\n<pre><code>use File::Basename;\nuse File::Copy;\nuse File::Temp qw(tempdir);\nour $CONFIG=\"/home/chetanv/svf.xml\";\n\ncopyConfigFiles();\n\nsub copyConfigFiles {\n    my $temp_dir = File::Temp-&gt;newdir();\n    my $targetpath = dirname(\"$CONFIG\");\n    `sudo touch $tempdir/myfile`;\n    make_path($targetpath) if ( ! -d $targetpath );\n    File::Copy::copy(\"$temp_dir/myfile\", $targetpath) or print \"Problem copying file\";\n}\n</code></pre>\n\n<p>I have written the below unit test for the same below. I tried mocking \"makepath\" which does not seem to work.</p>\n\n<pre><code>subtest _setup(testname =&gt; \"test copyConfigFiles\") =&gt; sub {\n\n        my $CONFIG = \"/my/dir/with/file.xml\";\n        my $mockfileobj = Test::MockModule-&gt;new(\"File::Temp\", no_auto =&gt; 1);\n        $mockfileobj-&gt;mock('newdir', sub { return \"/tmp/delme\"; } );\n\n        my $amockfileobj = Test::MockModule-&gt;new(\"File::Path\", no_auto =&gt; 1);\n        $amockfileobj-&gt;mock('makepath', sub { return 0; } );\n        lives_ok { copyConfigFiles () } 'test copyConfigFiles OK';\n        done_testing();\n    };\n</code></pre>\n\n<p>The problem is i am not able to mock the below lines. </p>\n\n<pre><code>make_path($targetpath) if ( ! -d $targetpath );\n    File::Copy::copy(\"$temp_dir/myfile\", $targetpath) or print \"Problem copying file\";\n</code></pre>\n\n<p>Any help on how i can mock the makepath function which is perl specific? I also tried to create a temporary directory and mock the global CONFIG file with the mocked file. Didn't seem to work.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1518168595, "post_id": 48699784, "comment_id": 84403517, "body": "<i>Always</i> <code>use strict; use warnings;</code>!"}, {"owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1518170142, "post_id": 48699784, "comment_id": 84404500, "body": "Thanks @Biffen .................."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1518209753, "post_id": 48699784, "comment_id": 84426975, "body": "How do you know which line of file2 to use if they all start with <code>en_4156 A</code>???"}, {"owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1518590994, "post_id": 48699784, "comment_id": 84563796, "body": "@MattJacob i have mentioned the condition in above question"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1518622599, "post_id": 48699784, "comment_id": 84583694, "body": "@ziks If your question was clear to begin with, I would not have asked. Good luck!"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "edited": false, "score": 0, "creation_date": 1518590891, "post_id": 48727521, "comment_id": 84563743, "body": "Thanks @7stud but  when i run this code then it&#39;s not compile successfully"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "edited": false, "score": 0, "creation_date": 1518591276, "post_id": 48727521, "comment_id": 84563918, "body": "@zika,  Why not?"}, {"owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "edited": false, "score": 0, "creation_date": 1518592882, "post_id": 48727521, "comment_id": 84564619, "body": "<a href=\"https://drive.google.com/open?id=1oR7ZvbhUFko_s39FWWWAmWK_cszP6N6w\" rel=\"nofollow noreferrer\">drive.google.com/open?id=1oR7ZvbhUFko_s39FWWWAmWK_cszP6N6w</a> see here"}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 0, "last_activity_date": 1518317422, "last_edit_date": 1518317422, "creation_date": 1518314350, "answer_id": 48727521, "question_id": 48699784, "link": "https://stackoverflow.com/questions/48699784/how-to-modify-a-particular-column-based-on-the-content-of-column-of-another-file/48727521#48727521", "title": "How to modify a particular column based on the content of column of another file using Perl?", "body": "<p>Reading all the data into arrays, then trying to perform the required math on the data, then writing to the file is too tedious. It's easier to perform the calculations as you read the lines from the files.</p>\n\n<p>My results file:</p>\n\n<pre><code>$ cat results.txt \n;; LABEL \"SW-F\" \"Switchboard Female\" \"Switchboard Female Caller\"\n;; LABEL \"SW-M\" \"Switchboard Male\" \"Switchboard Male Caller\"\nen_4156 A en_4156_A 299.22 302.48 &lt;O,en,F,en-F&gt; OH YEAH\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse autodie;\nuse Data::Dumper;\n\nmy($file1, $file2, $results) = ('f1.txt', 'f2.txt', 'results.txt');\nopen my $FILE1, '&lt;', $file1;\nopen my $FILE2, '&lt;', $file2;\nopen my $RESULTS, '&gt;', $results;\n\nLINE_FILE1:\nwhile(my $linef1 = &lt;$FILE1&gt;) {\n\n    if($linef1 !~ /\\Aen_\\d{4}/) {  #if not a data line ...\n        print {$RESULTS} $linef1;\n        next LINE_FILE1;\n    }\n\n    my @colsf1 = split /\\s+/, $linef1;\n    my $diff = $colsf1[4] - $colsf1[3];\n\n    while (my $linef2 = &lt;$FILE2&gt;) {\n        my @colsf2 = split /\\s+/, $linef2;\n        my $total = $colsf2[2] + $colsf2[3];\n\n        if($colsf1[4] &gt; $total) {\n            my $diff1 = $colsf1[3] - $total;\n            $colsf1[3] = $colsf2[2] if $diff1 &lt; $diff;\n        }    \n    }\n\n    say {$RESULTS} \"@colsf1\";\n}\n\nclose $FILE1;\nclose $FILE2;\nclose $RESULTS;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9290295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49a509c178a29f40e7ad11cff7efed95?s=128&d=identicon&r=PG&f=1", "display_name": "ziks", "link": "https://stackoverflow.com/users/9290295/ziks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518317422, "creation_date": 1518156850, "last_edit_date": 1518168570, "question_id": 48699784, "link": "https://stackoverflow.com/questions/48699784/how-to-modify-a-particular-column-based-on-the-content-of-column-of-another-file", "title": "How to modify a particular column based on the content of column of another file using Perl?", "body": "<p>I want to modify the column3 of file1 based on column2 of file2. Find the file1 difference between column4 and column3 (e.g. 302.48-301.85) called 'diff' and total of column2 and column3 of file2 (e.g. 292.73+1.38) called 'total'. If column4 value of file1 is greater than total of file2 then find the difference between column3 of file1 and total value called diff1. if (diff1 &lt; diff) then modify the column3 value of file1 by column2 value of file2.</p>\n\n<p>My problem is that file1 is not modified it shows:</p>\n\n<pre><code>en_4156 A en_4156_A **301.85 302.48** &lt;O,en,F,en-F&gt;  OH YEAH\n</code></pre>\n\n<p>Instead of this:</p>\n\n<p>en_4156 A en_4156_A <strong>299.22 302.48</strong>   OH YEAH</p>\n\n<p><code>File1</code>:</p>\n\n<pre><code>;; LABEL \"SW-F\" \"Switchboard Female\" \"Switchboard Female Caller\"\n;; LABEL \"SW-M\" \"Switchboard Male\" \"Switchboard Male Caller\"\nen_4156 A en_4156_A 301.85 302.48 &lt;O,en,F,en-F&gt;  OH YEAH\n</code></pre>\n\n<p><code>File2</code>:</p>\n\n<pre><code>en_4156 A 292.73 1.38 i 1.00\nen_4156 A 294.14 1.62 know 1.00\nen_4156 A 296.09 2.64 what 0.55\nen_4156 A 299.22 2.58 oh 1.00\nen_4156 A 301.80 1.83 yeah 1.00\nen_4156 A 303.91 0.84 well 0.95\n</code></pre>\n\n<p>Updated <code>File1</code>:</p>\n\n<pre><code>;; LABEL \"SW-F\" \"Switchboard Female\" \"Switchboard Female Caller\"\n;; LABEL \"SW-M\" \"Switchboard Male\" \"Switchboard Male Caller\"\nen_4156 A en_4156_A 299.22 302.48 &lt;O,en,F,en-F&gt;  OH YEAH\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy ($ctm, $stm)=@ARGV;\nopen(CTM, \"&lt;$ctm\");\nopen(STM, \"+&lt;$stm\");\nwhile (&lt;CTM&gt;) {\n    ($wav, $channel, $start, $duration, $word, $score)=split(\" \", $_);\n    push @wav_c, $wav;\n    push @channel_c, $channel;\n    push @start_c, $start;\n    push @dur_c, $duration;\n    push @words, $word;\n    push @scores, $score;\n}\nwhile (&lt;STM&gt;) {\n    @line=split(\" \", $_);\n    push @wav_s, $line[0];\n    push @channel_s, $line[1];\n    push @start_s, $line[3];\n    push @end_s, $line[4];\n}\n$ls=scalar @start_s;\n$lc=scalar @start_c;\n\n$j=0;\n\nfor ($i=0; $i&lt;$ls; $i++) {\n    while ($wav_s[$i] eq \";;\") {\n        $i++;\n    }\n    $diff=$end_s[$i]-$start_s[$i];\n    while (($wav_s[$i] eq $wav_c[$j]) &amp;&amp; ($channel_s[$i] eq $channel_c[$j])) {\n        $total=$start_c[$j]+$dur_c[$j];\n        if ($end_s[$i] &gt; $total) {\n            $diff1=$start_s[$i]-$total;\n            if ($diff1 &lt;= $diff) {\n                $start_s[$i]=$start_c[$j];\n                $j++;\n            }\n            else {\n                $j++;\n            }\n        }\n        else {\n            $j++;\n        }\n  }\n}\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 1703803, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NZpHZ.jpg?s=128&g=1", "display_name": "Blnukem", "link": "https://stackoverflow.com/users/1703803/blnukem"}, "edited": false, "score": 0, "creation_date": 1518129809, "post_id": 48695920, "comment_id": 84390742, "body": "Grant Thank very much, that&#39;s exactly what I needed!"}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 4, "last_activity_date": 1518285131, "last_edit_date": 1518285131, "creation_date": 1518129427, "answer_id": 48695920, "question_id": 48695565, "link": "https://stackoverflow.com/questions/48695565/xml-value-to-variables/48695920#48695920", "title": "XML Value to variables", "body": "<p>There a quite a few things that make it hard for people to help you:</p>\n\n<ol>\n<li>You don't include an example of the XML input</li>\n<li>You don't include an example of the expected output from your code</li>\n<li>The URL you provide contains something that's not valid XML</li>\n<li>You're trying to use XML::Simple - nobody recommends that</li>\n<li>You apparently don't understand Perl references so you've just made up <code>$xml-&gt;{\"to\"}{\"from\"}{\"heading\"}{\"body\"}</code> and said it doesn't work</li>\n</ol>\n\n<p>I'd recommend changing the code that generates the URL you're fetching to create valid XML (no blank lines before the <code>&lt;?xml ...</code></p>\n\n<p>I'd also recommend using XML::LibXML instead.  Here's <a href=\"http://grantm.github.io/perl-libxml-by-example/\" rel=\"nofollow noreferrer\">a tutorial</a>.</p>\n\n<p>And here's some code to get you started:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse LWP::Simple;\nuse XML::LibXML;\n\nmy $xml_server = \"http://videotuber.atwebpages.com/cgi-bin/cgitest.pl\";\nmy $user_content = get($xml_server);\n\nmy $dom = XML::LibXML-&gt;load_xml(string =&gt; $user_content);\n\nmy $to      = $dom-&gt;findvalue('/note/to');\nmy $from    = $dom-&gt;findvalue('/note/from');\nmy $heading = $dom-&gt;findvalue('/note/heading');\nmy $body    = $dom-&gt;findvalue('/note/body');\n\nprint \"To:      $to\\n\";\nprint \"From:    $from\\n\";\nprint \"Heading: $heading\\n\";\nprint \"Body:    $body\\n\";\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>For posterity, the XML returned by the quoted URL was returning something like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;note&gt;\n  &lt;to&gt;alice&lt;/to&gt;\n  &lt;from&gt;bob&lt;/from&gt;\n  &lt;heading&gt;reminder&lt;/heading&gt;\n  &lt;body&gt;don't forget the milk&lt;/body&gt;\n&lt;/note&gt;\n</code></pre>\n\n<p>(but with a blank line before the initial XML declaration)</p>\n"}], "owner": {"reputation": 173, "user_id": 1703803, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NZpHZ.jpg?s=128&g=1", "display_name": "Blnukem", "link": "https://stackoverflow.com/users/1703803/blnukem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 48695920, "answer_count": 1, "score": -1, "last_activity_date": 1518285131, "creation_date": 1518127597, "question_id": 48695565, "link": "https://stackoverflow.com/questions/48695565/xml-value-to-variables", "title": "XML Value to variables", "body": "<p>I have a perl script that returns XML results, and I'm trying to set those values into variables but I cant even seem to get them separated even with XML::Simple</p>\n\n<p>I tried: \n\"print $xml->{\"to\"}{\"from\"}{\"heading\"}{\"body\"} . \"\\n\";\"</p>\n\n<p>to return the XML values with no luck, but what I need to to set them into variables:</p>\n\n<ol>\n<li>$to</li>\n<li>$from</li>\n<li>$heading</li>\n<li>$body</li>\n</ol>\n\n<p>Here is what I have:</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Content-type: text/html\\n\\n\";\n\nuse strict;\nuse warnings;\nuse LWP::Simple;\nuse XML::Simple;\n\nmy $xml;\n\nmy $XML_Server = \"http://videotuber.atwebpages.com/cgi-bin/cgitest.pl\";\nmy $UserContent = get($XML_Server);\n\n\nprint qq~$UserContent \\n\\n~;\n\n\nprint $xml-&gt;{\"to\"}{\"from\"}{\"heading\"}{\"body\"} . \"\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 3, "creation_date": 1518103216, "post_id": 48688804, "comment_id": 84375700, "body": "Use <code>$hash{one}();</code>"}], "answers": [{"comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 5, "creation_date": 1518103819, "post_id": 48688897, "comment_id": 84376145, "body": "The <code>&amp;{...}</code> form works but should be avoided because it forwards the current arguments \u2013 similar to <code>$hash{one}(@_)</code>. An explicit function call is better."}, {"owner": {"reputation": 9501, "user_id": 55366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/89489696e09f6d1307ce5726c35a2c3e?s=128&d=identicon&r=PG", "display_name": "Orjanp", "link": "https://stackoverflow.com/users/55366/orjanp"}, "edited": false, "score": 0, "creation_date": 1518104153, "post_id": 48688897, "comment_id": 84376394, "body": "Thanks. Works like a charm. Will avoid the &amp;{...} then."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518106173, "post_id": 48688897, "comment_id": 84377819, "body": "<code>$hash{one}()</code> is identical to <code>$hash{one}-&gt;()</code> except that Perl allows closing brackets <code>)</code>, <code>}</code>, <code>]</code> to be followed immediately with any opening bracket <code>(</code>, <code>{</code>, <code>[</code>  with the appropriate dereferencing. Some people choose to make the indirection specific with intervening arrows <code>-&gt;</code>,  even surrounded with spaces. My choice is to remove them, as well as any other unnecessary non-whitespace characters, as far as possible as it speeds up my comprehension of code dramatically."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1518106989, "post_id": 48688897, "comment_id": 84378366, "body": "Re &quot;<i>similar to <code>$hash{one}(@_)</code></i>&quot;, ...but more dangerous, because changes to <code>@_</code> in the called sub will affect <code>@_</code> in the calling sub too."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1518156714, "post_id": 48688897, "comment_id": 84398011, "body": "changed the &amp; version to have parens"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1518156682, "last_edit_date": 1518156682, "creation_date": 1518103211, "answer_id": 48688897, "question_id": 48688804, "link": "https://stackoverflow.com/questions/48688804/creating-a-hash-of-subroutines-and-run-one/48688897#48688897", "title": "Creating a hash of subroutines, and run one", "body": "<p>When it's not a symbol defined in a sub, you need to tell perl that it's a code reference explicitly to get it to 'run' it - otherwise you have just got a code reference to an anonymous hash, which you're trying to use in a void context. </p>\n\n<p>You can do this by:</p>\n\n<pre><code>$hash{one}-&gt;();\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&amp;{$hash{one}}();\n</code></pre>\n\n<p>Or: </p>\n\n<pre><code>$hash{one}();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 2, "creation_date": 1518107919, "post_id": 48690149, "comment_id": 84378987, "body": "To my eyes <code>$subs-&gt;{aa}-&gt;()-&gt;[1]-&gt;[1]</code> is more readable than <code>$subs-&gt;{aa}()[1][1]</code>. It&#39;s easier for me to exactly see the number and kind of dereferences."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 0, "creation_date": 1518108442, "post_id": 48690149, "comment_id": 84379359, "body": "@tinita: Thank you for that. I wondered whether explicit indirection arrows would be preferred by people who are less familiar with Perl, but it seems not as you are undoubtedly familiar with the language. But don&#39;t single spaces suffice? For instance <code>$subs-&gt;{aa} () [1] [1]</code> saves three characters, and six if the arrows are space-wrapped."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1518108953, "post_id": 48690149, "comment_id": 84379724, "body": "I prefer the dereference arrows for uniformity between the first and subsequent subscripts, and dislike spaces between subscripts as they falsely suggest low operator precedence. And that&#39;s what I think is great about Perl: it gives you choices to express yourself clearly, instead of trying to prescribe the one true style (Java, Python). Note that outside of golfing, the number of characters is mostly irrelevant."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1518171440, "post_id": 48690149, "comment_id": 84405381, "body": "@amon: <i>&quot;Note that outside of golfing, the number of characters is mostly irrelevant&quot;</i> That isn&#39;t true, at least for me; it&#39;s the biggest reason why COBOL is so hated, with statements like <code>PERFORM 20000-MAIN VARYING WS-POSN FROM WS-FIRST BY 1 UNTIL WS-POSN &gt; WS-LAST</code>. I&#39;m sure you prefer <code>for</code> to <code>foreach</code> in Perl? A single statement needs to be physically small enough that the whole thing is readable without shifting your gaze, allowing you to comprehend the whole thing in a single glance. Conversely, blank lines, if used properly, help the reader to focus on sets of related statements."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1518106960, "creation_date": 1518106960, "answer_id": 48690149, "question_id": 48688804, "link": "https://stackoverflow.com/questions/48688804/creating-a-hash-of-subroutines-and-run-one/48690149#48690149", "title": "Creating a hash of subroutines, and run one", "body": "<p><code>$hash{one}()</code> is identical to <code>$hash{one}-&gt;()</code> except that Perl allows closing brackets <code>)</code>, <code>}</code>, <code>]</code> to be followed immediately with any opening bracket <code>(</code>, <code>{</code>, <code>[</code>  with the appropriate dereferencing</p>\n\n<p>Some people choose to make the indirection specific with intervening arrows <code>-&gt;</code>,  even surrounded with spaces</p>\n\n<p>My choice is to remove indirection arrows <code>-&gt;</code>, as well as any other unnecessary non-whitespace (I'm claiming <em>\"darkspace\"</em> here!) characters, as far as possible as it speeds up my comprehension of code dramatically</p>\n\n<p>You can load and play with this code as much as you like</p>\n\n<pre><code>use strict;\nuse feature ':5.10';\n\nmy $s = [ 1, 2, 3 ];\n\nmy $subs = {\n    aa =&gt; sub { [0, $s, 0] },\n    bb =&gt; sub {  99 },\n};\n\nsay $subs-&gt;{aa}()[1][1];\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>2\n</code></pre>\n\n<p>I personally think that's clearer than something like this</p>\n\n<pre><code>say $subs -&gt; {aa} -&gt; () -&gt; [1] -&gt; [1]\n</code></pre>\n\n<p>which takes too much scanning to read in one pass. But I would be grateful for any comments that encourage a different view</p>\n"}], "owner": {"reputation": 9501, "user_id": 55366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/89489696e09f6d1307ce5726c35a2c3e?s=128&d=identicon&r=PG", "display_name": "Orjanp", "link": "https://stackoverflow.com/users/55366/orjanp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 48688897, "answer_count": 2, "score": 1, "last_activity_date": 1518156682, "creation_date": 1518102962, "question_id": 48688804, "link": "https://stackoverflow.com/questions/48688804/creating-a-hash-of-subroutines-and-run-one", "title": "Creating a hash of subroutines, and run one", "body": "<p>I'm trying to replicate the solution given in <a href=\"https://stackoverflow.com/a/4893834/55366\">this</a> example.</p>\n\n<p>The code is as follows:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %hash = (\n  one =&gt; sub { print 'one'; },\n  two =&gt; sub { print 'two'; },\n);\n\n$hash{one};\n</code></pre>\n\n<p>The error I'm getting when running this is:</p>\n\n<blockquote>\n  <p>Useless use of hash element in void context at t.pl line 9.</p>\n</blockquote>\n\n<p>I've made a running example <a href=\"http://codepad.org/F1HP3HH7\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Where am I going wrong?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1518094667, "post_id": 48686028, "comment_id": 84369486, "body": "Try removing <code>g</code> modifier. Also, try using <code>\\z</code> instead of <code>$</code>."}, {"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 2, "creation_date": 1518096235, "post_id": 48686028, "comment_id": 84370552, "body": "<a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perldoc perlre</a> says about <code>$</code>: <code>Match the end of the string (or before newline at the endof the string)</code>. It does not match the newline itself."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1518100107, "post_id": 48686589, "comment_id": 84373420, "body": "Input has nothing to do with the <code>$</code> or <code>\\z</code> metacharacters, and it&#39;s deceptive to fabricate a concept like <i>end of input</i> which doesn&#39;t exist anywhere."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1518101436, "post_id": 48686589, "comment_id": 84374357, "body": "@Borodin Good point, sorry for the confusion. I&#39;ve corrected \u201cinput\u201d \u2192 \u201cstring\u201c. But in the future, please assume a honest mistake rather than malice (\u201cdeceptive to fabricate\u201d). You also have more than enough rep to make this edit yourself when you spot a problem!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1518105353, "post_id": 48686589, "comment_id": 84377242, "body": "&quot;End of input&quot; is an idea that didn&#39;t exist beyond <i>end of file</i> or <i>timeout</i> on a file descriptor, so you made it up; hence <i>&quot;fabricate&quot;</i>. I realise that it can have negative connotations, but would you prefer <i>&quot;invent</i>, <i>&quot;devise&quot;</i>, or something else? I am quite happy with <i>&quot;deceptive&quot;</i>:  it doesn&#39;t imply mendacity, and while I would consider <i>&quot;misleading&quot;</i> I don&#39;t think it would make much difference. I always prefer to indicate potential improvements to posts in comments so that the author can modify their own post if they agree. I find that most people prefer to retain their agency."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 9, "last_activity_date": 1518101290, "last_edit_date": 1518101290, "creation_date": 1518096369, "answer_id": 48686589, "question_id": 48686028, "link": "https://stackoverflow.com/questions/48686028/why-does-perl-pe-s-n-g-add-2-blank-lines/48686589#48686589", "title": "Why does `perl -pe &#39;s/$/\\n/g&#39;` add 2 blank lines?", "body": "<p><code>/$/</code> matches the \u201cend of string\u201d. This might be</p>\n\n<ul>\n<li>the end of string (like <code>/\\z/</code>),</li>\n<li>or just before a newline before the end of string (like <code>/(?=\\n\\z)/</code>).</li>\n</ul>\n\n<p>(Additionally, <code>/$/m</code> matches the \u201cend of line\u201d. This might be</p>\n\n<ul>\n<li>the end of string,</li>\n<li>or just before a newline (like <code>/(?=\\n)/</code>).</li>\n</ul>\n\n<p>).</p>\n\n<p>With your substitution <code>/$/\\n/g</code>, the regex matches twice: once before the newline, then again at the end of string:</p>\n\n<ul>\n<li><p>The first match is before the newline:</p>\n\n<pre><code>\"foo\\n\"\n#   ^ match\n</code></pre>\n\n<p>A newline is placed before the current match end:</p>\n\n<pre><code>\"foo\\n\\n\"\n#     ^ insert before\n</code></pre></li>\n<li><p>The next match is at the end of string:</p>\n\n<pre><code>\"foo\\n\\n\"\n#       ^ match\n</code></pre>\n\n<p>A newline is inserted before the current match end:</p>\n\n<pre><code> \"foo\\n\\n\\n\"\n #         ^ insert before\n</code></pre></li>\n<li><p>No further match is found.</p></li>\n</ul>\n\n<p>The solution: if <code>$</code> is to DWIMmy for you, always match <code>\\z</code> or <code>\\n</code> explicitly, possibly together with lookaheads like <code>(?=\\n)</code>. Consider matching all Unicode line separators <code>\\R</code> instead of just <code>\\n</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1598210528, "last_edit_date": 1598210528, "creation_date": 1518103438, "answer_id": 48688984, "question_id": 48686028, "link": "https://stackoverflow.com/questions/48686028/why-does-perl-pe-s-n-g-add-2-blank-lines/48688984#48688984", "title": "Why does `perl -pe &#39;s/$/\\n/g&#39;` add 2 blank lines?", "body": "<p>This isn't a sound understanding of the situation. <code>$</code> is a badly-defined and unintuitive metacharacter</p>\n<ul>\n<li><p>It is a <em>zero-width match</em></p>\n</li>\n<li><p>It will match <em>before a newline character</em> at the end of the bound string</p>\n</li>\n<li><p>It will match <em>at the end of the bound string</em></p>\n</li>\n<li><p>With the <code>/m</code> modifier in place, it will also match <em>before any newline character anywhere</em>, but not immediately after it unless it is the last character of the string</p>\n</li>\n</ul>\n<p><code>\\z</code> is much more useful: it only ever matches at the end of the string</p>\n<p><em>&quot;by setting the end of the line to new line&quot;</em></p>\n<p>Mentioning &quot;lines&quot; at all is misleading, and you should be careful to explain in comments what meaning you're applying. If you have</p>\n<pre><code>my $s = &quot;xxx\\n&quot;\n</code></pre>\n<p>then</p>\n<pre><code>say pos($s) while $s =~ /$/g\n</code></pre>\n<p>will produce</p>\n<pre><code>3\n4\n</code></pre>\n<p>i.e. both <em>before</em> and <em>after</em> the newline, because it happens to be at the end of the string</p>\n<p>This is also why your <code>s/$/\\n/g</code> adds two newlines: there are two zero-width matches for <code>/$/</code> within this string, and a global substitution finds them and replaces them both with a newline, resulting in three newlines instead of the original one</p>\n<p>It's unclear what you intended</p>\n<ul>\n<li><p>Adding a newline to the end of a string, regardless of what's there already is <code>s/\\z/\\n/</code> or just <code>$s .= &quot;\\n&quot;</code></p>\n</li>\n<li><p>If you want to ensure that, say, there are exactly two newlines at the end of a string, then just remove any existing linefeeds first with <code>s/\\n+\\z/\\b\\n/</code></p>\n</li>\n</ul>\n<p>As you can see, <code>\\z</code> is much more useful than <code>$</code></p>\n<p>And don't forget <code>\\R</code> if you're dealing with cross-platform data. It will match any standard line terminator: any of CR, LF or CRLF</p>\n<p>If this still leaves you with a problem then please ask again. I was going to write about <em>zero-width</em> matches but it's hard to know whether my answer is clear without it</p>\n"}], "owner": {"reputation": 2966, "user_id": 3014199, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/72332b0ac6ee78bc829c378c6c747e0e?s=128&d=identicon&r=PG", "display_name": "peer", "link": "https://stackoverflow.com/users/3014199/peer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 1, "accepted_answer_id": 48686589, "answer_count": 2, "score": 4, "last_activity_date": 1598210528, "creation_date": 1518094482, "question_id": 48686028, "link": "https://stackoverflow.com/questions/48686028/why-does-perl-pe-s-n-g-add-2-blank-lines", "title": "Why does `perl -pe &#39;s/$/\\n/g&#39;` add 2 blank lines?", "body": "<p>I'm working through the one liner book and came across </p>\n\n<pre><code>perl -pe 's/$/\\n/' file\n</code></pre>\n\n<p>which inserts a blank line after each line by setting the end of the line to new line thus adding a new line to the existing newline  resulting in a blank line.\nAs this is the first example without <code>g</code> at the end of the pattern, I tried</p>\n\n<pre><code>perl -pe 's/$/\\n/g' file\n</code></pre>\n\n<p>this results in 2 blank lines between lines.<br>\nI would have expected no difference since there is only one <code>$</code> per line so replacing all of them should be the same as replacing just the first one.<br>\nWhat's going on here?</p>\n"}, {"tags": ["perl", "nginx", "psgi"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1518111370, "post_id": 48685559, "comment_id": 84381277, "body": "I think you should be able to run <a href=\"http://mojolicious.org/perldoc/Mojo/Server/PSGI\" rel=\"nofollow noreferrer\">mojolicious.org/perldoc/Mojo/Server/PSGI</a> behind nginx using psgi."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1518171174, "post_id": 48694898, "comment_id": 84405196, "body": "Can you provide any supporting documentation or benchmarks for the performance gain you describe in the last paragraph? I&#39;m curious."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1518284681, "post_id": 48694898, "comment_id": 84446257, "body": "It&#39;s difficult to imagine a non-trivial application where the difference would matter - usually the bottleneck would be in the DB or application code. However my comment was based on a blog post I read a while back about benchmarking a trivial PSGI app. It might have been <a href=\"https://bitrate.epipe.com/starman-vs-uwsgi-psgi-server-performance-comparison_104\" rel=\"nofollow noreferrer\">this one</a>"}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 4, "last_activity_date": 1518124467, "creation_date": 1518124467, "answer_id": 48694898, "question_id": 48685559, "link": "https://stackoverflow.com/questions/48685559/is-there-a-perl-psgi-plack-server-available-that-only-speaks-psgi-and-not-also-h/48694898#48694898", "title": "Is there a Perl PSGI/Plack server available that only speaks PSGI and not also HTTP?", "body": "<p>The <a href=\"https://metacpan.org/pod/distribution/PSGI/PSGI.pod\" rel=\"nofollow noreferrer\">PSGI 'protocol'</a> (like WSGI) is essentially a calling convention for a subroutine.  A request comes into the application as a subroutine call with a hash as an argument.  The application responds through the subroutine's return value: an arrayref containing HTTP status code, HTTP headers and body. There's more to it than that, but those are the essentials.</p>\n\n<p>What this means is that a process can only implement PSGI if the process contains a Perl interpreter. To achieve this, the process might be implemented in Perl or it might be implemented in a language like C that can load the libperl.so shared library. Similarly a process can only implement WSGI if it contains a Python interpreter.</p>\n\n<p>Your block diagram contains three parts, but in reality the PSGI application is inside the Starman process. So there are really only two parts (although both parts are multiprocess containers).</p>\n\n<p>You say that <em>\"nginx has uWSGI directly build in\"</em>.  This does not mean that a WGSI application runs inside the Nginx process. It means that the WSGI application runs in a separate uwsgi process and Nginx communicates with that process over a TCP socket using the uWSGI protocol.  This is essentially the same model as Nginx with Starman behind it, but with the distinction that the socket connection to Starman will use the HTTP protocol:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>.----------------------.          .-----------.\n|       Starman        |          |   Nginx   |\n|                      |   HTTP   |           |   HTTP\n| .------------------. |&lt;---------|           |&lt;-------(internet)\n| | PSGI Application | |          |           |\n| '------------------' |          |           |\n'----------------------'          '-----------'\n</code></pre>\n\n<p>The HTTP protocol does have higher overheads than the uWSGI protocol so you could get better performance by running an application server that speaks the uWSGI socket protocol and can load libperl.so to implement the PSGI interface.  <a href=\"http://uwsgi-docs.readthedocs.io/en/latest/Perl.html\" rel=\"nofollow noreferrer\">uWSGI can do that</a>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>.----------------------.           .----------.\n|        uWSGI         |           |  Nginx   |\n|                      |   uWSGI   |          |   HTTP\n| .------------------. |&lt;----------|          |&lt;-------(internet)\n| | PSGI Application | |           |          |\n| '------------------' |           |          |\n'----------------------'           '----------'\n</code></pre>\n"}], "owner": {"reputation": 2698, "user_id": 1016105, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9dd2d48ff6355997d79723154201e3dc?s=128&d=identicon&r=PG", "display_name": "burnersk", "link": "https://stackoverflow.com/users/1016105/burnersk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 2, "accepted_answer_id": 48694898, "answer_count": 1, "score": 4, "last_activity_date": 1518124467, "creation_date": 1518092964, "last_edit_date": 1518095115, "question_id": 48685559, "link": "https://stackoverflow.com/questions/48685559/is-there-a-perl-psgi-plack-server-available-that-only-speaks-psgi-and-not-also-h", "title": "Is there a Perl PSGI/Plack server available that only speaks PSGI and not also HTTP?", "body": "<p>A usual deployment have looked in past and present like the following to me:</p>\n\n<pre><code>+------------------+     +---------+ tcp +-------+ tcp\n| PSGI Application |----o| Starman |----&gt;| nginx |&lt;----(internet)\n+------------------+     +---------+     +-------+\n</code></pre>\n\n<p>In fact I do have two fully fledged web servers in between the internet and the actual web application.</p>\n\n<p>Since nginx has uWSGI directly build in and uWSGI supports the PSGI protocol, which is a fork of WSGI, I would love to use a PSGI-broker (only PSGI no HTTP) instead of a full fledged web server (Starman).</p>\n\n<p>Is there an PSGI-only-broker solution available?</p>\n"}, {"tags": ["perl", "cgi", "cgi.pm"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1518087070, "post_id": 48683013, "comment_id": 84364410, "body": "Why is your AJAX calling a perl module and not a CGI script?"}, {"owner": {"reputation": 9, "user_id": 9308870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4780c2739c4e5a57477695c503d978e3?s=128&d=identicon&r=PG&f=1", "display_name": "himani", "link": "https://stackoverflow.com/users/9308870/himani"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1518087183, "post_id": 48683013, "comment_id": 84364496, "body": "@Chris because my database connectivity is in the perl module."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1518087357, "post_id": 48683013, "comment_id": 84364635, "body": "Well that&#39;s why it&#39;s not working - logic.pm isn&#39;t a CGI script - it doesn&#39;t print anything out, let alone the required HTTP headers."}, {"owner": {"reputation": 9, "user_id": 9308870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4780c2739c4e5a57477695c503d978e3?s=128&d=identicon&r=PG&f=1", "display_name": "himani", "link": "https://stackoverflow.com/users/9308870/himani"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1518087433, "post_id": 48683013, "comment_id": 84364691, "body": "@ChrisTurner is the code correct? and what do you mean by let alone the required HTTP headers?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1518087491, "post_id": 48683013, "comment_id": 84364726, "body": "No, it is not correct - it&#39;s not a valid CGI script."}, {"owner": {"reputation": 9, "user_id": 9308870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4780c2739c4e5a57477695c503d978e3?s=128&d=identicon&r=PG&f=1", "display_name": "himani", "link": "https://stackoverflow.com/users/9308870/himani"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1518087517, "post_id": 48683013, "comment_id": 84364749, "body": "@ChrisTurner what should i do to make it work i.e. how do i move it to cgi script? just copy paste the entire file?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1518087841, "post_id": 48683013, "comment_id": 84364987, "body": "just create a new CGI script and <code>use</code> the perl module in it."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1518088062, "post_id": 48683013, "comment_id": 84365145, "body": "And you really shouldn&#39;t be using the HTML generating functions from CGI.pm - they&#39;ve not been supported for many years now, make for ugly code and there are better alternatives like Template Toolkit."}, {"owner": {"reputation": 9, "user_id": 9308870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4780c2739c4e5a57477695c503d978e3?s=128&d=identicon&r=PG&f=1", "display_name": "himani", "link": "https://stackoverflow.com/users/9308870/himani"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1518088550, "post_id": 48683013, "comment_id": 84365453, "body": "@ChrisTurner i did as you said.. still not working..."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1518089427, "post_id": 48683013, "comment_id": 84365966, "body": "Add the code for the new script to your question so we can see what the problem is"}, {"owner": {"reputation": 9, "user_id": 9308870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4780c2739c4e5a57477695c503d978e3?s=128&d=identicon&r=PG&f=1", "display_name": "himani", "link": "https://stackoverflow.com/users/9308870/himani"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1518149508, "post_id": 48683013, "comment_id": 84395878, "body": "@ChrisTurner i have edited the question"}], "answers": [{"tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 0, "last_activity_date": 1518183784, "last_edit_date": 1518183784, "creation_date": 1518170695, "answer_id": 48703305, "question_id": 48683013, "link": "https://stackoverflow.com/questions/48683013/populate-value-from-database-in-select-box-based-on-another-selectbox/48703305#48703305", "title": "populate value from database in select box based on another selectbox", "body": "<p>This is still not a CGI script - it is missing the vitally important HTTP header section. Run your script on the command line or point your browser at it and compare the results with the other script to see the difference.</p>\n\n<pre><code>#!usr/bin/perl\nuse CGI;\nuse logic;\nuse CGI::Carp qw(fatalsToBrowser);\nuse FindBin qw($Bin);\n\nprint\"hello\";\n</code></pre>\n\n<p>Just the simple addition of a <code>print $q-&gt;header();</code> is needed, like you had in your original script. Since your AJAX is expecting the result to be JSON not HTML, you'll also need to specify the format of the result.</p>\n\n<pre><code>#!usr/bin/perl\nuse CGI;\nuse logic;\nuse CGI::Carp qw(fatalsToBrowser);\nuse FindBin qw($Bin);\n\nmy $q = CGI-&gt;new();\nprint $q-&gt;header('application/json');\nprint \"[\\\"hello\\\"]\";\n</code></pre>\n\n<p>I've also taken the liberty of changing your content into something that will be valid JSON</p>\n"}], "owner": {"reputation": 9, "user_id": 9308870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4780c2739c4e5a57477695c503d978e3?s=128&d=identicon&r=PG&f=1", "display_name": "himani", "link": "https://stackoverflow.com/users/9308870/himani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518183784, "creation_date": 1518085069, "last_edit_date": 1518149456, "question_id": 48683013, "link": "https://stackoverflow.com/questions/48683013/populate-value-from-database-in-select-box-based-on-another-selectbox", "title": "populate value from database in select box based on another selectbox", "body": "<p>I want to populate the values in database from one select box i.e. ostype to other select box(host_name). The values in host_name should get populated from the database. I have written the ajax code for that so that i don't have to refresh to populate values. i know this code is not complete but i am stuck at this point of code. How can this be done ?</p>\n\n<p>here is the cgi code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse CGI;\nuse CGI::Carp qw(fatalsToBrowser);\nuse FindBin qw($Bin);\nuse logic;\nmy @host;\nmy $i=0;\n\n\nmy $q = CGI-&gt;new();\nmy $ostype=$q-&gt;param(\"ostype\");\n\nmy $sth=logic-&gt;fetchos($ostype);\nwhile(my @row = $sth-&gt;fetchrow()){\n         $host[$i]=$row[0];\n         $i++;\n        }\n\nmy $JSCRIPT=&lt;&lt;EOF;\nfunction call()\n{\nvar x = document.getElementbyID(\"ostype\").value;\nif (x)\n$.ajax({\ntype:\"GET\",\nurl:\"cgi-bin/logic.cgi\",\ncontentType: \"application/json; charset=utf-8\",\ndataType: \"json\",\ndata:\"ostype=\"+x,\n});\n}\n}\nEOF\n;\nprint $q-&gt;header,\n$q-&gt;start_html\n(\n        -title=&gt;'Record Inserted',\n),\n\n$q-&gt;center($q-&gt;h1('Requested Input')), $q-&gt;br,\"\\n\",\n\n\n$q-&gt;start_form\n(\n        -method=&gt;'post',\n        -action=&gt;'inputcgi.cgi',\n ), \"\\n\",\n\n \"Operating system\",\n\n       $q-&gt;scrolling_list(-name=&gt;'ostype',\n-size=&gt;3,\n-id=&gt;'ostype',\n-values=&gt;['RHEL','Windows','Linux'],\n-defaults=&gt;['Select OS'],\n-multiple=&gt;'true',\n-onClick=&gt;\"call()\"),$q-&gt;br,\"\\n\",\n\n\"Host name\",\n\n$q-&gt;scrolling_list(-name=&gt;'host_name',\n-size=&gt;3,\n-values=&gt;[@host],\n-defaults=&gt;['Select servers'],\n-multiple=&gt;'true'),$q-&gt;br,\"\\n\",\n\n$q-&gt;submit(-value=&gt;'Submit');\n$q-&gt;end_form,\n$q-&gt;end_html;\n</code></pre>\n\n<p>logic perl module</p>\n\n<pre><code>sub new{\n        $class=shift;\n        $self={\n                _host_name=&gt;'',\n        };\n        bless $self,$class;\n        return $self;\n}\n\nsub fetchos{\nmy($self,$host_name)=@_;\n\nmy $sth=$dbh-&gt;prepare(\"select DISTINCT host_name from HOST_LIST where os='$os' \");\n\n$sth-&gt;execute() or die \"$DBI::errstr\";\nreturn $sth;\n}\n</code></pre>\n\n<p>logic.cgi</p>\n\n<pre><code>#!usr/bin/perl\nuse CGI;\nuse logic;\nuse CGI::Carp qw(fatalsToBrowser);\nuse FindBin qw($Bin);\n\nprint\"hello\";\n</code></pre>\n\n<p>the perl module is working as i populated all the values in the selectbox but it is not working for specific values of ostype.</p>\n"}, {"tags": ["mysql", "perl", "loops"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1518062322, "post_id": 48677167, "comment_id": 84352672, "body": "What is this you posted? It&#39;s full of nonsense. <code>use dbi;</code>??? <code>my $r=my$seq;</code>??? <code>stdin</code>??? <code>my $sth-&gt;finish;</code>??? 2 <code>{</code> but 3 <code>}</code>???"}, {"owner": {"reputation": 5, "user_id": 9255546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d263b7db9b54be502cda56d16bc524?s=128&d=identicon&r=PG", "display_name": "user9255546", "link": "https://stackoverflow.com/users/9255546/user9255546"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518064690, "post_id": 48677167, "comment_id": 84353145, "body": "@ikegami Alright. Why don&#39;t you tell me what&#39;s wrong in that?"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1518065787, "post_id": 48677167, "comment_id": 84353405, "body": "The code you&#39;ve shown us would not run at all. Please include the actual code you are using. (Minus any usernames and passwords, of course, but with <i>no other changes</i>.)"}, {"owner": {"reputation": 5, "user_id": 9255546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d263b7db9b54be502cda56d16bc524?s=128&d=identicon&r=PG", "display_name": "user9255546", "link": "https://stackoverflow.com/users/9255546/user9255546"}, "reply_to_user": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1518066305, "post_id": 48677167, "comment_id": 84353551, "body": "@duskwuff The Code Does Work. But it&#39;s only reading the first charachter. It does not read the remaining characters I put. I think I&#39;m stuck here. Could you tell me If there are any other codes I can put?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1518066971, "post_id": 48677167, "comment_id": 84353725, "body": "no, there is an extra <code>}</code> that will prevent the code from even compiling. (Though on case-sensitive filesystems, <code>use dbi;</code> will fail even before that.)   Please edit the question and copy and paste your exact code, indented 4 spaces (you can select the text after pasting and press the {} button in the editor to do this) so it is formatted as a code block."}, {"owner": {"reputation": 5, "user_id": 9255546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d263b7db9b54be502cda56d16bc524?s=128&d=identicon&r=PG", "display_name": "user9255546", "link": "https://stackoverflow.com/users/9255546/user9255546"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1518067162, "post_id": 48677167, "comment_id": 84353794, "body": "@ysth this is my actual code"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518067268, "post_id": 48677167, "comment_id": 84353842, "body": "Then you should start by asking help fixing the compile errors and warnings you&#39;re getting  ...after trying to fix them yourself. There&#39;s no point in helping you with the problem you asked about until you get the basics right first."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518067353, "post_id": 48677167, "comment_id": 84353860, "body": "And if that&#39;s your actual code, then <code>use strict; use warnings qw( all );</code> is missing. Always always use that."}, {"owner": {"reputation": 5, "user_id": 9255546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d263b7db9b54be502cda56d16bc524?s=128&d=identicon&r=PG", "display_name": "user9255546", "link": "https://stackoverflow.com/users/9255546/user9255546"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1518067530, "post_id": 48677167, "comment_id": 84353912, "body": "@ikegami . Alright mate help me fixing the compile errors. My basics are totally fine."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1518067887, "post_id": 48677167, "comment_id": 84353998, "body": "If the code doesn&#39;t compile, one could argue that the basics are probably not &quot;totally fine&quot;."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1518068094, "post_id": 48677167, "comment_id": 84354065, "body": "you may think it is your actual code, but in fact it is not (if it is even printing the first character).  <i>copy and paste</i> your actual code"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1518068170, "post_id": 48677167, "comment_id": 84354093, "body": "or, let&#39;s make it easy.  copy and paste just the part through the <code>print @w</code> and we can help you get at least that part working (it won&#39;t with the code as is)"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1518068171, "post_id": 48677167, "comment_id": 84354094, "body": "<code>$ perl garbage.pl</code> Unmatched right curly bracket at garbage.pl line 25, at end of line / syntax error at garbage.pl line 25, near &quot;}&quot; / Execution of garbage.pl aborted due to compilation errors. (And that&#39;s not even running in strict mode!)"}], "answers": [{"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 3, "last_activity_date": 1518076056, "last_edit_date": 1518076056, "creation_date": 1518075318, "answer_id": 48679977, "question_id": 48677167, "link": "https://stackoverflow.com/questions/48677167/loop-in-database-using-perl/48679977#48679977", "title": "Loop in database using perl", "body": "<p>Database:</p>\n\n<pre><code>mysql&gt; select * from mody;\n+----+---------+------+\n| id | an      | ano  |\n+----+---------+------+\n|  1 | 123     | 456  |\n|  2 | abc     | 567  |\n|  3 | hello   | 5    |\n|  4 | world   | 5    |\n|  5 | goodbye | 6    |\n+----+---------+------+\n5 rows in set (0.00 sec)\n</code></pre>\n\n<p>Code:\n</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\nuse autodie;\nuse Data::Dumper;\nuse DBI;\n\nmy $dsn = 'dbi:MariaDB:database=my_db;host=localhost';\nmy $dbh = DBI-&gt;connect($dsn, 'root', '');\nmy $sth = $dbh-&gt;prepare('SELECT an,ano FROM mody where ano = ?');\n\nmy $input = \"56\";\nmy @numbers = split //, $input;\n\nfor my $number(@numbers) {\n    say \"rows matching input &lt;$number&gt;:\";\n\n    $sth-&gt;execute($number);\n\n    while(my @data = $sth-&gt;fetchrow_array) {\n        say \"\\t@data\";\n    }\n};\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>rows matching input &lt;5&gt;:\n    hello 5\n    world 5\nrows matching input &lt;6&gt;:\n    goodbye 6\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 9255546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d263b7db9b54be502cda56d16bc524?s=128&d=identicon&r=PG", "display_name": "user9255546", "link": "https://stackoverflow.com/users/9255546/user9255546"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1518076056, "creation_date": 1518061315, "last_edit_date": 1518062279, "question_id": 48677167, "link": "https://stackoverflow.com/questions/48677167/loop-in-database-using-perl", "title": "Loop in database using perl", "body": "<p>I need to extract each character from the input (input are numbers) and check it against my database, if the number is present the corresponding rows will be printed. But in my code the loop doesn't work and only the first character is printed.</p>\n\n<pre><code>use dbi;\nmy $seq=&lt;stdin&gt;;\nmy $r=my$seq;\nmy $db=\"hnf1a\";\nmy $user=\"root\";\nmy $password=\"\";\nmy $host=\"localhost\";\nmy $dbh = DBI-&gt;connect(\"DBI:mysql:database=$db:$host\",$user,$password);\nmy @w= split(//, $r);\nprint @w;\nforeach my $b(@w)\n{\nmy $sth=$dbh -&gt; prepare(\"select an,ano from mody having ano = '$b' \");\nmy $rv=$sth-&gt;execute();\nwhile (my @row =$sth-&gt;fetchrow_array())\n{\nprint @row; \n}\n}\nmy $rc=my $sth-&gt;finish;\n}\nprint \"database closed\";`\n</code></pre>\n"}]