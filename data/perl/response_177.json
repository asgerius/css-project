[{"tags": ["perl", "data-structures"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1527724142, "post_id": 50614519, "comment_id": 88239373, "body": "Do you need to insert into the list, be it the interpolated results or other elements? If not, a sorted array + binsearch sounds great. It&#39;s easy to write a binsearch such that it returns the index where the element would be found if it&#39;s not found (as shown <a href=\"http://www.perlmonks.org/?node_id=383504#binsearch\" rel=\"nofollow noreferrer\">here</a>). This requires at most log(N) comparisons (~12 for 3000 elements) rather than your existing approach that could take up to N comparisons (3000 your 3000 elements). Insertions requires memcpy-ing less than N/2 pointers in C, so still quite fast."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1527724156, "post_id": 50614519, "comment_id": 88239376, "body": "Also consider using a database (e.g. sqlite). It should get you close to max efficiency with minimal effort."}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1527727007, "post_id": 50614519, "comment_id": 88240034, "body": "Thanks ikegami - I&#39;m not sure how I&#39;d sort a 2D array. As for the keylist arrays I use now, they&#39;re short enough (&lt;300 items) that I can just resort after inserting. I don&#39;t know how firstindx searches, but it does give me the indices of the bracketing existing elements for each dimension. Also, I&#39;d like to do this in memory, and doesn&#39;t sqlite keep the data on disc? I&#39;d be running this in real time and there might be ~10000 lookups."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1527727457, "post_id": 50614519, "comment_id": 88240143, "body": "Re &quot;<i>I&#39;m not sure how I&#39;d sort a 2D array.</i>&quot;, By what you search. If you can interpolate the results between two points, there must be an order to the points, right? What do lookup by? /// If you follow the link I posted, it also shows how to insert into a sorted array. It&#39;s O(N), so it scales slight better than append+re-sort (O(N log N)), and also much faster. /// firstidx necessarily searches linearly. In fact, simply calling the sub is O(N) because it places N+1 arguments on the stack. /// You can create an in-memory table. <code>CREATE TEMPORARY TABLE</code>, IIRC"}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1527731765, "post_id": 50614519, "comment_id": 88241027, "body": "Re &quot; What do lookup by? &quot; The main data is in a hash of hashes. I look up the keys of each hash in their respective sorted arrays, and insert them into the hash. Items which are close in one dimension may be very distant in another. I don&#39;t see how a binary search would work on that. Currently, for a non-existent item, I have to scan up and down each of the keylists to find 4 the bracketing values."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1527733261, "post_id": 50614519, "comment_id": 88241364, "body": "So use two sorted arrays. (The values are indexes into the unsorted data array.) But I don&#39;t see how you can interpolate with that kind of data, assuming you could have two values with the same lifespan and/or same distance. Can you have two values with the same lifespan? Can you have two values with the same distance?"}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1527735395, "post_id": 50614519, "comment_id": 88241865, "body": "For each lifespan I can have elements with any distance, and vice versa. At least for now, I can&#39;t have elements that have both keys the same. The 2 sorted arrays are the sorted keys of the 2 levels of hashes. The way I interpolate if neither time or distance match is to find the 4 closest defined elements, which now takes a lot of scanning. That&#39;s why I&#39;m looking for a possible other data structure. The 2-way linked list would let me get to the nearest defined elements in one step, but would take 4x the space."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1527735506, "post_id": 50614519, "comment_id": 88241892, "body": "Re &quot;<i>find the 4 closest defined elements</i>&quot;, So you need to lookup by closeness. How do you define closeness?"}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1527747345, "post_id": 50614519, "comment_id": 88245294, "body": "The 2 dimensions are essentially incommensurable, so I interpolate on the distances for the next higher and lower times (opposite sides of the boxes), then interpolate those values between the times (the other 2 sides)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1527747451, "post_id": 50614519, "comment_id": 88245337, "body": "So it&#39;s not 4 closest elements, but 2 closest lifetimes, and 2 closest distances?"}], "answers": [{"comments": [{"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1527783367, "post_id": 50618140, "comment_id": 88267280, "body": "Thanks ikegami! You&#39;ve really spent some time on this! Your solution looks sort of like what I was doing, except my code is a kloodge, and yours is elegant. :-) I&#39;ll give it a try,"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1527790825, "post_id": 50618140, "comment_id": 88270964, "body": "You&#39;re welcome. Look at CPAN for a c-based binsearch to speed things up.  Make sure it always finds the first result if there are more than one"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1527795834, "post_id": 50618140, "comment_id": 88273347, "body": "You could eliminate the need for <code>get_run_forward</code> by using a third lookup array sorted by lifespan then by distance. The value of the elements could be an array of indexes to handle elements with the same lifespan and distance."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1527749434, "last_edit_date": 1527749434, "creation_date": 1527748762, "answer_id": 50618140, "question_id": 50614519, "link": "https://stackoverflow.com/questions/50614519/best-data-structure-for-a-sparse-ordered-2d-array-of-floats-allowing-interpolati/50618140#50618140", "title": "Best data structure for a sparse ordered 2D array of floats allowing interpolation (perl)", "body": "<p>Since you predominantly perform lookups by lifespan and lookups by distance, and few inserts, I'd use sorted arrays to lookup the records by binary search. </p>\n\n<ul>\n<li>Locating an existing element: O(log N)</li>\n<li>Locating the box of a missing element: O(log N)</li>\n<li>Inserting: O(N)</li>\n</ul>\n\n<p>Given,</p>\n\n<pre><code>my @data = (\n   [ $lifespan0, $distance0, $bid0, $ask0 ],\n   [ $lifespan1, $distance1, $bid1, $ask1 ],\n   ...\n);\n\nmy $lifespan_search_cmp = sub { $a &lt;=&gt; $data[$b][0] };\nmy $distance_search_cmp = sub { $a &lt;=&gt; $data[$b][1] };\n</code></pre>\n\n<p>First, create indexes:</p>\n\n<pre><code>my @by_lifespan = sort { $data[$a][0] &lt;=&gt; $data[$b][0] } 0..$#data;\nmy @by_distance = sort { $data[$a][1] &lt;=&gt; $data[$b][1] } 0..$#data;\n</code></pre>\n\n<p>To lookup:</p>\n\n<pre><code>my $i = binsearch_first \\&amp;$lifespan_search_cmp, $lifespan, @by_lifespan;\nmy $j = binsearch_first \\&amp;$distance_search_cmp, $distance, @by_distance;\n\nmy @lifespan_matching_idxs = get_run_forward \\&amp;$lifespan_search_cmp, $lifespan, $i, @by_lifespan;\nmy @distance_matching_idxs = get_run_forward \\&amp;$distance_search_cmp, $distance, $j, @by_distance;\n\nmy @cross_match_idxs = do {\n   my %lifespan_matching_idxs = map { $_ =&gt; 1 } @lifespan_matching_idxs;\n   grep { $lifespan_matching_idxs{$_} }\n      @distance_matching_idxs\n};\n\nif (@cross_match_idxs) {\n   # Exact match(es) found.\n   ...\n} else {\n   my $lifespan_lowerbracket;\n   my $lifespan_upperbracket;\n   if ($i &gt;= 0) {\n      $lifespan_lowerbracket = $lifespan;\n      $lifespan_upperbracket = $lifespan;\n   } else {\n      die \"Can't interpolate\" if ~$i == 0 || ~$i &gt;= @by_lifespan;\n      $lifespan_lowerbracket = $data[~$i    ][0];\n      $lifespan_lowerbracket = $data[~$i - 1][0];\n   }\n\n   my $distance_lowerbracket;\n   my $distance_upperbracket;\n   if ($i &gt;= 0) {\n      $distance_lowerbracket = $distance;\n      $distance_upperbracket = $distance;\n   } else {\n      die \"Can't interpolate\" if ~$j == 0 || ~$j &gt;= @by_distance;\n      $distance_lowerbracket = $data[~$j    ][1];\n      $distance_upperbracket = $data[~$j - 1][1];\n   }\n\n   ...\n}\n</code></pre>\n\n<p>To insert:</p>\n\n<pre><code>my $i = binsearch_first \\&amp;$lifespan_search_cmp, $lifespan, @by_lifespan;\nmy $j = binsearch_first \\&amp;$distance_search_cmp, $distance, @by_distance;\n\npush @data, [ $lifespan, $distance , $bid, $ask ];\n\nsplice(@by_lifespan, $i &gt;= 0 ? $i : ~$i, 0, $#data);\nsplice(@by_distance, $j &gt;= 0 ? $j : ~$j, 0, $#data);\n</code></pre>\n\n<p>Subs:</p>\n\n<pre><code>sub binsearch_first(&amp;$\\@) {\n   my  $compare = $_[0];\n   #my $value   = $_[1];\n   my  $array   = $_[2];\n\n   my $min = 0;\n   my $max = $#$array;\n   return -1 if $max == -1;\n\n   my $ap = do { no strict 'refs'; \\*{caller().'::a'} };  local *$ap;\n   my $bp = do { no strict 'refs'; \\*{caller().'::b'} };  local *$bp;\n\n   *$ap = \\($_[1]);\n   while ($min &lt;= $max) {\n      my $mid = int(($min+$max)/2);\n      *$bp = \\($array-&gt;[$mid]);\n\n      my $cmp = $compare-&gt;();\n      if ($cmp &lt; 0) {\n         $max = $mid - 1;\n      }\n      elsif ($cmp &gt; 0) {\n         $min = $mid + 1;\n      }\n      else {\n         return $mid if $mid == $min;\n         $max = $mid;\n      }\n   }\n\n   # Converts unsigned int to signed int.\n   return unpack('j', pack('J', ~$min));\n}\n\nsub get_run_forward(&amp;$\\@) {\n   my  $compare = $_[0];\n   #my $value   = $_[1];\n   my  $start   = $_[2];\n   my  $array   = $_[3];\n\n   return if $start &lt; 0;\n\n   my $ap = do { no strict 'refs'; \\*{caller().'::a'} };  local *$ap;\n   my $bp = do { no strict 'refs'; \\*{caller().'::b'} };  local *$bp;\n\n   *$ap = \\($_[1]);\n\n   my $i = $start;\n   while ($i &lt;= $#$array) {\n      *$bp = \\($array-&gt;[$i]);\n\n      my $cmp = $compare-&gt;()\n         and last;\n\n      ++$i;\n   }\n\n   return wantarray ? ($start..$i-1) : $i-1;\n}\n</code></pre>\n\n<p>You might want to use a tolerance in the floating-point comparions (i.e. in <code>$distance_search_cmp</code>).</p>\n"}], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 50618140, "answer_count": 1, "score": 0, "last_activity_date": 1527749434, "creation_date": 1527721976, "question_id": 50614519, "link": "https://stackoverflow.com/questions/50614519/best-data-structure-for-a-sparse-ordered-2d-array-of-floats-allowing-interpolati", "title": "Best data structure for a sparse ordered 2D array of floats allowing interpolation (perl)", "body": "<p>The data are stock options. I want to make a 2D array based on days till expiration (int) &amp; normalized distance out of the money (float), with the values being a list of normalized bid and ask prices. If the desired element is not in the array, I want to be able to interpolate between the nearest elements present.</p>\n\n<p>I see 3 possible data structures:</p>\n\n<ol>\n<li><p>A sparse 2D array, maybe 10000 elements, maybe 1/3 full.</p></li>\n<li><p>A 2D linked list, ie: 4 listpointers for each data element (so 3000 elements becomes 15000)</p></li>\n<li><p>A 2D hash (maybe 3000 elements), with 2 sorted lists of the keys (maybe 100 elements each) in each dimension.</p></li>\n</ol>\n\n<p>The main problem is efficient retrieval when interpolation is required.\nRetrieval of existing elements is relatively straight-forward with any method.</p>\n\n<p>I'm currently using choice 3, but retrieval is a bit of a kloodge, since I have to scan along the keylists of each dimension till I find occupied elements, and then do a 2- or 4-way interpolation.\nI use moreUtils::firstindx($_ > $desiredKey) to find the keys. The linked lists (choice 2) would spare me the search of the keylist arrays.</p>\n\n<p>Choice 1 would also require scanning, wouldn't need the initial step of keylist lookup, but might need to look at more empty cells. And insertion would be a real hassle.</p>\n\n<p>I would be doing many more searches than insertions.</p>\n\n<p>Does any one have any suggestions for the most efficient data structure.</p>\n"}, {"tags": ["python", "bash", "perl", "random", "file-io"], "comments": [{"owner": {"reputation": 4917, "user_id": 2320961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdwXN.png?s=128&g=1", "display_name": "Nic3500", "link": "https://stackoverflow.com/users/2320961/nic3500"}, "edited": false, "score": 2, "creation_date": 1527725867, "post_id": 50613848, "comment_id": 88239806, "body": "Hi, I have rewritten bash scripts into Perl many times when bash was to slow.  The performance was greatly improved.  Then I will not comment on the algorithm itself, just the implementation language.  You can look at this <a href=\"https://blog.famzah.net/2016/02/09/cpp-vs-python-vs-perl-vs-php-performance-benchmark-2016/\" rel=\"nofollow noreferrer\">blog.famzah.net/2016/02/09/&hellip;</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1527738256, "post_id": 50613848, "comment_id": 88242508, "body": "Yes, the biggest consumer would be the &quot;random stuff,&quot; and with all those extra processes (pipeline!).  The next consumer would be the I/O, and finally I suspect the choice of shell.  So: try with some dirt simple randomness (important: how good does that need to be?). And use a different tool.  Given what you desire I&#39;d say that a scripting language should do, but of course that C/C++ should be better.  Also: can you precompute a quasi-random sequence? Does this need to run repeatedly, often ...?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527758193, "post_id": 50613848, "comment_id": 88251205, "body": "I just rewrote it in Perl and it took about 3 seconds to create 100_000_000 lines with 3 and 4."}, {"owner": {"reputation": 1036, "user_id": 6505499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9632fb64ecb7a04e5f65d92a4063288?s=128&d=identicon&r=PG&f=1", "display_name": "bballdave025", "link": "https://stackoverflow.com/users/6505499/bballdave025"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527885763, "post_id": 50613848, "comment_id": 88312349, "body": "@zdim : Thanks for your helpful comments. I did find a solution using a quasi-random sequence. (I replaced <code>cat</code> with <code>base64</code>, wrote two arrays of 1 million strings, then read them back out.) This worked, but took over 20 minutes. I seem to remember that <code>bash</code> has an array-size limit based on underlying RAM. <a href=\"https://unix.stackexchange.com/a/195215/291375\">This link</a> says 1.3 GB ram leads to a limit of about 18 million. @simbabque has a solution that is much faster, but you&#39;re welcome to post your idea as an answer for completeness."}, {"owner": {"reputation": 1036, "user_id": 6505499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9632fb64ecb7a04e5f65d92a4063288?s=128&d=identicon&r=PG&f=1", "display_name": "bballdave025", "link": "https://stackoverflow.com/users/6505499/bballdave025"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527885971, "post_id": 50613848, "comment_id": 88312418, "body": "@zdim : I also have a n00b question. What do you mean by &quot;pipeline!&quot;?"}, {"owner": {"reputation": 1036, "user_id": 6505499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9632fb64ecb7a04e5f65d92a4063288?s=128&d=identicon&r=PG&f=1", "display_name": "bballdave025", "link": "https://stackoverflow.com/users/6505499/bballdave025"}, "edited": false, "score": 0, "creation_date": 1528132499, "post_id": 50613848, "comment_id": 88380995, "body": "I think I figured out what is meant by &quot;pipeline!&quot;. As I understand it, each time a pipe is used, a subshell is spawned. Is this correct?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1528132737, "post_id": 50613848, "comment_id": 88381099, "body": "Right. By a &quot;pipeline&quot; one normally refers to a string of  pipes <code>|</code> taking a command&#39;s output and making it another command&#39;s input.  This is a quintessential UNIX approach, of combining tools, each designed to do their thing, for complete processing.  However, for each <code>|</code> a subshell need be spawned and this costs."}, {"owner": {"reputation": 1036, "user_id": 6505499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9632fb64ecb7a04e5f65d92a4063288?s=128&d=identicon&r=PG&f=1", "display_name": "bballdave025", "link": "https://stackoverflow.com/users/6505499/bballdave025"}, "edited": false, "score": 0, "creation_date": 1528134832, "post_id": 50613848, "comment_id": 88382075, "body": "I appreciate you letting me know that I had figured it out correctly. Your help has been great!"}, {"owner": {"reputation": 1036, "user_id": 6505499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9632fb64ecb7a04e5f65d92a4063288?s=128&d=identicon&r=PG&f=1", "display_name": "bballdave025", "link": "https://stackoverflow.com/users/6505499/bballdave025"}, "edited": false, "score": 0, "creation_date": 1576106947, "post_id": 50613848, "comment_id": 104795608, "body": "I&#39;m wondering why this question has been voted down. I&#39;m planning on removing the question, since it seems like it&#39;s not a good question. However, I&#39;d like to know why it got the negative responses."}, {"owner": {"reputation": 1036, "user_id": 6505499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9632fb64ecb7a04e5f65d92a4063288?s=128&d=identicon&r=PG&f=1", "display_name": "bballdave025", "link": "https://stackoverflow.com/users/6505499/bballdave025"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1576191515, "post_id": 50613848, "comment_id": 104829550, "body": "After looking at meta stuff <a href=\"https://meta.stackoverflow.com/q/270586/6505499\">here</a> and <a href=\"https://meta.stackoverflow.com/q/291139/6505499\">here</a> I decided to leave the question here. Considering its reach, it doesn&#39;t seem too consequential whether it stays or not. Also, considering the reputation gained by @simbabque , deleting this wouldn&#39;t hurt...I just hate to get rid of such an awesome answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1576193026, "post_id": 50613848, "comment_id": 104829956, "body": "@bballdave025 Yes, please leave it -- it&#39;s a good question!  I&#39;ve no idea why it got downvoted -- perhaps because it&#39;s long, written in proper sentences, with some unneeded statements here or there ... ?  I voted it up back then and i reread it  now and still think that it&#39;s a (very) good question.  It could be simplified and shortened but those are details which don&#39;t make it bad (just harder to read through)."}, {"owner": {"reputation": 1036, "user_id": 6505499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9632fb64ecb7a04e5f65d92a4063288?s=128&d=identicon&r=PG&f=1", "display_name": "bballdave025", "link": "https://stackoverflow.com/users/6505499/bballdave025"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1576193470, "post_id": 50613848, "comment_id": 104830044, "body": "I appreciate you taking the time to comment on this, @zdim. I also appreciate the help you gave when I was facing the issue. Keep up the good work!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1576193831, "post_id": 50613848, "comment_id": 104830115, "body": "You are most welcome :)   Thanks for responding :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1576231506, "post_id": 50613848, "comment_id": 104840628, "body": "Thank you for the nice words. It&#39;s at 0 now. No idea why I didn&#39;t vote at the time."}], "answers": [{"comments": [{"owner": {"reputation": 1036, "user_id": 6505499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9632fb64ecb7a04e5f65d92a4063288?s=128&d=identicon&r=PG&f=1", "display_name": "bballdave025", "link": "https://stackoverflow.com/users/6505499/bballdave025"}, "edited": false, "score": 0, "creation_date": 1527886559, "post_id": 50621063, "comment_id": 88312615, "body": "Verified! I ran it for a million strings to compare with my <code>bash</code> array solution (which couldn&#39;t get to 100 million due to array-size issues.) Input: <code>time perl foo.pl 3 4 1000000 &gt; big_file.out</code> Output: <code>real  0m3.170s</code> <code>user 0m3.135s</code> <code>sys 0m0.015s</code>. My computer is obviously slower that yours, but the solution is excellent!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1036, "user_id": 6505499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9632fb64ecb7a04e5f65d92a4063288?s=128&d=identicon&r=PG&f=1", "display_name": "bballdave025", "link": "https://stackoverflow.com/users/6505499/bballdave025"}, "edited": false, "score": 0, "creation_date": 1527957264, "post_id": 50621063, "comment_id": 88327900, "body": "@bballdave025 yeah that&#39;s the problem with benchmarking. ;)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1527759104, "creation_date": 1527759104, "answer_id": 50621063, "question_id": 50613848, "link": "https://stackoverflow.com/questions/50613848/bash-python-perl-etc-fast-generation-of-file-with-many-pairs-of-random-alphabe/50621063#50621063", "title": "bash/python/perl/etc. Fast generation of file with many pairs of random, alphabetic strings", "body": "<p>You can do this in Perl and it will run in a matter of seconds for 100 million lines.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\n# read command line arguments\nmy ( $first_length, $second_length, $lines, $first_word, $second_word ) = @ARGV;\n$first_word //= 'TRY';\n$second_word //= 'OFTEN';\n\n# define your alphabet of random characters\nmy @alphabet = ( 'a' .. 'z', q{ } );\nmy $max_rand = scalar @alphabet;\n\nforeach my $i ( 1 .. $lines ) {\n    say join(\n        q{ },\n        ( join q{}, map { $alphabet[ int rand $max_rand ] } 1 .. $first_length ),\n        $first_word,\n        ( join q{}, map { $alphabet[ int rand $max_rand ] } 1 .. $second_length ),\n        $second_word,\n    );\n}\n</code></pre>\n\n<p>This program takes three or five arguments:</p>\n\n<pre><code>$ perl foo.pl 3 4 100000000 TRY OFTEN\n</code></pre>\n\n<p>On my machine it took about three seconds to generate the full 100M lines. The output looks like this:</p>\n\n<pre><code>wab TRY mcqb OFTEN\ntdb TRY tobw OFTEN\nrlf TRY lg v OFTEN\nofn TRY oxdf OFTEN\no j TRY vcfp OFTEN\nffv TRY doud OFTEN\nlvl TRY ckci OFTEN\nxqh TRY wnaa OFTEN\nfhj TRY  pmp OFTEN\noxe TRY swyi OFTEN\n</code></pre>\n"}], "owner": {"reputation": 1036, "user_id": 6505499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9632fb64ecb7a04e5f65d92a4063288?s=128&d=identicon&r=PG&f=1", "display_name": "bballdave025", "link": "https://stackoverflow.com/users/6505499/bballdave025"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 1, "accepted_answer_id": 50621063, "answer_count": 1, "score": 0, "last_activity_date": 1576191894, "creation_date": 1527717205, "last_edit_date": 1576191894, "question_id": 50613848, "link": "https://stackoverflow.com/questions/50613848/bash-python-perl-etc-fast-generation-of-file-with-many-pairs-of-random-alphabe", "title": "bash/python/perl/etc. Fast generation of file with many pairs of random, alphabetic strings", "body": "<h3>My Problem</h3>\n\n<p>I was surprised not to find a similar question here. Maybe I need to learn how to search better. Mainly, I'm trying to figure out which part of my algorithm is slow and if there are alternate, faster ways to accomplish my goal.</p>\n\n<p>I am trying to generate a file with 100 million pairs of random, alphabetic strings. These random strings can include spaces. There are some real, fixed words around the random ones. An example of my desired output is</p>\n\n<pre><code>rrn TRY gy q OFTEN\nibh TRY mpdw OFTEN\nbnq TRY nbjw OFTEN\ntky TRY tedr OFTEN\nc r TRY  fdv OFTEN\ncvs TRY dusr OFTEN\nppd TRY qhrc OFTEN\n...\n</code></pre>\n\n<p>I would like to be able to do this in a Linux scripting language (I'm actually using Cygwin), so answers in <code>bash</code>, <code>python</code>, <code>perl</code>, etc. would be preferred. However, if I'm going to get a big increase in speed using <code>C++</code>, <code>Java</code>, or something else, I'm open to that.</p>\n\n<p>Currently, my script is run via</p>\n\n<pre><code>$ ./create_big_file.sh 100000000\n</code></pre>\n\n<p>The <code>bash</code> script is as follows. I have changed things so as not to hard-code the number of pairs.</p>\n\n<p><strong>My Executable Code</strong></p>\n\n<pre><code>#!/bin/bash\n#\n# @file create_big_file.sh\n\nn_lines=$1\nfilename=\"big_file_${n_lines}.out\"\n\nn_lett_rand_str1=3 # originally had 5, tried 3 for speed\nn_lett_rand_str2=4 # originally had 10, tried 4 for speed\n\nbetween=\" TRY \"\nafter=\" OFTEN\"\n\nwhile [ $n -lt $n_lines ]; do\n  n_lett_rand_str1=3\n  n_lett_rand_str2=4\n\n  random_str1=$(cat /dev/urandom | tr -dc 'a-z ' | \\\nfold -w $n_lett_rand_str1 | head -n 1)\n\n  random_str2=$(cat /dev/urandom | tr -dc 'a-z ' | \\\nfold -w $n_lett_rand_str2 | head -n 1)\n\n  echo \"${random_str1}${between}${random_str2}${after}\" &gt;&gt; \"$filename\"\n\n  n=$(($n+1))\n\ndone #endof:  while [ $n -lt $n_lines ]\n</code></pre>\n\n<p>My run-rime scales approximately linearly, as expected, but the time taken for each iteration seems high to me. If I make the estimation of pure linear time, I've calculated that it would take 265.0 days. If I use the complete <code>t=a*exp[x,b]</code> fit, I've calculated 1.016 years. If I only wanted a million lines, it would take about 2-3 days.</p>\n\n<p><strong>The Question</strong></p>\n\n<p>I'm thinking there's got to be a way to do what I'm trying to do, but faster. Does anyone know of a way to create such a file in less time? I'd be willing to settle for 1 million lines if I could get it in less than 4 hours, but I hope to be able to get 100 million lines in less than a day.</p>\n\n<p>P.S. This is not homework; I'm working on some text analysis.</p>\n\n<hr/>\n\n<h3>My Research</h3>\n\n<pre><code>$ time ./create_big_file.sh 10\n\nreal    0m2.487s\nuser    0m1.115s\nsys     0m1.950s\n\n$ time ./create_big_file.sh 100\n\nreal    0m22.356s\nuser    0m11.764s\nsys     0m16.517s\n\n$ tail -2 big_file_100.out\nmri TRY nzeo OFTEN\nhev TRY uqdf OFTEN\n\n$ time ./create_big_file.sh 500\n\nreal    1m52.143s\nuser    0m57.347s\nsys     1m19.405s\n\n$ time ./create_big_file.sh 1000\n\nreal    3m50.129s\nuser    1m58.697s\nsys     2m45.612s\n</code></pre>\n\n<p>The fit for time vs. number of lines, as found at <a href=\"http://www.wolframalpha.com/input/?i=FindFit%5B%7B%7B10.,2.478%7D,%7B100,22.356%7D,%7B500,112.143%7D,%7B1000,230.129%7D%7D,a*x%5Eb,%7Ba,b%7D,x%5D\" rel=\"nofollow noreferrer\">Wolfram|Alpha</a>, is </p>\n\n<p><i>t(x) = 0.11905 x<sup>1.02845</sup></i></p>\n\n<p>I tried replacing</p>\n\n<pre><code>random_str1=$(cat /dev/urandom | tr -dc 'a-z ' | \\\nfold -w $n_lett_rand_str1 | head -n 1)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>random_str1=$(echo $RANDOM | tr '[0-9]' '[a-z ]')\n</code></pre>\n\n<p>and made the same change to <code>random_str2</code>. That gave me two strings of up to 5 letters. However, I got no significant difference in run-time.</p>\n\n<p><strong>Comparison</strong></p>\n\n<p>I ran the script without any random generation of strings. I commented out anything that had to do with the random stuff and ran the while loop with just</p>\n\n<pre><code>echo \"${between}${after}\"\nn=$(($n+1))\n</code></pre>\n\n<p>inside, and my runtime numbers were (format: <code>{n_lines, n_seconds}</code>)</p>\n\n<pre><code>{{10, 0.049},{100, 0.097},{500, 0.157},{1000,0.263}, {10000, 1.996}, {100000, 19.222}}\n</code></pre>\n\n<p>giving an order of growth as (<a href=\"http://www.wolframalpha.com/input/?i=FindFit%5B%7B%7B10,%200.049%7D,%7B100,%200.097%7D,%7B500,%200.157%7D,%7B1000,0.263%7D,%20%7B10000,%201.996%7D,%20%7B100000,%2019.222%7D%7D,a*x%5Eb,%7Ba,b%7D,x%5D\" rel=\"nofollow noreferrer\">source</a>)</p>\n\n<p><i>t(x) = 0.000243745 x<sup>0.979367</sup></i></p>\n\n<p>That makes me pretty sure the random stuff is causing the problems - like 0.2 seconds per random problems.</p>\n\n<p><strong>Edit</strong>\nThe \"random\" doesn't have to be extremely random. I basically want it to not repeat on the order of 10-20 lines (except VERY rarely.) Again, it's for text processing things. Thanks to @zdim for asking for that clarification.</p>\n\n<p>This will likely only be run once or twice in a six-month period.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527707700, "post_id": 50611570, "comment_id": 88233804, "body": "Your regex is almost there: (1) To only group the pattern forming the exponent (so to be able to use <code>?</code> on it) use the non-capturing <code>(?: ... )</code>. (The way it is, with <code>()</code>, it captures the exponent separately) (2) Please show a sample input string -- but if after the number you need the rest as it seems just add <code>(.*)</code> at the end of the pattern (3) Then you need to assign those matches, strictly in list context, so <code>my ($v1, $v2,...) = $line =~ &#47;...&#47;</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1527708719, "post_id": 50611570, "comment_id": 88234261, "body": "What&#39;s the problem with your current code? What do you expect to get, and what are you actually getting?"}, {"owner": {"reputation": 23, "user_id": 9871819, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "bhaan", "link": "https://stackoverflow.com/users/9871819/bhaan"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1527712828, "post_id": 50611570, "comment_id": 88235978, "body": "@matt -- I get value &quot; 1&quot; for the $cap variable. &quot;Use of uninitialized value $net1 in print&quot; for the $net1 variable when I try to print."}, {"owner": {"reputation": 23, "user_id": 9871819, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "bhaan", "link": "https://stackoverflow.com/users/9871819/bhaan"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1527714323, "post_id": 50611570, "comment_id": 88236541, "body": "@zdim. more reading on the regex helped me understand what you are saying. Thanks for the reply"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1527714483, "post_id": 50611570, "comment_id": 88236595, "body": "In scalar context, the match operator returns a true value if the match is successful (<code>1</code>). In list context, it returns the captured substrings. It sounds like you need to impose list context."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527715259, "post_id": 50611570, "comment_id": 88236877, "body": "Glad to help.  Please remember in the future to (also) make the question complete -- with sample input and expected output, and a clear statement on what is failing."}], "answers": [{"tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": true, "score": 0, "last_activity_date": 1527706843, "creation_date": 1527706843, "answer_id": 50611750, "question_id": 50611570, "link": "https://stackoverflow.com/questions/50611570/perl-extract-string-and-scientific-number/50611750#50611750", "title": "perl extract string and scientific number", "body": "<p>Assuming that the format of data is always the same, something like this should work</p>\n\n<pre><code>my $line = 'capacitor #(.c(3.58782e-14)) c_1310 (vsub, vss_res);';\nmy ($net1, $net2, $net3) = $line =~ /\\(.+\\((.+)\\)\\)\\s+(.+)\\s+\\((.+)\\)/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 5983598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d539e9b534f278c139ce01cadf7b70?s=128&d=identicon&r=PG", "display_name": "mr_ron", "link": "https://stackoverflow.com/users/5983598/mr-ron"}, "is_accepted": false, "score": 0, "last_activity_date": 1527778570, "last_edit_date": 1527778570, "creation_date": 1527775598, "answer_id": 50626250, "question_id": 50611570, "link": "https://stackoverflow.com/questions/50611570/perl-extract-string-and-scientific-number/50626250#50626250", "title": "perl extract string and scientific number", "body": "<p>The original post seemed to do some checking and validation (in contrast with matching '.' which matches anything) and I will suggest a more validating version here:</p>\n\n<pre><code>use Modern::Perl;\n\nuse Regexp::Common;\n\nmy $line = 'capacitor #(.c(3.58782e-14)) c_1310 (vsub, vss_res);';\nmy ($cap, $cap_no, $net1, $net2) = $line =~ /\n    \\([^(]+\\( ($RE{num}{real}) \\)\\)\n    \\s+(\\w+)\\s+\n    \\(\n        (\\w*) ,\\s*\n        (\\w*)\n    \\)\n/x;\n\nsay \"cap: $cap cap_no: $cap_no net1: $net1 net2: $net2\";\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>cap: 3.58782e-14 cap_no: c_1310 net1: vsub net2: vss_res\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9871819, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "bhaan", "link": "https://stackoverflow.com/users/9871819/bhaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 50611750, "answer_count": 2, "score": 1, "last_activity_date": 1527778570, "creation_date": 1527706061, "last_edit_date": 1527712354, "question_id": 50611570, "link": "https://stackoverflow.com/questions/50611570/perl-extract-string-and-scientific-number", "title": "perl extract string and scientific number", "body": "<p>I have data in particular format. </p>\n\n<p>capacitor #(.c(<strong>3.58782e-14</strong>)) <strong>c_1310</strong> (<strong>vsub</strong>, <strong>vss_res</strong>);</p>\n\n<p>I want to extract those highlighted in BOLD from the data set. I tried using regex</p>\n\n<pre><code>$cap = $line =~ /([0-9]*\\.?[0-9]+([eE][-]?[0-9]+)?)/ ;\n($net1, $net2) = $line =~ /\\(([A-Za-z0-9_]*) \\, ([A-Za-z0-9_]*)\\)/ ;\n</code></pre>\n\n<p>$line contains each data line. Need help in getting the regex corrected. </p>\n\n<p>I have a solution using split() function but regex would be better I think. </p>\n"}, {"tags": ["perl", "emacs", "cperl-mode"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1527697533, "post_id": 50609296, "comment_id": 88228639, "body": "What I do in cperl mode is to set <code>cperl-highlight-variables-indiscriminately</code> to <code>t</code> so that <code>$ref</code> has the same colour as in <code>my $ref</code> (i.e. scalars are coloured when used). Using the same colour for <code>$var[0]</code> and <code>$var-&gt;[0]</code> might obscure the fact they are two different variables."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1527697733, "post_id": 50609296, "comment_id": 88228738, "body": "@choroba I agree about the risk in coloring $h{k} and $h-&gt;{k} the same.  This being emacs, I would assume that we would have hash face and hashref face allowing distinction."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1527697948, "post_id": 50609296, "comment_id": 88228846, "body": "But you can&#39;t tell whether <code>$hash_ref = function()</code> is a hash ref or not, so it again will be confusing when used close to <code>exists $hash_ref-&gt;{a}</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1527698063, "post_id": 50609296, "comment_id": 88228909, "body": "Your image needs more free-hand circles!"}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1527698090, "post_id": 50609296, "comment_id": 88228921, "body": "@choroba agreed - not coloring non-derefs is a loss.  But I think I can live with that."}], "answers": [{"comments": [{"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1527703758, "post_id": 50610130, "comment_id": 88231917, "body": "Thanks, but what I want to emphasize is the similarity between $hash{key} and $href-&gt;{key} - both being used to access hashes, one directly, the other indirectly.  NOT the similarly between (scalar) variables that contain numbers, strings, hashrefs or arrayrefs.  // yes, I would use all three colors in your second example - in fact the fruit salad effect would probably highlight the fact that something tricky is going on."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1527701500, "last_edit_date": 1527701500, "creation_date": 1527700127, "answer_id": 50610130, "question_id": 50609296, "link": "https://stackoverflow.com/questions/50609296/iso-emacs-cperl-mode-colorize-hash-references-like-hashes/50610130#50610130", "title": "ISO Emacs [C]Perl-mode colorize hash references like hashes", "body": "<p>You can set <code>cperl-highlight-variables-indiscriminately</code> to <code>t</code> (via customizing it) to get scalar variables coloured not only when declared but always.\n<a href=\"https://i.stack.imgur.com/PJP1Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJP1Z.png\" alt=\"enter image description here\"></a></p>\n\n<p>Using the same colour for <code>@ref</code> and <code>$ref</code> is confusing, as they are different variable types (and different variables); similarly, it's confusing to use the scalar colour for <code>$ref</code> but array colour for <code>$ref-&gt;[0]</code> as they are the same variable.</p>\n\n<p>Also, Perl being Perl, would you use all three colours here?</p>\n\n<pre><code>if (ref $ref eq 'ARRAY') {\n    return $ref-&gt;[0]\n} elsif (ref $ref eq 'HASH') {\n    return $ref-&gt;{key}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1527727215, "post_id": 50615018, "comment_id": 88240090, "body": "In fact I did it without hacking <code>cperl-mode</code> itself."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1527727584, "post_id": 50615018, "comment_id": 88240176, "body": "sorry for downvoting your answer at first.  I was a bit grumpy when you started with a statement that I had just shown to be wrong.  But thanks for looking, and fortunately stackoverflow allowed me to change my -1 to a 0."}, {"owner": {"reputation": 1818, "user_id": 4021251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808129eeb69813286f32266f535b2a34?s=128&d=identicon&r=PG&f=1", "display_name": "nega", "link": "https://stackoverflow.com/users/4021251/nega"}, "reply_to_user": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1527728876, "post_id": 50615018, "comment_id": 88240476, "body": "not a problem. &quot;without hacking cperl-mode itself&quot; really should be something like &quot;without hacking some elisp yourself&quot;."}], "tags": [], "owner": {"reputation": 1818, "user_id": 4021251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808129eeb69813286f32266f535b2a34?s=128&d=identicon&r=PG&f=1", "display_name": "nega", "link": "https://stackoverflow.com/users/4021251/nega"}, "is_accepted": false, "score": 1, "last_activity_date": 1527728921, "last_edit_date": 1527728921, "creation_date": 1527726106, "answer_id": 50615018, "question_id": 50609296, "link": "https://stackoverflow.com/questions/50609296/iso-emacs-cperl-mode-colorize-hash-references-like-hashes/50615018#50615018", "title": "ISO Emacs [C]Perl-mode colorize hash references like hashes", "body": "<p>You can't do what you want without extending <code>cperl-mode</code>. <code>cperl-mode</code> doesn't understand references. There's no reference \"face\" for you to customize, and no \"thing\" to apply that face to. If you want to render a hash reference like a hash (a la your example) I'd start with modifying <a href=\"https://github.com/emacs-mirror/emacs/blob/fb9c52bb7d29c85f3baee770355260830dacea50/lisp/progmodes/cperl-mode.el#L5838\" rel=\"nofollow noreferrer\" title=\"cperl-mode at github\">the second regex</a> in the definition of <code>t-font-lock-keywords-1</code> in <code>cperl-mode.el</code>. That should take care of hash and array refs. Beware of <code>cperl-highlight-variables-indiscriminately</code> overriding your changes. If you want to do something fancier, like have a \"reference face\", you'll have to </p>\n\n<ol>\n<li>define a face</li>\n<li>add the face to customize (if you want)</li>\n<li>hack <code>t-font-lock-keywords-1</code> and apply the face to a regex match</li>\n</ol>\n\n<p>Of course it might just be easier to send a feature request upstream. <code>cperl-mode</code> is ancient and could definitely use some modernization.</p>\n"}, {"tags": [], "owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "is_accepted": true, "score": 4, "last_activity_date": 1527727137, "last_edit_date": 1527727137, "creation_date": 1527726705, "answer_id": 50615079, "question_id": 50609296, "link": "https://stackoverflow.com/questions/50609296/iso-emacs-cperl-mode-colorize-hash-references-like-hashes/50615079#50615079", "title": "ISO Emacs [C]Perl-mode colorize hash references like hashes", "body": "<p>I dislike answering my own question, but the wild goose chase answer suggested annoyed me enough to figure out what my attempts were doing wrong.</p>\n\n<p>(I hate it when I ask for X, somebody answers Y, and disses X.  Especially when X is doable, as here.)</p>\n\n<p>Here is working code from my .emacs:</p>\n\n<pre><code>(defun ag-extend-cperl-font-lock-keywords ()\n  (interactive)\n  (font-lock-add-keywords\n    'cperl-mode\n    '(\n       (\n         \"\\\\($[a-zA-Z_][a-zA-Z_0-9]*-&gt;\\\\){\"\n         1 'cperl-hash-face t\n         )\n       (\n         \"\\\\($[a-zA-Z_][a-zA-Z_0-9]*-&gt;\\\\)\\\\[\"\n         1 'cperl-array-face t\n         )\n       (\n         \"\\\\($[a-zA-Z_][a-zA-Z_0-9]*-&gt;\\\\)(\"\n         1 'font-lock-function-name-face t\n         )\n       )\n    t\n    )\n  )\n\n(ag-extend-cperl-font-lock-keywords)\n</code></pre>\n\n<p>giving</p>\n\n<p><a href=\"https://i.stack.imgur.com/lGvmP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lGvmP.png\" alt=\"enter image description here\"></a></p>\n\n<p>Just for grins, @choroba's example of multiple types:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZMITX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZMITX.png\" alt=\"enter image description here\"></a></p>\n\n<p>I haven't decided if I should create separate faces for hashrefs, arrayrefs, and coderefs. For now, just using the same face as their non-ref counterparts. Including -> as part of the text colored provides some distinction between non-ref and ref.</p>\n\n<p>Nor have I yet decided if I want to extend to the various other Perl syntaxes.\nFrom <a href=\"https://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlref.html</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QxkON.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QxkON.png\" alt=\"enter image description here\"></a></p>\n\n<p>But now that I have the font-lock-add-keywords invocation, those details I can fix at my leisure.</p>\n"}], "owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 1, "accepted_answer_id": 50615079, "answer_count": 3, "score": 4, "last_activity_date": 1527728921, "creation_date": 1527696854, "last_edit_date": 1527726906, "question_id": 50609296, "link": "https://stackoverflow.com/questions/50609296/iso-emacs-cperl-mode-colorize-hash-references-like-hashes", "title": "ISO Emacs [C]Perl-mode colorize hash references like hashes", "body": "<p>I still use Perl, some new code, and maintaining old code. I use emacs and cperl-mode.  I like syntax coloring.</p>\n\n<p>At first (many years ago) I disliked cperl-mode's special coloring of arrays and hashes, but it has grown on me. To the point where I will sometimes prefer to use a hash rather than a hash reference, just to get the special coloring.  That may not sound so bad - but if I admit to occasionally using a global %hash or $hash{key} rather than an object member $hashref->{key}, just to get the coloring, well, it is bad.  I.e. syntax coloring is making me want to follow bad programming practices.</p>\n\n<p>So, my question is: does anyone have emacs/elisp configuration code to get cperl-mode or perl-mode to colorize a hash reference like $hashref->{key} in the same or similar to $hash{key}?</p>\n\n<p>Let me use bold to indicate the places that might be colored:</p>\n\n<ul>\n<li>cperl-mode does now:  <strong>$hash</strong>{key}</li>\n<li>what I would like:  <strong>$hash-></strong>{key}</li>\n</ul>\n\n<p>I have done extensive customization of coloring (faces) in emacs - e.g. colorizing to distinguish DEBUG code from non-debug code, TEST from non-test, etc. - but I have not managed to get this syntax coloring in cperl-mode working. (FOLLOW-ON: I eventually got font-lock-add-keywords working, as shown in my answer to my own question below.)</p>\n\n<p>In the example below, you can see that $hashref->{key} is not colored, while $hash{key} is.   </p>\n\n<p><a href=\"https://i.stack.imgur.com/mpNqw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mpNqw.png\" alt=\"example of cperl-mode syntax coloring\"></a></p>\n\n<p>Similarly for array refs, and perhaps other refs.</p>\n\n<p>I realize that coloring refs will only apply to derefs like $hashref->{key}, and not to other stuff like $hashref1 = $hashref2.  I think that I can live with that.</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1527673754, "creation_date": 1527673754, "answer_id": 50601550, "question_id": 50598986, "link": "https://stackoverflow.com/questions/50598986/perl-extract-multiples-lines-from-hash/50601550#50601550", "title": "perl extract multiples lines from hash", "body": "<p>You're already a lot of the way there with the <code>@row{@header}</code> type syntax. That takes a hash-slice, which means you can match multiple elements based on hash keys.</p>\n\n<p>Output works much the same</p>\n\n<pre><code>open ( my $s3_file, '&gt;', 'S3_file.txt' ) or warn $!;\nmy @output_fields = qw ( s3 data ); #matches column headings\n</code></pre>\n\n<p>And lower down inside the <code>%row</code> block:</p>\n\n<pre><code>print {$s3_file} join (\"\\t\", @row{@output_fields} )), \"\\n\"; \n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527673754, "creation_date": 1527666048, "last_edit_date": 1527671691, "question_id": 50598986, "link": "https://stackoverflow.com/questions/50598986/perl-extract-multiples-lines-from-hash", "title": "perl extract multiples lines from hash", "body": "<p>I have a tab delimited text file, something like this: </p>\n\n<pre><code>data    S1  S2  S3  S4  S5  S6\ndata1   0   0   0   0   0   0\ndata2   0   5   3   5   0.1 0.9\ndata3   0   3   9   3   0   0.01\ndata4   0   0   4   4   0   0\ndata5   2   5   11  7   5   0.2\ndata6   0   0   0   8.  0   0\ndata7   0   1   5   2   06  0.04\n</code></pre>\n\n<p>Well, the structure of the file is just little more complex, is a metagenomics file, something like: </p>\n\n<p>D_0__Archaea;D_1__Euryarchaeota;D_2__Thermoplasmata;D_3__Thermoplasmatales;D_4__Marine Group II;D_5__uncultured archaeon    0   0   0   0   0   0   0   0   0.0035  0.00293 0.00834 0</p>\n\n<p>from D_0__ to D_5__ = first column (data in the example)\neach number represent each column (S)</p>\n\n<p>but at the end, is similar !!!!</p>\n\n<p>what I want, is to use the %row hash to extract the first line (data) with a single @label_match (s3), and print out in a single txt file, I mean, if I want s3 and s6, print out something like this:</p>\n\n<p>S3_file.txt (take the name of each column to print out the name of the file):</p>\n\n<pre><code>s3   data #avoid this line in the print out, just to explain !!!\n0    data1\n3    data2\n9    data3\n4    data4\n11   data5\n0    data6\n5    data7\n</code></pre>\n\n<p>and </p>\n\n<p>S6_file.txt:</p>\n\n<pre><code>0    data1\n0.9  data2\n0.01 data3\n0    data4\n0.2  data5\n0    data6\n0.04 data7\n</code></pre>\n\n<p>I have this code, and I think that in the %row section i have to make a foreach loop, to extract each @label_match one by one, but I don't know how. \nThis is my code: </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse List::MoreUtils qw(uniq);\nuse Data::Dumper qw(Dumper);\nuse Getopt::Long;\nuse List::Util qw(sum);\n\n\nmy ($infile_taxon, $search_label, $output_file, $help, $help_desc, $options, $options_desc, $keep_file);\n\nGetOptions (\n    't=s'       =&gt;\\$infile_taxon,\n    's=s'       =&gt;\\$search_label,\n    'kf'        =&gt;\\$keep_file,\n    'o=s'       =&gt;\\$output_file,\n    'h'         =&gt;\\$help,\n    'op'        =&gt;\\$options\n);\n\n#---------------------------Subrutin to clean the selected Taxon  --------------------\nsub Taxon_Clean {\n    my (@clean_result);\n    foreach (@_){\n        chomp;\n        if ($_ =~ s/D_0__//g | s/;D_\\d__/\\t/g | s/;/\\t/g){\n            push @clean_result, $_;\n        }\n    }\n\n    return @clean_result;\n}\n\n#------------------------------------------------------ Open Files-------------------\nopen INFILE_TAXONOMY, '&lt;', \"$infile_taxon\" or die $!;\n\nmy (@taxon, @sample_names);\n\n#------------------------------------------------------ Taxon -----------------------\nmy ( @header, @label_match, @not_match, @taxon_filter);\nwhile (&lt;INFILE_TAXONOMY&gt;){\n    chomp;\n    if ($_=~ m/^$|Constructed from biom file/g)  {\n        next;\n    }\n    elsif ($_=~ s/OTU ID/Taxon/g){\n        chomp ( @header = split '\\t', $_ );\n\n#------------------------------------------------------ Search Label ----------------\n        if ($search_label){\n            my @label_wanted= split (/\\,/, $search_label); \n            unshift @label_wanted, '#Taxon';\n            @label_wanted = uniq (@label_wanted);\n            foreach (@label_wanted){\n                my $unit =$_;\n                chomp $unit;\n                if (my @match_wanted= grep (/$unit/, @header)){\n                    push (@label_match, @match_wanted);\n                }\n                else {\n                    push (@not_match, $unit);\n                }\n            }\n\n#                                --------- Check Point ---------\n\n            push (my @defined_elements, @label_match);\n            shift @defined_elements;\n\n            if (! @defined_elements){\n                print \"\\n\\tNON of the Search Samples \\\" $search_label \\\" \"\n                  . \"Were Found in \\\" $infile_taxon \\\" File !!!\\n\\n\";\n                exit;\n            }\n\n            elsif (grep {defined($_)} @defined_elements){  \n                if (grep {defined($_)} @not_match){\n                    print \"\\n\\tSamples No Found: @not_match\\n\\n\";\n                }\n            }\n        }\n    }\n    elsif ($_=~ m/^#/g){\n        next;\n    }\n\n    elsif ($search_label) {  \n        my %row;\n        @row{@header} = split '\\t'; \n        my @filter= join \"\\t\", @row{@label_match}, \"\\n\";\n        push (@taxon_filter, @filter);\n        #print Dumper (\\%row);\n    }\n    else {\n        push (@taxon, $_); \n    }\n}\n\n\n# The Next section is to extract all the wanted columns in a single file,\n# but here is where I want to extract one by one column i a separate file !!!\n\n\n\nopen OUTPUT, '&gt;', \"Taxonomic_results_file.txt\", or die \"can't create the output file\";\n\nforeach (@taxon_filter){\n    chomp $_;\n    my ($tax, @values) = split '\\t', $_;\n    my $unit_val = join(\"\\t\", map { $_ } @values);\n    my $sum_elements = sum (@values);\n    if ($sum_elements == 0){\n        next;\n    }\n    else {\n        push (my @tx, $tax);\n        @tx = Taxon_Clean (@tx);\n        print OUTPUT \"$unit_val\\t@tx\\n\";\n    }\n}\n\n\nclose INFILE_TAXONOMY;\nclose OUTPUT;\nexit;\n</code></pre>\n\n<p>Thanks So Much</p>\n"}, {"tags": ["perl", "cookies"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1527665432, "post_id": 50598544, "comment_id": 88206680, "body": "Works for me...returns a web page..but I&#39;m on Ubuntu with perl 5.24.1"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1527669137, "post_id": 50598544, "comment_id": 88208961, "body": "You can use <a href=\"https://metacpan.org/pod/LWP::ConsoleLogger::Everywhere\" rel=\"nofollow noreferrer\">LWP::ConsoleLogger::Everywhere</a> to get the communication that happens in the background. Take a look at the headers of the response. They should come out before they are parsed and it breaks. Also please <a href=\"https://stackoverflow.com/posts/50598544/edit\">edit</a> and tell us what version of Perl and Net::HTTP and LWP::UserAgent you have. You can do <code>perl -MLWP::UserAgent\\ 99</code> with a space after the backslash <code>\\</code> for both modules. The <a href=\"https://metacpan.org/changes/distribution/Net-HTTP\" rel=\"nofollow noreferrer\">N::HTTP changelog</a> doesn&#39;t speak of this though."}, {"owner": {"reputation": 1, "user_id": 9868557, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "elizabeth williams", "link": "https://stackoverflow.com/users/9868557/elizabeth-williams"}, "edited": false, "score": 0, "creation_date": 1527688538, "post_id": 50598544, "comment_id": 88222630, "body": "When the cookie is incorrect it works, I tested with set_cookie but it get the same error"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527671802, "post_id": 50600224, "comment_id": 88210764, "body": "I think this is one for #lwp on IRC. I can&#39;t find anything."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1527698969, "post_id": 50600224, "comment_id": 88229375, "body": "<code>use LWP::Protocol::http; push @LWP::Protocol::http::EXTRA_SOCK_OPTS, MaxHeaderLines =&gt; 256;</code> should extend the limit."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1527670818, "last_edit_date": 1527670818, "creation_date": 1527669992, "answer_id": 50600224, "question_id": 50598544, "link": "https://stackoverflow.com/questions/50598544/too-many-header-lines-error-in-perl/50600224#50600224", "title": "Too many header lines error in perl", "body": "<blockquote>\n  <p>Please tell me why I get this error, I think it's for cookie format</p>\n</blockquote>\n\n<p>The error speaks about the number of lines in the header. That's not related to the cookie header, as that is only a single line.</p>\n\n<p>The place where <a href=\"https://metacpan.org/pod/Net::HTTP\" rel=\"nofollow noreferrer\">Net::HTTP::Methods</a> complains is <a href=\"https://metacpan.org/source/OALDERS/Net-HTTP-6.18/lib/Net/HTTP/Methods.pm#L374\" rel=\"nofollow noreferrer\">when it reads the incoming response header lines</a>. Those <a href=\"https://metacpan.org/source/OALDERS/Net-HTTP-6.18/lib/Net/HTTP/Methods.pm#L80\" rel=\"nofollow noreferrer\">are set to 128 by default</a>, but this can be changed with an argument.</p>\n\n<p>However, I haven't figured out a way yet to inject a different value. I've reproduced the problem stand-alone though.</p>\n\n<pre><code>$ perl -Mojo -E \\\n 'a(sub ($c) { $c-&gt;res-&gt;headers-&gt;header(\"X-$_\" =&gt; $_) for 1..128; $c-&gt;render(text =&gt; \"Hello\") })-&gt;start' \\\n  daemon\n</code></pre>\n\n<p>This will give you a server on localhost:3000 that responds with loads of header lines. If you then make a response, the same problem occurs.</p>\n\n<pre><code>my $res = $ua-&gt;get('http://localhost:3000/');\n</code></pre>\n\n<p>Unfortunately that does not help us very much.</p>\n"}], "owner": {"reputation": 1, "user_id": 9868557, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "elizabeth williams", "link": "https://stackoverflow.com/users/9868557/elizabeth-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "protected_date": 1527924901, "answer_count": 1, "score": 0, "last_activity_date": 1527673146, "creation_date": 1527664555, "question_id": 50598544, "link": "https://stackoverflow.com/questions/50598544/too-many-header-lines-error-in-perl", "title": "Too many header lines error in perl", "body": "<p>I wrote a simple perl code:</p>\n\n<pre><code>use HTTP::Request::Common qw(POST);\nuse strict;                                                               \nuse warnings;                                                               \nuse LWP;\nmy $ua = new LWP::UserAgent(agent =&gt; 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.0.5) Gecko/20060719 Firefox/1.5.0.5');\nmy $res = $ua-&gt;get('http://60606.com/members/search',Cookie =&gt; 'incomerr_refid=0; ff_language_id=3; _t_=1; fcode2=4139; ss_time=1527663671; PHPSESSID=otfmog35f0iva0uld1rgld2kj7; _webpush_key_=none; dinged_id=1412807; _language_id=3; _gnum_=950212; refid=1; first_key=TOCz19ls8HfkFW6LoBrIj35p4xSyYPVE; last_valid_url=https%3A//60606.com/login; ping_last=1527663675.939');\nprint $res-&gt;content;\n</code></pre>\n\n<p>but when I run it I get this error:</p>\n\n<pre><code>Too many header lines (limit is 128) at C:/Perl64/lib/Net/HTTP/Methods.pm line 377\n</code></pre>\n\n<p>Please tell me why I get this error, I think it's for cookie format</p>\n"}, {"tags": ["perl", "oop", "log4perl"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 1526136, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/VsoAQ.jpg?s=128&g=1", "display_name": "d-nnis", "link": "https://stackoverflow.com/users/1526136/d-nnis"}, "edited": false, "score": 0, "creation_date": 1527790878, "post_id": 50597864, "comment_id": 88270988, "body": "Cool. Very easy and straightforward. Thanks!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1527662314, "creation_date": 1527662314, "answer_id": 50597864, "question_id": 50597710, "link": "https://stackoverflow.com/questions/50597710/perl-pass-on-log4perl-object-to-module/50597864#50597864", "title": "Perl: Pass on (Log4perl-)object to module", "body": "<p>You can add a logger field to the object and store the logger there:</p>\n\n<pre><code>sub add_logger {\n    my ($self, $logger) = @_;\n    $self-&gt;{logger} = $logger;\n}\n</code></pre>\n\n<p>Which would be called like</p>\n\n<pre><code>$ro-&gt;add_logger($logger);\n</code></pre>\n\n<p>And you can then</p>\n\n<pre><code>$self-&gt;{logger}-&gt;warn(\"$file is not an image\");\n</code></pre>\n\n<p>Or you can provide the logger directly to the constructor.</p>\n"}], "owner": {"reputation": 71, "user_id": 1526136, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/VsoAQ.jpg?s=128&g=1", "display_name": "d-nnis", "link": "https://stackoverflow.com/users/1526136/d-nnis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 50597864, "answer_count": 1, "score": 0, "last_activity_date": 1527662314, "creation_date": 1527661758, "question_id": 50597710, "link": "https://stackoverflow.com/questions/50597710/perl-pass-on-log4perl-object-to-module", "title": "Perl: Pass on (Log4perl-)object to module", "body": "<p>I came to appreciate Log4perl and I would like to make use of it across the main Perl-script and (several) modules. How do I implement it, preferably in an OO-fashion?\nIs it possible to hook up the logger-object (of the main script) with the object of the module in order to fully log events that happen in the main script as well as events of the module('s object)?</p>\n\n<p>Say I've got something like this main-script:</p>\n\n<pre><code>use rotate_action;\nuse Log::Log4perl;\nmy $logger = get_logger();\nmy $appender_log = Log::Log4perl::Appender-&gt;new(\n    \"Log::Dispatch::File\",\n    filename =&gt; \"action.log\",\n    mode     =&gt; \"append\"\n);\n$logger-&gt;add_appender($appender_log);\n$logger-&gt;info(\"Logger activated\");\n\nuse rotate_action;\nmy $ro = Rotation-&gt;new; # package in rotate_action.pm\n#associate logger-object with ro-object here:\n$ro-&gt;$logger; # pseudo-code!\n\nmy $file \"somefile\";\n$logger-&gt;info(\"processing $file\");\n$ro-&gt;process_file(\"$file\");\n$logger-&gt;info(\"finished processing $file);\n</code></pre>\n\n<p>And a module <code>rotate_action</code> like this:</p>\n\n<pre><code>{\n    package Rotation;\n\n    sub new {\n        my $class = shift;\n        my $self = {};\n        bless $self, $class;\n        return $self;\n    }\n\n    sub process_file {\n        my $self = shift;\n        my $file = shift;\n\n        my $exec_string = \"identify -format \\\"orientation: %[orientation]\\ngeometry: %g\\n\\\"\";\n        $exec_string .= \" $file\";\n        my $exec_result = `$exec_string 2&gt;&amp;1`;\n        my $err_lvl = $?;\n        if ($err_lvl != 0) {\n            #put same logger-object from main script here:\n            $self-&gt;$logger-&gt;warn(\"$file is not an image\");  # pseudo-code!\n        } else {\n            #put same logger-object from main script here:\n            $self-&gt;$logger-&gt;info(\"rotate $file\");  # pseudo-code!\n            `rotate.sh $file`;\n        }\n    }\n}\n</code></pre>\n\n<p>How do I pass the logger-object on to the module in order to write to the same logfile (as configured in the main-script)?</p>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1527664538, "post_id": 50597544, "comment_id": 88206079, "body": "your regex match on line 4 is matching against the variable <code>$_</code> but you never put anything in <code>$_</code>.  You could use <code>shift</code> to grab the arguments one-by-one from <code>@ARGV</code>, but your code structure kind of assumes the values and the operator are all together in one string. You could dispense with the while loop altogether and do something like <code>$_ = &quot;@ARGV&quot;</code>, which will put all the values from <code>@ARGV</code> into one string with a single space between each value."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 9783033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u5f20\u5251\u6865", "link": "https://stackoverflow.com/users/9783033/%e5%bc%a0%e5%89%91%e6%a1%a5"}, "edited": false, "score": 0, "creation_date": 1527662376, "post_id": 50597682, "comment_id": 88204836, "body": "Hi, zdim! Thank you! You are right! I modified &lt;&gt; to @ARGV and updated my post, but it still reports error"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 67, "user_id": 9783033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u5f20\u5251\u6865", "link": "https://stackoverflow.com/users/9783033/%e5%bc%a0%e5%89%91%e6%a1%a5"}, "edited": false, "score": 0, "creation_date": 1527662458, "post_id": 50597682, "comment_id": 88204883, "body": "@\u5f20\u5251\u6865  See the end of my answer -- need <code>foreach (@ARGV)</code>, not <code>while</code>."}, {"owner": {"reputation": 67, "user_id": 9783033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u5f20\u5251\u6865", "link": "https://stackoverflow.com/users/9783033/%e5%bc%a0%e5%89%91%e6%a1%a5"}, "edited": false, "score": 0, "creation_date": 1527662544, "post_id": 50597682, "comment_id": 88204935, "body": "Hi zdim! I have tried this one, and this time it reports three &quot;syntax error&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 67, "user_id": 9783033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u5f20\u5251\u6865", "link": "https://stackoverflow.com/users/9783033/%e5%bc%a0%e5%89%91%e6%a1%a5"}, "edited": false, "score": 1, "creation_date": 1527662545, "post_id": 50597682, "comment_id": 88204936, "body": "@\u5f20\u5251\u6865  Also: normally you don&#39;t want to change the question to incorporate answers -- it makes those answers invalid :).  All this content is hoped to be useful for people who come later, so best leave the question as it was (apart from minor corrections or edits)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 67, "user_id": 9783033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u5f20\u5251\u6865", "link": "https://stackoverflow.com/users/9783033/%e5%bc%a0%e5%89%91%e6%a1%a5"}, "edited": false, "score": 0, "creation_date": 1527662642, "post_id": 50597682, "comment_id": 88204999, "body": "@\u5f20\u5251\u6865  Again: you need <code>foreach (@ARGV)</code>, <b>not <code>while</code></b>.  The way you have it right now nothing is assigned to <code>$_</code>, on which the match is done."}, {"owner": {"reputation": 67, "user_id": 9783033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u5f20\u5251\u6865", "link": "https://stackoverflow.com/users/9783033/%e5%bc%a0%e5%89%91%e6%a1%a5"}, "edited": false, "score": 0, "creation_date": 1527662785, "post_id": 50597682, "comment_id": 88205080, "body": "I have used foreach(@ARGV), and that is when three &quot;syntax error&quot; jumped out"}, {"owner": {"reputation": 67, "user_id": 9783033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u5f20\u5251\u6865", "link": "https://stackoverflow.com/users/9783033/%e5%bc%a0%e5%89%91%e6%a1%a5"}, "edited": false, "score": 0, "creation_date": 1527662935, "post_id": 50597682, "comment_id": 88205165, "body": "The remaining stay the same, I just modified the first line to &quot;foreach(@ARGV){&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 67, "user_id": 9783033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u5f20\u5251\u6865", "link": "https://stackoverflow.com/users/9783033/%e5%bc%a0%e5%89%91%e6%a1%a5"}, "edited": false, "score": 0, "creation_date": 1527663052, "post_id": 50597682, "comment_id": 88205242, "body": "@\u5f20\u5251\u6865 Alright, that was the most glaring error.  Now clean up your indentation, put closing curlies on a separate line, etc -- then you&#39;ll spot the other errors."}, {"owner": {"reputation": 67, "user_id": 9783033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u5f20\u5251\u6865", "link": "https://stackoverflow.com/users/9783033/%e5%bc%a0%e5%89%91%e6%a1%a5"}, "edited": false, "score": 0, "creation_date": 1527663374, "post_id": 50597682, "comment_id": 88205452, "body": "Sorry zdim, it seems the same, it couldn&#39;t identify the three arguments I want it to"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1567834781, "last_edit_date": 1567834781, "creation_date": 1527661662, "answer_id": 50597682, "question_id": 50597544, "link": "https://stackoverflow.com/questions/50597544/using-perl-to-create-a-simple-calculator/50597682#50597682", "title": "using perl to create a simple calculator", "body": "<p>The loop <code>while(@ARGV&gt;0)</code> doesn't assign to <code>$_</code> on which the regex match is done, so nothing is matched and the code goes to <code>else</code>. Also, <code>@ARGV</code> is never emptied so the code is in the infinite loop.</p>\n\n<p>The rest of the code is syntactically correct but has to be rewritten, since it iterates over words in input while the regex is written to process the whole of it. Either the processing needs to take each argument in turn, or the command line need be assembled into a string, for that regex.</p>\n\n<p>Further comments on the code in the question are posted further below.</p>\n\n<p>Let me offer a different approach</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Scalar::Util qw(looks_like_number);\n\nmy ($n1, $op, $n2) = @ARGV;\n\nmy $re_oper = qr{^(?:\\+|-|\\*|/)$};  #/\n\nusage() if @ARGV != 3\n    or not looks_like_number($n1) or not looks_like_number($n2)\n    or $op !~ $re_oper;\n\nmy %calculate = ( \n    '+' =&gt; sub { return $_[0] + $_[1] },\n    '-' =&gt; sub { return $_[0] - $_[1] },\n    '*' =&gt; sub { return $_[0] * $_[1] },\n    '/' =&gt; sub {\n        die \"Can't divide by zero\" if $_[1] == 0;\n        return $_[0] / $_[1] \n    },\n);\n\nsay $calculate{$op}-&gt;($n1, $n2);\n\nsub usage { \n    say STDERR \n        \"Usage: $0 number operator number\\n\",\n        \"The \\\"operator\\\" is one of +,-,\\\\*,/\\n\",\n        \"Note that multiplication (*) must be escaped at command line\";\n    exit;\n}\n</code></pre>\n\n<p>The arguments are copied and checked for errors using <code>looks_like_number</code> from <a href=\"https://perldoc.perl.org/5.8.9/Scalar/Util.html\" rel=\"nofollow noreferrer\">Scalar::Util</a>, and a regex. I prepare the regex pattern using the <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\"><code>qr</code> operator</a> so that it is specified separately, what makes testing, maintenance, and expansion easier.</p>\n\n<p>Then we define a hash with anonymous subroutines as values (they are <em>code references</em>, see item <strong>4.</strong> in <a href=\"https://perldoc.perl.org/perlref.html#Making-References\" rel=\"nofollow noreferrer\">Making references in perlref</a>), often called a <a href=\"https://en.wikipedia.org/wiki/Dispatch_table#Perl_implementation\" rel=\"nofollow noreferrer\"><em>dispatch table</em></a>. Thus  there is no need for a cascading <code>if-elsif</code> series: For a given key (the operator) the corresponding value is dereferenced and that subroutine runs.  </p>\n\n<p>The arguments are checked in one statement for brevity, but this is better done one by one so to be able to report to the user the exact error made (and quote input that caused it).</p>\n\n<hr>\n\n<p>A few more specifics on the posted code</p>\n\n<ul>\n<li><p>Captured pattern for the operator need be tested using <em>string</em> comparison, what is done with <code>eq</code> operator, not with <code>==</code>. See these <a href=\"https://perldoc.perl.org/perlop.html#Equality-Operators\" rel=\"nofollow noreferrer\">in perlop</a>.\nSo <code>if ($2 eq '+')</code> etc</p></li>\n<li><p>A regex match is by default done against the <a href=\"https://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\"><code>$_</code> variable</a>, the default for many things in Perl.  So there is no need to write <code>if ($_ =~ /.../)</code> but just <code>if (/.../)</code>. This is far clearer to read what justifies the (implicit) use of <code>$_</code></p></li>\n<li><p>Regex pattern <code>\\d</code> matches all kinds of digits, Unicode included. Better use <code>[0-9]</code></p></li>\n<li><p>The pattern <code>\\s</code> allows for <em>one</em> \"whitespace\" character.  If you combine the command line arguments into a string by <code>$input = join ' ', @ARGV;</code> (so to use regex on it) then that is fine. But it is still safer to allow for more spaces with <code>\\s+</code>.</p></li>\n<li><p>The <code>.</code> in regex matches any <em>one</em> character. This limits possible future expansion of the script, for example to raise to power <code>**</code> (etc). Consider allowing any characters between numbers, what is feasible as they are delimited on the command line by space.</p></li>\n<li><p>The pattern used for numbers matches only positive integers (while accidentally allowing the first one to be negative if a minus precedes it). The code above takes care of this by using <code>looks_like_number</code>, which utilizes all that Perl can do to recognize a number.</p></li>\n</ul>\n\n<hr>\n\n<p><em><strong>The question's original version</strong> had <code>while (&lt;&gt;)</code> for the loop, and the answer started with this</em>:</p>\n\n<p>The <a href=\"https://perldoc.perl.org/perlop.html#I/O-Operators\" rel=\"nofollow noreferrer\">\"diamond\" operator (<code>&lt;&gt;</code>)</a> reads from files submitted on the command line</p>\n\n<blockquote>\n  <p>Input from <code>&lt;&gt;</code> comes either from standard input, or from each file listed on the command line.</p>\n</blockquote>\n\n<p>so your input <code>5 + 2</code> is taken to be filenames <code>5</code> and <code>+</code> and <code>2</code>, and such files don't exist.</p>\n\n<p>There is more complexity to this operator, about which one can read in the documentation.</p>\n\n<p>The command line arguments can be accessed in <a href=\"https://perldoc.perl.org/perlvar.html#ARGV\" rel=\"nofollow noreferrer\">@ARGV</a>, so the simplest solution is to replace the <code>while (&lt;&gt;)</code> with <code>foreach (@ARGV)</code> and then process term by term.</p>\n"}], "owner": {"reputation": 67, "user_id": 9783033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u5f20\u5251\u6865", "link": "https://stackoverflow.com/users/9783033/%e5%bc%a0%e5%89%91%e6%a1%a5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1163, "favorite_count": 0, "accepted_answer_id": 50597682, "answer_count": 1, "score": 2, "last_activity_date": 1567834781, "creation_date": 1527661092, "last_edit_date": 1527701401, "question_id": 50597544, "link": "https://stackoverflow.com/questions/50597544/using-perl-to-create-a-simple-calculator", "title": "using perl to create a simple calculator", "body": "<p>I need to design a simple calculator in Perl called ex1.pl with only <code>+</code>, <code>-</code>, <code>*</code>, and <code>/</code> functions. Below is what I have.</p>\n\n<pre><code>while (@ARGV&gt;0) {\n    if ($_=~m/(\\d+)\\s(.)\\s(\\d+)/) {\n        if ($2 == \"+\") {\n            print \"$1 + $3\\n\";\n        }   \n        elsif ($2 == \"-\") {\n            print \"$1 - $3\\n\";\n        }   \n        elsif ($2 == \"*\") {\n            print \"$1 * $3\\n\";\n        }   \n        elsif ($2 == \"/\") {\n            if ($3 == 0 ) { \n                print \"$1 cannot be divided by 0\\n\";\n            }   \n            else {\n                print \"$1 / $3\\n\";\n            }   \n        }   \n        else {\n            print \"operator not identified\\n\";\n        }\n    }   \n    else {\n        print \"syntax error\\n\";\n    }   \n}\n</code></pre>\n\n<p>For example, if I type <code>./ex1.pl 5 + 2</code>, It keeps reporting errors that</p>\n\n<pre>\nUse of uninitialized value in pattern match (m//) at line 4\n</pre>\n\n<p>until I press ctrl + c.  Can anyone help me identify where I did wrong??</p>\n"}, {"tags": ["json", "regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1527674187, "post_id": 50596824, "comment_id": 88212475, "body": "It&#39;s probably worth noting - parsing at as JSON means you don&#39;t get caught out by the nested data structures that JSON supports. Regex is an entirely inappropriate tool for this job. E.g. <code>virtual_machines</code> is a list, and if you&#39;re parsing badly, a machine called <code>&quot;limit&quot;</code> (or with a &quot;limit&quot; property) might cause real problems."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 5, "last_activity_date": 1527657469, "creation_date": 1527657469, "answer_id": 50596824, "question_id": 50596570, "link": "https://stackoverflow.com/questions/50596570/how-to-convert-a-string-to-hash-in-perl-without-using-regex-or-split/50596824#50596824", "title": "How to convert a string to hash in perl without using regex or split", "body": "<p>That string is in JSON format. I'd simply do</p>\n\n<pre><code>use strict;\nuse warnings;\nuse JSON::PP qw(decode_json);\n\nmy $output = '{\"offset\":0,\"limit\":500,\"count\":0,\"virtual_machines\":[]}';\nmy $data = decode_json $output;\n\nprint $data-&gt;{count}, \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1527658015, "post_id": 50596880, "comment_id": 88202898, "body": "Don&#39;t do <code>sudo cpan</code>. Why get <code>JSON::Parse</code> from CPAN if <code>JSON::PP</code> is a core module? Why recommend <code>JSON::Parse</code> at all? Its Unicode handling is broken by design. Why are you not using <code>warnings</code> and <code>strict</code>?"}, {"owner": {"reputation": 130, "user_id": 5999176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4c5259acf8cc49519a713568fc51a4d?s=128&d=identicon&r=PG&f=1", "display_name": "davernator", "link": "https://stackoverflow.com/users/5999176/davernator"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1527792352, "post_id": 50596880, "comment_id": 88271709, "body": "@melpomene, my example works. Did you downgrade me from 0 to -3 for a working example? If you know of an improvement, fine. But if you think JSON::Parse is &quot;broken by design&quot;, then say so in the CPAN documentation for JSON::Parse. I don&#39;t see any issue there, open or closed, with your name. I don&#39;t believe your handling of my comment is in the intended spirit of stackoverflow."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1527836550, "post_id": 50596880, "comment_id": 88285538, "body": "I did not downvote you to -3. I only have one vote, like everyone else. In my comment I brought up four separate issues. You&#39;ve addressed none of them (by either changing your code or telling me why I&#39;m mistaken). As for the JSON::Parse documentation, see <a href=\"https://metacpan.org/pod/JSON::Parse#UTF-8-only\" rel=\"nofollow noreferrer\">here</a>: &quot;<i>JSON::Parse only parses the UTF-8 format [...] <code>my $input_utf8 = decode (&#39;UTF-16&#39;, $input); my $perl = parse_json ($input_utf8);</code></i>&quot;, which shows a fundamental misunderstanding of encodings. It&#39;s unclear if <code>parse_json</code> takes UTF-8 (i.e. bytes in an encoding) or a decoded text string."}, {"owner": {"reputation": 130, "user_id": 5999176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4c5259acf8cc49519a713568fc51a4d?s=128&d=identicon&r=PG&f=1", "display_name": "davernator", "link": "https://stackoverflow.com/users/5999176/davernator"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1527895670, "post_id": 50596880, "comment_id": 88314965, "body": "JSON::PP seems like a preferable approach. But it seemed to me that the essential point is that the output shown looks like JSON, and that there are existing Perl packages to handle that. Dumper still leaves you with parsing to do. The question does not go into UTF-XXX, although it could certainly be relevant in production. If it were actually claimed that the output is JSON, then we might want some error detection logic as well. I guess the other downvotes did not comment? BTW, I think we added our answers at almost the same time, since I didn&#39;t see yours when I started, but did when I saved."}], "tags": [], "owner": {"reputation": 130, "user_id": 5999176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4c5259acf8cc49519a713568fc51a4d?s=128&d=identicon&r=PG&f=1", "display_name": "davernator", "link": "https://stackoverflow.com/users/5999176/davernator"}, "is_accepted": false, "score": -3, "last_activity_date": 1527657800, "creation_date": 1527657800, "answer_id": 50596880, "question_id": 50596570, "link": "https://stackoverflow.com/questions/50596570/how-to-convert-a-string-to-hash-in-perl-without-using-regex-or-split/50596880#50596880", "title": "How to convert a string to hash in perl without using regex or split", "body": "<p>If all colons are just separators, then you can replace them with '=>'s and eval the string.\nThat's probably unrealistic, though. So you can use JSON ... looks like the string is in JSON format. Try the following (worked for me :-):</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse JSON::Parse 'parse_json';\n\n# the string is JSON\nmy $jstr = '{\"offset\":0,\"limit\":500,\"count\":0,\"virtual_machines\":[]}';\n\n# oversimplified (not using json ... o.k. if no colons anywhere but as separators\nmy $sstr = $jstr;\n$sstr =~ s/:/=&gt;/g;\nmy $href = eval \"$sstr\";\nprintf(\"From oversimplified eval, limit == %d\\n\", $href-&gt;{limit});\n\n# using JSON (looks like string is in JSON format).\n# get JSON::Parse from CPAN (sudo cpan JSON::Parse)\nmy $jref = parse_json($jstr);\nprintf(\"From JSON::Parse, limit == %d\\n\", $jref-&gt;{limit});\n\n1;\n</code></pre>\n\n<p><br>Output:<br><br>\nFrom oversimplified eval, limit == 500<br>\nFrom JSON::Parse, limit == 500</p>\n"}], "owner": {"reputation": 980, "user_id": 2486083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/pZudJ.jpg?s=128&g=1", "display_name": "Chetan", "link": "https://stackoverflow.com/users/2486083/chetan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 50596824, "answer_count": 2, "score": 0, "last_activity_date": 1527657800, "creation_date": 1527655702, "last_edit_date": 1527657763, "question_id": 50596570, "link": "https://stackoverflow.com/questions/50596570/how-to-convert-a-string-to-hash-in-perl-without-using-regex-or-split", "title": "How to convert a string to hash in perl without using regex or split", "body": "<p>I have a function i cannot control which returns a string which is acutally a hash. It looks something like below:</p>\n\n<pre><code>{\"offset\":0,\"limit\":500,\"count\":0,\"virtual_machines\":[]}\n</code></pre>\n\n<p>I need to check if the count is greater than 0. Because the output is a string and not a hash, i am trying to split the string and get the output from it.</p>\n\n<p>The snippet for the same is below:</p>\n\n<pre><code>my $output = '{\"offset\":0,\"limit\":500,\"count\":0,\"virtual_machines\":[]}';\n$output =~ s/ +/ /g;\nmy @words = split /[:,\"\\s\\/]+/, $output;\nprint Dumper(@words);\n</code></pre>\n\n<p>The output for this is:</p>\n\n<pre><code>$VAR1 = '{';\n$VAR2 = 'offset';\n$VAR3 = '0';\n$VAR4 = 'limit';\n$VAR5 = '500';\n$VAR6 = 'count';\n$VAR7 = '0';\n$VAR8 = 'virtual_machines';\n$VAR9 = '[]}';\n</code></pre>\n\n<p>Now, i can get the value $VAR7 and get the count.</p>\n\n<p>Is there a way to convert a string to hash and then use the keys to get the values instead of using regex and split. Can someone help me out here!</p>\n"}, {"tags": ["python", "perl", "comments"], "comments": [{"owner": {"reputation": 8201, "user_id": 3690024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2d5067f52318f0ed4db9eca0b2cda1?s=128&d=identicon&r=PG", "display_name": "AJNeufeld", "link": "https://stackoverflow.com/users/3690024/ajneufeld"}, "edited": false, "score": 0, "creation_date": 1527650323, "post_id": 50595827, "comment_id": 88200870, "body": "You could place everything into a <code>&quot;&quot;&quot;...triple-double-quoted multiline string ...&quot;&quot;&quot;</code>, and then don&#39;t use the string.  If you are using triple-double-quoted strings already, then use a <code>&#39;&#39;&#39;...triple-single-quoted multiline string...&#39;&#39;&#39;</code>"}, {"owner": {"reputation": 6964, "user_id": 1424739, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/19d3c927744b5ad3b94afbf88e1c3844?s=128&d=identicon&r=PG", "display_name": "user1424739", "link": "https://stackoverflow.com/users/1424739/user1424739"}, "reply_to_user": {"reputation": 8201, "user_id": 3690024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2d5067f52318f0ed4db9eca0b2cda1?s=128&d=identicon&r=PG", "display_name": "AJNeufeld", "link": "https://stackoverflow.com/users/3690024/ajneufeld"}, "edited": false, "score": 0, "creation_date": 1527651237, "post_id": 50595827, "comment_id": 88201061, "body": "So there is no equivalent of <code>__END__</code> in python?"}], "owner": {"reputation": 6964, "user_id": 1424739, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/19d3c927744b5ad3b94afbf88e1c3844?s=128&d=identicon&r=PG", "display_name": "user1424739", "link": "https://stackoverflow.com/users/1424739/user1424739"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "closed_date": 1527651007, "answer_count": 0, "score": 1, "last_activity_date": 1527649835, "creation_date": 1527649835, "question_id": 50595827, "link": "https://stackoverflow.com/questions/50595827/is-there-something-similar-to-end-of-perl-in-python", "closed_reason": "Duplicate", "title": "Is there something similar to __END__ of perl in python?", "body": "<p>Perl has <code>__END__</code> which treats everything below it as comments (even there are syntax error). Is there something similar to it in python?</p>\n\n<pre><code>$ cat ./main.pl \n#!/usr/bin/env perl\n\nprint \"Hello World!\\n\";\n\n__END__\n\nxyz\n</code></pre>\n"}, {"tags": ["html", "perl", "web-scraping", "text-extraction"], "answers": [{"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 3, "last_activity_date": 1527664783, "creation_date": 1527664783, "answer_id": 50598606, "question_id": 50595807, "link": "https://stackoverflow.com/questions/50595807/perl-htmllinkextractor-returns-different-links-on-different-calls/50598606#50598606", "title": "Perl HTML::LinkExtractor returns different links on different calls", "body": "<p>In this line, you are trying to combine an <code>each</code>-iterator with a for-each loop. Despite their similar names, those are incompatible:</p>\n\n<pre><code>foreach (my( $key, $val ) = each $p) {\n    print($key . \"---&gt;\" . $val . \"\\n\");\n}\n</code></pre>\n\n<p>This gets the next key-value item from <code>%$p</code>'s iterator, and assigns the two-item list <code>($key, $val)</code>. Then, the <code>foreach</code> loops over these two items. That's why you always see the same two values twice. Because the order of iteration with <code>each</code> is undefined, you only see a random entry from the <code>%$p</code> hash.</p>\n\n<p>To fix this:</p>\n\n<p>Either, use a while-loop to use the <code>each</code>-iterator:</p>\n\n<pre><code>while (my ($key, $val) = each %$p) {\n    print \"$key---&gt;$val\\n\";\n}\n</code></pre>\n\n<p>Or, use a foreach loop over the keys:</p>\n\n<pre><code>for my $key (keys %$p) {\n    my $val = $p-&gt;{$key};\n    print \"$key---&gt;$val\\n\";\n}\n</code></pre>\n\n<p>I prefer the for/foreach loop because this allows us to sort the keys in a stable order, instead of relying on the undefined iteration order of a hash:</p>\n\n<pre><code>for my $key (sort keys %$p) {\n    my $val = $p-&gt;{$key};\n    print \"$key---&gt;$val\\n\";\n}\n</code></pre>\n\n<p>This should then always produce identical output for identical input documents.</p>\n\n<p>As zdim noted in their answer, you should not pass scalars like <code>$p</code> to operators like <code>keys</code> or <code>each</code>, but should dereference it to a hash like <code>each %$p</code>. Otherwise, your code will not work on up to date versions of Perl.</p>\n"}], "owner": {"reputation": 3262, "user_id": 1964707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/at9Qr.jpg?s=128&g=1", "display_name": "Mindaugas Bernatavi\u010dius", "link": "https://stackoverflow.com/users/1964707/mindaugas-bernatavi%c4%8dius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 50598606, "answer_count": 1, "score": 0, "last_activity_date": 1527664783, "creation_date": 1527649647, "question_id": 50595807, "link": "https://stackoverflow.com/questions/50595807/perl-htmllinkextractor-returns-different-links-on-different-calls", "title": "Perl HTML::LinkExtractor returns different links on different calls", "body": "<p>I'm trying to extract all the images from a HTML document (downloaded from the web and turned into a string (scalar)), and I'm using HTML::LinkExtractor cpan lib.</p>\n\n<p>I'm passing the same HTML, but getting different links extracted.</p>\n\n<p><strong>Question:</strong> why is that the case and how can I fix this?</p>\n\n<p>Code:</p>\n\n<pre><code>my $LX = new HTML::LinkExtractor();\n# print($_[0] . \"\\n\\n\"); &lt;--- Prints the same HTML document every time\n$LX-&gt;parse(\\$_[0]);\n\nfor my $p ( @{$LX-&gt;links()} ){\n    # Need to iterate though all the\n    # values, since images can be hidden\n    # in _TEXT w/o any img tag, etc.\n    foreach (my( $key, $val ) = each $p) {\n        print($key . \"---&gt;\" . $val . \"\\n\"); &lt;--- Prints different values\n</code></pre>\n\n<p>First output:</p>\n\n<pre><code>$ ./HTMLPictureScraper.pl http://dustyfeet.com/\n/---&gt;/\n/---&gt;/\nhref---&gt;http://dustyfeetonline.com\nhref---&gt;http://dustyfeetonline.com\ntarget---&gt;_top\ntarget---&gt;_top\nhref---&gt;http://www.nytimes.com/2006/08/28/technology/28link.html?scp=6&amp;sq=%22stuart%20frankel%22&amp;st=cse\nhref---&gt;http://www.nytimes.com/2006/08/28/technology/28link.html?scp=6&amp;sq=%22stuart%20frankel%22&amp;st=cse\ntarget---&gt;_top\ntarget---&gt;_top\ntag---&gt;a\ntag---&gt;a\nhref---&gt;./evil/evil.html\nhref---&gt;./evil/evil.html\n_TEXT---&gt;&lt;a\n href=\"./pangan/index.html\"&gt;Warung Seniman&lt;/a&gt;\n_TEXT---&gt;&lt;a\n href=\"./pangan/index.html\"&gt;Warung Seniman&lt;/a&gt;\nhref---&gt;./santanyi_registration.html\nhref---&gt;./santanyi_registration.html\nhref---&gt;mailto:gecko@dustyfeet.com\nhref---&gt;mailto:gecko@dustyfeet.com\n</code></pre>\n\n<p>Second output:</p>\n\n<pre><code>$ ./HTMLPictureScraper.pl http://dustyfeet.com/\ncontent---&gt;1vLCRPR1SHmiCICnhWfD7jtpOOSHe79iILqzDkGBUg0=\ncontent---&gt;1vLCRPR1SHmiCICnhWfD7jtpOOSHe79iILqzDkGBUg0=\ntag---&gt;a\ntag---&gt;a\nhref---&gt;notuncnj.html\nhref---&gt;notuncnj.html\ntag---&gt;a\ntag---&gt;a\ntag---&gt;a\ntag---&gt;a\ntag---&gt;a\ntag---&gt;a\ntag---&gt;a\ntag---&gt;a\ntag---&gt;a\ntag---&gt;a\ntag---&gt;a\ntag---&gt;a\nhref---&gt;mailto:gecko@dustyfeet.com\nhref---&gt;mailto:gecko@dustyfeet.com\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527651735, "post_id": 50595707, "comment_id": 88201180, "body": "This is pretty straight forward in perl.  Read the file in as a long string.  Search for <code>*** ... *** ... END</code> blocks using a regular expression.  For each block, save it to a file.  If the file is huge or doesn&#39;t fit easily into memory, you can build up your blocks line-by-line and then save them when you  hit the END keyword.  What code have you tried?"}, {"owner": {"reputation": 45, "user_id": 7892746, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/41310627d746b07402b15829c958043e?s=128&d=identicon&r=PG&f=1", "display_name": "mmaz", "link": "https://stackoverflow.com/users/7892746/mmaz"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527660199, "post_id": 50595707, "comment_id": 88203739, "body": "I just started by reading the file as long string using  &#39;local $/=undef;&#39; but then i am not familiar on how to find matching block using the regular expression."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527660424, "post_id": 50595707, "comment_id": 88203849, "body": "<code>my @matches = $txt =~ m|(some string .+? some other string)|g</code>  have a read of <a href=\"https://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlretut.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7892746, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/41310627d746b07402b15829c958043e?s=128&d=identicon&r=PG&f=1", "display_name": "mmaz", "link": "https://stackoverflow.com/users/7892746/mmaz"}, "edited": false, "score": 0, "creation_date": 1527819538, "post_id": 50606747, "comment_id": 88280547, "body": "Hi, i did try the solution you gave, however, errors occured in line 23:     if ( exists $required_cells{ $cell } ) . The errors shown: Use of uninitialized value in exists at test.pl line 23, &lt;$fh&gt; line 1. Use of uninitialized value in concatenation (.) or string at test.pl line 23, &lt;$fh&gt; line 1. Cell [  ] is required Use of uninitialized value in concatenation (.) or string at test.pl line 23, &lt;$fh&gt; line 1. ==&gt; Created .txt"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 45, "user_id": 7892746, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/41310627d746b07402b15829c958043e?s=128&d=identicon&r=PG&f=1", "display_name": "mmaz", "link": "https://stackoverflow.com/users/7892746/mmaz"}, "edited": false, "score": 0, "creation_date": 1527820574, "post_id": 50606747, "comment_id": 88280740, "body": "Looks like <code>$cell</code> didn&#39;t get set.  Print out $group and see what it should be, probably the <code>\\w+</code> ( match word characters ) failed, you may need to adjust the regular expression to something else.  Add <code>defined $cell or die $group;</code> before the <code>if</code> expression."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1527689058, "creation_date": 1527689058, "answer_id": 50606747, "question_id": 50595707, "link": "https://stackoverflow.com/questions/50595707/how-to-get-all-info-regarding-the-cell-based-on-cell-list-txt/50606747#50606747", "title": "How to get all info regarding the cell, based on cell_list.txt", "body": "<p>You need to actually read in the file first, instead of trying to perform a regex match on an empty string.  Iterate over the other file to populate a hash, and use hash membership to decide whether to print out a section into a new file.  You can use <code>\\Q</code> and <code>\\E</code> inside the regex to make a literal match.  The trailing <code>/s</code> regex flag treats the string like one long line.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $file = 'allcells.txt';\nmy $list = 'cell_list.txt';\n\nmy %required_cells;\nopen my $fhrc, \"&lt;$list\"\n    or die \"Unable to open '$list' : $!\";\nwhile ( my $line = &lt;$fhrc&gt; ) {\n    chomp($line);\n    $required_cells{ $line } = 1;\n}\n\nopen my $fh, \"&lt;$file\"\n    or die \"Unable to open '$file' : $!\";\nmy $allcells_txt = do { local $/; &lt;$fh&gt; }; # Slurp file into a string\n\nmy @matches = $allcells_txt =~ m|\\Q*****\\E.+?\\Q*****\\E.+?END|gs;\nfor my $group (@matches) {\n    my ($cell) = $group =~ m|Cell: (\\w+)|s;\n    if ( exists $required_cells{ $cell } ) {\n        print \"Cell [ $cell ] is required\\n\";\n        my $out_name = \"$cell.txt\";\n        open my $out, \"&gt;$out_name\"\n            or die \"Unable to open '$out_name' for writing : $!\";\n        print $out \"$group . \"\\n\";\n        close $out\n            or die \"Unable to close '$out_name' : $!\";\n        print \"==&gt; Created $out_name\\n\";\n    } else {\n        print \"Skipping $cell\\n\";\n    }\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Cell [ cell_abc ] is required\n==&gt; Created cell_abc.txt\nSkipping cell_acdd\nCell [ cell_acde ] is required\n==&gt; Created cell_acde.txt\nCell [ c_swer ] is required\n==&gt; Created c_swer.txt\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 7892746, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/41310627d746b07402b15829c958043e?s=128&d=identicon&r=PG&f=1", "display_name": "mmaz", "link": "https://stackoverflow.com/users/7892746/mmaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1597390092, "creation_date": 1527648684, "last_edit_date": 1597390092, "question_id": 50595707, "link": "https://stackoverflow.com/questions/50595707/how-to-get-all-info-regarding-the-cell-based-on-cell-list-txt", "title": "How to get all info regarding the cell, based on cell_list.txt", "body": "<p>In this case, I have two files, cell_list.txt and allcells.txt. In cell_list.txt were listed cell names that required. \nFor example:</p>\n\n<pre><code>cell_abc\ncell_acde\nc_swer\n</code></pre>\n\n<p>Then, i have allcells.txt which show the details of all cells which more that 100 cells details. I found that the pattern seems to be quite same which all cell details starts with ***** and ends with 'END'. For example:</p>\n\n<pre><code>*****\nLib: lib_a\nCell: cell_abc\n*****\ninfo absw ...\ninfo swea ...\nEND\n\n*****\nLib: lib_a\nCell: cell_acdd\n*****\ninfo awee ...\ninfo awod ...\ninfo acwe ...\nEND\n\n*****\nLib: lib_b\nCell: cell_acde\n*****\ninfo wseo ...\ninfo poee ...\ninfo awec ...\nEND\n\n*****\nLib: lib_b\nCell: c_swer\n*****\ninfo rtoe ...\ninfo swkt ...\nEND\n</code></pre>\n\n<p>I need to get all the details based on cell listed in cell_list.txt and somehow copy to a new file for each cell, cellname.txt. Is there any way to make this works using csh or perl? Expected output as below.</p>\n\n<p>Content of cell_abc.txt:</p>\n\n<pre><code>*****\nLib: lib_a\nCell: cell_abc\n*****\ninfo absw ...\ninfo swea ...\nEND\n</code></pre>\n\n<p>Content of cell_acde.txt:</p>\n\n<pre><code>*****\nLib: lib_b\nCell: cell_acde\n*****\ninfo wseo ...\ninfo poee ...\ninfo awec ...\nEND\n</code></pre>\n\n<p>Content of c_swer.txt:</p>\n\n<pre><code>*****\nLib: lib_b\nCell: c_swer\n*****\ninfo rtoe ...\ninfo swkt ...\nEND\n</code></pre>\n\n<p>This is roughly on what i have on my script now as i am not familiar with perl.</p>\n\n<pre><code>#!/usr/bin/perl     \nuse strict;\nuse warnings;\n\nmy $file = 'allcells.txt';\nmy $list = 'cell_list.txt';\nmy $string;\nmy @matches = $file =~ m/(^\\* .+? END)/g;\n{\n  local $/=undef;\n  open FILE, $file or die \"Couldn't open file: $!\";\n  $string = &lt;FILE&gt;;\n  close FILE;\n\n        while(&lt;&gt;){\n        if ($string = @matches) #how to check on cell_list.txt if the cell is listed in the file or not before checking the matching string.\n        {\n                print $string; #how to extract and print the matching string to new file which will be named based on the cell name listed in cell_list.txt\n        }\n       }\n}\n</code></pre>\n"}, {"tags": ["windows", "perl", "csv"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527627520, "post_id": 50592778, "comment_id": 88195044, "body": "From what I see <code>Class::CSV</code> is a different module that uses <code>Text::CSV_XS</code>.  Did you check that <code>Text::CSV</code> itself is installed?  (And then try with just <code>use Text::CSV;</code> line)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1527627672, "post_id": 50592778, "comment_id": 88195096, "body": "<code>Class::CSV</code> should be located in <code>...\\Class\\CSV.pm</code>."}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527628498, "post_id": 50592778, "comment_id": 88195434, "body": "@zdim: How can I check if Text::CSV is installed ?"}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1527628503, "post_id": 50592778, "comment_id": 88195437, "body": "@choroba: I found CSV.pm in these 3 different locations, but I don&#39;t see a Class folder: C:\\Perl64\\lib\\SQL\\Dialects\\CSV.pm, C:\\Perl64\\lib\\DBD\\CSV.pm and C:\\Perl64\\lib\\Bundle\\DBD\\CSV.pm."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527628616, "post_id": 50592778, "comment_id": 88195493, "body": "Remove the first two <code>use ...</code> lines in your example above, leaving only <code>use Text::CSV;</code> -- then run the program.  If all is well it will do nothing, if the module is missing it will give you errors."}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527628965, "post_id": 50592778, "comment_id": 88195609, "body": "@zdim I removed all the lines from the top, and only have use Text::CSV; I am still getting the same error"}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527629407, "post_id": 50592778, "comment_id": 88195790, "body": "@zdim The error now is &quot;Can&#39;t locate Text/CSV.pm in..&quot;"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1527629905, "post_id": 50592778, "comment_id": 88195981, "body": "@faujong It&#39;s because you need to install the Text::CSV module. Neither SQL::Dialects::CSV nor DBD::CSV is Text::CSV."}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1527630458, "post_id": 50592778, "comment_id": 88196194, "body": "@Matt Jacob Thank you. I installed TEXT:CSV module from <a href=\"https://code.activestate.com/ppm/Text-CSV\" rel=\"nofollow noreferrer\">code.activestate.com/ppm/Text-CSV</a>, and now it works. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527629067, "post_id": 50592870, "comment_id": 88195658, "body": "I only have Text::CSV; at the top of my Perl script, and still getting the same error  &quot;Can&#39;t locate Class/CSV.pm in..&quot;"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527629309, "post_id": 50592870, "comment_id": 88195751, "body": "Are you sure you&#39;re editing the right file? The only way you&#39;ll get <code>Can&#39;t locate Class&#47;CSV.pm</code> is from <code>use Class::CSV</code>."}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527629373, "post_id": 50592870, "comment_id": 88195778, "body": "I am so sorry.. the error now is &quot;Can&#39;t locate Text/CSV.pm in..&quot;"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 1, "creation_date": 1527629401, "post_id": 50592870, "comment_id": 88195788, "body": "Then you need to install Text::CSV, like it says."}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527630469, "post_id": 50592870, "comment_id": 88196200, "body": "Thank you. I installed TEXT:CSV module from <a href=\"https://code.activestate.com/ppm/Text-CSV\" rel=\"nofollow noreferrer\">code.activestate.com/ppm/Text-CSV</a>, and now it works. Thank you."}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 1, "last_activity_date": 1527627662, "creation_date": 1527627662, "answer_id": 50592870, "question_id": 50592778, "link": "https://stackoverflow.com/questions/50592778/cant-locate-class-csv-pm-in-inc/50592870#50592870", "title": "Can&#39;t locate Class/CSV.pm in @INC", "body": "<ol>\n<li><p>Remove the <code>use lib</code> line from your program. It is incorrect, and will have no effect.</p></li>\n<li><p>Remove <code>use Class::CSV</code> as well. This module isn't installed on your computer, and you shouldn't install it. It is a very old, weird wrapper around <code>Text::CSV</code> and serves very little purpose; just use <code>Text::CSV</code> directly.</p></li>\n</ol>\n"}], "owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527627662, "creation_date": 1527627214, "question_id": 50592778, "link": "https://stackoverflow.com/questions/50592778/cant-locate-class-csv-pm-in-inc", "title": "Can&#39;t locate Class/CSV.pm in @INC", "body": "<p>I am trying to use Text::CSV in my Perl codes on Windows, but it gives me error \"Can't locate Class/CSV.pm in @INC (You may need to install the class:CSV module\"). (@INC contains C:\\Perl64\\site\\lib C:\\Perl64\\lib.)</p>\n\n<p>I found CSV.pm in 3 different location: C:\\Perl64\\lib\\SQL\\Dialects\\CSV.pm, C:\\Perl64\\lib\\DBD\\CSV.pm and C:\\Perl64\\lib\\Bundle\\DBD\\CSV.pm. </p>\n\n<p>I then used lib command in the program itself to add the search path like the below, but still get the same error : </p>\n\n<pre><code>#!/usr/bin/env perl \nuse lib 'C:\\Perl64\\lib\\Bundle\\DBD'; \nuse Class::CSV; \nuse Text::CSV;\n</code></pre>\n\n<p>How can I fix this error ?\nThank you.</p>\n"}, {"tags": ["perl", "powershell", "csv", "compare", "diff"], "comments": [{"owner": {"reputation": 1263, "user_id": 3930238, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a9c9faf19d9f61262e728974b5537125?s=128&d=identicon&r=PG&f=1", "display_name": "jrider", "link": "https://stackoverflow.com/users/3930238/jrider"}, "edited": false, "score": 1, "creation_date": 1527619152, "post_id": 50590776, "comment_id": 88191129, "body": "In Powershell you would need to Import the csv using <code>Import-CSV</code> . Then you can compare using <code>Compare-Object</code>. From there you can <code>Export-CSV</code> (or whatever format you wish). If you want to filter out the matches you want you can use <code>| Where-Object</code> . That should give you a good starting point. Once you have attempted your own solution, and you are stuck update your OP with your updated script. Then we can help you."}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "reply_to_user": {"reputation": 1263, "user_id": 3930238, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a9c9faf19d9f61262e728974b5537125?s=128&d=identicon&r=PG&f=1", "display_name": "jrider", "link": "https://stackoverflow.com/users/3930238/jrider"}, "edited": false, "score": 0, "creation_date": 1527620836, "post_id": 50590776, "comment_id": 88191946, "body": "Thank you for your reply. I have tried using Compare-Object before, but because the file is large, it used up all the RAM on my machine and never finished. Is there any other way to do this, for example using Perl ? The above Perl Script works, except I only want new &quot;Name&quot; rows."}, {"owner": {"reputation": 1263, "user_id": 3930238, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a9c9faf19d9f61262e728974b5537125?s=128&d=identicon&r=PG&f=1", "display_name": "jrider", "link": "https://stackoverflow.com/users/3930238/jrider"}, "edited": false, "score": 0, "creation_date": 1527621200, "post_id": 50590776, "comment_id": 88192114, "body": "If you creating the output in Perl, I would assume keeping with Perl would be your best option. Some kind of condition to build your desired output would probably be what you are looking for.  Unfortunately, I am not versed enough on Perl to provide you with the best path to your solution using Perl."}, {"owner": {"reputation": 8928, "user_id": 6788803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sNRMz.png?s=128&g=1", "display_name": "BenH", "link": "https://stackoverflow.com/users/6788803/benh"}, "edited": false, "score": 1, "creation_date": 1527621249, "post_id": 50590776, "comment_id": 88192134, "body": "Here&#39;s <a href=\"https://blogs.technet.microsoft.com/ashleymcglone/2017/08/07/use-hash-tables-to-go-faster-than-powershell-compare-object/\" rel=\"nofollow noreferrer\">a post by Ashley McGlone using hashtables</a> that may fit your use case."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527622599, "post_id": 50590776, "comment_id": 88192751, "body": "How big exactly are these &quot;large files&quot;? Are they sorted? I think it&#39;s clear that it is beyond <code>Text::Diff</code> to compare individual fields of a CSV file, and you will need to code something specific."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527622791, "post_id": 50590776, "comment_id": 88192844, "body": "Do you really need to output fields other than <code>Name</code>, given that the others may have multiple values and you can display only one?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527622931, "post_id": 50590776, "comment_id": 88192896, "body": "Do you also want to display values that are in <code>File1.csv</code> but not in <code>File2.csv</code>, or is <code>File1.csv</code> always a subset of the possible values?"}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "reply_to_user": {"reputation": 8928, "user_id": 6788803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sNRMz.png?s=128&g=1", "display_name": "BenH", "link": "https://stackoverflow.com/users/6788803/benh"}, "edited": false, "score": 0, "creation_date": 1527623836, "post_id": 50590776, "comment_id": 88193340, "body": "@BenH To use Ashley McGlone&#39;s solution, how can I output the &quot;new&quot; rows in file2.txt to another file ? Basically how to put $DifHash into another file ? for ex: Measure-Command -Expression {    Compare-Object2 -ReferenceObject (Get-Content c:\\file1.txt) -DifferenceObject (Get-Content c:\\file2.txt) -IncludeEqual} | Export-csv &quot;c:\\Diff.csv&quot;"}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527624058, "post_id": 50590776, "comment_id": 88193438, "body": "@Borodin Thank you. The 2 files are about 150 Mg each. Text::Diff does work, but it lists all rows when any values in the rows are different between file1 and file2. And, I only want to list those new &quot;Name&quot; rows. I do want to output all other fields other than Name. In my example, in the output file, I want to list the Name, DOB and Address fields for Name &quot;Three&quot;. I want to display values that are only in File2, but not in File1."}, {"owner": {"reputation": 8928, "user_id": 6788803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sNRMz.png?s=128&g=1", "display_name": "BenH", "link": "https://stackoverflow.com/users/6788803/benh"}, "edited": false, "score": 0, "creation_date": 1527628217, "post_id": 50590776, "comment_id": 88195314, "body": "@faujong To answer your output question, you would filter with <code>Where-Object {$_.sideindicator -eq &#39;=&gt;&#39;} | Select -Expand InputObject | out-file C:\\diff.csv</code>. But my comment was merely meant to suggest Hashtables as this doesn&#39;t meet your needs as it will compare the full row and requires additional processing. kuujinbo&#39;s answer is a full and efficient implementation using a hashtable to compare against."}], "answers": [{"comments": [{"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527626190, "post_id": 50591957, "comment_id": 88194435, "body": "Thank you zdim. It gives me error &quot;Can&#39;t locate Class/CSV.pm in @INC..&quot; I found CSV.pm in 3 different location: C:\\Perl64\\lib\\SQL\\Dialects\\CSV.pm, C:\\Perl64\\lib\\DBD\\CSV.pm and C:\\Perl64\\lib\\Bundle\\DBD\\CSV.pm. I used lib command in the program itself to add the search path like the below, but still get same error : #!/usr/bin/env perl  use lib &#39;C:\\Perl64\\lib\\Bundle\\DBD&#39;; use Class::CSV; use Text::CSV; Also, in your code, do I replace File1 File2 Diff with c:\\File1.txt c:\\File2.txt and c:\\Diff.csv ? The first 2 files are actually a TXT file, but comma delimited like CSV file."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527626381, "post_id": 50591957, "comment_id": 88194529, "body": "@faujong ugh, something is messed up with installation of modules.  (It is worth clearing that up since this is simply a go-to module for CSV.)  As for filenames, you can just list them one per line, what is probably simpler since your third file has a different extension."}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527626698, "post_id": 50591957, "comment_id": 88194662, "body": "Do you know how I can fix that &quot;Can&#39;t locate class/csv.pm in @INC&quot; error ? For the filenames, did you mean to list them like this ? my $file_old = &quot;c:\\File1.txt&quot;; my $file_new = &quot;c:\\File2.txt&quot;; my $file_diff = &quot;c:\\Diff.csv&quot;; (to replace this line my ($file_old, $file_new, $file_diff) = map { $_ . &#39;.csv&#39; } qw(File1 File2 Diff) ) ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527626709, "post_id": 50591957, "comment_id": 88194671, "body": "@faujong  I don&#39;t know how Windows installation works, but on my (Linux) system the <code>CSV.pm</code> is in a directory <code>Text&#47;</code>.  Perhaps you don&#39;t have the <code>Text::CSV</code> module at all, and your system is picking up some other related ones?  (Also, that <code>class&#47;csv.pm</code> is worrisome ... it would refer to a &quot;Class::CSV&quot; module? A typo?)"}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527626850, "post_id": 50591957, "comment_id": 88194747, "body": "OK. I will create a different question on StackOverflow on this error. As for the filenames, did I understand it correctly ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527627314, "post_id": 50591957, "comment_id": 88194952, "body": "@faujong Yes, update the filenames to what they are.  If the extensions differ it is easier to say <code>my $file_old = &#39;...&#39;; my $file_new = &#39;...&#39;</code> -- spell them out."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527627339, "post_id": 50591957, "comment_id": 88194963, "body": "@faujong  Updated the answer to also print the header line to output."}, {"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527631164, "post_id": 50591957, "comment_id": 88196400, "body": "I resolved the &quot;Can&#39;t locate text/csv.pm&quot; error by installing TEXT:CSV module from code.activestate.com/ppm/Text-CSV, and tried your code. It works like a charm ! Thank you so much for your help"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1528004068, "last_edit_date": 1528004068, "creation_date": 1527623596, "answer_id": 50591957, "question_id": 50590776, "link": "https://stackoverflow.com/questions/50590776/using-perl-or-powershell-how-to-compare-2-csv-files-and-get-only-the-new-rows/50591957#50591957", "title": "Using Perl or Powershell, how to compare 2 CSV files and get only the new rows?", "body": "<p>Use <a href=\"http://search.cpan.org/~ishigaki/Text-CSV-1.95/lib/Text/CSV.pm\" rel=\"nofollow noreferrer\">Text::CSV</a> in Perl</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\nuse Text::CSV;\n\nmy ($file_old, $file_new, $file_diff) = \n    map { $_ . '.csv' } qw(File1 File2 Diff);\n\nmy $csv = Text::CSV-&gt;new ( { binary =&gt; 1 } )\n    or die \"Cannot use CSV: \".Text::CSV-&gt;error_diag();\n\nmy ($old, $header) = get_lines($csv, $file_old, 1);\nmy $new            = get_lines($csv, $file_new);\n\nmy @lines_with_new_names = @{ new_names($old, $new) };\n\nopen my $fh, '&gt;', $file_diff  or die \"Can't open $file_diff: $!\";\n$csv-&gt;say($fh, $header);\n$csv-&gt;say($fh, $_) for @lines_with_new_names;  # or print with eol set\n\nsub new_names {\n    my ($old, $new) = @_;\n    my %old = map { $_-&gt;[0] =&gt; 1 } @$old;\n    return [ map { (!exists $old{$_-&gt;[0]}) ? $_ : () } @$new ];\n}\n\nsub get_lines {\n    my ($csv, $file, $return_header) = @_;\n    open my $fh, '&lt;', $file or die \"Can't open $file $!\";\n    my $header = $csv-&gt;getline($fh);  # remove the header line\n    return ($return_header) \n        ? ( $csv-&gt;getline_all($fh), $header )\n        :   $csv-&gt;getline_all($fh);\n}\n</code></pre>\n\n<p>This prints the correct difference with the provided samples.</p>\n\n<p>Variable names tagged with <code>old</code> are related to the file with fewer lines, the other one being <code>new</code>.  The \"Name\" column is taken to be the first one.</p>\n\n<p>Comments</p>\n\n<ul>\n<li><p>The <code>getline_all</code> method returns an arrayref for all lines, where each is an arrayref with all fields. This is done from a sub, with an option to return the header line as well.</p></li>\n<li><p>The optional return of another variable here makes a difference of whether a single scalar or a list is returned, so it can also be handled using <a href=\"http://perldoc.perl.org/functions/wantarray.html\" rel=\"nofollow noreferrer\">wantarray</a> builtin</p>\n\n<pre><code>return wantarray ? ( LIST ) : scalar;\n</code></pre>\n\n<p>which returns true if the sub is called in a list context.  Thus the caller decides by invoking the sub in either the list or scalar context, <code>my ($v1, $v2) = f(...)</code> or <code>my $v = f(...)</code>, in which case a flag is not needed in the call. I opted for a more explicit way.</p></li>\n<li><p>The difference in names' list is produced in <code>new_names</code> sub.  First a lookup hash is made with all names from the \"old\" arrayref. Then lines in \"new\" arrayref are filtered, taking those which don't have a name in the \"old\" (no such key in the hash), and returned in an arrayref <code>[]</code>. </p>\n\n<p>Such use of a hash is a standard technique for finding differences between arrays.</p></li>\n</ul>\n\n<p>The documented method <code>say</code> used for printing doesn't work on my older version of the module with which this is tested.  In that case use <code>print</code> and set <a href=\"http://search.cpan.org/~ishigaki/Text-CSV-1.95/lib/Text/CSV.pm#eol\" rel=\"nofollow noreferrer\">eol</a> in the constructor.</p>\n"}, {"comments": [{"owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527628743, "post_id": 50592256, "comment_id": 88195531, "body": "@kuujibo Thank you. I replaced Write-Host $line.Trim() with writing to a file like this: $writer = New-Object System.IO.StreamWriter(&quot;c:\\Diff.csv&quot;); while (($line = $reader.ReadLine()) -ne $null) {     $name = ($line -split &#39;,&#39;)[0];     if (!$file1.ContainsKey($name)) { $writer.WriteLine($line.Trim());} } But, I am getting the error &quot;You cannot call a method on a null-valued expression.&quot; The error is on this line $writer.WriteLine($line.Trim()) Also, how can I also include the header line from File2 to the output file ?"}, {"owner": {"reputation": 8784, "user_id": 604196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb860fa39a843f9d6931a7756e5444e?s=128&d=identicon&r=PG", "display_name": "kuujinbo", "link": "https://stackoverflow.com/users/604196/kuujinbo"}, "reply_to_user": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "edited": false, "score": 0, "creation_date": 1527631846, "post_id": 50592256, "comment_id": 88196599, "body": "@faujong - Updated example based on your comments."}], "tags": [], "owner": {"reputation": 8784, "user_id": 604196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb860fa39a843f9d6931a7756e5444e?s=128&d=identicon&r=PG", "display_name": "kuujinbo", "link": "https://stackoverflow.com/users/604196/kuujinbo"}, "is_accepted": false, "score": 1, "last_activity_date": 1527631829, "last_edit_date": 1527631829, "creation_date": 1527624786, "answer_id": 50592256, "question_id": 50590776, "link": "https://stackoverflow.com/questions/50590776/using-perl-or-powershell-how-to-compare-2-csv-files-and-get-only-the-new-rows/50592256#50592256", "title": "Using Perl or Powershell, how to compare 2 CSV files and get only the new rows?", "body": "<p>Since you're working with large files that are stressing your memory limit, you can try:</p>\n\n<ol>\n<li>Read the first CSV file one line at a time, and use a hashtable to store the file's Name entries.</li>\n<li>Read the second CSV file one line at a time and compare it's Name entries against the first.</li>\n</ol>\n\n<p>(<strong>UPDATED</strong> based on comments) A simple example in PowerShell:</p>\n\n<pre><code>$output = New-Object System.Text.StringBuilder;\n$file1 = @{};\n$header = $null;\n\n# $filePaths is two-element array with full path to CSV files\nfor ($i = 0; $i -lt $filePaths.Length; ++$i) {\n    $reader = New-Object System.IO.StreamReader($filePaths[$i]);\n    while (($line = $reader.ReadLine()) -ne $null) {\n        if ($line -match '\\S') {\n            if ($header -eq $null) { \n                $header = $line;\n                $output.AppendLine($line) | Out-Null; \n            }\n            $name = ($line -split ',')[0];\n            switch ($i) {\n                0 { $file1.Add($name, $null); }\n                1 { \n                    if (!$file1.ContainsKey($name)) { \n                        $output.AppendLine($line) | Out-Null; \n                    } \n                }\n            }\n        }\n    }\n    $reader.Dispose();\n}\n$output.ToString() | Out-File -FilePath $outPath;\n</code></pre>\n"}], "owner": {"reputation": 577, "user_id": 3352105, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f3b731a2a30492e0a990fd302d45e57d?s=128&d=identicon&r=PG&f=1", "display_name": "faujong", "link": "https://stackoverflow.com/users/3352105/faujong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 50591957, "answer_count": 2, "score": 2, "last_activity_date": 1528004068, "creation_date": 1527618654, "last_edit_date": 1527622247, "question_id": 50590776, "link": "https://stackoverflow.com/questions/50590776/using-perl-or-powershell-how-to-compare-2-csv-files-and-get-only-the-new-rows", "title": "Using Perl or Powershell, how to compare 2 CSV files and get only the new rows?", "body": "\n\n<p>I am comparing two large comma-delimited CSV files <code>File1.csv</code> and <code>File2.csv</code> using the\n<a href=\"https://metacpan.org/pod/Text::Diff\" rel=\"nofollow noreferrer\"><code>Text::Diff</code></a> Perl module.\nThe Perl program is called from a <code>.bat</code> file and I put the result in a third file <code>Diff.csv</code></p>\n\n<h3>Perl</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Text::Diff;\n\nmy $diffs = diff $ARGV[0] =&gt; $ARGV[1];\n\n$diffs =~ s/^(?:[^\\n]*+\\n){2}//;\n$diffs =~ s/^(?:[\\@ ][^\\n]*+)?+\\n//mg;\n\nprint $diffs;\n</code></pre>\n\n<p>This is how I call the Perl script:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl \"C:\\diffBetweenTwoFiles.pl\" \"C:\\File1.csv\" \"C:\\File2.csv\" &gt; \"C:\\Diff.csv\"\n</code></pre>\n\n<p>One of the columns in the CSV file is <code>Name</code>.</p>\n\n<p>Currently the result lists all rows whose values in any columns change, but I want only to list new <code>Name</code> rows.</p>\n\n<p>For example:</p>\n\n<h3>File1.csv</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"Name\",\"DOB\",\"Address\"\n\"One\",\"1/1/01\",\"5 Stock Rd\"\n\"Two\",\"1/2/02\",\"1 Research Rd\"\n</code></pre>\n\n<h3>File2.csv</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"Name\",\"DOB\",\"Address\"\n\"One\",\"1/1/01\",\"5 Stock Rd\"\n\"Two\",\"1/2/02\",\"111 Research Rd\"\n\"Three\",\"1/3/03\",\"3 Bold Rd\"\n</code></pre>\n\n<p>Currently, the result list these (it includes \"Two\" because its Address changed):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"Name\",\"DOB\",\"Address\"\n\"Two\",\"1/2/02\",\"111 Research Rd\"\n\"Three\",\"1/3/03\",\"3 Bold Rd\"\n</code></pre>\n\n<p>But, I only want the result to list the new \"Name\" like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"Name\",\"DOB\",\"Address\"\n\"Three\",\"1/3/03\",\"3 Bold Rd\"\n</code></pre>\n\n<p>How can I do that in Perl or Powershell script?</p>\n"}, {"tags": ["apache", "perl", "location", "webserver"], "answers": [{"tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1527980103, "creation_date": 1527980103, "answer_id": 50661851, "question_id": 50590554, "link": "https://stackoverflow.com/questions/50590554/apache-web-server-location-directive/50661851#50661851", "title": "Apache web server &lt;Location&gt; directive", "body": "<p>You might want to try out ProxyPassReverse:</p>\n\n<pre><code>&lt;Location /&gt;\n  ProxyPass        http://serverb.xyz/\n  ProxyPassReverse http://serverb.xyz/\n&lt;/Location&gt;\n</code></pre>\n\n<p><a href=\"https://httpd.apache.org/docs/2.4/mod/mod_proxy.html\" rel=\"nofollow noreferrer\">https://httpd.apache.org/docs/2.4/mod/mod_proxy.html</a></p>\n"}], "owner": {"reputation": 19, "user_id": 4813267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xr8Oq.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/4813267/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1527980103, "creation_date": 1527617834, "last_edit_date": 1527623243, "question_id": 50590554, "link": "https://stackoverflow.com/questions/50590554/apache-web-server-location-directive", "title": "Apache web server &lt;Location&gt; directive", "body": "<p>When a request comes to server A, for some URLs I need to serve files from Server B.</p>\n\n<p>I know I can get it done using the <code>&lt;Location&gt;</code> directive.  </p>\n\n<p>I tried using a Perl script handler but couldn't get it to work.</p>\n\n<pre><code>&lt;Location /&gt;\n    SetHandler perl-script\n    PerlResponseHandler HTTP::Dispatcher\n&lt;/Location&gt; \n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-twig"], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 6890013, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/39707606/picture?type=large", "display_name": "mkunkel", "link": "https://stackoverflow.com/users/6890013/mkunkel"}, "edited": false, "score": 0, "creation_date": 1527619386, "post_id": 50590705, "comment_id": 88191233, "body": "Wonderful, thanks for the clearly written example. May I suggest to add \t\tmy $outDir = $maven_Dir . &quot;/&quot; . $settings_File; \t\topen (my $fh_out, &#39;&gt;&#39;, $outDir) or die &quot;unable to open &#39;$outDir&#39; for writing: $!&quot;; \t\tprint{$fh_out} $twig-&gt;sprint();  In case people wish to know how to write the new file?  Thanks again."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1527674393, "post_id": 50590705, "comment_id": 88212628, "body": "I would probably use <code>insert_new_elt</code> rather than <code>set_inner_xml</code> here I think."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1527674891, "post_id": 50590705, "comment_id": 88212953, "body": "@Sobrique: Sure, I&#39;m not so familiar with all the Twig&#39;s methods. I&#39;m more an XML::LibXML guy. Is there a compact way how to set the inner structure?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1527618382, "creation_date": 1527618382, "answer_id": 50590705, "question_id": 50590167, "link": "https://stackoverflow.com/questions/50590167/perl-xml-twig-insert-data/50590705#50590705", "title": "Perl: XML Twig insert data", "body": "<p>XML::Twig isn't the best to edit XML, but it can be done:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse XML::Twig;\n\nmy ($PORT, $HOST, $PROTOCOL, $ACTIVE) = (1492, 'jpoop', 'http', 'true');\n\nmy $twig = 'XML::Twig'-&gt;new(\n    pretty_print =&gt; 'indented',\n)-&gt;parsefile(shift);\n\nmy $root = $twig-&gt;root;\nmy ($proxies) = $root-&gt;children('proxies');\n\nif (! $proxies) {\n    print STDERR\n        \"In your settings.xml located in your .m2 folder,\n         there appears to be no proxy settings.\n         Adding Jlab proxy settings \\n\";\n\n    my $proxies = $root-&gt;insert_new_elt('proxies');\n    $proxies-&gt;set_inner_xml(\n        \"&lt;proxy&gt;&lt;active&gt;$ACTIVE&lt;/active&gt;&lt;protocol&gt;$PROTOCOL&lt;/protocol&gt;\"\n        . \"&lt;host&gt;$HOST&lt;/host&gt;&lt;port&gt;$PORT&lt;/port&gt;&lt;/proxy&gt;\");\n    $root-&gt;print;\n\n} else {\n    my $found;\n    for my $proxy ( $proxies-&gt;children('proxy') ) {\n        my $port     = $proxy-&gt;first_child_text('port');\n        my $host     = $proxy-&gt;first_child_text('host');\n        my $protocol = $proxy-&gt;first_child_text('protocol');\n        my $active   = $proxy-&gt;first_child_text('active');\n\n        $found = 1 if $port == $PORT\n                   &amp;&amp; $host eq $HOST\n                   &amp;&amp; $protocol eq $PROTOCOL\n                   &amp;&amp; $active eq $ACTIVE;\n    }\n    if ($found) {\n        print STDERR \"Correct proxy settings are set properly for Jlab \\n\";\n    } else {\n        print STDERR \"Correct proxy settings missing:\\n\",\n            \"port $PORT\\nhost $HOST\\nprotocol $PROTOCOL\\nactive $ACTIVE\\n\";\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 6890013, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/39707606/picture?type=large", "display_name": "mkunkel", "link": "https://stackoverflow.com/users/6890013/mkunkel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 50590705, "answer_count": 1, "score": 1, "last_activity_date": 1527624680, "creation_date": 1527616240, "last_edit_date": 1527624680, "question_id": 50590167, "link": "https://stackoverflow.com/questions/50590167/perl-xml-twig-insert-data", "title": "Perl: XML Twig insert data", "body": "<p>I have a settings.xml file as </p>\n\n<pre><code>&lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n                      https://maven.apache.org/xsd/settings-1.0.0.xsd\"&gt;\n\n  &lt;pluginGroups&gt;\n    &lt;pluginGroup&gt;org.mortbay.jetty&lt;/pluginGroup&gt;\n  &lt;/pluginGroups&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;server001&lt;/id&gt;\n      &lt;username&gt;my_login&lt;/username&gt;\n      &lt;password&gt;my_password&lt;/password&gt;\n      &lt;privateKey&gt;${user.home}/.ssh/id_dsa&lt;/privateKey&gt;\n      &lt;passphrase&gt;some_passphrase&lt;/passphrase&gt;\n      &lt;filePermissions&gt;664&lt;/filePermissions&gt;\n      &lt;directoryPermissions&gt;775&lt;/directoryPermissions&gt;\n      &lt;configuration&gt;&lt;/configuration&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n\n<p>As seen, there is no proxy data. I would like to add data using Perl:Twig.\nI cannot use other CPAN modules, as the perl distribution is not maintained by me.</p>\n\n<p>I have read the <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"nofollow noreferrer\">perl doc on twig</a>, but I am confused on the insert process. I have also read <a href=\"http://www.perlmonks.org/?node_id=857284\" rel=\"nofollow noreferrer\">this perl link</a>, <a href=\"https://stackoverflow.com/questions/38503943/perl-inserting-an-xmltwig-node-with-xmltwig\">this SO link</a> where comparison/copy of XML is used (not relevant here because I am not not comparing). Also I read <a href=\"https://stackoverflow.com/questions/13392089/how-to-insert-child-xml-twig\">SO twig child adding</a>, but I think I want to create a tag. This<a href=\"https://stackoverflow.com/questions/4301435/change-an-xml-file-content-via-perl-script\">So link explains</a> how to use XML::DOM, but I am limited to Perl:Twig, and lastly <a href=\"https://stackoverflow.com/questions/4299215/perl-script-to-populate-an-xml-file\">this SO on XML:Simple</a>, but again I am limited to Perl:Twig, plus perldoc states do not use XML:Simple.</p>\n\n<p>My current code looks similar to </p>\n\n<pre><code>my $t = XML::Twig-&gt;new(\n    twig_roots   =&gt; { proxy =&gt; 1 },\n    pretty_print =&gt; 'indented',\n)-&gt;parsefile( $maven_Dir . \"/\" . $settings_File );\n\nif ( !$t-&gt;root-&gt;children('proxy') ) {\n    print(\n        \"In your settings.xml located in your .m2 folder, \n         there appears to be no proxy settings \\n\"\n    );\n    print(\"Adding Jlab proxy settings \\n\");\n    my $cp = $t-&gt;root-&gt;children('settings');\n    $cp-&gt;insert(\"proxies\");\n\n#       $cp-&gt;first_child('proxy');\n#       $cp-&gt;paste( 'last_child', $t-&gt;root );\n\n}\nelse {\n\n    foreach my $proxy ( $t-&gt;root-&gt;children('proxy') ) {\n        my $port     = $proxy-&gt;first_child_text('port');\n        my $host     = $proxy-&gt;first_child_text('host');\n        my $protocol = $proxy-&gt;first_child_text('protocol');\n        my $active   = $proxy-&gt;first_child_text('active');\n\n        if (   $port == 1492\n            &amp;&amp; $host eq \"jpoop\"\n            &amp;&amp; $protocol eq \"http\"\n            &amp;&amp; $active eq \"true\" )\n        {\n            print(\"Correct proxy settings are set properly for Jlab \\n\");\n            print( \"$port \\n\", \"$host \\n\", \"$protocol \\n\",\n                \"$active'\\n \\n\" );\n\n        }\n\n    }\n}\n</code></pre>\n\n<p>Would someone point me in the direction of adding data similar to </p>\n\n<pre><code>&lt;proxies&gt;\n    &lt;proxy&gt;\n        &lt;active&gt;true&lt;/active&gt;\n        &lt;protocol&gt;http&lt;/protocol&gt;\n        &lt;host&gt;jpoop&lt;/host&gt;\n        &lt;port&gt;1492&lt;/port&gt;\n    &lt;/proxy&gt;\n&lt;/proxies&gt;\n</code></pre>\n\n<p>into an XML file using Perl:Twig?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527593752, "post_id": 50583356, "comment_id": 88175869, "body": "Why don&#39;t you just replace opening and closing tags separately? Should be way easier."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1527593807, "post_id": 50583356, "comment_id": 88175908, "body": "Also <a href=\"https://metacpan.org/pod/Parse::BBCode\" rel=\"nofollow noreferrer\">metacpan.org/pod/Parse::BBCode</a>."}, {"owner": {"reputation": 351, "user_id": 2598494, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/02d66fa0fdbd3eb34745afa352ff99e2?s=128&d=identicon&r=PG", "display_name": "Laeeq", "link": "https://stackoverflow.com/users/2598494/laeeq"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527593981, "post_id": 50583356, "comment_id": 88176039, "body": "If replace opening or closing tags separately then its also replacing those tags that&#39;s have no close or start tags. due to this, wants replace by match start and end tags."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1527595083, "post_id": 50583356, "comment_id": 88176709, "body": "Then you need to implement a proper grammar. Your language is more complex than what a single line regex can achieve."}, {"owner": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "edited": false, "score": 0, "creation_date": 1527596071, "post_id": 50583356, "comment_id": 88177390, "body": "FYI, in the PCRE regex engine you could use a recursive regex for this. F.e. <code>\\[QUOTE.*?\\]((?R)|[^\\[]*(?:\\[[^\\[]*)*)\\[\\&#47;QUOTE\\]</code>.  Not sure how that translates to your perl version though.  But using an actually parser for BBCode might be more dependable."}], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 2598494, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/02d66fa0fdbd3eb34745afa352ff99e2?s=128&d=identicon&r=PG", "display_name": "Laeeq", "link": "https://stackoverflow.com/users/2598494/laeeq"}, "edited": false, "score": 0, "creation_date": 1527672206, "post_id": 50588072, "comment_id": 88211052, "body": "Thanks for answer! Can we handle this without while loop with single line regex?"}, {"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "reply_to_user": {"reputation": 351, "user_id": 2598494, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/02d66fa0fdbd3eb34745afa352ff99e2?s=128&d=identicon&r=PG", "display_name": "Laeeq", "link": "https://stackoverflow.com/users/2598494/laeeq"}, "edited": false, "score": 0, "creation_date": 1527674764, "post_id": 50588072, "comment_id": 88212878, "body": "Not if you want to ensure strict matching between each opening and closing <code>QUOTE</code> tag. But you can omit the <code>g</code> flag altogether."}], "tags": [], "owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "is_accepted": true, "score": 1, "last_activity_date": 1527674600, "last_edit_date": 1527674600, "creation_date": 1527607913, "answer_id": 50588072, "question_id": 50583356, "link": "https://stackoverflow.com/questions/50583356/per-regex-to-parse-and-replace-nested-match/50588072#50588072", "title": "Per regex to parse and replace nested match", "body": "<p>You can achieve it with a couple of changes:</p>\n\n<ol>\n<li>Start replacement from the <em>last matching</em> <code>[QUOTE]</code></li>\n<li><em>Repeat</em> the regex until no more replacements can be made (since the <code>g</code> flag doesn't backtrack)</li>\n</ol>\n\n<p>Something like this:</p>\n\n<p><code>1 while $text =~ s#^(.*)\\[QUOTE\\s*(?:username\\s*=\\s*([^ \\]]+))?\\](.*?)\\[\\/QUOTE\\](.*?)#$1&lt;div class=\"quoted\"&gt;&lt;div class=\"quote-from\"&gt;$2&lt;/div&gt;$3&lt;/div&gt;$4#s;</code></p>\n\n<p>The result will be:</p>\n\n<p><code>&lt;div class=\"quoted\"&gt;&lt;div class=\"quote-from\"&gt;test1&lt;/div&gt;This is test one. &lt;div class=\"quoted\"&gt;&lt;div class=\"quote-from\"&gt;test2&lt;/div&gt;This is test2. &lt;/div&gt;This is test3 &lt;/div&gt;</code></p>\n"}], "owner": {"reputation": 351, "user_id": 2598494, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/02d66fa0fdbd3eb34745afa352ff99e2?s=128&d=identicon&r=PG", "display_name": "Laeeq", "link": "https://stackoverflow.com/users/2598494/laeeq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 50588072, "answer_count": 1, "score": 1, "last_activity_date": 1527674600, "creation_date": 1527593640, "question_id": 50583356, "link": "https://stackoverflow.com/questions/50583356/per-regex-to-parse-and-replace-nested-match", "title": "Per regex to parse and replace nested match", "body": "<p>I have text like below with nested [QUOTE][/QUOTE] tags. I want to parse entire nested string usign Perl regex.</p>\n\n<pre><code>[QUOTE username=test1]This is test one. [QUOTE username=test2]This is test2. [/QUOTE] This is test3 [/QUOTE]\n</code></pre>\n\n<p>I am using below Perl regex and its parsing first [QUOTE] with its end  [/QUOTE] but its not parsing nested tags.</p>\n\n<pre><code>$text =~ s#\\[QUOTE\\s?(?:username)?(?:=(.*?))?\\]([^&gt;]*)?\\[\\/QUOTE\\]#&lt;div class=\"quoted\"&gt;&lt;div class=\"quote-from\"&gt;$1&lt;/div&gt;$2&lt;/div&gt;#isg;\n</code></pre>\n\n<p>It is returning below result with just first [QUOTE] parse and leaving middle [QUOTE][/QUOTE] as it is. But I need to parse all nested tags.</p>\n\n<pre><code>&lt;div class=\"quoted\"&gt;&lt;div class=\"quote-from\"&gt;test1&lt;/div&gt;This is test one. [QUOTE username=test2]This is test2. [/QUOTE] This is test3 &lt;/div&gt;\n</code></pre>\n\n<p>Please help with this.</p>\n"}, {"tags": ["bash", "perl", "awk", "sed", "grep"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527583693, "post_id": 50579399, "comment_id": 88169235, "body": "You&#39;re implying that there are multiple <code>&lt;name&gt;</code> elements in your XML. Please show a representative sample of your complete XML document. It would also go down much better if you appeared to have made an effort to solve this yourself: it&#39;s bad form to attempt to get work done for free if you can&#39;t approach it yourself: do some reading."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527584146, "post_id": 50579399, "comment_id": 88169527, "body": "@RavinderSingh13: Please <i>always test</i> anything that you submit as an answer. If you are certain that something is correct but cannot test then you must say so in your post."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1527584702, "post_id": 50579399, "comment_id": 88169841, "body": "@Ravinder: You should have realised that the OP showed only part of the XML data: they ask to <code>grep</code> a particular <code>&lt;name&gt;</code> element. If you believe that XML tools would be better then you should say so. <i>&quot;I deleted since xml tools would be better for this kind of question&quot;</i> That&#39;s a bizarre idea. Why do you delete chunks of XML?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527584995, "post_id": 50579399, "comment_id": 88170055, "body": "A huge majority of your questions have zero or negative votes. Please try to understand why and correct it. You are likely to be blocked if you persist."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 1, "creation_date": 1527585686, "post_id": 50579399, "comment_id": 88170572, "body": "@Ravinder: You shouldn&#39;t apologise: it&#39;s simply expected that you are accountable for anything you post, and you should take care of what you say. I&#39;m not sure <code>xmlstarlet</code> will help a lot, but by all means give it a try. It is best to fall back on the RFC documents that define XML, XPath, XSLT etc. A Google search will find them for you."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 1, "creation_date": 1527591535, "post_id": 50579399, "comment_id": 88174320, "body": "Please <a href=\"https://stackoverflow.com/posts/50579399/edit\">edit</a> your question to show <a href=\"http://whathaveyoutried.com\" rel=\"nofollow noreferrer\">the code you have so far</a>.  Most of us here are happy to help you improve your craft, but are less happy acting as short-order unpaid programming staff. Show us your work so far as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, the result you were expecting and the results you got, and we&#39;ll help you figure it out. It may help to re-read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527584423, "post_id": 50580158, "comment_id": 88169676, "body": "I know that you prefer to put spaces around the indirection operator, but it makes your code much more difficult to read for me, and likely many others. The operator <code>-&gt;</code> is already longer than most, and to turn it into a <i>four-character</i> gap before the next operand is too much: it becomes as big as the usual four indentation spaces. You&#39;ve even hit the right margin of the SO code block, which is bad news."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1527584006, "creation_date": 1527584006, "answer_id": 50580158, "question_id": 50579399, "link": "https://stackoverflow.com/questions/50579399/grep-xml-string-on-specific-tag-name-and-replace-text-value/50580158#50580158", "title": "Grep XML string on specific tag name and replace text value", "body": "<p>It's XML, so <code>grep</code> is the wrong tool for the job. Regular expressions in general are not contextual, and XML is. </p>\n\n<p>Use a parser:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $xml = XML::Twig -&gt; new -&gt; parse (\\*DATA);\nmy $matching_property = $xml -&gt; get_xpath('//property/name[string()=\"property1\"]/..',0);\n\n$matching_property -&gt; first_child('value') -&gt; set_text('1000');\n\n$xml -&gt; set_pretty_print ('indented_a');\n$xml -&gt; print;\n\n__DATA__\n&lt;property&gt;\n&lt;name&gt;property1&lt;/name&gt;\n&lt;value&gt;7200&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>This uses <code>xpath</code> which is similar to regular expressions, except that it is context sensitive, and 'works' with XML metadata. </p>\n"}], "owner": {"reputation": 980, "user_id": 1716704, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/S8zFC.png?s=128&g=1", "display_name": "Kalin Borisov", "link": "https://stackoverflow.com/users/1716704/kalin-borisov"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "closed_date": 1527600753, "answer_count": 1, "score": -5, "last_activity_date": 1527593173, "creation_date": 1527581462, "last_edit_date": 1527593173, "question_id": 50579399, "link": "https://stackoverflow.com/questions/50579399/grep-xml-string-on-specific-tag-name-and-replace-text-value", "closed_reason": "Needs more focus", "title": "Grep XML string on specific tag name and replace text value", "body": "<p>How can I <code>grep</code> an XML string for element <code>&lt;name&gt;</code> with the text <code>property1</code> and then replace the next <code>&lt;value&gt;</code> element's text content?</p>\n\n<pre><code>&lt;property&gt;\n  &lt;name&gt;property1&lt;/name&gt;\n  &lt;value&gt;7200&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>Expected View after desired value is 1000:</p>\n\n<pre><code>&lt;property&gt;\n  &lt;name&gt;property1&lt;/name&gt;\n  &lt;value&gt;1000&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527556062, "post_id": 50574573, "comment_id": 88159349, "body": "Any ideas to share?  Did you try anything?  It is all <i>much</i> better when you show your attempts and code.   It is also much easier for people to help you more effectively."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 5, "creation_date": 1527556742, "post_id": 50574573, "comment_id": 88159469, "body": "You say start a new line after a certain number of words, then show adding a newline after 4 words and then again after 5 words.  What is the rule you are using?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1527563095, "post_id": 50574573, "comment_id": 88160605, "body": "Text::Wrap . . . ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "edited": false, "score": 0, "creation_date": 1527589686, "post_id": 50574573, "comment_id": 88173112, "body": "@Kamal: What is <i>syn</i>? Please use proper English. Why is your comment different from what <b>ysth</b> wrote?"}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527591426, "post_id": 50574573, "comment_id": 88174238, "body": "@Borodin: That&#39;s a typo, I wanted to write &quot;sync&quot;, I don&#39;t see any link to edit it, may be due to less reputations. Anyway, thanks for bringing into notice."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "edited": false, "score": 0, "creation_date": 1527591556, "post_id": 50574573, "comment_id": 88174335, "body": "@Kamal: <i>synchronisation</i> or perhaps <i>synch</i> would be better. If you&#39;re so pressed for time then don&#39;t post. You can edit comments for only five minutes."}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527592351, "post_id": 50574573, "comment_id": 88174881, "body": "@Borodin: Man, better to discuss about the problem, rather than my English, I might be wrong.  By the way, I just googled, &quot;sync&quot; and &quot;synch&quot; both are used, I prefer former."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "edited": false, "score": 0, "creation_date": 1527592812, "post_id": 50574573, "comment_id": 88175188, "body": "@Kamal: I apologise. The <a href=\"https://en.oxforddictionaries.com/definition/sync\" rel=\"nofollow noreferrer\">Oxford Dictionary</a> presumes <i>sync</i>, and <i>synch</i> is an alternative. But I disagree that I should ignore all poor English: there are already too many unintelligible posts for <i>Stack Overflow</i> to form a reliable concensus."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527631991, "post_id": 50574573, "comment_id": 88196653, "body": "@Borodin Ironically... <code>s&#47;concensus&#47;consensus&#47;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1792, "user_id": 3105222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eSikW.png?s=128&g=1", "display_name": "FlorianB", "link": "https://stackoverflow.com/users/3105222/florianb"}, "is_accepted": false, "score": -1, "last_activity_date": 1527563598, "last_edit_date": 1527563598, "creation_date": 1527563157, "answer_id": 50575777, "question_id": 50574573, "link": "https://stackoverflow.com/questions/50574573/add-a-new-line-in-a-variable-using-perl/50575777#50575777", "title": "Add a new line in a variable using perl", "body": "<p>You probably want to use regular expressions. You can do this:</p>\n\n<pre><code>$x =~ s/^(\\S+\\s+){3}\\K/\\n/;\n</code></pre>\n\n<p>Or if this is about the commas and not the spaces:</p>\n\n<pre><code>$x =~ s/^([^,]+,+){2}\\s*\\K/\\n/;\n</code></pre>\n\n<p>(in this case I also remove any potential space that would be after the comma)</p>\n\n<p>You can also configure separately how many words or comma you want, by putting this in a variable:</p>\n\n<pre><code>my $nbwords = 7; # add a line after the 7th word\n$x =~ s/^(\\S+\\s+){$nbwords}\\K/\\n/;\n</code></pre>\n\n<p>Now, that would keep the last space so you may want to do this:</p>\n\n<pre><code>my $nbwords = 7; # add a line after the 7th word\n$nbwords--; # becomes 6 because there is another word after that we match as well\n$x =~ s/^(\\S+\\s+){$nbwords}\\S+\\K\\s+/\\n/;\n</code></pre>\n\n<p>You should probably learn to use Regexps but just to explain the above:</p>\n\n<ul>\n<li>\\s is any space character (like space, tab, line feed, etc)</li>\n<li>\\S (uppercase) is any character except a space character</li>\n<li>+ means any number of characters of that type described with what is before. So \\s+ means any number of consecutive space characters.</li>\n<li>{123} means 123 times that type of character ...</li>\n<li>{3,80} means 3 to 80 times. So + is equivalent to {1,} (one to unlimited)</li>\n<li>\\K means that whatever is before will not be replaced, only what is after.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": false, "score": 0, "last_activity_date": 1527619457, "last_edit_date": 1527619457, "creation_date": 1527619144, "answer_id": 50590907, "question_id": 50574573, "link": "https://stackoverflow.com/questions/50574573/add-a-new-line-in-a-variable-using-perl/50590907#50590907", "title": "Add a new line in a variable using perl", "body": "<p>I do not agree to the formula \"after certain number of words\".\nNote that the first target line has 4 words, whereas remaining 2 have\n5 words each.</p>\n\n<p>Actually you need to replace each comma and following sequence of\nspaces (if any) with a comma and <code>\\n</code>.</p>\n\n<p>So the intuitive way to do it is:</p>\n\n<pre><code>$x =~ s/,\\s*/,\\n/g;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1527654054, "creation_date": 1527654054, "answer_id": 50596346, "question_id": 50574573, "link": "https://stackoverflow.com/questions/50574573/add-a-new-line-in-a-variable-using-perl/50596346#50596346", "title": "Add a new line in a variable using perl", "body": "<p>The simplest way is to split the string on <code>comma followed by a space</code> and then \njoin the word groups with a <code>comma followed by a newline</code>.</p>\n\n<pre><code>my $x = \"This a variable, start a new line here, This is a new line.\";\n\nprint join(\",\\n\", split /, /, $x) . \"\\n\";\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>This a variable,\nstart a new line here,\nThis is a new line.\n</code></pre>\n\n<hr>\n\n<p>For solving the general, <code>how do I reformat this string with line breaks after n-columns?</code> problem, use the <a href=\"https://perldoc.perl.org/Text/Wrap.html\" rel=\"nofollow noreferrer\">Text::Wrap</a> library (as suggested by @ikegami):</p>\n\n<pre><code>use Text::Wrap;\n\nmy $x = \"The quick brown fox jumped over the lazy dog.\";\n\n$Text::Wrap::columns = 15;\n\n# wrap() needs an array of words\nmy @words = split /\\s+/, $x;\n\n# Initial tab, subsequent tab values set to '' (think indent amount)\nprint wrap('', '', @words) . \"\\n\";\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>The quick\nbrown fox\njumped over\nthe lazy dog.\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7044553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c34e7f05b3d5230d5621b2d88b62b91?s=128&d=identicon&r=PG&f=1", "display_name": "Kanwar", "link": "https://stackoverflow.com/users/7044553/kanwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 956, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1527654054, "creation_date": 1527551003, "question_id": 50574573, "link": "https://stackoverflow.com/questions/50574573/add-a-new-line-in-a-variable-using-perl", "title": "Add a new line in a variable using perl", "body": "<p>I am trying to add a new line in a variable after certain number of words. For example: If we have a variable:  </p>\n\n<pre><code>$x = \"This a variable, start a new line here, This is a new line.\";\n</code></pre>\n\n<p>If I print the above variable  </p>\n\n<pre><code>print $x; \n</code></pre>\n\n<p>I should get the below output:</p>\n\n<pre><code>This is a variable,  \nstart a new line here,  \nThis is a new line.\n</code></pre>\n\n<p>How can I achieve this in Perl from the variable itself?</p>\n"}, {"tags": ["xml", "perl", "text-parsing"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527567521, "post_id": 50574143, "comment_id": 88161604, "body": "Your <code>text</code> is looking for elements like <code>&lt;text&gt;</code>, not text nodes. In XPath you would use <code>text()</code>, but I&#39;m not sure that wil work in <code>XML::Twig</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527567788, "post_id": 50574143, "comment_id": 88161668, "body": "Search instead for <code>ifw6:value</code> and <code>ifw4:relationship</code> and modify their text content."}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527579573, "post_id": 50574143, "comment_id": 88166769, "body": "the proper way is indeed to have <code>twig_handlers</code> on named elements, as @Borodin says. To trigger a handler on text you need to use &#39;#TEXT&#39;, which is admittedly confusing if you&#39;re used to CSS selectors, but this syntax actually predates CSS :--("}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "edited": false, "score": 0, "creation_date": 1527581048, "post_id": 50574143, "comment_id": 88167679, "body": "@mirod: Thank you for the confirmation. Of course I should have remembered <code>#TEXT</code>, but the code would have to check <code>$_-&gt;parent-&gt;tag</code>, which is more cumbersome. Although, thinking about it, I doubt if a text node is an <code>XML::Twig::Elt</code> object, and I&#39;m not in a position to experiment."}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527655341, "post_id": 50574143, "comment_id": 88202122, "body": "@Borodin a text node <i>is</i> an XML::Twig::Elt object. It has to, in order for mixed-content to work. Its tag &quot;name&quot; is <code>#PCDATA</code> (or <code>#CDATA</code>), although you can&#39;t have a handler on <code>#PCDATA</code> (IIRC)"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1527568434, "creation_date": 1527568434, "answer_id": 50576356, "question_id": 50574143, "link": "https://stackoverflow.com/questions/50574143/xmltwig-modify-text-of-multiple-elements/50576356#50576356", "title": "XML::Twig modify text of multiple elements", "body": "<p>I think this should work, but I have no way to test it at present</p>\n\n<pre><code>my $twig = XML::Twig-&gt;new(\n\n     pretty_print =&gt; 'indented',\n\n     twig_handlers =&gt; {\n\n         'ifw6:value' =&gt; sub {\n\n             my $text = $_-&gt;trimmed_text;\n\n             if ($text eq 'target1') {\n                 $_-&gt;set_text($text1);\n             }\n             elsif ($text eq 'target2') {\n                 $_-&gt;set_text($text2);\n             }\n\n             $_-&gt;flush;\n         },\n\n         'ifw4:relationship' =&gt; sub {\n\n             my $text = $_-&gt;trimmed_text;\n\n             if ($text eq 'target3') {\n                 $_-&gt;set_text($text3);\n             }\n\n             $_-&gt;flush;\n         }\n    }\n\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1363, "user_id": 310292, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/656585fdb250e9bda7ec9d854841ff13?s=128&d=identicon&r=PG", "display_name": "Tyler Clendenin", "link": "https://stackoverflow.com/users/310292/tyler-clendenin"}, "is_accepted": false, "score": 0, "last_activity_date": 1527607405, "creation_date": 1527607405, "answer_id": 50587938, "question_id": 50574143, "link": "https://stackoverflow.com/questions/50574143/xmltwig-modify-text-of-multiple-elements/50587938#50587938", "title": "XML::Twig modify text of multiple elements", "body": "<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nmy $text1 = \"123456789\";\nmy $text2 = \"12345678901011121314151\";\nmy $text3 = \"001\";\n\nmy $twig = XML::Twig-&gt;new(\n    pretty_print =&gt; 'indented',\n    twig_handlers =&gt; {\n        'ifw6:value[string()=\"target1\"]' =&gt; sub {\n            $_-&gt;set_text($text1);\n        },\n        'ifw6:value[string()=\"target2\"]' =&gt; sub {\n            $_-&gt;set_text($text2);\n        },\n        'ifw4:relationship[string()=\"target3\"]' =&gt; sub {\n            $_-&gt;set_text($text3);\n        }\n    }\n);\n\n$twig-&gt;parsefile('text.xml');\n$twig-&gt;print();\n</code></pre>\n\n<p>Using flush did weird things for me, I'm not sure if it's entirely needed. I think you desired result target2 replacement is missing some of the string.</p>\n"}], "owner": {"reputation": 11, "user_id": 9861022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d1014a5f61bd085b257b593a9024fb2?s=128&d=identicon&r=PG&f=1", "display_name": "sfiv_dba1", "link": "https://stackoverflow.com/users/9861022/sfiv-dba1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1527607405, "creation_date": 1527547035, "last_edit_date": 1527567417, "question_id": 50574143, "link": "https://stackoverflow.com/questions/50574143/xmltwig-modify-text-of-multiple-elements", "title": "XML::Twig modify text of multiple elements", "body": "<p>I'm trying to change the text of three elements from a source XML file.</p>\n\n<p>Two of the targets have the same element name (<code>ifw6:value</code>), but exist under different headers. The third has a different element name from the first two.</p>\n\n<p>The program executes successfully, but prints the original XML file without modifying anything. Debug statements lead me to believe it's not executing the subroutine mapped in <code>twig_handlers</code>.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $text1 = \"123456789\";\nmy $text2 = \"1234567\";\nmy $text3 = \"001\";\n\nmy $twig = XML::Twig-&gt;new(\n     pretty_print =&gt; 'indented',\n     twig_handlers =&gt; {\n\n         text =&gt; sub {\n\n             my $targ1_2 = $_-&gt;next_elt('ifw6:value');\n             my $targ3   = $_-&gt;next_elt('ifw4:relationship');\n\n             if ($targ1_2-&gt;text eq 'target1') {\n                 $targ1_2-&gt;set_text($text1);\n             }\n\n             if ($targ1_2-&gt;text eq 'target2') {\n                 $targ1_2-&gt;set_text($text2);\n             }\n\n             if ($targ3-&gt;text eq 'target3') {\n                 $targ3-&gt;set_text($text3);\n             }\n\n             $targ1_2-&gt;flush;\n             $targ3-&gt;flush;\n         }\n    }\n);\n\n\n$twig-&gt;parsefile('text.xml');\n$twig-&gt;print();\n</code></pre>\n\n<h3>text.xml</h3>\n\n<pre><code>&lt;SOAP-ENV&gt;\n   &lt;SOAP-ENV:Header/&gt;\n   &lt;SOAP-ENV:Body&gt;\n      &lt;ifw:Information&gt;\n         &lt;requestHeader&gt;\n            &lt;ifw1:id/&gt;\n         &lt;/requestHeader&gt;\n         &lt;ifw4:Miscellaneous&gt;\n            &lt;ifw6:MiscVals xsi:type=\"type1\"&gt;\n               &lt;ifw6:value&gt;target1&lt;/ifw6:value&gt;\n            &lt;/ifw6:MiscVals&gt;\n            &lt;ifw6:MiscVals xsi:type=\"type2\"&gt;\n              &lt;ifw6:Vals xsi:type=\"type3\"&gt;\n                  &lt;ifw6:value&gt;target2&lt;/ifw6:value&gt;\n              &lt;/ifw6:Vals&gt;\n           &lt;/ifw6:MiscVals&gt;\n              &lt;ifw4:relationship&gt;target3&lt;/ifw4:relationship&gt;\n           &lt;/ifw4:Miscellaneous&gt;\n        &lt;/ifw:Information&gt;\n      &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV&gt;\n</code></pre>\n\n<h3>desired result</h3>\n\n<pre><code>&lt;SOAP-ENV&gt;\n   &lt;SOAP-ENV:Header/&gt;\n   &lt;SOAP-ENV:Body&gt;\n      &lt;ifw:Information&gt;\n         &lt;requestHeader&gt;\n            &lt;ifw1:id/&gt;\n         &lt;/requestHeader&gt;\n         &lt;ifw4:Miscellaneous&gt;\n            &lt;ifw6:MiscVals xsi:type=\"type1\"&gt;\n               &lt;ifw6:value&gt;123456789&lt;/ifw6:value&gt;\n            &lt;/ifw6:MiscVals&gt;\n            &lt;ifw6:MiscVals xsi:type=\"type2\"&gt;\n              &lt;ifw6:Vals xsi:type=\"type3\"&gt;\n                  &lt;ifw6:value&gt;1234567&lt;/ifw6:value&gt;\n              &lt;/ifw6:Vals&gt;\n           &lt;/ifw6:MiscVals&gt;\n              &lt;ifw4:relationship&gt;001&lt;/ifw4:relationship&gt;\n           &lt;/ifw4:Miscellaneous&gt;\n        &lt;/ifw:Information&gt;\n      &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV&gt;\n</code></pre>\n"}, {"tags": ["perl", "grep", "quicksort", "splice"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1527544907, "post_id": 50573763, "comment_id": 88157229, "body": "The <code>1</code> is the third argument to <code>splice</code>. See <code>perldoc -f splice</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1527544987, "post_id": 50573763, "comment_id": 88157251, "body": "<code>@_</code> is indeed the list (well, array) of parameters. See <code>perldoc -v &#39;@_&#39;</code>."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1527563784, "post_id": 50573763, "comment_id": 88160754, "body": "Is the <code>perl</code> executable in <code>&#47;bin</code> on your system? It&#39;s more commonly <code>&#47;usr&#47;bin&#47;perl</code>. (On some systems, <code>&#47;bin</code> and <code>&#47;usr&#47;bin</code> are the same directory, but <code>#!&#47;usr&#47;bin&#47;perl</code> is likely to be more portable.)"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 1, "creation_date": 1527563825, "post_id": 50573763, "comment_id": 88160765, "body": "<a href=\"https://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\"><code>perldoc perlvar</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 2, "last_activity_date": 1527544880, "last_edit_date": 1527544880, "creation_date": 1527544778, "answer_id": 50573845, "question_id": 50573763, "link": "https://stackoverflow.com/questions/50573763/perl-5-how-does-this-script-work-and-what-is-and/50573845#50573845", "title": "Perl 5 - How does this script work and what is @_ and $_?", "body": "<pre><code>quick_sort(grep $_ &lt; $p, @_), $p, quick_sort(grep $_ &gt;= $p, @_);\n</code></pre>\n\n<p>Let's break this down:</p>\n\n<p><code>@_</code> is the array of function arguments.</p>\n\n<p><code>$_</code> is a temporary scalar variable used as a placeholder in some contexts.</p>\n\n<pre><code>grep $_ &lt; $p, @_\n</code></pre>\n\n<p>This is an expression which uses the <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\"><code>grep</code></a> builtin function to create a list consisting of all the elements from <code>@_</code> which satisfy the condition <code>$_ &lt; $p</code> -- that is, all the elements which are numerically less than the pivot.</p>\n\n<p>The resulting list is passed to <code>quick_sort</code>, so the result is a sorted list of all the elements less than the pivot.</p>\n\n<p>The same thing happens on the other side:</p>\n\n<pre><code>quick_sort(grep $_ &gt;= $p, @_);\n</code></pre>\n\n<p>This takes all the elements of <code>@_</code> which are greater than the pivot and sorts those.</p>\n\n<p>Finally:</p>\n\n<pre><code>quick_sort(grep $_ &lt; $p, @_), $p, quick_sort(grep $_ &gt;= $p, @_);\n</code></pre>\n\n<p>The comma expression creates a list consisting of:</p>\n\n<ol>\n<li><p>A sorted list of all the arguments less than the pivot element.</p></li>\n<li><p>The pivot element.</p></li>\n<li><p>A sorted list of all the arguments greater than the pivot element.</p></li>\n</ol>\n\n<p>And when you put those all together, you end up with a sorted list of all the arguments to the function.</p>\n\n<p>But this is all silly. Perl has a builtin <code>sort</code> function; you could express the same thing much more concisely as <code>@a = sort { $a &lt;=&gt; $b } @a</code>, and it'd actually be much faster.</p>\n"}], "owner": {"reputation": 3, "user_id": 7241883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b61496e649e10bb60d66151defb10f84?s=128&d=identicon&r=PG&f=1", "display_name": "nimda", "link": "https://stackoverflow.com/users/7241883/nimda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 50573845, "answer_count": 1, "score": 0, "last_activity_date": 1527563741, "creation_date": 1527544214, "last_edit_date": 1527563741, "question_id": 50573763, "link": "https://stackoverflow.com/questions/50573763/perl-5-how-does-this-script-work-and-what-is-and", "title": "Perl 5 - How does this script work and what is @_ and $_?", "body": "<p>I'm trying to figure out what's going on in this Perl Script. <strong>The Comments are me thinking</strong>, thank you, if you devote your time helping me. I have very little experience with Perl but have some knowledge in shell scripting.</p>\n\n<p>I think <code>@_</code> is a list of parameters passed down in a subroutine and <code>$_</code> a global variable, I struggle to make sense of their actual purpose in this script.</p>\n\n<pre><code>#!/bin/perl\nsub quick_sort {\n    # exit condition, when subset contains less than 2 elements\n    return @_ if @_ &lt; 2; \n\n    # choosing pivot element, using subset as input, rand as random offset, no idea what the 1 is for, man says \"int fd_out\"\n    my $p = splice @_, int rand @_, 1;\n\n    # actual recursion and the main source of my confusion\n    # calling quicksort(smaller pivot, pivot, quicksort(greater pivot))\n    quick_sort(grep $_ &lt; $p, @_), $p, quick_sort(grep $_ &gt;= $p, @_);\n}\n\n# running the damn thing, no greater secrets here, i guess \nmy @a = (4, 65, 2, -31, 0, 99, 83, 782, 1);\n@a = quick_sort @a;\n\nprint \"@a\\n\";\n</code></pre>\n"}, {"tags": ["perl", "amazon-web-services", "amazon-sqs", "fifo"], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1527536745, "creation_date": 1527536745, "answer_id": 50572682, "question_id": 50569628, "link": "https://stackoverflow.com/questions/50569628/amazonsqssimple-messagegroupid-on-a-fifo-queue/50572682#50572682", "title": "Amazon::SQS::Simple MessageGroupId on a FIFO Queue", "body": "<p>You almost had it.  It looks like it is expecting:</p>\n\n<pre><code>$q-&gt;SendMessage($message, { MessageGroupId =&gt; 1 });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 365, "user_id": 1701831, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1641053119/picture?type=large", "display_name": "Cadz", "link": "https://stackoverflow.com/users/1701831/cadz"}, "is_accepted": true, "score": 0, "last_activity_date": 1527793795, "creation_date": 1527793795, "answer_id": 50631237, "question_id": 50569628, "link": "https://stackoverflow.com/questions/50569628/amazonsqssimple-messagegroupid-on-a-fifo-queue/50631237#50631237", "title": "Amazon::SQS::Simple MessageGroupId on a FIFO Queue", "body": "<p>So I was trying to send a message to a FIFO SQS Queue in AWS. But I think </p>\n\n<p>Amazon::SQS::Simple doesn't have support to FIFO Queue. </p>\n\n<p>I end up using <a href=\"https://metacpan.org/pod/Paws::SQS\" rel=\"nofollow noreferrer\">Paws::SQS</a> instead and it's now working</p>\n"}, {"tags": [], "owner": {"reputation": 15514, "user_id": 272193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gj3WX.jpg?s=128&g=1", "display_name": "Matt Healy", "link": "https://stackoverflow.com/users/272193/matt-healy"}, "is_accepted": false, "score": 1, "last_activity_date": 1555460248, "creation_date": 1555460248, "answer_id": 55718218, "question_id": 50569628, "link": "https://stackoverflow.com/questions/50569628/amazonsqssimple-messagegroupid-on-a-fifo-queue/55718218#55718218", "title": "Amazon::SQS::Simple MessageGroupId on a FIFO Queue", "body": "<p>The answer by @ysth was almost correct; I found the below to work:</p>\n\n<pre><code>$q-&gt;SendMessage($message, (\"MessageGroupId\" =&gt; 1));\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 1701831, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1641053119/picture?type=large", "display_name": "Cadz", "link": "https://stackoverflow.com/users/1701831/cadz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1076, "favorite_count": 0, "accepted_answer_id": 50631237, "answer_count": 3, "score": 2, "last_activity_date": 1555460248, "creation_date": 1527521675, "question_id": 50569628, "link": "https://stackoverflow.com/questions/50569628/amazonsqssimple-messagegroupid-on-a-fifo-queue", "title": "Amazon::SQS::Simple MessageGroupId on a FIFO Queue", "body": "<p>I need help on how to pass the MessageGroupId as parameter using the CPAN Module </p>\n\n<p><a href=\"https://metacpan.org/pod/Amazon::SQS::Simple\" rel=\"nofollow noreferrer\">Amazon::SQS::Simple</a></p>\n\n<p>I tried the following :</p>\n\n<pre><code>my $messageGroupId = 1;\nmy $q = $sqs-&gt;GetQueue('http://queue.amazonaws.com/' . $queue_name);\n$q-&gt;{MessageGroupId} = $messageGroupId;\n$q-&gt;SendMessage($message);\n</code></pre>\n\n<p>I also tried putting the MessageGroupId in the $message variable : </p>\n\n<pre><code>my $messageGroupId = 1;\nmy $q = $sqs-&gt;GetQueue('http://queue.amazonaws.com/' . $queue_name);\n$q-&gt;{MessageGroupId} = $messageGroupId;\n$q-&gt;SendMessage({ MessageGroupId =&gt; 1 });\n</code></pre>\n\n<p>But SQS always gives this error : </p>\n\n<pre><code>ERROR [try ]: On calling SendMessage: 400 Bad Request (The request must contain the parameter MessageGroupId.)\n</code></pre>\n"}, {"tags": ["perl", "win32gui"], "owner": {"reputation": 61, "user_id": 3829111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nYb2S.png?s=128&g=1", "display_name": "Lik", "link": "https://stackoverflow.com/users/3829111/lik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527521663, "creation_date": 1527521663, "question_id": 50569625, "link": "https://stackoverflow.com/questions/50569625/perl-win32gui-determin-text-content-of-text-field-which-has-focus", "title": "Perl - Win32::Gui - Determin text content of text field which has focus", "body": "<p>I have defined a main window <code>$mw</code> on which I placed several text fields in which an user can provide information.\nAs soon as the user presses RETURN I want to determin the field which had the focus at that time and read out its text content to process it further.</p>\n\n<p>Here is the code how I defined the text fields:</p>\n\n<pre><code>$mw-&gt;AddLabel (\n    -name   =&gt; \"lblSAP\",\n    -top    =&gt; 5,\n    -left   =&gt; 10,\n    -width  =&gt; 80,\n    -text   =&gt; \"identity no.\",\n);\n\n$mw-&gt;AddTextfield (               # text field 1\n    -name   =&gt; \"txtSAP\",\n    -pos    =&gt; [ 5, 20 ],\n    -size   =&gt; [ 80, 20 ],\n    -tabstop    =&gt; 1,\n);\n\n$mw-&gt;AddLabel (\n    -name   =&gt; \"lblDokar\",\n    -top    =&gt; 5,\n    -left   =&gt; 95,\n    -width  =&gt; 40,\n    -text   =&gt; \"dokar\",\n);\n\n$mw-&gt;AddTextfield (               # text field 2 (there are more)\n    -name   =&gt; \"txtDokar\",\n    -pos    =&gt; [ 90, 20 ],\n    -size   =&gt; [ 40, 20 ],\n    -tabstop    =&gt; 1,\n    -text   =&gt; 'DRW',\n);\n</code></pre>\n\n<p>I have tried method <code>GetFocus()</code> which returns a handle but I don't know how to use this handle to get the text from the textfield (I even don't know whether the method returned the handle of the main window or the control which got the focust :-(.</p>\n\n<p>I tried it like so:</p>\n\n<pre><code>my $handle = $mw-&gt;GetFocus();    # get handle of the focusse control\nmy $txt_text = $handle-&gt;Text();   # get text of the focussed control\n</code></pre>\n\n<p>That didn't work.</p>\n\n<p>Have I overlooked a method which returns the name instead of the handle or how can one access the controls by their handle?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "is_accepted": true, "score": 0, "last_activity_date": 1527525939, "creation_date": 1527525939, "answer_id": 50570614, "question_id": 50569054, "link": "https://stackoverflow.com/questions/50569054/perl-search-through-all-directories-that-have-a-specific-string-in-them/50570614#50570614", "title": "Perl: Search through all directories that have a specific string in them", "body": "<p>Use File Globbing:</p>\n\n<pre><code>#!/usr/bin/perl -w\n@files = &lt;/Applications/Example-Version*/target.exe&gt;;\nforeach $file (@files) {\n  print $file . \"\\n\";\n} \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9859508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5a30151f5149e4236646e85031410a?s=128&d=identicon&r=PG&f=1", "display_name": "napple", "link": "https://stackoverflow.com/users/9859508/napple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 50570614, "answer_count": 1, "score": 0, "last_activity_date": 1527525939, "creation_date": 1527519366, "question_id": 50569054, "link": "https://stackoverflow.com/questions/50569054/perl-search-through-all-directories-that-have-a-specific-string-in-them", "title": "Perl: Search through all directories that have a specific string in them", "body": "<p>I want to search through a folder looking for a file lets say i'm searching through /Applications/ looking for target.exe:</p>\n\n<p>the problem I have right now is that it takes too long to search through everything in /Applications/ (about 70 seconds)</p>\n\n<p>I want to narrow my search to something like: /Applications/Example-Version but version is different on every Example directory</p>\n\n<p>How can I use File::Find to search through only directories that have the path /Applications/Example-X ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1527515102, "post_id": 50567825, "comment_id": 88145606, "body": "Why you reinvent the wheel? There a re perl modules which generates md5"}, {"owner": {"reputation": 1, "user_id": 5542273, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153714386778497/picture?type=large", "display_name": "Rajesh Kumar Yuvaraj", "link": "https://stackoverflow.com/users/5542273/rajesh-kumar-yuvaraj"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1527516176, "post_id": 50567825, "comment_id": 88146182, "body": "thanks for thinking through, i used libraries to generate md5 has but library generated md5 not matching with md5 generated by above java code."}, {"owner": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 1, "creation_date": 1527518153, "post_id": 50567825, "comment_id": 88147231, "body": "@RajeshKumarYuvaraj Most likely the manual MD5 generation is incorrect. I would doubt mostly about it rather than a bug in a cryptographic library. You can confirm that by running the hash in some online sites or some other library."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 2, "creation_date": 1527518601, "post_id": 50567825, "comment_id": 88147480, "body": "You have a bug in your code somewhere. You now have an excellent opportunity to debug it!"}, {"owner": {"reputation": 1, "user_id": 5542273, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153714386778497/picture?type=large", "display_name": "Rajesh Kumar Yuvaraj", "link": "https://stackoverflow.com/users/5542273/rajesh-kumar-yuvaraj"}, "reply_to_user": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 0, "creation_date": 1527526295, "post_id": 50567825, "comment_id": 88151022, "body": "@Alejandro thanks for sharing thought. The same cryptographic logic is working from ages. They have costomized the logic for certain reasons and it&#39;s in Java. And I want that to be converted to PERL script"}, {"owner": {"reputation": 1, "user_id": 5542273, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153714386778497/picture?type=large", "display_name": "Rajesh Kumar Yuvaraj", "link": "https://stackoverflow.com/users/5542273/rajesh-kumar-yuvaraj"}, "edited": false, "score": 0, "creation_date": 1527526393, "post_id": 50567825, "comment_id": 88151059, "body": "@jdv can you please be more specific about the bug"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 2, "creation_date": 1527527384, "post_id": 50567825, "comment_id": 88151436, "body": "@RajeshKumarYuvaraj if your code does not match with well-tested and well-reviewed crypto code, then it is almost certain that you have a bug in your code (or the way you are comparing is flawed). You can compare with <a href=\"https://stackoverflow.com/a/415956/1531971\">stackoverflow.com/a/415956/1531971</a>"}, {"owner": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 3, "creation_date": 1527528081, "post_id": 50567825, "comment_id": 88151718, "body": "@RajeshKumarYuvaraj It it has &quot;customized the logic&quot; then you&#39;re no longer calculating the MD5, but some custom made hash. And it&#39;s strongly adviced that <a href=\"https://security.stackexchange.com/questions/18197/why-shouldnt-we-roll-our-own\">you should never, ever do that</a>. It&#39;s just better to use the normal, well-testted MD5 in both sides."}, {"owner": {"reputation": 1, "user_id": 5542273, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153714386778497/picture?type=large", "display_name": "Rajesh Kumar Yuvaraj", "link": "https://stackoverflow.com/users/5542273/rajesh-kumar-yuvaraj"}, "edited": false, "score": 0, "creation_date": 1527593279, "post_id": 50567825, "comment_id": 88175529, "body": "I debug the code and there is no issue with MD5 hashing, my code is doing additional steps like converting it to hexa decimal.                 Can some one help me with equivalent hexa decimal code  in perl?"}], "answers": [{"tags": [], "owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "is_accepted": false, "score": 0, "last_activity_date": 1527694586, "creation_date": 1527694586, "answer_id": 50608619, "question_id": 50567825, "link": "https://stackoverflow.com/questions/50567825/convert-java-md5-to-perl-md5/50608619#50608619", "title": "Convert Java MD5 to Perl MD5", "body": "<p>Could it be your hex function is wrong? It's creating the hex string from back to front.</p>\n\n<p>So if you bytes are EF BE AD DE, the output will be DEADBEEF.</p>\n\n<p>FYI: The hex function in perl (you asked for it elsewhere) would be:</p>\n\n<pre><code>sub hexer {\n  return unpack \"(H2)*\", join '', map chr, reverse @_;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5542273, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153714386778497/picture?type=large", "display_name": "Rajesh Kumar Yuvaraj", "link": "https://stackoverflow.com/users/5542273/rajesh-kumar-yuvaraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1527694586, "creation_date": 1527514980, "last_edit_date": 1527552753, "question_id": 50567825, "link": "https://stackoverflow.com/questions/50567825/convert-java-md5-to-perl-md5", "title": "Convert Java MD5 to Perl MD5", "body": "<p>In my project, I have this java code I want the equivalent Perl program. Can anyone help me converting this code to Perl program.\nBelow java code takes the input stream as an input and get the digested byte array and then it passes this digested byte array to hexadecimal notation and gives us the md5 hash out of it. </p>\n\n<pre><code>        public class Verifier {\n            public static String DIGEST_ALGORITHM = \"MD5\";\n            private static char[] HEX = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' };\n\n            public static void main(String[] args) {\n                verify(new File(\"C:/Users/kanna/Desktop/test/testfiles/Test.txt\"));\n            }\n\n            static void verify(File f) {\n                try {\n                    FileInputStream fis = new FileInputStream(f);\n                    String imageHash= hex(digest(new InputStream[] { fis }));\n                    System.out.println(imageHash);\n                } catch (Exception e) {\n                    System.out.println(\"All gone Pete Tong on file \" + f.getName());\n                }\n            }\n\n            public static String hex(byte[] bytes) {\n                char[] c = new char[bytes.length * 2];\n                for (int i = 0; i &lt; bytes.length; i++) {\n                    int j = (bytes.length - i - 1) * 2;\n                    c[(j + 0)] = HEX[(bytes[i] &gt;&gt; 4 &amp; 0xF)];\n                    c[(j + 1)] = HEX[(bytes[i] &gt;&gt; 0 &amp; 0xF)];\n                }\n                return new String(c);\n            }\n\n            public static byte[] digest(InputStream[] in) throws IOException {\n                try {\n                    MessageDigest messageDigest = MessageDigest.getInstance(DIGEST_ALGORITHM);\n                    byte[] b = new byte['?'];\n                    try {\n                        int l;\n                        for (int i = 0; i &lt; in.length; i++) {\n                            for (l = 0; (l = in[i].read(b)) &gt; 0;) {\n                                messageDigest.update(b, 0, l);\n                            }\n                        }\n                    } finally {\n\n                        for (int i = 0; i &lt; in.length; i++) {\n                            try {\n                                in[i].close();\n                            } catch (Exception e) {\n                            }\n                        }\n                    }\n                    return messageDigest.digest();\n                } catch (NoSuchAlgorithmException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n</code></pre>\n\n<p>Tried below Perl code but it's not matching with the above hash.</p>\n\n<pre><code>                use Digest::MD5 qw(md5);\n                my $ffname=\"C:/Users/yuvarar/Desktop/BMS/dcmfiles/Test.dcm\";\n                open FILE, \"$ffname\";\n                my $ctx = Digest::MD5-&gt;new;\n                $ctx-&gt;addfile (*FILE);\n                my $hash = $ctx-&gt;hexdigest;\n                close (FILE);\n                printf(\"md5_hex:%s\\n\",$hash);\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1527512035, "post_id": 50566770, "comment_id": 88143875, "body": "exactly what you want?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1527512083, "post_id": 50566770, "comment_id": 88143903, "body": "<code>perl -wE &#39;say &quot;GASD|11111|AAASAS|12WSD1|3SDSD&amp;USJ|&quot; =~ &#47;(?:([^|]*)\\|){4}&#47;&#39;</code> outputs <code>12WSD1</code>, not the whole string up to it."}, {"owner": {"reputation": 193, "user_id": 1971762, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/484496126a71ee208a97fc568d3ecd43?s=128&d=identicon&r=PG", "display_name": "Adami", "link": "https://stackoverflow.com/users/1971762/adami"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1527512695, "post_id": 50566770, "comment_id": 88144263, "body": "@choroba weird... I&#39;m using a closed source solution, which asks for te string and regex and supposedly using perl... that&#39;s probably the issue here. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": false, "score": 2, "last_activity_date": 1527621352, "creation_date": 1527621352, "answer_id": 50591425, "question_id": 50566770, "link": "https://stackoverflow.com/questions/50566770/regex-match-nth-occurence/50591425#50591425", "title": "Regex match nth occurence", "body": "<p>Instead of matching n-th occurrence of a string segment (between <code>|</code> chars),\nyou can split the string.</p>\n\n<p>Assume that you have your text in <code>$x</code>.</p>\n\n<pre><code>my $x = 'GASD|11111|AAASAS|12WSD1|3SDSD&amp;USJ|';\n</code></pre>\n\n<p>Then you can split this string on <code>|</code>:</p>\n\n<pre><code>my @tbl = split /\\|/,$x;\n</code></pre>\n\n<p>and then refer to any element of this array.</p>\n"}], "owner": {"reputation": 193, "user_id": 1971762, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/484496126a71ee208a97fc568d3ecd43?s=128&d=identicon&r=PG", "display_name": "Adami", "link": "https://stackoverflow.com/users/1971762/adami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1527621352, "creation_date": 1527511349, "question_id": 50566770, "link": "https://stackoverflow.com/questions/50566770/regex-match-nth-occurence", "title": "Regex match nth occurence", "body": "<p>I'm trying to achieve a regex where I could get the value between pipes stating which occurrence it should match, it's important that it works with perl.</p>\n\n<p>So, if I have the following string: <code>GASD|11111|AAASAS|12WSD1|3SDSD&amp;USJ|</code> I would be able to get <code>GASD</code> or <code>11111</code> or <code>AAASAS</code> and so on depending on the nth match I want.</p>\n\n<p>I was able to get to: <code>(?:([^|]*)\\|){4}</code> and despite working with other languages, it's not working with perl, it grabs everything from the first until the 4th match <code>GASD|11111|AAASAS|12WSD1</code>.</p>\n\n<p>Appreciate new ideas.</p>\n"}, {"tags": ["macos", "perl", "x11", "www-mechanize-firefox", "xquartz"], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527509212, "creation_date": 1527509212, "question_id": 50566079, "link": "https://stackoverflow.com/questions/50566079/using-x11guitest-on-a-modern-mac", "title": "Using X11::GUITest on a modern mac", "body": "<p>I'd like to use the <a href=\"http://search.cpan.org/~ctrondlp/X11-GUITest-0.28/GUITest.pm\" rel=\"nofollow noreferrer\"><code>X11::GUITest</code></a> perl module to control my browser in conjunction with the <a href=\"http://search.cpan.org/~corion/WWW-Mechanize-Firefox-0.79/lib/WWW/Mechanize/Firefox.pm\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize::Firefox</code></a> module on my Mac running High Sierra.</p>\n\n<p>I downloaded and installed <a href=\"https://www.xquartz.org/\" rel=\"nofollow noreferrer\">XQuartz</a>. I'm not sure what to do next get this to work. When I try:</p>\n\n<pre><code>use X11::GUITest qw(SendKeys FindWindowLike ClickWindow SetEventSendDelay QuoteStringForSendKeys);\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>dyld: lazy symbol binding failed: Symbol not found: _XOpenDisplay\n  Referenced from: /Users/me/perl5/perlbrew/perls/perl-5.24.1/lib/site_perl/5.24.1/darwin-2level/auto/X11/GUITest/GUITest.bundle\n  Expected in: flat namespace\n\ndyld: Symbol not found: _XOpenDisplay\n  Referenced from: /Users/me/perl5/perlbrew/perls/perl-5.24.1/lib/site_perl/5.24.1/darwin-2level/auto/X11/GUITest/GUITest.bundle\n  Expected in: flat namespace\n\nAbort trap: 6\n</code></pre>\n\n<p>Is what I'm trying to do even possible?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 925, "user_id": 1567701, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3dc218b79269c784c25579c8b052a456?s=128&d=identicon&r=PG", "display_name": "jordivador", "link": "https://stackoverflow.com/users/1567701/jordivador"}, "edited": false, "score": 0, "creation_date": 1527500827, "post_id": 50563440, "comment_id": 88137230, "body": "Do you have any script/line of code , to check what do you&#39;ve had proved?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1527500838, "post_id": 50563440, "comment_id": 88137237, "body": "Are you tried any thing?"}, {"owner": {"reputation": 659, "user_id": 7356924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd0d6a9d8db7cffe199c9be89424c20?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Bhaskar", "link": "https://stackoverflow.com/users/7356924/vimal-bhaskar"}, "edited": false, "score": 0, "creation_date": 1527506579, "post_id": 50563440, "comment_id": 88140592, "body": "I cannot show the piece of code due to Confidentiality. I work in a company and i couldnt share code. I was unable to use the reg_exp. Ended up doing it in SQL(Oracle). But that was impacting my turn around time."}], "answers": [{"comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 2, "creation_date": 1527503742, "post_id": 50563683, "comment_id": 88138930, "body": "I wish they could make downvotes seen, I would love for people to explain why they downvote something for no apparent reasons.. :|"}, {"owner": {"reputation": 659, "user_id": 7356924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd0d6a9d8db7cffe199c9be89424c20?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Bhaskar", "link": "https://stackoverflow.com/users/7356924/vimal-bhaskar"}, "edited": false, "score": 0, "creation_date": 1527506865, "post_id": 50563683, "comment_id": 88140769, "body": "Thanks @zdim worked like a charm. I was unable to post my code due to security reasons. Thanks for helping me out."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 659, "user_id": 7356924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd0d6a9d8db7cffe199c9be89424c20?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Bhaskar", "link": "https://stackoverflow.com/users/7356924/vimal-bhaskar"}, "edited": false, "score": 1, "creation_date": 1527506958, "post_id": 50563683, "comment_id": 88140825, "body": "@VimalBhaskar as a matter of interest, we all have security risks, but we can simply replace sensitive data in our code by replacing it with dummy code."}, {"owner": {"reputation": 659, "user_id": 7356924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd0d6a9d8db7cffe199c9be89424c20?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Bhaskar", "link": "https://stackoverflow.com/users/7356924/vimal-bhaskar"}, "edited": false, "score": 0, "creation_date": 1527507122, "post_id": 50563683, "comment_id": 88140931, "body": "As a matter of fact true, imagine changing the code for 10k lines? It will take a lot of time. I accept your point. But changing and replacing and putting back the code will take a lot of time. I believe i will do it next time."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 659, "user_id": 7356924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd0d6a9d8db7cffe199c9be89424c20?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Bhaskar", "link": "https://stackoverflow.com/users/7356924/vimal-bhaskar"}, "edited": false, "score": 3, "creation_date": 1527507238, "post_id": 50563683, "comment_id": 88141014, "body": "@VimalBhaskar you have 10k lines of code with sensitive data..?? Anyways, remember, you do not have to post all the code, only the relevant code which makes it a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete and verifiable</a> example. :)"}, {"owner": {"reputation": 659, "user_id": 7356924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd0d6a9d8db7cffe199c9be89424c20?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Bhaskar", "link": "https://stackoverflow.com/users/7356924/vimal-bhaskar"}, "edited": false, "score": 0, "creation_date": 1527507364, "post_id": 50563683, "comment_id": 88141086, "body": "Its a financial data and i dont know if all are sensitive data, Most of them are having SSN hard coded. Most of them date to 1999 code. SSN are hardcoded and so is the Address. The reason i wanted this piece of code pertains to the logic of SSN which is hard coded. If u work in a retirement and financial sector u will get to know that"}, {"owner": {"reputation": 659, "user_id": 7356924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd0d6a9d8db7cffe199c9be89424c20?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Bhaskar", "link": "https://stackoverflow.com/users/7356924/vimal-bhaskar"}, "edited": false, "score": 0, "creation_date": 1527507430, "post_id": 50563683, "comment_id": 88141129, "body": "I understand wat you are trying to imply. Check out my other questions and answers given. I always give question along with my workings. There are scenarios were u just cant give the code."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 659, "user_id": 7356924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd0d6a9d8db7cffe199c9be89424c20?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Bhaskar", "link": "https://stackoverflow.com/users/7356924/vimal-bhaskar"}, "edited": false, "score": 3, "creation_date": 1527507488, "post_id": 50563683, "comment_id": 88141161, "body": "@VimalBhaskar It&#39;s all good, I am just trying to assist you with future questions."}, {"owner": {"reputation": 659, "user_id": 7356924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd0d6a9d8db7cffe199c9be89424c20?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Bhaskar", "link": "https://stackoverflow.com/users/7356924/vimal-bhaskar"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1527507550, "post_id": 50563683, "comment_id": 88141192, "body": "@GerhardBarnard yes i understand. Next time probably i will try to mask my data and try to induce it in the question. Thank you."}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1527550399, "post_id": 50563683, "comment_id": 88158394, "body": "I find the part with <code>($end ? $beg .. $end : $beg)</code> to be questionable coding practice. In this particular case you wouldn&#39;t expect <code>$end</code> to have zero value, but generally, you&#39;d want to get in the habit of saying <code>(defined $end ? $beg .. $end : $beg)</code> instead."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1527551738, "post_id": 50563683, "comment_id": 88158635, "body": "@Silvar  &quot;<i>In this particular case</i>&quot; the <code>$end</code> <i>cannot</i> be zero; that would make the beginning of the range negative  (against the basic assumption that it isn&#39;t).  As for the &quot;<i>questionable coding practice</i>&quot;  and  &quot;<i>get in the habit</i>&quot; -- I won&#39;t and I&#39;d tell you not to either, because you often want to test for <code>&#39;&#39;</code> or <code>0</code>, not <code>undef</code>, and often simply for &quot;truth&quot; (was that &quot;<i>questionable</i>&quot;?) Case to case. But, in this case it is about <code>undef</code> and it is better to be explicit. I&#39;m adding a comment on it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1527551933, "post_id": 50563683, "comment_id": 88158667, "body": "@Silvar  Since you are dispensing advice, I am obliged to inform you that, unfortunately, there is no silver bullet for this; a &quot;<i>habit</i>&quot; of using <code>defined</code> (meaning always, right?) will get you in nasty bugs just as well, if there is no attention to the problem at hand. What forms &quot;good practices&quot; -- which I am all for -- is a bit more elusive and complex."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1527552578, "last_edit_date": 1527552578, "creation_date": 1527501395, "answer_id": 50563683, "question_id": 50563440, "link": "https://stackoverflow.com/questions/50563440/perl-string-extraction-based-on-symbols/50563683#50563683", "title": "Perl String extraction based on symbols", "body": "<p>Need to split twice to be able to detect missing range-end in both <code>3,9-12</code> and <code>3-6,9</code></p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nforeach my $string (q(3-6,9), q(3-6,9-12), q(3,9-12))\n{\n    my @ranges = split /,/, $string;   #/\n\n    my @result;\n    for (@ranges) {\n        my ($beg, $end) = split /-/;\n        push @result, ($end ? $beg .. $end : $beg);\n    }\n\n    my $res = join ',', @result;\n\n    say $res;\n}\n</code></pre>\n\n<p>prints<sup>&dagger;</sup></p>\n\n<pre>\n3,4,5,6,9\n3,4,5,6,9,10,11,12\n3,9,10,11,12\n</pre>\n\n<p>This works for more ranges in your strings <code>1-3,8,10-12,...</code> etc. See <a href=\"https://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">range operator</a> (<code>..</code>)</p>\n\n<p>Another way to handle a possibly missing end of range is</p>\n\n<pre><code>push @result, $beg .. $end // $beg;\n</code></pre>\n\n<p>where <code>//</code> is the <a href=\"https://perldoc.perl.org/perlop.html#Logical-Defined-Or\" rel=\"nofollow noreferrer\">defined-or operator</a></p>\n\n<hr>\n\n<p><sup>&dagger;</sup> &nbsp; The test of <code>$end</code> in the ternary operator is for \"truth,\" and it fails for either of <code>undef</code> and <code>''</code> (empty string) and <code>0</code> (number zero).  In this problem <code>$end</code> is assumed to be strictly a positive integer and this is implicitly used. However, <code>undef</code> <em>is</em> expected and it is better to be specific</p>\n\n<pre><code>push @result, (defined $end ? $beg .. $end : $beg);\n</code></pre>\n\n<p>Note that \"truth\" in Perl has a few more interesting cases.  Thanks to <a href=\"https://stackoverflow.com/users/6490359/silvar\">Silvar</a> for a comment.</p>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1527503640, "last_edit_date": 1527503640, "creation_date": 1527501885, "answer_id": 50563842, "question_id": 50563440, "link": "https://stackoverflow.com/questions/50563440/perl-string-extraction-based-on-symbols/50563842#50563842", "title": "Perl String extraction based on symbols", "body": "<p>One way to expand the ranges:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @newvals = ();\nmy @retrns = qw(3-6 9 89-99);\n\nfindRanges(@retrns);\n\nsub findRanges\n{\n    my @vals = @_;\n\n    @newvals = map { if($_=~m/(\\d+)\\-(\\d+)/) { ($1 .. $2); } else { $_; }  } @vals;\n}\n\nprint join \"\\n\", @newvals;\n</code></pre>\n"}], "owner": {"reputation": 659, "user_id": 7356924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd0d6a9d8db7cffe199c9be89424c20?s=128&d=identicon&r=PG&f=1", "display_name": "Vimal Bhaskar", "link": "https://stackoverflow.com/users/7356924/vimal-bhaskar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 50563683, "answer_count": 2, "score": 0, "last_activity_date": 1527552578, "creation_date": 1527500688, "question_id": 50563440, "link": "https://stackoverflow.com/questions/50563440/perl-string-extraction-based-on-symbols", "title": "Perl String extraction based on symbols", "body": "<p>Being a C developer I am fairly new to perl langauge. My requirement is that i need to convert the value like </p>\n\n<pre><code>3-6,9 TO=&gt; \"3,4,5,6,9\"\n</code></pre>\n\n<p>Also if in case the value is </p>\n\n<pre><code>3-6,9-18 TO  \"3,4,5,6,9,10,11,12,13,14,15,16,17,18\".\n</code></pre>\n\n<p>how to achieve this? Thank you.</p>\n"}, {"tags": ["windows", "perl", "sdl", "cpan", "strawberry-perl"], "comments": [{"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "edited": false, "score": 0, "creation_date": 1527498055, "post_id": 50562148, "comment_id": 88135681, "body": "I have also tried to use the perl from cmder, but that gives the error from git-bash."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1527507173, "post_id": 50562148, "comment_id": 88140966, "body": "Did it successfully install the module, or did you get errors? seems like you had prerequisites missing and it did not complete the make.."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527510570, "post_id": 50562148, "comment_id": 88142967, "body": "Try using cpanm.  <code>cpan App-cpanminus</code> then <code>cpanm SDL</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1527510801, "post_id": 50562148, "comment_id": 88143104, "body": "In general, if the install fails on some other module (here CPAN::Author), try installing that module, then re-try your original install."}, {"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527513649, "post_id": 50562148, "comment_id": 88144793, "body": "@xxfelixxx as I said, <code>cpan CPAN::Author</code> gives the same error. Since it literally told me to try installing it, I did."}, {"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1527513854, "post_id": 50562148, "comment_id": 88144918, "body": "@GerhardBarnard as this is Alien::SDL, it is a pure binary package (or something like that). I have included everything that is output after it gets ready to build it. It seems to me that it doesn&#39;t even try. maybe the fault lies in the line <code>checking for config script... no</code> ?"}, {"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527513944, "post_id": 50562148, "comment_id": 88144972, "body": "@xxfelixxx the <code>cpanm</code> idea might work, I&#39;ll check. Why not make that an answer?"}, {"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527578424, "post_id": 50562148, "comment_id": 88166092, "body": "@xxfelixxx cpanm didn&#39;t work, further detail in edit"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527592773, "post_id": 50562148, "comment_id": 88175155, "body": "Show the contents of: <code>\\STRAWB~1\\data\\.cpanm\\work\\1527577290.7232\\build.log</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527592964, "post_id": 50562148, "comment_id": 88175292, "body": "Have a look at the cpan testers matrix and see if anyone else with your perl version, os version got it to work:  <a href=\"http://matrix.cpantesters.org/?dist=Alien-SDL+1.446\" rel=\"nofollow noreferrer\">matrix.cpantesters.org/?dist=Alien-SDL+1.446</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527649771, "post_id": 50562148, "comment_id": 88200743, "body": "<a href=\"https://www.libsdl.org/download-2.0.php\" rel=\"nofollow noreferrer\">libsdl.org/download-2.0.php</a>  try installing the library first"}, {"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527688866, "post_id": 50562148, "comment_id": 88222877, "body": "@xxfelixxx wouldnt that log be the same as the output of <code>cpan</code>? And as far as I know, Alien::SDL should install the binaries on its own (and I&#39;m on an unprivileged account, so I can&#39;t install anything, only use portable things)."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527689141, "post_id": 50562148, "comment_id": 88223087, "body": "Well, your message is that configure failed...we need to know why it failed.  You are likely missing a dependency for configure.  The log may shed light on the situation."}, {"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "edited": false, "score": 0, "creation_date": 1527689244, "post_id": 50562148, "comment_id": 88223162, "body": "Ok, tomorrow I&#39;ll get the log (I&#39;m at home now.)"}, {"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527689316, "post_id": 50562148, "comment_id": 88223213, "body": "@xxfelixxx hang on a minute, cpan says that it can&#39;t find a configuration script, so wouldn&#39;t that cause this?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "edited": false, "score": 0, "creation_date": 1527689716, "post_id": 50562148, "comment_id": 88223526, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/172083/discussion-between-xxfelixxx-and-mark-gardner\">continue this discussion in chat</a>."}, {"owner": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1564524448, "post_id": 50562148, "comment_id": 101057536, "body": "SDL 1.x in 2018 ? it is long dead and rotting, use <code>SDL2</code> and <code>Alien::SDL2</code> - that announce was posted in March 2013 - six years ago! <a href=\"http://yapgh.blogspot.com/\" rel=\"nofollow noreferrer\">yapgh.blogspot.com</a>"}, {"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "reply_to_user": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1565450207, "post_id": 50562148, "comment_id": 101362738, "body": "@Arioch&#39;The I was aware of that, and looked into it. It seemed to me that the <code>SDL</code> package was actually using SDL version 2. If not, I&#39;m just as surprised/confused as you."}, {"owner": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1565526578, "post_id": 50562148, "comment_id": 101375063, "body": "Sources of that package(that failed to you) clearly quote DLL names they want, including version numbers. Brief search for the developers made those packages bring to announcement they considered &quot;SDL2&quot; stabilized enough to start it, but not announcement they finished it. Lastly, mere grep through CPAN libraries list shows separate packages for SDL and SDL2, with all similar except for that 2 in name"}], "answers": [{"tags": [], "owner": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "is_accepted": false, "score": 1, "last_activity_date": 1564533253, "last_edit_date": 1564533253, "creation_date": 1564523586, "answer_id": 57280525, "question_id": 50562148, "link": "https://stackoverflow.com/questions/50562148/why-cant-i-install-sdl-on-any-of-my-portable-perl-installations-on-windows/57280525#57280525", "title": "Why can&#39;t I install SDL on any of my portable perl installations on windows?", "body": "<p>Short answer to the topicstarter:</p>\n\n<p>Both SDL 1.x library and Alien:SDL perl module seem unmaintained, everyone went to SDL2 and Alien::SDL2</p>\n\n<p>And so should you.</p>\n\n<p>I installed Strawberry 5.30 Win64 and then I resolved obvious problems with file/folder access rights because I DO NOT want to run Perl or Perl games as Administrator user.</p>\n\n<ul>\n<li>d:\\Strawberry\\cpan\\</li>\n<li>d:\\Strawberry\\perl\\</li>\n</ul>\n\n<p>Then I just issued Windows shell command <code>cpan install Alien:SDL2</code> - and it installed like a charm.</p>\n\n<p>Alternatively it seems to be possible to install <code>Alien:SDL version 1</code> but that would need Win32/x86 version of Strawberry Perl, not Win64/x64 version. But... why? According to <a href=\"http://yapgh.blogspot.com\" rel=\"nofollow noreferrer\">http://yapgh.blogspot.com</a> the SDL v.1 is dead since March 2013.</p>\n\n<hr>\n\n<p>Just adding more details.<br>\nWas hit by this too....<br>\nMy wish is just to run Frozen Bubbles game on Win10 x64 box.<br>\nI have some experience with programming, but not in Perl, nor do I have Perl IDE or something.<br>\nI don't want any Perl programming hassle, I just want to make the game run.</p>\n\n<p>I dropped here from Google for the same error message, so this maybe will help to somebody else too, whom Google maybe will forward here too.</p>\n\n<hr>\n\n<p>Like I said, SDL 1.x library and Alien:SDL perl module are unmaintained.</p>\n\n<p>However FrozenBubble game is not maintained any more too and only works with SDL 1.x</p>\n\n<hr>\n\n<p>CPAN testing has the following record for Alien::SDL on Windows:\n<a href=\"http://www.cpantesters.org/cpan/report/154af118-6c11-1014-a593-b7c73b50a26f\" rel=\"nofollow noreferrer\">http://www.cpantesters.org/cpan/report/154af118-6c11-1014-a593-b7c73b50a26f</a></p>\n\n<p>Notable things: </p>\n\n<ul>\n<li>it used Strawberry 5.28.2 not 5.30, </li>\n<li>it uses x86/Win32 not x64/Win63</li>\n<li>it quotes gccversion='7.1.0' ( Straberry 5.30 win64 seems to have 8.3)</li>\n</ul>\n\n<p>So it seems to boil down to question, whether ABI for Win64 of GCC 7.1 and 8.3 is the same or not.</p>\n\n<hr>\n\n<p>The error seems triggered by this file:</p>\n\n<ul>\n<li>d:\\Strawberry\\cpan\\build\\Alien-SDL-1.446-0\\inc\\My\\Utility.pm</li>\n</ul>\n\n<p>It has <code>$prebuilt_binaries</code> array listing some - whd'ya think? - pre-built SDL 1.x libraries. It has 3 options for Win32 prebuilt SDL1.x and two options for Win64:</p>\n\n<ul>\n<li><code>BEWARE: binaries are using old ABI</code> option <code>just for old strawberryperl 5.12.x/64bit</code> and GCC 4.4.3</li>\n<li><code>RECOMMENDED</code> one for GCC <code>gccversion_re =&gt; qr/^4\\.(4\\.[5-9]|[5-9]\\.[0-9])$/</code></li>\n<li>Notice: the GCC Version element is missed (no check) for Win32 library binaries!</li>\n</ul>\n\n<p>That file also has a <code>sub check_prebuilt_binaries</code> which loops through the array and tries to match found Perl environment to those criteria.</p>\n\n<p>The second line of the sub was commented out debug printf of environment to be checked (except for GCC). I de-commented it, moved upward and extended to include GCC.</p>\n\n<pre><code>sub check_prebuilt_binaries\n{\n  print \"(os=$^O cc=$cc archname=$Config{archname} gccVer=$Config{gccversion})\\r\\n\";\n  print \"checking for prebuilt binaries... \";\n  my @good = ();\n  foreach my $b (@{$prebuilt_binaries}) {\n    if ( ($^O =~ $b-&gt;{os_re}) &amp;&amp;\n         ($Config{archname} =~ $b-&gt;{arch_re}) &amp;&amp;\n         ($cc =~ $b-&gt;{cc_re}) &amp;&amp;\n         (!defined $b-&gt;{gccversion_re} || $Config{gccversion} =~ $b-&gt;{gccversion_re})\n        ) {\n      $b-&gt;{buildtype} = 'use_prebuilt_binaries';\n      push @good, $b;\n    }\n  }\n  scalar(@good)\n    ? print \"yes, \" . scalar(@good) . \" option(s)\\n\"\n    : print \"no\\n\";\n  #returning ARRAY of HASHREFs (sometimes more than one value)\n  return \\@good;\n}\n</code></pre>\n\n<p>Then I run Perl Build and here is what I got:</p>\n\n<pre><code>d:\\Strawberry\\cpan\\build\\Alien-SDL-1.446-0&gt;perl ./Build.PL\nWelcome to Alien::SDL module installation\n-----------------------------------------\nchecking operating system... MSWin32\nchecking for gcc... yes\nchecking build system type... MSWin32-x64-multi-thread\nchecking platform specific module... using 'My::Builder::Windows'\nchecking SDL_INST_DIR env var... no\nchecking for config script... no\n(os=MSWin32 cc=gcc archname=MSWin32-x64-multi-thread gccVer=8.3.0)\nchecking for prebuilt binaries... no\n\nYou have the following options:\n[1] Quit installation\n\nWhat way do you wanna go? [1 ]1\n</code></pre>\n\n<hr>\n\n<p>I am not good regexper, but for what I can see the GCC Win64 version is pinned to be 4.4.5+ or 4.5.x - and no version 5.0+ are allowed. Probably they did not exist when <code>Alien:SDL</code> was last committed.</p>\n\n<hr>\n\n<p>GCC release notes mention ABI change w.r.t. x86-64 rather often, for example:</p>\n\n<ul>\n<li><a href=\"https://gcc.gnu.org/gcc-8/changes.html#cxx\" rel=\"nofollow noreferrer\">https://gcc.gnu.org/gcc-8/changes.html#cxx</a></li>\n<li><a href=\"https://www.gnu.org/software/gcc/gcc-4.4/changes.html\" rel=\"nofollow noreferrer\">https://www.gnu.org/software/gcc/gcc-4.4/changes.html</a></li>\n<li><a href=\"https://www.gnu.org/software/gcc/gcc-4.5/changes.html\" rel=\"nofollow noreferrer\">https://www.gnu.org/software/gcc/gcc-4.5/changes.html</a></li>\n</ul>\n\n<p>etc.</p>\n\n<p>Which specific Win64 GCC ABI changes can be crucial for LibSDL I don't know. But it seems from CPAN test that at least Win32 ABI changes between GCC 4.5 and 7.1 were not that bad. Anyway, compiling SDL 1.x with modern GCC from sources would definitely be above my capabilities. So, take it or leave it...</p>\n\n<hr>\n\n<p>Hoping for the good, I just removed (commented out) the GCC version test for the \"recommended\" Win64 SDL1 pre-built binaries.</p>\n\n<pre><code>d:\\Strawberry\\cpan\\build\\Alien-SDL-1.446-0&gt;perl ./Build.PL test\nWelcome to Alien::SDL module installation\n-----------------------------------------\nchecking operating system... MSWin32\nchecking for gcc... yes\nchecking build system type... MSWin32-x64-multi-thread\nchecking platform specific module... using 'My::Builder::Windows'\nToo early to specify a build action 'test'.  Do 'Build test' instead.\n\nd:\\Strawberry\\cpan\\build\\Alien-SDL-1.446-0&gt;perl ./Build test\nFetching 'http://strawberryperl.com/package/kmx/sdl/Win64_SDL-1.2.14-extended-bin_20111205.zip'...\nChecking checksum for 'download\\Win64_SDL-1.2.14-extended-bin_20111205.zip'...\nExtracting download\\Win64_SDL-1.2.14-extended-bin_20111205.zip...\nt\\001_load.t ................ 1/1 # Testing Alien::SDL 1.446, Perl 5.030000, D:\\Strawberry\\perl\\bin\\perl.exe\n# Build type: use_prebuilt_binaries\n# Detected sdl-config script: n.a.\n# Build option used:\n#       Binaries Win/64bit SDL-1.2.14 (extended, 20111205) RECOMMENDED\n#       (gfx, image, mixer, net, smpeg, ttf, sound, svg, rtf, Pango)\n# URL:\n#       http://strawberryperl.com/package/kmx/sdl/Win64_SDL-1.2.14-extended-bin_20111205.zip\n#       http://froggs.de/libsdl/Win64_SDL-1.2.14-extended-bin_20111205.zip\n# SHA1: 35f3b496ca443a9d14eff77e9e26acfa813afafd\nt\\001_load.t ................ ok\nt\\002_config.t .............. 1/6 # Prefix='D:\\Strawberry\\cpan\\build\\Alien-SDL-1.446-0\\blib\\lib\\auto\\share\\dist\\Alien-SDL\\1.446_6ae293a9\\bin\\..\\'\nt\\002_config.t .............. ok\nt\\003_check_header.t ........ # Testing basic headers SDL.h + SDL_version.h\n[Alien::SDL] Testing header(s): SDL.h\nt\\003_check_header.t ........ 1/2 L.h, SDL_version.h\nt\\003_check_header.t ........ ok\nt\\004_get_header_version.t .. 1/1 # Core version: 1.2.14\nt\\004_get_header_version.t .. ok\nt\\release-pod-coverage.t .... skipped: these tests are for release candidate testing\nt\\release-pod-syntax.t ...... skipped: these tests are for release candidate testing\nAll tests successful.\nFiles=6, Tests=10,  8 wallclock secs ( 0.06 usr +  0.05 sys =  0.11 CPU)\nResult: PASS\n</code></pre>\n\n<p>Yahoo! works!!! or so it seems....</p>\n\n<hr>\n\n<p>Now I can finally use CPAN to install the lib and the game?</p>\n\n<p>\u2026sadly, not.</p>\n\n<p>CPAN probably detects I tinkered with the sources (checksum failures), re-fetches vanilla library into a new <code>d:\\Strawberry\\cpan\\build\\Alien-SDL-1.446-1\\</code> folder - and fails build with the same error as above. No good.</p>\n\n<p>At least <code>perl ./Build.PL install</code> worked, but this library albeit installed locally was hardly registered in local CPAN registry because being installed outside CPAN framework?..</p>\n\n<p>Probably CPAN gurus would manage to either pin local version faking CPAN checksums, or just would upload updated SDL module to CPAN, but... I am not them.</p>\n\n<pre><code>cpan&gt; install  Games::FrozenBubble\nRunning install for module 'Games::FrozenBubble'\nChecksum for D:\\Strawberry\\cpan\\sources\\authors\\id\\K\\KT\\KTHAKORE\\Games-FrozenBubble-2.212.tar.gz ok\n</code></pre>\n\n<p>\u2026\u2026 </p>\n\n<pre><code>Running make test for DRTECH/Locale-Maketext-Lexicon-1.00.tar.gz\n\"D:\\Strawberry\\perl\\bin\\perl.exe\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib\\lib', 'blib\\arch')\" t/*.t\nt/1-basic.t ...................... 1/33 \"msgunfmt\" \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u0438\u043b\u0438 \u0432\u043d\u0435\u0448\u043d\u0435\u0439\n\u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439, \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043e\u0439 \u0438\u043b\u0438 \u043f\u0430\u043a\u0435\u0442\u043d\u044b\u043c \u0444\u0430\u0439\u043b\u043e\u043c.\nt/1-basic.t ...................... ok\n\u2026\u2026 \nt/55-runextract.t ................ ok\nt/6-gettext.t .................... 1/30 \"msgunfmt\" \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u0438\u043b\u0438 \u0432\u043d\u0435\u0448\u043d\u0435\u0439\n\u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439, \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043e\u0439 \u0438\u043b\u0438 \u043f\u0430\u043a\u0435\u0442\u043d\u044b\u043c \u0444\u0430\u0439\u043b\u043e\u043c.\nt/6-gettext.t .................... ok\n\u2026...\nt/preload.t ...................... ok\nt/release-eol.t .................. skipped: these tests are for release candidate testing\nt/release-pod-syntax.t ........... skipped: these tests are for release candidate testing\nAll tests successful.\nFiles=17, Tests=361, 11 wallclock secs ( 0.22 usr +  0.17 sys =  0.39 CPU)\nResult: PASS\n</code></pre>\n\n<p>PASS??? Really?</p>\n\n<hr>\n\n<p>with few more patches - it runs though. Nostalgy...\n<a href=\"https://github.com/kthakore/frozen-bubble/issues/72\" rel=\"nofollow noreferrer\">https://github.com/kthakore/frozen-bubble/issues/72</a></p>\n"}], "owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1564533253, "creation_date": 1527496234, "last_edit_date": 1527577826, "question_id": 50562148, "link": "https://stackoverflow.com/questions/50562148/why-cant-i-install-sdl-on-any-of-my-portable-perl-installations-on-windows", "title": "Why can&#39;t I install SDL on any of my portable perl installations on windows?", "body": "<p>At school we have been told to do a private project, in a language of our choosing. I chose perl, and for the graphics (compulsory component)  chose SDL. </p>\n\n<p>Earlier I had installed portable-git, and the git-bash thing came with perl. Hooray! It worked! Let's install sdl!</p>\n\n<pre><code>cpan SDL\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Can't locate CPAN/Author.pm in @INC (you may need to install the CPAN::Author module)\n</code></pre>\n\n<p>This confused me, especially when I get the same message for <code>cpan CPAN::Author</code>.\nSo I install a portable version of strawberry-perl (school computer security settings forbid installation of software by non-admins), and I get a different error message (after loading a bunch of stuff):</p>\n\n<pre><code>Welcome to Alien::SDL module installation                                                                               \n-----------------------------------------                                                                                 \nchecking operating system... MSWin32                                                                                    \nchecking for gcc... yes                                                                                                 \nchecking build system type... MSWin32-x64-multi-thread                                                                  \nchecking platform specific module... using 'My::Builder::Windows'                                                       \nchecking SDL_INST_DIR env var... no                                                                                     \nchecking for config script... no                                                                                        \nchecking for prebuilt binaries... no                                                                                                                                                                                                            \nYou have the following options:                                                                                         \n[1] Quit installation                                                                                                                                                                                                                           \nWhat way do you wanna go? [1 ]1                                                                                         \nNo 'Build' created  FROGGS/Alien-SDL-1.446.tar.gz                                                                         \nC:\\Users\\gardner.mark.INFOLAB\\Downloads\\strawberry-perl\\perl\\bin\\perl.exe \nBuild.PL -- NOT OK                          Stopping: 'install' failed for \n'Alien::SDL'. \n</code></pre>\n\n<p>I have tried <code>cpan Alien::SDL</code>, and using the -f flag on both commands, but I still get the same message. Do I need to install something else, or what is the problem? </p>\n\n<p>EDIT: as @xxfelixxx suggested, I installed cpanm successfully. However, that gives the following output, with an error (in bold):</p>\n\n<pre><code>--&gt; Working on SDL                                                                                                      \nFetching http://www.cpan.org/authors/id/F/FR/FROGGS/SDL-2.548.tar.gz ... OK                                             \n==&gt; Found dependencies: Alien::SDL, Tie::Simple                                                                         \n--&gt; Working on Alien::SDL                                                                                               \nFetching http://www.cpan.org/authors/id/F/FR/FROGGS/Alien-SDL-1.446.tar.gz... OK\nConfiguring Alien-SDL-1.446 ... N/A                                                                                     \n! Configure failed for Alien-SDL-1.446. See [...]\\STRAWB~1\\data\\.cpanm\\work\\1527577290.7232\\build.log for details.                                                                                                     \n--&gt; Working on Tie::Simple                                                                                             \nFetching http://www.cpan.org/authors/id/H/HA/HANENKAMP/Tie-Simple-1.04.tar.gz ... OK                                    \nConfiguring Tie-Simple-1.04 ... OK                                                                                      \nBuilding and testing Tie-Simple-1.04 ... OK                                                                             \nSuccessfully installed Tie-Simple-1.04                                                                                  \n! Installing the dependencies failed: Module 'Alien::SDL' is not installed                                              \n! Bailing out the installation for SDL-2.548.                                                                           \n1 distribution installed \n</code></pre>\n\n<p>So, as earlier, Alien::SDL fails to configure itself.</p>\n"}, {"tags": ["arrays", "perl", "file"], "comments": [{"owner": {"reputation": 3919, "user_id": 3132718, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Dv45L.png?s=128&g=1", "display_name": "Al.G.", "link": "https://stackoverflow.com/users/3132718/al-g"}, "edited": false, "score": 1, "creation_date": 1527448080, "post_id": 50555476, "comment_id": 88121936, "body": "I&#39;d advise you to define <code>($name, $cpuUtil, $avgMemUsage, $diskFree)</code> with <code>my</code> <i>inside</i> the loop. This will prevent you from using these variables incidentally out of it and will save you an additional definition line in the code. It&#39;s also the more logical way to do it."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1527449377, "last_edit_date": 1527449377, "creation_date": 1527447853, "answer_id": 50555561, "question_id": 50555476, "link": "https://stackoverflow.com/questions/50555476/reading-data-from-file-into-an-array-to-manipulate-within-perl-script/50555561#50555561", "title": "Reading data from file into an array to manipulate within Perl script", "body": "<p>For this use case, a hash is much better than an array.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse feature qw{ say };\nuse warnings;\n\nuse List::Util qw{ min };\n\nmy %server;\nwhile (&lt;&gt;) {\n    chomp;\n    my ($name, $cpu_utilization, $avg_memory, $disk_free)\n        = split /:/;\n    @{ $server{$name} }{qw{ cpu_utilization avg_memory disk_free }}\n        = ($cpu_utilization, $avg_memory, $disk_free);\n}\n\nmy $least_disk = min(map $server{$_}{disk_free}, keys %server);\nsay for grep $server{$_}{disk_free} == $least_disk, keys %server;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 8150364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d735eac49ba384bfdf66c31962dbdb5?s=128&d=identicon&r=PG&f=1", "display_name": "Apache", "link": "https://stackoverflow.com/users/8150364/apache"}, "edited": false, "score": 1, "creation_date": 1527454135, "post_id": 50555826, "comment_id": 88123622, "body": "@choroba You are correct I am coming from cpp which I am also a beginner at. Really good tips and thank you"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1527449865, "creation_date": 1527449865, "answer_id": 50555826, "question_id": 50555476, "link": "https://stackoverflow.com/questions/50555476/reading-data-from-file-into-an-array-to-manipulate-within-perl-script/50555826#50555826", "title": "Reading data from file into an array to manipulate within Perl script", "body": "<p><a href=\"https://stackoverflow.com/a/50555561/622310\"><strong>choroba's</strong> answer</a>\nis ideal, but I think your own code could be improved</p>\n\n<ul>\n<li><p>Don't <code>use v5.26.1</code> unless you need a specific feature that is available only in the given version of Perl. Note that it also enables <code>use strict</code>, which should be at the top of every Perl program you write</p></li>\n<li><p><code>die \"System cannot find the file specified. $!\"</code> is wrong: there are multiple reasons why an <code>open</code> may fail, beyond that it \"cannot be found\". Your <code>die</code> string should include the path to the file you're trying to open; the reason for the failure is in <code>$!</code></p></li>\n<li><p>Don't use subroutine prototypes: they don't do what you think they do. <code>sub header() { ... }</code> should be just <code>sub header { ... }</code></p></li>\n<li><p>There's no point in declaring a subroutine only to call it a few lines later. Put your code for <code>header</code> in line</p></li>\n<li><p>You have clearly come from another language. Declare your variables with <code>my</code> as late as possible. In this case only <code>$count</code> and <code>$totalMem</code> must be declared outside the <code>while</code> loop</p></li>\n<li><p>perl will close all open file handles when the program exits. There is rarely a need for an explicit <code>close</code> call, which just makes your code more noisy</p></li>\n<li><p><code>$totalMem = $avgMemUsage + $totalMem</code> is commonly written <code>$totalMem += $avgMemUsage</code></p></li>\n</ul>\n\n<p>I hope that helps</p>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 1724266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b7e384340762f6c3f888087bed44c15?s=128&d=identicon&r=PG", "display_name": "Georgy Vladimirov", "link": "https://stackoverflow.com/users/1724266/georgy-vladimirov"}, "is_accepted": false, "score": -1, "last_activity_date": 1528158232, "creation_date": 1528158232, "answer_id": 50690435, "question_id": 50555476, "link": "https://stackoverflow.com/questions/50555476/reading-data-from-file-into-an-array-to-manipulate-within-perl-script/50690435#50690435", "title": "Reading data from file into an array to manipulate within Perl script", "body": "<p>To your original question about how to store the data in an array...</p>\n\n<p>First, initialize an empty array outside the file read loop:</p>\n\n<pre><code>my @servers = ();\n</code></pre>\n\n<p>Then, within the loop, after you have your data pieces parsed out, you can store them in your array as sub-arrays (the resulting data structure is a two dimensional array):</p>\n\n<pre><code>$servers[$count] = [ $name, $cpuUtil, $avgMemUsage, $diskFree ];\n</code></pre>\n\n<p>Note, the square brackets on the right create the sub-array for the server's data pieces and return a reference to this new array. Also, on the left side we just use the current value of <strong>$count</strong> as an index within the <strong>@servers</strong> array and as the value increases, the size of the <strong>@servers</strong> array will grow automatically (this is called autovivification of new elements). Alternatively, you can <strong>push</strong> new elements onto the <strong>@servers</strong> array inside the loop, like this:</p>\n\n<pre><code>push @servers, [ $name, $cpuUtil, $avgMemUsage, $diskFree ];\n</code></pre>\n\n<p>This way, you explicitly ask for a new element to be added to the array and the square brackets still do the same creation of the sub-array.</p>\n\n<p>In any case, the end result is that after you are finished with the file read loop, you now have a 2D array where you can access the first server and its disk free field (the 4-th field at index 3) like this:</p>\n\n<pre><code>my $df = $servers[0][3];\n</code></pre>\n\n<p>Or inspect all the servers in a loop to find the minimum disk free:</p>\n\n<pre><code>my $min_s = 0;\nfor ( my $s = 0; $s &lt; @servers; $s++ ) {\n    $min_s = $s  if ( $servers[$s][3] &lt; $servers[$min_s][3] );\n}\nprint \"Server $min_s has least disk free: $servers[$min_s][3]\\n\";\n</code></pre>\n\n<p>Like @choroba suggested, you can store the server data pieces/fields in hashes, so that your code will be more readable. You can still store your list of servers in an array but the second dimension can be hash:</p>\n\n<pre><code>$servers[$count] = {\n    name          =&gt; $name,\n    cpu_util      =&gt; $cpuUtil,\n    avg_mem_usage =&gt; $avgMemUsage,\n    disk_free     =&gt; $diskFree\n};\n</code></pre>\n\n<p>So, your resulting structure will be an array of hashes. Here, the curly braces on the right create a new hash and return the reference to it. So, you can later refer to:</p>\n\n<pre><code>my $df = $servers[0]{disk_free};\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 8150364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d735eac49ba384bfdf66c31962dbdb5?s=128&d=identicon&r=PG&f=1", "display_name": "Apache", "link": "https://stackoverflow.com/users/8150364/apache"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1528158232, "creation_date": 1527447273, "last_edit_date": 1527518746, "question_id": 50555476, "link": "https://stackoverflow.com/questions/50555476/reading-data-from-file-into-an-array-to-manipulate-within-perl-script", "title": "Reading data from file into an array to manipulate within Perl script", "body": "<p>New to Perl. I need to figure out how to read from a file, separated by (:), into an array. Then I can manipulate the data.</p>\n\n<p>Here is a sample of the file 'serverFile.txt' (Just threw in random #'s)\nThe fields are Name : CPU Utilization: avgMemory Usage : disk free</p>\n\n<pre><code> Server1:8:6:2225410\n Server2:75:68:64392\n Server3:95:90:12806\n Server4:14:7:1548700\n</code></pre>\n\n<p>I would like to figure out how to get each field into its appropriate array to then perform functions on. For instance, find the server with the least amount of free disk space.</p>\n\n<p>The way I have it set up now, I do not think will work. So how do I put each element in each line into an array?</p>\n\n<pre><code>#!usr/bin/perl\n\nuse warnings;\nuse diagnostics;\nuse v5.26.1;\n\n#Opens serverFile.txt or reports and error\nopen (my $fh, \"&lt;\", \"/root//Perl/serverFile.txt\") \n    or die \"System cannot find the file specified. $!\";\n\n#Prints out the details of the file format\nsub header(){\n    print \"Server ** CPU Util% ** Avg Mem Usage ** Free Disk\\n\";\n    print \"-------------------------------------------------\\n\";\n}\n\n# Creates our variables\nmy ($name, $cpuUtil, $avgMemUsage, $diskFree);\nmy $count = 0;\nmy $totalMem = 0;\nheader();\n\n# Loops through the program looking to see if CPU Utilization is greater than 90%\n# If it is, it will print out the Server details\nwhile(&lt;$fh&gt;) {\n    # Puts the file contents into the variables\n    ($name, $cpuUtil, $avgMemUsage, $diskFree) = split(\":\", $_);\n    print \"$name **  $cpuUtil% ** $avgMemUsage% ** $diskFree% \", \"\\n\\n\", if $cpuUtil &gt; 90;\n    $totalMem = $avgMemUsage + $totalMem;\n    $count++;\n}\nprint \"The average memory usage for all servers is: \", $totalMem / $count. \"%\\n\";\n\n# Closes the file\nclose $fh;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 1, "creation_date": 1527431098, "post_id": 50553031, "comment_id": 88117016, "body": "Try spliting &quot;all in one&quot; argument =&gt; <code>@arguments = (&#39;bash&#39;, $easyrsa_path,&#39;build-client-full&#39;, $clientname, &#39;nopass&#39;);</code>"}, {"owner": {"reputation": 1686, "user_id": 3551483, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/I4c4V.png?s=128&g=1", "display_name": "Fang", "link": "https://stackoverflow.com/users/3551483/fang"}, "reply_to_user": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1527431605, "post_id": 50553031, "comment_id": 88117164, "body": "@Anfi That works. Thank you."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1527451366, "post_id": 50553031, "comment_id": 88122812, "body": "1) If you were ever to actually invoke the shell you need <code>&#47;path&#47;shell-name -c</code>  (2) Since <code>$clientname</code> is a variable that gets expanded you may need to ensure that everything in it gets quoted properly (like spaces). A good module for that is <code>String::ShellQuote</code>.  But if you use <code>system LIST</code> form, as recommended, that is not a problem since the whole<code>$clientname</code> is passed as one argument, no matter what it expands to"}], "answers": [{"comments": [{"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 1, "creation_date": 1527436708, "post_id": 50553263, "comment_id": 88118593, "body": "<i>&quot;<code>system(...)</code> ... will make perl call <code>easyrsa</code> directly unless the command contains things that need the shell to process, like output redirection&quot;</i> - Sorry, that&#39;s also incorrect, <code>system(LIST)</code> never calls the shell when <code>LIST</code> has more than one element."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1527437312, "post_id": 50553263, "comment_id": 88118773, "body": "(At least on *NIX / POSIX systems, Windows is more complicated.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1527440632, "post_id": 50553263, "comment_id": 88119750, "body": "@haukex: If you want to help then I think it would be best if you wrote an answer of your own rather than sniping at other people&#39;s. I removed the superfluous <code>bash</code> because it was irrelevant to my point\u2014it just introduces a second bash process\u2014and the <code>Unknown command &#39;build-client-full test nopass&#39;</code> error means that <code>build-client-full test nopass</code> reached <code>easyra</code>, so I imagine that it didn&#39;t come from the stated call. Please give citations for your second point."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1527448636, "post_id": 50553263, "comment_id": 88122079, "body": "Regarding my first comment, I see now what you were talking about, I was mistaken, apologies and comment withdrawn. I don&#39;t think &quot;sniping&quot; is a fair characterization; I liked the first version of your comment better \ud83d\ude1c I&#39;ve written a new answer though. That will hopefully answer your question about my comment reading <code>system(LIST)</code> (plus, just try running <code>perl -e &#39;system(&quot;echo&quot;,&quot;foo&quot;,&quot;&gt;bar&quot;)==0 or die $?&#39;</code>, with an <code>strace -f</code> to see it in action)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1527450125, "post_id": 50553263, "comment_id": 88122487, "body": "@haukex: <i>&quot;I don&#39;t think &quot;sniping&quot; is a fair characterization&quot;</i> I just don&#39;t think it&#39;s useful to pick holes in someone-else&#39;s answer without offering a correction. Thank you for elaborating."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1527450422, "post_id": 50553263, "comment_id": 88122557, "body": "@haukex: <i>&quot;just try running ... &quot;</i>  I don&#39;t have a command console near me, but I believe you. Most of my work is in Windows; what is the behaviour under Windows 10?"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1527451358, "post_id": 50553263, "comment_id": 88122811, "body": "Fair enough - I usually take any criticism as a chance to double-check myself, but I certainly didn&#39;t help my case by making a mistake with my first comment. Anyway, the output under Linux is <code>foo &gt;bar</code>, and on Win7 it actually does create the file - not surprising though, as per the &quot;Windows&quot; section of <a href=\"https://stackoverflow.com/a/50555635/9300627\">my answer</a> and the links therein. However <code>perl -e &quot;system(qw&#47;perl -MData::Dumper -e print(Dumper(\\@ARGV)) foo &gt;bar&#47;)==0 or die $?&quot;</code> prints <code>$VAR1 = [ &#39;foo&#39;, &#39;&gt;bar&#39; ];</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1529799169, "post_id": 50553263, "comment_id": 89005452, "body": "It just downed on my that you never approved of my edit (I did leave a comment), and that it appears that you may have actually disliked mine touching your post.  Apologies if that is so, I only tried to act constructively.  So I&#39;m rolling away my changes."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1529799176, "last_edit_date": 1529799176, "creation_date": 1527431978, "answer_id": 50553263, "question_id": 50553031, "link": "https://stackoverflow.com/questions/50553031/calling-a-shell-command-with-multiple-arguments/50553263#50553263", "title": "Calling a shell command with multiple arguments", "body": "<p>If you pass multiple parameters to <code>system</code> then each one forms a separate parameter to the command line. So it is as though you had entered</p>\n\n<pre><code>easyrsa \"build-client-full test nopass\"\n</code></pre>\n\n<p>and you correctly get the error</p>\n\n<blockquote>\n  <p>Unknown command 'build-client-full test nopass'</p>\n</blockquote>\n\n<p>You also don't need to add <code>bash</code>: perl will run the shell for you if necessary</p>\n\n<p>You can either pass the whole command to <code>system</code></p>\n\n<pre><code>system($cmd)\n</code></pre>\n\n<p>and perl will pass it to the shell to be processed as if you'd entered it at the command prompt. Or you can split the parameters properly</p>\n\n<pre><code>system(\"$easyrsa_path/easyrsa\", \"build-client-full\", $clientname, \"nopass\")\n</code></pre>\n\n<p>which will make perl call <code>easyrsa</code> directly unless the command contains things that need the shell to process, like output redirection</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527450568, "post_id": 50555635, "comment_id": 88122596, "body": "Yes, <code>system(1, @args)</code> is very poorly documented. Platform-specific functionality shouldn&#39;t be exiled to <code>perlport</code>."}], "tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": true, "score": 3, "last_activity_date": 1527461001, "last_edit_date": 1527461001, "creation_date": 1527448431, "answer_id": 50555635, "question_id": 50553031, "link": "https://stackoverflow.com/questions/50553031/calling-a-shell-command-with-multiple-arguments/50555635#50555635", "title": "Calling a shell command with multiple arguments", "body": "<h2>Background</h2>\n\n<p>When you use <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\"><code>system(LIST)</code></a> where <code>LIST</code> has more than one element, Perl will not call the shell, and instead directly invoke the program given by the first element in the <code>LIST</code>, and use the rest of the list as command line arguments to be passed <em>verbatim</em>, with <em>no</em> interpolation by the shell, including <em>no</em> splitting arguments on whitespace.</p>\n\n<p>So in your first example, Perl is running the command <code>bash</code> and passing the string <code>\"$easyrsa_path/easyrsa build-client-full $clientname nopass\"</code>, literally as <em>one</em> big long argument, and in your second example, it's running the command <code>bash</code> and passing the two arguments <code>$easyrsa_path</code> and <code>\"build-client-full $clientname nopass\"</code>. However, I assume that <code>easyrsa</code> needs the three arguments as separate strings in its argument list, which the shell would normally split, but since both of your calls to <code>system</code> aren't using the shell, it's not working.</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\"><code>system</code></a> (and <a href=\"http://perldoc.perl.org/functions/exec.html\" rel=\"nofollow noreferrer\"><code>exec</code></a>) have four ways of interpreting their arguments, as per the documentation:</p>\n\n<ol>\n<li><p>If you pass a single string (including a <code>LIST</code> with only one element) that does not contain any shell metacharacters, it is split into words and passed directly to <a href=\"http://www.freebsd.org/cgi/man.cgi?query=execvp&amp;sektion=3&amp;manpath=SuSE+Linux/i386+11.3\" rel=\"nofollow noreferrer\"><code>execvp(3)</code></a> (meaning it bypasses the shell).\n<strong>Warning:</strong> This invocation is easily confused with the following - a single metacharacter will cause the shell to be invoked, which can be dangerous especially when unchecked variables are interpolated into the command string.</p></li>\n<li><p>If you pass a single string (including a <code>LIST</code> with only one element) that does contain shell metacharacters, the entire argument is passed to the system's command shell for parsing. Normally, that's <code>/bin/sh -c</code> on Unix platforms, but <a href=\"https://www.perlmonks.org/?node_id=1205217\" rel=\"nofollow noreferrer\">the idea of the \"default shell\" is problematic</a>, and there is certainly no guarantee that it'll be <code>bash</code> (though it <em>could</em> be).</p>\n\n<p><strong>Warning:</strong> In this invocation of <code>system</code>, you have the full power of the shell, which also means you're responsible for correctly quoting and escaping any shell metacharacters and/or whitespace. I recommend you <em>only</em> use this form if you <em>explicitly want</em> the power of the shell, and otherwise, it's usually best to use one of the following two.</p></li>\n<li><p>If there is more than one argument in <code>LIST</code>, this calls <code>execvp(3)</code> with the arguments in <code>LIST</code>, meaning the shell is avoided.\n(See below for caveats on Windows.)</p></li>\n<li><p>The form <code>system {EXPR} LIST</code> <em>always</em> runs the program named by <code>EXPR</code> and avoids the shell, no matter what's in <code>LIST</code>.\n(See below for caveats on Windows.)</p></li>\n</ol>\n\n<p>The latter two are desirable if you want to pass special characters that the shell would normally interpret, and I'd actually always recommend doing this, since blindly passing user input into <code>system</code> can open up a security hole - I wrote a longer article about that <a href=\"https://www.perlmonks.org/?node_id=1180578\" rel=\"nofollow noreferrer\">over on PerlMonks</a>.</p>\n\n<h2>Solutions</h2>\n\n<p>@Borodin and @AnFi have already pointed out: If you simply split up the elements of the <code>LIST</code> properly, it should work - it doesn't look like you need any features of <code>bash</code> or any shell here. And don't forget to check for errors!</p>\n\n<pre><code>system(\"$easyrsa_path/easyrsa\",\"build-client-full\",$clientname,\"nopass\") == 0\n    or warn \"system failed: \\$? = $?\";\n</code></pre>\n\n<p>Note that there are good modules that provide <a href=\"https://www.perlmonks.org/?node_id=1180578#the_better_alternatives\" rel=\"nofollow noreferrer\">alternatives to <code>system</code> and <code>qx</code></a>, my go-to module is usually <a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow noreferrer\"><code>IPC::Run3</code></a>. These modules are very helpful if you want to capture output from the external command. In this case, <a href=\"https://metacpan.org/pod/IPC::System::Simple\" rel=\"nofollow noreferrer\"><code>IPC::System::Simple</code></a> might be easier since it provides a drop-in replacement for <code>system</code> with better error handling, as well as <code>systemx</code> which always avoids the shell. (That module is what <a href=\"http://perldoc.perl.org/autodie.html\" rel=\"nofollow noreferrer\"><code>autodie</code></a> uses when you say <code>use autodie ':all';</code>.)</p>\n\n<pre><code>use IPC::System::Simple qw/systemx/;\nsystemx(\"$easyrsa_path/easyrsa\",\"build-client-full\",$clientname,\"nopass\");\n</code></pre>\n\n<p>Note that if you <em>really</em> wanted to call <code>bash</code>, you'd need to add the <code>-c</code> option and say <code>system(\"bash\",\"-c\",\"--\",\"$easyrsa_path/easyrsa build-client-full $clientname nopass\")</code>. But as I a said above, I strongly recommend against this, since if <code>$easyrsa_path</code> or <code>$clientname</code> contain any shell metacharacters or malicious content, you may end up having a huge problem.</p>\n\n<h2>Windows</h2>\n\n<p>Windows is more complicated than the above. The documentation says that the only \"reliable\" way to avoid calling the shell there is the <code>system PROGRAM LIST</code> form, but on Windows, command line arguments are not passed as a list, but a single big string, and it's up to the called command, not the shell, to interpret that string, and different commands may do that differently - <a href=\"https://www.perlmonks.org/?node_id=1199200\" rel=\"nofollow noreferrer\">see also</a>. (I have heard good things about <a href=\"https://metacpan.org/pod/Win32::ShellQuote\" rel=\"nofollow noreferrer\"><code>Win32::ShellQuote</code></a>, though.)</p>\n\n<p>Plus, there's the special <code>system(1, @args)</code> form documented in <a href=\"http://perldoc.perl.org/perlport.html#system\" rel=\"nofollow noreferrer\">perlport</a>.</p>\n"}], "owner": {"reputation": 1686, "user_id": 3551483, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/I4c4V.png?s=128&g=1", "display_name": "Fang", "link": "https://stackoverflow.com/users/3551483/fang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1742, "favorite_count": 1, "accepted_answer_id": 50555635, "answer_count": 2, "score": 1, "last_activity_date": 1529799176, "creation_date": 1527430645, "question_id": 50553031, "link": "https://stackoverflow.com/questions/50553031/calling-a-shell-command-with-multiple-arguments", "title": "Calling a shell command with multiple arguments", "body": "<p>I'm trying to automate creating certificates via a Perl script.</p>\n\n<p>The command I want to run is:</p>\n\n<pre><code>easyrsa build-client-full $clientname nopass\n</code></pre>\n\n<p>The way I thought it should be done in Perl is:</p>\n\n<pre><code>   my $arguments = (\"build-client-full $clientname nopass\");       \n   my $cmd = \"$easyrsa_path/easyrsa\".\" \".\"$arguments\";\n   system(\"bash\", $cmd);\n</code></pre>\n\n<p>However, this yields </p>\n\n<blockquote>\n  <p>\"file not found\"</p>\n</blockquote>\n\n<p>on execution. I triple checked that the path is correct.</p>\n\n<p>If I try it like this:</p>\n\n<pre><code>   my @arguments = (\"bash\", $easyrsa_path,\"build-client-full $clientname nopass\");\n   system(@arguments);\n</code></pre>\n\n<p>Bash returns </p>\n\n<blockquote>\n  <p>\"Unknown command 'build-client-full test nopass'. Run without commands\n  for usage help.\"</p>\n</blockquote>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1527418791, "post_id": 50551426, "comment_id": 88113717, "body": "Match <code>&#47;,[^,]*$&#47;</code> and replace by empty string."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527442317, "post_id": 50551426, "comment_id": 88120258, "body": "Yet another way: <code>&#47;.*\\K,.*&#47;&#47;</code> -- match all (<code>.*</code>) greedily, so up to the <i>last</i> occurrence of the following character (comma here) and drop all those matches (<code>\\K</code>), match a comma and then all else (<code>.*</code>) and remove it."}], "answers": [{"tags": [], "owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "is_accepted": false, "score": 5, "last_activity_date": 1527419020, "creation_date": 1527419020, "answer_id": 50551473, "question_id": 50551426, "link": "https://stackoverflow.com/questions/50551426/regex-to-remove-everything-after-the-last-comma-in-a-string/50551473#50551473", "title": "regex to remove everything after the last comma in a string", "body": "<p>If the comma is always followed by one or more digits, you can use: <code>s/,\\d+$//</code>. More generally, use <code>s/,[^,]*$//</code> (match a comma followed by zero or more non-comma characters followed by end-of-string).</p>\n"}, {"tags": [], "owner": {"reputation": 216, "user_id": 7951631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1899ef82c0888726bacd9867036ca372?s=128&d=identicon&r=PG&f=1", "display_name": "Laurent Mouchart", "link": "https://stackoverflow.com/users/7951631/laurent-mouchart"}, "is_accepted": false, "score": 0, "last_activity_date": 1527665519, "creation_date": 1527665519, "answer_id": 50598832, "question_id": 50551426, "link": "https://stackoverflow.com/questions/50551426/regex-to-remove-everything-after-the-last-comma-in-a-string/50598832#50598832", "title": "regex to remove everything after the last comma in a string", "body": "<p>This Regex captures everything before the last <code>,</code>.</p>\n\n<pre><code>(.*),[^,]*$\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 5013952, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qs0M5O30Nb8/AAAAAAAAAAI/AAAAAAAAAYo/N-JL8gz-FOQ/photo.jpg?sz=128", "display_name": "sandeep singh", "link": "https://stackoverflow.com/users/5013952/sandeep-singh"}, "edited": false, "score": 0, "creation_date": 1527865499, "post_id": 50646316, "comment_id": 88303110, "body": "I don&#39;t know even after typing correctly, why chomp($_) not showing underscore above."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527865884, "post_id": 50646316, "comment_id": 88303367, "body": "Please test your code. Replacing a matched pattern by itself isn&#39;t very useful."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527865969, "post_id": 50646316, "comment_id": 88303419, "body": "You don&#39;t need to specify <code>$_</code> in either the <code>chomp</code> or the substitution."}], "tags": [], "owner": {"reputation": 39, "user_id": 5013952, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qs0M5O30Nb8/AAAAAAAAAAI/AAAAAAAAAYo/N-JL8gz-FOQ/photo.jpg?sz=128", "display_name": "sandeep singh", "link": "https://stackoverflow.com/users/5013952/sandeep-singh"}, "is_accepted": false, "score": -1, "last_activity_date": 1527865826, "last_edit_date": 1527865826, "creation_date": 1527865430, "answer_id": 50646316, "question_id": 50551426, "link": "https://stackoverflow.com/questions/50551426/regex-to-remove-everything-after-the-last-comma-in-a-string/50646316#50646316", "title": "regex to remove everything after the last comma in a string", "body": "<pre><code>perl -n -e 'chomp; s/(.+,)/$1/g; print \"$_\\n\";' inputfile.txt\n</code></pre>\n\n<p>Just run this command directly on terminal, the regex just selects all text which comes before last comma).</p>\n"}], "owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3930, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1527865826, "creation_date": 1527418709, "last_edit_date": 1527420121, "question_id": 50551426, "link": "https://stackoverflow.com/questions/50551426/regex-to-remove-everything-after-the-last-comma-in-a-string", "title": "regex to remove everything after the last comma in a string", "body": "<p>I would like to write a regex in Perl which will remove everything after the last comma in a string. I know the substring after the last comma is a number or some other substring, so no commas there.</p>\n\n<p>Example: <code>some\\string,/doesnt-really.metter,5</code>.</p>\n\n<p>I would like the regex to remove the last comma and the <code>5</code> so the output would be: <code>some\\string,/doesnt-really.metter</code></p>\n\n<p>I am not allowed to use any additional module only with regex. So which regex should I use?</p>\n\n<p>Another example:</p>\n\n<p><code>string_with,,,,,_no_point,some_string =&gt; string_with,,,,,_no_point</code></p>\n"}, {"tags": ["windows", "perl", "tcl", "strawberry-perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1527393254, "post_id": 50548736, "comment_id": 88108529, "body": "This is probably related to how ActiveTcl is built with Visual-C++ but Strawberry Perl is built with MinGW (if Strawberry Perl couldn&#39;t see your tclsh, you wouldn&#39;t even get this far)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1527395109, "post_id": 50548736, "comment_id": 88108803, "body": "This is this bug: <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=71535\" rel=\"nofollow noreferrer\">rt.cpan.org/Public/Bug/Display.html?id=71535</a>"}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 2, "last_activity_date": 1527397679, "creation_date": 1527397679, "answer_id": 50549182, "question_id": 50548736, "link": "https://stackoverflow.com/questions/50548736/strawberry-perl-cant-build-tcl-module/50549182#50549182", "title": "Strawberry Perl: can&#39;t build Tcl module", "body": "<p>I managed to get the build to work on Strawberry Perl 5.26. (The binutils package bundled with 5.24 seems to have a bug that makes it not recognize the <code>.lib</code> files from Tcl.)</p>\n\n<p>The issue seems to be</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Warning (mostly harmless): No library found for -ltcl86\n</code></pre>\n\n<p>in the vanilla build, because that library is definitely required. In my <code>C:\\ActiveTcl\\lib</code> there is indeed no <code>tcl86.lib</code>, but there is a <code>tcl86t.lib</code>.</p>\n\n<p>So ...</p>\n\n<ol>\n<li>Run <code>cpan</code>. This drops you in the cpan shell.</li>\n<li>Run <code>look Tcl</code>. This downloads the Tcl module (if necessary) and drops you in the cmd shell in the build directory.</li>\n<li>Edit <code>Makefile.PL</code> using your favorite editor.</li>\n<li><p>Around line 183 there should be a line saying:</p>\n\n<pre><code>        $libpath .= \" -ltcl$buildtype$tclver\";\n</code></pre>\n\n<p>Add another line after it:</p>\n\n<pre><code>        $libpath .= \"t\";\n</code></pre></li>\n<li><p>Save and exit your editor.</p></li>\n<li>Run <code>perl Makefile.PL</code>. It should now be using <code>-ltcl86t</code>.</li>\n<li>Type <code>exit</code> in the cmd shell to get back to the cpan shell.</li>\n<li>Run <code>install Tcl</code>. This should go through successfully.</li>\n<li>Type <code>exit</code> again to exit the cpan shell.</li>\n</ol>\n"}], "owner": {"reputation": 533, "user_id": 2035378, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/116050e40967e291257082fd770ffffd?s=128&d=identicon&r=PG", "display_name": "Colin Wu", "link": "https://stackoverflow.com/users/2035378/colin-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "accepted_answer_id": 50549182, "answer_count": 1, "score": 0, "last_activity_date": 1565104869, "creation_date": 1527391104, "last_edit_date": 1565104869, "question_id": 50548736, "link": "https://stackoverflow.com/questions/50548736/strawberry-perl-cant-build-tcl-module", "title": "Strawberry Perl: can&#39;t build Tcl module", "body": "<p>I am having trouble building the Tkx module with Strawberry Perl on a Windows 10 platform. It is failing on the Tcl dependency. The errors are:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Tcl.o:Tcl.c:(.text+0x65): undefined reference to `__imp_Tcl_GetStringFromObj'\nTcl.o:Tcl.c:(.text+0x15e): undefined reference to `__imp_Tcl_ListObjGetElements'\nTcl.o:Tcl.c:(.text+0x1fb): undefined reference to `__imp_Tcl_GetStringFromObj'\nTcl.o:Tcl.c:(.text+0x29a): undefined reference to `__imp_Tcl_GetByteArrayFromObj'\nTcl.o:Tcl.c:(.text+0x4bf): undefined reference to `__imp_Tcl_NewStringObj'\nTcl.o:Tcl.c:(.text+0x538): undefined reference to `__imp_Tcl_NewDoubleObj'\nTcl.o:Tcl.c:(.text+0x58f): undefined reference to `__imp_Tcl_NewStringObj'\nTcl.o:Tcl.c:(.text+0x5d7): undefined reference to `__imp_Tcl_NewByteArrayObj'\nTcl.o:Tcl.c:(.text+0x621): undefined reference to `__imp_Tcl_NewListObj'\nTcl.o:Tcl.c:(.text+0x643): undefined reference to `__imp_Tcl_ListObjAppendElement'\nTcl.o:Tcl.c:(.text+0x6a1): undefined reference to `__imp_Tcl_NewObj'\nTcl.o:Tcl.c:(.text+0x6af): undefined reference to `__imp_Tcl_ListObjAppendElement'\nTcl.o:Tcl.c:(.text+0x6d1): undefined reference to `__imp_Tcl_NewIntObj'\nTcl.o:Tcl.c:(.text+0x786): undefined reference to `__imp_Tcl_NewByteArrayObj'\nTcl.o:Tcl.c:(.text+0x839): undefined reference to `__imp_Tcl_WrongNumArgs'\n</code></pre>\n\n<p>and many, many more similar errors. I searched, but I found nothing even close. The Strawberry Perl version is 5.26.4 and I did the recommended</p>\n\n<pre><code>cpan Tkx\n</code></pre>\n\n<p>I get the same errors when trying to build the Tcl module by itself with:</p>\n\n<pre><code>cpan Tcl\n</code></pre>\n\n<p>I have ActiveTcl installed, but Strawberry Perl doesn't seem to see it.</p>\n\n<p>How do I get a working Tcl module for Strawberry Perl?</p>\n"}, {"tags": ["perl", "model-view-controller", "mojolicious"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527333586, "post_id": 50542092, "comment_id": 88095548, "body": "Have you considered using <a href=\"https://metacpan.org/pod/Mojolicious::Lite\" rel=\"nofollow noreferrer\"><code>Mojolicious::Lite</code></a>? It does all that you should need if you&#39;re just beginning."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1527333983, "post_id": 50542092, "comment_id": 88095665, "body": "Fun. After a quick search I can find approximately zero documentation on models in Mojolicious. Even your link just shows what&#39;s essentially a random class with a singleton instance."}, {"owner": {"reputation": 145, "user_id": 6150003, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3153eed198c13a08fc7ba7ca1f57e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "rooger", "link": "https://stackoverflow.com/users/6150003/rooger"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527335731, "post_id": 50542092, "comment_id": 88096101, "body": "@Borodin  Yes, but I need to learn to this the MVC way, thanks for the fast reply"}, {"owner": {"reputation": 145, "user_id": 6150003, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3153eed198c13a08fc7ba7ca1f57e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "rooger", "link": "https://stackoverflow.com/users/6150003/rooger"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1527335781, "post_id": 50542092, "comment_id": 88096116, "body": "@melpomene yes, unfortunately the documentation especially with examples is rare, thanks for the reply"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527336376, "post_id": 50542092, "comment_id": 88096308, "body": "@rooger: I suggest that you start with <code>Mojolicious::Lite</code> and work from there, learning the infrastructure as you encounter it. The official IRC channel <code>#mojo</code> on <code>irc.perl.org</code> is excellent for support."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1527336433, "post_id": 50542092, "comment_id": 88096327, "body": "Consider looking at DBIx::Class and specifically Schema::Loader. If you have a database set up already, you can autodiscover this, to obtain a $schema object, which you could use as your model of the database."}, {"owner": {"reputation": 145, "user_id": 6150003, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3153eed198c13a08fc7ba7ca1f57e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "rooger", "link": "https://stackoverflow.com/users/6150003/rooger"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1527338481, "post_id": 50542092, "comment_id": 88096920, "body": "@bytepusher  hello, right now I am reading about this, is it possible to provide a short example of a connection/query/ sending data to controller/view?"}, {"owner": {"reputation": 190, "user_id": 9053226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z1XNt.jpg?s=128&g=1", "display_name": "A Gold Man", "link": "https://stackoverflow.com/users/9053226/a-gold-man"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1527397622, "post_id": 50542092, "comment_id": 88109210, "body": "@melpomene you can&#39;t find docs on models because Mojo intentionally doesn&#39;t tie itself to a specific model structure. I&#39;m sure if you&#39;d look for the docs for Catalyst, which does include the model layer, you&#39;ll find examples."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 190, "user_id": 9053226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z1XNt.jpg?s=128&g=1", "display_name": "A Gold Man", "link": "https://stackoverflow.com/users/9053226/a-gold-man"}, "edited": false, "score": 0, "creation_date": 1527398112, "post_id": 50542092, "comment_id": 88109293, "body": "@AGoldMan Then maybe the documentation should say that, and not <a href=\"https://mojolicious.org/perldoc/Mojolicious/Guides/Growing#Model-View-Controller\" rel=\"nofollow noreferrer\">&quot;<i>A slightly modified version of &#91;Model View Controller&#93; moving some application logic into the controller is the foundation of pretty much every web framework these days, including Mojolicious.</i>&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 6150003, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3153eed198c13a08fc7ba7ca1f57e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "rooger", "link": "https://stackoverflow.com/users/6150003/rooger"}, "is_accepted": false, "score": 2, "last_activity_date": 1527356400, "creation_date": 1527356400, "answer_id": 50545445, "question_id": 50542092, "link": "https://stackoverflow.com/questions/50542092/perl-mojolicious-model/50545445#50545445", "title": "Perl Mojolicious Model", "body": "<p>Later edit:  I have managed somehow via this tutorial:<br>\n<a href=\"http://oliverguenther.de/2014/04/applications-with-mojolicious-part-four-database-schemas-with-dbixclass/\" rel=\"nofollow noreferrer\">http://oliverguenther.de/2014/04/applications-with-mojolicious-part-four-database-schemas-with-dbixclass/</a><br>\nGithub code for when you are now sure where the author is creating a file is available here:<br>\n<a href=\"https://github.com/oliverguenther/Moblo\" rel=\"nofollow noreferrer\">https://github.com/oliverguenther/Moblo</a><br>\nIf you encounter problems also check this:<br>\n<a href=\"https://stackoverflow.com/questions/29091017/mojolicious-deploying-database-schema\">Mojolicious Deploying database schema</a></p>\n"}], "owner": {"reputation": 145, "user_id": 6150003, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3153eed198c13a08fc7ba7ca1f57e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "rooger", "link": "https://stackoverflow.com/users/6150003/rooger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1605986067, "creation_date": 1527332747, "last_edit_date": 1527333547, "question_id": 50542092, "link": "https://stackoverflow.com/questions/50542092/perl-mojolicious-model", "title": "Perl Mojolicious Model", "body": "<p>I am creating a\n<a href=\"https://mojolicious.org\" rel=\"nofollow noreferrer\"><em>Mojolicious</em></a>\napplication but I can't understand the <a href=\"https://mojolicious.org/perldoc/Mojolicious/Guides/Growing#Model\" rel=\"nofollow noreferrer\">documentation for creating a model</a>.</p>\n\n<p>Could someone provide an example of how to create a model, run a raw SQL query and get the results in a controller to pass to the view?</p>\n\n<p>I am thinking of something like this:</p>\n\n<h3>Model</h3>\n\n<pre><code>package LS::Model::Dt;  \nuse Mojo::Base;  \nuse DBI;  \n\n# Here is what I don't understand\n# Do I need to create a subroutine that connects to the database like this?  \n\nsub connect_db {\n\n  my $user       = 'user_sql';\n  my $pass       = 'pass_sql';\n  my $connection = \"dbi:Sybase:server=db.sql-srv.com;database=Adventure\";\n  my $dbh = DBI-&gt;connect($connection, $user, $pass) or die 'Cannot connect';\n}  \n\nsub queries{\n\n  my $query_selectall = \"select * from foo\";\n  my $all_query       = $dbh-&gt;selectall_arrayref($query_selectall, {Slice =&gt; {}});\n}\n</code></pre>\n\n<h3>Controller</h3>\n\n<pre><code>package LS::Controller::Home;\n\nuse Mojo::Base 'Mojolicious::Controller';\nuse LS::Model::Dt\n\nsub home {\n    my $self = shift;\n\n    # Somehow get the query results here\n    my $query_res = #somehow get the query results here\n\n    $self-&gt;render(res=&gt;$query_res);\n}\n\n\n1;\n</code></pre>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1527281303, "post_id": 50536539, "comment_id": 88085367, "body": "There is no match. Try <code>,, server100-4.,,</code> Note that there is no need for <code>\\s\\b</code> since between space&lt;here&gt;letter is a word boundary. Remove one of those."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1527281538, "post_id": 50536539, "comment_id": 88085451, "body": "Also, there is no need for <code>^</code> as <code>.+</code> will not only force a required character, but will get the <i>last</i> found (of what comes after)."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1527282407, "post_id": 50536654, "comment_id": 88085753, "body": "What&#39;s working? <code>\\s\\b([a-zA-Z]{4,8}\\d{1,3})(?=-\\d\\.)</code> doesn&#39;t match anything in <code>Host 31.201.188.199.in-addr.arpa. not found: 3(NXDOMAIN)</code> I don&#39;t see it. Oh wait, he just doesn&#39;t want it to print."}], "tags": [], "owner": {"reputation": 100758, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "is_accepted": true, "score": 3, "last_activity_date": 1527281213, "creation_date": 1527281213, "answer_id": 50536654, "question_id": 50536539, "link": "https://stackoverflow.com/questions/50536539/regular-expression-in-perl-does-not-work-as-expected/50536654#50536654", "title": "Regular expression in perl does not work as expected", "body": "<p>Your regex doesn't match, so no substitution is made. The line is therefore printed as is.</p>\n\n<p>If you don't want to print when there is no match, you can use <code>-n</code> instead of <code>-p</code>, plus <code>and print</code> to print the line on successful substitution:</p>\n\n<pre><code>echo \"Host 31.201.188.199.in-addr.arpa. not found: 3(NXDOMAIN)\" | \n    perl -n -e 's#^.+?\\s\\b([a-zA-Z]{4,8}\\d{1,3})(?=-\\d\\.).+?(?=\\.$)#\\1# and print'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1527281854, "creation_date": 1527281854, "answer_id": 50536752, "question_id": 50536539, "link": "https://stackoverflow.com/questions/50536539/regular-expression-in-perl-does-not-work-as-expected/50536752#50536752", "title": "Regular expression in perl does not work as expected", "body": "<p>I assume the sample text that you show shouldn't be printed at all?</p>\n\n<p>I suggest that you use a simple match instead of a substitution. I've also removed the superfluous parts of your regex pattern</p>\n\n<pre><code>perl -lne 'print $1 if /.*\\s([a-z]{4,8}\\d{1,3})(?=-\\d\\.)/i'\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9848787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kelotich_", "link": "https://stackoverflow.com/users/9848787/kelotich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 50536654, "answer_count": 2, "score": 0, "last_activity_date": 1527281854, "creation_date": 1527280651, "question_id": 50536539, "link": "https://stackoverflow.com/questions/50536539/regular-expression-in-perl-does-not-work-as-expected", "title": "Regular expression in perl does not work as expected", "body": "<p>I have a simple bash script that uses a line of perl code + regex to extract the necessary piece of string. It looks like</p>\n\n<pre><code>ANSWER=$(host $IPW 2&gt;/dev/null | perl -p -e 's#^.+\\s\\b([a-zA-Z]{4,8}\\d{1,3})(?=-\\d\\.).+$#\\1#;'\n</code></pre>\n\n<p>It works for the most part, but produces unexpected matches from time to time. Example:</p>\n\n<pre><code>$ echo \"Host 31.201.188.199.in-addr.arpa. not found: 3(NXDOMAIN)\" | perl -p -e 's#^.+?\\s\\b([a-zA-Z]{4,8}\\d{1,3})(?=-\\d\\.).+?(?=\\.$)#\\1#;'\n\nHost 31.201.188.199.in-addr.arpa. not found: 3(NXDOMAIN)\n</code></pre>\n\n<p>The string is supposed to match parts of string like \"server100\" (letters + digits) and return the corresponding part. Is there something I am missing or don't understand yet. (sorry for bothering)</p>\n"}, {"tags": ["perl", "cron"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1527275255, "post_id": 50535406, "comment_id": 88082920, "body": "You should be able to interpret that from the crontab entry. <code>0 0,12 * * *</code> would run at noon and midnight. Otherwise, alter the script to log when it runs, or wrap it in a shell script which does that and run that from cron instead."}, {"owner": {"reputation": 399, "user_id": 3420699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AgkhT.jpg?s=128&g=1", "display_name": "pcjr", "link": "https://stackoverflow.com/users/3420699/pcjr"}, "edited": false, "score": 1, "creation_date": 1527309462, "post_id": 50535406, "comment_id": 88090478, "body": "Some systems log cron jobs in /var/log. Look <a href=\"https://askubuntu.com/questions/56683/where-is-the-cron-crontab-log\">here</a> for more info."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1527275422, "post_id": 50535475, "comment_id": 88082987, "body": "Don&#39;t use bareword filehandles for no reason. Always check the return value of <code>open</code>. <code>&#47;tmp&#47;last.time.the.program.ran</code> is a pretty bad filename to use. This code is open to symlink attacks."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1527275297, "creation_date": 1527275297, "answer_id": 50535475, "question_id": 50535406, "link": "https://stackoverflow.com/questions/50535406/how-to-check-when-perl-program-last-ran/50535475#50535475", "title": "How to check when perl program last ran?", "body": "<p>At the top of your script, put</p>\n\n<pre><code>open LAST, \"&gt;\", \"/tmp/last.time.the.program.ran\";\nprint LAST scalar localtime;\nclose LAST;\n</code></pre>\n\n<p>Now the command to see when your program last ran is</p>\n\n<pre><code>$ cat /tmp/last.time.the.program.ran\n</code></pre>\n\n<p>(You could also poke around <code>/var/log/cron</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 574, "user_id": 2656421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8a27cef8664dd07145fb80c3191423?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/2656421/doug"}, "is_accepted": false, "score": 0, "last_activity_date": 1527404527, "last_edit_date": 1527404527, "creation_date": 1527403565, "answer_id": 50549705, "question_id": 50535406, "link": "https://stackoverflow.com/questions/50535406/how-to-check-when-perl-program-last-ran/50549705#50549705", "title": "How to check when perl program last ran?", "body": "<p>To answer your first question, no, there is not a generalized way to know the last time a program was run.  And it's more complicated in this case, since a perl script isn't really a program - the <code>perl</code> interpreter is the executable and the script is the input to the interpreter.  So you'd really want to know the last time the <code>perl</code> interpreter was run and executed your script.</p>\n\n<p>Some mechanisms that run other programs (like <code>cron</code>) may keep log files that record when programs are run (and maybe their exit code or other information about the execution).  Note: this would not log every time this program was run - just when it was executed via <code>cron</code>.  Similarly, you could add some logging to your script to write to a file that it was run.  Though if the script failed to run, or could not write to the log file (say, for instance, your permissions were messed up), then it would not log that execution.  So it's not a fool-proof solution.  But it might be enough for your purposes.</p>\n\n<p>As for cron logging, you can <code>man cron</code> or <code>man crontab</code>, or look at some of the SO questions directly about cron logging.  For example,\n<a href=\"https://stackoverflow.com/questions/4811738/cron-jobs-how-to-log\">cron jobs - how to log?</a></p>\n"}], "owner": {"reputation": 105, "user_id": 5937195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc5df5213c5875af4507f20d7ab1a80?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob ", "link": "https://stackoverflow.com/users/5937195/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 50535475, "answer_count": 2, "score": 2, "last_activity_date": 1527404527, "creation_date": 1527274955, "question_id": 50535406, "link": "https://stackoverflow.com/questions/50535406/how-to-check-when-perl-program-last-ran", "title": "How to check when perl program last ran?", "body": "<p>I have a Perl script which runs 2 times a day using cron. I would like to know a command to check when my Perl program last ran. Does such command exists? If not, can you guys please tell me how will I accomplish this task?</p>\n"}, {"tags": ["javascript", "html", "perl"], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 9714968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535f442b24358d417ba0c303497f6345?s=128&d=identicon&r=PG&f=1", "display_name": "Surajit Mitra", "link": "https://stackoverflow.com/users/9714968/surajit-mitra"}, "edited": false, "score": 0, "creation_date": 1527273457, "post_id": 50534525, "comment_id": 88082159, "body": "The code snippet that you have given that is working but that is not the one what I want !  Let me give you an example. If a web page has a form and when you submit the form,  that page will fetch some data from a database and then display the output. While fetching the data it needs 9-10 seconds of time. On that particular time I need a loader or a progress bar to let user know that something is going on in the background. progress bar would be more preferable. User can see how much time left to load the web page."}, {"owner": {"reputation": 28753, "user_id": 2815635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mDBvL.png?s=128&g=1", "display_name": "Niklesh Raut", "link": "https://stackoverflow.com/users/2815635/niklesh-raut"}, "reply_to_user": {"reputation": 404, "user_id": 9714968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535f442b24358d417ba0c303497f6345?s=128&d=identicon&r=PG&f=1", "display_name": "Surajit Mitra", "link": "https://stackoverflow.com/users/9714968/surajit-mitra"}, "edited": false, "score": 0, "creation_date": 1527275425, "post_id": 50534525, "comment_id": 88082989, "body": "Fetching data via ajax right? Can you share that aJat code ?"}, {"owner": {"reputation": 404, "user_id": 9714968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535f442b24358d417ba0c303497f6345?s=128&d=identicon&r=PG&f=1", "display_name": "Surajit Mitra", "link": "https://stackoverflow.com/users/9714968/surajit-mitra"}, "edited": false, "score": 0, "creation_date": 1527276380, "post_id": 50534525, "comment_id": 88083387, "body": "I do not know much about ajax and I do not have any ajax code as well. I am using CGI script. where the perl code is doing the database query related stuffs after clicking on submit button of a form and and helping to create html report and displaying. But I am not sure how to show a progress bar while fetching or doing any background work! do you have any idea how to achieve this?"}], "tags": [], "owner": {"reputation": 28753, "user_id": 2815635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mDBvL.png?s=128&g=1", "display_name": "Niklesh Raut", "link": "https://stackoverflow.com/users/2815635/niklesh-raut"}, "is_accepted": false, "score": 0, "last_activity_date": 1527270713, "creation_date": 1527270713, "answer_id": 50534525, "question_id": 50534420, "link": "https://stackoverflow.com/questions/50534420/display-progress-bar-after-form-submit/50534525#50534525", "title": "Display progress bar after form submit", "body": "<p>Your data loaded quickly that's you are not seeing loader. I added one small video and it seems working.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.onreadystatechange = function () {\r\n  var state = document.readyState\r\n    if (state == 'complete') {\r\n          document.getElementById('interactive');    \r\n          document.getElementById('loading').style.visibility=\"hidden\";\r\n    }\r\n\r\n  \r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#loading{\r\n    width:100%;\r\n    height:100%;\r\n    position:fixed;\r\n    z-index:9999;\r\n    background:url(\"http://code.jquery.com/mobile/1.3.1/images/ajax-loader.gif\") no-repeat center center rgba(0,0,0,0.25)\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"loading\"&gt;&lt;/div&gt;\r\n&lt;video width=\"400\" controls&gt;\r\n  &lt;source src=\"mov_bbb.mp4\" type=\"video/mp4\"&gt;\r\n  &lt;source src=\"mov_bbb.ogg\" type=\"video/ogg\"&gt;\r\n  Your browser does not support HTML5 video.\r\n&lt;/video&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Comment if you are talking about any background loading like <code>Ajax</code></p>\n"}], "owner": {"reputation": 404, "user_id": 9714968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535f442b24358d417ba0c303497f6345?s=128&d=identicon&r=PG&f=1", "display_name": "Surajit Mitra", "link": "https://stackoverflow.com/users/9714968/surajit-mitra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3444, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527419773, "creation_date": 1527270145, "last_edit_date": 1527419773, "question_id": 50534420, "link": "https://stackoverflow.com/questions/50534420/display-progress-bar-after-form-submit", "title": "Display progress bar after form submit", "body": "<pre class=\"lang-js prettyprint-override\"><code>document.onreadystatechange = function () {\n\n    var state = document.readyState\n\n    if (state == 'complete') {\n        document.getElementById('interactive');\n        document.getElementById('loading').style.visibility=\"hidden\";\n    }\n}\n</code></pre>\n\n<pre class=\"lang-css prettyprint-override\"><code>#loading{\n    width:100%;\n    height:100%;\n    position:fixed;\n    z-index:9999;\n    background:url(\"http://code.jquery.com/mobile/1.3.1/images/ajax-loader.gif\") no-repeat center center rgba(0,0,0,0.25)\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=\"loading\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I am using the code that I have pasted here to show a loader on page loading.</p>\n\n<p>First of all I want to change this to a progress bar after form submit but am not getting any idea how to do that. And secondly this loader code that I am using is coming after the page loading is almost completed. Just before few seconds the loader is appearing, not after submitting the form.</p>\n\n<p>I am using CGI script (Perl and HTML) to write my code which runs on server.</p>\n\n<p>I have pasted a sample CGI code what I am using right now to generate HTML web page. You can see in the first line, I have included sleep of 5 seconds to let you know that in that place my code will be there to fetch data from database which will need 5-6 seconds of time and then according to the output it will print on web page. My only concern is that while fetching the data from database the web page keeps loading and not showing the loader that I have given in the first div, when all the fetching work is done then it is coming to the loader and showing for last 1-2 seconds. If I could put a progress bar while fetching (sleep(5) in this case), that would be the solution to my problem.</p>\n\n<pre><code>sleep(5);\n\nprint \"Content-type:text/html\\n\\n\";\nprint &lt;&lt;ENDOFTEXT;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;!-- This file has been downloaded from Bootsnipp.com. Enjoy! --&gt;\n&lt;title&gt;Carousel Inside Modal - Bootsnipp.com&lt;/title&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n&lt;!-- Latest compiled and minified CSS --&gt;\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\"&gt;\n\n&lt;!-- Optional theme --&gt;\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css\" integrity=\"sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp\" crossorigin=\"anonymous\"&gt;\n\n&lt;!-- Latest compiled and minified JavaScript --&gt;\n&lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\" integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\ndocument.onreadystatechange = function () {\n  var state = document.readyState\n  if (state == 'complete') {\n         document.getElementById('interactive');\n         document.getElementById('loading').style.visibility=\"hidden\";\n  }\n}\n&lt;/script&gt;\n&lt;style&gt;\n#loading{\n    width:100%;\n    height:100%;\n    position:fixed;\n    z-index:9999;\n    background:url(\"http://code.jquery.com/mobile/1.3.1/images/ajax-loader.gif\") no-repeat center center rgba(0,0,0,0.25)\n}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"loading\"&gt;&lt;/div&gt;\n\n&lt;div class=\"container\"&gt;\n    &lt;h1 align=\"center\"&gt; Webpage loading is done ! &lt;/h1&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n\nENDOFTEXT\n</code></pre>\n"}, {"tags": ["regex", "perl", "sed", "regex-lookarounds"], "comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 1, "creation_date": 1527262510, "post_id": 50532600, "comment_id": 88077162, "body": "Sed does not support look-arounds, which are a PCRE construct (Perl compatible regular expressions); sed only supports Basic and Extended regular expressions."}, {"owner": {"reputation": 600, "user_id": 9691276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5tfX.jpg?s=128&g=1", "display_name": "malan88", "link": "https://stackoverflow.com/users/9691276/malan88"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1527262634, "post_id": 50532600, "comment_id": 88077225, "body": "What tool might I use instead? Will the stated regex work?"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 1, "creation_date": 1527262778, "post_id": 50532600, "comment_id": 88077302, "body": "Could you add example input? Are the numbers on separate lines, or within text? As for tools, Perl comes to mind."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 2, "creation_date": 1527263066, "post_id": 50532600, "comment_id": 88077463, "body": "What would you like to output to be?"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1527263317, "post_id": 50532600, "comment_id": 88077573, "body": "Please add expected output."}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1527263597, "post_id": 50532600, "comment_id": 88077746, "body": "@malan - Perl would work.  Perl is pretty good at one-liners: <code>perl -pe &#39;s&#47;[0-9][0-9]*(?!(ST|[RN]D))&#47;&#47;g;&#39;</code>.  Sadly, given the question&#39;s tags, perl may be out of scope."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1527263657, "post_id": 50532600, "comment_id": 88077772, "body": "@Mr.Llama You need to add <code>[0-9]</code> to the lookahead. Otherwise it&#39;ll match <code>12</code> in <code>123RD</code>."}, {"owner": {"reputation": 600, "user_id": 9691276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5tfX.jpg?s=128&g=1", "display_name": "malan88", "link": "https://stackoverflow.com/users/9691276/malan88"}, "edited": false, "score": 0, "creation_date": 1527263697, "post_id": 50532600, "comment_id": 88077799, "body": "I don&#39;t know perl. but if it works, I wouldn&#39;t be opposed to using it and will modify tags and accept your answer. Also, I forgot an ordinal in my (ST|[RN]D): TH"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1527263714, "post_id": 50532600, "comment_id": 88077810, "body": "<code>12-29-19</code> is not a number. Why does your expected output show it as removed?"}, {"owner": {"reputation": 600, "user_id": 9691276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5tfX.jpg?s=128&g=1", "display_name": "malan88", "link": "https://stackoverflow.com/users/9691276/malan88"}, "edited": false, "score": 0, "creation_date": 1527263915, "post_id": 50532600, "comment_id": 88077909, "body": "Good point. Not a problem either. I can remove punctuation on my own."}], "answers": [{"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 0, "last_activity_date": 1527263021, "creation_date": 1527263021, "answer_id": 50532784, "question_id": 50532600, "link": "https://stackoverflow.com/questions/50532600/sed-regex-to-delete-all-numbers-except-ordinals/50532784#50532784", "title": "Sed Regex to delete all numbers except ordinals", "body": "<p>Perhaps this will get you most of the way there: a sequence of digits not followed by an alphanumeric character or end-of-line</p>\n\n<pre><code>$ cat file\nfoo 1234 bar 32nd gaz 1234\n1234hello\n\n$ sed -E 's/[[:digit:]]+($|[^[:alnum:]])/\\1/g' file\nfoo  bar 32nd gaz \n1234hello\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 600, "user_id": 9691276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5tfX.jpg?s=128&g=1", "display_name": "malan88", "link": "https://stackoverflow.com/users/9691276/malan88"}, "edited": false, "score": 0, "creation_date": 1527263803, "post_id": 50532824, "comment_id": 88077859, "body": "This is a very confusing regex. Could you explain it slightly more? The dollar signs and [^T] and [^D] are throwing me. Also, needs support for ordinal &#39;TH&#39;."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 600, "user_id": 9691276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5tfX.jpg?s=128&g=1", "display_name": "malan88", "link": "https://stackoverflow.com/users/9691276/malan88"}, "edited": false, "score": 0, "creation_date": 1527263827, "post_id": 50532824, "comment_id": 88077873, "body": "Sorry, I&#39;m going to add a breakdown."}, {"owner": {"reputation": 600, "user_id": 9691276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5tfX.jpg?s=128&g=1", "display_name": "malan88", "link": "https://stackoverflow.com/users/9691276/malan88"}, "edited": false, "score": 0, "creation_date": 1527264235, "post_id": 50532824, "comment_id": 88078057, "body": "Thank you Revo. I am going to accept your answer, but could you please add support for ordinal &#39;TH&#39; as in &#39;4TH&#39;. I initially forgot it in my question but have added it."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 600, "user_id": 9691276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5tfX.jpg?s=128&g=1", "display_name": "malan88", "link": "https://stackoverflow.com/users/9691276/malan88"}, "edited": false, "score": 0, "creation_date": 1527264373, "post_id": 50532824, "comment_id": 88078129, "body": "I won&#39;t go adding that into original version. So lazy I&#39;m but here it is <code>[0-9][0-9]*(([sS]([^Tt]|$)|[Tt]([^Hh]|$)|[RNrn]([^Dd]|$))|[^&zwnj;&#8203;RNSTrnst]|$)</code>"}, {"owner": {"reputation": 600, "user_id": 9691276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5tfX.jpg?s=128&g=1", "display_name": "malan88", "link": "https://stackoverflow.com/users/9691276/malan88"}, "edited": false, "score": 0, "creation_date": 1527268458, "post_id": 50532824, "comment_id": 88079987, "body": "Revo, it ended up failing on multiple number examples of the form 102ND AVENUE PARK. I&#39;m gonna switch the answer to the perl script. I guess our sed partisanship didn&#39;t pay off after all."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 600, "user_id": 9691276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5tfX.jpg?s=128&g=1", "display_name": "malan88", "link": "https://stackoverflow.com/users/9691276/malan88"}, "edited": false, "score": 0, "creation_date": 1527268732, "post_id": 50532824, "comment_id": 88080115, "body": "@malan You acted so quick without waiting for an answer. Anyhow, that was a mistake of not excluding numbers within <code>[^RNSTrnst]</code> set. You may want to play with live demo now."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1527269335, "post_id": 50532824, "comment_id": 88080378, "body": "I can&#39;t imagine how the OP is looking at that regexp compared to the regexps in the other answers and thinking &quot;yup, that&#39;s exactly the way I want my code to look!&quot; but in any case - you should mention that solution is GNU sed only for <code>-r</code>."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1527270021, "post_id": 50532824, "comment_id": 88080745, "body": "@EdMorton Programming isn&#39;t simple, regular expressions are no exception. Hence I wrote those comments on each pattern to explain which does what. I didn&#39;t write them for fun. And for gnu sed part, I mentioned by parenthesizing <i>POSIX ERE</i>.  At the time I was writing this answer <code>perl</code> tag wasn&#39;t added to the post otherwise I&#39;d have chose it. This answer is valid, right and provides helpful information. I got a downvote just after your comment. Weird."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1527270988, "post_id": 50532824, "comment_id": 88081130, "body": "I did not downvote you or I&#39;d have left a comment stating why. I certainly wouldn&#39;t downvote just because you didn&#39;t state the answer was GNU-only and the OP did ask for a sed solution so I can&#39;t fault you for providing one. You may notice my comment got an upvote so maybe the 2 things are related, idk. Yes, you&#39;re using a POSIX ERE but your answer requires GNU sed to execute it so I&#39;m just stating the obvious that you should state that GNU sed is required so future readers don&#39;t waste their time trying it with non-GNU seds."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1527271168, "post_id": 50532824, "comment_id": 88081215, "body": "@EdMorton Can we use ERE version with POSIX sed?! Anyhow, I updated to clearly state it."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1527271280, "post_id": 50532824, "comment_id": 88081260, "body": "Best I can tell all you&#39;d have to do for that to work with any POSIX sed is escape every (, ), and |. You could also replace <code>-r</code> with <code>-E</code> and then it&#39;d work with 2 seds - GNU (newer versions) and OSX."}], "tags": [], "owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "is_accepted": true, "score": 0, "last_activity_date": 1527273475, "last_edit_date": 1527273475, "creation_date": 1527263158, "answer_id": 50532824, "question_id": 50532600, "link": "https://stackoverflow.com/questions/50532600/sed-regex-to-delete-all-numbers-except-ordinals/50532824#50532824", "title": "Sed Regex to delete all numbers except ordinals", "body": "<p>Since sed doesn't have support for lookarounds you have to define each path using:</p>\n\n<pre><code>[0-9]+(([sS]([^Tt]|$)|[Tt]([^Hh]|$)|[RNrn]([^Dd]|$))|[^RNSTrnst0-9]|$)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/lhkVPp/1\" rel=\"nofollow noreferrer\">Live demo</a></p>\n\n<p>For case-insensitivity I included both upper and lower cases into bracket notations.</p>\n\n<p>GNU sed command (POSIX ERE):</p>\n\n<pre><code>sed -r 's/[0-9]+(([sS]([^Tt]|$)|[Tt]([^Hh]|$)|[RNrn]([^Dd]|$))|[^RNSTrnst0-9]|$)/\\1/g' file\n</code></pre>\n\n<p>Regex breakdown:</p>\n\n<pre><code>[0-9]+ # Match digits\n( # Start of Capturing Group #1\n    ( # Start of Capturing Group #2\n        [sS] # Match S or s\n        ( # Start of Capturing Group #3\n            [^Tt] # If a character exists after S it shouldn't be T\n            | # Or\n            $ # Match end of line position\n        ) # End of Capturing Group #3\n        | # Or \n        [RNrn] # Match a letter from set\n        ( # Start of Capturing Group #4\n            [^Dd] # If a character exists after R or N it shouldn't be D\n            | # Or\n            $ # Match end of line position\n        ) # End of Capturing Group #4\n    ) # End of Capturing Group #2\n    | # Or\n    [^RNSrns0-9] # Match a letter from other than one in set\n    | # Or\n    $ # Match end of line position\n) # End of Capturing Group #1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527270037, "post_id": 50533048, "comment_id": 88080756, "body": "Just use a non-backtracking quantifier: <code>s&#47; \\d++ (?!ST|TH|[RN]D) &#47;igx</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527272322, "post_id": 50533048, "comment_id": 88081674, "body": "@Borodin That also works, but I prefer to write backtracking-agnostic regexes where possible (i.e. regexes that work the same way whether quantifiers are greedy, non-greedy, or possessive) and in this case it&#39;s easily possible. Also, your code has two bugs: 1. Typo: You&#39;re missing a <code>&#47;</code>. 2. <code>\\d</code> matches more than just <code>[0-9]</code>; it matches all Unicode digit characters. You need <code>&#47;a</code> to fix that."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1527264055, "creation_date": 1527264055, "answer_id": 50533048, "question_id": 50532600, "link": "https://stackoverflow.com/questions/50532600/sed-regex-to-delete-all-numbers-except-ordinals/50533048#50533048", "title": "Sed Regex to delete all numbers except ordinals", "body": "<p>Sed doesn't support look-ahead, but Perl does. However, your regex isn't quite right: In <code>123RD</code> it matches <code>12</code> (because <code>12</code> is a sequence of digit that's not followed by <code>ST</code> or <code>ND</code> or <code>RD</code>; it's followed by <code>3</code>).</p>\n\n<p>You can fix this by adding adding <code>[0-9]</code> to the look-ahead:</p>\n\n<pre><code>perl -pe 's/[0-9][0-9]*(?!([0-9]|ST|[RN]D))//g'\n</code></pre>\n\n<p>Also, you don't need the inner capturing parens in the look-ahead group, <code>XX*</code> can be simplified to <code>X+</code>, and we want to exclude <code>TH</code> as well:</p>\n\n<pre><code>perl -pe 's/[0-9]+(?![0-9]|ST|[RN]D|TH)//g'\n</code></pre>\n\n<p>Sample output from your test input:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> METRO CONDOMINIUM AS DESC IN INST#  UNIT A\n126TH AVENUE INDUSTRIAL PARK\n AND --\n-st AVE CONDO\n</code></pre>\n\n<p>Note that the <code>1</code> in <code>1st</code> was removed. This is because <code>S</code> does not match <code>s</code>. We can fix that by making the regex case insensitive:</p>\n\n<pre><code>perl -pe 's/[0-9]+(?![0-9]|ST|[RN]D|TH)//ig' test.txt\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code> METRO CONDOMINIUM AS DESC IN INST#  UNIT A\n126TH AVENUE INDUSTRIAL PARK\n AND --\n-1st AVE CONDO\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527269903, "post_id": 50534013, "comment_id": 88080690, "body": "sed and awk should have been outmoded decades ago when Perl arrived. It is capable of everything that the older utilities can do plus much more <code>perl -pe &#39;s&#47; \\d++ (?!ST|TH|[RN]D) &#47;igx&#39; myfile</code> does the trick."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527270859, "post_id": 50534013, "comment_id": 88081070, "body": "@Borodin absolutely right. I wonder why that didn&#39;t happen? <a href=\"http://www.zoitz.com/archives/13\" rel=\"nofollow noreferrer\">zoitz.com/archives/13</a> :-)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527271291, "post_id": 50534013, "comment_id": 88081265, "body": "@EdMorton: Hehe the old &quot;write-only&quot; insult! Perl&#39;s a lot easier to read than the equivalent awk or sed unless you try really hard to obfuscate it. Compare my code to yours! I think the old languages hang on partly because of inertia and partly because Perl is seen more as a programming language than a command-line utility."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1527271582, "post_id": 50534013, "comment_id": 88081396, "body": "If perl were a lot easier to read than awk then there wouldn&#39;t BE <code>the old &quot;write-only&quot; insult</code>. Not that I actually care though, I&#39;m sure perl must have its uses or it wouldn&#39;t still be hanging around after all these years. I tried it and you have a bug in your code btw - <code>Substitution replacement not terminated at -e line 1.</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1527272885, "post_id": 50534013, "comment_id": 88081918, "body": "@EdMorton Well, if people actually learned Perl and wrote good code in it (instead of being afraid of it and vomiting out horrible code), then the world might be a better place. Case in point: The code in the comic you linked to  (<code>s&#47;:&#47;g</code>) has the same bug: There&#39;s a missing <code>&#47;</code> in the replacement part."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1527273195, "post_id": 50534013, "comment_id": 88082048, "body": "I think it&#39;s the sigils that upset people, which are essentially built-in Hungarian notation: it makes Perl code unusually rich with non-alphanumerics. Sorry about the error; I don&#39;t have a command prompt to hand to test stuff. There&#39;s a slash missing and the substitution should end with <code>...&#47;&#47;igx</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1527274523, "post_id": 50534013, "comment_id": 88082635, "body": "@revo: I&#39;m glad you enjoyed it! But seriously, isn&#39;t it odd that sed and awk remain popular when Perl is a superset of both of them? Moreover, they (and shell) have the same problem with multiple symbolic characters that Perl does."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527275160, "post_id": 50534013, "comment_id": 88082889, "body": "@Borodin Very late to comment. No... it&#39;s not odd, seriously. I never choose a tab to read my pdf files while an e-book reader exists. awk / sed is the ASIC-tool here."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1527276410, "post_id": 50534013, "comment_id": 88083399, "body": "@revo: I didn&#39;t realise there was a deadline; sorry! <i>&quot;I never choose a tab&quot;</i> do you mean a browser tab? I don&#39;t think reading PDF files can be compared to a choice of command-line tools. A similar anomaly exists with awk, which can replace sed in most situations. I&#39;m sure ASIC users would have gladly used BASIC if it were available."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527276636, "post_id": 50534013, "comment_id": 88083485, "body": "@Borodin No, I mean a tablet computer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1527277092, "post_id": 50534013, "comment_id": 88083656, "body": "@revo: You&#39;d really pick up a Kindle in preference to an Android tablet with a Kindle app? I can&#39;t relate to that at all. Perhaps that&#39;s why I can&#39;t understand people&#39;s preference for awk over Perl!"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527277827, "post_id": 50534013, "comment_id": 88083974, "body": "@Borodin Yes. Is that weird or something? The point is easy to get I&#39;m not sure why you complicate it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1527331740, "post_id": 50534013, "comment_id": 88095045, "body": "@revo: I think it is you who are complicating things by having a different tool for every circumstance. Do you also have a separate compass, camera, and diary to reduce the complication?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527511899, "post_id": 50534013, "comment_id": 88143783, "body": "@Borodin wrt why perl hasn&#39;t replaced awk and why it gets a bad reputation for it&#39;s syntax, see the perl answer just posted at <a href=\"https://stackoverflow.com/a/50566802/1745001\">stackoverflow.com/a/50566802/1745001</a> compared to the clear, simple awk solutions on the same page. I know you can&#39;t generalize from a single answer but that, to me, <b>is</b> absolutely typical of perl answers - just a mush of cryptic symbols in random combinations. I&#39;m sure it could be written clearly and simply in perl too but it almost never is because perl allows you to write briefer code so people do that despite the result being incomprehensible."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527566215, "post_id": 50534013, "comment_id": 88161297, "body": "@EdMorton: I agree that that example is disgraceful, and has presumably been upvoted by people who find such hackery to be clever. I don&#39;t think you&#39;ll find many examples of such poor coding, and it wouldn&#39;t stand a chance of passing a decent code review. However, the only awk I find readable is your own answer; the others are mostly opaque to me, not helped by the pervasive use of single-character identifiers which seems obligatory in most awk code. If you fairly compare Perl solutions to awk or sed, I think you will find that the former are more legible."}, {"owner": {"reputation": 600, "user_id": 9691276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5tfX.jpg?s=128&g=1", "display_name": "malan88", "link": "https://stackoverflow.com/users/9691276/malan88"}, "edited": false, "score": 0, "creation_date": 1527598326, "post_id": 50534013, "comment_id": 88178951, "body": "This debate did nothing to solve a question spawned from this thread: should I learn perl or awk to handle my basic cli text-processing needs? (I have the sed &amp; awk book (<a href=\"https://rads.stackoverflow.com/amzn/click/com/1565922255\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">sed&amp;awk</a>) from o&#39;reilly but only read the sed chapters. I have never wanted to learn perl b/c of the issue debated here. But melpomene&#39;s answer made me think it would be easier than awk and sed combined. Can I just learn basic perl to handle sed/awk type tasks? Why can&#39;t Python handle the same things as easily as perl did in melpomene&#39;s example?)"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 2, "creation_date": 1527602148, "post_id": 50534013, "comment_id": 88181572, "body": "malan you never use awk+sed combined, and you don&#39;t need a book to learn what sed is for (s/old/new/). I totally disagree with @Borodins claim that perl scripts are more legible than awk scripts, my personally experience is that awk scripts are always clearer. I do agree with him that sed scripts to do more than s/old/new/ are more incomprehensible than perl scripts but you should not be using sed for that. Python or Ruby can handle the same things. The difference from the others is that only awk is available as standard on all UNIX systems, and has a tiny language JUST for text processing."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1527268259, "creation_date": 1527268259, "answer_id": 50534013, "question_id": 50532600, "link": "https://stackoverflow.com/questions/50532600/sed-regex-to-delete-all-numbers-except-ordinals/50534013#50534013", "title": "Sed Regex to delete all numbers except ordinals", "body": "<p>sed is for simple substitutions on individual lines (e.g. <code>s/old/new/</code>), that is all. For anything else you should be using awk. With GNU awk for multi-char RS, RT, and IGNORECASE:</p>\n\n<pre><code>$ awk -v RS='[0-9]+(ST|TH|[RN]D)' -v IGNORECASE=1 '{gsub(/[0-9]+/,\"\"); ORS=RT} 1' file\n METRO CONDOMINIUM AS DESC IN INST#  UNIT A\n126TH AVENUE INDUSTRIAL PARK\n AND --\n-1st AVE CONDO\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2285, "user_id": 8592975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fea54eef1c73000439a2c38b53d422?s=128&d=identicon&r=PG&f=1", "display_name": "ctac_", "link": "https://stackoverflow.com/users/8592975/ctac"}, "is_accepted": false, "score": 0, "last_activity_date": 1527284515, "creation_date": 1527284515, "answer_id": 50537204, "question_id": 50532600, "link": "https://stackoverflow.com/questions/50532600/sed-regex-to-delete-all-numbers-except-ordinals/50537204#50537204", "title": "Sed Regex to delete all numbers except ordinals", "body": "<p>With sed and your input file</p>\n\n<pre><code>sed -E 's/(\\&lt;[0-9]+\\&gt;)//g' infile\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code> METRO CONDOMINIUM AS DESC IN INST#  UNIT A\n126TH AVENUE INDUSTRIAL PARK\n AND --\n-1st AVE CONDO\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1527327418, "creation_date": 1527327418, "answer_id": 50541348, "question_id": 50532600, "link": "https://stackoverflow.com/questions/50532600/sed-regex-to-delete-all-numbers-except-ordinals/50541348#50541348", "title": "Sed Regex to delete all numbers except ordinals", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -r 's/^/\\n/;:a;s/\\n([^0-9]+)/\\1\\n/;ta;s/\\n([0-9]*(1st|2nd|3rd|[4-90]th))/\\1\\n/I;ta;s/\\n[0-9]+/\\n/;ta;s/\\n//' file\n</code></pre>\n\n<p>Use a newline as a delimiter to parse each line. Insert a newline at the head of the line. If the string following the newline is not numeric, pass over that string. If the string following the newline is ordinal, also pass over the string. If the string following the newline is numeric, remove it. At the end of the line, remove the newline delimiter.</p>\n"}], "owner": {"reputation": 600, "user_id": 9691276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5tfX.jpg?s=128&g=1", "display_name": "malan88", "link": "https://stackoverflow.com/users/9691276/malan88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 50532824, "answer_count": 6, "score": 1, "last_activity_date": 1527327418, "creation_date": 1527262316, "last_edit_date": 1527268528, "question_id": 50532600, "link": "https://stackoverflow.com/questions/50532600/sed-regex-to-delete-all-numbers-except-ordinals", "title": "Sed Regex to delete all numbers except ordinals", "body": "<p>I need to delete all numbers from a file except those followed by (ST|TH|[RN]D) (ordinal numbers). I'm not sure how to introduce an exception into sed like that (I know of [^] but that wouldn't let me give the string optional (ST|TH|[RN]D).</p>\n\n<p>It seems that lookaheads might be the answer but my construction isn't working</p>\n\n<pre><code>s/[0-9][0-9]*(?!(ST|[RN]D))//g\n</code></pre>\n\n<p>Sample input:</p>\n\n<pre><code>12663 METRO CONDOMINIUM AS DESC IN INST# 200800031138 UNIT A\n126TH AVENUE INDUSTRIAL PARK\n13 AND 12-29-19\n102-1st AVE CONDO\n</code></pre>\n\n<p>Just added the last one, and that is a doozy of input. I would really like to eliminate the preceding numbers but leave the ordinal. Revo's example worked pretty well. But this edge case is actually important to me.</p>\n\n<p>Expected output:</p>\n\n<pre><code>METRO CONDOMINIUM AS DESC IN INST#  UNIT A\n126TH AVENUE INDUSTRIAL PARK\n AND --\n-1st AVE CONDO\n</code></pre>\n\n<p>Don't care about eliminating spaces. Can do that on my own.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527257670, "post_id": 50531143, "comment_id": 88074294, "body": "I don&#39;t understand what you&#39;re trying to count here. Where&#39;s your input data that you&#39;re counting?"}, {"owner": {"reputation": 727, "user_id": 2059832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8oSY3.gif?s=128&g=1", "display_name": "drmrgd", "link": "https://stackoverflow.com/users/2059832/drmrgd"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527257769, "post_id": 50531143, "comment_id": 88074351, "body": "I&#39;m trying to count the number of cats per var essentially.  Var will be unique, which is why I want to make it a hash key, but cats can be common to each var.  Does that make sense?"}, {"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 1, "creation_date": 1527257843, "post_id": 50531143, "comment_id": 88074404, "body": "You don&#39;t push, you increment."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527258236, "post_id": 50531143, "comment_id": 88074660, "body": "<i>&quot;I can&#39;t quite figure out how to have the internal array represent a hash of counts as above&quot;</i> What you have shown is a hash of arrays. Although you have used the fat comma as if it were within a hash, you actually have an array: <code>[ &#39;cat1&#39;, 50, &#39;cat2&#39;, 3, &#39;cat3&#39;, 5 ]</code>."}], "answers": [{"comments": [{"owner": {"reputation": 727, "user_id": 2059832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8oSY3.gif?s=128&g=1", "display_name": "drmrgd", "link": "https://stackoverflow.com/users/2059832/drmrgd"}, "edited": false, "score": 1, "creation_date": 1527258129, "post_id": 50531275, "comment_id": 88074587, "body": "Ahhh!  I was mis-thinking the final data structure.  Of course it needs to be a hash of hashes!  Thank you very much!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1527257878, "creation_date": 1527257878, "answer_id": 50531275, "question_id": 50531143, "link": "https://stackoverflow.com/questions/50531143/use-hash-of-arrays-of-hashes-as-counter/50531275#50531275", "title": "Use Hash of Arrays of Hashes as Counter", "body": "<p>Your expected data structure is flawed. You need a hash reference on the second level.</p>\n\n<pre><code>{\n    var1 =&gt; [       # {\n        cat1 =&gt; 50,\n        cat2 =&gt; 3,\n        cat3 =&gt; 5\n    ],              # }\n    var2 =&gt; [       # {\n       cat2 =&gt; 12,\n       cat4 =&gt; 4,\n       cat5 =&gt; 1\n    ]               # }\n}\n</code></pre>\n\n<p>With an array you cannot have key/value pairs properly, and just end up with an ordered list.</p>\n\n<p>Once you use a hash, you can simply use the var as the first key and count the cats within. There's no need to <code>push</code> anything anywhere. Perl's <a href=\"https://en.wikipedia.org/wiki/Autovivification\" rel=\"nofollow noreferrer\"><em>autovivification</em></a> will take care of creating everything for you.</p>\n\n<pre><code>my %counts;\nforeach my $elem (@array) {\n    #        var             cat \n    $counts{ $elem-&gt;[1] }-&gt;{ $elem-&gt;[0] }++;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n    var1   {\n        cat1   3,\n        cat2   2\n    },\n    var2   {\n        cat2   1\n    }\n}\n</code></pre>\n\n<p>Take a look at <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>, <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a> and <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> for more information.</p>\n"}], "owner": {"reputation": 727, "user_id": 2059832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8oSY3.gif?s=128&g=1", "display_name": "drmrgd", "link": "https://stackoverflow.com/users/2059832/drmrgd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 50531275, "answer_count": 1, "score": 1, "last_activity_date": 1527257878, "creation_date": 1527257505, "last_edit_date": 1527257681, "question_id": 50531143, "link": "https://stackoverflow.com/questions/50531143/use-hash-of-arrays-of-hashes-as-counter", "title": "Use Hash of Arrays of Hashes as Counter", "body": "<p>Trying to parse an array with common elements to create a new hash that contains count information.  The structure I'm trying to create is like this:</p>\n\n<pre><code>{\n    var1 =&gt; [\n        cat1 =&gt; 50,\n        cat2 =&gt; 3,\n        cat3 =&gt; 5\n    ],\n    var2 =&gt; [\n       cat2 =&gt; 12,\n       cat4 =&gt; 4,\n       cat5 =&gt; 1\n    ]\n}\n</code></pre>\n\n<p>I know how to make the hash of arrays, but I can't quite figure out how to have the internal array represent a hash of counts as above.  The data structure I have is an array of arrays, with many more elements.  But, as a toy example, here is what I'm trying to work with:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse autodie;\n\nuse Data::Dump;\n\nmy @array = (\n    [\"cat1\", \"var1\"],\n    [\"cat2\", \"var1\"],\n    [\"cat2\", \"var1\"],\n    [\"cat2\", \"var2\"],\n    [\"cat1\", \"var1\"],\n    [\"cat1\", \"var1\"],\n);\n\nmy %counts;\nfor my $elem (@array) {\n    push(@{$counts{$elem-&gt;[1]}}, $elem-&gt;[0]);\n}\ndd \\%counts;\n</code></pre>\n\n<p>I can't figure out how to modify that <code>push()</code> call to push an anonymous array with counts derived from looping through <code>@array</code> (bad name, I know..just for demo purposes).</p>\n\n<p>I guess I can do this in two steps.  But, it seems like there should be a simple way to count the elements when I'm loading them into <code>%counts</code>.  Can someone show me where I'm going wrong here?</p>\n"}, {"tags": ["perl", "tcl", "tk"], "comments": [{"owner": {"reputation": 527, "user_id": 4896937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b849b641ff3f8495ba3ce610fbd6e6f3?s=128&d=identicon&r=PG", "display_name": "chrstphrchvz", "link": "https://stackoverflow.com/users/4896937/chrstphrchvz"}, "edited": false, "score": 0, "creation_date": 1532049775, "post_id": 50530136, "comment_id": 89838161, "body": "Tcl::pTk itself isn&#39;t really &quot;linked&quot; or tied to a specific Tcl/Tk version since it&#39;s pure Perl. It&#39;s the Tcl.pm library (which Tcl::pTk uses) that can be compiled to use a specific Tcl/Tk version. The accepted answer here is a good way to check at runtime which version is being used."}], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 2532496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e909f97d766493ba4541bd917b9cf075?s=128&d=identicon&r=PG", "display_name": "Kelly o&#39;Brian", "link": "https://stackoverflow.com/users/2532496/kelly-obrian"}, "edited": false, "score": 0, "creation_date": 1527260217, "post_id": 50531199, "comment_id": 88075913, "body": "Perfect. Thank you."}, {"owner": {"reputation": 2408, "user_id": 3207222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1338b351d1bac0e771a0c90016d3482d?s=128&d=identicon&r=PG&f=1", "display_name": "mrcalvin", "link": "https://stackoverflow.com/users/3207222/mrcalvin"}, "edited": false, "score": 0, "creation_date": 1527277180, "post_id": 50531199, "comment_id": 88083700, "body": "Consider accepting the answer, if it solved your problem."}], "tags": [], "owner": {"reputation": 119001, "user_id": 301832, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=128&d=identicon&r=PG", "display_name": "Donal Fellows", "link": "https://stackoverflow.com/users/301832/donal-fellows"}, "is_accepted": true, "score": 5, "last_activity_date": 1527257668, "creation_date": 1527257668, "answer_id": 50531199, "question_id": 50530136, "link": "https://stackoverflow.com/questions/50530136/perl-tclptk-read-tcl-version/50531199#50531199", "title": "Perl Tcl::pTk read Tcl version", "body": "<p>The simplest thing that could possibly work should be tried:</p>\n\n<pre><code>my tcl_version = $int-&gt;Eval('info tclversion');\n</code></pre>\n\n<p>Alternatively and equivalently on the Tcl side:</p>\n\n<pre><code>my tcl_version = $int-&gt;Eval('set tcl_version');\n</code></pre>\n\n<p>All Tcl commands produce a result, so that ought to be reflected across here. Also, most of the time you are better off getting the patch-level for version reporting; the language version is just really for gross features, not anything detailed like system state reporting (e.g., you need the patch number for bug reports).</p>\n"}, {"tags": [], "owner": {"reputation": 527, "user_id": 4896937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b849b641ff3f8495ba3ce610fbd6e6f3?s=128&d=identicon&r=PG", "display_name": "chrstphrchvz", "link": "https://stackoverflow.com/users/4896937/chrstphrchvz"}, "is_accepted": false, "score": 1, "last_activity_date": 1550929560, "creation_date": 1550929560, "answer_id": 54842258, "question_id": 50530136, "link": "https://stackoverflow.com/questions/50530136/perl-tclptk-read-tcl-version/54842258#54842258", "title": "Perl Tcl::pTk read Tcl version", "body": "<p>I've since found undocumented methods in Tcl::pTk, <code>$int-&gt;tclVersion</code> and <code>$int-&gt;tclPatchlevel</code>, which are equivalent to <code>$int-&gt;Eval('info tclversion')</code> and <code>$int-&gt;Eval('info patchlevel')</code> respectively.</p>\n\n<p>They were already used internally in Tcl::pTk. I do not plan on removing these, but also do not know if it is a good idea to keep them in the long term or make them \"public\"/documented, so it may be better to stick with the existing answer's approach. (Tcl::Tk, which Tcl::pTk is based on, does not have these methods.)</p>\n"}], "owner": {"reputation": 381, "user_id": 2532496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e909f97d766493ba4541bd917b9cf075?s=128&d=identicon&r=PG", "display_name": "Kelly o&#39;Brian", "link": "https://stackoverflow.com/users/2532496/kelly-obrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 1, "accepted_answer_id": 50531199, "answer_count": 2, "score": 3, "last_activity_date": 1550929560, "creation_date": 1527254211, "last_edit_date": 1527254995, "question_id": 50530136, "link": "https://stackoverflow.com/questions/50530136/perl-tclptk-read-tcl-version", "title": "Perl Tcl::pTk read Tcl version", "body": "<p>I want to use Perl to read in the version of Tcl version that the module \n<a href=\"https://metacpan.org/pod/Tcl::pTk\" rel=\"nofollow noreferrer\"><code>Tcl::pTk</code></a>\nis linked to. I found the following which is working fine</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Tcl::pTk;\n\nmy $int = new Tcl::pTk;\n\n$int-&gt;Eval(&lt;&lt;'EOS');\n# pure-tcl code to create widgets (e.g. generated by some GUI builder)\ntext .e\n## http://wiki.tcl.tk/1626#tk_version\n.e insert end \"tcl_version      $tcl_version\\n\"\n.e insert end \"tcl_patchLevel   $tcl_patchLevel\\n\"\n.e insert end \"tk_version       $tk_version\\n\"\n.e insert end \"tk_patchLevel    $tk_patchLevel\\n\"\n.e insert end \"tk_library       $tk_library\\n\"\npack .e\nEOS\n\nmy $e = $int-&gt;widget('.e');     # get .e entry into play\n$int-&gt;MainLoop;\n</code></pre>\n\n<p>This displays the value in the GUI but I want to use <code>$tcl_version</code> in other parts of my script. In this I fail, as <code>$tcl_version</code> seems not to exist. I do not need the GUI part, just the values of the scalars.</p>\n"}, {"tags": ["regex", "perl", "metacharacters"], "answers": [{"comments": [{"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1527231192, "post_id": 50523015, "comment_id": 88058188, "body": "Hi @zdim , if i want to print the string that match, how should i do?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 1, "creation_date": 1527231636, "post_id": 50523015, "comment_id": 88058416, "body": "@Tim, Your code already does that. <code>for (@array) { say if ( () = m{&#47;}g ) == 3; }</code> or <code>for my $string (@array) { say $string if ( () = $string =~ m{&#47;}g ) == 3; }</code>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 9, "last_activity_date": 1574643870, "last_edit_date": 1574643870, "creation_date": 1527230624, "answer_id": 50523015, "question_id": 50522918, "link": "https://stackoverflow.com/questions/50522918/how-to-match-string-that-contain-exact-3-time-occurrence-of-special-character-in/50523015#50523015", "title": "How to match string that contain exact 3 time occurrence of special character in perl", "body": "<p>Match globally and compare the number of matches with <code>3</code></p>\n\n<pre><code>if ( ( () = m{/}g ) == 3 ) { say \"Matched 3 times\" }\n</code></pre>\n\n<p>where the <a href=\"http://search.cpan.org/dist/perlsecret/lib/perlsecret.pod#Goatse\" rel=\"nofollow noreferrer\"><code>=()=</code> operator</a> is a play on context, forcing list context on its right side but returning the number of elements of that list when scalar context is provided on its left side. </p>\n\n<p>If you are uncomfortable with such a syntax stretch then assign to an array</p>\n\n<pre><code>if ( ( my @m = m{/}g ) == 3 ) { say \"Matched 3 times\" }\n</code></pre>\n\n<p>where the subsequent comparison evaluates it in the scalar context.</p>\n\n<p>You are trying to match three <em>consecutive</em> <code>/</code> and your string doesn't have that.</p>\n"}, {"tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": false, "score": 1, "last_activity_date": 1527259012, "last_edit_date": 1527259012, "creation_date": 1527230627, "answer_id": 50523017, "question_id": 50522918, "link": "https://stackoverflow.com/questions/50522918/how-to-match-string-that-contain-exact-3-time-occurrence-of-special-character-in/50523017#50523017", "title": "How to match string that contain exact 3 time occurrence of special character in perl", "body": "<p>You need to match </p>\n\n<ul>\n<li>a slash</li>\n<li>surrounded by some non-slashes (<code>^(?:[^\\/]*</code>)</li>\n<li>repeating the match exactly three times</li>\n<li>and enclosing the whole triple in start of line and and of line anchors:</li>\n</ul>\n\n\n\n<pre><code>$string =~ /^(?:[^\\/]*\\/[^\\/]*){3}$/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1527231849, "creation_date": 1527231849, "answer_id": 50523322, "question_id": 50522918, "link": "https://stackoverflow.com/questions/50522918/how-to-match-string-that-contain-exact-3-time-occurrence-of-special-character-in/50523322#50523322", "title": "How to match string that contain exact 3 time occurrence of special character in perl", "body": "<p>The pattern you need (with whitespace added) is</p>\n\n<pre><code>^ [^/]* / [^/]* / [^/]* / [^/]* \\z\n</code></pre>\n\n<p>or</p>\n\n<pre><code>^ [^/]* (?: / [^/]* ){3} \\z\n</code></pre>\n\n<p>Your second attempt was close, but using <code>^</code> without <code>\\z</code> made it so you checked for string <em>starting</em> with your pattern.</p>\n\n<hr>\n\n<p>Solutions:</p>\n\n<pre><code>say for grep { m{^ [^/]* (?: / [^/]* ){3} \\z}x } @array;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>say for grep { ( () = m{/}g ) == 3 } @array;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>say for grep { tr{/}{} == 3 } @array;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 5013952, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qs0M5O30Nb8/AAAAAAAAAAI/AAAAAAAAAYo/N-JL8gz-FOQ/photo.jpg?sz=128", "display_name": "sandeep singh", "link": "https://stackoverflow.com/users/5013952/sandeep-singh"}, "edited": false, "score": 0, "creation_date": 1527866442, "post_id": 50646570, "comment_id": 88303692, "body": "it will give you exactly what you want. First part matches with line which has at least 3 slash and second part removes those lines which match with four matches."}], "tags": [], "owner": {"reputation": 39, "user_id": 5013952, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qs0M5O30Nb8/AAAAAAAAAAI/AAAAAAAAAYo/N-JL8gz-FOQ/photo.jpg?sz=128", "display_name": "sandeep singh", "link": "https://stackoverflow.com/users/5013952/sandeep-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1527866332, "creation_date": 1527866332, "answer_id": 50646570, "question_id": 50522918, "link": "https://stackoverflow.com/questions/50522918/how-to-match-string-that-contain-exact-3-time-occurrence-of-special-character-in/50646570#50646570", "title": "How to match string that contain exact 3 time occurrence of special character in perl", "body": "<pre><code>if ( $string =~ /\\/.*\\/.*\\// and $string !~ /\\/.*\\/.*\\/.*\\// )\n</code></pre>\n"}], "owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 892, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1574643870, "creation_date": 1527230228, "last_edit_date": 1527422218, "question_id": 50522918, "link": "https://stackoverflow.com/questions/50522918/how-to-match-string-that-contain-exact-3-time-occurrence-of-special-character-in", "title": "How to match string that contain exact 3 time occurrence of special character in perl", "body": "<p>I have try few method to match a word that contain exact 3 times slash but cannot work. Below are the example</p>\n\n<pre><code>@array = qw( abc/ab1/abc/abc a2/b1/c3/d4/ee w/5/a  s/t )\nforeach my $string (@array){\n    if ( $string =~ /^\\/{3}/ ){\n          print \" yes, word with 3 / found !\\n\";\n          print \"$string\\n\";\n    }\n    else {\n          print \" no word contain 3 / found\\n\";\n    }\n</code></pre>\n\n<p>Few macthing i try but none of them work</p>\n\n<pre><code>$string =~ /^\\/{3}/;\n$string =~ /^(\\w+\\/\\w+\\/\\w+\\/\\w+)/;\n$string =~ /^(.*\\/.*\\/.*\\/.*)/;\n</code></pre>\n\n<p>Any other way i can match this type of string and print the string?</p>\n"}, {"tags": ["perl", "csh"], "comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1527203318, "post_id": 50518901, "comment_id": 88051267, "body": "Hmm, csh doesn&#39;t seem to have a way of opening additional file descriptors?"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 1, "creation_date": 1527247741, "post_id": 50518901, "comment_id": 88067823, "body": "You should dump tons of stuff to a temporary file and return the string in STDOUT."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1527316840, "post_id": 50518901, "comment_id": 88091614, "body": "@shawnhcorey  My first recommendation as well, but then there is yet a bunch of other ways (which may be needed).  See my answer"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1527318531, "post_id": 50518901, "comment_id": 88091973, "body": "&quot;<i>I have a c-shell script</i>&quot; - this is not recommended."}], "answers": [{"comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1527212016, "post_id": 50519125, "comment_id": 88053044, "body": "The OP is using csh, not bash."}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1527241140, "post_id": 50519125, "comment_id": 88063896, "body": "Would it be possible to capture a channel diffeent to stdout? So that the program has only to output the &#39;&#39;dir_name&#39;&#39; into that channel but all other output will be passed through?"}, {"owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 0, "creation_date": 1527254092, "post_id": 50519125, "comment_id": 88071896, "body": "Any thoughts on using /dev/shm for this ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 0, "creation_date": 1527266740, "post_id": 50519125, "comment_id": 88079208, "body": "@daveg I don&#39;t think that one should poke around there just so, and it would be far more complicated  (if possible), in every sense, than any of what I showed. Solutions with other file descriptors use the filesystem, which you didn&#39;t like I thought. (I&#39;ll try, perhaps it won&#39;t be as bad ..)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1527316524, "post_id": 50519125, "comment_id": 88091548, "body": "@aschepler Thank you again, completed"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 0, "creation_date": 1527580879, "post_id": 50519125, "comment_id": 88167585, "body": "@daveg  Added: using a named pipe (both shells) and using specific file descriptors (<code>bash</code> only)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1572200202, "last_edit_date": 1572200202, "creation_date": 1527201356, "answer_id": 50519125, "question_id": 50518901, "link": "https://stackoverflow.com/questions/50518901/can-i-pass-a-string-from-perl-back-to-the-calling-c-shell/50519125#50519125", "title": "Can I pass a string from perl back to the calling c-shell?", "body": "<p><strong>Short:</strong> &nbsp; </p>\n\n<ul>\n<li><p>Redirect Perl's streams and restore in the end to print that info, taken by the shell script</p></li>\n<li><p>Or, print that <em>last</em> and the shell script can pass output to the console and take the last line</p></li>\n<li><p>Or, use a named pipe (either shell) or specific file descriptors (not <code>csh</code>) for that print</p></li>\n</ul>\n\n<hr>\n\n<p>When the Perl script prints out that name you can assign it to a variable\nin the shell script</p>\n\n<pre><code>#!/bin/csh\nset DIR `perl -e'print \"dir_name\"'`\n</code></pre>\n\n<p>while in <code>bash</code> </p>\n\n<pre><code>#!/bin/bash    \nDIR=\"$(perl -e'print \"dir_name\"')\"\n</code></pre>\n\n<p>where <code>$(...)</code> is preferred for the command substitution.</p>\n\n<p>But those other prints to console from the Perl script then need be handled</p>\n\n<ul>\n<li>One way is to redirect all output in Perl script other than that one print, what can be controlled by a command-line option (filename to which to redirect, which shell script can print out)</li>\n<li><p>Or, take all Perl's output and pass it to console, the last line being the needed \"return.\"  This puts the burden on the Perl script to print that last (perhaps in an <code>END</code> block). The program's output can be printed from the shell script after it completes or line by line as it is emitted.</p></li>\n<li><p>Or, use a <em>named pipe</em> (both shells) or a specific file descriptor (<code>bash</code> only) to which the Perl script can print that information.  In this case its streams go straight to the console.</p></li>\n</ul>\n\n<p>The question explicitly mentions <code>csh</code> so it is given below. But I must repeat the old and worn fact that shell scripting is far better done in <code>bash</code> than in <code>csh</code>. I strongly recommend to reconsider.</p>\n\n<h3>bash</h3>\n\n<p>If you need the program's output on the console as it goes, take and print it line by line</p>\n\n<pre><code>#!/bin/bash    \nwhile read line; do\n    echo \"$line\"\n    DIR=$line\ndone &lt; &lt;(perl script.pl)\necho \"$DIR\"\n</code></pre>\n\n<p>Or, if you don't need output on the console before the script is finished  </p>\n\n<pre><code>#!/bin/bash\nmapfile -t lines &lt; &lt;(perl script.pl)\nDIR=\"${lines[-1]}\"\nprintf '%s\\n' \"${lines[@]}\"           # print script.pl's output\n</code></pre>\n\n<p>Or, use file descriptors for that particular print</p>\n\n<pre><code>F=$(mktemp)    # safe filename\nexec 3&gt; \"$F\"   # open fd 3 to write to it\nexec 4&lt; \"$F\"   # open fd 4 to read from it\nrm -f \"$F\"     # remove file(name) for safety; opened fd's can still access\nperl -E'$fd=shift; say \"...normal prints to STDOUT...\"; \n    open(FH, \"&gt;&amp;=$fd\") or die $!; \n    say FH \"dirname\"; \n    close FH\n' 3\nread dir_name &lt;&amp;4\nexec 3&gt;&amp;-          # close them\nexec 4&lt;&amp;-\necho \"$dir_name\"\n</code></pre>\n\n<p>I couldn't get it to work with a single file descriptor for both reading and writing (<code>exec 3&lt;&gt; ...</code>), I think because the read can't rewind after the write, thus separate descriptors are used. </p>\n\n<p>With a Perl script (and not the demo one-liner above) pass the fd number as a command-line option. The script can then do this only if it's invoked with that option. </p>\n\n<p>Or, use a named pipe very similarly to how it's done for <code>csh</code> below.  This is probably best here, if the manipulation of the program's <code>STDOUT</code> isn't to your liking.</p>\n\n<h3>csh</h3>\n\n<p>Iterate over the program's (completed) output line by line</p>\n\n<pre><code>#!/bin/csh\nforeach line ( \"`perl script.pl`\" )\n    echo \"$line\"\n    set dir_name = \"$line\"\nend\necho \"Directory name: $dir_name\"\n</code></pre>\n\n<p>or extract the last line first and then print the whole output</p>\n\n<pre><code>#!/bin/csh\nset lines = ( \"`perl script.pl`\" )\nset dir_name = $lines[$#]\n# Print program's output\nwhile ( $#lines )\n     echo \"$lines[1]\"\n     shift lines\n end\n</code></pre>\n\n<p>or use a <em>named pipe</em></p>\n\n<pre><code>set fifo_name = \"/tmp/fifo$$\"  # or use mktemp\nmkfifo \"$fifo_name\"\n( perl script.pl --fifo $fifo_name [other args]  &amp; )\nset dir_name = `cat \"$fifo_name\"`\nrm -f $fifo_name\n\necho \"dir name from FIFO: $dir_name\"\n</code></pre>\n\n<p>The Perl command is in the background since FIFO blocks until written <em>and</em> read. So if the shell script were to wait for <code>perl ...</code> to complete the Perl script would block as it's writing to FIFO (since that's not being read) so shell would never get to read it; we would deadlock. It is also in a subshell, with <code>( )</code>, so to avoid the informational prints about the background job.</p>\n\n<p>The <code>--fifo NAME</code> command-line option is needed so that Perl script knows what special file to use (and not to do this if the option is not there).</p>\n\n<p>For an in-line example replace <code>( perl script ...)</code> with this one-liner, used above as well</p>\n\n<pre><code>( perl -E'$ff = shift; say qq(\\t...normal prints to STDOUT...); \n     open FF, \"&gt;$ff\" or die $!; \n     say FF \"dir_name_$$\"; \n     close FF\n ' $fifo_name \n&amp; )\n</code></pre>\n\n<p>(broken over lines for readability)</p>\n"}], "owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572200202, "creation_date": 1527199971, "last_edit_date": 1527212537, "question_id": 50518901, "link": "https://stackoverflow.com/questions/50518901/can-i-pass-a-string-from-perl-back-to-the-calling-c-shell", "title": "Can I pass a string from perl back to the calling c-shell?", "body": "<p>RHEL6 </p>\n\n<p>I have a c-shell script that runs a perl script.  After dumping tons of stuff to stdout, it determines where (what dir) the parent shell should cd to when the perl script finishes.  But that's a string, not an int which is all I can pass back with \"exit()\".  </p>\n\n<p>Storing the name of the dir in a file which the c-shell script can read is what I have now.  It works, but is not elegant.  Is there a better way to do this ? Maybe a little chunk of memory that I can share with the perl script ?</p>\n"}, {"tags": ["perl", "installation", "snmp", "dependency-management", "net-snmp"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1527180367, "post_id": 50513765, "comment_id": 88041208, "body": "Where is net-snmp-config? Is it installed on your machine? Have you updated $PATH to include it&#39;s location?"}, {"owner": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1527182101, "post_id": 50513765, "comment_id": 88042117, "body": "net-snmp-config is a shell (.sh) script directly inside the net-snmp-5.7.3 directory.  And no, I have not.  How would I go about doing that?"}], "answers": [{"comments": [{"owner": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 0, "creation_date": 1527184068, "post_id": 50515021, "comment_id": 88043091, "body": "...wow.  Yeah, that worked!  Despite this, mysql-snmp still cannot find NetSNMP/OID.pm, but that&#39;s another issue.  During the successful execution of Makefile.PL, it warned me that my Net-SNMP module is newer than my Perl module and that different versions very rarely work well together, so I guess I&#39;ll chase that next.  Thanks!"}], "tags": [], "owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "is_accepted": true, "score": 2, "last_activity_date": 1527182838, "creation_date": 1527182838, "answer_id": 50515021, "question_id": 50513765, "link": "https://stackoverflow.com/questions/50513765/error-when-executing-perl-makefile-pl-cant-find-net-snmp-config/50515021#50515021", "title": "Error when executing &#39;perl Makefile.PL&#39;: Can&#39;t find net-snmp-config", "body": "<p>I haven't used the module myself, but from a quick look at the source, try </p>\n\n<pre><code>perl Makefile.PL --NET-SNMP-CONFIG ~/net-snmp-5.7.3/net-snmp-config\n</code></pre>\n\n<ul>\n<li><code>%opts</code> come from <code>GetOptions</code>, which parses command-line arguments (<a href=\"https://metacpan.org/source/HARDAKER/NetSNMP-OID-5.0404/Makefile.PL#L75\" rel=\"nofollow noreferrer\">source</a>).</li>\n<li><code>%Params</code> are produced based on the <code>%opts</code>, the machine type, and other factors.  For example, <code>$Params{LIBS}</code> is assigned <a href=\"https://metacpan.org/source/HARDAKER/NetSNMP-OID-5.0404/Makefile.PL#L77\" rel=\"nofollow noreferrer\">here</a> by running <code>net-snmp-config</code>.</li>\n</ul>\n\n<p>The <code>NET-SNMP-CONFIG</code> command-line option is stored into <code>$opts{nsconfig}</code>, which is then run to get the <code>CFLAGS</code> and <code>LIBS</code> necessary.</p>\n\n<p><strong>Edit</strong> Lines 83&ndash;85 are only one of the ways <code>CFLAGS</code> and <code>LIBS</code> can be set.  In your case, it appears that lines 77 and 79 are not able to do so, probably because they can't find <code>net-snmp-config</code>.</p>\n"}], "owner": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 0, "accepted_answer_id": 50515021, "answer_count": 1, "score": 1, "last_activity_date": 1527184221, "creation_date": 1527178083, "last_edit_date": 1527184221, "question_id": 50513765, "link": "https://stackoverflow.com/questions/50513765/error-when-executing-perl-makefile-pl-cant-find-net-snmp-config", "title": "Error when executing &#39;perl Makefile.PL&#39;: Can&#39;t find net-snmp-config", "body": "<p>I am trying to install NetSNMP-OID (version 5.0404) but when I run 'perl Makefile.PL' (in the NetSNMP-OID directory) I get the message:</p>\n\n<pre><code>You need to install net-snmp first (I can't find net-snmp-config) at Makefile.PL line 91.\n</code></pre>\n\n<p>After adding some checkpoints to the Makefile.PL using 'print' statements, I discovered that it was not executing the following lines (83 to 85):</p>\n\n<pre><code>if (lc($opts-&gt;{'insource'}) eq \"true\") {\n        $Params{'LIBS'} = \"-L../../snmplib/.libs -L../../snmplib/ \" . $Params{'LIBS'};\n        $Params{'CCFLAGS'} = \"-I../../include \" . $Params{'CCFLAGS'};\n</code></pre>\n\n<p>which is likely why it crashed at 90/91?:</p>\n\n<pre><code>if ($Params{'LIBS'} eq \"\" || $Params{'CCFLAGS'} eq \"\") {\n        die \"You need to install net-snmp first (I can't find net-snmp-config)\";\n    }\n</code></pre>\n\n<p>I have net-snmp installed (correctly, I think), so I'm wondering if maybe I have it in the wrong directory?  It is currently in home/ (~, i.e. ~/net-snmp-5.7.3/).</p>\n\n<p>If someone with experience in Perl could explain what the first segment of code (lines 83 to 85) is doing, that would be beneficial as well!</p>\n\n<p>OS: Raspbian</p>\n\n<p><strong>EDIT:</strong><br>\nNotes:<br>\n<code>net-snmp-config</code> is a shell (.sh) script found directly inside the net-snmp directory (~/net-snmp-5.7.3/net-snmp-config).<br>\nMakefile.PL can be found here: <a href=\"http://cpansearch.perl.org/src/HARDAKER/NetSNMP-OID-5.0404/Makefile.PL\" rel=\"nofollow noreferrer\">NetSNMP-OID-5.0404/Makefile.PL</a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1527180030, "post_id": 50513709, "comment_id": 88041034, "body": "Not your specific issue, but did you notice that your regex fails to escape a dot?  <code>m|([^&#47;]+).vcf$|</code> matches a.vcf, but also aavcf, abvcf, a-vcf, etc."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527181164, "post_id": 50513709, "comment_id": 88041608, "body": "Is this &quot;<i>other machine</i>&quot; Linux as well (you use <code>&#47;</code> for the directory separator)?  Are you trying to extract the base <code>name</code> from <code>&#47;path&#47;to&#47;dir&#47;name.vcf</code>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527181292, "post_id": 50513709, "comment_id": 88041682, "body": "Can you post an example of a filename it &quot;<i>fails to find</i>&quot;, with full path?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527181412, "post_id": 50513709, "comment_id": 88041751, "body": "Note: you don&#39;t need an <code>if</code> to detect that <code>vcf</code> is there and then another regex to extract name, and you don&#39;t need to use <code>$1</code>. Instead: <code>if (my ($n) = $F =~ m{...}) {...}</code>"}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1527181581, "post_id": 50513709, "comment_id": 88041831, "body": "Works for me on my PC.  Are you sure the VCF files exist on other workstation?  Can you print out the file name that doesn&#39;t match VCF, like <code>else { print &quot;$F is not a VCF file\\n&quot;; }</code>?  It might help you to see what the script is actually looking at."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "reply_to_user": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1527183680, "post_id": 50513709, "comment_id": 88042898, "body": "@jimtut. It doesn&#39;t seem to be looking in sub-folders but only at files in the  main directory."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1527183814, "post_id": 50513709, "comment_id": 88042968, "body": "Data is not on the machine the code is running, but is on a mounted drive (mdl3) a different Linux machine."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527186058, "post_id": 50513709, "comment_id": 88044123, "body": "Thank you for the update. (I formatted what you added as it was completely unreadable. Please, can you at least attempt to format such things? It appears awkward that you ask folks for help and then just dump a line like that.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527186347, "post_id": 50513709, "comment_id": 88044261, "body": "You are asking <code>File::Find</code> to search <code>SN1-376-OFA_TL127445_CHIP1_052318_BSN</code> but the &quot;missing&quot; file is under <code>SN1-376-OFA_TL127445_CHIP1_052318_BS</code>. Are there actually any <code>.vcf</code> files in subdirectories of the place you&#39;re actually searching?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527186712, "post_id": 50513709, "comment_id": 88044440, "body": "@zdim: I thought you were responding to my comment, asking if the directories really didn&#39;t match. You have a question mark there!"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1527186737, "post_id": 50513709, "comment_id": 88044447, "body": "The same code work perfectly on Linux server but not a particular machine I now trying to run the code.  This issue is probably related to how the machine was built.  I don&#39;t know what to do."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527186828, "post_id": 50513709, "comment_id": 88044494, "body": "@Borodin Ah, right!  It was for the OP ... :)  Removing that, since your comment is perfect .."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527186847, "post_id": 50513709, "comment_id": 88044501, "body": "@user: We&#39;re not going to get anywhere if you just manually edit your question to remove discrepancies. You need to <i>copy and paste</i> information for it to mean anything."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527186913, "post_id": 50513709, "comment_id": 88044531, "body": "@user Um, no, what you show can&#39;t &quot;<i>work perfectly</i>&quot; -- see @Borodin&#39;s comment. Your <code>$main_dir</code> has <code>..BSN&#47;</code> in name while the file you show has <code>...BS&#47;</code>.  Unless it&#39;s a typo in posting?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527187079, "post_id": 50513709, "comment_id": 88044618, "body": "@user: <i>&quot;The same code work perfectly on Linux server&quot;</i> I&#39;m not interested in where you think it worked. The most likely explanation here is that you have made a mistake, and I want to see a file path that you think your program has missed that matches what is in the code. <b>Don&#39;t just type one in\u2014copy and paste it from your console.</b>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1527187159, "post_id": 50513709, "comment_id": 88044651, "body": "@user Please <i>please</i> be careful with your posts.  When we see a question we have no clue about your problem and every little piece matters.  Incorrect information and back-and-forths in fixing things are devastating for my desire to spend time this way."}], "answers": [{"comments": [{"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1527268170, "post_id": 50516608, "comment_id": 88079847, "body": "Any idea why this is required for the Op on one workstation?  It wasn&#39;t required for his/her other workstation, and wasn&#39;t required when I setup a test case for this."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1527278181, "post_id": 50516608, "comment_id": 88084135, "body": "@jimtut  Maybe because some of the directories are symlinks on that other computer?"}], "tags": [], "owner": {"reputation": 36, "user_id": 1107665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a480e8846ebd420b7bd38d8997b3592?s=128&d=identicon&r=PG", "display_name": "wurzelsepp201", "link": "https://stackoverflow.com/users/1107665/wurzelsepp201"}, "is_accepted": true, "score": 1, "last_activity_date": 1527189220, "creation_date": 1527189220, "answer_id": 50516608, "question_id": 50513709, "link": "https://stackoverflow.com/questions/50513709/filefind-is-failing-in-subdirectories/50516608#50516608", "title": "File::Find is failing in subdirectories", "body": "<p>Try adding \"follow => 1\" to your find() call, i.e.</p>\n\n<pre><code>find({ wanted =&gt; \\&amp;find_vcf , no_chdir =&gt; 1, follow =&gt; 1}, $location);\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 50516608, "answer_count": 1, "score": -2, "last_activity_date": 1527189220, "creation_date": 1527177808, "last_edit_date": 1527186994, "question_id": 50513709, "link": "https://stackoverflow.com/questions/50513709/filefind-is-failing-in-subdirectories", "title": "File::Find is failing in subdirectories", "body": "<p>I have a sub that find .vcf files in a sub-directories of the main directory, using <code>File::Find::name</code> that was working great in one environment but is not working on another machine(both run red hat linux) . It stillfinds .vcf files if it's in the main directory but fails to find in a sub-directory.\nCould someone please help to troubleshoot?</p>\n\n<p>Here is an example of a file it fails to find (broken over lines for readability):</p>\n\n<pre>\n/home/yeliiley/mdl3/results/SN1-376-OFA_TL127445_CHIP1_052318_BSN/\n  MD-18-6297_BG_v1_ac9023be-8db4-440b-9095/Variants/\n  MD-18-6297_BG_v1_MD-18-6297_BG_RNA_v1/\n  MD-18-6297_BG_v1_MD-18-6297_BG_RNA_v1_Non-Filtered_2018-05-24_04\uf02209\uf02209.vcf \n</pre>\n\n<p>however, if the file is in <code>$main_dir</code> it finds it.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse File::Find;\n\nmy $main_dir = \"/home/yeliiley/mdl3/results/SN1-376-OFA_TL127445_CHIP1_052318_BSN\";\nmy $location=$main_dir;\n\nsub find_vcf {\n    my $F = $File::Find::name;\n\n    if ($F =~ /vcf$/ ) {\n        print \"here is the vcf.$F\\n\";\n\n        $F =~ m|([^/]+).vcf$| or die \"Can't extract Sample ID\";\n        my $sample_id = $1; print \"the short vcf name is: $sample_id\\n\";\n\n    }else {\n        print \"Did not find any vcf files $F\\n\";\n    }\n}\n\nfind({ wanted =&gt; \\&amp;find_vcf, no_chdir=&gt;1}, $location);\n</code></pre>\n"}, {"tags": ["list", "perl", "debugging", "eval", "stack-trace"], "answers": [{"comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1527184170, "post_id": 50515253, "comment_id": 88043155, "body": "zdim, good point!  I am still curious about the internal processing.  Also, <code>__LINE__</code> is shorter than <code>push @testcases,</code> :) ."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1527184256, "post_id": 50515253, "comment_id": 88043192, "body": "@cxw  Just edited -- it apparently counts it all on one line. Like it often does -- but since these are sub calls I would&#39;ve expected <code>caller</code> to see them on their own lines."}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1527187288, "post_id": 50515253, "comment_id": 88044710, "body": "I would have also.  I found a <a href=\"https://stackoverflow.com/a/50516105/2877364\">hack</a> that works for now, but if you ever find out why sub calls don&#39;t get their own line numbers in the <code>caller</code> record, please let me know.  Thanks for getting me thinking about alternative approaches to the problem!  You already have my upvote :) ."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 1, "creation_date": 1527195855, "post_id": 50515253, "comment_id": 88048868, "body": "@cxw  Updated -- the line-number info is compiled for the <b>statement</b> where the list is given (as for more general info on why for a list and for what else ... I&#39;ll have to leave it at this for the moment).  I like your approach to get around that :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1554395819, "post_id": 50515253, "comment_id": 97746383, "body": "@cxw  Thanks for adding to the answer (sorry I didn&#39;t respond right away, was hoping to first look at the problem again...)"}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1554458586, "post_id": 50515253, "comment_id": 97769002, "body": "No worries!  I just happened to get to this the other day when I was working on expanding coverage for Text::PerlPP.  If you think of anything else, would you please open an issue in List::AutoNumbered?  Thanks for taking a look at it!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1557169082, "post_id": 50515253, "comment_id": 98666989, "body": "@cxw I&#39;ll definitely look, but apparently I don&#39;t know when --- things just keep coming up ..."}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1557170601, "post_id": 50515253, "comment_id": 98667553, "body": "zdim, no worries - I know the feeling :)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1554211947, "last_edit_date": 1554211947, "creation_date": 1527183782, "answer_id": 50515253, "question_id": 50510809, "link": "https://stackoverflow.com/questions/50510809/how-to-get-the-current-line-number-in-a-multi-line-list-initializer-of-testcases/50515253#50515253", "title": "How to get the current line number in a multi-line list initializer of testcases?", "body": "<p>The <code>caller</code> can get only the line numbers of <em>statements</em>, decided at compilation.</p>\n\n<p>When I change the code to</p>\n\n<pre><code>my @testcases;\npush @testcases, ([__LINE__,0,32,'LINE']);\npush @testcases, ([__LINE__,1,33,'LINE']);\npush @testcases, (L(2,34,'L()'));\npush @testcases, (L(3,35,'L()'));\n...\n</code></pre>\n\n<p>maintaining line numbers, it works (except for string evals).</p>\n\n<p>So, on the practical side, using <code>caller</code> is fine with separate statements for calls.</p>\n\n<h3>Perl internals</h3>\n\n<p>The line numbers are baked into the op-tree at compilation and (my emphasis)</p>\n\n<blockquote>\n  <p>At run-time, only the line numbers of <strong>statements</strong> are available [...]</p>\n</blockquote>\n\n<p>from <a href=\"http://www.perlmonks.org/?node_id=1153603\" rel=\"nofollow noreferrer\">ikegami's post on permonks</a>.  </p>\n\n<p>We can see this by running <code>perl -MO=Concise script.pl</code> where the line </p>\n\n<pre>\n2      nextstate(main 25 line_nos.pl:45) v:*,&,{,x*,x&,x$,$,67108864 ->3\n</pre>\n\n<p>is for the <code>nextstate</code> op, which sets the line number for <code>caller</code> (and warnings). See <a href=\"https://stackoverflow.com/a/28678354/4653379\">this post</a>, and the <code>nextstate</code> example below.</p>\n\n<p>A way around this would be to try to trick the compilation (somehow) or, better of course, to not assemble information in a list like that.  One such approach is in the <a href=\"https://stackoverflow.com/a/50516105/4653379\">answer by cxw</a>.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/50651495/4653379\">this post</a> for a related case and more detail.</p>\n\n<h3><code>nextstate</code> example</h3>\n\n<p>Here's a multi-line function-call chain run through <code>Deparse</code> (annotated):</p>\n\n<pre><code>$ perl -MO=Concise -e '$x\n    -&gt;foo()\n    -&gt;bar()\n    -&gt;bat()'\nd  &lt;@&gt; leave[1 ref] vKP/REFC -&gt;(end)\n1     &lt;0&gt; enter -&gt;2\n2     &lt;;&gt; nextstate(main 1 -e:1) v:{ -&gt;3    &lt;=== the only nextstate\nc     &lt;1&gt; entersub[t4] vKRS/TARG -&gt;d\n3        &lt;0&gt; pushmark s -&gt;4\na        &lt;1&gt; entersub[t3] sKRMS/LVINTRO,TARG,INARGS -&gt;b\n4           &lt;0&gt; pushmark s -&gt;5\n8           &lt;1&gt; entersub[t2] sKRMS/LVINTRO,TARG,INARGS -&gt;9\n5              &lt;0&gt; pushmark s -&gt;6\n-              &lt;1&gt; ex-rv2sv sKM/1 -&gt;7\n6                 &lt;#&gt; gvsv[*x] s -&gt;7\n7              &lt;.&gt; method_named[PV \"foo\"] s -&gt;8\n9           &lt;.&gt; method_named[PV \"bar\"] s -&gt;a\nb        &lt;.&gt; method_named[PV \"bat\"] -&gt;c\n-e syntax OK\n</code></pre>\n\n<p>Even though successive calls are on separate lines, they are part of the same statement, so are all attached to the same <code>nextstate</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527802750, "post_id": 50516105, "comment_id": 88276575, "body": "Very interesting (+1-ed back then), but also from what I see your &quot;second hack&quot; works, too -- the question&#39;s end still says that it doesn&#39;t. Perhaps the question text needs update?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527802798, "post_id": 50516105, "comment_id": 88276587, "body": "Also, this seems to solve the stated problem, so please accept it :)))"}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1528117781, "post_id": 50516105, "comment_id": 88372185, "body": "@zdim I accepted yours since it explains the behaviour.  Also, I have a bit of work to do before these hacks are production-ready :) .  (Question text updated, too.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1528133384, "post_id": 50516105, "comment_id": 88381386, "body": "Oh, thank you -- that absolutely obliges me to find a(nother) way to actually do what the question asks :).  I&#39;ll look more.  If you do wrap this &quot;hack&quot; up to your liking please update, it is interesting (and change the accept :))"}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1528134036, "post_id": 50516105, "comment_id": 88381671, "body": "@zdim :D :D --- The big worklist item for me is to add a <code>skip()</code> so that I can put comments in the list.  Since you can bless a function reference, I think I might be able to have <code>()-&gt;()</code> work with some hacking ;) .  I will be updating <a href=\"https://github.com/cxw42/perlpp/blob/master/t/lib/TestcaseList.pm\" rel=\"nofollow noreferrer\">here</a> as I work it out."}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1554206441, "post_id": 50516105, "comment_id": 97658982, "body": "@zdim I added skips - see <code>LSKIP</code> <a href=\"https://github.com/cxw42/perlpp/blob/prepost/t/lib/TestcaseList.pm\" rel=\"nofollow noreferrer\">here</a>.  I&#39;ll put it on CPAN when I get the chance."}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1554381100, "post_id": 50516105, "comment_id": 97736726, "body": "@zdim <a href=\"https://metacpan.org/pod/List::AutoNumbered\" rel=\"nofollow noreferrer\">metacpan.org/pod/List::AutoNumbered</a> .  You specifically asked me to change the accept, so I am going to do so."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1554395781, "post_id": 50516105, "comment_id": 97746362, "body": "Great that you got around to do it!  I&#39;ll look with pleasure :)  From what I recall this actually answered the question and is now (even!) complete so it absolutely should be &quot;the&quot; answer, thank you for updating :)"}], "tags": [], "owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "is_accepted": true, "score": 2, "last_activity_date": 1554381188, "last_edit_date": 1554381188, "creation_date": 1527187249, "answer_id": 50516105, "question_id": 50510809, "link": "https://stackoverflow.com/questions/50510809/how-to-get-the-current-line-number-in-a-multi-line-list-initializer-of-testcases/50516105#50516105", "title": "How to get the current line number in a multi-line list initializer of testcases?", "body": "<p><strong>Edit</strong> This answer is now wrapped in a <a href=\"https://metacpan.org/pod/List::AutoNumbered\" rel=\"nofollow noreferrer\">CPAN module</a> (<a href=\"https://github.com/cxw42/List-AutoNumbered\" rel=\"nofollow noreferrer\">GitHub</a>)!</p>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/a/50515253/2877364\">@zdim's answer</a> got me thinking about fluent interfaces.  Below are <strong>two hacks</strong> that work for my particular use case, but that don't help me understand the behaviour reported in the question.  If you can help, please post another answer!</p>\n\n<h2>Hack 2 (newer) <em>(the one now on CPAN)</em></h2>\n\n<p>I think this one is very close to minimal.  In perl, you can call a subroutine through a reference with <code>$ref-&gt;()</code>, and you can leave out the second and subsequent <code>-&gt;</code> in a chain of arrows.  That means, for example, that you can do:</p>\n\n<pre><code>my $foo; $foo=sub { say shift; return $foo; };\n$foo-&gt;(1)\n      (2)\n      (3);\n</code></pre>\n\n<p>Looks good, right?  So here's the MCVE:</p>\n\n<pre><code>#!perl\nuse strict; use warnings; use 5.010;\n\npackage FluentAutoIncList2 {\n    sub new {   # call as $class-&gt;new(__LINE__); each element is one line\n        my $class = shift;\n        my $self = bless {lnum =&gt; shift // 0, arr =&gt; []}, $class;\n\n        # Make a loader that adds an item and returns itself --- not $self\n        $self-&gt;{loader} = sub { $self-&gt;L(@_); return $self-&gt;{loader} };\n\n        return $self;\n    }\n    sub size { return scalar @{ shift-&gt;{arr} }; }\n    sub last { return shift-&gt;size-1; }      # $#\n\n    sub load { goto &amp;{ shift-&gt;{loader} } }  # kick off loading\n\n    sub L {     # Push a new record with the next line number on the front\n        my $self = shift;\n        push @{ $self-&gt;{arr} }, [++$self-&gt;{lnum}, @_];\n        return $self;\n    } #L\n\n    sub add {   # just add it\n        my $self = shift;\n        ++$self-&gt;{lnum};    # keep it consistent\n        push @{ $self-&gt;{arr} }, [@_];\n        return $self;\n    } #add\n\n} #FluentAutoIncList2\n\n# List of [line number, item index, expected line number, type]\nmy $testcases = FluentAutoIncList2-&gt;new(__LINE__)    # line 28\n    -&gt;add(__LINE__,0,36,'LINE')\n    -&gt;add(__LINE__,1,37,'LINE');\n    $testcases-&gt;load(2,38,'load')-&gt;     # &lt;== Only need two arrows.\n    (3,39,'chain load')                 # &lt;== After that, () are enough.\n    (4,40,'chain load')\n    (5,41,'chain load')\n    (6,42,'chain load')\n    (7,43,'chain load')\n;\n\nforeach my $idx (0..$testcases-&gt;last) {\n    printf \"%2d %-10s line %2d expected %2d %s\\n\",\n            $idx, $testcases-&gt;{arr}-&gt;[$idx]-&gt;[3],\n            $testcases-&gt;{arr}-&gt;[$idx]-&gt;[0],\n            $testcases-&gt;{arr}-&gt;[$idx]-&gt;[2],\n            ($testcases-&gt;{arr}-&gt;[$idx]-&gt;[0] !=\n                $testcases-&gt;{arr}-&gt;[$idx]-&gt;[2]) &amp;&amp; '*';\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> 0 LINE       line 36 expected 36\n 1 LINE       line 37 expected 37\n 2 load       line 38 expected 38\n 3 chain load line 39 expected 39\n 4 chain load line 40 expected 40\n 5 chain load line 41 expected 41\n 6 chain load line 42 expected 42\n 7 chain load line 43 expected 43\n</code></pre>\n\n<p>All the <code>chain load</code> lines were loaded with zero extra characters compared to the original <code>[x, y]</code> approach.  Some overhead, but not much!</p>\n\n<h2>Hack 1</h2>\n\n<p>Code:</p>\n\n<p>By starting with <code>__LINE__</code> and assuming a fixed number of lines per call, a counter will do the trick.  This could probably be done more cleanly with a <code>tie</code>.</p>\n\n<pre><code>#!perl\nuse strict; use warnings; use 5.010;\n\npackage FluentAutoIncList {\n    sub new {   # call as $class-&gt;new(__LINE__); each element is one line\n        my $class = shift;\n        return bless {lnum =&gt; shift // 0, arr =&gt; []}, $class;\n    }\n    sub size { return scalar @{ shift-&gt;{arr} }; }\n    sub last { return shift-&gt;size-1; }      # $#\n\n    sub L {     # Push a new record with the next line number on the front\n        my $self = shift;\n        push @{ $self-&gt;{arr} }, [++$self-&gt;{lnum}, @_];\n        return $self;\n    } #L\n\n    sub add {   # just add it\n        my $self = shift;\n        ++$self-&gt;{lnum};    # keep it consistent\n        push @{ $self-&gt;{arr} }, [@_];\n        return $self;\n    } #add\n\n} #FluentAutoIncList\n\n# List of [line number, item index, expected line number, type]\nmy $testcases = FluentAutoIncList-&gt;new(__LINE__)    # line 28\n    -&gt;add(__LINE__,0,29,'LINE')\n    -&gt;add(__LINE__,1,30,'LINE')\n    -&gt;L(2,31,'L()')\n    -&gt;L(3,32,'L()')\n    -&gt;L(4,33,'L()')\n;\n\nforeach my $idx (0..$testcases-&gt;last) {\n    printf \"%2d %-10s line %2d expected %2d %s\\n\",\n            $idx, $testcases-&gt;{arr}-&gt;[$idx]-&gt;[3],\n            $testcases-&gt;{arr}-&gt;[$idx]-&gt;[0],\n            $testcases-&gt;{arr}-&gt;[$idx]-&gt;[2],\n            ($testcases-&gt;{arr}-&gt;[$idx]-&gt;[0] !=\n                $testcases-&gt;{arr}-&gt;[$idx]-&gt;[2]) &amp;&amp; '*';\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> 0 LINE       line 29 expected 29\n 1 LINE       line 30 expected 30\n 2 L()        line 31 expected 31\n 3 L()        line 32 expected 32\n 4 L()        line 33 expected 33\n</code></pre>\n"}], "owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 1, "accepted_answer_id": 50516105, "answer_count": 2, "score": 4, "last_activity_date": 1554381188, "creation_date": 1527168973, "last_edit_date": 1528118007, "question_id": 50510809, "link": "https://stackoverflow.com/questions/50510809/how-to-get-the-current-line-number-in-a-multi-line-list-initializer-of-testcases", "title": "How to get the current line number in a multi-line list initializer of testcases?", "body": "<p>Is there a way to reliably get the current line number during a Perl\nmultiline list assignment without explicitly using <code>__LINE__</code>?  I am\nstoring testcases in a list and would like to tag each with its line\nnumber.*  That way I can do (roughly)\n<code>ok($_-&gt;[1], 'line ' . $_-&gt;[0]) for @tests</code>.\nAnd, of course, I would like to save typing compared to\nputting <code>__LINE__</code> at the beginning of each test case :) .  I have\nnot been able to find a way to do so, and I have encountered some\nconfusing behaviour in the lines reported by <code>caller</code>.</p>\n\n<p><sup>* Possible XY, but I can't find a module to do it.</sup></p>\n\n<p><strong>Update</strong> I found a hack and posted it as <a href=\"https://stackoverflow.com/a/50516105/2877364\">an answer</a>.  Thanks to @zdim for helping me think about the problem a different way!</p>\n\n<p><strong>MCVE</strong></p>\n\n<p>A long one, because I've tried several different options.  <code>my_eval</code>,\n<code>L()</code>, and <code>L2{}</code> are some I've tried so far &mdash; <code>L()</code> was the one\nI initially hoped would work.  Jump down to <code>my @testcases</code> to see how\nI'm using these.  When testing, do copy the shebang line.</p>\n\n<p><sup>Here's my <a href=\"https://github.com/cxw42/perlpp/blob/capture-tests/t/03-cmdline.t\" rel=\"nofollow noreferrer\">non-MCVE use case</a>, if you are interested.</sup></p>\n\n<pre><code>#!perl\nuse strict; use warnings; use 5.010;\n\n# Modified from https://www.effectiveperlprogramming.com/2011/06/set-the-line-number-and-filename-of-string-evals/#comment-155 by http://sites.google.com/site/shawnhcorey/\nsub my_eval {\n    my ( $expr ) = @_;\n    my ( undef, $file, $line ) = caller;\n    my $code = \"# line $line \\\"$file\\\"\\n\" . $expr;\n\n    unless(defined wantarray) {\n        eval $code; die $@ if $@;\n    } elsif(wantarray) {\n        my @retval = eval $code; die $@ if $@; return @retval;\n    } else {\n        my $retval = eval $code; die $@ if $@; return $retval;\n    }\n}\n\nsub L {     # Prepend caller's line number\n    my (undef, undef, $line) = caller;\n    return [\"$line\", @_];\n} #L\n\nsub L2(&amp;) {     # Prepend caller's line number\n    my $fn = shift;\n    my (undef, undef, $line) = caller;\n    return [\"$line\", &amp;$fn];\n} #L2\n\n# List of [line number, item index, expected line number, type]\nmy @testcases = (\n    ([__LINE__,0,32,'LINE']),\n    ([__LINE__,1,33,'LINE']),\n    (L(2,34,'L()')),\n    (L(3,35,'L()')),\n    (do { L(4,36,'do {L}') }),\n    (do { L(5,37,'do {L}') }),\n    (eval { L(6,38,'eval {L}') }),\n    (eval { L(7,39,'eval {L}') }),\n    (eval \"L(8,40,'eval L')\"),\n    (eval \"L(9,41,'eval L')\"),\n    (my_eval(\"L(10,42,'my_eval L')\")),\n    (my_eval(\"L(11,43,'my_eval L')\")),\n    (L2{12,44,'L2{}'}),\n    (L2{13,45,'L2{}'}),\n);\n\nforeach my $idx (0..$#testcases) {\n    printf \"%2d %-10s line %2d expected %2d %s\\n\",\n            $idx, $testcases[$idx]-&gt;[3], $testcases[$idx]-&gt;[0],\n            $testcases[$idx]-&gt;[2],\n            ($testcases[$idx]-&gt;[0] != $testcases[$idx]-&gt;[2]) &amp;&amp; '*';\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p>With my comments added.</p>\n\n<pre><code> 0 LINE       line 32 expected 32\n 1 LINE       line 33 expected 33\n</code></pre>\n\n<p>Using <code>__LINE__</code> expressly works fine, but I'm looking for an\nabbreviation.</p>\n\n<pre><code> 2 L()        line 45 expected 34 *\n 3 L()        line 45 expected 35 *\n</code></pre>\n\n<p><code>L()</code> uses <code>caller</code> to get the line number, and reports a line <em>later\nin the file</em> (!).</p>\n\n<pre><code> 4 do {L}     line 36 expected 36\n 5 do {L}     line 45 expected 37 *\n</code></pre>\n\n<p>When I wrap the <code>L()</code> call in a <code>do{}</code>, <code>caller</code> returns the correct\nline number &mdash; but only once (!).</p>\n\n<pre><code> 6 eval {L}   line 38 expected 38\n 7 eval {L}   line 39 expected 39\n</code></pre>\n\n<p>Block <code>eval</code>, interestingly, works fine.  However, it's no shorter\nthan <code>__LINE__</code>.</p>\n\n<pre><code> 8 eval L     line  1 expected 40 *\n 9 eval L     line  1 expected 41 *\n</code></pre>\n\n<p>String <code>eval</code> gives the line number inside the <code>eval</code> (no surprise)</p>\n\n<pre><code>10 my_eval L  line 45 expected 42 *\n11 my_eval L  line 45 expected 43 *\n</code></pre>\n\n<p><code>my_eval()</code> is a string <code>eval</code> plus a <code>#line</code> directive based on\n<code>caller</code>.  It also gives a line number later in the file (!).</p>\n\n<pre><code>12 L2{}       line 45 expected 44 *\n13 L2{}       line 45 expected 45\n</code></pre>\n\n<p><code>L2</code> is the same as <code>L</code>, but it takes a block that returns a list,\nrather than\nthe list itself.  It also uses <code>caller</code> for the line number.  And it\nis correct once, but not twice (!).  (Possibly just because it's the last\nitem &mdash; <code>my_eval</code> reported line 45 also.)</p>\n\n<p><strong>So,</strong> what is going on here?  I have heard of Deparse and wonder if this is\noptimization-related, but I don't know enough about the engine to know\nwhere to start investigating.  I also imagine this could be done with source\nfilters or <a href=\"https://metacpan.org/pod/Devel::Declare\" rel=\"nofollow noreferrer\"><code>Devel::Declare</code></a>, but that is well beyond my\nlevel of experience.</p>\n\n<h2>Take 2</h2>\n\n<p>@zdim's answer got me started thinking about fluent interfaces, e.g., as in <a href=\"https://stackoverflow.com/a/50516105/2877364\">my answer</a>:</p>\n\n<pre><code>$testcases2     # line 26\n    -&gt;add(__LINE__,0,27,'LINE')\n    -&gt;add(__LINE__,1,28,'LINE')\n    -&gt;L(2,29,'L()')\n    -&gt;L(3,30,'L()')\n    -&gt;L(3,31,'L()')\n;\n</code></pre>\n\n<p>However, even those don't work here &mdash; I get line 26 for each of the <code>-&gt;L()</code> calls.  So it appears that <code>caller</code> sees all of the chained calls as coming from the <code>$testcases2-&gt;...</code> line.  Oh well.  I'm still interested in knowing why, if anyone can enlighten me!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1527162841, "post_id": 50508612, "comment_id": 88029299, "body": "Note that <code>~~</code> is experimental in current Perl and its behaviour is subject to change. Also, without showing actual input, we can&#39;t run your code to test our solutions. Moreover, you&#39;re using <code>$1</code> and <code>$2</code>, but there are no parentheses anywhere."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1527163349, "post_id": 50508612, "comment_id": 88029649, "body": "Smart matching is very unlikely to be fixed, and will probably be removed from the language sooner or later. Don&#39;t use it. Take a look at <a href=\"http://blogs.perl.org/users/brian_d_foy/2011/07/rethinking-smart-matching.html\" rel=\"nofollow noreferrer\"><i>Rethinking smart matching</i></a>"}, {"owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "edited": false, "score": 0, "creation_date": 1527169983, "post_id": 50508612, "comment_id": 88034503, "body": "Note &quot;( $symbol, $record_type ) = ( $1, $2 );&quot; instruction in your code. &quot;$1&quot; and &quot;$2&quot; refer to the content caught by respective capturing groups in last regex. But your last regex does not contain any capturing groups. What do you want to do here?"}, {"owner": {"reputation": 137, "user_id": 2538857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d200c37294f00a7699a69df5847b5ce0?s=128&d=identicon&r=PG", "display_name": "mbbxedh2", "link": "https://stackoverflow.com/users/2538857/mbbxedh2"}, "edited": false, "score": 0, "creation_date": 1527176262, "post_id": 50508612, "comment_id": 88038887, "body": "Ok... I&#39;ll not use it, as I read similar concerns elsewhere. Figured out a more standard approach - thanks anyhow  :D"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1527193479, "post_id": 50508612, "comment_id": 88047793, "body": "Re &quot;<i>using ~~ correctly</i>&quot;, The correct way to use <code>~~</code> is to not use it. It is an experimental features with design bugs."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1527254615, "creation_date": 1527254615, "answer_id": 50530249, "question_id": 50508612, "link": "https://stackoverflow.com/questions/50508612/using-correctly/50530249#50530249", "title": "using ~~ correctly", "body": "<p>You can build a regex pattern from your array, like this</p>\n\n<pre><code>my $re = join '|', @foni;\n$re    = qr/$re/;                  # Compile the regex\n\nfor my $field (@fields) {\n    next if $field =~ $re;\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 2538857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d200c37294f00a7699a69df5847b5ce0?s=128&d=identicon&r=PG", "display_name": "mbbxedh2", "link": "https://stackoverflow.com/users/2538857/mbbxedh2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1535616812, "creation_date": 1527162411, "last_edit_date": 1535616812, "question_id": 50508612, "link": "https://stackoverflow.com/questions/50508612/using-correctly", "title": "using ~~ correctly", "body": "<p>I am trying to parse through a simple enough file of field and value pairs. \nSo some fields I am not interested in and I want to skip </p>\n\n<p>So in my \"play\" code I had a static thing like this: \n    next if $field =~ m/fieldToIgnore1|fieldToIgnore2/;</p>\n\n<p>... then I extended this an an array and still happy</p>\n\n<pre><code>print \"== using ~~ ==\\n\";\nforeach my $field (@fields) {\n  next if $field ~~ @foni;\n  print \"$field\\n\";\n}\n</code></pre>\n\n<p>(fnoi == fields not of interest) </p>\n\n<p>But when I carry that over back into my non-play setup it doesn't work. \nNow in the play I was just looping over </p>\n\n<pre><code>my @fields = (\"field1\", \"field2\");\nmy @foni = (\"fieldToIgnore1\", \"fieldToIgnore1\");\n</code></pre>\n\n<p>In my proper code I go through each line and take out the lines that are setup like field - value lines and then strip out the field into a scalar... hence why I thought it would the same idea as my play code - but it doesn't seem to be </p>\n\n<pre><code>while ( &lt;$infile&gt; ) {\n\n  if ( /^PUBLISH:/ ) {\n\n    ( $symbol, $record_type ) = ( $1, $2 );\n    print \"symbol is: [$symbol]\\n\"; \n\n  } else {\n    my ( $field, $value ) = split(/\\|/);\n    next unless $value;\n\n    print \"field is: [$field]\\n\";\n    print \"value is: [$value]\\n\";\n\n    $field =~ s/^\\s+|\\s+$//g;\n    $value =~ s/^\\s+|\\s+$//g;\n\n    print \"... field is: [$field]\\n\";\n    print \"... value is: [$value]\\n\";\n\n    ## ADD FIELD SKIPPING LOGIC HERE  \n</code></pre>\n"}, {"tags": ["perl", "runtime-error", "warnings"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1527160443, "post_id": 50507849, "comment_id": 88027773, "body": "what is your <code>shebang</code> top of your script?"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1527161139, "post_id": 50507849, "comment_id": 88028226, "body": "@GerhardBarnard We have hundreds, maybe thousands of scripts. The main problem is that it&#39;s unknown which script causes the error. Shebangs are <code>#!&#47;usr&#47;bin&#47;perl</code> or <code>#!&#47;usr&#47;local&#47;bin&#47;perl</code>. Symlink <code>&#47;usr&#47;bin&#47;perl -&gt; &#47;usr&#47;local&#47;bin&#47;perl</code>"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1527161395, "post_id": 50507849, "comment_id": 88028379, "body": "and your new perl version is at this location? If it is, then I will delete my comments, just trying to figure possible reasons."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1527162330, "post_id": 50507849, "comment_id": 88028954, "body": "How did you upgrade perl?"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1527164670, "post_id": 50507849, "comment_id": 88030635, "body": "@GerhardBarnard The new perl is at the same location as before."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527164701, "post_id": 50507849, "comment_id": 88030657, "body": "@Borodin I suppose our system admin installed a new version of FreeBSD perl package"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1527164910, "post_id": 50507849, "comment_id": 88030808, "body": "Verify the name of the file as being <code>perl</code> and not something like <code>perl5..</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527164952, "post_id": 50507849, "comment_id": 88030846, "body": "@porton: You can&#39;t just install a new perl on top of the old one; it sounds like you need to delete everything and reinstall from scratch. But if the sysop did the upgrade then it&#39;s their job to fix it."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1535913964, "post_id": 50510586, "comment_id": 91229735, "body": "Great advice, but it won&#39;t help in this case. <a href=\"https://stackoverflow.com/a/52106594/589924\">This is neither a warning nor an exception.</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1535914042, "post_id": 50510586, "comment_id": 91229758, "body": "You can avoid overriding the shebang line by using <code>PERL5OPT=-MCarp::Always the_script.pl arg1 arg2 ...</code>"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1527168321, "creation_date": 1527168321, "answer_id": 50510586, "question_id": 50507849, "link": "https://stackoverflow.com/questions/50507849/weird-error-after-perl-upgrade-unable-to-flush-stdout/50510586#50510586", "title": "Weird error after Perl upgrade: Unable to flush stdout", "body": "<p>This is very general advice, but</p>\n\n<pre><code>use Carp::Always;\n</code></pre>\n\n<p>at the top of the script, or running with</p>\n\n<pre><code>perl -MCarp::Always the_script.pl arg1 arg2 ...\n</code></pre>\n\n<p>will get Perl to produce stack traces with every warning and error.</p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 5, "last_activity_date": 1535671133, "creation_date": 1535671133, "answer_id": 52106594, "question_id": 50507849, "link": "https://stackoverflow.com/questions/50507849/weird-error-after-perl-upgrade-unable-to-flush-stdout/52106594#52106594", "title": "Weird error after Perl upgrade: Unable to flush stdout", "body": "<p>The error comes from <a href=\"https://perl5.git.perl.org/perl.git/blob/v5.24.4:/perl.c#l595\" rel=\"noreferrer\">perl.c, line 595</a>:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>        PerlIO_printf(PerlIO_stderr(), \"Unable to flush stdout: %s\",\n                      Strerror(errno));\n</code></pre>\n\n<p>This line is part of <a href=\"https://perldoc.pl/perlapi#perl_destruct\" rel=\"noreferrer\"><code>perl_destruct</code></a>, which is called to shut down the perl interpreter at the end of the program.</p>\n\n<p>As part of the global shutdown procedure, all still open filehandles are flushed (i.e. all buffered output is written out). The comment above says:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code> /* Need to flush since END blocks can produce output */\n /* flush stdout separately, since we can identify it */\n</code></pre>\n\n<p>The error message is not listed in <a href=\"https://perldoc.pl/perldiag\" rel=\"noreferrer\"><code>perldoc perldiag</code></a>, which is arguably a documentation bug. It was probably overlooked because it's not a real <code>warn</code> or <code>die</code> call, it's effectively just <code>print STDERR $message</code>. It's not associated with a file name or line number because it only happens after your program stops running (i.e. after a call to <code>exit</code> or because execution fell off the end of the main script).</p>\n"}, {"comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1536416121, "post_id": 52139990, "comment_id": 91420778, "body": "It can be simplified: <code>perl -e &#39;$SIG{PIPE} = &quot;IGNORE&quot;; sleep(1); print &quot;foo\\n&quot;;&#39; | echo -n</code> is a short code which produces this error"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1535915514, "last_edit_date": 1535915514, "creation_date": 1535913307, "answer_id": 52139990, "question_id": 50507849, "link": "https://stackoverflow.com/questions/50507849/weird-error-after-perl-upgrade-unable-to-flush-stdout/52139990#52139990", "title": "Weird error after Perl upgrade: Unable to flush stdout", "body": "<p><code>Broken pipe</code> is the error string associated with system error <code>EPIPE</code>. One receives this error when writing to a closed pipe. Writing to a closed pipe usally results in the process being killed by a SIGPIPE, so it means the behaviour of SIGPIPE was changed from its default.</p>\n\n<pre><code>$ perl -e'\n   $SIG{PIPE} = \"IGNORE\";\n   print \"foo\\n\"\n      or die(\"Can\\x27t write to STDOUT: $!\\n\");\n   sleep(2);\n   close(STDOUT)\n      or die(\"Unable to flush STDOUT: $!\\n\");\n' | perl -e'sleep(1)'\nUnable to flush STDOUT: Broken pipe\n</code></pre>\n\n<p>As melpomene <a href=\"https://stackoverflow.com/a/52106594/589924\">discovered</a>, the error is automatically output if you write to a broken pipe in an <code>END</code> block.</p>\n\n<pre><code>$ perl -e'\n   $SIG{PIPE} = \"IGNORE\";\n   sleep(2);\n   END { print \"foo\\n\"; }\n' | perl -e'sleep(1)'\nUnable to flush stdout: Broken pipe\n</code></pre>\n\n<p>This isn't necessarily a problem, although it could be a sign that a process is exiting prematurely.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 952, "favorite_count": 2, "answer_count": 3, "score": 1, "last_activity_date": 1535915514, "creation_date": 1527160213, "last_edit_date": 1535671562, "question_id": 50507849, "link": "https://stackoverflow.com/questions/50507849/weird-error-after-perl-upgrade-unable-to-flush-stdout", "title": "Weird error after Perl upgrade: Unable to flush stdout", "body": "\n\n<p>After upgrading to Perl 5.24.4 we repeatedly get this error in logs (without pointing the filename and line number):</p>\n\n<blockquote>\n  <p>Unable to flush stdout: Broken pipe</p>\n</blockquote>\n\n<p>We have no idea what causes this error.</p>\n\n<p>Is there any advice how to understand the cause of the error?</p>\n"}, {"tags": ["perl", "path", "include"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1527157489, "post_id": 50506869, "comment_id": 88025802, "body": "Sounds like you&#39;re using a local lib for that. What user is running the cron job? If it&#39;s your own, it should read your bashrc file and pick up the path. But if it&#39;s not your own, it should really not require modules that are in your home directory. That&#39;s not where it is supposed to be looking."}, {"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 4, "creation_date": 1527157809, "post_id": 50506869, "comment_id": 88026016, "body": "<code>PATH</code> is not used for finding modules. Try <code>PERL5LIB</code>"}, {"owner": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "edited": false, "score": 0, "creation_date": 1527158220, "post_id": 50506869, "comment_id": 88026272, "body": "I never intended to load the module in my home dir.  That is where it got loaded when installed.  It makes more sense to me to have it with the others.  Can I move/copy the modules to be with the others without breaking my system?  If I move/copy the files, where should they go???   I am the user running the cron job."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 2, "creation_date": 1527165369, "post_id": 50506869, "comment_id": 88031166, "body": "<a href=\"https://www.perlmonks.org/?node_id=1215113\" rel=\"nofollow noreferrer\">Crossposted to PerlMonks</a>."}, {"owner": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "edited": false, "score": 1, "creation_date": 1527201723, "post_id": 50506869, "comment_id": 88050858, "body": "The root cause of the problem is that most modules were installed as deb packages. These are located in /usr/. A couple of modules were installed with CPAN into the user directory.   When the perl scripts were run as user, they worked perfectly.  When the perl scripts were run by cron as user, they failed because the perl compiler couldn&#39;t find the modules installed by cpan in the user folder.  I fixed the problem by running &quot;sudo cpan module&quot;  That put the modules where perl can find them."}], "answers": [{"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1527248000, "creation_date": 1527248000, "answer_id": 50528262, "question_id": 50506869, "link": "https://stackoverflow.com/questions/50506869/can-i-move-perl-modules-without-breaking-the-system/50528262#50528262", "title": "Can I move perl modules without breaking the system?", "body": "<p>Try:</p>\n\n<pre><code>use lib glob( '~/perl5/lib/perl5' );\nuse Image::Grab;\n</code></pre>\n\n<p>The <code>use lib</code> must come before many <code>use</code> module.</p>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "edited": false, "score": 0, "creation_date": 1527412303, "post_id": 50547655, "comment_id": 88112195, "body": "Here is some more information.  <a href=\"https://stackoverflow.com/questions/32726324/i-installed-a-module-successfully-with-cpan-but-perl-cant-find-it-why\" title=\"i installed a module successfully with cpan but perl cant find it why\">stackoverflow.com/questions/32726324/&hellip;</a>"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1527436043, "post_id": 50547655, "comment_id": 88118365, "body": "<i>&quot;The root cause of the problem is that cpan doesn&#39;t update the @INC environment variable to tell the compiler where to find the modules.&quot;</i> Sorry, but this is incorrect, <code>@INC</code> is not an environment variable and it&#39;s not <code>cpan</code>&#39;s job to modify <code>@INC</code> or the <code>PERL5LIB</code> environment variable. <a href=\"https://www.perlmonks.org/?node_id=1215276\" rel=\"nofollow noreferrer\">I explained in detail over on PerlMonks</a>."}], "tags": [], "owner": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "is_accepted": false, "score": -2, "last_activity_date": 1527478121, "last_edit_date": 1527478121, "creation_date": 1527375524, "answer_id": 50547655, "question_id": 50506869, "link": "https://stackoverflow.com/questions/50506869/can-i-move-perl-modules-without-breaking-the-system/50547655#50547655", "title": "Can I move perl modules without breaking the system?", "body": "<p>Follow the link in the following comment by @haukex to arrive at a full explanation.</p>\n"}], "owner": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 525, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1527478121, "creation_date": 1527157376, "last_edit_date": 1527158078, "question_id": 50506869, "link": "https://stackoverflow.com/questions/50506869/can-i-move-perl-modules-without-breaking-the-system", "title": "Can I move perl modules without breaking the system?", "body": "<p>I have the exact problem described here:\n<a href=\"https://stackoverflow.com/questions/17194632/perl-cant-find-module-when-run-from-cron-daily\">Perl can't find module when run from cron.daily</a> except that my problem applies to a perl script running from crontab.</p>\n\n<p>In my case the error message is:</p>\n\n<pre><code>May 24 22:12:02 trackcam3 test_cron: Can't locate Image/Grab.pm in @INC (you may need to install the Image::Grab module) (@INC contains: /etc/perl /usr/local/lib/arm-linux-gnueabihf/perl/5.24.1 /usr/local/share/perl/5.24.1 /usr/lib/arm-linux-gnueabihf/perl5/5.24 /usr/share/perl5 /usr/lib/arm-linux-gnueabihf/perl/5.24 /usr/share/perl/5.24 /usr/local/lib/site_perl /usr/lib/arm-linux-gnueabihf/perl-base) at /home/darren/upload_image.pl line 33, &lt;DATA&gt; line 1.\nMay 24 22:12:02 trackcam3 test_cron: BEGIN failed--compilation aborted at /home/darren/upload_image.pl line 33, &lt;DATA&gt; line 1.\n</code></pre>\n\n<p>The solutions at the link all add something to the path.  I would like to know if I can move or copy the modules to somewhere they can be found when perl scripts from crontab.</p>\n\n<p>As part of troubleshooting I have already loaded cron with the same PATH as I have from the terminal but that is not enough to allow the perl module to be found.</p>\n\n<p>The missing module is in <code>~/perl5/lib/perl5</code> which is not in @INC</p>\n\n<p>The same perl script call modules that are located at</p>\n\n<pre><code>/usr/lib/arm-linux-gnueabihf/perl5/5.24/Image/Magick\n</code></pre>\n\n<p>Should it be somewhere else?  At present <code>/usr/lib/perl5</code> is empty. The OP in the link asked the same question in the link but didn't receive an answer.</p>\n"}, {"tags": ["arrays", "perl", "foreach"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 4, "creation_date": 1527134778, "post_id": 50500347, "comment_id": 88014133, "body": "Whenever you think you want a series of variables named <code>var1</code>, <code>var2</code>, <code>var3</code>, ..., just use an array instead (<code>var[0]</code>, <code>var[1]</code>, <code>var[2]</code>, ...)."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 7, "last_activity_date": 1564437212, "last_edit_date": 1564437212, "creation_date": 1527132779, "answer_id": 50500501, "question_id": 50500347, "link": "https://stackoverflow.com/questions/50500347/how-to-create-variable-array-name-in-foreach-loop-for-perl/50500501#50500501", "title": "How to create variable array name in foreach loop for perl", "body": "<p>That would require <a href=\"https://perldoc.perl.org/perlref.html#Symbolic-references\" rel=\"nofollow noreferrer\">symbolic references</a> and you <a href=\"https://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\"><em>don't want to be doing that</em></a>. \nIt is a dangerous feature which is actually needed and used only very rarely for very specific reasons. For all other purposes there are other, better, ways.</p>\n\n<p>Instead, use anonymous arrays (or array <a href=\"https://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">references</a>) stored in <a href=\"https://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">a data structure</a>, with an array</p>\n\n<pre><code>my @data;\nforeach $key (sort keys %hash) {\n    push @data, [ ... ];          # (populate with $hash data) \n}\n</code></pre>\n\n<p>or a hash</p>\n\n<pre><code>my %data;\nforeach $key (sort keys %hash) {\n    my $name     = ...;            # work out a suitable key-name\n    $data{$name} = [ ... ];        # populate with $hash data\n}\n</code></pre>\n\n<p>I don't know what to put in anonymous arrays <code>[ ... ]</code>, or what good names for keys (<code>$name</code>) are, since it's not stated what is in the hash. </p>\n\n<p>It is conceivable that your hash values themselves are in fact arrayrefs, in which case</p>\n\n<pre><code>my @data;\nforeach $key (sort keys %hash) {\n    push @data, $hash{$key}; \n}\n</code></pre>\n\n<p>seems to fit the question but is really just</p>\n\n<pre><code>my @data = map { $hash{$_} } sort keys %hash;\n</code></pre>\n\n<p>or, if you don't need a predictable order based on keys</p>\n\n<pre><code>my @data = values %hash;\n</code></pre>\n\n<p>But I presume that there is more to do with hash's data before it is stored in arrays.</p>\n\n<p>Then you can refer to the individual array(ref)s by index (or by name in the case of a hash).</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10936211, "user_type": "registered", "profile_image": "https://graph.facebook.com/602955320146078/picture?type=large", "display_name": "Vasanth Kumar", "link": "https://stackoverflow.com/users/10936211/vasanth-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1574602397, "creation_date": 1574602397, "answer_id": 59018184, "question_id": 50500347, "link": "https://stackoverflow.com/questions/50500347/how-to-create-variable-array-name-in-foreach-loop-for-perl/59018184#59018184", "title": "How to create variable array name in foreach loop for perl", "body": "<pre><code>for(my $i=0;$i&lt;100;$i++){\nmy @arr_i=($i);\nprint(@arr_i,\"\\n\");\n }\n</code></pre>\n"}], "owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "accepted_answer_id": 50500501, "answer_count": 2, "score": 1, "last_activity_date": 1574602397, "creation_date": 1527131475, "question_id": 50500347, "link": "https://stackoverflow.com/questions/50500347/how-to-create-variable-array-name-in-foreach-loop-for-perl", "title": "How to create variable array name in foreach loop for perl", "body": "<p>I would like to create an array inside foreach loop that change name itself</p>\n\n<pre><code>our $j = 1;\n\nforeach $key ( sort keys %hash ){\n    @array1 = $hash{$key};\n    $j++;\n}\n</code></pre>\n\n<p>How to i change array name with <code>$j</code>. Like every key my array name will change from <code>@array1, @array2, @array3....</code></p>\n"}]