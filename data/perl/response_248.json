[{"tags": ["mysql", "database", "perl", "dbi", "hashref"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570655382, "post_id": 58312325, "comment_id": 102985746, "body": "Whether Data::Dumper thinks it&#39;s a string or number is irrelevant (and this is the most likely thing that has changed). In Perl, it is both. What output are you using where it actually matters?"}, {"owner": {"reputation": 190, "user_id": 2469173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C3JHo.jpg?s=128&g=1", "display_name": "Arties", "link": "https://stackoverflow.com/users/2469173/arties"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570655845, "post_id": 58312325, "comment_id": 102985902, "body": "It&#39;s not an Data::Dumper thing because JSON::to_json has the &quot;same&quot; difference! I need the hashresult for json output. And than in jquery / bootstrap the following modal.find(&#39;.modal-body input#checkbox&#39;).prop(&#39;checked&#39;, objData.checked); If objData.checked 0 or 1 (integer) all fine, but &quot;0&quot; or &quot;1&quot; are always &quot;true&quot; -&gt; so bad..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1570659716, "post_id": 58312325, "comment_id": 102986982, "body": "Can you show the actual code that is affected by this number-vs-string (?), or whatever the problem is?  Thanks for an example but <code>Dumper</code> does non-trivial things with data, and you don&#39;t care for it  -- how&#39;s that JSON you mention (and how are its values used?), if that&#39;s what has a problem?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570660392, "post_id": 58312325, "comment_id": 102987129, "body": "JSON, or more specifically the backend it&#39;s choosing to use, has completely different heuristics for deciding whether to output a scalar as a string or number from Data::Dumper, and even from each other and between different versions."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570660449, "post_id": 58312325, "comment_id": 102987146, "body": "DBD::mysql creates all result values as strings, and so all of these heuristics will guess that it is a string, unless you use it somewhere in a numerical operation, in which case the latest versions of JSON::PP and Cpanel::JSON::XS will consider it a number. This behavior of DBD::mysql was probably buggy in an older version."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 2, "creation_date": 1570660507, "post_id": 58312325, "comment_id": 102987160, "body": "To be explicit, try <a href=\"https://metacpan.org/pod/Cpanel::JSON::XS::Type\" rel=\"nofollow noreferrer\">Cpanel::JSON::XS::Type</a> to specify what types your values should be, or add 0 to them in-place to force them to be interpreted as a number by any JSON library."}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 2, "creation_date": 1570677708, "post_id": 58312325, "comment_id": 102990473, "body": "As suggested, adding +0 to the result will turn it into a number. If you want to do this programmatically without hard-coding tables, you can possibly use &#39;mysql_is_num&#39; but I have never tried. More information here: <a href=\"https://stackoverflow.com/questions/40800205/why-does-dbi-implicitly-change-integers-to-strings\" title=\"why does dbi implicitly change integers to strings\">stackoverflow.com/questions/40800205/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570683212, "post_id": 58312325, "comment_id": 102991633, "body": "If you using the binding functions of DBI, you can specify the expected type."}], "answers": [{"tags": [], "owner": {"reputation": 190, "user_id": 2469173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C3JHo.jpg?s=128&g=1", "display_name": "Arties", "link": "https://stackoverflow.com/users/2469173/arties"}, "is_accepted": true, "score": 2, "last_activity_date": 1570723645, "last_edit_date": 1570723645, "creation_date": 1570688750, "answer_id": 58316670, "question_id": 58312325, "link": "https://stackoverflow.com/questions/58312325/perl-fetchrow-hashref-results-are-different-integer-vs-string-values/58316670#58316670", "title": "Perl fetchrow_hashref results are different integer vs. string values", "body": "<p>@Nick P : That's the solution you linked <a href=\"https://stackoverflow.com/questions/40800205/why-does-dbi-implicitly-change-integers-to-strings\">Why does DBI implicitly change integers to strings?</a> , the DBD::mysql was different on both systems! So i upgraded on machine 2 from Version 4.020 to Version 4.050 and now both systems has the same result! And Integers are Integers ;-)</p>\n\n<p>So the result on both machines is now:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$VAR1 = {\n          '1' =&gt; 1\n        };\n{\"1\":1}\n</code></pre>\n\n<p>Thank you!</p>\n"}], "owner": {"reputation": 190, "user_id": 2469173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C3JHo.jpg?s=128&g=1", "display_name": "Arties", "link": "https://stackoverflow.com/users/2469173/arties"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 58316670, "answer_count": 1, "score": 1, "last_activity_date": 1570723645, "creation_date": 1570655242, "last_edit_date": 1570687654, "question_id": 58312325, "link": "https://stackoverflow.com/questions/58312325/perl-fetchrow-hashref-results-are-different-integer-vs-string-values", "title": "Perl fetchrow_hashref results are different integer vs. string values", "body": "<p>I really need your help for understanding with the following perl example code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\n# Hashtest\n\nuse strict;\nuse DBI;\nuse DBIx::Log4perl;\nuse Data::Dumper;\nuse utf8;\n\nif (my $dbh = DBIx::Log4perl-&gt;connect(\"DBI:mysql:myDB\",\"myUser\",\"myPassword\",{\n            RaiseError =&gt; 1,\n            PrintError =&gt; 1,\n            AutoCommit =&gt; 0,\n            mysql_enable_utf8 =&gt; 1\n        }))\n{\n\n    my $data = undef;\n    my $sql_query = &lt;&lt;EndOfSQL;\nSELECT  1\nEndOfSQL\n    my $out = $dbh-&gt;prepare($sql_query);\n    $out-&gt;execute() or exit(0);\n    my $row = $out-&gt;fetchrow_hashref();\n    $out-&gt;finish();\n\n    # Debugging\n    print Dumper($row);\n\n    $dbh-&gt;disconnect;\n    exit(0);\n}\n\n1;\n</code></pre>\n\n<p>If i run this code on two machines i get different results.</p>\n\n<p>Result on machine 1: (Result i needed with integer value)</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>arties@p51s:~$ perl hashTest.pl \nLog4perl: Seems like no initialization happened. Forgot to call init()?\n$VAR1 = {\n          '1' =&gt; 1\n        };\n</code></pre>\n\n<p>Resulst on machine 2: (Result that makes trouble because of string value)</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>arties@core3:~$ perl hashTest.pl\nLog4perl: Seems like no initialization happened. Forgot to call init()?\n$VAR1 = {\n          '1' =&gt; '1'\n        };\n</code></pre>\n\n<p>As you can see on machine 1 the value from MySQL will be interpreted as integer value and on machine 2 as string value.\nI need on both machines the integer value. And it is not possible to modify the hash later, because the original code has too much values, that must be changed...</p>\n\n<p>Both machines uses DBI 1.642 and DBIx::Log4perl 0.26</p>\n\n<p>The only difference is the perl version machine 1 (v5.26.1) vs. machine 2 (v5.14.2)</p>\n\n<p>So the big question is, how can I make sure I always get the integer in the hash as the result?</p>\n\n<p><strong>Update 10.10.2019:</strong></p>\n\n<p>To show perhaps better the problem, i improve the above example:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>...\nuse Data::Dumper;\nuse JSON;  # &lt;-- Inserted\nuse utf8;\n...\n\n...\nprint Dumper($row);\n\n# JSON Output\nprint JSON::to_json($row).\"\\n\"; # &lt;-- Inserted\n\n$dbh-&gt;disconnect;\n...\n</code></pre>\n\n<p>Now the output on machine 1 with last line the JSON Output:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>arties@p51s:~$ perl hashTest.pl \nLog4perl: Seems like no initialization happened. Forgot to call init()?\n$VAR1 = {\n          '1' =&gt; 1\n        };\n{\"1\":1}\n</code></pre>\n\n<p>Now the output on machine 2 with last line the JSON Output:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>arties@core3:~$ perl hashTest.pl\n$VAR1 = {\n          '1' =&gt; '1'\n        };\n{\"1\":\"1\"}\n</code></pre>\n\n<p>You see, that both Data::Dumper AND JSON has the same behavor. And as i wrote bevor, +0 is not an option because the original hash is much more complex.</p>\n\n<p>Both machines use JSON 4.02</p>\n"}, {"tags": ["xml", "perl", "xpath", "soap", "xml-parsing"], "comments": [{"owner": {"reputation": 15659, "user_id": 9448090, "user_type": "registered", "profile_image": "https://graph.facebook.com/600951510246447/picture?type=large", "display_name": "Jack Fleeting", "link": "https://stackoverflow.com/users/9448090/jack-fleeting"}, "edited": false, "score": 0, "creation_date": 1570654239, "post_id": 58310797, "comment_id": 102985317, "body": "What do you mean by &quot;the remaining IDs&quot;?"}, {"owner": {"reputation": 510, "user_id": 2035207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23407540c4b23ef4f9b4ef62677576ae?s=128&d=identicon&r=PG", "display_name": "h q", "link": "https://stackoverflow.com/users/2035207/h-q"}, "reply_to_user": {"reputation": 15659, "user_id": 9448090, "user_type": "registered", "profile_image": "https://graph.facebook.com/600951510246447/picture?type=large", "display_name": "Jack Fleeting", "link": "https://stackoverflow.com/users/9448090/jack-fleeting"}, "edited": false, "score": 0, "creation_date": 1570677307, "post_id": 58310797, "comment_id": 102990364, "body": "I meant that I need to extract the <code>&lt;key&gt;</code> values of subscription IDs <code>CD22222222</code> and <code>CD33333333</code>. How do I get to the <code>&lt;key&gt;</code> or <code>&lt;number&gt;</code>?"}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 0, "creation_date": 1570678385, "post_id": 58310797, "comment_id": 102990610, "body": "I don&#39;t have a solution, but can confirm it seems to be merging the two node groups <code>communication</code> and <code>common-data</code> when decoding. I am seeing <code>actions</code>in the output for nodes 2 and 3. If I delete the <code>id</code> attributes from the <code>rule</code> nodes (or change their values to not match the later nodes), it works as you would expect."}, {"owner": {"reputation": 510, "user_id": 2035207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23407540c4b23ef4f9b4ef62677576ae?s=128&d=identicon&r=PG", "display_name": "h q", "link": "https://stackoverflow.com/users/2035207/h-q"}, "edited": false, "score": 0, "creation_date": 1570685834, "post_id": 58310797, "comment_id": 102992284, "body": "Thank you @NickP- Yes, that&#39;s what I&#39;ve observed. Sometimes I wonder if I should use <code>outputxml(1)</code> when calling <code>SOAP::Lite</code> and parse the XML using <code>XML::Twig</code>; however, I thought it&#39;ll become too complex with SOAP Faults and error handling."}, {"owner": {"reputation": 15659, "user_id": 9448090, "user_type": "registered", "profile_image": "https://graph.facebook.com/600951510246447/picture?type=large", "display_name": "Jack Fleeting", "link": "https://stackoverflow.com/users/9448090/jack-fleeting"}, "edited": false, "score": 0, "creation_date": 1570705197, "post_id": 58310797, "comment_id": 103001547, "body": "@hq - And do you want to exclude info related to subscription ID <code>PD11111111</code>? If so, is the excluded ID always the first? Always starts with &quot;PD&quot; instead of &quot;CD&quot;? Generally, what is the common denominator of excluded in included IDs?"}, {"owner": {"reputation": 510, "user_id": 2035207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23407540c4b23ef4f9b4ef62677576ae?s=128&d=identicon&r=PG", "display_name": "h q", "link": "https://stackoverflow.com/users/2035207/h-q"}, "reply_to_user": {"reputation": 15659, "user_id": 9448090, "user_type": "registered", "profile_image": "https://graph.facebook.com/600951510246447/picture?type=large", "display_name": "Jack Fleeting", "link": "https://stackoverflow.com/users/9448090/jack-fleeting"}, "edited": false, "score": 0, "creation_date": 1570722776, "post_id": 58310797, "comment_id": 103011970, "body": "@JackFleeting Thanks for your message. I don&#39;t care for the extra values. I just need the <code>key</code> and <code>number</code> values, and would like to know which <code>number</code> is the <code>default-subscription</code>."}, {"owner": {"reputation": 15659, "user_id": 9448090, "user_type": "registered", "profile_image": "https://graph.facebook.com/600951510246447/picture?type=large", "display_name": "Jack Fleeting", "link": "https://stackoverflow.com/users/9448090/jack-fleeting"}, "edited": false, "score": 0, "creation_date": 1570723522, "post_id": 58310797, "comment_id": 103012333, "body": "@hq - In your code, is <code>&lt;number&gt;11111111&lt;&#47;number&gt;</code> (or just <code>11111111</code>) the <code>default-subscription</code>?"}, {"owner": {"reputation": 510, "user_id": 2035207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23407540c4b23ef4f9b4ef62677576ae?s=128&d=identicon&r=PG", "display_name": "h q", "link": "https://stackoverflow.com/users/2035207/h-q"}, "reply_to_user": {"reputation": 15659, "user_id": 9448090, "user_type": "registered", "profile_image": "https://graph.facebook.com/600951510246447/picture?type=large", "display_name": "Jack Fleeting", "link": "https://stackoverflow.com/users/9448090/jack-fleeting"}, "edited": false, "score": 0, "creation_date": 1570818630, "post_id": 58310797, "comment_id": 103048433, "body": "@JackFleeting Just <code>11111111</code> and I&#39;d like to know whether it&#39;s the <code>default-subscription</code>. I also would like to know the other numbers in the subscription-list, i.e. <code>22222222</code> and <code>33333333</code>."}, {"owner": {"reputation": 15659, "user_id": 9448090, "user_type": "registered", "profile_image": "https://graph.facebook.com/600951510246447/picture?type=large", "display_name": "Jack Fleeting", "link": "https://stackoverflow.com/users/9448090/jack-fleeting"}, "edited": false, "score": 0, "creation_date": 1570819669, "post_id": 58310797, "comment_id": 103048853, "body": "@hq - To get both items, you will need two different xpath expressions; is that OK?"}, {"owner": {"reputation": 510, "user_id": 2035207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23407540c4b23ef4f9b4ef62677576ae?s=128&d=identicon&r=PG", "display_name": "h q", "link": "https://stackoverflow.com/users/2035207/h-q"}, "reply_to_user": {"reputation": 15659, "user_id": 9448090, "user_type": "registered", "profile_image": "https://graph.facebook.com/600951510246447/picture?type=large", "display_name": "Jack Fleeting", "link": "https://stackoverflow.com/users/9448090/jack-fleeting"}, "edited": false, "score": 0, "creation_date": 1570882829, "post_id": 58310797, "comment_id": 103061697, "body": "@JackFleeting sure, of course it&#39;s ok. I&#39;m looking forward for your suggestion, thanks."}, {"owner": {"reputation": 15659, "user_id": 9448090, "user_type": "registered", "profile_image": "https://graph.facebook.com/600951510246447/picture?type=large", "display_name": "Jack Fleeting", "link": "https://stackoverflow.com/users/9448090/jack-fleeting"}, "edited": false, "score": 0, "creation_date": 1571081198, "post_id": 58310797, "comment_id": 103113991, "body": "Sorry about the delay (didn&#39;t get your response, for some strange reason). See below."}], "answers": [{"comments": [{"owner": {"reputation": 510, "user_id": 2035207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23407540c4b23ef4f9b4ef62677576ae?s=128&d=identicon&r=PG", "display_name": "h q", "link": "https://stackoverflow.com/users/2035207/h-q"}, "edited": false, "score": 0, "creation_date": 1582527005, "post_id": 58382954, "comment_id": 106793905, "body": "Would you kindly provide a working example to print the keys &quot;alpha&quot;, &quot;beta&quot; and &quot;gamma&quot;? Thank you!"}], "tags": [], "owner": {"reputation": 15659, "user_id": 9448090, "user_type": "registered", "profile_image": "https://graph.facebook.com/600951510246447/picture?type=large", "display_name": "Jack Fleeting", "link": "https://stackoverflow.com/users/9448090/jack-fleeting"}, "is_accepted": false, "score": 1, "last_activity_date": 1571081164, "creation_date": 1571081164, "answer_id": 58382954, "question_id": 58310797, "link": "https://stackoverflow.com/questions/58310797/parsing-xml-response-using-soaplite/58382954#58382954", "title": "Parsing XML Response using SOAP::Lite", "body": "<p>The xpath expression to get all date from the <code>&lt;number&gt;</code> element:</p>\n\n<pre><code>//services/common-data//subscription//number/text()\n</code></pre>\n\n<p>To get just the data from the <code>&lt;number&gt;</code> element which is inside a <code>&lt;subscription-list&gt;</code> which is a <code>&lt;default-subscription/&gt;</code> use:</p>\n\n<pre><code>//services/common-data//subscription[.//child::*[name()='default-subscription']]//number/text()\n</code></pre>\n"}], "owner": {"reputation": 510, "user_id": 2035207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23407540c4b23ef4f9b4ef62677576ae?s=128&d=identicon&r=PG", "display_name": "h q", "link": "https://stackoverflow.com/users/2035207/h-q"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571081164, "creation_date": 1570648420, "question_id": 58310797, "link": "https://stackoverflow.com/questions/58310797/parsing-xml-response-using-soaplite", "title": "Parsing XML Response using SOAP::Lite", "body": "<p>Using <a href=\"https://metacpan.org/pod/SOAP::Lite\" rel=\"nofollow noreferrer\">SOAP::Lite</a> I'm trying to parse an XML Response; however, SOAP::SOM isn't giving me the desired values. It appears to take a different path than the one I'm trying to find.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>    #!/usr/bin/env perl\n    use strict;\n    use warnings;\n    use SOAP::Lite;\n    use Data::Dumper;\n\n    my $xml  = &lt;&lt;'__XML__';\n    &lt;S:Envelope xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n      &lt;S:Body&gt;\n        &lt;GetResponse&gt;\n          &lt;services&gt;\n            &lt;communication&gt;\n              &lt;ruleset&gt;\n                &lt;rule id=\"CD22222222\"&gt;\n                  &lt;id&gt;CD22222222&lt;/id&gt;\n                  &lt;conditions&gt;\n                    &lt;xtra&gt;\n                      &lt;one id=\"sip:+22222222@ims\"&gt;\n                        &lt;id&gt;sip:+22222222@ims&lt;/id&gt;\n                      &lt;/one&gt;\n                      &lt;one id=\"tel:+22222222\"&gt;\n                        &lt;id&gt;tel:+22222222&lt;/id&gt;\n                      &lt;/one&gt;\n                    &lt;/xtra&gt;\n                  &lt;/conditions&gt;\n                  &lt;actions&gt;\n                    &lt;allow&gt;false&lt;/allow&gt;\n                  &lt;/actions&gt;\n                &lt;/rule&gt;\n                &lt;rule id=\"CD33333333\"&gt;\n                  &lt;id&gt;CD33333333&lt;/id&gt;\n                  &lt;conditions&gt;\n                    &lt;xtra&gt;\n                      &lt;one id=\"sip:+33333333@ims\"&gt;\n                        &lt;id&gt;sip:+33333333@ims&lt;/id&gt;\n                      &lt;/one&gt;\n                      &lt;one id=\"tel:+33333333\"&gt;\n                        &lt;id&gt;tel:+33333333&lt;/id&gt;\n                      &lt;/one&gt;\n                    &lt;/xtra&gt;\n                  &lt;/conditions&gt;\n                  &lt;actions&gt;\n                    &lt;allow&gt;false&lt;/allow&gt;\n                  &lt;/actions&gt;\n                &lt;/rule&gt;\n              &lt;/ruleset&gt;\n            &lt;/communication&gt;\n            &lt;common-data&gt;\n              &lt;subscription-list&gt;\n                &lt;subscription id=\"PD11111111\"&gt;\n                  &lt;id&gt;PD11111111&lt;/id&gt;\n                  &lt;number&gt;11111111&lt;/number&gt;\n                  &lt;key&gt;alpha&lt;/key&gt;\n                  &lt;default-subscription/&gt;\n                &lt;/subscription&gt;\n                &lt;subscription id=\"CD22222222\"&gt;\n                  &lt;id&gt;CD22222222&lt;/id&gt;\n                  &lt;number&gt;22222222&lt;/number&gt;\n                  &lt;key&gt;beta&lt;/key&gt;\n                &lt;/subscription&gt;\n                &lt;subscription id=\"CD33333333\"&gt;\n                  &lt;id&gt;CD33333333&lt;/id&gt;\n                  &lt;number&gt;33333333&lt;/number&gt;\n                  &lt;key&gt;gama&lt;/key&gt;\n                &lt;/subscription&gt;\n              &lt;/subscription-list&gt;\n            &lt;/common-data&gt;\n          &lt;/services&gt;\n        &lt;/GetResponse&gt;\n      &lt;/S:Body&gt;\n    &lt;/S:Envelope&gt;\n    __XML__\n\n    my $som = SOAP::Deserializer-&gt;deserialize($xml);\n\n    print Dumper($som-&gt;valueof('//services/common-data/subscription-list/'));\n</code></pre>\n\n<p>I'm getting the values for the same IDs, using a different XML path.</p>\n\n<p>I'd like to get the <code>&lt;key&gt;</code> for the remaining IDs from the requested XML path, e.g. <code>beta</code> and <code>gamma</code>.</p>\n"}, {"tags": ["perl", "email", "url", "hyperlink", "email-attachments"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1570655331, "post_id": 58310791, "comment_id": 102985727, "body": "Which perl module are you using to send the mail?"}, {"owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570710311, "post_id": 58310791, "comment_id": 103004370, "body": "@H&#229;konH&#230;gland - I will accept any working solution with any library. I personally use my own code using Microsoft Graph for sending emails, but I am open to any working solution."}], "owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 466, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570648406, "creation_date": 1570648406, "question_id": 58310791, "link": "https://stackoverflow.com/questions/58310791/send-url-file-website-shortcut-as-an-email-attachment", "title": "Send URL file (website shortcut) as an email attachment", "body": "<p>How can I send an URL file (website link) as an attachment that mailer application will recognize this file as a valid file and allow to open a website with the URL saved in such attachment file?</p>\n\n<p><a href=\"https://i.stack.imgur.com/oGBxX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oGBxX.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I attached <code>.url</code> file created by Google Chrome as <code>application/x-url</code> file with <code>file.url</code> file name, none of my mailer applications recognized this file as a valid/known file.</p>\n"}, {"tags": ["perl", "sockets"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570648599, "post_id": 58310661, "comment_id": 102983093, "body": "You should include <code>$!</code> in the error message as it will be set if setsockopt fails."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1570654329, "post_id": 58310661, "comment_id": 102985353, "body": "Where do you set <code>$proto</code>? Is it being set to <code>SOL_SOCKET</code> somewhere?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1570654919, "post_id": 58310661, "comment_id": 102985563, "body": "The variable name makes me think it&#39;s some other value, which would of course explain the small numbers and errors - you&#39;re looking at completely different options if that&#39;s the case."}, {"owner": {"reputation": 185, "user_id": 3294861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff9f1731cd26038aa33fbb0322ec529?s=128&d=identicon&r=PG&f=1", "display_name": "humility", "link": "https://stackoverflow.com/users/3294861/humility"}, "edited": false, "score": 0, "creation_date": 1570656752, "post_id": 58310661, "comment_id": 102986190, "body": "<code>$proto = getprotobyname(&#39;tcp&#39;)</code>"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1570658020, "post_id": 58310661, "comment_id": 102986568, "body": "Yup, that&#39;s wrong."}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 3294861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff9f1731cd26038aa33fbb0322ec529?s=128&d=identicon&r=PG&f=1", "display_name": "humility", "link": "https://stackoverflow.com/users/3294861/humility"}, "edited": false, "score": 0, "creation_date": 1570665813, "post_id": 58312884, "comment_id": 102988189, "body": "That worked and the buf size numbers came out as expected, Thank you Shawn!. I just used the same level that was used in creating the socket . <code>socket(SOCK, PF_INET, SOCK_STREAM, $proto)</code>, now, it looks like the socket() creation is also incorrect."}, {"owner": {"reputation": 185, "user_id": 3294861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff9f1731cd26038aa33fbb0322ec529?s=128&d=identicon&r=PG&f=1", "display_name": "humility", "link": "https://stackoverflow.com/users/3294861/humility"}, "edited": false, "score": 0, "creation_date": 1570666249, "post_id": 58312884, "comment_id": 102988277, "body": "Looks like I need to use <code>$proto = getprotobyname(&#39;tcp&#39;))[2]</code>"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 185, "user_id": 3294861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff9f1731cd26038aa33fbb0322ec529?s=128&d=identicon&r=PG&f=1", "display_name": "humility", "link": "https://stackoverflow.com/users/3294861/humility"}, "edited": false, "score": 0, "creation_date": 1570666668, "post_id": 58312884, "comment_id": 102988352, "body": "@humility That should be fine. Normally you&#39;d use 0 to get the default protocol for the given domain and type, but in this case that happens to be tcp anyways. (Using <code>IO::Socket::INET</code> (Or in modern versions of Perl, <code>IO::Socket::IP</code>) is an easier way to create sockets, btw.)"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 185, "user_id": 3294861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff9f1731cd26038aa33fbb0322ec529?s=128&d=identicon&r=PG&f=1", "display_name": "humility", "link": "https://stackoverflow.com/users/3294861/humility"}, "edited": false, "score": 0, "creation_date": 1570666845, "post_id": 58312884, "comment_id": 102988384, "body": "In scalar context, <code>getprotobyname</code> should return the number."}], "tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": true, "score": 3, "last_activity_date": 1570658620, "creation_date": 1570658620, "answer_id": 58312884, "question_id": 58310661, "link": "https://stackoverflow.com/questions/58310661/how-to-increase-sndbuf-rcvbuf-size-socket-options-in-perl-socket-module/58312884#58312884", "title": "How to increase sndbuf/rcvbuf size socket options in Perl Socket module?", "body": "<pre><code>$proto = getprotobyname('tcp');\n...\nmy $snd_size = unpack(\"I\", getsockopt(SOCK, $proto, SO_SNDBUF));\n</code></pre>\n\n<p>There's your problem right there. <code>SO_SNDBUF</code> and <code>SO_RCVBUF</code> are generic socket options, not TCP-specific ones. You're getting (And attempting to set) the TCP options that correspond to those numbers (<code>TCP_SYNCNT</code> and <code>TCP_LINGER2</code> on my linux box.). No wonder it's failing.</p>\n\n<p>You need to use <code>SOL_SOCKET</code> as the level argument instead for socket options starting with <code>SO_</code>.</p>\n\n<pre><code>my $snd_size = unpack(\"I\", getsockopt(SOCK, SOL_SOCKET, SO_SNDBUF));\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 3294861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff9f1731cd26038aa33fbb0322ec529?s=128&d=identicon&r=PG&f=1", "display_name": "humility", "link": "https://stackoverflow.com/users/3294861/humility"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 58312884, "answer_count": 1, "score": 2, "last_activity_date": 1570658620, "creation_date": 1570647888, "last_edit_date": 1570653339, "question_id": 58310661, "link": "https://stackoverflow.com/questions/58310661/how-to-increase-sndbuf-rcvbuf-size-socket-options-in-perl-socket-module", "title": "How to increase sndbuf/rcvbuf size socket options in Perl Socket module?", "body": "<p>In Perl (v5.10) Socket module, by default, (for some reason) the socket options sndbuf and rcvbuf bytes have very low values of 5 bytes and 60 bytes respectively.\nWhen I try to increase to a higher value (say 4K), it would not take.</p>\n\n<pre><code>use Socket;\n\n# *** someother code  ***\n\n# Retrieve default values\nmy $snd_size = unpack(\"I\", getsockopt(SOCK, $proto, SO_SNDBUF));\nprint \"The default sndsize = $snd_size\\n\";\n\nmy $rcv_size = unpack(\"I\", getsockopt(SOCK, $proto, SO_RCVBUF));\nprint \"The default rcvsize = $rcv_size\\n\";\n\n\nmy $required_send_buf_size = 4096;\nmy $required_recv_buf_size = 4096;\n\nmy $pack_send = pack(\"I\", $required_send_buf_size);\nif (!setsockopt(SOCK, $proto, SO_SNDBUF, $pack_send))\n{\n    print(\"ERROR: Unable to set the SO_SNDBUF to $required_send_buf_size\\n\");\n    close(SOCK);\n    return;\n}\n\n$snd_size = unpack(\"I\", getsockopt(SOCK, $proto, SO_SNDBUF));\nprint \"The modified sndsize = $snd_size\\n\";\n\n\nmy $pack_recv = pack(\"I\", $required_recv_buf_size);\nif (!setsockopt(SOCK, $proto, SO_RCVBUF, $pack_recv))\n{\n    print(\"ERROR: Unable to set the SO_RCVBUF to $required_recv_buf_size\\n\");\n    close(SOCK);\n    return;\n}\n\n</code></pre>\n\n<p>In the above code, both the setsockopt() calls fail.</p>\n"}, {"tags": ["perl", "perl-module", "centos8"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1570637305, "post_id": 58307728, "comment_id": 102978023, "body": "Whatever happened with <code>perl-DateTime</code>?  On CentOS7 (and before) those were names for the packages for Perl modules -- does this not work anymore?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1570648733, "post_id": 58307728, "comment_id": 102983160, "body": "@zdim <code>perl(Module::Name)</code> is the syntax for what modules a perl package in RH distros provide. dnf/yum accept it directly and look up in <code>provides</code> when it doesn&#39;t match a package name."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570648776, "post_id": 58307728, "comment_id": 102983187, "body": "It&#39;s possible that these simply have not been packaged for RHEL/CentOS 8 yet."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1570649255, "post_id": 58307728, "comment_id": 102983371, "body": "Looking at <a href=\"http://mirror.centos.org/centos/8/BaseOS/x86_64/os/Packages/\" rel=\"nofollow noreferrer\">mirror.centos.org/centos/8/BaseOS/x86_64/os/Packages</a> it appears this is the case."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570649984, "post_id": 58307728, "comment_id": 102983686, "body": "Try install it with <code>cpanm</code>, i.e.  <code>sudo cpanm Date::Time</code>. I tested this in a docker container for CentOS8 and it installed <code>Date::Time</code> to <code>&#47;usr&#47;local&#47;share&#47;perl5</code>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570654791, "post_id": 58307728, "comment_id": 102985515, "body": "@H&#229;konH&#230;gland Date::Time is a very different unrelated module."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570654891, "post_id": 58307728, "comment_id": 102985552, "body": "@Grinnz Thanks, I missed that."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570655629, "post_id": 58307728, "comment_id": 102985830, "body": "@Grinnz <code>sudo cpanm DateTime</code> also works fine in my container. It just takes more time to install than <code>Date::Time</code> :)"}], "answers": [{"comments": [{"owner": {"reputation": 673, "user_id": 545798, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55274f3b3dc7fb6094c38c8aec8dd8a6?s=128&d=identicon&r=PG", "display_name": "MiroJanosik", "link": "https://stackoverflow.com/users/545798/mirojanosik"}, "edited": false, "score": 0, "creation_date": 1618316389, "post_id": 58316023, "comment_id": 118559978, "body": "Interestingly, I had to call it with repository name lowercase: yum config-manager --set-enabled powertools"}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": true, "score": 12, "last_activity_date": 1570686863, "last_edit_date": 1570686863, "creation_date": 1570685510, "answer_id": 58316023, "question_id": 58307728, "link": "https://stackoverflow.com/questions/58307728/how-to-install-the-perl-datetime-module-under-centos8-yum-install-perldatetim/58316023#58316023", "title": "How to install the perl DateTime module under CentOS8. yum install &quot;perl(DateTime)&quot; worked in CentOS7 but not in 8", "body": "<p><code>perl-DateTime</code> is no longer part of the CentOS 8 base OS. You'll need to enable the <a href=\"http://mirror.centos.org/centos/8/PowerTools/x86_64/os/Packages/\" rel=\"noreferrer\"><code>PowerTools</code> repository</a>, i.e. as root</p>\n\n<pre class=\"lang-none prettyprint-override\"><code># yum config-manager --set-enabled PowerTools\n# yum update\n# yum repolist\nrepo id                     repo name                                     status\n...\nPowerTools                  CentOS-8 - PowerTools                         ...\n...\n\n# yum install \"perl(DateTime)\"\n\nor...\n\n# yum install perl-DateTime\n</code></pre>\n\n<p><code>perl(YAML::XS)</code> (AKA <code>perl-YAML-LibYAML</code>) should also be available.</p>\n\n<p><code>perl(Template)</code> (AKA <code>perl-Template-Toolkit</code>) and <code>perl(Crypt::Eksblowfish::Bcrypt)</code> (AKA <code>perl-Crypt-Eksblowfish</code>) no longer seem to be provided, not even in EPEL8. So you'll have to install them from CPAN.</p>\n"}], "owner": {"reputation": 60, "user_id": 9498386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "testcaseone", "link": "https://stackoverflow.com/users/9498386/testcaseone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4677, "favorite_count": 0, "accepted_answer_id": 58316023, "answer_count": 1, "score": 3, "last_activity_date": 1570686863, "creation_date": 1570635667, "last_edit_date": 1570635862, "question_id": 58307728, "link": "https://stackoverflow.com/questions/58307728/how-to-install-the-perl-datetime-module-under-centos8-yum-install-perldatetim", "title": "How to install the perl DateTime module under CentOS8. yum install &quot;perl(DateTime)&quot; worked in CentOS7 but not in 8", "body": "<p>There are some Perl modules that could previously be installed with:\n    yum install \"perl(DateTime)\"\nUnder CentOS7. In CentOS8 I get the error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>No match for argument: perl(DateTime)\n</code></pre>\n\n<p>I have the same problem for perl(Template), perl(YAML::XS), perl(Crypt::Eksblowfish::Bcrypt) and perl(JSON::XS)</p>\n\n<p>I tried searching with:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>yum provides *DateTime*\n</code></pre>\n\n<p>But I can't find anything there either.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1570609871, "post_id": 58295938, "comment_id": 102962781, "body": "You have to put a loop around the entire program. You already know how to make a loop, and how to get user input. It&#39;s pretty much the same thing. Give it a try. :)"}], "answers": [{"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1570616131, "post_id": 58300206, "comment_id": 102966250, "body": "If you get your prompt with <code>&lt;&gt;</code>, don&#39;t forget to <a href=\"https://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\"><code>chomp</code></a> it before <code>$prompt eq &#39;quit&#39;</code>. An option could be to use <code>chomp(my $prompt = &lt;&gt;);</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570642297, "post_id": 58300206, "comment_id": 102980291, "body": "That handles EOF really poorly!"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 0, "last_activity_date": 1570610494, "creation_date": 1570610494, "answer_id": 58300206, "question_id": 58295938, "link": "https://stackoverflow.com/questions/58295938/cant-loop-through-the-whole-thing-to-start-at-the-beginning-after-it-shows-your/58300206#58300206", "title": "can&#39;t loop through the whole thing to start at the beginning after it shows your results", "body": "<p>Wrap everything in a <a href=\"http://p3rl.org/while\" rel=\"nofollow noreferrer\">neverending loop</a> and conditionally <a href=\"http://p3rl.org/last\" rel=\"nofollow noreferrer\">jump out of it</a>.</p>\n\n<pre><code>while () {\n    my $prompt = \u2026\n    last if $prompt eq 'quit';\n    \u2026 # file handling goes here\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570642294, "post_id": 58300264, "comment_id": 102980289, "body": "That handles EOF really poorly!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1570626561, "last_edit_date": 1570626561, "creation_date": 1570610714, "answer_id": 58300264, "question_id": 58295938, "link": "https://stackoverflow.com/questions/58295938/cant-loop-through-the-whole-thing-to-start-at-the-beginning-after-it-shows-your/58300264#58300264", "title": "can&#39;t loop through the whole thing to start at the beginning after it shows your results", "body": "<p>It's often a good idea to put complicated pieces of your code into subroutines so that you can forget (temporarily) how the details work and concentrate on the bigger picture.</p>\n\n<p>I'd suggest that you have two obvious subroutines here that might be called <code>get_user_input()</code> and <code>process_file()</code>. Putting the code into subroutines might look like this:</p>\n\n<pre><code>sub get_user_input {\n  print \"Enter the name of the file: \";\n\n  my $userinput = &lt;&gt;; #the name of the text file the user wants to read\n\n  chomp($userinput); #take out the new line comand\n\n  return $userinput;\n}\n\nsub process_file {\n  my ($file) = @_;\n\n  #opens the file if is readeable\n  # Note: Changed to using a lexical filehandle.\n  # This will automatically be closed when the\n  # lexical variable goes out of scope (i.e. at\n  # the end of this subroutine).\n  open(my $fh, '&lt;:encoding(UTF-8)', $file)\n    or die \"Could not open file '$file' $!\";\n\n  print \"Summary of file '$file': \\n\";\n\n  # Removed $lines variable. We'll use the built-in\n  # variable $. instead.\n  # Moved declaration of $wordnumber inside the loop.\n  # Removed @words and $count variables that aren't used.\n  my $total = 0;\n\n  # Removed $line variable. We'll use $_ instead.\n  while (&lt;$fh&gt;) {\n    # With no arguments, split() defaults to\n    # behaving as split ' ', $_.\n    # When assigned to a scalar, split() returns\n    # the number of elements in the split list\n    # (which is what we want here - we never actually\n    # use the list of words).\n    my $wordnumber = split;\n\n    print \"\\n Line $. : $wordnumber \";\n    # $x += $y is a shortcut for $x = $x + $y.\n    $total += $wordnumber;\n    $wordnumber++;\n  }\n\n  print \"\\nTotal no. of words in file are $total \\n\";\n}\n</code></pre>\n\n<p>And then you can plug them together with code something like this:</p>\n\n<pre><code># Get the first filename from the user\nmy $filename = get_user_input();\n\n# While the user hasn't typed 'q' to quit\nwhile ($filename ne 'q') {\n  # Process the file\n  process_file($filename);\n  # Get another filename from the user\n  $filename = get_user_input();\n}\n</code></pre>\n\n<p><strong>Update:</strong> I've cleaned up the <code>process_file()</code> subroutine a bit and added comments about the changes I've made.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7108016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 58300264, "answer_count": 2, "score": 0, "last_activity_date": 1570626561, "creation_date": 1570585005, "question_id": 58295938, "link": "https://stackoverflow.com/questions/58295938/cant-loop-through-the-whole-thing-to-start-at-the-beginning-after-it-shows-your", "title": "can&#39;t loop through the whole thing to start at the beginning after it shows your results", "body": "<p>I am really new in perl and I am writing this program that gives you the unique words that are in a text file. however I don't know how to make it loop to ask the user for another file or to quit the program altogether.</p>\n\n<p>I tried to put my whole code under a do until loop and it did not work</p>\n\n<pre><code>use 5.18.0;\nuse warnings;\nuse strict;\n\nprint \"Enter the name of the file: \";\nmy %count;\nmy $userinput = &lt;&gt;; #the name of the text file the user wants to read\nchomp($userinput); #take out the new line comand\n\nmy $linenumb = $ARGV[1];\nmy $uniqcount = 0;\n#opens the file if is readeable\nopen(FH, '&lt;:encoding(UTF-8)', $userinput) or die \"Could not open file '$userinput' $!\";\nprint \"Summary of file '$userinput': \\n\";\nmy ($lines, $wordnumber, $total) = (0, 0, 0);\nmy @words = ();\nmy $count =1;\n\nwhile (my $line = &lt;FH&gt;) {\n   $lines++;\n   my @words = split (\" \", $line);\n   $wordnumber = @words;\n\n   print \"\\n Line $lines : $wordnumber \";\n   $total = $total+$wordnumber;\n   $wordnumber++;\n\n}\nprint \"\\nTotal no. of words in file are $total \\n\";\n\n\n\n\n#my @uniq = uniq @words;\n#print \"Unique Names: \" .scalar @uniq . \"\\n\";\nclose(FH);\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1570568853, "post_id": 58294048, "comment_id": 102952101, "body": "Because you consume the end <code>\\d\\&#47;\\d\\&#47;\\d{4}</code> pattern part. Try <code>while ($file =~ m&#47;(\\d\\&#47;\\d\\&#47;\\d{4}.*?)(?=\\s*\\d\\&#47;\\d\\&#47;\\d{4})&#47;gs)</code>. Or, replace <code>\\s*</code> with <code>\\R</code> to match the line break sequence. See <a href=\"https://ideone.com/cw1A9t\" rel=\"nofollow noreferrer\">this online demo</a>."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1570568854, "post_id": 58294048, "comment_id": 102952102, "body": "So you&#39;re trying to get each line if it&#39;s followed by a date on the next line (-&gt; positive lookahead)?"}, {"owner": {"reputation": 31, "user_id": 12184600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8231c99e500d23cce816e2f05821f2e8?s=128&d=identicon&r=PG&f=1", "display_name": "spaceboy2020", "link": "https://stackoverflow.com/users/12184600/spaceboy2020"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1570569800, "post_id": 58294048, "comment_id": 102952368, "body": "@WiktorStribi\u017cew - thank you so much - works!"}, {"owner": {"reputation": 1194, "user_id": 2837277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f92c7521589af5e8efb4d4b031d2538e?s=128&d=identicon&r=PG&f=1", "display_name": "King11", "link": "https://stackoverflow.com/users/2837277/king11"}, "edited": false, "score": 0, "creation_date": 1570569936, "post_id": 58294048, "comment_id": 102952404, "body": "I just saw at Wiktor&#39;s comment right after I posted my answer. But both of our solutions should return the correct value you&#39;re looking for."}, {"owner": {"reputation": 1194, "user_id": 2837277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f92c7521589af5e8efb4d4b031d2538e?s=128&d=identicon&r=PG&f=1", "display_name": "King11", "link": "https://stackoverflow.com/users/2837277/king11"}, "edited": false, "score": 0, "creation_date": 1570570123, "post_id": 58294048, "comment_id": 102952458, "body": "@spaceboy2020 Could you mark my answer as the accepted answer so this question will be resolved?"}], "answers": [{"tags": [], "owner": {"reputation": 1194, "user_id": 2837277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f92c7521589af5e8efb4d4b031d2538e?s=128&d=identicon&r=PG&f=1", "display_name": "King11", "link": "https://stackoverflow.com/users/2837277/king11"}, "is_accepted": true, "score": 3, "last_activity_date": 1570569841, "creation_date": 1570569841, "answer_id": 58294286, "question_id": 58294048, "link": "https://stackoverflow.com/questions/58294048/why-is-this-code-skipping-every-other-input-line/58294286#58294286", "title": "Why is this code skipping every other input line", "body": "<p>You're not encapsulating the end of your pattern. Change your while loop to: </p>\n\n<pre><code> while ($file =~ m/(\\d\\/\\d\\/\\d{4}.*?)(?=\\R\\d\\/\\d\\/\\d{4})/gs) {\n    print \"*$1*\\n\";\n}\n</code></pre>\n\n<p>That should work for you. Test it out at: <a href=\"https://rextester.com/l/perl_online_compiler\" rel=\"nofollow noreferrer\">https://rextester.com/l/perl_online_compiler</a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1570641782, "last_edit_date": 1570641782, "creation_date": 1570583586, "answer_id": 58295812, "question_id": 58294048, "link": "https://stackoverflow.com/questions/58294048/why-is-this-code-skipping-every-other-input-line/58295812#58295812", "title": "Why is this code skipping every other input line", "body": "<p>Your pattern matches two dates, so the next match will proceed from there, effectively skipping the line.</p>\n\n<p>There's no point in checking if the next line starts with a date, so you could use</p>\n\n<pre><code>while (&lt;DATA&gt;) {\n   next if !m{^(\\d+/\\d+/\\d+)};\n\n   print \"*$1*\\n\";\n}\n</code></pre>\n\n<p>If you weren't reading from a file:</p>\n\n<pre><code>while ($file =~ m{^(\\d+/\\d+/\\d+)}mg) {\n   print \"*$1*\\n\";\n}\n</code></pre>\n\n<p>If every line starts with a date, you could even use</p>\n\n<pre><code>while (&lt;DATA&gt;) {\n   my @fields = split;\n   print \"*$fields[0]*\\n\";\n}\n</code></pre>\n\n<p>If you weren't reading from a file:</p>\n\n<pre><code>while ($file =~ /^(.*)/mg) {\n   my @fields = split;\n   print \"*$1*\\n\";\n}\n</code></pre>\n\n<p>The lack of <code>/s</code> means that <code>.</code> won't match a line feed, which means it won't match beyond the end of the line.</p>\n"}], "owner": {"reputation": 31, "user_id": 12184600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8231c99e500d23cce816e2f05821f2e8?s=128&d=identicon&r=PG&f=1", "display_name": "spaceboy2020", "link": "https://stackoverflow.com/users/12184600/spaceboy2020"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 58294286, "answer_count": 2, "score": 2, "last_activity_date": 1570641782, "creation_date": 1570568554, "question_id": 58294048, "link": "https://stackoverflow.com/questions/58294048/why-is-this-code-skipping-every-other-input-line", "title": "Why is this code skipping every other input line", "body": "<p>I am trying to loop over the data via a regex and parsing each line by the date (i.e. 7/9/2019). However, the results omit every other line in the input data.</p>\n\n<p>Tried this on Windows and Mac (Terminal shell) to the same behaviour consistently.</p>\n\n<pre><code>my $file;\n\n{\n    local $/ = undef;\n    $file = &lt;DATA&gt;;\n}\n\nwhile ($file =~ m/(\\d\\/\\d\\/\\d{4}.*?)\\d\\/\\d\\/\\d{4}/gs) {\n    print \"*$1*\\n\";\n}\n\n__DATA__\n9/7/2019 20:35:17,dog\n9/7/2019 21:06:16,cat\n9/7/2019 22:32:15,parrot\n9/7/2019 22:32:15,snail\n9/7/2019\n</code></pre>\n\n<p>I expect the following:</p>\n\n<pre><code>*9/7/2019 20:35:17,dog*\n*9/7/2019 21:06:16,cat*\n*9/7/2019 22:32:15,parrot*\n*9/7/2019 22:32:15,snail*\n</code></pre>\n\n<p>but instead get the following:</p>\n\n<pre><code>*9/7/2019 20:35:17,dog\n*\n*9/7/2019 22:32:15,parrot\n*\n</code></pre>\n"}, {"tags": ["perl", "package"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1570566337, "post_id": 58293481, "comment_id": 102951238, "body": "Can you provide a short working example of the failing code, for testing?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1570566576, "post_id": 58293481, "comment_id": 102951347, "body": "I don&#39;t know how to make that happen, <code>perl -Mstrict -wE&#39;sub tt { return bless { one=&gt;1 }, &quot;PackName&quot; }; my $obj = tt(); say ref $obj&#39;</code> duly prints <code>PackName</code>.  Otherwise, I&#39;d imagine that <code>BEGIN { package PackName {}; }</code> should introduce it ..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1570568328, "post_id": 58293481, "comment_id": 102951930, "body": "@zdim <code>package</code> obviously has a compile-time effect, so no need for <code>BEGIN</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570571221, "post_id": 58293481, "comment_id": 102952768, "body": "@ikegami heh, right. got lead astray by testing (here unrelated issues) in one unit (and in one-liner)"}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570569374, "post_id": 58293554, "comment_id": 102952254, "body": "You may assume I am describing the same (human|parser) tokenization as in your recent post: <a href=\"https://stackoverflow.com/questions/58263206/how-does-perl-parse-unquoted-bare-words/58263207\" title=\"how does perl parse unquoted bare words\">stackoverflow.com/questions/58263206/&hellip;</a>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570569915, "post_id": 58293554, "comment_id": 102952398, "body": "I believe a more precise definition of bareword based on its usage in the documentation and community would be simply &quot;unquoted identifier&quot;. &quot;bareword filehandles&quot; being one of the more common examples, or the bareword taken by require/use rather than a string."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570570021, "post_id": 58293554, "comment_id": 102952430, "body": "&quot;identifier&quot; implies it&#39;s a name or some other kind of identifier. &quot;unquoted word&quot; is what I used in the aforementioned question. I&#39;ll all for this more general use, because there really isn&#39;t any other word for it."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570570360, "post_id": 58293554, "comment_id": 102952542, "body": "&#39;identifier&#39; is actually also a specific term defined here: <a href=\"https://perldoc.pl/perldata#Identifier-parsing\" rel=\"nofollow noreferrer\">perldoc.pl/perldata#Identifier-parsing</a> - it is a little fuzzy on whether a sigil is considered part of the identifier, but the same grammar applies to many of these cases."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570570488, "post_id": 58293554, "comment_id": 102952575, "body": "I adopt the same view of identifiers as I do of file names. Sometimes they&#39;re qualified, sometimes they&#39;re not, and the name can be used for either."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 2, "last_activity_date": 1570568778, "last_edit_date": 1570568778, "creation_date": 1570566055, "answer_id": 58293554, "question_id": 58293481, "link": "https://stackoverflow.com/questions/58293481/how-do-i-predeclare-a-package-in-perl/58293554#58293554", "title": "How do I predeclare a package in Perl?", "body": "<p>Your problem is not predeclaring the package (which you can do by simply declaring the package in a scope by itself), but that bless just takes a string, and you don't need to use the uncommon bareword syntax <code>Foo::</code> to create it (thus triggering the warning).</p>\n\n<pre><code>bless $obj, 'Foo';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1570574531, "last_edit_date": 1570574531, "creation_date": 1570568805, "answer_id": 58294091, "question_id": 58293481, "link": "https://stackoverflow.com/questions/58293481/how-do-i-predeclare-a-package-in-perl/58294091#58294091", "title": "How do I predeclare a package in Perl?", "body": "<p><code>Foo::</code> is identical to <code>'Foo'</code> except that it warns if the package doesn't exist.</p>\n\n<p>You could silence the warning by creating the package. Both of the following statements achieve this:</p>\n\n<pre><code>{ package Foo; }\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>package Foo { }   # 5.14+\n</code></pre>\n\n<p>But that's very hackish. Why use a syntax that performs a package check if you're just going to defy the check? It would be far better to use the following:</p>\n\n<pre><code>my $self = bless({}, 'Foo');\n</code></pre>\n\n<p>Another option is</p>\n\n<pre><code>no warnings qw( bareword );\nmy $self = bless({}, Foo::);\n</code></pre>\n\n<p>This signals to the reader that you know you are you are using a package that doesn't exist yet.</p>\n"}], "owner": {"reputation": 604, "user_id": 5087283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d0b2d9685f5d796274901ceadf632d4?s=128&d=identicon&r=PG", "display_name": "Metamorphic", "link": "https://stackoverflow.com/users/5087283/metamorphic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 58294091, "answer_count": 2, "score": 0, "last_activity_date": 1570574531, "creation_date": 1570565739, "question_id": 58293481, "link": "https://stackoverflow.com/questions/58293481/how-do-i-predeclare-a-package-in-perl", "title": "How do I predeclare a package in Perl?", "body": "<p>I'm trying to get rid of a warning message, which has the following explanation in <code>perldiag</code>:</p>\n\n<blockquote>\n  <p><code>Bareword \"%s\" refers to nonexistent package (W bareword)</code> You used a qualified bareword of the form \"Foo::\", but the compiler saw no other uses of that namespace before that point. Perhaps you need to predeclare a package?</p>\n</blockquote>\n\n<p>(The problem is that I have a subroutine which blesses an object into a package which is declared later)</p>\n\n<p>I want to follow the advice in the manual page, by \"predeclaring\" the package, but I can't figure out how to do this. What is the syntax to predeclare a package in Perl?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1570565554, "post_id": 58293374, "comment_id": 102950909, "body": "You want to use <a href=\"https://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">Perl Regexes</a>.  Your question is a good one; apologies I don&#39;t have time right now to hack out a working example for you.  The link I cited should point you in the right direction."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1570566485, "creation_date": 1570566485, "answer_id": 58293667, "question_id": 58293374, "link": "https://stackoverflow.com/questions/58293374/using-perl-to-parse-text-from-blocks/58293667#58293667", "title": "Using Perl to parse text from blocks", "body": "<pre><code>perl -000 -ne '($grade, $topic) = /\\[(.*)\\] (.*)/;\n               ($path) = m{(.*/area/.*)};\n               print \"$grade, $topic, $path\\n\"' -- file.txt\n</code></pre>\n\n<ul>\n<li><code>-000</code> turns on paragraph mode, <code>-n</code> won't read line by line, but paragraph by paragraph</li>\n<li><code>/\\[(.*)\\] (.*)/</code> matches the square brackets and whatever follows them up to a newline. The inside of the square brackets and the following text are captured using the parentheses.</li>\n<li><code>m{(.*/area/.*)}</code> captures the line containing \"area\". It uses the <code>m{}</code> syntax instead of <code>//</code> so we don't have to backslash the slashes (avoiding so called \"leaning toothpick syndrome\")</li>\n</ul>\n"}], "owner": {"reputation": 478, "user_id": 7484043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c553310d1ad27e031be3aefb8127db4f?s=128&d=identicon&r=PG&f=1", "display_name": "programminglearner", "link": "https://stackoverflow.com/users/7484043/programminglearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 58293667, "answer_count": 1, "score": 2, "last_activity_date": 1570577349, "creation_date": 1570565231, "question_id": 58293374, "link": "https://stackoverflow.com/questions/58293374/using-perl-to-parse-text-from-blocks", "title": "Using Perl to parse text from blocks", "body": "<p>I have a file with multiple blocks of test. FOR EACH block of test, I want to be able to extract what is in the square bracket, the line containing the FIRST instance of the word \"area\", and what is on the right of the square bracket. Everything will be a string. Essentially what I want to do is store each string into a variable in a hash so i can print it into a 3 column csv file.</p>\n\n<p>Here's a sample of what the file looks like:</p>\n\n<blockquote>\n  <p>Student-[K-6] Exceptional in Math <br>\n  /home/area/kinder/mathadvance.txt, 12 <br>\n  Students in grade K-12 shown to be exceptional in math. <br>\n  Placed into special after school program. <br>\n  See /home/area/overall/performance.txt, 200\n  <br>\n  <br>\n  Student-[Junior] Weak Performance <br>\n  Students with overall weak performance. <br> \n  Summer program services offered as shown in <br>\n  \"/home/area/services/summer.txt\", 212 <br><br>\n  Student-[K-6] Physical Excerise Time Slots\n  <br> /home/area/pe/schedule.txt, 303<br>\n  Assigned time slots for PE based on student's grade level. Make reference to <br>\n  /home/area/overall/classtimes.txt, 90<br></p>\n</blockquote>\n\n<p>I want to to have a final csv file that looks like:</p>\n\n<blockquote>\n  <p>Grade,Topic,Path\n  <br>K-6, Exceptional in Math, /home/area/kinder/mathadvance.txt, 12\n  <br>K-6, Physical Exercise Time Slots, /home/area/pe/schedule.txt, 303\n  <br>Junior, Weak Performance, \"/home/area/services/summer.txt\", 212</p>\n</blockquote>\n\n<p>Since it's a csv file, I know it will also separate at the line number when exporting into excel but I'm fine with that.<br>\nI started off by putting the grade type into an array because I want to be able to add more strings to it for different grade levels. </p>\n\n<p>My program looks like this so far:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @grades = (\"K-6\", \"Junior\", \"Community-College\", \"PreK\");\n</code></pre>\n\n<p>I was thinking that I will need to do some sort of system sed command to grab what is in the brackets and store it into a variable. Then I will grab everything to the right of the bracket on the line and store it into a variable. And then I will grep for a line containing \"area\" to get the path and I will store it as a string into a variable, put these in a hash, and then print into csv. I'm not sure if I'm thinking about this the right way. Also, I have NO IDEA how to do this for each BLOCK of text in the file. I need it by block because each block has its own corresponding grades, topics, and paths. </p>\n"}, {"tags": ["perl", "anaconda", "bioperl", "cpanm"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570559306, "post_id": 58290190, "comment_id": 102948451, "body": "Seem like the first failure is for <code>IO::String</code>. Try to install <code>IO::String</code> by itself first: <code>cpanm IO::String</code>. What errors do you get?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570559544, "post_id": 58290190, "comment_id": 102948538, "body": "I tried install <code>Bio::Perl</code> on my laptop now (Ubuntu 19.04, perl version 5.28.1) and it installed fine with <code>cpanm</code>"}, {"owner": {"reputation": 230, "user_id": 2187956, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W1psT.jpg?s=128&g=1", "display_name": "Andr&#233;s Parada", "link": "https://stackoverflow.com/users/2187956/andr%c3%a9s-parada"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570561344, "post_id": 58290190, "comment_id": 102949263, "body": "@H&#229;konH&#230;gland I tried this and now it is another dependency that is required, I am installing one by one. Is this normal or something is off that cpanm can&#39;t find the dependencies and install itself without conflict? I had to manually install Capture::Tiny, Text:Differences etc"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570562839, "post_id": 58290190, "comment_id": 102949847, "body": "No I don&#39;t think it is normal, but it has happened to me also occasionally. Maybe some of the modules have failed to present their requisites in a way that <code>cpanm</code> can read them? Just a guess"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570564048, "post_id": 58290190, "comment_id": 102950327, "body": "I think you are installing the modules into a non-standard location, and that you haven&#39;t told Perl to look there for modules. What&#39;s the output of <code>set | grep ^PERL ; which cpanm ; head -n 1 &quot;$( which cpanm )&quot;</code>"}, {"owner": {"reputation": 230, "user_id": 2187956, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W1psT.jpg?s=128&g=1", "display_name": "Andr&#233;s Parada", "link": "https://stackoverflow.com/users/2187956/andr%c3%a9s-parada"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570565662, "post_id": 58290190, "comment_id": 102950956, "body": "@ikegami <code>(base) evo-slave@evo-slave:~$ set | grep ^PERL PERL5LIB=:&#47;media&#47;evo-slave&#47;Disco2&#47;ANDRES&#47;DOWNLOADS&#47;GENOME&#47;CA&zwnj;&#8203;V-POC&#47;GAAS&#47;annotatio&zwnj;&#8203;n PERL_MB_OPT=&#39;--install_base &quot;&#47;home&#47;evo-slave&#47;perl5&quot;&#39; PERL_MM_OPT=INSTALL_BASE=&#47;home&#47;evo-slave&#47;perl5 (base) evo-slave@evo-slave:~$ which cpanm  &#47;home&#47;evo-slave&#47;anaconda_ete&#47;bin&#47;cpanm (base) evo-slave@evo-slave:~$ head -n 1 &quot;$( which cpanm )&quot; #!&#47;home&#47;evo-slave&#47;anaconda_ete&#47;bin&#47;perl </code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570567954, "post_id": 58290190, "comment_id": 102951835, "body": "Yeah, I was right. <code>&#47;home&#47;evo-slave&#47;perl5&#47;&lt;something&gt;</code> needs to be in <code>PERL5LIB</code>. Not sure what <code>&lt;something&gt;</code> is, though. Judging by the leading <code>:</code>, I suspect the correct value was in <code>PERL5LIB</code>, but it got accidentally clobbered when <code>&#47;media&#47;evo-slave&#47;Disco2&#47;ANDRES&#47;DOWNLOADS&#47;GENOME&#47;CAV-POC&#47;GAAS&zwnj;&#8203;&#47;annotation</code> was added. Double check the statement that added that to <code>PERL5LIB</code>. Do you have <code>export PERL5LIB=$TYPO:&#47;media&#47;...</code> instead of <code>export PERL5LIB=$PERL5LIB:&#47;media&#47;...</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 230, "user_id": 2187956, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W1psT.jpg?s=128&g=1", "display_name": "Andr&#233;s Parada", "link": "https://stackoverflow.com/users/2187956/andr%c3%a9s-parada"}, "edited": false, "score": 0, "creation_date": 1591117821, "post_id": 62141283, "comment_id": 109932032, "body": "thanks for the response, I don&#39;t have that machine with that installation ATM, I hope this can be fixed in the future for other users too."}, {"owner": {"reputation": 181, "user_id": 5432667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48371b2adedf359cd79177bc62c10721?s=128&d=identicon&r=PG&f=1", "display_name": "Maximilian Press", "link": "https://stackoverflow.com/users/5432667/maximilian-press"}, "reply_to_user": {"reputation": 230, "user_id": 2187956, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W1psT.jpg?s=128&g=1", "display_name": "Andr&#233;s Parada", "link": "https://stackoverflow.com/users/2187956/andr%c3%a9s-parada"}, "edited": false, "score": 1, "creation_date": 1591124682, "post_id": 62141283, "comment_id": 109935567, "body": "@Andr&#233;sParada Agreed- possibly you might be able to use the closely related solution suggested by VirSort authors for Ubuntu here: <a href=\"https://github.com/simroux/VirSorter/#note-for-conda-installation\" rel=\"nofollow noreferrer\">github.com/simroux/VirSorter/#note-for-conda-installation</a>. Roughly, <code>export PERL5LIB=</code>pwd<code>&#47;..&#47;..&#47;..&#47;lib&#47;site_perl&#47;5.26.2&#47;</code>. This did not work for me as my <code>site_perl</code> was different, possibly due to linux distro."}], "tags": [], "owner": {"reputation": 181, "user_id": 5432667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48371b2adedf359cd79177bc62c10721?s=128&d=identicon&r=PG&f=1", "display_name": "Maximilian Press", "link": "https://stackoverflow.com/users/5432667/maximilian-press"}, "is_accepted": false, "score": 2, "last_activity_date": 1591046880, "creation_date": 1591046880, "answer_id": 62141283, "question_id": 58290190, "link": "https://stackoverflow.com/questions/58290190/how-to-fix-perl-from-anaconda-not-installing-bioperl-bailing-out-the-installat/62141283#62141283", "title": "How to fix Perl from anaconda not installing bioperl? `Bailing out the installation for BioPerl-1.007002.`", "body": "<p>I am posting this as an answer not because it's a good idea, but because it provides more information. I am working on Amazon Linux so it's slightly different, but also running into issues with bioperl dependencies installed through conda. In my case I am trying to run <a href=\"https://github.com/simroux/VirSorter/\" rel=\"nofollow noreferrer\">VirSorter</a>, which mentions this problem and proposes a solution that does not work for me, but suggests confirming that your <code>PERL5LIB</code> is properly set.</p>\n\n<p>I observed that my perl is 5.26.2:</p>\n\n<pre><code>$ perl --version\n\nThis is perl 5, version 26, subversion 2 (v5.26.2) built for x86_64-linux-thread-multi\n</code></pre>\n\n<p>But conda is for some obscure reason installing my perl dependencies for 5.22.0: <code>/home/ec2-user/anaconda3/envs/virsorter/lib/perl5/site_perl/5.22.0/</code>:</p>\n\n<pre><code>$ ls /home/ec2-user/anaconda3/envs/virsorter/lib/perl5/site_perl/5.22.0/\nAlgorithm  Bio  Capture  Class  Data  Devel  Exception  IO  Sub  Test  Text  URI  URI.pm  x86_64-linux-thread-multi\n</code></pre>\n\n<p>I found that I could get VirSorter running, apparently successfully, by simply setting <code>PERL5LIB</code> to the 5.22.0 lib under conda:</p>\n\n<pre><code>OLD_PER5LIB=$PERL5LIB\nexport PERL5LIB=/home/ec2-user/anaconda3/envs/virsorter/lib/perl5/site_perl/5.22.0/\n# run virsorter\n# no errors!\n</code></pre>\n\n<p>I am sure that this throws up a bunch of red flags for the perl people, and I'm sure that it's very fragile if it actually works at all. Perhaps the question is why conda is installing perl modules as the wrong perl version?</p>\n"}], "owner": {"reputation": 230, "user_id": 2187956, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W1psT.jpg?s=128&g=1", "display_name": "Andr&#233;s Parada", "link": "https://stackoverflow.com/users/2187956/andr%c3%a9s-parada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1383, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1591046880, "creation_date": 1570550976, "last_edit_date": 1570567863, "question_id": 58290190, "link": "https://stackoverflow.com/questions/58290190/how-to-fix-perl-from-anaconda-not-installing-bioperl-bailing-out-the-installat", "title": "How to fix Perl from anaconda not installing bioperl? `Bailing out the installation for BioPerl-1.007002.`", "body": "<p>I am using conda to install several packages. I already installed Perl under conda and is the one working in this machine (running Ubuntu 18.04). Now I am trying to use a script that requires bioperl. </p>\n\n<p>I tried to update conda, install bioperl through conda AND installing bioperl through cpanm as shown below. </p>\n\n<p>I checked to currently used Perl is the anaconda one. The shebang in the perl script is <code>#!/home/evo-slave/anaconda_ete/bin/perl -w</code></p>\n\n<p>This is the initial error while running the script</p>\n\n<pre><code>    Can't locate Bio/SeqIO.pm in @INC (you may need to install the \n    Bio::SeqIO module) (@INC contains: /home/evo- \n    slave/anaconda_ete/lib/site_perl/5.26.2/x86_64-linux-thread-multi \n    /home/evo-slave/anaconda_ete/lib/site_perl/5.26.2 /home/evo- \n    slave/anaconda_ete/lib/5.26.2/x86_64-linux-thread-multi /home/evo- \n    slave/anaconda_ete/lib/5.26.2 .) at ./cortador.pl line 9.\n    BEGIN failed--compilation aborted at ./cortador.pl line 9.\n</code></pre>\n\n<p>I don`t know if this is an issue of bioperl not being called/installed by the anaconda perl or during the execution of the script, maybe this lines within the script should indicate something else</p>\n\n<pre><code>    use File::Basename;\n    use Bio::SeqIO;\n    use Bio::Seq;\n    use Bio::DB::SeqFeature::Store;\n    use Bio::SeqFeatureI;\n</code></pre>\n\n<p>When I try to install </p>\n\n<pre><code>    cpanm Bio::Perl\n</code></pre>\n\n<p>I got this error</p>\n\n<pre><code>    --&gt; Working on Bio::Perl\n    Fetching http://www.cpan.org/authors/id/C/CJ/CJFIELDS/BioPerl- \n    1.007002.tar.gz ... OK\n    Configuring BioPerl-1.007002 ... OK\n    ==&gt; Found dependencies: IO::String, Data::Stag, Test::Most\n    --&gt; Working on IO::String\n    Fetching http://www.cpan.org/authors/id/G/GA/GAAS/IO-String-\n\n    1.08.tar.gz ... OK\n    Configuring IO-String-1.08 ... OK\n    Building and testing IO-String-1.08 ... OK\n    Successfully installed IO-String-1.08\n    --&gt; Working on Data::Stag\n    Fetching http://www.cpan.org/authors/id/C/CM/CMUNGALL/Data-Stag- \n    0.14.tar.gz ... OK\n    Configuring Data-Stag-0.14 ... OK\n    ==&gt; Found dependencies: IO::String\n    ! Installing the dependencies failed: Module 'IO::String' is not \n    installed\n    ! Bailing out the installation for Data-Stag-0.14.\n    --&gt; Working on Test::Most\n    Fetching http://www.cpan.org/authors/id/O/OV/OVID/Test-Most- \n    0.35.tar.gz ... OK\n    Configuring Test-Most-0.35 ... OK\n    ==&gt; Found dependencies: Test::Warn, Test::Deep, Test::Differences, \n    Test::Exception, Exception::Class\n    --&gt; Working on Test::Warn\n    Fetching http://www.cpan.org/authors/id/B/BI/BIGJ/Test-Warn- \n    0.36.tar.gz ... OK\n    Configuring Test-Warn-0.36 ... OK\n    ==&gt; Found dependencies: Sub::Uplevel\n    --&gt; Working on Sub::Uplevel\n    Fetching http://www.cpan.org/authors/id/D/DA/DAGOLDEN/Sub-Uplevel- \n    0.2800.tar.gz ... OK\n    Configuring Sub-Uplevel-0.2800 ... OK\n    Building and testing Sub-Uplevel-0.2800 ... OK\n    Successfully installed Sub-Uplevel-0.2800\n    ! Installing the dependencies failed: Module 'Sub::Uplevel' is not \n    installed\n    ! Bailing out the installation for Test-Warn-0.36.\n    --&gt; Working on Test::Deep\n    Fetching http://www.cpan.org/authors/id/R/RJ/RJBS/Test-Deep- \n    1.128.tar.gz ... OK\n    Configuring Test-Deep-1.128 ... OK\n    Building and testing Test-Deep-1.128 ... OK\n    Successfully installed Test-Deep-1.128\n    --&gt; Working on Test::Differences\n    Fetching http://www.cpan.org/authors/id/D/DC/DCANTRELL/Test- \n    Differences-0.67.tar.gz ... OK\n    Configuring Test-Differences-0.67 ... OK\n    ==&gt; Found dependencies: Capture::Tiny, Text::Diff\n    --&gt; Working on Capture::Tiny\n    Fetching http://www.cpan.org/authors/id/D/DA/DAGOLDEN/Capture- \n    Tiny-0.48.tar.gz ... OK\n    Configuring Capture-Tiny-0.48 ... OK\n    Building and testing Capture-Tiny-0.48 ... OK\n    Successfully installed Capture-Tiny-0.48\n    --&gt; Working on Text::Diff\n    Fetching http://www.cpan.org/authors/id/N/NE/NEILB/Text-Diff- \n    1.45.tar.gz ... OK\n    Configuring Text-Diff-1.45 ... OK\n    ==&gt; Found dependencies: Algorithm::Diff\n    --&gt; Working on Algorithm::Diff\n    Fetching http://www.cpan.org/authors/id/T/TY/TYEMQ/Algorithm-Diff- \n    1.1903.tar.gz ... OK\n    Configuring Algorithm-Diff-1.1903 ... OK\n    Building and testing Algorithm-Diff-1.1903 ... OK\n    Successfully installed Algorithm-Diff-1.1903\n    ! Installing the dependencies failed: Module 'Algorithm::Diff' is \n     not installed\n    ! Bailing out the installation for Text-Diff-1.45.\n    ! Installing the dependencies failed: Module 'Text::Diff' is not \n    installed, Module 'Capture::Tiny' is not installed\n    ! Bailing out the installation for Test-Differences-0.67.\n    --&gt; Working on Test::Exception\n    Fetching http://www.cpan.org/authors/id/E/EX/EXODIST/Test- \n    Exception-0.43.tar.gz ... OK\n    Configuring Test-Exception-0.43 ... OK\n    ==&gt; Found dependencies: Sub::Uplevel\n    ! Installing the dependencies failed: Module 'Sub::Uplevel' is not \n    installed\n    ! Bailing out the installation for Test-Exception-0.43.\n    --&gt; Working on Exception::Class\n    Fetching http://www.cpan.org/authors/id/D/DR/DROLSKY/Exception- \n    Class-1.44.tar.gz ... OK\n    Configuring Exception-Class-1.44 ... OK\n    ==&gt; Found dependencies: Class::Data::Inheritable\n    --&gt; Working on Class::Data::Inheritable\n    Fetching http://www.cpan.org/authors/id/T/TM/TMTM/Class-Data- \n    Inheritable-0.08.tar.gz ... OK\n    Configuring Class-Data-Inheritable-0.08 ... OK\n    Building and testing Class-Data-Inheritable-0.08 ... OK\n    Successfully installed Class-Data-Inheritable-0.08\n    ! Installing the dependencies failed: Module \n    'Class::Data::Inheritable' is not installed\n    ! Bailing out the installation for Exception-Class-1.44.\n    ! Installing the dependencies failed: Module 'Test::Exception' is \n    not installed, Module 'Test::Differences' is not installed, Module \n    'Exception::Class' is not installed, Module 'Test::Warn' is not \n    installed, Module 'Test::Deep' is not installed\n    ! Bailing out the installation for Test-Most-0.35.\n    ! Installing the dependencies failed: Module 'Test::Most' is not \n    installed, Module 'IO::String' is not installed, Module \n    'Data::Stag' \n    is not installed\n    ! Bailing out the installation for BioPerl-1.007002.\n    6 distributions installed\n</code></pre>\n\n<p><strong>ETA</strong>: It seems something is wrong and the dependencies of the modules that are required are not installed during a simple cpanm\nExample of a round trying to install everything that is needed</p>\n\n<pre><code>\n    cpanm Sub::Uplevel\n\n    --&gt; Working on Sub::Uplevel\n    Fetching http://www.cpan.org/authors/id/D/DA/DAGOLDEN/Sub-Uplevel-0.2800.tar.gz ... OK\n    Configuring Sub-Uplevel-0.2800 ... OK\n    Building and testing Sub-Uplevel-0.2800 ... OK\n    Successfully installed Sub-Uplevel-0.2800\n    1 distribution installed\n</code></pre>\n\n<p><strong>then</strong></p>\n\n<pre><code>    cpanm Test::Warn\n\n    --&gt; Working on Test::Warn\n    Fetching http://www.cpan.org/authors/id/B/BI/BIGJ/Test-Warn-0.36.tar.gz ... OK\n    Configuring Test-Warn-0.36 ... OK\n    ==&gt; Found dependencies: Sub::Uplevel\n    --&gt; Working on Sub::Uplevel\n    Fetching http://www.cpan.org/authors/id/D/DA/DAGOLDEN/Sub-Uplevel-0.2800.tar.gz ... OK\n    Configuring Sub-Uplevel-0.2800 ... OK\n    Building and testing Sub-Uplevel-0.2800 ... OK\n    Successfully installed Sub-Uplevel-0.2800\n    ! Installing the dependencies failed: Module 'Sub::Uplevel' is not installed\n    ! Bailing out the installation for Test-Warn-0.36.\n    1 distribution installed\n</code></pre>\n\n<hr>\n\n<p>Some info to help debugging:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ set | grep ^PERL\nPERL5LIB=:/media/evo-slave/Disco2/ANDRES/DOWNLOADS/GENOME/CAV-POC/GAAS/annotation\nPERL_MB_OPT='--install_base \"/home/evo-slave/perl5\"'\nPERL_MM_OPT=INSTALL_BASE=/home/evo-slave/perl5\n\n$ which cpanm\n/home/evo-slave/anaconda_ete/bin/cpanm\n\n$ head -n 1 \"$( which cpanm )\"\n#!/home/evo-slave/anaconda_ete/bin/perl\n</code></pre>\n"}, {"tags": ["postgresql", "perl", "dbi"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1570548942, "post_id": 58288990, "comment_id": 102943770, "body": "Seems rather unlikely that the error message you show would be generated by that code."}, {"owner": {"reputation": 19, "user_id": 5986547, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153977044357888/picture?type=large", "display_name": "Joycel ", "link": "https://stackoverflow.com/users/5986547/joycel"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1570549664, "post_id": 58288990, "comment_id": 102944126, "body": "Uncaught exception from user code:         DBD::Pg::st execute failed: ERROR:  syntax error at or near &quot;$4&quot;         LINE 5:  , &#39;[&#39; $4 &#39;,&#39; $5 &#39;]&#39;                        ^ at TimeClock.pl line 161."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1570549732, "post_id": 58288990, "comment_id": 102944151, "body": "Well, that whole <code>[ ? , ? ]</code> section doesn&#39;t look like valid SQL."}], "answers": [{"tags": [], "owner": {"reputation": 125670, "user_id": 6464308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/12PVX.jpg?s=128&g=1", "display_name": "Laurenz Albe", "link": "https://stackoverflow.com/users/6464308/laurenz-albe"}, "is_accepted": false, "score": 3, "last_activity_date": 1570550909, "creation_date": 1570550909, "answer_id": 58290170, "question_id": 58288990, "link": "https://stackoverflow.com/questions/58288990/how-to-insert-tsrange-using-perl/58290170#58290170", "title": "How to insert tsrange using perl", "body": "<p>Instead of</p>\n\n<pre><code>[ $1, $2 ]\n</code></pre>\n\n<p>which is invalid SQL, use a range constructor function:</p>\n\n<pre><code>tstzrange($1, $2, '[)')\n</code></pre>\n\n<p>There is also <code>tsrange</code> and <code>daterange</code> if you need those data types.</p>\n"}], "owner": {"reputation": 19, "user_id": 5986547, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153977044357888/picture?type=large", "display_name": "Joycel ", "link": "https://stackoverflow.com/users/5986547/joycel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570550909, "creation_date": 1570546633, "question_id": 58288990, "link": "https://stackoverflow.com/questions/58288990/how-to-insert-tsrange-using-perl", "title": "How to insert tsrange using perl", "body": "<p>Using DBD::Pg im attempting to make an insert statement with binded variables which one of them is a tsrange. I keep getting syntax errors can some one please explain the proper way to do this?</p>\n\n<p>from perl script :</p>\n\n<pre><code>$sth-&gt;{'insert'}-&gt;execute($hashRef-&gt;{'&lt;NUMBER&gt;'}\n                                    , $hashRef-&gt;{'&lt;FIRSTNAME&gt;'}\n                                    , $hashRef-&gt;{'&lt;LASTNAME&gt;'}\n                                    , $hashRef-&gt;{'&lt;DATEIN&gt;'} . ' ' .       $hashRef-&gt;{'&lt;TIMEIN&gt;'}\n                                    , $hashRef-&gt;{'&lt;DATEOUT&gt;'} . ' ' .  $hashRef-&gt;{'&lt;TIMEOUT&gt;'}\n                                    , $hashRef-&gt;{'&lt;JOBCODE&gt;'} \n                                    , $hashRef-&gt;{'&lt;JOBCODEDESC&gt;'} \n                                    , $hashRef-&gt;{'&lt;COSTCODELEVEL1&gt;'} \n                                    , $hashRef-&gt;{'&lt;COSTCODELEVEL2&gt;'} \n                                    , $hashRef-&gt;{'&lt;COSTCODELEVEL3&gt;'} \n                                    , $hashRef-&gt;{'&lt;DEPARTMENT&gt;'} \n            )or die $DBI::errstr;\n    enter code here \n</code></pre>\n\n<p>from config file:</p>\n\n<pre><code>sql:\n    insert: |-\n        insert into etl.timeclock_plus values (\n           ? \n         , ? \n         , ?  \n         , [ ? , ? ] \n         , ? \n         , ? \n         , ? \n         , ? \n         , ?\n         , ? \n        )   \nThe error : \nsyntax error at or near \"$4\"\n</code></pre>\n"}, {"tags": ["windows", "perl", "page-numbering"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1570540547, "post_id": 58286985, "comment_id": 102938977, "body": "What have you tried? What problems are you having? Please show us your code."}, {"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1570540800, "post_id": 58286985, "comment_id": 102939105, "body": "@DaveCross I added code. It&#39;s just an idea."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1570542415, "creation_date": 1570542415, "answer_id": 58287698, "question_id": 58286985, "link": "https://stackoverflow.com/questions/58286985/perl-how-to-combine-consecutive-page-numbers/58287698#58287698", "title": "Perl: how to combine consecutive page numbers?", "body": "<p>This seems to do what you want.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nwhile (&lt;DATA&gt;) {\n  chomp;\n  say rangify(split /,/);\n}\n\nsub rangify {\n  my @nums = @_;\n\n  my @range;\n\n  for (0 .. $#nums) {\n    if ($_ == 0 or $nums[$_] != $nums[$_ - 1] + 1) {\n      push @range, [ $nums[$_] ];\n    } else {\n      push @{$range[-1]}, $nums[$_];\n   }\n  }\n\n  for (@range) {\n    if (@$_ == 1) {\n      $_ = $_-&gt;[0];\n    } else {\n      $_ = \"$_-&gt;[0]-$_-&gt;[-1]\";\n    }\n  }\n\n  return join ',', @range;\n}\n\n__DATA__\n1,2,5\n1,2,3,5,7\n100,101,102,103,115,120,121\n</code></pre>\n\n<p>The <code>rangify()</code> function builds an array of arrays. It traverses your input list and if a number is just one more than the previous number then it adds the new number to the second-level array that's currently at the end of the first-level array. If the new number is not sequential, it adds a new second-level array at the end of the first level array.</p>\n\n<p>Having built this data structure, we walk the first-level array, looking at each of the second-level arrays. If the second level array contains only one element then we know it's not a range, so we overwrite the value with the single number from the array. If it contains more than one element, then it's a range and we overwrite the value with the first and last elements separated with a hyphen.</p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1570542970, "creation_date": 1570542970, "answer_id": 58287855, "question_id": 58286985, "link": "https://stackoverflow.com/questions/58286985/perl-how-to-combine-consecutive-page-numbers/58287855#58287855", "title": "Perl: how to combine consecutive page numbers?", "body": "<p>That's called an <a href=\"http://ddg.gg/intspan\" rel=\"nofollow noreferrer\">intspan</a>. Use <a href=\"http://p3rl.org/Set::IntSpan::Fast::XS\" rel=\"nofollow noreferrer\">Set::IntSpan::Fast::XS</a>.</p>\n\n<pre><code>use Set::IntSpan::Fast::XS qw();\nmy $s = Set::IntSpan::Fast::XS-&gt;new;\n$s-&gt;add(100,101,102,103,115,120,121);\n$s-&gt;as_string; # 100-103,115,120-121\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "is_accepted": false, "score": 0, "last_activity_date": 1570544815, "creation_date": 1570544815, "answer_id": 58288404, "question_id": 58286985, "link": "https://stackoverflow.com/questions/58286985/perl-how-to-combine-consecutive-page-numbers/58288404#58288404", "title": "Perl: how to combine consecutive page numbers?", "body": "<p>So I managed to adjust this code to work for me. Pass your array of numbers into <code>procpages()</code> which will then call <code>num2range()</code>.</p>\n\n<pre><code>######################################################################\n# In: \n# Out: \nsub num2range \n{\n\n  local $_ = join ',' =&gt; @_;\n  s/(?&lt;!\\d)(\\d+)(?:,((??{$++1}))(?!\\d))+/$1-$+/g;\n  tr/-,/, /;\n  return $_;\n}\n######################################################################\n# Concatenate consecutive page numbers in array.\n# In: array like (1,2,5,7,99,100,101)\n# Out: string like \"1-2, 6, 7, 99-101\"\nsub procpages\n{my($aref,$model,$zpos)=@_;\nmy $procname=(caller(0))[3];\n\nmy @arr=@$aref;\nmy $pages=num2range(@arr);\n$pages=~s/\\,/\\-/g; # Change comma to dash.\n$pages=~s/ /\\, /g; # Change space to comma and space.\n#$pages=~s/\\,/\\, /g;\n\nreturn $pages;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1570679890, "creation_date": 1570679890, "answer_id": 58315253, "question_id": 58286985, "link": "https://stackoverflow.com/questions/58286985/perl-how-to-combine-consecutive-page-numbers/58315253#58315253", "title": "Perl: how to combine consecutive page numbers?", "body": "<p>You probably have the best solution already with the <code>Set::IntSpan::Fast::XS</code> module, but assuming you want to take the opportunity to learn <code>perl</code> here's another <code>perl</code>-ish way to do it.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @nums = (1,2,5);\n\nmy $prev = -999;    # assuming you only use positive values, this will work\nmy @out = ();\n\nfor my $num (@nums) {\n    # if we are continuing a sequence, add a hyphen unless we did last time\n    if ($num == $prev + 1) {\n        push (@out, '-') unless (@out and $out[-1] eq '-');\n    }\n    else {\n        # if we are breaking a sequence (@out ends in '-'), add the previous number first\n        if (@out and $out[-1] eq '-') {\n            push(@out, $prev);\n        }\n        # then add the current number\n        push (@out, $num);\n    }\n    # track the previous number\n    $prev = $num;\n}\n\n# add the final number if necessary to close the sequence\npush(@out, $prev) if (@out and $out[-1] eq '-');\n\n# join all values with comma\nmy $pages = join(',', @out);\n# flatten the ',-,' sequence to a single '-'\n$pages =~ s/,-,/-/g;\n\nprint \"$pages\\n\";\n</code></pre>\n\n<p>This is not super elegant or short, but is very simple to understand and debug.</p>\n"}], "owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1570679890, "creation_date": 1570540031, "last_edit_date": 1570540743, "question_id": 58286985, "link": "https://stackoverflow.com/questions/58286985/perl-how-to-combine-consecutive-page-numbers", "title": "Perl: how to combine consecutive page numbers?", "body": "<ul>\n<li>OS: Windows server 2012, so I don't have access to Unix utils</li>\n<li>Activestate Perl 5.16. Sorry I cannot upgrade the OS or Perl, I'm stuck with it. </li>\n<li>I did a google search and read about 10 pages from that, I find similar problems but not what I'm looking for.</li>\n<li>I then did 3 searches here and found similar issues with SQL, R, XSLT, but not what I'm looking for.</li>\n<li>I actually am not sure where to start so I don't even have code yet.</li>\n</ul>\n\n<p>I'd like to combine consecutive page numbers into a page range. Input will be a series of numbers in an array. </p>\n\n<pre><code>Input as an array of numbers: my @a=(1,2,5)\nOutput as a string: 1-2, 5\n\nInput ex: (1,2,3,5,7)\nOutput ex: 1-3, 5, 7\n\nInput ex: (100,101,102,103,115,120,121)\nOutput ex: 100-103,115,120-121\n</code></pre>\n\n<p>Thank you for your help!</p>\n\n<p>This is the only code I have so far.</p>\n\n<pre><code>sub procpages_old\n# $aref = array ref to list of page numbers.\n# $model = used for debugging.\n# $zpos = used for debugging only.\n{my($aref,$model,$zpos)=@_;\nmy $procname=(caller(0))[3];\n\nmy @arr=@$aref; # Array of page numbers.\nmy @newarr=();\nmy $i=0;\nmy $np1=0; # Page 1 of possible range.\nmy $np2=0; # Page 2 of possible range.\nmy $p1=0; # Page number to test.\nmy $p2=0;\nmy $newpos=0;\nwhile ($i&lt;$#arr)\n    {\n    $np1=$arr[$i];\n    $np2=getdata($arr[$i+1],'');\n    $p1=$np1;\n    $p2=$np2;\n    while ($p2==($p1+1)) # Consecutive page numbers?\n        {\n        $i++;\n        $p1=$a[$i];\n        $p2=getdata($a[$i+1],'');\n        }\n    $newarr[$newpos]=$np1.'-'.$p2;\n    $newpos++;\n    # End of loop\n    $i++;\n    }\n\nmy $pages=join(', ',@arr);\n\nreturn $pages;\n}\n</code></pre>\n"}, {"tags": ["perl", "model-view-controller", "code-design", "dispatch-table", "code-layout"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1570540131, "post_id": 58286006, "comment_id": 102938746, "body": "Can you extract a minimal running example with a handful of tabs? I have a hard time grokking the vague description."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1570543066, "post_id": 58286006, "comment_id": 102940495, "body": "@daxim As mentioned in my previous comment, I understand this may be difficult to conceptualize for some, though it is a conceptual question.  It would be too big an effort to include a full minimal running example, but hopefully the addendum helps to illustrate the scenario more clearly.  Does this update help?"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1570544563, "post_id": 58286006, "comment_id": 102941342, "body": "I think it hinders my question because it distracts from the original question, which is about a dispatch table that might reference multiple controllers and needing to require those perl packages because the dispatch table stores references to the subroutines."}], "owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570542458, "creation_date": 1570536311, "last_edit_date": 1570542458, "question_id": 58286006, "link": "https://stackoverflow.com/questions/58286006/where-to-place-a-dispatch-table-in-mvc", "title": "Where to place a dispatch table in MVC?", "body": "<p>A dispatch table (or dispatch method) is both a table (model) and a router/controller.</p>\n\n<p>Imagine a tabbed navigation where there may be 30 tabs for various end users. Each tab is essentially a page that has its own controller and views. In my case, a dispatch table contains keys for the tabs and then data for each tab (path, displayName, visibility, etc). </p>\n\n<pre><code>my $tabs = {\n  Home =&gt; {\n    action =&gt; \\&amp;HomeController::dashboard,\n    displayName =&gt; \u2018Home\u2019,\n    ...\n  },\n  About =&gt; {\n    action =&gt; \\&amp;AboutController::info,\n    displayName =&gt; \u2018About Us\u2019,\n    ...\n  },\n  ...\n};\n</code></pre>\n\n<p>Initially I had a TabController and TabView. Inside the controller was a dispatch table; however it didn\u2019t seem to fall in accordance with MVC. It seemed fine when there was only 3 tabs, but different when it grew, especially as it required security trimming or filtering the views.</p>\n\n<p>It made sense to move it to the model since it was being treated more as a data table.  However, because it\u2019s Perl (and a dispatch table) all the corresponding packages must also be loaded. So this TabModel is loading many controllers (and in some cases views). I don\u2019t particularly like to load/reference any controllers in the model, so loading multi feels even worse. </p>\n\n<p>Is there a best practice or example for this scenario?</p>\n\n<hr>\n\n<h1>Addendum</h1>\n\n<p>In an attempt to provide something a little more tangible.  I'm going to attempt to frame this around a makeshift web application.  This is only a conceptual example, not fully-working and missing a lot; but hopefully should add a little more description and context.  It has the following, directory structure:</p>\n\n<pre><code>index.pl -- entrance\nControllers/\n  -- Dashboard.pm\n  -- Home.pm\n  -- About.pm\nModels/\n  -- Tabs.pm\n  -- Users.pm\nViews/\n  -- Dashboard.pm\n  -- Home.pm\n  -- About.pm\n  -- Error.pm\n</code></pre>\n\n<p>I won't break out index.pl, but it essentially parses parameters and directs to the DashboardController::dashboard.</p>\n\n<h3>DashboardController</h3>\n\n<pre><code>package Controllers::Dashboard;\n\nsub dashboard{\n   my $users = Models::Users::get_all();           # Users Model\n   my $tabs = Models::Tabs::get_permitted(         # Tabs Model\n     $users-&gt;{CURRENT_USER}{permissions}\n   );\n   print Views::Page::render($users,$tabs);        # Page View\n}\n</code></pre>\n\n<h3>AboutController</h3>\n\n<pre><code>package Controllers::About;\n\nsub info {\n  # No models necessary\n  print Views::About::render();\n}\n</code></pre>\n\n<h3>TabsModel</h3>\n\n<pre><code>package Models::Tabs;\n\nuse Controllers::Home;\nuse Controllers::About;\n\nsub get_all {\n  my $tabs =  {\n    Home =&gt; {\n      action =&gt; \\&amp;Controllers::Dashboard::dashboard,\n      displayName =&gt; \u2018Home\u2019,\n      ...\n    },\n    About =&gt; {\n      action =&gt; \\&amp;Controllers::About::info,\n      displayName =&gt; \u2018About Us\u2019,\n      ...\n    },\n    ...\n  };\n\n  return $tabs;\n}\n\nsub get_permitted {\n  my $user_permissions = shift;\n  my $tabs = get_all();\n  if (defined $user_permissions){\n    foreach my $tab (keys %$tabs){\n      delete $tabs-&gt;{$tab} unless $user_permissions-&gt;{\"can_access_$tab\"};\n    }\n  } \n}\n</code></pre>\n\n<h3>DashboardView</h3>\n\n<pre><code>package Views::Dashboard;\n\nsub render {\n  my ($users,$tabs) = @_;\n\n\n  my $html_tabs = '&lt;ul&gt;';\n  foreach my $tab (values %$tabs){\n    $html_tabs .= \"$tab-&gt;{displayName}\";\n  }\n  $html_tabs .= '&lt;/ul&gt;;\n\n  my $html = &lt;&lt;\"END\";\n\n  $html_tabs \n  &lt;!-- dashboard content --&gt;\n\nEND\n\n  return $html;\n}\n</code></pre>\n"}, {"tags": ["perl", "xs"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570533644, "post_id": 58284863, "comment_id": 102935592, "body": "Yes this seems like the case! I meant to use <code>mPUSHs</code>, but somehow I had used <code>xPUSHs</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570534043, "post_id": 58284863, "comment_id": 102935780, "body": "<i>&quot;sv_2mortal() doesn&#39;t change array&#39;s ref count, but it does take ownership of one reference&quot;</i> So when I call <code>sv_2mortal(foo)</code> it somehow modifies an internal flag in <code>foo</code> (but not the reference count), is that what is meant by &quot;take ownership of one reference&quot; ? I would like to know how the details work, if possible, thanks!"}, {"owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1570541565, "post_id": 58284863, "comment_id": 102939561, "body": "Technically sv_2mortal() just pushes the SV&#39;s address onto the mortals stack (it also sets the SVs_TEMP flag on the SV but that isn&#39;t relevant here). However, since this will cause the ref count of the SV to be decremented the next time FREETMPS is called, this means that using sv_2mortal() on its own means the SV will be prematurely freed. So you will often see the combination"}, {"owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570541666, "post_id": 58284863, "comment_id": 102939637, "body": "... sv_2mortal(SvREFCNT_inc(sv)) or similar. However in your case, newAV() leaves the refcnt one too high and sv_2mortal() leaves it one too low, so together they Do the Right Thing. Which is what I meant by taking ownership."}], "tags": [], "owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "is_accepted": true, "score": 1, "last_activity_date": 1570531661, "creation_date": 1570531661, "answer_id": 58284863, "question_id": 58284261, "link": "https://stackoverflow.com/questions/58284261/passing-an-array-reference-to-a-perl-callback-using-call-sv-should-i-use-newr/58284863#58284863", "title": "Passing an array reference to a perl callback using call_sv(), should I use newRV() or newRV_noinc()?", "body": "<p>You should use newRV_inc().</p>\n\n<p>Your actual problem is that you are creating a new RV which leaks. The fact that the RV is never freed means that the reference count on array is never decremented. You need to mortalise the return value of newRV_inc().</p>\n\n<p>One other comment: the reference count of array is not reduced to zero when you mortalise it; it remains as 1. I'm not sure where you got that idea from. What actually happens is that when you call newAV(), you are given an AV with a reference count of one, which is 1 too high. Left as-is, it will leak. sv_2mortal() doesn't change array's ref count, but it does take ownership of one reference, which \"corrects\" the overall reference count and array will no longer leak.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 58284863, "answer_count": 1, "score": 0, "last_activity_date": 1570531661, "creation_date": 1570529318, "last_edit_date": 1570529722, "question_id": 58284261, "link": "https://stackoverflow.com/questions/58284261/passing-an-array-reference-to-a-perl-callback-using-call-sv-should-i-use-newr", "title": "Passing an array reference to a perl callback using call_sv(), should I use newRV() or newRV_noinc()?", "body": "<p>I have this XS code (<code>XsTest.xs</code>):</p>\n\n<pre><code>#define PERL_NO_GET_CONTEXT\n#include \"EXTERN.h\"\n#include \"perl.h\"\n#include \"XSUB.h\"\n\nMODULE = My::XsTest  PACKAGE = My::XsTest\nPROTOTYPES: DISABLE\n\nvoid\nfoo( callback )\n       SV *callback\n    PREINIT:\n        AV *array;\n        SSize_t array_len;\n        SV **sv_ptr;\n        SV *sv;\n        double value;\n    CODE:\n        if ( !SvROK(callback) ) {\n            croak(\"Not a reference!\");\n        }\n        if ( SvTYPE(SvRV(callback)) != SVt_PVCV ) {\n            croak(\"Not a code reference!\");\n        }\n        /* This array will go out of scope (and be freed) at the end of this XSUB \n         * due to the sv_2mortal()\n         */\n        array = (AV *)sv_2mortal((SV *)newAV()); /* Line #28 */\n        /* NOTE: calling dSP is not necessary for an XSUB, since it has \n         * already been arranged for by xsubpp by calling dXSARGS \n         */\n        printf( \"Line #28: SvREFCNT(array) = %d\\n\", SvREFCNT(array));\n        ENTER;\n        SAVETMPS;\n        PUSHMARK(SP);\n        EXTEND(SP, 1);\n        /* Should I use newRV_inc() or newRV_noinc() here? Or does it not \n         * matter?\n         * NOTE: XPUSHs mortalizes the RV (so we do not need to call sv_2mortal()\n         */\n        XPUSHs((SV *)newRV_inc((SV *) array)); /* Line #41 */\n        printf( \"Line #41: SvREFCNT(array) = %d\\n\", SvREFCNT(array));\n        PUTBACK;\n        call_sv(callback, G_VOID);\n        printf( \"Line #45: SvREFCNT(array) = %d\\n\", SvREFCNT(array)); /* Line #45: */\n        array_len = av_top_index(array) + 1;\n        printf( \"Array length: %ld\\n\", array_len );\n        if ( array_len != 1 ) {\n            croak( \"Unexpected array size: %ld\", array_len );\n        }\n        sv_ptr = av_fetch( array, 0, 0 );\n        sv = *sv_ptr;  \n        if (SvTYPE(sv) &gt;= SVt_PVAV) {\n            croak(\"Not a scalar value!\");\n        } \n        value = SvNV(sv);\n        printf( \"Returned value: %g\\n\", value);\n        FREETMPS;  /* Line # 58 */\n        LEAVE;\n        printf( \"Line #60: SvREFCNT(array) = %d\\n\", SvREFCNT(array));\n</code></pre>\n\n<p>I trying to figure out whether to use <a href=\"https://perldoc.perl.org/perlapi.html#SV-Manipulation-Functions\" rel=\"nofollow noreferrer\"><code>newRV_inc()</code></a> or <a href=\"https://perldoc.perl.org/perlapi.html#SV-Manipulation-Functions\" rel=\"nofollow noreferrer\"><code>newRV_noinc()</code></a> at line #41.</p>\n\n<p>The Perl callback is defined in the test script <code>p.pl</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse ExtUtils::testlib;\nuse My::XsTest;\n\nsub callback {\n    my ( $ar ) = @_;\n    $ar-&gt;[0] = 3.12;\n}\nMy::XsTest::foo( \\&amp;callback );\n</code></pre>\n\n<p>The output from running <code>p.pl</code> is:</p>\n\n<pre><code>Line #28: SvREFCNT(array) = 1\nLine #41: SvREFCNT(array) = 2\nLine #45: SvREFCNT(array) = 2\nArray length: 1\nReturned value: 3.12\nLine #60: SvREFCNT(array) = 2\n</code></pre>\n\n<p>As far as I can see, if I use <code>newRV_inc()</code>:</p>\n\n<ul>\n<li>The reference count of <code>array</code> is set to 1 at line #28 when calling <code>newAV()</code>,</li>\n<li>then it is decreased to zero also at line #28 when calling <code>sv_2mortal()</code> on the same array,</li>\n<li>at line #41 I create a reference using <code>newRV_inc()</code> and the reference count of <code>array</code> is increased back again from 0 to 1 (due to the <code>_inc</code> in <code>newRV_inc()</code>),</li>\n<li>at line #58, the <a href=\"https://perldoc.perl.org/perlapi.html#Callback-Functions\" rel=\"nofollow noreferrer\"><code>FREETMPS</code></a> macro is called, but this does not affect (?) the refcount of <code>array</code> since it was created outside the <code>SAVETMPS</code> boundary we set up for the callback temporaries. On the other hand, the reference we pushed at line #41 is freed here (since it was made mortal), which causes it to relinquish its ownership of <code>array</code> and hence the reference count of <code>array</code> will be decreased to zero again.</li>\n<li>at line #60, the XSUB exits and <code>array</code> will be freed (on a following call by the perl runop loop to <code>FREETMPS</code>) since it has reference count of zero. All the scalars in the array will also be freed at that point (?).</li>\n</ul>\n\n<p>The problem with the above reasoning is that it does not agree with the output from <code>SvREFCNT()</code> as shown above. According to the output, the reference count of <code>array</code> is 2 (and not 1) at exit.</p>\n\n<p>What is going on here?</p>\n\n<h2>Additional files to reproduce:</h2>\n\n<p><strong>lib/My/XsTest.pm</strong>:</p>\n\n<pre><code>package My::XsTest;\nuse strict;\nuse warnings;\nuse Exporter qw(import);\nour %EXPORT_TAGS = ( 'all' =&gt; [ qw(    ) ] );\nour @EXPORT_OK = ( @{ $EXPORT_TAGS{'all'} } );\nour @EXPORT = qw(    );\nour $VERSION = 0.01;\nrequire XSLoader;\n\nXSLoader::load();\n1;\n</code></pre>\n\n<p><strong>Makefile.PL</strong>:</p>\n\n<pre><code>use 5.028001;\nuse strict;\nuse warnings;\nuse utf8;\nuse ExtUtils::MakeMaker 7.12; # for XSMULTI option\n\nWriteMakefile(\n  NAME          =&gt; 'My::XsTest',\n  VERSION_FROM  =&gt; 'lib/My/XsTest.pm',\n  PREREQ_PM     =&gt; { 'ExtUtils::MakeMaker' =&gt; '7.12' },\n  ABSTRACT_FROM =&gt; 'lib/My/XsTest.pm',\n  AUTHOR        =&gt; 'H\u00e5kon H\u00e6gland &lt;hakon.hagland@gmail.com&gt;',\n  OPTIMIZE      =&gt; '',  # e.g., -O3 (for optimize), -g (for debugging)\n  XSMULTI       =&gt; 0,\n  LICENSE       =&gt; 'perl',\n  LIBS          =&gt; [''], # e.g., '-lm'\n  DEFINE        =&gt; '', # e.g., '-DHAVE_SOMETHING'\n  INC           =&gt; '-I.', # e.g., '-I. -I/usr/include/other'\n)\n</code></pre>\n\n<h2>Compilation</h2>\n\n<p>To compile the module, run:</p>\n\n<pre><code>perl Makefile.PL\nmake\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1570523507, "post_id": 58282482, "comment_id": 102930903, "body": "I think you need to be a little clearer. The <code>PartID</code> line has three empty fields on it. How do you get &quot;PartID 1,2,3&quot; from this data? Is it the first field from the three lines following the <code>PartID</code> line?"}, {"owner": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1570524053, "post_id": 58282482, "comment_id": 102931164, "body": "in my sample data above i declare it already PartID,,,, 1,3,0,5 2,4,3,2 3,5,6,3 the first number of the hash (1,2,3)  needs to display as output"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1570524526, "post_id": 58282482, "comment_id": 102931364, "body": "As I asked before, is it the first number from the next three lines? You need to describe exactly how you get from your input data to &quot;PartID 1,2,3&quot;. The job of a programmer is to turn vague specifications into working code. Your first task is always to define the algorithm that you will follow."}, {"owner": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1570524697, "post_id": 58282482, "comment_id": 102931434, "body": "yes you are correct the first number from the next three lines. Got it. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1570530970, "last_edit_date": 1570530970, "creation_date": 1570528787, "answer_id": 58284136, "question_id": 58282482, "link": "https://stackoverflow.com/questions/58282482/how-to-display-the-hash-value-from-my-sample-data/58284136#58284136", "title": "how to display the hash value from my sample data", "body": "<p>So I've rewritten your code a little to use a few more modern Perl idioms (along with some comments to explain what I've done). The bit I've added is near the bottom.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n# Added 'warnings' which you should always use\nuse warnings;\n# Use say() instead of print()\nuse feature 'say';\n\nuse Getopt::Long;\n\nmy $file = \"\";\n\nGetOptions (\"infile=s\" =&gt; \\$file)\n  or die (\"Error in command line arguments\\n\");\n\n# Use a lexical variable for a filehandle.\n# Use the (safer) 3-argument version of open().\n# Add $! to the error message.\nopen(my $fh, '&lt;', $file) or die \"Couldn't open file $file: $!\";\n\n# Read each record into $_ - which makes the following code simpler\nwhile (&lt;$fh&gt;) {\n  # Match on $_\n  if ( /^lot=/ ) {\n    # Use \"undef\" instead of a $dump variable.\n    # split() works on $_ by default.\n    my (undef, $lotid) = split /=/;\n    # Use say() instead of print() - less punctuation :-)\n    say $lotid;\n  }\n\n  elsif ( /^program=/ ) {\n    my (undef, $progid) = split /=/;\n    say $progid;  \n  }\n\n  elsif ( /^wafer=/ ) {\n    my (undef, $waferid) = split /=/;\n    say $waferid;  \n  }\n\n  elsif ( /^version=/ ) {\n    my (undef, $verid) = split /=/;\n    say $verid;  \n  }\n\n  elsif ( /^testnames/i) {\n    my (undef, @arr) = split /\\,/;\n\n    # Changed all of these similar pieces of code\n    # to use the same variable names. As they are\n    # defined in different code blocks, they are \n    # completely separate variables.\n    foreach my $e (@arr) {\n      say $e;\n    }\n  }\n\n  elsif ( /^testnumbers/i) {\n    my (undef, @arr) = split /\\,/;\n\n    foreach my $e (@arr) {\n      say $e;\n    }\n  }\n\n  elsif ( /^hilimit/i) {\n    my (undef, @arr) = split /\\,/;\n\n    foreach my $e (@arr) {\n      say $e;\n    }\n  }\n\n  elsif ( /^lolimit/i) {\n    my (undef, @arr) = split /\\,/;\n\n    foreach my $e (@arr) {\n      say $e;\n    }\n  }\n\n  # And here's the new bit.\n  # If we're on the \"partid\" line, then read the next\n  # three lines, split each one and print the first\n  # element from the list returned by split().\n  elsif ( /^partid/i) {\n    say +(split /,/, &lt;$fh&gt;)[0] for 1 .. 3;\n  }\n}\n</code></pre>\n\n<p><strong>Update:</strong> By the way, there are no hashes anywhere in this code :-)</p>\n\n<p><strong>Update 2:</strong> I've just realised that you only have three different ways to process the data. So you can simplify your code drastically by using slightly more complex regexes.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nuse Getopt::Long;\n\nmy $file = \"\";\n\nGetOptions (\"infile=s\" =&gt; \\$file)\n  or die (\"Error in command line arguments\\n\");\n\nopen(my $fh, '&lt;', $file) or die \"Couldn't open file $file: $!\";\n\nwhile (&lt;$fh&gt;) {\n  # Single value - just print it.\n  if ( /^(?:lot|program|wafer|version)=/ ) {\n    my (undef, $value) = split /=/;\n    say $value;\n  }\n\n  # List of values - split and print.\n  elsif ( /^(?:testnames|testnumbers|hilimit|lolimit)/i) {\n    my (undef, @arr) = split /\\,/;\n\n    foreach my $e (@arr) {\n      say $e;\n    }\n  }\n\n  # Extract values from following lines.\n  elsif ( /^partid/i) {\n    say +(split /,/, &lt;$fh&gt;)[0] for 1 .. 3;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 58284136, "answer_count": 1, "score": 1, "last_activity_date": 1570530970, "creation_date": 1570522332, "question_id": 58282482, "link": "https://stackoverflow.com/questions/58282482/how-to-display-the-hash-value-from-my-sample-data", "title": "how to display the hash value from my sample data", "body": "<p>I'm learning perl at the moment, i wanted to ask help to answer this exercise.\nMy objective is to display the hash value of PartID 1,2,3\nthe sample output is displaying lot, wafer, program, version, testnames, testnumbers, hilimit, lolimit and partid values only. </p>\n\n<p><strong>sample data</strong> </p>\n\n<pre><code>lot=lot123\nwafer=1\nprogram=prgtest\nversion=1\nTestnames,T1,T2,T3\nTestnumbers,1,2,3\nHilimit,5,6,7\nLolimit,1,2,3\nPartID,,,,\n1,3,0,5\n2,4,3,2\n3,5,6,3\n</code></pre>\n\n<p><strong>This is my code:</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Getopt::Long;\n\nmy $file = \"\";\n\nGetOptions (\"infile=s\" =&gt; \\$file ) or die(\"Error in command line arguments\\n\");\nmy $lotid = \"\";\n\nopen(DATA, $file) or die \"Couldn't open file $file\";\n\nwhile(my $line = &lt;DATA&gt;) {\n#print \"$line\";\n              if ( $line =~ /^lot=/ ) {\n                             #print \"$line \\n\";\n                             my ($dump, $lotid) = split /=/, $line;\n                             print \"$lotid\\n\";\n              }\n\n              elsif ($line =~ /^program=/ ) {\n                            my ($dump, $progid) = split /=/, $line;\n                            print \"$progid \\n\";  \n              }\n\n              elsif ($line =~ /^wafer=/ ) {\n                            my ($dump, $waferid) = split /=/, $line;\n                            print \"$waferid \\n\";  \n              }\n\n              elsif ($line =~ /^version=/ ) {\n                            my ($dump, $verid) = split /=/, $line;\n                            print \"$verid \\n\";  \n              }\n              elsif ($line =~ /^testnames/i) {\n\n                             my ($dump, @arr) = split /\\,/, $line;\n\n                             foreach my $e (@arr) {\n                                           print $e, \"\\n\";\n                             }\n              }\n                elsif ($line =~ /^testnumbers/i) {\n\n                             my ($dump, @arr1) = split /\\,/, $line;\n\n                             foreach my $e1 (@arr1) {\n                                           print $e1, \"\\n\";\n                             }\n              }\n                elsif ($line =~ /^hilimit/i) {\n\n                             my ($dump, @arr2) = split /\\,/, $line;\n\n                             foreach my $e2 (@arr2) {\n                                           print $e2, \"\\n\";\n                             }\n              }\n                elsif ($line =~ /^lolimit/i) {\n\n                             my ($dump, @arr3) = split /\\,/, $line;\n\n                             foreach my $e3 (@arr3) {\n                                           print $e3, \"\\n\";\n                             }\n              }\n\n}\n</code></pre>\n\n<p>Kindly help add to my code to display Partid 1,2,3 hash.</p>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1570520841, "post_id": 58281869, "comment_id": 102929716, "body": "What have you tried? &quot;php sum digits in number&quot; yields a lot of results on google/stackoverflow (<a href=\"https://stackoverflow.com/questions/3232511/get-the-sum-of-digits-in-php\">this question</a> for instance)"}], "answers": [{"comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1570521919, "post_id": 58282210, "comment_id": 102930188, "body": "<a href=\"http://php.net/array_sum\" rel=\"nofollow noreferrer\"><code>array_sum</code></a> | <a href=\"http://php.net/language.operators.assignment\" rel=\"nofollow noreferrer\"><code>%=</code></a>"}], "tags": [], "owner": {"reputation": 5632, "user_id": 640043, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1956c99653c4440e55834c3ce7cde28f?s=128&d=identicon&r=PG", "display_name": "Brett Gregson", "link": "https://stackoverflow.com/users/640043/brett-gregson"}, "is_accepted": true, "score": 1, "last_activity_date": 1570521099, "creation_date": 1570521099, "answer_id": 58282210, "question_id": 58281869, "link": "https://stackoverflow.com/questions/58281869/how-to-calculate-checksum-on-php-having-perl-pattern/58282210#58282210", "title": "How to calculate checksum on PHP having PERL pattern", "body": "<p>The following should do the trick:</p>\n\n<pre><code>$mid = 123;\n$csum = 0;\n\nforeach(str_split($mid) as $m){ // Loop $mid by character\n  $csum+= $m;                   // Add current $character ($m) to our $csum\n}\n\n$csum = $csum % 10;             // Modulo by 10\necho $csum; // 6\n</code></pre>\n\n<p><a href=\"https://3v4l.org/d4kUT\" rel=\"nofollow noreferrer\">Working PHP</a>, and to compare, the <a href=\"https://ideone.com/TBjZkM\" rel=\"nofollow noreferrer\">working Perl</a> version</p>\n"}], "owner": {"reputation": 1262, "user_id": 3208225, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a21d763ca87f53dc475eaec179516649?s=128&d=identicon&r=PG&f=1", "display_name": "stckvrw", "link": "https://stackoverflow.com/users/3208225/stckvrw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 58282210, "answer_count": 1, "score": -1, "last_activity_date": 1570521099, "creation_date": 1570519607, "question_id": 58281869, "link": "https://stackoverflow.com/questions/58281869/how-to-calculate-checksum-on-php-having-perl-pattern", "title": "How to calculate checksum on PHP having PERL pattern", "body": "<p>I have the following code on PERL:</p>\n\n<pre><code>$Mid = 123;\n$csum=0;\n$csum+=$_ foreach split //,$Mid;\n$csum%=10;\n</code></pre>\n\n<p>It calculates <code>$csum</code> based on <code>$Mid</code> which is a number</p>\n\n<p>How to do the same on PHP?</p>\n"}, {"tags": ["perl", "bioperl"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1570519827, "post_id": 58278936, "comment_id": 102929292, "body": "Please provide the input file, the output of <code>perl -V</code>, the version of the <code>io_lib</code>/<code>staden-read</code> library."}, {"owner": {"reputation": 1, "user_id": 12179622, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAEv50oWSzMAtZK9qfmwmRpbX_55zWxYS2RmHzm=k-s128", "display_name": "Yushin Jung", "link": "https://stackoverflow.com/users/12179622/yushin-jung"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1570667552, "post_id": 58278936, "comment_id": 102988521, "body": "Thanks for your attention,  I want to provide output of &quot;perl -V&quot; but seems too long. Anyway, the version of perl is v5.28.1. if you need more information please let me know. The version of &quot;io_lib&quot; is 1.14.8 and &quot;staden&quot; is 2.0.0b11-2016.  Also I don&#39;t know how to provide scf file to you.  It&#39;s just normal sanger sequencing data, which opens well at software &quot;UGENE&quot;.  Thanks"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1570779690, "post_id": 58278936, "comment_id": 103029310, "body": "I&#39;m sure you can figure out a way to give us the info we need <a href=\"https://stackoverflow.com/help/mcve#Reproducible\">so we can reproduce the problem</a>. Maybe ask your colleagues for help."}], "answers": [{"tags": [], "owner": {"reputation": 48744, "user_id": 40468, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43722cb1e955874a8eb721e9dfe101d1?s=128&d=identicon&r=PG", "display_name": "Ether", "link": "https://stackoverflow.com/users/40468/ether"}, "is_accepted": false, "score": 1, "last_activity_date": 1570733181, "creation_date": 1570733181, "answer_id": 58329288, "question_id": 58278936, "link": "https://stackoverflow.com/questions/58278936/how-to-solve-segmentation-fault-core-dumped-while-reading-scf-files/58329288#58329288", "title": "How to solve segmentation fault (core dumped) while reading SCF files?", "body": "<p>(This is not really an answer, since you didn't provide much information, but it's the best I can do presently...)</p>\n\n<p><a href=\"https://metacpan.org/release/Bio-SCF\" rel=\"nofollow noreferrer\">Bio::SCF</a> is a compiled library (notice the .xs file), so it could have easily broken if something changed in your perl install and BIO::SCF wasn't recompiled.  I would suggest, as a first step, to reinstall BIO::SCF and make sure that its tests pass (check the log for the cpan client you are using).</p>\n"}], "owner": {"reputation": 1, "user_id": 12179622, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAEv50oWSzMAtZK9qfmwmRpbX_55zWxYS2RmHzm=k-s128", "display_name": "Yushin Jung", "link": "https://stackoverflow.com/users/12179622/yushin-jung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570733181, "creation_date": 1570496659, "question_id": 58278936, "link": "https://stackoverflow.com/questions/58278936/how-to-solve-segmentation-fault-core-dumped-while-reading-scf-files", "title": "How to solve segmentation fault (core dumped) while reading SCF files?", "body": "<p>I got segmentation fault (core dumped) error when I try read SCF file. </p>\n\n<p>I'm using Bio::SCF module in perl and just followed the example from \"<a href=\"https://metacpan.org/pod/Bio::SCF\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Bio::SCF</a>\".</p>\n\n<p>The code is as below ...</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse Bio::SCF;\n\nmy $scf = Bio::SCF-&gt;new('filename.scf'); # line A\nor \ntie %scf, 'Bio::SCF', \"filename.scf\"; # line B\n</code></pre>\n\n<p>I hoped one of the lines read the scf file but, neither worked and just sending the \"segmentation fault (core dumped\" message. </p>\n\n<p>What can I do?\nCould anyone help with this?</p>\n"}, {"tags": ["regex", "perl", "sas", "extract", "matching"], "comments": [{"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 1, "creation_date": 1570475920, "post_id": 58275744, "comment_id": 102918260, "body": "Are the delimiters constant (<code>&#47;ABCD&#47;&#47;NAME&#47;</code> and <code>&#47;JJJJ</code>)? Or is it based on the number of slashes <code>&#47;</code>? What exactly are the rules? This is a <b>very</b> simple regex as it stands and you should refer to <a href=\"https://stackoverflow.com/questions/4736/learning-regular-expressions\">Learning Regular Expressions</a>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570475956, "post_id": 58275744, "comment_id": 102918282, "body": "Try this: <code>my ($res) = $str =~ m{&#47;ABCD&#47;&#47;NAME&#47;(.*?)&#47;JJJJ}s;</code>"}, {"owner": {"reputation": 543, "user_id": 6365890, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/31daf263132d23aa8360e371896fefc0?s=128&d=identicon&r=PG&f=1", "display_name": "pynewbee", "link": "https://stackoverflow.com/users/6365890/pynewbee"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1570482466, "post_id": 58275744, "comment_id": 102920663, "body": "@ctwheels yes the delimeters are constant. please help on this. I keep getting errors and cannot figure it out"}, {"owner": {"reputation": 543, "user_id": 6365890, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/31daf263132d23aa8360e371896fefc0?s=128&d=identicon&r=PG&f=1", "display_name": "pynewbee", "link": "https://stackoverflow.com/users/6365890/pynewbee"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570482535, "post_id": 58275744, "comment_id": 102920691, "body": "@H&#229;konH&#230;gland how would that be written in SAS?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570483463, "post_id": 58275744, "comment_id": 102921016, "body": "@pynewbee See my answer for an approach"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1570483443, "creation_date": 1570483443, "answer_id": 58277332, "question_id": 58275744, "link": "https://stackoverflow.com/questions/58275744/extracting-substring-using-regex-in-sas/58277332#58277332", "title": "extracting substring using regex in sas", "body": "<p>I am not familiar with SAS, but from the <a href=\"http://support.sas.com/documentation/cdl/en/lrdict/64316/HTML/default/viewer.htm#a002601903.htm\" rel=\"nofollow noreferrer\">documentation</a> it seems like you can do:</p>\n\n<pre><code>re = prxparse('/\\/ABCD\\/\\/NAME\\/(.*?)\\/(.*?)\\/JJJJ/s');\nif prxmatch(re, str) then \n    do;\n        res = prxposn(re, 1, str);\n    end;\n</code></pre>\n"}], "owner": {"reputation": 543, "user_id": 6365890, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/31daf263132d23aa8360e371896fefc0?s=128&d=identicon&r=PG&f=1", "display_name": "pynewbee", "link": "https://stackoverflow.com/users/6365890/pynewbee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 58277332, "answer_count": 1, "score": 0, "last_activity_date": 1570483443, "creation_date": 1570475441, "last_edit_date": 1570475884, "question_id": 58275744, "link": "https://stackoverflow.com/questions/58275744/extracting-substring-using-regex-in-sas", "title": "extracting substring using regex in sas", "body": "<p>I have a string like this:</p>\n\n<pre><code>dfjkldjfdsldfkdslfkd dfkdjd/FR018/HAHDFKDLFDAFHDKFJL/ABCD//NAME/I WANT TO EXTRACT THIS/JJJJ//NAME/blah blah blah\n</code></pre>\n\n<p>in this string, I want to be able to pull the string <code>I WANT TO EXTRACT THIS</code>. In other words, I want to extract everything that follows <code>/ABCD//NAME/</code> and before <code>/JJJJ</code>. </p>\n\n<p>how can I write this using regular expressions? </p>\n\n<p>thanks</p>\n"}, {"tags": ["perl", "getopt"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 4, "creation_date": 1570475264, "post_id": 58275682, "comment_id": 102917971, "body": "Just save <code>@ARGV</code> before calling <code>GetOptions()</code>."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570475501, "post_id": 58275682, "comment_id": 102918089, "body": "Calling GetOptions will remove all parsed options from <code>@ARGV</code>."}, {"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "edited": false, "score": 0, "creation_date": 1570477822, "post_id": 58275682, "comment_id": 102919063, "body": "So, you want a autogenerated <code>usage</code> message?"}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "reply_to_user": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "edited": false, "score": 0, "creation_date": 1570481473, "post_id": 58275682, "comment_id": 102920316, "body": "@Holli I wanted to get the current state of the program for logging purposes.  But Hakon is correct, I can do this by saving @ARGV before calling <code>GetOptions</code>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1570494974, "creation_date": 1570494974, "answer_id": 58278751, "question_id": 58275682, "link": "https://stackoverflow.com/questions/58275682/how-to-print-command-arguments-in-getoptlong-getoptions/58278751#58278751", "title": "how to print command arguments in Getopt::Long getoptions", "body": "<p>If you want the value of a variable before it gets changed, you make a copy of the value of the variable before it gets changed.</p>\n\n<pre><code>my @orig_ARGV = @ARGV;\n</code></pre>\n"}], "owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 58278751, "answer_count": 1, "score": 2, "last_activity_date": 1570525532, "creation_date": 1570475164, "question_id": 58275682, "link": "https://stackoverflow.com/questions/58275682/how-to-print-command-arguments-in-getoptlong-getoptions", "title": "how to print command arguments in Getopt::Long getoptions", "body": "<p>I am attempting to log behavior in my Perl script.  I would like to print all arguments that are passed to Getopt::Long's <code>GetOptions</code> but <code>@ARGV</code> is empty.</p>\n\n<p>I would like something that would automatically print all options and their values that were passed to <code>GetOptions</code>.  I have been reading <a href=\"https://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/Getopt/Long.html</a> but I can't find anything there.</p>\n\n<p>What I want is very simple, I'm surprised that I can't find anything like this.\nHow can I automatically output all options and their settings for logging purposes?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 2, "creation_date": 1570436728, "post_id": 58265422, "comment_id": 102899308, "body": "<a href=\"https://metacpan.org/pod/App::FatPacker\" rel=\"nofollow noreferrer\">metacpan.org/pod/App::FatPacker</a> might be useful."}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570460881, "post_id": 58265918, "comment_id": 102911430, "body": "The last option is also very similar to what <a href=\"https://metacpan.org/pod/Carton\" rel=\"nofollow noreferrer\">Carton</a> does (among other features)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570466917, "post_id": 58265918, "comment_id": 102914495, "body": "If the modules are in a directory relative to the script, you probably want <a href=\"https://stackoverflow.com/a/46550384/589924\">How to locate local modules</a> rather than having to change <code>PERL5LIB</code>."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 8, "last_activity_date": 1570436936, "creation_date": 1570436936, "answer_id": 58265918, "question_id": 58265422, "link": "https://stackoverflow.com/questions/58265422/export-perl-script-with-modules/58265918#58265918", "title": "Export Perl script with modules", "body": "<p>Distribute as one program containing everything:</p>\n\n<ul>\n<li><a href=\"http://p3rl.org/fatpack\" rel=\"noreferrer\">fatpack</a></li>\n<li><a href=\"http://p3rl.org/pp\" rel=\"noreferrer\">pp</a></li>\n<li><a href=\"http://p3rl.org/staticperl\" rel=\"noreferrer\">staticperl</a></li>\n</ul>\n\n<p>Alternatively, install the dependencies into a local subdirectory and <a href=\"http://p3rl.org/faq8#How-do-I-add-a-directory-to-my-include-path-(%40INC)-at-runtime%3F\" rel=\"noreferrer\">add the subdirectory to the include path</a>.</p>\n\n<ul>\n<li><a href=\"http://p3rl.org/cpanm\" rel=\"noreferrer\">cpanm</a> -L extlib Some::Module Yet::Another::Module More::Modules</li>\n</ul>\n"}], "owner": {"reputation": 397, "user_id": 9892631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9270664e143242e154d99f1401acab12?s=128&d=identicon&r=PG&f=1", "display_name": "poisn", "link": "https://stackoverflow.com/users/9892631/poisn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 2, "accepted_answer_id": 58265918, "answer_count": 1, "score": 4, "last_activity_date": 1570436936, "creation_date": 1570434667, "question_id": 58265422, "link": "https://stackoverflow.com/questions/58265422/export-perl-script-with-modules", "title": "Export Perl script with modules", "body": "<p>I have a perl script which is deleting Logs files for me. Now I want to use this script on multiple other computers and on one server. The problem is, that I use some <strong>manual</strong> downloaded modules.</p>\n\n<p>My question is, how can I export a perl script into a <code>.zip</code> with all used modules in the script?</p>\n\n<p>What I'm trying to reach is, that I can put the <code>.zip</code> file on a different computer and run the script without any error caused by the manual imported modules.</p>\n"}, {"tags": ["perl", "symlink"], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1570435497, "creation_date": 1570435497, "answer_id": 58265596, "question_id": 58263391, "link": "https://stackoverflow.com/questions/58263391/how-can-i-create-button-with-html-to-symlink-file-in-perl/58265596#58265596", "title": "How can I create button with html to symlink file in perl?", "body": "<p>The Perl program needs to run in a Web server or as a Web server. Example:</p>\n\n<p><strong>app.psgi</strong></p>\n\n<pre><code>#!/usr/bin/env plackup\nuse strict;\nuse warnings;\nuse Plack::Request qw();\nuse HTTP::Status qw(\n    HTTP_OK HTTP_METHOD_NOT_ALLOWED HTTP_INTERNAL_SERVER_ERROR\n);\n\nmy $app = sub {\n    my ($env) = @_;\n    my $req = Plack::Request-&gt;new($env);\n    if ('POST' eq $req-&gt;method) {\n        my $target = '/etc/passwd';\n        my $distension = '1.txt';\n        if (symlink $target, $distension) {\n            return $req-&gt;new_response(\n                HTTP_OK, ['Content-Type' =&gt; 'text/plain'], [\n                    'distension symlink created successfully'\n                ]\n            )-&gt;finalize;\n            print ;\n        } else {\n            return $req-&gt;new_response(\n                HTTP_INTERNAL_SERVER_ERROR, ['Content-Type' =&gt; 'text/plain'], [\n                    \"could not symlink &lt;$target&gt; to &lt;$distension&gt;: $!\"\n                ]\n            )-&gt;finalize;\n        }\n    } else {\n        return $req-&gt;new_response(HTTP_METHOD_NOT_ALLOWED)-&gt;finalize;\n    }\n};\n</code></pre>\n\n<p>The HTML form needs to cause a POST request to the Web server.</p>\n\n<pre><code>&lt;form method=\"POST\" action=\"http://localhost:5000\"&gt;\n    &lt;input type=\"submit\" value=\"create symlink\"&gt;\n&lt;/form&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12174556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c31b9b98535ff4c7e482d4925b00fdf?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed", "link": "https://stackoverflow.com/users/12174556/ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570435497, "creation_date": 1570420963, "last_edit_date": 1570428328, "question_id": 58263391, "link": "https://stackoverflow.com/questions/58263391/how-can-i-create-button-with-html-to-symlink-file-in-perl", "title": "How can I create button with html to symlink file in perl?", "body": "<p>I'm facing a problem in perl I'm work on script actually symlink tool so I tried to create a button\nnamed symlink to symlink a file called /etc/passwd \nso how I call but these together   </p>\n\n<pre><code>$target=\"/etc/passwd\";\n$distension =\"1.txt\";\n\n$symlink = symlink($target,$distension);\n\nif($symlink == 1) {print \" distension symlink created successfully\";}\n\nelse {print \"cannot symlink File $distension Already Exists \";}\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;button value=\"\" name=\"symlink\" type=\"button\"\nonclick=\"alert('symlink created successfully ^_^')\"&gt;symlink&lt;/button&gt;\n</code></pre>\n\n<p>So what I want is when i click symlink button that will happened\nand sorry for my English</p>\n"}, {"tags": ["perl", "parsing"], "answers": [{"comments": [{"owner": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "edited": false, "score": 0, "creation_date": 1570445274, "post_id": 58263207, "comment_id": 102903220, "body": "I have a strong feeling of deja-vu, but haven&#39;t you forgot the <code>package method args</code> sytax? <code>use strict; sub bar::foo {} foo bar foo bar</code>. And no, it&#39;s not the same as <code>print STDOUT</code>, because <code>print(STDOUT &quot;foo\\n&quot;)</code> works, but not <code>method(PKG &quot;foo\\n&quot;)</code> in general."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "edited": false, "score": 0, "creation_date": 1570460620, "post_id": 58263207, "comment_id": 102911288, "body": "@mosvy That is <a href=\"https://perldoc.pl/perlobj#Indirect-Object-Syntax\" rel=\"nofollow noreferrer\">indirect object syntax</a> and it&#39;s actually <code>method package args</code>. As a corollary, some builtins like print/say and system/exec that take a first argument without a comma pretend to use indirect object syntax but are actually a parser special case."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570460737, "post_id": 58263207, "comment_id": 102911347, "body": "I would also add there are some other special cases like the first argument of <code>sort</code> which takes a bareword as a sub name regardless of strict &#39;subs&#39;."}, {"owner": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570463862, "post_id": 58263207, "comment_id": 102913017, "body": "@Grinnz my bad, I reversed them in the verbiage but the examples&#39;s OK ;-)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "edited": false, "score": 0, "creation_date": 1570465594, "post_id": 58263207, "comment_id": 102913874, "body": "@mosvy, Both direct (<code>Class-&gt;method</code>) and indirect (<code>method Class</code>) are missing. I&#39;ll fix.  (Yeah, I&#39;ve posted  this before, but it was in a footnote to a tangentially-related question, and I found myself wanting to link to it.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570465654, "post_id": 58263207, "comment_id": 102913900, "body": "@Grinnz <code>print</code> is covered (&quot;Glob, when used as the operand for an operator expecting a file handle.&quot;) I&#39;ll add <code>sort</code>&#39;s operand."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570465813, "post_id": 58263207, "comment_id": 102913985, "body": "There&#39;s also the <code>${foo}</code> way of writing <code>$foo</code> (which is normally used in double-quote string literals, but works outside of them too). I&#39;ll add that too."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570468667, "post_id": 58263207, "comment_id": 102915221, "body": "@ikegami Another special case that you might consider, the unary <code>-</code> applied to a bareword will stringify it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570468965, "post_id": 58263207, "comment_id": 102915328, "body": "@Grinnz, yup, definitely a separate case. If it was just a bareword being &quot;negated&quot; (just like how the value of <code>$x</code> is &quot;negated&quot; in <code>perl -e&#39;use strict; my $x = &quot;foo&quot;; CORE::say -$x&#39;</code>), then the following would fail with a strict error: <code>perl -e&#39;use strict; my $x = -foo&#39;</code>. I&#39;m working on something else right now, but I&#39;ll update the answer later today or tomorrow. It requires a lot of testing to find out where everything falls!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1570473579, "post_id": 58263207, "comment_id": 102917227, "body": "@stevesliva, I think the <code>FOO</code> of <code>&lt;&lt;FOO</code> falls under syntactically-defined meaning. I&#39;ll add it as an example or as a separate item as appropriate. /// You mean like <code>=head</code>? That would be no different than <code>$foo</code>, which is the very first item on the list. I&#39;ve added it as an example."}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1570475556, "post_id": 58263207, "comment_id": 102918111, "body": "@ikegami - <code>here-doc</code> and <code>perlpod</code> (yes, <code>=head1</code> or <code>__END__</code> first) are just two situations where I&#39;ve found myself looking at what appear to be a bunch of barewords... which I suppose are simply specially quoted multiline strings.  Perhaps also the <i>phase</i> barewords like <code>BEGIN</code> and <code>END</code>, and maybe <i>label</i> words?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1570475660, "post_id": 58263207, "comment_id": 102918162, "body": "@stevesliva, <code>BEGIN { }</code> is just like <code>while (1) { }</code>, I can add it as an example."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1570478937, "post_id": 58263207, "comment_id": 102919453, "body": "@stevesliva, <code>FOO:</code> is a good one. I&#39;ll add both <code>FOO:</code> and <code>next FOO</code>. // Re &quot;&quot;<i>true bareword</i>&quot;, Not by Perl&#39;s definition. &quot;<i>A word that has no other interpretation in the grammar will be treated as if it were a quoted string. These are known as &quot;barewords&quot;.</i>&quot; And they are outlawed by <code>use strict qw( subs );</code>. <code>next FOO</code> falls into the &quot;has other interpretation&quot; category"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1570479292, "post_id": 58263207, "comment_id": 102919576, "body": "@stevesliva, I suspect that <code>__END__</code> is no different than other keywords, but I&#39;ll double-check."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570482971, "post_id": 58263207, "comment_id": 102920840, "body": "Note that BEGIN can also be written <code>sub BEGIN</code>, though it&#39;s not a regular subroutine. <code>END</code> and <code>__END__</code> are different (the former is akin to BEGIN, the latter is a special token similar to <code>__DATA__</code> that causes parsing to end)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570483203, "post_id": 58263207, "comment_id": 102920928, "body": "@Grinnz, <code>sub BEGIN { }</code> is syntactically no different than an ordinary sub decleration, so that&#39;s not relevant here. /// I know what <code>__END__</code> does :) Even if it has a compile-time effect, that doesn&#39;t make it special here. <code>use</code> and <code>my</code> also have compile-time effects, for example."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "edited": false, "score": 0, "creation_date": 1572794676, "post_id": 58263207, "comment_id": 103662802, "body": "@mosvy I&#39;ve updated the answer in response to your comments."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1572794680, "post_id": 58263207, "comment_id": 103662804, "body": "@Grinnz I&#39;ve updated the answer in response to your comments. altough I haven&#39;t incorporated <code>sort funcname LIST</code> yet. I&#39;m apprehensive about touching that!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1572794685, "post_id": 58263207, "comment_id": 103662807, "body": "@stevesliva I&#39;ve updated the answer in response to your comments. Turns out that labels were really interesting. <code>goto time;</code> tries to jump to <code>1572794637</code>, but <code>goto some_sub;</code> tries to jump to <code>some_sub</code>."}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1572876126, "post_id": 58263207, "comment_id": 103686594, "body": "That&#39;s bizarre. <code>goto eval &#39;some_sub&#39;</code> works but <code>goto some_sub</code> abends <code>Can&#39;t find label some_sub</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 1, "creation_date": 1572902564, "post_id": 58263207, "comment_id": 103698342, "body": "@stevesliva Yeah, that&#39;s what I was saying. <code>eval</code> in <code>goto eval &#39;some_sub&#39;</code> is taken as a operator (#6), but <code>some_sub</code> in <code>goto some_sub</code> is taken as a label (#7), not a sub call (#9)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 12, "last_activity_date": 1609796190, "last_edit_date": 1609796190, "creation_date": 1570419159, "answer_id": 58263207, "question_id": 58263206, "link": "https://stackoverflow.com/questions/58263206/how-does-perl-parse-unquoted-bare-words/58263207#58263207", "title": "How does Perl parse unquoted bare words?", "body": "<p>The following chart shows how Perl resolves identifiers in order of descending priority.</p>\n<p>It also applies to identifiers chained by <code>::</code> (which I'll call &quot;qualified identifiers&quot;) unless otherwise stated.</p>\n<ol>\n<li><p>Syntactically-defined meaning, when syntactically expected.</p>\n<pre><code> sub foo { }          # \u00abfoo\u00bb (\u00absub\u00bb is covered later)\n sub main::foo { }    # \u00abmain::foo\u00bb (\u00absub\u00bb is covered later)\n method Class         # \u00abClass\u00bb (\u00abmethod\u00bb is covered later)\n method Some::Class   # \u00abSome::Class\u00bb (\u00abmethod\u00bb is covered later)\n $foo\n $main::foo\n //i\n =head\n &lt;&lt;FOO\n Class::\n Some::Class::\n LABEL:\n</code></pre>\n</li>\n<li><p>String literal, when followed by a <code>=&gt;</code> or when the entirety of a hash index expression.</p>\n<p><em>This doesn't apply to qualified identifiers.</em></p>\n<pre><code> my %h = ( a =&gt; 1 );\n $h{a}\n</code></pre>\n</li>\n<li><p>Variable name, when the entirety of the dereference expression.</p>\n<pre><code> ${foo}\n ${main::foo}\n</code></pre>\n<p>Note that using the name of a keyword, named operator or declared sub will result in an <code>ambiguous use</code> warning.</p>\n</li>\n<li><p>Keyword.</p>\n<pre><code> while (1) { }\n sub { }\n use\n __END__\n</code></pre>\n</li>\n<li><p>Sub call, when the name of a previously imported sub.</p>\n<pre><code> use Time::HiRes qw( time );\n time\n main::time\n</code></pre>\n</li>\n<li><p>Invocation of a named list operator, named unary operator or named nullary operator.</p>\n<pre><code> print $x, $y, $z;\n $c = chr $i;\n $t = time;\n $t = CORE::time;\n</code></pre>\n</li>\n<li><p>Label, when used as the operand for <code>next</code>, <code>last</code>, <code>redo</code> or <code>goto</code>.</p>\n<p><em>Labels can't be qualified identifiers. Using one as an operands to these operators results in a compilation error.</em></p>\n<pre><code> next LABEL;\n</code></pre>\n</li>\n<li><p>Sub call or inlined constant, when the name of a previously declared sub or constant.</p>\n<pre><code> sub foo { }\n foo                          # Calls sub \u00abfoo\u00bb\n main::foo                    # Calls sub \u00abfoo\u00bb\n\n sub bar;\n bar                          # Calls sub \u00abbar\u00bb\n\n use constant FOO =&gt; 123;\n FOO                          # Replaced with the value of the constant.\n</code></pre>\n</li>\n<li><p>Indirect method call, when followed by a possibly-qualified identifier, a possibly-qualified identifier suffixed with <code>::</code>, a scalar (incl array element or hash element) or a block.</p>\n<pre><code> method Class           # Calls method \u00abmethod\u00bb (\u00abClass\u00bb is covered earlier)\n method Some::Class     # Calls method \u00abmethod\u00bb (\u00abSome::Class\u00bb is covered earlier)\n method Class::         # Calls method \u00abmethod\u00bb (\u00abClass\u00bb is covered earlier)\n method Some::Class::   # Calls method \u00abmethod\u00bb (\u00abSome::Class\u00bb is covered earlier)\n method $o              # Calls method \u00abmethod\u00bb\n method { $o }          # Calls method \u00abmethod\u00bb\n\n Base::method Class     # Calls method \u00abBase::method\u00bb (\u00abClass\u00bb is covered earlier)\n</code></pre>\n<p>You can use the <a href=\"https://metacpan.org/pod/indirect\" rel=\"nofollow noreferrer\"><code>no indirect</code></a> pragma to warn when code is parsed this way.</p>\n</li>\n<li><p>Glob, when used as the operand for an operator expecting a file handle.</p>\n<pre><code> open(FH, '&gt;', $qfn) or die $!;      # Equivalent to open(*FH, ...) or ...;\n print FH &quot;Hello, World!\\n&quot;;         # Equivalent to print *FH ...;\n print main::FH &quot;Hello, World!\\n&quot;;   # Equivalent to print *main::FH ...;\n</code></pre>\n</li>\n<li><p>String literal, in the following situations:</p>\n<ul>\n<li><p>When used as the invocant of a direct method call.</p>\n<pre><code>  Class-&gt;method(@args)         # Uses the string \u00abClass\u00bb as the invocant.\n  Some::Class-&gt;method(@args)   # Uses the string \u00abSome::Class\u00bb as the invocant.\n</code></pre>\n</li>\n<li><p>When used as the operand for unary minus.</p>\n<pre><code>  -foo\n  -foo::bar\n</code></pre>\n</li>\n<li><p>When used as an argument for the a sub parameter with a prototype of <code>*</code>.</p>\n<pre><code>  sub myprint(*@);\n  myprint(FH, &quot;Hello, World\\n&quot;);\n  myprint(main::FH, &quot;Hello, World\\n&quot;);\n</code></pre>\n</li>\n</ul>\n</li>\n<li><p>String literal. This is disallowed by <code>use strict qw( subs );</code>.</p>\n</li>\n</ol>\n<p>Hopefully, I didn't miss any.</p>\n<p>Thanks to @mosvy, @Grinnz and @stevesliva! Each has uncovered a few cases I had missed.</p>\n<hr />\n<p><strong>CURRENTLY MISSING</strong>:</p>\n<ul>\n<li><code>funcname</code> in <code>sort funcname</code>.</li>\n<li><code>BEGIN</code> and similar. They sometimes act as keyword, and sometimes as a declared sub.</li>\n</ul>\n"}], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 5, "accepted_answer_id": 58263207, "answer_count": 1, "score": 7, "last_activity_date": 1609796190, "creation_date": 1570419159, "question_id": 58263206, "link": "https://stackoverflow.com/questions/58263206/how-does-perl-parse-unquoted-bare-words", "title": "How does Perl parse unquoted bare words?", "body": "<p>Unquoted words seem to have a great many meanings in Perl.</p>\n\n<pre><code>print STDERR $msg;\n\n$hash{key}\n\nfunc( param =&gt; $arg )\n\nmy $x = str;\n</code></pre>\n\n<p>How does one determine the meaning of these?</p>\n"}, {"tags": ["facebook", "perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "edited": false, "score": 0, "creation_date": 1570419494, "post_id": 58263098, "comment_id": 102894645, "body": "Looking at the source, <code>$fb-&gt;get</code> simply returns <code>$fb</code>! Weird. Of course, you shouldn&#39;t count on that since it&#39;s not documented."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1570418151, "creation_date": 1570418151, "answer_id": 58263098, "question_id": 58263005, "link": "https://stackoverflow.com/questions/58263005/simple-perl-assistance-using-hash-values/58263098#58263098", "title": "simple perl assistance using hash values", "body": "<p>According to the documentation to which you linked, the proper usage is</p>\n\n<pre><code>my $data = $response&gt;as_hash;\n$data-&gt;{email}\n</code></pre>\n"}], "owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 58263098, "answer_count": 1, "score": 0, "last_activity_date": 1570418151, "creation_date": 1570417205, "last_edit_date": 1570417991, "question_id": 58263005, "link": "https://stackoverflow.com/questions/58263005/simple-perl-assistance-using-hash-values", "title": "simple perl assistance using hash values", "body": "<p>I'm very new to perl and am working with facebook authentication. This is the <a href=\"https://metacpan.org/pod/Net::Facebook::Oauth2\" rel=\"nofollow noreferrer\">cpan facebook library</a> </p>\n\n<p>In it, during the <code>callback</code> i have the following code:</p>\n\n<pre><code>my $info = $fb-&gt;get(\n    'https://graph.facebook.com/v3.1/me?fields=birthday,email,name,id'   # Facebook API URL\n);\n</code></pre>\n\n<p>This is the response from <code>$info-&gt;as_json</code>;</p>\n\n<pre><code>{\"email\":\"someemail\\u0040email.com\",\"name\":\"some user\",\"id\":\"fbid\"}\n</code></pre>\n\n<p>I've tried accessing the values using <code>$info-&gt;email</code> and <code>$info-&gt;{email}</code> and <code>$info-&gt;{'email'}</code> into my debugger but im getting null values. How do i obtain these values from the <code>$info</code> variable (hash?)</p>\n"}, {"tags": ["perl", "unicode", "utf-8"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570398680, "post_id": 58261482, "comment_id": 102891490, "body": "You are probably printing some non-utf8 data. Please check that the POST data is valid UTF8. See also <a href=\"https://metacpan.org/pod/Encode\" rel=\"nofollow noreferrer\">Encode</a>"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 0, "creation_date": 1570398705, "post_id": 58261482, "comment_id": 102891495, "body": "Would you please show us the code that opens the log file handle?"}, {"owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570398781, "post_id": 58261482, "comment_id": 102891510, "body": "@H&#229;konH&#230;gland - I don&#39;t know, because I cannot see what is coming. That is a reason why I am trying to print it to a log file. Is there a way how to safely print mixed data, <code>utf-8</code> and <code>non-uft-8</code> data?"}, {"owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "reply_to_user": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 0, "creation_date": 1570398838, "post_id": 58261482, "comment_id": 102891519, "body": "@GMB - <code>open LOG, &#39;&gt;&gt;&#39;, log_file;  binmode LOG, &#39;:utf8&#39;;</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570398847, "post_id": 58261482, "comment_id": 102891521, "body": "@\u2126mega You can open the log file with mode <code>:raw</code>, the you can print any data to it :)"}, {"owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570399002, "post_id": 58261482, "comment_id": 102891550, "body": "@H&#229;konH&#230;gland - <code>UTF-8 &quot;\\\\xFF&quot; does not map to Unicode at &#47;usr&#47;local&#47;share&#47;perl5&#47;CGI.pm line 1116.</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1570404748, "post_id": 58261482, "comment_id": 102892461, "body": "Tip: <code>:std</code> causes <code>binmode</code> to be used in STDIN, STDOUT and STDERR with the provided layer, so no need to call <code>binmode</code> explicity"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1570405112, "creation_date": 1570405112, "answer_id": 58262059, "question_id": 58261482, "link": "https://stackoverflow.com/questions/58261482/wide-characters-and-unicode-encoding/58262059#58262059", "title": "Wide characters and Unicode encoding", "body": "<pre><code>use open ':std', ':encoding(UTF-8)';\n</code></pre>\n\n<p>does the following:</p>\n\n<ul>\n<li><p>Causes subsequent uses of <code>open</code> in the same scope to add <code>:encoding(UTF-8)</code> if no layers are passed to <code>open</code>.</p></li>\n<li><p>Causes the following to be executed:</p>\n\n<pre><code>binmode(STDIN,  ':encoding(UTF-8)');\nbinmode(STDOUT, ':encoding(UTF-8)');\nbinmode(STDERR, ':encoding(UTF-8)');\n</code></pre></li>\n</ul>\n\n<p>The problem is that the STDIN shouldn't be decoded.</p>\n\n<p><strong>Solution #1</strong></p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\nBEGIN { binmode(STDIN); }\n</code></pre>\n\n<p><strong>Solution #2</strong></p>\n\n<pre><code>use open ':encoding(UTF-8)';\nBEGIN {\n   binmode(STDOUT, ':encoding(UTF-8)');\n   binmode(STDERR, ':encoding(UTF-8)');\n}\n</code></pre>\n"}], "owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570405112, "creation_date": 1570398339, "question_id": 58261482, "link": "https://stackoverflow.com/questions/58261482/wide-characters-and-unicode-encoding", "title": "Wide characters and Unicode encoding", "body": "<p>My <strong>Perl</strong> code prints some POST data to a log file.</p>\n\n<p>Sometimes I experience the following error:</p>\n\n<blockquote>\n  <p>Wide character in print at...</p>\n</blockquote>\n\n<p>I realized that there is some problem with <strong>encoding</strong>.\nSo I added the following lines: </p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\nbinmode STDOUT, ':utf8';\nbinmode STDERR, ':utf8';\n</code></pre>\n\n<p>However then the error changed to a different kind, with messages like this one:</p>\n\n<blockquote>\n  <p>\"\\xFF\" does not map to Unicode</p>\n</blockquote>\n\n<p>So what is a proper way to make it work?</p>\n"}, {"tags": ["arrays", "json", "perl", "hash"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1570384466, "post_id": 58259504, "comment_id": 102888420, "body": "Note: <code>from_json</code> (accepts decoded text) should be <code>decode_json</code> (accepts text encoded using UTF-8)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1570460268, "post_id": 58259504, "comment_id": 102911115, "body": "@ikegami Not necessarily, LWP::Simple uses decoded_content which may be decoded from UTF-8 already depending on the content-type header. To be consistent I&#39;d rather use content and decode_json of course, I wouldn&#39;t recommend LWP::Simple in general."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1570384429, "post_id": 58259701, "comment_id": 102888412, "body": "Note: This assumes the first record is the latest record."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1570384527, "post_id": 58259701, "comment_id": 102888434, "body": "Note: This assumes there&#39;s always at least one result."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1570383127, "creation_date": 1570383127, "answer_id": 58259701, "question_id": 58259504, "link": "https://stackoverflow.com/questions/58259504/perl-parse-json-with-array-inside/58259701#58259701", "title": "Perl parse json with array inside", "body": "<p><code>my $data2 = $fromjson-&gt;{'result'};</code> returns an array reference. You can learn about references in <a href=\"https://perldoc.perl.org/5.30.0/perlreftut.html\" rel=\"nofollow noreferrer\">Perl Reference Tutorial</a>.</p>\n\n<p>If you just want the first item in the results, first fetch the array ref.</p>\n\n<pre><code>my $results = $fromjson-&gt;{result};\n</code></pre>\n\n<p>Then the first result, which is a hash reference.</p>\n\n<pre><code>my $first_result = $results-&gt;[0];\n</code></pre>\n\n<p>And finally get the value of the <code>var1</code> key.</p>\n\n<pre><code>my $var1 = $first_result-&gt;{var1};\n</code></pre>\n\n<p>You can also chain this together, though it makes error handling harder.</p>\n\n<pre><code>my $var1 = $from_json-&gt;{result}[0]{var1};\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11202475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf2c6fbf29aa20ac5f3f9e7535970a74?s=128&d=identicon&r=PG&f=1", "display_name": "tony", "link": "https://stackoverflow.com/users/11202475/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570383127, "creation_date": 1570381506, "question_id": 58259504, "link": "https://stackoverflow.com/questions/58259504/perl-parse-json-with-array-inside", "title": "Perl parse json with array inside", "body": "<p>Hi I am new to perl and parsing json. Below is a json output from DB API.</p>\n\n<pre><code>\n{\n  \"limit\": 50,\n  \"page\": 1,\n  \"result\": [\n    {\n      \"var1\": \"var1_1\",\n      \"var2\": \"var2_1\",\n      \"created_at\": \"2019-10-06T15:52:37.705950+00:00\",\n      \"id\": 2,\n      \"updated_at\": \"2019-10-06T15:52:37.705950+00:00\",\n      \"var3\": \"var3_1\"\n    },\n    {\n      \"var1\": \"var1_2\",\n      \"var2\": \"var2_2\",\n      \"created_at\": \"2019-10-06T14:17:35.951395+00:00\",\n      \"id\": 1,\n      \"updated_at\": \"2019-10-06T14:17:35.951395+00:00\",\n      \"var3\": \"var3_1\"\n      }\n    ],\n  \"success\": true,\n  \"total_results\": 2\n}\n\n</code></pre>\n\n<p>How to get var1 from latest ID (here 2).?</p>\n\n<p>I tried like this below.</p>\n\n<pre><code>    use LWP::Simple;\n    $contents = get($db_url);\n    print \"$contents\\n\";  # print the above output\n    my $fromjson = from_json($contents);\n    my $data1 = $fromjson-&gt;{'limit'};\n    print \"$data1\"; # print properly 50\n    my $data2 = $fromjson-&gt;{'result'};\n    my $data1 = to_json($data2);\n    my $data_var1=$data1-&gt;{'var1'}; # Tried like this but not getting proper output\n</code></pre>\n\n<p>Kindly help I tried different ways but not getting through.</p>\n"}, {"tags": ["perl", "asynchronous", "cgi", "system", "external"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570381040, "post_id": 58259145, "comment_id": 102887519, "body": "It sounds like an association problem. You need to fix the file association, or not rely on a file association (e.g. by using <code>system(&quot;start perl C:&#47;path&#47;to&#47;script&#47;test2.pl&quot;);</code>, possibly with the full path to <code>perl.exe</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": false, "score": -1, "last_activity_date": 1570381525, "last_edit_date": 1570381525, "creation_date": 1570380961, "answer_id": 58259435, "question_id": 58259145, "link": "https://stackoverflow.com/questions/58259145/how-to-call-asynchronous-perl-script-from-cgi-file-using-system/58259435#58259435", "title": "How to call asynchronous Perl script from CGI file using system()", "body": "<p>You can stay in the semantics of the environment (cgi/web) and make script2 it's own CGI script, which you then then fire an async http request to in script1.\nYou could use <code>HTTP::Async</code> for this. But then you must take care script2 cannot be called from the outside, e.g. by checking the client ip.</p>\n\n<p>Also, since this is a cgi, script1 can potentially run multiple times in parallel, same goes then for script2, however you end up calling it. So you must make sure you don't mess things up when that happens.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570384594, "post_id": 58259495, "comment_id": 102888452, "body": "<code>start foo</code> is to <code>cmd</code> what <code>foo &amp;</code> is to <code>sh</code>. The <code>start</code> still needs to be included because the OP doesn&#39;t want to wait for the child to end."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570384632, "post_id": 58259495, "comment_id": 102888463, "body": "I wouldn&#39;t recommend <code>fork</code> on a Windows machine."}, {"owner": {"reputation": 33, "user_id": 2056234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e376f53e201e5e3c358b136b396c5e1e?s=128&d=identicon&r=PG", "display_name": "Derek N", "link": "https://stackoverflow.com/users/2056234/derek-n"}, "edited": false, "score": 0, "creation_date": 1570384876, "post_id": 58259495, "comment_id": 102888542, "body": "This does not work as I described above - the CGI script waits for the test2.pl to complete before returning. This needs to run in the background. The CGI script should not be waiting for test2.pl to finish. Thank you for the input. I did at least get it to run, although not how I need it to."}, {"owner": {"reputation": 33, "user_id": 2056234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e376f53e201e5e3c358b136b396c5e1e?s=128&d=identicon&r=PG", "display_name": "Derek N", "link": "https://stackoverflow.com/users/2056234/derek-n"}, "edited": false, "score": 0, "creation_date": 1570387449, "post_id": 58259495, "comment_id": 102889195, "body": "I currently have <code>system(&#39;start C:&#47;path&#47;to&#47;perl&#47;perl.exe C:&#47;path&#47;to&#47;script&#47;test2.pl&#39;)</code> in place, but it is causing the browser to still wait until test2.pl is complete before returning. I&#39;m not sure what you mean by &quot;not having an association set up between .pl files and perl executable&quot;...my web server is configured to handle any .cgi or .pl files using interpreter at C:/path/to/perl/perl.exe. I don&#39;t know what else this could entail?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570388647, "post_id": 58259495, "comment_id": 102889498, "body": "Re &quot;<i>but it is causing the browser to still wait until test2.pl is complete</i>&quot;, That&#39;s a problem unrelated to the one you asked about. Ask a new question."}, {"owner": {"reputation": 33, "user_id": 2056234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e376f53e201e5e3c358b136b396c5e1e?s=128&d=identicon&r=PG", "display_name": "Derek N", "link": "https://stackoverflow.com/users/2056234/derek-n"}, "edited": false, "score": 0, "creation_date": 1570390493, "post_id": 58259495, "comment_id": 102889914, "body": "Incorrect and not helpful at all. Please re-read the original post. Quote: &quot;...but I cannot have test1.pl waiting for test2.pl to complete before continuing. So, test2.pl should be started by test1.pl and continue running...&quot;"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1570381415, "creation_date": 1570381415, "answer_id": 58259495, "question_id": 58259145, "link": "https://stackoverflow.com/questions/58259145/how-to-call-asynchronous-perl-script-from-cgi-file-using-system/58259495#58259495", "title": "How to call asynchronous Perl script from CGI file using system()", "body": "<p><code>start C:/path/to/script/test2.pl</code> relies on having an association set up between .pl files and your perl executable. You might have that set up on your user, but the web server might not.</p>\n\n<p>You could set that up. Or you can not use <code>start</code> and instead pass your program to <code>perl</code> directly. How exactly you do this depends on how your Perl is installed and your web server is set up. You might be able to just use <code>perl.exe</code>.</p>\n\n<pre><code>system('perl.exe C:/path/to/script/test2.pl');\n</code></pre>\n\n<p>Or you might have to pass the full path.</p>\n\n<pre><code>system('C:/path/to/perl.exe C:/path/to/script/test2.pl');\n</code></pre>\n\n<p>See <a href=\"https://ss64.com/nt/start.html\" rel=\"nofollow noreferrer\">the documentation for <code>start</code></a> for more detail.</p>\n\n<hr>\n\n<p>Note that running Perl programs from Perl programs is less than ideal. There's numerous hard to debug things which can go wrong once you start passing data and checking for errors.</p>\n\n<p>Instead consider making that code a subroutine and using <code>fork</code> or <code>threads</code> to run it in the background. Or better yet, use a web framework such as <a href=\"http://perldancer.org/\" rel=\"nofollow noreferrer\">Dancer</a> and <a href=\"http://advent.perldancer.org/2018/16\" rel=\"nofollow noreferrer\">link it</a> to a job queue like <a href=\"https://metacpan.org/pod/Minion\" rel=\"nofollow noreferrer\">Minion</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 2056234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e376f53e201e5e3c358b136b396c5e1e?s=128&d=identicon&r=PG", "display_name": "Derek N", "link": "https://stackoverflow.com/users/2056234/derek-n"}, "is_accepted": true, "score": 1, "last_activity_date": 1570419576, "creation_date": 1570419576, "answer_id": 58263242, "question_id": 58259145, "link": "https://stackoverflow.com/questions/58259145/how-to-call-asynchronous-perl-script-from-cgi-file-using-system/58263242#58263242", "title": "How to call asynchronous Perl script from CGI file using system()", "body": "<p>Finally figured it out (as usual, on my own). Turns out Schwern, you were on the right track. Even though the .pl file association was established through control panel to open with Perl Command Line Interpreter, there was a problem with a windows file type association (blahblahblah that I don't even fully understand). I finally found the answer to the TRUE problem here: <a href=\"https://stackoverflow.com/questions/34505601/perl-not-running-in-windows-10\">Perl not running in Windows 10</a></p>\n\n<p>In particular, this part here:</p>\n\n<blockquote>\n\nYou must create a file association between the .pl file extension and the Perl runtime.\n\nAt a command prompt type the following.\n\n<pre><code>assoc .pl=PerlScript\nftype PerlScript=c:\\perl\\bin\\perl.exe %1 %*\n</code></pre>\n\n\n</blockquote>\n\n<p>I hope that this helps SOMEONE down the road who might be encountering this same problem.</p>\n"}], "owner": {"reputation": 33, "user_id": 2056234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e376f53e201e5e3c358b136b396c5e1e?s=128&d=identicon&r=PG", "display_name": "Derek N", "link": "https://stackoverflow.com/users/2056234/derek-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 58263242, "answer_count": 3, "score": 2, "last_activity_date": 1570419576, "creation_date": 1570378900, "question_id": 58259145, "link": "https://stackoverflow.com/questions/58259145/how-to-call-asynchronous-perl-script-from-cgi-file-using-system", "title": "How to call asynchronous Perl script from CGI file using system()", "body": "<p>Let me preface my question by saying that I HAVE read numerous different posts on SO as well as web searches and have been unable to find anything that fits my exact situation.</p>\n\n<p>The problem is quite simple, actually. I have a CGI script (Perl) serving up dynamic pages on web server, and when a user loads a certain page, I want to have the CGI script call a .pl file using <code>system()</code> to do some \"housekeeping\". This is running in a Windows NT environment.</p>\n\n<p>The CGI script for testing purposes is <strong>test1.pl</strong> or <strong>test1.cgi</strong>, e.g. \"<a href=\"https://www.awebsite.com/test1.pl\" rel=\"nofollow noreferrer\">https://www.awebsite.com/test1.pl</a>\".</p>\n\n<p><strong>test1.pl</strong> (cgi script that generates web pages)</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Content-type: text/html\\n\\n\";\n\nprint \"Hello user, this is a test page.\";\n\nsystem(\"start C:/path/to/script/test2.pl\");\n\nprint \"Page is fully loaded and housekeeping is being done, even though this page is now fully loaded\";\n</code></pre>\n\n<p><strong>test2.pl</strong> (separate .pl file that is doing \"housekeeping\", asynchronously from what test1.pl is doing)</p>\n\n<pre><code>#!/usr/bin/perl\n\n#just a counter that takes a while to complete, to verify test2.pl is running\nfor ($x=0; $x &lt;= 100000; $x++){print \"$x \";}\n</code></pre>\n\n<p>Ok, so keep in mind this is for testing operations, not functionality. When running test1.pl from command line, it works fine. </p>\n\n<p>When running test1.pl from a browser, this keeps prompting \"openWith.exe\" on the server (viewed in Task Manager). My .pl files are executable, so it's not a matter of an unknown file type or not knowing to run with Perl command line interpreter. I cannot figure out what is going on here and why it will not run the system command from test1.pl when called through web interface.</p>\n\n<p>There are NO parameters being passed from user input. test1.pl simply needs to run test2.pl to do some housekeeping, but I cannot have test1.pl waiting for test2.pl to complete before continuing. So, test2.pl should be started by test1.pl and continue running - meanwhile, test1.pl has already finished doing its thing. I do <strong>not</strong> need or want to capture any output from test2.pl .</p>\n\n<p>I hope I have explained this clearly. I have used simple examples, even though the actual code will be much more complex. At this point, it's not even running these simple example scripts so the actual functioning code is not important at this time.</p>\n\n<p>Thank you to anyone who can help me. By the way, I tried setting \"full control\" permissions for test1.pl and this didn't help. Again, this \"openwith.exe\" is really throwing me for a loop here.</p>\n"}, {"tags": ["linux", "perl", "terminal", "root", "verilator"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1570305405, "post_id": 58250790, "comment_id": 102873966, "body": "You should file a bug report against verilator. <code>make test</code> should just work. Multiple users should not be experiencing problems. It is the maintainer&#39;s responsibility to ensure that happens."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12169551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7196b0fca46fc73c62e66f10be9044af?s=128&d=identicon&r=PG&f=1", "display_name": "nmrich", "link": "https://stackoverflow.com/users/12169551/nmrich"}, "edited": false, "score": 0, "creation_date": 1570307480, "post_id": 58251825, "comment_id": 102874362, "body": "Hey thanks, I tried following this and changing it to verilator-4.018/bin/verilator but the issue persists..."}, {"owner": {"reputation": 23, "user_id": 12169551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7196b0fca46fc73c62e66f10be9044af?s=128&d=identicon&r=PG&f=1", "display_name": "nmrich", "link": "https://stackoverflow.com/users/12169551/nmrich"}, "edited": false, "score": 0, "creation_date": 1570313155, "post_id": 58251825, "comment_id": 102875520, "body": "Desktop/verilator-4.018/test_regress/driver.pl. Line 782 &quot;{VERILATOR_ROOT}verilator-4.018/bin/verilator&quot;,  Screenshot: <a href=\"https://i.imgur.com/tyBTEAq.png\" rel=\"nofollow noreferrer\">i.imgur.com/tyBTEAq.png</a>"}, {"owner": {"reputation": 4790, "user_id": 4491743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aXCqO.jpg?s=128&g=1", "display_name": "Knud Larsen", "link": "https://stackoverflow.com/users/4491743/knud-larsen"}, "reply_to_user": {"reputation": 23, "user_id": 12169551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7196b0fca46fc73c62e66f10be9044af?s=128&d=identicon&r=PG&f=1", "display_name": "nmrich", "link": "https://stackoverflow.com/users/12169551/nmrich"}, "edited": false, "score": 0, "creation_date": 1570313295, "post_id": 58251825, "comment_id": 102875552, "body": "Please read my answer : It must be <code>my @cmdargs = (&quot;perl&quot;, &quot;$ENV{VERILATOR_ROOT}..&#47;bin&#47;verilator&quot;,</code> .... I.e. the two periods is &quot;one level up&quot;."}, {"owner": {"reputation": 23, "user_id": 12169551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7196b0fca46fc73c62e66f10be9044af?s=128&d=identicon&r=PG&f=1", "display_name": "nmrich", "link": "https://stackoverflow.com/users/12169551/nmrich"}, "edited": false, "score": 0, "creation_date": 1570319939, "post_id": 58251825, "comment_id": 102876520, "body": "Yes that solved it! I got confused thinking the &quot;..&quot; symbolized going &#39;out&#39; one directory. Thanks so much!"}], "tags": [], "owner": {"reputation": 4790, "user_id": 4491743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aXCqO.jpg?s=128&g=1", "display_name": "Knud Larsen", "link": "https://stackoverflow.com/users/4491743/knud-larsen"}, "is_accepted": true, "score": 1, "last_activity_date": 1570314229, "last_edit_date": 1570314229, "creation_date": 1570305148, "answer_id": 58251825, "question_id": 58250790, "link": "https://stackoverflow.com/questions/58250790/cant-open-perl-script-bin-verilator-during-make-test/58251825#58251825", "title": "Can&#39;t open perl script &quot;/bin/verilator&quot; during &#39;make test&#39;", "body": "<p>There is no /bin/verilator ... there is <code>bin/verilator</code>. But it's more tricky than that : The tests are done with <code>test_regress/driver.pl</code>, so \"bin/verilator\" is one level up.</p>\n\n<p>Edit <code>test_regress/driver.pl</code>, line 782 to</p>\n\n<pre><code>   my @cmdargs = (\"perl\", \"$ENV{VERILATOR_ROOT}../bin/verilator\",\n</code></pre>\n\n<p>... and the firsts tests can be run.</p>\n\n<p>More bugs : \"smoke-test\" fails : Will use a file from the install destination. Please do <code># make install</code> ... and the next tests can also be run.</p>\n\n<p>Test result \u2192 <code>make-test__result.txt</code> <a href=\"https://www.dropbox.com/s/tebcqj7bl5dkzx8/make-test__result.txt?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/tebcqj7bl5dkzx8/make-test__result.txt?dl=0</a></p>\n\n<p>Please notice the SYSTEMC settings. <code>verilator</code> was built with <code>$ export SYSTEMC_INCLUDE=/usr/local/include/ &amp;&amp; export SYSTEMC_LIBDIR=/usr/local/lib-linux64 &amp;&amp; ./configure &amp;&amp; make</code></p>\n\n<p>SYSTEMC is required for the tests to pass. See <code>verilator/README</code></p>\n"}], "owner": {"reputation": 23, "user_id": 12169551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7196b0fca46fc73c62e66f10be9044af?s=128&d=identicon&r=PG&f=1", "display_name": "nmrich", "link": "https://stackoverflow.com/users/12169551/nmrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 58251825, "answer_count": 1, "score": 1, "last_activity_date": 1570314229, "creation_date": 1570297140, "last_edit_date": 1570305283, "question_id": 58250790, "link": "https://stackoverflow.com/questions/58250790/cant-open-perl-script-bin-verilator-during-make-test", "title": "Can&#39;t open perl script &quot;/bin/verilator&quot; during &#39;make test&#39;", "body": "<p>I'm following a tutorial to install a program on an RHEL environment and I've overcome some errors up until this point. I'm at the end of the installation process, attempting to confirm the validity through \"make test\", which returns the following error:</p>\n\n<pre><code>[user@localhost verilator-4.018]$ make test\nCan't open perl script \"/bin/verilator\": No such file or directory\n...\n[Makefile:228: smoke-test] Error 10\n</code></pre>\n\n<p>I first checked to see if there was a verilator-4.018/bin/verilator file, which there was.</p>\n\n<p>I then tried researching the error online and got a single result, where a user stated the issue could be solved by \"Setting VERILATOR_ROOT to the root of your checkout\", but I'm not too sure how to interpret this since I'm a beginner.</p>\n\n<p>I tried setting as root:</p>\n\n<pre><code>[root@localhost verilator-4.018]# make test\n</code></pre>\n\n<p>But got the same error messages.</p>\n\n<p>Also, please let me know how I can rephrase the title to make it more specific. I thought it was difficult to be specific about a question where I need interpretation help.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "edited": false, "score": 0, "creation_date": 1570279546, "post_id": 58248359, "comment_id": 102867590, "body": "I assume the regex pattern <code>[\\da-f]{32}</code> is understood as <code>[\\\\da-f]{32}</code> instead of <code>[0-9a-f]{32}</code>"}, {"owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "edited": false, "score": 0, "creation_date": 1570280651, "post_id": 58248359, "comment_id": 102867851, "body": "@ikegami - Based on <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=86894\" rel=\"nofollow noreferrer\">rt.cpan.org/Public/Bug/Display.html?id=86894</a> <i>(bug report)</i> I see you have some experience with this module and similar error. Why this module doesn&#39;t accept standard Perl regex pattern?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1570296133, "post_id": 58248359, "comment_id": 102871672, "body": "Why? Lasziness :) I suspect the author will be open to a patch to support this feature. After all, S::R already supports <code>\\d</code> outside of character classes. Note that <code>\\d</code> is defined <code>[0-9]</code> there (unlike in Perl, where it matches 580 different characters). Also, that doesn&#39;t mean you should use <code>(?:\\d|[a-f])</code> instead of <code>[0-9a-f]</code> because that will probably have a different frequency distribution."}], "answers": [{"tags": [], "owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "is_accepted": false, "score": 1, "last_activity_date": 1570281468, "creation_date": 1570281468, "answer_id": 58248664, "question_id": 58248359, "link": "https://stackoverflow.com/questions/58248359/warning-will-be-treated-literally-inside/58248664#58248664", "title": "Warning: &#39;\\\\&#39; will be treated literally inside []", "body": "<p>From the docs for String::Random::randregex:</p>\n\n<blockquote>\n  <p>Please note that the arguments to randregex are not real regular\n  expressions. Only a small subset of regular expression syntax is\n  actually supported .... Currently special characters inside [] are not\n  supported.</p>\n</blockquote>\n\n<p>So perhaps replace \\d with 0-9</p>\n"}, {"comments": [{"owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "edited": false, "score": 0, "creation_date": 1570300004, "post_id": 58250621, "comment_id": 102872692, "body": "<b>Perfect!</b>. I won&#39;t accept this answer because it doesn&#39;t answer the question of this post, however your solution solves my problem. Thank you."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1570296038, "last_edit_date": 1570296038, "creation_date": 1570295728, "answer_id": 58250621, "question_id": 58248359, "link": "https://stackoverflow.com/questions/58248359/warning-will-be-treated-literally-inside/58250621#58250621", "title": "Warning: &#39;\\\\&#39; will be treated literally inside []", "body": "<p>Another solution is to avoid String::Random entirely. The already-used <code>irand</code> returns 32 bit integers, so you could use the following:</p>\n\n<pre><code>my $c = unpack 'H*', pack 'L*', map irand, 1..4;\n</code></pre>\n\n<p>As a bonus, I imagine this solution will be faster.</p>\n"}], "owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1570296038, "creation_date": 1570279060, "question_id": 58248359, "link": "https://stackoverflow.com/questions/58248359/warning-will-be-treated-literally-inside", "title": "Warning: &#39;\\\\&#39; will be treated literally inside []", "body": "<p>My <strong>Perl</strong> code contains the following lines:</p>\n\n<pre><code>use Math::Random::Secure qw /irand/;\nuse String::Random;\n\n$c = String::Random-&gt;new(rand_gen =&gt; sub {return irand($_[0]);})-&gt;randregex('[\\da-f]{32}');\n</code></pre>\n\n<p>And I am experiencing the following <strong>warning</strong> message:</p>\n\n<blockquote>\n  <p>'\\\\' will be treated literally inside []</p>\n</blockquote>\n\n<p>What that means and what I am doing wrong?</p>\n"}, {"tags": ["perl", "mp3"], "answers": [{"tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": true, "score": 2, "last_activity_date": 1570889036, "last_edit_date": 1570889036, "creation_date": 1570288428, "answer_id": 58249631, "question_id": 58248252, "link": "https://stackoverflow.com/questions/58248252/perl-trim-mp3-file/58249631#58249631", "title": "Perl trim MP3 file", "body": "<p>There are two modules on CPAN. <code>MP3::Splitter</code> and <code>MP3::Cut::Gapless</code>, both of which contain C-code and currently do not compile under Windows. Not totally the fault of Windows mind you, <code>MP3::Splitter</code> doesn't seem to work anywhere with recent Perls. It fails because of a broken dependency (<code>MPEG::Audio::Frame</code>), I'm looking into that, maybe I can find a fix.</p>\n\n<p>In the meantime, if you use Windows 10, you can give the Linux Subsystem for Windows (WSL) a try and run your script from there.</p>\n\n<pre><code>use MP3::Cut::Gapless;\n\nmy $cut = MP3::Cut::Gapless-&gt;new(\n    file      =&gt; 'input.mp3',\n    start_ms  =&gt; 140000,\n    end_ms    =&gt; 170000,\n);\n\nopen my $out, '&gt;', 'output.mp3' or die \"Can't write MP3\";\n\nwhile ( $cut-&gt;read( my $buf, 4096 ) ) {\n    syswrite $out, $buf;\n}\n\nclose $out;\n</code></pre>\n\n<p>Or you can install a lightweight tool named <a href=\"https://ffmpeg.org/download.html#build-windows\" rel=\"nofollow noreferrer\">ffmpeg</a> and shell out to that</p>\n\n<pre><code>`ffmpeg -ss 00:02:20 -t 00:00:30 -i input.mp3 output.mp3`\n</code></pre>\n\n<p>Ok, here is an <strong>update</strong>. </p>\n\n<p>I looked into the problem with <code>MPEG::Audio::Frame</code> and it's <strong>just the tests that are failing</strong>\u00b9!  </p>\n\n<p>That means, you can force install <code>MPEG::Audio::Frame</code> first, then do a regular install of <code>MP3::Splitter</code>. Then you can run this script</p>\n\n<pre><code>use MP3::Splitter;\nmp3split('yourfile.mp3', {verbose =&gt; 1}, [140, 30]);\n</code></pre>\n\n<p>You will then find your new file \"01_yourfile.mp3\" in the same directory as the input file. That's a clunky interface but at least it works. </p>\n\n<p>\u00b9I contacted the author. The problem is that the tests read their data from <strong>DATA</strong>, but the author did not use <code>binmode</code>. So under Windows that DATA gets read as text and shit goes awry.</p>\n\n<p><strong>Final update</strong></p>\n\n<p>I managed to get maintainership of <code>MPEG::Audio::Frame</code> and fixed the bug. The new version 0.10 is now on CPAN. Hence, with this fix, <code>MP3::Splitter</code> will install fine everywhere.</p>\n"}], "owner": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 58249631, "answer_count": 1, "score": 1, "last_activity_date": 1570889036, "creation_date": 1570278315, "question_id": 58248252, "link": "https://stackoverflow.com/questions/58248252/perl-trim-mp3-file", "title": "Perl trim MP3 file", "body": "<p>How to Trim MP3 file selectively from start time to end time. For example if I have 4 minutes mp3 file and I need to trim the sound of the file only between the second 140 to the second 170. If pure Perl module or a module that installs on Windows.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "is_accepted": true, "score": 2, "last_activity_date": 1570245427, "last_edit_date": 1570245427, "creation_date": 1570244705, "answer_id": 58245012, "question_id": 58244985, "link": "https://stackoverflow.com/questions/58244985/how-to-fix-problem-when-find-all-text-matches-regular-expression-in-perl/58245012#58245012", "title": "How to fix problem when find all text matches regular expression in perl?", "body": "<p>You're getting <code>Agustus</code> in the output because of the month alternation <code>(Januari|...|Desember)</code> which is a capturing group. To remove it, just make your internal alternation non-capturing i.e. </p>\n\n<pre><code>(?:Januari|Februari|Maret|April|Mei|Juni|Juli|Agustus|September|Oktober|November|Desember)\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 11888510, "user_type": "registered", "profile_image": "https://graph.facebook.com/2325388120909072/picture?type=large", "display_name": "Fairuz Yassar", "link": "https://stackoverflow.com/users/11888510/fairuz-yassar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 58245012, "answer_count": 1, "score": 0, "last_activity_date": 1570577279, "creation_date": 1570244135, "last_edit_date": 1570577279, "question_id": 58244985, "link": "https://stackoverflow.com/questions/58244985/how-to-fix-problem-when-find-all-text-matches-regular-expression-in-perl", "title": "How to fix problem when find all text matches regular expression in perl?", "body": "<p>I want to get all text match with date regex on given string but i don't get expected result</p>\n\n<p>i have string like this \"Lomba lari akan diadakan pada tanggal 15 Agustus 2019\"</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>@dates2 = $line =~ m/(\\d{1,2}\\s(Januari|Februari|Maret|April|Mei|Juni|Juli|Agustus|September|Oktober|November|Desember)\\s\\d{4})/g;\n    $length2 = @dates2;\n    print \"@dates2\\n\";\n    print \"Length 2 : $length2\\n\";\n    $date_occurence += $length2;\n</code></pre>\n\n<p>i want to get only \"15 Agustus 2019\" in array dates2 but i got \"15 Agustus 2019\" and \"Agustus\". Anyone can tell me how match regex code work ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1570242512, "post_id": 58244859, "comment_id": 102861740, "body": "You&#39;re missing a comma - <code>$name, $age</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1570242557, "post_id": 58244859, "comment_id": 102861745, "body": "Did you really try it in 5.14 and 5.16? Both say <i>Use of comma-less variable list is deprecated</i>. So yeah, the missing comma has been deprecated since 5.12. Add it, and I suspect it&#39;ll work with 5.28"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1570242766, "post_id": 58244859, "comment_id": 102861763, "body": "Also I think it should be <code>$~ = &#39;EMPLOYEE&#39;;</code>. And of course <code>use strict; use warnings;</code> is your friend."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1570291677, "post_id": 58244859, "comment_id": 102870492, "body": "I recommend <a href=\"http://perl-tutorial.org/rejected/\" rel=\"nofollow noreferrer\">not using this tutorial</a>."}], "answers": [{"tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": true, "score": 3, "last_activity_date": 1570242686, "creation_date": 1570242686, "answer_id": 58244895, "question_id": 58244859, "link": "https://stackoverflow.com/questions/58244859/tutorialspoint-com-perl-formats-scalar-found-where-operator-expected/58244895#58244895", "title": "Tutorialspoint.com: Perl - Formats: Scalar found where operator expected", "body": "<p>The removal here was in the comma-less variable list, which triggers a warning a far back as 5.14.</p>\n\n<blockquote>\n  <p>Use of comma-less variable list is deprecated at  line 6.</p>\n</blockquote>\n\n<p>Adding a comma makes it work in 5.26,</p>\n\n<pre><code>format EMPLOYEE =\n===================================\n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; @&lt;&lt; \n$name, $age\n@#####.##\n$salary\n===================================\n.\n</code></pre>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 58244895, "answer_count": 1, "score": 2, "last_activity_date": 1570250752, "creation_date": 1570242064, "last_edit_date": 1570250752, "question_id": 58244859, "link": "https://stackoverflow.com/questions/58244859/tutorialspoint-com-perl-formats-scalar-found-where-operator-expected", "title": "Tutorialspoint.com: Perl - Formats: Scalar found where operator expected", "body": "<p>According to <a href=\"https://www.tutorialspoint.com/perl/perl_formats.htm\" rel=\"nofollow noreferrer\">this tutorial</a> this should work.</p>\n\n<p>I've tested this in 5.14 (and 5.16) and it seems to work. This does not work in 5.28. However it seems in <code>perldoc perlform</code> they're still documented as working.</p>\n\n<pre><code>#!/usr/bin/perl\n\nformat EMPLOYEE =\n===================================\n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; @&lt;&lt; \n$name $age\n@#####.##\n$salary\n===================================\n.\n\nselect(STDOUT);\n$~ = EMPLOYEE;\n\n@n = (\"Ali\", \"Raza\", \"Jaffer\");\n@a  = (20,30, 40);\n@s = (2000.00, 2500.00, 4000.000);\n\n$i = 0;\nforeach (@n) {\n   $name = $_;\n   $age = $a[$i];\n   $salary = $s[$i++];\n   write;\n}\n</code></pre>\n\n<p>On 5.28, I get</p>\n\n<pre><code>Scalar found where operator expected at ./test.pl line 6, near \"$name $age\"\n        (Missing operator before $age?)\nsyntax error at ./test.pl line 6, near \"$name $age\"\nExecution of ./test.pl aborted due to compilation errors.\n</code></pre>\n\n<p>On which version was this featured modified? Was this a documented change in Perl?</p>\n"}, {"tags": ["postgresql", "perl", "authentication"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1570197167, "post_id": 58237114, "comment_id": 102848345, "body": "If you have the latest DBD::Pg, you should probably file a bug report."}, {"owner": {"reputation": 19, "user_id": 5986547, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153977044357888/picture?type=large", "display_name": "Joycel ", "link": "https://stackoverflow.com/users/5986547/joycel"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1570197838, "post_id": 58237114, "comment_id": 102848682, "body": "@choroba makes sense lol"}, {"owner": {"reputation": 5144, "user_id": 12115778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oC38b.jpg?s=128&g=1", "display_name": "richyen", "link": "https://stackoverflow.com/users/12115778/richyen"}, "edited": false, "score": 0, "creation_date": 1570210331, "post_id": 58237114, "comment_id": 102854084, "body": "@Joycel can you share some of your <code>pg_hba.conf</code> and the subroutine you are using to call <code>DBI-&gt;connect</code>?"}, {"owner": {"reputation": 19, "user_id": 5986547, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153977044357888/picture?type=large", "display_name": "Joycel ", "link": "https://stackoverflow.com/users/5986547/joycel"}, "edited": false, "score": 1, "creation_date": 1570216144, "post_id": 58237114, "comment_id": 102856186, "body": "Issue resolved for my case had to download latest lib files from pg v.12, install them in the C:\\Strawberry\\c\\bin, then run the following commands in the directory:pexports libpq.dll &gt; libpq.def dlltool -dllname libpq.dll --def libpq.def --output-lib ..\\lib\\libpq.a                           the files are the following: libiconv-2.dll libcrypto-1_1-x64.dll libpq.dll libssl-1_1-x64.dll libintl-8.dll"}], "owner": {"reputation": 19, "user_id": 5986547, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153977044357888/picture?type=large", "display_name": "Joycel ", "link": "https://stackoverflow.com/users/5986547/joycel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1570215881, "creation_date": 1570194563, "last_edit_date": 1570215881, "question_id": 58237114, "link": "https://stackoverflow.com/questions/58237114/perl-sha-256-authentication-for-postgres", "title": "Perl sha-256 authentication for Postgres", "body": "<p>Im using the Perl module DBD::pg to connect to Postgres</p>\n\n<p>DBI connect('dbname=db;host=host;port=5432','user',...) failed: authentication method 10 not supported</p>\n\n<pre><code>#connect to database\nmy $dbh = DBI-&gt;connect(\"dbi:Pg:dbname=$dbname;host=$host;port=$port\",\n                    $username,\n                    $password\n                   );\n</code></pre>\n"}, {"tags": ["regex", "perl", "recursion"], "comments": [{"owner": {"reputation": 414, "user_id": 10443339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c070d86c7cd0c0e39d5089c80a4388?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik4", "link": "https://stackoverflow.com/users/10443339/henrik4"}, "edited": false, "score": 0, "creation_date": 1570189955, "post_id": 58235834, "comment_id": 102844710, "body": "@toolic That&#39;s to avoid collapsing escape, right? But I have doubled the \\ as you can see so..."}], "answers": [{"comments": [{"owner": {"reputation": 414, "user_id": 10443339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c070d86c7cd0c0e39d5089c80a4388?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik4", "link": "https://stackoverflow.com/users/10443339/henrik4"}, "edited": false, "score": 0, "creation_date": 1570196488, "post_id": 58237025, "comment_id": 102847984, "body": "Thanks for this valuable contribution. I didn&#39;t know about this DEFINE stuff. I&#39;ve got some questions: Does the regex end with /x and incorporate the whole DEFINE section? Does /x mean extension? Is white space not significant? What does \\z mean? You have a + at the end of &lt;sum&gt; and &lt;product&gt;, what does it mean? You can&#39;t combine + and * like that because it violates precedence: 1*2+3*4 will then be parsed at the first * which is wrong."}, {"owner": {"reputation": 414, "user_id": 10443339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c070d86c7cd0c0e39d5089c80a4388?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik4", "link": "https://stackoverflow.com/users/10443339/henrik4"}, "edited": false, "score": 0, "creation_date": 1570197002, "post_id": 58237025, "comment_id": 102848247, "body": "You&#39;re probably right about the ^ at the start of my regex and $ at the end, but if I drop them, how do I match the whole string and not just a part of it? My string matches if I drop them but then even A(1+2)*(3+4)B matches!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 414, "user_id": 10443339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c070d86c7cd0c0e39d5089c80a4388?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik4", "link": "https://stackoverflow.com/users/10443339/henrik4"}, "edited": false, "score": 0, "creation_date": 1570208341, "post_id": 58237025, "comment_id": 102853316, "body": "Re &quot;<i>Does the regex end with <code>&#47;x</code> and incorporate the whole DEFINE section? Does <code>&#47;x</code> mean extension? Is white space not significant?</i>&quot; <code>&#47;x</code> makes whitespace insignificant in the entire pattern except in character classes (<code>[]</code>) and when escaped. See <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 414, "user_id": 10443339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c070d86c7cd0c0e39d5089c80a4388?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik4", "link": "https://stackoverflow.com/users/10443339/henrik4"}, "edited": false, "score": 0, "creation_date": 1570208367, "post_id": 58237025, "comment_id": 102853330, "body": "Re &quot;<i>What does <code>\\z</code> mean?</i>&quot;, End of string. (<code>$</code> does not mean end of string.)  See <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 414, "user_id": 10443339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c070d86c7cd0c0e39d5089c80a4388?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik4", "link": "https://stackoverflow.com/users/10443339/henrik4"}, "edited": false, "score": 0, "creation_date": 1570208466, "post_id": 58237025, "comment_id": 102853365, "body": "Re &quot;<i>You have a + at the end of &lt;sum&gt; and &lt;product&gt;</i>&quot;, An optimization. Prevents the <code>*</code> is modifies from attempting to match fewer times during backtracking. See <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 414, "user_id": 10443339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c070d86c7cd0c0e39d5089c80a4388?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik4", "link": "https://stackoverflow.com/users/10443339/henrik4"}, "edited": false, "score": 0, "creation_date": 1570208859, "post_id": 58237025, "comment_id": 102853491, "body": "Re &quot;<i>You can&#39;t combine + and * like that because it violates precedence</i>&quot;, Precedence only matters when parsing (which you aren&#39;t doing). It doesn&#39;t matter if <code>1*2+3*4</code> means <code>(1*2)+(3*4)</code> or <code>((1*2)+3)*4</code> when you&#39;re only checking if <code>1*2+3*4</code> is legal (which you are doing)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 414, "user_id": 10443339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c070d86c7cd0c0e39d5089c80a4388?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik4", "link": "https://stackoverflow.com/users/10443339/henrik4"}, "edited": false, "score": 0, "creation_date": 1570208864, "post_id": 58237025, "comment_id": 102853492, "body": "Re &quot;<i>if I drop them, how do I match the whole string and not just a part of it?</i>&quot;, Who said anything about dropping <code>^</code> and <code>$</code>? (Well, ok, I dropped <code>$</code> in favour of the more appropriate <code>\\z</code>, but you get the point.) They&#39;re not the problem. The problem is that you recursed the entire pattern instead of the correct part. I showed a solution."}, {"owner": {"reputation": 414, "user_id": 10443339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c070d86c7cd0c0e39d5089c80a4388?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik4", "link": "https://stackoverflow.com/users/10443339/henrik4"}, "edited": false, "score": 0, "creation_date": 1570211294, "post_id": 58237025, "comment_id": 102854466, "body": "Appreciate the info :). But hey, I am capturing quite a lot of things! And I could easily capture more by inserting more brackets. So the parsing is important. I know I recursed the whole pattern, but how does one recurse just a part? (?R) recurses the whole regex it&#39;s part of. Your solution is nice but how do I change my code minimally to solve this problem with ^ and $   ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 414, "user_id": 10443339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c070d86c7cd0c0e39d5089c80a4388?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik4", "link": "https://stackoverflow.com/users/10443339/henrik4"}, "edited": false, "score": 0, "creation_date": 1570212414, "post_id": 58237025, "comment_id": 102854904, "body": "No, You can&#39;t easily capture more. You could capture at most one atom, etc. This approach won&#39;t work if you want to parse. I made a couple of recommendations in my post if you do want to parse. /// To recurse just a part, you can specify a capture to recurse (see perlre for details), or you can use the approach I used in my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1570194529, "last_edit_date": 1570194529, "creation_date": 1570194221, "answer_id": 58237025, "question_id": 58235834, "link": "https://stackoverflow.com/questions/58235834/regular-expression-with-recursion-in-perl/58237025#58237025", "title": "regular expression with recursion in Perl", "body": "<p>When you recurse, the <code>^</code> at the start of the pattern will fail to match.</p>\n\n<p>Use <code>(?(DEFINE)...)</code> to define the rules instead of using <code>(?R)</code>.</p>\n\n<pre><code>'(1+2)*(3+4)' =~ /\n   ^ (?&amp;expr) \\z\n\n   (?(DEFINE)\n      # Rules.\n      (?&lt;expr&gt;    (?&amp;sum)                            )\n      (?&lt;sum&gt;     (?&amp;product) (?: \\+ (?&amp;product) )*+ )\n      (?&lt;product&gt; (?&amp;atom)    (?: \\* (?&amp;atom)    )*+ )\n      (?&lt;atom&gt;    (?&amp;NUMBER) | \\( (?&amp;expr) \\)        )\n\n      # Tokens.\n      (?&lt;NUMBER&gt; \\d++ )\n   )\n/x\n   or die(\"Doesn't match.\\n\");\n</code></pre>\n\n<p>which simplifies to</p>\n\n<pre><code>'(1+2)*(3+4)' =~ /\n   ^ (?&amp;expr) \\z\n\n   (?(DEFINE)\n      # Rules.\n      (?&lt;expr&gt;      (?&amp;binary_op)                  )\n      (?&lt;binary_op&gt; (?&amp;atom) (?: [+*] (?&amp;atom) )*+ )\n      (?&lt;atom&gt;      (?&amp;NUMBER) | \\( (?&amp;expr) \\)    )\n\n      # Tokens.\n      (?&lt;NUMBER&gt; \\d++ )\n   )\n/x\n   or die(\"Doesn't match.\\n\");\n</code></pre>\n\n<p>That's assuming you're only trying to check for validity rather than trying to parse the string. If you need to parse the string, you can build a parser using Parse::RecDescent or Marpa::R2.</p>\n"}, {"tags": [], "owner": {"reputation": 414, "user_id": 10443339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c070d86c7cd0c0e39d5089c80a4388?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik4", "link": "https://stackoverflow.com/users/10443339/henrik4"}, "is_accepted": false, "score": 1, "last_activity_date": 1570214003, "creation_date": 1570214003, "answer_id": 58241588, "question_id": 58235834, "link": "https://stackoverflow.com/questions/58235834/regular-expression-with-recursion-in-perl/58241588#58241588", "title": "regular expression with recursion in Perl", "body": "<p>ikegami's workaround above with the DEFINE stuff is beautiful, but it doesn't answer the question how to do it my way. A minimal change of my code to make it work? ikegami is right, the cause of no match is the ^ in /^$expr$/ . When the parser reenters the regex recursively it again checks for beginning of string, which fails. So I cannot have ^ and $ in the regex it seems. Without them my string matches. But then some invalid strings match too, like A(1+2)*(3+4)B . In the absence of ^ and $ it doesn't necessarily match the whole string. Problem. </p>\n\n<p>ikegami suggested a solution to this in a comment above. I'll just write it out. I have tested it and it works:</p>\n\n<pre><code>$number = '\\d+';\n$atom = \"($number|\\\\((?1)\\\\))\";\n$product = \"$atom(\\\\*$atom)*\";\n$sum = \"$product(\\\\+$product)*\";\n$expr = $sum;\nif ('(1+2)*(3+4)' =~ /^($expr)$/)\n{\n    print \"OK\";\n}\n</code></pre>\n\n<p>Notice that I now have (?1) instead of (?R) and that I have enclosed $expr in brackets. (?1) refers to the first capture group, which is ($expr). So the recursion reenters this subex instead of the whole regex. ^ is not met again. That solves it.</p>\n"}], "owner": {"reputation": 414, "user_id": 10443339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c070d86c7cd0c0e39d5089c80a4388?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik4", "link": "https://stackoverflow.com/users/10443339/henrik4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1570214003, "creation_date": 1570189618, "question_id": 58235834, "link": "https://stackoverflow.com/questions/58235834/regular-expression-with-recursion-in-perl", "title": "regular expression with recursion in Perl", "body": "<p>I'm trying to use this but can't make it work. I want to check the syntax of expressions like this: (1+2)*(3+4)</p>\n\n<p>I have integers, +, * and brackets. That's it, but it can be nested to any depth. </p>\n\n<p>In BNF syntax the expr can be described like this:</p>\n\n<pre><code>expr\n&lt;sum&gt;\nsum\n&lt;product&gt;{+&lt;product&gt;}\nproduct\n&lt;atom&gt;{*&lt;atom&gt;}\natom\n&lt;number&gt;|(&lt;expr&gt;)\nnumber\n&lt;digit&gt;{&lt;digit&gt;}\n</code></pre>\n\n<p>I tried to translate this to Perl like this:</p>\n\n<pre><code>$number = '\\d+';\n$atom = \"($number|\\\\((?R)\\\\))\";\n$product = \"$atom(\\\\*$atom)*\";\n$sum = \"$product(\\\\+$product)*\";\n$expr = $sum;\nif ('(1+2)*(3+4)' =~ /^$expr$/)\n{\n    print \"OK\";\n}\n</code></pre>\n\n<p>But it doesn't match! What am I doing wrong?</p>\n"}, {"tags": ["python", "shell", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570182487, "post_id": 58233681, "comment_id": 102841092, "body": "See also <a href=\"https://stackoverflow.com/q/9574198/2173773\">Comparing two Unicode strings with perl</a> and <a href=\"https://www.effectiveperlprogramming.com/2011/06/treat-unicode-strings-as-grapheme-clusters/\" rel=\"nofollow noreferrer\">Treat Unicode strings as grapheme clusters</a>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1570182782, "post_id": 58233681, "comment_id": 102841270, "body": "Could you explain how you want to count the difference?"}, {"owner": {"reputation": 123, "user_id": 9203347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770c3354f54049f50894b5b5dfec245f?s=128&d=identicon&r=PG&f=1", "display_name": "Amol", "link": "https://stackoverflow.com/users/9203347/amol"}, "edited": false, "score": 0, "creation_date": 1570182934, "post_id": 58233681, "comment_id": 102841367, "body": "for above example &quot;\u0905\u0915\u094d\u0924\u0942\u092c\u0930, \u0905\u0915\u094d\u200d\u091f\u0942\u092c\u0930&quot; difference only on one place so expected output is 1 (Difference count)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570183972, "post_id": 58233681, "comment_id": 102841907, "body": "See also <a href=\"https://metacpan.org/pod/release/UGEXE/Text-Levenshtein-XS-0.503/lib/Text/Levenshtein/XS.pm\" rel=\"nofollow noreferrer\">Text::Levenshtein::XS</a>"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1570185276, "post_id": 58233681, "comment_id": 102842580, "body": "I couldn&#39;t find an edit distance module that operates on lists, that would be ideal to solve this task."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1570191081, "post_id": 58233681, "comment_id": 102845239, "body": "@daxim, <a href=\"http://search.cpan.org/perldoc?Algorithm::Diff\" rel=\"nofollow noreferrer\">Algorithm::Diff</a>. See my answer for details."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 9203347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770c3354f54049f50894b5b5dfec245f?s=128&d=identicon&r=PG&f=1", "display_name": "Amol", "link": "https://stackoverflow.com/users/9203347/amol"}, "edited": false, "score": 0, "creation_date": 1570185993, "post_id": 58234662, "comment_id": 102842942, "body": "failed for &quot;\u0915\u0902\u0921\u093f\u0936\u0902\u0938 \u0915\u0902\u0921\u0940\u0936\u0928&quot;, giving result 25.0% similarity, 75.0% difference"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123, "user_id": 9203347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770c3354f54049f50894b5b5dfec245f?s=128&d=identicon&r=PG&f=1", "display_name": "Amol", "link": "https://stackoverflow.com/users/9203347/amol"}, "edited": false, "score": 0, "creation_date": 1570186577, "post_id": 58234662, "comment_id": 102843230, "body": "@Amol, <a href=\"https://pastebin.com/mcZbwtzS\" rel=\"nofollow noreferrer\">The contents of the string in detail.</a> What were you expecting and why?"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1570186686, "post_id": 58234662, "comment_id": 102843285, "body": "Failed how? \u0915\u0902 = \u0915\u0902, \u0921\u093f \u2260 \u0921\u0940, \u0936\u0902 \u2260 \u0936, \u0938 \u2260 \u0928  one out of four is 25%"}, {"owner": {"reputation": 123, "user_id": 9203347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770c3354f54049f50894b5b5dfec245f?s=128&d=identicon&r=PG&f=1", "display_name": "Amol", "link": "https://stackoverflow.com/users/9203347/amol"}, "edited": false, "score": 0, "creation_date": 1570188342, "post_id": 58234662, "comment_id": 102844017, "body": "My purpose is correct words which is wrongly written."}, {"owner": {"reputation": 123, "user_id": 9203347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770c3354f54049f50894b5b5dfec245f?s=128&d=identicon&r=PG&f=1", "display_name": "Amol", "link": "https://stackoverflow.com/users/9203347/amol"}, "edited": false, "score": 0, "creation_date": 1570189251, "post_id": 58234662, "comment_id": 102844418, "body": "My intention is first count the difference of two words and if differences is either 1 or 2 then move such words to new file and correct it"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123, "user_id": 9203347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770c3354f54049f50894b5b5dfec245f?s=128&d=identicon&r=PG&f=1", "display_name": "Amol", "link": "https://stackoverflow.com/users/9203347/amol"}, "edited": false, "score": 1, "creation_date": 1570190219, "post_id": 58234662, "comment_id": 102844838, "body": "@Amol, That still doesn&#39;t explain why you said &quot;failed for &quot;\u0915\u0902\u0921\u093f\u0936\u0902\u0938 \u0915\u0902\u0921\u0940\u0936\u0928&quot;&quot;, which has <a href=\"https://pastebin.com/wg8Vc3Ct\" rel=\"nofollow noreferrer\">3 differences</a>. (You need to include <code>@ikegami</code> for me to get notified, since I didn&#39;t write the post to which you are replying.)"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 1, "last_activity_date": 1570185135, "creation_date": 1570185135, "answer_id": 58234662, "question_id": 58233681, "link": "https://stackoverflow.com/questions/58233681/devnagari-string-comparison/58234662#58234662", "title": "Devnagari String comparison", "body": "<pre><code>use utf8;\nuse List::Util qw(sum max);\nuse List::SomeUtils qw(pairwise);\n\nsub norm { $_[0] =~ s/\\pC//gr =~ /\\X/g }\nfor my $pair (\n    [qw(\u0905\u0915\u094d\u0924\u0942\u092c\u0930 \u0905\u0915\u094d\u200d\u091f\u0942\u092c\u0930)],\n    [qw(\u0915\u094c\u092e \u0915\u093c\u094c\u092e)],\n) {\n    my @e0 = norm $pair-&gt;[0];\n    my @e1 = norm $pair-&gt;[1];\n    my $equal = sum pairwise { $a eq $b } @e0, @e1;\n    my $max = max scalar(@e0), scalar(@e1);\n    my $similarity = $equal / $max;\n    printf \"%.1f%% similarity, %.1f%% difference\\n\",\n        100 * $similarity,\n        100 * (1 - $similarity);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1570216427, "last_edit_date": 1570216427, "creation_date": 1570187826, "answer_id": 58235383, "question_id": 58233681, "link": "https://stackoverflow.com/questions/58233681/devnagari-string-comparison/58235383#58235383", "title": "Devnagari String comparison", "body": "<p>You appear to want to compare <em>grapheme clusters</em>.</p>\n\n<blockquote>\n  <p>A grapheme cluster represents a horizontally segmentable unit of text, consisting of some grapheme base (which may consist of a Korean syllable) together with any number of nonspacing marks applied to it.</p>\n</blockquote>\n\n<p>That's just a \"fancy\" way of that each grapheme cluster is a \"visual character\".</p>\n\n<p>Let's confirm. The following program allows us to look at your string, divided into grapheme clusters.</p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\n\nuse charnames qw( :full );\n\nfor my $arg_idx (0..$#ARGV) {\n   my $arg = $ARGV[$arg_idx];\n\n   utf8::decode($arg);\n\n   for my $grapheme_cluster ($arg =~ /\\X/g) {\n      printf(\"%s %v04X\\n\", $grapheme_cluster, $grapheme_cluster);\n      for my $code_point (unpack('W*', $grapheme_cluster)) {\n         printf(\"   %04X %s\\n\", $code_point, charnames::viacode($code_point));\n      }\n   }\n\n   print(\"\\n\") if $arg_idx != $#ARGV;\n}\n</code></pre>\n\n<p>For the one of your set of strings, we get</p>\n\n<pre><code>$ grapheme_clusters \u0915\u093c\u094c\u092e              $ grapheme_clusters \u0915\u093c\u094c\u092e           \n\u0915\u094c 0915.094C                         \u0915\u093c\u094c 0915.093C.094C                 \n   0915 DEVANAGARI LETTER KA            0915 DEVANAGARI LETTER KA       \n                                        093C DEVANAGARI SIGN NUKTA      \n   094C DEVANAGARI VOWEL SIGN AU        094C DEVANAGARI VOWEL SIGN AU   \n\u092e 092E                               \u092e 092E                             \n   092E DEVANAGARI LETTER MA            092E DEVANAGARI LETTER MA       \n</code></pre>\n\n<p>So far so good; this produces a single difference as expected.</p>\n\n<p>For the other set of strings, we get</p>\n\n<pre><code>$ grapheme_clusters \u0905\u0915\u094d\u0924\u0942\u092c\u0930            $ grapheme_clusters \u0905\u0915\u094d\u200d\u091f\u0942\u092c\u0930\n\u0905 0905                               \u0905 0905         \n   0905 DEVANAGARI LETTER A             0905 DEVANAGARI LETTER A\n\u0915\u094d 0915.094D                          \u0915\u094d\u200d 0915.094D.200D\n   0915 DEVANAGARI LETTER KA            0915 DEVANAGARI LETTER KA\n   094D DEVANAGARI SIGN VIRAMA          094D DEVANAGARI SIGN VIRAMA\n                                        200D ZERO WIDTH JOINER\n\u0924\u0942 0924.0942                          \u091f\u0942 091F.0942\n   0924 DEVANAGARI LETTER TA            091F DEVANAGARI LETTER TTA\n   0942 DEVANAGARI VOWEL SIGN UU        0942 DEVANAGARI VOWEL SIGN UU\n\u092c 092C                               \u092c 092C           \n   092C DEVANAGARI LETTER BA            092C DEVANAGARI LETTER BA\n\u0930 0930                               \u0930 0930\n   0930 DEVANAGARI LETTER RA            0930 DEVANAGARI LETTER RA       \n</code></pre>\n\n<p>Ah, there's an unexpected <code>ZERO WIDTH JOINER</code> in there. If we were to remove it (e.g. using <code>s/\\N{ZERO WIDTH JOINER}//g</code>, or by removing all control character using <code>s/\\pC//g</code>), we'd get the expected single difference.</p>\n\n<hr>\n\n<p>Now that we've established what's needed, we can code a solution.</p>\n\n<pre><code>use List::Util qw( max );\n\nsub count_diffs {\n   my ($s1, $s2) = @_;\n\n   s/\\N{ZERO WIDTH JOINER}//g for $s1, $s2;\n\n   my @s1 = $s1 =~ /\\X/g;\n   my @s2 = $s2 =~ /\\X/g;\n\n   no warnings qw( uninitialized );\n   return 0+grep { $s1[$_] ne $s2[$_] } 0..max(0+@s1, 0+@s2)-1;\n}\n</code></pre>\n\n<p>A major problem with this approach is that it doesn't handle insertions or deletions very well. For example, it considers <code>abcdef</code> and <code>bcdef</code> to have 6 differences. It would be much more effective to calculate the <a href=\"https://en.wikipedia.org/wiki/Levenshtein_distance\" rel=\"nofollow noreferrer\">Levenshtein distance</a> of the sequence of clusters instead of comparing by index.</p>\n\n<pre><code>use Algorithm::Diff qw( traverse_balanced );\n\nsub count_diffs {\n   my ($s1, $s2) = @_;\n\n   s/\\N{ZERO WIDTH JOINER}//g for $s1, $s2;\n\n   my @s1 = $s1 =~ /\\X/g;\n   my @s2 = $s2 =~ /\\X/g;\n\n   my $diffs = 0;\n   traverse_balanced(\\@s1, \\@s2,\n      {\n         DISCARD_A =&gt; sub { ++$diffs; },\n         DISCARD_B =&gt; sub { ++$diffs; },\n         CHANGE    =&gt; sub { ++$diffs; },\n      },\n   );\n\n   return $diffs;\n}\n</code></pre>\n\n<p>Finally, for performance reasons, you don't want to compare only two strings at a time; you want to compare each string against every other string at once. I don't know of a readily usable solution for this.</p>\n"}], "owner": {"reputation": 123, "user_id": 9203347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770c3354f54049f50894b5b5dfec245f?s=128&d=identicon&r=PG&f=1", "display_name": "Amol", "link": "https://stackoverflow.com/users/9203347/amol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 58235383, "answer_count": 2, "score": 2, "last_activity_date": 1570216427, "creation_date": 1570181694, "last_edit_date": 1570196138, "question_id": 58233681, "link": "https://stackoverflow.com/questions/58233681/devnagari-string-comparison", "title": "Devnagari String comparison", "body": "<p>I have several hundreds of thousand of devnagari words in text file (one word per line). I have to copy most similar word like \"\u0905\u0915\u094d\u0924\u0942\u092c\u0930, \u0905\u0915\u094d\u200d\u091f\u0942\u092c\u0930\" \"\u0915\u094c\u092e, \u0915\u093c\u094c\u092e\" in another file for correction. Maximum two place difference is allowed for copy. For that I used \"awk\" for find the difference of words and copy similar words to another file. But its failed, because this command works with only roman character not with devnagari character.</p>\n\n<pre><code>awk -v string=\u0915\u094c\u092e -v string1=\u0915\u093c\u094c\u092e '{ for (i=1;i&lt;=length(string);i++) { if (substr(string,i,1) != substr(string1,i,1)) { count++ } }} END { print (count/length(string)*100\"% difference\") }' &lt;&lt;&lt; \"\"\n</code></pre>\n\n<p>66.6667% difference</p>\n\n<p>The above percentages is wrong, because above two words having very rear difference and expected difference should be between 5-10%.</p>\n\n<p>Can you suggest me what to do in this case?</p>\n\n<p>python, perl, shell anything is accepted.</p>\n"}, {"tags": ["bash", "perl", "search", "str-replace"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "edited": false, "score": 0, "creation_date": 1570180462, "post_id": 58233231, "comment_id": 102840145, "body": "I tried that.  I added a line of code that automated the substitution.    sed_custom_prompt=$(&lt;&lt;&lt;&quot;$custom_prompt&quot; sed &#39;s/\\\\/\\\\\\\\/g&#39;) same as you but that didn&#39;t work."}, {"owner": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "edited": false, "score": 0, "creation_date": 1570181662, "post_id": 58233231, "comment_id": 102840672, "body": "OK I will try that tomorrow (it is late here)."}, {"owner": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "edited": false, "score": 0, "creation_date": 1570183873, "post_id": 58233231, "comment_id": 102841857, "body": "Your code almost works.  I edited the question to show the problem.  I can&#39;t figure out how to write &#39; rather than &quot; to the file."}, {"owner": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "edited": false, "score": 0, "creation_date": 1570219209, "post_id": 58233231, "comment_id": 102857257, "body": "I get the right string replacement but it has PS1 = &quot; string &quot; instead of PS1 =  &#39; string &#39;  . I can&#39;t figure out how to end up with &#39; &#39; rather than &quot; &quot;."}, {"owner": {"reputation": 2660, "user_id": 8382929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb63c4676da4621466f8c12e590b644?s=128&d=identicon&r=PG&f=1", "display_name": "Bayou", "link": "https://stackoverflow.com/users/8382929/bayou"}, "reply_to_user": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "edited": false, "score": 0, "creation_date": 1570276693, "post_id": 58233231, "comment_id": 102866989, "body": "@dazz that was quite easy, you only had to change <code>\\&quot;</code> for <code>&#39;</code> in the last regex. I&#39;ve fixed it for you."}, {"owner": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "edited": false, "score": 0, "creation_date": 1570385482, "post_id": 58233231, "comment_id": 102888704, "body": "OK. I thought that would have the effect o escaping the $ variable but it works. Thanks."}, {"owner": {"reputation": 2660, "user_id": 8382929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb63c4676da4621466f8c12e590b644?s=128&d=identicon&r=PG&f=1", "display_name": "Bayou", "link": "https://stackoverflow.com/users/8382929/bayou"}, "reply_to_user": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "edited": false, "score": 0, "creation_date": 1570435696, "post_id": 58233231, "comment_id": 102898893, "body": "Within a string: only if the most outer quotes are single, no variables are parsed. Of course it&#39;s different if you have <code>echo &quot;test $(echo &#39;$var&#39;)&quot;, since </code>$()` is a new shell."}], "tags": [], "owner": {"reputation": 2660, "user_id": 8382929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb63c4676da4621466f8c12e590b644?s=128&d=identicon&r=PG&f=1", "display_name": "Bayou", "link": "https://stackoverflow.com/users/8382929/bayou"}, "is_accepted": true, "score": 0, "last_activity_date": 1570276646, "last_edit_date": 1570276646, "creation_date": 1570179985, "answer_id": 58233231, "question_id": 58233049, "link": "https://stackoverflow.com/questions/58233049/search-sub-string-then-replace-line-in-a-file-without-regex/58233231#58233231", "title": "Search sub string then Replace Line in a file without regex", "body": "<p>You should escape every <code>\\</code> to make sure they aren't lost. </p>\n\n<p>EDIT: The PS1 string should be wrapped with double quotes as well.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>\n$ custom_prompt=\"\\[\\e[36m\\]\\h\\[\\e[m\\]\\[\\e[33m\\]@\\[\\e[m\\]\\[\\e[33m\\]\\u\\[\\e[m\\]:\\[\\e[32m\\]\\W\\[\\e[m\\]&gt;\\\\$ \"\n$ sed_custom_prompt=$(&lt;&lt;&lt;\"$custom_prompt\" sed 's/\\\\/\\\\\\\\/g')\n$ sed -i \"s/PS1=.*/PS1=\\\"$sed_custom_prompt\\\"/\" testrc\n$ source testrc\nlaptop@user:~&gt;$\n</code></pre>\n\n<p>The following code works on my laptop. The problem was in last <code>\\</code> character in the string of your <code>PS1</code> variable (I removed it):</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#! /bin/bash\ncustom_prompt='${debian_chroot:+($debian_chroot)}\\[\\e[36;40m\\]\\u\\[\\e[m\\]\\[\\e[93m\\]@\\[\\e[m\\]\\[\\e[36m\\]\\h\\[\\e[m\\]:\\[\\e[92m\\]\\w\\[\\e[m\\]\\[\\e[92m\\]\\\\$\\[\\e[m\\]\\[\\e[93m\\]&gt;\\[\\e[m\\] '\n\n### Setup Bash Prompt\n# replace each \\ for double \\\\ in the prompt string\nsed_custom_prompt=$(&lt;&lt;&lt;\"$custom_prompt\" sed 's/\\\\/\\\\\\\\/g')\n\n# add this to  /etc/bashrc for global effect\nsed -i  \"s/PS1=.*/PS1='$sed_custom_prompt'/\" testrc\n\nexit 0\n</code></pre>\n\n<p>p.s. I personally like to add the time to the PS1 so I know how long ago a command is exited. Also, you can immediately time stuff if you add it (<code>\\D{%H}:\\D{%M}</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1570183359, "creation_date": 1570183359, "answer_id": 58234186, "question_id": 58233049, "link": "https://stackoverflow.com/questions/58233049/search-sub-string-then-replace-line-in-a-file-without-regex/58234186#58234186", "title": "Search sub string then Replace Line in a file without regex", "body": "<p>Try this:</p>\n\n<pre><code>replace='PS1=\"\\[\\e[36m\\]\\h\\[\\e[m\\]\\[\\e[33m\\]@\\[\\e[m\\]\\[\\e[33m\\]\\u\\[\\e[m\\]:\\[\\e[32m\\]\\W\\[\\e[m\\]&gt;\\\\$ \"'\nperl -i -spe 's/^PS1=.*$/$repl/' -- -repl=\"$replace\" -- /etc/bash.bashrc\n</code></pre>\n\n<p>Note: Maybe remove the <code>-i</code> (in-place edit) in the first run to check if it works.</p>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "edited": false, "score": 1, "creation_date": 1570385759, "post_id": 58238345, "comment_id": 102888773, "body": "Thanks for you input.  The reason I didn&#39;t choose this as an answer is maintainability.  If anyone came back to the config file, they would scan down the file until they found the line they were looking for, and edit that.  They might not get to the end of the file to see the overwrite line."}], "tags": [], "owner": {"reputation": 878, "user_id": 9202256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EmkFi.png?s=128&g=1", "display_name": "Shmuel", "link": "https://stackoverflow.com/users/9202256/shmuel"}, "is_accepted": false, "score": 1, "last_activity_date": 1570199324, "creation_date": 1570199324, "answer_id": 58238345, "question_id": 58233049, "link": "https://stackoverflow.com/questions/58233049/search-sub-string-then-replace-line-in-a-file-without-regex/58238345#58238345", "title": "Search sub string then Replace Line in a file without regex", "body": "<p>Instead of writing scripts to replace the existing <code>PS1</code> jest overwrite it it's much simpler.</p>\n\n<pre><code>echo PS1=\"This is my prompt\" &gt;&gt; /etc/bash.bashrc\n</code></pre>\n\n<p>This wil append the new PS1 to the end of the file and since this in the end it will overwrite the default PS1 initialization. </p>\n"}], "owner": {"reputation": 97, "user_id": 7750367, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/okbkt.jpg?s=128&g=1", "display_name": "dazz", "link": "https://stackoverflow.com/users/7750367/dazz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 58233231, "answer_count": 3, "score": 0, "last_activity_date": 1570616164, "creation_date": 1570179361, "last_edit_date": 1570616164, "question_id": 58233049, "link": "https://stackoverflow.com/questions/58233049/search-sub-string-then-replace-line-in-a-file-without-regex", "title": "Search sub string then Replace Line in a file without regex", "body": "<p>I want to run a script to search the /etc/bash.bashrc file for the substring </p>\n\n<pre><code>PS1=\n</code></pre>\n\n<p>and replace the entire line with:</p>\n\n<pre><code> PS1='\\[\\e[36m\\]\\h\\[\\e[m\\]\\[\\e[33m\\]@\\[\\e[m\\]\\[\\e[33m\\]\\u\\[\\e[m\\]:\\[\\e[32m\\]\\W\\[\\e[m\\]&gt;\\\\$ '\n</code></pre>\n\n<p>This new line is intended to change the cli prompt.  </p>\n\n<p>I have tried and tried sed in a bash script but I couldn't get the regex right.</p>\n\n<p>[Edit] This code now works:</p>\n\n<pre><code>#!/bin/bash\n\ncustom_prompt='${debian_chroot:+($debian_chroot)}\\[\\e[36;40m\\]\\u\\[\\e[m\\]\\[\\e[93m\\]@\\[\\e[m\\]\\[\\e[36m\\]\\h\\[\\e[m\\]:\\[\\e[92m\\]\\w\\[\\e[m\\]\\[\\e[92m\\]\\\\$\\[\\e[m\\]\\[\\e[93m\\]&gt;\\[\\e[m\\]\\'\n\n### Setup Bash Prompt\n# replace each \\ for double \\\\ in the prompt string\nsed_custom_prompt=$(&lt;&lt;&lt;\"$custom_prompt\" sed 's/\\\\/\\\\\\\\/g')\n\n# add this to  /etc/bashrc for global effect\nsed  -i \"s/PS1=.*/PS1=\\\"$sed_custom_prompt\\\"/\" testrc\n</code></pre>\n\n<p>The only problem is that it does <code>PS1= \" string \"</code>\nrather than  <code>PS1 = ' string '</code> with back tics.</p>\n\n<p>I need a simple old fashioned non-regex script that finds a string and replaces a line in a file.  Regex can find the string but my original statement messed up the substitution.</p>\n\n<p>I don't care if it is perl, awk or bash.  I just need something that works.</p>\n"}, {"tags": ["perl", "url", "urlencode"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570169397, "post_id": 58230779, "comment_id": 102835612, "body": "Have you tried to install the module?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1570170129, "post_id": 58230779, "comment_id": 102835842, "body": "Try <code>cpan URL::Encode</code>, see <a href=\"https://perlmaven.com/how-to-install-a-perl-module-from-cpan#dwimperl\" rel=\"nofollow noreferrer\">Installing a Perl Module from CPAN</a>"}, {"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 1, "creation_date": 1570181629, "post_id": 58230779, "comment_id": 102840658, "body": "The error message in your post title (<code>Undefined subroutine &amp;URL</code>) is different from the error message in your posting."}, {"owner": {"reputation": 57, "user_id": 11239317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z12VbfX2Mbw/AAAAAAAAAAI/AAAAAAAAAGc/oLw9QB6vu2E/photo.jpg?sz=128", "display_name": "impika", "link": "https://stackoverflow.com/users/11239317/impika"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570187928, "post_id": 58230779, "comment_id": 102843849, "body": "@H&#229;kon H&#230;gland Its working now, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 11239317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z12VbfX2Mbw/AAAAAAAAAAI/AAAAAAAAAGc/oLw9QB6vu2E/photo.jpg?sz=128", "display_name": "impika", "link": "https://stackoverflow.com/users/11239317/impika"}, "edited": false, "score": 0, "creation_date": 1570187976, "post_id": 58232641, "comment_id": 102843875, "body": "I installed the module using &quot;cpan URL::Encode&quot; and its working"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1570188084, "last_edit_date": 1570188084, "creation_date": 1570177896, "answer_id": 58232641, "question_id": 58230779, "link": "https://stackoverflow.com/questions/58230779/undefined-subroutine-url/58232641#58232641", "title": "Undefined subroutine &amp;URL", "body": "<ol>\n<li><p>The code you posted doesn't result in the error you are getting. Your program surely has <code>use URL::Encode;</code> or similar.</p></li>\n<li><p>There's no point in adding a path to <code>@INC</code> that's already in <code>@INC</code>, so your solution is useless.</p></li>\n<li><p>The correct fix is to install the missing modules.</p></li>\n<li><p>You're using an older version of Perl. You might want to consider upgrading. (The message in question has been updated to include the useful hint that you may need need to install the module.)</p></li>\n</ol>\n"}], "owner": {"reputation": 57, "user_id": 11239317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z12VbfX2Mbw/AAAAAAAAAAI/AAAAAAAAAGc/oLw9QB6vu2E/photo.jpg?sz=128", "display_name": "impika", "link": "https://stackoverflow.com/users/11239317/impika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "closed_date": 1570177929, "accepted_answer_id": 58232641, "answer_count": 1, "score": -2, "last_activity_date": 1570188084, "creation_date": 1570169213, "last_edit_date": 1570177721, "question_id": 58230779, "link": "https://stackoverflow.com/questions/58230779/undefined-subroutine-url", "closed_reason": "Duplicate", "title": "Undefined subroutine &amp;URL", "body": "<p>I am running perl script to check whether the IP is present or not. I am getting the error in script.</p>\n\n<p>Perl script: I used \nuse URL::Encode;\nlibrary, but it threw the below error:</p>\n\n<p><code>Can't locate URL/Encode.pm in @INC (@INC contains: C:\\Strawberry\\perl\\lib\\CPAN C:/Strawberry/perl/site/lib C:/Strawberry/perl/vendor/lib C:/Strawberry/perl/lib .)</code></p>\n\n<p>So I used direct path as below:</p>\n\n<pre><code>use lib 'C:\\Strawberry\\perl\\lib\\CPAN';\n\nmy $json_hash={};\n$json_hash-&gt;{'username'}=$username;\n$json_hash-&gt;{'response'}=$response;\n$json_hash-&gt;{'control'}=$control;\n\nmy $json_query=URL::Encode::url_encode(JSON::to_json($json_hash));\n</code></pre>\n\n<p>Suggest me any alternate library or a way to use this library</p>\n"}, {"tags": ["facebook", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570169154, "post_id": 58226946, "comment_id": 102835552, "body": "Try using the <code>fields</code> query parameter in the URL of the <code>get</code> call. For example, this URL <code>https:&#47;&#47;graph.facebook.com&#47;{your-user-id}?fields=email</code> might work according to the  <a href=\"https://developers.facebook.com/docs/graph-api/using-graph-api\" rel=\"nofollow noreferrer\">documentation</a>"}, {"owner": {"reputation": 5091, "user_id": 10955263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8352744d1489964dc9ea418be332ed?s=128&d=identicon&r=PG&f=1", "display_name": "04FS", "link": "https://stackoverflow.com/users/10955263/04fs"}, "edited": false, "score": 0, "creation_date": 1570173996, "post_id": 58226946, "comment_id": 102837376, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31692355/facebook-only-returning-name-and-id-of-user\">Facebook only returning name and id of user</a>"}], "owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1609522256, "creation_date": 1570137132, "last_edit_date": 1609522256, "question_id": 58226946, "link": "https://stackoverflow.com/questions/58226946/not-retrieving-email-in-facebook-oauth-login", "title": "Not retrieving email in facebook oauth login", "body": "<p>My issue is that the <code>$info</code> variable which requests user data is not providing the email. You can see in my <code>fblogin()</code> code I use the <code>email scope</code>. If you look here: <code>debug($info-&gt;as_json);</code> it only contains <code>{&quot;Name&quot;:&quot;somename&quot;,&quot;id&quot;:&quot;someid&quot;}</code></p>\n<p>I tried dumping the <code>$access_data</code> as:</p>\n<pre><code> foreach $key (keys %access_data) {\n   debug(&quot;$key $access_data{$key}&quot;);\n }\n</code></pre>\n<p>but that didn't seem to work correctly.</p>\n<p>Here's my debug function:</p>\n<pre><code>sub debug {\n  my $str=shift;\n  my @lt=localtime(time());\n  my $ts=sprintf(&quot;%d%2.2d%2.2d %2.2d:%2.2d&quot;,@lt[5]+1900,@lt[4]+1,@lt[3],@lt[2],@lt[1]);\n  open(FD,&quot;&gt;&gt;/file&quot;);\n  print FD &quot;[$ts] $str\\n&quot;;\n  close(FD);\n}\n</code></pre>\n<p>Any help would be greatly appreciated</p>\n<pre><code>sub fblogin(){\n  my $fb = Net::Facebook::Oauth2-&gt;new(\n    application_id     =&gt; 'XXXX',\n    application_secret =&gt; 'XXXX',\n    callback           =&gt; 'URL'\n  );\n  # get the authorization URL for your application\n  my $url = $fb-&gt;get_authorization_url(\n    scope   =&gt; [ 'email' ],\n    display =&gt; 'page'\n  );\n  print &quot;Location: $url\\n\\n&quot;;\n}\n\nsub fbcallback(){\n   my $fb = Net::Facebook::Oauth2-&gt;new(\n     application_id     =&gt; 'XXXX',\n     application_secret =&gt; 'XXXX',\n     callback           =&gt; 'URL'\n   );\n   my $query=new CGI;\n   my $code = $query-&gt;param('code');\n   my ($unique_id, $access_token);\n   try {\n     $access_token = $fb-&gt;get_access_token(code =&gt; $code); # &lt;-- could die!\n\n     # Facebook tokens last ~2h, but you may upgrade them to ~60d if you want:\n     $access_token = $fb-&gt;get_long_lived_token( access_token =&gt; $access_token );\n\n     my $access_data = $fb-&gt;debug_token( input =&gt; $access_token );\n     if ($access_data &amp;&amp; $access_data-&gt;{is_valid}) {\n        $unique_id = $access_data-&gt;{user_id};\n        # you could also check here for what scopes were granted to you\n        # by inspecting $access_data-&gt;{scopes}-&gt;@*\n        my $info = $fb-&gt;get(\n                'https://graph.facebook.com/v3.1/me'   # Facebook API URL\n        );\n        debug($info-&gt;as_json);\n      }\n   } catch {\n     # handle errors here!\n   }\n}\n</code></pre>\n"}, {"tags": ["perl", "object"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4355766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8169dba6aa92a9b76e2eb654fd79659?s=128&d=identicon&r=PG&f=1", "display_name": "Ardidaj", "link": "https://stackoverflow.com/users/4355766/ardidaj"}, "edited": false, "score": 0, "creation_date": 1570127441, "post_id": 58224888, "comment_id": 102825043, "body": "Does that extend to global destruction as well?  When I originally built this log months ago, I took advantage of global destruction and never explicitly DESTROYed it.  If I leave it to global destruction, am I still safe that Log will be destroyed before session?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 35, "user_id": 4355766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8169dba6aa92a9b76e2eb654fd79659?s=128&d=identicon&r=PG&f=1", "display_name": "Ardidaj", "link": "https://stackoverflow.com/users/4355766/ardidaj"}, "edited": false, "score": 0, "creation_date": 1570128040, "post_id": 58224888, "comment_id": 102825309, "body": "I revamped my answer, but even the original answer explained that all bets are off for objects that survive until global destruction. Perl tries to do the right thing, but how it does that is opaque and shouldn&#39;t be relied upon. (I don&#39;t personally know what the algorithm is.) I have added a solution to my answer if you are using package vars."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1570130033, "last_edit_date": 1570130033, "creation_date": 1570127011, "answer_id": 58224888, "question_id": 58224753, "link": "https://stackoverflow.com/questions/58224753/controlling-order-of-object-destruction/58224888#58224888", "title": "Controlling order of object destruction", "body": "<p>Perl uses reference-counting to govern object destruction<sup>[1]</sup>. This means that under normal circumstances, if object A references object B, object A will be destroyed before object B.</p>\n\n<p>This fails if the object survives until global destruction. There are two circumstances where this happens:</p>\n\n<ul>\n<li><p>Reference cycle. If two objects directly or indirectly reference each other, the order of destruction of the objects involved in the cycles is unpredictable.</p></li>\n<li><p>Global variable. The order in which objects referenced by package variables (and therefore objects directly or indirectly referenced by them) is unpredictable (though Perl does try to do the right thing).</p></li>\n</ul>\n\n<p>So if the log holds a reference to a session object (as it appears you are doing), the log will be destroyed first (within the limits I mentioned above).</p>\n\n<p>If the objects are in package variables instead of lexical (<code>my</code>) variables, and if you don't want to change that, you could use the following in the main program:</p>\n\n<pre><code>use Sub::ScopeFinalizer qw( scope_finalizer );\n\n# Here or wherever.\nour $log;\nour $session;\n\n{\n    # The lexicals within these curlies will get destroyed before\n    # global destruction. This will lead to the code ref provided to\n    # scope_finalizer getting called before global destruction.\n\n    my $guard = scope_finalizer {\n       # The order doesn't matter because the log object \n       # holds a reference to the session object.\n       $log     = undef;\n       $session = undef;\n    };\n\n    # ... Main program here ...\n}\n</code></pre>\n\n<p>As long as the log holds a reference to the session, this will ensure that the objects are destroyed in the correct order. Even if the program dies or exits.</p>\n\n<hr>\n\n<p>You can tell if objects of a class are surviving until global destruction by adding the following code to the program and examining the order of the output:</p>\n\n<pre><code>DESTROY { warn($_[0]-&gt;id . \" destroyed.\\n\"); }  # In the class\n\nEND { warn(\"Global destruction.\"); }\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>In this post, I'm using the word \"object\" loosely. I don't just means instances of classes, but also scalars, arrays, hashes subs and other values and variables.</p>\n\n<p>Similarly, referencing refers not just to a Perl reference, but other forms of referencing. For example, arrays and hashes reference their elements, and subs reference variables they capture, etc.</p></li>\n</ol>\n"}], "owner": {"reputation": 35, "user_id": 4355766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8169dba6aa92a9b76e2eb654fd79659?s=128&d=identicon&r=PG&f=1", "display_name": "Ardidaj", "link": "https://stackoverflow.com/users/4355766/ardidaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 58224888, "answer_count": 1, "score": 2, "last_activity_date": 1570130033, "creation_date": 1570126470, "question_id": 58224753, "link": "https://stackoverflow.com/questions/58224753/controlling-order-of-object-destruction", "title": "Controlling order of object destruction", "body": "<p>My web application uses a Log module to record various events.  The log object is initialized by being passed a CGI::Session object containing various information about the user. This information gets copied to the log object's data fields. Owing to the volume of activity on the site and the fact that a single visit to the site can result in multiple loggable events, the log module currently caches all events in memory, then actually writes them to the log file in the DESTROY function.  However, this results in the session parameters being frozen at the time the log object is initialized, which occurs at the beginning of the request. </p>\n\n<p>Recently, some new parameters were required to be logged that a) would be stored in the session object, and b) needed to be logged as their final, instead of initial value (and would potentially change during execution).  My initial idea was to instead store a reference to the session object in the log object, but as the DESTROY function typically is called in global destruction, I have no guarantee that the session object will still be defined when the log is destroyed.  Is there a way to guarantee that the CGI::Session object won't be destroyed before my log, hopefully without having to add an explicit destruct to each page of the app?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#old\npackage Log;\n\nsub new\n{\n  my $class = shift;\n  my $session = shift; #CGI::Session\n\n  my $self = {session =&gt; {customer_id =&gt; $session-&gt;param('customer_id')}, events =&gt; []};\n  return bless $self, $class;\n}\n\nsub log_event\n{\n  my $self = shift;\n  my $event = shift;\n\n  push @{$self-&gt;{'events'}}, {event_type =&gt; $event-&gt;{'type'}, timestamp =&gt; $event-&gt;{'timestamp'}};\n}\n\nsub DESTROY\n{\n  my $self = shift;\n  if (scalar @{$self-&gt;{'events'}})\n  {\n    open LOG, \"/tmp/log\";\n    print LOG, Dumper({session =&gt; $self-&gt;{'session'}, events =&gt; $self-&gt;{'events'}});\n    close LOG;\n  }\n}\n\n#new \npackage Log;\n\nsub new\n{\n  my $class = shift;\n  my $session = shift;#CGI::Session\n\n  my $self = {session =&gt; $session, events =&gt; []};\n  return bless $self, $class;\n}\n\nsub log_event\n{\n  my $self = shift;\n  my $event = shift;\n\n  push @{$self-&gt;{'events'}}, {event_type =&gt; $event-&gt;{'type'}, timestamp =&gt; $event-&gt;{'timestamp'}};\n}\n\nsub DESTROY\n{\n  my $self = shift;\n  if (scalar @{$self-&gt;{'events'}})\n  {\n    open LOG, \"/tmp/log\";\n    print LOG, Dumper({session =&gt; {customer_id =&gt; $self-&gt;{'session'}-&gt;param('customer_id')}}, events =&gt; $self-&gt;{'events'}});\n    close LOG;\n  }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1570130319, "post_id": 58224576, "comment_id": 102826203, "body": "Tip: No point in using FileHandle. You can use <code>open(my $fh, &#39;| .&#47;populate_details&#39;)</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570134543, "post_id": 58224576, "comment_id": 102827959, "body": "For sending hashes between processes you could use JSON, see for example <a href=\"https://metacpan.org/pod/JSON::XS\" rel=\"nofollow noreferrer\">JSON::XS</a>"}, {"owner": {"reputation": 11, "user_id": 9874097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8317aaf967f0d1145fbe8bf4ed36f888?s=128&d=identicon&r=PG&f=1", "display_name": "vamsi krishna", "link": "https://stackoverflow.com/users/9874097/vamsi-krishna"}, "edited": false, "score": 0, "creation_date": 1570141475, "post_id": 58224576, "comment_id": 102830091, "body": "Thanks ! Could you please give me an example plz , on how to get the hash from the child script ?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570209987, "post_id": 58224576, "comment_id": 102853963, "body": "Scripts do not return things. Check out <a href=\"https://perldoc.pl/perlmod#Perl-Modules\" rel=\"nofollow noreferrer\">perldoc perlmod</a> for how to set up Perl code so it can be called from other Perl code."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9874097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8317aaf967f0d1145fbe8bf4ed36f888?s=128&d=identicon&r=PG&f=1", "display_name": "vamsi krishna", "link": "https://stackoverflow.com/users/9874097/vamsi-krishna"}, "edited": false, "score": 0, "creation_date": 1570139192, "post_id": 58225456, "comment_id": 102829520, "body": "Thanks !! If i need to capture the return hash sent by the child script, how to capture it ?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 11, "user_id": 9874097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8317aaf967f0d1145fbe8bf4ed36f888?s=128&d=identicon&r=PG&f=1", "display_name": "vamsi krishna", "link": "https://stackoverflow.com/users/9874097/vamsi-krishna"}, "edited": false, "score": 0, "creation_date": 1570145945, "post_id": 58225456, "comment_id": 102831066, "body": "Check out <a href=\"https://metacpan.org/pod/IPC::Open2#DESCRIPTION\" rel=\"nofollow noreferrer\"><code>IPC::Open2</code></a>"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1570129704, "creation_date": 1570129704, "answer_id": 58225456, "question_id": 58224576, "link": "https://stackoverflow.com/questions/58224576/capturing-output-of-perl-script-called-through-pipe-from-another-perl-script/58225456#58225456", "title": "Capturing output of perl script called through pipe from another perl script", "body": "<p>To retrieve the exit status, <a href=\"http://metacpan.org/pod/perlfunc#close\" rel=\"nofollow noreferrer\"><code>close</code> the filehandle and check <code>$?</code></a></p>\n\n<blockquote>\n  <p>If the filehandle came from a piped open, <code>close</code> returns false if one of the other syscalls involved fails or if its program exits with non-zero status. If the only problem was that the program exited non-zero, <code>$!</code> will be set to 0. Closing a pipe also waits for the process executing on the pipe to exit--in case you wish to look at the output of the pipe afterwards--<strong>and implicitly puts the exit status value of that command into <code>$?</code> and <code>${^CHILD_ERROR_NATIVE}</code></strong>.</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 9874097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8317aaf967f0d1145fbe8bf4ed36f888?s=128&d=identicon&r=PG&f=1", "display_name": "vamsi krishna", "link": "https://stackoverflow.com/users/9874097/vamsi-krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570129704, "creation_date": 1570125738, "question_id": 58224576, "link": "https://stackoverflow.com/questions/58224576/capturing-output-of-perl-script-called-through-pipe-from-another-perl-script", "title": "Capturing output of perl script called through pipe from another perl script", "body": "<p>Here is the code snippet of main script. The main script is calling populate_details script through pipe. Sending 2 arrays inv1 and inv2 as input.</p>\n\n<pre><code> *my $fh = FileHandle-&gt;new('| ./populate_details') \n print $fh Data::Dumper-&gt;Dump([\\@inv1], [qw(inv1)]);\n print $fh Data::Dumper-&gt;Dump([\\@inv2], [qw(inv2)]);*\n</code></pre>\n\n<p>The question is , how to capture the return code and return value from populate_details script ? For example, the populate_details script is sending as hash of return values.</p>\n\n<p>Could you Please help ?</p>\n"}, {"tags": ["perl", "pipe"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1570120052, "post_id": 58223176, "comment_id": 102821951, "body": "The <a href=\"https://perldoc.pl/functions/read\" rel=\"nofollow noreferrer\">read</a> function will wait if the length you specify is not yet available. Unlike sysread, it will also respect layers on the handle (such as an <code>:encoding</code> layer or <code>:crlf</code> translation on Windows), you can remove these from the handle if present with <a href=\"https://perldoc.pl/functions/binmode\" rel=\"nofollow noreferrer\">binmode</a>."}, {"owner": {"reputation": 2016, "user_id": 893462, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8d00917a0b61cdb8be7e13d13d6379f7?s=128&d=identicon&r=PG&f=1", "display_name": "Harry Muscle", "link": "https://stackoverflow.com/users/893462/harry-muscle"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570120215, "post_id": 58223176, "comment_id": 102822036, "body": "I tried using read and it also returns 8K from a pipe unfortunately."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570120355, "post_id": 58223176, "comment_id": 102822093, "body": "Perhaps it is not portable that it will do that on all OSes and pipes. I think looping until you have the amount of input you want is the best option."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570124435, "post_id": 58223176, "comment_id": 102823738, "body": "@Grinnz, Re &quot;<i>The read function will wait if the length you specify is not yet available</i>&quot;, It is by no means guaranteed to do that. In fact, it <i>doesn&#39;t</i> always wait when it&#39;s a pipe. <a href=\"https://stackoverflow.com/q/36315124/589924\">What is the difference between <code>read</code> and <code>sysread</code>?</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1570168400, "post_id": 58223176, "comment_id": 102835340, "body": "How is this &quot;off-topic&quot;?  Voting to reopen."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570124591, "post_id": 58223962, "comment_id": 102823813, "body": "Note that <code>sysread</code> will extend the buffer to be big enough to hold the requested number of bytes regardless of how many bytes are actually read. This means that the above program doesn&#39;t continually expand the buffer, and it end up overallocating only 8 bytes (instead of wasting up to 200 MB)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1570148046, "last_edit_date": 1570148046, "creation_date": 1570122826, "answer_id": 58223962, "question_id": 58223176, "link": "https://stackoverflow.com/questions/58223176/read-x-number-of-bytes-from-pipe-in-perl/58223962#58223962", "title": "Read X Number of Bytes from Pipe in Perl", "body": "<blockquote>\n  <p><em>Using <code>sysread</code> returns only 8K bytes</em></p>\n</blockquote>\n\n<p>Less specifically, it returns all available bytes up to the maximum provided. (It will wait for some to arrive if there are none in the pipe.)</p>\n\n<blockquote>\n  <p><em>I need to read around 1GB of bytes from the pipe before continuing with the rest of the script.</em></p>\n</blockquote>\n\n<p>I'm not sure there's a way to check how many bytes are waiting in the pipe, but no system has pipes that can hold 1 GB or 1 GiB. Just read in a loop.</p>\n\n<pre><code>use constant TO_READ =&gt; 1000*1000*1000;  # Or 1024*1024*1024?\n\nmy $buf = '';\nwhile (length($buf) &lt; TO_READ) {\n   my $rv = sysread($fh, $buf, TO_READ-length($buf), length($buf));\n   defined($rv)\n      or die(\"Can't read from file: $!\\n\");\n   $rv\n      or die(\"Can't read from file: Premature EOF\\n\");\n}\n</code></pre>\n\n<p>You could just as easily use <code>read</code>. <a href=\"https://stackoverflow.com/q/36315124/589924\">What is the difference between <code>read</code> and <code>sysread</code>?</a></p>\n"}], "owner": {"reputation": 2016, "user_id": 893462, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8d00917a0b61cdb8be7e13d13d6379f7?s=128&d=identicon&r=PG&f=1", "display_name": "Harry Muscle", "link": "https://stackoverflow.com/users/893462/harry-muscle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "closed_date": 1570138030, "answer_count": 1, "score": 1, "last_activity_date": 1570148046, "creation_date": 1570119500, "question_id": 58223176, "link": "https://stackoverflow.com/questions/58223176/read-x-number-of-bytes-from-pipe-in-perl", "closed_reason": "Not suitable for this site", "title": "Read X Number of Bytes from Pipe in Perl", "body": "<p>What is the best way to read x number of binary bytes from a pipe in Perl?  Using sysread returns only 8K bytes.  I need to read around 1GB of bytes from the pipe before continuing with the rest of the script.  Obviously I could combine all of the 8K chunks together myself, but I was hoping that something like this already exists instead of having to code it myself.</p>\n"}, {"tags": ["perl", "buffer", "rsync", "whiptail"], "answers": [{"comments": [{"owner": {"reputation": 4235, "user_id": 210029, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5603b531354ca5e45c7adebaf6a7bdd3?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus", "link": "https://stackoverflow.com/users/210029/marcus"}, "edited": false, "score": 0, "creation_date": 1570120011, "post_id": 58223039, "comment_id": 102821938, "body": "Thanks! On my system (Perl 5.26), both <code>$|++</code> and (<code>*STDOUT-&gt;autoflush</code> without <code>-MIO::Handle</code>) work!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570123314, "post_id": 58223039, "comment_id": 102823280, "body": "Why are you invoking the overridden <code>++</code> operator? <code>$| = 1;</code> is much clearer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570123328, "post_id": 58223039, "comment_id": 102823289, "body": "<code>*STDOUT-&gt;autoflush</code> can be written <code>STDOUT-&gt;autoflush</code>. You actually want to change the default output handle, though, so <code>select()-&gt;autoflush</code> makes more sense. Of course, <code>select()-&gt;autoflush</code> (but not <code>STDOUT-&gt;autoflush</code>) is equivalent to <code>$| = 1</code>."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 1, "last_activity_date": 1570118966, "creation_date": 1570118966, "answer_id": 58223039, "question_id": 58222955, "link": "https://stackoverflow.com/questions/58222955/how-to-use-perl-with-the-whiptail-gauge/58223039#58223039", "title": "How to use Perl with the Whiptail gauge?", "body": "<p>You may be <a href=\"https://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow noreferrer\">suffering from buffering</a>. Try setting <a href=\"https://perldoc.pl/IO::Handle#METHODS\" rel=\"nofollow noreferrer\">autoflush</a> on STDOUT.</p>\n\n<pre><code>BEGIN { $/ = \"\\r\"; $|++ }\n</code></pre>\n\n<p>or if Perl is at least version 5.14, or otherwise with adding the <code>-MIO::Handle</code> switch, you can be more explicit:</p>\n\n<pre><code>BEGIN { $/ = \"\\r\"; *STDOUT-&gt;autoflush }\n</code></pre>\n"}], "owner": {"reputation": 4235, "user_id": 210029, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5603b531354ca5e45c7adebaf6a7bdd3?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus", "link": "https://stackoverflow.com/users/210029/marcus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 1, "accepted_answer_id": 58223039, "answer_count": 1, "score": 0, "last_activity_date": 1570120515, "creation_date": 1570118582, "last_edit_date": 1570120515, "question_id": 58222955, "link": "https://stackoverflow.com/questions/58222955/how-to-use-perl-with-the-whiptail-gauge", "title": "How to use Perl with the Whiptail gauge?", "body": "<p>I can track the rsync progress via Whiptail, using Awk to parse the rsync output, however, I'm puzzled by why the Perl counterpart doesn't work (the Whiptail gauge stays stuck at 0).</p>\n\n<p>This is the working Awk commandline:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>rsync --info=progress2 --no-inc-recursive --human-readable &lt;source&gt; &lt;destination&gt; |\n  stdbuf -o0 awk -v RS='\\r' '$2 ~ /%$/ { print substr($2, 0, length($2) - 1) }' |\n  whiptail --gauge Syncing 20 80 0\n</code></pre>\n\n<p>This is the Perl (I assume) equivalent:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>rsync --info=progress2 --no-inc-recursive --human-readable &lt;source&gt; &lt;destination&gt; |\n  stdbuf -o0 perl -lne 'BEGIN { $/ = \"\\r\" } print /(\\d+)%/' |\n  whiptail --gauge Syncing 20 80 0\n</code></pre>\n\n<p>If I remove the Whiptail command from the Perl version, the percentage numbers are printed as expected.</p>\n\n<p>How do I need to modify the Perl version?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1570112268, "post_id": 58219789, "comment_id": 102817933, "body": "See <a href=\"https://perldoc.pl/perlmod#Perl-Modules\" rel=\"nofollow noreferrer\">perldoc perlmod</a> for how to use Perl code from other Perl code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570116852, "post_id": 58219789, "comment_id": 102820419, "body": "I added the error message you got but didn&#39;t tell us about"}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1570108675, "creation_date": 1570108675, "answer_id": 58220025, "question_id": 58219789, "link": "https://stackoverflow.com/questions/58219789/calling-one-file-from-another-file-gives-print-value-instead-of-return-return-va/58220025#58220025", "title": "Calling one file from another file gives print value instead of return return value in perl", "body": "<p><a href=\"http://p3rl.org/run#-X\" rel=\"nofollow noreferrer\"><code>-X</code> suppresses warnings.</a> Don't suppress them, they give the hint why the code is failing your expectations.</p>\n\n<p>You should be using subroutines and libraries.</p>\n\n<p><em>def.pl</em></p>\n\n<pre><code>sub hello {\n    print \"in def file\\n\";\n    my $xy = \"hello world!\";\n    return $xy;\n}\n1;\n</code></pre>\n\n<p><em>abc.pl</em></p>\n\n<pre><code>require './def.pl';\nmy $a = hello();\nprint \"here a is $a\";\n</code></pre>\n\n<p>Next step up from here is organising your code as modules.</p>\n"}, {"tags": [], "owner": {"reputation": 11918, "user_id": 12098405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C7IUyuZ5qqE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehqQyGdh463Xz2DY8S4TYPhnDvzA/photo.jpg?sz=128", "display_name": "dash-o", "link": "https://stackoverflow.com/users/12098405/dash-o"}, "is_accepted": false, "score": 2, "last_activity_date": 1570109917, "last_edit_date": 1570109917, "creation_date": 1570108782, "answer_id": 58220052, "question_id": 58219789, "link": "https://stackoverflow.com/questions/58219789/calling-one-file-from-another-file-gives-print-value-instead-of-return-return-va/58220052#58220052", "title": "Calling one file from another file gives print value instead of return return value in perl", "body": "<p>When you use the <code>`command`</code> in Perl, the result is the standard output of the called command. This is similar to shell similar syntax.</p>\n\n<p>Given 'def.pl' is perl program, you can execute it directly from abc.pl, using 'require'. However, 'def.pl' must be a valid perl program. Executing 'return $xy' outside a function will result in error message: Can't return outside a subroutine at - line 1.</p>\n\n<p>Consider creating a function in 'def.pl' that returns the value of $xy. The alternative, which is less than ideal, is to use global.</p>\n\n<pre><code># abc.pl\nrequire 'def.pl' ;\nmy $a = xy() ;\nprint \"here a is $a\";\n\n\n# def.pl\nsub xy {\n    my $xy = \"...\" ;\n    return $xy ;\n}\n</code></pre>\n\n<p>Alternatively, you can make def.pl 'print' the result, making it possible to retrieve the 'result' from the def.pl script.</p>\n\n<pre><code># def.pl\nwarn \"in def file\";\nmy $xy = \"hello world!\";\nprint $xy;\n</code></pre>\n"}], "owner": {"reputation": 281, "user_id": 7702021, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1bc9f7b80dc55e6ba5b5cf013917553?s=128&d=identicon&r=PG&f=1", "display_name": "Aravindh", "link": "https://stackoverflow.com/users/7702021/aravindh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570116543, "creation_date": 1570107879, "last_edit_date": 1570116543, "question_id": 58219789, "link": "https://stackoverflow.com/questions/58219789/calling-one-file-from-another-file-gives-print-value-instead-of-return-return-va", "title": "Calling one file from another file gives print value instead of return return value in perl", "body": "<p>I can execute one Perl file from another Perl file using the command</p>\n\n<pre><code>`perl -X file-path -arguments=value`\n</code></pre>\n\n<p>but this gives the print value from the file instead of giving the return value.</p>\n\n<p>This is <code>abc.pl</code>:</p>\n\n<pre><code>my $a = `perl -X def.pl -num=4`;\nprint \"here a is $a\";\n</code></pre>\n\n<p>This is <code>def.pl</code>:</p>\n\n<pre><code>print \"in def file\";\nmy $xy = \"hello world!\";\nreturn $xy;\n</code></pre>\n\n<p>When invoke the file as <code>perl -X abc.pl</code>, I expect the output to be</p>\n\n<pre><code>here a is hello world!\n</code></pre>\n\n<p>but I am getting</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can't return outside a subroutine at def.pl line 3.\nhere a is in def file\n</code></pre>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["c++", "mysql", "perl", "zlib"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570084279, "post_id": 58212771, "comment_id": 102803474, "body": "The code works fine on my system (Ubuntu 19.04, GD::Image version 2.71). Can you also run the code above without using your <code>db.pm</code>? Do you get still get core dump?"}, {"owner": {"reputation": 155, "user_id": 3308713, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e112776ee95ccfff5eabeb03dd6e99ed?s=128&d=identicon&r=PG&f=1", "display_name": "user3308713", "link": "https://stackoverflow.com/users/3308713/user3308713"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570085015, "post_id": 58212771, "comment_id": 102803737, "body": "Sorry I should have mentioned this is CentOS 7. Yes still get a core."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570087654, "post_id": 58212771, "comment_id": 102804942, "body": "Note that I needed to change the last argument to <code>filledRectangle()</code> to to a defined color, like <code>$red</code>, or else I got the warning: <code>Argument &quot;#f2f2f2&quot; isn&#39;t numeric in subroutine entry</code>"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1570101724, "post_id": 58212771, "comment_id": 102812114, "body": "What&#39;s the question here? Do you know how to debug this? What happens when you upgrade zlib? There are various crash bugs fixed <a href=\"https://www.zlib.net/ChangeLog.txt\" rel=\"nofollow noreferrer\">after 1.2.7</a>."}], "owner": {"reputation": 155, "user_id": 3308713, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e112776ee95ccfff5eabeb03dd6e99ed?s=128&d=identicon&r=PG&f=1", "display_name": "user3308713", "link": "https://stackoverflow.com/users/3308713/user3308713"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570085128, "creation_date": 1570080196, "last_edit_date": 1570085128, "question_id": 58212771, "link": "https://stackoverflow.com/questions/58212771/libz-conflict-when-running-perl-library", "title": "libz conflict when running perl library", "body": "<p>Running on CentOS 7\nLinux coolname 3.10.0-957.27.2.el7.x86_64 #1 SMP Mon Jul 29 17:46:05 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux</p>\n\n<p>Our application is developed in Perl and calls c++ libraries using swig and also XS. It runs into Centos.</p>\n\n<p>We have a CORE package called db.pm which is actually written into c++ and uses XS to allow PERL to call it.</p>\n\n<p>Using the db.pm we have a perl code that uses package GD to print a png image . So this code loads db.pm , gets the DB data and creates a chart and tries to print it.</p>\n\n<p>The issue we are having is when loading db.pm we believe libz is accessed and when using GD package it calls libpng which also uses libz. At this time when we try to print the image we have core dump.</p>\n\n<p>The gdb bt is this one here  :\n <a href=\"https://i.stack.imgur.com/pyUb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pyUb3.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code> my $im = new GD::Image(100,100);\n\n# allocate some colors\nmy $white = $im-&gt;colorAllocate(255,255,255);\nmy $black = $im-&gt;colorAllocate(0,0,0);       \nmy $red = $im-&gt;colorAllocate(255,0,0);      \nmy $blue = $im-&gt;colorAllocate(176,196,222);\n\n# make the background transparent and interlaced\n$im-&gt;transparent($white);\n$im-&gt;interlaced('true');\n\n# Put a black frame around the picture\n$im-&gt;filledRectangle(0,0,50,50,'#f2f2f2');\n\n\n\n\n\n# convert into png data\nopen my $out, '&gt;', 'heatmap_img.png' or die;\nbinmode $out;\nprint $out $img-&gt;png;\n\nprint 'Success \\n';\n\n1;\n</code></pre>\n"}, {"tags": ["perl", "catalyst"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1570078331, "post_id": 58211101, "comment_id": 102801791, "body": "So did you try to have <a href=\"https://metacpan.org/pod/Catalyst::Plugin::ConfigLoader\" rel=\"nofollow noreferrer\">ConfigLoader</a> first, &quot;<i>so that other plugins can get the config information</i>&quot; [Synopsis]? Also, would it work to use the environment variable for <code>Debug</code>? The <code>StackTrace</code> is by default) enabled only in <code>-Debug</code> mode so you can control both via environment (which takes precedence over options)."}, {"owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1570673315, "post_id": 58211101, "comment_id": 102989571, "body": "Sorry, didn&#39;t clarify. Just removed &quot;-Debug&quot; from the app.pm and forced debug mode on server launch. Left &quot;StackTrace&quot; module as it is only functional if debug mode is active."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1570674997, "post_id": 58211101, "comment_id": 102989882, "body": "Great -- sounds like a very clean solution :)"}], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "edited": false, "score": 0, "creation_date": 1570157061, "post_id": 58212622, "comment_id": 102833084, "body": "Like a charm. Great idea. Thank you!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1570170949, "last_edit_date": 1570170949, "creation_date": 1570079184, "answer_id": 58212622, "question_id": 58211101, "link": "https://stackoverflow.com/questions/58211101/loading-modules-upon-config-variables-on-a-perl-catalyst-application/58212622#58212622", "title": "Loading modules upon config variables on a Perl Catalyst application", "body": "<p>One way to control how this runs is via the environment. From <a href=\"https://metacpan.org/pod/Catalyst\" rel=\"nofollow noreferrer\">Catalyst</a></p>\n\n<blockquote>\n  <p><strong>-Debug</strong></p>\n  \n  <p>Enables debug output. You can also force this setting from the system environment with CATALYST_DEBUG or _DEBUG. The environment settings override the application, with _DEBUG having the highest priority.</p>\n</blockquote>\n\n<p>Then you can set things up, via a driver for example, so to be able to first set the environment variable, while by default have it off for production runs. This should be possible to automate as needed.  Then <a href=\"https://metacpan.org/pod/Catalyst::Plugin::StackTrace\" rel=\"nofollow noreferrer\">StackTrace plugin</a> follows suit since</p>\n\n<blockquote>\n  <p>This plugin is only active in -Debug mode by default, [...]</p>\n</blockquote>\n\n<p>and so the environment variable can take care of both.</p>\n\n<p>Another option is to list the <a href=\"https://metacpan.org/pod/Catalyst::Plugin::ConfigLoader\" rel=\"nofollow noreferrer\">ConfigLoader</a> plugin first, as its docs say in Synopsis</p>\n\n<blockquote>\n<pre><code>package MyApp;\n\n# ConfigLoader should be first in your list so\n# other plugins can get the config information\nuse Catalyst qw( ConfigLoader ... );\n</code></pre>\n</blockquote>\n\n<p>Then you should be able to control <code>StackTrace</code> plugin, and <code>-Debug</code> mode-or-not, separately.</p>\n"}], "owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 58212622, "answer_count": 1, "score": 3, "last_activity_date": 1570170949, "creation_date": 1570064477, "question_id": 58211101, "link": "https://stackoverflow.com/questions/58211101/loading-modules-upon-config-variables-on-a-perl-catalyst-application", "title": "Loading modules upon config variables on a Perl Catalyst application", "body": "<p>I'm setting an Catalyst webapp for deploy and would like to remove the <code>-Debug</code> and <code>StackTrace</code> Catalyst plugins from my <code>app.pm</code> in production environment. However, since I keep a testing environment, I'd like to avoid \"hardcoding\" this. Instead, I'd like to have a config variable defining the environment and load the modules accordingly. All source is on SVN and it would get messy if I were to update the repo and then manually change the modules I load in the app.pm.</p>\n\n<p>The app currently uses <code>configLoader</code> module to read a <code>local_app.yml</code> file with all configs, which is unversioned and allows some control over the way the app works in either dev, test or prod environments; but these are only read after the application is started (hence, after the modules have been loaded).</p>\n\n<p>Here's a simplification of the <code>app.pm</code>:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package app;\n\nuse strict;\nuse warnings;\nuse Hash::Merge ();\nuse Sys::Hostname;\n\nuse Catalyst::Runtime '5.80';\n\nuse Catalyst qw/    \n  -Debug\n  StackTrace\n  ConfigLoader\n  SomeOtherModule\n  AndYetAnotherOne\n/;\n\n__PACKAGE__-&gt;config(\n\n  # Some local config stuff\n\n);\n\n# Start the application\n__PACKAGE__-&gt;setup();\n\n</code></pre>\n\n<p><strong>Is there a way to do this without having to use a Unix command to find out which host is running the app?</strong></p>\n"}]