[{"tags": ["arrays", "perl", "push", "hash"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1441237188, "post_id": 32364813, "comment_id": 52602047, "body": "Add $classHash-&gt;{students} = []; and then push your $studHash into @{ $classList[$i]-&gt;{students} }"}, {"owner": {"reputation": 55, "user_id": 5294631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cf629a0c2059033b647060afab00174a?s=128&d=identicon&r=PG&f=1", "display_name": "skyranch", "link": "https://stackoverflow.com/users/5294631/skyranch"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1441237618, "post_id": 32364813, "comment_id": 52602162, "body": "The studList array shall only be stored in an existing classHash (which was created on the first block of code). I don&#39;t get why I should add classHash-&gt;{students} = [];"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1441237890, "post_id": 32364813, "comment_id": 52602221, "body": "Yes, so you can make room for the students by adding a <code>students</code> field to your %classHash, and then add the $studHash to that array."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1441238003, "post_id": 32364813, "comment_id": 52602254, "body": "maybe provide an example of the data structure you want to have in the end"}, {"owner": {"reputation": 55, "user_id": 5294631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cf629a0c2059033b647060afab00174a?s=128&d=identicon&r=PG&f=1", "display_name": "skyranch", "link": "https://stackoverflow.com/users/5294631/skyranch"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1441238375, "post_id": 32364813, "comment_id": 52602365, "body": "It doesn&#39;t cause an error anymore, but what it does is add the studHash to all existing classHash. I want to add a studHash to a specific classHash only."}, {"owner": {"reputation": 55, "user_id": 5294631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cf629a0c2059033b647060afab00174a?s=128&d=identicon&r=PG&f=1", "display_name": "skyranch", "link": "https://stackoverflow.com/users/5294631/skyranch"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1441238681, "post_id": 32364813, "comment_id": 52602452, "body": "[1] Add Class [2] Add Student to Class  When I choose 1, it will create a new class When I choose 2, it will ask the user to which class would he want the students be added to. It will then loop all the existing classHash in the classList and will see if the input matches the existing classHash.   If the class exists, the user will be asked to enter the name and number of the student, and will push the input values into the existing classHash"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5294631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cf629a0c2059033b647060afab00174a?s=128&d=identicon&r=PG&f=1", "display_name": "skyranch", "link": "https://stackoverflow.com/users/5294631/skyranch"}, "edited": false, "score": 0, "creation_date": 1441240640, "post_id": 32365114, "comment_id": 52602893, "body": "How to access each students in a class? The code works but I don&#39;t know how to print the studList per classHash"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 1, "last_activity_date": 1441243178, "last_edit_date": 1441243178, "creation_date": 1441239135, "answer_id": 32365114, "question_id": 32364813, "link": "https://stackoverflow.com/questions/32364813/push-array-to-a-certain-hash-within-an-array-in-perl/32365114#32365114", "title": "Push array to a certain hash within an array in Perl", "body": "<p>Ignoring the interactive bits... here is how you can add the student to the class:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nuse Data::Dumper;\n\nmy @classList = (\n    {\n       courseName =&gt; 'Algebra',\n       section    =&gt; 101,\n       students   =&gt; [],\n    },\n    {\n       courseName =&gt; 'Geometry',\n       section    =&gt; 102,\n       students   =&gt; [],\n    }, \n );\n\nmy $studName = 'Alice';\nmy $studNum  = 13579;\nmy $desiredClass = 'Geometry';\nmy $desiredSection = 102;\n\nfor my $class (@classList) {\n    if ($class-&gt;{courseName} eq $desiredClass and\n        $class-&gt;{section}    eq $desiredSection) {\n        # Add student to the class\n        my $student = {\n            studName =&gt; $studName,\n            studNum  =&gt; $studNum,\n        };\n        push @{ $class-&gt;{students} }, $student;\n    }\n}\n\nprint Dumper \\@classList;\n\n# Printing out the students for each class\nfor my $class (@classList) {\n    my $course  = $class-&gt;{courseName};\n    my $section = $class-&gt;{courseSection};\n    my $students = $class-&gt;{students};\n    my $total_students = scalar @$students;\n    my $names = join ', ', map { $_-&gt;{studName} } @$students;\n\n    print \"There are $total_students taking $course section $section.\\n\";\n    print \"There names are [ $names ]\\n\";\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>VAR1 = [\n      {\n        'students' =&gt; [],\n        'section' =&gt; 101,\n        'courseName' =&gt; 'Algebra'\n      },\n      {\n        'students' =&gt; [\n                        {\n                          'studNum' =&gt; 13579,\n                          'studName' =&gt; 'Alice'\n                        }\n                      ],\n        'section' =&gt; 102,\n        'courseName' =&gt; 'Geometry'\n      }\n    ];\n\nThere are 0 students taking Algebra section 101.\nThere names are [ ]\nThere are 1 students taking Geometry section 102.\nThere names are [ Alice ]\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5294631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cf629a0c2059033b647060afab00174a?s=128&d=identicon&r=PG&f=1", "display_name": "skyranch", "link": "https://stackoverflow.com/users/5294631/skyranch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 32365114, "answer_count": 1, "score": 2, "last_activity_date": 1441243178, "creation_date": 1441237005, "question_id": 32364813, "link": "https://stackoverflow.com/questions/32364813/push-array-to-a-certain-hash-within-an-array-in-perl", "title": "Push array to a certain hash within an array in Perl", "body": "<p>I want to dynamically push values of hashes into an array of hashes in Perl.</p>\n\n<p>I have this code block to create and push classHash to an array classList.</p>\n\n<pre><code>    $courseName = &lt;STDIN&gt;;\n    $section = &lt;STDIN&gt;;\n\n    my $classHash = {};\n\n    $classHash-&gt;{courseName} = $courseName;\n    $classHash-&gt;{section} = $section;\n    push @classList, $classHash;\n</code></pre>\n\n<p>Now, I want to add a studentHash to the classHash.</p>\n\n<pre><code>    for my $i ( 0 .. $#classList ) {\n        #I want to add the studentHash to a specific classHash in the classList\n        if($courseName1 eq $classList[$i]{courseName} &amp;&amp; $section1 eq $classList[$i]{section}){\n             $studName = &lt;STDIN&gt;;\n             $studNum = &lt;STDIN&gt;;\n\n             my $studHash = {};\n\n             $studHash-&gt;{studName} = $studName;\n             $studHash-&gt;{studNum} = $studNum;\n\n             push @studList, $studHash;\n             push @{$classList[$i]}, \\@studList; #but this creates an array reference error\n        }\n    }\n</code></pre>\n"}, {"tags": ["bash", "perl", "sed"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 2, "creation_date": 1441232250, "post_id": 32364047, "comment_id": 52600598, "body": "You can&#39;t put double quotes inside double quotes that way (first command)."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 7, "creation_date": 1441232408, "post_id": 32364047, "comment_id": 52600652, "body": "Why are you calling sed from within perl? It would be a much better idea to perform these substitutions using native perl functionality."}], "answers": [{"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1441232672, "post_id": 32364079, "comment_id": 52600750, "body": "&#39;Twould be better to use <code>q(\u2026)</code> since there&#39;s no expansion desired?  But better still not to use <code>sed</code> at all; Perl was designed as a <code>sed</code>-killer.  That&#39;s why there&#39;s (still) <code>s2p</code> for converting <code>sed</code> to Perl."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1441232729, "post_id": 32364079, "comment_id": 52600774, "body": "@JonathanLeffler I just realized the same thing."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1441232777, "post_id": 32364079, "comment_id": 52600790, "body": "If this is just one small step in an overall perl script, rewriting the whole thing in perl might be overkill."}], "tags": [], "owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 2, "last_activity_date": 1441232716, "last_edit_date": 1441232716, "creation_date": 1441232417, "answer_id": 32364079, "question_id": 32364047, "link": "https://stackoverflow.com/questions/32364047/bash-working-on-command-line-but-not-in-perl-script/32364079#32364079", "title": "Bash working on command line but not in perl script", "body": "<p>The problem is that the double quotes inside the <code>sed</code> argument are ending the Perl string. You need to escape them</p>\n\n<pre><code>system(\"sed -i '/`\"`\",`\"`\"/d' *.csv\");\n</code></pre>\n\n<p>Or you can use <code>q(...)</code>.</p>\n\n<pre><code>system(q(sed -i '/\"\",\"\"/d' *.csv));\n</code></pre>\n\n<p>BTW, you can give multiple commands to <code>sed</code>, so you don't have to run it multiple times.</p>\n\n<pre><code>system(q(sed -i -e '/\"\",\"\"/d' -e '/___/d' -e '/---/d' -e '/===/d' *.csv\"));\n</code></pre>\n\n<p>or you can use a regular expression with alternation to match all the patterns at once.</p>\n\n<pre><code>system(q(sed -i -e '/\"\",\"\"\\\\|___\\\\|---/\\\\|===/d' *.csv\"));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1441235939, "post_id": 32364621, "comment_id": 52601736, "body": "You could probably use a regex such as <code>m&#47;^x\\d,\\d+,\\d+,\\d+$&#47;</code> to look for the lines that exactly match the <code>xn,###,###,###</code> lines that are required, with various tweaks to make if the rules require, for example, one or more digits after the <code>x</code> (rather than exactly one as shown), or exactly three digits in the other groups (rather than one or more as shown)."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1441236261, "post_id": 32364621, "comment_id": 52601821, "body": "@Jonathan I intentionally left the patterns as they were to make it clearer how they fit into the script but I agree, it would almost certainly be possible to improve on them, perhaps by whitelisting lines as opposed to skipping ones that don&#39;t match as you say. Of course, it depends on the diversity of the input and the OP&#39;s requirement."}, {"owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "edited": false, "score": 0, "creation_date": 1441239249, "post_id": 32364621, "comment_id": 52602587, "body": "@Tom Fenech: Thanks for your help. This is definitely a better solution -- I&#39;m rather new to Perl (and programming in general) so I tend to shy away from using it at times... is there any way to easily get rid of a particular character in the while loop? On the last line of these files, a &quot;-&quot; precedes the first string, and I&#39;m trying to get rid of it without the help of sed. This string is &quot;-TOTAL BE&quot;. Right now I have inserted the following, but it doesn&#39;t seem to be working:   <code>my $str2 = &quot;-TOTAL BE&quot;;      while (&lt;$in&gt;) {         $str2 =~ s&#47;-&#47;&#47;g;         next if &#47;&quot;&quot;,&quot;&quot;&#47;;</code> etc. etc."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "reply_to_user": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "edited": false, "score": 0, "creation_date": 1441268337, "post_id": 32364621, "comment_id": 52612380, "body": "@Justin you could add a line like <code>s&#47;^-(?=TOTAL BE)&#47;&#47;;</code>, which would match a <code>-</code> at the start of the line followed by <code>TOTAL BE</code> and remove it. By default, the substitution will be applied to <code>$_</code>, which in the context of the loop, is the line that is currently being read."}], "tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": true, "score": 2, "last_activity_date": 1441235496, "creation_date": 1441235496, "answer_id": 32364621, "question_id": 32364047, "link": "https://stackoverflow.com/questions/32364047/bash-working-on-command-line-but-not-in-perl-script/32364621#32364621", "title": "Bash working on command line but not in perl script", "body": "<p>If the rest of your script is in Perl, I would strongly suggest replacing your calls to sed with a native implementation.</p>\n\n<p>For example, the replacements you have made using sed could be replaced with something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nfor my $file (glob '*.csv') {\n    open my $in, '&lt;', $file;        \n    my @lines;\n    while (&lt;$in&gt;) {\n        next if /\"\",\"\"/;\n        next if /___/;\n        next if /---/;\n        next if /===/;\n        push @lines, $_;\n    }\n    close $in;\n\n    # this will overwrite your files!\n    # change $file to something else to test\n    open my $out, '&gt;', $file;\n    print $out $_ for @lines;\n}\n</code></pre>\n\n<p>This loops through each file ending in <code>.csv</code>, reading each line. It skips any lines that match one of the patterns (you could do this using a single regex with <code>|</code> between each pattern if you wanted but I left it the same as your calls to sed). It pushes any remaining lines to an array. It then reopens the input file for writing and prints the array.</p>\n\n<p>Granted, it's slightly longer in terms of numbers of lines but it saves you having to use <code>system</code> to call external commands when Perl is more than capable. It also means that each file is only opened once, rather than once per substitution as in your original code.</p>\n"}, {"tags": [], "owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "is_accepted": false, "score": 2, "last_activity_date": 1441389709, "last_edit_date": 1441389709, "creation_date": 1441355574, "answer_id": 32393565, "question_id": 32364047, "link": "https://stackoverflow.com/questions/32364047/bash-working-on-command-line-but-not-in-perl-script/32393565#32393565", "title": "Bash working on command line but not in perl script", "body": "<p>use the escape character <code>\\</code> to make the interpreter understand that the (\", *, .) inside the sed command is not same as Perl's (\", *, .)  rather it should consider them as string pattern for sed command.</p>\n\n<pre><code>    system(\"sed -i '/\\\"\\\",\\\"\\\"/d' \\*\\.csv\");\n    system(\"sed -i '/___/d' \\*\\.csv\");\n    system(\"sed -i '/---/d' \\*\\.csv\");\n    system(\"sed -i '/===/d' \\*\\.csv\");\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 32364621, "answer_count": 3, "score": 3, "last_activity_date": 1441389709, "creation_date": 1441232209, "last_edit_date": 1592644375, "question_id": 32364047, "link": "https://stackoverflow.com/questions/32364047/bash-working-on-command-line-but-not-in-perl-script", "title": "Bash working on command line but not in perl script", "body": "<p>I have a set of .csv files that I'm trying to clean up. Each has data like this:</p>\n<pre><code>x0,&quot;&quot;,&quot;&quot;,&quot;&quot;\nx1,123,456,789\nx2,123,456,789\nx3,123,456,789\n-,&quot;&quot;,&quot;&quot;,&quot;&quot;\nx4,123,456,789\n[space],____,____,____\nx5,123,456,789\nx6,===,====,======\nx7,---,--------=--,-------\n</code></pre>\n<p>I want to delete all lines that are not xn,###,###,###, so in this example, it would be lines 1, 5, 7, 9, and 10. In the cygwin command line, I type the following commands 1 by 1:</p>\n<pre><code>    sed -i '/&quot;&quot;,&quot;&quot;/d' *.csv\n    sed -i '/___/d' *.csv\n    sed -i '/---/d' *.csv\n    sed -i '/===/d' *.csv\n</code></pre>\n<p>and these all work. However, when I try to put them TOGETHER into a perl script (the rest of my code is in perl, they fail:</p>\n<pre><code>    system(&quot;sed -i '/&quot;&quot;,&quot;&quot;/d' *.csv&quot;);\n    system(&quot;sed -i '/___/d' *.csv&quot;);\n    system(&quot;sed -i '/---/d' *.csv&quot;);\n    system(&quot;sed -i '/===/d' *.csv&quot;);\n</code></pre>\n<p>and I get the result:</p>\n<blockquote>\n<p>String found where operator expected at test1.pl line 1, near &quot;&quot;sed -i '/&quot;&quot;,&quot;&quot;</p>\n<p>(Missing operator before &quot;,&quot;?)</p>\n<p>String found where operator expected at test1.pl line 1, near &quot;&quot;,&quot;&quot;/d' *.csv&quot;&quot;</p>\n<p>(Missing operator before &quot;/d' *.csv&quot;?)</p>\n<p>syntax error at test1.pl line 1, near &quot;&quot;sed -i '/&quot;&quot;,&quot;&quot;</p>\n</blockquote>\n<p>I notice all work except that first command -- is there something special about <code>&quot;&quot;</code> in sed? Any help would be appreciated! A simpler solution is welcome as well!</p>\n"}, {"tags": ["perl", "unicode", "lwp", "hindi"], "comments": [{"owner": {"reputation": 2112, "user_id": 2992891, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1a7b81201a434521f931f77de9514d5?s=128&d=identicon&r=PG", "display_name": "pcantalupo", "link": "https://stackoverflow.com/users/2992891/pcantalupo"}, "edited": false, "score": 1, "creation_date": 1441226317, "post_id": 32362409, "comment_id": 52598071, "body": "please provide the exact error string"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1441227278, "post_id": 32362409, "comment_id": 52598590, "body": "<code>my $content = get $url or die ... unless defined $content;</code> looks perilously close to a <a href=\"http://stackoverflow.com/q/2161111\"><code>my $var = $x if $y</code></a> construction.  <code>$content</code> can not be defined at that point in the program, so the postfix <code>unless</code> is unnecessary."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1441227914, "post_id": 32362409, "comment_id": 52598878, "body": "This code shouldn&#39;t produce that error.  It should fail to compile because of the undeclared <code>$url</code> (and probably the <code>$content</code> too)."}, {"owner": {"reputation": 11, "user_id": 5294201, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n4OfFxX0YBk/AAAAAAAAAAI/AAAAAAAAAAA/Etipy9XI_RA/photo.jpg?sz=128", "display_name": "Arun Gupta", "link": "https://stackoverflow.com/users/5294201/arun-gupta"}, "reply_to_user": {"reputation": 2112, "user_id": 2992891, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1a7b81201a434521f931f77de9514d5?s=128&d=identicon&r=PG", "display_name": "pcantalupo", "link": "https://stackoverflow.com/users/2992891/pcantalupo"}, "edited": false, "score": 0, "creation_date": 1441228356, "post_id": 32362409, "comment_id": 52599061, "body": "@pcantalupo the exact error is &quot;wide character in print at filename...&quot;"}, {"owner": {"reputation": 11, "user_id": 5294201, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n4OfFxX0YBk/AAAAAAAAAAI/AAAAAAAAAAA/Etipy9XI_RA/photo.jpg?sz=128", "display_name": "Arun Gupta", "link": "https://stackoverflow.com/users/5294201/arun-gupta"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1441228471, "post_id": 32362409, "comment_id": 52599118, "body": "@JimDavis, the code is running fine the problem is.. its not getting me the content on the page properly. when I open the saved files, I get this   &#224;&#164;\u2039&#224;&#164;&#183;&#224;&#164;&#191;:&#194; &#194;  (Rishi) :- &#224;&#164;&#174;&#224;&#164;&#167;&#224;&#165;&#224;&#164;\u0161&#224;&#165;&#224;&#164;\u203a&#224;&#164;&#168;&#224;&#165;&#224;&#164;&#166;&#224;&#164;&#190;  instead i should get this \u090b\u0937\u093f:   (Rishi) :- \u092e\u0927\u0941\u091a\u094d\u091b\u0928\u094d\u0926\u093e\u0903 \u0935\u0948\u0936\u094d\u0935\u093e\u092e\u093f\u0924\u094d\u0930\u0903"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5294201, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n4OfFxX0YBk/AAAAAAAAAAI/AAAAAAAAAAA/Etipy9XI_RA/photo.jpg?sz=128", "display_name": "Arun Gupta", "link": "https://stackoverflow.com/users/5294201/arun-gupta"}, "edited": false, "score": 0, "creation_date": 1441229532, "post_id": 32363235, "comment_id": 52599566, "body": "solution you provided is still giving me the same results.. not the result that I wanted, Unicode Hindi.. I want the page to save as it is.. with Hindi fonts.."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1441228535, "creation_date": 1441228535, "answer_id": 32363235, "question_id": 32362409, "link": "https://stackoverflow.com/questions/32362409/trying-to-save-a-page-with-unicode-hindi/32363235#32363235", "title": "Trying to save a page with Unicode Hindi", "body": "<p>Using <code>binmode</code> on the file handle works for me:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse CGI;\nuse LWP::Simple;\n\nmy $url = \"http://www.vedakosh.com/rig-veda/mandal-1/sukta-001/mantra-rig-01-001-001\";\nmy $content = get $url or die \"Couldn't get $url\";\nmy $file=\"1.html\";\n\nopen my $fh, '&gt;', $file\n  or die $!;\n\nbinmode $fh, ':utf8';\nbinmode STDOUT, ':utf8';\n\nprint $fh $content;\nprint $content;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5294201, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n4OfFxX0YBk/AAAAAAAAAAI/AAAAAAAAAAA/Etipy9XI_RA/photo.jpg?sz=128", "display_name": "Arun Gupta", "link": "https://stackoverflow.com/users/5294201/arun-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1441229937, "creation_date": 1441229937, "answer_id": 32363567, "question_id": 32362409, "link": "https://stackoverflow.com/questions/32362409/trying-to-save-a-page-with-unicode-hindi/32363567#32363567", "title": "Trying to save a page with Unicode Hindi", "body": "<p>Thanks everyone.. I found that the code is alright.. and doesnt require any encoding or stuff.. its getting the page right, the only issue is the source itself has wrong encoding mentioned in the header meta and i didnt notice that before..</p>\n\n<p>But thanks everyone. I appreciate your support and suggestions..</p>\n"}], "owner": {"reputation": 11, "user_id": 5294201, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n4OfFxX0YBk/AAAAAAAAAAI/AAAAAAAAAAA/Etipy9XI_RA/photo.jpg?sz=128", "display_name": "Arun Gupta", "link": "https://stackoverflow.com/users/5294201/arun-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1441229937, "creation_date": 1441225293, "question_id": 32362409, "link": "https://stackoverflow.com/questions/32362409/trying-to-save-a-page-with-unicode-hindi", "title": "Trying to save a page with Unicode Hindi", "body": "<p>I am trying to save a page which has Unicode Hindi fonts on it. I have tried several from this site and from other, but nothing seems to work.</p>\n\n<p>The error that I am getting is related to wide characters.</p>\n\n<p>here is the code I am using:</p>\n\n<pre><code>use CGI;\nuse strict;\nuse warnings;\nuse LWP::Simple;\nuse utf8;\n\nuse Encode qw(decode);\n\n    $url = \"http://www.vedakosh.com/rig-veda/mandal-1/sukta-001/mantra-rig-01-001-001\";\n    my $content = get $url or die \"Couldn't get $url\" unless defined $content;\n    my $file=\"1.html\";\n    open FILE, \"&gt;:encoding(UTF-8)\", \"$file\";\n    print FILE $content;\n</code></pre>\n\n<p>Not sure what I am doing wrong, can someone please help or suggest something?</p>\n"}, {"tags": ["perl", "mojolicious", "html-tree", "html-treebuilder", "mojo-dom"], "comments": [{"owner": {"reputation": 142, "user_id": 4277620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5a3072c70061910402da089e5dac80?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep", "link": "https://stackoverflow.com/users/4277620/sandeep"}, "edited": false, "score": 0, "creation_date": 1441277049, "post_id": 32361664, "comment_id": 52617898, "body": "Whats input to page/source file to HTML::TreeBuilder?"}, {"owner": {"reputation": 253, "user_id": 4263868, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bGy7BUtOACk/AAAAAAAAAAI/AAAAAAAAACk/otP0ryPeKp0/photo.jpg?sz=128", "display_name": "sqldoug", "link": "https://stackoverflow.com/users/4263868/sqldoug"}, "reply_to_user": {"reputation": 142, "user_id": 4277620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5a3072c70061910402da089e5dac80?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep", "link": "https://stackoverflow.com/users/4277620/sandeep"}, "edited": false, "score": 0, "creation_date": 1441308641, "post_id": 32361664, "comment_id": 52638492, "body": "Not a URL, just local html files (on disk)"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441357053, "post_id": 32361664, "comment_id": 52656600, "body": "how about <code>my @content = content_list()</code> instead of tagname_map(), since you are using tagname_map(), but without any parameters. That should be ordered. Seems weird, since you are using it in the next line, but if you want only certain tags, you should&#39;ve posted that."}, {"owner": {"reputation": 253, "user_id": 4263868, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bGy7BUtOACk/AAAAAAAAAAI/AAAAAAAAACk/otP0ryPeKp0/photo.jpg?sz=128", "display_name": "sqldoug", "link": "https://stackoverflow.com/users/4263868/sqldoug"}, "edited": false, "score": 0, "creation_date": 1441397737, "post_id": 32361664, "comment_id": 52680096, "body": "Thanks; I&#39;ll give that a try. I want all tags, since I don&#39;t know which of them has text."}, {"owner": {"reputation": 253, "user_id": 4263868, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bGy7BUtOACk/AAAAAAAAAAI/AAAAAAAAACk/otP0ryPeKp0/photo.jpg?sz=128", "display_name": "sqldoug", "link": "https://stackoverflow.com/users/4263868/sqldoug"}, "edited": false, "score": 0, "creation_date": 1441821933, "post_id": 32361664, "comment_id": 52833577, "body": "That just loses me, trying to dereference everything.  For example:     <code>&lt;p&gt;some text &lt;strong&gt; now bold &lt;&#47;strong&gt; extra text &lt;&#47;p&gt;</code> Should be &quot;some text&quot;, &quot;now bold&quot;, &quot;extra text&quot; (a quoted array of which is not the problem, that I can handle), rather than &quot;some text&quot;, &quot;extra text&quot;, &quot;now bold&quot; which Mojo::DOM does with      <code>for my $x ( $dom-&gt;parse($html)-&gt;find(&#39;*&#39;)-&gt;each )     {         my $text = $x-&gt;text;         chomp $text;         push @text, $text;     }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 253, "user_id": 4263868, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bGy7BUtOACk/AAAAAAAAAAI/AAAAAAAAACk/otP0ryPeKp0/photo.jpg?sz=128", "display_name": "sqldoug", "link": "https://stackoverflow.com/users/4263868/sqldoug"}, "is_accepted": false, "score": 0, "last_activity_date": 1441831489, "creation_date": 1441831489, "answer_id": 32488856, "question_id": 32361664, "link": "https://stackoverflow.com/questions/32361664/scrape-html-files-with-perl-returning-content-only-in-order/32488856#32488856", "title": "Scrape HTML files with Perl, returning content only, in order", "body": "<p>This is better (using Mojo::DOM):</p>\n\n<pre><code>$dom-&gt;parse($html)-&gt;find('*')-&gt;each(\n    sub {\n        my $text = shift-&gt;text;\n        $text =~ s/\\s+/ /gi;\n        push @text, $text;\n    }\n  );\n</code></pre>\n\n<p>However, any further comments are welcome.</p>\n"}], "owner": {"reputation": 253, "user_id": 4263868, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bGy7BUtOACk/AAAAAAAAAAI/AAAAAAAAACk/otP0ryPeKp0/photo.jpg?sz=128", "display_name": "sqldoug", "link": "https://stackoverflow.com/users/4263868/sqldoug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1441831489, "creation_date": 1441222496, "last_edit_date": 1495541177, "question_id": 32361664, "link": "https://stackoverflow.com/questions/32361664/scrape-html-files-with-perl-returning-content-only-in-order", "title": "Scrape HTML files with Perl, returning content only, in order", "body": "<p>Using HTML::TreeBuilder -- or Mojo::DOM -- I'd like to scrape the content but keep it in order, so that I can put the text values into an array (and then replace the text values with a variable for templating purposes) </p>\n\n<p>But this in TreeBuilder</p>\n\n<pre><code>my $map_r = $tree-&gt;tagname_map();\n\nmy @contents = map { $_-&gt;content_list } $tree-&gt;find_by_tag_name(keys %$map_r);\n\nforeach my $c (@contents) {\n  say $c;\n}\n</code></pre>\n\n<p>doesn't return the order -- of course hashes aren't ordered. So, how to visit the tree from root down and keep the sequence of values returned? Recursively walk the tree? Essentially, I'd like to use the method 'as_text' except for each element. (Followed this <a href=\"https://stackoverflow.com/a/18971495/4263868\">nice idea</a> but I need it for all elements)</p>\n"}, {"tags": ["perl", "file", "file-handling"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1441221275, "post_id": 32361067, "comment_id": 52595402, "body": "This question is <i>exactly</i> the same as the question you linked to."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1441222685, "post_id": 32361067, "comment_id": 52596110, "body": "Which OS? On Linux there is also <a href=\"https://metacpan.org/pod/Linux::Fuser\" rel=\"nofollow noreferrer\"><code>Linux::Fuser</code></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441222904, "post_id": 32361067, "comment_id": 52596248, "body": "Please explain what you mean by <i>&quot;the test fails&quot;</i>. Do you mean that the <code>open</code> in the test fails, so the file is already open? Or do you mean that the test gives the wrong result?"}, {"owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "edited": false, "score": 0, "creation_date": 1441222923, "post_id": 32361067, "comment_id": 52596258, "body": "I\u2019ve closed this as a duplicate because you do not explain why that question is not the same as yours, nor why its solutions do not work for you. If you would please do so, we can reopen it again."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "edited": false, "score": 0, "creation_date": 1441223137, "post_id": 32361067, "comment_id": 52596389, "body": "@tchrist: I think it&#39;s pretty clear that the linked question doesn&#39;t consider the possibility that a file may already be opened by other processes. In this case it sounds like Excel specifically is opening files in such a way that a subsequent open for append doesn&#39;t fail"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441223236, "post_id": 32361067, "comment_id": 52596445, "body": "@Ayesha: Please give detailed examples of what happens now, and what you want to happen?"}, {"owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441223559, "post_id": 32361067, "comment_id": 52596624, "body": "@Borodin It may perhaps not be a duplicate, but it is not really answerable in the current state, mostly for the reasons you mention. Also, the question is confusing because the comments seem to be exactly the opposite of the code. Moreover, it has a race condition. Someday someone will write  <i>FMTEYEWTK on Filetests as the Root of All Race Conditions</i>. :("}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441225349, "post_id": 32361067, "comment_id": 52597551, "body": "@Borodin- test fails means the above code doesnot recognize if i open that text file and run this code. i.e. it still shows that file is close even if i had opened the file"}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441225495, "post_id": 32361067, "comment_id": 52597614, "body": "@H&#229;konH&#230;gland- its a windows platform. the above code doesnt recognize tat my text file is open. even if i open it, the above code will still show tat its closed"}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441227896, "post_id": 32361067, "comment_id": 52598872, "body": "@tchrist- none of the answer in that post solves my problem. this is different because a user opens a text file in MS Excel and yet displays &#39;file is closed&#39; error message whereas it should display &quot;File is open&quot;"}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441227954, "post_id": 32361067, "comment_id": 52598896, "body": "@MattJacob- the solution over those post doesnot worrk."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "edited": false, "score": 0, "creation_date": 1441230825, "post_id": 32361067, "comment_id": 52600113, "body": "@tchrist: <i>&quot;I\u2019ve closed this as a duplicate&quot;</i> followed by <i>&quot;It may perhaps not be a duplicate&quot;</i> doesn&#39;t look good. Perhaps you should spend some time chilling before you hit the red button. I would accept a close <i>vote</i> on the basis of <b><i>unclear what you&#39;re asking</i></b>, but I&#39;ve never been sure about that one as the OP should be allowed at least a little time to fix their question based on the comments that it gets. In this case I think two hours is adequate"}, {"owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441230901, "post_id": 32361067, "comment_id": 52600141, "body": "@Borodin You\u2019re right. I was going to come back to it and got distracted."}, {"owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "edited": false, "score": 0, "creation_date": 1441362038, "post_id": 32361067, "comment_id": 52659739, "body": "@Ayesha check the solution I provided in answer section. I believe it will work for you"}], "answers": [{"comments": [{"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441380567, "post_id": 32395361, "comment_id": 52671554, "body": "@iamnew- i get a syntax error because i am not specifying the text file as shown above. i am specifying the complete path of the file in $filename. Can you tell me how we should replace test.txt with $filename.  $filename= sccmp.com\\folder1\\text1.txt"}, {"owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "reply_to_user": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441383958, "post_id": 32395361, "comment_id": 52673529, "body": "can you update that piece of code and the error in your question so that I can have a look ?"}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441384603, "post_id": 32395361, "comment_id": 52673825, "body": "@iamnew- updated the post. could you please have a look"}, {"owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "reply_to_user": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441388615, "post_id": 32395361, "comment_id": 52675839, "body": "you didn&#39;t mention what you have assigned in $filename and error you are getting. so Iam assuming that you have decleared $filename= sccmp.com\\folder1\\text1.txt now change this to $filename=&quot;\\\\ sccmp\\.com\\\\folder1\\\\text1\\.txt&quot;; and then try"}], "tags": [], "owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "is_accepted": true, "score": 1, "last_activity_date": 1441362266, "last_edit_date": 1441362266, "creation_date": 1441361155, "answer_id": 32395361, "question_id": 32361067, "link": "https://stackoverflow.com/questions/32361067/check-whether-a-file-is-opened-in-excel-using-perl/32395361#32395361", "title": "Check whether a file is opened in Excel using Perl", "body": "<p>try this or you can use the other one also for same thing</p>\n\n<pre><code>open TF, \"&lt;test.txt\" or die \"unable to open file $!\"; #open the existing test.txt file\n\nif(&lt;TF&gt;)\n{\n       print \"file is open\";\n}\nelse\n{\n    print \"There might an issue with this file\";\n}\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<p>if you want to check whether a file handler is open or not try this </p>\n\n<pre><code> open TF, \"&gt;&gt;test1.txt\" or die \"unable to open file $!\";\n\n    if(tell(TF) != -1)\n    {\n\n        print \"file is open\";\n\n    }\n    else\n    {\n        print \"There might an issue with this file\";\n    }\n</code></pre>\n\n<p>tell reports the position where you are in the file . If it's -1 which is an invalid position means that you aren't anywhere in the file.</p>\n"}], "owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "accepted_answer_id": 32395361, "answer_count": 1, "score": 0, "last_activity_date": 1441384579, "creation_date": 1441220282, "last_edit_date": 1495539885, "question_id": 32361067, "link": "https://stackoverflow.com/questions/32361067/check-whether-a-file-is-opened-in-excel-using-perl", "title": "Check whether a file is opened in Excel using Perl", "body": "<p>I am currently able to check whether a CSV file with <code>.csv</code> extension is open by using this code</p>\n\n<pre><code>if (-e $filename) {\n    if (open(TXT,\"&gt;&gt;$filename\")){\n        #file is closed \n    } \n    else {\n        #file is open\n    }  \n} \n</code></pre>\n\n<p>If I try this with a <code>.txt</code> file instead of a <code>.csv</code> file, then the test fails. It fails means the code executes if statement even when the file is opened by me whereas it should have executed else statement of the code. </p>\n\n<p>But if I open a <code>.txt</code> file using Excel, it fails too.</p>\n\n<p>How can I ensure that the test is successful if the file is opened using Notepad or Excel?</p>\n\n<p>I checked another post <a href=\"https://stackoverflow.com/questions/10815012/how-do-you-check-if-a-file-is-open-using-perl\">How do you check if a file is open using Perl?</a> but it didn't work for me. Can someone please suggest how to work on this.</p>\n\n<p>UPDATE:</p>\n\n<pre><code>if (-e $filename) {\n    if (open(TXT,\"&gt;&gt;$filename\")){\n          #file is not in use   \n    } else {\n          #file is in use\n}  \n</code></pre>\n\n<p>If i replace the above code with the one mentioned in the answer</p>\n\n<pre><code>open TF, \"&lt;$filename\" or die \"unable to open file $!\"; #open the existing file\nif(&lt;TF&gt;){\n    close TXT;  \n} else {\n    goto END;\n</code></pre>\n\n<p>}</p>\n\n<p>It doesnot work. maybe i did a syntax error on line where we open the existing file. ? </p>\n"}, {"tags": ["perl", "mask", "perl-module", "mod-perl"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1441214305, "creation_date": 1441214305, "answer_id": 32359356, "question_id": 32359205, "link": "https://stackoverflow.com/questions/32359205/unable-to-take-0-as-password-input-using-win32console/32359356#32359356", "title": "unable to take 0 as password input using Win32::Console", "body": "<p>The string <code>\"0\"</code> is a false value in Perl, so this condition</p>\n\n<pre><code>$Data = $handle-&gt;InputChar(1)\n</code></pre>\n\n<p>is false when <code>$handle-&gt;InputChar(1)</code> returns the <code>\"0\"</code> string. Maybe a better check is whether the input does not match the empty string:</p>\n\n<pre><code>while ((my $Data = $handle-&gt;InputChar(1)) ne \"\") { ...\n</code></pre>\n"}], "owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 32359356, "answer_count": 1, "score": 2, "last_activity_date": 1520392158, "creation_date": 1441213831, "last_edit_date": 1520392158, "question_id": 32359205, "link": "https://stackoverflow.com/questions/32359205/unable-to-take-0-as-password-input-using-win32console", "title": "unable to take 0 as password input using Win32::Console", "body": "<p>I am new to this field. I am using the below code to mask password. it working fine but having issue while taking a password which has 0 (e.x. Pass012) in it.</p>\n\n<p>As soon as I am entering 0 this script is exiting. it is not at all taking 0 as input. I tried to find out the reason and it seems <code>my $Data = $handle-&gt;InputChar(1))</code> is unable to read 0, I am not sure why.</p>\n\n<p>can anyone please dig into this code let me know what might be the issue here and how I can take 0 as a password input ?</p>\n\n<pre><code>#!/usr/bin/perl\nuse Win32::Console;\n\n\nuse strict; use warnings;\nuse Win32::Console;\n\nrun();\n\nsub run {\n    my $StdIn = Win32::Console-&gt;new(STD_INPUT_HANDLE);\n    $StdIn-&gt;Mode(ENABLE_PROCESSED_INPUT);\n\n    my $Password = prompt_password($StdIn, \"Enter Password: \", '*');\n\n    print \"\\n$Password\";\n\n    return;\n}\n\nsub prompt_password {\n    my ($handle, $prompt, $mask) = @_;\n    my ($Password);\n\n    local $| = 1;\n    print $prompt;\n\n    $handle-&gt;Flush;\n\n    while (my $Data = $handle-&gt;InputChar(1)) {\n        last if \"\\r\" eq $Data;\n\n        if (\"\\ch\" eq $Data ) {\n            if ( \"\" ne chop( $Password )) {\n                print \"\\ch \\ch\";\n            }\n            next;\n        }\n\n        $Password .= $Data;\n        print $mask;\n    }\n\n    return $Password;\n}\n</code></pre>\n"}, {"tags": ["perl", "pass-by-reference"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441212413, "post_id": 32358436, "comment_id": 52590305, "body": "Will point out - you don&#39;t actually need to do all that. You can instead <code>my $letter = &#39;a&#39;; print $letter++ for ( 1..10 );</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1441212528, "post_id": 32358436, "comment_id": 52590373, "body": "Even though I provided an answer that does what you&#39;re asking, I would generally recommend that you avoid doing stuff like this. It&#39;s a little disorienting to have the loop index incremented &quot;at a distance&quot;."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441213391, "post_id": 32358436, "comment_id": 52590940, "body": "@Sobrique I can&#39;t believe that works, but the behavior is even <a href=\"http://perldoc.perl.org/perlop.html#Auto-increment-and-Auto-decrement\" rel=\"nofollow noreferrer\">documented</a>. Thanks for teaching me something new today."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441214151, "post_id": 32358436, "comment_id": 52591469, "body": "@MattJacob The <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">range operator</a> works the same way, allowing you to do things like <code>say for &#39;a&#39; .. &#39;zz&#39;;</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441215162, "post_id": 32358436, "comment_id": 52592043, "body": "@ThisSuitIsBlackNot I knew about that one, but I didn&#39;t think that incrementing a string would even work, let alone produce a somewhat desirable output."}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 2, "last_activity_date": 1441211950, "creation_date": 1441211950, "answer_id": 32358570, "question_id": 32358436, "link": "https://stackoverflow.com/questions/32358436/is-it-possible-to-increment-a-scalar-reference-in-perl/32358570#32358570", "title": "Is it possible to increment a scalar reference in Perl?", "body": "<p>You need to dereference <code>$var</code> inside the subroutine, like this:</p>\n\n<pre><code>my $x = 0;\n\nsay $x;  # prints 0\nfoo(\\$x);\nsay $x;  # prints 1\n\nsub foo {\n    my $y = shift;\n    $$y++;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "reply_to_user": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1441272577, "post_id": 32358723, "comment_id": 52615086, "body": "@DaveSherohman: In any language that has pass-by-reference, if you assign a pass-by-reference parameter to another regular local variable, that variable is an independent copy of the original."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 1, "creation_date": 1441313713, "post_id": 32358723, "comment_id": 52641196, "body": "Yep, I stand corrected. I happen to be at YAPC::EU at the moment, so I found a Perl 5 core dev and asked about the difference between the aliasing of @_ and pass-by-reference.  His answer was &quot;oh, it is a pass-by-reference&quot;. Since I was wrong and this comment discussion isn&#39;t likely to be helpful to anyone in the future, I&#39;m deleting my earlier comments."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1441313805, "last_edit_date": 1441313805, "creation_date": 1441212366, "answer_id": 32358723, "question_id": 32358436, "link": "https://stackoverflow.com/questions/32358436/is-it-possible-to-increment-a-scalar-reference-in-perl/32358723#32358723", "title": "Is it possible to increment a scalar reference in Perl?", "body": "<p>You can pass a reference to the variable to modify.</p>\n\n<pre><code>sub increment {\n    my ($ref) = @_;\n    ++$$ref;\n}\n\nmy $i = 0;\nsay $i;  # prints 0\nincrement(\\$i);\nsay $i;  # prints 1\n</code></pre>\n\n<p>You could also take advantage of the fact that Perl <a href=\"https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_reference\" rel=\"nofollow\">passes by reference</a>.</p>\n\n<pre><code>sub increment {\n    ++$_[0];\n}\n\nmy $i = 0;\nsay $i;  # prints 0\nincrement($i);\nsay $i;  # prints 1\n</code></pre>\n\n<hr>\n\n<p>But hiding the increment as such is a really bad idea. Either iterate over a list,</p>\n\n<pre><code>for my $x ('a'..'z') {\n   ...\n}\n</code></pre>\n\n<p>Or write an iterator.</p>\n\n<pre><code>sub make_iter {\n   my @list = 'a'..'z';\n   return sub {\n      return @list ? () : shift(@list);\n   };\n}\n\nmy $iter = make_iter();\nwhile (my ($x) = $iter-&gt;()) {\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 387, "user_id": 1463788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a87bd7788b25685b65135313865f5356?s=128&d=identicon&r=PG", "display_name": "ND Geek", "link": "https://stackoverflow.com/users/1463788/nd-geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1325, "favorite_count": 0, "accepted_answer_id": 32358723, "answer_count": 2, "score": 3, "last_activity_date": 1441313805, "creation_date": 1441211528, "question_id": 32358436, "link": "https://stackoverflow.com/questions/32358436/is-it-possible-to-increment-a-scalar-reference-in-perl", "title": "Is it possible to increment a scalar reference in Perl?", "body": "<p>Say I have a number, <code>$x = 0;</code> and I want to increment it with a subroutine, but the subroutine won't be returning its value:</p>\n\n<pre><code>sub increment {\n    my ($var) = @_;\n\n    my @list = (\n        'a',\n        'b',\n        'c',\n\n        ...\n\n        'x',\n        'y',\n        'z'\n    );\n\n    return $list[$var++];\n}\n\nwhile ($x &lt; 10) {\n    print increment($x);\n}\n</code></pre>\n\n<p>As-is, this will print <code>aaaaaaaaaa</code> forever instead of <code>abcdefghij</code>.  If I replace <code>increment($x)</code> with <code>increment(\\$x)</code>, it converts the scalar address to a decimal number and increments that instead.  In the above scenario, it ends up throwing an error because 25423331 or whatever isn't a valid array element.</p>\n\n<p>If $x were an element in a hash or an array, I could pass the parent as a reference to have the original modified:</p>\n\n<pre><code>$x = {'val' =&gt; 0};\nwhile ($x-&gt;{'val'} &lt; 10) {\n    print increment($x);\n}\n\nsub increment {\n    ...\n    return $list[$var-&gt;{$val}++];\n}\n</code></pre>\n\n<p>How can I modify the original value of a scalar reference?</p>\n"}, {"tags": ["c", "linux", "macos", "perl", "travis-ci"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441211246, "post_id": 32358197, "comment_id": 52589667, "body": "Check <a href=\"https://metacpan.org/pod/App::cpanminus#Installing-to-system-perl\" rel=\"nofollow noreferrer\">metacpan.org/pod/App::cpanminus#Installing-to-system-perl</a>"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1441265885, "post_id": 32358866, "comment_id": 52610850, "body": "Good job figuring out local::lib also! :)"}], "tags": [], "owner": {"reputation": 1898, "user_id": 431087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N5MGz.jpg?s=128&g=1", "display_name": "Isaac Turner", "link": "https://stackoverflow.com/users/431087/isaac-turner"}, "is_accepted": true, "score": 4, "last_activity_date": 1441228194, "last_edit_date": 1441228194, "creation_date": 1441212790, "answer_id": 32358866, "question_id": 32358197, "link": "https://stackoverflow.com/questions/32358197/travis-ci-install-perl-module-with-non-perl-language/32358866#32358866", "title": "Travis CI Install perl module with non-perl language", "body": "<p>Thanks to @simbabque's comment I installed cpanm to the system perl, then used cpanm to install the perl module and it works:</p>\n\n<pre><code>curl -L https://cpanmin.us | sudo perl - --sudo App::cpanminus\nsudo cpanm JSON\n</code></pre>\n\n<p><strike>I've not yet figured out the easiest way to install locally without using sudo.</strike></p>\n\n<p><strong>Edit:</strong> Without requiring sudo, using <code>local::lib</code> to setup <code>$PERL5LIB</code> paths etc.:</p>\n\n<pre><code># Install modules into ~/perl5 using system perl\ncurl -L https://cpanmin.us | perl - App::cpanminus\n~/perl5/bin/cpanm local::lib\n~/perl5/bin/cpanm JSON\n\n# Add path to ~/perl5 modules to ~/.bashrc\necho '[ $SHLVL -eq 1 ] &amp;&amp; eval \"$(perl -I$HOME/perl5/lib/perl5 -Mlocal::lib)\"' &gt;&gt; ~/.bashrc\n</code></pre>\n"}], "owner": {"reputation": 1898, "user_id": 431087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N5MGz.jpg?s=128&g=1", "display_name": "Isaac Turner", "link": "https://stackoverflow.com/users/431087/isaac-turner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 2, "accepted_answer_id": 32358866, "answer_count": 1, "score": 4, "last_activity_date": 1441228194, "creation_date": 1441210759, "question_id": 32358197, "link": "https://stackoverflow.com/questions/32358197/travis-ci-install-perl-module-with-non-perl-language", "title": "Travis CI Install perl module with non-perl language", "body": "<p>How do you install perl modules on linux and mac platforms on Travis CI when the language is <em>not</em> set to perl?  I'm compiling a C program with perl test scripts.</p>\n\n<p>If the language is perl, <code>cpanm</code> is available:</p>\n\n<pre><code>cpanm JSON\n</code></pre>\n\n<p>Otherwise if the platform is linux:</p>\n\n<pre><code>sudo apt-get install libjson-pp-perl\n</code></pre>\n\n<p>But when on mac <code>cpanm</code> and <code>apt-get</code> are not available. The mac platform has the <code>brew</code> command available to install programs but I can't figure out if I need to install a fresh version of perl instead of just a module for the system perl version. </p>\n\n<p>The mac version also has the <code>cpan JSON</code> command available, but it hangs to go through an interactive first-run configuration. </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 422, "user_id": 7736, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/68fe21183c52922380de331387c280d4?s=128&d=identicon&r=PG", "display_name": "William Jens", "link": "https://stackoverflow.com/users/7736/william-jens"}, "edited": false, "score": 0, "creation_date": 1441384866, "post_id": 32358414, "comment_id": 52673951, "body": "I was hopeful but I get the same results - &quot;Bad address&quot; when used with &quot;localhost&quot; and &quot;Invalid argument&quot; when used with FQDN of local machine. Also, I don&#39;t get any debug output like I do when it succeeds."}], "tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": false, "score": 1, "last_activity_date": 1441211852, "last_edit_date": 1441211852, "creation_date": 1441211462, "answer_id": 32358414, "question_id": 32357384, "link": "https://stackoverflow.com/questions/32357384/how-do-i-prevent-ip6-usage-on-net-smtp/32358414#32358414", "title": "How do I prevent ip6 usage on net smtp", "body": "<p>You can try forcing the dns resolution to ipv4 with <code>Domain =&gt; AF_INET}</code>, i.e.:</p>\n\n<pre><code>my $smtp = Net::SMTP-&gt;new('FQDN',\n                           Timeout =&gt; 30,\n                           Domain =&gt; AF_INET,\n                           Debug   =&gt; 1,\n                          );\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>If \"Domain\" is not given, AF_UNSPEC is assumed, that is, both AF_INET\n  and AF_INET6 will be both considered when resolving DNS  names.\n  AF_INET6 is prioritary.</p>\n</blockquote>\n\n<p>SRC: <a href=\"http://www.perlmonks.org/?node_id=1127249\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=1127249</a></p>\n"}], "owner": {"reputation": 422, "user_id": 7736, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/68fe21183c52922380de331387c280d4?s=128&d=identicon&r=PG", "display_name": "William Jens", "link": "https://stackoverflow.com/users/7736/william-jens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1441211852, "creation_date": 1441208158, "question_id": 32357384, "link": "https://stackoverflow.com/questions/32357384/how-do-i-prevent-ip6-usage-on-net-smtp", "title": "How do I prevent ip6 usage on net smtp", "body": "<p>My Net::SMTP code on Windows 2012 / StrawberryPerl is crapping out and I think it's because Perl is trying to use IPv6 addresses and my local MS SMTP server isn't running on IPv6. The following works, but if I use \"localhost\" or the FQDN the Net::SMTP->new() fails and $@ contains \"Bad address\"</p>\n\n<pre><code>my $smtp = Net::SMTP-&gt;new('127.0.0.1',\n                           Timeout =&gt; 30,\n                           Debug   =&gt; 1,\n                          );\n</code></pre>\n\n<p>Also, if I use the FQDN of a remote SMTP server (Windows 2008 / IMail), it works. </p>\n\n<p>Both the local &amp; remote servers have SMTP listening on port 25 only for IPv4.</p>\n\n<p>Is there a way to force IPv4 within my script? I thought about disabling IPv6 within Windows but I read that it isn't recommended. What else can I try to debug this?</p>\n"}, {"tags": ["mysql", "linux", "perl", "dbi", "dbd"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1441207907, "post_id": 32357257, "comment_id": 52587554, "body": "Is the MySQL client installed (<code>sudo yum install mysql.x86_64</code>, perhaps)?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441208272, "post_id": 32357257, "comment_id": 52587808, "body": "Is that the system perl or did you install your own? Last I checked, EL 6 came with Perl 5.10.1, but maybe they&#39;ve upgraded since then."}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "edited": false, "score": 0, "creation_date": 1441208485, "post_id": 32357257, "comment_id": 52587968, "body": "$ sudo yum install mysql.x86_64     Setting up Install Process     Package mysql-5.1.73-5.el6_6.x86_64 is obsoleted by mysql-community-client-5.6.26-2.el6.x86_64 which is already installed     Nothing to do     $"}, {"owner": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "edited": false, "score": 0, "creation_date": 1441208599, "post_id": 32357257, "comment_id": 52588043, "body": "what&#39;s <code>rpm -ql perl-DBD-MySQL</code> output?"}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "edited": false, "score": 0, "creation_date": 1441208644, "post_id": 32357257, "comment_id": 52588070, "body": "There is shared Perl library across company network.. System Admins maintain that. Most Linux servers that I just checked have this version of Perl (5.12)."}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "edited": false, "score": 0, "creation_date": 1441208700, "post_id": 32357257, "comment_id": 52588105, "body": "$ rpm -ql perl-DBD-MySQL /usr/lib64/perl5/Bundle /usr/lib64/perl5/Bundle/DBD /usr/lib64/perl5/Bundle/DBD/mysql.pm /usr/lib64/perl5/DBD /usr/lib64/perl5/DBD/mysql /usr/lib64/perl5/DBD/mysql.pm /usr/lib64/perl5/DBD/mysql/GetInfo.pm /usr/lib64/perl5/DBD/mysql/INSTALL.pod /usr/lib64/perl5/auto/DBD /usr/lib64/perl5/auto/DBD/mysql /usr/lib64/perl5/auto/DBD/mysql/mysql.so"}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "edited": false, "score": 0, "creation_date": 1441208706, "post_id": 32357257, "comment_id": 52588109, "body": "/usr/share/doc/perl-DBD-MySQL-4.013 /usr/share/doc/perl-DBD-MySQL-4.013/ChangeLog /usr/share/doc/perl-DBD-MySQL-4.013/INSTALL.html /usr/share/doc/perl-DBD-MySQL-4.013/README /usr/share/doc/perl-DBD-MySQL-4.013/TODO /usr/share/man/man3/Bundle::DBD::mysql.3pm.gz /usr/share/man/man3/DBD::mysql.3pm.gz /usr/share/man/man3/DBD::mysql::INSTALL.3pm.gz $"}, {"owner": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "edited": false, "score": 0, "creation_date": 1441208887, "post_id": 32357257, "comment_id": 52588202, "body": "Oh, the system perl should works. Have a try."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441208975, "post_id": 32357257, "comment_id": 52588257, "body": "@Joe I think you&#39;ll have to get your sysadmin to install your Perl modules. You&#39;re running perl 5.12.2, but yum uses the system perl, which I assume is 5.10.1. Note how all the components for perl-DBD-MySQL are installed in <code>&#47;usr&#47;lib64&#47;perl5</code>, not <code>&#47;mu&#47;sdk&#47;perl</code>"}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "reply_to_user": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "edited": false, "score": 0, "creation_date": 1441208976, "post_id": 32357257, "comment_id": 52588258, "body": "@ngn999 How can I try &#39;system perl&#39; ? What should I type?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441209119, "post_id": 32357257, "comment_id": 52588347, "body": "@Joe &quot;How can I try &#39;system perl&#39;&quot; Change your shebang to <code>#!&#47;usr&#47;bin&#47;perl</code> (although that won&#39;t work so well if you have environment variables like <code>PERL5LIB</code> set and pointing to your perl 5.12.2 installation)."}, {"owner": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "edited": false, "score": 0, "creation_date": 1441209150, "post_id": 32357257, "comment_id": 52588369, "body": "/usr/bin/perl script.pl?"}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "edited": false, "score": 0, "creation_date": 1441209368, "post_id": 32357257, "comment_id": 52588497, "body": "/usr/bin/perl worked! I am so beginner in this.. Did not realized there might be 2 versions of Perl installed on this server.. $ /usr/bin/perl -v      This is perl, v5.10.1 (*) built for x86_64-linux-thread-multi"}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "edited": false, "score": 0, "creation_date": 1441209543, "post_id": 32357257, "comment_id": 52588624, "body": "(adding shebang #!/usr/bin/perl  at the beginning of script did not work but at least have a workaround with /usr/bin/perl  myscript.pl)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441209647, "post_id": 32357257, "comment_id": 52588699, "body": "@Joe If you invoke your script like this: <code>perl myscript.pl</code> then the shebang will be ignored. If you invoke it like this: <code>&#47;path&#47;to&#47;myscript.pl</code> then the shebang is used."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441209761, "post_id": 32357257, "comment_id": 52588774, "body": "Are you supposed to be doing your development work with the shared perl? If so, it would be better to ask your sysadmin to install the modules you need so that you&#39;re using the same version of perl as the rest of your company."}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "edited": false, "score": 1, "creation_date": 1441209918, "post_id": 32357257, "comment_id": 52588874, "body": "To be honest - I just got the server and saying &#39;everything is installed there&#39;. Was not sure there will be 2 different Perl version and possibly different modules installed.. But thank you guys, this was simple but saved me several hours of tumbling around! :)"}], "owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1680, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1441208177, "creation_date": 1441207754, "last_edit_date": 1441208177, "question_id": 32357257, "link": "https://stackoverflow.com/questions/32357257/perl-can-not-connect-to-mysql-with-dbdmysql-on-rhel-6-7", "title": "Perl can not connect to MySQL (with DBD::mysql) on RHEL 6.7", "body": "<p>I have Perl installed on Linux RHEL:\nperl -v</p>\n\n<pre><code>This is perl 5, version 12, subversion 2 (v5.12.2) built for x86_64-linux-thread-multi\n</code></pre>\n\n<p>When I run command to see Perl modules installed:   </p>\n\n<pre><code>find `perl -e 'print \"@INC\"'` -name '*.pm' -print\n</code></pre>\n\n<p>I can see for DBI:</p>\n\n<pre><code>/mu/sdk/perl/5.12.2-gcc443-rhel5-64/lib/DBI/DBD/Metadata.pm\n/mu/sdk/perl/5.12.2-gcc443-rhel5-64/lib/DBI/DBD/SqlEngine.pm\n/mu/sdk/perl/5.12.2-gcc443-rhel5-64/lib/DBD/mysql/GetInfo.pm\n/mu/sdk/perl/5.12.2-gcc443-rhel5-64/lib/DBD/mysql.pm\n/mu/sdk/perl/5.12.2-gcc443-rhel5-64/lib/Bundle/DBD/mysql.pm\n</code></pre>\n\n<p>And MySQL installed and running:</p>\n\n<pre><code>Server version: 5.6.26 MySQL Community Server (GPL)\n</code></pre>\n\n<p>I have 2 lines of code in a Perl Script:</p>\n\n<pre><code>use DBI;\nmy $dbh = DBI-&gt;connect(\"DBI:mysql:database=test;host=localhost\",\"root\", \"pass\");\n</code></pre>\n\n<p>Error that I see is:</p>\n\n<pre><code>$ perl mysql.pl\ninstall_driver(mysql) failed: Can't load '/mu/sdk/perl/5.12.2-gcc443-rhel5-64/lib/auto/DBD/mysql/mysql.so' for module DBD::mysql: libmysqlclient.so.15: cannot open shared object file: No such file or directory at /mu/apps/perl/5.12.2-gcc443-rhel5-64/lib/DynaLoader.pm line 200.\n at (eval 3) line 3\nCompilation failed in require at (eval 3) line 3.\nPerhaps a required shared library or dll isn't installed where expected\n at mysql.pl line 2\n$\n</code></pre>\n\n<p>I verified with YUM:</p>\n\n<pre><code>$ sudo yum install perl-DBD-MySQL\nSetting up Install Process\nPackage perl-DBD-MySQL-4.013-3.el6.x86_64 already installed and latest version\nNothing to do\n$\n</code></pre>\n\n<p>This is the list of /usr/lib64/mysql :</p>\n\n<pre><code>$ pwd\n/usr/lib64/mysql\n\n$ ls -lrth\n/usr/lib64/mysql\n\ntotal 14M\n-rwxr-xr-x 1 root root 8.6M Jul 14 17:47 libmysqlclient.so.18.1.0*\n-rwxr-xr-x 1 root root 2.7M Jul 14 17:49 libmysqlclient.so.16.0.0*\n-rwxr-xr-x 1 root root 2.7M Jul 14 17:49 libmysqlclient_r.so.16.0.0*\nlrwxrwxrwx 1 root root   24 Jul 27 18:23 libmysqlclient.so.18 -&gt; libmysqlclient.so.18.1.0*\nlrwxrwxrwx 1 root root   24 Jul 27 18:23 libmysqlclient_r.so.18.1.0 -&gt; libmysqlclient.so.18.1.0*\nlrwxrwxrwx 1 root root   20 Jul 27 18:23 libmysqlclient_r.so.18 -&gt; libmysqlclient.so.18*\nlrwxrwxrwx 1 root root   24 Jul 27 18:23 libmysqlclient.so.16 -&gt; libmysqlclient.so.16.0.0*\nlrwxrwxrwx 1 root root   26 Jul 27 18:23 libmysqlclient_r.so.16 -&gt; libmysqlclient_r.so.16.0.0*\ndrwxr-xr-x 3 root root 4.0K Jul 27 18:23 plugin/\n$\n</code></pre>\n\n<p>What should I do next? \nHow to configure this problematic (libmysqlclient.so.15) or there is some other problem?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441206624, "post_id": 32356783, "comment_id": 52586595, "body": "Please don&#39;t give us &#39;something similar to&#39; - we need a solid example. And an example of input is good too."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1441206906, "post_id": 32356783, "comment_id": 52586837, "body": "Why are you reading the files <b>three times</b> and overwriting the existing data with each subsequent iteration?"}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1441208278, "post_id": 32356783, "comment_id": 52587816, "body": "Sobrique - in what way is it not a solid example? It showed enough of each output to symbolize the pattern. If I pasted the whole output there wouldn&#39;t be enough character count... these files are massive.  I didn&#39;t provide an example of input as I made it clear that the input were files with IP addresses separated by line, which I thought was clear. Sorry if not, am new to this..."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1441207016, "post_id": 32356836, "comment_id": 52586927, "body": "Thanks for your comment. I got the system cat code from online and it seemed to do (nearly) what I wanted to I stuck with it. I will do some research into Perl open calls and try to use these instead.  I basically have multiple files of IP addresses that I need into a JSON file so that this can be read into an API that accepts bulk IP addresses in JSON format."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1441207179, "post_id": 32356836, "comment_id": 52587033, "body": "If you can give examples of input/output I can improve my answer."}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1441278141, "post_id": 32356836, "comment_id": 52618515, "body": "this does not work, output is just loads of &quot;[1]&quot;. It is not necessary for a regex because all the input files already have correct ip addresses formatted on each line."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1441278243, "post_id": 32356836, "comment_id": 52618581, "body": "Sorry, minor typo there - try again and it&#39;ll work. Doesn&#39;t need a regex, but I wasn&#39;t entirely sure what your input format was because you didn&#39;t post it. Bear in mind though - you do have to do some transformation (e.g. <code>chomp</code>) as your input will include linefeeds."}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1441278770, "post_id": 32356836, "comment_id": 52618922, "body": "Great, thanks! I cleaned it up a bit myself and removed the regex."}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1441279761, "post_id": 32356836, "comment_id": 52619584, "body": "any chance you know why when I apply this same logic to my domain list (I took out the regex) that my formatting is messing up by it adding random &quot;\\t&quot; ?: [&quot;000cc.com\\t&quot;,&quot;1-verygoods.ru\\t&quot;,&quot;114bds.com\\t&quot;,&quot;120a.com\\t&zwnj;&#8203;&quot;,&quot;123mdw.com\\t&quot;,&quot;14&zwnj;&#8203;92tapasbar.com\\t&quot;,&quot;1&zwnj;&#8203;8dd.net\\t&quot;,&quot;19tenco.&zwnj;&#8203;com\\t&quot;,&quot;1aurlaub-mac&zwnj;&#8203;hen.de\\t&quot;,&quot;1sense.in&zwnj;&#8203;fo\\t&quot;,&quot;1trillionemai&zwnj;&#8203;ls.com\\t&quot;,&quot;1verygood&zwnj;&#8203;s.ru\\t&quot;,&quot;2009dddd.cn&zwnj;&#8203;\\t&quot;,&quot;2009mmmm.cn\\t&quot;,&zwnj;&#8203;&quot;2013-verygoods.ru\\t&zwnj;&#8203;&quot;,&quot;2112111.com\\t&quot;,&quot;2&zwnj;&#8203;30x.net\\t&quot;,&quot;24-proce&zwnj;&#8203;nt.ru\\t&quot;,&quot;249  Should I ask a new question with my new code? I am new to Stackoverflow"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1441279885, "post_id": 32356836, "comment_id": 52619661, "body": "Well, put the regex back in and it won&#39;t!. But I&#39;d guess you have a trailing tab in your file."}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1441281093, "post_id": 32356836, "comment_id": 52620456, "body": "The regex is fine for my IP addresses, but I am wanting to do the exact same procedure but for a list of domain&#39;s as well. e.g. www.domain.com or domain2.biz etc into JSON"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 1, "creation_date": 1441281139, "post_id": 32356836, "comment_id": 52620491, "body": "<code>[\\w\\.]+</code> is a quick sanitisation for that :)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1441278176, "last_edit_date": 1441278176, "creation_date": 1441206546, "answer_id": 32356836, "question_id": 32356783, "link": "https://stackoverflow.com/questions/32356783/perl-encode-json-function-is-not-formatting-correctly/32356836#32356836", "title": "Perl encode_json function is not formatting correctly", "body": "<p>I suspect what you want is <code>pretty_print</code>:</p>\n\n<pre><code>print to_json ( \\%data, { 'pretty_print' =&gt; 1 } );\n</code></pre>\n\n<p>But can I also point out - it's thoroughly nasty to <code>system</code> <code>cat</code>. Perl has perfectly good <code>open</code> system calls. </p>\n\n<p>Especially as you basically do it twice and clobber your data in the process. </p>\n\n<p>Why <em>are</em> you trying to embed all of a file into a json structure as plain text? </p>\n\n<p>Do you mean that you are <em>perhaps</em> trying to make a JSON array with one IP per element? Because what you're doing... isn't going to work. </p>\n\n<p>How about:</p>\n\n<pre><code>#!/usr/bin/perl\n#install JSON module 'sudo cpanm JSON'\nuse warnings;\nuse strict;\nuse JSON;\nuse autodie;\n\nmy @data;\n\nforeach my $file ( glob(\"/home/jamie/store/inbound/threatfeeds/*_ip\") ) {\n    open( my $input, \"&lt;\", $file );\n    while (&lt;$input&gt;) {\n        chomp;\n        my ($ip_addr) = m/([\\d\\.]+)/;\n        push( @data, $ip_addr );\n    }\n    close($input);\n}\n\nmy $json_output = to_json( \\@data, { pretty =&gt; 1 } );\nprint $json_output;\n</code></pre>\n\n<p>Assuming your files are just a list of IP addresses, this will give you an 'ip' json array 'looking like': </p>\n\n<pre><code>[\n    \"10.1.2.3\",\n    \"192.168.0.22\",\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441209964, "post_id": 32357081, "comment_id": 52588918, "body": "To whomever downvoted this answer: could you explain the reason for the downvote?"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1441207267, "creation_date": 1441207267, "answer_id": 32357081, "question_id": 32356783, "link": "https://stackoverflow.com/questions/32356783/perl-encode-json-function-is-not-formatting-correctly/32357081#32357081", "title": "Perl encode_json function is not formatting correctly", "body": "<p>The step you're missing is processing the lines and building the array of IP addresses.</p>\n\n<pre><code>use File::Slurp;\nuse JSON;\n\nmy @ips;\n\nfor my $file (@FILES) {\n    my @lines = read_file($file);\n\n    for my $line (@lines) {\n        chomp($line);\n        next unless $line =~ /\\S/;\n        push(@ips, $line);\n    }\n}\n\nwrite_file('/path/to/output.json', encode_json(\\@ips));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441209376, "post_id": 32357238, "comment_id": 52588502, "body": "I&#39;m not sure why this is the accepted answer. This code will not create output in the format requested by the original poster."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441215792, "post_id": 32357238, "comment_id": 52592388, "body": "@MattJacob: I suspect the OP&#39;s description is wrong. Their code seemed to be adding a list of IP addresses <i>per file</i> to the hash, except that the addresses were in one long string rather than in separate elements of an array. I took a guess that the <i>&quot;in this format&quot;</i> is meant to be <i>per file</i> and I seem to have guessed right"}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1441277646, "post_id": 32357238, "comment_id": 52618242, "body": "@Borodin Actually, this code prints the name of the original ip address file in the JSON output, I don&#39;t want this. I simply want an output file of IP addresses only, e.g. [&quot;1.1.1.1&quot;,&quot;2.2.2.2&quot;,&quot;3.3.3.3&quot;] and not   {&quot;/home/jamie/store/inbound/threatfeeds/emergingthreats2_ip&quot;&zwnj;&#8203;:[&quot;1.171.135.250&quot;,&quot;1&zwnj;&#8203;.172.11.224&quot;,&quot;1.233.&zwnj;&#8203;92.197&quot;]  I am new to Perl, I understand all of your code apart from $data{$file} = \\@lines; - how can I edit this to get what I want to achieve?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1441288829, "post_id": 32357238, "comment_id": 52626188, "body": "@Jamie: Ah okay. So Matt Jacob is right! I assumed you wanted the addresses divided by their source file as that&#39;s what you wrote in your Perl code. I&#39;ve added an update to my solution toi show you how to just combine them all into an array"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1441288791, "last_edit_date": 1592644375, "creation_date": 1441207703, "answer_id": 32357238, "question_id": 32356783, "link": "https://stackoverflow.com/questions/32356783/perl-encode-json-function-is-not-formatting-correctly/32357238#32357238", "title": "Perl encode_json function is not formatting correctly", "body": "<p>In your attempts to <em>slurp</em> the data into a single scalar, you are creating a single string when you want an array of IP addresses</p>\n<p>Something like this will work for you</p>\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse JSON;\n\nmy %data;\nmy @files = glob '/home/jamie/store/inbound/threatfeeds/*_ip';\n\nfor my $file (@files) {\n    open my $fh, '&lt;', $file;\n    chomp ( my @lines = &lt;$fh&gt; );\n    $data{$file} = \\@lines;\n}\n\nmy $json_output = encode_json \\%data;\nprint $json_output;\n</code></pre>\n<br/>\n<hr />\n<h3>Update</h3>\n<p>Okay, so you want just a list of IP addresses. That's very simple to achieve</p>\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse JSON;\n\nmy @files = glob '/home/jamie/store/inbound/threatfeeds/*_ip';\n\nmy @data;\n\nfor my $file (@files) {\n    open my $fh, '&lt;', $file;\n    chomp ( my @lines = &lt;$fh&gt; );\n    push @data, @lines;\n}\n\nmy $json_output = encode_json \\@data;\nprint $json_output;\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 32356836, "answer_count": 3, "score": -2, "last_activity_date": 1441288791, "creation_date": 1441206407, "last_edit_date": 1441207387, "question_id": 32356783, "link": "https://stackoverflow.com/questions/32356783/perl-encode-json-function-is-not-formatting-correctly", "title": "Perl encode_json function is not formatting correctly", "body": "<p>I have a few files full of IP addresses, one address per line. I want to combine them all together into one JSON file in this format:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\"1.1.1.1\",\"2.2.2.2\",\"3.3.3.3\"]\n</code></pre>\n\n<p>I then want to write this to a new file. Please see my code and see my outputs at two different stages. I think it is a simple problem to fix but I am not seeing it.</p>\n\n<pre><code>#!/usr/bin/perl\n#install JSON module 'sudo cpanm JSON'\nuse warnings;\nuse strict;\nuse JSON;\n\nmy %data;\nmy @FILES = glob(\"/home/jamie/store/inbound/threatfeeds/*_ip\");\n\n# 1. Open and load each file    \nforeach my $file (@FILES) {\n    local $/ = undef;\n    open my $fh, '&lt;', $file;\n    $data{$file} = &lt;$fh&gt;;\n}\n\nforeach my $file (@FILES) {\n    $data{$file} = qx(/bin/cat \"$file\");\n}\n\nuse File::Slurp;\nforeach my $file (@FILES) {\n    $data{$file} = File::Slurp::slurp($file);\n}\n\n#convert hash array to JSON\n#print %data;\nmy $json_output = encode_json \\%data;\nprint $json_output;\n</code></pre>\n\n<p>The output as the code stands currently is something similar to this: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>216.243.31.254\\n195.239.244.122\\n103.10.133.179\\n198.13.96.39\\n198.13.96.59\\n198.13.96.233\\n104.167.119.161\\n193.201.227.90\\n208.67.1.21\\n175.139.186.213\n</code></pre>\n\n<p>If I uncomment <code>print %data</code> and comment out <code>print $json_output</code>, I get a list of IP addresses similar to this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>109.161.206.153\n91.205.173.220\n66.196.243.4\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441206287, "post_id": 32356209, "comment_id": 52586340, "body": "What do you mean by &#39;count up the numbers in each&#39;? Can you give an example? Likewise - &quot;adding an <code>a</code>&quot; - what does your new URL look like?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441207660, "post_id": 32356209, "comment_id": 52587363, "body": "I think you mean <code>my $url</code>..."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 5293028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02cb80620f95f849ceabe22f41e1f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "user5293028", "link": "https://stackoverflow.com/users/5293028/user5293028"}, "edited": false, "score": 0, "creation_date": 1441205871, "post_id": 32356282, "comment_id": 52586025, "body": "nice one, how can i now count up each parameter and generate a new link from it ?"}, {"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "reply_to_user": {"reputation": 17, "user_id": 5293028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02cb80620f95f849ceabe22f41e1f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "user5293028", "link": "https://stackoverflow.com/users/5293028/user5293028"}, "edited": false, "score": 0, "creation_date": 1441209986, "post_id": 32356282, "comment_id": 52588931, "body": "that&#39;s a separate question: please ask a new question"}], "tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": false, "score": 0, "last_activity_date": 1441205060, "creation_date": 1441205060, "answer_id": 32356282, "question_id": 32356209, "link": "https://stackoverflow.com/questions/32356209/perl-regex-and-replacement-substitutions-on-url-strings/32356282#32356282", "title": "Perl regex and replacement \u2014 substitutions on URL strings", "body": "<p>To match all url parameters and capture each parameters name and value as group 1 and 2 of each match:</p>\n\n<pre><code>/(?&lt;=[?&amp;])(\\w+)=(\\w+)/\n</code></pre>\n\n<p>See <a href=\"http://rubular.com/r/GyfdCXyAyb\" rel=\"nofollow\">live demo</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1441206182, "creation_date": 1441206182, "answer_id": 32356707, "question_id": 32356209, "link": "https://stackoverflow.com/questions/32356209/perl-regex-and-replacement-substitutions-on-url-strings/32356707#32356707", "title": "Perl regex and replacement \u2014 substitutions on URL strings", "body": "<p>I'd actually do it like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $url = \"http://test.com/index.php?id=123&amp;test=1&amp;l=1\";\n\nmy %param = $url =~ m/(\\w+)\\=(\\w+)/g;\n\nprint Dumper \\%param;\n</code></pre>\n\n<p>If you want to 'add an <code>a</code> to all parameters:</p>\n\n<pre><code>$url =~ s/(\\w+=\\w+)/$1a/g;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 5293028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02cb80620f95f849ceabe22f41e1f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "user5293028", "link": "https://stackoverflow.com/users/5293028/user5293028"}, "edited": false, "score": 0, "creation_date": 1441207630, "post_id": 32356768, "comment_id": 52587344, "body": "thats it! thats solution one."}, {"owner": {"reputation": 17, "user_id": 5293028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02cb80620f95f849ceabe22f41e1f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "user5293028", "link": "https://stackoverflow.com/users/5293028/user5293028"}, "edited": false, "score": 0, "creation_date": 1441207835, "post_id": 32356768, "comment_id": 52587490, "body": "now the other part. thats something new. i want to count each parameter up like i got a ur test.com/inde.xpph?id=2&amp;test=4 i want to split all parameters to string like id=2 and test=4 after that i want ot generate a list of id=1-100 and a list like test=1-100, thats what i need"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 17, "user_id": 5293028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02cb80620f95f849ceabe22f41e1f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "user5293028", "link": "https://stackoverflow.com/users/5293028/user5293028"}, "edited": false, "score": 0, "creation_date": 1441208108, "post_id": 32356768, "comment_id": 52587692, "body": "@user5293028: That&#39;s still a little unclear. Do you want to create all the possible URLs with the <code>id</code> and <code>test</code> parameters varying from 1 to 100? There are ten thousand different URLs like that. I have given you the tools to do what you need. I suggest you try to take this step yourself, as it&#39;s not that hard, and if you get stuck you should post a new question explaining the problem and showing your code"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441208115, "post_id": 32356768, "comment_id": 52587694, "body": "Note: This assumes that none of the named parameters repeat. That&#39;s probably fine."}, {"owner": {"reputation": 17, "user_id": 5293028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02cb80620f95f849ceabe22f41e1f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "user5293028", "link": "https://stackoverflow.com/users/5293028/user5293028"}, "edited": false, "score": 0, "creation_date": 1441208228, "post_id": 32356768, "comment_id": 52587772, "body": "no i want to generate a list.txt, the perl script should split the urls parameters in each parameter and count the value up from 1 to 100 and write them to the .txt like id=1\\n id=2\\n id=3\\n and then write append test=1\\n test=2\\n and so on"}, {"owner": {"reputation": 17, "user_id": 5293028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02cb80620f95f849ceabe22f41e1f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "user5293028", "link": "https://stackoverflow.com/users/5293028/user5293028"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441208310, "post_id": 32356768, "comment_id": 52587846, "body": "@ikegami, i asked this question as a second part in the first post :P"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1441207869, "last_edit_date": 1441207869, "creation_date": 1441206365, "answer_id": 32356768, "question_id": 32356209, "link": "https://stackoverflow.com/questions/32356209/perl-regex-and-replacement-substitutions-on-url-strings/32356768#32356768", "title": "Perl regex and replacement \u2014 substitutions on URL strings", "body": "<p>It's best to use the <a href=\"http://metacpan.org/module/URI\" rel=\"nofollow\"><code>URI</code></a> module for manipulating URLs</p>\n\n<p>Here's an example that builds the hash <code>%query</code> from the query component of the URL</p>\n\n<p>I don't understand what you mean by <em>\"I want to count the id up and open it.\"</em>. The value for the <code>id</code> parameter is in <code>$query{id}</code>, and is 123, but I can't imagine what <em>counting it up</em> might be</p>\n\n<p>I have used <code>Data::Dump</code> only to display the contents of the resultant hash. It's not necessary in your production code</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse URI;\n\nmy $url = URI-&gt;new('http://test.com/index.php?id=123&amp;test=1&amp;l=1');\nmy %query = $url-&gt;query_form;\n\nuse Data::Dump;\ndd \\%query;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{ id =&gt; 123, l =&gt; 1, test =&gt; 1 }\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>It sounds like you want to create several new URLs with an <code>a</code> added to the value of each query parameter in turn</p>\n\n<p>Here's an example of how that would work</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse URI;\nuse URI::QueryParam;\n\nmy $url = URI-&gt;new('http://test.com/index.php?id=123&amp;test=1&amp;l=1');\n\nfor my $param ( $url-&gt;query_param ) {\n    my $new_url = $url-&gt;clone;\n    $new_url-&gt;query_param($param =&gt; $url-&gt;query_param($param) . 'a');\n    print $new_url, \"\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>http://test.com/index.php?id=123a&amp;test=1&amp;l=1\nhttp://test.com/index.php?id=123&amp;test=1a&amp;l=1\nhttp://test.com/index.php?id=123&amp;test=1&amp;l=1a\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 5293028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02cb80620f95f849ceabe22f41e1f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "user5293028", "link": "https://stackoverflow.com/users/5293028/user5293028"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1458658029, "creation_date": 1441204846, "last_edit_date": 1458658029, "question_id": 32356209, "link": "https://stackoverflow.com/questions/32356209/perl-regex-and-replacement-substitutions-on-url-strings", "title": "Perl regex and replacement \u2014 substitutions on URL strings", "body": "<p>Hey I have basic questions about Perl.</p>\n\n<p>I have a link like this</p>\n\n<pre><code>my $url = \"http://test.com/index.php?id=123&amp;test=1&amp;l=1\";\n</code></pre>\n\n<p>I have three values. I want to count the <code>id</code> up and open it.</p>\n\n<p>The pages are not static. So the base URL may change or the query parameter.</p>\n\n<ul>\n<li><p>I need a regex like <code>(*)?(*)=(*)&amp;(*)</code> and I want to count up the numbers in each parameter.</p></li>\n<li><p>Another problem is that I want to add <code>a</code> to the parameter counts like <code>1a</code>, <code>2a</code>, <code>3a</code> etc. and start some requests for each modified parameter.</p></li>\n</ul>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": true, "score": 1, "last_activity_date": 1441203378, "creation_date": 1441203378, "answer_id": 32355623, "question_id": 32355494, "link": "https://stackoverflow.com/questions/32355494/error-in-accessing-hash-key/32355623#32355623", "title": "Error in accessing Hash key", "body": "<p>You are using the hash %trb in this line:</p>\n\n<pre><code>        my $val = $trb{\"$type\"};              \n</code></pre>\n\n<p>before you have declared %trb here:</p>\n\n<pre><code>my %trb = (\n0 =&gt; \"reserved\",\n32 =&gt; \"transfer event\",\n48 =&gt; \"vendor defined\");\n</code></pre>\n\n<p>Move that declaration of %trb up above the <code>while</code> loop.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1441203453, "creation_date": 1441203453, "answer_id": 32355658, "question_id": 32355494, "link": "https://stackoverflow.com/questions/32355494/error-in-accessing-hash-key/32355658#32355658", "title": "Error in accessing Hash key", "body": "<p>The hash <code>%trb</code> must be declared before it is used. Move its definition up to before the <code>while</code> statement -- after your subroutine defintion and all will be well</p>\n\n<p>You appear to be more familiar with a different language, as you usually find Perl subroutines at the end of the program, but it doesn't matter either way</p>\n"}], "owner": {"reputation": 87, "user_id": 5173396, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/141c9342301d382494097112a050450b?s=128&d=identicon&r=PG&f=1", "display_name": "Ishita Shah", "link": "https://stackoverflow.com/users/5173396/ishita-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 32355623, "answer_count": 2, "score": 0, "last_activity_date": 1441204162, "creation_date": 1441202987, "last_edit_date": 1441204162, "question_id": 32355494, "link": "https://stackoverflow.com/questions/32355494/error-in-accessing-hash-key", "title": "Error in accessing Hash key", "body": "<p>Here's my code..I am trying to create a hash lookup table and access the data from it in every loop..</p>\n\n<pre><code> #! usr/bin/perl \nuse warnings;\nuse strict;\n\nsub bin2dec \n{\n     return unpack(\"N\", pack(\"B32\", substr(\"0\" x 32 . shift, -32)));\n}\n\nwhile(&lt;&gt;)\n{\n\n    if(/SIB_DBG/)\n    {\n        if(/TTRB:\\s*([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)/ ||\n        /ETRB:\\s*([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)/ ||\n        /Command\\sETRB\\s*([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)/   )\n        {\n            print \"$_ $1 $2 $3 $4\\n\";\n            my $deci1 = hex($1);\n            my $deci2 = hex($2);\n            my $deci3 = hex($3);\n            my $deci4 = hex($4);\n\n            my $bin = reverse sprintf(\"%032b\",$deci4);   #convert to 32 bit binary and reverse\n            print \"\\nbinary :$bin\\n\";\n            my $sub = substr($bin ,16,6);                #extract required 6 bits\n            print \"string :$sub\\n\";\n\n            my $type = bin2dec($sub);                    \n            my $val = $trb{\"$type\"};              \n            print \"TRB type: $type\\n\";\n            print \"detail: $val\\n\";\n\n        }\n    }\n}\n\nmy %trb = (\n0 =&gt; \"reserved\",\n32 =&gt; \"transfer event\",\n48 =&gt; \"vendor defined\");\n</code></pre>\n\n<p>but I am getting an error even if I have declared trb .</p>\n\n<blockquote>\n  <p>Global symbol \"%trb\" requires explicit package name at script.plx line 31.\n  Execution of script.plx aborted due to compilation errors.</p>\n</blockquote>\n\n<p>Again my input log file is like</p>\n\n<pre><code>Aug 31 15:25:53 usb3 kernel: [   78.684054] SIB_DBG TTRB:00000000 00000000 00000000 00002401, PTR: ffff88005ff8b000\nAug 31 15:25:53 usb3 kernel: [   78.815428] SIB_DBG ETRB: 5ff8b850 00000000 01000000 01018001\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 142, "user_id": 3305398, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qCha0.jpg?s=128&g=1", "display_name": "john_conner", "link": "https://stackoverflow.com/users/3305398/john-conner"}, "edited": false, "score": 0, "creation_date": 1441258153, "post_id": 32356178, "comment_id": 52607066, "body": "Yeah the problem was indeed related to chomp. I chomped the lines[0] and redirected it and voila! it worked. Thanks for the insight and suggestions. I am new to perl and have been using it since 15 days. So i will learn along the way !"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1441205146, "last_edit_date": 1441205146, "creation_date": 1441204770, "answer_id": 32356178, "question_id": 32354596, "link": "https://stackoverflow.com/questions/32354596/unable-to-redirect-the-output-of-the-system-command-to-a-file-named-error-log-an/32356178#32356178", "title": "Unable to redirect the output of the system command to a file named error.log and stderr to another file named test_file.errorlog", "body": "<p>The problem is almost certainly that <code>$lines[0]</code> has a newline at the end after being read from the file</p>\n\n<p>But there are several improvements you could make</p>\n\n<ul>\n<li><p>Always <code>use strict</code> and <code>use warnings</code> at the top of every Perl program, and declare all your variables using <code>my</code> as close as possible to their first point of use</p></li>\n<li><p>Use the <em>three-parameter form of <code>open</code></em> and always check whether it succeeded, putting the built-in variable <code>$!</code> into your <code>die</code> string to say <em>why</em> it failed. You can also <code>use autodie</code> to save writing the code for this manually for every open, but it requires Perl v5.10.1 or better</p></li>\n<li><p>You shouldn't put quotes around scalar variables -- just used them as they are. so <code>chdir $path_minus_run</code> and <code>open data, $var</code> are correct</p></li>\n</ul>\n\n<p>There is also no need to save all the files to be processed and deal with them later. Within the <code>wanted</code> subroutine, <code>File::Find</code> sets you up with <code>$File::Find::dir</code> set to the directory containing the file, and <code>$_</code> set to the bare file name without a path. It also does a <code>chdir</code> to the directory for you, so the context is ideal for processing the file</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\nuse v5.10.1;\nuse autodie;\n\nuse File::Find;\n\nmy $path_to_search;\n\nfind( \\&amp;pickup_run, $path_to_search );\n\nsub pickup_run {\n\n    return unless -f and $_ eq 'RUN';\n\n    my $cmd = do {\n        open my $fh, '&lt;', $_;\n        &lt;$fh&gt;;\n    };\n    chomp $cmd;\n\n    ( my $test_name = $File::Find::dir ) =~ s/expression to be replaced//g;\n\n    my $retcode = system( \"$cmd &gt;error.log 2&gt;test_file.errorlog\" );\n\n    printf \"%s\\t\\t%s\\n\", $test_name, $retcode ? 'FAIL' : 'PASS';\n}\n</code></pre>\n"}], "owner": {"reputation": 142, "user_id": 3305398, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qCha0.jpg?s=128&g=1", "display_name": "john_conner", "link": "https://stackoverflow.com/users/3305398/john-conner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 32356178, "answer_count": 1, "score": 0, "last_activity_date": 1441205146, "creation_date": 1441200622, "last_edit_date": 1441201541, "question_id": 32354596, "link": "https://stackoverflow.com/questions/32354596/unable-to-redirect-the-output-of-the-system-command-to-a-file-named-error-log-an", "title": "Unable to redirect the output of the system command to a file named error.log and stderr to another file named test_file.errorlog", "body": "<p>This perl script is traversing all directories and sub directories, searching for a file named <code>RUN</code> in it. Then it opens the file and runs the 1st line written in the file. The problem is that I am not able to redirect the output of the system command to a file named <code>error.log</code> and <code>STDERR</code> to another file named <code>test_file.errorlog</code>, but no such file is created.</p>\n\n<p>Note that all variable are declared if not found.</p>\n\n<pre><code>find (\\&amp;pickup_run,$path_to_search);\n\n### Subroutine for extracting path of directories with RUN FILE PRESENT\nsub pickup_run {\n    if ($File::Find::name =~/RUN/) {\n        ### If RUN file is present , push it into array named run_file_present\n        push(@run_file_present,$File::Find::name);\n    }\n}\n\n###### Iterate over the array containing paths to directories containing RUN files one by one \nforeach my $var (@run_file_present) {\n    $var =~ s/\\//\\\\/g;\n    ($path_minus_run=$var) =~ s/RUN\\b//;\n    #print \"$path_minus_run\\n\";\n\n    my $test_case_name;\n    ($test_case_name=$path_minus_run) =~ s/expression to be replced//g;\n\n    chdir \"$path_minus_run\";\n    ########While iterating over the paths, open each file\n    open data, \"$var\";\n\n    #####Run the first two lines containing commands \n    my @lines = &lt;data&gt;;\n\n    my $return_code=system (\" $lines[0] &gt;error.log 2&gt;test_file.errorlog\");\n    if($return_code) {\n        print \"$test_case_name \\t \\t FAIL \\n\";\n    }\n    else {\n        print \"$test_case_name \\t \\t PASS \\n\";\n    }\n    close (data);\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash", "perl-data-structures"], "comments": [{"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1441200910, "post_id": 32353646, "comment_id": 52582328, "body": "How likely are you to add meta characters to a list that reads: &quot;error&quot;, &quot;errors&quot;, &quot;assertion&quot;, &quot;warning&quot;, &quot;warnings&quot;, &quot;paused&quot;, and &quot;active&quot;? Given the trend, and the suggested data-space, I think <code>quotemeta</code> is overkill, but there might be shop standards at work here."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441199659, "post_id": 32354175, "comment_id": 52581409, "body": "Ah yes, that was the sort of thing I was looking for."}], "tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 3, "last_activity_date": 1441199959, "last_edit_date": 1441199959, "creation_date": 1441199534, "answer_id": 32354175, "question_id": 32353646, "link": "https://stackoverflow.com/questions/32353646/inverting-a-hash-of-arrays/32354175#32354175", "title": "Inverting a hash of arrays", "body": "<p>You might want to use a double <code>map</code> here: </p>\n\n<pre><code>my %result = map { \n    my $k = $_;\n    map { ( $_ =&gt; $k ) } @{$transform{$_}}\n} keys %transform;\n</code></pre>\n\n<p>Since we are going to call a <code>map</code> within a <code>map</code> the context variable has to be saved off to a lexical. However, that is not true with a <a href=\"http://search.cpan.org/perldoc?List::Util#pairmap\" rel=\"nofollow\"><strong><code>pairmap</code></strong></a> from <a href=\"http://search.cpan.org/perldoc?List::Util\" rel=\"nofollow\"><strong><code>List::Util</code></strong></a>: </p>\n\n<pre><code>use List::Util qw&lt;pairmap&gt;;\n...\nmy %result = pairmap { map { ( $_ =&gt; $a ) } @$b } %transform;\n</code></pre>\n\n<p>...because <code>$a</code> and <code>$b</code> are already set up as local variables.</p>\n"}, {"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1441199819, "creation_date": 1441199819, "answer_id": 32354290, "question_id": 32353646, "link": "https://stackoverflow.com/questions/32353646/inverting-a-hash-of-arrays/32354290#32354290", "title": "Inverting a hash of arrays", "body": "<p>Define your original color-keyword mapping using an array reference, instead of an array, as perl will not create the hash you expect.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy %transform = ( \n    'FF0000' =&gt; [ qw ( error errors assertion ) ],\n    'FFFF00' =&gt; [ qw ( warning warnings paused ) ], \n    '008000' =&gt; [ qw ( active ) ], \n);\n\nmy %color_map = map {\n    my ($color) = $_;\n    map { $_ =&gt; $color } @{ $transform{$color} };\n} keys %transform;\n\nprint \"Original Hash\\n\";\nprint Dumper \\%transform;\nprint \"Colormap from Hash\\n\";\nprint Dumper \\%color_map;\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Original Hash\n$VAR1 = {\n      '008000' =&gt; [\n                    'active'\n                  ],\n      'FFFF00' =&gt; [\n                    'warning',\n                    'warnings',\n                    'paused'\n                  ],\n      'FF0000' =&gt; [\n                    'error',\n                    'errors',\n                    'assertion'\n                  ]\n    };\nColormap from Hash\n$VAR1 = {\n      'warnings' =&gt; 'FFFF00',\n      'assertion' =&gt; 'FF0000',\n      'errors' =&gt; 'FF0000',\n      'error' =&gt; 'FF0000',\n      'warning' =&gt; 'FFFF00',\n      'active' =&gt; '008000',\n      'paused' =&gt; 'FFFF00'\n    };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "is_accepted": false, "score": 3, "last_activity_date": 1441202892, "last_edit_date": 1441202892, "creation_date": 1441202518, "answer_id": 32355309, "question_id": 32353646, "link": "https://stackoverflow.com/questions/32353646/inverting-a-hash-of-arrays/32355309#32355309", "title": "Inverting a hash of arrays", "body": "<p>Can't say that I would recommend doing it this way, but it is possible to do with a single map using a hash slice.</p>\n\n<pre><code>my %color_map = (); # merica\nmap { @color_map{ @{ $transform{ $_ } } } = ($_) x @{ $transform{ $_ } } } keys %transform;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 6, "last_activity_date": 1441205892, "last_edit_date": 1441205892, "creation_date": 1441202655, "answer_id": 32355370, "question_id": 32353646, "link": "https://stackoverflow.com/questions/32353646/inverting-a-hash-of-arrays/32355370#32355370", "title": "Inverting a hash of arrays", "body": "<p>I wouldn't get too preoccupied with <em>\"using something like <code>map</code>\"</em> just for the sake of it. If you're having problems devising a solution that works that way then others are likely to have problems understanding what it does when you've managed to cram your foot into the slipper</p>\n\n<p>I believe this is clearest and simplest using a <code>while</code> iterator and <code>each</code></p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\n\nmy %transform = (\n    'FF0000' =&gt; [qw ( error errors assertion )],\n    'FFFF00' =&gt; [qw ( warning warnings paused )],\n    '008000' =&gt; [qw ( active )],\n);\n\nmy %colour_map;\n\nwhile ( my ($key, $val) = each %transform ) {\n    $colour_map{$_} = $key for @$val;\n}\n\ndd \\%colour_map;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  active    =&gt; \"008000\",\n  assertion =&gt; \"FF0000\",\n  error     =&gt; \"FF0000\",\n  errors    =&gt; \"FF0000\",\n  paused    =&gt; \"FFFF00\",\n  warning   =&gt; \"FFFF00\",\n  warnings  =&gt; \"FFFF00\",\n}\n</code></pre>\n"}], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1441205892, "creation_date": 1441198162, "last_edit_date": 1441200206, "question_id": 32353646, "link": "https://stackoverflow.com/questions/32353646/inverting-a-hash-of-arrays", "title": "Inverting a hash of arrays", "body": "<p>I know a clash is possible if you do this. But given a hash of arrays:</p>\n\n<pre><code>my %transform = ( \n    'FF0000' =&gt; [qw ( error errors assertion )],\n    'FFFF00' =&gt; [qw ( warning warnings paused )],\n    '008000' =&gt; [qw ( active )],\n);\n</code></pre>\n\n<p>I want to turn this into a search and replace regex. </p>\n\n<p>E.g. </p>\n\n<pre><code>my %colour_map = ( \n   'error' =&gt; 'FF0000',\n   'errors' =&gt; 'FF0000',\n   'assertion' =&gt; 'FFFF00',\n   'warning' =&gt; 'FFFF00',\n   'warnings' =&gt; 'FFFF00',\n   'paused' =&gt; 'FFFF00',\n   'active' =&gt; '008000',\n);\n\nmy $search = join( \"|\", map {quotemeta} keys %colour_map ); \n   $search = qr/\\b($search)\\b/;\n</code></pre>\n\n<p>So that I can:</p>\n\n<pre><code>while (&lt;$fh&gt;) {\n    if ( my ($match) = m/$search/i ) {\n        print \"$colour_map{lc($match)} $match\\n\";\n    }\n}\n</code></pre>\n\n<p>I'm ok with there being collisions potentially (given arrays don't require uniqueness).</p>\n\n<p>So far I've got:</p>\n\n<pre><code>my %colour_map ;\nforeach my $colour ( keys %replace ) {\n   foreach my $value ( @{$replace{$colour}} ) {\n        $colour_map{$value} = $colour;\n   }\n}\n</code></pre>\n\n<p>I think there <em>should</em> be a solution using something like <code>map</code> but I can't figure it out. </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1441198203, "last_edit_date": 1441198203, "creation_date": 1441196565, "answer_id": 32353035, "question_id": 32352882, "link": "https://stackoverflow.com/questions/32352882/how-to-find-strings-that-contain-a-substring-from-a-given-list/32353035#32353035", "title": "How to find strings that contain a substring from a given list", "body": "<p>This isn't doing what you think it's doing:</p>\n\n<pre><code>push(@red_word, [ \"error\",\"ERROR\",\"Assertion\",\"assertion\",\"Error\",\"ASSERTION\",\"Errors\" ]);\npush(@yellow_word, [ \"WARNING\",\"Warning\",\"warning\",\"PAUSED\",\"Paused\",\"paused\",\"Warnings\" ]);\npush(@green_word, [ \"ACTIVE\",\"Active\",\"active\" ]);\n</code></pre>\n\n<p>You're creating a <em>two dimensional</em> data structure a single element array, containing a nested array.</p>\n\n<pre><code>$VAR1 = [\n          [\n            'error',\n            'ERROR',\n            'Assertion',\n            'assertion',\n            'Error',\n            'ASSERTION',\n            'Errors'\n          ]\n        ];\n</code></pre>\n\n<p>That match isn't going to work very well as a result. I'm not actually sure what it'll be doing, but it won't be testing 'if the word is in the list'. </p>\n\n<p>Try instead building a regular expression from your array:</p>\n\n<pre><code>my @red_words = (\n    \"error\", \"ERROR\",     \"Assertion\", \"assertion\",\n    \"Error\", \"ASSERTION\", \"Errors\"\n);\nmy $is_red = join( \"|\", map {quotemeta} @red_words );\n$is_red = qr/($is_red)/;\n\nprint \"Red\" if $line =~ m/$is_red/;\n</code></pre>\n\n<p>Perhaps something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %colour_map = (\n    'error'     =&gt; 'FF0000',\n    'errors'    =&gt; 'FF0000',\n    'assertion' =&gt; 'FF0000',\n    'warning'   =&gt; 'FFFF00',\n    'warnings'  =&gt; 'FFFF00',\n    'paused'    =&gt; 'FFFF00',\n    'active'    =&gt; '008000',\n);\n\nmy $search = join( \"|\", map {quotemeta} keys %colour_map );\n$search = qr/\\b($search)\\b/;\n\nmy @lines = (\n    \"line containing assertion\",\n    \"a warning\",\n    \"green for active\",\n    \"A line containing ACTIVE\"\n);\n\n\nforeach my $line (@lines) {\n    if ( my ($word) = $line =~ m/$search/ ) {\n        print \"&lt;FONT COLOR=\\\"$colour_map{lc($word)}\\\"&gt;$line&lt;/FONT&gt;&lt;BR/&gt;\\n\";\n    }\n    else {\n        print \"&lt;FONT COLOUR=\\\"000000\\\"&gt;$line&lt;/FONT&gt;&lt;BR/&gt;\\n\";\n    }\n}\n</code></pre>\n\n<p>(Not entirely sure if there's a way to tranpose a list of matches. I'll have another think). </p>\n"}], "owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 32353035, "answer_count": 1, "score": 3, "last_activity_date": 1441198203, "creation_date": 1441196124, "last_edit_date": 1441196740, "question_id": 32352882, "link": "https://stackoverflow.com/questions/32352882/how-to-find-strings-that-contain-a-substring-from-a-given-list", "title": "How to find strings that contain a substring from a given list", "body": "<p>I have a string that may or may not contain some specific words.\nIF it contain the one of the works I want to print the string in a different color (depending on the word)\nSo I was thinking to have an array containing the list of the words (e.g. one for red word one for yellow and one for green as the example below:</p>\n\n<pre><code>push(@red_word, [ \"error\",\"ERROR\",\"Assertion\",\"assertion\",\"Error\",\"ASSERTION\",\"Errors\" ]);\npush(@yellow_word, [ \"WARNING\",\"Warning\",\"warning\",\"PAUSED\",\"Paused\",\"paused\",\"Warnings\" ]);\npush(@green_word, [ \"ACTIVE\",\"Active\",\"active\" ]);\n</code></pre>\n\n<p>$l is the string i want to check, I tried something like this</p>\n\n<pre><code>foreach my $l (@$lines) {\n    if ($l =~ @red_word) {\n            print '&lt;FONT COLOR=\"FF0000\"&gt;'.$l.'&lt;/FONT&gt;&lt;br&gt;';\n    }\n    else {\n        if ($l =~ @yellow_word) {\n            print '&lt;FONT COLOR=\"FFFF00\"&gt;'.$l.'&lt;/FONT&gt;&lt;br&gt;';\n        }\n        else {      \n            if ($l =~ @green_word) {\n                print '&lt;FONT COLOR=\"008000\"&gt;'.$l.'&lt;/FONT&gt;&lt;br&gt;';\n            }\n            else {\n                print '&lt;FONT COLOR=\"000000\"&gt;'.$l.'&lt;/FONT&gt;&lt;br&gt;';\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>but the result is erratic, some lines are printed in red without any relation to the list red_word.</p>\n\n<p>what am I doing wrong?</p>\n"}, {"tags": ["perl", "oracle11g", "dbi", "dbd"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441196202, "post_id": 32352567, "comment_id": 52578741, "body": "Sorry, this really is too broad a question to answer meaningfully. Have you considered hiring someone who isn&#39;t new to perl and database programming?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1441197355, "post_id": 32352567, "comment_id": 52579625, "body": "<code>print</code> is not required when you are using <code>die</code>. <code>die</code> itself display the message."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 1720126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MVzFc.jpg?s=128&g=1", "display_name": "dambigan", "link": "https://stackoverflow.com/users/1720126/dambigan"}, "edited": false, "score": 0, "creation_date": 1441279883, "post_id": 32353565, "comment_id": 52619658, "body": "Thank you so much for your comment. Here i ll share my TNSNAMES.ORA file. Can you please tell me Database name,SID,Host name,  XE =   (DESCRIPTION =     (ADDRESS = (PROTOCOL = TCP)(HOST = localhost(PORT = 1521))     (CONNECT_DATA =       (SERVER = DEDICATED)       (SERVICE_NAME = XE)     )   )  EXTPROC_CONNECTION_DATA =   (DESCRIPTION =     (ADDRESS_LIST =       (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))     )     (CONNECT_DATA =       (SID = PLSExtProc)       (PRESENTATION = RO)     )   )"}], "tags": [], "owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "is_accepted": false, "score": 2, "last_activity_date": 1441197947, "creation_date": 1441197947, "answer_id": 32353565, "question_id": 32352567, "link": "https://stackoverflow.com/questions/32352567/perl-script-to-connect-oracle-database/32353565#32353565", "title": "Perl script to connect oracle database", "body": "<p><code>dbi:Oracle</code> lets <code>DBI</code> know which driver to use. If you're connecting to an Oracle database, you'll never change these.</p>\n\n<p><code>Local</code> is either an actual database name on the local system, or a name listed in <code>TNSNAMES.ORA</code>. Substitute the name of the local database you'd like to connect to.</p>\n\n<p>The next two parameters are username and password.</p>\n\n<p>If you're connecting remotely, or need to do something more elaborate, consult <a href=\"http://search.cpan.org/~pythian/DBD-Oracle-1.74/lib/DBD/Oracle.pm#connect\" rel=\"nofollow\">the docs</a>, or one of the many available <a href=\"http://www.perl.com/pub/1999/10/DBI.html\" rel=\"nofollow\">guides</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 1720126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MVzFc.jpg?s=128&g=1", "display_name": "dambigan", "link": "https://stackoverflow.com/users/1720126/dambigan"}, "edited": false, "score": 0, "creation_date": 1441279746, "post_id": 32353743, "comment_id": 52619565, "body": "Thank you so much for your comment. But can you please tell me how do i can find my driver name and Database name."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1441198414, "creation_date": 1441198414, "answer_id": 32353743, "question_id": 32352567, "link": "https://stackoverflow.com/questions/32352567/perl-script-to-connect-oracle-database/32353743#32353743", "title": "Perl script to connect oracle database", "body": "<pre><code>my $db = DBI-&gt;connect(\"dbi:Oracle:Local\",\"SYSTEM\",\"SYSTEM\");\n</code></pre>\n\n<p>\"dbi\" is a string,<br>\n\"Oracle\" is the driver type,<br>\n\"local\" is the database name,<br>\nFirst \"SYSTEM\" is the username and second one is password.</p>\n\n<pre><code>use DBI;\nmy $dbh = DBI-&gt;connect( \"dbi:Oracle:databaseName\", 'username', 'passwd' ) or die($DBI::errstr, \"\\n\");\n</code></pre>\n\n<p>First read the basic concept of <a href=\"http://perlmaven.com/simple-database-access-using-perl-dbi-and-sql\" rel=\"nofollow\">Simple Database access using Perl DBI and SQL</a>.</p>\n"}], "owner": {"reputation": 21, "user_id": 1720126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MVzFc.jpg?s=128&g=1", "display_name": "dambigan", "link": "https://stackoverflow.com/users/1720126/dambigan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2352, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1441198414, "creation_date": 1441195145, "last_edit_date": 1441197976, "question_id": 32352567, "link": "https://stackoverflow.com/questions/32352567/perl-script-to-connect-oracle-database", "title": "Perl script to connect oracle database", "body": "<p>I am new to Perl Programming and database connectivity. Can anyone please let me know step by step procedure to write Perl Script for Oracle Database connectivity.</p>\n\n<p>My Perl Verion is:</p>\n\n<blockquote>\n  <p>This is perl 5, version 22, subversion 0 (v5.22.0) built for MSWin32-x64-multi-thread<br>\n  Copyright 1987-2015, Larry Wall<br>\n  Perl may be copied only under the terms of either the Artistic License or the\n  GNU General Public License, which may be found in the Perl 5 source kit.</p>\n</blockquote>\n\n<p>I have tried the below:</p>\n\n<pre><code>my $db = DBI-&gt;connect(\"dbi:Oracle:Local\",\"SYSTEM\",\"SYSTEM\") or die print (\"could not connect! $DBI::errstr \\n\");\n</code></pre>\n\n<p>Since I don't know what is this \"dbi:Oracle:Local\" I could not able to connect to Database.</p>\n\n<p>Can you please let me know what is dbi, Oracle, local. if it is Hostname and oracle database name, how can I find the same in my computer.</p>\n\n<p>Do I need to set any ENV variable in Perl?  If so, where and what I need to set?</p>\n"}, {"tags": ["perl", "informix"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441191749, "post_id": 32351324, "comment_id": 52575768, "body": "What results do you get when you run that database query by hand?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1441191914, "post_id": 32351324, "comment_id": 52575873, "body": "Try perl -c scriptname to see if you have any errors in your script."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441193294, "post_id": 32351324, "comment_id": 52576781, "body": "When I run it I get syntax okay."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441193335, "post_id": 32351324, "comment_id": 52576810, "body": "I get all of the fields back that I am supposed to get when I run it by hand.  It runs correctly."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 1, "creation_date": 1441193689, "post_id": 32351324, "comment_id": 52577044, "body": "Does your commented out <code>Dumper</code> show retrieved data when you enable it?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1441194443, "post_id": 32351324, "comment_id": 52577520, "body": "There is an <code>exit</code> in the code. In a CGI environment, that will result in a blank page."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441194545, "post_id": 32351324, "comment_id": 52577584, "body": "let me update my code and run it..."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441195230, "post_id": 32351324, "comment_id": 52578072, "body": "okay commenting out my while loop and running the dump_results gave me a blank page again:  $sth -&gt;execute; #make this a global variable might have to revert this back to a locak variable \t\t$sth-&gt;dump_results(); \t\t$sth-&gt;finish(); \t\t$dbh -&gt; disconnect(); \t\t#my $rv = $sth-&gt;rows; \t \t\t#while(my $row = $sth-&gt;fetchrow_hashref) \t\t#{ \t\t\t#print hr \t\t\t#print start_table; \t\t\t#foreach my $key (keys %$row) \t\t\t#{ \t\t\t\t#print Tr \t\t\t\t#( \t\t\t\t#td(b($key)), \t\t\t\t\t#td($row-&gt;{$key}), \t\t\t\t#); \t\t\t#} \t\t\t#print end_table; \t\t\t#print Dumper $row; \t\t#}"}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441195273, "post_id": 32351324, "comment_id": 52578114, "body": "it must be the exit let me take that out and retry."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441195551, "post_id": 32351324, "comment_id": 52578287, "body": "I took out the exit and I still receive a blank page."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441197641, "post_id": 32351324, "comment_id": 52579843, "body": "still did not answer Oleg: does the Dumper show data? If it does, fetch_row_hashref is not the problem at all, neither is the query. If you comment out everything, that does not help finding the error."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441202576, "post_id": 32351324, "comment_id": 52583544, "body": "I added in sth_&gt; dump_results, I didn&#39;t comment out everything please see above."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441204242, "post_id": 32351324, "comment_id": 52584739, "body": "I&#39;m going to splinter off and put this in a separate perl script and see what results come back."}, {"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 0, "creation_date": 1441204551, "post_id": 32351324, "comment_id": 52584982, "body": "If you use CGI, it is possible to pass GET parameters directly as in <code>perl foo.cgi foo=42 bar=xxx</code>. This would allow to see exactly what the script outputs and when it stops. Adding some debugging <code>warn</code>s and <code>Dumper</code>s afterwards would help to isolate the problem and produce a minimal example in which it persists. Hope this helps..."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441206691, "post_id": 32351324, "comment_id": 52586661, "body": "When placing the SQL in a different script it ran successfully.  It means it&#39;s how I am saving and printing the output some where.  Still debugging.."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441235208, "post_id": 32351324, "comment_id": 52601528, "body": "I&#39;ve been troubleshooting this all day and can&#39;t seem to find why it won&#39;t bring back the results when I run it. I&#39;ve placed up above what I&#39;ve revised to troubleshoot it.  Any ideas?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 0, "creation_date": 1441240416, "post_id": 32351324, "comment_id": 52602861, "body": "<code>$to_id</code> comes from user input and you put it directly in your SQL statement instead of using a parametrized query. Classic SQL injection vulnerability."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441240640, "post_id": 32351324, "comment_id": 52602894, "body": "No its not.  it&#39;s internal use only not on the web."}, {"owner": {"reputation": 984, "user_id": 1107958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Zy3c.jpg?s=128&g=1", "display_name": "swornabsent", "link": "https://stackoverflow.com/users/1107958/swornabsent"}, "edited": false, "score": 0, "creation_date": 1441287408, "post_id": 32351324, "comment_id": 52625118, "body": "Does your webserver&#39;s error log show anything suspicious when you access the page?"}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "reply_to_user": {"reputation": 984, "user_id": 1107958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Zy3c.jpg?s=128&g=1", "display_name": "swornabsent", "link": "https://stackoverflow.com/users/1107958/swornabsent"}, "edited": false, "score": 0, "creation_date": 1441295597, "post_id": 32351324, "comment_id": 52631005, "body": "@swornabsent Thanks.  No I checked the apache error log and there is nothing &quot;suspicious&quot; in there."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441298614, "post_id": 32351324, "comment_id": 52632852, "body": "Was looking in the wrong log swornabsent...I do see some errors there saying it can&#39;t find Informix for some reason when I was able to connect to it from a different script.  Let me fix this error.  install                _driver(Informix) failed: Can&#39;t locate DBD/Informix.pm in @INC (@INC contains: /usr/local/lib64/perl5 /u                sr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/sha                re/perl5 .) at (eval 7) line 3."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441301466, "post_id": 32351324, "comment_id": 52634426, "body": "Okay this seems to be an issue with the Informix Module possibly? It&#39;s saying it can&#39;t locate it, but I&#39;ve installed it and have connected to the database via the command line.  I tried to place use DBD::Informix qw(:ix_types) in, but when I do I get the apache error screen."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441301534, "post_id": 32351324, "comment_id": 52634462, "body": "My driver is installed:  support cgi-bin]# perl -w /home/support/automation/driver_list.pl DBM, ExampleP, File, Gofer, Informix, Multiplex, Pg, Proxy, SQLite, Sponge, mysql"}], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441317710, "post_id": 32385933, "comment_id": 52642849, "body": "Thanks Jonathan.  I&#39;ve changed that, and I&#39;m still getting the same error below on the Apache log?  I can connect to the database fine from the command line and spew back results.  But when I run it as a CGI script I get this error below:"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441317867, "post_id": 32385933, "comment_id": 52642912, "body": "Update the question with the Apache log information that looks relevant.  Which version of Perl, DBI, DBD::Informix are you using, on which platform?  What is different between the environment of your CGI script and your command line script?  The key difference will be one of those, almost certainly."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441317905, "post_id": 32385933, "comment_id": 52642929, "body": "But the Informix module is installed:  [root@sandbox cgi-bin]# perl -w /home/support/automation/driver_list.pl                                                                                                                                DBM, ExampleP, File, Gofer, Informix, Multiplex, Pg, Proxy, SQLite, Sponge, mysq                                                                                                                               l"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441317980, "post_id": 32385933, "comment_id": 52642959, "body": "The error message shown says that Perl can&#39;t find your driver reliably.  Did you by any chance build it with <code>DBD_INFORMIX_RELOCATABLE_INFORMIXDIR</code>?  Where is it installed if you think it is installed?  Is the CGI using the same copy of Perl as you use on the command line?"}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441318070, "post_id": 32385933, "comment_id": 52642993, "body": "I don&#39;t think I set that variable when installing.  I just did an echo for that variable and it isn&#39;t there."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441318185, "post_id": 32385933, "comment_id": 52643029, "body": "You probably didn&#39;t set it (<code>DBD_INFORMIX_RELOCATABLE_INFORMIXDIR</code>); it&#39;s a mouthful (fistful?) to type, which is good because I don&#39;t really want people typing it \u2014 though there are reasons to use it for some people.  Are the Informix libraries installed in the correct place?  Have you changed the location of <code>$INFORMIXDIR</code> perchance?"}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441367538, "post_id": 32385933, "comment_id": 52662951, "body": "That&#39;s a good point to see if CGI is using the same version of Perl as the command line.  I don&#39;t think there are two versions of Perl unless we pulled down one separately from yum and it is using the one that came in the LAMP package.  Let me see what I can find and see what details I can get from our SA."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441367717, "post_id": 32385933, "comment_id": 52663046, "body": "Okay let me go back and look at the README for the setup of the mouthful(fistful) variable and what I should set it to.  I think it should be &quot;YES&quot; or &quot;NO&quot;.  Will check on this when I get logged back in to the VM."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441387172, "post_id": 32385933, "comment_id": 52675096, "body": "The DBD_INFORMIX_RELOCATABLE_INFORMIXDIR is now set:  -support sbin]# echo $DBD_INFORMIX_RELOCATABLE_INFORMIXDIR yes"}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441390082, "post_id": 32385933, "comment_id": 52676515, "body": "How can I change how APACHE is getting the PATH variables?  It is looking here:  /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at (eval 7) line 3.,  referer: server.com/cgi-bin/ts_password_retrieval.cgi [Thu Sep 03  17:58:24.8 2015] [cgi:error] [pid 30132] [client 10.199]"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441402902, "post_id": 32385933, "comment_id": 52682056, "body": "I&#39;m sorry if I misled you, but <code>DBD_INFORMIX_RELOCATABLE_INFORMIXDIR</code> is not the default partly because it&#39;s easier to use DBD::Informix with web servers etc if it is not relocatable. However, it can be made to work; you just have to ensure that <code>LD_LIBRARY_PATH</code> or your local equivalent is set to pick up <code>$INFORMIXDIR&#47;lib</code> and <code>$INFORMIXDIR&#47;lib&#47;esql</code>. With that done, the remaining problem is setting the PATH for Apache. Succinctly, &quot;I&#39;m not sure&quot; (I&#39;m not an Apache admin), but Server Fault says <a href=\"http://serverfault.com/questions/151328\">Setting Apache 2 PATH environment variable</a>."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441428991, "post_id": 32385933, "comment_id": 52687084, "body": "Oh I see I misunderstood what you meant.  Okay yes those library paths are correctly set for PATH.  Thank you for that link and your help on this will try this and update if this works."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 1, "last_activity_date": 1441316979, "last_edit_date": 1441316979, "creation_date": 1441316652, "answer_id": 32385933, "question_id": 32351324, "link": "https://stackoverflow.com/questions/32351324/query-results-in-perl-cgi-script-is-returning-back-blank-webpage-with-no-data/32385933#32385933", "title": "Query results in Perl CGI script is returning back blank webpage with no data", "body": "<p>I'm the Guardian of DBD::Informix \u2014 aka developer and maintainer.</p>\n\n<p>Unless you've modified the code in DBD::Informix in ways I don't know about, the notation:</p>\n\n<pre><code>my $dsn = \"DBI:$driver:dbname=$database\";\n</code></pre>\n\n<p>will not work.  Informix does not accept <code>dbname=</code> in the connection string (or, more accurately, doesn't interpret it, so it tries to connect to a database called <code>dbname=whatever@wherever</code> and fails because <code>=</code> is not valid in a database name).</p>\n\n<p>So, drop the <code>dbname=</code> part from the DSN.</p>\n\n<hr>\n\n<h2>From <code>perldoc DBI</code>:</h2>\n\n<blockquote>\n  <h3>\"connect\"</h3>\n\n<pre><code>  $dbh = DBI-&gt;connect($data_source, $username, $password)\n            or die $DBI::errstr;\n  $dbh = DBI-&gt;connect($data_source, $username, $password, \\%attr)\n            or die $DBI::errstr;\n</code></pre>\n  \n  <p>Establishes a database connection, or session, to the requested\n      $data_source. Returns a database handle object if the connection succeeds.\n      Use \"$dbh->disconnect\" to terminate the connection.</p>\n  \n  <p>If the connect fails (see below), it returns \"undef\" and sets both\n      $DBI::err and $DBI::errstr. (It does not explicitly set $!.) You should\n      generally test the return status of \"connect\" and \"print $DBI::errstr\" if\n      it has failed.</p>\n  \n  <p>\u2026</p>\n  \n  <p>The $data_source value must begin with \"\"dbi:\"driver_name\":\"\". The\n      driver_name specifies the driver that will be used to make the connection.\n      (Letter case is significant.)</p>\n  \n  <p>\u2026</p>\n  \n  <p>Examples of $data_source values are:</p>\n\n<pre><code>  dbi:DriverName:database_name\n  dbi:DriverName:database_name@hostname:port\n  dbi:DriverName:database=database_name;host=hostname;port=port\n</code></pre>\n  \n  <p><em>There is no standard for the text following the driver name.</em> Each driver\n      is free to use whatever syntax it wants. The only requirement the DBI\n      makes is that all the information is supplied in a single string. You must\n      consult the documentation for the drivers you are using for a description\n      of the syntax they require.</p>\n</blockquote>\n\n<p><em>(Emphasis added.)</em></p>\n\n<h2>From <code>perldoc DBD::Informix</code></h2>\n\n<blockquote>\n  <h3>CONNECTING TO A DATABASE</h3>\n  \n  <p>To connect to a database, you use the connect function, which yields a\n      valid database handle if it is successful. \u2026</p>\n  \n  <p>\u2026</p>\n\n<pre><code>    $dbh = DBI-&gt;connect(\"dbi:Informix:$database\");\n    $dbh = DBI-&gt;connect(\"dbi:Informix:$database\", $user, $pass);\n    $dbh = DBI-&gt;connect(\"dbi:Informix:$database\", $user, $pass, %attr);\n</code></pre>\n  \n  <p>The DBI connect method strips the 'dbi:' prefix from the first argument\n      and loads the DBD module identified by the next string (Informix in this\n      case). The string following the second colon is all that is passed to the\n      DBD::Informix code. With this format, you do not have to specify the\n      username or password. Note that if you specify the username but not the\n      password, DBD::Informix will silently ignore the username. \u2026</p>\n</blockquote>\n"}], "owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 32385933, "answer_count": 1, "score": 0, "last_activity_date": 1441388868, "creation_date": 1441191520, "last_edit_date": 1441388868, "question_id": 32351324, "link": "https://stackoverflow.com/questions/32351324/query-results-in-perl-cgi-script-is-returning-back-blank-webpage-with-no-data", "title": "Query results in Perl CGI script is returning back blank webpage with no data", "body": "<p>I am running a script to retrieve passwords for users but I am getting a blank page.  When I check the Apache error logs it is saying it can't locate the Informix Perl Module.  But I installed the Informix Perl Module and I am able to connect to our Informix database through the command line script.  </p>\n\n<p><strong>Error found in Apache Logs:</strong></p>\n\n<pre><code>cgi:error] [pid 30132] [client 10.199] AH01215: install_driver(Informix) failed: Can't locate DBD/Informix.pm in @INC (@INC   contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at (eval 7) line 3., \nreferer: server.com/cgi-bin/ts_password_retrieval.cgi [Thu Sep 03  17:58:24.8 2015] [cgi:error] [pid 30132] [client 10.199] \nAH01215: Perhaps  the DBD::Informix perl module hasn't been fully installed,, referer: server.com/cgi-bin/ts_password_retrieval.cgi \u2013\n</code></pre>\n\n<p><strong>Perl Version and location of Informix libraries:</strong></p>\n\n<pre><code>(v5.16.3)\nexport INFORMIXDIR=/opt/informix\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$INFORMIXDIR/lib:$INFORMIXDIR/lib/cli:$INFORMIXDIR/lib/esql:$INFORMIXDIR/lib/tools\n</code></pre>\n\n<p><strong>Code producing error:</strong></p>\n\n<pre><code>#!/usr/bin/perl -w\n\n\nuse CGI::Pretty qw(:standard *table);\nuse strict;\nuse warnings;\nuse DBI;\n#use Config::Std;\nuse vars qw($FICE_CODE $SCHL_NAME $FIRST_NAME $LAST_NAME $TO_ORDER_ID $CH_FLAG $ORDER_STATUS $TO_RECIP_ID $ORDER_STATUS $RECPT_ORDER_STATUS $EMAIL $TO_DELIV_TRANS_ID $PASSWORD $FILE_NAME);\nuse Data::Dumper;\n #&amp;ReadParse(*input);\n\n #Output display\nprint \"Content-type: text/html\\n\\n\";\n\nmain();\n\nsub main\n{\n   print \"&lt;html&gt;&lt;head&gt;\\n\";\n   print \"&lt;title&gt;Transcript Password Retrieval&lt;/title&gt;&lt;/head&gt;\\n\";\n   print \"&lt;body&gt;\\n\";\n   print \"&lt;center&gt;Transcript Password Retrieval&lt;/center&gt;\\n\";\n   print \"&lt;/body&gt;&lt;/html&gt;\\n\";\nif (param('to_id'))\n    {\n    my $to_id = param('to_id');#local to_id\n    my $pwd_select = (\"select s.fice_code, s.schl_name,   o.first_name, o.last_name, o.to_order_id, o.ch_flag, o.order_status,r.to_recipient_id, r.order_status, r.email, dt.to_deliv_trans_id, dt.password, dt.file_name from to_scprofil s, to_order o, to_recipient r, to_deliv_trans dt where s.to_scprofil_id = o.to_scprofil_id and o.to_order_id = r.to_order_id and r.to_recipient_id = dt.to_recipient_id and o.to_order_id in ($to_id) order by o.to_order_id desc\");\n\n    my $driver = \"Informix\";\n    my $database = \"Web1\";\n    my $dsn = \"DBI:$driver:dbname=$database\";\n    my $userid = \"todd\";\n    my $password = \"shumer12\";\n    my $dbh = DBI-&gt;connect($dsn, $userid, $password, {RaiseError =&gt; 1}) or die $DBI::errstr;\n    #print \"Opened db successfully\\n\";\n\n    my $sth = $dbh-&gt;prepare($pwd_select);\n    $sth -&gt;execute; #make this a global variable might have to revert this back to a locak variable\n    my $rv = $sth-&gt;rows;\n\n    while(my $row = $sth-&gt;fetchrow_hashref)\n    {\n        print hr\n        print start_table;\n        foreach my $key (keys %$row)\n        {\n            print Tr\n            (\n            td(b($key)),\n                td($row-&gt;{$key}),\n            );\n        }\n        print end_table;\n        #print Dumper $row;\n    }   \n    exit;\nmy $output = (our @to_pwd);#send output to the array @to_pwd so it can then be spliced into each row\n\n$to_id = format_to_orderid($to_id);\n foreach my $output(@to_pwd)\n {\n    ($FICE_CODE, $SCHL_NAME, $FIRST_NAME, $LAST_NAME, $TO_ORDER_ID, $CH_FLAG, $ORDER_STATUS, $TO_RECIP_ID, $ORDER_STATUS, $RECPT_ORDER_STATUS, $EMAIL, $TO_DELIV_TRANS_ID, $PASSWORD, $FILE_NAME)=split(\",\",$output);#split output with a coma from each row.\n        if($FICE_CODE eq \"fice_code\")#header rows\n        {\n            print\"&lt;tr&gt;/n\";\n            print\"&lt;th&gt;$FICE_CODE&lt;/th&gt;\";\n            print\"&lt;th&gt;$SCHL_NAME&lt;/th&gt;\";\n            print\"&lt;th&gt;$FIRST_NAME&lt;/th&gt;\";\n            print\"&lt;th&gt;$LAST_NAME&lt;/th&gt;\";\n            print\"&lt;th&gt;$TO_ORDER_ID&lt;/th&gt;\";\n            print\"&lt;th&gt;$CH_FLAG&lt;/th&gt;\";\n            print\"&lt;th&gt;$ORDER_STATUS&lt;/th&gt;\";\n            print\"&lt;th&gt;$TO_RECIP_ID&lt;/th&gt;\";\n            print\"&lt;th&gt;$ORDER_STATUS&lt;/th&gt;\";\n            print\"&lt;th&gt;$RECPT_ORDER_STATUS&lt;/th&gt;\";\n            print\"&lt;th&gt;$EMAIL&lt;/th&gt;\";\n            print\"&lt;th&gt;$TO_DELIV_TRANS_ID&lt;/th&gt;\";\n            print\"&lt;th&gt;$PASSWORD&lt;/th&gt;\";\n            print\"&lt;th&gt;$FILE_NAME&lt;/th&gt;\";\n            print\"&lt;tr/&gt;/n\";\n            print \"&lt;/table&gt;/n\";\n            next;\n        }\n        print\"&lt;tr&gt;/n\"; #data information from sql\n        print\"&lt;td&gt;$FICE_CODE&lt;/td&gt;\";\n        print\"&lt;td align 'right'&gt;    $SCHL_NAME&lt;/td&gt;/n\";\n        print\"&lt;td align 'right'&gt;    $FIRST_NAME&lt;/td&gt;/n\";\n        print\"&lt;td align 'right'&gt;    $LAST_NAME&lt;/td&gt;/n\";\n        print\"&lt;td align 'right'&gt;    $TO_ORDER_ID&lt;/td&gt;/n\";\n        print\"&lt;td align 'right'&gt;    $CH_FLAG&lt;/td&gt;/n\";\n        print\"&lt;td align 'right'&gt;    $ORDER_STATUS&lt;/td&gt;/n\";\n        print\"&lt;td align 'right'&gt;    $TO_RECIP_ID&lt;/td&gt;/n\";\n        print\"&lt;td align 'right'&gt;    $ORDER_STATUS&lt;/td&gt;/n\";\n        print\"&lt;td align 'right'&gt;    $RECPT_ORDER_STATUS&lt;/td&gt;/n\";\n        print\"&lt;td align 'right'&gt;    $EMAIL&lt;/td&gt;/n\";\n        print\"&lt;td align 'right'&gt;    $TO_DELIV_TRANS_ID&lt;/td&gt;/n\";\n        print\"&lt;td align 'right'&gt;    $PASSWORD&lt;/td&gt;/n\";\n        print\"&lt;td align 'right'&gt;    $FILE_NAME&lt;/td&gt;/n\";\n        #finish table data html\n        print\"&lt;tr/&gt;/n\";\n }\n\n}\n    else\n    {\n        show_form();\n    }\n    print\"&lt;/body&gt;&lt;/html&gt;\\n\"\n}\n\nsub show_form\n{\n    my $url = url;\n    print qq{&lt;form name=\"input\" action=\"ts_password_retrieval.cgi\" method=\"get\"&gt;\\n};\n    print qq{&lt;table align=\"center\" border=\"1\" bordercolor=\"black\" cellpadding=\"2\" cellspacing=\"0\"&gt;\\n};\n    print qq{&lt;tr&gt;};\n    print qq{&lt;td align=\"right\"&gt;Please enter the Transcript Order ID #&lt;/td};\n    print qq{&lt;/tr&gt;\\n};\n    print qq{&lt;td align=\"left\"&gt;&lt;input type\"text\" width=\"7\" name=\"to_id\" value=\"\"&gt;};\n    print qq{&lt;BR&gt;Place each Transcript Order ID separated by a space&lt;/td&gt;};\n    print qq{&lt;/table&gt;&lt;center&gt;&lt;input type=\"submit\" value=\"Submitted\"&gt;&lt;/center&gt;&lt;/form&gt;\\n};\n}\nsub format_to_orderid\n{\nmy $in= shift;\nmy $out = join ',', split /\\s/, $in;\nreturn $out;\n}\n</code></pre>\n\n<p><strong>Tried to troubleshoot by just doing a dump_results() and I'm still getting a blank page</strong></p>\n\n<pre><code>#!/usr/bin/perl -w\n\n\nuse CGI::Pretty qw(:standard *table);\nuse strict;\nuse warnings;\nuse DBI;\n#use Config::Std;\nuse vars qw($FICE_CODE $SCHL_NAME $FIRST_NAME $LAST_NAME $TO_ORDER_ID     $CH_FLAG $ORDER_STATUS $TO_RECIP_ID $ORDER_STATUS $RECPT_ORDER_STATUS $EMAIL $TO_DELIV_TRANS_ID $PASSWORD $FILE_NAME);\nuse Data::Dumper;\n#&amp;ReadParse(*input);\n\n#Output display\nprint \"Content-type: text/html\\n\\n\";\n\nmain();\n\n sub main\n {\n   print \"&lt;html&gt;&lt;head&gt;\\n\";\n   print \"&lt;title&gt;Transcript Password Retrieval&lt;/title&gt;&lt;/head&gt;\\n\";\n   print \"&lt;body&gt;\\n\";\n   print \"&lt;center&gt;Transcript Password Retrieval&lt;/center&gt;\\n\";\n   print \"&lt;/body&gt;&lt;/html&gt;\\n\";\nif (param('to_id'))\n{\n    my $to_id = param('to_id');#local to_id\n    $to_id = format_spn_string($to_id);\n    my $pwd_select = (\"select s.fice_code, s.schl_name, o.first_name, o.last_name, o.to_order_id, o.ch_flag, o.order_status, r.to_recipient_id, r.order_status,r.email, dt.to_deliv_trans_id, dt.password, dt.file_name from to_scprofil s, to_order o, to_recipient r, to_deliv_trans dt where s.to_scprofil_id = o.to_scprofil_id and o.to_order_id = r.to_order_id and r.to_recipient_id = dt.to_recipient_id and o.to_order_id in ($to_id) order by o.to_order_id desc\");\n\n    my $driver = \"Informix\";\n    my $database = \"Web1\";\n    my $dsn = \"DBI:$driver:dbname=$database\";\n    my $userid = \"user\";\n    my $password = \"password\";\n    my $dbh = DBI-&gt;connect($dsn, $userid, $password, {RaiseError =&gt; 1}) or die $DBI::errstr;\n    #print \"Opened db successfully\\n\";\n\n    my $sth = $dbh-&gt;prepare($pwd_select);\n    $sth -&gt;execute; #make this a global variable might have to revert this back to a local variable\n    $sth -&gt; dump_results();\n    $sth-&gt;finish();\n    $dbh-&gt;disconnect();\n\n\n}\n    else\n    {\n        show_form();\n    }\n    print\"&lt;/body&gt;&lt;/html&gt;\\n\"\n}\n\n sub show_form\n {\n    my $url = url;\n    print qq{&lt;form name=\"input\" action=\"ts_password_retrieval.cgi\" method=\"get\"&gt;\\n};\n    print qq{&lt;table align=\"center\" border=\"1\" bordercolor=\"black\" cellpadding=\"2\" cellspacing=\"0\"&gt;\\n};\n    print qq{&lt;tr&gt;};\n    print qq{&lt;td align=\"right\"&gt;Please enter the ID #&lt;/td};\n    print qq{&lt;/tr&gt;\\n};\n    print qq{&lt;td align=\"left\"&gt;&lt;input type\"text\" width=\"7\" name=\"to_id\" value=\"\"&gt;};\n    print qq{&lt;BR&gt;Place each ID # separated by a space&lt;/td&gt;};\n    print qq{&lt;/table&gt;&lt;center&gt;&lt;input type=\"submit\" value=\"Submit\"&gt;&lt;/center&gt;&lt;/form&gt;\\n};\n}\n sub format_to_orderid\n {\nmy $in= shift;\nmy $out = join ',', split /\\s/, $in;\nreturn $out;\n }\n</code></pre>\n"}, {"tags": ["image", "perl", "imagemagick", "blur", "perlmagick"], "answers": [{"comments": [{"owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 1, "creation_date": 1441192693, "post_id": 32351475, "comment_id": 52576368, "body": "Ah, I get it. @Thariama want&#39;s the effect of pixelation you see on the television. Mark, you would achieve the effect by resampling down, than sample up to original size."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "reply_to_user": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1441193009, "post_id": 32351475, "comment_id": 52576590, "body": "@emcconville Hi Eric - thanks for the tip :-) I can be a bit dim sometimes!"}, {"owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1441193275, "post_id": 32351475, "comment_id": 52576771, "body": "No problem! Try some additional <code>filter=</code> arguments with the <code>Resample</code> method (for down sampling part). I have a felling <code>filter=point</code>, or <code>filter=box</code> will look very nice."}, {"owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1441193425, "post_id": 32351475, "comment_id": 52576868, "body": "And scale by 1/10, or 1/16. Pixelation should be dramatic. <code>$blurred-&gt;Rescale(width=&gt;&#39;60&#39;,height=&gt;&#39;30&#39;, filter=&#39;point&#39;);</code>"}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1441198469, "post_id": 32351475, "comment_id": 52580475, "body": "I&#39;m glad we got there in the end! The code is not very efficient or flexible - it resizes the entire image up to double the size when it could just resize enough for the magnified window. It is also not very deterministic about <i>where</i> in the original image it takes its data from for the enlarged window nor <i>where</i> it places it on the original image. Hopefully you can think about these things and adapt it to do what you want now you can see some of the functions I used."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1441198622, "post_id": 32351475, "comment_id": 52580599, "body": "Basically, I think you need a <code>Crop()</code> with <code>geometry =&gt;&#39;axb+c+d&#39;</code> after the first call to <code>Clone()</code> to extract the piece you want to magnify. Then I think you need to add a <code>geometry</code> into the <code>Composite()</code> calls at the end in order to deterministically place the enlarged window onto the original."}, {"owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "edited": false, "score": 0, "creation_date": 1441728904, "post_id": 32351475, "comment_id": 52787140, "body": "@Mark: there is still one problem with the rotation, please see my updated question"}, {"owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "edited": false, "score": 0, "creation_date": 1441797125, "post_id": 32351475, "comment_id": 52816623, "body": "@Mark: i found a solution and posted an own answer"}], "tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": true, "score": 3, "last_activity_date": 1441195453, "last_edit_date": 1441195453, "creation_date": 1441191994, "answer_id": 32351475, "question_id": 32351058, "link": "https://stackoverflow.com/questions/32351058/how-to-blur-pixelate-part-of-an-image-using-imagemagick-resulting-in-big-pixels/32351475#32351475", "title": "How to blur/pixelate part of an image using ImageMagick resulting in big pixels?", "body": "<p>Something like this?</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Image::Magick;\nmy $x;\nmy $image;\nmy $blurred;\nmy $mask;\n\n# Create original fishscale image\n$image=Image::Magick-&gt;new(size=&gt;'600x300');\n$image-&gt;Read('pattern:fishscales');\n$image-&gt;Write(filename=&gt;\"1.png\");\n\n# Copy original image and scale\n$blurred = $image-&gt;Clone();\n$blurred-&gt;Resample(x=&gt;'100',y=&gt;'50',filter=&gt;'point');\n$blurred-&gt;Scale(width=&gt;'1200',height=&gt;'600');\n$blurred-&gt;Write(filename=&gt;\"2.png\");\n\n# Make mask and rotate\n$mask=Image::Magick-&gt;new(size=&gt;'600x300');\n$mask-&gt;Read('xc:white');\n$mask-&gt;Draw(fill=&gt;'black',primitive=&gt;'rectangle',points=&gt;'20,20,220,120');\n$mask-&gt;Set('virtual-pixel'=&gt;'white');\n$mask-&gt;Rotate(20);\n$mask-&gt;Transparent('white');\n$mask-&gt;Write(filename=&gt;\"3.png\");\n\n# Copy mask as alpha channel into blurred image\n$blurred-&gt;Composite(image=&gt;$mask,qw(compose CopyOpacity gravity center));\n\n# Composite blurred image onto original\n$image-&gt;Composite(image=&gt;$blurred);\n$image-&gt;Write(filename=&gt;'result.png');\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/niTBc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/niTBc.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1441821889, "post_id": 32478003, "comment_id": 52833552, "body": "Thank you for sharing your enhancements with us all - go ahead and accept your answer as it is the better one."}, {"owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1441892256, "post_id": 32478003, "comment_id": 52866116, "body": "No, i won&#39;t. You put so much effort in your answer and it guided me to my actual solution. So take this as a small gift."}], "tags": [], "owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "is_accepted": false, "score": 1, "last_activity_date": 1441797100, "creation_date": 1441797100, "answer_id": 32478003, "question_id": 32351058, "link": "https://stackoverflow.com/questions/32351058/how-to-blur-pixelate-part-of-an-image-using-imagemagick-resulting-in-big-pixels/32478003#32478003", "title": "How to blur/pixelate part of an image using ImageMagick resulting in big pixels?", "body": "<p>I will keep Mark Setchells answer accepted, but post my solution to the updated question here. I use a helper function and i only modified the \"Make mask and rotate\"-part.</p>\n\n<pre><code># helperfunction\nsub listDraw\n{\n    my $image = shift;\n    my $result = undef;\n\n    for my $attrs (@_)\n    {\n        my ($left, $top, $width, $height, $angle) = delete @$attrs{qw(left top width height angle)};\n\n        if ($angle - int($angle/180)*180)\n        {\n            my ($xm, $ym, $rad) = ($left + $width/2, $top + $height/2, $angle * PI/180);\n            $attrs-&gt;{primitive} ||= 'Polygon';\n            $attrs-&gt;{points} = join ' ', map {($xm + ($_-&gt;{x}-$xm)*cos($rad) + ($_-&gt;{y}-$ym)*sin($rad)) . ',' . ($ym - ($_-&gt;{x}-$xm)*sin($rad) + ($_-&gt;{y}-$ym)*cos($rad))}\n                ({ x =&gt; $left, y =&gt; $top }, { x =&gt; $left + $width, y =&gt; $top }, { x =&gt; $left + $width, y =&gt; $top + $height }, { x =&gt; $left, y =&gt; $top + $height });\n        }\n        else\n        {\n            $attrs-&gt;{primitive} ||= 'Rectangle';\n            $attrs-&gt;{points} ||= $left . ',' . $top . ' ' . ($left + $width - 1) . ',' . ($top + $height - 1);\n        }\n        last if $result = $image-&gt;Draw(%$attrs);\n    }\n    return $result;\n}\n\n    # Make mask and rotate\n    $mask=Image::Magick-&gt;new(size=&gt;'600x300');\n    $mask-&gt;Read('xc:white');\n\n    $mask = listDraw($mask, {\n            left        =&gt; $selection_y, # y of top left corner\n            top         =&gt; $selection_x, # x of top left corner\n            width       =&gt; $selection_width,\n            height      =&gt; $selection_height,\n            angle       =&gt; 180 - $angle,\n            fill        =&gt; 'black',\n    });\n    $mask-&gt;Set('virtual-pixel' =&gt; 'white');\n    $mask-&gt;Transparent('white');\n</code></pre>\n"}], "owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 32351475, "answer_count": 2, "score": 1, "last_activity_date": 1457794372, "creation_date": 1441190722, "last_edit_date": 1495535282, "question_id": 32351058, "link": "https://stackoverflow.com/questions/32351058/how-to-blur-pixelate-part-of-an-image-using-imagemagick-resulting-in-big-pixels", "title": "How to blur/pixelate part of an image using ImageMagick resulting in big pixels?", "body": "<p>I am using Perl and ImageMagick (Perl-API). In a first step i take a rectangle of an image and blur this part of the image (plus rotation of that rectangle).\nThanks to Mark Setchell this works as further bellow (see stackoverflow question here: <a href=\"https://stackoverflow.com/questions/32332550/how-to-blur-pixelate-part-of-an-image-using-imagemagick\">How to blur/pixelate part of an image using ImageMagick?</a>).</p>\n\n<p>Now my aim is to blur the rectangle of that image with the result of bigger pixels. <strong>How can i achieve that?</strong></p>\n\n<p>Here the code of Mark Setchell that i use so far:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Image::Magick;\nmy $x;\nmy $image;\nmy $blurred;\nmy $mask;\n\n# Create original fishscale image\n$image=Image::Magick-&gt;new(size=&gt;'600x300');\n$image-&gt;Read('pattern:fishscales');\n$image-&gt;Write(filename=&gt;\"1.png\");\n\n# Copy original image and blur\n$blurred = $image-&gt;Clone();\n$blurred-&gt;GaussianBlur('x2');\n$blurred-&gt;Write(filename=&gt;\"2.png\");\n\n# Make mask and rotate\n$mask=Image::Magick-&gt;new(size=&gt;'600x300');\n$mask-&gt;Read('xc:white');\n$mask-&gt;Draw(fill=&gt;'black',primitive=&gt;'rectangle',points=&gt;'100,100,200,200');\n$mask-&gt;Set('virtual-pixel'=&gt;'white');\n$mask-&gt;Rotate(20);\n$mask-&gt;Transparent('white');\n$mask-&gt;Write(filename=&gt;\"3.png\");\n\n# Copy mask as alpha channel into blurred image\n$blurred-&gt;Composite(image=&gt;$mask,qw(compose CopyOpacity gravity center));\n\n# Composite blurred image onto original\n$image-&gt;Composite(image=&gt;$blurred);\n$image-&gt;Write(filename=&gt;'result.png');\n</code></pre>\n\n<p><strong>UPDATE: Still one problem remains:</strong></p>\n\n<p>It works fine with a selected rectangle without rotation. But if i apply an angle i get wierd results. The area that gets pixelated is not the area i have defined but it differs the more i select the rectangle away from the middle of the image and/or increase the angle.</p>\n\n<p>See the images below with different rectangles selected and the areas that gets pixelated. I have used an angle of 45 degree.</p>\n\n<p><a href=\"https://i.stack.imgur.com/IdnVn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IdnVn.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/7dFRY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7dFRY.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/SGX1J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SGX1J.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Any idea what the problem is here?</strong> (maybe 'compose CopyOpacity gravity center') </p>\n"}, {"tags": ["regex", "perl", "object", "whitespace", "moose"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441188850, "post_id": 32350332, "comment_id": 52574015, "body": "I think we need a bit more sample code. Because that example you give - that shouldn&#39;t work, because you&#39;re <i>copying</i> <code>$self -&gt; {devices}</code> into a temporary variable. But it&#39;s likely that your comma separated names are a string, not an array, which is why it&#39;s being treated as a single value."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1441188990, "post_id": 32350332, "comment_id": 52574082, "body": "I think you are not showing the real output of the debugger in your second DB statement. It&#39;s the same <i>round</i> of debugging (22) and the array&#39;s address is the same. Please show the real output. Also, did you make that change with <code>@dM</code> in your code and reran the debugger, or did you do that in the debugger&#39;s console? Maybe the debugger is a bit of an overkill tool right now, and you should consider starting with a simple <code>print Dumper $self</code>. Or better, use Data::Printer."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1441189069, "post_id": 32350463, "comment_id": 52574130, "body": "Or just split on whitespace and <code>\\cM\\cJ</code> to avoid the comma transformation."}, {"owner": {"reputation": 83, "user_id": 3669003, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1510334485/picture?type=large", "display_name": "Vivek Sharma", "link": "https://stackoverflow.com/users/3669003/vivek-sharma"}, "edited": false, "score": 0, "creation_date": 1441192546, "post_id": 32350463, "comment_id": 52576273, "body": "Hey Thanks a lot for your help. As i am new to perl I did not know this way. Can you also explain me the what you exactly did here ? Coz 2nd line of code that you gave is handling all the scenarios newline,whitespace &amp; tabs as well...!!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441193846, "post_id": 32350463, "comment_id": 52577149, "body": "Explanation added. Hopefully that makes it a little clearer?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1441193815, "last_edit_date": 1441193815, "creation_date": 1441188992, "answer_id": 32350463, "question_id": 32350332, "link": "https://stackoverflow.com/questions/32350332/modifying-attribute-in-self-using-regex/32350463#32350463", "title": "modifying attribute in $self using regex", "body": "<p>I think your problem will be that <code>$self -&gt; {devices}</code> is actually a single element array - containing the string <code>'BG-SOKU-SAA01,BG-SOKU-TS01,BG-SOKU-DCN01'</code></p>\n\n<p>The implication is you want this to be an array - this is relatively easily achieved via <code>split</code></p>\n\n<pre><code>@{$self -&gt; {devices}} = map { split /,/ } @{$self -&gt; {devices}} \n</code></pre>\n\n<p>Given you're <em>already</em> transforming on delimiters first though - you can probably do the same on that. </p>\n\n<pre><code>@{$self -&gt; {devices}} = map { split /(?:\\\\cM\\\\cJ|\\s+)/ } @{$self -&gt; {devices}}\n</code></pre>\n\n<p><code>map</code> is one of those \"dark magic\" perl functions - what it does is list transformation. </p>\n\n<ul>\n<li>We take the source list - in this case <code>@{$self -&gt; {devices}}</code> </li>\n<li>iterate through it applying a code block. <code>split /,/</code> - this returns zero or more elements (we split each element on commas), which is added to the <em>new</em> list.</li>\n<li>and then we assign the new list. </li>\n</ul>\n\n<p>This is basically the same as:</p>\n\n<pre><code>my @new_list;\n\nforeach my $element ( @{$self -&gt; {devices}} ) {\n    my @tmp = split /,/, $element;\n    push ( @new_list, @tmp ); \n}\n\n$self -&gt; {devices} = \\@new_list; \n</code></pre>\n\n<p>The second example is essentially the same, but using the fact that <code>split</code> can take a regular expression. </p>\n\n<p>By using: <code>(?:\\\\cM\\\\cJ|\\s+)</code> </p>\n\n<p>So we call either: <code>\\cM\\cJ</code> a delimiter <em>or</em> <code>\\s+</code> which is regular expression for \"one or more whitespace\". Which is why it handles tabs, linefeeds, multiple spaces etc.</p>\n\n<p>Note - the <code>(?:</code> at the start is important, because it denotes a non capturing group. If you use a capture (<code>()</code> usually) then that will be 'returned' as part of the map operation, so you'll end up with an unwanted element <code>\\cM\\cJ</code> because the regular expression captured it. </p>\n\n<p>Try getting to grips with <code>Data::Dumper</code>.</p>\n\n<pre><code>use Data::Dumper;\n</code></pre>\n\n<p>then</p>\n\n<pre><code>print Dumper $self;\n</code></pre>\n\n<p>This will help you understand the contents of your object. </p>\n"}], "owner": {"reputation": 83, "user_id": 3669003, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1510334485/picture?type=large", "display_name": "Vivek Sharma", "link": "https://stackoverflow.com/users/3669003/vivek-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 32350463, "answer_count": 1, "score": 1, "last_activity_date": 1441193815, "creation_date": 1441188554, "last_edit_date": 1441188770, "question_id": 32350332, "link": "https://stackoverflow.com/questions/32350332/modifying-attribute-in-self-using-regex", "title": "modifying attribute in $self using regex", "body": "<p>I am new to perl and i am having issues in modifying an attribute under saved in <code>$self</code>.</p>\n\n<p>I have an attribute called \"devices\" inside <code>$self</code>, if I print it in perl debugger it prints like this :</p>\n\n<pre><code>DB&lt;22&gt; x $self-&gt;{devices}\n0  ARRAY(0xa1ec308)\n0  \"BG-SOKU-SAA01\\cM\\cJBG-SOKU-TS01 BG-SOKU-DCN01\"\n</code></pre>\n\n<p>Now I want to replace <code>\\cM\\cJ</code> and whitespace with commas in the above attribute. So I am writing a regex for it which is like this :</p>\n\n<pre><code>my @dM= @{$self-&gt;{devices}};\n$dM[0]=~ s/\\cM\\cJ/,/g;\n$dM[0]=~ s/ /,/g;\n</code></pre>\n\n<p>Now when I print the <code>$self-&gt;{devices}</code> it gives me this :</p>\n\n<pre><code>DB&lt;22&gt; x $self-&gt;{devices}\n0  ARRAY(0xa1ec308)\n0  'BG-SOKU-SAA01,BG-SOKU-TS01,BG-SOKU-DCN01'\n</code></pre>\n\n<p>RegEx works but when I pass it to some other class and try to iterate over it, it takes comma separated device names as one single value rather than taking 1 device name each.</p>\n\n<p>I dont know what is going wrong.</p>\n\n<p>Please help me out with this.</p>\n"}, {"tags": ["perl", "ipv6", "inet-aton"], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 1, "last_activity_date": 1441189583, "creation_date": 1441189583, "answer_id": 32350671, "question_id": 32350292, "link": "https://stackoverflow.com/questions/32350292/inet-ntoa-for-ipv6-in-perl/32350671#32350671", "title": "inet_ntoa for ipv6 in perl", "body": "<p>Use <code>inet_ntop</code> as recommended by <a href=\"http://perldoc.perl.org/Socket.html\" rel=\"nofollow\">perldoc Socket</a>:</p>\n\n<blockquote>\n  <p>$string = <strong>inet_ntoa</strong> $ip_address</p>\n\n<pre><code>   Takes a packed binary address structure such as returned by\n   unpack_sockaddr_in() (or a v-string representing the four octets of the\n   IPv4 address in network order) and translates it into a string of the form\n   \"d.d.d.d\" where the \"d\"s are numbers less than 256 (the normal\n   human-readable four dotted number notation for Internet addresses).\n\n   This IPv4-only function is provided largely for legacy reasons.\n   Newly-written code should use getnameinfo() or inet_ntop() instead for\n   IPv6 support.\n</code></pre>\n  \n  <p>$string = <strong>inet_ntop</strong> $family, $address</p>\n\n<pre><code>   Takes an address family and a packed binary address structure and\n   translates it into a human-readable textual representation of the address;\n   typically in \"d.d.d.d\" form for \"AF_INET\" or \"hhhh:hhhh::hhhh\" form for\n   \"AF_INET6\".\n   See also getnameinfo() for a more powerful and flexible function to turn\n   socket addresses into human-readable textual representations.\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 485, "user_id": 3135706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/k2PaB.jpg?s=128&g=1", "display_name": "kiran", "link": "https://stackoverflow.com/users/3135706/kiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2525, "favorite_count": 0, "accepted_answer_id": 32350671, "answer_count": 1, "score": 1, "last_activity_date": 1441189583, "creation_date": 1441188451, "question_id": 32350292, "link": "https://stackoverflow.com/questions/32350292/inet-ntoa-for-ipv6-in-perl", "title": "inet_ntoa for ipv6 in perl", "body": "<p>I am new to perl and I am trying to convert an ipv6 address in network format to the ascii string format. I could do this for ipv4 address using the \"inet_ntoa\" function in the \"Socket\" module. How to do this for ipv6 address without installing any new modules? </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1441186383, "creation_date": 1441186383, "answer_id": 32349564, "question_id": 32349086, "link": "https://stackoverflow.com/questions/32349086/converting-hex-to-binary-in-perl/32349564#32349564", "title": "Converting hex to binary in Perl", "body": "<p>The problem is there's a difference between a text string and a numeric value. </p>\n\n<p>The latter can be represented as hexidecimal, binary, octal - behind the scenes, the computer is thinking in binary anyway. </p>\n\n<p>A text string though, is a sequence of character codes that <em>represent</em> symbols from a character set. </p>\n\n<p>So to do what you want - you  need to convert your 'string' to a numeric value first. </p>\n\n<p>Perl has the <code>hex</code> function to do this for you:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $string = '5ff8b850'; \nmy $value =  hex ( $string );\n\nprint \"Dec: \",$value,\"\\n\";\nprintf ( \"Hex: %X\\n\", $value );\nprintf ( \"Binary: %b\\n\", $value );\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 5173396, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/141c9342301d382494097112a050450b?s=128&d=identicon&r=PG&f=1", "display_name": "Ishita Shah", "link": "https://stackoverflow.com/users/5173396/ishita-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10377, "favorite_count": 0, "accepted_answer_id": 32349564, "answer_count": 1, "score": 1, "last_activity_date": 1498089441, "creation_date": 1441185139, "last_edit_date": 1498089441, "question_id": 32349086, "link": "https://stackoverflow.com/questions/32349086/converting-hex-to-binary-in-perl", "title": "Converting hex to binary in Perl", "body": "<p>I want to convert the hex values lying in $1, $2, $3, and $4 to binary and save in an array. I know $1 is only a string, so I tried to convert it to hex before converting to binary, but it doesn't work... Here's my code:</p>\n\n<pre><code>#! usr/bin/perl\nuse warnings;\nuse strict;\n\nwhile(&lt;&gt;)\n{\n    if(/SIB_DBG/)\n    {\n        if(/TTRB:\\s*([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)/ ||\n           /ETRB:\\s*([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)/ ||\n           /Command\\sETRB\\s*([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)/ )\n        {\n            my $one = $1;\n            my $two = $2;\n            my $three = $3;\n            my $four = $4;\n            print \"$_ $one $two $three $four\\n\";\n            printf(\"binary :%b\\n\",$four);\n        }\n    }\n}\n</code></pre>\n\n<p>My input logfile is like</p>\n\n<pre><code>Aug 31 15:25:53 usb3 kernel: [   78.812034] SIB_DBG TTRB:01000680 00080000 00000008 00030840, PTR: ffff88005ff8b800\nAug 31 15:25:53 usb3 kernel: [   78.815428] SIB_DBG ETRB: 5ff8b850 00000000 01000000 01018001\n</code></pre>\n\n<p>Also I get an error saying in some of the lines..</p>\n\n<blockquote>\n  <p>Argument \"f8891\" isn't numeric in printf at script.plx line 21, &lt;> line 6.</p>\n</blockquote>\n"}, {"tags": ["perl", "loops", "hash"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1441168252, "post_id": 32344307, "comment_id": 52563342, "body": "I would imagine that there is a problem with your hash keys, rather than with your syntax.  Put a print statement in each loop to see what&#39;s in the hashes. Especially there should probably be an <code>else</code> clause in the final loop with a warning message when the hashes don&#39;t match. (I would substantially refactor this code to have less repetition and fewer short-lived variables, but that&#39;s really outside the scope of your question, and also depends on where you want to go with this code.)"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1441168427, "post_id": 32344307, "comment_id": 52563394, "body": "The final loop especially is extremely inefficient.  If you had a top-level hash with all your keys like <code>$hash{$key}{&quot;name&quot;}</code> and <code>$hash{$key}{&quot;pos&quot;}</code> it would be much simpler and more efficient."}, {"owner": {"reputation": 147, "user_id": 5290820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b4e11cc48058951252437f1b883bed?s=128&d=identicon&r=PG&f=1", "display_name": "serious", "link": "https://stackoverflow.com/users/5290820/serious"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1441168786, "post_id": 32344307, "comment_id": 52563483, "body": "I already had a print statement in it to check the hash contents, I took it out for the purpose of posting my script here. My apologies."}, {"owner": {"reputation": 147, "user_id": 5290820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b4e11cc48058951252437f1b883bed?s=128&d=identicon&r=PG&f=1", "display_name": "serious", "link": "https://stackoverflow.com/users/5290820/serious"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1441168898, "post_id": 32344307, "comment_id": 52563506, "body": "Efficiency is something I been trying to work on, thank you for the suggestion!"}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 5290820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b4e11cc48058951252437f1b883bed?s=128&d=identicon&r=PG&f=1", "display_name": "serious", "link": "https://stackoverflow.com/users/5290820/serious"}, "edited": false, "score": 0, "creation_date": 1441169125, "post_id": 32344684, "comment_id": 52563559, "body": "Im having trouble uploading sample data as the sequences are too long. How do you suggest I show you the sample data?"}, {"owner": {"reputation": 147, "user_id": 5290820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b4e11cc48058951252437f1b883bed?s=128&d=identicon&r=PG&f=1", "display_name": "serious", "link": "https://stackoverflow.com/users/5290820/serious"}, "edited": false, "score": 0, "creation_date": 1441173002, "post_id": 32344684, "comment_id": 52564899, "body": "I solved my problem! Thanks.... I didn&#39;t realize a lot of the data was actually repeated.... so it only gave me one return for it... made it seem like I was missing a lot! Thanks for showing me how to kill something if there is an error. (your format for killing is much better than mine)"}, {"owner": {"reputation": 4571, "user_id": 14897, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b5c8015d480cc5148e39aa9eaa149577?s=128&d=identicon&r=PG", "display_name": "Devin Ceartas", "link": "https://stackoverflow.com/users/14897/devin-ceartas"}, "reply_to_user": {"reputation": 147, "user_id": 5290820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b4e11cc48058951252437f1b883bed?s=128&d=identicon&r=PG&f=1", "display_name": "serious", "link": "https://stackoverflow.com/users/5290820/serious"}, "edited": false, "score": 0, "creation_date": 1441203993, "post_id": 32344684, "comment_id": 52584554, "body": "Thanks. There&#39;s a book called &quot;Modern Perl&quot;, in it&#39;s second or third edition now, which can be helpful in getting up to speed with the latest techniques, capabilities and idioms of perl programming."}], "tags": [], "owner": {"reputation": 4571, "user_id": 14897, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b5c8015d480cc5148e39aa9eaa149577?s=128&d=identicon&r=PG", "display_name": "Devin Ceartas", "link": "https://stackoverflow.com/users/14897/devin-ceartas"}, "is_accepted": true, "score": 1, "last_activity_date": 1441168378, "creation_date": 1441168378, "answer_id": 32344684, "question_id": 32344307, "link": "https://stackoverflow.com/questions/32344307/foreach-loop-not-returning-expected-results/32344684#32344684", "title": "foreach loop not returning expected results", "body": "<p>Hashes will happily overwrite values, saving only the latest value, without throwing errors. If you want to catch that, you will need to put an explicit check in to see if the hash has a value before you overwrite it, something like: </p>\n\n<pre><code>while (my $line = &lt;NAMES_FILE&gt;) {\n        if ($line =~ /^&gt;(\\S+)/) {\n            $hash_key_name = $1;\n        }\n        elsif ($line =~ /\\S/) {\n            chomp $line;\n            $hash_value_name = $line;\n            if (defined($sequence{$hash_key_name}) &amp;&amp; $sequence{$hash_key_name} ne $hash_value_name) {\n                die(\"multiple sequences match $hash_key_name: $sequence{$hash_key_name}, $hash_value_name\");\n            }\n            $sequence{$hash_key_name} = $hash_value_name;\n        }\n}\n</code></pre>\n\n<p>That being said, it would be most helpful if you could provide sample data which produced the error you are trying to catch. It looks as if the data above should not contain this error. </p>\n"}], "owner": {"reputation": 147, "user_id": 5290820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b4e11cc48058951252437f1b883bed?s=128&d=identicon&r=PG&f=1", "display_name": "serious", "link": "https://stackoverflow.com/users/5290820/serious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 32344684, "answer_count": 1, "score": 1, "last_activity_date": 1441173499, "creation_date": 1441165364, "last_edit_date": 1441169782, "question_id": 32344307, "link": "https://stackoverflow.com/questions/32344307/foreach-loop-not-returning-expected-results", "title": "foreach loop not returning expected results", "body": "<p>I wrote a script below to analyze two file formats from <a href=\"http://bedtools.readthedocs.org/en/latest/content/tools/getfasta.html?highlight=name\" rel=\"nofollow\">bedtools</a> (-tab option, -name option) so it could combine the headers if the sequences match. The problem I ran into was that if the sequences matched to multiple names it only printed one of the names that correspond to it. I was wondering if anyone had a suggestion to how to approach this. As I want both the position of the sequence and name. Is there an option through bedtools?</p>\n\n<p>My script stores both files into their own hashes and then loops through then if they are equal it is suppose to print out matches in sequences with the appropriate names. It does this but it does not give errors if multiple sequences correspond to the name, it simply does not print them. So my conclusion is that the foreach loop is failing syntax wise in some form I am not noticing. Any suggestions? Cheers.</p>\n\n<p>sample data: -name output bedtools</p>\n\n<pre><code>     &gt;sequence_a\n     AGGT\n     &gt;sequence_b\n     AAAA\n     &gt;sequence_c\n     CCCC\n     &gt;sequence_d\n     AAAA\n</code></pre>\n\n<p>sample data: -tab output bedtools</p>\n\n<pre><code>    &gt;1-5\n    AAAA\n    &gt;10-14\n    ACCT\n    &gt;15-19\n    CCCC\n</code></pre>\n\n<p>expected output from script</p>\n\n<pre><code>    &gt;sequence_b|1-5\n    AAAA\n    &gt;sequence_c|15-19\n    CCCC\n    &gt;sequence_d|1-5\n    AAAA\n</code></pre>\n\n<p>Script</p>\n\n<pre><code>my %sequence;\n\nopen(NAMES_FILE, $ARGV[0]) or die \"Cannot open the file: $!\";\nmy $hash_key_name;\nmy $hash_value_name;\nwhile (my $line = &lt;NAMES_FILE&gt;) {\n    if ($line =~ /^&gt;(\\S+)/) {\n    $hash_key_name = $1;\n    }\n    elsif ($line =~ /\\S/) {\n    chomp $line;\n    $hash_value_name = $line;\n    $sequence{$hash_key_name} = $hash_value_name;\n    }\n}\n\n\nmy %sequence_2;\nopen (POSITIONS_FILE, $ARGV[1]) or die \"Cannot open the file: $!\";\nmy $hash_key_pos;\nmy $hash_value_pos;\nwhile (my $line2 = &lt;POSITIONS_FILE&gt;) {\n    if ($line2 =~ /^&gt;(\\S+)/) {\n    $hash_key_pos = $1;\n    }\n    elsif ($line2 =~ /\\S/) {\n    chomp $line2;\n    $hash_value_pos = $line2;\n    $sequence_2{$hash_key_pos} = $hash_value_pos;\n    }\n}\n\n\nforeach $hash_key_pos (keys %sequence_2) {\n     foreach $hash_key_name (keys %sequence) {\n         if ($sequence{$hash_key_name} eq $sequence_2{$hash_key_pos}){\n            print \"&gt;$hash_key_name|$hash_key_pos\\n$sequence{$hash_key_name}\\n\"}\n    }\n} \n</code></pre>\n"}, {"tags": ["javascript", "perl"], "answers": [{"comments": [{"owner": {"reputation": 622, "user_id": 3217883, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/20207bb1ce15daab1fc8efd9c637b7d2?s=128&d=identicon&r=PG&f=1", "display_name": "user3217883", "link": "https://stackoverflow.com/users/3217883/user3217883"}, "edited": false, "score": 0, "creation_date": 1441229309, "post_id": 32344248, "comment_id": 52599460, "body": "The web page queries an oracle database for records that match two filter values selected from comboboxes.  When one of the combobox values change, I need to change the values of the second.  All the combinations add up to 32000 lines.  I don&#39;t want to pull that amount of data from the server for every filter change.  I want it stored somewhere on the browser.  Isn&#39;t a session value the place to store it?  What is &quot;a block on your web page&quot;?"}], "tags": [], "owner": {"reputation": 10217, "user_id": 471930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tds8p.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/471930/jasen"}, "is_accepted": false, "score": 0, "last_activity_date": 1441164945, "creation_date": 1441164945, "answer_id": 32344248, "question_id": 32343838, "link": "https://stackoverflow.com/questions/32343838/print-hashtable-session-variable-in-javascript/32344248#32344248", "title": "print hashtable session variable in javascript", "body": "<p>You can't get there from here.</p>\n\n<p>Server side code runs on the server, javascript runs in the browser.</p>\n\n<p>If you need to access server side session data you'll need to either include it in a  block on your web page, or provide a URL with a CGI script that returns it in a form that the javascript can use.</p>\n"}, {"comments": [{"owner": {"reputation": 622, "user_id": 3217883, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/20207bb1ce15daab1fc8efd9c637b7d2?s=128&d=identicon&r=PG&f=1", "display_name": "user3217883", "link": "https://stackoverflow.com/users/3217883/user3217883"}, "edited": false, "score": 0, "creation_date": 1441227956, "post_id": 32344818, "comment_id": 52598899, "body": "Thanks for the idea mob.  Unfortunately, I can&#39;t get JSON to work even though it appears to be installed.  &quot;Can&#39;t locate JSON.pm in @INC&quot;.  When I do yum install &#39;perl(JSON)&#39; I get message &quot;Package perl-neto-io-JSON-2.53-1.noarch already installed and latest version Nothing to do&quot;"}, {"owner": {"reputation": 622, "user_id": 3217883, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/20207bb1ce15daab1fc8efd9c637b7d2?s=128&d=identicon&r=PG&f=1", "display_name": "user3217883", "link": "https://stackoverflow.com/users/3217883/user3217883"}, "edited": false, "score": 0, "creation_date": 1441295862, "post_id": 32344818, "comment_id": 52631174, "body": "Got it working in the terminal window at least by doing &quot;export PERL5LIB=/usr/local/lib/neto_io/lib/perl5/&quot;.  Thanks mob!"}, {"owner": {"reputation": 622, "user_id": 3217883, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/20207bb1ce15daab1fc8efd9c637b7d2?s=128&d=identicon&r=PG&f=1", "display_name": "user3217883", "link": "https://stackoverflow.com/users/3217883/user3217883"}, "edited": false, "score": 0, "creation_date": 1441300559, "post_id": 32344818, "comment_id": 52633937, "body": "Got it working in the browser by doing &quot;sudo yum install perl-JSON&quot;"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 0, "last_activity_date": 1441169380, "creation_date": 1441169380, "answer_id": 32344818, "question_id": 32343838, "link": "https://stackoverflow.com/questions/32343838/print-hashtable-session-variable-in-javascript/32344818#32344818", "title": "print hashtable session variable in javascript", "body": "<p>Easiest way is to serialize your Perl data structure with JSON, which JavaScript can parse natively.</p>\n\n<pre><code>use JSON;\nmy $session = new CGI::Session(undef, undef, {Directory=&gt;'/tmp'});\n$session-&gt;param(\"controllerHash\", \\%controllerHash);\nmy $hash_ref = $session-&gt;param('controllerHash');\nmy $controllerHashJSON = JSON-&gt;new-&gt;encode( $hash_ref );\n\n\nprint &lt;&lt;\"__EOF__\";    # in CGI, STDOUT is output to the client\nfunction billingViewControllerChanged() {\n      var controllerHash = $controllerHashJSON;\n      for (var k in controllerHash) {\n              console.log('key: '+k +', value: ' +controllerHash[k]);\n      }\n}\nEOF\n</code></pre>\n"}], "owner": {"reputation": 622, "user_id": 3217883, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/20207bb1ce15daab1fc8efd9c637b7d2?s=128&d=identicon&r=PG&f=1", "display_name": "user3217883", "link": "https://stackoverflow.com/users/3217883/user3217883"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 32344818, "answer_count": 2, "score": 1, "last_activity_date": 1441169380, "creation_date": 1441161699, "question_id": 32343838, "link": "https://stackoverflow.com/questions/32343838/print-hashtable-session-variable-in-javascript", "title": "print hashtable session variable in javascript", "body": "<p>Does anyone know how to access a hashtable session variable from javascript?  I can create one in perl and print it out like this:</p>\n\n<pre><code>my $session = new CGI::Session(undef, undef, {Directory=&gt;'/tmp'});\n$session-&gt;param(\"controllerHash\", \\%controllerHash);\nmy $hash_ref = $session-&gt;param('controllerHash');\nprint Dumper $hash_ref;\n</code></pre>\n\n<p>But I can't figure out how to access it from javascript.\nI tried something like this:</p>\n\n<pre><code>function billingViewControllerChanged() {\n      var controllerHash = Session['controllerHash'];\n      for (var k in controllerHash) {\n              console.log('key: '+k +', value: ' +controllerHash[k]);\n      }\n}\n</code></pre>\n\n<p>But I see this in the firefox Console:</p>\n\n<pre><code>ReferenceError: Session is not defined\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["regex", "perl", "unix", "awk"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1441152766, "post_id": 32342738, "comment_id": 52559873, "body": "<code>&#47;start&#47;</code> does not match <code>Start</code>. And <code>&#47;End&#47;</code> does not match <code>end</code>."}, {"owner": {"reputation": 4561, "user_id": 1043569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f0397c0ae99625fde35aaa75a20494e?s=128&d=identicon&r=PG", "display_name": "Atri", "link": "https://stackoverflow.com/users/1043569/atri"}, "edited": false, "score": 1, "creation_date": 1441153116, "post_id": 32342738, "comment_id": 52559954, "body": "A similar question is answered here: <a href=\"http://stackoverflow.com/questions/17988756/how-to-select-lines-between-two-marker-patterns-which-may-occur-multiple-times-w\" title=\"how to select lines between two marker patterns which may occur multiple times w\">stackoverflow.com/questions/17988756/&hellip;</a>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1441181689, "post_id": 32342738, "comment_id": 52569384, "body": "Make regex case insesitive, <code>perl -ne &#39;print if  &#47;start&#47;i .. &#47;end&#47;i&#39; file</code>"}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1441155299, "post_id": 32342832, "comment_id": 52560463, "body": "Note that you may have to put anchors/boundaries around <code>MATCH</code> depending on what <code>MATCH</code> really is."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1441153717, "last_edit_date": 1441153717, "creation_date": 1441153205, "answer_id": 32342832, "question_id": 32342738, "link": "https://stackoverflow.com/questions/32342738/unix-print-between-two-delimiters-followed-with-matched-word/32342832#32342832", "title": "unix print between two delimiters followed with matched word", "body": "<p>Set the input record separator (<code>$/</code>) to <code>end\\n</code>, and then a regex check for <code>MATCH</code> will check each section between <code>Start</code> and <code>end\\n</code> as if it's a single line.</p>\n\n<pre><code>$ perl -e '$/=\"end\\n\"; for (&lt;&gt;){print if /MATCH/;}' in.txt\nStart\nbla\nbla\nMATCH\nbla\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1441154252, "last_edit_date": 1441154252, "creation_date": 1441153676, "answer_id": 32342890, "question_id": 32342738, "link": "https://stackoverflow.com/questions/32342738/unix-print-between-two-delimiters-followed-with-matched-word/32342890#32342890", "title": "unix print between two delimiters followed with matched word", "body": "<p>awk to the rescue</p>\n\n<pre><code>awk 'BEGIN {ORS=RS=\"end\\n\"} /MATCH/'\n</code></pre>\n\n<p>set the record separator as defined and find the records which matches.  If multiple matches not required, this will only print the first match.</p>\n\n<pre><code>awk 'BEGIN {ORS=RS=\"end\\n\"} /MATCH/{print;exit}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1441156280, "creation_date": 1441156280, "answer_id": 32343187, "question_id": 32342738, "link": "https://stackoverflow.com/questions/32342738/unix-print-between-two-delimiters-followed-with-matched-word/32343187#32343187", "title": "unix print between two delimiters followed with matched word", "body": "<p>Given:</p>\n\n<pre><code>$ echo \"$tgt\" \nStart\nbla\nbla\nbla\nend\nStart\nbla\nbla\nMATCH\nbla\nend\nStart\nbla\nbla\nbla\nend\n</code></pre>\n\n<p>You can 'slurp' the file and then test each match group for <code>MATCH</code>:</p>\n\n<pre><code>$ echo \"$tgt\" | perl  -0777 -lne 'for (/^Start.*?^end/msg) { print if /^MATCH/m; }'\nStart\nbla\nbla\nMATCH\nbla\nend\n</code></pre>\n\n<p>Which works for a file as well.</p>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1441199490, "post_id": 32350009, "comment_id": 52581289, "body": "Nice point about potential issues by not including <code>Start</code> in my <code>$&#47;</code>, @Sobrique."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1441187644, "creation_date": 1441187644, "answer_id": 32350009, "question_id": 32342738, "link": "https://stackoverflow.com/questions/32342738/unix-print-between-two-delimiters-followed-with-matched-word/32350009#32350009", "title": "unix print between two delimiters followed with matched word", "body": "<p>The problem you've got is that your range operator still works line by line. </p>\n\n<p>E.g. </p>\n\n<pre><code>while ( &lt;&gt; ) {\n    print if m/start/i .. m/end/i; \n}\n</code></pre>\n\n<p>Is still using the record separator as <code>\\n</code> - each iteration of the loop will read another line from the file, but you won't be able to match the whole chunk ... because it may not have read ahead that far yet. </p>\n\n<p>You could do this via regular expression matching 'Start .. end' chunks:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy @chunks = do { local $/; &lt;DATA&gt; =~ m/Start.*?end/mgs };\nprint grep { m/MATCH/ } @chunks;\n\n__DATA__\nStart\nbla\nbla\nbla\nend\nStart\nbla\nbla\nMATCH\nbla\nend\nStart\nbla\nbla\nbla\nend\n</code></pre>\n\n<p>Or as another poster notes - set <code>$/</code> to 'end'. This has a slight drawback, in that it'll ignore 'Start', which means you might get additional content if you don't have the two matched properly.</p>\n\n<p>You might also try:</p>\n\n<pre><code>local $/ = \"end\\nStart\"; \n</code></pre>\n\n<p>Which will split your data properly, but again - might not handle all the scenarios correctly. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nlocal $/ = \"end\\nStart\";\n\nwhile ( &lt;DATA&gt; ) {\n    chomp; \n    print \"Chunk: $_\\n\";\n    print \"----\\n\";\n    print \"Matches!\\n\" if m/MATCH/;\n}\n</code></pre>\n\n<p>These can one-liner as:</p>\n\n<pre><code>perl -lne 'BEGIN { $/ = \"end\\nStart\" } print if /MATCH/' file\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5290442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78984e0fa02f3f336463f09f59c181a2?s=128&d=identicon&r=PG&f=1", "display_name": "peepu86", "link": "https://stackoverflow.com/users/5290442/peepu86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 32342832, "answer_count": 4, "score": 0, "last_activity_date": 1441187644, "creation_date": 1441152436, "last_edit_date": 1441152702, "question_id": 32342738, "link": "https://stackoverflow.com/questions/32342738/unix-print-between-two-delimiters-followed-with-matched-word", "title": "unix print between two delimiters followed with matched word", "body": "<p>I have the below text </p>\n\n<pre><code>Start\nbla\nbla\nbla\nend\nStart\nbla\nbla\nMATCH\nbla\nend\nStart\nbla\nbla\nbla\nend\n</code></pre>\n\n<p>i will need just the below</p>\n\n<pre><code>Start\nbla\nbla\nMATCH\nbla\nend\n</code></pre>\n\n<p>to put it in English. Print lines between two patterns which includes a match string in between.</p>\n\n<p>tried</p>\n\n<pre><code>awk '/Start /,/End/' file\n\nperl -lne 'print if  /start/ .. /end/' file\n</code></pre>\n\n<p>was not able to grep a match inbetween the tags </p>\n\n<p>need a one liner command preferrably</p>\n"}, {"tags": ["perl", "mechanize", "www-mechanize"], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1441144566, "creation_date": 1441144566, "answer_id": 32341517, "question_id": 32341391, "link": "https://stackoverflow.com/questions/32341391/perl-mechanize-returns-jumbled-text/32341517#32341517", "title": "Perl Mechanize Returns Jumbled Text", "body": "<p>You probably want <code>$result-&gt;decoded_content()</code>, not <code>$result-&gt;content()</code>.</p>\n\n<p>See <a href=\"https://metacpan.org/pod/HTTP::Response#r-content-bytes\" rel=\"nofollow\">https://metacpan.org/pod/HTTP::Response#r-content-bytes</a></p>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 32341517, "answer_count": 1, "score": 0, "last_activity_date": 1441144566, "creation_date": 1441143901, "question_id": 32341391, "link": "https://stackoverflow.com/questions/32341391/perl-mechanize-returns-jumbled-text", "title": "Perl Mechanize Returns Jumbled Text", "body": "<p>I have a form I would like to submit through the Mechanize module.</p>\n\n<p>I have selected the <code>form_number</code> and did a <code>dump_forms()</code> and it returned</p>\n\n<pre><code>POST http://URL (multipart/form-data)\n  field1=                (text)\n  field2=                (text)\n  field3=                (email)\n  actionbutton=Enter     (submit)\n</code></pre>\n\n<p>Here is my resulting code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse WWW::Mechanize;\nmy $mech = WWW::Mechanize-&gt;new();\n\nmy $url = \"http://URL\";\n$mech-&gt;get($url);\n$mech-&gt;form_number('1');\n$mech-&gt;dump_forms();\nmy $result = $mech-&gt;submit_form(\n    form_number =&gt; 1,\n    fields       =&gt;\n    {\n        field1 =&gt; 'Test1',\n        field2 =&gt; 'Test2',\n        email =&gt; 'test@email.com',\n        actionbutton =&gt; 'Enter'\n    },\n\n);\nprint $result-&gt;content();\n</code></pre>\n\n<p>But here is what that outputs.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Qnbf0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qnbf0.png\" alt=\"enter image description here\"></a></p>\n\n<p>What am I doing incorrectly?</p>\n"}, {"tags": ["regex", "perl", "shell", "awk", "sed"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1441134477, "post_id": 32339101, "comment_id": 52552583, "body": "Just out of curiosity, why do you need to do this? Generally it&#39;s easier to parse a CSV file than a half CSV, half pipe-and-colon-delimited file."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441134670, "post_id": 32339101, "comment_id": 52552686, "body": "I agree with @ThisSuitIsBlackNot. This sounds like a recipe for disaster."}, {"owner": {"reputation": 410, "user_id": 4811113, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/89636b53922fe7a8dcd604bf0d4f90d6?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/4811113/anil"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441134699, "post_id": 32339101, "comment_id": 52552705, "body": "@ThisSuitIsBlackNot : I need this as part of processing my data. I am trying to load the data in the csv file where some of the columns are stored in to a map. rather than complicating it in further steps, I am trying to make the data compatible with the data format I would be working on and then start the data processing"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1441135194, "post_id": 32339101, "comment_id": 52552997, "body": "@Anil Could you <a href=\"https://stackoverflow.com/posts/32339101/edit\">edit</a> your question to show an example of what you mean by &quot;some of the columns are stored in to a map.&quot;? We might be able to suggest a better approach if we can see exactly what you&#39;re trying to do."}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 0, "creation_date": 1441135412, "post_id": 32339101, "comment_id": 52553111, "body": "<code>replace the delimiter with &#39;|&#39; for the entire file</code> description doesn&#39;t match the required output."}, {"owner": {"reputation": 410, "user_id": 4811113, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/89636b53922fe7a8dcd604bf0d4f90d6?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/4811113/anil"}, "edited": false, "score": 0, "creation_date": 1441136512, "post_id": 32339101, "comment_id": 52553721, "body": "@karafka : Thanks for the catch. updated the question accordingly !"}, {"owner": {"reputation": 410, "user_id": 4811113, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/89636b53922fe7a8dcd604bf0d4f90d6?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/4811113/anil"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441136664, "post_id": 32339101, "comment_id": 52553812, "body": "@ThisSuitIsBlackNot: I have provided the input and desired output to avoid any confusion in my question."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441138036, "post_id": 32339101, "comment_id": 52554545, "body": "So in your example, are you just trying to remove any columns between column 6 and column 10 that are zero?"}, {"owner": {"reputation": 410, "user_id": 4811113, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/89636b53922fe7a8dcd604bf0d4f90d6?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/4811113/anil"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441138345, "post_id": 32339101, "comment_id": 52554711, "body": "@ThisSuitIsBlackNot: yes... to some extent. i am removing the zero&#39;s that are in col6 - col10 and also, I need to make sure that the data is modified from col6 - col10 as follows: - each column value would have column name : before the value - each column after column 6 would be separated by &#39;|&#39;. I have clearly provided the examples in my question posted."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441138923, "post_id": 32339101, "comment_id": 52555037, "body": "@Anil Sorry, I may have been unclear. I&#39;m was asking what you&#39;re actually trying to do, not how you&#39;re trying to do it. I already know how you&#39;re trying to do it (adding pipes and colons to your CSV); what I still don&#39;t know is what problem you&#39;re trying to solve by doing that. Whether you explain the actual problem is up to you, of course, but you&#39;ll usually get better answers if you do."}, {"owner": {"reputation": 410, "user_id": 4811113, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/89636b53922fe7a8dcd604bf0d4f90d6?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/4811113/anil"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441139168, "post_id": 32339101, "comment_id": 52555165, "body": "@ThisSuitIsBlackNot: thanks for the comment. I&#39;m trying to load the data from the csv file in to a framework where half of the columns are stored in to a map as key-value pairs. As 0&#39;s are redundant in my case, I have to get rid of them eventually. so trying to get rid of the zero&#39;s in the raw file to be processed and loading the data in to the framework. Hope this helps"}], "answers": [{"comments": [{"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 1, "creation_date": 1441135158, "post_id": 32339305, "comment_id": 52552980, "body": "Faster than me and a nice solution :)"}, {"owner": {"reputation": 410, "user_id": 4811113, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/89636b53922fe7a8dcd604bf0d4f90d6?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/4811113/anil"}, "edited": false, "score": 1, "creation_date": 1441135601, "post_id": 32339305, "comment_id": 52553224, "body": "Thank you @anubhava ! That works ! Is there a way i could discard the zero values? I mean if the column is  1,2,3,4,5,6,0,8,0,10 Can I get 1,2,3,4,5,col6:6|col8:8|col10:10 or should this post go out  as a different question? ;)"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1441138177, "post_id": 32339305, "comment_id": 52554618, "body": "Thanks for your comment but this command worked for me on OSX (BSD awk) also."}, {"owner": {"reputation": 410, "user_id": 4811113, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/89636b53922fe7a8dcd604bf0d4f90d6?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/4811113/anil"}, "reply_to_user": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 1, "creation_date": 1441138676, "post_id": 32339305, "comment_id": 52554903, "body": "@hek2mgl: It worked for me with both awk and gawk. Can you also please help me filtering the data (filtering the zero&#39;s from the data withing the pipes)"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 410, "user_id": 4811113, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/89636b53922fe7a8dcd604bf0d4f90d6?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/4811113/anil"}, "edited": false, "score": 1, "creation_date": 1441139835, "post_id": 32339305, "comment_id": 52555481, "body": "@Anil: Check updated command for skipping zero value columns."}, {"owner": {"reputation": 410, "user_id": 4811113, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/89636b53922fe7a8dcd604bf0d4f90d6?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/4811113/anil"}, "edited": false, "score": 0, "creation_date": 1441154214, "post_id": 32339305, "comment_id": 52560220, "body": "Thank you so much @anubhava"}, {"owner": {"reputation": 410, "user_id": 4811113, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/89636b53922fe7a8dcd604bf0d4f90d6?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/4811113/anil"}, "edited": false, "score": 0, "creation_date": 1441158475, "post_id": 32339305, "comment_id": 52561158, "body": "@anubhava: Thank you so much for all the help you&#39;ve been rendering me. I&#39;ve used this command. this looks good if the last column is a nonzero. If the last column is zero, the next line starts from the same after the pipe|. Can we do some thing to fix this? -"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 5, "last_activity_date": 1441139818, "last_edit_date": 1441139818, "creation_date": 1441135098, "answer_id": 32339305, "question_id": 32339101, "link": "https://stackoverflow.com/questions/32339101/process-the-file-by-replacing-some-of-the-delimiters-and-filtering-the-data-with/32339305#32339305", "title": "Process the file by replacing some of the delimiters and filtering the data within", "body": "<p>You can use this awk:</p>\n\n<pre><code>awk -F ', *' 'NR==1{for (i=1; i&lt;=NF; i++) hdr[i]=$i; next}\n  {for (i=1; i&lt;=NF; i++) printf \"%s%s\", ((i&gt;5)?hdr[i] \":\":\"\") $i,\n      ((i&lt;NF)? ((i&gt;5)?\"|\":\",\") : ORS)}' file\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>1,2,3,4,5,col6:6|col7:7|col8:8|col9:9|col10:10\n</code></pre>\n\n<p><code>hdr</code> is the associative array to hold header column names when <code>NR==1</code></p>\n\n<hr>\n\n<p><strong>Update:</strong> As per comments OP want to skip columns with zero value. You can use: As per comments OP want to skip columns with zero value. You can use:</p>\n\n<pre><code>awk -F ', *' 'NR==1{for (i=1; i&lt;=NF; i++) hdr[i]=$i; next}\n   {for (i=1; i&lt;=NF; i++) if ($i&gt;0) printf \"%s%s\", ((i&gt;5)?hdr[i] \":\":\"\") $i,\n            ((i&lt;NF)? ((i&gt;5)?\"|\":\",\") : ORS)}' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "is_accepted": false, "score": 0, "last_activity_date": 1441170522, "creation_date": 1441170522, "answer_id": 32345025, "question_id": 32339101, "link": "https://stackoverflow.com/questions/32339101/process-the-file-by-replacing-some-of-the-delimiters-and-filtering-the-data-with/32345025#32345025", "title": "Process the file by replacing some of the delimiters and filtering the data within", "body": "<pre><code>sed '1 {h\n        s/\\([^,]*,\\)\\{5\\}\\(\\([^,]*,\\)\\{4\\}[^,]*\\).*/\\2/\n        s/,/|/g\n        x\n        b\n       }\n   G\n   s/\\(\\([^,]*,\\)\\{5\\}\\)\\([^,]*,\\)\\{4\\}[^,]*\\(.*\\)\\n\\(.*\\)/\\1\\5\\4/\n   ' YourFile\n</code></pre>\n\n<p>Posix sed version:</p>\n\n<ul>\n<li>assuming there is no <code>,</code> in field value</li>\n<li>adapt the index\n\n<ul>\n<li>5 to field starting - 1 (6 in this sample)</li>\n<li>4 to number of field to catch [ last index - start index ] ( 10 - 6 = 4 in this sample)</li>\n<li>need modification if field catching start at 1 (<code>\\{0\\}</code> could give unexpected behaviour depending sed version)  </li>\n</ul></li>\n</ul>\n\n<p>Principle:</p>\n\n<ul>\n<li>take sub field from line 1, change the separator and put it in holding buffer then print original header</li>\n<li>for all other line, add holded value to the line, replace the sub field info by info after the new line (so the added value), print the result</li>\n</ul>\n"}], "owner": {"reputation": 410, "user_id": 4811113, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/89636b53922fe7a8dcd604bf0d4f90d6?s=128&d=identicon&r=PG&f=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/4811113/anil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 32339305, "answer_count": 2, "score": 0, "last_activity_date": 1441170522, "creation_date": 1441134233, "last_edit_date": 1441136307, "question_id": 32339101, "link": "https://stackoverflow.com/questions/32339101/process-the-file-by-replacing-some-of-the-delimiters-and-filtering-the-data-with", "title": "Process the file by replacing some of the delimiters and filtering the data within", "body": "<p>I am trying to process a huge file and need to modify the structure if the data. My file has 117 columns but to put it simple, Lets assume that I have a file with 10 columns\nExample file:</p>\n\n<pre><code>col1, col2, col3, col4, col5, col6, col7, col8, col9, col10\n1,2,3,4,5,6,7,8,9,10\n</code></pre>\n\n<p>I now want to \n- include the column name from col6 through col10 with the column values\n- and replace the delimiter with '|' from col6 through col10 for the entire file</p>\n\n<p>required output</p>\n\n<pre><code>1,2,3,4,5,col6:6|col7:7|col8:8|col9:9|col10:10\n</code></pre>\n\n<p>Is this a possibility? I'm completely new to regex/ awk. Can some one help please</p>\n\n<p>P.S: Once the data is processed, I'm trying to flush out the zeros from the '|' separated columns...</p>\n\n<pre><code>So, if the data is 1,2,3,4,5,6,0,8,0,10\nI would convert it to 1,2,3,4,5,col6:6|col7:0|col8:8|col9:0|col10:10\nand then remove the zero's 1,2,3,4,5,col6:6|col8:8|col10:10\n\nso input: 1,2,3,4,5,6,0,8,0,10\nDesired output: 1,2,3,4,5,col6:6|col8:8|col10:10\n</code></pre>\n"}, {"tags": ["multithreading", "perl", "fork", "tcpdump"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user862787"}, "is_accepted": true, "score": 3, "last_activity_date": 1441136132, "creation_date": 1441136132, "answer_id": 32339577, "question_id": 32339051, "link": "https://stackoverflow.com/questions/32339051/perl-script-to-capture-tcpdump-traces-on-linux/32339577#32339577", "title": "Perl script to capture tcpdump traces on Linux", "body": "<p>Try</p>\n\n<pre><code>kill 15, -$snoopAPP\n</code></pre>\n\n<p>Signal 9, SIGKILL, is an immediate terminate, and doesn't give the application the opportunity to finish up, so, well, the capture file stands a good chance of being cut short in the middle of a packet.</p>\n\n<p>Signal 15, SIGTERM, can be caught by an application, so it can clean up before terminating.  Tcpdump catches it and finishes writing out buffered output.</p>\n"}], "owner": {"reputation": 588, "user_id": 1940533, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9c3fa75cb5aad69bda8770fa335f99d6?s=128&d=identicon&r=PG", "display_name": "Muzammil", "link": "https://stackoverflow.com/users/1940533/muzammil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 810, "favorite_count": 0, "accepted_answer_id": 32339577, "answer_count": 1, "score": 0, "last_activity_date": 1441136132, "creation_date": 1441134057, "question_id": 32339051, "link": "https://stackoverflow.com/questions/32339051/perl-script-to-capture-tcpdump-traces-on-linux", "title": "Perl script to capture tcpdump traces on Linux", "body": "<p>Hi I have written a script, which was working fine previously with 'snoop' commands. This script forks child in the script to start tcpdump. When i have to stop the dump I kill the child but when i look at the pcap generated in wireshark, it shows the error \"The capture file appears to have been cut short in the middle of a packet\". My commands are</p>\n\n<pre><code>my $snoopAPP = &amp;startService(\"tcpdump -w /tmp/app.pcap -i bond0&gt;/dev/null 2&gt;&amp;1\" , '');\nkill 9, -$snoopAPP;waitpid $snoopAPP, 0;\n\nsub startService(){\n    #runs a program in background and returns PID which can be used later to kill the process\n    #arguments are 1, path , 2nd the name of the file\n    my $processPath = $_[0];chomp($processPath);\n    if ($_[1] ne ''){$processPath = $processPath . \" &gt;$path/$_[1].log\";}\n    print \"\\nStarting ... \\n-- $processPath\\n\";\n    my $pid = fork();\n    die \"unable to fork $processPath: $!\" unless defined($pid);\n    if (!$pid) {  # child\n        setpgrp(0, 0);\n      exec(\"$processPath\");\n      die \"\\nunable to exec: $!\\n\";\n      exit;\n    }\n    print \" ---- PID: $pid\\n\";\n    return $pid;\n}\n</code></pre>\n\n<p>Another post suggests to wait for tcpdump to exit, which I am doing already, but still it results in the same error message.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1441132133, "post_id": 32338183, "comment_id": 52551305, "body": "Perhaps you can clarify your question with an example, or write some mockup code."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1441165274, "post_id": 32338183, "comment_id": 52562611, "body": "log2() is not defined in your code example."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5289578"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1441177418, "post_id": 32338183, "comment_id": 52566821, "body": "@xxfelixxx - sorry if i didn&#39;t put it in - it&#39;s just a small sub that takes the log2 fpkm"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5289578"}, "edited": false, "score": 0, "creation_date": 1441177420, "post_id": 32344660, "comment_id": 52566824, "body": "This exactly answers my question. I haven&#39;t used grep in perl much, but this is a really nice solution, so thanks!"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 1, "last_activity_date": 1441168178, "creation_date": 1441168178, "answer_id": 32344660, "question_id": 32338183, "link": "https://stackoverflow.com/questions/32338183/extract-and-compare-multi-line-values/32344660#32344660", "title": "Extract and compare multi line values", "body": "<p>From your question, it is rather unclear what your criteria are for selecting a particular value for inclusion into your extract.  It <em>appears</em> that you want replicate 0 when treatment type is Schx, and replicate 1 when treatment type is Schxdex (from your example output).  If there is any other logic, it is non-obvious to me.</p>\n\n<p>Modifying your script slightly:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nmy $input = 'input';\nopen my $in, \"&lt;\", $input\n  or die \"Unable to open '$input' : $!\";\n\nmy %data;\nwhile (&lt;$in&gt;) {\n    chomp;\n    next unless /^XLOC/;\n    my @split = split;\n    #      model        treatment    replicate     value\n    $data{ $split[0] }{ $split[1] }{ $split[2] } = $split[6];\n}\n\nopen my $out, '&gt;', 'output.csv';\n\nprint $out \"fpkm1 fpkm2\\n\";\n\nmy ( %rep_count, $log_trans_fpkm, %filter, $fpkm );\n\nfor my $xloc ( sort keys %data ) {\n\n    my ($schx, $schxdex);\n    for my $treatment ( keys $data{$xloc} ) {\n        if ('Schx' eq $treatment) {\n            $schx = $data{$xloc}{$treatment}{ 0 };\n        } elsif ('Schxdex' eq $treatment) {\n            $schxdex = $data{$xloc}{$treatment}{ 1 };\n        } else {\n            die \"Don't know what to do with treatment '$treatment'\";\n        }\n    }\n    my (@fpkm_ok) = grep { defined $_ and $_ != 0 and $_ &lt;= 5000 } ($schx, $schxdex);\n    if ( 2 == scalar @fpkm_ok ) {\n        print $out join ' ', (@fpkm_ok, \"\\n\");\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>fpkm1 fpkm2\n20.8907 12.5572\n7.25738 6.52573\n4.10985 3.24867\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5289578"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 32344660, "answer_count": 1, "score": 0, "last_activity_date": 1441168178, "creation_date": 1441130683, "last_edit_date": 1441161171, "question_id": 32338183, "link": "https://stackoverflow.com/questions/32338183/extract-and-compare-multi-line-values", "title": "Extract and compare multi line values", "body": "<p>I'm trying to extract data from a file that looks like this:</p>\n\n<pre><code>XLOC_000001 Schx    1   385 339.597 339.597 11.2848 -   OK\nXLOC_000001 Schx    0   620 671.378 671.378 20.8907 -   OK\nXLOC_000001 Schxdex 0   493 530.642 530.642 16.1373 -   OK\nXLOC_000001 Schxdex 1   384 368.611 368.611 12.5572 -   OK\nXLOC_000002 Schx    1   486 428.686 428.686 5.75646 -   OK\nXLOC_000002 Schx    0   503 544.683 544.683 7.25738 -   OK\nXLOC_000002 Schxdex 0   584 628.59  628.59  8.6694  -   OK\nXLOC_000002 Schxdex 1   497 477.083 477.083 6.52573 -   OK\nXLOC_000003 Schx    1   667 588.341 588.341 3.6527  -   OK\nXLOC_000003 Schx    0   578 625.898 625.898 4.10985 -   OK\nXLOC_000003 Schxdex 0   607 653.346 653.346 4.35889 -   OK\nXLOC_000003 Schxdex 1   521 500.121 500.121 3.24867 -   OK\nXLOC_000004 Schx    1   27  23.8159 23.8159 29.2102 -   OK\nXLOC_000004 Schx    0   27  29.2374 29.2374 224.533 -   OK\n</code></pre>\n\n<p>The information in the first column shows a gene model, and the second shows a treatment group (either Schx or Schxdex). The 3rd column show the technical replicate for each treatment group (either 0 or 1). So, for the first gene model:</p>\n\n<pre><code>model    treatment    rep    value\nXLOC_000001    Schx    1    11.2848\nXLOC_000001    Schx    0    20.8907\nXLOC_000001    Schxdex    0    16.1373\nXLOC_000001    Schxdex    1    12.5572  \n</code></pre>\n\n<p>I'm trying to make a comparison between data (the value I'm interested in is in column 7)</p>\n\n<p>1) <strong>within</strong> each treatment group: <code>20.8907</code> Vs. <code>11.2848</code> and <code>16.1373</code> Vs. <code>12.5572</code></p>\n\n<p>and </p>\n\n<p>2) <strong>Between</strong> each treatment group: <code>20.8907</code> Vs. <code>12.5572</code> and <code>11.2848</code> Vs. <code>16.1373</code></p>\n\n<p>I've written some code that allows me to perform a correlation test for the first comparison, but I can't work out how to do the same for the second. I'm filtering values (<code>$fpkm == 0</code> and <code>$fpkm &gt; 5000</code>) and then transforming them. the test that I'm doing doesn't allow for missing data, so if a 0 or (>5000) is present in one comparison point then the whole model is removed:</p>\n\n<pre><code>my %data;\nwhile (&lt;$in&gt;){\n    chomp;\n    next unless /^XLOC/;\n    my @split = split;\n    $data{$split[0]}{$split[1]}{$split[2]} = $split[6];\n}\n\nopen my $out, '&gt;', 'output.csv';\n\nprint $out \"fpkm1,fpkm2\\n\";\n\nmy (%rep_count, $log_trans_fpkm, %filter, $fpkm);\n\nfor my $xloc (sort keys %data){\n    for my $condition (keys $data{$xloc}){\n        for my $replicate (sort keys $data{$xloc}{$condition}){\n            $fpkm = $data{$xloc}{$condition}{$replicate};\n\n            next if $fpkm == 0;\n            $rep_count{$xloc}{$condition}++;\n\n            $filter{$xloc}{$condition}{$replicate} = $fpkm if $replicate == 0 and $rep_count{$xloc}{$condition} == 1 and $condition eq 'Schx';\n            $filter{$xloc}{$condition}{$replicate} = $fpkm if $replicate == 1 and $rep_count{$xloc}{$condition} == 2 and $condition eq 'Schx';\n        }\n        delete $filter{$xloc} if $fpkm == 0 or $fpkm &gt; 5000;\n    }\n}\n\nfor my $id (sort keys %filter){\n    for my $condition (keys $filter{$id}){\n        for my $replicate (sort keys $filter{$id}{$condition}){\n            my $fpkm = log2($filter{$id}{$condition}{$replicate});\n            print $out \"$fpkm,\" if $replicate == 0 and $condition eq 'Schx';\n            print $out \"$fpkm\" if $replicate == 1 and $condition eq 'Schx';\n        }\n        print $out \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Would anyone be able to help me extract the data to make the second comparison? </p>\n\n<p>Just to clarify the data I want to extract in this example is:</p>\n\n<pre><code>XLOC_000001 Schx    0   20.8907 \nXLOC_000001 Schxdex 1   12.5572 \nXLOC_000002 Schx    0   7.25738 \nXLOC_000002 Schxdex 1   6.52573 \nXLOC_000003 Schx    0   4.10985 \nXLOC_000003 Schxdex 1   3.24867\n</code></pre>\n\n<p>To be formatted like this:</p>\n\n<pre><code>20.8907 12.5572\n7.25738 6.52573\n4.10985 3.24867\n</code></pre>\n"}, {"tags": ["perl", "parsing", "screen-scraping", "www-mechanize", "html-treebuilder"], "answers": [{"tags": [], "owner": {"reputation": 241, "user_id": 5249935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EryrM.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/5249935/tim"}, "is_accepted": true, "score": 3, "last_activity_date": 1441129596, "creation_date": 1441129596, "answer_id": 32337897, "question_id": 32337580, "link": "https://stackoverflow.com/questions/32337580/wwwmechanize-extraction-help-perl/32337897#32337897", "title": "WWW::Mechanize Extraction Help - PERL", "body": "<p>Your code is fine, just change the <code>as_text()</code> method to <code>as_HTML()</code> and it will show the content with HTML tags included.</p>\n"}], "owner": {"reputation": 47, "user_id": 4870810, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/541e9ad50da1bb1538c6f407119be059?s=128&d=identicon&r=PG&f=1", "display_name": "MikeEMKI", "link": "https://stackoverflow.com/users/4870810/mikeemki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 32337897, "answer_count": 1, "score": 1, "last_activity_date": 1441129596, "creation_date": 1441128428, "question_id": 32337580, "link": "https://stackoverflow.com/questions/32337580/wwwmechanize-extraction-help-perl", "title": "WWW::Mechanize Extraction Help - PERL", "body": "<p>I'm try to automate the extraction of a transcript found on a website. The entire transcript is found between dl tags since the site formatted the interview in a description list. The script I have below allows me to search the site and extract the text in a plain-text format, but I'm actually looking for it to include everything between the dl tags, meaning dd's, dt's, etc. This will allow us to develop our own CSS for the interview.</p>\n\n<p>Something to note about the page is that there are break statements inserted at various points during the interview. Some tools we've found that extract information from webpages using pairings have found this to be a problem since it only grabs the information up until the break statement. Just something to keep in mind if you point me in a different direction. Here's what I have so far.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse WWW::Mechanize;\nuse WWW::Mechanize::TreeBuilder;\n\nmy $mech = WWW::Mechanize-&gt;new();\nWWW::Mechanize::TreeBuilder-&gt;meta-&gt;apply($mech);\n$mech-&gt;get(\"http://millercenter.org/president/clinton/oralhistory/madeleine-k-albright\");\n\n# find all &lt;dl&gt; tags\nmy @list = $mech-&gt;find('dl');\n\nforeach ( @list ) {\nprint $_-&gt;as_text();\n}\n</code></pre>\n\n<p>If there is a tool that essentially prints what I have, only this time as HTML, please let me know of it!</p>\n"}, {"tags": ["linux", "perl", "parallel-processing"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441132644, "post_id": 32337138, "comment_id": 52551601, "body": "You send SIGTERM, but the parent received SIGINT?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1441133016, "post_id": 32337138, "comment_id": 52551807, "body": "<code>kill(&#39;INT&#39;, $_is_MSWin32 ? -$$ : -getpgrp);</code> in  MCE::Signal probably responsible."}, {"owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441139537, "post_id": 32337138, "comment_id": 52555348, "body": "@ikegami Thanks you&#39;re correct. I hacked away at Signal.pm and there are a number of instances where the process group is killed and there are references to $main_proc_id (the parent pid) in those kills as well. I&#39;m sure there&#39;s a proper way around it, but this looks to be the root cause. Thanks!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441160893, "post_id": 32337138, "comment_id": 52561679, "body": "Wouldn&#39;t calling <code>setpgrp</code> do the trick?"}, {"owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441206162, "post_id": 32337138, "comment_id": 52586257, "body": "I tried that early on (comment still in script above), but the issue persisted. The issue appears related to the fact that MCE::Signal assigns HUP, INT, QUIT, and TERM to \\&amp;stop_and_exit. To get the functionality I was looking for I had to use setpgrp in the child process <i>and</i> set $SIG{TERM} back to DEFAULT in my script. This allowed me to terminate the child process group without affecting the parent."}, {"owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441206380, "post_id": 32337138, "comment_id": 52586422, "body": "The root cause of this may be related to the following that&#39;s in &amp;stop_and_exit: if ($_no_kill9 == 1 || $_sig_name eq &#39;PIPE&#39;) { kill(&#39;INT&#39;, $_is_MSWin32 ? -$$ : -getpgrp); } else { kill(&#39;KILL&#39;, -$$, $main_proc_id);} In my test case, $main_proc_id is set to the parent process so when it gets to this line it&#39;s sending a KILL to the parent. Perhaps this explains it. As a workaround I&#39;m just taking TERM and INT back in my program so this doesn&#39;t occur."}], "answers": [{"comments": [{"owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "edited": false, "score": 0, "creation_date": 1441214717, "post_id": 32357052, "comment_id": 52591782, "body": "I had to add package Worker; to the top of Worker.pm (I renamed it), but otherwise this works perfectly! Thanks for taking the time to work through it with me. I&#39;ll be able to take this and implement it into my main program pretty quickly. :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "edited": false, "score": 0, "creation_date": 1441215074, "post_id": 32357052, "comment_id": 52592002, "body": "argh, second time I forgot that this week. Fixed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1441216502, "last_edit_date": 1441216502, "creation_date": 1441207175, "answer_id": 32357052, "question_id": 32337138, "link": "https://stackoverflow.com/questions/32337138/status-of-daemonized-mce-process-affects-parent-process/32357052#32357052", "title": "Status of daemonized MCE process affects parent process", "body": "<p>The module caches the PID on module load. Fix it by performing the following post-fork:</p>\n\n<pre><code>$MCE::Signal::main_proc_id = $$;\n</code></pre>\n\n<p>Better yet, delay loading of MCE until after the fork. I'd do that by moving</p>\n\n<pre><code>use MCE::Loop;\nuse MCE::Signal '-setpgrp';\n</code></pre>\n\n<p>into a module (say <code>Worker.pm</code>), and by moving the child code into a sub named <code>run</code> in that same module, then perform the following post-fork:</p>\n\n<pre><code>require Worker;\nWorker::run();\n</code></pre>\n\n<hr>\n\n<p><code>script</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse POSIX qw( setsid );\n\nmy $name = shift;\n\nmy @pids;\nwhile (@pids &lt; 2) {\n    my $pid = fork();\n\n    if (!defined $pid) {\n        print \"Can't fork: $!\\n\";\n    }\n\n    elsif ($pid == 0) {\n        (setsid() != -1)\n            or die \"Can't start a new session: $!\";\n\n        require Worker;\n        Worker::run($name);\n        exit;\n    }\n\n    else {\n        print $pid.\"\\n\";\n        push(@pids, $pid);\n    }\n}\n\nfor my $pid (@pids) {\n    waitpid($pid, 0);\n}\n</code></pre>\n\n<p><code>Worker.pm</code>:</p>\n\n<pre><code>package Worker;\n\nuse strict;\nuse warnings;\n\nuse MCE::Loop;\nuse MCE::Signal '-setpgrp';\n\nmy $mce_maxWorkers = 2;\nmy $mce_chunkSize  = 1;\n\nsub run {\n    my $name = shift;\n\n    MCE::Loop::init {\n        max_workers =&gt; $mce_maxWorkers,\n        chunk_size =&gt; $mce_chunkSize,\n        on_post_exit =&gt; sub {\n            my ($mce, $e) = @_;\n            print \"$e-&gt;{wid}: $e-&gt;{pid}: status $e-&gt;{status}: $e-&gt;{msg}\\n\";\n        }\n    };\n\n    my $tail = 'tail -q -f '.$name;\n    open my $tail_fh, \"-|\", $tail or die \"Can't open tail\\n\";\n\n    mce_loop_f {\n        my ($mce, $chunk_ref, $chunk_id) = @_;\n        my $line = ${$chunk_ref}[0];\n        chomp($line);\n        print $line.\"\\n\";\n\n    } $tail_fh;\n    close $tail_fh;\n\n    MCE-&gt;shutdown;\n}\n\n1;\n</code></pre>\n"}], "owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "accepted_answer_id": 32357052, "answer_count": 1, "score": 1, "last_activity_date": 1441216502, "creation_date": 1441126701, "question_id": 32337138, "link": "https://stackoverflow.com/questions/32337138/status-of-daemonized-mce-process-affects-parent-process", "title": "Status of daemonized MCE process affects parent process", "body": "<p>I'm using MCE to do some things and it's been working well. I need to watch for an event to occur then fork an MCE process to process that event. This works well, but I've run into a problem where an error in the child process kills the parent process when I think only the child MCE process should be affected. Here is a short program that demonstrates this behavior.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse MCE::Loop;\nuse MCE::Signal '-setpgrp';\nuse POSIX \"setsid\";\n\n$SIG{CHLD} = 'IGNORE';\n\nmy $mce_maxWorkers = 2;\nmy $mce_chunkSize = 1;\nmy @pids;\nmy $i = 0;\n\nmy $name = shift;\n\nwhile ($i &lt; 2) {\n    my $pid = fork();\n\n    if (!defined $pid) {\n        print \"Can't fork: $!\\n\";\n    }\n\n    elsif ($pid == 0) {\n\n        #setpgrp(0,0);\n        (setsid() != -1) || die \"Can't start a new session: $!\";\n\n        MCE::Loop::init {\n            max_workers =&gt; $mce_maxWorkers,\n            chunk_size =&gt; $mce_chunkSize,\n            on_post_exit =&gt; sub {\n                my ($mce, $e) = @_;\n                print \"$e-&gt;{wid}: $e-&gt;{pid}: status $e-&gt;{status}: $e-&gt;{msg}\\n\";\n            }\n        };\n\n        my $tail = 'tail -q -f '.$name;\n        open my $tail_fh, \"-|\", $tail or die \"Can't open tail\\n\";\n\n        mce_loop_f {\n            my ($mce, $chunk_ref, $chunk_id) = @_;\n            my $line = ${$chunk_ref}[0];\n            chomp($line);\n            print $line.\"\\n\";\n\n        } $tail_fh;\n        close $tail_fh;\n\n        MCE-&gt;shutdown;\n        exit;\n    }\n\n    else {\n        print $pid.\"\\n\";\n        $i++;\n        push(@pids,$pid);\n    }\n}\n\nforeach my $p (@pids) {\n    waitpid $p, 0;\n}\n</code></pre>\n\n<p>When run this program forks two children processes that tail a file and read its contents with an MCE loop that has two worker processes. This results in 7 processes, 1 parent, 2 MCE managers, and 4 MCE workers (and 2 tail processes).</p>\n\n<p>Using setsid, the MCE manager processes should be decoupled from the parent process. Anything that causes these children to die should not affect the parent process correct?</p>\n\n<p>Here are the results of ps -efj | grep monitor</p>\n\n<pre><code>user1  29001   978 29001   978  0 11:41 pts/2    00:00:00 /usr/bin/perl ./monitor1_test.pl tmp/monitor1/test1.log\nuser1  29002 29001 29002 29002  0 11:41 ?        00:00:00 /usr/bin/perl ./monitor1_test.pl tmp/monitor1/test1.log\nuser1  29003 29001 29003 29003  0 11:41 ?        00:00:00 /usr/bin/perl ./monitor1_test.pl tmp/monitor1/test1.log\nuser1  29004 29002 29002 29002  0 11:41 ?        00:00:00 tail -q -f tmp/monitor1/test1.log\nuser1  29005 29003 29003 29003  0 11:41 ?        00:00:00 tail -q -f tmp/monitor1/test1.log\nuser1  29006 29002 29002 29002  0 11:41 ?        00:00:00 /usr/bin/perl ./monitor1_test.pl tmp/monitor1/test1.log\nuser1  29007 29002 29002 29002  0 11:41 ?        00:00:00 /usr/bin/perl ./monitor1_test.pl tmp/monitor1/test1.log\nuser1  29008 29003 29003 29003  0 11:41 ?        00:00:00 /usr/bin/perl ./monitor1_test.pl tmp/monitor1/test1.log\nuser1  29009 29003 29003 29003  0 11:41 ?        00:00:00 /usr/bin/perl ./monitor1_test.pl tmp/monitor1/test1.log\n</code></pre>\n\n<p>If I were to send a SIGTERM to 29002 above, I would expect that process to die along with 29004, 29006, and 29007. I also would expect process 29001 and 29003 to remain unaffected.</p>\n\n<p>However, what I see is that 29001 dies along with 29002 while 29003 remains. The following error is observed on the terminal.</p>\n\n<pre><code>shell $ ./monitor1_test.pl tmp/monitor1/test1.log \n29002\n29003\ntest1234\ntest1234\n\n## monitor1_test.pl: caught signal (INT), exiting\n\nKilled\nshell $ MCE::shutdown: method cannot be called while running at /usr/share/perl5/site_perl/MCE/Signal.pm line 371.\nEND failed--call queue aborted at ./monitor1_test.pl line 371, &lt;$tail_fh&gt; line 1.\n</code></pre>\n\n<p>Why would the termination of one of the children processes affect the parent in this manner? Am I doing something wrong or making an incorrect assumption that the parent should live through this? I'm a bit vexed at the moment so any advice would be very much appreciated.</p>\n\n<p>Platform: Linux 4.0.6 x86_64<br>\nPerl: 5.22</p>\n"}, {"tags": ["windows", "perl", "strawberry-perl", "libyaml"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441124749, "post_id": 32336342, "comment_id": 52547269, "body": "What processor do you have in your system? Can you run: <code>wmic cpu get Name,AddressWidth,Version</code> and post the results?"}, {"owner": {"reputation": 199, "user_id": 2844440, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13f60899d4b262215bc02d5d83f6bd58?s=128&d=identicon&r=PG&f=1", "display_name": "akvallejos", "link": "https://stackoverflow.com/users/2844440/akvallejos"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441125817, "post_id": 32336342, "comment_id": 52547910, "body": "AddressWidth  Name 64            Intel(R) Xeon(R) CPU E31270 @ 3.40GHz"}], "owner": {"reputation": 199, "user_id": 2844440, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13f60899d4b262215bc02d5d83f6bd58?s=128&d=identicon&r=PG&f=1", "display_name": "akvallejos", "link": "https://stackoverflow.com/users/2844440/akvallejos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1441136610, "creation_date": 1441123900, "last_edit_date": 1441136610, "question_id": 32336342, "link": "https://stackoverflow.com/questions/32336342/invalid-access-to-memory-location-on-64-bit-strawberry-perl-only", "title": "Invalid access to memory location on 64-bit Strawberry Perl only", "body": "<p>Hi I am trying to get a Perl program running on Windows 64-bit using Strawberry Perl version 5.20, the 64-bit version. I have no problems running the 32-bit version (32-bit Strawberry Perl on 32-bit Windows), but it lacks the memory capabilities of the 64-bit. </p>\n\n<p>All of the required modules compile correctly, however when I run the program I get the following error:</p>\n\n<blockquote>\n  <p>Can't load 'C:/Strawberry/perl/vendor/lib/auto/YAML/XS/LibYAML/LibYAML.xs.dll' for module YAML::XS::LibYAML:<br>\n  load_file:Invalid access to memory location at \n  C:/Strawberry/perl/lib/XSLoader.pm line 68.<br>\n  at C:/Strawberry/perl/vendor/lib/YAML/XS/LibYAML.pm line 7.</p>\n</blockquote>\n\n<p>Any ideas on what is going on? Or how I can try to fix this? I have tried reinstalling both Perl and the modules.</p>\n"}, {"tags": ["perl", "perl-module", "mod-perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1441122377, "post_id": 32335799, "comment_id": 52545802, "body": "Best option for linux would be <a href=\"https://metacpan.org/pod/Net::OpenSSH\" rel=\"nofollow noreferrer\">metacpan.org/pod/Net::OpenSSH</a> module."}, {"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1441122869, "post_id": 32335799, "comment_id": 52546128, "body": "@\u0421\u0443\u0445\u043e\u043927 I&#39;m asked to use Expect.pm ."}], "owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 405, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1441147991, "creation_date": 1441122208, "last_edit_date": 1441147991, "question_id": 32335799, "link": "https://stackoverflow.com/questions/32335799/expect-pm-to-login-to-a-router-and-execute-a-command", "title": "Expect.pm to login to a router and execute a command", "body": "<p>I'm trying to login to the router and execute a command. I'm able to do it with <code>Net::ssh::Perl</code>. But I'd like to use perl <code>Expect.pm</code> instead of <code>Net::ssh::Perl</code>. Can some one tell me how to do the following steps with expect.pm ?</p>\n\n<pre><code>    use strict;\n    use warnings;\n    use Net::SSH::Perl;\n\n    my $host     = \"ip\";\n    my $password = \"password\";\n    my $user    = \"user\";\n\n    $ssh = Net::SSH::Perl-&gt;new($host);\n    $ssh-&gt;login($user, $password);\n\n    # Get into config terminal prompt \n    $ssh-&gt;cmd(\"configure terminal\");\n\n   # Execute the command   \n    my $cmd = $ssh-&gt;cmd(\"show crytpo session\");\n    print($cmd);\n</code></pre>\n"}, {"tags": ["perl", "twitter-streaming-api"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441122945, "post_id": 32335271, "comment_id": 52546190, "body": "This may get you started: <a href=\"http://stackoverflow.com/questions/27448183/twitter-led-timeline/27450473#27450473\" title=\"twitter led timeline\">stackoverflow.com/questions/27448183/twitter-led-timeline/&hellip;</a>"}], "owner": {"reputation": 1342, "user_id": 3990158, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c657e26d1552cbe4705fd965d53d2e25?s=128&d=identicon&r=PG&f=1", "display_name": "PHA", "link": "https://stackoverflow.com/users/3990158/pha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1441363405, "creation_date": 1441120650, "question_id": 32335271, "link": "https://stackoverflow.com/questions/32335271/connecting-to-twitter-streaming-api-using-perl", "title": "Connecting to Twitter Streaming API using perl", "body": "<p>I am very new to perl, and I would like to read twitter streaming API from perl. I followed <a href=\"http://adilmoujahid.com/posts/2014/07/twitter-analytics/\" rel=\"nofollow\">this</a> tutorial and got it work and I need something similar in perl. I just need the connecting to Twitter Streaming API and downloading data Any help?</p>\n"}, {"tags": ["linux", "perl", "perl-module"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441123775, "post_id": 32333942, "comment_id": 52546707, "body": "Re &quot;Also I am not sure if Expat is needed&quot;, From the distro&#39;s <code>README</code>: This is a Perl extension interface to James Clark&#39;s XML parser, expat. It requires at least version 5.004 of perl and <b>it requires that you have release 1.95.0 or greater of expat installed</b>."}], "answers": [{"comments": [{"owner": {"reputation": 297, "user_id": 2129773, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cd39f69bf2ba7686eb4c018c20be1d2d?s=128&d=identicon&r=PG", "display_name": "maoyi", "link": "https://stackoverflow.com/users/2129773/maoyi"}, "edited": false, "score": 0, "creation_date": 1441120928, "post_id": 32334743, "comment_id": 52544869, "body": "Nice tips! Yeah I went ahead to install anyway and it seemed fine."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1441119586, "last_edit_date": 1441119586, "creation_date": 1441119128, "answer_id": 32334743, "question_id": 32333942, "link": "https://stackoverflow.com/questions/32333942/problems-while-installing-xmlparser-2-34/32334743#32334743", "title": "Problems while installing XML::Parser-2.34", "body": "<p>The messages</p>\n\n<pre><code>Couldn't load LWP based external entity handler\n</code></pre>\n\n<p>aren't errors - they're just informational messages saying that the test has had to use a different technique because of the software that's available on your system</p>\n\n<p>You have just one real error</p>\n\n<pre><code>t/encoding.t ...... Failed 1/6 subtests\n</code></pre>\n\n<p>and personally I'd let that go, as it is often the test that is wrong if it is a minority error. But if you're doing anything fancy with encoding you may want to check what that test was and see if you're ready to accept diminished functionality in that area</p>\n\n<p>The \n<a href=\"http://metacpan.org/module/XML::Parser\" rel=\"nofollow\"><code>XML::Parser</code></a> module depends on the lower-level\n<a href=\"http://metacpan.org/module/XML::Parser::Expat\" rel=\"nofollow\"><code>XML::Parser::Expat</code></a> module, but it is part of the same distribution, so there is no need to install it separately</p>\n"}], "owner": {"reputation": 297, "user_id": 2129773, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cd39f69bf2ba7686eb4c018c20be1d2d?s=128&d=identicon&r=PG", "display_name": "maoyi", "link": "https://stackoverflow.com/users/2129773/maoyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 32334743, "answer_count": 1, "score": 1, "last_activity_date": 1441119586, "creation_date": 1441116884, "last_edit_date": 1441119518, "question_id": 32333942, "link": "https://stackoverflow.com/questions/32333942/problems-while-installing-xmlparser-2-34", "title": "Problems while installing XML::Parser-2.34", "body": "<p>I was trying to install the XML::parser-2.34 for intltools on my Ubuntu 12.04, but encountered some error messages while testing it. I am not sure if those failed tests are vital or insignificant.</p>\n\n<p>I checked the README file but did not find any help. If anyone can look up to the error message and tell me what does it mean and does it affect the installation process? </p>\n\n<p>Here are the three failed tests:</p>\n\n<pre><code>t/encoding.t ...... Failed 1/6 subtests\nt/external_ent.t .. Couldn't load LWP based external entity handler\nSwitching to file-based external entity handler\nt/parament.t ...... Couldn't load LWP based external entity handler Switching to file-based external entity handler\n</code></pre>\n\n<p>Also I am not sure if <code>Expat</code> is needed for <code>XML::Parser</code> still because it is not mentioned as a necessary dependency from the <a href=\"http://www.linuxfromscratch.org/blfs/view/6.3/general/perl-modules.html#perl-xml-parser\" rel=\"nofollow\">installation guide page</a> so if anyone knows whether that is a necessary thing before I install <code>XML::Parser</code> it would be great also. </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "edited": false, "score": 0, "creation_date": 1441116944, "post_id": 32333401, "comment_id": 52542116, "body": "Thank you. I just want to remove the repeated ones. No specific sequence for it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "edited": false, "score": 2, "creation_date": 1441117046, "post_id": 32333401, "comment_id": 52542201, "body": "Then you may wish to amend your question, because you do say &quot;... and sort them&quot;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1441118176, "post_id": 32333401, "comment_id": 52542932, "body": "You could write this as <code>if ( $line =~ s&#47;\\&#47;ZN?|\\(|LVT\\)&#47;&#47;g ) { ... }</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1441115376, "creation_date": 1441115376, "answer_id": 32333401, "question_id": 32332897, "link": "https://stackoverflow.com/questions/32332897/remove-the-duplicate-strings-in-a-file-using-perl/32333401#32333401", "title": "Remove the Duplicate strings in a file using Perl", "body": "<p>You aren't actually sorting anything there. To get your output:</p>\n\n<p> </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %seen;\n\nwhile ( my $line = &lt;DATA&gt; ) {\n    if ( $line =~ /LVT/ &amp;&amp; ( $line =~ /ZN/ || $line =~ /Z/ ) )\n        ####  matches the words LVT and ( Z or ZN)\n    {\n        $line =~ s/\\/ZN?|\\(|LVT\\)//g;\n        print $line unless $seen{$line}++;\n    }\n}\n\n__DATA__\nabchsfk/jshflka/ZN                       (cellLVT)\nabchsfk/jshflka/ZN                       (cellLVT)\n\nasjkfsa/sfklfkshfsf/Z                    (mobLVT)\nasjkfsa/sfklfkshfsf/Z                    (mobLVT)\n\nasjhfdjkfd/sjfdskjfhdk/hsakfshf/Z        (celLVT)\nasjhfdjkfd/sjfdskjfhdk/hsakfshf/Z        (celLVT)\n\nasjhdjs/jhskjds/ZN                       (abcLVT)\nasjhdjs/jhskjds/ZN                       (abcLVT)\n\nshdsjk/jhskd/ZN                          (xyzLVT)\nshdsjk/jhskd/ZN                          (xyzLVT)\n</code></pre>\n\n<p>This gives:</p>\n\n<pre><code>abchsfk/jshflka                       cell\nasjkfsa/sfklfkshfsf                    mob\nasjhfdjkfd/sjfdskjfhdk/hsakfshf        cel\nasjhdjs/jhskjds                       abc\nshdsjk/jhskd                          xyz\n</code></pre>\n\n<p>If you were serious about sorting them though - what criteria were you using? A simple alphanumeric sort:</p>\n\n<pre><code>print sort keys %seen;\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>abchsfk/jshflka                       cell\nasjhdjs/jhskjds                       abc\nasjhfdjkfd/sjfdskjfhdk/hsakfshf        cel\nasjkfsa/sfklfkshfsf                    mob\nshdsjk/jhskd                          xyz\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1441117095, "creation_date": 1441117095, "answer_id": 32334029, "question_id": 32332897, "link": "https://stackoverflow.com/questions/32332897/remove-the-duplicate-strings-in-a-file-using-perl/32334029#32334029", "title": "Remove the Duplicate strings in a file using Perl", "body": "<p>This is simply done using <code>map</code> together with <code>uniq</code> from <a href=\"http://metacpan.org/module/List::MoreUtils\" rel=\"nofollow\"><code>List::MoreUtils</code></a>. I see from your comment that you don't actually want to sort this data so I have left that out</p>\n\n<p>This program expects the path to the input file as a parameter on the command line</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::MoreUtils qw/ uniq /;\n\nmy @rows = uniq map { m| ([\\w/]+)/ZN? \\s+ \\((\\w+)LVT\\) |x ? \"$1\\t$2\" : () } &lt;&gt;;\n\nprintf \"%-31s %s\\n\", split /\\t/ for @rows;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>abchsfk/jshflka                 cell\nasjkfsa/sfklfkshfsf             mob\nasjhfdjkfd/sjfdskjfhdk/hsakfshf cel\nasjhdjs/jhskjds                 abc\nshdsjk/jhskd                    xyz\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 32333401, "answer_count": 2, "score": -1, "last_activity_date": 1441293933, "creation_date": 1441113987, "last_edit_date": 1441293933, "question_id": 32332897, "link": "https://stackoverflow.com/questions/32332897/remove-the-duplicate-strings-in-a-file-using-perl", "title": "Remove the Duplicate strings in a file using Perl", "body": "<p>I want to do the following for some strings in a text file.  I got help with the basic functionality I needed, but now I want to sort the lines which are repeated and print them only once. </p>\n\n<p>I want to remove Z , ZN and LVT from the string and sort them.</p>\n\n<p>Input:</p>\n\n<pre><code>     abchsfk/jshflka/ZN                       (cellLVT)\n     abchsfk/jshflka/ZN                       (cellLVT)\n\n     asjkfsa/sfklfkshfsf/Z                    (mobLVT)\n     asjkfsa/sfklfkshfsf/Z                    (mobLVT)\n\n     asjhfdjkfd/sjfdskjfhdk/hsakfshf/Z        (celLVT)\n     asjhfdjkfd/sjfdskjfhdk/hsakfshf/Z        (celLVT)\n\n     asjhdjs/jhskjds/ZN                       (abcLVT)\n     asjhdjs/jhskjds/ZN                       (abcLVT)\n\n     shdsjk/jhskd/ZN                          (xyzLVT)\n     shdsjk/jhskd/ZN                          (xyzLVT)\n</code></pre>\n\n<p>Desired Output: </p>\n\n<pre><code>   abchsfk/jshflka                     cell\n\n   asjkfsa/sfklfkshfsf                 mob\n\n   asjhfdjkfd/sjfdskjfhdk/hsakfshf     cel\n\n   asjhdjs/jhskjds                     abc\n\n   shdsjk/jhskd                        xyz\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>     if ($line =~ /LVT/ &amp;&amp; ($line =~ /ZN/ || $line =~ /Z/) )        \n\n          ####  matches the words LVT and ( Z or ZN)\n\n      {   \n             $line =~ s/\\/ZN?|\\(|LVT\\)//g;\n\n            my @line_out = $line;\n\n            $lvt_out = sort::$line_out();\n\n            print OUT \" $lvt_out \\n\";\n\n     }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 5173396, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/141c9342301d382494097112a050450b?s=128&d=identicon&r=PG&f=1", "display_name": "Ishita Shah", "link": "https://stackoverflow.com/users/5173396/ishita-shah"}, "edited": false, "score": 0, "creation_date": 1441183315, "post_id": 32332808, "comment_id": 52570393, "body": "Yeah it worked..But if further I want to convert each chunk of 8byte data to binary and store it to another variable..so what should I do..I tried packing-unpacking on $1,$2 ..but it didn&#39;t work..and yeah does $1 ,$2 recognize that it is having hex data??"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 87, "user_id": 5173396, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/141c9342301d382494097112a050450b?s=128&d=identicon&r=PG&f=1", "display_name": "Ishita Shah", "link": "https://stackoverflow.com/users/5173396/ishita-shah"}, "edited": false, "score": 0, "creation_date": 1441183521, "post_id": 32332808, "comment_id": 52570530, "body": "@IshitaShah ask a new question for that. No $1 is only a string it is no knowledgof hex data."}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 0, "last_activity_date": 1441114325, "last_edit_date": 1441114325, "creation_date": 1441113724, "answer_id": 32332808, "question_id": 32332633, "link": "https://stackoverflow.com/questions/32332633/separating-vector-fields/32332808#32332808", "title": "separating vector fields", "body": "<p>Try this:</p>\n\n<pre><code>    if($val =~ /TTRB:([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)\\s([\\da-f]+)/)\n    {\n        print \"$1 $2 $3 $4\\n\";\n    }\n</code></pre>\n\n<p>$1 contains the first 8 bytes\n$2 contains the second 8 bytes and so on</p>\n"}, {"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 2, "last_activity_date": 1441119437, "last_edit_date": 1441119437, "creation_date": 1441118482, "answer_id": 32334521, "question_id": 32332633, "link": "https://stackoverflow.com/questions/32332633/separating-vector-fields/32334521#32334521", "title": "separating vector fields", "body": "<p>The problem you have is trivial, as repeating the regex will extract further data from the string. I have some other points to share, though.</p>\n\n<ul>\n<li>You should always use three argument version of <code>open</code>, with explicit mode, and use lexical file handles. E.g.: <code>open my $fh, \"&lt;\", $file or die $!</code></li>\n<li>You do not need to explicitly open the file, you can use the diamond operator, which will read the input automatically. This is the idiomatic way to do it in Perl. E.g. <code>while (&lt;&gt;) { ... }</code>. On the command line, this is what the <code>-n</code> and <code>-p</code> switches do.</li>\n<li>Similarly, instead of opening an output file, just print to stdout and redirect the output in the terminal. E.g. <code>perl foo.pl input.txt &gt; output.txt</code>.</li>\n</ul>\n\n<p>Also note this part of your code:</p>\n\n<pre><code>    if($val = /TTRB:([\\da-f]+)/) {\n</code></pre>\n\n<p>Here you are using the assignment operator <code>=</code>, when you probably intended to use the binding operator <code>=~</code>. The result is that it is not the content of <code>$val</code> that is checked, but the content of <code>$_</code>. Then the return value of that check is assigned to <code>$val</code>. It is the same as writing </p>\n\n<pre><code>    if($val = $_ =~  /TTRB:([\\da-f]+)/) {\n</code></pre>\n\n<p>Because a regex match without a binding operator always defaults to checking <code>$_</code>.</p>\n\n<hr>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile(&lt;&gt;) {\n    if (/SIB_DBG/) {\n        if (/TTRB:((?:[\\da-f]+\\s*)+)/) {\n            print \"$1 \\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>This will simply match repeated sequences of alphanumerics and print them. You should note that this can be simplified quite a lot, down to the rudimentary one-liner:</p>\n\n<pre><code>perl -nle 'print /SIB_DBG\\s+TTRB:((?:[\\da-f]+\\s*)+)/' input.txt &gt; output.txt\n</code></pre>\n\n<p>The match from the regex will be returned to <code>print</code>, which prints it directly, and the <code>-l</code> switch will add a newline.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1441122122, "creation_date": 1441122122, "answer_id": 32335769, "question_id": 32332633, "link": "https://stackoverflow.com/questions/32332633/separating-vector-fields/32335769#32335769", "title": "separating vector fields", "body": "<p>You can use Perl global regex matches (with the <code>/g</code> modifier) in scalar context. That makes the match find just the <em>next</em> occurrence of the pattern, so you can work through a string step by step</p>\n\n<p>This program first checks that it can find <code>TTRB:</code> in the string, and skips it if not. But when it does find the string it leaves an internal pointer specific to that string set right after <code>TTRB:</code> so that the next global match will start looking from there</p>\n\n<p>Then it finds all occurrences of eight hex digits, possibly followed by some white space. The <code>\\G</code> anchor forces each match to start exactly where the previous one ended, so when it reaches <code>00001021</code> which is followed by a comma, the next search will fail because the pattern requires that the next eight digits start where the comma is</p>\n\n<p>I've used <code>Data::Dump</code> only to display the contents of <code>@data</code> after the operation</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\n\nwhile ( &lt;DATA&gt; ) {\n    next unless /TTRB:/g;\n\n    my @data = /\\G(\\p{hex}{8})\\s*/g;\n    dd \\@data;\n}\n\n__DATA__\nAug 31 15:25:53 usb3 kernel: [   78.813721] SIB_DBG TTRB:00000000 00000000 00000000 00001021, PTR: ffff88005ff8b850\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>[\"00000000\", \"00000000\", \"00000000\", \"00001021\"]\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 5173396, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/141c9342301d382494097112a050450b?s=128&d=identicon&r=PG&f=1", "display_name": "Ishita Shah", "link": "https://stackoverflow.com/users/5173396/ishita-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 32332808, "answer_count": 3, "score": 0, "last_activity_date": 1441122122, "creation_date": 1441113233, "last_edit_date": 1441117705, "question_id": 32332633, "link": "https://stackoverflow.com/questions/32332633/separating-vector-fields", "title": "separating vector fields", "body": "<p>I am writing a perl script..I am new to perl. Here is my code</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $file = $ARGV[0] ;\nmy $file2 = 'output.txt';\n\nopen FH, $file or die $!;\nopen FHH, \"&gt; $file2\" or die $!;\n\nwhile(&lt;FH&gt;) {\n    if(/SIB_DBG/) {\n        my $val = $_;\n        if($val = /TTRB:([\\da-f]+)/) {\n            print \"$1 \\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>Here is a line of an input file</p>\n\n<pre><code>Aug 31 15:25:53 usb3 kernel: [   78.813721] SIB_DBG TTRB:00000000 00000000 00000000 00001021, PTR: ffff88005ff8b850\n</code></pre>\n\n<p>I am able to separate first field of 8 byte right after <code>TTRB</code>. But how to separate the three fields after that??</p>\n"}, {"tags": ["image", "perl", "image-processing", "imagemagick", "blur"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441119815, "post_id": 32332550, "comment_id": 52544127, "body": "Unless you have many files that need processing in the an identical way you would be better off installing <a href=\"http://www.gimp.org/\" rel=\"nofollow noreferrer\">GIMP</a> -- the <i>GNU Image Manipulation Program</i> -- and doing it manually"}, {"owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1441180521, "post_id": 32332550, "comment_id": 52568700, "body": "@Borodin: not an option, i need that functionality built in in our web-based CMS"}], "answers": [{"comments": [{"owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "edited": false, "score": 0, "creation_date": 1441114741, "post_id": 32332934, "comment_id": 52540482, "body": "how would this example look like (pure imagemagick commands) in case of a rectangle instead of a sphere?"}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 2, "creation_date": 1441116692, "post_id": 32332934, "comment_id": 52541941, "body": "Another option might be to use a region... <code>convert rose_large.png -region 100x60+10+30 -blur 0x8 result.png</code>"}, {"owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "edited": false, "score": 0, "creation_date": 1441116875, "post_id": 32332934, "comment_id": 52542068, "body": "the &#39;0x8&#39; stands for what?"}, {"owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "reply_to_user": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "edited": false, "score": 1, "creation_date": 1441117281, "post_id": 32332934, "comment_id": 52542352, "body": "@Thariama The <code>0x8</code> is the blur options, and the stand for <code>RADIUS x SIGMA</code>. See docs <a href=\"http://www.imagemagick.org/script/command-line-options.php#blur\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 1116, "user_id": 3897426, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b651b5a4487330e98ec353020ad4f2e6?s=128&d=identicon&r=PG&f=1", "display_name": "user54517", "link": "https://stackoverflow.com/users/3897426/user54517"}, "edited": false, "score": 0, "creation_date": 1616523293, "post_id": 32332934, "comment_id": 118027627, "body": "Is 0X8 the max value to get the max of blur ?"}], "tags": [], "owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "is_accepted": false, "score": 4, "last_activity_date": 1441116947, "last_edit_date": 1441116947, "creation_date": 1441114099, "answer_id": 32332934, "question_id": 32332550, "link": "https://stackoverflow.com/questions/32332550/how-to-blur-pixelate-part-of-an-image-using-imagemagick/32332934#32332934", "title": "How to blur/pixelate part of an image using ImageMagick?", "body": "<p>Best way I can think of is to leverage masks to blur against. This would allow you to \"draw\" a shape, and pass through what to be blurred.</p>\n\n<p>Example:</p>\n\n<pre><code> # Create base image\n convert rose: -sample 200x rose_large.png\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4q7rL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4q7rL.png\" alt=\"rose_large.png\"></a></p>\n\n<pre><code> # Create mask\n convert -size 200x131 xc:black -fill white -draw 'circle 100 65 100 25' rose_mask.png\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/66J9N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/66J9N.png\" alt=\"rose_mask.png\"></a></p>\n\n<pre><code> # Blur with mask\n convert rose_large.png -mask rose_mask.png -blur 0x8 +mask rose_blur_mask.png\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5bZJ2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5bZJ2.png\" alt=\"rose_blur_mask.png\"></a></p>\n\n<p>Other techniques and examples <a href=\"http://www.imagemagick.org/Usage/masking/#read_mask\" rel=\"nofollow noreferrer\">here</a>. I'm not familiar with Perl API, but there should be a <code>Mask</code> method that accepts an image handler parameter.</p>\n\n<h2>Update</h2>\n\n<p>For rectangle, you would simply update the shape to draw on the mask. Here's an example where I'm only blur-ing what's inside a rectangle.</p>\n\n<pre><code># Create rectangle mask\nconvert -size 200x131 xc:white -fill black -draw 'rectangle 50 30 150 100' rose_rectangle_mask.png\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/G0WCZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G0WCZ.png\" alt=\"rose_rectangle_mask\"></a></p>\n\n<pre><code># And repeat blur apply\nconvert rose_large.png -mask rose_rectangle_mask.png -blur 0x8 +mask rose_blur_retangle_mask.png\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5ljyK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ljyK.png\" alt=\"rose_blur_retangle_mask.png\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "edited": false, "score": 0, "creation_date": 1441190290, "post_id": 32337059, "comment_id": 52574840, "body": "plus 1 and answer accepted. Thank you very very much - that made my day. Btw. i do not have much hair left eighter :)"}, {"owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "edited": false, "score": 0, "creation_date": 1441190406, "post_id": 32337059, "comment_id": 52574901, "body": "do you know of a way to pixelate the whole thing with bigger pixels as results (above solution is perfect, but i just think it might be neat to have bigger blurred pixels instead of small blurred pixels)?"}, {"owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "edited": false, "score": 0, "creation_date": 1441190766, "post_id": 32337059, "comment_id": 52575126, "body": "for this i created a new stackoverflow question: <a href=\"http://stackoverflow.com/questions/32351058/how-to-blur-pixelate-part-of-an-image-using-imagemagick-resulting-in-big-pixels\" title=\"how to blur pixelate part of an image using imagemagick resulting in big pixels\">stackoverflow.com/questions/32351058/&hellip;</a>"}], "tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": true, "score": 3, "last_activity_date": 1441128165, "last_edit_date": 1441128165, "creation_date": 1441126412, "answer_id": 32337059, "question_id": 32332550, "link": "https://stackoverflow.com/questions/32332550/how-to-blur-pixelate-part-of-an-image-using-imagemagick/32337059#32337059", "title": "How to blur/pixelate part of an image using ImageMagick?", "body": "<p>As you asked for PerlMagick, I pulled my last few remaining hairs out to try and do this in Perl... the files <code>1.png</code>, <code>2.png</code> and <code>3.png</code> are purely for debug so you can see what I am doing.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Image::Magick;\nmy $x;\nmy $image;\nmy $blurred;\nmy $mask;\n\n# Create original fishscale image\n$image=Image::Magick-&gt;new(size=&gt;'600x300');\n$image-&gt;Read('pattern:fishscales');\n$image-&gt;Write(filename=&gt;\"1.png\");\n\n# Copy original image and blur\n$blurred = $image-&gt;Clone();\n$blurred-&gt;GaussianBlur('x2');\n$blurred-&gt;Write(filename=&gt;\"2.png\");\n\n# Make mask and rotate\n$mask=Image::Magick-&gt;new(size=&gt;'600x300');\n$mask-&gt;Read('xc:white');\n$mask-&gt;Draw(fill=&gt;'black',primitive=&gt;'rectangle',points=&gt;'100,100,200,200');\n$mask-&gt;Set('virtual-pixel'=&gt;'white');\n$mask-&gt;Rotate(20);\n$mask-&gt;Transparent('white');\n$mask-&gt;Write(filename=&gt;\"3.png\");\n\n# Copy mask as alpha channel into blurred image\n$blurred-&gt;Composite(image=&gt;$mask,qw(compose CopyOpacity gravity center));\n\n# Composite blurred image onto original\n$image-&gt;Composite(image=&gt;$blurred);\n$image-&gt;Write(filename=&gt;'result.png');\n</code></pre>\n\n<p>Here are the debug images...</p>\n\n<p><strong>1.png</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/02eH2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/02eH2.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>2.png</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/jElDx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jElDx.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>3.png</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/g7SV8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g7SV8.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>result.png</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/sF01C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sF01C.png\" alt=\"enter image description here\"></a></p>\n\n<p>There may be a much faster, simpler, more efficient way of doing this, but I don't know it, and there are precious few examples of PerlMagick out there, so I'll stick my marker in the sand and see if anyone can better it:-)</p>\n\n<p>P.S. Don't feel bad about my hair - there were only three left anyway :-)</p>\n"}], "owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3005, "favorite_count": 1, "accepted_answer_id": 32337059, "answer_count": 2, "score": 1, "last_activity_date": 1441128165, "creation_date": 1441113001, "question_id": 32332550, "link": "https://stackoverflow.com/questions/32332550/how-to-blur-pixelate-part-of-an-image-using-imagemagick", "title": "How to blur/pixelate part of an image using ImageMagick?", "body": "<p>I am using Perl and ImageMagick (Perl-API).\nIn a first step i would like to take a rectangle of an image and blur this part of the image. Desired result is the original image with the rectangle blured.</p>\n\n<p>In a second step i need to blur a part of an image with a turned rectangle (i.e. turned by 35%).</p>\n\n<p><strong>How can i achieve this?</strong></p>\n"}, {"tags": ["perl", "api", "http", "post", "https"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 7, "creation_date": 1441106063, "post_id": 32330123, "comment_id": 52534461, "body": "Can you <code>wget</code> this address? Do you have <code>LWP::Protocol::https</code> installed?  Is there anything going on with the SSL certificate?"}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441122942, "post_id": 32330123, "comment_id": 52546185, "body": "Can&#39;t wget to it, I need to use the &#39;SEC&#39; authentication token to be able to connect.  LWP::Protocol::https - not sure I have this installed, is it simply a case of installing that and trying again or do I need to modify the code at all? Thanks"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441123035, "post_id": 32330123, "comment_id": 52546252, "body": "Not quite - headers are passed <i>after</i> the webserver connection is established. You should be able to wget it, but you might just get a login page or 403. But that&#39;s a very different problem to &#39;cannot connect&#39;."}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441124486, "post_id": 32330123, "comment_id": 52547111, "body": "I can actually wget to it, oops. my VPN was disconnected which is why I got connection refused beforehand. I am getting an error cannot verify the certificate. Miss-match in certificate name, perhaps this could be the issue?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441124544, "post_id": 32330123, "comment_id": 52547143, "body": "Yes, that would indeed be an issue. SSL requires the certificate match the hostname. You could probably fake it (for testing purposes) using a local <code>&#47;etc&#47;hosts</code> entry or similar."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1441154619, "post_id": 32330123, "comment_id": 52560303, "body": "This may help for the cert error, the params in the accepted answer can be passed to LWP:  <a href=\"http://stackoverflow.com/questions/6795030/how-to-ignore-certificate-verify-failed-error-in-perl\" title=\"how to ignore certificate verify failed error in perl\">stackoverflow.com/questions/6795030/&hellip;</a>"}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1443084530, "post_id": 32330123, "comment_id": 53353528, "body": "@xxfelixx , Fixed the error by modifying the user agent:  my $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; {SSL_verify_mode =&gt; IO::Socket::SSL::SSL_VERIFY_NONE,     verify_hostname =&gt; 0});  This works as expected, but use strict; has to be turned off. When use strict is on, I get the error  Bareword &quot;IO::Socket::SSL::SSL_VERIFY_NONE&quot; not allowed while &quot;strict subs&quot; in use at GetAssets.pl line 10.  Any ideas how to make this work without turning off strict?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1443107091, "post_id": 32330123, "comment_id": 53368628, "body": "Add <code>use IO::Socket::SSL;</code> should fix the warning."}, {"owner": {"reputation": 747, "user_id": 4199541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NzCIM.png?s=128&g=1", "display_name": "Benj", "link": "https://stackoverflow.com/users/4199541/benj"}, "edited": false, "score": 0, "creation_date": 1570285338, "post_id": 32330123, "comment_id": 102868966, "body": "got it working?"}], "owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1441105881, "creation_date": 1441105881, "question_id": 32330123, "link": "https://stackoverflow.com/questions/32330123/cannot-use-rest-api-of-a-server-using-https-in-perl", "title": "Cannot use REST api of a server using HTTPS in Perl", "body": "<p>I have tried so many different code snippets to try to get this working but I cannot for the life of me get it to work. Here is the most up to date piece of code that I have. The error message that I receive is \"Can't connect to 172.16.77.247:443\" </p>\n\n<p>Please assist me to be able to connect. Thank you!</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse LWP::UserAgent;\n\n\nmy $ua = LWP::UserAgent-&gt;new();\n\nmy $server_endpoint = \"https://172.16.77.247/api/reference_data/sets/bulk_load/myDataSet\";\nmy $req = HTTP::Request-&gt;new(POST =&gt; $server_endpoint);\n\n# add headers data to HTTP request\n$req-&gt;header('Version' =&gt; '4.0', 'Accept' =&gt; 'application/json', 'Content-Type' =&gt; 'application/json', 'SEC' =&gt; 'f6a2e2b5-d3f3-4dc2-a51a-5bf65fbec9e7');\n\n# add content to HTTP request body\nmy $post_data = '[\"192.168.0.10\",\"192.168.0.11\"]';\n$req-&gt;content($post_data);\n\n\n# issue HTTP request\nmy $response = $ua-&gt;request($req);\n\n# process response\nif ($response-&gt;is_success) {\n    my $message = $response-&gt;decoded_content;\n    print \"Received reply: $message\\n\";\n}\nelse {\n    print \"HTTP POST error code: \", $response-&gt;code, \"\\n\";\n    print \"HTTP POST error message: \", $response-&gt;message, \"\\n\";\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 4, "creation_date": 1441100170, "post_id": 32328083, "comment_id": 52530724, "body": "Your question is not clear. You should show the string and what you are expecting. And in your pattern what is this <code>{4]</code>?"}, {"owner": {"reputation": 1681, "user_id": 959484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/021be0362a28d1cb2716fe759850a26b?s=128&d=identicon&r=PG", "display_name": "Samoth", "link": "https://stackoverflow.com/users/959484/samoth"}, "edited": false, "score": 1, "creation_date": 1441102142, "post_id": 32328083, "comment_id": 52532010, "body": "Just correct your <code>{4]</code> to <code>{4}</code> and use round brackets as a matching group around your search expression sourrounded by <code>.*</code> to match the rest of the line outside the group, then insert a back reference in the replacement string like <code>\\1</code> - it should look like  <code>s&#47;.*([A-Z]{4}[0-9]{4}).*&#47;\\1&#47;g;</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441102783, "post_id": 32328083, "comment_id": 52532401, "body": "Can you give some examples of input and output? Otherwise it&#39;s very hard to give a meaningful answer. I would suggest you don&#39;t really want to do that at all, and instead extract the pattern matches."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1441103975, "post_id": 32328083, "comment_id": 52533172, "body": "Do you mean: I have a pattern and I want to delete everything on a line except the <i>match</i> of the pattern? What if there is more than one match? What if there is none?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441110654, "post_id": 32328083, "comment_id": 52537404, "body": "You have used the global <code>&#47;g</code> modifier. Do you expect multiple occurrences if the pattern in the string, and do you want to retain them all?"}, {"owner": {"reputation": 32008, "user_id": 322020, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dce43cb8158a14c3fed02bea797becd7?s=128&d=identicon&r=PG", "display_name": "Nakilon", "link": "https://stackoverflow.com/users/322020/nakilon"}, "edited": false, "score": 0, "creation_date": 1441160582, "post_id": 32328083, "comment_id": 52561613, "body": "To properly mark the question as answered you should put out the answer below among other answers and optionally accept it."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5287838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a98e4daf2d365b6b4ce324c5a71a663e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/5287838/michael-liu"}, "edited": false, "score": 0, "creation_date": 1441151725, "post_id": 32328439, "comment_id": 52559642, "body": "sorry for the unclear question. I&#39;m trying to process the line: <code>&lt;p&gt;Prerequisite: A mark of 75 in COMP1911 and completion of the bridging course, or COMP1921, or COMP1917.&lt;&#47;p&gt;&lt;p&gt;&lt;strong&gt;CSS Contribution Charge:&lt;&#47;strong&gt;&amp;nbsp;2&amp;nbsp;&lt;a href=...</code>  into the string COMP1911COMP1921COMP1927 (removing everything but the &quot;course codes&quot;) so I can then again process them individually."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 2, "last_activity_date": 1441100813, "creation_date": 1441100813, "answer_id": 32328439, "question_id": 32328083, "link": "https://stackoverflow.com/questions/32328083/delete-everything-except-what-matches-a-regex-pattern/32328439#32328439", "title": "Delete everything except what matches a regex pattern", "body": "<p>It is a bit unclear what you are asking, but you may wish to try something like the following, which captures the pattern and then replaces the line with the capture:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nmy @lines = (\n    'HELLO WORLD',\n    'HELLO ABCD1234 WORLD',\n    'HELLOABCD1234WORLD',\n    'H E L LO ABCD1234 WORLD',\n);\n\nmy $re_match = qr([A-Z]{4}[0-9]{4});\n\nfor my $line (@lines) {\n    print \"$line  =&gt; \";\n    if ($line =~ $re_match) {\n        $line =~ s|^.*($re_match).*$|$1|;\n        print $line . \"\\n\";\n    } else {\n        print \"does not match pattern $re_match \\n\";\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>HELLO WORLD  =&gt; does not match pattern (?^:[A-Z]{4}[0-9]{4})\nHELLO ABCD1234 WORLD  =&gt; ABCD1234\nHELLOABCD1234WORLD  =&gt; ABCD1234\nH E L LO ABCD1234 WORLD  =&gt; ABCD1234\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1441109858, "creation_date": 1441109858, "answer_id": 32331433, "question_id": 32328083, "link": "https://stackoverflow.com/questions/32328083/delete-everything-except-what-matches-a-regex-pattern/32331433#32331433", "title": "Delete everything except what matches a regex pattern", "body": "<pre><code>perl -E '$_=\"xxABCD1234xxABCD1234xx\"; @m = $_ =~ /[A-Z]{4}[0-9]{4}/g; @m and $_ = join \"\", @m; say'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>ABCD1234ABCD1234\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5287838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a98e4daf2d365b6b4ce324c5a71a663e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/5287838/michael-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1214, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1441160533, "creation_date": 1441099881, "last_edit_date": 1441160533, "question_id": 32328083, "link": "https://stackoverflow.com/questions/32328083/delete-everything-except-what-matches-a-regex-pattern", "title": "Delete everything except what matches a regex pattern", "body": "<p>I have a string and I want to replace everything but the pattern.</p>\n\n<p>Right now I know what I want to do is </p>\n\n<pre><code>$line =~ s/[A-Z]{4}[0-9]{4}//g;\n</code></pre>\n\n<p>but inverted so that it replaces everything with nothing except the pattern.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441120041, "post_id": 32326597, "comment_id": 52544297, "body": "When using <code>Data::Dumper</code> to dump an array, you should pass a <i>reference</i> to it, like <code>print Dumper \\@array</code>. That way you won&#39;t get all those irrelevant <code>$VAR99 = </code>"}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 6, "last_activity_date": 1441095386, "creation_date": 1441095386, "answer_id": 32326735, "question_id": 32326597, "link": "https://stackoverflow.com/questions/32326597/get-the-hash-number/32326735#32326735", "title": "Get the hash number", "body": "<p>You can use <code>grep</code> to filter all array elements which have <code>'harmonized_name' = env_package</code>, and then check their values for <code>content</code>,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @AoH = (\n  {\n    'harmonized_name' =&gt; 'geo_loc_name',\n    'attribute_name' =&gt; 'geo_loc_name',\n    'content' =&gt; 'not determined',\n    'display_name' =&gt; 'geographic location'\n  },\n  {\n    'harmonized_name' =&gt; 'env_package',\n    'attribute_name' =&gt; 'env_package',\n    'content' =&gt; 'missing',\n    'display_name' =&gt; 'environmental package'\n  }\n);\n\nmy @result = grep { $_-&gt;{harmonized_name} eq \"env_package\" } @AoH;\n\nprint $_-&gt;{content}, \"\\n\" for @result;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>missing\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 4799924, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4da91be08b011b0523505bfa78849de4?s=128&d=identicon&r=PG&f=1", "display_name": "MLMH", "link": "https://stackoverflow.com/users/4799924/mlmh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441099045, "creation_date": 1441094884, "last_edit_date": 1441099045, "question_id": 32326597, "link": "https://stackoverflow.com/questions/32326597/get-the-hash-number", "title": "Get the hash number", "body": "<p>I am fairly new in Perl, and having worked all my life with R, there are something that I can't really can wrap my mind around. </p>\n\n<p>I have an array of hashes. In all of the hashes, the keys are the same ones, but the values are different. I want to get the number of the hash that has a specific value in it, because in that hash there is another value that I want (and varies among different samples).</p>\n\n<p>I don't know if this is the way that I should be addressing it, but is the one I can think of. Here is a piece of the array:</p>\n\n<pre><code>$VAR16 = {\n           'harmonized_name' =&gt; 'geo_loc_name',\n           'attribute_name' =&gt; 'geo_loc_name',\n           'content' =&gt; 'not determined',\n           'display_name' =&gt; 'geographic location'}\n$VAR17 = {\n           'harmonized_name' =&gt; 'env_package',\n           'attribute_name' =&gt; 'env_package',\n           'content' =&gt; 'missing',\n           'display_name' =&gt; 'environmental package'}\n</code></pre>\n\n<p>In this example, I would want the 'content' value of the hash that has <code>'harmonized_name' = env_package</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1441089689, "post_id": 32325025, "comment_id": 52524659, "body": "What do the functions <code>func1()</code> and <code>func2()</code> do?"}, {"owner": {"reputation": 8026, "user_id": 1320303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9020a80cda52e7a425d4824ad572b241?s=128&d=identicon&r=PG", "display_name": "mttrb", "link": "https://stackoverflow.com/users/1320303/mttrb"}, "edited": false, "score": 0, "creation_date": 1441090101, "post_id": 32325025, "comment_id": 52524887, "body": "Also what does your data file look like?"}, {"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "edited": false, "score": 1, "creation_date": 1441090579, "post_id": 32325025, "comment_id": 52525120, "body": "You may want to take a look at answers to this question: <a href=\"http://stackoverflow.com/questions/585341/whats-the-difference-between-iterating-over-a-file-with-foreach-or-while-in-per\" title=\"whats the difference between iterating over a file with foreach or while in per\">stackoverflow.com/questions/585341/&hellip;</a>"}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 1, "creation_date": 1441093778, "post_id": 32325025, "comment_id": 52526919, "body": "Please show content of data file (file_detail.txt) which you are reffering in your code."}], "answers": [{"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 3, "last_activity_date": 1441090458, "creation_date": 1441090458, "answer_id": 32325319, "question_id": 32325025, "link": "https://stackoverflow.com/questions/32325025/all-values-are-not-run-in-a-loop/32325319#32325319", "title": "All values are not run in a loop", "body": "<p>Change your <code>foreach</code> to <code>while</code>.</p>\n\n<p><code>my $value = &lt;$fh&gt;</code> returns a single value, which is the first line of the file.  <code>foreach</code> then receives that single value and loops over only that one value, after which the loop terminates without reading the next line from <code>$fh</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1441090621, "creation_date": 1441090621, "answer_id": 32325377, "question_id": 32325025, "link": "https://stackoverflow.com/questions/32325025/all-values-are-not-run-in-a-loop/32325377#32325377", "title": "All values are not run in a loop", "body": "<p>Either use while loop as Dave mentioned or slurp the file in an array then loop over array using foreach. </p>\n\n<pre><code>use IO::All;\n\nmy @lines = io($filename)-&gt;slurp;\n\nforeach (@lines){\n    #work on each line\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4519655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee01b9c676413ec3d73e5fcd3d1bd71f?s=128&d=identicon&r=PG&f=1", "display_name": "parthodas", "link": "https://stackoverflow.com/users/4519655/parthodas"}, "edited": false, "score": 0, "creation_date": 1441092474, "post_id": 32325408, "comment_id": 52526171, "body": "Thanks for the detailed info. I was error handling for open. For others, I followed your suggestion. I tried while, but then also it was exiting after first execution. I used defined inside while and it is working now. Thanks for all the help and detailed info."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 4519655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee01b9c676413ec3d73e5fcd3d1bd71f?s=128&d=identicon&r=PG&f=1", "display_name": "parthodas", "link": "https://stackoverflow.com/users/4519655/parthodas"}, "edited": false, "score": 1, "creation_date": 1441111182, "post_id": 32325408, "comment_id": 52537807, "body": "@parthodas: You don&#39;t need to call <code>defined</code>. <code>while ( my $value = &lt;$fh&gt; ) { ... }</code> does it for you and works fine"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 5, "last_activity_date": 1441090777, "creation_date": 1441090777, "answer_id": 32325408, "question_id": 32325025, "link": "https://stackoverflow.com/questions/32325025/all-values-are-not-run-in-a-loop/32325408#32325408", "title": "All values are not run in a loop", "body": "<p>Your code needs:</p>\n\n<ol>\n<li>use warnings; use strict;</li>\n<li>error handling on <code>open</code></li>\n<li>error handling on <code>qx</code>, i.e. replace it with <code>system</code> since you do not care about the output, or better yet, with <code>File::Path::mkpath()</code></li>\n<li>change the <code>foreach</code> to a <code>while</code></li>\n<li>add an <code>else</code> clause to your loop</li>\n</ol>\n\n<p>Try this:</p>\n\n<p><strong>Input</strong></p>\n\n<pre><code>123\n456\nabc\ndef\n</code></pre>\n\n<p><strong>Program</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse File::Path qw( make_path );\n\nmy ($mycrnum, $mydir, %envparams);\n\n$mydir = 'bar';\nmy $file = \"foo.txt\";\nopen (my $fh, \"&lt;\", \"$file\")\n    or die \"Unable to open '$file' : $!\";\n\nwhile(my $value = &lt;$fh&gt;) {\n        chomp($value);\n        print \"Value is '$value'\\n\";\n        if ($value eq \"abc\") {\n            unless (-d $mydir) {\n                make_path($mydir)\n                    or die \"Unable to mkdir '$mydir'\";\n            }\n            func1($mycrnum,$mydir,$value,%envparams);\n            func2($mycrnum,$mydir,$value,%envparams);\n        }\n        elsif($value eq \"123\")\n        {\n            unless (-d $mydir) {\n                make_path($mydir)\n                    or die \"Unable to mkdir '$mydir'\";\n            }\n            func1($mycrnum,$mydir,$value,%envparams);\n            func2($mycrnum,$mydir,$value,%envparams);\n        }\n        else {\n            print \"Don't know what to do with line '$value'\\n\";\n        }\n}\n\nsub func1 {\n    print \"You called func1\\n\";\n}\n\nsub func2 {\n    print \"You called func2\\n\";\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Value is '123'\nYou called func1\nYou called func2\nValue is '456'\nDon't know what to do with line '456'\nValue is 'abc'\nYou called func1\nYou called func2\nValue is 'def'\nDon't know what to do with line 'def'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5230182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WowJc.png?s=128&g=1", "display_name": "kjt", "link": "https://stackoverflow.com/users/5230182/kjt"}, "is_accepted": false, "score": 0, "last_activity_date": 1441720690, "last_edit_date": 1441720690, "creation_date": 1441099205, "answer_id": 32327853, "question_id": 32325025, "link": "https://stackoverflow.com/questions/32325025/all-values-are-not-run-in-a-loop/32327853#32327853", "title": "All values are not run in a loop", "body": "<p>Maybe, here is an other solution, if I mean well the problem ...</p>\n\n<pre><code>open FH, \"$mycrdir/file_detail.txt\" || die $!;\nwhile(&lt;$FH&gt;) {\n    chomp;\n    if (/^abc$/) {\n        ...\n    }\n    elsif(/^123$/) {\n        ...\n    }\n}\nclose FH;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4519655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee01b9c676413ec3d73e5fcd3d1bd71f?s=128&d=identicon&r=PG&f=1", "display_name": "parthodas", "link": "https://stackoverflow.com/users/4519655/parthodas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1441720690, "creation_date": 1441089324, "last_edit_date": 1441089547, "question_id": 32325025, "link": "https://stackoverflow.com/questions/32325025/all-values-are-not-run-in-a-loop", "title": "All values are not run in a loop", "body": "<p>I'm reading a file and then running a for loop for each value. My script is stopping after executing the first value. The file_detail.txt has multiple lines. But it is not proceeding to the next value. My script looks something like this --</p>\n\n<pre><code>    open (my $fh, \"&lt;\", \"$mycrdir/file_detail.txt\" );\nforeach(my $value = &lt;$fh&gt;) {\n    chomp($value);\n    if ($value eq \"abc\") {\n        qx/\"mkdir $mydir\"/;\n        func1($mycrnum,$mydir,$value,%envparams);\n        func2($mycrnum,$mydir,$value,%envparams);\n    }\n    elsif($value eq \"123\") \n    {\n        qx/\"mkdir $mydir\"/;\n        func1($mycrnum,$mydir,$value,%envparams);\n        func2($mycrnum,$mydir,$value,%envparams);\n    }\n}\n</code></pre>\n"}, {"tags": ["xml", "perl", "soap", "wss"], "answers": [{"tags": [], "owner": {"reputation": 542, "user_id": 2687838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67e7177c728a0d69077cbe3d8f65ef6d?s=128&d=identicon&r=PG", "display_name": "Justin Schell", "link": "https://stackoverflow.com/users/2687838/justin-schell"}, "is_accepted": false, "score": 1, "last_activity_date": 1445455487, "creation_date": 1445455487, "answer_id": 33267574, "question_id": 32324116, "link": "https://stackoverflow.com/questions/32324116/adding-hook-to-xmlcompilewsdl11-to-modify-wsse-header/33267574#33267574", "title": "Adding hook to XML::Compile::WSDL11 to modify WSSE header", "body": "<p>I had the exact same problem recently and ended up creating an instance of XML::Compile::WSS::BasicAuth, setting XCWB_login with the code copied from XML::Compile::WSS::BasicAuth->prepareWriting modified to generate the password string as I needed, and passing that BasicAuth instance as the wsse_Security option to XML::Compile::Schema->call.</p>\n\n<p>This is super lame, but the only way that I found to solve this problem using these libraries.</p>\n"}], "owner": {"reputation": 179, "user_id": 1974403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007f93bc74d0496fe85122f70632e71a?s=128&d=identicon&r=PG", "display_name": "sevenr", "link": "https://stackoverflow.com/users/1974403/sevenr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445455487, "creation_date": 1441085178, "last_edit_date": 1441087431, "question_id": 32324116, "link": "https://stackoverflow.com/questions/32324116/adding-hook-to-xmlcompilewsdl11-to-modify-wsse-header", "title": "Adding hook to XML::Compile::WSDL11 to modify WSSE header", "body": "<p>I'm using the <code>XML::Compile</code> suite to work with a <code>SOAP API</code> that uses <code>WSSE</code> security with a digest password generated with <code>sha1</code>.  Unfortunately the password digest protocol that <code>XML::Compile::WSS::BasicAuth</code> uses is </p>\n\n<blockquote>\n  <p>sha1_base64(encode utf8 => \"$nonce$created$password\").'='</p>\n</blockquote>\n\n<p>where <code>$nonce</code> and <code>$password</code> are text values and <code>$created</code> is a timestamp, while the <code>API</code> I'm working with uses the digest generator </p>\n\n<blockquote>\n  <p>sha1_base64($nonce.$created.sha1($password)).'='</p>\n</blockquote>\n\n<p>I figured I could fix this by rewritinng the password using a hook, as in </p>\n\n<blockquote>\n  <p>$wsdl->addHook(type=> 'wsse::PasswordString',replace => \\&amp;replace_pwd);</p>\n</blockquote>\n\n<p>Since the curent <code>CPAN</code> documentation does not clearly specify hook call syntax, I relied on the module author's comments at <code>http://grokbase.com/t/sc/xml-compile/1283vscwxz/need-help-with-xml-compile-translate-writer-and-attributes-with-namespace</code>.  However the callback function <code>replace_pwd()</code> is never called with the result that the original (wrong) password generated by <code>XML::Compile::WSS::BasicAuth</code> continues to get sent.</p>\n\n<p>How do I get this to work?</p>\n\n<p>TIA.</p>\n"}, {"tags": ["perl", "shell", "awk", "sed", "gawk"], "comments": [{"owner": {"reputation": 5956, "user_id": 593109, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/7Ieye.jpg?s=128&g=1", "display_name": "zealoushacker", "link": "https://stackoverflow.com/users/593109/zealoushacker"}, "edited": false, "score": 1, "creation_date": 1441084344, "post_id": 32323832, "comment_id": 52522452, "body": "Specify a language you want to do this in within the question contents, what you&#39;ve attempted to do to get there, and then ask for help. Most importantly though, what have you done to answer your own question?"}, {"owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "edited": false, "score": 2, "creation_date": 1441084423, "post_id": 32323832, "comment_id": 52522479, "body": "and the problem for your question is ? A bit poor in 1) explaination 2) solution trying where you have the issue and where we can help."}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 0, "creation_date": 1441086858, "post_id": 32323832, "comment_id": 52523424, "body": "Atleast you would have tried to post your code here. Now on please try and post you piece of code."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1441085089, "last_edit_date": 1441085089, "creation_date": 1441084725, "answer_id": 32324040, "question_id": 32323832, "link": "https://stackoverflow.com/questions/32323832/search-match-count-from-input-file-script/32324040#32324040", "title": "Search, Match &amp; Count from input file: Script", "body": "<p>Solution in Perl</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\nmy %name_degree;\nmy %name_industry;\nwhile(&lt;DATA&gt;){\n    chomp;\n    if(/^([A-Za-z]+).*?(graduation)/){\n        $name_degree{$1}++;\n    }\n    if(/^([A-Za-z]+).*?(IT industry)/){\n        $name_industry{$1}++;\n    }\n}\nforeach (keys %name_degree){\n    print \"$_ word has $name_degree{$_} Graduations\\n\"; \n}\nforeach (keys %name_industry){\n    print \"$_ word has $name_industry{$_} IT industry\\n\";   \n}\n__DATA__\nJohn completed his graduation \nJohn is working for an IT industry\nThomas completed his graduation\nJohn completed his graduation\nThomas is working for an IT industry\nThomas is working for an IT industry\n</code></pre>\n\n<p><a href=\"http://ideone.com/vOUjmh\" rel=\"nofollow\"><strong>Demo</strong></a></p>\n\n<p>Note: Regex could be improved based on knowledge of data in file.</p>\n"}, {"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1441376272, "creation_date": 1441376272, "answer_id": 32400321, "question_id": 32323832, "link": "https://stackoverflow.com/questions/32323832/search-match-count-from-input-file-script/32400321#32400321", "title": "Search, Match &amp; Count from input file: Script", "body": "<p>Perhaps you can do something like this and work on replacing the words with your choice</p>\n\n<pre><code>sort file | uniq -c | sort -k2,2 -k1,1r | awk '!a[$2]++{print $2, \"word has\", $1, $NF}'\n\nJohn word has 2 graduation\nThomas word has 2 industry\n</code></pre>\n\n<p>sort the file, find counts of each, take the highest count for each line and print.</p>\n"}], "owner": {"reputation": 1, "user_id": 5286955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87bfa4c5e98f7d74c67b67fb06cb869b?s=128&d=identicon&r=PG&f=1", "display_name": "Kishore", "link": "https://stackoverflow.com/users/5286955/kishore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1441376272, "creation_date": 1441083496, "last_edit_date": 1441083971, "question_id": 32323832, "link": "https://stackoverflow.com/questions/32323832/search-match-count-from-input-file-script", "title": "Search, Match &amp; Count from input file: Script", "body": "<p>I have an input file like this</p>\n\n<pre>\nJohn completed his graduation \nJohn is working for an IT industry\nThomas completed his graduation\nJohn completed his graduation\nThomas is working for an IT industry\nThomas is working for an IT industry\n</pre>\n\n<p>I want an output like this</p>\n\n<pre>\nJohn word has 2 Graduations\nThomas word has 2 IT industry\n</pre>\n\n<p>Can any body help me out</p>\n"}, {"tags": ["html", "css", "arrays", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441087418, "post_id": 32323578, "comment_id": 52523666, "body": "Do the values coming out of the database really have newlines on them? That seems... odd."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441087710, "post_id": 32323578, "comment_id": 52523766, "body": "Look at <a href=\"http://docstore.mik.ua/orelly/perl/prog3/ch03_16.htm\" rel=\"nofollow noreferrer\">docstore.mik.ua/orelly/perl/prog3/ch03_16.htm</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1441119263, "post_id": 32324667, "comment_id": 52543700, "body": "If this solution answers your question, you should mark it as the <a href=\"http://stackoverflow.com/help/someone-answers\">accepted answer</a>."}, {"owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1441160300, "post_id": 32324667, "comment_id": 52561547, "body": "Matt, if i had more than 2 conditions how to use the conditional operator. Say if i had values other than PASS or FAIL , i should get yellow. Please through some light..."}, {"owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1441162785, "post_id": 32324667, "comment_id": 52562054, "body": "tried below it worked like a charm    (($ary[2] eq &#39;PASS&#39; )? &#39;green&#39; : ($ary[2] eq &#39;FAIL&#39;) ?  &#39;red&#39;) : &#39;yellow&#39;,$ary[2]));"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1441166487, "post_id": 32324667, "comment_id": 52562927, "body": "While you certainly <i>can</i> nest ternary operators, I try to avoid it for the sake of readability. See my updated answer."}, {"owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1441624565, "post_id": 32324667, "comment_id": 52738905, "body": "thanks Matt.  By nesting ternary operators i can able to get the result. Thanks again for the quick help!!"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "edited": false, "score": 0, "creation_date": 1441655632, "post_id": 32324667, "comment_id": 52753972, "body": "Well, I guess that settles it, then. Nest away until your program is one giant ternary decision tree!"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1441166450, "last_edit_date": 1441166450, "creation_date": 1441087799, "answer_id": 32324667, "question_id": 32323578, "link": "https://stackoverflow.com/questions/32323578/how-to-add-multiple-css-classes-to-an-single-array/32324667#32324667", "title": "How to add multiple CSS classes to an single array", "body": "<p>Just finish the ternary condition with something other than an empty string:</p>\n\n<pre><code>push(@HTML, sprintf('&lt;td class=\"%s\"&gt;%s&lt;/td&gt;', ($ary[2] eq 'PASS' ? 'green' : 'red'), $ary[2]));\n</code></pre>\n\n<p>Although, do you really need <code>sprintf</code> when simple string interpolation will do? This produces arguably more readable code:</p>\n\n<pre><code>my $class = $ary[2] eq 'PASS' ? 'green' : 'red';\npush(@HTML, \"&lt;td class='$class'&gt;$ary[2]&lt;/td&gt;\");\n</code></pre>\n\n<hr>\n\n<p>Edit: answer to your second question below. I'd use a simple conditional rather than multiple levels of ternary operators because I find it infinitely more readable.</p>\n\n<pre><code>my $class;\n\nif ($ary[2] eq 'PASS') {\n    $class = 'green';\n} elsif ($ary[2] eq 'FAIL') {\n    $class = 'red';\n} else {\n    $class = 'yellow';\n}\n\npush(@HTML, \"&lt;td class='$class'&gt;$ary[2]&lt;/td&gt;\");\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 32324667, "answer_count": 1, "score": 0, "last_activity_date": 1441166450, "creation_date": 1441081939, "last_edit_date": 1441089022, "question_id": 32323578, "link": "https://stackoverflow.com/questions/32323578/how-to-add-multiple-css-classes-to-an-single-array", "title": "How to add multiple CSS classes to an single array", "body": "<p>Here is the partial script, I am printing table from Oracle DB in HTML to an email, which contains 3 columns; for the 3rd column there are only two values: <code>PASS</code> or <code>FAIL</code>. If the cell has <code>PASS</code>, the <code>bgcolor</code> of the cell will be <code>green</code>, and if it is <code>FAIL</code>, I want <code>bgcolor</code> to be <code>RED</code>.</p>\n\n<p>Below code works, but I am not sure how to add another class (<code>red</code>) if the condition is <code>FAIL</code>.</p>\n\n<pre><code>  chomp($ary[2]);\n  push(@HTML,sprintf(\"&lt;td%s&gt;%s&lt;/td&gt;\",\n                (($ary[2]) eq \"PASS\")? \" class=\\\"green\\\"\" : \"\",\n                $ary[2]));\n</code></pre>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 4, "last_activity_date": 1441078562, "creation_date": 1441078562, "answer_id": 32323116, "question_id": 32323087, "link": "https://stackoverflow.com/questions/32323087/how-to-extract-data-from-perl-hash-if-a-subkey-could-be-a-value/32323116#32323116", "title": "How to extract data from perl hash if a subkey could be a value", "body": "<p>Use <code>ref</code> to see if result is a reference.  <a href=\"http://perldoc.perl.org/functions/ref.html\" rel=\"nofollow\">perldoc ref</a></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nmy $results_data = [\n    {\n          'calculated_at' =&gt; '2015-09-01T03:27:11.528Z',\n          'result' =&gt; {\n                        'previous' =&gt; 0,\n                        'now' =&gt; 71\n          }\n    },\n    {\n          'calculated_at' =&gt; '2015-09-01T03:27:11.624Z',\n          'result' =&gt; 342\n    },\n];\n\nfor my $data (@$results_data) {\n    my $result = ref $data-&gt;{result} ? $data-&gt;{result}-&gt;{now} : $data-&gt;{result};\n    print \"Result is $result\\n\";\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Result is 71\nResult is 342\n</code></pre>\n"}], "owner": {"reputation": 691, "user_id": 3513601, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c36aee13e39b5e8b4f13dc3876c16ad2?s=128&d=identicon&r=PG&f=1", "display_name": "Werner", "link": "https://stackoverflow.com/users/3513601/werner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 32323116, "answer_count": 1, "score": 1, "last_activity_date": 1441078562, "creation_date": 1441078175, "question_id": 32323087, "link": "https://stackoverflow.com/questions/32323087/how-to-extract-data-from-perl-hash-if-a-subkey-could-be-a-value", "title": "How to extract data from perl hash if a subkey could be a value", "body": "<p>I am extracting data and the resulting hash can be one of two examples:</p>\n\n<pre><code>$VAR1 = {\n          'calculated_at' =&gt; '2015-09-01T03:27:11.528Z',\n          'result' =&gt; {\n                        'previous' =&gt; 0,\n                        'now' =&gt; 71\n                      }\n        };\n$VAR1 = {\n          'calculated_at' =&gt; '2015-09-01T03:27:11.624Z',\n          'result' =&gt; 342\n        };\n</code></pre>\n\n<p>If example1 , the value should be 71, else it should be 342.</p>\n\n<p>I have tried:\n<code>if (exists $jhash{result}{now}) { print \"Test\\n\";}</code></p>\n\n<p>But that breaks on the second example:<br>\n<code>Can't use string (\"341\") as a HASH ref while \"strict refs\" in use</code></p>\n\n<p>What is the proper way to do this?</p>\n"}, {"tags": ["regex", "perl", "split", "hash"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1441071137, "post_id": 32322147, "comment_id": 52519386, "body": "The ordering of hash keys has never been guaranteed. Your hash is just doing what Perl hashes do."}, {"owner": {"reputation": 1, "user_id": 5286569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3d11e092e42c9d9a4aa51ad25c98aa?s=128&d=identicon&r=PG&f=1", "display_name": "aneot", "link": "https://stackoverflow.com/users/5286569/aneot"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441122331, "post_id": 32322147, "comment_id": 52545766, "body": "ok i agree that hash keys ordering isnt guaranteed, but why it doesn&#39;t prints all the contents in the hash when i want them to be printed?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441125279, "post_id": 32322147, "comment_id": 52547592, "body": "Are you trying to print every line of the input file, or just the last description for each chain?"}, {"owner": {"reputation": 1, "user_id": 5286569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3d11e092e42c9d9a4aa51ad25c98aa?s=128&d=identicon&r=PG&f=1", "display_name": "aneot", "link": "https://stackoverflow.com/users/5286569/aneot"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441126610, "post_id": 32322147, "comment_id": 52548351, "body": "all the chains  and their description"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441128024, "post_id": 32322147, "comment_id": 52549109, "body": "Then you don&#39;t want a hash. See my answer for an easy solution."}, {"owner": {"reputation": 1, "user_id": 5286569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3d11e092e42c9d9a4aa51ad25c98aa?s=128&d=identicon&r=PG&f=1", "display_name": "aneot", "link": "https://stackoverflow.com/users/5286569/aneot"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441131410, "post_id": 32322147, "comment_id": 52550901, "body": "i will be the needing values for further calculations that why i am storing in the hash as keys and values."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441131632, "post_id": 32322147, "comment_id": 52551033, "body": "That would have been helpful to know, as I have not perfected my mind-reading abilities yet. You still don&#39;t want a hash, though. Also, as someone else pointed out, you probably don&#39;t want to be storing GB of data in memory. Good luck."}, {"owner": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "edited": false, "score": 0, "creation_date": 1441239865, "post_id": 32322147, "comment_id": 52602736, "body": "If it doesn&#39;t print all the line, maybe you should change your split pattern. And  can you paste the missing line?"}], "answers": [{"tags": [], "owner": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "is_accepted": false, "score": 0, "last_activity_date": 1441072877, "last_edit_date": 1441072877, "creation_date": 1441070486, "answer_id": 32322181, "question_id": 32322147, "link": "https://stackoverflow.com/questions/32322147/perl-splitting-and-storing-in-hash-and-printing/32322181#32322181", "title": "PERL: splitting and storing in hash and printing", "body": "<p>try this:</p>\n\n<pre><code>cat report.txt | perl -F'\\x20{2,}' -nale 'print $F[0],\" ===&gt; \", $F[-1]' &gt; output.txt\n</code></pre>\n\n<p>\\x20 is SPACE, <code>-Fpattern</code>, you can't use literal whitespace in the pattern.</p>\n\n<p>If some line still doesn't in output.txt, you should show us more information about report.txt.</p>\n\n<p>Storing 2.5G data in a hash is too bad.</p>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441131816, "post_id": 32327248, "comment_id": 52551130, "body": "Upvoted for a great answer, even though I don&#39;t think it answers the OP&#39;s question. Unfortunately, I don&#39;t think the OP knows what his/her question is, so answering it correctly would prove to be impossible."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1441097157, "creation_date": 1441097157, "answer_id": 32327248, "question_id": 32322147, "link": "https://stackoverflow.com/questions/32322147/perl-splitting-and-storing-in-hash-and-printing/32327248#32327248", "title": "PERL: splitting and storing in hash and printing", "body": "<p>hashes are <em>explicitly</em> unordered. Their output order is random-ish. That's by design - any time you're relying on hash ordering, then you're doing something nasty. It did get a bit worse recently (e.g. more obvious that your code was wrong). <a href=\"http://perldoc.perl.org/perlsec.html#Algorithmic-Complexity-Attacks\" rel=\"nofollow\">Algorithmic Complexity attacks</a> so the effect is more noticeable as of Perl 5.18.  But this hasn't changed the underlying problem that hashes aren't ordered, and shouldn't be assumed to be. </p>\n\n<p>If you need <em>ordered</em> data, this is why we have arrays. You can either: </p>\n\n<ul>\n<li>push your key into an array to maintain 'file order'. </li>\n<li>use <code>sort</code> to order the keys for output. </li>\n</ul>\n\n<p>So in your code, you might do: </p>\n\n<pre><code>$hash{$chain} = $description;\npush ( @order, $chain ); \n</code></pre>\n\n<p>And then to print:</p>\n\n<pre><code>foreach my $key ( @order ) { \n   print \"$key =&gt; $hash{$key}\\n\";\n}\n</code></pre>\n\n<p>Or alternatively:</p>\n\n<pre><code>foreach my $key ( sort keys %hash ) { \n    print \"$key =&gt; $hash{$key}\\n\"; \n}\n</code></pre>\n\n<p>It may also be worth looking at <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\"><code>slices</code></a> of hashes - which let you extract a specific sequence of values.</p>\n\n<p>NB: <code>%hash</code> is a nasty name for a variable. Call it something descriptive. Trust me on this, there's nothing worse than trying to debug code where variables are like that. I would suggest: </p>\n\n<pre><code>my %description_of;\n</code></pre>\n\n<p>So then you can write:</p>\n\n<pre><code>$description_of{$chain} = $description;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1441101464, "creation_date": 1441101464, "answer_id": 32328689, "question_id": 32322147, "link": "https://stackoverflow.com/questions/32322147/perl-splitting-and-storing-in-hash-and-printing/32328689#32328689", "title": "PERL: splitting and storing in hash and printing", "body": "<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy %hashStore = (); my $cnt = '1';\nmy $addarry = '1'; my ($iniCnt,@twodimarray,$rings) = \"\";\nwhile(&lt;DATA&gt;)\n{\n    my $line = $_; my ($one, $two,$three,$four) = \"\";\n    if($line!~m/^$/)\n    {\n        $line=~s/^/$cnt\\t/; my $nwline = $line;  my $i = '0';\n        if($nwline=~m/^([^\\t]+)\\t([^\\t]+)\\t([^\\t]+)\\t([^\\t]+)\\t([^\\t]+)/g)\n        {\n            $twodimarray[$addarry][$i] = $1;\n            $i++;\n            $twodimarray[$addarry][$i] = $2;\n            $i++;\n            $twodimarray[$addarry][$i] = $4;\n            $i++;\n            $rings = $twodimarray[$addarry];\n        }\n        $cnt++;\n\n        my $keys = $rings-&gt;[0];\n        my $vals = $rings-&gt;[1];\n        my $last = $rings-&gt;[2];\n\n        $hashStore{$keys}{$vals} = $last;\n\n        #$nwline=~s## my $fulcnt=$&amp;; my $chain=$1; my $desp=$4; chomp($chain); chomp($desp); $hashStore{$chain}=$desp; ($fulcnt); #eg;\n    }\n}\n\nprint Dumper \\%hashStore;\n\n__DATA__\nchain_name  number1 classification1 description1\n\nchain_name  number2 classification2 description2\n\nchain_name  number3 classification3 description3\n\nchain_name  number4 classification4 description4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1441128083, "creation_date": 1441128083, "answer_id": 32337494, "question_id": 32322147, "link": "https://stackoverflow.com/questions/32322147/perl-splitting-and-storing-in-hash-and-printing/32337494#32337494", "title": "PERL: splitting and storing in hash and printing", "body": "<p>No need to store anything in memory here. Go straight from the old file to the new one.</p>\n\n<pre><code>open(my $old, '&lt;', 'report.txt') or die $!;\nopen(my $new, '&gt;', 'output.txt') or die $!;\n\nwhile (&lt;$old&gt;) {\n    chomp;\n    my @parts = split(/\\s+/);\n    print $new \"$parts[0] ===&gt; $parts[3]\\n\";\n}\n\nclose($old);\nclose($new);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5286569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3d11e092e42c9d9a4aa51ad25c98aa?s=128&d=identicon&r=PG&f=1", "display_name": "aneot", "link": "https://stackoverflow.com/users/5286569/aneot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 607, "favorite_count": 1, "answer_count": 4, "score": -2, "last_activity_date": 1441128083, "creation_date": 1441070149, "last_edit_date": 1441078127, "question_id": 32322147, "link": "https://stackoverflow.com/questions/32322147/perl-splitting-and-storing-in-hash-and-printing", "title": "PERL: splitting and storing in hash and printing", "body": "<p>I have a 2.5GB file and want to store the contents into a hash.\nThe input file is somewhat like this:</p>\n\nReport.txt\n\n<pre><code>chain_name    number    classification    description\n\nchain_name    number    classification    description\n\nchain_name    number    classification    description\n\nchain_name    number    classification    description\n</code></pre>\n\n<p>and so on .......</p>\n\n<p>This is the code I have written for this:</p>\n\n<pre><code>open (my $rept, \"&lt; report.txt\");\nopen (o_f, \"&gt; output.txt\");\nmy %hash;\nwhile ( my $line1 = &lt;$report_fh&gt;)\n{\n  chomp $line1;\n  (my $chain, my $number, my $classification , my $description) = split / {2,}/, $line1;\n  #print o_f (\"$chain--------&gt;$description\\n\");  # for checking whether splitting took place successfully, this works perfectly.\n  $hash{$chain} = $description;\n}   \n\n# for printing the hash values \nwhile ( my ($k,$v) = each %hash ) \n{\n  print o_f (\" $k ===&gt; $v\\n\");\n}\n</code></pre>\n\n<p>The hash printed is all jumbled up (not in the same order as how it is in the input file) and not all the lines are being printed while I am trying to print the hash. </p>\n\n<p>I have been banging my head figuring this out for hours, need help with this.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441065953, "post_id": 32321484, "comment_id": 52518334, "body": "If I remember correctly from your previous posts, wasn&#39;t your data <i>already</i> in tabular (CSV) format? Whatever you&#39;ve got here is a strange way to represent tabular data, and I would suggest re-thinking your data structure. What are you ultimately trying to do here?"}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441066298, "post_id": 32321484, "comment_id": 52518413, "body": "@MattJacob- yea, i think the structure is weird. :( i have updated my question with what i ultimately want to achieve."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441066746, "post_id": 32321484, "comment_id": 52518507, "body": "I <i>think</i> what you want is an array of objects. I would build that up in Perl first and then encode the entire thing as JSON. Actually, <code>getline_hr_all</code> (from <a href=\"http://stackoverflow.com/questions/32191842/convert-csv-data-to-specific-format-dynamic\">your other question</a>) gets you 99% of the way there. Call <code>encode_json</code> on the return value, and Bob&#39;s your uncle."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441066930, "post_id": 32321484, "comment_id": 52518553, "body": "@MattJacob- i tried this point because i knew i was getting closer. i tried the encode_json function on the overall value. i.e.  my $json = encode_json([ map { $_-&gt;{$column} } @$data ]); After this statement, i again wrote encode_json but it didnt work. maybe i didnt code it properly. can you please post the answer here."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441067278, "post_id": 32321484, "comment_id": 52518622, "body": "Get rid of the loop, <code>map</code>, and array reference, and just encode <code>$data</code> by itself."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441067937, "post_id": 32321484, "comment_id": 52518744, "body": "@MattJacob- it gives [object Object] at every cell now. edited the code like you suggested. please check the edited post at the end."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441068209, "post_id": 32321484, "comment_id": 52518798, "body": "You say you edited your post according to my suggestion, but that wasn&#39;t my suggestion. I even posted an answer showing the entirety of what you need to do."}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1441067161, "last_edit_date": 1495540688, "creation_date": 1441067161, "answer_id": 32321812, "question_id": 32321484, "link": "https://stackoverflow.com/questions/32321484/accessing-element-of-an-perl-array-element/32321812#32321812", "title": "Accessing element of an perl Array element", "body": "<p>Building on the answer to <a href=\"https://stackoverflow.com/questions/32191842/convert-csv-data-to-specific-format-dynamic\">your previous question</a>, I think you just need to swap out the loop at the end for this:</p>\n\n<pre><code>my $json = encode_json($data);\nprint \"var data = $json;\\n\";\n</code></pre>\n"}], "owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 32321812, "answer_count": 1, "score": 0, "last_activity_date": 1441220561, "creation_date": 1441064418, "last_edit_date": 1441094511, "question_id": 32321484, "link": "https://stackoverflow.com/questions/32321484/accessing-element-of-an-perl-array-element", "title": "Accessing element of an perl Array element", "body": "<p>I have a perl code which read <code>csv</code> file. It contains <code>grid</code> data which needs to be updated at the front end. </p>\n\n<p>First, here is the perl code which reads data and formats it so that the data can be pushed to front end for display.</p>\n\n<pre><code>my @array;\nfor my $column ($csv-&gt;column_headers) {\n    my $json = encode_json([ map { $_-&gt;{$column} } @$data ]);\n    push(@array, \"$json;\");\n}\n</code></pre>\n\n<p>The final data is the <code>@array</code> which is passed to front end <code>javascript</code> code. The contents of <code>@array</code> is as follows. </p>\n\n<pre><code>[\"1\",\"2\"]; [\"dd\",\"ddd\"]; [\"wow\",\"cool\"]; [\"HOLD\",\"HOLD\"];\n</code></pre>\n\n<p>This data is actually <code>4</code> columns with column header names as <code>Id</code>, <code>Name</code>, <code>Comment</code> and <code>type</code>. All these data are bundled up together in <code>@array</code> and passed to <code>Javascript</code>. </p>\n\n<pre><code>var header=[];\nheader[0] = @array[0];\n}   \n</code></pre>\n\n<p>This code above displays the below output if I do a <code>console.log(header[0])</code>; It means it is displaying the first element of the array. but I want to display the first element's element.  </p>\n\n<pre><code>[\"1\", \"2\"]\n</code></pre>\n\n<p>whereas it should display below output. </p>\n\n<pre><code>[\"1\"]\n</code></pre>\n\n<p>In short, I want to know how can I access array elements elements. I tried using below code but it didn't work. Can someone please suggest?</p>\n\n<pre><code>var header=[];\n    header[0] = @array[0][0];\n</code></pre>\n\n<p>I am ultimately trying to put this data in grid by using below code. </p>\n\n<pre><code>for (var i=0;i&lt;row_cnt;i++){\n    var row={};\n    row[\"Id\"]=Id[i];\n    row[\"Name\"]=Name[i];\n    row[\"Comment\"]=Comment[i];\n    row[\"type\"]= type[i];\n    data[i]=row;                           \n}\n</code></pre>\n\n<p>where <code>Id[i]</code> will corresponding to <code>\"1\"</code> in first loop and <code>\"2\"</code> in second loop. Similarly it will generate data for other columns. These are then assigned to rows and updated in grid. </p>\n\n<p>As per matts suggestion, I edited the code like this</p>\n\n<pre><code>my $json = encode_json($data);\n for my $column ($csv-&gt;column_names) {\n push(@data_array, \"var $column= $json;\");\n}\n</code></pre>\n\n<p>Now it displays below values at every cell of the <code>grid</code>. </p>\n\n<pre><code>[object Object]\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1441058446, "post_id": 32320583, "comment_id": 52516312, "body": "Why not just <code>$line =~ s&#47;\\&#47;ZN?|LVT&#47;&#47;g;</code>"}, {"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "edited": false, "score": 0, "creation_date": 1441058828, "post_id": 32320583, "comment_id": 52516446, "body": "@sln. Thank you. I want to remove the &quot;/Z&quot; and &quot;/ZN&quot; together instead of just Z or ZN. and I want to remove the braces also. So i tried to split it first and then try removing it one by one."}, {"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "edited": false, "score": 0, "creation_date": 1441059110, "post_id": 32320583, "comment_id": 52516540, "body": "@sln. I tried this way from the idea you gave. it worked for me.               <code>$line =~ s&#47;\\&#47;ZN?|\\(|LVT\\)&#47;&#47;g;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1441059144, "post_id": 32320583, "comment_id": 52516557, "body": "That regex does that, but if you want to include parens with it, this works <code>$line =~ s&#47;[()]|\\&#47;ZN?|LVT&#47;&#47;g;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "edited": false, "score": 0, "creation_date": 1441059308, "post_id": 32320720, "comment_id": 52516597, "body": "Thank you for the explanation. its really helpful"}, {"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "edited": false, "score": 0, "creation_date": 1441060308, "post_id": 32320720, "comment_id": 52516914, "body": "I have one more question to ask in this. In my output. Some of the lines are repeated. I want to sort them and print them only once. Can I use sort function. Here is what I am trying  <code>while (my $line = &lt;DATA&gt;) {     if ($line =~ &#47;LVT&#47; &amp;&amp; $line =~ &#47;ZN?&#47;) {</code>         my @names = split &#39; &#39;, $line;         $names[0] =~ s/\\/ZN?//g;         $names[1] =~ s/&#40;|LVT&#41;//g;           my @line_out = &quot;$names[0] $names[1]&quot;;            $lvt_out = sort::$line_out();            print &quot;$lvt_out\\n&quot;;       }`"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "edited": false, "score": 2, "creation_date": 1441060426, "post_id": 32320720, "comment_id": 52516949, "body": "@SKG: You should ask a new question in a, um, new question."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1441059027, "creation_date": 1441059027, "answer_id": 32320720, "question_id": 32320583, "link": "https://stackoverflow.com/questions/32320583/remove-matching-words-from-the-string-using-perl/32320720#32320720", "title": "Remove matching words from the string using Perl", "body": "<p>The problem is the order of matching: <code>s/\\/Z|\\/ZN//g</code> (the second backslash is missing in your code!). You should match the longer string first, otherwise Z will match and N won't be deleted.</p>\n\n<p>There's even easier way, though: Just use <code>\\/ZN?</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nwhile (my $line = &lt;DATA&gt;) {\n    if ($line =~ /LVT/ &amp;&amp; $line =~ /ZN?/) {\n\n        my @names = split ' ', $line;\n        $names[0] =~ s/\\/ZN?//g;\n        $names[1] =~ s/\\(|LVT\\)//g;\n        print \"$names[0] $names[1]\\n\";\n    }\n}\n__DATA__\nabchsfk/jshflka/ZN                       (cellLVT)\nasjkfsa/sfklfkshfsf/Z                    (mobLVT)\nasjhfdjkfd/sjfdskjfhdk/hsakfshf/Z        (celLVT)\nasjhdjs/jhskjds/ZN                       (abcLVT)\nshdsjk/jhskd/ZN                          (xyzLVT)\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 840, "favorite_count": 0, "accepted_answer_id": 32320720, "answer_count": 1, "score": 0, "last_activity_date": 1441059027, "creation_date": 1441058238, "last_edit_date": 1441058800, "question_id": 32320583, "link": "https://stackoverflow.com/questions/32320583/remove-matching-words-from-the-string-using-perl", "title": "Remove matching words from the string using Perl", "body": "<p>I want to remove the words Z or ZN and LVT from the strings present in my file but I couldn't get it. Can someone check my code.</p>\n\n<p>Input</p>\n\n<pre><code>abchsfk/jshflka/ZN                       (cellLVT)\nasjkfsa/sfklfkshfsf/Z                    (mobLVT)\nasjhfdjkfd/sjfdskjfhdk/hsakfshf/Z        (celLVT)\nasjhdjs/jhskjds/ZN                       (abcLVT)\nshdsjk/jhskd/ZN                          (xyzLVT)\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>abchsfk/jshflka                     cell\nasjkfsa/sfklfkshfsf                 mob\nasjhfdjkfd/sjfdskjfhdk/hsakfshf     cel\nasjhdjs/jhskjds                     abc\nshdsjk/jhskd                        xyz\n</code></pre>\n\n<p>CODE:</p>\n\n<pre><code>     if ($line =~ /LVT/ &amp;&amp; ($line =~ /ZN/ || $line =~ /Z/) )        \n\n        ####  matches the words LVT and ( Z or ZN)\n\n        {   \n             my @names = split / /, $line;      ##### splits the line \n\n\n                $names[2] =~ s/\\/Z|/ZN//g;      #### remove Z or ZN \n                $names[3] =~ s/\\(|LVT\\)//g ;  #### remove LVT &amp; braces\n\n                print OUT \" $names[2] $names[3] \\n\";    #### print \n\n         }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 5, "creation_date": 1441052299, "post_id": 32319241, "comment_id": 52513508, "body": "A comment in your code like: <code># &lt;=== This is line 139</code> might be the kind of courtesy that makes researching your question a little more palatable...."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1441052847, "post_id": 32319241, "comment_id": 52513760, "body": "Is this all the code as when i copy and past this line 139 is the last line and is a call to close the file handle and nothing to do with sprintf"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441060403, "post_id": 32319241, "comment_id": 52516941, "body": "My guess would be line 122 is causing the error."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1441061305, "post_id": 32319241, "comment_id": 52517211, "body": "It would also be polite to <i>answer</i> the questions from people who are trying to help you"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441062302, "post_id": 32319241, "comment_id": 52517452, "body": "<code>my $line = sprintf (&#39;%s,%s,%s,%s,%3.2f,%s&#39;, $fa, $FaWwpn, ${$VSAN{$FaWwpn}}[0], $FAC{$fa}, $PERCENT_BUSY, lc($FAH{$fa}));</code> is #139 I would suppose.  My guess is <code>$FAC{$dir_port} += 1;</code> sets a key $FAH does not have.   Nothing can really be done without some input to actually run that, and some interactive responses by OP."}, {"owner": {"reputation": 1, "user_id": 5285555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43daae82647bd368818a60eb764f744f?s=128&d=identicon&r=PG&f=1", "display_name": "AmarVi", "link": "https://stackoverflow.com/users/5285555/amarvi"}, "edited": false, "score": 0, "creation_date": 1441120604, "post_id": 32319241, "comment_id": 52544666, "body": "It has something with hash values from ${$VSAN{$FaWwpn}}[0]."}, {"owner": {"reputation": 1, "user_id": 5285555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43daae82647bd368818a60eb764f744f?s=128&d=identicon&r=PG&f=1", "display_name": "AmarVi", "link": "https://stackoverflow.com/users/5285555/amarvi"}, "edited": false, "score": 0, "creation_date": 1441120658, "post_id": 32319241, "comment_id": 52544698, "body": "Tried printing has individually without issues. LoadVSAN; # foreach my $key (%VSAN) {     # print(${VSAN{$key}}[0]); print(&quot;\\n&quot;);     # ${$VSAN{$FaWwpn}}[0] # }"}], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1441364228, "creation_date": 1441364228, "answer_id": 32396401, "question_id": 32319241, "link": "https://stackoverflow.com/questions/32319241/perl-script-is-giving-error-uninialized-varilable-access/32396401#32396401", "title": "Perl Script is giving error uninialized varilable access", "body": "<p>I believe there is problem with <code>lc($FAH{$fa})</code>. \nhave you checked you initialized <code>$FAH</code> in your code ?</p>\n"}], "owner": {"reputation": 1, "user_id": 5285555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43daae82647bd368818a60eb764f744f?s=128&d=identicon&r=PG&f=1", "display_name": "AmarVi", "link": "https://stackoverflow.com/users/5285555/amarvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1441364228, "creation_date": 1441052011, "last_edit_date": 1441120760, "question_id": 32319241, "link": "https://stackoverflow.com/questions/32319241/perl-script-is-giving-error-uninialized-varilable-access", "title": "Perl Script is giving error uninialized varilable access", "body": "<p>Code runs sometimes, sometimes gives error on linux host.\nNeed to check why has is not printing, \nError, messages: Use of uninitialized value in sprintf at ./fa_list.pl line 139,  line</p>\n\n<p>Can someone check, why I'm getting error?</p>\n\n<pre><code>use Getopt::Long;\nmy $sid = '9999';\nmy $Fa_VSan_Map = 'Fa_VSan_Map';\nsub usage {\n   my $message = $_[0];\n   if (defined $message &amp;&amp; length $message) {\n      $message .= \"\\n\"\n         unless $message =~ /\\n$/;\n   }\n   my $command = $0;\n   $command =~ s#^.*/##;\n   print STDERR (\n      $message,\n      \"usage: $command -sid xxx -outf FA_Mapping\\n\" .\n      \"Where -sid: is primary SID to show mappings.\\n\" .\n      \"      -outf: Output File prefix.\\n\" .\n      \"      -Reserved...\\n\"\n   );\n\n   die(\"\\n\")\n}\n\nGetOptions( 'sid=i' =&gt; \\$sid, 'outf=s' =&gt; \\$Fa_VSan_Map) or\n    usage(\"Invalid commmand line options.\");\n\nprint($sid);\n\nmy $outf = \"$Fa_VSan_Map$sid.csv\";\nmy $outf1 = \"Fa_VSan_Map1$sid.csv\";\nmy ($mydir,$dir_port,$dir_port_wwpn,$FaWWPN);\nmy (%FA,%FAH,%FAC,%VSAN);\nmy ($wwpn,$host,$port,$fcid,$logged,$fab);\n\n# 50:00:09:72:08:4b:05:89, =&gt; cdc02-core1-1.yyyyy.xxxx.com,CISCO,fc3/12,VS251,50:00:09:72:08:4b:05:89,,8,Active\n# cdc02-core-1-2.yyyyy.xxxx.com,CISCO,fc1/29,VS251,50:00:09:73:00:1c:e1:1c,,8,Active\n\nsub LoadVSAN()\n{       \n    my $vsanf = \"VSAN$sid.csv\";\n    print ($vsanf);\n    open (VSAN, \"&lt;\", $vsanf) or die \"Could not open $!\";\n    while (&lt;VSAN&gt;) {\n      if (/Active/) {\n        my @array = split /,/;\n        print (@array);\n        my $key = $array[4];  \n        $key =~ s/://g;\n        my @line_arranged = ($array[3],$array[2],$array[0],$array[6],$array[7]);\n        $VSAN{$key} = \\@line_arranged;\n        print($key, \": \", @{$VSAN{$key}}, \"\\n\");\n        }\n    }\n    close VSAN;\n}\nLoadVSAN;\n# foreach my $key (%VSAN) {\n    # print(${VSAN{$key}}[0]); print(\"\\n\");\n    # ${$VSAN{$FaWwpn}}[0]\n# }\nopen (OUT, \"&gt;\", $outf) or die \"Could not open $outf $!\";\nopen( OUT1, \"&gt;\",$outf1) or die \"Could not open $outf1 $!\";\nmy $sidtxt = \"sidcfg.fa$sid.txt\";\nmy $cmd = 'symcfg -sid ' . $sid . ' list -fa all -v  &gt;  ' . $sidtxt;\nsystem($cmd); \nopen ( SYM, \"&lt;\" ,  $sidtxt ) or die \"Could not open $sidtxt $!\";\n\nwhile ( &lt;SYM&gt;) {\n    chomp ;\n    if (/Director Identification:/) {\n        $mydir = $_;\n        $mydir =~ s/\\s+Director Identification: //;\n        $mydir =~ s/FA-//;\n    }\n    elsif (/Director Port:/) {\n        $port = $_;\n        $port =~ s/\\s+Director Port: //;\n        $dir_port = sprintf '%04d_%03s_%03d', int($sid), $mydir, int($port);\n    } \n    elsif (/WWN Port Name/) {\n        $wwpn = $_;\n        $wwpn =~ s/\\s+WWN Port Name\\s+: //;\n        $dir_port_wwpn = sprintf '%s,%s', $dir_port, $wwpn; \n        $FA{$dir_port} = $wwpn;\n    }\n}\nclose(SYM);\n\n$sidtxt =  'symaccess.ll.' . $sid .  '.txt';\n$cmd = 'symaccess -sid ' . $sid . ' list logins &gt; ' . $sidtxt;\n#print($cmd);\nsystem($cmd );\n\nopen ( SYM, \"&lt;\" ,  $sidtxt )  or die \"Could not open $sidtxt $!\";\n\nwhile ( &lt;SYM&gt;) {\n    chomp ;\n    if (/Director Identification/) {\n        $mydir = $_;\n        $mydir =~ s/Director Identification\\s+:\\s+//;\n        $mydir =~ s/FA-//;\n    }\n    elsif (/Director Port/) {\n        $port = $_;\n        $port =~ s/Director Port\\s+:\\s+//;\n        $dir_port = sprintf '%04d_%03s_%03d', int($sid),$mydir, int($port);\n    }\n    elsif (/Fibre/) {\n        ($wwpn,undef, $host,$port,$fcid,$logged,$fab) = split; \n        my $host_port;\n        if( lc($host) eq 'null') {\n            $host_port = substr($wwpn,10,6);\n        }\n        else {\n            $host_port = $host . '_' . $port . '_' . substr($wwpn,12,4);\n        }\n        if (exists $FAH{$dir_port}) {\n            $FAH{$dir_port} .=  ':' . $host_port;\n            $FAC{$dir_port} += 1;\n        } else {\n            $FAH{$dir_port} =  $host_port;\n            $FAC{$dir_port} = 1;\n        }\n        if ( $logged eq  \"Yes\") {\n            my $line = sprintf ( '%s,%s,%s,%s', $dir_port, $FA{$dir_port}, $host_port, $fcid);\n            print (OUT1 $line . \"\\n\");\n        }\n    }\n}\nprint OUT \"Fa,FaWWPN,VSan,HostCount,PERCENT_BUSY,HostNames\\n\";\nmy $PERCENT_BUSY=10.0;\nforeach my $fa ( keys %FAC) {\n    my $formula = '=VLOOKUP(B2,Sheet1!A$2:F$600,6,FALSE)';\n    my $FaWwpn = lc($FA{$fa});\n    #print($FaWwpn . \": \" . $VSAN{$FaWwpn}-&gt;[0] . \"\\n\" );\n</code></pre>\n\n## Below is line 139\n\n<pre><code>    my $line = sprintf ('%s,%s,%s,%s,%3.2f,%s', $fa, $FaWwpn, ${$VSAN{$FaWwpn}}[0], $FAC{$fa}, $PERCENT_BUSY, lc($FAH{$fa}));\n    print OUT $line . \"\\n\";\n    #print $line . \"\\n\";\n}\nclose(SYM);\n</code></pre>\n"}, {"tags": ["perl", "module", "reference", "dispatch"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 2012496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91bbfa4499a0e383d9503cbc4e92471?s=128&d=identicon&r=PG", "display_name": "Sammy Esmail", "link": "https://stackoverflow.com/users/2012496/sammy-esmail"}, "edited": false, "score": 0, "creation_date": 1441045582, "post_id": 32317356, "comment_id": 52510127, "body": "Unfortunately,It does not work.  When the sub is located within the same module or call program, it is straightforward: $code_ref=&amp;hello and to execute I would run $code_ref-&gt;{$argument)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 23, "user_id": 2012496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91bbfa4499a0e383d9503cbc4e92471?s=128&d=identicon&r=PG", "display_name": "Sammy Esmail", "link": "https://stackoverflow.com/users/2012496/sammy-esmail"}, "edited": false, "score": 3, "creation_date": 1441045680, "post_id": 32317356, "comment_id": 52510168, "body": "I assure you it does. <code>my $code_ref = sub { Hello-&gt;hello(@_) }; $code_ref-&gt;(&#39;Hi There&#39;);</code> will do the same thing as <code>Hello-&gt;hello(&#39;Hi There&#39;);</code>."}, {"owner": {"reputation": 23, "user_id": 2012496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91bbfa4499a0e383d9503cbc4e92471?s=128&d=identicon&r=PG", "display_name": "Sammy Esmail", "link": "https://stackoverflow.com/users/2012496/sammy-esmail"}, "edited": false, "score": 0, "creation_date": 1441046680, "post_id": 32317356, "comment_id": 52510685, "body": "Okay. The issue that I have is that when obtaining a code_ref, the call must include the object name. So $code_ref=&amp;Hello::hello and then the call is $code_ref-&gt;(&#39;Hello&#39;,$argument). Without a code_ref, the object name is implicitly passed.  Unfortunately, I could not get your format to work. I must be doing something wrong."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 23, "user_id": 2012496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91bbfa4499a0e383d9503cbc4e92471?s=128&d=identicon&r=PG", "display_name": "Sammy Esmail", "link": "https://stackoverflow.com/users/2012496/sammy-esmail"}, "edited": false, "score": 0, "creation_date": 1441046947, "post_id": 32317356, "comment_id": 52510809, "body": "I don&#39;t know what you did wrong if you don&#39;t show it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 23, "user_id": 2012496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91bbfa4499a0e383d9503cbc4e92471?s=128&d=identicon&r=PG", "display_name": "Sammy Esmail", "link": "https://stackoverflow.com/users/2012496/sammy-esmail"}, "edited": false, "score": 0, "creation_date": 1441060967, "post_id": 32317356, "comment_id": 52517123, "body": "@SammyEsmail: If you want to use ikegami&#39;s solution then it&#39;s wrong to call the code reference as <code>$code_ref-&gt;(&#39;Hello&#39;,$argument)</code>. It should be just <code>$code_ref-&gt;($argument)</code>. The subroutine that <code>$code_ref</code> refers to will add the package name as the first parameter"}, {"owner": {"reputation": 23, "user_id": 2012496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91bbfa4499a0e383d9503cbc4e92471?s=128&d=identicon&r=PG", "display_name": "Sammy Esmail", "link": "https://stackoverflow.com/users/2012496/sammy-esmail"}, "edited": false, "score": 0, "creation_date": 1441122850, "post_id": 32317356, "comment_id": 52546118, "body": "Hello Ikegami.   Your solution indeed works.  Here is what I did: I took the code reference as you stated:  $code_ref=sub {Hello-&gt;hello(@_) } and then called $code_ref-&gt;(&#39;This Works&#39;).  It does work. And thank-you so much!"}, {"owner": {"reputation": 23, "user_id": 2012496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91bbfa4499a0e383d9503cbc4e92471?s=128&d=identicon&r=PG", "display_name": "Sammy Esmail", "link": "https://stackoverflow.com/users/2012496/sammy-esmail"}, "edited": false, "score": 0, "creation_date": 1441126265, "post_id": 32317356, "comment_id": 52548157, "body": "Yes. I missed the concept of the prototype @_ as part of the code creation. I am happy dude!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1441126309, "post_id": 32317356, "comment_id": 52548182, "body": "That&#39;s not a prototype. <code>@_</code> is the array that contains the arguments. You know those <code>shift</code> in your code? They&#39;re short for <code>shift(@_)</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1441047224, "last_edit_date": 1441047224, "creation_date": 1441044760, "answer_id": 32317356, "question_id": 32317186, "link": "https://stackoverflow.com/questions/32317186/reference-to-a-method-in-a-package/32317356#32317356", "title": "Reference to a Method in a Package", "body": "<p>You want to make a subroutine call (<code>$code_ref-&gt;(...)</code>), but you want to call a method. That means you'll have to create a subroutine that calls the method, and get a reference to that subroutine instead. As the following shows, this is quite easy to do:</p>\n\n<pre><code>my $code_ref = sub { Hello-&gt;hello(@_) };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1441047954, "post_id": 32318188, "comment_id": 52511360, "body": "My answer assumes the OP needed a callback since they said they needed to call it as <code>$code_ref-&gt;(&#39;Hi There&#39;)</code>. If it&#39;s not a callback, then you can just use <code>$class_or_obj-&gt;$method_name(@args)</code> instead of a dispatch table."}, {"owner": {"reputation": 23, "user_id": 2012496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91bbfa4499a0e383d9503cbc4e92471?s=128&d=identicon&r=PG", "display_name": "Sammy Esmail", "link": "https://stackoverflow.com/users/2012496/sammy-esmail"}, "edited": false, "score": 0, "creation_date": 1441123083, "post_id": 32318188, "comment_id": 52546294, "body": "Yes. This was my intention. I learned dispatch tables from Higher Order Perl but in his examples all his subs were defined in the same file. Thanks!"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1441047839, "creation_date": 1441047839, "answer_id": 32318188, "question_id": 32317186, "link": "https://stackoverflow.com/questions/32317186/reference-to-a-method-in-a-package/32318188#32318188", "title": "Reference to a Method in a Package", "body": "<p>If you're using this for a dispatch table, let the table do the heavy lifting by passing in a key instead of creating a generic cref and telling it which class to call the sub from:</p>\n\n<pre><code>use warnings;\nuse strict;\n\npackage Hello;\nsub hello {\n    my $class = shift;\n    my $msg = shift;\n    print \"$msg\\n\";\n}\n\npackage Bye;\nsub bye {\n    my $class = shift;\n    my $msg = shift;\n    print \"$msg\\n\";\n}\n\npackage main;\n\nmy %dt = (\n    Hello =&gt; sub { Hello-&gt;hello(@_); },\n    Bye =&gt; sub { Bye-&gt;bye(@_); },\n);\n\n$dt{Hello}-&gt;(\"hi there\");\n$dt{Bye}-&gt;(\"see ya!\");\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 2012496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91bbfa4499a0e383d9503cbc4e92471?s=128&d=identicon&r=PG", "display_name": "Sammy Esmail", "link": "https://stackoverflow.com/users/2012496/sammy-esmail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 32317356, "answer_count": 2, "score": 0, "last_activity_date": 1441121959, "creation_date": 1441044143, "question_id": 32317186, "link": "https://stackoverflow.com/questions/32317186/reference-to-a-method-in-a-package", "title": "Reference to a Method in a Package", "body": "<p>I am trying to find a general solution to getting a reference to a method in a module. Assume that we have a Hello.pm module with a single method in it called \"hello\".</p>\n\n<p>In a calling program, one would write</p>\n\n<pre><code>use Hello;\nHello-&gt;hello('Hi There');\n</code></pre>\n\n<p>The module is defined as:</p>\n\n<pre><code>package Hello;\nsub hello {\n my $object=shift;\n my $greeting=shift;\n say \"$greeting\";\n return;\n}\n1;\n</code></pre>\n\n<p>How do I get a code reference to my module test of hello?\nEventually I want to build a dispatch table and be able to load it with any number of methods located in other modules.</p>\n\n<p>This does not work:</p>\n\n<pre><code>my $code_ref=&amp;{Hello-&gt;hello}\n</code></pre>\n\n<p>and invoke it like this:</p>\n\n<pre><code>$code_ref-&gt;('Hi There');\n</code></pre>\n\n<p>Any ideas?\nThanks!</p>\n"}, {"tags": ["xml", "perl", "perl-module", "xml-twig"], "answers": [{"comments": [{"owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 0, "creation_date": 1441140470, "post_id": 32318263, "comment_id": 52555807, "body": "Totally working. I added the print to file to save it to a file. The methodology is very nice."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 0, "creation_date": 1441145243, "post_id": 32318263, "comment_id": 52557849, "body": "@dellair: I&#39;m happy to help. I was inspired by <a href=\"http://stackoverflow.com/a/509340/622310\">this solution</a> to a similar problem using C#, but <code>XML::Twig</code> makes it difficult because it won&#39;t give you access to the root node (the root <i>element</i> is different -- it&#39;s the only child of the root <i>node</i>, which has no name) so I had to treat the first step after after an initial <code>&#47;</code> as a special case."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1441060636, "last_edit_date": 1441060636, "creation_date": 1441048138, "answer_id": 32318263, "question_id": 32316705, "link": "https://stackoverflow.com/questions/32316705/xmltwig-change-tag-or-create-element-based-on-node-existence/32318263#32318263", "title": "XML::Twig change tag or create element based on node existence", "body": "<p>It's a fairly simple task using a recursive subroutine</p>\n\n<p>In the program below, each call to <code>add_xpath</code> advances the value of <code>$node</code> and removes one step from the XPath expression in the <code>$path</code> parameter</p>\n\n<ul>\n<li><p>If the path begins with a slash and a tag name then the tag name is checked to make sure it matches the name of the root element. Then the current node is set to the root element and the subroutine recurses</p></li>\n<li><p>If the path starts immediately with a tag name, then <code>has_child</code> is called to see if a child of that name already exists. If not then <code>insert_new_elt</code> adds one for us. The current node is set to the new or pre-existing child node and the subroutine recurses</p></li>\n<li><p>Otherwise the path should be empty, and it is checked to make sure. Then <code>set_text</code> is called to set the text contents of the currenty node and the recursion terminates</p></li>\n</ul>\n\n<p>The output show the resulting XML structure after each of the three operations that you show in your question</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse XML::Twig;\nuse Carp;\n\nmy $twig = XML::Twig-&gt;new;\n$twig-&gt;parsefile('test.xml');\n$twig-&gt;set_pretty_print('indented');\nprint $twig-&gt;sprint, \"\\n\";\n\nadd_xpath($twig-&gt;root, '/root/tag3/tag4', 'CCC');\nprint $twig-&gt;sprint, \"\\n\";\n\nadd_xpath($twig-&gt;root, '/root/tag2/tag5', 'EEE');\nprint $twig-&gt;sprint, \"\\n\";\n\nadd_xpath($twig-&gt;root, '/root/tag6', 'GGG');\nprint $twig-&gt;sprint, \"\\n\";\n\nsub add_xpath {\n    my ($node, $path, $value) = @_;\n\n    if ( $path =~ s|^/(\\w+)/?|| ) {\n        my $tag = $1;\n        $node = $node-&gt;root;\n        carp \"Root element has wrong tag name\" unless $node-&gt;tag eq $tag;\n    }\n    elsif ( $path =~ s|^(\\w+)/?|| ) {\n        my $tag = $1;\n        if ( my $child = $node-&gt;has_child($tag) ) {\n            $node = $child;\n        }\n        else {\n            $node = $node-&gt;insert_new_elt('last_child', $tag);\n        }\n    }\n    else {\n        carp qq{Invalid path at \"$path\"} if $path =~ /\\S/;\n        $node-&gt;set_text($value);\n        return 1;\n    }\n\n    add_xpath($node, $path, $value);\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>&lt;root&gt;\n  &lt;tag1&gt;AAA&lt;/tag1&gt;\n  &lt;tag2&gt;BBB&lt;/tag2&gt;\n  &lt;tag3&gt;\n    &lt;tag4&gt;DDD&lt;/tag4&gt;\n  &lt;/tag3&gt;\n&lt;/root&gt;\n\n&lt;root&gt;\n  &lt;tag1&gt;AAA&lt;/tag1&gt;\n  &lt;tag2&gt;BBB&lt;/tag2&gt;\n  &lt;tag3&gt;\n    &lt;tag4&gt;CCC&lt;/tag4&gt;\n  &lt;/tag3&gt;\n&lt;/root&gt;\n\n&lt;root&gt;\n  &lt;tag1&gt;AAA&lt;/tag1&gt;\n  &lt;tag2&gt;BBB&lt;tag5&gt;EEE&lt;/tag5&gt;&lt;/tag2&gt;\n  &lt;tag3&gt;\n    &lt;tag4&gt;CCC&lt;/tag4&gt;\n  &lt;/tag3&gt;\n&lt;/root&gt;\n\n&lt;root&gt;\n  &lt;tag1&gt;AAA&lt;/tag1&gt;\n  &lt;tag2&gt;BBB&lt;tag5&gt;EEE&lt;/tag5&gt;&lt;/tag2&gt;\n  &lt;tag3&gt;\n    &lt;tag4&gt;CCC&lt;/tag4&gt;\n  &lt;/tag3&gt;\n  &lt;tag6&gt;GGG&lt;/tag6&gt;\n&lt;/root&gt;\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "accepted_answer_id": 32318263, "answer_count": 1, "score": 1, "last_activity_date": 1441060636, "creation_date": 1441042155, "last_edit_date": 1441042819, "question_id": 32316705, "link": "https://stackoverflow.com/questions/32316705/xmltwig-change-tag-or-create-element-based-on-node-existence", "title": "XML::Twig change tag or create element based on node existence", "body": "<p>I have a XML (example) file: test.xml</p>\n\n<pre><code>&lt;root&gt;\n   &lt;tag1&gt;AAA&lt;/tag1&gt;\n   &lt;tag2&gt;BBB&lt;/tag2&gt;\n   &lt;tag3&gt;\n      &lt;tag4&gt;DDD&lt;/tag4&gt;\n   &lt;/tag3&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>The result I want to achieve is, set two variables (from input): i.e.:</p>\n\n<pre><code>my $xpath = '/root/tag3/tag4';   # or '/root/tag2/tag5' or '/root/tag6'\nmy $xvalue = 'CCC';              # or 'EEE'\n</code></pre>\n\n<p>The script would check the $xpath variable, if it exists in the XML file, then it changes the text of it. If it doesn't exist in the XML file, then it creates the element with $xpath and $xvalue.</p>\n\n<p>I use below script to set the text for $xpath, but how to modify it so that it would do proper things based on the $xpath existence? Thanks a lot,</p>\n\n<pre><code>open( my $output, '&gt;', \"$ofile\") or die \"cannot create $ofile: $!\";\nXML::Twig-&gt;new( twig_roots =&gt; { \"$xpath\" =&gt;\n                               sub { my $text= $_-&gt;text();\n                                     $_-&gt;set_text($xvalue);\n                                     $_-&gt;flush;\n                                   },\n                             },\n            twig_print_outside_roots =&gt; $output,\n            pretty_print =&gt; 'indented',\n          )\n          -&gt;parsefile( \"test.xml\" );\n</code></pre>\n"}, {"tags": ["perl", "upload", "lwp"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1441039988, "post_id": 32314359, "comment_id": 52507318, "body": "I am not sure I understand this. You have a server with an upload form, and the uploaded file should then be uploaded by LWP to somewhere else?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441042946, "post_id": 32314359, "comment_id": 52508839, "body": "I&#39;m with bytepusher, I don&#39;t quite get what you&#39;re trying to do here. LWP is not a replacement for CGI.pm. LWP is for writing web <i>clients</i>; CGI is for handling requests on web <i>servers</i>. Please clarify which of these you&#39;re trying to do."}, {"owner": {"reputation": 123, "user_id": 3012857, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WYKir.jpg?s=128&g=1", "display_name": "user3012857", "link": "https://stackoverflow.com/users/3012857/user3012857"}, "edited": false, "score": 0, "creation_date": 1441047517, "post_id": 32314359, "comment_id": 52511116, "body": "Hi guys, to answer a few queries.  Yes a server with an upload form and then I have to send an http request to a third-party API with the file selected which then responds with a JSON formatted reply.  It&#39;s quite common practice with plain data but I&#39;m surprised there is no easy way to do this with a file.  It seems it used to work but browser security means now that there is no path sent along with the form submission."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441048323, "post_id": 32314359, "comment_id": 52511546, "body": "Are you saying the file is already on the web server?"}, {"owner": {"reputation": 123, "user_id": 3012857, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WYKir.jpg?s=128&g=1", "display_name": "user3012857", "link": "https://stackoverflow.com/users/3012857/user3012857"}, "edited": false, "score": 0, "creation_date": 1441048877, "post_id": 32314359, "comment_id": 52511821, "body": "Hi,The file is selected via a web form on my server. The file will be on whichever computer the user is using when viewing that form.  If this were straight cgi.pm then the resulting upload would be fine, but the purpose is not to upload it to my server, but to grab the file contents and upload it via http request to the server-endpoint on a third party webserver. To have to first upload it to a temp file on my server before being able to send it via http request is just plain daft, will take twice as long and thus twice the risk of the transfer failing, so any suggestions welcomed!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1441050796, "post_id": 32314359, "comment_id": 52512795, "body": "There&#39;s no way to send a file from your server to another server without having the file."}, {"owner": {"reputation": 123, "user_id": 3012857, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WYKir.jpg?s=128&g=1", "display_name": "user3012857", "link": "https://stackoverflow.com/users/3012857/user3012857"}, "edited": false, "score": 0, "creation_date": 1441053207, "post_id": 32314359, "comment_id": 52513946, "body": "Hi, I&#39;m beginning to think the same however, the location of the form is actually immaterial, it could equally be on the same server as the JSON script, what the issue is is that this used to work but now does not.  See here <a href=\"http://lwp.interglacial.com/ch05_07.htm\" rel=\"nofollow noreferrer\">lwp.interglacial.com/ch05_07.htm</a>, the &quot;saywhat&quot; value is taken in from a webform, the file is then streamed directly using LWP. Shame it no longer works. Thank you kindly for your time and input :-)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441057017, "post_id": 32314359, "comment_id": 52515796, "body": "You&#39;re misunderstanding that page. It shows how to use LWP::UserAgent to upload a file from your local machine to a remote host, without having to manually fill in an HTML form in a browser. It does <i>not</i> show how to upload a file from one remote machine to another remote machine using code on your local machine."}, {"owner": {"reputation": 123, "user_id": 3012857, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WYKir.jpg?s=128&g=1", "display_name": "user3012857", "link": "https://stackoverflow.com/users/3012857/user3012857"}, "edited": false, "score": 0, "creation_date": 1441057703, "post_id": 32314359, "comment_id": 52516051, "body": "Hi, no I think you&#39;ve misunderstood what I&#39;m trying to do. &quot;how to use LWP::UserAgent to upload a file from your local machine to a remote host&quot;, is exactly what I need, and no it&#39;s not &quot;without having to manually fill in an HTML form in a browser&quot; you should read it again. The input is from a form, the explanation of how it works only makes it look like a manual entry. Sadly the example no longer works and as mentioned previously the reason is browser changes."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1441127358, "post_id": 32314359, "comment_id": 52548756, "body": "The example works (I just tested it), and has nothing to do with browser changes because there&#39;s no browser involved. There&#39;s a file upload form on a remote website; most users would navigate to <code>http:&#47;&#47;www.example.com&#47;upload</code> in their browser, pick the file they want to upload, and click submit. You, being a savvy Perl hacker, don&#39;t want to go to all that trouble, so you whip up some code that uses LWP::UserAgent to submit the form for you, without ever opening a browser. This is what the example is about, and if you read the previous chapter in the book you linked to, that will be clearer."}, {"owner": {"reputation": 123, "user_id": 3012857, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WYKir.jpg?s=128&g=1", "display_name": "user3012857", "link": "https://stackoverflow.com/users/3012857/user3012857"}, "edited": false, "score": 0, "creation_date": 1441133555, "post_id": 32314359, "comment_id": 52552116, "body": "Ok understood - thanks for the explanation and the time you have spent on this, much appreciated.  Have marked your comments as useful."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 3012857, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WYKir.jpg?s=128&g=1", "display_name": "user3012857", "link": "https://stackoverflow.com/users/3012857/user3012857"}, "edited": false, "score": 0, "creation_date": 1441047582, "post_id": 32316749, "comment_id": 52511156, "body": "Thank you for your reply but sadly this does not work - I see where your logic is though.  Changing the above param produces same response as before."}], "tags": [], "owner": {"reputation": 351, "user_id": 5285651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2818ae9456769f6b638ef0fa44d4f3f3?s=128&d=identicon&r=PG&f=1", "display_name": "M. hasbini", "link": "https://stackoverflow.com/users/5285651/m-hasbini"}, "is_accepted": false, "score": 2, "last_activity_date": 1441042327, "creation_date": 1441042327, "answer_id": 32316749, "question_id": 32314359, "link": "https://stackoverflow.com/questions/32314359/lwp-upload-direct-from-form-field/32316749#32316749", "title": "LWP upload direct from form field", "body": "<p>The problem is that </p>\n\n<pre><code>$filename \n</code></pre>\n\n<p>contain only the file name, not the absolute path for the submitted file. Try this: </p>\n\n<pre><code>my $file_absolute_path = $query-&gt;param(\"file\");\n</code></pre>\n\n<p>and send the request as:</p>\n\n<pre><code>my $req = $browser=&gt; POST('https://myserver.com/abc/',\nContent_Type =&gt; 'form-data',\nContent =&gt; [ id =&gt; \"123\",\nvar =&gt; \"var1\",\nfile =&gt; [$file_absolute_path],\n]);\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 3012857, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WYKir.jpg?s=128&g=1", "display_name": "user3012857", "link": "https://stackoverflow.com/users/3012857/user3012857"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1441042327, "creation_date": 1441033569, "question_id": 32314359, "link": "https://stackoverflow.com/questions/32314359/lwp-upload-direct-from-form-field", "title": "LWP upload direct from form field", "body": "<p>I am trying to get LWP to upload a file selected in a file-field of a form.</p>\n\n<pre><code>&lt;input type =\"file\"  name=\"file\"&gt;\n</code></pre>\n\n<p>I select a file called testfile.xml for example, submit the form to script which parses the form data using</p>\n\n<pre><code>my $filename = $query-&gt;upload(\"file\");\n</code></pre>\n\n<p>and correctly gives the result \"testfile.xml\"</p>\n\n<p>This value uploads just fine using cgi.pm however I cannot use that for this project, and using LWP I am unable to get the module to accept the file. </p>\n\n<p>Many examples that promise to do this on the web do not work, or no longer work. For example -</p>\n\n<pre><code>my $req = $browser=&gt; POST('https://myserver.com/abc/',\nContent_Type =&gt; 'form-data',\nContent =&gt; [ id =&gt; \"123\",\nvar =&gt; \"var1\",\nfile =&gt; [$filename],\n]);\n</code></pre>\n\n<p>The above snippet produces </p>\n\n<pre><code>\"Can't open file testfile.xml: No such file or directory\", i.e. the path is not being read. \n</code></pre>\n\n<p>If a path is supplied  as below </p>\n\n<pre><code>my $req = $browser=&gt; POST('https://myserver.com/abc/',\nContent_Type =&gt; 'form-data',\nContent =&gt; [ id =&gt; \"$id\",\nregexp =&gt; \"$regex\",\nfile =&gt; [/home/html/files/$filename],\n]);\n</code></pre>\n\n<p>then LWP uploads and all is fine so I know all else is working, but the users of this form will be selecting files from anywhere on the hard drives so the path cannot be a fixed value.</p>\n\n<p>So the question is does anyone know how to select a local file using a file field in an html form, submit the form and pass it correctly to LWP to upload, without uploading to a temp folder first? </p>\n\n<p>Have spent a good few hours on this and am close to finding a tall building so any help on taming LWP would be much appreciated!!</p>\n\n<p>Many thanks :-)</p>\n"}, {"tags": ["perl", "class", "oop"], "answers": [{"comments": [{"owner": {"reputation": 746, "user_id": 2205667, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f011882ba4a1ef68859571fbbfc47b6?s=128&d=identicon&r=PG&f=1", "display_name": "H. Shindoh", "link": "https://stackoverflow.com/users/2205667/h-shindoh"}, "edited": false, "score": 0, "creation_date": 1441032886, "post_id": 32313925, "comment_id": 52503333, "body": "Thank you for your answer. I thought that *.pm was only for classes."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 746, "user_id": 2205667, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f011882ba4a1ef68859571fbbfc47b6?s=128&d=identicon&r=PG&f=1", "display_name": "H. Shindoh", "link": "https://stackoverflow.com/users/2205667/h-shindoh"}, "edited": false, "score": 1, "creation_date": 1441033246, "post_id": 32313925, "comment_id": 52503572, "body": "It&#39;s for modules, whether they classes or not. I discussed the Perl-related file types <a href=\"http://stackoverflow.com/questions/6376006/what-is-the-difference-between-library-files-and-modules/6379109#6379109\">here</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 746, "user_id": 2205667, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f011882ba4a1ef68859571fbbfc47b6?s=128&d=identicon&r=PG&f=1", "display_name": "H. Shindoh", "link": "https://stackoverflow.com/users/2205667/h-shindoh"}, "edited": false, "score": 0, "creation_date": 1441036249, "post_id": 32313925, "comment_id": 52505324, "body": "Oops, the <code>package</code> directive was missing. Added."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1441036256, "last_edit_date": 1441036256, "creation_date": 1441032159, "answer_id": 32313925, "question_id": 32313753, "link": "https://stackoverflow.com/questions/32313753/the-wrong-package-specification-is-required-to-call-a-subroutine/32313925#32313925", "title": "The &quot;wrong&quot; package specification is required to call a subroutine", "body": "<p><code>require</code> only executes a given file once, so you would need <code>do</code>, but that would created two copies of the subroutine. Use a proper module instead, and use Exporter to export the symbol.</p>\n\n<p><code>Subroutines.pm</code>:</p>\n\n<pre><code>package Subroutines;\n\nuse strict;\nuse warnings;\n\nuse Exporter qw( import );\nour @EXPORT = qw( my_function );\n\nsub my_function {\n  print \"[$_[0]] My function is working!\\n\";\n}\n\n1;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>use Subroutines;\n</code></pre>\n"}], "owner": {"reputation": 746, "user_id": 2205667, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f011882ba4a1ef68859571fbbfc47b6?s=128&d=identicon&r=PG&f=1", "display_name": "H. Shindoh", "link": "https://stackoverflow.com/users/2205667/h-shindoh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 32313925, "answer_count": 1, "score": 1, "last_activity_date": 1441036256, "creation_date": 1441031602, "question_id": 32313753, "link": "https://stackoverflow.com/questions/32313753/the-wrong-package-specification-is-required-to-call-a-subroutine", "title": "The &quot;wrong&quot; package specification is required to call a subroutine", "body": "<p>I would like to ask you for advice on writing a Perl module. We have three files.</p>\n\n<p>(1) main.pl : uses <code>my_function()</code></p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\nuse MyClass;\nrequire \"./subroutines.pl\";\n\nmy $instance = MyClass-&gt;new({});\n$instance-&gt;my_method(\"a\");\n\nMyClass::my_function(\"b\"); # This works.\nmy_function(\"c\"); # Undefined subroutine &amp;main::my_function called\n\nexit;\n</code></pre>\n\n<p>(2) MyClass.pm : defines MyClass class. <code>my_method()</code> uses <code>my_function()</code> which is defined in \"subroutines.pl\".</p>\n\n<pre><code>package MyClass;\nuse strict;\nuse warnings;\nrequire \"./subroutines.pl\";\n\nsub new {\n  my $class = shift;\n  my $self = shift;\n  return bless $self, $class;\n}\n\nsub my_method{\n  my $self = shift;\n  my $text = shift;\n  my_function($text);\n}\n\n1;\n</code></pre>\n\n<p>(3) subroutines.pl : defines <code>my_function()</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub my_function {\n  print \"[$_[0]] My function is working!\\n\";\n}\n\n1;\n</code></pre>\n\n<p>The problem is that <code>my_function()</code> is not working in main.pl, even though the source code has <code>require \"./subroutines.pl\"</code>, while <code>MyClass::my_function()</code> works.</p>\n\n<pre><code>[a] My function is working!\n[b] My function is working!\nUndefined subroutine &amp;main::my_function called at main.pl line 11.\n</code></pre>\n\n<p>Because <code>my_function()</code> is useful for me, I want to use it in both main.pl and MyClass.pm, but the subroutine is so general that it is quite strange to define it as a method in MyClass.pm. But it is also strange (to me) that we have to write <code>MyClass::</code> before <code>my_function()</code>, because the subroutine does not depend on <code>MyClass</code>.</p>\n\n<p>My question is: <strong>is it possible to modify the above codes so that <code>my_function()</code> works in main.pl without adding <code>MyClass::</code> before the function call?</strong></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 2, "creation_date": 1441016618, "post_id": 32309035, "comment_id": 52493144, "body": "<code>keys %HOA</code> should give you all the keys. Did you mean to say that you want all array elements from the values of the hash?"}, {"owner": {"reputation": 545, "user_id": 1202644, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/205f781d627852ba7c023e0ee1ca7a18?s=128&d=identicon&r=PG", "display_name": "Maverick", "link": "https://stackoverflow.com/users/1202644/maverick"}, "reply_to_user": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1441017100, "post_id": 32309035, "comment_id": 52493394, "body": "Thanks :) this what i was looking for :)"}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441086028, "post_id": 32311694, "comment_id": 52523089, "body": "Why bother with the keys at all? <code>@array = map { @$_ } values(%HOA)</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441086432, "post_id": 32311694, "comment_id": 52523251, "body": "Or even <code>say for map { @$_ } values(%HOA)</code>, although I don&#39;t claim that the second one is very readable."}], "tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": true, "score": 1, "last_activity_date": 1441025361, "creation_date": 1441025361, "answer_id": 32311694, "question_id": 32309035, "link": "https://stackoverflow.com/questions/32309035/get-the-keys-in-hash-of-array-perl/32311694#32311694", "title": "Get the Keys in Hash of Array - Perl", "body": "<p>This will give you all the array elements from the hash in one array.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %HOA = (\n    \"age\" =&gt; [20 ,25],\n    \"Name\" =&gt; [\"Raj\" ,\"Kiran\"]\n    );\n\nmy @array=map @{$HOA{$_}},keys %HOA;\n\nforeach my $val (@array)\n    {\n    print \"$val\\n\";\n    }\n</code></pre>\n"}], "owner": {"reputation": 545, "user_id": 1202644, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/205f781d627852ba7c023e0ee1ca7a18?s=128&d=identicon&r=PG", "display_name": "Maverick", "link": "https://stackoverflow.com/users/1202644/maverick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 32311694, "answer_count": 1, "score": -3, "last_activity_date": 1441025361, "creation_date": 1441016463, "question_id": 32309035, "link": "https://stackoverflow.com/questions/32309035/get-the-keys-in-hash-of-array-perl", "title": "Get the Keys in Hash of Array - Perl", "body": "<p>I am trying to write a script where i need to work on Keys of HASH and i am struggling to extract all the keys of HASH. Here is my Code: </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %HOA = (\n                \"age\" =&gt; [20 ,25],\n                \"Name\" =&gt; [\"Raj\" ,\"Kiran\"]\n            );\n\nforeach my $key ( keys%HOA){\nprint \"Key -&gt; $HOA{$key}\\n\";\nmy @array = @{$HOA{$key}};\n    foreach my $val (@array){\n        print \"val -&gt; $val\\n\";\n}\n}\n</code></pre>\n\n<p>I need to store all the keys in an array. Can some on help me out? </p>\n"}, {"tags": ["perl", "azure"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441032712, "post_id": 32308424, "comment_id": 52503225, "body": "That is not a fastcgi script. Where and how have you added what handler exactly?"}, {"owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441032993, "post_id": 32308424, "comment_id": 52503405, "body": "I clicked on settings for the Web app and added one in the handlers section. Like I say the test.pl runs from the console."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441033392, "post_id": 32308424, "comment_id": 52503664, "body": "you still have to use a fastcgi script to have it handled by FastCGI, l would suggest taking a simple example script and trying that. Have a look at <a href=\"http://search.cpan.org/~skimo/FCGI-0.67/FCGI.PL\" rel=\"nofollow noreferrer\">search.cpan.org/~skimo/FCGI-0.67/FCGI.PL</a>"}, {"owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441048528, "post_id": 32308424, "comment_id": 52511649, "body": "What I am trying do do is run my Perl scripts. My test.pl script is being handled by perl.exe, I tried that script you mentioned and gave it a .pl extension and got the same error, On my local PC have got my test.pl file to run in IIS by adding a Script Map hanlder in IIS that opens .pl files. The handlers for web apps do not seem to be quite equivalent though,"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441049758, "post_id": 32308424, "comment_id": 52512271, "body": "Aside from the fact that it might expect a .fcgi ending, not .pl for fastcgi, I am afraid I cannot really help you there, no experiences with Azure and few with windows+perl, sorry. I only noticed the FastCGI in your text and thought it might help. fastcgi may not make much sense anyway depending on what you want to do ( probably not printing Hello World )."}, {"owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441050400, "post_id": 32308424, "comment_id": 52512602, "body": "I managed to figure it out see my own answer which I will post if you are interested"}], "answers": [{"comments": [{"owner": {"reputation": 7696, "user_id": 16911, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/72f8e04bbd904ab1e869b3422802dbf3?s=128&d=identicon&r=PG", "display_name": "AaronSieb", "link": "https://stackoverflow.com/users/16911/aaronsieb"}, "edited": false, "score": 2, "creation_date": 1455725996, "post_id": 32318880, "comment_id": 58620368, "body": "For future readers: Note that your .pl script must include a content type declaration (e.g. <code>print &quot;Content-type: text&#47;plain\\n\\n&quot;;</code>). Otherwise an error is thrown, which shows up in the logs as &quot;The data is invalid&quot;)."}], "tags": [], "owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "is_accepted": true, "score": 3, "last_activity_date": 1450027440, "last_edit_date": 1450027440, "creation_date": 1441050649, "answer_id": 32318880, "question_id": 32308424, "link": "https://stackoverflow.com/questions/32308424/running-perl-from-an-azure-web-app/32318880#32318880", "title": "Running Perl from an Azure Web App", "body": "<p>I managed to figure it out and it is quite obscure so I hope it helps if you have a similar problem.</p>\n\n<p>Strawberry Perl (which goes in the bin folder so it can't be run from the outside) comes with a cpan.bat file and you need to install the Fast Cgi module from a Console in Azure using this batch file.</p>\n\n<pre><code>bin\\perl\\bin\\cpan.bat -i /FCGI::IIS/\n</code></pre>\n\n<p>The second thing is to add an argument for the .pl handler in your web app.</p>\n\n<pre><code>-MFCGI::IIS=do\n</code></pre>\n\n<p>That's all you need to do. Just restart the server and Perl works from my test.pl page!</p>\n"}], "owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1961, "favorite_count": 1, "accepted_answer_id": 32318880, "answer_count": 1, "score": 3, "last_activity_date": 1450027440, "creation_date": 1441014564, "last_edit_date": 1441015097, "question_id": 32308424, "link": "https://stackoverflow.com/questions/32308424/running-perl-from-an-azure-web-app", "title": "Running Perl from an Azure Web App", "body": "<p>I am trying to run Perl from an Azure Web App using Fast CGI. I have set up PHP and it works ok, but can't get Perl working. To run Perl I have installed Strawberry Perl (I have tried both 32-bit and 64-bit, portable versions)</p>\n\n<p>I have added a handler for *.pl as follows</p>\n\n<pre><code>d:\\home\\site\\wwwroot\\bin\\perl\\bin\\perl.exe\n</code></pre>\n\n<p>I have a simple Perl program test.pl as follows</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint \"Hello, World!\\n\";\n</code></pre>\n\n<p>It runs from the Console if I type the following command (from the D:\\home\\site\\wwwroot folder) so Perl is working ok.</p>\n\n<pre><code>&gt; bin\\perl\\bin\\perl.exe test.pl\n</code></pre>\n\n<p>If I view it using http</p>\n\n<pre><code> http://mywebapppath/test.pl\n</code></pre>\n\n<p>I get a 500 error</p>\n\n<p>If I look at the logs at get the following:</p>\n\n<pre><code>HTTP Error 500.0 - Internal Server Error\n\nd:\\home\\site\\wwwroot\\bin\\perl\\bin\\perl.exe - The FastCGI process exited unexpectedly\n</code></pre>\n\n<p>I have run out of ideas what to try next. Any suggestions?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441017270, "post_id": 32308355, "comment_id": 52493467, "body": "I take it the <code>&#47;bar&#47;</code> in your example is a typo, given your ample data is <code>BAR</code> and your regex isn&#39;t case sensitive?"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1441017144, "creation_date": 1441017144, "answer_id": 32309234, "question_id": 32308355, "link": "https://stackoverflow.com/questions/32308355/perl-how-to-extract-lines-from-a-file-based-on-their-position/32309234#32309234", "title": "perl - How to extract lines from a file based on their position", "body": "<p>There's several ways to do this in perl, depending on precisely what you want to accomplish. If I'm reading you right, you're looking at finding both the <code>FOO</code> and <code>BAR</code> timestamps, and presumably trying to extract a delta?</p>\n\n<p>Key questions would be - are both <code>FOO</code> and <code>BAR</code> exactly matched? </p>\n\n<p>I mean, you could do it via multi-line regex:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nlocal $/;\n\nmy ( $bar, $foo )  =  &lt;DATA&gt; =~ m/^(\\d\\S+) \\| BAR.*?(\\d\\S+) \\| FOO$/ms;\nprint \"BAR: $bar\\nFOO: $foo\\n\";\n\n__DATA__\nTIME | MESSAGE\n20:48:27.159 | FOO\n20:48:47.353 | BAR\n20:48:49.227 | SPAM\n20:48:52.192 | FOO\n</code></pre>\n\n<p>This will match the <em>first</em> instance of paired 'BAR' and 'FOO'. (You can capture multiple times if you use the <code>g</code> flag on you regex). </p>\n\n<p>Alternatively - you can set the record separator to <code>FOO</code>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nlocal $/ = \"FOO\\n\"; \n\nwhile ( &lt;DATA&gt; ) {\n\n   my ( $foo ) = m/(\\S+) \\| FOO/;\n   my ( $bar ) = m/(\\S+) \\| BAR/;\n   print \"$foo $bar\\n\";\n\n}\n\n__DATA__\nTIME | MESSAGE\n20:48:27.159 | FOO\n20:48:47.353 | BAR\n20:48:49.227 | SPAM\n20:48:52.192 | FOO\n</code></pre>\n\n<p>Or what you're doing - iterating line by line:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $last_bar;\nwhile (&lt;DATA&gt;) {\n\n    if (m/^(\\d\\S+) \\| BAR/) {\n        $last_bar = $1;\n    }\n    if ( my ($foo) = m/^(\\d\\S+) \\| FOO/ ) {\n        if ($last_bar) {\n            print \"$foo $last_bar\\n\";\n        }\n        else {\n            print \"Unmatched:\\n\";\n            print;\n        }\n        $last_bar = undef;\n    }\n}\n\n__DATA__\nTIME | MESSAGE\n20:48:27.159 | FOO\n20:48:47.353 | BAR\n20:48:49.227 | SPAM\n20:48:52.192 | FOO\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 889, "user_id": 1149781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/33c9ae143a8de23e06b97d6e70b5bbe9?s=128&d=identicon&r=PG", "display_name": "Shaw", "link": "https://stackoverflow.com/users/1149781/shaw"}, "edited": false, "score": 0, "creation_date": 1441020230, "post_id": 32309500, "comment_id": 52495123, "body": "Thanks, didn&#39;t think of the defined keyword! Going to give this a go and see if this does the job."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 2, "last_activity_date": 1441105825, "last_edit_date": 1441105825, "creation_date": 1441018102, "answer_id": 32309500, "question_id": 32308355, "link": "https://stackoverflow.com/questions/32308355/perl-how-to-extract-lines-from-a-file-based-on-their-position/32309500#32309500", "title": "perl - How to extract lines from a file based on their position", "body": "<pre><code>open (my $FH, \"&lt;\", $file) or die \"Cannot open &lt;$file&gt;: $!\";\n# define $ts1 and $ts2 OUTSIDE \"for\" loop\nmy( $ts1, $ts2);\nfor my $line (&lt;$FH&gt;) {\n    if ($line =~ /bar/) {\n        $ts1 = ExtractTimestamp($line);\n    } \n    # ignore FOO before first BAR sets $ts1\n    elsif ( defined($ts1) and $line =~ /FOO/) { \n        $ts2 = ExtractTimestamp($line);\n        # stop searching after first FOO and \"BAR after FOO\" pair\n        last;\n    }\n}\n# if both FOO and \"BAR after FOO\" has set their variables\nif( defined($ts1) and defined($ts2)) {\n   my $diff = $ts2 - $ts1;\n   ...\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 1824796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da06fdf47e2483bb09b3321bfca69887?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/1824796/pavel"}, "edited": false, "score": 0, "creation_date": 1441105120, "post_id": 32311002, "comment_id": 52533882, "body": "In scalar context, shouldn&#39;t it be called rather the flip-flop operator?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 73, "user_id": 1824796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da06fdf47e2483bb09b3321bfca69887?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/1824796/pavel"}, "edited": false, "score": 0, "creation_date": 1441110008, "post_id": 32311002, "comment_id": 52536970, "body": "@paveljurca: No, because <i>flip-flop</i> is two syllables when <i>range</i> is only one. (The same reason makes <i>hash</i> highly preferable to the ridiculous seven-syllable <i>associative array</i>.) And because it returns <i>true</i> for a <i>range</i> of values."}, {"owner": {"reputation": 73, "user_id": 1824796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da06fdf47e2483bb09b3321bfca69887?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/1824796/pavel"}, "edited": false, "score": 0, "creation_date": 1441111909, "post_id": 32311002, "comment_id": 52538389, "body": "OK, it&#39;s reasonable. I&#39;ll stick with <i>range</i> then :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1441110276, "last_edit_date": 1441110276, "creation_date": 1441023241, "answer_id": 32311002, "question_id": 32308355, "link": "https://stackoverflow.com/questions/32308355/perl-how-to-extract-lines-from-a-file-based-on-their-position/32311002#32311002", "title": "perl - How to extract lines from a file based on their position", "body": "<p>This solution uses the <em>range operator</em> to find the first <code>BAR</code> line followed by the first <code>FOO</code> line after it. The time in the record is pushed onto array <code>@ts</code> if it is either the first or the last line in the range</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @ts;\nwhile ( &lt;DATA&gt; ) {\n    next unless my $state = /BAR/ .. /FOO/;\n    push @ts, /([\\d:.]+)/ if $state == 1 or $state =~ /E/;\n}\n\nprint join(' ... ', @ts), \"\\n\";\n\n__DATA__\nTIME | MESSAGE\n20:48:27.159 | FOO\n20:48:47.353 | BAR\n20:48:49.227 | SPAM\n20:48:52.192 | FOO\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>20:48:47.353 ... 20:48:52.192\n</code></pre>\n"}], "owner": {"reputation": 889, "user_id": 1149781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/33c9ae143a8de23e06b97d6e70b5bbe9?s=128&d=identicon&r=PG", "display_name": "Shaw", "link": "https://stackoverflow.com/users/1149781/shaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 32311002, "answer_count": 3, "score": 0, "last_activity_date": 1441110276, "creation_date": 1441014368, "question_id": 32308355, "link": "https://stackoverflow.com/questions/32308355/perl-how-to-extract-lines-from-a-file-based-on-their-position", "title": "perl - How to extract lines from a file based on their position", "body": "<p>I am processing a text file to extract lines that contain a timestamp and then performing a calculation on those timestamps. The line contains a timestamp followed by a message which I'm performing a regular expression on to extract. </p>\n\n<pre><code>TIME | MESSAGE\n20:48:27.159 | FOO\n20:48:47.353 | BAR\n20:48:49.227 | SPAM\n20:48:52.192 | FOO\n</code></pre>\n\n<p>Below is sudo code of the regular expression I'm carrying out on the file </p>\n\n<pre><code>... .... ... \n\n\nopen (my $FH, \"&lt;\", $file) or die \"Cannot open &lt;$file&gt;: $!\";\nfor my $line (&lt;$FH&gt;) {\n    if ($line =~ /bar/) {\n        my $ts1 = ExtractTimestamp($line);\n    } elsif ($line =~ /FOO/) {\n        my $ts2 = ExtractTimestamp($line);\n    }\n}\nmy $diff = $ts2 - $ts1;\n</code></pre>\n\n<p>The problem here is that the regular expression finds the first occurrence of the line and extracts that, which leaves me with negative timestamps. I'm wondering are there any modules in perl or any technique where I can extract occrurences of lets say FOO that occur in the file after BAR?</p>\n\n<p>Would appreciate any help here!            </p>\n"}, {"tags": ["windows", "excel", "perl", "shared-libraries"], "comments": [{"owner": {"reputation": 3600, "user_id": 5247911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IpGVs.png?s=128&g=1", "display_name": "Dinesh Pundkar", "link": "https://stackoverflow.com/users/5247911/dinesh-pundkar"}, "edited": false, "score": 0, "creation_date": 1441017472, "post_id": 32308313, "comment_id": 52493588, "body": "Please share the code you have written."}, {"owner": {"reputation": 39, "user_id": 4965979, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07bee7682e0d115bc094d77817d798f2?s=128&d=identicon&r=PG&f=1", "display_name": "Manas", "link": "https://stackoverflow.com/users/4965979/manas"}, "reply_to_user": {"reputation": 3600, "user_id": 5247911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IpGVs.png?s=128&g=1", "display_name": "Dinesh Pundkar", "link": "https://stackoverflow.com/users/5247911/dinesh-pundkar"}, "edited": false, "score": 0, "creation_date": 1441018889, "post_id": 32308313, "comment_id": 52494328, "body": "Go to this link   <a href=\"http://www.online-tech-tips.com/computer-tips/print-list-of-files-in-directory/\" rel=\"nofollow noreferrer\">online-tech-tips.com/computer-tips/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4965979, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07bee7682e0d115bc094d77817d798f2?s=128&d=identicon&r=PG&f=1", "display_name": "Manas", "link": "https://stackoverflow.com/users/4965979/manas"}, "edited": false, "score": 0, "creation_date": 1441019298, "post_id": 32309327, "comment_id": 52494583, "body": "When I am doing that I am getting this error  &#39;\\\\em-web1-prod\\UserFeedFiles\\Extracts&#39; CMD.EXE was started with the above path as the current directory. UNC paths are not supported.  Defaulting to Windows directory. &#39;\\\\em-web1-prod\\UserFeedFiles\\Extracts\\AgedMarginCalls&#39; CMD does not support UNC paths as current directories."}, {"owner": {"reputation": 39, "user_id": 4965979, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07bee7682e0d115bc094d77817d798f2?s=128&d=identicon&r=PG&f=1", "display_name": "Manas", "link": "https://stackoverflow.com/users/4965979/manas"}, "edited": false, "score": 0, "creation_date": 1441019482, "post_id": 32309327, "comment_id": 52494691, "body": "My files are available in &quot;&#39; \\\\em-web1-prod\\UserFeedFiles\\Extracts &#39;&quot;&quot; path  How to traverse through command prompt ."}, {"owner": {"reputation": 53, "user_id": 4308766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd9536194cca7439214462fb9560a9b?s=128&d=identicon&r=PG&f=1", "display_name": "Fabien", "link": "https://stackoverflow.com/users/4308766/fabien"}, "reply_to_user": {"reputation": 39, "user_id": 4965979, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07bee7682e0d115bc094d77817d798f2?s=128&d=identicon&r=PG&f=1", "display_name": "Manas", "link": "https://stackoverflow.com/users/4965979/manas"}, "edited": false, "score": 0, "creation_date": 1441023500, "post_id": 32309327, "comment_id": 52497113, "body": "Do you have write access to this network drive? If so, create a file named list_xls.bat and copy the previous line in it  (make sure it ends in .bat). Then upload it to the network drive and run it by doubleclicking on it."}], "tags": [], "owner": {"reputation": 53, "user_id": 4308766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd9536194cca7439214462fb9560a9b?s=128&d=identicon&r=PG&f=1", "display_name": "Fabien", "link": "https://stackoverflow.com/users/4308766/fabien"}, "is_accepted": false, "score": 0, "last_activity_date": 1441017498, "creation_date": 1441017498, "answer_id": 32309327, "question_id": 32308313, "link": "https://stackoverflow.com/questions/32308313/how-to-print-a-list-of-files-full-name-which-is-present-in-a-shared-drive-locat/32309327#32309327", "title": "How to Print a List of Files full name which is present in a shared drive (Location)", "body": "<p>If running windows, you can run <code>dir /b *.xls &gt; list_xls.txt</code></p>\n\n<p>To run it, open the command prompt, go to the network drive (using the cd command) and type the line above.</p>\n\n<p>This will create a file containing the names of all the xls files.</p>\n"}, {"comments": [{"owner": {"reputation": 8149, "user_id": 616644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wVwGC.png?s=128&g=1", "display_name": "Rick Smith", "link": "https://stackoverflow.com/users/616644/rick-smith"}, "edited": false, "score": 0, "creation_date": 1441830624, "post_id": 32471526, "comment_id": 52837791, "body": "Please edit with more information. Code-only and &quot;try this&quot; answers are <a href=\"http://meta.stackexchange.com/questions/196187/is-try-this-bad-practice\">discouraged</a>, because they contain no searchable content, and don&#39;t explain why someone should &quot;try this&quot;."}], "tags": [], "owner": {"reputation": 265, "user_id": 1534035, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cbe937653af345a35eb303a976d1dee9?s=128&d=identicon&r=PG", "display_name": "Ashwith Ullal", "link": "https://stackoverflow.com/users/1534035/ashwith-ullal"}, "is_accepted": false, "score": 0, "last_activity_date": 1441776468, "creation_date": 1441776468, "answer_id": 32471526, "question_id": 32308313, "link": "https://stackoverflow.com/questions/32308313/how-to-print-a-list-of-files-full-name-which-is-present-in-a-shared-drive-locat/32471526#32471526", "title": "How to Print a List of Files full name which is present in a shared drive (Location)", "body": "<p>use this command in your batch file</p>\n\n<pre><code>dir *.xls /b /s &gt;&gt;D:\\test.xls\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4965979, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07bee7682e0d115bc094d77817d798f2?s=128&d=identicon&r=PG&f=1", "display_name": "Manas", "link": "https://stackoverflow.com/users/4965979/manas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1441776468, "creation_date": 1441014255, "question_id": 32308313, "link": "https://stackoverflow.com/questions/32308313/how-to-print-a-list-of-files-full-name-which-is-present-in-a-shared-drive-locat", "title": "How to Print a List of Files full name which is present in a shared drive (Location)", "body": "<p>I have 5000 excel files in a shared location (drive) and my problem is in my local  machine I have a excel sheet which contains data of 500 excel files details only I just want to know different files name which is present in shared drive ,so Could you please explain how I got list of all excel files which is present in my shared drive How to Print a List of Files folders and there full name in a notepad or excel sheet.</p>\n"}, {"tags": ["perl", "security", "ftp", "passwords"], "answers": [{"tags": [], "owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "is_accepted": false, "score": 0, "last_activity_date": 1441020308, "creation_date": 1441020308, "answer_id": 32310106, "question_id": 32307948, "link": "https://stackoverflow.com/questions/32307948/is-it-safe-to-write-a-ftp-password-on-a-perl-script/32310106#32310106", "title": "Is it safe to write a FTP password on a Perl script?", "body": "<p>There's no way to securely provide a password in a script, yet allow automatic execution.</p>\n\n<p>You have to store the password <em>somewhere</em>.</p>\n\n<p>It might be better to store it to an external file, so that you do not have to hide away your whole script. For example you might want to have your script reviewed and put to code repository, without the password.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441056022, "post_id": 32313873, "comment_id": 52515357, "body": "As explained, <code>chmod 711</code> script.pl doesn&#39;t work, but I think <code>chmod 4711 script.pl</code> is sufficient, right?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1441056008, "last_edit_date": 1441056008, "creation_date": 1441031993, "answer_id": 32313873, "question_id": 32307948, "link": "https://stackoverflow.com/questions/32307948/is-it-safe-to-write-a-ftp-password-on-a-perl-script/32313873#32313873", "title": "Is it safe to write a FTP password on a Perl script?", "body": "<p>If you don't want others on the machine to execute it, <code>chmod 700</code>. There's a number of reasons why it's a good idea for the password to be in a separate file. If you move the password to a config file, that file should be <code>chmod 600</code>.</p>\n\n<hr>\n\n<p>If you want others on the machine to execute it, <code>chmod 711</code> isn't going to work. <code>perl</code> must be able to read the script to execute it, so you'd need <code>chmod 755</code>, which means they'll be able to see the password.</p>\n\n<p>The only solution that comes to mind involves file permissions and a set-uid script.</p>\n\n<ol>\n<li>Move the password in a config file.</li>\n<li>Create a user to own this application. Let's call it <code>scriptuser</code>. (You could your existing user, but keep in mind the script will be executing as that user.)</li>\n<li><code>chown scriptuser script.pl script.conf</code>.</li>\n<li><code>chmod 600 script.conf</code></li>\n<li><code>chmod 4755 script.pl</code></li>\n</ol>\n\n<p>Use <code>script.pl</code> (not <code>perl script.pl</code>) to execute it.</p>\n"}], "owner": {"reputation": 85, "user_id": 4763263, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/VCePS.jpg?s=128&g=1", "display_name": "Pechou", "link": "https://stackoverflow.com/users/4763263/pechou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1441056008, "creation_date": 1441013200, "last_edit_date": 1441033300, "question_id": 32307948, "link": "https://stackoverflow.com/questions/32307948/is-it-safe-to-write-a-ftp-password-on-a-perl-script", "title": "Is it safe to write a FTP password on a Perl script?", "body": "<p>I am writing a Perl script that should connect to a FTP server at some point.</p>\n\n<p>I use <code>Net::FTP</code> module and the <code>login()</code> method to connect, but I am wondering if it is safe to write the password directly in the script. I will chmod the file access to 711, but I am not sure that's enough.</p>\n\n<p>Is there a way to pass the password to the method in a safer way?</p>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1441023733, "post_id": 32307846, "comment_id": 52497269, "body": "You should add a trigger that deletes the corresponding row in your secondary table when a row is removed from the primary table. Then you can add the unique constraint"}, {"owner": {"reputation": 5282, "user_id": 1003815, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a2de7b72452cde6ac37a07e506d68149?s=128&d=identicon&r=PG", "display_name": "RTF", "link": "https://stackoverflow.com/users/1003815/rtf"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441059780, "post_id": 32307846, "comment_id": 52516738, "body": "That seems like a good solution, but it actually won&#39;t be suitable for me. My requirements have changed slightly in that I need to hold onto the last duplicate added to the table instead of the first, and I think a unique constraint only keeps the first."}], "answers": [{"tags": [], "owner": {"reputation": 2869, "user_id": 349481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d76d496a66f5464d8bbc5479e061e5?s=128&d=identicon&r=PG", "display_name": "Aaron T Harris", "link": "https://stackoverflow.com/users/349481/aaron-t-harris"}, "is_accepted": false, "score": 1, "last_activity_date": 1442379066, "last_edit_date": 1442379066, "creation_date": 1442377825, "answer_id": 32599812, "question_id": 32307846, "link": "https://stackoverflow.com/questions/32307846/is-it-safe-to-update-a-mysql-table-while-iterating-a-resultset-with-perl-dbi/32599812#32599812", "title": "Is it safe to update a MySQL table while iterating a resultset with Perl DBI?", "body": "<p>You're worried about a concurrent modification error?</p>\n\n<p>If you're using transactions, it won't be a problem as long as you save the commit for AFTER you're done iterating.</p>\n\n<p>However if you're using autocommit it could be a problem and so the solution would be:</p>\n\n<p><strong>Pseudo Code ish -- not tested</strong></p>\n\n<pre><code>#Loop through each row and note the records to delete\nmy @deathrow = ();\nforeach my $row ( @resultset ) {\n    push $row-&gt;{id}, @deathrow;\n}\n\n#Now that we're done iterating, do all the deletes in one statement\n$dbh-&gt;execute(\"DELETE WHERE id IN ( \" . @deathrow . \" )\"); #something like that\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 5907894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fe1148fef64566af222981e78448e09?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Palao", "link": "https://stackoverflow.com/users/5907894/jose-palao"}, "is_accepted": false, "score": 0, "last_activity_date": 1455717933, "creation_date": 1455717933, "answer_id": 35458871, "question_id": 32307846, "link": "https://stackoverflow.com/questions/32307846/is-it-safe-to-update-a-mysql-table-while-iterating-a-resultset-with-perl-dbi/35458871#35458871", "title": "Is it safe to update a MySQL table while iterating a resultset with Perl DBI?", "body": "<p>One possible solution would be something along the following snippet:</p>\n\n<pre><code>my $dbh = DBI-&gt;connect(\"DBI:mysql:database=XXXX;host=localhost\", \"user\", \"pass\", {'RaiseError' =&gt; 1, 'AutoCommit' =&gt; 0});\n\nmy $query_all = $dbh-&gt;prepare(\"select Id, X, Y, Z from MyTable\");\n\neval {\n    my $delete = $dbh-&gt;prepare(\"delete from MyTable where Id = ?\");\n    $query_all-&gt;execute();\n    while ( my @res = $query_all-&gt;fetchrow_array() ){\n        my ($id, $x, $y, $z) = @res;\n        # fetch the IDs of any other rows that have the same X, Y, Z values\n        foreach my $dup_id (@the_duplicate_ids){\n            $delete-&gt;execute($dup_id); # safe ??\n            # also delete from another table using $dup_id\n        }\n    }    \n    $dbh-&gt;commit();\n};\n\nif ($@) {\n    print \"Transaction rollback: $@\";\n    $dbh-&gt;rollback();\n}\n</code></pre>\n"}], "owner": {"reputation": 5282, "user_id": 1003815, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a2de7b72452cde6ac37a07e506d68149?s=128&d=identicon&r=PG", "display_name": "RTF", "link": "https://stackoverflow.com/users/1003815/rtf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1455717933, "creation_date": 1441012860, "last_edit_date": 1441060041, "question_id": 32307846, "link": "https://stackoverflow.com/questions/32307846/is-it-safe-to-update-a-mysql-table-while-iterating-a-resultset-with-perl-dbi", "title": "Is it safe to update a MySQL table while iterating a resultset with Perl DBI?", "body": "<p>Specifically, I need to delete some rows from a table while iterating over all rows in the table. Does DBI have something like an updateable resultset in Java? So, if I do something like:</p>\n\n<pre><code>$query_all = $dbh-&gt;prepare(\"select Id, X, Y, Z from MyTable\");\n$delete = $dbh-&gt;prepare(\"delete from MyTable where Id = ?\");\n$query_all-&gt;execute();\n\nwhile ( my @res = $query_all-&gt;fetchrow_array() ){\n    my ($id, $x, $y, $z) = @res;\n    # fetch the IDs of any other rows that have the same X, Y, Z values\n    foreach ( the_duplicate_ids ){\n        $delete-&gt;execute($dup_id); # safe ??\n        # also delete from another table using $dup_id\n    }\n}\n</code></pre>\n\n<p>...is that OK?</p>\n\n<p>Just to give some context, I'm deleting duplicate rows that have the same values for the X, Y, Z columns, and leaving just one row in each case (the first one found). If that was all I was doing, I'd just setup a unique index on those 3 columns to eliminate the dups, but I also need to delete a row from another table for each duplicate deleted from <code>MyTable</code>.</p>\n\n<p>In the end, I wrote a script to identify and collect all the IDs for the rows that I need to delete into an array, then iterate over that array, deleting the relevant rows from both tables. I'm still interested in finding an answer to the original question though. If I get time I'll try to answer it myself, but if anyone already knows I'd like to hear it. </p>\n"}, {"tags": ["perl", "batch-file"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1441011848, "post_id": 32307471, "comment_id": 52490446, "body": "Looks like your parameter is not what you expected. Possible empty lines in your file?"}, {"owner": {"reputation": 11, "user_id": 4519655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee01b9c676413ec3d73e5fcd3d1bd71f?s=128&d=identicon&r=PG&f=1", "display_name": "parthodas", "link": "https://stackoverflow.com/users/4519655/parthodas"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1441012344, "post_id": 32307471, "comment_id": 52490722, "body": "I checked the parameter by printing the value. Values are as expected -- file=XLNXlogin.css  rcc=$/Compass/CodeFreeze/SIEBEL/2015_NOV/NGCM-II/ServerFiles&zwnj;&#8203;/CSS,  loc=D:\\sba81\\SWEApp\\PUBLIC\\enu\\files\\custom&lt;br&gt; The filename, directory name, or volume label syntax is incorrect."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4519655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee01b9c676413ec3d73e5fcd3d1bd71f?s=128&d=identicon&r=PG&f=1", "display_name": "parthodas", "link": "https://stackoverflow.com/users/4519655/parthodas"}, "edited": false, "score": 0, "creation_date": 1441013040, "post_id": 32307719, "comment_id": 52491118, "body": "After removing the double quotes, am getting Parse Error. No other error is there. &lt;code&gt;file=XLNXlogin.css  rcc=$/Compass/CodeFreeze/SIEBEL/2015_NOV/NGCM-II/ServerFiles&zwnj;&#8203;/CSS  loc=D:\\sba81\\SWEApp\\PUBLIC\\enu\\files\\custom Parse Error Parse Error&lt;/code&gt;"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 11, "user_id": 4519655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee01b9c676413ec3d73e5fcd3d1bd71f?s=128&d=identicon&r=PG&f=1", "display_name": "parthodas", "link": "https://stackoverflow.com/users/4519655/parthodas"}, "edited": false, "score": 0, "creation_date": 1441015585, "post_id": 32307719, "comment_id": 52492516, "body": "@parthodas: Can you run the command from the command line with the given arguments?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1441012384, "creation_date": 1441012384, "answer_id": 32307719, "question_id": 32307471, "link": "https://stackoverflow.com/questions/32307471/need-to-pass-variable-to-a-batch-script-from-a-perl-script/32307719#32307719", "title": "Need to pass variable to a batch script from a perl script", "body": "<p>Remove the double quotes. With them, the system interprets the whole line as a command, not as a command with parameters.</p>\n\n<pre><code>my @lines = qx/D:\\\\SiebelAdmin\\\\Commands\\\\WinFile_Move.bat $file $rcc $loc/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4519655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee01b9c676413ec3d73e5fcd3d1bd71f?s=128&d=identicon&r=PG&f=1", "display_name": "parthodas", "link": "https://stackoverflow.com/users/4519655/parthodas"}, "edited": false, "score": 0, "creation_date": 1441015165, "post_id": 32308100, "comment_id": 52492312, "body": "When trying your codes on my local machine, it is working fine. Then, I tried implementing the same in my script with below modifications. But again I&#39;m getting the same Parse Error.  <code>my $bat_file=&#39;D:\\\\SiebelAdmin\\\\Commands\\\\WinFile_Move.bat&#39;; \t\tmy $mydir=&#39;D:\\SiebelAdmin\\CR_Files\\CR117365_20150831_0254\\CSS&#39;; \t\tmy $file=&#39;XLNXlogin.css&#39;; \t\tmy $loc=&#39;D:\\SiebelAdmin\\Commands\\WinFile_Move.bat&#39;; \t\tprintf &quot;file=$file\\nmydir=$mydir\\nloc=$loc\\n$bat_file\\n&quot;; \t\tmy @lines = `$bat_file $mydir $file $loc`;</code>"}, {"owner": {"reputation": 3600, "user_id": 5247911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IpGVs.png?s=128&g=1", "display_name": "Dinesh Pundkar", "link": "https://stackoverflow.com/users/5247911/dinesh-pundkar"}, "reply_to_user": {"reputation": 11, "user_id": 4519655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee01b9c676413ec3d73e5fcd3d1bd71f?s=128&d=identicon&r=PG&f=1", "display_name": "parthodas", "link": "https://stackoverflow.com/users/4519655/parthodas"}, "edited": false, "score": 0, "creation_date": 1441015724, "post_id": 32308100, "comment_id": 52492585, "body": "@parthodas - Can you please copy entire error string and post it? Trying to understand which is giving error - perl script or batch script? Also, the code you posted above shows &#39;$bat_file&#39; and &#39;$loc&#39; is referring to same file.  Is this correct also?"}, {"owner": {"reputation": 11, "user_id": 4519655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee01b9c676413ec3d73e5fcd3d1bd71f?s=128&d=identicon&r=PG&f=1", "display_name": "parthodas", "link": "https://stackoverflow.com/users/4519655/parthodas"}, "edited": false, "score": 0, "creation_date": 1441016005, "post_id": 32308100, "comment_id": 52492764, "body": "Thanks for all the help. Found the error. The perl script is fine. The batch script is giving the error. Removed few parameter declaration from the batch script and now Parse Error is gone. Now the error has changed. I&#39;ve checked the Environment Variable for PATH and it is set properly. Please let me know if you want to see the batch script. It is now throwing -- &#39;findstr&#39; is not recognized as an internal or external command,operable program or batch file."}], "tags": [], "owner": {"reputation": 3600, "user_id": 5247911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IpGVs.png?s=128&g=1", "display_name": "Dinesh Pundkar", "link": "https://stackoverflow.com/users/5247911/dinesh-pundkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1441013645, "creation_date": 1441013645, "answer_id": 32308100, "question_id": 32307471, "link": "https://stackoverflow.com/questions/32307471/need-to-pass-variable-to-a-batch-script-from-a-perl-script/32308100#32308100", "title": "Need to pass variable to a batch script from a perl script", "body": "<p>Please check if this works for you.\nI have created sample batch script which takes two args and print it on prompt.\nThis script location is on desktop.</p>\n\n<h1>Code of batch script</h1>\n\n<pre><code>@echo off\nset arg1=%1\nset arg2=%2\nshift\nshift\n\necho %arg1%\necho %arg2%\n</code></pre>\n\n<h1>Output of batch script</h1>\n\n<pre><code>C:\\Users\\Administrator\\Desktop&gt;a.bat perl5.8 perl5.18\nperl5.8\nperl5.18\nC:\\Users\\Administrator\\Desktop&gt;\n</code></pre>\n\n<p>Now I have created the perl script which calls this batch script. This perl script is present in C drive.</p>\n\n<h1>Code for perl script</h1>\n\n<pre><code>my $bat_file = 'C:\\Users\\Administrator\\Desktop\\a.bat';\nmy $arg1 = 'perl5.8';\nmy $arg2 = 'perl5.18';\nmy @lines = `$bat_file $arg1 $arg2`;\nprint @lines;\n</code></pre>\n\n<h1>Output of perl script</h1>\n\n<pre><code>C:\\&gt;perl tmp.pl\nperl5.8\nperl5.18\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 167, "user_id": 5005698, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/962075417175866/picture?type=large", "display_name": "Vishal Khemani", "link": "https://stackoverflow.com/users/5005698/vishal-khemani"}, "is_accepted": false, "score": 0, "last_activity_date": 1469623569, "creation_date": 1469623569, "answer_id": 38613406, "question_id": 32307471, "link": "https://stackoverflow.com/questions/32307471/need-to-pass-variable-to-a-batch-script-from-a-perl-script/38613406#38613406", "title": "Need to pass variable to a batch script from a perl script", "body": "<p>You can do like this:</p>\n\n<p><strong>Perl file:</strong></p>\n\n<pre><code>my $arg = \"hey\";\nmy $bat_file_loc = \"C:\\\\abc.bat\";\nsystem($bat_file_loc,$arg); \n</code></pre>\n\n<p><strong>Batch file:</strong></p>\n\n<pre><code>set arg1=%1\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4519655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ee01b9c676413ec3d73e5fcd3d1bd71f?s=128&d=identicon&r=PG&f=1", "display_name": "parthodas", "link": "https://stackoverflow.com/users/4519655/parthodas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1394, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1469623569, "creation_date": 1441011541, "last_edit_date": 1441011647, "question_id": 32307471, "link": "https://stackoverflow.com/questions/32307471/need-to-pass-variable-to-a-batch-script-from-a-perl-script", "title": "Need to pass variable to a batch script from a perl script", "body": "<p>I'm running a perl script, which in turn calls a batch script. I need  to pass 3 parameters to the batch script. I'm passing the parameters, since it it easier to read a file in perl script &amp; capture the desired value. But, my script is erroring out with error - 'The system cannot find the path specified.'<br><br>I'm using below code --<br></p>\n\n<pre><code>while (&lt;FILE&gt;) \n{\n    ($file, $rcc, $loc) = split(',');\n    my @lines = qx/\"D:\\\\SiebelAdmin\\\\Commands\\\\WinFile_Move.bat $file $rcc $loc\" /;\n}\n</code></pre>\n"}, {"tags": ["python", "bash", "perl", "sed", "environment-variables"], "answers": [{"tags": [], "owner": {"reputation": 1943, "user_id": 1423157, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4a23a8d8d8cd065089d01c134eb6b8d5?s=128&d=identicon&r=PG", "display_name": "robru", "link": "https://stackoverflow.com/users/1423157/robru"}, "is_accepted": false, "score": 0, "last_activity_date": 1441129549, "last_edit_date": 1441129549, "creation_date": 1440988314, "answer_id": 32303252, "question_id": 32303207, "link": "https://stackoverflow.com/questions/32303207/how-can-i-process-variable-substitutions-in-bash/32303252#32303252", "title": "How can I process variable substitutions in bash?", "body": "<p>Ah, it's been too long since I've played with perl, this does exactly what I want:</p>\n\n<pre><code>perl -pe 's/@([A-Z_]+)@/$ENV{$1} or die \"$1 undefined\"/eg' &lt;infile &gt;outfile\n</code></pre>\n\n<p>And then in a Makefile you need to escape the dollar signs:</p>\n\n<pre><code>envsubst = perl -pe 's/@([A-Z_]+)@/$$ENV{$$1} or die \"$$1 undefined\"/eg'\n\ninstall:\n    $(envsubst) &lt;infile1 &gt;outfile1\n    $(envsubst) &lt;infile2 &gt;outfile2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1943, "user_id": 1423157, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4a23a8d8d8cd065089d01c134eb6b8d5?s=128&d=identicon&r=PG", "display_name": "robru", "link": "https://stackoverflow.com/users/1423157/robru"}, "edited": false, "score": 0, "creation_date": 1440989041, "post_id": 32303253, "comment_id": 52482660, "body": "Is there a way to make perl complain if the variable is undefined? Would be better than silently leaving blanks in my file if my env vars are set wrong."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 1943, "user_id": 1423157, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4a23a8d8d8cd065089d01c134eb6b8d5?s=128&d=identicon&r=PG", "display_name": "robru", "link": "https://stackoverflow.com/users/1423157/robru"}, "edited": false, "score": 0, "creation_date": 1440989336, "post_id": 32303253, "comment_id": 52482723, "body": "the fail status from <code>die</code> should be enough to make <code>make</code> bail out as well."}, {"owner": {"reputation": 1943, "user_id": 1423157, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4a23a8d8d8cd065089d01c134eb6b8d5?s=128&d=identicon&r=PG", "display_name": "robru", "link": "https://stackoverflow.com/users/1423157/robru"}, "edited": false, "score": 0, "creation_date": 1441129152, "post_id": 32303253, "comment_id": 52549681, "body": "This also works ans is shorter: <code>perl -pe &#39;s&#47;@([A-Z_]+)@&#47;$ENV{$1} or die &quot;$1 undefined&quot;&#47;eg&#39;</code> (I realize they&#39;re not quite semantically identical, but my use case doesn&#39;t require &quot;variables set to empty value&quot; so it&#39;s ok)"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 1943, "user_id": 1423157, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4a23a8d8d8cd065089d01c134eb6b8d5?s=128&d=identicon&r=PG", "display_name": "robru", "link": "https://stackoverflow.com/users/1423157/robru"}, "edited": false, "score": 0, "creation_date": 1441129302, "post_id": 32303253, "comment_id": 52549757, "body": "@Robru how about variables with the value 0? Be careful. I would use my version in tooling, &quot;shorter&quot; isn&#39;t that important."}, {"owner": {"reputation": 1943, "user_id": 1423157, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4a23a8d8d8cd065089d01c134eb6b8d5?s=128&d=identicon&r=PG", "display_name": "robru", "link": "https://stackoverflow.com/users/1423157/robru"}, "edited": false, "score": 0, "creation_date": 1441129901, "post_id": 32303253, "comment_id": 52550107, "body": "Ah, the falsiness of <i>string</i> &quot;0&quot; is terrifying, I&#39;m used to python where only empty strings are false. At least in my use case I&#39;m only substituting long strings like usernames and paths, so for me having an error raised for empty strings is a feature. I don&#39;t anticipate needing to expand to &quot;0&quot; at any point."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 1943, "user_id": 1423157, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4a23a8d8d8cd065089d01c134eb6b8d5?s=128&d=identicon&r=PG", "display_name": "robru", "link": "https://stackoverflow.com/users/1423157/robru"}, "edited": false, "score": 0, "creation_date": 1441130926, "post_id": 32303253, "comment_id": 52550661, "body": "@Robru you could use my version with <code>length</code> in place of <code>exists</code> to fail on empty string but succeed on 0."}, {"owner": {"reputation": 1943, "user_id": 1423157, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4a23a8d8d8cd065089d01c134eb6b8d5?s=128&d=identicon&r=PG", "display_name": "robru", "link": "https://stackoverflow.com/users/1423157/robru"}, "edited": false, "score": 0, "creation_date": 1441137457, "post_id": 32303253, "comment_id": 52554251, "body": "Thanks, I&#39;ll keep that in mind. What I don&#39;t like about yours is the way it says <code>$ENV{$1}</code> twice, the redundancy irks me a bit. It occurs to me that if I ever do need <code>&quot;0&quot;</code> my shorter way will complain loudly so it&#39;s not like I&#39;ll be stuck with a silent failure that&#39;s hard to debug."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 3, "last_activity_date": 1440989280, "last_edit_date": 1440989280, "creation_date": 1440988340, "answer_id": 32303253, "question_id": 32303207, "link": "https://stackoverflow.com/questions/32303207/how-can-i-process-variable-substitutions-in-bash/32303253#32303253", "title": "How can I process variable substitutions in bash?", "body": "<p><code>perl -pe 's/\\@(\\w+)\\@/$ENV{$1}/g'</code> would be one way to do the job.</p>\n\n<p>If you want to throw an error if a variable mentioned in the file doesn't exist in the environment, you could use</p>\n\n<pre><code>perl -pe 's/\\@(\\w+)\\@/die \"$1 not found\\n\" unless exists $ENV{$1}; $ENV{$1}/eg'\n</code></pre>\n"}], "owner": {"reputation": 1943, "user_id": 1423157, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4a23a8d8d8cd065089d01c134eb6b8d5?s=128&d=identicon&r=PG", "display_name": "robru", "link": "https://stackoverflow.com/users/1423157/robru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 32303253, "answer_count": 2, "score": 0, "last_activity_date": 1441129549, "creation_date": 1440987913, "question_id": 32303207, "link": "https://stackoverflow.com/questions/32303207/how-can-i-process-variable-substitutions-in-bash", "title": "How can I process variable substitutions in bash?", "body": "<p>So I have some files that contain placeholder values like <code>@USER@</code> or <code>@SHELL@</code> (all-caps variable names, enclosed in @'s, representing environment variable names). What I want to do is replace those placeholders with actual values of the environment varables they reference.</p>\n\n<p>In the past when I've seen this sort of thing done, the specific variables are usually hard-coded, eg:</p>\n\n<pre><code>sed -e 's/@SOME_VARIABLE@/$SOME_VALUE/' &lt;infile &gt;outfile\n</code></pre>\n\n<p>But that won't work for my current use-case as I want to more flexibly support arbitrary substitutions. I wrote this code in python which does exactly what I want:</p>\n\n<pre><code>import re\nimport fileinput\n\nfrom os import environ\nfrom sys import stdout\n\npat = re.compile(r'@([A-Z_]+)@')\n\nfor line in fileinput.input():\n    stdout.write(pat.sub(lambda match: environ[match.group(1)], line))\n</code></pre>\n\n<p>But I'd prefer not to use python if I can help it. Surely there's a way to do this with a perl or sed one-liner?</p>\n"}, {"tags": ["json", "perl", "oop", "private-members", "bless"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1440987290, "post_id": 32303028, "comment_id": 52482283, "body": "The common explanation is that Perl asks you nicely to stay out of its yard. It doesn&#39;t stand at the gate with a shotgun.  Even Moose typically uses blessed hashes under the hood.  An Inside Out solution can be made more bullet proof, but at the cost of being more difficult to work into the typical fabric Perl&#39;s classes expect (Inheritance becomes more tricky, for example)."}, {"owner": {"reputation": 2112, "user_id": 2992891, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1a7b81201a434521f931f77de9514d5?s=128&d=identicon&r=PG", "display_name": "pcantalupo", "link": "https://stackoverflow.com/users/2992891/pcantalupo"}, "edited": false, "score": 0, "creation_date": 1440987565, "post_id": 32303028, "comment_id": 52482341, "body": "have a look at <a href=\"http://www.perlmonks.org/?node_id=8251\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=8251</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440991411, "post_id": 32303028, "comment_id": 52483139, "body": "Yes, there is: Don&#39;t do <code>$result-&gt;{field1} = &quot;anythingIwant&quot;;</code>. I&#39;m not joking. The best practice is simply not to access the internals of objects from outside the class."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440998201, "post_id": 32303028, "comment_id": 52484663, "body": "Are you really claiming that someone may write <code>$result-&gt;{field1} = &quot;anythingIwant&quot;</code> accidentally? Or are you asking how to protect your data from malicious attack?"}, {"owner": {"reputation": 146, "user_id": 3653270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4a5f6131d02dc422a02b451b8f7a8626?s=128&d=identicon&r=PG&f=1", "display_name": "user3653270", "link": "https://stackoverflow.com/users/3653270/user3653270"}, "reply_to_user": {"reputation": 2112, "user_id": 2992891, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1a7b81201a434521f931f77de9514d5?s=128&d=identicon&r=PG", "display_name": "pcantalupo", "link": "https://stackoverflow.com/users/2992891/pcantalupo"}, "edited": false, "score": 0, "creation_date": 1441025553, "post_id": 32303028, "comment_id": 52498488, "body": "@pcantalupo - yes I had seen that link but thanks.  It seems a bit overkill and not entirely bulletproof based on the comments."}, {"owner": {"reputation": 146, "user_id": 3653270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4a5f6131d02dc422a02b451b8f7a8626?s=128&d=identicon&r=PG&f=1", "display_name": "user3653270", "link": "https://stackoverflow.com/users/3653270/user3653270"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1441025972, "post_id": 32303028, "comment_id": 52498757, "body": "@DavidO/ikegami - I&#39;m beginning to accept that perl just does these types of things (oop) differently and really it&#39;s more about expectation management vis-a-vis objects."}], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 3653270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4a5f6131d02dc422a02b451b8f7a8626?s=128&d=identicon&r=PG&f=1", "display_name": "user3653270", "link": "https://stackoverflow.com/users/3653270/user3653270"}, "edited": false, "score": 0, "creation_date": 1452953532, "post_id": 34799045, "comment_id": 57397514, "body": "thanks @cdlane - I&#39;ll have to invest some time into understanding these structures and testing it out."}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": true, "score": 0, "last_activity_date": 1452803107, "creation_date": 1452803107, "answer_id": 34799045, "question_id": 32303028, "link": "https://stackoverflow.com/questions/32303028/blessing-a-json-into-a-perl-class-vs-private-properties/34799045#34799045", "title": "Blessing a JSON into a perl class vs private properties", "body": "<p>Yes, the answer is to bless a closure.</p>\n\n<p>This can give you read-only access to the data (once you drop your original pointer) or both read and write access but only through your accessor method, never directly to the data:</p>\n\n<pre><code>package MyClass;\n\nsub new {\n    my $type = shift;\n    my $class = ref $type || $type;\n\n    my $self = shift;\n\n    my $closure = sub {\n              $self-&gt;{$_[0]};\n        };\n\n     return bless $closure, $class;\n}\n\npackage main;\n\nuse strict;\n\nmy $json_snippet = {\n  \"field1\" =&gt; \"one\",\n  \"field2\" =&gt; \"two\",\n};\n\nmy $object = MyClass-&gt;new($json_snippet);\n\nprint($object-&gt;(\"field2\"), \"\\n\");\n\n1;\n</code></pre>\n\n<p>Here's an introduction to <a href=\"http://www.perlmonks.org/?node_id=8251\" rel=\"nofollow\">Objects with Private Variables</a></p>\n"}], "owner": {"reputation": 146, "user_id": 3653270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4a5f6131d02dc422a02b451b8f7a8626?s=128&d=identicon&r=PG&f=1", "display_name": "user3653270", "link": "https://stackoverflow.com/users/3653270/user3653270"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 34799045, "answer_count": 1, "score": 2, "last_activity_date": 1453768670, "creation_date": 1440986298, "last_edit_date": 1453768670, "question_id": 32303028, "link": "https://stackoverflow.com/questions/32303028/blessing-a-json-into-a-perl-class-vs-private-properties", "title": "Blessing a JSON into a perl class vs private properties", "body": "<p>I have a Json structure such as:</p>\n\n<pre><code>{\n  \"field1\" =&gt; \"one\",\n  \"field2\" =&gt; \"two\",\n  ...\n}\n</code></pre>\n\n<p>I'm using the perl Json module, and I can bless the Json returned to me into a class, such as:\n<code>my $result = bless($json-&gt;{output},'MyClass')</code></p>\n\n<p>So far so good - now I can create methods within MyClass.pm to return the values of field1, field2, etc.\nSo it seems that via bless, I have direct access to set the properties of an object.  But the danger is that I can also do things later in the code like:\n<code>$result-&gt;{field1} = \"anythingIwant\";</code></p>\n\n<p>...which is not so good.   I know I could set the property like <code>_field1</code> to indicate privacy but that doesn't prevent me from doing <code>$result-&gt;{_field1} = \"anythingIwant\";</code>  </p>\n\n<p>So is there a best practice approach in perl to handle this situation?  In other words, it's super convenient to be able to bless Json output into a class to deserialize, but it also seems dangerous.  I'm looking for the best of both worlds where I can still use bless but also prevent any client code from doing the anythingIwant scenario described above.  I've looked into Moose, InsideOut etc but I'm not really sure if either of those would fit the bill or just introduce more complexity.</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 369, "user_id": 5054685, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c-CiG8EuDoU/AAAAAAAAAAI/AAAAAAAAAC0/ZEeUqcOcU_4/photo.jpg?sz=128", "display_name": "Ruth Franklin", "link": "https://stackoverflow.com/users/5054685/ruth-franklin"}, "edited": false, "score": 1, "creation_date": 1440960040, "post_id": 32299868, "comment_id": 52476160, "body": "Have you tried using the <code>system</code> function in perl?"}, {"owner": {"reputation": 1901, "user_id": 2002471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222d816f24fcb2d01e92937b6af01d34?s=128&d=identicon&r=PG", "display_name": "chicks", "link": "https://stackoverflow.com/users/2002471/chicks"}, "edited": false, "score": 5, "creation_date": 1440960076, "post_id": 32299868, "comment_id": 52476165, "body": "<a href=\"http://stackoverflow.com/questions/11020812/todays-date-in-perl-in-mm-dd-yyyy-format\" title=\"todays date in perl in mm dd yyyy format\">stackoverflow.com/questions/11020812/&hellip;</a> - don&#39;t run <code>date</code> when Perl will tell you what you want without spawning any more commands"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 2, "creation_date": 1440962142, "post_id": 32299868, "comment_id": 52476762, "body": "Why would you need explicit linux date, perl can do dates just as easily. and you can print it in any formate  you like."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1440963814, "post_id": 32299868, "comment_id": 52477221, "body": "What exactly does your assignment want you to do with the date once you have it?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1440968694, "post_id": 32299868, "comment_id": 52478628, "body": "Please understand that this site is for asking questions that you come up with yourself, not questions that others have asked you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440971579, "post_id": 32299868, "comment_id": 52479351, "body": "We will help you understand your home work but not do it for you."}, {"owner": {"reputation": 3, "user_id": 1627343, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/72baf012f3c9513ff6b3b66cad5bff6b?s=128&d=identicon&r=PG", "display_name": "Agata", "link": "https://stackoverflow.com/users/1627343/agata"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441004881, "post_id": 32299868, "comment_id": 52486998, "body": "@Sobrique I absolutely don&#39;t want to solve my homework from you. You&#39;re very nice ... But only understand how to pass a linux command to Perl. You could spare you this answer.... :/ :/"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441008778, "post_id": 32299868, "comment_id": 52488865, "body": "you can also use backticks as in <code>my $var = `date`;</code>"}, {"owner": {"reputation": 3, "user_id": 1627343, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/72baf012f3c9513ff6b3b66cad5bff6b?s=128&d=identicon&r=PG", "display_name": "Agata", "link": "https://stackoverflow.com/users/1627343/agata"}, "reply_to_user": {"reputation": 1901, "user_id": 2002471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222d816f24fcb2d01e92937b6af01d34?s=128&d=identicon&r=PG", "display_name": "chicks", "link": "https://stackoverflow.com/users/2002471/chicks"}, "edited": false, "score": 0, "creation_date": 1441018406, "post_id": 32299868, "comment_id": 52494075, "body": "@chicks i read how perl could give me current date, by localtime function. but i need explicity how use the LINUX command &quot;date&quot; in perl script. Thank you so much in advance"}, {"owner": {"reputation": 3, "user_id": 1627343, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/72baf012f3c9513ff6b3b66cad5bff6b?s=128&d=identicon&r=PG", "display_name": "Agata", "link": "https://stackoverflow.com/users/1627343/agata"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1441018545, "post_id": 32299868, "comment_id": 52494144, "body": "@ysth i need that my script will save current data in a variable that i will use later in the script. the problem is that i need use ONLY the LINUX COMMAND &quot;date&quot;"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1441044531, "post_id": 32299868, "comment_id": 52509646, "body": "@Agata You&#39;d do well to explain <i>why</i> you want to do what you want to do. To those of us who know better, your request is strange and indicates that you probably need a little guidance rather than just a code snippet."}, {"owner": {"reputation": 3, "user_id": 1627343, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/72baf012f3c9513ff6b3b66cad5bff6b?s=128&d=identicon&r=PG", "display_name": "Agata", "link": "https://stackoverflow.com/users/1627343/agata"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441047913, "post_id": 32299868, "comment_id": 52511334, "body": "@MattJacob It&#39;s an exercise for my university.  Implement functionality that allows to invoke the script from the command line with no parameters, and makes use inside the Linux command DATE to use the current date as the reference date for the identification of any events stored in file eventi.txt.... What I don&#39;t know is how to give &#39;date&#39; to the script."}], "answers": [{"comments": [{"owner": {"reputation": 1901, "user_id": 2002471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222d816f24fcb2d01e92937b6af01d34?s=128&d=identicon&r=PG", "display_name": "chicks", "link": "https://stackoverflow.com/users/2002471/chicks"}, "edited": false, "score": 1, "creation_date": 1441029018, "post_id": 32312033, "comment_id": 52500766, "body": "err, no.  <code>system()</code> does not give you the output of the command and it requires quoting you left out."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441044162, "post_id": 32312033, "comment_id": 52509471, "body": "Even if we assume that there wasn&#39;t a syntax error, the <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">return value</a> of <code>system</code> would not be what the variable name indicates."}], "tags": [], "owner": {"reputation": 82, "user_id": 2920468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI2cO.jpg?s=128&g=1", "display_name": "crustycollins", "link": "https://stackoverflow.com/users/2920468/crustycollins"}, "is_accepted": false, "score": -3, "last_activity_date": 1441027498, "last_edit_date": 1441027498, "creation_date": 1441026403, "answer_id": 32312033, "question_id": 32299868, "link": "https://stackoverflow.com/questions/32299868/command-linux-date-into-perl-script/32312033#32312033", "title": "Command linux &quot;Date&quot; into perl script", "body": "<p>use strict;</p>\n\n<pre><code>my $sysdate = system ( date);\nprint $sysdate;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 1627343, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/72baf012f3c9513ff6b3b66cad5bff6b?s=128&d=identicon&r=PG", "display_name": "Agata", "link": "https://stackoverflow.com/users/1627343/agata"}, "edited": false, "score": 0, "creation_date": 1441047986, "post_id": 32312959, "comment_id": 52511382, "body": "Thank you so much. I try!"}], "tags": [], "owner": {"reputation": 1901, "user_id": 2002471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222d816f24fcb2d01e92937b6af01d34?s=128&d=identicon&r=PG", "display_name": "chicks", "link": "https://stackoverflow.com/users/2002471/chicks"}, "is_accepted": false, "score": 2, "last_activity_date": 1441053970, "last_edit_date": 1441053970, "creation_date": 1441029191, "answer_id": 32312959, "question_id": 32299868, "link": "https://stackoverflow.com/questions/32299868/command-linux-date-into-perl-script/32312959#32312959", "title": "Command linux &quot;Date&quot; into perl script", "body": "<p>This is not a good way to get the current time in Perl, but it does answer the narrowly defined question above.  Here it is working:</p>\n\n<pre><code>$ perl date-test \n&lt;&lt;Mon Aug 31 06:52:08 PDT 2015&gt;&gt;\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>$ cat date-test \n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $static_date = `date`;\nchomp($static_date);\n\nprint \"&lt;&lt;$static_date&gt;&gt;\\n\";\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 1627343, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/72baf012f3c9513ff6b3b66cad5bff6b?s=128&d=identicon&r=PG", "display_name": "Agata", "link": "https://stackoverflow.com/users/1627343/agata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1206, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1441053970, "creation_date": 1440959835, "last_edit_date": 1440964648, "question_id": 32299868, "link": "https://stackoverflow.com/questions/32299868/command-linux-date-into-perl-script", "title": "Command linux &quot;Date&quot; into perl script", "body": "<p>I must to implement a Perl script that makes use inside the Linux command 'date' to use the current date as the reference date for the identification of any events stored in a file. Help please.\nI know the function Localtime() but i don't need that but explicitly linux command DATE.</p>\n"}, {"tags": ["regex", "perl", "parsing"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1440957545, "post_id": 32299507, "comment_id": 52475465, "body": "The most simple approach <code>$s =~ s&#47;%FIELDS%&#47;join(&quot;,&quot;,@f)&#47;ge;</code> should work here"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1440957652, "post_id": 32299507, "comment_id": 52475499, "body": "@H&#229;konH&#230;gland This does not support &quot;I also want a way to prevent these sequences to be replaced&quot; in my question. If it could be so simple, I&#39;d not ask how to do this"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1440957963, "post_id": 32299507, "comment_id": 52475574, "body": "Yes.. you are right.. so after replacing <code>%FIELDS%</code> an <code>&quot;%ORDER%&quot;</code> string could appear, that you do not want to replace when you substitute for <code>%ORDER%</code> later?"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1440958111, "post_id": 32299507, "comment_id": 52475616, "body": "@H&#229;konH&#230;gland I do not want to replace second time the result of replacement of <code>%FIELDS%</code> (even if the result of replacement contains <code>%ORDER%</code>). I also want a way to write literal <code>%FIELDS%</code> which could not be replaced (for example doubling percent signs like <code>%%FIELDS%%</code>)"}, {"owner": {"reputation": 3597, "user_id": 829496, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XXTbx.jpg?s=128&g=1", "display_name": "fronthem", "link": "https://stackoverflow.com/users/829496/fronthem"}, "edited": false, "score": 0, "creation_date": 1440958986, "post_id": 32299507, "comment_id": 52475868, "body": "Basically, in many languages, allow you to interpret your variable such as in bash <code>cmd=`ls -al`</code> then <code>eval $cmd</code> you will get source code <code>ls -al</code>. I think it&#39;s a same mechanism right?"}, {"owner": {"reputation": 3597, "user_id": 829496, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XXTbx.jpg?s=128&g=1", "display_name": "fronthem", "link": "https://stackoverflow.com/users/829496/fronthem"}, "edited": false, "score": 0, "creation_date": 1440959150, "post_id": 32299507, "comment_id": 52475910, "body": "If you set all your data into variables <code>FIELDS</code>, <code>ORDER</code>, <code>LIMIT</code> you can do <code>SELECT eval $FIELDS FROM eval ORDER eval LIMIT</code> something like this more easy."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 3597, "user_id": 829496, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XXTbx.jpg?s=128&g=1", "display_name": "fronthem", "link": "https://stackoverflow.com/users/829496/fronthem"}, "edited": false, "score": 0, "creation_date": 1440959424, "post_id": 32299507, "comment_id": 52475997, "body": "@terces907 I need to process my template more than once. For this simple <code>eval</code> would not work"}, {"owner": {"reputation": 3597, "user_id": 829496, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XXTbx.jpg?s=128&g=1", "display_name": "fronthem", "link": "https://stackoverflow.com/users/829496/fronthem"}, "edited": false, "score": 0, "creation_date": 1440959986, "post_id": 32299507, "comment_id": 52476146, "body": "The problem here is not about regex but about finding a unique syntax. If you can put some example of want and don&#39;t want text then I can help you, no one know your detail, what a translated text looks like,no one can ans you."}], "answers": [{"tags": [], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "is_accepted": true, "score": 0, "last_activity_date": 1440961262, "last_edit_date": 1440961262, "creation_date": 1440960572, "answer_id": 32299979, "question_id": 32299507, "link": "https://stackoverflow.com/questions/32299507/a-tiny-template-language/32299979#32299979", "title": "A tiny template language", "body": "<pre>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nsub MyReplace {\n  my ($tmpl, $Hash) = @_;\n\n  my %Hash2;\n  foreach my $Key (keys %$Hash) {\n    $Hash2{\"%$Key%\"} = $Hash->{$Key};\n    $Hash2{\"\\\\%$Key%\"} = \"%$Key%\"; # escaped\n  }\n\n  my $re_str = \"(\" . (join '|', map { \"\\Q$_\\E\" } keys %Hash2) . \")\";\n  $tmpl =~ s/$re_str/$Hash2{$1}/g;\n  return $tmpl;\n}\n\nprint MyReplace('SELECT %FIELDS% FROM ... %ORDER% %LIMIT%', {FIELDS=>'a, b, c', ORDER=>'ORDER BY id', LIMIT=>''}), \"\\n\";\nprint MyReplace('SELECT \\\\%FIELDS% FROM ... %ORDER% \\\\\\\\%LIMIT%', {FIELDS=>'a, b, c', ORDER=>'ORDER BY id', LIMIT=>''}), \"\\n\";</pre>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 1, "accepted_answer_id": 32299979, "answer_count": 1, "score": 1, "last_activity_date": 1440961262, "creation_date": 1440957251, "question_id": 32299507, "link": "https://stackoverflow.com/questions/32299507/a-tiny-template-language", "title": "A tiny template language", "body": "<p>I pass a string with a \"partial\" SQL statement like:</p>\n\n<pre><code>\"SELECT %FIELDS% FROM ... %ORDER% %LIMIT%\"\n</code></pre>\n\n<p>Then I want to replace <code>%FIELDS%</code> either with a real list of fields (which I get from an array) or with <code>COUNT(*)</code>. Likewise I replace <code>%ORDER%</code> either with <code>ORDER BY ...</code> (which I generate) or with empty string and <code>%LIMIT%</code> with either <code>LIMIT ...</code> (which I generate) or with empty string.</p>\n\n<p>I also want a way to prevent these sequences to be replaced. For example we may \"turn off\" replacing if percents are doubled: <code>%%FIELDS%%</code> should be not replaced with a list of fields but be replaced with literal <code>%FIELDS%</code>.</p>\n\n<p>Note that I do not insist namely on this syntax. Instead of percent signs we may use some other escape syntax (for example <code>${FIELDS}</code> or <code>{{FIELDS}}</code>).</p>\n\n<p>I want the most easy and (what is probably more important) most efficient way to do this.</p>\n\n<p>Note that I use Perl.</p>\n\n<p>Maybe, I should not invent my own template language with regexps and use Perl module <code>Template::Tiny</code>? What will be the most efficient?</p>\n"}, {"tags": ["r", "perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1440942726, "creation_date": 1440942726, "answer_id": 32297246, "question_id": 32297116, "link": "https://stackoverflow.com/questions/32297116/module-not-found-in-inc-even-though-its-listed/32297246#32297246", "title": "module not found in @INC even though its listed", "body": "<p><code>PERL5LIB</code> shouldn't contain individual modules, but the path to their root directory, i.e. <code>/home/sejjcmu/bin/lib64/perl5/site_perl/5.8.8/</code> (the architecture part shouldn't be needed).</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1440992548, "last_edit_date": 1440992548, "creation_date": 1440948179, "answer_id": 32298131, "question_id": 32297116, "link": "https://stackoverflow.com/questions/32297116/module-not-found-in-inc-even-though-its-listed/32298131#32298131", "title": "module not found in @INC even though its listed", "body": "<p>You have added <code>/home/sejjcmu/bin/Perl/Compress-Zlib-1.41/Zlib.pm</code> to your <code>@INC</code> array by putting it in your <code>PERL5LIB</code> environment variable. But <code>@INC</code> contains a list of <em>paths</em> to be searched, in a similar way to the <code>PATH</code> environment variable. As the message says, it <em>\"Can't locate <code>Compress/Raw/Zlib.pm</code>\"</em> in any of those directories, and that's because <code>/home/sejjcmu/bin/Perl/Compress-Zlib-1.41/Zlib.pm</code> isn't even a directory</p>\n\n<p>You say you've installed the package, but no standard tool would have put the file in that location, so I believe you must have copied it, which is largely why you're having problems</p>\n\n<p>If you want to put this module in <code>/home/sejjcmu/bin/Perl</code> then it should be installed at <code>/home/sejjcmu/bin/Perl/Compress/Raw/Zlib.pm</code>, and <code>/home/sejjcmu/bin/Perl</code> should be added to the <code>@INC</code> array</p>\n\n<p>But you really shouldn't be copying Perl modules about by hand. You should use cpan or a similar tool to install the module correctly in the first place. </p>\n\n<p>This is a dialogue you can use to correctly install <code>Compress::Raw::Zlib</code> into your custom library location</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cpan\n\ncpan shell -- CPAN exploration and modules installation (v2.11)\nEnter 'h' for help.\n\n\ncpan&gt; o conf makepl_arg PREFIX=/home/sejjcmu/bin/Perl\ncpan&gt; install Compress::Raw::Zlib\n</code></pre>\n"}], "owner": {"reputation": 1896, "user_id": 1410309, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9492a9f0e9b6baddd164930dddb647bb?s=128&d=identicon&r=PG", "display_name": "cianius", "link": "https://stackoverflow.com/users/1410309/cianius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1440992548, "creation_date": 1440941843, "last_edit_date": 1440942254, "question_id": 32297116, "link": "https://stackoverflow.com/questions/32297116/module-not-found-in-inc-even-though-its-listed", "title": "module not found in @INC even though its listed", "body": "<p>I am using the sRAP package in R, bioconductor. I get this error:</p>\n\n<pre><code> &gt; logVals&lt;-RNA.norm(paste0( ResultsDirectory,batch,'_only'),      paste0(ResultsDirectory,'RPKM_logs'),ResultsDirectory)\nCan't locate Compress/Raw/Zlib.pm in @INC (@INC contains:    /cluster/project8/vyp/cian/support/R/WriteXLS/Perl /home/sejjcmu/bin/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/\nCompress/Raw/Zlib.pm /home/sejjcmu/bin/Perl/Compress-Zlib-1.41/Zlib.pm /home/sejjcmu/bin/Perl/Compress-Zlib-1.41 /home/sejjcmu/bin/Perl/Compress-Raw-Zlib-2.068 /home/sejjcmu/bin /sh\nare/apps/genomics/vcftools_0.1.8a/perl /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/site_perl/5.8.8 /usr/lib/perl5/site_perl /usr/lib64/perl5/vendor_per\n l/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.8      /usr/lib/perl5/vendor_perl /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/5.8.8 .) at /cluster/pr\n oject8/vyp/cian/support/R/WriteXLS/Perl/Archive/Zip.pm line 9.\n</code></pre>\n\n<p>I dont know much about perl, so I don't understand why it says it cant locate this zlib.pm in @INC and then proceeds to list it. I did install that package and added it to PERL5LIB in my bashrc </p>\n\n<p>EDIT: \nR version 3.1.2 (2014-10-31) -- \"Pumpkin Helmet\"\nperl, v5.8.8 built for x86_64-linux-thread-multi</p>\n\n<p>What I've tried. Ive since changed the R function this calls, adding 'Perl I preamble/Compress/Raw', that didnt work. </p>\n"}, {"tags": ["arrays", "string", "perl"], "comments": [{"owner": {"reputation": 2413, "user_id": 4779472, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-918sSljPOLU/AAAAAAAAAAI/AAAAAAAAABA/JrpaeNI9JiM/photo.jpg?sz=128", "display_name": "Rohit Gupta", "link": "https://stackoverflow.com/users/4779472/rohit-gupta"}, "edited": false, "score": 1, "creation_date": 1440931056, "post_id": 32295478, "comment_id": 52468076, "body": "What is it doing, what is it not doing ?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1440931701, "post_id": 32295478, "comment_id": 52468262, "body": "What is the purpose of <code>$file =~ &quot;@01-&quot;</code> ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1440931862, "post_id": 32295478, "comment_id": 52468304, "body": "Please format your Perl code nicely - it is unreadable as it is, and that will hide the errors you from you just as much as it hides them from us. The problem may be here <code>if ($file =~ &quot;@01-&quot;)</code>, which should be <code>if ($file =~ &quot;\\@01-&quot;)</code> to prevent Perl from trying to interpolate the non-existent array <code>@01</code>. If you had <code>use strict</code> and <code>use warnings</code> in place as you always should then you would have seen an error message telling you about this"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1440933200, "post_id": 32295478, "comment_id": 52468644, "body": "also notice to get the element at position n of an array in perl you write <code>$array[n]</code> not <code>@array[n]</code>. You want the scalar at that position, so you use scalar context. As Borodin said, use strict; use warnings; and you will have some idea of what else is going wrong, probably (my $file), ..."}, {"owner": {"reputation": 23, "user_id": 3858383, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000809471624/picture?type=large", "display_name": "Popescu Emanuel", "link": "https://stackoverflow.com/users/3858383/popescu-emanuel"}, "edited": false, "score": 0, "creation_date": 1440935635, "post_id": 32295478, "comment_id": 52469275, "body": "I have a folder that is containing another 20 folders. in @01 i have a value used to sort the folders because I want to use only the folders that starts with V120 and after I get only the folders that I want I only want to see the last 3 of them. therefore  I use: for ($i = 0; $i &lt; scalar(@nr)-7; $i++) {              print &quot;@nr[$i]\\n&quot;;         }"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440937108, "post_id": 32295478, "comment_id": 52469693, "body": "@PopescuEmanuel: <i>&quot;in @01 i have a value used to sort the folders&quot;</i> do you mean the <i>array</i> <code>@01</code> or a <i>file</i> by that name? Normally identifiers start with a letter or an underscore, but without <code>use strict</code> in place you can get away with such monstrosities as <code>@01</code>. And it sounds like it should be a scalar anyway"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 3858383, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000809471624/picture?type=large", "display_name": "Popescu Emanuel", "link": "https://stackoverflow.com/users/3858383/popescu-emanuel"}, "edited": false, "score": 0, "creation_date": 1440942828, "post_id": 32296588, "comment_id": 52471148, "body": "exactly what I want, Also for another Prefix I have to print the last folder, can you please help me with this for my $i ( max(@nr - $tail, 0) .. $#nr ) {     print $nr[$i], &quot;\\n&quot;;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 23, "user_id": 3858383, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000809471624/picture?type=large", "display_name": "Popescu Emanuel", "link": "https://stackoverflow.com/users/3858383/popescu-emanuel"}, "edited": false, "score": 0, "creation_date": 1440945938, "post_id": 32296588, "comment_id": 52472026, "body": "Okay, well you need to work on phrasing your questions better as it is far from clear what you&#39;re looking for. I realise that English is probably not your first language, but I&#39;m sure you could have written more than <i>&quot;I have the following code and I want to see the last 3 folders from a directory&quot;</i> and answered the questions that people asked in the comments. To print just the <i>last</i> entry of <code>@nr</code> you could just set <code>$tail</code> to 1, or you could replace the <code>for</code> loop with just <code>print $nr[-1], &quot;\\n&quot;</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1440937822, "creation_date": 1440937822, "answer_id": 32296588, "question_id": 32295478, "link": "https://stackoverflow.com/questions/32295478/print-string-perl-from-desired-position/32296588#32296588", "title": "print string perl from desired position", "body": "<p>Your code and your question are dreadful, but what I <em>think</em> you're trying to do is this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse File::Spec::Functions qw/ catfile /;\nuse List::Util qw/ max /;\n\nmy $path1 = '~/data';\nmy $prefix = 'V120';\nmy $tail = 3;\n\nmy @nr;\n\nopendir my ($dh), $path1 or die $!;\n\nwhile ( my $file = readdir $dh ) {\n\n    next if $file eq '.' or $file eq '..';\n    next unless $file =~ /^$prefix-/;\n    next unless -d catfile($path1, $file);\n\n    push @nr, $file;\n}\n\nfor my $i ( max(@nr - $tail, 0) .. $#nr ) {\n    print $nr[$i], \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3858383, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000809471624/picture?type=large", "display_name": "Popescu Emanuel", "link": "https://stackoverflow.com/users/3858383/popescu-emanuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1440937822, "creation_date": 1440929995, "last_edit_date": 1440931625, "question_id": 32295478, "link": "https://stackoverflow.com/questions/32295478/print-string-perl-from-desired-position", "title": "print string perl from desired position", "body": "<p>I have the following code and I want to see the last 3 folders from a directory</p>\n\n<pre><code>#read folders\nopendir (DIR, \"$path1\") or die $!;\nwhile ($file = readdir(DIR)) {\n    next if ($file eq \".\" or $file eq \"..\");\n    next unless (-d \"$path1/$file\");     \n    if ($file =~ \"@01-\"){\n        #print \"$file\\n\";\n        push @nr, $file;\n        for ($i = 0; $i &lt; scalar(@nr)-7; $i++) {\n             print \"@nr[$i]\\n\"; #here is the problem\n        }\n    }\n} \nclosedir(DIR);\nexit 0;\n</code></pre>\n"}, {"tags": ["java", "php", "apache", "perl", "xampp"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557846"}, "edited": false, "score": 1, "creation_date": 1440904529, "post_id": 32292796, "comment_id": 52462819, "body": "looks like its already running"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557846"}, "edited": false, "score": 0, "creation_date": 1440904801, "post_id": 32292829, "comment_id": 52462850, "body": "but port 80 is being used by  &quot;C:\\xampp\\apache\\bin\\httpd.exe&quot;"}, {"owner": {"reputation": 13821, "user_id": 5137352, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/852863871429825/picture?type=large", "display_name": "Nabin Bhandari", "link": "https://stackoverflow.com/users/5137352/nabin-bhandari"}, "edited": false, "score": 0, "creation_date": 1440904922, "post_id": 32292829, "comment_id": 52462865, "body": "opps! did you try reinstalling the program?"}, {"owner": {"reputation": 1, "user_id": 5281024, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PqfpR328ScQ/AAAAAAAAAAI/AAAAAAAAABM/3lMUYWjRaIE/photo.jpg?sz=128", "display_name": "Subieguy14", "link": "https://stackoverflow.com/users/5281024/subieguy14"}, "edited": false, "score": 0, "creation_date": 1440968454, "post_id": 32292829, "comment_id": 52478551, "body": "Port is unblocked. Now it only tells me to run apache from my root directory. However, start and admin buttons are gray, along with the check boxes still..."}], "tags": [], "owner": {"reputation": 13821, "user_id": 5137352, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/852863871429825/picture?type=large", "display_name": "Nabin Bhandari", "link": "https://stackoverflow.com/users/5137352/nabin-bhandari"}, "is_accepted": false, "score": 0, "last_activity_date": 1440904760, "creation_date": 1440904760, "answer_id": 32292829, "question_id": 32292796, "link": "https://stackoverflow.com/questions/32292796/cannot-start-apache-on-xampp/32292829#32292829", "title": "Cannot start Apache on XAMPP", "body": "<p>Make sure that skype is not running in your PC while starting Apache. Its because Apache can start only when the port 80 is open. But skype reserves the port. You can exit skype, start Apache, and then start Skype again.</p>\n"}, {"tags": [], "owner": {"reputation": 527, "user_id": 5050129, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6c2f7d5b35844ef3f879ef8ce09507d0?s=128&d=identicon&r=PG&f=1", "display_name": "vicky", "link": "https://stackoverflow.com/users/5050129/vicky"}, "is_accepted": false, "score": 0, "last_activity_date": 1440918519, "creation_date": 1440918519, "answer_id": 32294155, "question_id": 32292796, "link": "https://stackoverflow.com/questions/32292796/cannot-start-apache-on-xampp/32294155#32294155", "title": "Cannot start Apache on XAMPP", "body": "<p>You Don't Need to reinstall it just change the port number of your tomcat server by following procedure:</p>\n\n<p>1.C:\\xampp\\tomcat\\conf\\server.xml</p>\n\n<ol start=\"2\">\n<li><p>change port number </p>\n\n<pre><code>      &lt;Connector port=\"8080\" protocol=\"HTTP/1.1\"\n       connectionTimeout=\"20000\"\n       redirectPort=\"8443\" /&gt;\n</code></pre></li>\n</ol>\n\n<p>8080 to any other that is not used by any other app in your system\nex.1234</p>\n\n<p>it definately works restart your server and then start tomcat......</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 2679147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09d473df73ad45dff3c3a555dba1fa63?s=128&d=identicon&r=PG&f=1", "display_name": "Derrick", "link": "https://stackoverflow.com/users/2679147/derrick"}, "is_accepted": false, "score": 0, "last_activity_date": 1440994624, "creation_date": 1440994624, "answer_id": 32303934, "question_id": 32292796, "link": "https://stackoverflow.com/questions/32292796/cannot-start-apache-on-xampp/32303934#32303934", "title": "Cannot start Apache on XAMPP", "body": "<p>Something similar to this happened to me at work the other day while setting up XAMPP on a Windows 7 laptop.  As soon as the installation completed, I could not start Apache on port 80, because the Apache service was already started, though the XAMPP console showed stopped.  But, Task Manager showed that the httpd service initiated from the XAMPP bin directory.  </p>\n\n<p>I tried uninstalling, reinstalling... but what worked was rebooting the laptop right after installing it.  Once Windows came back up, I verified Apache had not started.  I was then able to successfully open the XAMPP console and start Apache.</p>\n\n<p>Silly Windows....</p>\n\n<p>Hope this helps....</p>\n"}], "owner": {"reputation": 1, "user_id": 5281024, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PqfpR328ScQ/AAAAAAAAAAI/AAAAAAAAABM/3lMUYWjRaIE/photo.jpg?sz=128", "display_name": "Subieguy14", "link": "https://stackoverflow.com/users/5281024/subieguy14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1440994624, "creation_date": 1440904249, "question_id": 32292796, "link": "https://stackoverflow.com/questions/32292796/cannot-start-apache-on-xampp", "title": "Cannot start Apache on XAMPP", "body": "<p>i can't seem to figure out what is blocking my port. however i rechecked what was blocking it, and XAMPP says apache is. then says to start from the root directory? not really to sure how its running into itself, if it doing what it's saying. also, i cannot edit the configure logs with apache on motepad++, just comes up with a blank new note. thanks!</p>\n\n<p>here is the log---</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>10:57:21 PM  [Apache] \tProblem detected: Apache Not Found!\r\n10:57:21 PM  [Apache] \tDisabling Apache buttons\r\n10:57:21 PM  [Apache] \tRun this program from your XAMPP root directory!\r\n10:57:21 PM  [Apache] \tProblem detected!\r\n10:57:21 PM  [Apache] \tPort 80 in use by \"C:\\xampp\\apache\\bin\\httpd.exe\" with PID 15972!\r\n10:57:21 PM  [Apache] \tApache WILL NOT start without the configured ports free!\r\n10:57:21 PM  [Apache] \tYou need to uninstall/disable/reconfigure the blocking application\r\n10:57:21 PM  [Apache] \tor reconfigure Apache and the Control Panel to listen on a different port\r\n10:57:21 PM  [Apache] \tProblem detected!\r\n10:57:21 PM  [Apache] \tPort 443 in use by \"C:\\xampp\\apache\\bin\\httpd.exe\" with PID 15972!\r\n10:57:21 PM  [Apache] \tApache WILL NOT start without the configured ports free!\r\n10:57:21 PM  [Apache] \tYou need to uninstall/disable/reconfigure the blocking application\r\n10:57:21 PM  [Apache] \tor reconfigure Apache and the Control Panel to listen on a different port</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1440903303, "post_id": 32292698, "comment_id": 52462671, "body": "If <code>values %$row</code> contains the values, then <code>keys %$row</code> contains the keys, which are the column names.  What&#39;s the question?"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1440908661, "post_id": 32292698, "comment_id": 52463387, "body": "you might want to keep the hashrefs you get from fetchrow_hashref, with keys pointing to values, if you want both keys and values, instead of pushing only the values into some array which you apparently printed as &quot;RESULTS&quot;, then wondering where the keys went."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1441030375, "post_id": 32301883, "comment_id": 52501719, "body": "Yes I guess the question would be better framed as &quot;I need to fetch table data along with the keys (column names) and construct/display the values in a tabular format for email consumption&quot;.  I saw the Text::Tab link but I don&#39;t fully understand how to combine the email and the query as I am still new at this."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1441042602, "post_id": 32301883, "comment_id": 52508668, "body": "Instead of selecting <code>*</code>, select only the columns you need, in the order you want them. Then use <code>fetchrow_arrayref</code> instead of <code>fetchrow_hashref</code> and build your table according to the docs I linked to above. Render your table to the message body of your email, and you&#39;re all set."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1440974808, "creation_date": 1440974808, "answer_id": 32301883, "question_id": 32292698, "link": "https://stackoverflow.com/questions/32292698/trying-to-fetch-full-table-and-email-results-maintaining-proper-form/32301883#32301883", "title": "Trying to Fetch Full Table and Email Results Maintaining Proper Form", "body": "<p>If what you're asking is how to make a tabular layout using ASCII characters, then what you want is something like <a href=\"https://metacpan.org/pod/Text::TabularDisplay\" rel=\"nofollow\">Text::TabularDisplay</a>.</p>\n"}], "owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1441078668, "creation_date": 1440902994, "last_edit_date": 1441078668, "question_id": 32292698, "link": "https://stackoverflow.com/questions/32292698/trying-to-fetch-full-table-and-email-results-maintaining-proper-form", "title": "Trying to Fetch Full Table and Email Results Maintaining Proper Form", "body": "<pre><code>use strict;\nuse warnings;\n\n# DB Account Parameters\n\nmy $driver = \"mysql\";\nmy $database = \"emegadb\";\nmy $user = \"*****\";\nmy $password = \"*******\";\nmy $dsn = \"DBI:mysql:$database;mysql_local_infile=ON\";\n\nuse DBI;\nmy $dbh = DBI-&gt;connect($dsn,$user,$password)\n  || die \"Unable to connect to database. $DBI::errstr.\\n\";\n\nmy $sth = $dbh-&gt;prepare(\"select * from today1\")\n  || die \"cannot prepare select. $DBI::errstr.\\n\";\n$sth-&gt;execute || die \"cannot execute select. $DBI::errstr.\\n\";\n\nwhile(my $row = $sth-&gt;fetchrow_hashref){\n   my $daily = join (',', values %$row);\n\n   #print \"$daily \\n\";\n   push @table1, \"$daily\";\n}\n$sth-&gt;finish;\n\n$dbh-&gt;disconnect();\n\nMAIL:\nuse Mail::Sendmail qw(sendmail %mailcfg);\n\n#print \"Content-type:text/html\\n\\n\";\n\n%mail = (\n    To      =&gt; 'me@mail.com',\n    From    =&gt; 'daily_adjust@mail.net',\n    Subject =&gt; \" DAILY ADJUST - DATABASE CAPTURE\",\n    Message =&gt; \"DB @table1\\n\");\n\n$mailcfg{smtp} = [qw(db-ibmv1.mail.net)];\n\nsendmail(%mail) or die $Mail::Sendmail::error;\n\nEND:\n\nexit(0);\n</code></pre>\n\n<p>This provides the following results:</p>\n\n<pre><code>DB 95,1,15476,1016,289.7,288.8,000000,03:00:00,2015-08-29\n286.9,15194,1016,287.7,000000,06:00:00,2015-08-29,100,2\n3,95,09:00:00,2015-08-29,000000,15476,289.7,1016,289.0\n17379,1016,294.8,294.0,000000,12:00:00,2015-08-29,76,4\n77,5,294.5,295.2,17569,1.... ETC\n</code></pre>\n\n<p>What I want is - with column names</p>\n\n<pre><code>+------+------------+----------+----------+------+-------+-------+--------+--------+\n| id   | date       | time     | percent  | hpa  | min   | max   | dem    | sumadd |\n+------+------------+----------+----------+------+-------+-------+--------+--------+\n|    1 | 2015-08-29 | 03:00:00 |       95 | 1016 | 288.8 | 289.7 |  15476 | 000000 |\n|    2 | 2015-08-29 | 06:00:00 |      100 | 1016 | 286.9 | 287.7 |  15194 | 000000 |\n|    3 | 2015-08-29 | 09:00:00 |       95 | 1016 | 289.0 | 289.7 |  15476 | 000000 |\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1440896604, "post_id": 32292136, "comment_id": 52461716, "body": "Perl only says: &quot;The only universally recognized values for EXPR are 0 for success and 1 for error; other values are subject to interpretation depending on the environment in which the Perl program is running.&quot; The documentation probably assumes you already know that Unix exit values are taken modulo 256."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1440950526, "post_id": 32292136, "comment_id": 52473336, "body": "<code>exit</code> can take larger than 255 on Windows."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440950961, "post_id": 32292136, "comment_id": 52473456, "body": "@melpomene, That just reflects the limits of what C guarantees. The actual range of values are range values are much larger (at least 0..255) on all modern systems (except maybe on VMS with which I&#39;m not familiar)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1440967862, "post_id": 32292136, "comment_id": 52478380, "body": "@Keith Thompson, I know.  I just said that. Did you misread what I said? Anyway, the point is that melopomene statement is useless since it reflects the entirety of systems C can run on, and not the ones the script will be run on"}], "tags": [], "owner": {"reputation": 16204, "user_id": 58089, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/27DPo.jpg?s=128&g=1", "display_name": "Eric Johnson", "link": "https://stackoverflow.com/users/58089/eric-johnson"}, "is_accepted": false, "score": 5, "last_activity_date": 1440897718, "last_edit_date": 1440897718, "creation_date": 1440895806, "answer_id": 32292136, "question_id": 32292101, "link": "https://stackoverflow.com/questions/32292101/why-does-exit65280-cause-perl-to-exit-with-an-exit-status-of-0/32292136#32292136", "title": "Why does exit(65280) cause Perl to exit with an exit status of 0?", "body": "<blockquote>\n  <p>exit only takes integer args from 0 - 255. </p>\n</blockquote>\n\n<p>Also:</p>\n\n<blockquote>\n  <p>Out of range exit values\n  can result in unexpected exit codes. An exit value greater than 255\n  returns an exit code modulo 256. For example, exit 3809 gives an exit\n  code of 225 (3809 % 256 = 225).</p>\n</blockquote>\n\n<p>Take a look at this page from <em>The Linux Documentation Project</em> on <a href=\"http://tldp.org/LDP/abs/html/exitcodes.html\" rel=\"noreferrer\"><em>Exit Codes With Special Meanings</em></a>.</p>\n\n<p>Perl is written in C and so is Bash.  So I think its the same for Perl.  I guess Bash has this better documented than Perl?  Or else I'm not looking in the right place in the Perl docs.</p>\n"}], "owner": {"reputation": 16204, "user_id": 58089, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/27DPo.jpg?s=128&g=1", "display_name": "Eric Johnson", "link": "https://stackoverflow.com/users/58089/eric-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 995, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440897718, "creation_date": 1440895385, "last_edit_date": 1440895999, "question_id": 32292101, "link": "https://stackoverflow.com/questions/32292101/why-does-exit65280-cause-perl-to-exit-with-an-exit-status-of-0", "title": "Why does exit(65280) cause Perl to exit with an exit status of 0?", "body": "<p>Why does <code>exit(65280)</code> cause Perl to exit with an exit status of 0?</p>\n\n<pre><code>perl -e 'exit(65280)'\necho $?   # returns 0\n</code></pre>\n"}, {"tags": ["macos", "bash", "perl"], "comments": [{"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1440893574, "post_id": 32291921, "comment_id": 52461255, "body": "What about identical non-consecutive lines?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440893622, "post_id": 32291921, "comment_id": 52461263, "body": "The line <code>Referer: http:&#47;&#47;www.apple.com&#47;</code> appears twice in your output...I assume you mean you only want to get rid of <i>consecutive</i> duplicate lines?"}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1440893708, "post_id": 32291921, "comment_id": 52461277, "body": "And how do you feel about sed? (Perl could do it, but that seems like overkill.)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1440894967, "post_id": 32291921, "comment_id": 52461473, "body": "@Beta What&#39;s overkill about <code>perl -i -ne&#39;next if $_ eq $prev; $prev = $_; s&#47;\\.$&#47;&#47;; print&#39; &#47;path&#47;to&#47;file</code> ? ;)"}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1440895619, "post_id": 32291921, "comment_id": 52461571, "body": "@ThisSuitIsBlackNot: You mean compared to <code>sed &#39;s&#47;.$&#47;&#47;&#39; filename | uniq</code>?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1440897076, "post_id": 32291921, "comment_id": 52461788, "body": "@Beta Ah, but you never said anything about <code>uniq</code>. <code>perl -pe&#39;s&#47;.$&#47;&#47;&#39; filename | uniq</code> ;P"}, {"owner": {"reputation": 9889, "user_id": 3076724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WUKmO.png?s=128&g=1", "display_name": "Reinstate Monica Please", "link": "https://stackoverflow.com/users/3076724/reinstate-monica-please"}, "edited": false, "score": 0, "creation_date": 1440898920, "post_id": 32291921, "comment_id": 52462107, "body": "You have a perl script that you want help with ... so show the script. Also, what does this have to do with bash/osx?"}, {"owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440901973, "post_id": 32291921, "comment_id": 52462496, "body": "@ThisSuitIsBlackNot Correct, I only want immediately consecutive lines to be removed."}, {"owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "reply_to_user": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1440902074, "post_id": 32291921, "comment_id": 52462514, "body": "@Beta Sed is fine, but I don&#39;t have a file name, my output is being created live through ettercap being piped through grep to only show &#39;Referer:&#39;"}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440902397, "post_id": 32291921, "comment_id": 52462554, "body": "No problem, sed can suck on a pipe. (Right now I&#39;m trying to get my uniq-imitating sed command to work, so I can answer @ThisSuitIsBlackNot...)"}], "answers": [{"tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": false, "score": 2, "last_activity_date": 1440960032, "last_edit_date": 1440960032, "creation_date": 1440911028, "answer_id": 32293349, "question_id": 32291921, "link": "https://stackoverflow.com/questions/32291921/perl-dont-allow-same-line-to-show-twice/32293349#32293349", "title": "Perl- Don&#39;t allow same line to show twice", "body": "<p>First ask yourself how would you solve this with pencil and paper, where you are uncovering lines on source page one at a time and then writing them over to another page.  You may have a whiteboard to keep track of things temporarily.</p>\n\n<ol>\n<li>Read a line from the source page.</li>\n<li>If the line hasn't been seen before (ie, it's not written on your whiteboard), write it to your new sheet of paper. (The first line you read will never have been seen before, of course).</li>\n<li>Save the line you just read by writing it down on a whiteboard.</li>\n<li>Read the next line from the source page.</li>\n<li>Look on the whiteboard and see if it's written there.</li>\n<li>If it is not written on the whiteboard, write it on your destination page.</li>\n<li>Erase your whiteboard and write the line you just read on it so that you can check again later.</li>\n<li>Repeat as long as there are lines on the source page remaining to be read.</li>\n</ol>\n\n<p>So here's a Perl implementation of that algorithm. However, the same algorithm could be implemented in many languages.</p>\n\n<pre><code>open my $infile, '&lt;', shift or die $!;\nmy $whiteboard = q{};\nwhile( &lt;$infile&gt; ) {\n    print unless $_ eq $whiteboard;\n    $whiteboard = $_;\n}\n</code></pre>\n\n<p>This could be written as a Perl one-liner like this:</p>\n\n<pre><code>perl -ne 'print unless defined $tmp &amp;&amp; $tmp eq $_; $tmp = $_;' filename.txt\n</code></pre>\n\n<p>The second part of your question is how to eliminate a trailing dot.  So for the first example, you might do this:</p>\n\n<pre><code>open my $infile, '&lt;', shift or die $!;\nmy $whiteboard = q{};\nwhile( &lt;$infile&gt; ) {\n    s/\\.$//;\n    print unless $_ eq $whiteboard;\n    $whiteboard = $_;\n}\n</code></pre>\n\n<p>Or as a one-liner:</p>\n\n<pre><code>perl -ne 's/\\.$//; print unless defined $tmp &amp;&amp; $tmp eq $_; $tmp = $_;' filename.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1440959729, "post_id": 32293397, "comment_id": 52476073, "body": "This does not answer the question.  If the question were &quot;How do I remove duplicates from a file while not caring about order.&quot;, it would be great.  But when the question is &quot;How do I prevent contiguous repeats while allowing dis-contiguous  repeats, and at the same time eliminate a dot if it appears at the end of the line?&quot;, it&#39;s not close."}], "tags": [], "owner": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "is_accepted": false, "score": 0, "last_activity_date": 1440937949, "last_edit_date": 1440937949, "creation_date": 1440911575, "answer_id": 32293397, "question_id": 32291921, "link": "https://stackoverflow.com/questions/32291921/perl-dont-allow-same-line-to-show-twice/32293397#32293397", "title": "Perl- Don&#39;t allow same line to show twice", "body": "<p>if you don't care the order, you can try this:</p>\n\n<pre><code>perl -nale 's/\\.$//; $h{$_}++; END{foreach(keys %h){print}}' /path/to/file\n</code></pre>\n\n<p>Use <code>s/\\.$//;</code> to remove <code>.</code> at the end of line. And use a hash to remove duplicate lines.</p>\n"}], "owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "answer_count": 2, "score": -4, "last_activity_date": 1440960032, "creation_date": 1440893467, "question_id": 32291921, "link": "https://stackoverflow.com/questions/32291921/perl-dont-allow-same-line-to-show-twice", "title": "Perl- Don&#39;t allow same line to show twice", "body": "<p>I have a perl script, and I would like prevent input such as</p>\n\n<pre><code>Referer: http://www.apple.com/.\nReferer: http://www.apple.com/diversity/.\nReferer: http://www.apple.com/diversity/.\nReferer: http://www.apple.com/diversity/.\nReferer: http://www.apple.com/.\nReferer: http://www.apple.com/apple-events/september-2015/.\n</code></pre>\n\n<p>from showing the same line twice, with a desired output of</p>\n\n<pre><code>Referer: http://www.apple.com/\nReferer: http://www.apple.com/diversity/\nReferer: http://www.apple.com/\nReferer: http://www.apple.com/apple-events/september-2015/\n</code></pre>\n\n<p>Also, how can I get rid of the \".\" at the end of each line?\nThanks in advance!</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1440888519, "last_edit_date": 1440888519, "creation_date": 1440888149, "answer_id": 32291404, "question_id": 32291367, "link": "https://stackoverflow.com/questions/32291367/why-stoutest-is-not-a-valid-regular-expression/32291404#32291404", "title": "Why `stoutest` is not a valid regular expression?", "body": "<p>The substitute operator starts with an <code>s</code> identifier, and you code doesn't have one. Gotta use</p>\n\n<pre><code>s toutest\n</code></pre>\n\n<p>If it worked the way you think, we couldn't have any operators or subroutines that start with <code>m</code>, <code>s</code>, <code>tr</code>, <code>q</code> or <code>y</code> since all of them can be followed by any non-whitespace delimiter.</p>\n\n<hr>\n\n<p>Ironically, your very own code proves demonstrates why it can't be the way you think. If it worked the way you think</p>\n\n<pre><code>$_ = qw/ou/; stoutest; print\n</code></pre>\n\n<p>wouldn't be equivalent to</p>\n\n<pre><code>$_ = qw/ou/; s/ou/es/; print\n</code></pre>\n\n<p>It would be equivalent to</p>\n\n<pre><code>$_ = q'/ou/; stoutest; print\n</code></pre>\n\n<p>aka</p>\n\n<pre><code>$_ = '/ou/; stoutest; print\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 4, "last_activity_date": 1440888183, "creation_date": 1440888183, "answer_id": 32291410, "question_id": 32291367, "link": "https://stackoverflow.com/questions/32291367/why-stoutest-is-not-a-valid-regular-expression/32291410#32291410", "title": "Why `stoutest` is not a valid regular expression?", "body": "<p>Because <code>stoutest</code>, or any other string of alphanumeric characters, is a single token in the eyes of the Perl parser. Otherwise we couldn't use any barewords that begin with <code>s</code> (or <code>m</code>, or <code>q</code>, or <code>y</code>).</p>\n\n<p>This works, though</p>\n\n<pre><code>$_ = \"ou\";\ns toutest;\nprint\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1441576471, "post_id": 32291456, "comment_id": 52722475, "body": "&quot;Because Perl can&#39;t pick out the operator s&quot; ...without forbidding functions with names starting with &quot;s&quot;."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 12, "last_activity_date": 1440888683, "creation_date": 1440888683, "answer_id": 32291456, "question_id": 32291367, "link": "https://stackoverflow.com/questions/32291367/why-stoutest-is-not-a-valid-regular-expression/32291456#32291456", "title": "Why `stoutest` is not a valid regular expression?", "body": "<p>Because Perl can't pick out the operator <code>s</code></p>\n\n<p><a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\"><code>perldoc perlop</code></a> says this</p>\n\n<blockquote>\n  <p>Any non-whitespace delimiter may replace the slashes. Add space after the s when using a character allowed in identifiers. </p>\n</blockquote>\n\n<p>This program works fine</p>\n\n<pre><code>my $s = 'bout';\n$s =~ s toutest;\nsay $s;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>best\n</code></pre>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 32291456, "answer_count": 3, "score": 6, "last_activity_date": 1440888683, "creation_date": 1440887826, "question_id": 32291367, "link": "https://stackoverflow.com/questions/32291367/why-stoutest-is-not-a-valid-regular-expression", "title": "Why `stoutest` is not a valid regular expression?", "body": "<p>From <a href=\"http://perldoc.perl.org/perlop.html\"><code>perlop</code></a>:</p>\n\n<blockquote>\n  <p>If \"/\" is the delimiter then the initial m is optional. With the m you can use any pair of non-whitespace characters as delimiters. This is particularly useful for matching path names that contain \"/\", to avoid LTS (leaning toothpick syndrome). If \"?\" is the delimiter, then the match-only-once rule of ?PATTERN? applies. If \"'\" is the delimiter, no interpolation is performed on the PATTERN. When using a character valid in an identifier, whitespace is required after the m.</p>\n</blockquote>\n\n<p>So I can pick up any letter as a delimiter. Eventually this regex should be fine:</p>\n\n<pre><code>stoutest\n</code></pre>\n\n<p>That can be rewritten</p>\n\n<pre><code>s/ou/es/\n</code></pre>\n\n<p>However it does not seems to work in Perl. Why?</p>\n\n<pre><code>$ perl -e '$_ = qw/ou/; stoutest; print'\nou\n</code></pre>\n"}, {"tags": ["linux", "perl", "module", "makefile"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1440888323, "post_id": 32290789, "comment_id": 52460291, "body": "Try <code>make -d</code> to debug your <code>make</code> session. Maybe there&#39;s another recognized makefile name in your directory?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1440892785, "post_id": 32290789, "comment_id": 52461140, "body": "It works for me on Mac OS X. cpan even install it. Is there a Makefile after you run the perl step?"}, {"owner": {"reputation": 13026, "user_id": 2125837, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/760b6ec2b6e1cba2b0218178425f4cde?s=128&d=identicon&r=PG", "display_name": "xpt", "link": "https://stackoverflow.com/users/2125837/xpt"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1440936050, "post_id": 32290789, "comment_id": 52469378, "body": "@mob, Ahhh, silly me. You nailed it -- there&#39;s another recognized makefile name in my directory. Bingo! Now, the new problem is that SO&#39;s practice is to delete such trivial questions. <b>Should I do so?</b>"}], "owner": {"reputation": 13026, "user_id": 2125837, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/760b6ec2b6e1cba2b0218178425f4cde?s=128&d=identicon&r=PG", "display_name": "xpt", "link": "https://stackoverflow.com/users/2125837/xpt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1440885950, "creation_date": 1440883396, "last_edit_date": 1440885950, "question_id": 32290789, "link": "https://stackoverflow.com/questions/32290789/using-extutilsmakemaker-to-make-perl-modules-and-overcome-make-error", "title": "Using ExtUtils::MakeMaker to make Perl modules, and overcome make error", "body": "<p>I have a Perl module that builds OK ten years ago, but now it is not building at all. I'm wondering where to start first to make it builds again. </p>\n\n<p>My module is <a href=\"http://search.cpan.org/~suntong/File-FindSimilars-2.06/\" rel=\"nofollow\">http://search.cpan.org/~suntong/File-FindSimilars-2.06/</a>.\nThe files are shown in <a href=\"http://search.cpan.org/src/SUNTONG/File-FindSimilars-2.06/\" rel=\"nofollow\">http://search.cpan.org/src/SUNTONG/File-FindSimilars-2.06/</a>. </p>\n\n<p>Now here is how I build the module and what I got:</p>\n\n<pre><code>$ rm Makefile\n\n$ perl Makefile.PL \nChecking if your kit is complete...\nLooks good\nGenerating a Unix-style Makefile\nWriting Makefile for File::FindSimilars\nWriting MYMETA.yml and MYMETA.json\n\n$ make\nmake: Nothing to be done for 'all'.\n\n$ make dist\nmake: *** No rule to make target 'dist'.  Stop.\n\n$ perl -v\n\nThis is perl 5, version 20, subversion 2 (v5.20.2) built for x86_64-linux-gnu-thread-multi\n(with 39 registered patches, see perl -V for more detail)\n\n$ make -v\nGNU Make 4.0\nBuilt for x86_64-pc-linux-gnu\n</code></pre>\n\n<p>That <code>make dist</code> used to give me the built module in .tar.gz form before. But why it is not working now? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 9, "last_activity_date": 1440882479, "last_edit_date": 1440882479, "creation_date": 1440881612, "answer_id": 32290568, "question_id": 32290480, "link": "https://stackoverflow.com/questions/32290480/difference-between-s-and-s-in-perl/32290568#32290568", "title": "Difference between &quot;(\\S+)\\.|&quot; and &quot;(\\S+) |&quot; in Perl", "body": "<p><code>(\\S+)\\.|</code> will match and capture any number (one or more) of non-space characters, followed by a dot character.</p>\n\n<p><code>(\\S+) |</code> will match and capture any number (one or more) of non-space characters, followed by a space character (assuming the regular expression isn't modified with a <code>/x</code> flag).</p>\n\n<p>In both cases, these constructs appear to be one component of an alternation.</p>\n\n<p>Breaking it down:</p>\n\n<ul>\n<li><code>(</code>....<code>)</code> : Group and capture.</li>\n<li><code>\\S</code> : Non-space character.</li>\n<li><code>+</code> : One or more. </li>\n<li><code>\\.</code> : A dot character (without the backslash escape, the\ndot has special meaning).</li>\n<li><code></code> : Just an ordinary single space.</li>\n<li><code>|</code> : Alternation (similar to logical or).</li>\n</ul>\n\n<p>See <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"noreferrer\">perlretut</a> for a crash course in Perl's regular expressions.  Also <a href=\"http://perldoc.perl.org/perlintro.html\" rel=\"noreferrer\">perlintro</a> is a good starting point for learning Perl, and <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"noreferrer\">perlre</a> is the canonical explanation of Perl's regular expressions.  There are many other useful documents in Perl's documentation, but these would get you moving in the right direction.</p>\n\n<p>If you want to learn everything there was to know in 2005 about common regular expression flavors, <a href=\"http://shop.oreilly.com/product/9780596528126.do\" rel=\"noreferrer\">Mastering Regular Expressions, 3rd Edition</a> is unparalleled.  And despite being a few years old, it's still one of the best resources anywhere on regular expressions.</p>\n"}], "owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9237, "favorite_count": 1, "closed_date": 1549710414, "accepted_answer_id": 32290568, "answer_count": 1, "score": -6, "last_activity_date": 1440908917, "creation_date": 1440881047, "last_edit_date": 1440908917, "question_id": 32290480, "link": "https://stackoverflow.com/questions/32290480/difference-between-s-and-s-in-perl", "closed_reason": "Duplicate", "title": "Difference between &quot;(\\S+)\\.|&quot; and &quot;(\\S+) |&quot; in Perl", "body": "<p>I have no idea what the difference between <code>(\\S+) |</code> and <code>(\\S+)\\.|</code> is.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1440868674, "post_id": 32288682, "comment_id": 52454929, "body": "You actually using regex but you mentioned as glob"}, {"owner": {"reputation": 149, "user_id": 1803860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd24095542a64326d4374ff6e93ea92a?s=128&d=identicon&r=PG", "display_name": "ewd", "link": "https://stackoverflow.com/users/1803860/ewd"}, "edited": false, "score": 0, "creation_date": 1440868865, "post_id": 32288682, "comment_id": 52454984, "body": "I&#39;ve read that with perl there can be more than one way of doing it.  In this case you already have the file names in @files, maybe you just need to iterate through that array and use a regular expression to filter the file names you&#39;re looking for.  Then paste the file name and the directory name together and use the path to access the file."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1440875124, "post_id": 32288682, "comment_id": 52456959, "body": "how about <code>for my $fn ( grep{ $_ =~ &#47;\\.txt$&#47; }@files ){</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440877483, "post_id": 32289738, "comment_id": 52457666, "body": "While it may be true that <code>$dir</code> is a <i>reference</i> to a glob, it&#39;s generally considered to be a  lexical directory handle and it&#39;s best to think of it that way"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440878252, "post_id": 32289738, "comment_id": 52457843, "body": "That code won&#39;t compile; the <code>open</code> call won&#39;t find the files because it&#39;s looking in the wrong directory, which is the problem the OP had originally; the regex doesn&#39;t need that capture <code>(.*)</code> in it, and it should really have a case-independent modifier <code>&#47;i</code>"}], "tags": [], "owner": {"reputation": 2112, "user_id": 2992891, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1a7b81201a434521f931f77de9514d5?s=128&d=identicon&r=PG", "display_name": "pcantalupo", "link": "https://stackoverflow.com/users/2992891/pcantalupo"}, "is_accepted": false, "score": -1, "last_activity_date": 1440875035, "creation_date": 1440875035, "answer_id": 32289738, "question_id": 32288682, "link": "https://stackoverflow.com/questions/32288682/unable-to-open-files-returned-by-readdir-in-perl/32289738#32289738", "title": "Unable to open files returned by readdir in Perl", "body": "<p>Using <code>$dir</code> in the glob is incorrect. <code>$dir</code> is a GLOB type not a string value. Rather you should be looping over the <code>@files</code> array and looking for names that match what you want. Maybe something like so:</p>\n\n<pre><code>foreach my $fp (@files) {\n  if ($fp =~ /(.*).txt/) {\n    print \"$fp is a .txt\\n\";\n    open (my $in, \"&lt;\", $fp)\n    while (&lt;$in&gt;) ...\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 1627343, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/72baf012f3c9513ff6b3b66cad5bff6b?s=128&d=identicon&r=PG", "display_name": "Agata", "link": "https://stackoverflow.com/users/1627343/agata"}, "edited": false, "score": 0, "creation_date": 1440953014, "post_id": 32290023, "comment_id": 52474042, "body": "thanks for your comments. i tried that but i have a problem with the continuation. what is wrong in the follow code?"}, {"owner": {"reputation": 3, "user_id": 1627343, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/72baf012f3c9513ff6b3b66cad5bff6b?s=128&d=identicon&r=PG", "display_name": "Agata", "link": "https://stackoverflow.com/users/1627343/agata"}, "edited": false, "score": 0, "creation_date": 1440953712, "post_id": 32290023, "comment_id": 52474247, "body": "pleas read up the code :/ in the first message"}, {"owner": {"reputation": 3, "user_id": 1627343, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/72baf012f3c9513ff6b3b66cad5bff6b?s=128&d=identicon&r=PG", "display_name": "Agata", "link": "https://stackoverflow.com/users/1627343/agata"}, "edited": false, "score": 0, "creation_date": 1440954447, "post_id": 32290023, "comment_id": 52474462, "body": "I need to locate in the directory &#39;programmi&#39; all programs that fall under the time indicated. For example, if the time indicated is 21 must be returned all the programs provided in the entire time (thus, for example, those programmed for 21:00, 21:15, 21:30, 21:55, etc.) The &#39;programmi&#39; directory contains several text files (for example, Rai 1, Rai 2, Rai 3, RaiMovie, Raisport1, etc), each of which defines the television program schedule for a day"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1440878069, "last_edit_date": 1440878069, "creation_date": 1440877268, "answer_id": 32290023, "question_id": 32288682, "link": "https://stackoverflow.com/questions/32288682/unable-to-open-files-returned-by-readdir-in-perl/32290023#32290023", "title": "Unable to open files returned by readdir in Perl", "body": "<p>The main problem you have is that the file names returned by <code>readdir</code> have no path, so you're trying to open, say, <code>x.txt</code> when you should be opening <code>../Sc/direct/x.txt</code>. The file doesn't exist in the current working directory so your <code>open</code> call fails</p>\n\n<p>You also have a strange mixture of stuff in <code>glob(\"$dir/(.*).txt/\")</code> which looks a little like a regex pattern, which <code>glob</code> doesn't understand. The value of <code>$dir</code> is a directory handle left open from the <code>opendir</code> on the first line. What you should be using is <code>glob '../Sc/direct/*.txt'</code>, but then there's no need for the <code>readdir</code></p>\n\n<p>There are two ways to find the contents of a file. You can use <code>opendir</code> and <code>readdir</code> to read everything in the directory, or you can use <code>glob</code></p>\n\n<p>The first method returns only the bare name of each entry, which means you must concatenate each name with the path to the containing directory, preferably using <code>catfile</code> from <a href=\"https://metacpan.org/pod/File::Spec::Functions\" rel=\"nofollow\">File::Spec::Functions</a>. It also includes the pseudo-directories <code>.</code> and <code>..</code> so you must filter those out before you can use the list of names</p>\n\n<p><code>glob</code> has neither of these disadvantages. All the strings it returns are real directory entries, and they will include a path if you provided one in the pattern you passed as a parameter</p>\n\n<p>You seem to have become rather muddled over the two, so I have written this program which differentiates between the two approaches. I hope it makes things clearer</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10.1;\nuse autodie;\n\nuse File::Spec::Functions qw/ catfile /;\n\nmy  $dir = '../Sc/direct';\n\n\n### Using glob\n\nfor my $file ( glob catfile($dir, '*.txt') ) {\n    print qq{Opening \"$file\"\\n};\n    open my $fh, '&lt;', $file;\n\n    # Do stuff with the data from $fh\n}\n\n\n### Using opendir / readdir\n\nopendir my ($dh), $dir;\nmy @files = grep { -f and /\\.txt$/i } readdir $dir;\nclosedir $dh;\n\nfor my $file ( @files ) {\n    $file = catfile($dir, $file);\n    print qq{Opening \"$file\"\\n};\n    open my $fh, '&lt;', $file;\n\n    # Do stuff with the data from $fh\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 1627343, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/72baf012f3c9513ff6b3b66cad5bff6b?s=128&d=identicon&r=PG", "display_name": "Agata", "link": "https://stackoverflow.com/users/1627343/agata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "closed_date": 1440878344, "answer_count": 2, "score": 0, "last_activity_date": 1440953669, "creation_date": 1440868271, "last_edit_date": 1440953669, "question_id": 32288682, "link": "https://stackoverflow.com/questions/32288682/unable-to-open-files-returned-by-readdir-in-perl", "closed_reason": "Duplicate", "title": "Unable to open files returned by readdir in Perl", "body": "<p>I have a problem with a Perl script, as follows.</p>\n\n<p>I must open and analyze all the *.txt files in a directory, but I cannot. </p>\n\n<p>I can read file names that are saved in the <code>@files</code> array and printed, but I cannot open those files for reading.</p>\n\n<p>This is my code:\n<code>\n    my $dir= \"../Scrivania/programmi\" ;</p>\n\n<pre>opendir my ($dh), $dir;\nmy @files = grep { -f and /\\.txt/i } readdir $dir;\nclosedir $dh;\n\nfor my $file ( @files ) {\n$file = catfile($dir, $file);\nprint qq{Opening \"$file\"\\n};\nopen my $fh, '&lt;', $file;\n\n# Do stuff with the data from $fh\n\nprint \"sono nel foreach\\n\";\nprint \" in : \".\"$fh\\n\";\n#open(CANALI,$fh);\n#@righe=&lt;CANALI&gt;;\n#close(CANALI);\n#print \"canali:\".\"@righe\\n\";\n#foreach $canali (@righe)\n#{\n#   $canali =~ /\\d\\d:\\d\\d (-) (.*)/;\n#   $ora= $1;\n#   \n#   if($hhSplit[0] == $ora) \n#   {\n#       push(@output, \"$canali\");\n#       \n#   }\n#}\n\n}\n</code></pre>\n\n<p></p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 2112, "user_id": 2992891, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1a7b81201a434521f931f77de9514d5?s=128&d=identicon&r=PG", "display_name": "pcantalupo", "link": "https://stackoverflow.com/users/2992891/pcantalupo"}, "is_accepted": false, "score": 1, "last_activity_date": 1440861832, "creation_date": 1440861832, "answer_id": 32287624, "question_id": 32287466, "link": "https://stackoverflow.com/questions/32287466/is-there-an-updating-match-counter-which-i-can-use-as-a-prefix-in-the-replace-te/32287624#32287624", "title": "Is there an updating match counter which I can use as a prefix in the replace text?", "body": "<p>something like this should do:\n<code>\n$ perl -e '$string = \"position position position\"; $i=1; $string =~ s/(position)/\"$1 \" . $i++/ge; print $string'\nposition 1 position 2 position 3\n</code></p>\n\n<p>the trick here is to use the <code>e</code> option which will evaluate the replacement text as a Perl expression. </p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1440861924, "creation_date": 1440861924, "answer_id": 32287638, "question_id": 32287466, "link": "https://stackoverflow.com/questions/32287466/is-there-an-updating-match-counter-which-i-can-use-as-a-prefix-in-the-replace-te/32287638#32287638", "title": "Is there an updating match counter which I can use as a prefix in the replace text?", "body": "<p>No, there is no predefined counter, but you can easily create one yourself:</p>\n\n<pre><code>my $i = 1;\ns/position/ \"position \" . $i++ /eg;\n</code></pre>\n\n<p>(Using the <code>/e</code> flag to tell perl to parse the replacement part as a block of code, not a string.)</p>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440878851, "post_id": 32290212, "comment_id": 52457982, "body": "Won&#39;t that keep counting up even for different <code>$string</code>s?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440879122, "post_id": 32290212, "comment_id": 52458047, "body": "Sure it keeps counting, but so does any counter unless you do something to make it not do that."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440879384, "post_id": 32290212, "comment_id": 52458103, "body": "No, the other answers will restart from <code>1</code>."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440879574, "post_id": 32290212, "comment_id": 52458160, "body": "Your lexical variable doesn&#39;t magically reset itself. Try it and post your answer. You&#39;ll see that you had to do something extra to reset your counter."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440879974, "post_id": 32290212, "comment_id": 52458283, "body": "And, now explain the extra thing you did to reset the counter, because, as I said, you had to do something extra. When you realize that I&#39;m right, perhaps you can remove the downvote too :)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440880268, "post_id": 32290212, "comment_id": 52458357, "body": "I did nothing extra. I literally copy/pasted the code from here. (Also, that code doesn&#39;t &quot;reset&quot; anything because every execution of <code>my</code> creates a new variable.) But I&#39;d be interested to see how you could get the <code>my $i</code> solution to not &quot;reset&quot; without changing the code."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440880403, "post_id": 32290212, "comment_id": 52458392, "body": "No, you created a new scope and a new counter variable. Getting it to not reset is easy. Just do the operations in the same scope. Your answer doesn&#39;t show the extra thing you did and what people need to do to start from 1 on each substation. You left out most of your work but using the hidden assumptions of your hidden work to miss the other things you had to do to make it work."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440880693, "post_id": 32290212, "comment_id": 52458462, "body": "The new scope isn&#39;t relevant. Creating a new counter variable isn&#39;t something &quot;extra&quot;; it&#39;s part of the code in the answer."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440880895, "post_id": 32290212, "comment_id": 52458511, "body": "If you think stuff that you have to include beyond what you&#39;ve shown isn&#39;t &quot;extra&quot;, then there are problems beyond your understanding of Perl. The new scope is exactly relevant because what you claim doesn&#39;t happen without it."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440881139, "post_id": 32290212, "comment_id": 52458570, "body": "OK, you&#39;ve lost me. What is the stuff I have to include?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440889795, "post_id": 32290212, "comment_id": 52460560, "body": "Well, I lost you before you first commented. Look at the code in your answer here, then look at the code you posted to that other site. The code you posted on the other site is much longer. Why? Because you need more to make it work. Without the new scope of each iteration of the foreach loop, your counter will not reset to 1 for each match. However, none of that shows up in your answer on Stackoverflow. It&#39;s something you have to add and it&#39;s relevant. Go back to your third party post and do it all in the same scope and see what happens. But, this is what I&#39;ve been saying all along."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440895074, "post_id": 32290212, "comment_id": 52461488, "body": "Notice what you did though. You explicitly reset the value of the variable before you used it again. As I&#39;ve been saying, you have to do something extra to get it to do that, and you keep doing it. It works because you do extra work to make it work. If you turn on warnings, perl will bug you about the second variable declaration masking the first."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440895255, "post_id": 32290212, "comment_id": 52461519, "body": "No, I never reset any variable in there. I also don&#39;t use variables &quot;again&quot;. There&#39;s no extra code added. What are you talking about?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440895398, "post_id": 32290212, "comment_id": 52461540, "body": "Look at the code. You have two lines that say <code>my $i = 1;</code>. I shouldn&#39;t have to say it, but you really need to start paying attention. It&#39;s your code and you don&#39;t even know what you wrote."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440895448, "post_id": 32290212, "comment_id": 52461548, "body": "I also have two lines that say <code>s&#47;position&#47; &quot;position &quot; . $i++ &#47;eg</code>. What&#39;s your point?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440895593, "post_id": 32290212, "comment_id": 52461565, "body": "Your point is that the counter will keep going, which is why you commented on my answer. But in your example, you reset the counter. You take a variable of the same name and give it a new value. Take out that second declaration of <code>$i</code> and try again. Try to keep up here."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440896048, "post_id": 32290212, "comment_id": 52461633, "body": "No, taking out the second declaration would be doing something extra: It would remove code from the example. As I said above, every execution of <code>my</code> creates a new variable, which is why my solution works as-is no matter what context you place it in: At the top level, in a block, in a loop, in a sub, ... BTW, I&#39;ve figured out a way to make a loop without opening a new scope as you requested: <a href=\"http://ideone.com/Di9k0t\" rel=\"nofollow noreferrer\">ideone.com/Di9k0t</a>. It still works."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440896211, "post_id": 32290212, "comment_id": 52461658, "body": "Notice in the goto that you once again initialize a new variable. You have to keep initializing it to make it work, which has always been my point. As for your answer here, code snippets and short explanations are often lacking in the things that person asking the question needs to know. Your confusion probably stems from your poor coding practice that using warnings will tell you about. So, let&#39;s leave it at that because I don&#39;t think you really care."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440896331, "post_id": 32290212, "comment_id": 52461678, "body": "Yes, and creating and initializing a new variable is part of my answer. It&#39;s not something extra you have to add."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 3, "last_activity_date": 1440878737, "creation_date": 1440878737, "answer_id": 32290212, "question_id": 32287466, "link": "https://stackoverflow.com/questions/32287466/is-there-an-updating-match-counter-which-i-can-use-as-a-prefix-in-the-replace-te/32290212#32290212", "title": "Is there an updating match counter which I can use as a prefix in the replace text?", "body": "<p>Make your own counter. Declare a <code>state</code> in the replacement side of the substitution and increment it for each replacement. This is similar to other answers except for the scope of the variable:</p>\n\n<pre><code>use v5.10;\n\nmy $string  = 'position position position';\n\n$string =~ s{position}{\n    state $i = 0;\n    $i++;\n    \"POS $i\"\n    }ge;\n\nsay $string;\n</code></pre>\n\n<p>The capture variables are available, so you can use <code>$1</code>, <code>$&amp;</code>, and so on:</p>\n\n<pre><code>use v5.10;\n\nmy $string  = 'position position position';\n\n$string =~ s{position}{\n    state $i = 0;\n    $i++;\n    \"$&amp; $i\"\n    }ge;\n\nsay $string;\n</code></pre>\n\n<p>But, since you need v5.10 for <code>state</code>, you can use the <code>/p</code> switch and the <code>${^MATCH}</code> variable (a per-match rather than global version of <code>$&amp;</code>):</p>\n\n<pre><code>use v5.10;\n\nmy $string  = 'position position position';\n\n$string =~ s{position}{\n    state $i = 0;\n    $i++;\n    \"${^MATCH} $i\"\n    }gpe;\n\nsay $string;\n</code></pre>\n\n<p>And, you can do even fancier things in the replacement side:</p>\n\n<pre><code>my $string  = '123 abc 456 xzy red 137';\n\n$string =~ s{(\\d+|[a-z]+)}{\n    my $_ = $1;\n    state $letters = 0;\n    state $sum     = 0;\n    if( /[a-z]/ ) {\n        $letters++;\n        \"($letters: $_)\";\n        }\n    elsif( /\\d/ ) {\n        $sum += $_;\n        }\n    }ge;\n\nsay $string;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5280006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05f34cdc8751640a043063c0ff4209e9?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie EK", "link": "https://stackoverflow.com/users/5280006/newbie-ek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 1, "accepted_answer_id": 32287638, "answer_count": 3, "score": 3, "last_activity_date": 1440878737, "creation_date": 1440860777, "last_edit_date": 1440861999, "question_id": 32287466, "link": "https://stackoverflow.com/questions/32287466/is-there-an-updating-match-counter-which-i-can-use-as-a-prefix-in-the-replace-te", "title": "Is there an updating match counter which I can use as a prefix in the replace text?", "body": "<p>In a perl regex, is there an updating match counter which I can use as a prefix in the replace text? For example, I want to replace each occurrence of <code>position</code> with <code>position 1</code>, <code>position 2</code> and so on.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "edited": false, "score": 2, "creation_date": 1440854509, "post_id": 32286488, "comment_id": 52450633, "body": "About how to delete the lines - include <code>\\n</code> at the end of your find regexes. About is it fast enough - it would definitely pass in a week timeframe, but you have to test and see if it satisfactory yourself :)"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1440861389, "post_id": 32286488, "comment_id": 52452690, "body": "<code>[(0-9)]</code> also matches <code>(</code> and <code>)</code>. Similarly, <code>[F|G]</code> also matches <code>|</code>."}, {"owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "edited": false, "score": 0, "creation_date": 1441008154, "post_id": 32286488, "comment_id": 52488548, "body": "Have you considered not using perl at all for this problem.  <code>grep -v &#39;regexp&#39;</code> will do the work better I think.  See option <code>-v</code> in manual page of <b>grep(1)</b> utility.  Grep is good on filtering lines of text.  It has been developed with that target in mind.  And is at least ten years older than perl."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5279819, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/110709b729dc9f95a807496b3293b4da?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen Dundas", "link": "https://stackoverflow.com/users/5279819/stephen-dundas"}, "edited": false, "score": 0, "creation_date": 1440856202, "post_id": 32286550, "comment_id": 52451114, "body": "All of these suggestions are great!  Major progress, thank you.  Only one issue with my regex - this is filtering FHM2547 and JDH1464 which I want to keep.  I only want to delete lines that match exactly rather than a portion.  Would I use ^ and $?"}, {"owner": {"reputation": 205376, "user_id": 13, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1XtZi.jpg?s=128&g=1", "display_name": "Chris Jester-Young", "link": "https://stackoverflow.com/users/13/chris-jester-young"}, "reply_to_user": {"reputation": 33, "user_id": 5279819, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/110709b729dc9f95a807496b3293b4da?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen Dundas", "link": "https://stackoverflow.com/users/5279819/stephen-dundas"}, "edited": false, "score": 0, "creation_date": 1440856237, "post_id": 32286550, "comment_id": 52451122, "body": "@StephenDundas Yep, anchor all the regexes with <code>^</code> and <code>$</code>. I&#39;ll edit my answer to incorporate."}], "tags": [], "owner": {"reputation": 205376, "user_id": 13, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1XtZi.jpg?s=128&g=1", "display_name": "Chris Jester-Young", "link": "https://stackoverflow.com/users/13/chris-jester-young"}, "is_accepted": false, "score": 3, "last_activity_date": 1440856275, "last_edit_date": 1440856275, "creation_date": 1440854726, "answer_id": 32286550, "question_id": 32286488, "link": "https://stackoverflow.com/questions/32286488/perl-removing-multiple-lines-from-file-with-multiple-regex/32286550#32286550", "title": "Perl - Removing multiple lines from file with multiple regex", "body": "<p>@ndn's comment is correct. However, personally, rather than reading in the whole file, I'd process it line by line (I took the liberty to tidy up your regexes, too):</p>\n\n<pre><code>#!/usr/bin/perl -p\n$_ = '' if /^A[FG]\\d{5}$/ || /^[A-Z]\\d{4}$/ || /^\\d{4}[A-Z]$/;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>#!/usr/bin/perl -n\nprint unless /^A[FG]\\d{5}$/ || /^[A-Z]\\d{4}$/ || /^\\d{4}[A-Z]$/;\n</code></pre>\n\n<p>(In both cases, specify your input file on the command line. Read up the <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\">perlrun</a> manual page on how the <code>-p</code> and <code>-n</code> options work.)</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1440862929, "creation_date": 1440862929, "answer_id": 32287794, "question_id": 32286488, "link": "https://stackoverflow.com/questions/32286488/perl-removing-multiple-lines-from-file-with-multiple-regex/32287794#32287794", "title": "Perl - Removing multiple lines from file with multiple regex", "body": "<p>There's no need for multiple regex patterns. This will do what you need</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>perl -ne'print unless /^(?:[A][FG]\\d{5}|[A-Z]\\d{4}|\\d{4}[A-Z])$/' serial.txt\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ZDS97\nFHM2547\nJDH1464\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 3, "last_activity_date": 1440864942, "last_edit_date": 1440864942, "creation_date": 1440864633, "answer_id": 32288061, "question_id": 32286488, "link": "https://stackoverflow.com/questions/32286488/perl-removing-multiple-lines-from-file-with-multiple-regex/32288061#32288061", "title": "Perl - Removing multiple lines from file with multiple regex", "body": "<p>At first pass, I'd make a list of pre-compiled patterns to test against each line. The problem is likely to change and I want to add and delete patterns without disturbing the meat of the code:</p>\n\n<pre><code>my @patterns = ( \n    qr/\\A [A] [FG]  [0-9]{5} \\Z/x,\n    qr/\\A [A-Z]     [0-9]{4} \\Z/x,\n    qr/\\A [0-9]{4}  [A-Z]    \\Z/x,\n    );\n\nwhile( my $line = &lt;DATA&gt; ) {\n    next if grep { $line =~ $_ } @patterns;\n\n    print $line;\n    }\n\n__END__\nD0832\nG2565\nZDS97\nFHM2547\nJDH1464\nR2918\n4918K\nAG01023\nAG02997\n</code></pre>\n\n<p>The big improvement isn't the patterns though. It's checking things one line at a time and printing the lines I want to keep. I don't have the entire file in memory at the same time; it's only a line at a time.</p>\n\n<p>There's a problem with this though. It works, but it checks every pattern every time. That might not mean much if very few lines will ever match or there are only a few patterns. If you think it might matter, using <code>first</code> from <a href=\"http://www.metacpan.org/module/List::Util\" rel=\"nofollow\">List::Util</a> instead of <code>grep</code> can help since it only needs to find one match and stops when it finds it:</p>\n\n<pre><code>use List::Util qw(first);\n\nmy @patterns = ( \n    qr/\\A [A] [FG]  [0-9]{5} \\Z/x,\n    qr/\\A [A-Z]     [0-9]{4} \\Z/x,\n    qr/\\A [0-9]{4}  [A-Z]    \\Z/x,\n    );\n\nwhile( my $line = &lt;DATA&gt; ) {\n    next if first { $line =~ $_ } @patterns;\n\n    print $line;\n    }\n\n__END__\nD0832\nG2565\nZDS97\nFHM2547\nJDH1464\nR2918\n4918K\nAG01023\nAG02997\n</code></pre>\n\n<p>Or, I might make one giant pattern. <a href=\"http://www.metacpan.org/module/Regexp::Assemble\" rel=\"nofollow\">Regexp::Assemble</a> can put them together (but so can you if you watch out for the alternation precedence):</p>\n\n<pre><code>use v5.10;\n\nuse Regexp::Assemble;\n\nmy @patterns = ( \n    '[A][FG][0-9]{5}',\n    '[A-Z][0-9]{4}',\n    '[0-9]{4}[A-Z]',\n    );\n\nmy $grand_pattern = do {\n    my $ra = Regexp::Assemble-&gt;new;\n    $ra-&gt;add( $_ ) for @patterns;\n    my $re = $ra-&gt;re;\n    qr/ \\A (?: $re ) \\Z /x;\n    };\n\nsay \"Grand regex is $grand_pattern\";\n\nwhile( my $line = &lt;DATA&gt; ) {\n    next if $line =~ $grand_pattern;\n\n    print $line;\n    }\n\n__END__\nD0832\nG2565\nZDS97\nFHM2547\nJDH1464\nR2918\n4918K\nAG01023\nAG02997\n</code></pre>\n\n<p>The next step would be to take the patterns from the command line or a configuration file, but that's not so hard. The program shouldn't know the patterns at all. You'll have a much easier time changing the patterns if you don't have to change the code.</p>\n"}, {"comments": [{"owner": {"reputation": 4258, "user_id": 1993909, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8a4896fd6dc637ba4ecb827021044bdd?s=128&d=identicon&r=PG", "display_name": "Daniel Cheung", "link": "https://stackoverflow.com/users/1993909/daniel-cheung"}, "edited": false, "score": 1, "creation_date": 1441024785, "post_id": 32310465, "comment_id": 52497929, "body": "Please add explanation"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1441025100, "last_edit_date": 1441025100, "creation_date": 1441021480, "answer_id": 32310465, "question_id": 32286488, "link": "https://stackoverflow.com/questions/32286488/perl-removing-multiple-lines-from-file-with-multiple-regex/32310465#32310465", "title": "Perl - Removing multiple lines from file with multiple regex", "body": "<pre><code> $data =~ s/[A-Z][0-9][0-9][0-9][0-9][\\s\\r\\n]*//g;\n $data =~ s/[0-9][0-9][0-9][0-9][A-Z][\\s\\r\\n]*//g;\n</code></pre>\n\n<p>From the question:</p>\n\n<blockquote>\n  <p>\"how can I remove the lines rather than substituting a blank line?\"</p>\n</blockquote>\n\n<p>End of the each regex which we can have a linebreak/returns. And then regex will replacing the empty line. Hence I have added the [\\s\\r\\n]* syntax and it will not replace the empty line.</p>\n"}], "owner": {"reputation": 33, "user_id": 5279819, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/110709b729dc9f95a807496b3293b4da?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen Dundas", "link": "https://stackoverflow.com/users/5279819/stephen-dundas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1360, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1441025100, "creation_date": 1440854322, "last_edit_date": 1440854474, "question_id": 32286488, "link": "https://stackoverflow.com/questions/32286488/perl-removing-multiple-lines-from-file-with-multiple-regex", "title": "Perl - Removing multiple lines from file with multiple regex", "body": "<p>I'm (obviously) new to Perl and am trying to create a simple script to clean up a large file on about 4.5 million records on a weekly basis.  I want to completely remove the lines that match one of three patterns.  The file looks like this:</p>\n\n<pre><code>D0832\nG2565\nZDS97\nFHM2547\nJDH1464\nR2918\n4918K\nAG01023\nAG02997\n</code></pre>\n\n<p>My script below works, but I get a blank line where a deletion occurs (substitution) rather than removing the line completely.</p>\n\n<pre><code>#!/usr/bin/perl\n\nopen( FH, \"serial.txt\" ) || die \"Couldn't open file...\\n\";\n\nwhile ( &lt;FH&gt; ) {\n   $data .= $_;\n}\n\n$data =~ s/[A][F|G][(0-9)]{5}//g;\n$data =~ s/[A-Z][0-9][0-9][0-9][0-9]//g;\n$data =~ s/[0-9][0-9][0-9][0-9][A-Z]//g;\n\nprint $data;\nclose( FH );\n</code></pre>\n\n<p>My question is - with 4.5 million records, running this at least once a week, is this an efficient/fast way to accomplish what I want to do, or is there a more efficient way to do it?  In addition, how can I remove the lines rather than substituting a blank line?</p>\n\n<p>Thanks all.    Stephen</p>\n"}, {"tags": ["perl", "unicode", "utf-8", "md5", "cyrillic"], "answers": [{"comments": [{"owner": {"reputation": 18185, "user_id": 165071, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/EWdkL.jpg?s=128&g=1", "display_name": "Alexander Farber", "link": "https://stackoverflow.com/users/165071/alexander-farber"}, "edited": false, "score": 0, "creation_date": 1440864472, "post_id": 32286196, "comment_id": 52453558, "body": "Thanks <code>md5_hex()</code> was indeed causing the crash. I overlooked that part in <a href=\"http://search.cpan.org/dist/Digest-MD5/MD5.pm\" rel=\"nofollow noreferrer\">perldoc Digest::MD5</a>"}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "reply_to_user": {"reputation": 18185, "user_id": 165071, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/EWdkL.jpg?s=128&g=1", "display_name": "Alexander Farber", "link": "https://stackoverflow.com/users/165071/alexander-farber"}, "edited": false, "score": 1, "creation_date": 1470159830, "post_id": 32286196, "comment_id": 64830179, "body": "Perfect! I had similar problem with base64 convert of Cyrillic (and other) letters, other than Latin. I have just added it and it works like a charm! Thank you and @AlexanderFarber!"}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 18, "last_activity_date": 1543102492, "last_edit_date": 1543102492, "creation_date": 1440852272, "answer_id": 32286196, "question_id": 32285925, "link": "https://stackoverflow.com/questions/32285925/wide-character-in-subroutine-entry-utf-8-encoded-cyrillic-words-as-sequence/32286196#32286196", "title": "&#39;Wide character in subroutine entry&quot; - UTF-8 encoded cyrillic words as sequence of bytes", "body": "<p><code>md5_hex</code> expects a string of bytes for input, but you're passing a decoded string (a string of Unicode Code Points). Explicitly encode the string.</p>\n\n<pre><code>use strict;\nuse utf8;\nuse Digest::MD5;\nuse Encode;\n# ....\n# $_ is assumed to be utf8 encoded without check\nprint Digest::MD5::md5_hex(Encode::encode_utf8($_)),\"\\n\";\n# Conversion only when required:\nprint Digest::MD5::md5_hex(utf8::is_utf8($_) ? Encode::encode_utf8($_) : $_),\"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1440867758, "creation_date": 1440867758, "answer_id": 32288603, "question_id": 32285925, "link": "https://stackoverflow.com/questions/32285925/wide-character-in-subroutine-entry-utf-8-encoded-cyrillic-words-as-sequence/32288603#32288603", "title": "&#39;Wide character in subroutine entry&quot; - UTF-8 encoded cyrillic words as sequence of bytes", "body": "<blockquote>\n  <p>my real problem is that length($_) reports too high values</p>\n</blockquote>\n\n<p>Yes, you are reading from the <code>ARGV</code> file handle and haven't set its encoding to UTF-8</p>\n\n<p>You can use the <code>open</code> pragma to fix this. Instead of all your <code>binmode</code> statements, use</p>\n\n<pre><code>use open qw/ :std :encoding(utf8) /;\n</code></pre>\n\n<p>which will change the default open mode for all filehandles, including the standard ones, to <code>:encoding(utf8)</code></p>\n"}], "owner": {"reputation": 18185, "user_id": 165071, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/EWdkL.jpg?s=128&g=1", "display_name": "Alexander Farber", "link": "https://stackoverflow.com/users/165071/alexander-farber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11818, "favorite_count": 1, "accepted_answer_id": 32286196, "answer_count": 2, "score": 10, "last_activity_date": 1543102492, "creation_date": 1440850541, "last_edit_date": 1440864132, "question_id": 32285925, "link": "https://stackoverflow.com/questions/32285925/wide-character-in-subroutine-entry-utf-8-encoded-cyrillic-words-as-sequence", "title": "&#39;Wide character in subroutine entry&quot; - UTF-8 encoded cyrillic words as sequence of bytes", "body": "<p>I am working on an Android word game with a large dictionary -</p>\n\n<p><a href=\"https://i.stack.imgur.com/DVjx8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DVjx8.png\" alt=\"app screenshot\"></a></p>\n\n<p>The words (over 700 000) are kept as separate lines in a text file (and then put in an SQLite database).</p>\n\n<p>To keep competitors from extracting my dictionary, I'd like to encode all words which are longer than 3 chars with md5. (I don't obfuscate short words and words with rare Russian letters <code>\u044a</code> and <code>\u044d</code>, because I'd like to list them in my app).</p>\n\n<p>So here is my script which I try to run with <strong>perl v5.18.2</strong> on Mac Yosemite:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse utf8;\nuse Digest::MD5 qw(md5_hex);\n\nbinmode(STDIN, \":utf8\");\n#binmode(STDOUT, \":raw\");\nbinmode(STDOUT, \":utf8\");\n\nwhile(&lt;&gt;) {\n        chomp;\n        next if length($_) &lt; 2; # ignore 1 letter junk\n        next if /\u0436\u044b/;           # impossible combination in Russian\n        next if /\u0448\u044b/;           # impossible combination in Russian\n\n        s/\u0451/\u0435/g;\n\n        #print \"ORIGINAL WORD $_\\tENCODED WORD: \";\n\n        if (length($_) &lt;= 3 || /\u044a/ || /\u044d/) { # do not obfuscate short words\n                print \"$_\\n\";                # and words with rare letters\n                next;\n        }\n\n        print md5_hex($_) . \"\\n\";            # this line crashes\n}\n</code></pre>\n\n<p>As you can see, I have to use cyrillic letters in the source code of my Perl script - that is why I've put <code>use utf8;</code> on its top.</p>\n\n<p>However my real problem is that <code>length($_)</code> reports too high values (probably reporting number of bytes instead of number of characters).</p>\n\n<p>So I have tried adding:</p>\n\n<pre><code>binmode(STDOUT, \":raw\");\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>binmode(STDOUT, \":utf8\");\n</code></pre>\n\n<p>But the script then dies with <strong>Wide character in subroutine entry</strong> at the line with <code>print md5_hex($_)</code>.</p>\n\n<p>Please help me to fix my script.</p>\n\n<p>I run it as:</p>\n\n<pre><code>perl ./generate-md5.pl &lt; words.txt &gt; encoded.txt\n</code></pre>\n\n<p>and here is example <strong>words.txt</strong> data for your convenience:</p>\n\n<pre><code>\u0430\n\u0430\u0431\n\u0430\u0431\u0432\n\u0430\u0431\u0432\u0433\n\u0430\u0431\u0432\u0433\u0434\n\u0441\u044a\u0435\u043c\u043a\u0430\n</code></pre>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 1, "last_activity_date": 1440842402, "creation_date": 1440842402, "answer_id": 32284817, "question_id": 32284697, "link": "https://stackoverflow.com/questions/32284697/what-reason-to-use-sign-in-perl-hash-key-name/32284817#32284817", "title": "What reason to use &#39;-&#39; sign in perl hash key name?", "body": "<p>It's a convention. Similar to the options that a program can take from the command line, for example 'ls -l'. Many Perl programmers use it to be more clear when passing parameters to a subroutine. That way your programs are more readable and easy to maintain.</p>\n"}, {"comments": [{"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 2, "creation_date": 1440861081, "post_id": 32285922, "comment_id": 52452591, "body": "No. Or at least not automatically."}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 7, "last_activity_date": 1440850525, "creation_date": 1440850525, "answer_id": 32285922, "question_id": 32284697, "link": "https://stackoverflow.com/questions/32284697/what-reason-to-use-sign-in-perl-hash-key-name/32285922#32285922", "title": "What reason to use &#39;-&#39; sign in perl hash key name?", "body": "<p>It's a historical artifact. One of the first major modules to use the hash-key argument convention for its functions was Perl/Tk, and it brought over the initial-dash naming convention on the keys from TCL/Tk (which it was ported from). It spread and was quite popular for a while. Back before we had the \"fat comma\" (<code>=&gt;</code>) operator it helped somewhat in telling keys names and their arguments apart. Today there is really no reason to use it, apart from personal taste.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 1, "accepted_answer_id": 32285922, "answer_count": 2, "score": 8, "last_activity_date": 1440855021, "creation_date": 1440841348, "last_edit_date": 1440855021, "question_id": 32284697, "link": "https://stackoverflow.com/questions/32284697/what-reason-to-use-sign-in-perl-hash-key-name", "title": "What reason to use &#39;-&#39; sign in perl hash key name?", "body": "<p>In some perl modules I see code: </p>\n\n<pre><code>if (exists $h-&gt;{Location}) {\n    %args = (%args, -Status =&gt; 302);\n}\n</code></pre>\n\n<p>Why author uses <code>-Status</code> instead of just <code>Status</code>?<br>\nWhy I hack my own modules, when I must use '-' sign in hash key names?</p>\n\n<p><strong>UPD</strong><br>\nReading answers it seems they are must be same, but they are not</p>\n\n<pre><code>my $a =  { -status =&gt; 'a', status =&gt; 3, };\nprint $a-&gt;{ status }, $a-&gt;{ -status };\nprint pp $a;\n</code></pre>\n\n<p><em>OUTPUT</em></p>\n\n<pre><code>3a{ -status =&gt; \"a\", status =&gt; 3 }\n</code></pre>\n\n<p>Summary of my perl5 (revision 5 version 20 subversion 2) configuration:</p>\n\n<p>Does this mean that old module is broken now?</p>\n"}, {"tags": ["php", "wordpress", "apache", "perl", ".htaccess"], "answers": [{"tags": [], "owner": {"reputation": 4196, "user_id": 5255593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNKCm.jpg?s=128&g=1", "display_name": "Mohammed Elhag", "link": "https://stackoverflow.com/users/5255593/mohammed-elhag"}, "is_accepted": false, "score": 1, "last_activity_date": 1440823524, "creation_date": 1440823524, "answer_id": 32282788, "question_id": 32282485, "link": "https://stackoverflow.com/questions/32282485/500-internal-error-appears-after-adding-the-codes-in-htaccess-file/32282788#32282788", "title": "500 Internal Error appears after adding the codes in .htaccess file", "body": "<p>Go to httpd.conf the search this line</p>\n\n<pre><code>#LoadModule rewrite_module modules/mod_rewrite.so\n</code></pre>\n\n<p>take the hash out </p>\n\n<pre><code>LoadModule rewrite_module modules/mod_rewrite.so\n</code></pre>\n\n<p>restart apatche</p>\n"}], "owner": {"reputation": 9, "user_id": 5192586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a26f1126c27ba7366114337b2c7ff5?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Lee", "link": "https://stackoverflow.com/users/5192586/chris-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1457998726, "creation_date": 1440819692, "last_edit_date": 1457998726, "question_id": 32282485, "link": "https://stackoverflow.com/questions/32282485/500-internal-error-appears-after-adding-the-codes-in-htaccess-file", "title": "500 Internal Error appears after adding the codes in .htaccess file", "body": "<p>The issue is:</p>\n\n<p>I have a WordPress site running on 4.3 and using the theme from Envato Market (POND v2.0). And I ran an SEO test using this website (<a href=\"http://seositecheckup.com\" rel=\"nofollow\">SEO Checkup Test</a>). After going through the tips on how to improve the SEO score, I followed the advice of fixing the IP Canonical Test by adding this code in the .htaccess file.</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^XXX\\.XXX\\.XXX\\.XXX\nRewriteRule (.*) http://www.yourdomain.com/$1 [R=301,L]\n</code></pre>\n\n<p>However, I cannot find the file in my DirectAdmin and Googled on how to open it. I managed to open it but the file shows nothing. Then I looked for the default rules which is this:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_URI} ^/(dev|failed_auth.html)/?.*$\nRewriteRule ^.*$ - [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>After adding these functions and saving it, my WordPress site shows the 500 Internal error. When I removed it, the website is back to normal. What is the possible issue behind these weird problem? I need to add the IP Canonical to the file. Not only the IP Canonical, there is the Perl. WWW code too.</p>\n\n<pre><code>RewriteCond %{HTTP_USER_AGENT} libwww-perl.* \nRewriteRule .* \u2013 [F,L]\n</code></pre>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 1, "creation_date": 1440822546, "post_id": 32282392, "comment_id": 52443670, "body": "Will there be multiple instances of this throughout the file, i.e. pairs of <code>delay_rise</code> where the second item in each pair needs to be changed, or is this a one-time-per-file sort of thing?"}, {"owner": {"reputation": 1, "user_id": 1943402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1661a6e0f9efd99ba76412894bf7ec78?s=128&d=identicon&r=PG", "display_name": "arpan", "link": "https://stackoverflow.com/users/1943402/arpan"}, "reply_to_user": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 0, "creation_date": 1440903877, "post_id": 32282392, "comment_id": 52462739, "body": "its one time per file"}, {"owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 0, "creation_date": 1440904102, "post_id": 32282392, "comment_id": 52462767, "body": "arpan, please provide clarification <a href=\"http://stackoverflow.com/posts/32282392/edit\">within your question</a>, along with your attempt so far. The code I provided in my answer below certainly addressed the limited scope of your question. If you post your own attempt, I&#39;d be happy to address any problems I see in it."}, {"owner": {"reputation": 1, "user_id": 1943402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1661a6e0f9efd99ba76412894bf7ec78?s=128&d=identicon&r=PG", "display_name": "arpan", "link": "https://stackoverflow.com/users/1943402/arpan"}, "reply_to_user": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 0, "creation_date": 1440906413, "post_id": 32282392, "comment_id": 52463043, "body": "Actually, I have multiple files in which I need to change this. So, what I did was, i used foreach and awk for changing the files ----- foreach a (<code>cat list</code>)    awk &#39;/delay_rise/ {f++; if (f==2) sub(/delay_rise/, &quot;delay_fall&quot;)} 1&#39; $a &gt;&gt; $a end    But seems its entering into some infinite loop. So, I want to redirect my changes to the same file using awk. How can I do it?"}, {"owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 0, "creation_date": 1440910296, "post_id": 32282392, "comment_id": 52463673, "body": "arpan, don&#39;t put that in a comment. Comments have terrible formatting. Edit your question."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 1943402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1661a6e0f9efd99ba76412894bf7ec78?s=128&d=identicon&r=PG", "display_name": "arpan", "link": "https://stackoverflow.com/users/1943402/arpan"}, "edited": false, "score": 0, "creation_date": 1440903067, "post_id": 32282596, "comment_id": 52462642, "body": "Actually I wanted to do it in multiple files using foreach. So, what I did was foreach a (<code>cat files</code>)                       awk &#39;/delay_rise/ {f++; if (f==2) sub(/delay_rise/, &quot;delay_fall&quot;)} 1&#39; $a &gt;&gt; $a end.  But somehow its entering in some infinite loop. Can you please tell me, if I want to update in multiple files using awk, and want to keep the file name also same, what to do."}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": false, "score": 1, "last_activity_date": 1440916085, "last_edit_date": 1440916085, "creation_date": 1440821148, "answer_id": 32282596, "question_id": 32282392, "link": "https://stackoverflow.com/questions/32282392/how-to-change-two-duplicate-words-into-non-duplicate-line-using-shell/32282596#32282596", "title": "How to change two duplicate words into non duplicate line using shell", "body": "<p>Using awk:</p>\n\n<pre><code>$ awk '/delay_rise/ {f++; if (f==2) sub(/delay_rise/, \"delay_fall\")} 1' file\n         .\n         .\n         .\ndelay_rise = 20ps\ndelay_fall = 40ps\n         .\n         .\n         .\n</code></pre>\n\n<p>This works by setting a counter <code>f</code> for the number of times that we have seen a line that contains <code>delay_rise</code>.  If and only if we are on the second occurrence, <code>f==2</code>, then we substitute in <code>delay_fall</code>.</p>\n\n<p>The <code>1</code> at the end of the script is awk's cryptic notation for print-this-line.</p>\n\n<h3>Changing multiple files in place</h3>\n\n<p>If you have a recent version of GNU awk, just list all the files on the command line and use the <code>-i inplace</code> option:</p>\n\n<pre><code>awk -i inplace '/delay_rise/ {f++; if (f==2) sub(/delay_rise/, \"delay_fall\")} 1' file*\n</code></pre>\n\n<p>If you have a BSD awk or older GNU awk, then use:</p>\n\n<pre><code>for f in file*; do awk '/delay_rise/ {f++; if (f==2) sub(/delay_rise/, \"delay_fall\")} 1' \"$f\" &gt;tmp.out &amp;&amp; mv tmp.out \"$f\"; done\n</code></pre>\n\n<p>If you prefer your commands spread out over multiple lines, then the same command can be run as:</p>\n\n<pre><code>for f in file*\ndo\n    awk '/delay_rise/ {f++; if (f==2) sub(/delay_rise/, \"delay_fall\")} 1' \"$f\" &gt;tmp.out &amp;&amp; mv tmp.out \"$f\"\ndone\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "is_accepted": false, "score": 0, "last_activity_date": 1440824197, "creation_date": 1440824197, "answer_id": 32282850, "question_id": 32282392, "link": "https://stackoverflow.com/questions/32282392/how-to-change-two-duplicate-words-into-non-duplicate-line-using-shell/32282850#32282850", "title": "How to change two duplicate words into non duplicate line using shell", "body": "<p>Lots of ways you can do this in shell.</p>\n\n<p>This should work in any POSIX shell:</p>\n\n<pre><code>#!/bin/sh\n\nflag=0\nwhile read line; do\n  case \"$line\" in\n    delay_rise*)\n      if [ \"$flag\" -eq 0 ]; then\n        flag=1\n      else\n        line=\"delay_fall${line#delay_rise}\"\n        flag=0\n      fi\n      ;;\n  esac\n  echo \"$line\"\ndone\n</code></pre>\n\n<p>Note that the <code>flag=0</code> within the <code>if</code> statement allows you to use this to handle multiple \"pairs\" within a file. It's a state change, and it toggles.</p>\n\n<p>Another alternative would be awk. John's awk solution is excellent, but there are many ways to achieve any task. Mine would be similar to his, though a little more brief:</p>\n\n<pre><code>awk '/^delay_rise/&amp;&amp;f{sub(/rise/,\"fall\")} /^delay_rise/{f=1} 1' file\n</code></pre>\n\n<p>This works by treating <code>f</code> as a semaphore rather than a counter.  But again, if you needed to handle multiple pairs per file, resetting the semaphore would require a minor addition:</p>\n\n<pre><code>awk '/^delay_rise/&amp;&amp;f{sub(/rise/,\"fall\");f=0;print;next} /^delay_rise/{f=1} 1' file\n</code></pre>\n\n<p>Split out for easier reading, this would look like:</p>\n\n<pre><code>awk '\n  # If we find our text AND the flag is set...\n  /^delay_rise/ &amp;&amp; f {\n    sub(/rise/,\"fall\");  # replace text\n    f=0;                 # reset semaphore\n    print;               # print the line, and\n    next;                # move on to the next line.\n  }\n\n  # If this is an interesting line and the semaphore was NOT set...\n  /^delay_rise/ {\n    # set it!\n    f=1;\n  }\n\n  # Print whatever we've got.\n  1\n' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1440829529, "creation_date": 1440829529, "answer_id": 32283317, "question_id": 32282392, "link": "https://stackoverflow.com/questions/32282392/how-to-change-two-duplicate-words-into-non-duplicate-line-using-shell/32283317#32283317", "title": "How to change two duplicate words into non duplicate line using shell", "body": "<p>A simple approach will be to just set a counter and check whether it is 2(for second occurence) and substitute there. A Perl script which will do similar thing is:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $i=0;\nwhile(&lt;&gt;){\n       if(/delay_rise/)\n        {\n          ++$i;\n          if($i==2)\n           {\n             s/delay_rise/delay_fall/;\n           }\n        }\nprint $_;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 1943402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1661a6e0f9efd99ba76412894bf7ec78?s=128&d=identicon&r=PG", "display_name": "arpan", "link": "https://stackoverflow.com/users/1943402/arpan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "closed_date": 1440838242, "answer_count": 3, "score": 0, "last_activity_date": 1440916085, "creation_date": 1440818461, "last_edit_date": 1440822473, "question_id": 32282392, "link": "https://stackoverflow.com/questions/32282392/how-to-change-two-duplicate-words-into-non-duplicate-line-using-shell", "closed_reason": "Not suitable for this site", "title": "How to change two duplicate words into non duplicate line using shell", "body": "<p>I have One file Inside which I have a naming convention as</p>\n\n<pre><code>         .\n         .\n         .\ndelay_rise = 20ps\ndelay_rise = 40ps\n         .\n         .\n         .\n</code></pre>\n\n<p>I need to change 2nd delay_rise into delay_fall. How can I do it?</p>\n"}, {"tags": ["macos", "perl", "compilation"], "comments": [{"owner": {"reputation": 86437, "user_id": 981049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AYKWV.jpg?s=128&g=1", "display_name": "Michael Dautermann", "link": "https://stackoverflow.com/users/981049/michael-dautermann"}, "edited": false, "score": 0, "creation_date": 1440829827, "post_id": 32280732, "comment_id": 52444765, "body": "I don&#39;t know anyone running MacOS 10.3... do you really want to support an OS released in 2003?"}, {"owner": {"reputation": 8200, "user_id": 79202, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/397f829eea921e02e35c37c22f9e6d3b?s=128&d=identicon&r=PG", "display_name": "theory", "link": "https://stackoverflow.com/users/79202/theory"}, "reply_to_user": {"reputation": 86437, "user_id": 981049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AYKWV.jpg?s=128&g=1", "display_name": "Michael Dautermann", "link": "https://stackoverflow.com/users/981049/michael-dautermann"}, "edited": false, "score": 0, "creation_date": 1441131419, "post_id": 32280732, "comment_id": 52550904, "body": "@MichaelDautermann People test Perl on all kinds of crazy configurations. <a href=\"https://rt.perl.org/Ticket/Display.html?id=123985#txn-1334270\" rel=\"nofollow noreferrer\">Here&#39;s someone</a> who tests as far back as OS X 10.4."}], "answers": [{"comments": [{"owner": {"reputation": 8200, "user_id": 79202, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/397f829eea921e02e35c37c22f9e6d3b?s=128&d=identicon&r=PG", "display_name": "theory", "link": "https://stackoverflow.com/users/79202/theory"}, "edited": false, "score": 0, "creation_date": 1441131361, "post_id": 32284231, "comment_id": 52550871, "body": "Thanks, I&#39;ve encouraged that solution in the <a href=\"https://rt.perl.org/Ticket/Display.html?id=123985\" rel=\"nofollow noreferrer\">bug report</a>."}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 3, "last_activity_date": 1440837833, "creation_date": 1440837833, "answer_id": 32284231, "question_id": 32280732, "link": "https://stackoverflow.com/questions/32280732/whats-the-best-way-to-set-macosx-deployment-target/32284231#32284231", "title": "What&#39;s the best way to set MACOSX_DEPLOYMENT_TARGET?", "body": "<p>This should be a fairly simple change in <code>hints/darwin.sh</code>, that checks what OSX version is running and sets <code>MACOSX_DEPLOYMENT_TARGET</code> accordingly.</p>\n\n<p>Perl is an Open Source project, and as such always short on developer time. If you were to make a patch for this and submit it to p5p, I'm sure it would be greatly appreciated.</p>\n"}, {"tags": [], "owner": {"reputation": 8200, "user_id": 79202, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/397f829eea921e02e35c37c22f9e6d3b?s=128&d=identicon&r=PG", "display_name": "theory", "link": "https://stackoverflow.com/users/79202/theory"}, "is_accepted": false, "score": 1, "last_activity_date": 1446230089, "creation_date": 1446230089, "answer_id": 33442768, "question_id": 32280732, "link": "https://stackoverflow.com/questions/32280732/whats-the-best-way-to-set-macosx-deployment-target/33442768#33442768", "title": "What&#39;s the best way to set MACOSX_DEPLOYMENT_TARGET?", "body": "<p>Accepted @Calle-Dybedahl's answer, as it's technically correct. Perl 5 Core Hacker Jarkko Hietaniemi pushed <a href=\"http://perl5.git.perl.org/perl.git/commitdiff/53d1d41c81e1de9cc6416dcae828c13d4c5a470a?hp=b44694539e922b1078113e05f80651c9eedd5d37\" rel=\"nofollow\">this solution</a>, which proved to be a bit more complicated than you might expect at a glance. The basic recipe he came down on was:</p>\n\n<blockquote>\n  <p>For OS X 10.6 or above, do not any more use the <code>MACOSX_DEPLOYMENT_TARGET</code>,\n  the toolchains should work fine without.  Until now the deployment target\n  was hardwired to 10.3.  This logic comes from\n  <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=117433\" rel=\"nofollow\">RT#117433</a>.</p>\n  \n  <p>For OS X releases from 10.3 until 10.5, no change, still using\n  the <code>MACOSX_DEPLOYMENT_TARGET=10.3</code> for linking.</p>\n  \n  <p>For OS X releases before 10.3, no change, still not using\n  the <code>MACOSX_DEPLOYMENT_TARGET=10.3</code>.</p>\n  \n  <p>New: always add <code>-mmacosx-version-min</code> to <code>ccflags</code> and <code>ldflags</code> from\n  the env var <code>$MACOSX_DEPLOYMENT_TARGET</code>, if set.  If the var is not set,\n  set the min from the OS X version, from sw_vers(1).  Setting the var\n  should become handy for people building and packaging Perl for earlier\n  OS X versions.</p>\n</blockquote>\n"}], "owner": {"reputation": 8200, "user_id": 79202, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/397f829eea921e02e35c37c22f9e6d3b?s=128&d=identicon&r=PG", "display_name": "theory", "link": "https://stackoverflow.com/users/79202/theory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1492, "favorite_count": 0, "accepted_answer_id": 32284231, "answer_count": 2, "score": 7, "last_activity_date": 1446230089, "creation_date": 1440801447, "question_id": 32280732, "link": "https://stackoverflow.com/questions/32280732/whats-the-best-way-to-set-macosx-deployment-target", "title": "What&#39;s the best way to set MACOSX_DEPLOYMENT_TARGET?", "body": "<p>The Perl community has relied on <code>MACOSX_DEPLOYMENT_TARGET=10.3</code> for all builds of Perl for, well, a long time. But now, with the El Capitan beta, <a href=\"https://gist.github.com/theory/d1458eaee5b2b2e583a2\" rel=\"noreferrer\">it no longer works</a>. It seems as though they should bump it up, but to what? Is there a way to programmatically set it to whatever is the earliest version supported by the release of OS X on which Perl is currently being built? Or is there some other way to set it dynamically? Or must it be static and updated periodically? If the latter, how does it affect builds on older versions of OS X?</p>\n"}, {"tags": ["xml", "perl", "xml-libxml"], "comments": [{"owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 0, "creation_date": 1440799580, "post_id": 32280409, "comment_id": 52439514, "body": "It may be throwing an exception, wrap it in an eval{} and dump $@ if it exists"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1440812204, "post_id": 32280409, "comment_id": 52442107, "body": "would be interested to see an answer to this that explains the issue as from your code it looks fine."}], "answers": [{"tags": [], "owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "is_accepted": false, "score": 0, "last_activity_date": 1440799788, "creation_date": 1440799788, "answer_id": 32280471, "question_id": 32280409, "link": "https://stackoverflow.com/questions/32280409/perl-get-value-from-xml/32280471#32280471", "title": "Perl: Get value from XML", "body": "<p>libraries often throw exceptions on failure, if you do not catch them, they could fail silently.</p>\n\n<p>try:</p>\n\n<pre><code>use strict;\nuse warnings FATAL =&gt; 'all';\n\neval\n{\n    my $xml = XML::LibXML-&gt;new('clean_namespaces' =&gt; 1)-&gt;parse_file(\"$tmp_dir/xml/$xml_file_name\");\n    my $xc = XML::LibXML::XPathContext-&gt;new($xml);\n    my $val = $xc-&gt;findvalue('/ns2:export/ns2:bankGuarantee/docPublishDate');\n    print $val;\n}\nif($@)\n{\n    print \"ERROR: \" . $@;\n}\n</code></pre>\n\n<p>If one is failing, it should give you an error.</p>\n"}, {"tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": true, "score": 1, "last_activity_date": 1440813625, "last_edit_date": 1495542124, "creation_date": 1440813625, "answer_id": 32281980, "question_id": 32280409, "link": "https://stackoverflow.com/questions/32280409/perl-get-value-from-xml/32281980#32281980", "title": "Perl: Get value from XML", "body": "<p>Looks like it has to do with default name space. Not sure how xpath works but @miller seemed to answer his own question here: <a href=\"https://stackoverflow.com/questions/25419772/xmllibxml-namespaces-and-findvalue\">XML::LibXML, namespaces and findvalue</a></p>\n\n<p>You can try the below which should hopefully resolve your issue</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::LibXML;\n\nopen(my $xml_file, '&lt;', \"xml_to_parse.xml\");\nmy $xml = new XML::LibXML-&gt;load_xml(IO =&gt; $xml_file);\nprint $xml-&gt;findvalue('/ns2:export/ns2:bankGuarantee/*[local-name()=\"docPublishDate\"]'), \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1440837261, "last_edit_date": 1440837261, "creation_date": 1440836853, "answer_id": 32284116, "question_id": 32280409, "link": "https://stackoverflow.com/questions/32280409/perl-get-value-from-xml/32284116#32284116", "title": "Perl: Get value from XML", "body": "<p>Just creating an <code>XML::LibXML:XPathContext</code> object won't make any difference, you also need to register all the namespaces that you want to use in your XPath expressions. In this case you've used the <code>ns2</code> namespace without registering any namespaces at all</p>\n\n<p>Your code should look something like this</p>\n\n<pre><code>my $xml = XML::LibXML-&gt;new-&gt;parse_file(\"$tmp_dir/xml/$xml_file_name\");\n\nmy $xc = XML::LibXML::XPathContext-&gt;new($xml);\n$xc-&gt;RegisterNs( ns2 =&gt; 'http://example.com/ns2/uri/address');\n\nmy $val = $xc-&gt;findvalue('/ns2:export/ns2:bankGuarantee/docPublishDate');\nprint $val;\n</code></pre>\n\n<p>Note that the URI you register has to match the one in the</p>\n\n<pre><code>xmlns:ns2=\"http://example.com/ns2/uri/address\"\n</code></pre>\n\n<p>attribute in the data</p>\n\n<p>I'm wondering if the <code>clean_namespaces</code> parser option is your attempt to fix this? <code>clean_namespaces</code> will only remove <em>redundant</em> namespaces, i.e. those that aren't used anywhere in the XML document. There's little point in doing that as you stand little chance of the namespaces clashing, and the time and memory saved will be negligible</p>\n"}], "owner": {"reputation": 485, "user_id": 4108542, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Qflfs.jpg?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/4108542/artem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 32281980, "answer_count": 3, "score": 1, "last_activity_date": 1440837261, "creation_date": 1440799408, "question_id": 32280409, "link": "https://stackoverflow.com/questions/32280409/perl-get-value-from-xml", "title": "Perl: Get value from XML", "body": "<p>I need to get value from this xml - <a href=\"http://pastebin.com/wkh7trd4\" rel=\"nofollow\">http://pastebin.com/wkh7trd4</a>. Here is my code, but it return nothing:</p>\n\n<pre><code>my $xml = XML::LibXML-&gt;new('clean_namespaces' =&gt; 1)-&gt;parse_file(\"$tmp_dir/xml/$xml_file_name\");\nmy $xc = XML::LibXML::XPathContext-&gt;new($xml);\nmy $val = $xc-&gt;findvalue('/ns2:export/ns2:bankGuarantee/docPublishDate');\nprint $val;\n</code></pre>\n"}, {"tags": ["perl", "oop", "perl-module", "mod-perl", "mod-perl2"], "answers": [{"comments": [{"owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 0, "creation_date": 1440800794, "post_id": 32280599, "comment_id": 52439903, "body": "I was going to downvote this, as it does not solve the actual problem of modifying @INC, but this does indeed work for ~90% of what im trying to do."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 1, "creation_date": 1440801082, "post_id": 32280599, "comment_id": 52439995, "body": "You asked to change <code>@INC</code> in the middle of <code>require</code>. That&#39;s rather hard to do without changing <code>require</code>. Not impossible, mind you. Replacing <code>@INC</code> with a magical variable would work."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1440800551, "creation_date": 1440800551, "answer_id": 32280599, "question_id": 32280388, "link": "https://stackoverflow.com/questions/32280388/perl-change-inc-for-current-scope-only/32280599#32280599", "title": "perl: change @INC for current scope only", "body": "<pre><code>require(dirname(__FILE__) . '/foo/bar.pm');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1440801065, "post_id": 32280669, "comment_id": 52439990, "body": "Nope, <code>@INC</code> is still modified when <code>bar.pm</code> is compiled. For your code to work, he&#39;d have to change <code>use XML::Simple;</code> to <code>require XML::Simple;</code>. Messing with <code>@INC</code> and contorting the module is not nearly as good a solution as passing the correct file name to <code>require</code>, though."}, {"owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 0, "creation_date": 1440801131, "post_id": 32280669, "comment_id": 52440008, "body": "How is that different from just unshifting to @INC without declaring it local though? Essentially you&#39;re creating a copy in the current scope, which continues until it leaves the current scope. It would be redundant."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 0, "creation_date": 1440801163, "post_id": 32280669, "comment_id": 52440022, "body": "@steve, The whole purpose of <code>local</code> is to make a backup of the variable and restore it on scope exit.  <code>{ local @INC = @INC; ... }</code> is the same as <code>{ my @backup = @INC; ... @INC = @backup }</code> except it works if the scope is exited by an exception too."}, {"owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 0, "creation_date": 1440801241, "post_id": 32280669, "comment_id": 52440051, "body": "My question is what IS a scope exit though? for perl&#39;s manual it seems to be the enclosing brackets, OR eval, OR file. What if I want to be explicit?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 1, "creation_date": 1440801346, "post_id": 32280669, "comment_id": 52440079, "body": "@steve, Generally, files and curlies bound lexical scopes. The lexical scope that contains the <code>local</code> is exited when the <code>}</code> is reached."}, {"owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440801388, "post_id": 32280669, "comment_id": 52440094, "body": "@ikegami Thanks for all your help, seems that I have more reading to do"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1440801245, "last_edit_date": 1440801245, "creation_date": 1440800986, "answer_id": 32280669, "question_id": 32280388, "link": "https://stackoverflow.com/questions/32280388/perl-change-inc-for-current-scope-only/32280669#32280669", "title": "perl: change @INC for current scope only", "body": "<p><code>local @INC</code> works, but your <code>bar.pm</code> file still needs to be able to find <code>XML/Simple.pm</code> (a <code>use</code> statement is executed at the time a file is compiled, no matter where it appears in the file), presumably from the original <code>@INC</code>, so your local <code>@INC</code> should start with a copy of the original <code>@INC</code>.</p>\n\n<pre><code>{\n    local @INC = (dirname(__FILE__) . '/foo/', @INC);\n\n    require 'bar.pm';\n}        # local @INC out of scope now, original @INC restored\n\nmy $bar = bar-&gt;new();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1440804057, "post_id": 32280981, "comment_id": 52440807, "body": "Clever - this calls <code>main::require</code> from the main file. In another package inside <code>bar.pm</code>, it calls the builtin <code>require</code>. You could restrict its scope even further with <code>{ local *require = sub { ... } ... }</code>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1440802980, "creation_date": 1440802980, "answer_id": 32280981, "question_id": 32280388, "link": "https://stackoverflow.com/questions/32280388/perl-change-inc-for-current-scope-only/32280981#32280981", "title": "perl: change @INC for current scope only", "body": "<pre><code>use File::Basename;\nuse subs 'require';\nsub require {\n    my $module_file = shift;\n    die \"unexpected absolute path $module_file\\n\" if $module_file =~ /^\\//;\n    CORE::require(dirname(__FILE__) . '/foo/' . $module_file);\n}\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/CORE.html#OVERRIDING-CORE-FUNCTIONS\" rel=\"nofollow\">http://perldoc.perl.org/CORE.html#OVERRIDING-CORE-FUNCTIONS</a></p>\n"}], "owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 1, "accepted_answer_id": 32280599, "answer_count": 3, "score": 1, "last_activity_date": 1440802980, "creation_date": 1440799219, "last_edit_date": 1440800491, "question_id": 32280388, "link": "https://stackoverflow.com/questions/32280388/perl-change-inc-for-current-scope-only", "title": "perl: change @INC for current scope only", "body": "<p>Modification to Perl's @INC array seems for an individual scope very confusing. I would like some clarification, as it seems to be fighting any means of dynamic initialization of objects.</p>\n\n<p>One would think that I could define it as local to solve this problem.</p>\n\n<p>According to the manual, \"local modifies the listed variables to be local to the enclosing block, file, or eval.\"</p>\n\n<p>The part that is annoying me is the \"or\" portion.</p>\n\n<p>Problem: I would like to change the @INC array to include one and ONLY one directory under certain circumstances and ONLY for the current file.</p>\n\n<p>Example attempt and issues:</p>\n\n<p>Lets say I have a launching script index.pl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings FATAL =&gt; 'all';\n\nuse File::Basename;\n# Lets say I want to modify @INC here to look in ONLY one path.  Local\n# should allow us to declare for one scope or file (how non explicit this\n# is annoys me) Since I have not defined a scope with brackets, it should\n# be effective for the current file\n\nlocal @INC = (dirname(__FILE__) . '/foo/'); #some relative path\n\n# Lets say bar now uses standard perl modules\nrequire 'bar.pm';\n# ^- This will fail because local did not work as described, fails at use\n# XML::Simple because it is traversing foo\n\nmy $bar = bar-&gt;new();\n</code></pre>\n\n<p>For the sake of being comprehensive, here is a bar.pm:</p>\n\n<pre><code>package bar;\nuse strict;\nuse warnings;\n\nsub new\n{\n    my $class = shift;\n    my $self = bless {}, $class;\n\n    use XML::Simple;\n    return $self;\n}\n1;\n</code></pre>\n\n<p>Is there anyway to modify @INC ONLY for the current file while leaving it intact in all parsed files afterwards?</p>\n\n<p>(I know I can unshift, but eventually there could be dozens of directories it could be traversing)</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440794978, "post_id": 32279425, "comment_id": 52437747, "body": "Slices are cool, but you don&#39;t have to use them everywhere. Just do <code>my $states = { ... }; $records{$key} = { states =&gt; $states };</code>"}, {"owner": {"reputation": 45, "user_id": 5220003, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/17cb601ae65a9c49a955bd0720f851e1?s=128&d=identicon&r=PG&f=1", "display_name": "Agnaroc ", "link": "https://stackoverflow.com/users/5220003/agnaroc"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440795341, "post_id": 32279425, "comment_id": 52437895, "body": "You are right, I shouldn&#39;t be using it everywhere. I was just wondering if there was a shorter version than the one you described. Thanks !"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1440796128, "post_id": 32279425, "comment_id": 52438264, "body": "At the end of your program you could try adding <code>@{$records{$key}-&gt;{states}}{@states}=undef</code> . It will initialize the second hash with the given keys."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1440796182, "post_id": 32279425, "comment_id": 52438292, "body": "or <code>states =&gt; { map { $_ =&gt; undef } @states }</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1440796491, "post_id": 32279425, "comment_id": 52438405, "body": "I could have sworn somebody asked this before, but the closest I could find was <a href=\"http://stackoverflow.com/q/17837665/176646\">Anonymous Hash Slices - syntax?</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1440796590, "post_id": 32279425, "comment_id": 52438442, "body": "Shorter is not always better. Generally you should shoot for readability rather than brevity."}, {"owner": {"reputation": 45, "user_id": 5220003, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/17cb601ae65a9c49a955bd0720f851e1?s=128&d=identicon&r=PG&f=1", "display_name": "Agnaroc ", "link": "https://stackoverflow.com/users/5220003/agnaroc"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1440797023, "post_id": 32279425, "comment_id": 52438580, "body": "@choroba I would prefer your solution since I can use it upon theinitialisation of the main anonymous hash."}, {"owner": {"reputation": 45, "user_id": 5220003, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/17cb601ae65a9c49a955bd0720f851e1?s=128&d=identicon&r=PG&f=1", "display_name": "Agnaroc ", "link": "https://stackoverflow.com/users/5220003/agnaroc"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440797117, "post_id": 32279425, "comment_id": 52438614, "body": "@ThisSuitIsBlackNot Yes, the closest I found by scrolling through the question suggestions were hash slices but not for an anonymous hash."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440798320, "post_id": 32279425, "comment_id": 52439045, "body": "You should show what you want <code>%records</code> to look like. It&#39;s puzzling that you have only keys for your hash and no values"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440799304, "post_id": 32279425, "comment_id": 52439419, "body": "@Agnaroc: A hash is a hash, whether it has a name or not. I think what&#39;s puzzling you is how to create and populate a hash using the <code>{ ... }</code> constructor, and the answer is that there&#39;s no need to. You can build an ordinary hash and take a reference to it, and it will be as if the hash were anonymous"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1440798681, "creation_date": 1440798681, "answer_id": 32280289, "question_id": 32279425, "link": "https://stackoverflow.com/questions/32279425/add-multiple-keys-to-an-anonymous-hash-in-perl/32280289#32280289", "title": "Add multiple keys to an anonymous hash in Perl", "body": "<p>It's puzzling that you have only keys for your hash and no values. This code will set the value of each element of <code>$records{$key}{states}</code> to <code>undef</code></p>\n\n<pre><code>my %records;\nmy $key = \"key1\";\nmy @states = ( \"state1\", \"state2\", \"state3\" );\n\n$records{$key} = {\n    numbers =&gt; [],\n    states  =&gt; { map { ( $_ =&gt; undef ) } @states },\n};\n</code></pre>\n\n<p>But it would be clearer to build a proper hash temporarily and assign a reference to it to the data structure. I've enclosed the entire assignment process in its own block so that I can declare a temporary lexical hash <code>%states</code></p>\n\n<pre><code>{\n    my %states;\n    @states{@states} = ();\n\n    $records{$key} = {\n        numbers =&gt; [],\n        states  =&gt; \\%states,\n    };\n}\n</code></pre>\n\n<p>But note that it's generally better if hash elements don't exist at all rather than create them with undefined values. There is no need to preallocate the elements of a hash like this, just leave it empty like you did with the array</p>\n\n<pre><code>$records{$key} = {\n    numbers =&gt; [],\n    states  =&gt; {},\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5220003, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/17cb601ae65a9c49a955bd0720f851e1?s=128&d=identicon&r=PG&f=1", "display_name": "Agnaroc ", "link": "https://stackoverflow.com/users/5220003/agnaroc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440798681, "creation_date": 1440794355, "last_edit_date": 1440798187, "question_id": 32279425, "link": "https://stackoverflow.com/questions/32279425/add-multiple-keys-to-an-anonymous-hash-in-perl", "title": "Add multiple keys to an anonymous hash in Perl", "body": "<p>I have a hash that holds for each record an anonymous hash with 2 elements: an array and a hash. I want to initialize this subsidiary hash with a list of keys. </p>\n\n<p>I know hash slices can be used when you use a normal hash (not a ref) and use both a key list and values list.</p>\n\n<p>My code is like this</p>\n\n<pre><code>my %records;\nmy $key = \"key1\";\nmy @states = ( \"state1\", \"state2\", \"state3\" );\n\n$records{$key} = {\n    numbers =&gt; [],\n    states  =&gt; %{@states} #This is wrong !\n};\n</code></pre>\n\n<p>EDIT (marked as duplicate): This question asks how to add multiple keys to <strong>an anonymous hash</strong>. </p>\n"}, {"tags": ["perl", "sockets"], "answers": [{"comments": [{"owner": {"reputation": 736, "user_id": 322052, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/60e10b499cc6f2e9c919aa5a958299ce?s=128&d=identicon&r=PG", "display_name": "Tihomir Mitkov", "link": "https://stackoverflow.com/users/322052/tihomir-mitkov"}, "edited": false, "score": 0, "creation_date": 1440792327, "post_id": 32278771, "comment_id": 52436707, "body": "I just tried your code. It still hangs at the second iteration. When I click &#39;stop&#39; all of the remaining data is recieved"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 736, "user_id": 322052, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/60e10b499cc6f2e9c919aa5a958299ce?s=128&d=identicon&r=PG", "display_name": "Tihomir Mitkov", "link": "https://stackoverflow.com/users/322052/tihomir-mitkov"}, "edited": false, "score": 0, "creation_date": 1440792969, "post_id": 32278771, "comment_id": 52436956, "body": "If it hangs, it means fewer than <code>$body_length</code> bytes have arrived."}, {"owner": {"reputation": 736, "user_id": 322052, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/60e10b499cc6f2e9c919aa5a958299ce?s=128&d=identicon&r=PG", "display_name": "Tihomir Mitkov", "link": "https://stackoverflow.com/users/322052/tihomir-mitkov"}, "edited": false, "score": 0, "creation_date": 1440796466, "post_id": 32278771, "comment_id": 52438396, "body": "I had to call shutdown($client_socket, 1); before reading from socket. Now works like a charm"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 736, "user_id": 322052, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/60e10b499cc6f2e9c919aa5a958299ce?s=128&d=identicon&r=PG", "display_name": "Tihomir Mitkov", "link": "https://stackoverflow.com/users/322052/tihomir-mitkov"}, "edited": false, "score": 0, "creation_date": 1440800336, "post_id": 32278771, "comment_id": 52439773, "body": "Nonsense. If you do that, you won&#39;t be able to send a response."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1440791929, "last_edit_date": 1440791929, "creation_date": 1440791238, "answer_id": 32278771, "question_id": 32278593, "link": "https://stackoverflow.com/questions/32278593/receive-http-data-in-multiple-passes/32278771#32278771", "title": "Receive HTTP data in multiple passes", "body": "<p>First of all, NEVER EVER USE <code>use bytes;</code>. Any of use it is inherently buggy. Good thing it didn't actually do anything here. Remove it!</p>\n\n<hr>\n\n<p>As for your endless stream of calls <code>recv</code>, it's because you didn't check for EOF or error. What follows is code that does what you want:</p>\n\n<pre><code>my $body = '';\nwhile ($bytes_to_read) {\n   my $rv = sysread($client_socket, $body, $bytes_to_read, length($body));\n   die(\"Read failed: $!\") if !defined($rv);\n   die(\"Read failed: Premature EOF\") if !$rv;\n   $bytes_to_read -= $rv;\n}\n</code></pre>\n\n<p>I switched from <code>recv</code> to <code>sysread</code> since it makes more sense for a stream protocol like TCP.</p>\n\n<p>All together, you want</p>\n\n<pre><code>my $body;\nif ($request_method eq 'POST') {\n   $body = '';\n   if (defined($body_length)) {\n      # Content-Length provided.\n      my $bytes_to_read = $body_length;\n      while ($bytes_to_read) {\n         my $rv = sysread($client_socket, $body, $bytes_to_read, length($body));\n         die(\"Read failed: $!\") if !defined($rv);\n         die(\"Read failed: Premature EOF\") if !$rv;\n         $bytes_to_read -= $rv;\n      }\n   } else {\n      # Content-Length not provided.\n      while (1) {\n         my $rv = sysread($client_socket, $body, 64*1024, length($body));\n         die(\"Read failed: $!\") if !defined($rv);\n         last if !$rv;\n      }\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 736, "user_id": 322052, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/60e10b499cc6f2e9c919aa5a958299ce?s=128&d=identicon&r=PG", "display_name": "Tihomir Mitkov", "link": "https://stackoverflow.com/users/322052/tihomir-mitkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 32278771, "answer_count": 1, "score": 0, "last_activity_date": 1440791929, "creation_date": 1440790461, "last_edit_date": 1440791068, "question_id": 32278593, "link": "https://stackoverflow.com/questions/32278593/receive-http-data-in-multiple-passes", "title": "Receive HTTP data in multiple passes", "body": "<p>I'm writing a custom HTTP server to serve my own JavaScript applications.</p>\n\n<p>Getting headers from the browser is pretty straightforward with this code</p>\n\n<pre><code>$data_length = 0;\n$client_data = \"\";\n\nwhile ( &lt;$client_socket&gt; ) {\n\n    if ( /Content-Length: (\\d+)/ ) {\n        $data_length = $1;\n    }\n\n    $client_data .= $_;\n    last if ( $_ =~ /^\\s*$/ );    # end of headers\n}\n\n# Receiving the body-entity (POST data) is where things start getting unpleasant.\n\n$bytes_read  = 0;\n$bytes_total = 0;\n\n{\n    use bytes;\n\n    $client_data_body = \"\";\n    $bytes_to_read    = $data_length;\n    $count_recieve    = 0;\n\n    while ( $bytes_to_read &gt; 0 ) {\n\n        print \"Bytes to read: $bytes_to_read\\n\";\n\n        $client_socket-&gt;recv( $client_data_body, $bytes_to_read );\n        $bytes_read = length $client_data_body;\n        $bytes_total += $bytes_read;\n        $bytes_to_read = $bytes_to_read - $bytes_read;\n        $client_data .= $client_data_body;\n\n    }\n\n}\n</code></pre>\n\n<p>The above code almost always hangs at <code>recv()</code> after some iterations. <code>sysread()</code> behaves the same way.</p>\n\n<p>This is a actual output from the above script</p>\n\n<pre><code>Bytes to read: 48821\nBytes to read: 35168\nBytes to read: 24245\nBytes to read: 7687\n</code></pre>\n\n<p>At that point the script waits forever. If I click 'stop' in the browser I get infinitely many <code>Bytes to read: 7687</code></p>\n\n<pre><code>Bytes to read: 7687\nBytes to read: 7687\nBytes to read: 7687\nBytes to read: 7687\nBytes to read: 7687\nBytes to read: 7687\nBytes to read: 7687\nBytes to read: 7687\nBytes to read: 7687\nBytes to read: 7687\nBytes to read: 7687\nBytes to read: 7687\nBytes to read: 7687\nBytes to read: 7687\n</code></pre>\n\n<p>Of course sometimes the numbers would be different from these, except the last one, which seems stuck between 7100 and 7800.</p>\n\n<p>Very, very rarely the script won't hang and would do it's job the way I want it</p>\n"}, {"tags": ["perl", "informix"], "comments": [{"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1440798248, "post_id": 32278529, "comment_id": 52439019, "body": "This is on a VM host.  So this would be a remote connection.  Is there a different format to do such?"}], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1440806367, "post_id": 32281195, "comment_id": 52441232, "body": "Thanks.  I can&#39;t vpn to my desktop for some reason will try this as soon as i can get back in.  Yes I worked with our SA to fix the /etc/services portion that error is gone.  Will try your suggestion when I can log back in."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1440808882, "post_id": 32281195, "comment_id": 52441605, "body": "Okay changed it to &quot;my $dsn = &quot;DBI:$driver:$database&quot;;&quot; and it is still giving me the same error of &quot;107 ISAM error: record is locked &quot; when running the script on the Linux host as root.  The full error is:  &quot;attempt to connect to database server (web1) failed 107 ISAM error: record is locked.&quot;"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1440981032, "post_id": 32281195, "comment_id": 52481154, "body": "Do you also get the -931 error still?  Or has that changed?  The problem is probably still connectivity setup \u2014 unless you&#39;ve had connections working to this database from this machine before (but if so, what settings did you use, and which software?).  To debug this, I&#39;ll need to see the relevant entry in the <code>sqlhosts</code> file (usually <code>$INFORMIXDIR&#47;etc&#47;sqlhosts</code>), and I&#39;ll need to understand which machines are involved, and where the client (Perl) software is running, and where the Informix server is running, and so on.  Did you build DBD::Informix on this machine?"}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441022215, "post_id": 32281195, "comment_id": 52496330, "body": "Yes. I worked with the SA to fix the -931 error, previously to making this post on StackOverflow.  After the SA did it, I then ran my script and got the ISAM 107 error.  No, this is a new VM we are building out. Okay thanks I have posted the sqlhosts file and the etc/services file above.  And yes Perl is running on the current hosts sandbox-prod-supt.  Yes we built the DBD:Informix module on this same host.  This is the first time we have had any db connections setup on this machine. Not sure if the port could be the problem?"}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441033162, "post_id": 32281195, "comment_id": 52503510, "body": "Thanks I had the wrong port listed in my etc/services file!  I got past that error."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1441033201, "post_id": 32281195, "comment_id": 52503546, "body": "That&#39;ll cause the trouble \u2014 well done on getting it fixed."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 1, "last_activity_date": 1440805100, "last_edit_date": 1440805100, "creation_date": 1440804797, "answer_id": 32281195, "question_id": 32278529, "link": "https://stackoverflow.com/questions/32278529/informix-error-in-perl-isam-107-isam-error-record-is-locked-at-test-db-conn/32281195#32281195", "title": "Informix error in Perl: ISAM: 107: ISAM error: record is locked. at test_db_connectivity.pl line 14", "body": "<p>On Linux, there is a system error 107:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>107 (ENOTCONN): Transport endpoint is not connected\n</code></pre>\n\n<p>It is hard to distinguish that from a C-ISAM error 107 (the number is the same).  However, in context, I think the ENOTCONN is far more likely to be the problem than</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ISAM ERROR 107: record is locked.\n</code></pre>\n\n<p>I observe that you're using a notation in <code>$dsn</code> that DBD::Informix doesn't test for:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $dsn = \"DBI:$driver:dbname=$database\";\n</code></pre>\n\n<p>The <code>dbname=</code> portion of that is incorrect.  You should use:</p>\n\n<pre><code>my $dsn = \"DBI:$driver:$database\";\n</code></pre>\n\n<p>Note that the DBI spec (when I last looked) said that what follows the driver name is driver-specific.  You could submit an enhancement request.</p>\n\n<p>However, on my working system, when I use the <code>dbname=stores</code> notation, the error I get is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>DBI connect('dbname=stores', '',...) failed: SQL: -354: Incorrect database or cursor name format. at dbname-dsn.pl line 8.\n</code></pre>\n\n<p>That's quite different.  You say you got:</p>\n\n<blockquote>\n  <p>SQL: -931: Cannot locate web1_tcp service/tcp service in /etc/services. at test_db_connectivity.pl line 13</p>\n</blockquote>\n\n<p>The error message is quite explicit.  You need an entry in <code>/etc/services</code> such as:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>web1_tcp    9088/tcp\n</code></pre>\n\n<p>At the moment, you do not have such an entry, and therefore the connection is not even attempted, much less successful.</p>\n"}], "owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 977, "favorite_count": 0, "accepted_answer_id": 32281195, "answer_count": 1, "score": 0, "last_activity_date": 1441019040, "creation_date": 1440790193, "last_edit_date": 1441019040, "question_id": 32278529, "link": "https://stackoverflow.com/questions/32278529/informix-error-in-perl-isam-107-isam-error-record-is-locked-at-test-db-conn", "title": "Informix error in Perl: ISAM: 107: ISAM error: record is locked. at test_db_connectivity.pl line 14", "body": "<p>I'm trying to connect to our database in our production environment.  I am getting the <strong>107 ISAM error:  record is locked</strong> .  I have checked various articles on what it could be, but no luck.  I double checked the database details with our DBA and the information is correct.</p>\n\n<p>FYI - Also the first error previous to the \"record is locked\" error I received was <strong>SQL: -931: Cannot locate web1_tcp service/tcp service in /etc/services. at test_db_connectivity.pl line 13.</strong> .  I worked with our SA to get that entered and that is no longer appearing.  Can anyone offer any guidance on the ISAM 107 error?  Is my connection string wrong?  There shouldn't be a lock because I am not even opening a connection to the database.</p>\n\n<p><strong>test_db_connectivity.pl:</strong></p>\n\n<pre><code>#/usr/bin/perl -w\n\nuse DBI;\nuse strict;\nuse DBI qw(:sql_types);\nuse DBD::Informix qw(:ix_types);\n\n    my $driver = \"Informix\";\n    my $database = \"web1\";\n    my $dsn = \"DBI:$driver:dbname=$database\";\n    my $userid = \"user\";\n    my $password = \"password\";\n    print \"I got this far!\\n\";\n    my $dbh = DBI-&gt;connect($dsn, $userid, $password, {RaiseError =&gt; 1}) or      die $DBI::errstr;\n    print \"Opened db successfully\\n\";\n    $dbh-&gt;disconnect();\n</code></pre>\n\n<p><strong>Some of the variables set:</strong></p>\n\n<pre><code>export INFORMIXDIR=/opt/informix\n\nexport   LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$INFORMIXDIR/lib:$INFORMIXDIR/lib/cli:$INFORMIXDIR/lib/esql:$INFORMIXDIR/lib/tools\n\nexport INFORMIXSERVER=web1\n</code></pre>\n\n<p><strong>INFORMIX SQLHOSTS FILE:</strong></p>\n\n<p>#dbservername   nettype         hostname        servicename    options</p>\n\n<p>web1           onsoctcp        10.199.***.*    web1dev1_tcp</p>\n\n<p><strong>etc/services FILE:</strong></p>\n\n<p>web1dev1_tcp  1533/tcp                # Port assigned to database</p>\n\n<h1>virtual-places  1533/tcp                # Virtual Places Software</h1>\n\n<p>web1dev1_tcp  1533/udp                # Port assigned to database</p>\n"}, {"tags": ["perl", "io", "www-mechanize"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1440789459, "post_id": 32278289, "comment_id": 52435325, "body": "Please show how you&#39;re fetching the HTML in the first place and explain what you want to do with it. The module you&#39;re using may offer a better way to do what you want, e.g. WWW::Mechanize has a <code>links</code> method to pull all links from a page so you don&#39;t have to parse the raw HTML yourself."}, {"owner": {"reputation": 59, "user_id": 4013285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a789188f947af970dc1474db57d14640?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4013285/matthew"}, "edited": false, "score": 1, "creation_date": 1440789777, "post_id": 32278289, "comment_id": 52435483, "body": "$res has the entire contents of the html file. I am using WWW::Mechanize, but I want text. I use Mechanize to input a sequence in a textarea, choose some variable and submit. The results page is a table which I would like to filter out some results and print the others to a file."}, {"owner": {"reputation": 59, "user_id": 4013285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a789188f947af970dc1474db57d14640?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4013285/matthew"}, "edited": false, "score": 0, "creation_date": 1440790055, "post_id": 32278289, "comment_id": 52435642, "body": "I am using: my $res = $mech-&gt;content(raw =&gt; 1). I know I could do: my $res = $mech-&gt;content( format =&gt; text), but this results in no delimiters between columns of the table. For example, the table has 4.3  5.6  5  34. Using format text, I get 4.35.6534."}, {"owner": {"reputation": 59, "user_id": 4013285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a789188f947af970dc1474db57d14640?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4013285/matthew"}, "edited": false, "score": 0, "creation_date": 1440790418, "post_id": 32278289, "comment_id": 52435814, "body": "Ah, OK, so I can just parse $res with HTML::Parser or something similar. Thank you, toolic !"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1440791008, "post_id": 32278289, "comment_id": 52436107, "body": "@Matthew There&#39;s also <a href=\"https://metacpan.org/pod/HTML::TreeBuilder\" rel=\"nofollow noreferrer\">HTML::TreeBuilder</a>."}, {"owner": {"reputation": 59, "user_id": 4013285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a789188f947af970dc1474db57d14640?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4013285/matthew"}, "edited": false, "score": 0, "creation_date": 1440792068, "post_id": 32278289, "comment_id": 52436592, "body": "Tree::Builder looks very helpful. Thank you, ThisSuitIsBlackNot."}], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 0, "last_activity_date": 1440794312, "creation_date": 1440794312, "answer_id": 32279416, "question_id": 32278289, "link": "https://stackoverflow.com/questions/32278289/perl-read-line-by-line-from-scalar-variable/32279416#32279416", "title": "perl read line-by-line from scalar variable", "body": "<p>You may use <code>IO::Scalar</code> module.</p>\n\n<p><strong><code>man IO::Scalar</code></strong> : </p>\n\n<pre><code>use 5.005;\nuse IO::Scalar;\n$data = \"My message:\\n\";\n\n### Open a handle on a string, read it line-by-line, then close it:\n$SH = new IO::Scalar \\$data;\nwhile (defined($_ = $SH-&gt;getline)) {\n    print \"Got line: $_\";\n}\n</code></pre>\n\n<p><code>while(&lt;$SH&gt;)</code> works too.</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 4013285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a789188f947af970dc1474db57d14640?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4013285/matthew"}, "edited": false, "score": 0, "creation_date": 1440800143, "post_id": 32279436, "comment_id": 52439712, "body": "This works and does it very elegantly; in only 2 lines of code. I don&#39;t need the $header part. You&#39;re a Perl ninja, mob !"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1440800411, "last_edit_date": 1490005771, "creation_date": 1440794400, "answer_id": 32279436, "question_id": 32278289, "link": "https://stackoverflow.com/questions/32278289/perl-read-line-by-line-from-scalar-variable/32279436#32279436", "title": "perl read line-by-line from scalar variable", "body": "<p>To address <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">the Y part of this problem</a>, yes, you can treat a scalar variable as an input source and use Perl's input processing features. You just <code>open</code> a reference to the variable:</p>\n\n<pre><code>open my $fh, '&lt;', \\$res;\nmy $header = &lt;$fh&gt;;        # first \"line\" of $res\nwhile (my $line = &lt;$fh&gt;) { # next \"line\" of $res\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4013285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a789188f947af970dc1474db57d14640?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4013285/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1274, "favorite_count": 0, "accepted_answer_id": 32279436, "answer_count": 2, "score": 0, "last_activity_date": 1440800411, "creation_date": 1440789206, "last_edit_date": 1440795800, "question_id": 32278289, "link": "https://stackoverflow.com/questions/32278289/perl-read-line-by-line-from-scalar-variable", "title": "perl read line-by-line from scalar variable", "body": "<p>From scraping a website, I have an html file in a scalar variable, $res.\nI want to read the html file in $res line-by-line. For example, while (my $line = )...</p>\n\n<p>Do I need to print $res to a text file and then read in the text file ?</p>\n"}, {"tags": ["windows", "perl", "path"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1440784555, "post_id": 32276664, "comment_id": 52432850, "body": "Couldn&#39;t <code>C</code> also refer to a machine on the network named <code>C</code>? e.g., <code>\\\\C\\some\\file</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1440786270, "post_id": 32276664, "comment_id": 52433732, "body": "Windows volume names are of the form <code>d:</code> or <code>\\\\sever\\share</code> (which includes a lot of funky stuff like <code>\\\\.\\C$</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1440786449, "post_id": 32276664, "comment_id": 52433831, "body": "Tip: I find Path::Class much easier to use."}], "answers": [{"tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 6, "last_activity_date": 1440786136, "last_edit_date": 1440786136, "creation_date": 1440785205, "answer_id": 32277257, "question_id": 32276664, "link": "https://stackoverflow.com/questions/32276664/filespec-catpath-does-not-work-for-windows/32277257#32277257", "title": "File::Spec-&gt;catpath does not work for Windows", "body": "<p>You have 2 problems.  The first is that Windows volume names include the colon, so you should have said <code>$volume = 'C:'</code>. The second is that you specified a relative path, so you got a relative path.  If you want an absolute path, you have to give one:</p>\n\n<pre><code>use 5.010;\nuse File::Spec;\n\nmy $volume = 'C:';\nmy $path = File::Spec-&gt;catpath($volume,\n    File::Spec-&gt;catdir('', 'panel', 'texts'), 'file');\nsay $path;\n</code></pre>\n\n<p>On Windows, that will print <code>C:\\panel\\texts\\file</code>, and on Unix it will say <code>/panel/texts/file</code>.</p>\n\n<p>Note that it's perfectly legitimate to have a relative path with a volume name on Windows:</p>\n\n<pre><code>File::Spec-&gt;catpath('C:',\n    File::Spec-&gt;catdir('panel', 'texts'), 'file');\n</code></pre>\n\n<p>will give you <code>C:panel/texts/file</code>, which means <code>panel/texts/file</code> relative to the current directory on drive <code>C:</code>.  (In Windows, each drive has its own current directory.)</p>\n"}], "owner": {"reputation": 73, "user_id": 1824796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da06fdf47e2483bb09b3321bfca69887?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/1824796/pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 32277257, "answer_count": 1, "score": -1, "last_activity_date": 1446708735, "creation_date": 1440783018, "last_edit_date": 1495539930, "question_id": 32276664, "link": "https://stackoverflow.com/questions/32276664/filespec-catpath-does-not-work-for-windows", "title": "File::Spec-&gt;catpath does not work for Windows", "body": "<p>I am using the <a href=\"https://metacpan.org/pod/File::Spec\" rel=\"nofollow noreferrer\"><code>File::Spec</code> module</a> like this</p>\n\n<pre><code>my $volume = 'C';\n\nmy $path = File::Spec-&gt;catpath(\n    $volume,\n    File::Spec-&gt;catdir('panel', 'texts'),\n    'file'\n);\n\nprint $path;\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>Cpanel\\texts\\file\n</code></pre>\n\n<p>How is <code>File::Spec</code> a portable module, as discussed in <a href=\"https://stackoverflow.com/q/1818093\">How can I construct OS-independent file paths in Perl ...?</a> if I have to write the volume as <code>C:\\</code> and not just <code>C</code> to get it right?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1440778105, "post_id": 32275042, "comment_id": 52429550, "body": "There&#39;s no regex anywhere. There&#39;s only a glob wildcard."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1440779164, "post_id": 32275042, "comment_id": 52430069, "body": "<code>use strict; use warnings;</code> would have advised you to this error."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440779282, "post_id": 32275042, "comment_id": 52430116, "body": "What are you ultimately trying to do?"}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1440779490, "post_id": 32275042, "comment_id": 52430214, "body": "Hi Jacob, I am trying to get the filename (full path of the file names) and dirname/filename alone (like from file path I am looking for output  &quot;pushdir/test1.sql&quot; and &quot;pushdir/testdir/test2.sql&quot;)"}], "answers": [{"comments": [{"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1440781305, "post_id": 32275325, "comment_id": 52431130, "body": "hi,  it works partially.  I am not sure if I am missing . however, I am not getting the filenames (with full path) from @array . sort glob &quot;$dir/*&quot;  results system files list. I am actually trying to get  filename (full path of the file names) and dirname/filename alone (like from file path I am looking for output &quot;pushdir/test1.sql&quot; and &quot;pushdir/testdir/test2.sql&quot;) . thanks"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1440786485, "post_id": 32275325, "comment_id": 52433846, "body": "@organic: Use <code>abs2rel</code> to get relative path. Also, shouldn&#39;t <code>test2.sql</code> be located in <code>nextdir</code> instead of <code>pushdir</code>?"}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1440801196, "post_id": 32275325, "comment_id": 52440029, "body": "hi, thanks. yes test2.sql is located at &quot;/home/testuser/mysql/data/userdata/nextdir/testdir/&quot;"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1440777995, "creation_date": 1440777995, "answer_id": 32275325, "question_id": 32275042, "link": "https://stackoverflow.com/questions/32275042/how-to-regex-and-get-file-and-directory-path/32275325#32275325", "title": "How to regex and get file and directory path", "body": "<p><code>@names</code> is declared with <a href=\"http://p3rl.org/my\" rel=\"nofollow\">my</a>, and therefore scoped inside the <code>foreach $dir</code> loop only. There's no <code>@names</code> array to iterate over in the second foreach loop. Moreover, <a href=\"http://p3rl.org/join\" rel=\"nofollow\">join</a>\nreturns a string, you probably don't want the string to go to the array, you want individual filesnames to go there.</p>\n\n<p>Use <a href=\"http://p3rl.org/strict\" rel=\"nofollow\">strict</a> (it will tell you there's no <code>@names</code> declared) and <a href=\"http://p3rl.org/warnings\" rel=\"nofollow\">warnings</a>. Indent code blocks properly to see what commands belong where.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse File::Spec;\n\nmy @array = qw( home/testuser/mysql/data/userdata/pushdir/\n                home/testuser/mysql/data/userdata/pushdir/test1.sql\n                home/testuser/mysql/data/userdata/nextdir/testdir/\n                home/testuser/mysql/data/userdata/pushdir/testdir/test2.sql );\n\nmy @names;\nfor my $dir (@array) {\n    print \"DIR: $dir\\n\";\n    push @names, sort glob \"$dir/*\";\n    print \"NAMES: @names\\n\";\n}\n\nfor my $filepath (@names) {\n    my ($volume, $dirs, $filelist) = 'File::Spec'-&gt;splitpath($filepath);\n    print \"FL: $filelist\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 32275325, "answer_count": 1, "score": -1, "last_activity_date": 1440778082, "creation_date": 1440777087, "last_edit_date": 1440778082, "question_id": 32275042, "link": "https://stackoverflow.com/questions/32275042/how-to-regex-and-get-file-and-directory-path", "title": "How to regex and get file and directory path", "body": "<p>My array (@array) contains these directory structures. below directory and files path.</p>\n\n<pre><code>/home/testuser/mysql/data/userdata/pushdir/\n/home/testuser/mysql/data/userdata/pushdir/test1.sql\n/home/testuser/mysql/data/userdata/nextdir/testdir/\n/home/testuser/mysql/data/userdata/pushdir/testdir/test2.sql\n\n /home/testuser/mysql/data/userdata/ - from above list till this line path is constant.\n</code></pre>\n\n<p>I am trying to process the files to another loop . for that I am looking for the file names output only like \"pushdir/test1.sql\"  and \"pushdir/testdir/test2.sql\"</p>\n\n<p>I am using this code to get that, but I am not getting the expected output like \"pushdir/test1.sql\"  and \"pushdir/testdir/test2.sql\". Please share your ideas to regex and get the output</p>\n\n<pre><code>foreach $dir(@array)\n{\nchomp $dir;\nprint \"$dir\\n\";\n@files = &lt;$dir/*&gt;;\nmy @names=join(\"\\n\", sort(@files));\nprint @names,\"\\n\";\n}\n\nforeach my $filepath (@names) {\n\n  (my $volume,my $dirs, my $filelist) = File::Spec-&gt;splitpath(+$filepath );\n  print \"$filelist\\n\";\n }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440779369, "post_id": 32274851, "comment_id": 52430155, "body": "Can you post what you&#39;ve got so far?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3360619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d709c7bb397b664db2b7e8df8aa041?s=128&d=identicon&r=PG&f=1", "display_name": "Summoner1337", "link": "https://stackoverflow.com/users/3360619/summoner1337"}, "edited": false, "score": 0, "creation_date": 1440782774, "post_id": 32275072, "comment_id": 52431916, "body": "Is is possible to change the header properties like, for example, alignment?"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 2, "last_activity_date": 1440783485, "last_edit_date": 1440783485, "creation_date": 1440777184, "answer_id": 32275072, "question_id": 32274851, "link": "https://stackoverflow.com/questions/32274851/creating-a-table-with-dynamic-number-of-columns-using-texttable/32275072#32275072", "title": "Creating a table with dynamic number of columns using Text::Table", "body": "<p>You have an array of strings; to convert it to an array of hashrefs where each hashref is a <a href=\"https://metacpan.org/pod/Text::Table#Columns-as-Hashes\" rel=\"nofollow\">column spec</a> you can use <code>map</code>:</p>\n\n<pre><code>use Text::Table;\n\nmy @columns = (\"TIME\", \"P1\", \"P2\", \"B1\", \"P3\");\nmy @col_spec = map { { title =&gt; $_, align_title =&gt; 'center' } } @columns;\n\nmy $table = Text::Table-&gt;new(@col_spec);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3360619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d709c7bb397b664db2b7e8df8aa041?s=128&d=identicon&r=PG&f=1", "display_name": "Summoner1337", "link": "https://stackoverflow.com/users/3360619/summoner1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 32275072, "answer_count": 1, "score": -1, "last_activity_date": 1440783889, "creation_date": 1440776420, "last_edit_date": 1440783889, "question_id": 32274851, "link": "https://stackoverflow.com/questions/32274851/creating-a-table-with-dynamic-number-of-columns-using-texttable", "title": "Creating a table with dynamic number of columns using Text::Table", "body": "<p>I want to make a program that ask the user for some inputs (which I'm saving in an array) and then create a table with those inputs as column names, but I don't know how to create the columns dynamically.</p>\n\n<p>I'm currently using the <a href=\"https://metacpan.org/pod/Text::Table\" rel=\"nofollow\">Text::Table</a> module, it would be great to achieve this with this module.</p>\n\n<p>This is an example array I will get from the user input:</p>\n\n<pre><code>my @columns = (\"TIME\", \"P1\", \"P2\", \"B1\", \"P3\");\n</code></pre>\n\n<p>This is how I'm making the table manually:</p>\n\n<pre><code>my $table = Text::Table-&gt;new(\n    {title =&gt; 'TIME', align_title =&gt; 'center'},\n    {title =&gt; ' P1 ', align_title =&gt; 'center'},\n    {title =&gt; ' P2 ', align_title =&gt; 'center'},\n    {title =&gt; ' B1 ', align_title =&gt; 'center'},\n    {title =&gt; ' P3 ', align_title =&gt; 'center'}\n);\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1440774837, "creation_date": 1440774837, "answer_id": 32274342, "question_id": 32273787, "link": "https://stackoverflow.com/questions/32273787/how-to-validate-the-data-with-the-line-text-to-generate-a-different-output-file/32274342#32274342", "title": "How to validate the data with the line text to generate a different output file in perl", "body": "<p>I suggest you start by splittling the line on pipe characters <code>|</code>, and then process the first field in more detail</p>\n\n<p>This program works that way. The record is split into the <code>@fields</code> array, and then the first element, <code>$fields[0]</code>, is removed and replaced with its constituent parts using <code>splice</code> together with a regex pattern</p>\n\n<p>I have displayed the resulting value of <code>@fields</code> using <code>Data::Dump</code>. You can use the values for whatever you need. Clearly <code>$fields[1]</code> is <code>SIMPLE</code> or <code>TF</code> so you can alter your processing accordingly</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\n\nwhile ( &lt;DATA&gt; ) {\n    next unless /^CUSTEVSUMMROW/;\n\n    chomp;\n    my @fields = split /\\|/;\n    splice @fields, 0, 1, $fields[0] =~ /(.+)_(\\S+)\\s+(.+)/;\n    dd \\@fields;\n}\n\n__DATA__\nTSTARTCUSTEVSUMMROW_SIMPLE\nCUSTEVSUMMROW_SIMPLE Airtime - Simple All In Plan (Monthly)|3040|MOU|0|0\nCUSTEVSUMMROW_SIMPLE Airtime - Simple All In Plan (Monthly)|1758|MOU|8000|140640\nCUSTEVSUMMROW_SIMPLE Airtime - Simple All In Talk and Text Prepaid|3040|MOU|0|0\nTENDCUSTEVSUMMROW_SIMPLE\nTSTARTCUSTEVSUMMROW_GPRS_SIMPLE\nCUSTEVSUMMROW_GPRS_SIMPLE GPRS - Simple All In Plan (Monthly) - LTE|2860|MB|6500|488\nTENDCUSTEVSUMMROW_GPRS_SIMPLE\nTSTARTCUSTEVSUMMROW_TF\nCUSTEVSUMMROW_TF Airtime - TRCF2000Pkg|2952|MOU|8000|236160|\nTENDCUSTEVSUMMROW_TF\nTSTARTCUSTEVSUMMROW_GPRS_TF\nCUSTEVSUMMROW_GPRS_TF GPRS - TRCF2000Pkg - LTE|13493|MB|6500|1496\nTENDCUSTEVSUMMROW_GPRS_TF\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>[\n  \"CUSTEVSUMMROW\",\n  \"SIMPLE\",\n  \"Airtime - Simple All In Plan (Monthly)\",\n  3040,\n  \"MOU\",\n  0,\n  0,\n]\n[\n  \"CUSTEVSUMMROW\",\n  \"SIMPLE\",\n  \"Airtime - Simple All In Plan (Monthly)\",\n  1758,\n  \"MOU\",\n  8000,\n  140640,\n]\n[\n  \"CUSTEVSUMMROW\",\n  \"SIMPLE\",\n  \"Airtime - Simple All In Talk and Text Prepaid\",\n  3040,\n  \"MOU\",\n  0,\n  0,\n]\n[\n  \"CUSTEVSUMMROW_GPRS\",\n  \"SIMPLE\",\n  \"GPRS - Simple All In Plan (Monthly) - LTE\",\n  2860,\n  \"MB\",\n  6500,\n  488,\n]\n[\n  \"CUSTEVSUMMROW\",\n  \"TF\",\n  \"Airtime - TRCF2000Pkg\",\n  2952,\n  \"MOU\",\n  8000,\n  236160,\n]\n[\n  \"CUSTEVSUMMROW_GPRS\",\n  \"TF\",\n  \"GPRS - TRCF2000Pkg - LTE\",\n  13493,\n  \"MB\",\n  6500,\n  1496,\n]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3045098, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4fd2b3277d0fd46712e1102a3131fe06?s=128&d=identicon&r=PG&f=1", "display_name": "user3045098", "link": "https://stackoverflow.com/users/3045098/user3045098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440774969, "creation_date": 1440773261, "last_edit_date": 1440774969, "question_id": 32273787, "link": "https://stackoverflow.com/questions/32273787/how-to-validate-the-data-with-the-line-text-to-generate-a-different-output-file", "title": "How to validate the data with the line text to generate a different output file in perl", "body": "<p>I have a GMF file</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>TSTARTCUSTEVSUMMROW_SIMPLE\nCUSTEVSUMMROW_SIMPLE Airtime - Simple All In Plan (Monthly)|3040|MOU|0|0\nCUSTEVSUMMROW_SIMPLE Airtime - Simple All In Plan (Monthly)|1758|MOU|8000|140640\nCUSTEVSUMMROW_SIMPLE Airtime - Simple All In Talk and Text Prepaid|3040|MOU|0|0\nTENDCUSTEVSUMMROW_SIMPLE\nTSTARTCUSTEVSUMMROW_GPRS_SIMPLE\nCUSTEVSUMMROW_GPRS_SIMPLE GPRS - Simple All In Plan (Monthly) - LTE|2860|MB|6500|488\nTENDCUSTEVSUMMROW_GPRS_SIMPLE\nTSTARTCUSTEVSUMMROW_TF\nCUSTEVSUMMROW_TF Airtime - TRCF2000Pkg|2952|MOU|8000|236160|\nTENDCUSTEVSUMMROW_TF\nTSTARTCUSTEVSUMMROW_GPRS_TF\nCUSTEVSUMMROW_GPRS_TF GPRS - TRCF2000Pkg - LTE|13493|MB|6500|1496\nTENDCUSTEVSUMMROW_GPRS_TF\n</code></pre>\n\n<p>I'm able to process the file successfully, with the below code.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>if ( $line =~ m/^(CUSTEVSUMMROW_GPRS|CUSTEVSUMMROW).*?\\s(.*?)\\|(\\d+)\\|.*\\|(.*?)$/ ) {\n  # do some logic\n}\n</code></pre>\n\n<p>where the single is generated for both TF and SIMPLE tags</p>\n\n<p>Instead of using <code>elsif</code>, how can I modify the logic so that both <code>TF</code> and <code>SIMPLE</code> generate two different output files.</p>\n"}, {"tags": ["perl", "output"], "comments": [{"owner": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "edited": false, "score": 0, "creation_date": 1440767351, "post_id": 32271702, "comment_id": 52422384, "body": "Just to check - how do you know $code_found is 0?"}, {"owner": {"reputation": 1901, "user_id": 2002471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222d816f24fcb2d01e92937b6af01d34?s=128&d=identicon&r=PG", "display_name": "chicks", "link": "https://stackoverflow.com/users/2002471/chicks"}, "edited": false, "score": 0, "creation_date": 1440767670, "post_id": 32271702, "comment_id": 52422625, "body": "subtle problem, I think Disco has the key"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440767672, "post_id": 32271702, "comment_id": 52422626, "body": "At a guess, <code>$nouveau_code</code> has come from a file that originated on a WIndows system and you are processing it on Linux?"}, {"owner": {"reputation": 85, "user_id": 4763263, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/VCePS.jpg?s=128&g=1", "display_name": "Pechou", "link": "https://stackoverflow.com/users/4763263/pechou"}, "reply_to_user": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "edited": false, "score": 0, "creation_date": 1440768290, "post_id": 32271702, "comment_id": 52423053, "body": "@Disco3 i use another print flag in my test, but i removed it there to clean the code"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1440768358, "post_id": 32271702, "comment_id": 52423101, "body": "<code>STDOUT-&gt;autoflush</code> does not flush the standard output buffer. <code>autoflush</code> just sets the flushing behavior of <code>print</code>/<code>printf</code> statements, and there&#39;s no point calling it inside a loop."}, {"owner": {"reputation": 85, "user_id": 4763263, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/VCePS.jpg?s=128&g=1", "display_name": "Pechou", "link": "https://stackoverflow.com/users/4763263/pechou"}, "edited": false, "score": 0, "creation_date": 1440769077, "post_id": 32271702, "comment_id": 52423572, "body": "Thank you for the heads-up, i was trying some things in order to get my problem solved ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440772708, "post_id": 32271702, "comment_id": 52426080, "body": "@Pechou: To flush a file handle it&#39;s just <code>flush STDOUT</code>. <code>flush</code> is a method from <a href=\"https://metacpan.org/source/GBARR/IO-1.25/lib/IO/Handle.pm\" rel=\"nofollow noreferrer\"><code>IO::Handle</code></a>, but there is no need to <code>use</code> it explicitly as <a href=\"https://metacpan.org/source/GBARR/IO-1.25/lib/IO/File.pm\" rel=\"nofollow noreferrer\"><code>IO::File</code></a> is loaded automatically if any of the filehandle operators are called. <code>IO::File</code> subclasses <code>IO::Handle</code> so <code>flush</code> is loaded implicitly. There is also <code>printflush</code>, which is the same as a call to <code>print</code> to a file handle followed by a <code>flush</code> of the handle"}], "answers": [{"tags": [], "owner": {"reputation": 1901, "user_id": 2002471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222d816f24fcb2d01e92937b6af01d34?s=128&d=identicon&r=PG", "display_name": "chicks", "link": "https://stackoverflow.com/users/2002471/chicks"}, "is_accepted": false, "score": 1, "last_activity_date": 1440767646, "creation_date": 1440767646, "answer_id": 32271951, "question_id": 32271702, "link": "https://stackoverflow.com/questions/32271702/print-function-in-a-foreach-loop-my-scalar-and-text-does-not-print/32271951#32271951", "title": "Print function in a foreach loop : my scalar and text does not print", "body": "<p>I suspect what is happening here is that your second data item contains backspaces (BS) or a carriage return (CR).  So</p>\n\n<ol>\n<li>your first item runs and <code>print</code>s out the first time, but since <code>code_found=1</code> it doesn't go into the <code>if</code>.</li>\n<li>your second item runs and the CR or BS in the data obscure the fact that the <code>HERE IS</code> was printed</li>\n<li>your second item does not have a code found so the second <code>print</code> happens and the first part of it is overwritten by the same CR or BS sequence in your variable</li>\n</ol>\n\n<p>The easy way to confirm this is to redirect your output and look at it like so:</p>\n\n<pre><code>script &gt; check.log\nvim check.log\n</code></pre>\n\n<p>and you should see the extra data in there.  <code>less</code> would work fine in place of <code>vim</code> also.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1440767740, "creation_date": 1440767740, "answer_id": 32271977, "question_id": 32271702, "link": "https://stackoverflow.com/questions/32271702/print-function-in-a-foreach-loop-my-scalar-and-text-does-not-print/32271977#32271977", "title": "Print function in a foreach loop : my scalar and text does not print", "body": "<p>At a guess, <code>$nouveau_code</code> has come from a file that originated on a Windows system and you are processing it on Linux?</p>\n\n<p>If you use <code>chomp</code> in such a circumstance then it will remove the trailing newline, but not the carriage return, and printing the value will reset the screen cursor to the beginning of the line before printing anything else</p>\n\n<p>The simple fix is to replace <code>chomp</code> with <code>s/\\R//</code>, which will remove the CR as well as the LF on the end of the line</p>\n"}], "owner": {"reputation": 85, "user_id": 4763263, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/VCePS.jpg?s=128&g=1", "display_name": "Pechou", "link": "https://stackoverflow.com/users/4763263/pechou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 32271977, "answer_count": 2, "score": 2, "last_activity_date": 1440767740, "creation_date": 1440766884, "last_edit_date": 1592644375, "question_id": 32271702, "link": "https://stackoverflow.com/questions/32271702/print-function-in-a-foreach-loop-my-scalar-and-text-does-not-print", "title": "Print function in a foreach loop : my scalar and text does not print", "body": "<p>This is a extract from my code :</p>\n<pre><code>foreach my $nouveau_code (@tableau_codes_utilises) {\n        my $code_found = 0;\n        foreach my $ligne_code_prospect (@tableau_liste_codes_prospects) {\n                //SOME CODE\n        }\n        print &quot;HERE IS $nouveau_code\\n&quot;;\n        if ( $code_found == 0 ) {\n                print &quot;le code $nouveau_code n'a pas \u00e9t\u00e9 trouv\u00e9\\n&quot;;\n                STDOUT-&gt;autoflush;\n        }\n}\n</code></pre>\n<p>And the result of an iteration where <code>$code_found</code> is equal to 0 is (code is hidden here, but is alphanumeric) :</p>\n<blockquote>\n<p>HERE IS PAR****</p>\n<p>n'a pas \u00e9t\u00e9 trouv\u00e9</p>\n</blockquote>\n<p>I do not understand why the second print (in the if sequence) does not print the whole line. I guess there is a buffering problem but I cannot find what is going on.</p>\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["perl", "openshift", "bugzilla"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 5276606, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0ujmR.png?s=128&g=1", "display_name": "TheReturningVoid", "link": "https://stackoverflow.com/users/5276606/thereturningvoid"}, "edited": false, "score": 0, "creation_date": 1440761152, "post_id": 32269931, "comment_id": 52418363, "body": "It doesn&#39;t seem to be installed there. Running <code>cpan parent</code> gives me a Permission denied error, though. Probably OpenShift restricting things."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 111, "user_id": 5276606, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0ujmR.png?s=128&g=1", "display_name": "TheReturningVoid", "link": "https://stackoverflow.com/users/5276606/thereturningvoid"}, "edited": false, "score": 0, "creation_date": 1440761203, "post_id": 32269931, "comment_id": 52418397, "body": "It seems you have permission issues. I can&#39;t help with that. Maybe try <code>sudo cpan parent</code>? BTW I&#39;d suggest using <a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew.pl</a>"}, {"owner": {"reputation": 111, "user_id": 5276606, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0ujmR.png?s=128&g=1", "display_name": "TheReturningVoid", "link": "https://stackoverflow.com/users/5276606/thereturningvoid"}, "edited": false, "score": 0, "creation_date": 1440761966, "post_id": 32269931, "comment_id": 52418870, "body": "Apparantly OpenShift has a cpan.txt file in the .openshift folder. Adding <code>parent</code> to that folder installed the required module. Thanks for getting me on the right track though :)"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1440760976, "last_edit_date": 1495535194, "creation_date": 1440760976, "answer_id": 32269931, "question_id": 32269838, "link": "https://stackoverflow.com/questions/32269838/bugzilla-5-0-install-on-openshift-cant-locate-parent-pm-in-inc/32269931#32269931", "title": "Bugzilla 5.0 install on OpenShift - Can&#39;t locate parent.pm in @INC", "body": "<p>That means either <code>parent</code> is not installed in your system or it's not a part of @INC.</p>\n\n<p>Try <code>perldoc -l parent</code> to see if it's installed or not.</p>\n\n<p>If it's installed then update <code>PERL5LIB</code> enviroment variable to add path to directory where module is installed.</p>\n\n<p>If it's not installed then run <code>cpan parent</code> to install.</p>\n\n<p>Also see:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/185114/how-do-i-use-a-perl-module-in-a-directory-not-in-inc\">How do I &#39;use&#39; a Perl module in a directory not in @INC?</a></p></li>\n<li><p><a href=\"http://perlmaven.com/how-to-change-inc-to-find-perl-modules-in-non-standard-locations\" rel=\"nofollow noreferrer\">How to change @INC to find Perl modules in non-standard locations</a></p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 5276606, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0ujmR.png?s=128&g=1", "display_name": "TheReturningVoid", "link": "https://stackoverflow.com/users/5276606/thereturningvoid"}, "is_accepted": true, "score": 1, "last_activity_date": 1440761936, "creation_date": 1440761936, "answer_id": 32270217, "question_id": 32269838, "link": "https://stackoverflow.com/questions/32269838/bugzilla-5-0-install-on-openshift-cant-locate-parent-pm-in-inc/32270217#32270217", "title": "Bugzilla 5.0 install on OpenShift - Can&#39;t locate parent.pm in @INC", "body": "<p>Apparantly OpenShift has a cpan.txt file in the .openshift folder. Adding <code>parent</code> to that folder installed the required module.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7795270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f860aee068138158d3da538d1b163879?s=128&d=identicon&r=PG&f=1", "display_name": "lisymail", "link": "https://stackoverflow.com/users/7795270/lisymail"}, "is_accepted": false, "score": 0, "last_activity_date": 1510631342, "last_edit_date": 1510631342, "creation_date": 1510629644, "answer_id": 47277127, "question_id": 32269838, "link": "https://stackoverflow.com/questions/32269838/bugzilla-5-0-install-on-openshift-cant-locate-parent-pm-in-inc/47277127#47277127", "title": "Bugzilla 5.0 install on OpenShift - Can&#39;t locate parent.pm in @INC", "body": "<p><strong>#please install above packages:</strong></p>\n\n<pre><code>[root@rsync ~]# yum install perl-parent -y\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5276606, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0ujmR.png?s=128&g=1", "display_name": "TheReturningVoid", "link": "https://stackoverflow.com/users/5276606/thereturningvoid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1688, "favorite_count": 0, "accepted_answer_id": 32270217, "answer_count": 3, "score": 1, "last_activity_date": 1510631342, "creation_date": 1440760682, "last_edit_date": 1440771264, "question_id": 32269838, "link": "https://stackoverflow.com/questions/32269838/bugzilla-5-0-install-on-openshift-cant-locate-parent-pm-in-inc", "title": "Bugzilla 5.0 install on OpenShift - Can&#39;t locate parent.pm in @INC", "body": "<p>Attempting to install Bugzilla on an OpenShift small gear. Using SSH to <code>wget</code> 5.0 tarball, untar-ing and running the <code>checksetup.pl --check-modules</code> script gives me this error:</p>\n\n<pre><code>Can't locate parent.pm in @INC (INC contains: . lib /var/openshift/[app-id]/app-root\n/runtime/repo/libs /var/lib/openshift/[app-id]/perl/perl5lib/lib/perl5 /usr/local/lib64\n/perl5 /usr/local/share/perl5 /usr/lib/lib64/perl5/vendor-perl /usr/share/perl5/vendor-perl\n/usr/lib64/perl5 usr/share/perl5) at Bugzilla/Constants.pm line 14.\nBEGIN failed--compilation aborted at Bugzilla/Constants.pm line 14.\nCompilation failed in require at ./checksetup.pl line 27.\nBEGIN failed--compilation aborted at ./checksetup.pl line 27.\n\nLine 14 of Bugzilla/Constants.pm: `use parent qw(Exporter);`\n\nLine 27 of ./checksetup.pl: `use Bugzilla::Constants;`\n</code></pre>\n\n<p><code>[app-id]</code> in the paths is just a random string of hex digits used to identify an OpenShift application.</p>\n\n<p>All help would be greatly appreciated. Thanks in advance!</p>\n"}, {"tags": ["regex", "perl", "substitution"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1440756961, "post_id": 32268534, "comment_id": 52415947, "body": "You never save value2!"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1440757801, "post_id": 32268534, "comment_id": 52416465, "body": "Can you give a clear example of what it is you&#39;re trying to do?"}, {"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1440758364, "post_id": 32268534, "comment_id": 52416787, "body": "I am taking data from  file1 for eg. 10 and place it in second file after matching a pattern for eg threshold1 , and put it there. so my file 2 looks like -         lines ............................................................&zwnj;&#8203;....................&zwnj;&#8203;....................&zwnj;&#8203;....                                 g =10"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1440760749, "post_id": 32269126, "comment_id": 52418133, "body": "@fugu...this code is working perfectly...but data is not replaced in file2....It shows changes on command prompt"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1440761688, "post_id": 32269126, "comment_id": 52418679, "body": "@Suhan That&#39;s good! I&#39;m going to let you figure out how to print to a file by yourself"}, {"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1441691603, "post_id": 32269126, "comment_id": 52762944, "body": "@fugu..I am able to save it in new file but what about the replacing and saving in old file....One more thing I have posted one more query in which code works fine but output not printed can you look into that..thanks"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1441699964, "post_id": 32269126, "comment_id": 52767546, "body": "Why do you want to replace the old file? That&#39;s generally quite a dangerous thing to do. See answer to your new question"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 1, "last_activity_date": 1440766606, "last_edit_date": 1440766606, "creation_date": 1440758432, "answer_id": 32269126, "question_id": 32268534, "link": "https://stackoverflow.com/questions/32268534/read-two-files-and-substitute-a-pattern-in-one-file-with-data-from-the-other-fil/32269126#32269126", "title": "Read two files and substitute a pattern in one file with data from the other file", "body": "<p>Here are some modifications to your code, which should now work as you want:</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>Use a lexically scoped 3 argument open (which is now recommended practise):</p>\n\n<pre><code>open my $file1, '&lt;', '1.txt' or die \"Cannot open file\\n\";\nopen my $file2, '&lt;', '2.txt' or die \"Cannot open file\\n\";\n</code></pre>\n\n<p>Then add each of your lines in <code>file1</code> to the end of the array <code>@parts</code>:</p>\n\n<pre><code>my @parts;\npush @parts, $_ while(&lt;$file1&gt;);    \nchomp(@parts);\n</code></pre>\n\n<p>Then simply read <code>file2</code> line by line and substitute appropriately, then you can see what's happened to each line by printing each line (<code>$_</code>) to STDOUT:</p>\n\n<pre><code>while (&lt;$file2&gt;) {\n    chomp;\n     s/threshold1/$parts[0]/;\n     s/threshold2/$parts[1]/;\n     s/threshold3/$parts[2]/; # I assume you want '30' here?\n     print  \"$_\\n\";\n}\n</code></pre>\n\n<p>So the output is:</p>\n\n<pre><code>a=1 b=2 c=3\nd=4 e=5 f=6\ng = 10 h=7 i=8\nlines\nlines\nj= 9 k=11 \nl = 20\nlines\nlines\nm = 30\nlines\nlines\n</code></pre>\n\n<p>Let me know if this is indeed what you're trying to do and I can explain the changes I've made</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1440769200, "creation_date": 1440769200, "answer_id": 32272464, "question_id": 32268534, "link": "https://stackoverflow.com/questions/32268534/read-two-files-and-substitute-a-pattern-in-one-file-with-data-from-the-other-fil/32272464#32272464", "title": "Read two files and substitute a pattern in one file with data from the other file", "body": "<p>The problem is that you are reading lines from both files and processing them in pairs. So line one of the data file will take values from line one of the threshold file, line two from line two of the threshold file etc. And the loop will end when you reach the third line of both files because there is no more data in the threshold file</p>\n\n<p>This program will do what you need. It reads all the values in <code>data1.txt</code> into the array <code>@thresholds</code> and pulls the contents of the file <code>data2.txt</code> into scalar <code>$data</code>. Then strings matching the regex pattern <code>threshold\\d+</code> are replaced with one of the elements of <code>@threshold</code> by subtracting one from the number at the end of the string and using it as an index into the array. so <code>threshold1</code> is replaced by <code>$threshold[0]</code>, <code>threshold2</code> by <code>$threshold[1]</code> etc. It finally reopens the data file for output and writes the modified string into it</p>\n\n<p>The program expects the paths to the two files as parameters on the command line, so it should be run as <code>perl thresh_replace.pl data1.txt data2.txt</code></p>\n\n\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10.1;\nuse autodie;\n\nmy ($thresholds_file, $data_file) = @ARGV;\n\nmy @thresholds = do {\n    open my $fh, '&lt;', $thresholds_file;\n    local $/;\n    split ' ', &lt;$fh&gt;;\n};\n\nmy $data = do {\n    open my $fh, '&lt;', $data_file;\n    local $/;\n    &lt;$fh&gt;;\n};\n\n$data =~ s/threshold(\\d+)/$thresholds[$1-1]/g;\n\n{\n    open my $fh, '&gt;', $data_file;\n    print $fh $data;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>a=1 b=2 c=3\nd=4 e=5 f=6\ng = 10 h=7 i=8\nlines\nlines\nj= 9 k=11\nl = 20\nlines\nlines\nm = 30\nlines\nlines\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1441022402, "creation_date": 1441022402, "answer_id": 32310750, "question_id": 32268534, "link": "https://stackoverflow.com/questions/32268534/read-two-files-and-substitute-a-pattern-in-one-file-with-data-from-the-other-fil/32310750#32310750", "title": "Read two files and substitute a pattern in one file with data from the other file", "body": "<pre><code>use strict;\nuse warnings;\nuse Tie::File; #This module can use for reading and writing on the same file\n\nmy $File1 = \"File1.txt\";\nmy $File2 = \"File2.txt\";\n\nmy @array;\ntie @array, 'Tie::File', $File2 || die \"Error: Couldn't tie the \\\"$File1\\\" file: $!\";\nmy $len = join \"\\n\", @array;\nopen(FILE, $File1) || die \"Couldn't open the file $File2: $!\\n\";\n\n#Threshold and line count matches\nmy $lineCount = '1';\nwhile(&lt;FILE&gt;)\n{\n    my $line = $_;\n    if($line!~/^$/) { chomp($line);\n\n    #Replace threshold with the first file values\n    $len=~s/threshold$lineCount/$line/i; }\n    $lineCount++;\n}\n@array = split/\\n/, $len;\nuntie @array;\nclose(FILE);\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1441022402, "creation_date": 1440756663, "last_edit_date": 1440759210, "question_id": 32268534, "link": "https://stackoverflow.com/questions/32268534/read-two-files-and-substitute-a-pattern-in-one-file-with-data-from-the-other-fil", "title": "Read two files and substitute a pattern in one file with data from the other file", "body": "<p>I am running a perl script, which takes data from first file, match a pattern in second file, and replace with the data (first file) when match is found.</p>\n\n<p>When I run my script, no replacement occurs in the second file. I am working on windows.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy ($value1,$value2);\nopen(file1, \"data1.txt\") or die \"Cannot open file.\\n\";\nopen(file2, \"data2.txt\") or die \"Cannot open file.\\n\";\n\nwhile (&lt;file1&gt;) {\n    $value1 = $_;\n    chomp($value1);\n    my @parts = split(/ +/, $value1); \n    $value2 = &lt;file2&gt;;\n\n    $value2 =~ s/ threshold1/ $parts[0]/;\n    $value2 =~ s/ threshold2/ $parts[1]/;\n    $value2 =~ s/ threshold3/ $parts[1]/;\n    }\nclose(file1);\nclose(file2);\n</code></pre>\n\n<p><strong>File 1</strong></p>\n\n<pre><code>10\n20\n30\n</code></pre>\n\n<p><strong>File 2</strong></p>\n\n<pre><code>a=1 b=2 c=3\nd=4 e=5 f=6\ng = threshold1 h=7 i=8\nlines\nlines\nj= 9 k=11 \nl = threshold2\nlines\nlines\nm = threshold3\nlines\nlines\n</code></pre>\n\n<p>I need to replace threshold1 , threshold2, threshold3 in second file, with values from the first file.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1442408585, "post_id": 32267575, "comment_id": 53069703, "body": "Or even better, use <code>rget</code>!"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 2, "last_activity_date": 1440753623, "creation_date": 1440753623, "answer_id": 32267575, "question_id": 32267356, "link": "https://stackoverflow.com/questions/32267356/read-sftp-directories-and-sub-directories-using-perl-netsftp-or-netsftpfor/32267575#32267575", "title": "Read SFTP directories and Sub directories using perl Net::SFTP or Net::SFTP::Foriegn", "body": "<p>use <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign#sftp-find-paths-opts\" rel=\"nofollow\"><strong>find</strong></a> method to find the entries and then use <strong><a href=\"https://metacpan.org/pod/Net::SFTP::Foreign#sftp-get-remote-local-options\" rel=\"nofollow\">get</a></strong> method</p>\n\n<blockquote>\n  <p>$sftp->find(\\@paths, %opts) Does a recursive search over the given\n  directory $path (or directories @path) and returns a list of the\n  entries found or the total number of them on scalar context.</p>\n  \n  <p>Every entry is a reference to a hash with two keys: filename, the full\n  path of the entry; and a, a Net::SFTP::Foreign::Attributes object\n  containing file atime, mtime, permissions and size.</p>\n</blockquote>\n"}], "owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 32267575, "answer_count": 1, "score": 2, "last_activity_date": 1440753670, "creation_date": 1440752956, "last_edit_date": 1440753670, "question_id": 32267356, "link": "https://stackoverflow.com/questions/32267356/read-sftp-directories-and-sub-directories-using-perl-netsftp-or-netsftpfor", "title": "Read SFTP directories and Sub directories using perl Net::SFTP or Net::SFTP::Foriegn", "body": "<p>I am using Net::SFTP::Foriegn module to connect the SFTP server and I could make the connection successfully. </p>\n\n<p>I would like to read each and every directories and sub directories in the SFTP server to get some files. Is it possible? </p>\n\n<p>And, is there any way to differentiate file and directory using this module?</p>\n"}, {"tags": ["perl", "unix", "wc"], "comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1440749374, "post_id": 32265439, "comment_id": 52411494, "body": "Related: <a href=\"http://stackoverflow.com/questions/10238363/how-to-get-wc-l-to-print-just-the-number-of-lines-without-file-name\" title=\"how to get wc l to print just the number of lines without file name\">stackoverflow.com/questions/10238363/&hellip;</a> Does one of these machines run AIX?"}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1440802874, "post_id": 32265439, "comment_id": 52440494, "body": "Why do you think trimming the whitespace is not clean?  <code>ls | wc -l | sed -e &#39;s&#47;^ *&#47;&#47;&#39;</code> doesn&#39;t seem any less clean than <code>ls -lrt | wc -l</code>, but you could just do the equivalent of <code>perl -E &#39;say length glob &quot;*&quot;&#39;</code> and not shell out to wc at all."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1440807892, "post_id": 32265439, "comment_id": 52441472, "body": "When you run <code>wc</code> with multiple file names, it aligns and right-justifies the numbers so they&#39;re more legible (at least some implementations do). The output is meant for to be human-readable than machine-readable. You just have to allow for variations in whitespace in the output."}], "answers": [{"comments": [{"owner": {"reputation": 695, "user_id": 2178956, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6efb8df1c31a08f8eb04b075170fd1f5?s=128&d=identicon&r=PG", "display_name": "Soumya", "link": "https://stackoverflow.com/users/2178956/soumya"}, "edited": false, "score": 0, "creation_date": 1440747395, "post_id": 32265577, "comment_id": 52410336, "body": "Thanks Jens. Yes, I can definitely modify the regex to suit this case.But,I would still be more interested to know why the leading spaces are introduced."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 695, "user_id": 2178956, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6efb8df1c31a08f8eb04b075170fd1f5?s=128&d=identicon&r=PG", "display_name": "Soumya", "link": "https://stackoverflow.com/users/2178956/soumya"}, "edited": false, "score": 0, "creation_date": 1440747517, "post_id": 32265577, "comment_id": 52410405, "body": "@Soumya Think for better readability. But also think that this question will be off-topic."}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "edited": false, "score": 0, "creation_date": 1440793790, "post_id": 32265577, "comment_id": 52437295, "body": "This answer simply repeats back to OP to follow the suggestion which OP made, and does not address the question which OP made."}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 2, "last_activity_date": 1440746955, "creation_date": 1440746955, "answer_id": 32265577, "question_id": 32265439, "link": "https://stackoverflow.com/questions/32265439/unexpected-leading-spaces-while-using-wc-l-command/32265577#32265577", "title": "Unexpected leading spaces while using wc -l command", "body": "<p>use</p>\n\n<pre><code>unless ( $phCountRet-&gt;{COUNT} =~ /^\\s*\\d+$/ ){\n</code></pre>\n\n<p>this matches also numbers with blanks in front.</p>\n"}, {"tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": false, "score": 0, "last_activity_date": 1440801765, "last_edit_date": 1440801765, "creation_date": 1440750561, "answer_id": 32266598, "question_id": 32265439, "link": "https://stackoverflow.com/questions/32265439/unexpected-leading-spaces-while-using-wc-l-command/32266598#32266598", "title": "Unexpected leading spaces while using wc -l command", "body": "<p>As I noted in <em><a href=\"https://stackoverflow.com/questions/30927590/wc-on-osx-return-includes-spaces/30927885#30927885\">WC on OSX - Return includes spaces</a></em>, this is an implementation detail, which is not explicit in the POSIX standard (so it depends on the implementer's preference to <em>align</em> columns&mdash;or not).</p>\n"}], "owner": {"reputation": 695, "user_id": 2178956, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6efb8df1c31a08f8eb04b075170fd1f5?s=128&d=identicon&r=PG", "display_name": "Soumya", "link": "https://stackoverflow.com/users/2178956/soumya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1599, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1440801765, "creation_date": 1440746481, "question_id": 32265439, "link": "https://stackoverflow.com/questions/32265439/unexpected-leading-spaces-while-using-wc-l-command", "title": "Unexpected leading spaces while using wc -l command", "body": "<p>I am trying to execute the below command - but the output has some leading space introduced.</p>\n\n<pre><code>ls -lrt | wc -l\n     29\necho $SHELL\n/bin/bash\n</code></pre>\n\n<p>When I run the same command on a different machine,the output is as expected.</p>\n\n<pre><code>ls -lrt | wc -l\n183\necho $SHELL\n/bin/bash\n</code></pre>\n\n<p>The leading spaces is causing my perl validation to fail</p>\n\n<pre><code>unless ( $phCountRet-&gt;{COUNT} =~ /^\\d+$/ ){\n...\n}\n</code></pre>\n\n<p>I can opt to trim the leading white spaces and then do the validation,but it wont be a clean solution.</p>\n\n<p>Any pointer as to what might be causing this will be a great help.</p>\n"}, {"tags": ["regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 2, "creation_date": 1440744554, "post_id": 32264936, "comment_id": 52408786, "body": "Please tag your question with the programming language you are using.  You will get a better answer this way."}, {"owner": {"reputation": 7487, "user_id": 1807643, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3mtax.gif?s=128&g=1", "display_name": "KeyNone", "link": "https://stackoverflow.com/users/1807643/keynone"}, "edited": false, "score": 0, "creation_date": 1440744644, "post_id": 32264936, "comment_id": 52408834, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/150033/regular-expression-to-match-non-english-characters\">Regular expression to match non-English characters?</a>"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1440744694, "post_id": 32264936, "comment_id": 52408866, "body": "It depends on your regular expression engine, but <code>\\w</code> typically is, or can be made, locale-sensitive."}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1440744751, "post_id": 32264936, "comment_id": 52408897, "body": "@chepner Is it also the case on regex101?"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1440745031, "post_id": 32264936, "comment_id": 52409041, "body": "regex101 seems to only use the <code>u</code> modifier for matching Unicode characters, which might be more general than you want. (For example, <code>&#248;</code> is not in the French alphabet, but <code>&#47;\\w&#47;u</code> would match it.)"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 2, "creation_date": 1440749700, "post_id": 32264936, "comment_id": 52411687, "body": "The question is now tagged &#39;perl&#39; and &#39;pcre&#39;. Which of the two are you asking about?"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1440792457, "post_id": 32264936, "comment_id": 52436761, "body": "@reinierpost Both actually. regex101 which I am using quite often is <code>pcre</code>, on the shell I prefer <code>perl</code> over <code>sed</code>, but I am also using <code>ag</code> which is <code>pcre</code>..."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1440884484, "post_id": 32264936, "comment_id": 52459402, "body": "OK thanks for the info, then the tags are perfect!"}], "answers": [{"comments": [{"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1440744914, "post_id": 32265016, "comment_id": 52408967, "body": "Is <code>l</code> a <code>Perl</code> specific flag?"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1440745074, "post_id": 32265016, "comment_id": 52409076, "body": "Possibly? There is no standard set of flags, which is why regular-expression questions require a specific language tag."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1440769621, "post_id": 32265016, "comment_id": 52423938, "body": "<a href=\"https://metacpan.org/pod/distribution/perl/pod/perlre.pod#Character-set-modifiers\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/perl/pod/&hellip;</a> -- recommends that you don&#39;t use the <code>&#47;l</code> modifier directly. Instead, <code>use locale</code> and any regex compiled in the scope of your locale will implicitly use the <code>&#39;&#47;l</code> modifier."}], "tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 2, "last_activity_date": 1440779457, "last_edit_date": 1440779457, "creation_date": 1440744834, "answer_id": 32265016, "question_id": 32264936, "link": "https://stackoverflow.com/questions/32264936/how-to-match-language-specific-chars-in-a-regex/32265016#32265016", "title": "How to match language specific chars in a regex?", "body": "<p>The <code>l</code> modifier makes the match locale-aware:</p>\n\n<pre><code>\"foo\" ~= m/\\w/l;\n</code></pre>\n\n<p>Instead of using <code>l</code> directly, though, use <code>use locale</code> per mob's link.</p>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 32265016, "answer_count": 1, "score": 4, "last_activity_date": 1440779457, "creation_date": 1440744479, "last_edit_date": 1440744677, "question_id": 32264936, "link": "https://stackoverflow.com/questions/32264936/how-to-match-language-specific-chars-in-a-regex", "title": "How to match language specific chars in a regex?", "body": "<p>I know that <code>\\w</code> match any word character <code>[a-zA-Z0-9_]</code> or <code>[\\p{L}\\p{N}_]</code> if compiled with <code>(?u)</code>. </p>\n\n<p>The french language has 42 characters <code>[a-z\u00e0\u00e2\u00e6\u00e7\u00e9\u00ea\u00eb\u00ee\u00ef\u00f4\u0153\u00f9\u00fb\u00fc\u00ff]</code>. Is it possible to build my regex according to my <code>locale</code>. </p>\n\n<p>How can I match <code>[a-z\u00e0\u00e2\u00e6\u00e7\u00e9\u00ea\u00eb\u00ee\u00ef\u00f4\u0153\u00f9\u00fb\u00fc\u00ff]</code> with <code>\\w</code>?</p>\n\n<p>A partial answer would be to use unicode regexes with <code>\\p{Latin}</code>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1440723850, "post_id": 32261602, "comment_id": 52403185, "body": "the false value is both 0 <i>and</i> the empty string.  you presumably need it to be <code>&#39;0&#39;</code> :)"}, {"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1440728941, "post_id": 32261602, "comment_id": 52404387, "body": "yes. I need to convert it to a real zero."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440751612, "post_id": 32261602, "comment_id": 52412757, "body": "This feels a bit like an XY problem. Why do you need numerics here?"}, {"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1440761077, "post_id": 32261602, "comment_id": 52418311, "body": "I&#39;m storing the value into a database. So I need to get a real 0 / 1 out of the results from exists"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440724585, "post_id": 32261795, "comment_id": 52403375, "body": "I really doubt that any realistic solution is so inefficient that it matters to anybody. Programmer efficiency, and hence readability, is paramount here"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440728049, "post_id": 32261795, "comment_id": 52404123, "body": "@Borodin then it becomes a matter of taste. I&#39;d go with <code>$bool ? &#39;1&#39; : &#39;0&#39;</code> as the most straightforward way to turn a bool into a 0 or 1 string.  But many are ternaryophobes."}, {"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 1, "creation_date": 1440729115, "post_id": 32261795, "comment_id": 52404434, "body": "I don&#39;t like the ternary in this case because I don&#39;t want to add an if. Silly, maybe, but I like the straight forward math operations for this."}, {"owner": {"reputation": 983, "user_id": 3419535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65fc0329501359ea67262fd819afaf03?s=128&d=identicon&r=PG&f=1", "display_name": "FantomX1", "link": "https://stackoverflow.com/users/3419535/fantomx1"}, "edited": false, "score": 0, "creation_date": 1618435567, "post_id": 32261795, "comment_id": 118603988, "body": "This is sufficient for the OP as mob in reply called it &quot;numification&quot;, however if somebody searches in this question or from google here rather the opposite, the boolean from a number, for something similar to type/boolean conversion as in php, as me needed, the mob&#39;s second part of answer <code>0 + !!$var</code> , or this mine suggestion <code>($val!=0)*1</code> work"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 7, "last_activity_date": 1440723790, "creation_date": 1440723790, "answer_id": 32261795, "question_id": 32261602, "link": "https://stackoverflow.com/questions/32261602/perl-how-to-force-boolean-to-0-1/32261795#32261795", "title": "perl how to force boolean to 0/1", "body": "<p>The most efficient way to do this is just:</p>\n\n<pre><code>$bool || 0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1440729445, "post_id": 32261904, "comment_id": 52404514, "body": "so the value returned by exists being boolean isn&#39;t suited for arithmetic operations? I was avoiding the ternary because I didn&#39;t want to add an if. silly perhaps, but just my outlook on things."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1440729771, "post_id": 32261904, "comment_id": 52404604, "body": "@kdubs: That is a very odd choice, especially when you&#39;re dealing with non-numeric boolean data whose behaviour is as good as undefined in Perl and impossible in most languages"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1440726422, "last_edit_date": 1440726422, "creation_date": 1440724707, "answer_id": 32261904, "question_id": 32261602, "link": "https://stackoverflow.com/questions/32261602/perl-how-to-force-boolean-to-0-1/32261904#32261904", "title": "perl how to force boolean to 0/1", "body": "<p>Your code is far from clear. The <code>&amp;</code> operator is a <em>bitwise</em> operator that behaves differently on numbers and strings, but <code>exists</code> returns a value that will obligingly be the number zero or the empty string depending on what is required of it. <a href=\"http://perldoc.perl.org/perlop.html#Bitwise-String-Operators\" rel=\"nofollow\">perldoc perlop</a> has this to say</p>\n\n<blockquote>\n  <p>Although no warning is currently raised, the result is not well defined when this operation is performed on operands that aren't either numbers (see Integer Arithmetic) nor bitstrings (see Bitwise String Operators)</p>\n</blockquote>\n\n<p>So because the result of <code>exists</code> is one such value your code is on shakey ground</p>\n\n<p>There is no need to write something arcane, and if you want to represent Perl's internal <em>true</em> and <em>false</em> values by a different pair of values then the conditional operator is the correct choice</p>\n\n<pre><code>my $bool_x = exists $h{X} ? 1 : 0\n</code></pre>\n\n<p>I believe that's the most readable without being verbose, and that's all that matters here. It's also applicable to any other pair of values that you may choose, such as</p>\n\n<pre><code>my $bool_x = exists $h{X} ? 'Y' : 'N'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1440729027, "post_id": 32262358, "comment_id": 52404403, "body": "the !!$var didn&#39;t appear to work on it&#39;s own. so why bother if you are just going to add the 0 + anyways?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1440729717, "post_id": 32262358, "comment_id": 52404585, "body": "I don&#39;t understand your question."}, {"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1440730011, "post_id": 32262358, "comment_id": 52404654, "body": "I just messed up, that&#39;s why it doesn&#39;t make sense.  I was playing with !!exists($h{X}), but your example uses !!$var.  The !!$var converts it to the an inverted boolean value, and then to the original boolean variable. So you need the !! to do the conversion. Exists is already boolean, so the !! didn&#39;t do anything to it. Sorry for the confusion."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1440730136, "post_id": 32262358, "comment_id": 52404687, "body": "@mob: While there are clearly endless ways to do this, the OP is asking <i>&quot;Is there a better way to do this?&quot;</i> and I think a gallery of villainy doesn&#39;t answer the question. Wouldn&#39;t a bottom-line recommendation be appropriate?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1440730548, "post_id": 32262358, "comment_id": 52404752, "body": "@kdubs: I think you&#39;re misunderstanding how Perl handles boolean tests. There are values that Perl considers to be <i>true</i> or <i>false</i>, and special internal values that Perl uses when it wants to return a true or false value. There are no <i>boolean values</i> as such. A construct such as <code>$a &amp;&amp; $b</code> will evaluate to one of <code>$a</code> or <code>$b</code> depending on their values, and not to any magical boolean type. I think it might be useful if you explained why you want to do this, as the only reason I can think of is that you need these values to be represented in a particular way externally"}, {"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1440732590, "post_id": 32262358, "comment_id": 52405196, "body": "what I really need is a zero or one to write into a file. So I need a way to convert the value returned by exists into that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1440733269, "post_id": 32262358, "comment_id": 52405338, "body": "@kdubs: Well you shouldn&#39;t really be relying on the <i>true</i> value being <code>1</code> either so I would still go for a conditional expression. You can have <code>print exists $h{X} ? 1 : 0</code> or <code>if ( exists $h{X} ) { print 1 } else { print 0 }</code> but I can&#39;t see a nicer way that doesn&#39;t presume things that I don&#39;t think you should. Imagine if <code>exists</code> returned the strings <code>&#39;T&#39;</code> or <code>&#39;F&#39;</code>, I don&#39;t think you&#39;d be thinking along the same lines. You seem to be concerned about efficiency at an assembler level which isn&#39;t approprizte"}, {"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1440734423, "post_id": 32262358, "comment_id": 52405574, "body": "yeah. I do think like that at times. just my background."}, {"owner": {"reputation": 983, "user_id": 3419535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65fc0329501359ea67262fd819afaf03?s=128&d=identicon&r=PG&f=1", "display_name": "FantomX1", "link": "https://stackoverflow.com/users/3419535/fantomx1"}, "edited": false, "score": 0, "creation_date": 1618435399, "post_id": 32262358, "comment_id": 118603935, "body": "You might want to &quot;boolify&quot; prior if you want to convert it to boolean, express that it is set, and numify after not to hide the boolean value, eg <code>$val = $val!=0</code> after <code>$val=$val*1</code> or together $val = ($val!=0)*1, but thanks for your contribs, your second part also does the same things eg yours $var=<code>0 + !!$var</code>"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 3, "last_activity_date": 1440729754, "last_edit_date": 1440729754, "creation_date": 1440728220, "answer_id": 32262358, "question_id": 32261602, "link": "https://stackoverflow.com/questions/32261602/perl-how-to-force-boolean-to-0-1/32262358#32262358", "title": "perl how to force boolean to 0/1", "body": "<p>There are many ways to \"numify\" a true/false value.</p>\n\n<p>If <code>$var</code> can contain 1 or any false value, all of these will evaluate to either \"0\" or \"1\":</p>\n\n<pre><code>0 + $var\n0 | $var\n$var || 0\n1 * $var\n1 &amp; $var     (you discovered this one, already)\nchr(48+$var)\nsprintf \"%d\", $var\n</code></pre>\n\n<p>These constructions return a 0/1 value when <code>$var</code> can contain any true or false value:</p>\n\n<pre><code>0 + !!$var      ( !! true =&gt; 1, !! false =&gt; \"\" )\n1 - !$var\n$var ? 1 : 0\n</code></pre>\n"}], "owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1767, "favorite_count": 0, "accepted_answer_id": 32261795, "answer_count": 3, "score": 3, "last_activity_date": 1440729754, "creation_date": 1440722356, "question_id": 32261602, "link": "https://stackoverflow.com/questions/32261602/perl-how-to-force-boolean-to-0-1", "title": "perl how to force boolean to 0/1", "body": "<p>I'm trying to get a 0 or 1 in a value for true/false. Here's the code:</p>\n\n<pre><code>use strict;\nmy %h = (Y =&gt; \"y\");\nmy $bool_x = 1 &amp; exists $h{X};\nmy $bool_y = 1 &amp; exists $h{Y};\nprint(\"x $bool_x y $bool_y\\n\");\n</code></pre>\n\n<p>I needed to add the \"1 &amp;\" to force it to not be the empty string. Is there a better way to do this? I realize that it's an artifact of the way perl prints the false value, but I need it to be a 0 not the empty string.</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "edited": false, "score": 0, "creation_date": 1440718736, "post_id": 32261119, "comment_id": 52401868, "body": "create a string and publish it from <code>&quot;select * from mytable where doi = &#39;&#39;$doi&#39;&#39;;&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 2, "last_activity_date": 1440743473, "last_edit_date": 1440743473, "creation_date": 1440719047, "answer_id": 32261163, "question_id": 32261119, "link": "https://stackoverflow.com/questions/32261119/unable-to-execute-sql-queries/32261163#32261163", "title": "Unable to execute SQL queries", "body": "<p>You want to call <code>prepare</code> outside the loop so that the execution plan only has to be calculated once (i.e., faster). Also, in addition to only preparing the query once, you don't have to figure out how to quote values correctly if you use <a href=\"https://metacpan.org/pod/DBI#Placeholders-and-Bind-Values\" rel=\"nofollow\">placeholders/bind parameters</a>. </p>\n\n<pre><code>my $file = 'dois.txt';\n\nopen(my $fh, '&lt;:encoding(UTF-8)', $file) or die \"Could not open file $file: $!\\n\";\nmy $sth = $dbh-&gt;prepare(q{select * from mytable where doi = ?});\n\nwhile (my $doi = &lt;$fh&gt;) {\n    chomp($doi);    \n    $sth-&gt;execute($doi) || die \"failed to execute:\\n \", $DBI::Errstr;\n    print $sth-&gt;fetchrow_array, \"\\n\";\n}\n\nclose $fh;\n$dbh-&gt;disconnect;\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 5021864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4390729b489ceb5b56912d895825cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/5021864/amir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440743473, "creation_date": 1440718623, "last_edit_date": 1440718998, "question_id": 32261119, "link": "https://stackoverflow.com/questions/32261119/unable-to-execute-sql-queries", "title": "Unable to execute SQL queries", "body": "<p>I have a bunch of DOIs separated by <code>'\\n'</code> in a *.txt file. The perl script I have written should read each line of the file and execute a select query. However, the program is unable to execute the SQL query. Could you please help me fix the problem?</p>\n\n<p>After execution I get the following error:</p>\n\n<blockquote>\n  <p>You have an error in your SQL syntax; check the manual that\n  corresponds to your MySQL server version for the right syntax to use\n  near\n  '<a href=\"http://dx.doi.org/10.1002/1521-3757(20001103)112:21\" rel=\"nofollow\">http://dx.doi.org/10.1002/1521-3757(20001103)112:21</a>&lt;3947::aid-ange3947>3.0'</p>\n</blockquote>\n\n<p>The first line of the dois.txt file contains the following DOI:</p>\n\n<pre><code>`http://dx.doi.org/10.1002/1521-3757(20001103)112:21&lt;3947::aid-ange3947&gt;3.0.co;2-k`\n</code></pre>\n\n<p>Here's my code:</p>\n\n<pre><code>my $file = 'dois.txt';\n\nopen(my $fh, '&lt;:encoding(UTF-8)', $file)\n   or die \" Could not open file $file\";\nwhile (my $doi = &lt;$fh&gt;) {\n\nchomp($doi);\nmy $sth = $dbh-&gt;prepare(\"select * from mytable where doi = ''$doi'';\");\n$sth-&gt;execute || die \"failed to execute:\\n \", $DBI::Errstr;\nprint $sth-&gt;fetchrow_array, \"\\n\";\n\n}\nclose FH;\n$dbh-&gt;disconnect;\n</code></pre>\n"}]