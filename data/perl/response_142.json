[{"tags": ["linux", "perl", "curl", "cgi"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1506556473, "post_id": 46458598, "comment_id": 79873114, "body": "Have you read the curl <a href=\"https://curl.haxx.se/docs/manpage.html\" rel=\"nofollow noreferrer\">man page</a>? The part after <code>-d</code> or <code>--data</code> needs to start with <code>@</code> in order to have a special behavior."}, {"owner": {"reputation": 93, "user_id": 2535035, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dc6b83c6ed7d74d3e3ee5ecb9ed86f3b?s=128&d=identicon&r=PG", "display_name": "David Crane", "link": "https://stackoverflow.com/users/2535035/david-crane"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1506556722, "post_id": 46458598, "comment_id": 79873167, "body": "@MattJacob Holy crap. My local man page must be out of date. I did a google search for the man page and see this entry that isn&#39;t present in my local docs:  &quot;name@filename  This will make curl load data from the given file (including any newlines), URL-encode that data and pass it on in the POST. The name part gets an equal sign appended, resulting in name=urlencoded-file-content. Note that the name is expected to be URL-encoded already.&quot;  It looks like my problem is the = I&#39;m using. I feel so dumb, now."}, {"owner": {"reputation": 93, "user_id": 2535035, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dc6b83c6ed7d74d3e3ee5ecb9ed86f3b?s=128&d=identicon&r=PG", "display_name": "David Crane", "link": "https://stackoverflow.com/users/2535035/david-crane"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1506556874, "post_id": 46458598, "comment_id": 79873207, "body": "@MattJacob Nevermind. That&#39;s for --data-urlencode. I read too far.  I&#39;ll try a few more syntaxes when I am at my console again - Lots of this functionality says it was added after 7.13, my current version, so I may not even be able to do this."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506558082, "post_id": 46458598, "comment_id": 79873493, "body": "You could still use shell commands, such as the following <code>bash</code> command: <code>-d &quot;data=$( cat &#47;path&#47;to&#47;file.ext )&amp;version=2&amp;action=Parse&quot;</code>. Pretty sure that&#39;s valid <code>sh</code> too."}, {"owner": {"reputation": 43751, "user_id": 93747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbf187b5b45c400649ed7f946e8f00d6?s=128&d=identicon&r=PG", "display_name": "Daniel Stenberg", "link": "https://stackoverflow.com/users/93747/daniel-stenberg"}, "edited": false, "score": 0, "creation_date": 1506578149, "post_id": 46458598, "comment_id": 79878483, "body": "nobody should use such an old curl version as 7.13..."}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 2535035, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dc6b83c6ed7d74d3e3ee5ecb9ed86f3b?s=128&d=identicon&r=PG", "display_name": "David Crane", "link": "https://stackoverflow.com/users/2535035/david-crane"}, "is_accepted": false, "score": 0, "last_activity_date": 1506619250, "creation_date": 1506619250, "answer_id": 46474967, "question_id": 46458598, "link": "https://stackoverflow.com/questions/46458598/curl-not-sending-file-data/46474967#46474967", "title": "cURL not sending file data", "body": "<p>@MattJacob was correct; my syntax was wrong. <code>data=@...</code> should have been <code>@...</code> and the <code>data=</code> portion should have been in the file. Boy am I thick.</p>\n"}], "owner": {"reputation": 93, "user_id": 2535035, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dc6b83c6ed7d74d3e3ee5ecb9ed86f3b?s=128&d=identicon&r=PG", "display_name": "David Crane", "link": "https://stackoverflow.com/users/2535035/david-crane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 508, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506619250, "creation_date": 1506554038, "last_edit_date": 1506557970, "question_id": 46458598, "link": "https://stackoverflow.com/questions/46458598/curl-not-sending-file-data", "title": "cURL not sending file data", "body": "<p>I have a cURL call that I'm trying to use to send file data to a remote server.</p>\n\n<pre><code>curl -X POST -u username:password -d 'data=@/path/to/file.ext&amp;version=2&amp;action=Parse' http://fqdn.to.server.i.control/Parser.cgi\ncurl -X POST -u username:password -d 'data=@localFile.ext&amp;version=2&amp;action=Parse' http://fqdn.to.server.i.control/Parser.cgi\ncat file.ext | curl -X POST -u username:password -d 'data=@-&amp;version=2&amp;action=Parse' http://fqdn.to.server.i.control/Parser.cgi\n</code></pre>\n\n<p>The file contents are URI encoded already. Using Perl and CGI on the server side.</p>\n\n<p>My problem is that when the server tries to access that \"data\" line, value I have is only \"file.ext\" - the path is stripped out and the file's contents are not used ($cgi->param(\"data\") is just \"file.ext\", \"localFile.ext\" or \"-\" respectively).</p>\n\n<p>Any indication as to what I'm doing wrong?</p>\n"}, {"tags": ["perl", "cartesian-product", "pdl"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1506580251, "post_id": 46457992, "comment_id": 79879489, "body": "So, what have you tried? post your code, show where it failed, else you will not get any help. This is not a code writing service website."}], "answers": [{"tags": [], "owner": {"reputation": 237, "user_id": 3552168, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/52b2c2e453b07c0d9611e21a9c8edf08?s=128&d=identicon&r=PG&f=1", "display_name": "cms", "link": "https://stackoverflow.com/users/3552168/cms"}, "is_accepted": false, "score": 2, "last_activity_date": 1506617874, "creation_date": 1506617874, "answer_id": 46474573, "question_id": 46457992, "link": "https://stackoverflow.com/questions/46457992/how-to-perform-cartesian-product-in-pdl/46474573#46474573", "title": "How to perform cartesian product in PDL", "body": "<p>I got something that meets my criteria:</p>\n\n<pre><code>my $a = pdl 1,2,3,4;\nmy $b = pdl 5,6,7;\nprint \"a = $a\\n\";\nprint \"b = $b\\n\";\nprint \"dummy dimensioned:\\n\";\n$a = $a-&gt;dummy(0,$b-&gt;dim(0));\nprint \"a\".$a-&gt;shape.\" = $a\\n\";\n\n$b = $b-&gt;dummy(0, $a-&gt;dim(1))-&gt;transpose;\nprint \"b\".$b-&gt;shape.\" = $b\\n\";\n\nprint \"Glued together:\\n\"\nmy $c = $a-&gt;dummy(0,1)-&gt;glue(0, $b-&gt;dummy(0,1));\nprint \"c\".$c-&gt;shape.\" = $c\\n\";\n</code></pre>\n\n<hr>\n\n<pre><code>a = [1 2 3 4]  \nb = [5 6 7]  \ndummy dimensioned:  \na[3 4] = \n[\n [1 1 1]\n [2 2 2]\n [3 3 3]\n [4 4 4]\n]\n\nb[3 4] = \n[\n [5 6 7]\n [5 6 7]\n [5 6 7]\n [5 6 7]\n]  \nGlued together:  \nc[2 3 4] = [[[1 5][1 6][1 7]][[2 5][2 6][2 7]][[3 5][3 6][3 7]][[4 5][4 6][4 7]]]\n</code></pre>\n"}], "owner": {"reputation": 237, "user_id": 3552168, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/52b2c2e453b07c0d9611e21a9c8edf08?s=128&d=identicon&r=PG&f=1", "display_name": "cms", "link": "https://stackoverflow.com/users/3552168/cms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506617874, "creation_date": 1506550220, "question_id": 46457992, "link": "https://stackoverflow.com/questions/46457992/how-to-perform-cartesian-product-in-pdl", "title": "How to perform cartesian product in PDL", "body": "<p>I want to take an arbitrary 1D vector <strong>a = [k]</strong> and <strong>b = [m]</strong> and form the matrix of ordered pairs <strong>c = [2 x k x m]</strong> such that <code>$c-&gt;(:,(i),(j)) = [ $a-&gt;(i), $b-&gt;(j) ]</code>. I.e. the set of all ordered pairs of the elements in <strong>a</strong> and <strong>b</strong> a.k.a the cartesian product. </p>\n\n<p>Of course I <em>could</em> use a loop and the [glue] function to accomplish this, but that isn't in the spirit of Perl/PDL. Is there a fancy method that involves slices, dummy dimensions, and glue that gets me there? </p>\n\n<p>Also, using Math::Cartesian::Product (as answered here: <a href=\"https://stackoverflow.com/questions/2457096/in-perl-how-can-i-get-the-cartesian-product-of-multiple-sets\">In Perl, how can I get the Cartesian product of multiple sets?</a> is cheating! :3 I want straight perl/PDL and hopefully learn something in the process.</p>\n"}, {"tags": ["regex", "perl", "regex-lookarounds", "regex-group"], "comments": [{"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1506547078, "post_id": 46457111, "comment_id": 79870330, "body": "It&#39;s not possible as far as I&#39;m aware. You could always add a new definition though: <code>(?&lt;code_block_dog&gt;block\\h\\{(?=[^{}]*dog[^{}]*)(?:[^{}]++|(?&amp;&zwnj;&#8203;code_block))*+\\})</code>"}, {"owner": {"reputation": 4244, "user_id": 3348112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab4cd9458f5debd780353a5554b718d8?s=128&d=identicon&r=PG&f=1", "display_name": "CAustin", "link": "https://stackoverflow.com/users/3348112/caustin"}, "edited": false, "score": 0, "creation_date": 1506547979, "post_id": 46457111, "comment_id": 79870682, "body": "I guess I&#39;m misunderstanding something. Why can&#39;t you just match something like <code>&#47;block \\{\\s*dog\\s*\\}&#47;</code>? Put parentheses around whichever part you want to capture."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1506548517, "post_id": 46457111, "comment_id": 79870892, "body": "That&#39;s not what &quot;inception&quot; means. You want &quot;recursion&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506548718, "post_id": 46457111, "comment_id": 79870972, "body": "You tried to match dog at the position where the match starts."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1506608288, "post_id": 46457111, "comment_id": 79897963, "body": "@melpomene, Regex recursion is an entirely different subject. Recursion involves a regex that calls itself. A &quot;regex within a regex&quot; is not the same as recursion. The term &quot;inception&quot; as it is used in this question referring to its use in the movie &quot;Inception&quot; where the characters fall asleep and enter a dream world in which they fall asleep again to enter a dream within a dream... and then a dream within a dream within a dream... etc..."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1506632039, "post_id": 46457111, "comment_id": 79911421, "body": "@tjwrona1992 That&#39;s not what the movie title is about. &quot;Inception&quot; refers to the planting of an idea. What you&#39;re describing is recursion (&quot;X within an X&quot;)."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1506632535, "post_id": 46457111, "comment_id": 79911664, "body": "@melpomene What I am describing is not recursion. Recursion would be &quot;X&quot; within &quot;X&quot;. I want &quot;Y&quot; within &quot;X&quot; which cannot be done with recursion. And yes that may be what the word inception really means, but since that movie it has at least culturally adopted a second meaning. Even if it isn&#39;t technically proper use of the word it gets the point across."}], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1506546424, "post_id": 46457193, "comment_id": 79870091, "body": "I know I can do it with two separate regular expressions and a Perl <code>if</code> statement, but I am wondering if the Regular Expression language is capable of doing this with a single expression."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1506546787, "post_id": 46457193, "comment_id": 79870228, "body": "The issue is <code>(?&amp;code_block)</code> is reused other places so I can&#39;t modify it&#39;s definition. I want to match a generic <code>(?&amp;code_block)</code> and then if that matches look inside of what I just matched."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1506604735, "post_id": 46457193, "comment_id": 79895403, "body": "Not sure, it wasn&#39;t me. Not sure why I got a downvote either... apparently people don&#39;t know good content when they see it... I&#39;ll upvote your answer because it didn&#39;t deserve a downvote."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1506604986, "post_id": 46457193, "comment_id": 79895556, "body": "I think your answer is doing what I want, but I&#39;m having a hard time understanding how the <code>(*FAIL)</code> block works."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1506611836, "post_id": 46457193, "comment_id": 79900439, "body": "<code>(*FAIL)</code> never matches. It&#39;s like <code>(?!)</code> or <code>(?:\\z.)</code>. It&#39;s being used inside of <code>(?(?{ condition() })THEN_PATTERN|ELSE_PATTERN)</code>"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1506612862, "post_id": 46457193, "comment_id": 79901155, "body": "If i copy and paste your exact regex it works, but when I try to adapt my own regex <code>$text =~ m&#47;((?&amp;code_block))(?(?{!( &quot;$^N&quot; =~ &#47;\\b dog \\b&#47;x )})(*FAIL))$code_block_rx&#47;xg</code> it doesn&#39;t seem to work. I get an error saying &quot;Sequence (?{...}) not terminated with &#39;)&#39;&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1506613435, "post_id": 46457193, "comment_id": 79901499, "body": "You actually have <code>$text =~ m&#47;((?&amp;code_block))(?(?{!( &quot;$^N&quot; =~ &#47;</code>"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1506613670, "post_id": 46457193, "comment_id": 79901659, "body": "Ohhhhhhh that makes sense! Thanks!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1506614209, "post_id": 46457193, "comment_id": 79902025, "body": "I made the same mistake earlier :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1506552075, "last_edit_date": 1506552075, "creation_date": 1506546235, "answer_id": 46457193, "question_id": 46457111, "link": "https://stackoverflow.com/questions/46457111/regular-expression-inception-a-match-within-a-match/46457193#46457193", "title": "Regular Expression Inception (a match within a match)", "body": "<p>You tried to match <code>dog</code> at the position where the match starts.</p>\n\n<p>Instead, you can check if it's in the block you matched.</p>\n\n<pre><code>while ($text =~ /(\n    \\b block \\h*+ ( (?&amp;code_block) )\n\n    (?(DEFINE)\n        (?&lt;code_block&gt;      \\{ (?&amp;code_block_body) \\}        )\n        (?&lt;code_block_body&gt; (?: [^{}]++ | (?&amp;code_block) )*+ )\n    )\n)/xg) {\n    my $block_stmt       = $1;\n    my $block_stmt_block = $2;\n    if ($block_stmt_block =~ /\\b dog \\b/x) {\n         say $block_stmt;\n    }\n}\n</code></pre>\n\n<p>It can be done in a single pattern by using <code>(?(?{!( assertion() )})(*FAIL))</code> to match against something you already captured.</p>\n\n<pre><code>while ($text =~ m{(\n    \\b block \\h*+\n    # A code_block that contains the word 'dog'.\n    ( (?&amp;code_block) ) (?(?{!( \"$^N\" =~ /\\b dog \\b/x )})(*FAIL))\n\n    (?(DEFINE)\n        (?&lt;code_block&gt;      \\{ (?&amp;code_block_body) \\}        )\n        (?&lt;code_block_body&gt; (?: [^{}]++ | (?&amp;code_block) )*+ )\n    )\n)}xg) {\n    say $1;\n}\n</code></pre>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 46457193, "answer_count": 1, "score": 0, "last_activity_date": 1506552075, "creation_date": 1506545877, "question_id": 46457111, "link": "https://stackoverflow.com/questions/46457111/regular-expression-inception-a-match-within-a-match", "title": "Regular Expression Inception (a match within a match)", "body": "<p>I am trying to create a regular expression that captures a named group and then looks within that named group to check if it contains certain qualities.</p>\n\n<p>For example. I have a regular expression that matches a code block and I can use it to match and capture code blocks:</p>\n\n<p><strong>test.pl:</strong></p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $text = &lt;&lt;'END_TEXT';\n\nblock {\n    // random stuff\n}\n\nblock {\n    dog\n}\n\nEND_TEXT\n\nmy $code_block_rx = qr{(?(DEFINE)\n(?&lt;code_block&gt;\n    block\\h\\{ (?: [^{}]++ | (?&amp;code_block) )*+ \\}\n)\n)}xms;\n\nwhile ($text =~ m/(?&lt;match&gt;(?&amp;code_block))$code_block_rx/g) {\n    print $+{match}.\"\\n\";\n}\n</code></pre>\n\n<p>This code will print both code blocks. But what if I only want to capture code blocks that contain the word \"dog\"?</p>\n\n<p>Is there a way (in a single regular expression) to capture a code block, and then if that is found, look within the code block for the word \"dog\"?</p>\n\n<p>I've tried modifying the regex to use a look ahead assertion, but it just causes the whole thing to fail: <code>/(?&lt;match&gt;(?=dog)(?&amp;code_block))$code_block_rx/g</code></p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1506545395, "post_id": 46456876, "comment_id": 79869657, "body": "<code>if ( &#47;...&#47;g )</code> is a code smell in Perl."}, {"owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1506546298, "post_id": 46456876, "comment_id": 79870056, "body": "Can you please clarify what that means? I&#39;m assuming it&#39;s related to bad coding."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1506546554, "post_id": 46456876, "comment_id": 79870136, "body": "@mob: <i>&quot;code smell&quot;</i> is a language smell in English, as is <i>&quot;language smell&quot;</i>. Even legitimate jargon makes commun&#237;cation difficult enough as it is; we don&#39;t need to supplement that with playground words."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1506546621, "post_id": 46456876, "comment_id": 79870163, "body": "<code>&#47;g</code> is for global matching -- checking if the regular expression is matched more than once. But there&#39;s no need to check that in an <code>if</code> statement. If <code>if (&#47;...&#47;g) { ... }</code> executes the conditional block, then so will <code>if (&#47;...&#47;) { ... }</code>"}, {"owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "edited": false, "score": 0, "creation_date": 1506546700, "post_id": 46456876, "comment_id": 79870195, "body": "ah right. Yes, that&#39;s correct. I picked up on that once you pointed it out. Thanks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1506546873, "post_id": 46456876, "comment_id": 79870258, "body": "@BobJane: <b>mob</b> means that using the <code>&#47;g</code> modifier in scalar context is a <b><i>red flag</i></b> for a likely coding error. It adds a state to the object string so that matches will be made only one at a time."}, {"owner": {"reputation": 4244, "user_id": 3348112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab4cd9458f5debd780353a5554b718d8?s=128&d=identicon&r=PG&f=1", "display_name": "CAustin", "link": "https://stackoverflow.com/users/3348112/caustin"}, "edited": false, "score": 0, "creation_date": 1506548966, "post_id": 46456876, "comment_id": 79871071, "body": "How can a line contain a newline? Stop trying to match <code>\\n</code> when you&#39;re iterating on <code>&lt;&gt;</code>."}, {"owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "reply_to_user": {"reputation": 4244, "user_id": 3348112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab4cd9458f5debd780353a5554b718d8?s=128&d=identicon&r=PG&f=1", "display_name": "CAustin", "link": "https://stackoverflow.com/users/3348112/caustin"}, "edited": false, "score": 0, "creation_date": 1506552260, "post_id": 46456876, "comment_id": 79872140, "body": "@CAustin How does that imply that a line contains a newline? It&#39;s saying to match if the next line has an indentation. The <code>$&#47;</code> variable has been set to undef so it doesn&#39;t read line by line anymore."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "edited": false, "score": 0, "creation_date": 1506546240, "post_id": 46457013, "comment_id": 79870028, "body": "Thanks for the suggestion. This works, however, the program now takes input line by line. I won&#39;t be able to do new line matches anymore. Is there a way of taking the input as one whole file and still be able to get the correct output?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "edited": false, "score": 0, "creation_date": 1506547736, "post_id": 46457013, "comment_id": 79870584, "body": "@BobJane: I don&#39;t understand what you mean by <i>&quot;.I won&#39;t be able to do new line matches anymore&quot;</i>. Only the special characters <code>^</code> and <code>$</code> can be affected by reading the input in lines, but your code uses neither of these. A linefeed character <code>&quot;\\n&quot;</code> behaves exactly like any other character."}, {"owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506552062, "post_id": 46457013, "comment_id": 79872091, "body": "@Borodin I mean that I won&#39;t be able to match <code>$line =~ &#47;hello\\nthere&#47;m</code> stuff like this. Example, I want to read and check if a line has indentation and I want to be able to use that line to check what the next line contains. This is what I am referring to. <a href=\"https://stackoverflow.com/questions/46414935/matching-a-pattern-on-different-lines-in-perl/46415016#46415016\" title=\"matching a pattern on different lines in perl\">stackoverflow.com/questions/46414935/&hellip;</a>"}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 2, "last_activity_date": 1506545448, "creation_date": 1506545448, "answer_id": 46457013, "question_id": 46456876, "link": "https://stackoverflow.com/questions/46456876/matching-multiple-line-indents-in-perl/46457013#46457013", "title": "Matching multiple line indents in Perl", "body": "<p>You're using an <code>if</code> instead of a <code>while</code></p>\n\n<p>An easy fix is to switch to line-by-line processing:</p>\n\n<pre><code>while (&lt;&gt;) {\n    my ($leading_spaces) = /^(\\s*)/;\n    my $count = length $leading_spaces;\n    say \"amount of spaces are $count\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": false, "score": 0, "last_activity_date": 1506579684, "creation_date": 1506579684, "answer_id": 46462242, "question_id": 46456876, "link": "https://stackoverflow.com/questions/46456876/matching-multiple-line-indents-in-perl/46462242#46462242", "title": "Matching multiple line indents in Perl", "body": "<p>You can still slurp your whole file into $line and then do (destructively):</p>\n\n<pre><code>while ( $line =~ s/\\n([\\t ]+)// )\n{\n    my $count = length($1);\n    say \"amount of spaces are $count\";\n}\n</code></pre>\n\n<p>Note I don't think you want to use \\s as that includes \\n which will give you a single match on several consecutive blank lines. I'm using both a tab \\t and a literal space to match instead. If you already are expanding tabs you could remove that of course. </p>\n"}], "owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1506579684, "creation_date": 1506544843, "last_edit_date": 1506547202, "question_id": 46456876, "link": "https://stackoverflow.com/questions/46456876/matching-multiple-line-indents-in-perl", "title": "Matching multiple line indents in Perl", "body": "<p>I am trying to count the number of spaces of indent per each line using this code:</p>\n\n<pre><code>my $line = do {\n    local $/;\n    &lt;&gt;\n};\n\nif ( $line =~ /\\n(\\s+)/g ) {\n    my $count = length($1);\n    say \"amount of spaces are $count\";\n}\n</code></pre>\n\n<p>The input file has this text:</p>\n\n<pre><code>#!/usr/bin/python3\n  import sys\n    x = 1\n      testing\n</code></pre>\n\n<p>But my program displays the number of spaces for only the very first line</p>\n\n<pre><code>amount of spaces are 2\n</code></pre>\n\n<p>I want it to also return</p>\n\n<pre><code>amount of spaces are 4\namount of spaces are 6\n</code></pre>\n\n<p>Any ideas what I can do?</p>\n"}, {"tags": ["perl", "openssl", "smime"], "comments": [{"owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "edited": false, "score": 0, "creation_date": 1506544552, "post_id": 46455225, "comment_id": 79869204, "body": "I had some major misunderstanding. SMIME signes with pkcs7. So I need to extract the signature first. If so it works fine. So the verify expects a signature and not the whole pkcs7-string."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8722982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd7e1d8feae974d1b00653727193781?s=128&d=identicon&r=PG", "display_name": "bash", "link": "https://stackoverflow.com/users/8722982/bash"}, "is_accepted": false, "score": 0, "last_activity_date": 1507154878, "creation_date": 1507154878, "answer_id": 46574924, "question_id": 46455225, "link": "https://stackoverflow.com/questions/46455225/verifying-a-smime-signature-with-perl-and-openssl/46574924#46574924", "title": "Verifying a SMIME-signature with Perl and OpenSSL", "body": "<p>I'll suggest you to go with openssl function PKCS7_verify() <a href=\"https://github.com/openssl/openssl/blob/master/demos/smime/smver.c#L63\" rel=\"nofollow noreferrer\">https://github.com/openssl/openssl/blob/master/demos/smime/smver.c#L63</a></p>\n\n<p>You can take a look how to bind openssl functions directly to perl via FFI at my current project - <a href=\"https://github.com/0x62ash/crypt-openssl-cms/blob/master/lib/Crypt/OpenSSL/CMS.pm\" rel=\"nofollow noreferrer\">https://github.com/0x62ash/crypt-openssl-cms/blob/master/lib/Crypt/OpenSSL/CMS.pm</a></p>\n"}], "owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 452, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507154878, "creation_date": 1506538294, "question_id": 46455225, "link": "https://stackoverflow.com/questions/46455225/verifying-a-smime-signature-with-perl-and-openssl", "title": "Verifying a SMIME-signature with Perl and OpenSSL", "body": "<p>I try to make a Perl-Script that verifies a SMIME-message \"manually\".\nI really tried a lot but it is not working. </p>\n\n<p>Most of the time the verify puts \n\"Signature longer than key\" \nor just gives a false return.</p>\n\n<p>If I do it with OpenSSL at the console it works like a charm.</p>\n\n<pre><code>CER=mycert\nKEY=mykey\nMSG=msg.txt\nPLA=plain.txt\n\n# create keys with:\n# openssl req -x509 -nodes -newkey rsa:1024 -keyout mykey -out mycert\n\necho -n \"test\" &gt; $PLA\n\n# sign\nopenssl cms -sign -md sha1 -subject \"test\" -from \"sam\"  -to \"alice\" \n  -signer $CER -inkey $KEY -in $PLA -out $MSG\n\n# verify\nopenssl smime -verify -purpose any -in $MSG -CAfile $CER \n  -CApath /etc/ssl/certs\n\n&gt;&gt; Verification successful\n</code></pre>\n\n<p>That produces and verifies msg.txt</p>\n\n<pre><code>To: alice\nFrom: sam\nSubject: test\nMIME-Version: 1.0\nContent-Type: multipart/signed; protocol=\"application/pkcs7-signature\";     \nmicalg=\"sha1\"; boundary=\"----654C4F221B45801BF9249BC8B2EBC320\"\n\nThis is an S/MIME signed message\n\n------654C4F221B45801BF9249BC8B2EBC320\ntest\n------654C4F221B45801BF9249BC8B2EBC320\nContent-Type: application/pkcs7-signature; name=\"smime.p7s\"\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment; filename=\"smime.p7s\"\n\nMIIEZgYJKoZIhvcNAQcCoIIEVzCCBFMCAQExCTAHBgUrDgMCGjALBgkqhkiG9w0B\nBwGgggJfMIICWzCCAcSgAwIBAgIJAJeRsnkW7iHCMA0GCSqGSIb3DQEBCwUAMEUx\n</code></pre>\n\n<p><em>I shorten it here.</em></p>\n\n<pre><code>Eep0LlT+ThDmdSWm8OIPA4f5UCI5+jWB91Nf5CqKFhuua2obZmAOqZXcX4E6VdLV\ntaorGZL0OCiGuUY94QJEdoJZ7rlpkwFBBVE=\n\n------654C4F221B45801BF9249BC8B2EBC320--\n</code></pre>\n\n<p>Now I try to show it with very simple Perl. I simplified it in cut away the MIME-handling and just use the values inline from msg.txt.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Crypt::OpenSSL::X509;\nuse Crypt::OpenSSL::RSA;\nuse MIME::Base64;\n\nmy $in = \"msg.txt\";\nmy $crt = \"mycert\";\n\nmy $cert = Crypt::OpenSSL::X509-&gt;new_from_file ($crt);\nmy $pubkey = $cert-&gt;pubkey ();\nmy $rsa = Crypt::OpenSSL::RSA-&gt;new_public_key ($pubkey);\n\nmy $ct = \"test\";\n\nmy $sig = \"MIIEZgYJKoZIhvcNAQcCoIIEVzCCBFMCAQExCTAHBgUrDgMCGjALBgkqhkiG9w0B\nBwGgggJfMIICWzCCAcSgAwIBAgIJAJeRsnkW7iHCMA0GCSqGSIb3DQEBCwUAMEUx\n</code></pre>\n\n<p><em>I skipped the rest. It is equivalent to the signature-string in msg.txt</em></p>\n\n<pre><code>Eep0LlT+ThDmdSWm8OIPA4f5UCI5+jWB91Nf5CqKFhuua2obZmAOqZXcX4E6VdLV\ntaorGZL0OCiGuUY94QJEdoJZ7rlpkwFBBVE=\";\n\n$sig = decode_base64 ($sig);   # make it binary\nif ($rsa-&gt;verify ($ct, $sig))\n{\n  print \"\\nverified!\\n\";\n}\n\n# verify fails with \"Signature longer than key\" or returns false.\n</code></pre>\n\n<p>I have no idea why it is not working. I would appreciate any help, thanks!</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506532319, "post_id": 46453623, "comment_id": 79862823, "body": "I&#39;ve not included samples here because I&#39;ve never really used either of them and don&#39;t have the time right now to try."}, {"owner": {"reputation": 219, "user_id": 2714506, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/FBGLV.png?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/2714506/sagar"}, "edited": false, "score": 0, "creation_date": 1506532764, "post_id": 46453623, "comment_id": 79863047, "body": "so do you suggest that I should rely on polling for data and how do i handle the new incoming connection, coz there might be number of my own defined handshake with clients. Is this the robust way of doing ? I don&#39;t want to end up with nodejs."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 219, "user_id": 2714506, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/FBGLV.png?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/2714506/sagar"}, "edited": false, "score": 1, "creation_date": 1506532846, "post_id": 46453623, "comment_id": 79863075, "body": "@Sagar No, simbabque suggested you use one of the above modules to provide an event loop. (That said, perl has built-in tools to build event loops, mainly <code>select</code>.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1506533146, "post_id": 46453623, "comment_id": 79863229, "body": "This list from AnyEvent is more comprehensive: &quot;AnyEvent - the DBI of event loop programming.  EV, Event, Glib, Tk, UV, Perl, Event::Lib, Irssi, rxvt-unicode, IO::Async, Qt, FLTK and POE are various supported event loops/environments.&quot;"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1506533239, "post_id": 46453623, "comment_id": 79863274, "body": "Yyeah, I don&#39;t really agree with that description. AnyEvent is nothing like DBI. I wouldn&#39;t use AnyEvent (in fact, I&#39;d avoid all modules by this particular author)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506533546, "post_id": 46453623, "comment_id": 79863437, "body": "It wasn&#39;t about the description, but since you bring it up: DBI is a driver-independent interface to a host of drivers. AnyEvent is an event-loop-independent interface to a host of event loops. /// I know what you mean about the author!"}, {"owner": {"reputation": 219, "user_id": 2714506, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/FBGLV.png?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/2714506/sagar"}, "edited": false, "score": 0, "creation_date": 1506534142, "post_id": 46453623, "comment_id": 79863728, "body": "Thanks everyone for your precious time."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1506532281, "creation_date": 1506532281, "answer_id": 46453623, "question_id": 46453561, "link": "https://stackoverflow.com/questions/46453561/perl-socket-event-driven-programming/46453623#46453623", "title": "perl socket event driven programming", "body": "<p><strong>No.</strong> </p>\n\n<p>Perl does not have anything for event-driven programming built in. There are various modules to do event-driven development on CPAN. Some of them are listed in <a href=\"https://metacpan.org/pod/Task::Kensho::Async\" rel=\"nofollow noreferrer\">Task::Kensho::Async</a>.</p>\n\n<p>The most famous ones are <a href=\"https://metacpan.org/pod/POE\" rel=\"nofollow noreferrer\">POE</a> and <a href=\"https://metacpan.org/pod/AnyEvent\" rel=\"nofollow noreferrer\">AnyEvent</a>. But you might want to look at <a href=\"https://metacpan.org/pod/IO::Async\" rel=\"nofollow noreferrer\">IO::Async</a> specifically.</p>\n"}], "owner": {"reputation": 219, "user_id": 2714506, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/FBGLV.png?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/2714506/sagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1506532281, "creation_date": 1506532110, "last_edit_date": 1506532151, "question_id": 46453561, "link": "https://stackoverflow.com/questions/46453561/perl-socket-event-driven-programming", "title": "perl socket event driven programming", "body": "<p>I am writing a perl server which authenticates client using public and private key and eventually it turns out I need $client_socket->recv to be event driven rather polling in infinite loop. Is there build in code to perform event driven with IO::Socket::INET.</p>\n\n<pre><code>while(1)\n{\n    # waiting for a new client connection\n    my $client_socket = $socket-&gt;accept();\n\n    # get information about a newly connected client\n    my $client_address = $client_socket-&gt;peerhost();\n    my $client_port = $client_socket-&gt;peerport();\n    print \"connection from $client_address:$client_port\\n\";\n\n    # read up to 1024 characters from the connected client\n    my $data = \"\";\n    $client_socket-&gt;recv($data, 1024);\n    print \"received data: $data\\n\";\n\n    # write response data to the connected client\n    $client_socket-&gt;send(\"some response text\");\n\n    # notify client that response has been sent\n    shutdown($client_socket, 1);\n}\n</code></pre>\n"}, {"tags": ["perl", "sorting"], "comments": [{"owner": {"reputation": 2763, "user_id": 2517719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9NsiC.jpg?s=128&g=1", "display_name": "Floegipoky", "link": "https://stackoverflow.com/users/2517719/floegipoky"}, "edited": false, "score": 1, "creation_date": 1506527996, "post_id": 46452260, "comment_id": 79860409, "body": "Your code above is correct, you just need to implement by_my_alphabet. Check out the examples here which demonstrate using a custom comparator: <a href=\"https://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/sort.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1506528579, "creation_date": 1506528579, "answer_id": 46452567, "question_id": 46452260, "link": "https://stackoverflow.com/questions/46452260/perl-to-sort-words-by-user-defined-alphabet-sequence/46452567#46452567", "title": "Perl to sort words by user-defined alphabet sequence", "body": "<p>Yes. </p>\n\n<p><code>sort</code> can take any function that returns a relative sort position. All you need is a function that correctly looks up the 'sort value' of a string for comparing. </p>\n\n<p>So all you need to do here is define a 'relative weight' of your extra letters, and then compare the two. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings; \n\nuse Data::Dumper;\n\nmy @sort_order = qw ( B C A D ); \n\nmy @array_to_sort = qw ( A B C D A B C D AB BB CCC ABC ); \n\nmy $count = 0; \nmy %position_of;\n$position_of{$_} = $count++ for @sort_order;\n\nprint Dumper \\%position_of;\n\nsub sort_by_pos {\n\n   my @a = split //, $a;\n   my @b = split //, $b; \n\n   #iterate one letter at a time, using 'shift' to take it off the front\n   #of the array.\n   while ( @a and @b ) {\n     my $result = $position_of{shift @a} &lt;=&gt; $position_of{shift @b};\n     #result is 'true' if it's \"-1\" or \"1\" which indicates relative position.\n     # 0 is false, and that'll cause the next loop iteration to test the next\n     #letter-pair\n     return $result if $result;\n   }\n   #return a value based on remaining length - longest 'string' will sort last;\n   #That's so \"AAA\" comparing with \"AA\" comparison actually work, \n   return scalar @a &lt;=&gt; scalar @b;\n}\n\n\nmy @new = sort { sort_by_pos } @array_to_sort;\n\nprint Dumper \\@new;\n</code></pre>\n\n<p>Bit of a simple case, but it sorts our array into:</p>\n\n<pre><code>$VAR1 = [\n          'B',\n          'B',\n          'BB',\n          'C',\n          'C',\n          'CCC',\n          'A',\n          'A',\n          'AB',\n          'ABC',\n          'D',\n          'D'\n        ];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "edited": false, "score": 0, "creation_date": 1506537128, "post_id": 46452613, "comment_id": 79865278, "body": "Great! Though I&#39;m only a beginner in Perl, so I don&#39;t understand how <code>map</code>, <code>$$</code>, and <code>min map</code> work. Hope to learn all of it soon and fully understand the code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "edited": false, "score": 1, "creation_date": 1506537966, "post_id": 46452613, "comment_id": 79865741, "body": "<code>$$</code> is a prototype expected for functions called by <code>sort func LIST</code>. It effectively means the sub takes two parameters. (generally speaking, avoid sub prototypes!)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "edited": false, "score": 1, "creation_date": 1506537987, "post_id": 46452613, "comment_id": 79865753, "body": "<code>min</code> is a sub that returns the smallest of the numbers passed as arguments."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "edited": false, "score": 1, "creation_date": 1506538015, "post_id": 46452613, "comment_id": 79865769, "body": "<code>map</code> applies a transformation to the each value passed to it. e.g. <code>map { uc($_) } &quot;abc&quot;, &quot;def&quot;</code> is equivalent to <code>uc(&quot;abc&quot;), uc(&quot;def&quot;)</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1506538034, "last_edit_date": 1506538034, "creation_date": 1506528743, "answer_id": 46452613, "question_id": 46452260, "link": "https://stackoverflow.com/questions/46452260/perl-to-sort-words-by-user-defined-alphabet-sequence/46452613#46452613", "title": "Perl to sort words by user-defined alphabet sequence", "body": "<p>Simple, and very fast because it doesn't use a compare callback, but it needs to scan the entire string:</p>\n\n<pre><code>use utf8;\n\nmy @my_chr = split //, \"\u0294\u0295bgd\";\nmy %my_ord = map { $my_chr[$_] =&gt; $_ } 0..$#my_chr;\n\nmy @sorted =\n   map { join '', @my_chr[ unpack 'W*', $_ ] }   # \"\\x00\\x01\\x02\\x03\\x04\" \u21d2 \"\u0294\u0295bgd\"\n   sort\n   map { pack 'W*', @my_ord{ split //, $_ } }    # \"\u0294\u0295bgd\" \u21d2 \"\\x00\\x01\\x02\\x03\\x04\"\n   @unsorted;\n</code></pre>\n\n<p>Optimized for long strings since it only scans a string up until a difference is found:</p>\n\n<pre><code>use utf8;\n\nuse List::Util qw( min );\n\nmy @my_chr = split //, \"\u0294\u0295bgd\";\nmy %my_ord = map { $my_chr[$_] =&gt; $_ } 0..$#my_chr;\n\nsub my_cmp($$) {\n   for ( 0 .. ( min map length($_), @_ ) - 1 ) {\n      my $cmp = $my_ord{substr($_[0], $_, 1)} &lt;=&gt; $my_ord{substr($_[1], $_, 1)};\n      return $cmp if $cmp;\n   }\n\n   return length($_[0]) &lt;=&gt; length($_[1]);\n}\n\nmy @sorted = sort my_cmp @unsorted;\n</code></pre>\n\n<p>Both should be faster than <a href=\"https://stackoverflow.com/a/46452567/589924\">Sobrique's</a>. Theirs uses a compare callback, and it scans the entire strings being compared.</p>\n"}], "owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1506538034, "creation_date": 1506527637, "question_id": 46452260, "link": "https://stackoverflow.com/questions/46452260/perl-to-sort-words-by-user-defined-alphabet-sequence", "title": "Perl to sort words by user-defined alphabet sequence", "body": "<p>I have an array of \"words\" (strings), which consist of letters from an \"alphabet\" with user-defined sequence. E.g my \"alphabet\" starts with <code>\"\u0294 \u0295 b g d\"</code>, so a list of \"words\" <code>(b\u0294d \u0294bg \u0295\u0294b b\u0295d)</code> after <code>sort by_my_alphabet</code> should be <code>\u0294bd \u0295\u0294b b\u0294d b\u0295d</code>. </p>\n\n<pre><code>sort by_my_alphabet (b\u0294d \u0294bg \u0295\u0294b b\u0295d) # gives \u0294bd \u0295\u0294b b\u0294d b\u0295d\n</code></pre>\n\n<p>Is there a way to make a simple subroutine <code>by_my_alphabet</code> with <code>$a</code> and <code>$b</code> to solve this problem?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506533255, "post_id": 46451697, "comment_id": 79863282, "body": "<code>SDBM_File</code> is not a hash at all. It&#39;s a keyed-value disk storage module that provides a hash-like variable as interface."}], "answers": [{"comments": [{"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506527636, "post_id": 46451848, "comment_id": 79860157, "body": "Thanks Dave,Does perl automatically appends .pag to the external file that SDBM write s to/ read from?I did not really understand the thing about .dir and .pag on the perldoc link"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 1, "creation_date": 1506527914, "post_id": 46451848, "comment_id": 79860347, "body": "@Vicky: There are actually two files created for each hash. One with the extension <code>.pag</code> contains the &quot;pages&quot; of data and one with the extension <code>.dir</code> contains the &quot;directory&quot; (an index of where each piece of data is stored). And, yes, Perl adds those extensions to the hash file name that you give to the <code>tie</code> command. But really, there is very little need to use DBM files now that we have high-quality open source databases like SQLite and PostgreSQL."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506527983, "post_id": 46451848, "comment_id": 79860396, "body": "(@Vicky: You can change the extensions that Perl automatically adds. But no-one ever does. And you shouldn&#39;t either.)"}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 1, "creation_date": 1506528179, "post_id": 46451848, "comment_id": 79860533, "body": "Thanks much Dave for quick and concise explanation"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1506526298, "creation_date": 1506526298, "answer_id": 46451848, "question_id": 46451697, "link": "https://stackoverflow.com/questions/46451697/difference-between-sdbm-file-hash-and-normal-hash-in-perl/46451848#46451848", "title": "Difference between SDBM_File hash and normal hash in Perl?", "body": "<p>The big difference is that an <code>SDBM_File</code> hash (and any of Perl's DBM file implementations) is that the hash is stored in an external file.</p>\n\n<p>If you store data in a standard Perl hash, then that hash only exists as long as your program is running. When the program ends, your hash disappears and any data in the hash vanishes into thin air. The next time you run your program, the hash will start out empty again.</p>\n\n<p>If you store data in a DBM file hash, then any change to the hash is written to a file. When your program ends, that file still exists. So when you run your program again, the data is reloaded from the file and is still there for you to use.</p>\n\n<p>Most of the time you'll want a transient hash that only exists while the program is running. If you want persistent data, then a DBM hash might be what you want (although, to be honest, these days most people would just use a database).</p>\n"}], "owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 46451848, "answer_count": 1, "score": 1, "last_activity_date": 1506526298, "creation_date": 1506525897, "question_id": 46451697, "link": "https://stackoverflow.com/questions/46451697/difference-between-sdbm-file-hash-and-normal-hash-in-perl", "title": "Difference between SDBM_File hash and normal hash in Perl?", "body": "<p>when it is required to use SDBM_File hash instead of normal Perl has ? what is it that  SDBM_File hash can accomplish that normal Perl hash cannot?\nI read docs here <a href=\"https://perldoc.perl.org/SDBM_File.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/SDBM_File.html</a>  and  <a href=\"http://docs.w3cub.com/perl~5.26/sdbm_file/\" rel=\"nofollow noreferrer\">http://docs.w3cub.com/perl~5.26/sdbm_file/</a> , but I am just wondering why can't Perl hash be used to achieve what in place of of a SDBM file DB?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3706, "user_id": 2018455, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e75a41fc224930ef1fa9ddcc9c714174?s=128&d=identicon&r=PG", "display_name": "Neil Locketz", "link": "https://stackoverflow.com/users/2018455/neil-locketz"}, "edited": false, "score": 1, "creation_date": 1506521787, "post_id": 46450141, "comment_id": 79856121, "body": "Seems you&#39;ll need to write the handling of your DB yourself using <code>fork</code> instead of threads, since the <code>forks</code> module works. The DB told you that you can&#39;t share a handle between threads, so you&#39;ll need to use processes to solve that."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506522489, "post_id": 46450141, "comment_id": 79856606, "body": "Why did you use the <i>forks</i> module, and not write your own stuff with the built-in <code>fork</code>? The docs of <i>forks</i> says it&#39;s a drop-in replacement for when you already have <i>threads</i>, but don&#39;t want them anymore. <a href=\"http://matrix.cpantesters.org/?dist=forks+0.36\" rel=\"nofollow noreferrer\">But it does not run on Windows, period</a>. There is no way to fix that. And <i>threads</i> are just broken. You&#39;ll need to rebuild your own implementation using proper <code>fork</code>ing. How did you come up with the <i>forks</i> module? I have been doing Perl for over 10 years and I had never heard of it before now."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1506524973, "post_id": 46450141, "comment_id": 79858376, "body": "It&#39;s a relatively new thing, triggered from &#39;threads are discouraged&#39;. IMO there&#39;s not much in the way of good reasons to use it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506531094, "post_id": 46450141, "comment_id": 79862168, "body": "@simbabque, Sobrique  -- huh?  What precisely is wrong with <code>forks</code>?  It&#39;s there so that one can use the threads interface, what is nice and useful (for instance with pools etc), but without actual, heavy, threads.  Why not?  Now, on Windows ... <i>that&#39;s</i> different."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 3, "last_activity_date": 1506522595, "creation_date": 1506522595, "answer_id": 46450525, "question_id": 46450141, "link": "https://stackoverflow.com/questions/46450141/perl-multithreading-forks-vs-threads-in-cross-platforms-scripts/46450525#46450525", "title": "Perl Multithreading: &#39;&#39;forks&#39;&#39; vs &#39;&#39;threads&#39;&#39; in cross platforms scripts", "body": "<p>In general <a href=\"https://metacpan.org/pod/DBI#Threads-and-Thread-Safety\" rel=\"nofollow noreferrer\">each thread or process needs to have its own handle to the database</a>. Create a new handle after each <code>fork</code> or within each <code>threads::create</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 209, "user_id": 8516392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04539bf98f6da7d74908a7fae11df82e?s=128&d=identicon&r=PG&f=1", "display_name": "technoleap84", "link": "https://stackoverflow.com/users/8516392/technoleap84"}, "is_accepted": false, "score": 0, "last_activity_date": 1506714910, "creation_date": 1506714910, "answer_id": 46496072, "question_id": 46450141, "link": "https://stackoverflow.com/questions/46450141/perl-multithreading-forks-vs-threads-in-cross-platforms-scripts/46496072#46496072", "title": "Perl Multithreading: &#39;&#39;forks&#39;&#39; vs &#39;&#39;threads&#39;&#39; in cross platforms scripts", "body": "<p>First of all, thanks everybody for the prompt answer and the very good suggestions.\nThat's my solution.\nApparently, it seems there's no need to create a new db handler for each thread, just connect to the database each and every time you create a new thread.\nSo, if you're using ''threads'', i think it should be enough to include the following line within the ''threads->create'' method to make it runnable:</p>\n\n<pre><code>$dbh = DBI-&gt;connect( \"dbi:SQLite:db_name.dbl\" ) || die \"Cannot connect: $DBI::errstr\";  \n</code></pre>\n\n<p>As you can see, the handler is static but it's not literally ''shared'' between \nthreads, as it is created each and every time you connect to the db, so each and every time you run a new thread!</p>\n\n<p>Please, don't ask me why the original script works fine in Linux using ''forks''  and without this trick...it seems that with ''forks'' you don't need to care about shared handlers.</p>\n\n<p>Thanks again</p>\n"}], "owner": {"reputation": 209, "user_id": 8516392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04539bf98f6da7d74908a7fae11df82e?s=128&d=identicon&r=PG&f=1", "display_name": "technoleap84", "link": "https://stackoverflow.com/users/8516392/technoleap84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1506714910, "creation_date": 1506521493, "last_edit_date": 1506707528, "question_id": 46450141, "link": "https://stackoverflow.com/questions/46450141/perl-multithreading-forks-vs-threads-in-cross-platforms-scripts", "title": "Perl Multithreading: &#39;&#39;forks&#39;&#39; vs &#39;&#39;threads&#39;&#39; in cross platforms scripts", "body": "<p>I'm trying to develop a software featuring multithreading.\nOn Linux the script works fine, the module i've used is ''forks''.\nIn other words, no problem of shared handlers between threads while querying db and stuff like that.\nOnce i've been trying to run the script on windows (Strawberry Perl), when i try to cpan install forks it says that ''forks module'' is not supported for the current version of my OS (64bit).\nMoving over, i decided to use ''threads'' instead, but i gained the following error, almost certainly linked with shared handlers between threads.</p>\n\n<p>''\nThread 1 terminated abnormally: DBD::SQLite::db prepare failed: handle 2 is owned by thread d97fe8 not current thread 3a01058 (handles can't be shared between threads and your driver may need a CLONE method added) at file.pl line 180,  line 1.\n''</p>\n\n<p>How to fix the aforementioned problem and make the script runnable on windows Strawberry Perl?</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1506518869, "post_id": 46448302, "comment_id": 79853877, "body": "The fact that this is CGI is a complete red herring here. One of the most useful skills a programmer can have is the ability to test scenarios which eliminate the factors that have no effect on the problem in hand."}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 1937895, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f2JeA.png?s=128&g=1", "display_name": "user1937895", "link": "https://stackoverflow.com/users/1937895/user1937895"}, "edited": false, "score": 0, "creation_date": 1506517150, "post_id": 46448379, "comment_id": 79852636, "body": "Humm. Adding the foreach within print mail throws up an error cause it doesn&#39;t like it there.print MAIL &quot;URL: $url\\n&quot;; foreach my $m (@more){ print MAIL &quot;URL: $m\\n&quot;;}}; print MAIL &quot;Due Date: $date\\n&quot;;"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 119, "user_id": 1937895, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f2JeA.png?s=128&g=1", "display_name": "user1937895", "link": "https://stackoverflow.com/users/1937895/user1937895"}, "edited": false, "score": 0, "creation_date": 1506517260, "post_id": 46448379, "comment_id": 79852721, "body": "@user1937895 \u2014 I didn&#39;t say that you should put it inside the print. Replace <b>all</b> of the code in the question with the code in the third code block of this answer."}, {"owner": {"reputation": 119, "user_id": 1937895, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f2JeA.png?s=128&g=1", "display_name": "user1937895", "link": "https://stackoverflow.com/users/1937895/user1937895"}, "edited": false, "score": 0, "creation_date": 1506524063, "post_id": 46448379, "comment_id": 79857750, "body": "could you post an example of what you mean? it&#39;s not clear. Thanks"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 2, "last_activity_date": 1506516673, "creation_date": 1506516673, "answer_id": 46448379, "question_id": 46448302, "link": "https://stackoverflow.com/questions/46448302/cgi-perl-print-mail-not-printing-foreach-loop/46448379#46448379", "title": "CGI Perl print mail not printing foreach loop", "body": "<p>You have:</p>\n\n<pre><code>print MAIL do { expression }\n</code></pre>\n\n<p>\u2026 where the expression doesn't return anything useful for <code>do</code> to print to the MAIL file handle.</p>\n\n<hr>\n\n<p>You also have:</p>\n\n<pre><code>foreach my $m (@more){\n    print \"URL: $m\\n\";\n}\n</code></pre>\n\n<p>\u2026 where you aren't printing to the MAIL file handle.</p>\n\n<hr>\n\n<p>Get rid of the <code>do</code> because it is nonsense. Print the URL to where you want to print it.</p>\n\n<pre><code>foreach my $m (@more){\n    print MAIL \"URL: $m\\n\";\n}\n</code></pre>\n\n<hr>\n\n<p>Also consider using a <a href=\"http://shadow.cat/blog/matt-s-trout/mstpan-15/\" rel=\"nofollow noreferrer\">sensible module for sending email</a> (probably <a href=\"https://metacpan.org/pod/Email::Sender::Manual::QuickStart\" rel=\"nofollow noreferrer\">Email::Sender::Simple</a> instead of (presumably) piping stuff into the sendmail binary on your system directly.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 119, "user_id": 1937895, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f2JeA.png?s=128&g=1", "display_name": "user1937895", "link": "https://stackoverflow.com/users/1937895/user1937895"}, "edited": false, "score": 0, "creation_date": 1506520567, "post_id": 46449095, "comment_id": 79855235, "body": "@user1937895: It&#39;s really no different to Quentin&#39;s answer. That would work too if you typed it correctly."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 119, "user_id": 1937895, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f2JeA.png?s=128&g=1", "display_name": "user1937895", "link": "https://stackoverflow.com/users/1937895/user1937895"}, "edited": false, "score": 1, "creation_date": 1506520644, "post_id": 46449095, "comment_id": 79855298, "body": "@user1937895: Also, I hope you take the time to understand why these solutions work and your original code didn&#39;t. Just cutting and pasting code from Stack Overflow is no way to build a career as a programmer."}, {"owner": {"reputation": 119, "user_id": 1937895, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f2JeA.png?s=128&g=1", "display_name": "user1937895", "link": "https://stackoverflow.com/users/1937895/user1937895"}, "edited": false, "score": 0, "creation_date": 1506528919, "post_id": 46449095, "comment_id": 79861006, "body": "Thanks for the advice. I understood your solution better than the one below. And, agree about cutting and pasting it&#39;s not the way of work. :)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1506518730, "creation_date": 1506518730, "answer_id": 46449095, "question_id": 46448302, "link": "https://stackoverflow.com/questions/46448302/cgi-perl-print-mail-not-printing-foreach-loop/46449095#46449095", "title": "CGI Perl print mail not printing foreach loop", "body": "<p>Your line:</p>\n\n<pre><code>print\"URL: $m\\n\"\n</code></pre>\n\n<p>Is printing the URL to <code>STDOUT</code>, not to the <code>MAIL</code> filehandle. And embedding that line in a <code>foreach</code> within a <code>do</code> isn't going to change that at all. All that's being printed to the <code>MAIL</code> filehandle is the return value from the <code>foreach</code> loop. And that (as you have seen) doesn't return anything.</p>\n\n<p>I think you want to replace all of this code with:</p>\n\n<pre><code>print MAIL \"URL: $_\\n\" for @more;\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>print MAIL map { \"URL: $_\\n\" } @more;\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 1937895, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f2JeA.png?s=128&g=1", "display_name": "user1937895", "link": "https://stackoverflow.com/users/1937895/user1937895"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1506518730, "creation_date": 1506516461, "question_id": 46448302, "link": "https://stackoverflow.com/questions/46448302/cgi-perl-print-mail-not-printing-foreach-loop", "title": "CGI Perl print mail not printing foreach loop", "body": "<p>I have the following piece of code in a large CGI perl mailer. </p>\n\n<pre><code>     print MAIL do{foreach my $m (@more){ print\"URL: $m\\n\";}};\n</code></pre>\n\n<p>The array its pulling from is \n            @more = qw(google.com bob.com frank.com);</p>\n\n<p>When I run the sendmail cgi script and get the email. This line is omitted! what gives? why am I not getting results? How can I fix it?</p>\n\n<p>Thanks in Advance</p>\n"}, {"tags": ["perl", "logging", "console", "printf"], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1506518256, "post_id": 46447958, "comment_id": 79853438, "body": "Thanks @mob. Good to know there are people around to take care of my stupid typos :-/"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 5, "last_activity_date": 1506517788, "last_edit_date": 1506517788, "creation_date": 1506515551, "answer_id": 46447958, "question_id": 46447595, "link": "https://stackoverflow.com/questions/46447595/what-are-the-different-ways-of-writing-output-to-console-in-perl/46447958#46447958", "title": "What are the different ways of writing output to console in Perl?", "body": "<p>\"The console\" is a slightly complicated concept. There are actually two filehandles that are, by default, attached to the console. STDOUT is where standard output is written and STDERR is where errors and warnings are written.</p>\n\n<p>Then, of course, those filehandles might not be attached to the console at all. Most operating systems support I/O redirection. STDOUT might be attached to one file and STDERR to another.</p>\n\n<p>And many of these functions allow you to change the filehandle that they write to. For example <code>print()</code> takes an optional first argument which is a filehandle.</p>\n\n<p>Then there's <code>select</code> which can be used to change the default filehandle which is used by functions like <code>print()</code>.</p>\n\n<p>In <a href=\"https://perldoc.perl.org/perlfunc.html\" rel=\"noreferrer\">perldoc perlfunc</a> you can find a list of \"input and output functions\". It's simple enough to go through that list to extract the ones that produce output.</p>\n\n<ul>\n<li><code>die</code> - writes to STDERR</li>\n<li><code>warn</code> - writes to STDERR</li>\n<li><code>print</code> - writes to STDOUT</li>\n<li><code>printf</code> - writes to STDOUT</li>\n<li><code>say</code> - writes to STDOUT</li>\n<li><code>syswrite</code> - writes to the specified filehandle</li>\n<li><code>write</code> - writes to STDOUT</li>\n</ul>\n\n<p>There are, of course, any number of other modules which can contain new functions which write to various filehandles. For example, <a href=\"https://metacpan.org/pod/Carp\" rel=\"noreferrer\">Carp</a> defines the functions, <code>carp()</code>, <code>croak()</code>, <code>cluck()</code> and <code>confess()</code> - all of which write to STDERR.</p>\n"}], "owner": {"reputation": 694, "user_id": 6528719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jyH70.jpg?s=128&g=1", "display_name": "Dinesh Gowda", "link": "https://stackoverflow.com/users/6528719/dinesh-gowda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 757, "favorite_count": 2, "accepted_answer_id": 46447958, "answer_count": 1, "score": 2, "last_activity_date": 1506517788, "creation_date": 1506514390, "last_edit_date": 1506514863, "question_id": 46447595, "link": "https://stackoverflow.com/questions/46447595/what-are-the-different-ways-of-writing-output-to-console-in-perl", "title": "What are the different ways of writing output to console in Perl?", "body": "<p>I know <code>print</code>, <code>printf</code>, <code>die</code>, <code>warn</code> , <code>say</code> have different functionality  but all print to console. I am working on a project where I am integrating a logging framework to Perl so i need to know all the functions which print output to console in Perl irrespective of their functionality.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 9, "creation_date": 1506509519, "post_id": 46445799, "comment_id": 79847601, "body": "You don&#39;t want to do that. Please read <a href=\"https://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">this</a>, as well as the linked parts 2 and 3. Then forget about your question and use a hash."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1506511719, "post_id": 46445799, "comment_id": 79849090, "body": "If you explain in a bit more words why you are trying to do this we might be able to help you do it in a different way. Please <a href=\"https://stackoverflow.com/posts/46445799/edit\">edit</a> your question and include more of your code. Also explain why you have a variable that contains a variable name. What problem are you trying to solve with that? You&#39;re likely just missing the understanding of one of the basic concepts of programming. It will be like an epiphany once you get it, followed by a facepalm. :)"}], "answers": [{"comments": [{"owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "edited": false, "score": 0, "creation_date": 1506631627, "post_id": 46446953, "comment_id": 79911206, "body": "@charlie-bradford are answers helped you? please vote for right one :)"}], "tags": [], "owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "is_accepted": false, "score": -2, "last_activity_date": 1506512757, "last_edit_date": 1506512757, "creation_date": 1506512427, "answer_id": 46446953, "question_id": 46445799, "link": "https://stackoverflow.com/questions/46445799/accessing-a-perl-array-thats-name-is-stored-in-a-string/46446953#46446953", "title": "Accessing a perl array that&#39;s name is stored in a string", "body": "<pre><code>#!/usr/bin/env perl\n\nuse PadWalker qw/peek_my/;\n\nmy @array = (1, 2, 3);\n\nmy $var = '@array';\n\nmy $lexical = peek_my(0);\n\nprint $lexical-&gt;{$var}-&gt;[0];\n</code></pre>\n\n<p>Here $lexical->{$var} references to your's @array.</p>\n\n<p>peek_my's argument is level of scope (see <a href=\"http://search.cpan.org/~robin/PadWalker-2.2/PadWalker.pm\" rel=\"nofollow noreferrer\">PadWalker</a> for details).</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506514471, "post_id": 46447055, "comment_id": 79850823, "body": "I didn&#39;t even think about this. You&#39;re right of course. But then the question text says the name is in the array, so OP is contradicting themselves. If it&#39;s <code>$var = &#39;@array&#39;</code> they have the name of the variable, and my comment applies. If they have <code>$var = &quot;@array&quot;</code> they have something else entirely, and your answer applies."}, {"owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "edited": false, "score": 0, "creation_date": 1506514826, "post_id": 46447055, "comment_id": 79851036, "body": "Just cite question: &quot;I have the name of an array stored in a variable&quot;, so solution is <a href=\"https://stackoverflow.com/questions/46445799/accessing-a-perl-array-thats-name-is-stored-in-a-string/46446953#46446953\" title=\"accessing a perl array thats name is stored in a string\">stackoverflow.com/questions/46445799/&hellip;</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1506518598, "post_id": 46447055, "comment_id": 79853675, "body": "I misread it. But the that&#39;s not the answer either. The answer is &#39;don&#39;t do it&#39;."}, {"owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "edited": false, "score": 0, "creation_date": 1506537843, "post_id": 46447055, "comment_id": 79865675, "body": "Question is &quot;Is there any way for me to access $array[0] from only this information?&quot; - Answer is &quot;how to do it&quot;. &quot;Don&#39;t do it&quot; - just recommendation."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1506586161, "post_id": 46447055, "comment_id": 79882859, "body": "&quot;How do I commit suicide with a shotgun?&quot; &quot;Don&#39;t&quot;. The problem here is an XY problem - the <i>actual problem</i> will be something different."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1506518840, "last_edit_date": 1506518840, "creation_date": 1506512751, "answer_id": 46447055, "question_id": 46445799, "link": "https://stackoverflow.com/questions/46445799/accessing-a-perl-array-thats-name-is-stored-in-a-string/46447055#46447055", "title": "Accessing a perl array that&#39;s name is stored in a string", "body": "<p>If you assign an array to a var like that, it'll auto-join it using <code>$\"</code>. </p>\n\n<p>So you can split based on <code>$\"</code> and reverse it. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy @array = qw ( fish carrot banana );\nmy $var = \"@array\";\nprint +(split (/\\Q$\"\\E/, $var))[0],\"\\n\";\n</code></pre>\n\n<p>But this is a bad idea - it'll trip up on a bunch of things, not least 'does my array contain spaces in the elements' - there's no good exhaustive solution to this that isn't serialisation via something like <code>JSON</code> or <code>YAML</code>. </p>\n\n<p>Having reread your question, it seems you're trying to do a symbolic reference, rather than what I thought.</p>\n\n<p>That's a terrible idea, and you should not do it. </p>\n\n<p>Please see: <a href=\"https://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">Why it's a bad idea to use a variable as a variable name</a></p>\n\n<p>The short of it is - it's an extremely bad practice, that may be technically possible in certain situations, but extremely few of those apply to real world coding. </p>\n\n<blockquote>\n  <p>The real root of the problem code is: It's fragile. You're mingling unlike things when you do this. And if two of those unlike things happen to have the same name, they'll collide and you'll get the wrong answer. So you end up having a whole long list of names which you have to be careful not to reuse, and if you screw up, you get a very bizarre error. This is precisely the problem that namespaces were invented to solve, and that's just what a hash is: A portable namespace.</p>\n</blockquote>\n\n<p>Just use a hash, and use hash keys as your symbolic reference.</p>\n"}], "owner": {"reputation": 21, "user_id": 6885232, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UbiEnKt8ENs/AAAAAAAAAAI/AAAAAAAAAJg/mISsvXyGguQ/photo.jpg?sz=128", "display_name": "Charlie Bradford", "link": "https://stackoverflow.com/users/6885232/charlie-bradford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 46447055, "answer_count": 2, "score": 0, "last_activity_date": 1506518840, "creation_date": 1506508909, "last_edit_date": 1506510175, "question_id": 46445799, "link": "https://stackoverflow.com/questions/46445799/accessing-a-perl-array-thats-name-is-stored-in-a-string", "title": "Accessing a perl array that&#39;s name is stored in a string", "body": "<p>If I have the name of an array stored in a variable, i.e. </p>\n\n<pre><code>$var = \"@array\"\n</code></pre>\n\n<p>Is there any way for me to access </p>\n\n<pre><code>$array[0] \n</code></pre>\n\n<p>from only this information?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506507102, "post_id": 46445150, "comment_id": 79846030, "body": "Put quotes around your strings."}, {"owner": {"reputation": 13, "user_id": 8460881, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XOuVVlwGb5M/AAAAAAAAAAI/AAAAAAAAFN0/NwCeqBN3L48/photo.jpg?sz=128", "display_name": "Sudhir S", "link": "https://stackoverflow.com/users/8460881/sudhir-s"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506507104, "post_id": 46445150, "comment_id": 79846032, "body": "Note that I tried adding double quotes to paths. Could not succeed"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1506507159, "post_id": 46445150, "comment_id": 79846067, "body": "Double quotes don&#39;t nest. Use single quotes or q() or qq()."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1506507166, "post_id": 46445150, "comment_id": 79846072, "body": "Put your perl in single quotes and the paths in double quotes?"}, {"owner": {"reputation": 13, "user_id": 8460881, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XOuVVlwGb5M/AAAAAAAAAAI/AAAAAAAAFN0/NwCeqBN3L48/photo.jpg?sz=128", "display_name": "Sudhir S", "link": "https://stackoverflow.com/users/8460881/sudhir-s"}, "edited": false, "score": 0, "creation_date": 1506507406, "post_id": 46445150, "comment_id": 79846213, "body": "Perfect choroba.  It worked. My question is looking silly now after reading your answer. Thanks a ton."}, {"owner": {"reputation": 13, "user_id": 8460881, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XOuVVlwGb5M/AAAAAAAAAAI/AAAAAAAAFN0/NwCeqBN3L48/photo.jpg?sz=128", "display_name": "Sudhir S", "link": "https://stackoverflow.com/users/8460881/sudhir-s"}, "edited": false, "score": 0, "creation_date": 1506508122, "post_id": 46445150, "comment_id": 79846697, "body": "I have edited my question to suit my real time scenario.  I have to call perl subroutine from bash script.  I have to pass bash variables as parameters. I am unable to do it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506508242, "post_id": 46445150, "comment_id": 79846778, "body": "Your question is now something completely different. That&#39;s not how we do things here. My answer is now invalid, and will not help future users. You essentially wasted my time, and that of the two other users that commented. If you have a new question, please ask it in a fresh post."}, {"owner": {"reputation": 13, "user_id": 8460881, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XOuVVlwGb5M/AAAAAAAAAAI/AAAAAAAAFN0/NwCeqBN3L48/photo.jpg?sz=128", "display_name": "Sudhir S", "link": "https://stackoverflow.com/users/8460881/sudhir-s"}, "edited": false, "score": 1, "creation_date": 1506508558, "post_id": 46445150, "comment_id": 79846961, "body": "I have corrected it. Sorry for my ignorance."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506511910, "post_id": 46445150, "comment_id": 79849217, "body": "Great, thank you. Now are you going to create a second question for the follow-up? I can answer that, but I didn&#39;t want to do it here as it&#39;s really something else."}, {"owner": {"reputation": 13, "user_id": 8460881, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XOuVVlwGb5M/AAAAAAAAAAI/AAAAAAAAFN0/NwCeqBN3L48/photo.jpg?sz=128", "display_name": "Sudhir S", "link": "https://stackoverflow.com/users/8460881/sudhir-s"}, "edited": false, "score": 0, "creation_date": 1506523348, "post_id": 46445150, "comment_id": 79857240, "body": "hey. I got the answer for my other query as well. Thank you,"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506507393, "post_id": 46445258, "comment_id": 79846206, "body": "Note that for Perl modules (<code>.pm</code> files) the naming convention is that the first letter is captial, the rest is small. Basically <code>ucfirst</code> camel case. All lower case names are reserved for pragmas such as <code>strict</code>, <code>warnings</code>, <code>re</code> or <code>utf8</code>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1506508155, "last_edit_date": 1506508155, "creation_date": 1506507273, "answer_id": 46445258, "question_id": 46445150, "link": "https://stackoverflow.com/questions/46445150/unable-to-call-perl-subroutine-with-paths-as-parameters-from-bash/46445258#46445258", "title": "Unable to call perl subroutine with paths as parameters from bash", "body": "<p>You need to quote your strings. You cannot use double quotes <code>\"\"</code> to do that because you already use them for the shell parameter to the <code>-e</code> flag. Use single quotes <code>''</code> or the quote operators <code>q</code> or <code>qq</code> instead.</p>\n\n<pre><code>$ perl -e \"require 'burt.pm'; file('/u/path', '/u/build');\"\n</code></pre>\n\n<p>It is in general a good idea to use <code>q</code> in one-liners so not to interfere with the shell quoting.</p>\n\n<p>In any case, on Linux systems you probably want to use single quotes <code>''</code> for the Perl program that goes after <code>-e</code>, because the double quotes <code>\"\"</code> enable your shell's quoting mechanism.</p>\n\n<p>In Perl, the double quotes <code>\"\"</code> turn on interpolation, so variables and special characters get filled in. I would write your program like this:</p>\n\n<pre><code>$ perl -e 'require q{burt.pm}; file( q{/u/path}, q{/u/build} );'\n</code></pre>\n\n<p>Also note that Perl programs without the <code>strict</code> pragma will treat barewords as strings, but a slash <code>/</code> is not part of the bareword. Perl probably thinks there is a pattern match or a division going on, and that's a syntax error in this case.</p>\n"}], "owner": {"reputation": 13, "user_id": 8460881, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XOuVVlwGb5M/AAAAAAAAAAI/AAAAAAAAFN0/NwCeqBN3L48/photo.jpg?sz=128", "display_name": "Sudhir S", "link": "https://stackoverflow.com/users/8460881/sudhir-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 46445258, "answer_count": 1, "score": 1, "last_activity_date": 1506508675, "creation_date": 1506507006, "last_edit_date": 1506508675, "question_id": 46445150, "link": "https://stackoverflow.com/questions/46445150/unable-to-call-perl-subroutine-with-paths-as-parameters-from-bash", "title": "Unable to call perl subroutine with paths as parameters from bash", "body": "<p>I am calling perl subroutine with paths as parameters from unix CLI mode.\nBut Getting  Bareword found error. Anyway to get through this. </p>\n\n<pre><code>[ssonnad@cycrh6rtp34 ~/test]**$perl -e \"require qw(./burt.pm) ;file(/u/path,/u/build/);\"**\nBareword found where operator expected at -e line 1, near \"/u/path\"\n    (Missing operator before path?)\nBareword found where operator expected at -e line 1, near \"/u/build\"\n    (Missing operator before build?)\nsyntax error at -e line 1, near \"/u/path\"\nExecution of -e aborted due to compilation errors.\n\n\n    [ssonnad@cycrh6rtp34 ~/test]$ cat burt.pm \n    #!/usr/software/bin/perl5.8.8\n    use strict;\n    sub file\n    {\n      my ($path1, $path2) = @_;\n      print \"path1 $path1\\n\";\n      print \"path2 $path2\\n\";\n    }\n    1;\n</code></pre>\n"}, {"tags": ["regex", "perl", "regex-lookarounds"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1506503864, "post_id": 46443937, "comment_id": 79843776, "body": "What have you tried? What problems are you having? Please show us your code. If you don&#39;t have code, then Stack Overflow is probably not the right place for your question."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8681803, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Cb8ieXDm224/AAAAAAAAAAI/AAAAAAAAAIs/m1SKj0kOslQ/photo.jpg?sz=128", "display_name": "Paul Schoff", "link": "https://stackoverflow.com/users/8681803/paul-schoff"}, "edited": false, "score": 0, "creation_date": 1506508496, "post_id": 46444612, "comment_id": 79846930, "body": "Worked out great. Thanks!"}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 1, "last_activity_date": 1506582423, "last_edit_date": 1506582423, "creation_date": 1506505475, "answer_id": 46444612, "question_id": 46443937, "link": "https://stackoverflow.com/questions/46443937/regex-expression-to-match-numbers-before-a-colon-and-double-quotes/46444612#46444612", "title": "Regex Expression to match numbers before a colon and double quotes", "body": "<p>try this:</p>\n\n<pre><code>(?&lt;=word_count\":)(\\d+)\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<p>using positive lookbehind <code>(?&lt;=</code>  find the match <code>word_count\":</code> and exclude it, and give me all the digits after that using regex <code>\\d+</code></p>\n\n<p>Note as well that in my match, I have no space between <code>\"</code> and <code>:</code> which exactly matches your string. Your string has a space between <code>\"</code> and <code>:</code> which will not match. </p>\n"}], "owner": {"reputation": 1, "user_id": 8681803, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Cb8ieXDm224/AAAAAAAAAAI/AAAAAAAAAIs/m1SKj0kOslQ/photo.jpg?sz=128", "display_name": "Paul Schoff", "link": "https://stackoverflow.com/users/8681803/paul-schoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1506582423, "creation_date": 1506503680, "last_edit_date": 1506504015, "question_id": 46443937, "link": "https://stackoverflow.com/questions/46443937/regex-expression-to-match-numbers-before-a-colon-and-double-quotes", "title": "Regex Expression to match numbers before a colon and double quotes", "body": "<p>I'm trying to get the word count of the web page using Mercury Parser.</p>\n\n<pre><code>&lt;div&gt;&lt;p&gt;Content of the webpage goes here&lt;/p&gt; &lt;/div&gt;\"\",\"next_page_url\":null,\"excerpt\":\"Get started learning all about SEO from the industry's most trusted source, Search Engine Land. Review basics of search engine optimization, ranking factors &amp; more.\",\"word_count\":522,\"direction\":\"ltr\",\"total_pages\":1,\"rendered_pages\":1\n</code></pre>\n\n<p>In the above content, I need to match the number that is preceded by <code>\"word_count\":</code></p>\n\n<p>Let me know what regex expression can I use.</p>\n\n<p>I'm trying, <code>(?&lt;=word_count\" :).*?(?=[100-10000])</code>. Just can't get it right.</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506502281, "post_id": 46443335, "comment_id": 79842756, "body": "try <code>exec &#39;&#47;usr&#47;bin&#47;echo&#39;, &#39;done&#39;;</code>"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1506502511, "post_id": 46443335, "comment_id": 79842901, "body": "are you just trying to send the output of the exectuted command to a file?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506502915, "post_id": 46443335, "comment_id": 79843154, "body": "I tried using Capture::Tiny::Extended, but since it <code>exec</code> never returns that doesn&#39;t work."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1506503427, "post_id": 46443335, "comment_id": 79843488, "body": "I <i>think</i> the <code>&gt;&#47;dev&#47;null</code> is part of the shell. If you run <code>exec &#39;&#47;usr&#47;bin&#47;echo&#39;, &#39;done&#39;</code> no shell is involved, which is the idea of the argument list. And without a shell, there is no way to redirect. You need to find a different way to change the handles that the program gets. But I don&#39;t know how unfortunately."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506503699, "post_id": 46443335, "comment_id": 79843667, "body": "Changing the program&#39;s STDOUT handle via <code>open my $fh, &#39;&gt;&#39;, &#39;foo.out&#39; or die $!; select $fh; exec  &quot;&#47;bin&#47;echo&quot;, &#39;foobar&#39;;</code> does not work either."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506503757, "post_id": 46443335, "comment_id": 79843702, "body": "Relevant: <a href=\"https://stackoverflow.com/q/13784269/1331451\">stackoverflow.com/q/13784269/1331451</a> and <a href=\"https://stackoverflow.com/q/14543443/1331451\">stackoverflow.com/q/14543443/1331451</a>. The latter is way more interesting, but it&#39;s C only. Not sure how to map that to Perl."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506504226, "post_id": 46443335, "comment_id": 79844033, "body": "I think the part that actually does the underlying execvp is <a href=\"https://github.com/Perl/perl5/blob/269a3b2e76d9e7b398d9faa62b30dc6d93dd9476/doio.c#L1918\" rel=\"nofollow noreferrer\">here in the source</a>."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506505181, "post_id": 46443335, "comment_id": 79844715, "body": "@simbabque Thanks for the link, struggling to make sense of it though, what is the fd it is using? Does it just inherit whatever perl was started with ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506505954, "post_id": 46443335, "comment_id": 79845259, "body": "I don&#39;t know I&#39;m afraid. My C is not good enough to understand it in detail. Maybe you can write an XS module to do this before calling the <code>exec</code>. Or maybe you should pick another approach."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506510607, "post_id": 46443335, "comment_id": 79848329, "body": "@simbabque Looks like changing STDOUT does work, just not with <code>select</code> strangely?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506510726, "post_id": 46443335, "comment_id": 79848410, "body": "It makes sense actually. <code>select</code> does not change STDOUT. It changes the handle that Perl uses to write to by default. I didn&#39;t think of that. Well done. :)"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506503190, "post_id": 46443714, "comment_id": 79843342, "body": "Again, <code>exec</code> <b>does not return</b>. It&#39;s like a fork, it runs and forgets. Your <code>print</code> line in the first example will never be reached. In fact, your Perl throws a warning to tell you that.  Run this code, and you&#39;ll see what I mean: <code>perl -E &#39;END{say&quot;end&quot;} exec q{sleep 5 &amp;&amp; echo &quot;foo&quot;}; say &quot;bar&quot;;&#39;</code>"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506504771, "post_id": 46443714, "comment_id": 79844427, "body": "@simbabque My mistake. Fixed."}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1506505607, "last_edit_date": 1506505607, "creation_date": 1506502997, "answer_id": 46443714, "question_id": 46443335, "link": "https://stackoverflow.com/questions/46443335/send-output-from-exec-to-file-perl/46443714#46443714", "title": "Send output from exec to file perl", "body": "<p>I suppose if you just need to print to file, this should work.</p>\n\n<p>easiest possible way to capture the output is by using backticks.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen (my $file, '&gt;', 'output.log');\nmy $pid = fork;\nif (!defined $pid) {\n    die \"Cannot fork: $!\";\n}\nelsif ($pid == 0) {\n    print $file `/usr/bin/echo done`;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "is_accepted": true, "score": 4, "last_activity_date": 1506510437, "creation_date": 1506510437, "answer_id": 46446336, "question_id": 46443335, "link": "https://stackoverflow.com/questions/46443335/send-output-from-exec-to-file-perl/46446336#46446336", "title": "Send output from exec to file perl", "body": "<p>Turns out you can just change the file descriptors before the exec</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $pid = fork;\nif (!defined $pid) {\n    die \"Cannot fork: $!\";\n}\nelsif ($pid == 0) {\n    open STDOUT, \"&gt;\", '/logger/log' or die $!;\n    open STDERR, \"&gt;\", '/logger/log' or die $!;\n    exec \"/usr/bin/echo\",\"done\";\n }\n</code></pre>\n"}], "owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 1, "accepted_answer_id": 46446336, "answer_count": 2, "score": 4, "last_activity_date": 1506510437, "creation_date": 1506501952, "last_edit_date": 1592644375, "question_id": 46443335, "link": "https://stackoverflow.com/questions/46443335/send-output-from-exec-to-file-perl", "title": "Send output from exec to file perl", "body": "<h3>Problem</h3>\n<p>When running exec in perl, I am am unable to redirect the output to a file.</p>\n<p>I am running vlc in the exec but since i doubt everyone has it set up I have replaced with echo below, it shows same behaviour for the example.</p>\n<p>I am only interested in exec 'command','args' format of exec not the one that spawns a shell since it spawns a subshell with vlc which still prints to screen + other problems with killing it cleanly.</p>\n<hr />\n<h3>Code</h3>\n<pre><code>use strict;\nuse warnings;\n\nmy $pid = fork;\nif (!defined $pid) {\n    die &quot;Cannot fork: $!&quot;;\n}\nelsif ($pid == 0) {\n    exec &quot;/usr/bin/echo&quot;,&quot;done&quot;;\n}\n</code></pre>\n<hr />\n<h3>Tried</h3>\n<pre><code>exec &quot;/usr/bin/echo&quot;,&quot;done&quot;,&quot;&gt;/dev/null&quot;;\n</code></pre>\n<p>As expected just prints &quot;&gt;/dev/null&quot;, but was worth a try.</p>\n<pre><code>exec &quot;/usr/bin/echo done &gt;/dev/null&quot;;\n</code></pre>\n<p>Runs sh which then runs echo, works here, but not in my actual problem with vlc, thought i would include anyway since someone will surely suggest it.</p>\n<h3>Question</h3>\n<p>How do I redirect output from this exec when using 'command','args' to a file?</p>\n<h3>Extra</h3>\n<p>Any more info needed please ask.</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1506492457, "post_id": 46440545, "comment_id": 79837276, "body": "You would typically use <code>print &quot;Error: $ARGV[0] changed\\n&quot;</code> or <code>say &quot;...&quot;</code>. As the error message indicates, <code>return</code> is used to return values from a subroutine to its caller."}, {"owner": {"reputation": 5, "user_id": 8676068, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213212090672149/picture?type=large", "display_name": "Hadar Epstein", "link": "https://stackoverflow.com/users/8676068/hadar-epstein"}, "reply_to_user": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1506492994, "post_id": 46440545, "comment_id": 79837518, "body": "how can i catch the string in my shell script?"}, {"owner": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1506493539, "post_id": 46440545, "comment_id": 79837797, "body": "See the <code>$(...)</code> or <code>`...`</code> operators in your local <code>sh</code> man page."}], "answers": [{"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 1, "last_activity_date": 1506493628, "creation_date": 1506493628, "answer_id": 46440852, "question_id": 46440545, "link": "https://stackoverflow.com/questions/46440545/returning-a-string-from-perl-to-bash/46440852#46440852", "title": "returning a string from perl to bash", "body": "<p>Bash does not have the concept of a return value. Instead:</p>\n\n<ul>\n<li><p>Commands have an exit value which indicates success/failure. Exit code zero is success. Perl exits automatically with success if the script does not <code>die()</code>.</p></li>\n<li><p>Commands can write to a file descriptor, e.g. stdout. This output can be redirected and captured by Bash.</p></li>\n</ul>\n\n<p>So if a program (written in Perl or otherwise) wishes to makes data available to Bash, it should print the data.</p>\n\n<p>E.g. if we want to capture all output of a command on stdout:</p>\n\n<pre><code>result=\"$(yourcommand arg1 arg2)\"\n</code></pre>\n\n<p>Often, the output is piped to a different command:</p>\n\n<pre><code>yourcommand arg1 arg2 | grep Error  # all lines including \"Error\"\n</code></pre>\n\n<p>Or written to a file:</p>\n\n<pre><code>yourcommand arg1 arg2 &gt;file.txt\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8676068, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213212090672149/picture?type=large", "display_name": "Hadar Epstein", "link": "https://stackoverflow.com/users/8676068/hadar-epstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 0, "accepted_answer_id": 46440852, "answer_count": 1, "score": -1, "last_activity_date": 1506493628, "creation_date": 1506492275, "question_id": 46440545, "link": "https://stackoverflow.com/questions/46440545/returning-a-string-from-perl-to-bash", "title": "returning a string from perl to bash", "body": "<p>I'm Trying to return a string to my shell script and I get and error :<br>\n <code>Can't return outside a subroutine at ...</code></p>\n\n<pre><code>$result = \"Error: $ARGV[0] changed!\"\nreturn ($result);\n</code></pre>\n\n<p>any ideas on how can i pass it back to my shell?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 1, "last_activity_date": 1506458568, "creation_date": 1506458568, "answer_id": 46435479, "question_id": 46435351, "link": "https://stackoverflow.com/questions/46435351/perl-how-to-designate-rows-starting-with/46435479#46435479", "title": "Perl: how to designate rows starting with &quot;/&quot;", "body": "<p>Change the regexpr delimiter by a character not used inside the regexpr. In this example, I use the <code>!</code> instead of <code>/</code>:</p>\n\n<pre><code>$_=~ m!^/apps.*\\n!\n</code></pre>\n\n<p>or scape the / character:</p>\n\n<pre><code>$_ =~ m/^\\/apps.*\\n/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1506458589, "creation_date": 1506458589, "answer_id": 46435487, "question_id": 46435351, "link": "https://stackoverflow.com/questions/46435351/perl-how-to-designate-rows-starting-with/46435487#46435487", "title": "Perl: how to designate rows starting with &quot;/&quot;", "body": "<p>You can escape meta characters in regular expressions with a blackslash.</p>\n\n<pre><code>m/^\\/apps.*\\n/\n</code></pre>\n\n<p>You can also change the delimiter of your pattern match like this.</p>\n\n<pre><code>m{^/apps.*\\n}\n</code></pre>\n\n<p>You do seem to know that, as you've already done it in your double quoted string further below in your code.</p>\n\n<p>Note that you do not need the <code>$_ =~</code> part if you operate on <code>$_</code>. If you use <code>m//</code> it's implied to be on <code>$_</code>.</p>\n"}], "owner": {"reputation": 419, "user_id": 7827425, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c5a53332c8a16d3d3cfe645f8177fbaf?s=128&d=identicon&r=PG&f=1", "display_name": "mf94", "link": "https://stackoverflow.com/users/7827425/mf94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 46435487, "answer_count": 2, "score": 2, "last_activity_date": 1506507255, "creation_date": 1506458099, "last_edit_date": 1506507255, "question_id": 46435351, "link": "https://stackoverflow.com/questions/46435351/perl-how-to-designate-rows-starting-with", "title": "Perl: how to designate rows starting with &quot;/&quot;", "body": "<p>I have a file called <code>list.txt</code> which looks like so: (it has over 500 rows)</p>\n\n<pre><code>/apps/gtool/0.7.5/gtool -M --g gen1.txt etc\n/apps/gtool/0.7.5/gtool -M --g gen2.txt etc\n/apps/gtool/0.7.5/gtool -M --g gen3.txt etc\n</code></pre>\n\n<p>I want to make .sh script with each line of list.txt. I can do this in Perl but I have an issue as I don't know how to <em>designate</em> a line starting with <code>/</code></p>\n\n<p>My script is as follows:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen (IN, \"&lt;list_for_merging_chunks.sh\");\nwhile (&lt;IN&gt;)\n{\n    if ($_=~ m/^/apps.*\\n/)\n    {\n    my $file = $_;\n    $file =~ s/.*\\&gt; //;\n    $file =~ s/\\.txt/.sh/;\n    $file =~ s/\\n//;\n    open (OUT, \"&gt;$file\");\n    print OUT \"\\#!/bin/bash\\n\\#BSUB -J \\\"$file\\\"\\n\\#BSUB -o \n/scratch/home/\\n\\#BSUB -e /scratch/home/$file\\.out\\n#BSUB -n 1\\n\\#BSUB -q \nnormal\\n\\#BSUB -P DBCDOBZAK\\n\\#BSUB -W 168:00\\n\";\n    print OUT $_;\n    close OUT;\n    }\n\n}\n\nexit;\n</code></pre>\n\n<p>I get an error: </p>\n\n<pre><code>Bareword found where operator expected at merging_chunks.pl line 7, near \"*\\n\"\n    (Missing operator before n?)\n\"my\" variable $file masks earlier declaration in same statement at \nmerging_chunks.pl line 10.\n\"my\" variable $file masks earlier declaration in same scope at \nmerging_chunks.pl line 11.\n\"my\" variable $file masks earlier declaration in same scope at \nmerging_chunks.pl line 12.\n\"my\" variable $file masks earlier declaration in same scope at \nmerging_chunks.pl line 14.\n\"my\" variable $file masks earlier declaration in same scope at \nmerging_chunks.pl line 15.\n\"my\" variable $file masks earlier declaration in same statement at \nmerging_chunks.pl line 15.\n\"my\" variable $file masks earlier declaration in same statement at \nmerging_chunks.pl line 15.\n\"my\" variable $_ masks earlier declaration in same scope at merging_chunks.pl \nline 16.\nsyntax error at merging_chunks.pl line 7, near \"*\\n\"\nsyntax error at merging_chunks.pl line 20, near \"}\"\nExecution of merging_chunks.pl aborted due to compilation errors.\n</code></pre>\n\n<p>I think this is to do with this file: <code>if ($_=~ m/^/apps.*\\n/)</code>\nIt doesn't seem to like the fact it starts with a <code>/</code>. Is there anyway I can get around this? I'm assuming there is a special character I could use to somehow tell Perl? Many thanks.</p>\n"}, {"tags": ["perl", "split"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506457265, "post_id": 46433909, "comment_id": 79827500, "body": "Very nice answer. However, I think you missed a little bit. The <code>@pair</code> (or <code>$num1</code> and <code>$num2</code>) variable is lexical and nothing is done with it. OP needs to actually use it, print it or whatever."}], "tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": false, "score": 0, "last_activity_date": 1506457218, "last_edit_date": 1506457218, "creation_date": 1506452298, "answer_id": 46433909, "question_id": 46433235, "link": "https://stackoverflow.com/questions/46433235/reading-from-a-textfile-and-putting-information-into-an-array/46433909#46433909", "title": "Reading from a textfile and putting information into an array", "body": "<p>You are on the right track but may benefit by typing</p>\n\n<pre><code>perldoc -f split\n</code></pre>\n\n<p>Perl has excellent built-in documentation.\nI would change your lines:</p>\n\n<pre><code>foreach ($row) {\n  my @pair = split('s+', $_);\n}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>my @pair = split(/\\s+/, $row);\n</code></pre>\n\n<p>and set <code>$num1</code> and <code>$num2</code> to <code>$pair[0]</code> and <code>$pair[1]</code> ... or simply use:</p>\n\n<pre><code>my ($num1, $num2) = split(/\\s+/, $row);\n</code></pre>\n\n<p>to get the two scalars you are interested in directly.<br>\nIn other words, you do not need the <code>foreach $row</code> line (you already have <code>$row</code>) and it is <code>\\s</code> that is the shorthand pattern match for whitespace. \nGood luck and have fun!</p>\n"}], "owner": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506457218, "creation_date": 1506449771, "last_edit_date": 1506450832, "question_id": 46433235, "link": "https://stackoverflow.com/questions/46433235/reading-from-a-textfile-and-putting-information-into-an-array", "title": "Reading from a textfile and putting information into an array", "body": "<p>I'm trying to calculate the GCD of true random numbers using random.org and grabbing those numbers from a text file. Here is a program to do the above with a PRNG that I created earlier.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $range = 100;\nmy $gcdcount = 0;\nsub gcd_iter($$) {\n    my ($u, $v) = @_;\n    while ($v) {\n       ($u, $v) = ($v, $u % $v);\n    }\n    return abs($u);\n}\nfor (my $count=0; $count&lt;=5000; $count++) {\n    my $random_numx = int(rand($range));\n    my $random_numy = int(rand($range));\n    my @pair = ($random_numx, $random_numy);\n    if (gcd_iter($random_numx, $random_numy) == 1) {\n        $gcdcount++; \n    }\n}\nprint \"The GCD Count for PRNG #1 is $gcdcount\\n\";\n</code></pre>\n\n<p>I'm pretty much doing the same exact thing, but grabbing the numbers from the textfile. How do I get those number pairs into a format where I can assign them variables in order to put them through the formula after I split the lines? Here is what I have so far:</p>\n\n<pre><code>my $filename = 'xxxxx';\nopen(my $fh, $filename)\nor die \"Could not open file '$filename' $!\";\nsub gcd_iter($$) {\n     my ($u, $v) = @_;\n     while ($v) {\n         ($u, $v) = ($v, $u % $v);\n    }\n    return abs($u);\n}\nfor (my $count=0; $count&lt;=5000; $count++) {\n     if (gcd_iter($) == 1) {\n         $gcdcount++; \n     }\n}\nwhile (my $row = &lt;$fh&gt;) {\n    chomp $row;\n    foreach ($row) {\n        my @pair = split('s+', $_);     \n    }\n}\n</code></pre>\n"}, {"tags": ["oracle", "postgresql", "perl", "migration", "ora2pg"], "comments": [{"owner": {"reputation": 4133, "user_id": 836215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96343cdb1ae4d50aa89067f4427dccca?s=128&d=identicon&r=PG", "display_name": "ibre5041", "link": "https://stackoverflow.com/users/836215/ibre5041"}, "edited": false, "score": 0, "creation_date": 1506456279, "post_id": 46432327, "comment_id": 79827046, "body": "simply get cygwin"}, {"owner": {"reputation": 22511, "user_id": 1599619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KJvfU.jpg?s=128&g=1", "display_name": "Chris Travers", "link": "https://stackoverflow.com/users/1599619/chris-travers"}, "edited": false, "score": 0, "creation_date": 1506518264, "post_id": 46432327, "comment_id": 79853442, "body": "It may depend on the version of Windows but I would expect that there are ports of bash available for Windows besides Cygwin."}], "owner": {"reputation": 11, "user_id": 8677985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca36900c691eb111bc403424ba14875a?s=128&d=identicon&r=PG&f=1", "display_name": "ivan", "link": "https://stackoverflow.com/users/8677985/ivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1581070554, "creation_date": 1506446127, "last_edit_date": 1506518128, "question_id": 46432327, "link": "https://stackoverflow.com/questions/46432327/ora2pg-export-schema-problems", "title": "Ora2pg export schema problems", "body": "<p>I try to migrate from Oracle to PostgreSQL with <code>ora2pg</code> on Windows.\nWhen the migration template generated,I try to run <code>export_schema</code> script in <code>perl</code>.\nBut .sh-expansion not supported.\nChange expansion to <code>.pl</code> and run this script leads to errors.</p>\n\n<p>How correctly run and force this script works on Windows?\nMaybe somebody already decided this problem.\nThanks!</p>\n"}, {"tags": ["perl", "timestamp", "posix", "gmt"], "comments": [{"owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1506442448, "post_id": 46430445, "comment_id": 79819859, "body": "use POSIX allows for str2time."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506443341, "post_id": 46430445, "comment_id": 79820370, "body": "I don&#39;t see that in POSIX docs (v5.16 and v5.27) ..."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1506443490, "post_id": 46430445, "comment_id": 79820446, "body": "@rwfitzy ? I have get <code>Undefined subroutine &amp;main::str2time called at ...</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506444940, "post_id": 46430445, "comment_id": 79821235, "body": "POSIX.pm doesn&#39;t have any date-parsing utilities; it&#39;s not the best suited module for the job."}, {"owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "edited": false, "score": 0, "creation_date": 1506445363, "post_id": 46430445, "comment_id": 79821464, "body": "Sorry, I see now it was actually coming from had Date::Parse used as well. Given this should be about that module instead of POSIX now, the solution was very simple to use gmtime instead of localtime as in gmtime(str2time($shipts)). Works!"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506455356, "post_id": 46431501, "comment_id": 79826624, "body": "@ikegami  Thank you. I&#39;ve edited, with the info on your post that I now found which directly deals with that error (and another old post that this is apparently a dupe of). I&#39;ll add more suitable links if I find them. (I cleared some of my comments to make your warning more visible.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506455693, "post_id": 46431501, "comment_id": 79826786, "body": "@ikegami  If I may bug you with a question. I&#39;ve written a utility subclassing <code>Time::Piece</code> (carefully!) for particular uses here, and it works like a charm.  But I could never find piece with this:  Are there any glitches to this module, with edge cases, DST, days-without-midnight, or such?  (Not counting trickiness and user errors.)  I am thinking of fairly basic uses, for world-wide datetimes within the last century or so.  I&#39;ve searched and searched and found nothing to worry about but this is a tricky business.  While one can&#39;t ask something like that here :("}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506458586, "post_id": 46431501, "comment_id": 79828131, "body": "It uses <code>localtime</code> for time zone stuff, so no issues of interest there. The problem with T::P is that it&#39;s easy to do things incorrectly with it. It&#39;s an API design failure, not a bug in the code. Subclassing might inherit those problems. Encapsulation might not."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506466221, "post_id": 46431501, "comment_id": 79830791, "body": "@ikegami  Thank you very much for clearing that finally!  And for the tip -- I got drawn to conveniencies but then I <i>am</i> exposing the tricky parts this way, too (while I don&#39;t need all that).  It&#39;s time to time things.."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1506615709, "last_edit_date": 1506615709, "creation_date": 1506443075, "answer_id": 46431501, "question_id": 46430445, "link": "https://stackoverflow.com/questions/46430445/converting-timestamp-to-gmt-with-posix/46431501#46431501", "title": "Converting timestamp to GMT with POSIX", "body": "<p>The <code>POSIX</code> alone cannot do this, not without help from builtins and a little processing.</p>\n\n<p>An alternative: <a href=\"http://perldoc.perl.org/Time/Piece.html\" rel=\"nofollow noreferrer\">Time::Piece</a> is core, and in my experience much quicker than POSIX</p>\n\n<pre><code>perl -MTime::Piece -wE'\n    $d = \"2017-09-23 20:53:00\"; \n    $t = localtime-&gt;strptime($d, \"%Y-%m-%d %H:%M:%S\");\n    $t = gmtime($t-&gt;epoch);\n    say $t-&gt;strftime(\"%Y-%m-%d %H:%M:%S\");\n'\n</code></pre>\n\n<p>This creates an object and then converts it to GMT using the module's (compatible) replacement for <code>gmtime</code>, returing an object which is also suitably flagged as GMT. </p>\n\n<p>The <code>strftime</code> is the same but much lighter than the POSIX extension and <code>strptime</code> is \n<a href=\"http://www.unix.com/man-page/FreeBSD/3/strftime/\" rel=\"nofollow noreferrer\">from FreeBSD</a>.\nThe module also has many methods to get various parts or representations of the datetime object as a string, along with a few other utilities. See also <a href=\"http://perldoc.perl.org/Time/Seconds.html\" rel=\"nofollow noreferrer\">Time::Seconds</a>.</p>\n\n<p>The <a href=\"http://search.cpan.org/~drolsky/DateTime-1.44/lib/DateTime.pm\" rel=\"nofollow noreferrer\">DateTime</a> does all this nicely, via its <a href=\"http://search.cpan.org/~drolsky/DateTime-1.44/lib/DateTime.pm#Formatters_And_Stringification\" rel=\"nofollow noreferrer\">formatters</a> for parsing and stringification. But it is heavy.</p>\n\n<hr>\n\n<p><strong>Note</strong> &nbsp; It is rather easy to end up using this module incorrectly, and this answer did just that before <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> fixed it. So please be very careful with any uses other than basic.  See linked answers</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/a/36729129/4653379\">(answer): How to make Time::Piece respect DST when converting localtime to UTC?</a><br>\nfor a full account of a possible DST-related error when converting time zones.</p></li>\n<li><p><a href=\"https://stackoverflow.com/a/411795/4653379\">(answer): How can I parse dates and convert time zones in Perl?</a><br>\nwhich as it turns out in fact covers this question.</p></li>\n</ul>\n\n<p><em>Note that the answer above does not work in v5.10</em>, apparently due to a then-bug in the module.</p>\n"}], "owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "accepted_answer_id": 46431501, "answer_count": 1, "score": -1, "last_activity_date": 1602306034, "creation_date": 1506439659, "last_edit_date": 1602306034, "question_id": 46430445, "link": "https://stackoverflow.com/questions/46430445/converting-timestamp-to-gmt-with-posix", "title": "Converting timestamp to GMT with POSIX", "body": "<p>Is it possible to convert a given timestamp to GMT in Perl using the POSIX module? Below is what I've tried, but not sure why the time is so far off...</p>\n\n<pre><code>use POSIX;\nmy $shipts = \"2017-09-23 20:53:00\";\nmy $shiptsgmt = strftime(\"%Y-%m-%d %R\", localtime(str2time($shipts, 'GMT')));\nprint \"$shiptsgmt\\n\";\n</code></pre>\n\n<p>The localtime of the server is Pacific time, guess what I'm trying to do is not correct. The above produces 2017-09-23 13:53 and I need 2017-09-24 03:53 time.</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506437977, "post_id": 46429248, "comment_id": 79816831, "body": "Please copy and paste the error message. It looks like you forgot a word."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506438035, "post_id": 46429248, "comment_id": 79816867, "body": "Did you read <i>/root/.cpanm/build.log</i> to see what the problem is? From the modules that failed, I&#39;m guessing you are probably missing a system package with libxml2 or something similar for the HTML parser."}, {"owner": {"reputation": 25, "user_id": 8676958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c12288cb764229e44155d2516b9f458?s=128&d=identicon&r=PG&f=1", "display_name": "user1443543", "link": "https://stackoverflow.com/users/8676958/user1443543"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506442536, "post_id": 46429248, "comment_id": 79819918, "body": "Yes, but in /root/.cpanm/build.log  I didn&#39;t find anything useful. There are error messages about failing dependencies like <code>FAIL Bailing out the installation for DBD-SQLite-1.54. Retry with --prompt or --force.</code> and I couldn&#39;t install them as well <code>Building and testing DBI-1.637 ... FAIL ! Installing DBI failed. See &#47;root&#47;.cpanm&#47;build.log for details. ! Bailing out the installation for DBD-SQLite-1.54. Retry with --prompt or --force.</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506443293, "post_id": 46429248, "comment_id": 79820346, "body": "Try installing just one of those, and look at the logs."}, {"owner": {"reputation": 25, "user_id": 8676958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c12288cb764229e44155d2516b9f458?s=128&d=identicon&r=PG&f=1", "display_name": "user1443543", "link": "https://stackoverflow.com/users/8676958/user1443543"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506450269, "post_id": 46429248, "comment_id": 79824031, "body": "Thank you! investigation of logs of one the dependency modules helped me to discover that there was missing cc compiler. The issue is resolved now."}], "owner": {"reputation": 25, "user_id": 8676958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c12288cb764229e44155d2516b9f458?s=128&d=identicon&r=PG&f=1", "display_name": "user1443543", "link": "https://stackoverflow.com/users/8676958/user1443543"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1506443241, "creation_date": 1506436240, "last_edit_date": 1506443241, "question_id": 46429248, "link": "https://stackoverflow.com/questions/46429248/failed-installation-asp4modperl-asp4xrouter-perl-modules", "title": "Failed installation ASP4::ModPerl &amp; ASP4x::Router perl modules", "body": "<p>I'm trying to install the ASP4::ModPerl and ASP4x::Router Perl modules using cpanminus but the installation failed with error \"! Bailing out the installation for ASP4-1.087\". Looks like some dependencies failed. But when I try to install that failed dependencies they fail with the same error.\n<code>--force</code> flag didn't help</p>\n\n<p>OS: ubuntu:12.04 \nPerl version (v5.14.2)</p>\n\n<p>Here its output</p>\n\n<pre><code>root@153b5b0c1c09:/# cpanm ASP4::ModPerl\n--&gt; Working on ASP4::ModPerl\nFetching http://search.cpan.org/CPAN/authors/id/J/JO/JOHND/ASP4-1.087.tar.gz ... OK\nConfiguring ASP4-1.087 ... OK\n==&gt; Found dependencies: Test::Memory::Cycle, JSON::XS, Ima::DBI::Contextual, Term::ReadKey, DBI, HTML::Form, HTTP::Body, HTTP::Date, Data::Properties::JSON, Mail::Sendmail, common::sense, Data::Properties::YAML\n--&gt; Working on Test::Memory::Cycle\nFetching http://search.cpan.org/CPAN/authors/id/P/PE/PETDANCE/Test-Memory-Cycle-1.06.tar.gz ... OK\nConfiguring Test-Memory-Cycle-1.06 ... OK\n==&gt; Found dependencies: PadWalker, Devel::Cycle\n--&gt; Working on PadWalker\nFetching http://search.cpan.org/CPAN/authors/id/R/RO/ROBIN/PadWalker-2.2.tar.gz ... OK\nConfiguring PadWalker-2.2 ... OK\nBuilding and testing PadWalker-2.2 ... FAIL\n! Installing PadWalker failed. See /root/.cpanm/build.log for details.\n--&gt; Working on Devel::Cycle\nFetching http://search.cpan.org/CPAN/authors/id/L/LD/LDS/Devel-Cycle-1.12.tar.gz ... OK\nConfiguring Devel-Cycle-1.12 ... OK\nBuilding and testing Devel-Cycle-1.12 ... OK\nSuccessfully installed Devel-Cycle-1.12\n! Bailing out the installation for Test-Memory-Cycle-1.06. Retry with --prompt or --force.\n--&gt; Working on JSON::XS\nFetching http://search.cpan.org/CPAN/authors/id/M/ML/MLEHMANN/JSON-XS-3.04.tar.gz ... OK\n==&gt; Found dependencies: Canary::Stability\n--&gt; Working on Canary::Stability\nFetching http://search.cpan.org/CPAN/authors/id/M/ML/MLEHMANN/Canary-Stability-2012.tar.gz ... OK\nConfiguring Canary-Stability-2012 ... OK\nBuilding and testing Canary-Stability-2012 ... OK\nSuccessfully installed Canary-Stability-2012\nConfiguring JSON-XS-3.04 ... OK\n==&gt; Found dependencies: Types::Serialiser, common::sense\n--&gt; Working on Types::Serialiser\nFetching http://search.cpan.org/CPAN/authors/id/M/ML/MLEHMANN/Types-Serialiser-1.0.tar.gz ... OK\nConfiguring Types-Serialiser-1.0 ... OK\n==&gt; Found dependencies: common::sense\n--&gt; Working on common::sense\nFetching http://search.cpan.org/CPAN/authors/id/M/ML/MLEHMANN/common-sense-3.74.tar.gz ... OK\nConfiguring common-sense-3.74 ... OK\nBuilding and testing common-sense-3.74 ... OK\nSuccessfully installed common-sense-3.74\nBuilding and testing Types-Serialiser-1.0 ... OK\nSuccessfully installed Types-Serialiser-1.0\nBuilding and testing JSON-XS-3.04 ... FAIL\n! Installing JSON::XS failed. See /root/.cpanm/build.log for details.\n--&gt; Working on Ima::DBI::Contextual\nFetching http://search.cpan.org/CPAN/authors/id/J/JO/JOHND/Ima-DBI-Contextual-1.006.tar.gz ... OK\nConfiguring Ima::DBI::Contextual-1.006 ... OK\n==&gt; Found dependencies: DBD::SQLite, DBI\n--&gt; Working on DBD::SQLite\nFetching http://search.cpan.org/CPAN/authors/id/I/IS/ISHIGAKI/DBD-SQLite-1.54.tar.gz ... OK\n==&gt; Found dependencies: DBI\n--&gt; Working on DBI\nFetching http://search.cpan.org/CPAN/authors/id/T/TI/TIMB/DBI-1.637.tar.gz ... OK\nConfiguring DBI-1.637 ... OK\nBuilding and testing DBI-1.637 ... FAIL\n! Installing DBI failed. See /root/.cpanm/build.log for details.\n! Bailing out the installation for DBD-SQLite-1.54. Retry with --prompt or --force.\n! Bailing out the installation for Ima-DBI-Contextual-1.006. Retry with --prompt or --force.\n--&gt; Working on Term::ReadKey\nFetching http://search.cpan.org/CPAN/authors/id/J/JS/JSTOWE/TermReadKey-2.37.tar.gz ... OK\n==&gt; Found dependencies: ExtUtils::MakeMaker\n--&gt; Working on ExtUtils::MakeMaker\nFetching http://search.cpan.org/CPAN/authors/id/B/BI/BINGOS/ExtUtils-MakeMaker-7.30.tar.gz ... OK\nConfiguring ExtUtils-MakeMaker-7.30 ... OK\nBuilding and testing ExtUtils-MakeMaker-7.30 ... OK\nSuccessfully installed ExtUtils-MakeMaker-7.30 (upgraded from 6.57_05)\nConfiguring TermReadKey-2.37 ... OK\nBuilding and testing TermReadKey-2.37 ... FAIL\n! Installing Term::ReadKey failed. See /root/.cpanm/build.log for details.\n--&gt; Working on HTML::Form\nFetching http://search.cpan.org/CPAN/authors/id/G/GA/GAAS/HTML-Form-6.03.tar.gz ... OK\nConfiguring HTML-Form-6.03 ... OK\n==&gt; Found dependencies: URI, HTML::TokeParser, HTTP::Request, HTTP::Request::Common\n--&gt; Working on URI\nFetching http://search.cpan.org/CPAN/authors/id/E/ET/ETHER/URI-1.72.tar.gz ... OK\nConfiguring URI-1.72 ... OK\n==&gt; Found dependencies: Test::Needs\n--&gt; Working on Test::Needs\nFetching http://search.cpan.org/CPAN/authors/id/H/HA/HAARG/Test-Needs-0.002005.tar.gz ... OK\nConfiguring Test-Needs-0.002005 ... OK\nBuilding and testing Test-Needs-0.002005 ... OK\nSuccessfully installed Test-Needs-0.002005\nBuilding and testing URI-1.72 ... OK\nSuccessfully installed URI-1.72\n--&gt; Working on HTML::TokeParser\nFetching http://search.cpan.org/CPAN/authors/id/G/GA/GAAS/HTML-Parser-3.72.tar.gz ... OK\nConfiguring HTML-Parser-3.72 ... OK\n==&gt; Found dependencies: HTML::Tagset\n--&gt; Working on HTML::Tagset\nFetching http://search.cpan.org/CPAN/authors/id/P/PE/PETDANCE/HTML-Tagset-3.20.tar.gz ... OK\nConfiguring HTML-Tagset-3.20 ... OK\nBuilding and testing HTML-Tagset-3.20 ... OK\nSuccessfully installed HTML-Tagset-3.20\nBuilding and testing HTML-Parser-3.72 ... FAIL\n! Installing HTML::TokeParser failed. See /root/.cpanm/build.log for details.\n--&gt; Working on HTTP::Request\nFetching http://search.cpan.org/CPAN/authors/id/O/OA/OALDERS/HTTP-Message-6.13.tar.gz ... OK\nConfiguring HTTP-Message-6.13 ... OK\n==&gt; Found dependencies: LWP::MediaTypes, Encode::Locale, IO::HTML, HTTP::Date\n--&gt; Working on LWP::MediaTypes\nFetching http://search.cpan.org/CPAN/authors/id/G/GA/GAAS/LWP-MediaTypes-6.02.tar.gz ... OK\nConfiguring LWP-MediaTypes-6.02 ... OK\nBuilding and testing LWP-MediaTypes-6.02 ... OK\nSuccessfully installed LWP-MediaTypes-6.02\n--&gt; Working on Encode::Locale\nFetching http://search.cpan.org/CPAN/authors/id/G/GA/GAAS/Encode-Locale-1.05.tar.gz ... OK\nConfiguring Encode-Locale-1.05 ... OK\nBuilding and testing Encode-Locale-1.05 ... OK\nSuccessfully installed Encode-Locale-1.05\n--&gt; Working on IO::HTML\nFetching http://search.cpan.org/CPAN/authors/id/C/CJ/CJM/IO-HTML-1.001.tar.gz ... OK\nConfiguring IO-HTML-1.001 ... OK\nBuilding and testing IO-HTML-1.001 ... OK\nSuccessfully installed IO-HTML-1.001\n--&gt; Working on HTTP::Date\nFetching http://search.cpan.org/CPAN/authors/id/G/GA/GAAS/HTTP-Date-6.02.tar.gz ... OK\nConfiguring HTTP-Date-6.02 ... OK\nBuilding and testing HTTP-Date-6.02 ... OK\nSuccessfully installed HTTP-Date-6.02\nBuilding and testing HTTP-Message-6.13 ... OK\nSuccessfully installed HTTP-Message-6.13\n! Bailing out the installation for HTML-Form-6.03. Retry with --prompt or --force.\n--&gt; Working on HTTP::Body\nFetching http://search.cpan.org/CPAN/authors/id/G/GE/GETTY/HTTP-Body-1.22.tar.gz ... OK\nConfiguring HTTP-Body-1.22 ... OK\n==&gt; Found dependencies: Test::Deep\n--&gt; Working on Test::Deep\nFetching http://search.cpan.org/CPAN/authors/id/R/RJ/RJBS/Test-Deep-1.127.tar.gz ... OK\nConfiguring Test-Deep-1.127 ... OK\n==&gt; Found dependencies: Test::Tester\n--&gt; Working on Test::Tester\nFetching http://search.cpan.org/CPAN/authors/id/E/EX/EXODIST/Test-Simple-1.302096.tar.gz ... OK\nConfiguring Test-Simple-1.302096 ... OK\nBuilding and testing Test-Simple-1.302096 ... OK\nSuccessfully installed Test-Simple-1.302096\nPackage 'Test2::Util::HashBase' already declared with version '0.005',\nignoring subsequent declaration on line 18.\nBuilding and testing Test-Deep-1.127 ... OK\nSuccessfully installed Test-Deep-1.127\nBuilding and testing HTTP-Body-1.22 ... OK\nSuccessfully installed HTTP-Body-1.22\n--&gt; Working on Data::Properties::JSON\nFetching http://search.cpan.org/CPAN/authors/id/J/JO/JOHND/Data-Properties-JSON-0.004.tar.gz ... OK\nConfiguring Data-Properties-JSON-0.004 ... OK\n==&gt; Found dependencies: JSON::XS\nBuilding and testing Data-Properties-JSON-0.004 ... FAIL\n! Installing Data::Properties::JSON failed. See /root/.cpanm/build.log for details.\n--&gt; Working on Mail::Sendmail\nFetching http://search.cpan.org/CPAN/authors/id/N/NE/NEILB/Mail-Sendmail-0.80.tar.gz ... OK\nConfiguring Mail-Sendmail-0.80 ... OK\nBuilding and testing Mail-Sendmail-0.80 ... OK\nSuccessfully installed Mail-Sendmail-0.80\n--&gt; Working on Data::Properties::YAML\nFetching http://search.cpan.org/CPAN/authors/id/J/JO/JOHND/Data-Properties-YAML-0.04.tar.gz ... OK\nConfiguring Data-Properties-YAML-0.04 ... OK\n==&gt; Found dependencies: YAML\n--&gt; Working on YAML\nFetching http://search.cpan.org/CPAN/authors/id/I/IN/INGY/YAML-1.23.tar.gz ... OK\nConfiguring YAML-1.23 ... OK\n==&gt; Found dependencies: Test::YAML\n--&gt; Working on Test::YAML\nFetching http://search.cpan.org/CPAN/authors/id/I/IN/INGY/Test-YAML-1.06.tar.gz ... OK\nConfiguring Test-YAML-1.06 ... OK\n==&gt; Found dependencies: Test::Base\n--&gt; Working on Test::Base\nFetching http://search.cpan.org/CPAN/authors/id/I/IN/INGY/Test-Base-0.88.tar.gz ... OK\nConfiguring Test-Base-0.88 ... OK\n==&gt; Found dependencies: Text::Diff, Algorithm::Diff, Spiffy\n--&gt; Working on Text::Diff\nFetching http://search.cpan.org/CPAN/authors/id/N/NE/NEILB/Text-Diff-1.45.tar.gz ... OK\nConfiguring Text-Diff-1.45 ... OK\n==&gt; Found dependencies: Algorithm::Diff\n--&gt; Working on Algorithm::Diff\nFetching http://search.cpan.org/CPAN/authors/id/T/TY/TYEMQ/Algorithm-Diff-1.1903.tar.gz ... OK\nConfiguring Algorithm-Diff-1.1903 ... OK\nBuilding and testing Algorithm-Diff-1.1903 ... OK\nSuccessfully installed Algorithm-Diff-1.1903\nBuilding and testing Text-Diff-1.45 ... OK\nSuccessfully installed Text-Diff-1.45\n--&gt; Working on Spiffy\nFetching http://search.cpan.org/CPAN/authors/id/I/IN/INGY/Spiffy-0.46.tar.gz ... OK\nConfiguring Spiffy-0.46 ... OK\nBuilding and testing Spiffy-0.46 ... OK\nSuccessfully installed Spiffy-0.46\nBuilding and testing Test-Base-0.88 ... OK\nSuccessfully installed Test-Base-0.88\nBuilding and testing Test-YAML-1.06 ... OK\nSuccessfully installed Test-YAML-1.06\nBuilding and testing YAML-1.23 ... OK\nSuccessfully installed YAML-1.23\nBuilding and testing Data-Properties-YAML-0.04 ... OK\nSuccessfully installed Data-Properties-YAML-0.04\n! Bailing out the installation for ASP4-1.087. Retry with --prompt or --force.\n24 distributions installed\n</code></pre>\n\n<p>and only error messages from /root/.cpanm/build.log </p>\n\n<pre><code>-&gt; FAIL Installing JSON::XS failed. See /root/.cpanm/build.log for details.\n-&gt; FAIL Installing DBI failed. See /root/.cpanm/build.log for details.\n-&gt; FAIL Bailing out the installation for DBD-SQLite-1.54. Retry with --prompt or --force.\n-&gt; FAIL Bailing out the installation for Ima::DBI::Contextual-1.006. Retry with --prompt or --force.\n-&gt; FAIL Installing Term::ReadKey failed. See /root/.cpanm/build.log for details.\n-&gt; FAIL Installing HTML::TokeParser failed. See /root/.cpanm/build.log for details.\n-&gt; FAIL Bailing out the installation for HTML-Form-6.03. Retry with --prompt or --force.\n-&gt; FAIL Bailing out the installation for ASP4-1.087. Retry with --prompt or --force.\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506437599, "post_id": 46429681, "comment_id": 79816552, "body": "what&#39;s a GLOB file handle ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506437733, "post_id": 46429681, "comment_id": 79816652, "body": "@Vicky please read <a href=\"https://stackoverflow.com/a/46426294/1331451\">my answer to your previous question</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1506438102, "post_id": 46429681, "comment_id": 79816928, "body": "Actually, it&#39;s unlikely to break a program. Things that expect handles usually accept ref to IO objects (<code>*STDOUT{IO}</code>), globs (<code>*STDOUT</code>) and reference to globs (<code>\\*STDOUT</code>)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506438158, "post_id": 46429681, "comment_id": 79816972, "body": "@ikegami better safe than sorry I guess."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1506438189, "post_id": 46429681, "comment_id": 79816993, "body": "If you want to be safe, you want a ref to glob (<code>\\*STDOUT</code>), because that&#39;s what <code>open(my $fh, ...)</code> puts in <code>$fh</code>."}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506438666, "post_id": 46429681, "comment_id": 79817321, "body": "@simbabque, sorry I did not understand this part &quot;lexical filehandles instead of the global GLOB filehandle&quot; . What is lexical file handle and what is GLOB file handle ? sorry I thought there is only just file handle in perl :)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506438825, "post_id": 46429681, "comment_id": 79817438, "body": "@Vicky do you know what it means when a variable is lexical?"}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506438979, "post_id": 46429681, "comment_id": 79817540, "body": "@simbabque, yes when it is only available inside current block , in perl it is done by my keyword"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506439194, "post_id": 46429681, "comment_id": 79817686, "body": "@Vicky exactly. If you use <code>my $fh</code> as your file handle, it&#39;s the same. It&#39;s only available in the current scope and it will be <code>close</code>d automatically at the end of that scope. But the glob will not. If you forget to <code>close</code>, it&#39;s there until the program exits, and because it&#39;s a glob it is accessible from every other place in your program."}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506440118, "post_id": 46429681, "comment_id": 79818351, "body": "So why not just $self-&gt;{FILEH}=FILE? What&#39;s the difference in FILE and *FILE?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506440639, "post_id": 46429681, "comment_id": 79818698, "body": "The FILE in this case is going to be treated as a bareword, so Perl will look it up as a function, which doesn&#39;t exist. Useing bareword filehandles only works in places where the syntax allows them."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1506438180, "last_edit_date": 1506438180, "creation_date": 1506437405, "answer_id": 46429681, "question_id": 46428842, "link": "https://stackoverflow.com/questions/46428842/pointer-of-a-file-handle-in-perl/46429681#46429681", "title": "Pointer of a file handle in perl", "body": "<p><strong>No</strong>, it cannot be replaced with <code>\\FILE</code>.</p>\n\n<p>The <code>FILE</code> has different meanings. I'll try to explain each of them per line.</p>\n\n<pre><code>open(FILE, \"&gt;\" ,$file ); # GLOB file handle\nFILE-&gt;autoflush;         # GLOB gets magically converted to an IO::Handle object\n$self-&gt;{FILEH} = *FILE;  # accessing the typeglob as a typeglob\n</code></pre>\n\n<p>There are three different things at work here. </p>\n\n<p>When you <code>open</code> the filehandle, it's just a GLOB. Essentially that is a filehandle that is global in your program.</p>\n\n<p>In the next line, you call a method on the GLOB filehandle. Perl is smart, and upgrades the filehandle to an IO::Handle object, so it can call the method for you.</p>\n\n<p>In the third line, the typeglob is assigned to a property of your object. In this case, the typeglob itself is a thing that's being assigned. But it's not a reference. This shows how weird typeglobs are, and that this kind of filehandle is confusing and shouldn't be used.</p>\n\n<p>But if you do <code>\\FILE</code> it's not going to work. Look at this:</p>\n\n<pre><code>$ perl -E 'say \\STDOUT'\nSCALAR(0x2534f58)\n$ perl -E 'use strict; say \\STDOUT'\nBareword \"STDOUT\" not allowed while \"strict subs\" in use at -e line 1.\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>If you leave out the <code>*</code> Perl thinks your bareword <code>STDOUT</code> is a function call, but no function <code>STDOUT</code> exists, so it fails. In the first example, without <code>strict</code>, the bareword instead gets treated as a string. A reference is taken, and we see a scalar reference.</p>\n\n<p>If you wanted to take the reference of the typeglob, you'd have to do <code>\\*FILE</code>.</p>\n\n<pre><code>$ perl -E 'say \\*STDOUT'\nGLOB(0x24e3858)\n</code></pre>\n\n<p>However, that could break your program, because your program likely expects <em>a GLOB</em>, and <strong>not</strong> a <em>reference to a GLOB</em>.</p>\n"}], "owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 2, "accepted_answer_id": 46429681, "answer_count": 1, "score": 1, "last_activity_date": 1506438180, "creation_date": 1506435247, "question_id": 46428842, "link": "https://stackoverflow.com/questions/46428842/pointer-of-a-file-handle-in-perl", "title": "Pointer of a file handle in perl", "body": "<p>Referring  to below lines :</p>\n\n<pre><code> open(FILE, \"&gt;\" ,$file )\n FILE-&gt;autoflush;\n $self-&gt;{FILEH} = *FILE;\n</code></pre>\n\n<p>Want to understand what is last two lines doing , the second line outputs whatever FILE has (until the point second line is reached) to the file represented by $file and then stores the reference of FILE ( reference to file handler  represented by *FILE ) into a blessed hash key (here $self is a blessed hash ref). Please let me know if my understanding is correct . Can *FILE be replace with \\FILE ?</p>\n"}, {"tags": ["perl", "active-directory", "netldap"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506430252, "post_id": 46427062, "comment_id": 79811072, "body": "There is no typecasting in Perl."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8428286, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a1891924112f85f20f923512cbae27c0?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek B Ahmed", "link": "https://stackoverflow.com/users/8428286/vivek-b-ahmed"}, "edited": false, "score": 0, "creation_date": 1506584591, "post_id": 46427125, "comment_id": 79881934, "body": "Thank You! Completely missed that :) The code is working now after removing the <code>-&gt;dn</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 33, "user_id": 8428286, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a1891924112f85f20f923512cbae27c0?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek B Ahmed", "link": "https://stackoverflow.com/users/8428286/vivek-b-ahmed"}, "edited": false, "score": 0, "creation_date": 1506584670, "post_id": 46427125, "comment_id": 79881974, "body": "@VivekBAhmed sometimes that happens, and it takes a step back or someone else to see the problem. Please check out <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to accept an answer that solved your problem."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1506430317, "creation_date": 1506430317, "answer_id": 46427125, "question_id": 46427062, "link": "https://stackoverflow.com/questions/46427062/perl-ldap-entry-not-recognised/46427125#46427125", "title": "perl LDAP entry not recognised", "body": "<p>You are not assigning a Net::LDAP::Entry to <code>$samdn</code>. You are assigning the <em>dn</em> of the first entry.</p>\n\n<pre><code>#                         VVVV\nmy $samdn = $act-&gt;entry(0)-&gt;dn;\n</code></pre>\n\n<p>Get rid of that <code>-&gt;dn</code> and it should work, if <code>$act-&gt;entry(0)</code> returns a Net::LDAP::Entry.</p>\n"}], "owner": {"reputation": 33, "user_id": 8428286, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a1891924112f85f20f923512cbae27c0?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek B Ahmed", "link": "https://stackoverflow.com/users/8428286/vivek-b-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 46427125, "answer_count": 1, "score": 2, "last_activity_date": 1506431555, "creation_date": 1506430175, "last_edit_date": 1506431555, "question_id": 46427062, "link": "https://stackoverflow.com/questions/46427062/perl-ldap-entry-not-recognised", "title": "perl LDAP entry not recognised", "body": "<p>We are writing a Perl code (to be run from Unix) which will reset the password of a Windows AD User. (We are not using powershell as we have been asked not to use Windows scripts).</p>\n\n<p>With the following Perl code, we are able to connect to the AD User directory and query the correct user.</p>\n\n<pre><code>#!/usr/bin/perl -w\n#########################\n#This script resets the password in active user directory \n#########################\n\nuse strict;\nuse warnings;\nuse DBI;\nuse Net::LDAP;\nuse Net::LDAPS;\nuse Authen::SASL qw(Perl);\nuse Net::LDAP::Control::Paged;\nuse Time::Local;\n\nmy $CERTDIR     = \"&lt;cert path&gt;\";\nmy $AD_PASS     = \"$CERTDIR/.VDIAD_pass\";\nmy $sAN = \"vahmed\";\n\n### Generate Random Password ###\nmy $randompass = askPasswd();\nmy $uninewpass;\nmy $mail;\nmy $fullname;\nmy $name;\nmy $distName;\nmy $finalresult;\n\n\nmy @AD_passwords = get_domain_pass();\n\nmy $result = reset_AD_Password();\n\n#Reset AD user password\nsub reset_AD_Password {                              \n    my $ad = Net::LDAP-&gt;new($AD_passwords[0]);\n    my $msg = $ad-&gt;bind(dn =&gt; \"cn=$AD_passwords[2],$AD_passwords[1]\",\n                        password   =&gt; $AD_passwords[3],\n                        version    =&gt; 3);\n\n    if ($msg-&gt;code)\n    {\n            print \"Error :\" . $msg-&gt;error() . \"\\n\";\n            exit 2;\n    }\n\n    my $acc_name            = 'sAMAccountName';\n    my $acc_fullname        = 'displayName';\n    my $acc_base            = 'manager';\n    my $acc_distName        = 'distinguishedName';\n    my $acc_mail            = 'mail';\n\n    my $act = $ad-&gt;search(\n                        base    =&gt; \"$AD_passwords[1]\",\n                        filter  =&gt; \"(&amp;(objectCategory=person)(sAMAccountName=$sAN))\",\n                        attrs   =&gt; [$acc_name, $acc_fullname, $acc_distName, $acc_mail]);\n    die 1 if ($act-&gt;count() !=1 );\nmy $samdn = $act-&gt;entry(0)-&gt;dn;\n\n$fullname = $samdn-&gt;get_value($acc_fullname);\n$mail = $samdn-&gt;get_value($acc_mail);   \n\n    }\n}\n</code></pre>\n\n<p>However we get an error on the line:</p>\n\n<pre><code>$fullname = $samdn-&gt;get_value($acc_fullname);\n    $mail = $samdn-&gt;get_value($acc_mail);\n</code></pre>\n\n<p>The error states \"Can't locate object method \"get_value\" via package (distinguished Name) (perhaps you forgot to load (distinguished Name))\"<br>\n  However the code works correctly when we replace <strong>$samdn</strong> with the following code:</p>\n\n<pre><code>foreach my $entry ($act-&gt;entries){\n        $name           = $entry-&gt;get_value($acc_name);\n        $fullname       = $entry-&gt;get_value($acc_fullname);\n        $distName       = $entry-&gt;get_value($acc_distName);\n        $mail           = $entry-&gt;get_value($acc_mail);\n    }\n</code></pre>\n\n<p>It would appear that the code is unable to identify <strong>$samdn</strong> as a <em>Net::LDAP::Entry</em> record.<br>\n  We have tried typecasting <strong>$samdn</strong> but got the same error.\n  Could someone help in resolving this issue as we would not prefer to use the for loop just in case more that one record is returned by the search?  Thanks in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1506428136, "post_id": 46426162, "comment_id": 79809465, "body": "<a href=\"https://perldoc.perl.org/perlop.html#Additive-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Additive-Operators</a>"}], "answers": [{"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 12, "last_activity_date": 1506428107, "creation_date": 1506428107, "answer_id": 46426280, "question_id": 46426162, "link": "https://stackoverflow.com/questions/46426162/what-is-the-meaning-of-the-dot-in-this-open-usage-in-perl/46426280#46426280", "title": "What is the meaning of the dot in this open() usage in Perl?", "body": "<p>This is an example of the old, two-argument form of <code>open</code> (which should be avoided now that three-argument <code>open</code> is available).  In Perl, <code>.</code> is the append operator.  It combines the two strings into a single string.</p>\n\n<p>The line of code you posted is equivalent to <code>open(FHANDLE, \"&gt;$file\" )</code>, it just uses a different method of combining the <code>&gt;</code> and <code>$file</code>.</p>\n\n<p>The better way to do it these days would be <code>open(my $fhandle, '&gt;', $file)</code>, as shown in the documentation you linked to.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 8, "last_activity_date": 1506428137, "creation_date": 1506428137, "answer_id": 46426294, "question_id": 46426162, "link": "https://stackoverflow.com/questions/46426162/what-is-the-meaning-of-the-dot-in-this-open-usage-in-perl/46426294#46426294", "title": "What is the meaning of the dot in this open() usage in Perl?", "body": "<p>This is the two-argument <code>open</code>. The dot <code>.</code> is the string concatenation operator in Perl. If <code>open</code> is called with two arguments, the second argument contains both the mode and the path.</p>\n\n<p>In your case, it will open the file named in <code>$file</code> for writing.</p>\n\n<p>However, for several reasons you should not do this. It's more common to use the three-argument-open, and the lexical filehandles instead of the global GLOB filehandle.</p>\n\n<p>The lexical filehandle makes sure Perl implicitly closes the handel for you as soon as it goes out of scope. Using different args for mode and filename is a security concern, because otherwise a malicious user could smuggle in mode-changes into the filename.</p>\n\n<pre><code>open my $fh, '&gt;', $file or die $!;\n</code></pre>\n\n<p>IN addition to the now lexical filehandle and the separation of the mode and the filename, we also check for errors in this code, which is always a good idea.</p>\n"}], "owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 46426280, "answer_count": 2, "score": 5, "last_activity_date": 1507143558, "creation_date": 1506427784, "last_edit_date": 1507143558, "question_id": 46426162, "link": "https://stackoverflow.com/questions/46426162/what-is-the-meaning-of-the-dot-in-this-open-usage-in-perl", "title": "What is the meaning of the dot in this open() usage in Perl?", "body": "<p>How can I understand the following usage of the <code>open()</code> function in Perl File I/O?</p>\n\n<pre><code>open(FHANDLE, \"&gt;\" . $file )\n</code></pre>\n\n<p>I tried to find this type of syntax <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">in the docs</a> but did not find; please note there is a . (dot) after \">\".</p>\n\n<p>All I cannot understand is a use of dot, the rest I know.</p>\n"}, {"tags": ["perl", "selenium"], "comments": [{"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1506446671, "post_id": 46425726, "comment_id": 79822129, "body": "The profile is actually sent by the client side and not on server side. So I don&#39;t think this would work. You need to send the profile from where you are initiating the driver"}, {"owner": {"reputation": 31, "user_id": 8675930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66293f1027d95190307c5ff408442ee?s=128&d=identicon&r=PG&f=1", "display_name": "Tobbes", "link": "https://stackoverflow.com/users/8675930/tobbes"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1506493319, "post_id": 46425726, "comment_id": 79837681, "body": "Thanks for your reply. So this means my second aproach should work? Although I haven&#39;t got it to work."}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1506496076, "post_id": 46425726, "comment_id": 79839165, "body": "See if this helps <a href=\"https://rdrr.io/cran/RSelenium/man/makeFirefoxProfile.html\" rel=\"nofollow noreferrer\">rdrr.io/cran/RSelenium/man/makeFirefoxProfile.html</a>"}, {"owner": {"reputation": 31, "user_id": 8675930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66293f1027d95190307c5ff408442ee?s=128&d=identicon&r=PG&f=1", "display_name": "Tobbes", "link": "https://stackoverflow.com/users/8675930/tobbes"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1506597998, "post_id": 46425726, "comment_id": 79890689, "body": "Well I would rather not involve yet another programing language :)"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1506603132, "post_id": 46425726, "comment_id": 79894178, "body": "My bad i just looked at the syntax and assumed R instead of perl. Should have looked at the tag correctly"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1506604175, "post_id": 46425726, "comment_id": 79894987, "body": "Can you open <code>about:config</code> in the firefox opened and see if the changes you made are there or not? So we know what part is working and what is not"}, {"owner": {"reputation": 31, "user_id": 8675930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66293f1027d95190307c5ff408442ee?s=128&d=identicon&r=PG&f=1", "display_name": "Tobbes", "link": "https://stackoverflow.com/users/8675930/tobbes"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1507017160, "post_id": 46425726, "comment_id": 80033549, "body": "The changes are not there, then again I am not sure if I am using the proper keysin set_preference(...)"}], "owner": {"reputation": 31, "user_id": 8675930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66293f1027d95190307c5ff408442ee?s=128&d=identicon&r=PG&f=1", "display_name": "Tobbes", "link": "https://stackoverflow.com/users/8675930/tobbes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1506426568, "creation_date": 1506426568, "question_id": 46425726, "link": "https://stackoverflow.com/questions/46425726/change-firefox-profile-in-selenium", "title": "change firefox profile in selenium", "body": "<p>I am trying to change the firefox profile used by selenium in order to allow file downloads without having to confirm.\nI have tried by creating a profile:\n1) I ran firefox -p\n2) clicked \"create_profile\" and gave it a name\n3) I chnaged some settings in it and closed firefox.</p>\n\n<p>I am running selenium-standalone server 3.5.\nFrom what I understand I should be able to change the profile loaded when running firefox using <strong>-Dwebdriver.firefox.profile</strong> so having named the profile selenium I started selenium like this:</p>\n\n<pre><code>java -Dwebdriver.gecko.driver=&lt;path_to_geckdriver&gt; -\n Dwebdriver.firefox.profile=selenium -jar &lt;selenium_jar&gt;\n</code></pre>\n\n<p>This starts selenium properly and I am able to create firefox sessions.\nHowever, Selenium loads the default profile and puts it in Temp.</p>\n\n<p>I also did this, in order to create a profile in perl:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Selenium::Remote::Driver;\nuse Selenium::Firefox;\nmy  $profile = Selenium::Firefox::Profile-&gt;new();    $profile-set_preference(\"browser.download.dir\" =&gt; \"C:\\\\Downloads\");\nprofile&gt;set_boolean_preference(\"browser.download.manager.showWhenStarting\"=&gt; 0);    \n$profile&gt;set_preference(\"browser.helperApps.neverAsk.saveToDisk\",\"application/octet-stream\");\n$profile-&gt;set_preference(\"browser.download.folderList\"=&gt; 2);\nmy $driver = Selenium::Remote::Driver-&gt;new('firefox_profile' =&gt; $profile); \n$driver-&gt;get('http://www.colorado.edu/conflict/peace/download/peace.zip');\nprint $driver-&gt;get_title();\n$driver-&gt;quit();\n</code></pre>\n\n<p>However selenium appears to still use default setup.\nI am still prompted when it wants to download.\nWhat is the name of the property which sets selenium's default firefox profile?\nDo I need to specify profile directory as well?\nIf so, how do I do this?</p>\n\n<p>I hope that I have given enough information and that my question is clear enough.\nThanks in advance</p>\n"}, {"tags": ["shell", "perl"], "comments": [{"owner": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "edited": false, "score": 0, "creation_date": 1506428971, "post_id": 46425631, "comment_id": 79810123, "body": "try to read alvinalexander.com/perl/perl-command-line-arguments-read-arg&zwnj;&#8203;\u200c\u200bs"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "edited": false, "score": 0, "creation_date": 1506432664, "post_id": 46425631, "comment_id": 79812841, "body": "@ilux, 404 not found"}, {"owner": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "edited": false, "score": 0, "creation_date": 1506432747, "post_id": 46425631, "comment_id": 79812908, "body": "oh, <a href=\"https://alvinalexander.com/perl/perl-command-line-arguments-read-args\" rel=\"nofollow noreferrer\">alvinalexander.com/perl/perl-command-line-arguments-read-arg&zwnj;&#8203;s</a>"}], "answers": [{"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 1, "last_activity_date": 1506431823, "creation_date": 1506431823, "answer_id": 46427656, "question_id": 46425631, "link": "https://stackoverflow.com/questions/46425631/usage-of-perl-custom-script-from-shell/46427656#46427656", "title": "Usage of Perl custom script from shell", "body": "<p>You did not export the variable in the shell before calling the perl program.</p>\n\n<p>Paste your shell code into <a href=\"http://www.shellcheck.net/\" rel=\"nofollow noreferrer\">http://www.shellcheck.net/</a> -- it will tell you your other shell error.</p>\n"}, {"tags": [], "owner": {"reputation": 1319, "user_id": 5014253, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153353808733890/picture?type=large", "display_name": "Lye Heng Foo", "link": "https://stackoverflow.com/users/5014253/lye-heng-foo"}, "is_accepted": false, "score": 0, "last_activity_date": 1506436196, "creation_date": 1506436196, "answer_id": 46429226, "question_id": 46425631, "link": "https://stackoverflow.com/questions/46425631/usage-of-perl-custom-script-from-shell/46429226#46429226", "title": "Usage of Perl custom script from shell", "body": "<p>Yes, you will need to export the environment variable file in your shell before the perl script execution. Also you may want to make sure to include full path to the file.</p>\n\n<p><code>export file=/full/path/to/my/file/my_wa/fin</code></p>\n\n<p>Or making use of <code>pwd</code> if it is relative to current working directory:</p>\n\n<p><code>export file=\"$(pwd)/my_wa/fin\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": true, "score": 0, "last_activity_date": 1506440480, "creation_date": 1506440480, "answer_id": 46430701, "question_id": 46425631, "link": "https://stackoverflow.com/questions/46425631/usage-of-perl-custom-script-from-shell/46430701#46430701", "title": "Usage of Perl custom script from shell", "body": "<p>you can pass $file as an argument</p>\n\n<pre><code>$file=\"my_wa/fin\"\n    if [[ \"$file\" == *\"fin\" ]]; then\n        script.pl \\\"$file\\\"\n    fi\n</code></pre>\n\n<p>Then access the data</p>\n\n<pre><code>my $input_filename = $ARGV[0];\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8676068, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213212090672149/picture?type=large", "display_name": "Hadar Epstein", "link": "https://stackoverflow.com/users/8676068/hadar-epstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 46430701, "answer_count": 3, "score": 0, "last_activity_date": 1506440480, "creation_date": 1506426256, "last_edit_date": 1506428985, "question_id": 46425631, "link": "https://stackoverflow.com/questions/46425631/usage-of-perl-custom-script-from-shell", "title": "Usage of Perl custom script from shell", "body": "<p>I'm trying to pass a variable to a custom Perl script.</p>\n\n<pre><code>        $file=\"my_wa/fin\"\n        if [[ \"$file\" == *\"fin\" ]]; then\n            script.pl \n        fi\n</code></pre>\n\n<p>In my script I try to use <code>$file</code> as my path to open and read a file</p>\n\n<pre><code>my $input_filename = \"$ENV{file}\";\n</code></pre>\n\n<p>I understand that I need to export it somehow and receive it in my Perl code,\nbut it doesn't recognize <code>$file</code>. - it works perfectly if I just write <code>my_wa/fin</code>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 1, "creation_date": 1506427711, "post_id": 46425482, "comment_id": 79809146, "body": "<a href=\"https://stackoverflow.com/q/19159052/133939\">Related Q&amp;A</a>"}, {"owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1506428392, "post_id": 46425482, "comment_id": 79809680, "body": "Thanks! That&#39;s exactly what I wanted to know, I&#39;ll read the A."}], "answers": [{"comments": [{"owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "edited": false, "score": 0, "creation_date": 1506427346, "post_id": 46425738, "comment_id": 79808879, "body": "Thanks!  That&#39;s a pity, I supposed it would work as in awk.  Probably it would be easier to read the whole file in a variable and then split it using <code>&quot;=+\\n&quot;</code> as a separator."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "edited": false, "score": 1, "creation_date": 1506427493, "post_id": 46425738, "comment_id": 79808987, "body": "@evb depends on how big the file is."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1506427890, "post_id": 46425738, "comment_id": 79809275, "body": "You can always read line by line, to assemble a buffer and &#39;process&#39; it (and clear it) when you hit your regex. But this approach seemed to do what you wanted, and was simpler."}, {"owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "edited": false, "score": 0, "creation_date": 1506428255, "post_id": 46425738, "comment_id": 79809555, "body": "Yes, of course, it solves the problem, thanks! Though I wonder why Perl can&#39;t work with regex as $/."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1506431737, "post_id": 46425738, "comment_id": 79812137, "body": "Because that&#39;s what the design says :). If I had to guess, it&#39;ll be because some regex patterns make life <i>very</i> difficult when trying to decide how many bytes to read, and getting into catestrophic backtracking after each byte could get expensive fast."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1506439459, "post_id": 46425738, "comment_id": 79817871, "body": "<a href=\"https://metacpan.org/pod/Acme::InputRecordSeparatorIsRegexp\" rel=\"nofollow noreferrer\"><code>Acme::InputRecordSeparatorIsRegexp</code></a>?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1506426927, "last_edit_date": 1506426927, "creation_date": 1506426607, "answer_id": 46425738, "question_id": 46425482, "link": "https://stackoverflow.com/questions/46425482/perl-n-as-separator/46425738#46425738", "title": "Perl &quot;=+\\n&quot; as $/ separator", "body": "<p><code>$/</code> doesn't support regular expressions. You'll need to use <code>===\\n</code>. </p>\n\n<p>You can use a regex to pseudo-<code>chomp</code> using a regex though.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n\n$/ = \"=\\n\";\n$\\=\"+++\\n\";\n\nwhile (&lt;&gt;){\n  s/^=+\\n\\z//gm;\n  print;\n}\n</code></pre>\n\n<p>See: <a href=\"https://perldoc.perl.org/perlvar.html\" rel=\"noreferrer\">perlvar</a>:</p>\n\n<blockquote>\n  <p>the value of $/ is a string, not a regex.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1506440288, "creation_date": 1506440288, "answer_id": 46430650, "question_id": 46425482, "link": "https://stackoverflow.com/questions/46425482/perl-n-as-separator/46430650#46430650", "title": "Perl &quot;=+\\n&quot; as $/ separator", "body": "<p>If the file is short enough, load it into memory and split on whatever end-of-record indicator you want:</p>\n\n<pre><code>local $/;\nmy @lines = split /=+\\n|\\++\\n/, &lt;&gt;;\nforeach my $line (@lines) { ... }\n</code></pre>\n\n<p>If it is important what the record separator was (say, if you need to distinguish records that end with <code>===\\n</code> from records that end with <code>+++\\n</code>), capture the record separator</p>\n\n<pre><code>local $/;\nmy @lines = split /(=+\\n|\\++\\n)/, &lt;&gt;;\nwhile (my $line = shift @lines) {\n    my $record_separator = shift @lines;\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 5322, "user_id": 7730888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2006b81406558489617bf46c7b4d0b69?s=128&d=identicon&r=PG", "display_name": "Eugene Barsky", "link": "https://stackoverflow.com/users/7730888/eugene-barsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 46425738, "answer_count": 2, "score": 3, "last_activity_date": 1506440288, "creation_date": 1506425868, "last_edit_date": 1506438759, "question_id": 46425482, "link": "https://stackoverflow.com/questions/46425482/perl-n-as-separator", "title": "Perl &quot;=+\\n&quot; as $/ separator", "body": "<p>Sorry for a stupid question, but I'm a beginner, so I can't sort out this problem.</p>\n\n<p>I work with files where chunks of data are divided by lines of consecutive <code>=</code> signs of different length, followed by <code>\\n</code>. I want to read these chunks as separate records, using <code>$/ = \"=+\\n\";</code> But it doesn't detect the <code>===</code> separator.</p>\n\n<p>So my code is:</p>\n\n<pre><code>$ cat prog1 \n#!/usr/bin/perl\n\nuse v5.22;\nuse strict;\nuse warnings;\n\n$/ = \"=+\\n\";\n$\\=\"+++\\n\";\n\nwhile (&lt;&gt;){\n  chomp;\n  print;\n}\n</code></pre>\n\n<p>My data:</p>\n\n<pre><code>$ cat data1 \nline1\nline2\n===\nline4\nline5\n</code></pre>\n\n<p>My output:</p>\n\n<pre><code>$ ./prog1 data1 \nline1\nline2\n===\nline4\nline5\n+++\n</code></pre>\n"}, {"tags": ["perl", "phpmyadmin"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506423675, "post_id": 46424506, "comment_id": 79806340, "body": "I understand that you want different programs to work together on the same set of data. Is that correct?"}, {"owner": {"reputation": 15, "user_id": 8113037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4eca18ae11c60e9401ac93f264d096?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumar", "link": "https://stackoverflow.com/users/8113037/sugumar"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506424183, "post_id": 46424506, "comment_id": 79806701, "body": "yes, same script that should works in different machines and retrieve data from single database"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506424610, "post_id": 46424506, "comment_id": 79806990, "body": "There is no problem to run the same program on different machines, and have them all use the same database. What&#39;s interesting is to get them to process something in parallel. It sounds like you want to cluster your data processing. Machine a will do lines 1 to 10, machine B will do lines 11 to 20 and so on. The question now is, how do they know which ones to run? If there is a static assignment, you could use arguments to your programs."}, {"owner": {"reputation": 15, "user_id": 8113037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4eca18ae11c60e9401ac93f264d096?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumar", "link": "https://stackoverflow.com/users/8113037/sugumar"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506425392, "post_id": 46424506, "comment_id": 79807520, "body": "what you said is exactly correct and that is my problem , if I run the same script in all system it take first 10 data and it became duplicate values, how to avoid it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506425854, "post_id": 46424506, "comment_id": 79807838, "body": "Do you know beforehand which system should get what chunk of the data? Or do you just want all data processed, but it takes a while to process the data, and each client should take some, process it, and then take the next chunk?"}, {"owner": {"reputation": 15, "user_id": 8113037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4eca18ae11c60e9401ac93f264d096?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumar", "link": "https://stackoverflow.com/users/8113037/sugumar"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506425892, "post_id": 46424506, "comment_id": 79807860, "body": "I don&#39;t know but its not problem , I should take 10 new line of data that should not present in any other script. After process 10 line it should take next 10 new line."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506425936, "post_id": 46424506, "comment_id": 79807885, "body": "It sounds a bit like what you want is a queue. Can you tell me more about the real application? What kind of data is this, and how long does processing take? Is this a learning exercise or a real-world problem? The approach we will take depends on that."}, {"owner": {"reputation": 15, "user_id": 8113037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4eca18ae11c60e9401ac93f264d096?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumar", "link": "https://stackoverflow.com/users/8113037/sugumar"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506426456, "post_id": 46424506, "comment_id": 79808252, "body": "It&#39;s a bit long time process, we check whether the url is working or not"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506426760, "post_id": 46424506, "comment_id": 79808464, "body": "Does your database user have write access to the database? Can you write data back? I think a valid approach would be to add a field to the table that holds whether this line has been processed already, and update it before you start processing in each script. So you would first select the first 10 unprocessed ones, then fill in that field in those, then process them, and repeat. If you need to process them regularly, you could either reset the field before you begin, or work with timestamps and a certain time-frame. It&#39;s like a queue, but it&#39;s not 100%."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8113037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4eca18ae11c60e9401ac93f264d096?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumar", "link": "https://stackoverflow.com/users/8113037/sugumar"}, "edited": false, "score": 0, "creation_date": 1510211496, "post_id": 46430211, "comment_id": 81340500, "body": "Sorry for late reply, by your method i got the solution but if i increase the number of simultaneously connection 5 to 100 . Now I&#39;m doing like this when 100 Connection connected to single db and once the work finished, it will lock the table and update the result to db.  Now the problem is when we lock the table the remaining connection waits when the table will unlock is there any method to do with type"}, {"owner": {"reputation": 116, "user_id": 5786010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2462d205c1bd9df3f65ab4518a0e067?s=128&d=identicon&r=PG&f=1", "display_name": "TomTomTom", "link": "https://stackoverflow.com/users/5786010/tomtomtom"}, "reply_to_user": {"reputation": 15, "user_id": 8113037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4eca18ae11c60e9401ac93f264d096?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumar", "link": "https://stackoverflow.com/users/8113037/sugumar"}, "edited": false, "score": 0, "creation_date": 1510301785, "post_id": 46430211, "comment_id": 81386025, "body": "Locking the whole table is only required for entire-table operations. Just lock the reckord(s) you are going to modify (and unlock when you are done), so other records are free to be modified simultaneously."}], "tags": [], "owner": {"reputation": 116, "user_id": 5786010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2462d205c1bd9df3f65ab4518a0e067?s=128&d=identicon&r=PG&f=1", "display_name": "TomTomTom", "link": "https://stackoverflow.com/users/5786010/tomtomtom"}, "is_accepted": true, "score": 0, "last_activity_date": 1506438908, "creation_date": 1506438908, "answer_id": 46430211, "question_id": 46424506, "link": "https://stackoverflow.com/questions/46424506/how-to-retrieve-online-database-data-from-multiple-perl-script/46430211#46430211", "title": "How to retrieve online database data from multiple perl script", "body": "<p>You could create your script with a parameter telling it it is number 1, 2, 3, 4 or 5. So same script, just called with another number on each of the 5 hosts. So number 1 processes 1-10, 51-60, 101-110 and so on, you get it. This will work correctly as long as no (id,url) pairs are deleted or inserted. Appending is ok. If your scripts write log files, you can always see how far the done. You could even add a 'host' and a 'status' column to your table, indicating wether a record is not processed yet, being processed by which host or done already.</p>\n\n<p>If you can't add columns to the existing table, you might use a second table referencing to the first table by the id.</p>\n\n<p>If you want to go fancy and solve the insert/delete problem (in case it applies to you), you can go one step further and make your hosts check for the next unprocessed record, lock it, process it, write status to 'done', then release the record.</p>\n\n<p>Then you can even dynamically have hosts join the party and lock,process,release records just as they have resources available.</p>\n\n<p>====================</p>\n\n<p>Different start: one host is controller and distributes your 10-record packets. So the equal script on each host has to accept a parameter transporting 10 ids. A second script notices, when a host is done with it's 10 records and gives it 10 fresh ones.</p>\n\n<p>Happy scripting.</p>\n\n<p>TomTomTom</p>\n"}], "owner": {"reputation": 15, "user_id": 8113037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4eca18ae11c60e9401ac93f264d096?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumar", "link": "https://stackoverflow.com/users/8113037/sugumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 46430211, "answer_count": 1, "score": -1, "last_activity_date": 1506438908, "creation_date": 1506423239, "last_edit_date": 1506423642, "question_id": 46424506, "link": "https://stackoverflow.com/questions/46424506/how-to-retrieve-online-database-data-from-multiple-perl-script", "title": "How to retrieve online database data from multiple perl script", "body": "<p>I have a working Perl script which will insert, retrieve data from a mysql database correctly when I do with my system and no problem in script.  </p>\n\n<p>I have db which contains 10000 line of data with two attributes id, url.  </p>\n\n<p>I have to open the db using Perl and take the first 10 datasets of id and url in my machine, and in another system it should take next 10 line of data like that i have to do for five separate machine simultaneously.  </p>\n\n<p>Is there anyway to do like this or any other method?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1506421842, "post_id": 46423286, "comment_id": 79805186, "body": "<code>$s=&#39;111&#39;; $s=&#39;222&#39;; $s=&#39;aaa&#39;; $s=&#39;bbb&#39;  </code> at final the <code>$s</code> value is <code>bbb</code>. see the user <code>@amon</code> answer. And if you assign the array(not list) in a scalar it will return the number of element"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1506425239, "post_id": 46423286, "comment_id": 79807422, "body": "There is no array in your second example. That is a list. <a href=\"http://friedo.com/blog/2013/07/arrays-vs-lists-in-perl\" rel=\"nofollow noreferrer\">Arrays are not lists</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506438490, "post_id": 46423286, "comment_id": 79817205, "body": "@Dave Cross, What the OP has (comma operator in scalar context) and what the link calls a list (comma operator in list context) are not the same thing."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506438711, "post_id": 46423286, "comment_id": 79817354, "body": "@ikegami: Even in the final section, &quot;Arrays may be used in scalar context&quot;, which, to me, seems to cover exactly this case?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506438872, "post_id": 46423286, "comment_id": 79817468, "body": "@Dave Cross, oh how nice; they&#39;re not even consistent with their definition of list. Yay for adding to the confusion while pretending to try to clear it up!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506439101, "post_id": 46423286, "comment_id": 79817623, "body": "@ikegami: Seems consistent to me. He says &quot;Although what we wrote <i>looks</i> like a list, lists <i>do not exist</i> in scalar context&quot;. Perhaps you could be clearer about exactly what you&#39;re objecting to."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506439173, "post_id": 46423286, "comment_id": 79817673, "body": "They describe a number of things that apply to &quot;list&quot;, then use three different definitions of list in the document."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506439448, "post_id": 46423286, "comment_id": 79817859, "body": "@ikegami: Honestly, I really don&#39;t see what you&#39;re objecting to. I often use that blog post as the best (or, at least, most understandable) explanation of the difference between arrays and lists. If you have a better article that I could use, I would happily switch to it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506439626, "post_id": 46423286, "comment_id": 79817980, "body": "@Dave Cross, There&#39;s so much wrong with it, I don&#39;t even know where to begin. Even with the leading table... Lists are ephemeral, distribute references and don&#39;t exist in scalar context? WRONG! List values are ephemeral and they can&#39;t possibly distribute reference or exist in any contxet since they aren&#39;t code; and list operators distribute references, can exist in scalar context and aren&#39;t ephemeral."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506440038, "post_id": 46423286, "comment_id": 79818284, "body": "@Dave Cross, As for a better reference, I don&#39;t know what references exist."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506440872, "post_id": 46423286, "comment_id": 79818861, "body": "@Dave Cross, I bet you think <code>(4,5,6)</code> creates a list in <code>@a = (4,5,6)</code>. If so, that article has failed you."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 4678985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2383c2b05ba37e6b6db770606e6896?s=128&d=identicon&r=PG&f=1", "display_name": "fgg1991", "link": "https://stackoverflow.com/users/4678985/fgg1991"}, "edited": false, "score": 0, "creation_date": 1506475259, "post_id": 46423574, "comment_id": 79832840, "body": "Oh thank you very much ! Obviously I didn&#39;t distinguish array and list well. So something like qw/aaa bbb ccc/ or (&#39;aaa&#39;, &#39;bbb&#39;, &#39;ccc&#39;) are just lists but @_ is an array right ?"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 51, "user_id": 4678985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2383c2b05ba37e6b6db770606e6896?s=128&d=identicon&r=PG&f=1", "display_name": "fgg1991", "link": "https://stackoverflow.com/users/4678985/fgg1991"}, "edited": false, "score": 0, "creation_date": 1506493178, "post_id": 46423574, "comment_id": 79837612, "body": "@fgg1991 Yes, arrays must always be named variables or array references. Perl does not have array literals. Lists are the opposite: lists don&#39;t really exist as a data structure. It is better to think of them as part of the syntax or evaluation model."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 6, "last_activity_date": 1506420551, "creation_date": 1506420551, "answer_id": 46423574, "question_id": 46423286, "link": "https://stackoverflow.com/questions/46423286/how-the-behavior-is-when-assign-an-array-to-a-scalar-in-perl/46423574#46423574", "title": "How the behavior is when assign an array to a scalar in perl?", "body": "<p>The function of the comma operator <code>,</code> depends on the context. There is list context and scalar context to consider.</p>\n\n<p>In list context, the comma operator separates items in a list. An assignment imposes list context on the right hand side if the left side is an array or is enclosed in parens:</p>\n\n<pre><code>my ($s) = (1, 2, 3);  #=&gt; $s = 1, rest discarded\n(my $s) = (1, 2, 3);  # the same\nmy @arr = (1, 2, 3);  #=&gt; @arr = (1, 2, 3)\n</code></pre>\n\n<p>In scalar context Perl expects us to provide a single value. The comma operator then works just like in C or other languages: all expressions are evaluated and their value discarded. Only the last value is kept:</p>\n\n<pre><code>my $s = (1, 2, 3);  #=&gt; $s = 3, previous items discarded\n</code></pre>\n\n<p>See also: the <a href=\"http://perldoc.perl.org/perlop.html#Comma-Operator\" rel=\"noreferrer\">Comma Operator in <code>perldoc perlop</code></a></p>\n\n<p>Note that the parens <code>(...)</code> do not create an array. They are only used to control precedence. In <code>$s = (1, 2, 3)</code> the arrays are needed because <code>$s = 1, 2, 3</code> would be parsed as <code>($s = 1), 2, 3</code>.</p>\n"}], "owner": {"reputation": 51, "user_id": 4678985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2383c2b05ba37e6b6db770606e6896?s=128&d=identicon&r=PG&f=1", "display_name": "fgg1991", "link": "https://stackoverflow.com/users/4678985/fgg1991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506420551, "creation_date": 1506419804, "question_id": 46423286, "link": "https://stackoverflow.com/questions/46423286/how-the-behavior-is-when-assign-an-array-to-a-scalar-in-perl", "title": "How the behavior is when assign an array to a scalar in perl?", "body": "<p>My code is </p>\n\n<pre><code>my $r = ['111','222','aaa','bbb'];\nprint $r;\nmy $s = ('111','222','aaa','bbb');\nprint $s;\n</code></pre>\n\n<p>The first print I can understand, $r would be a ref and print gives me something like \"ARRAY(0x44444444)\".</p>\n\n<p>But I can not understand why the second example, print $s gives me the last element, bbb, why ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506400186, "post_id": 46417712, "comment_id": 79793187, "body": "I must be misunderstanding something.  Your <code>consume</code> contains its own local copies of passed variables. Are you expecting that changes to them propagate to the caller?"}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506400362, "post_id": 46417712, "comment_id": 79793241, "body": "@zdim I was expecting changes to <code>pos</code> to propagate back, yes. I was under the impression it was part of the content that is potentially shared between strings ... but that writing to it wouldn&#39;t trigger a copy-on-write. I realize my mistake now :/"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506400529, "post_id": 46417712, "comment_id": 79793291, "body": "Certainly an interesting idea and the question. Luckily ikegami cleared up <i>that</i> as well :)"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 11, "last_activity_date": 1506526931, "last_edit_date": 1506526931, "creation_date": 1506399984, "answer_id": 46417808, "question_id": 46417712, "link": "https://stackoverflow.com/questions/46417712/perl-does-assigning-to-pos-trigger-a-copy/46417808#46417808", "title": "Perl does assigning to pos trigger a copy?", "body": "<blockquote>\n  <p><em>Perl does assigning to pos trigger a copy?</em></p>\n</blockquote>\n\n<p>Perl 5.20 introduced a copy-on-write mechanism which allows scalars to share a string buffer.</p>\n\n<p>No, changing <code>pos($str)</code> doesn't trigger a copy.</p>\n\n<pre><code>$ perl -MDevel::Peek -e'\n    $_=\"abcdef\"; Dump($_);\n    pos($_) = 2; Dump($_);\n    pos($_) = 3; Dump($_);\n    $_ .= \"g\";   Dump($_);\n' 2&gt;&amp;1 | grep -P '^(?:SV|  FLAGS|  PV)'\n\nSV = PV(0x192ee10) at 0x196d4c8\n  FLAGS = (POK,IsCOW,pPOK)\n  PV = 0x1955140 \"abcdef\"\\0\n\nSV = PVMG(0x1985810) at 0x196d4c8\n  FLAGS = (SMG,POK,IsCOW,pPOK)\n  PV = 0x1955140 \"abcdef\"\\0\n\nSV = PVMG(0x1985810) at 0x196d4c8\n  FLAGS = (SMG,POK,IsCOW,pPOK)\n  PV = 0x1955140 \"abcdef\"\\0\n\nSV = PVMG(0x1985810) at 0x196d4c8\n  FLAGS = (SMG,POK,pPOK)\n  PV = 0x1962360 \"abcdefg\"\\0\n</code></pre>\n\n<p>[Blank lines added to output for readability.]</p>\n\n<p>As denoted by the <code>IsCOW</code> flag, <code>$_</code> shares its string buffer (<code>PV</code>) with another scalar (the constant). Assigning to <code>pos</code> doesn't change that. Appending to <code>$_</code>, on the other hand, causes the string buffer to be copied (<code>0x1955140</code> &rArr; <code>0x1962360</code>, and <code>IsCOW</code> flag is lost).</p>\n\n<hr>\n\n<blockquote>\n  <p>Why isn't the assignment to <code>pos(...)</code> propagating back to the original value unless I use a reference?</p>\n</blockquote>\n\n<p>Because it would be really bad if changing one variable (<code>$str</code>) changed some other unrelated variable (<code>$string</code>)! That they might share a string buffer is an irrelevant implementation detail.</p>\n\n<p>That said, Perl passes by reference, so <code>$_[0]</code> is an alias for <code>$string</code> (the argument), so assigning to <code>pos($_[0])</code> would change both <code>pos($_[0])</code> and <code>pos($string)</code> (being the same variable).</p>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 2, "accepted_answer_id": 46417808, "answer_count": 1, "score": 8, "last_activity_date": 1506526931, "creation_date": 1506399168, "last_edit_date": 1506401205, "question_id": 46417712, "link": "https://stackoverflow.com/questions/46417712/perl-does-assigning-to-pos-trigger-a-copy", "title": "Perl does assigning to pos trigger a copy?", "body": "<p>Does assigning to <code>pos</code> in a string count as a \"write\", triggering a copy? (Tested with perl 5.26 on OS X)</p>\n\n<p>I'm writing a small lexing utility. One of the things that comes up frequently is searching for a pattern starting at a given offset ... and returning the matched string if there was one.</p>\n\n<p>In order to support repeatedly attempting to consume a token, I need my function to set the <code>pos</code> to just after the match if we're successful and <em>to the place where we began the search</em> if we are not.</p>\n\n<p>e.g.</p>\n\n<pre><code>my $string = \"abc\";\nconsume($string, qr/b/, 1);\nprintf \"%s\\n\", pos($string); # should print 2\n\npos($string) = 0; # reset the pos, just to demonstrate\n                  # the intended behavior when there isn't a match\n\nconsume($string, qr/z/, 1);\nprintf \"%s\\n\", pos($string); # should print 1\n</code></pre>\n\n<p>Here's an implementation that returns the right thing but doesn't set the pos correctly.</p>\n\n<pre><code>package TokenConsume;\nuse strict;\nuse warnings;\n\nuse Exporter qw[import];\nour @EXPORT_OK = qw[consume];\n\nsub consume {\n    my ($str, $pat, $pos) = @_;\n    pos($str) = $pos;\n    my $out = undef;\n    if ($str =~ $pat) {\n        $out = substr $str, $-[0], ($+[0] - $-[0]);\n        pos($str) = $+[0];\n    } else {\n        pos($str) = $pos;\n    }\n    return $out;\n}\n</code></pre>\n\n<p>Here's an example test from the test suite for the module</p>\n\n<pre><code>do {\n    my $str = \"abc\";\n    pos($str) = 0;\n    my $res = consume($str, qr/z/, 1);\n    is($res, undef, \"non-first: failed match should capture nothing\");\n    is(pos($str), 1, \"non-first: failed match should return pos to beginning of search\");\n};\n</code></pre>\n\n<p>it fails with the following message (another test fails too):</p>\n\n<pre><code>#   Failed test 'non-first: failed match should return pos to beginning of search'\n#   at t/test_tokenconsume.t line 38.\n#          got: '0'\n#     expected: '1'\n# Looks like you failed 2 tests of 7.\n</code></pre>\n\n<p>I can fix this by passing in a string reference instead and slightly changing the API. Here's the new implementation for completeness.</p>\n\n<pre><code>sub consume {\n    my ($str_ref, $pat, $pos) = @_;\n    pos($$str_ref) = $pos;\n    my $out = undef;\n    if ($$str_ref =~ $pat) {\n        $out = substr $$str_ref, $-[0], ($+[0] - $-[0]);\n        pos($$str_ref) = $+[0];\n    } else {\n        pos($$str_ref) = $pos;\n    }\n    return $out;\n}\n</code></pre>\n\n<p>So, what's going on here? Why isn't the assignment to <code>pos(...)</code> propagating back to the original value unless I use a reference?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 10010, "user_id": 1894021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JXt2j.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/1894021/isaac"}, "edited": false, "score": 1, "creation_date": 1506399070, "post_id": 46417694, "comment_id": 79792923, "body": "<a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags?rq=1\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 5, "creation_date": 1506399759, "post_id": 46417694, "comment_id": 79793097, "body": "Don&#39;t parse XML/HTML/... with regex. Don&#39;t.  See the link in Isaac&#39;s comment and run for <code>XML::LibXML</code> or <code>XML::Twig</code> or one of the number of HTML modules. Having said that, <code>$line =~ m{&#47;&gt;}</code> takes care of <i>that</i> (one) example: Use a delimiter other than <code>&#47;</code>, while <code>&gt;</code> isn&#39;t special."}], "answers": [{"tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": false, "score": -1, "last_activity_date": 1506429860, "last_edit_date": 1506429860, "creation_date": 1506409062, "answer_id": 46419688, "question_id": 46417694, "link": "https://stackoverflow.com/questions/46417694/how-to-check-for-multiple-special-characters-using-regex-in-perl/46419688#46419688", "title": "How to check for multiple special characters using Regex in Perl", "body": "<p>I believe \\Y or \\Q..\\E is your friend here.</p>\n\n<pre><code>  /text\\Y$literal\\Ytext/\n  /\\Q.*\\Etext/\n</code></pre>\n\n<p>\\Y listed as  without any runtime variable interpolations. This means all perl variables will be treated as literal symbols.</p>\n\n<p>\\Q..\\E listed as (disable) pattern metacharacter. This means usual regex special characters will be treated as literal symbols without the needing to escape them.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlre.html</a></p>\n"}], "owner": {"reputation": 119, "user_id": 5505687, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1e07978e941c895c9b80faeaa9dc91c0?s=128&d=identicon&r=PG&f=1", "display_name": "Sriram Chandramouli", "link": "https://stackoverflow.com/users/5505687/sriram-chandramouli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1597378259, "creation_date": 1506398992, "last_edit_date": 1597378259, "question_id": 46417694, "link": "https://stackoverflow.com/questions/46417694/how-to-check-for-multiple-special-characters-using-regex-in-perl", "title": "How to check for multiple special characters using Regex in Perl", "body": "<p>I am a beginner in perl and I am looking on how to search for multiple special characters in a file using Regex. Basically, I have a closing tag /> which I need to verify in a file. I have read that when we have special characters, we need to precede using '\\'. But I have two special characters together and I am not sure how to have this check done.</p>\n\n<p>I am using something like below, including <code>/&gt;</code> in-between <code>/\\\"\"/</code> but its not working :</p>\n\n<pre><code>$line =~ /\\/&gt;/ \n</code></pre>\n\n<p>Could someone help me with this pattern matching using Regex?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1506387808, "post_id": 46416244, "comment_id": 79790402, "body": "Generally you get <code>SCALAR 2</code> instead of the actual array if you are using it in scalar context (instead of list context).  Could you provide the actual example where you see this behavior?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1506393583, "creation_date": 1506393583, "answer_id": 46417016, "question_id": 46416244, "link": "https://stackoverflow.com/questions/46416244/referenced-array-to-array-yield-size-instead-of-actual-array/46417016#46417016", "title": "Referenced array to array yield size instead of actual array", "body": "<p>If you evaluate <code>@{$ref}</code> in scalar context, you will get the number of elements in the array referenced by <code>$ref</code> (just as if you had evaluated <code>@a</code> in scalar context).</p>\n\n<p>If you evaluate <code>@{$ref}</code> in list context, you will get the elements of the array referenced by <code>$ref</code> (just as if you had evaluated <code>@a</code> in list context).</p>\n\n<p>In the code you posted, you are doing the latter.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nsub f { \n   my @my_entities = @_;\n   return \\@my_entities;\n}\n\nmy $ref = f(qw( a b c d ));\nfor my $obj (@{$ref}) {\n   say $obj;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>a\nb\nc\nd\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "edited": false, "score": 0, "creation_date": 1506434869, "post_id": 46422544, "comment_id": 79814542, "body": "Thanks for your answer. Yes, that is what I have seen in all texts on the subject. I should add, in my case the behavior appears to be completely opposite. If I do scalar $ref I get the array/list, if I do @{$ref} I get the size. Weird. The code base is rather huge, so I am wondering if there is something in there that reverses the behavior."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "edited": false, "score": 0, "creation_date": 1506435205, "post_id": 46422544, "comment_id": 79814780, "body": "If you use <code>scalar $ref</code> you will get the array reference, not the array elements. The behaviour of <code>@{ref}</code> will depend on the context in which your expression is evaluated. There is no way to &quot;reverse the behaviour&quot;. It would be helpful if you could edit your question to include a short, but complete, example that exhibits the behaviour that is confusing you."}, {"owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "edited": false, "score": 0, "creation_date": 1506435520, "post_id": 46422544, "comment_id": 79815027, "body": "Updated the original text."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "edited": false, "score": 0, "creation_date": 1506435854, "post_id": 46422544, "comment_id": 79815267, "body": "@aggaton: Weird. That displays <code>abcd</code> as I would expect."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1506417761, "creation_date": 1506417761, "answer_id": 46422544, "question_id": 46416244, "link": "https://stackoverflow.com/questions/46416244/referenced-array-to-array-yield-size-instead-of-actual-array/46422544#46422544", "title": "Referenced array to array yield size instead of actual array", "body": "<p>There is no difference here between array references and actual arrays. If you evaluate an array in list context, you get the array elements. If you evaluate an array in scalar context, you get the number of elements in the array.</p>\n\n<pre><code>my @array = qw[A B C];\nprint \"@array\"; # list context gives 'A B C'\nprint scalar @array; # scalar context gives 3\n\nmy $array_ref = \\@array;\nprint \"@$array_ref\"; # list context gives 'A B C'\nprint scalar @$array_ref; # scalar context gives 3\n</code></pre>\n"}], "owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1506435487, "creation_date": 1506387315, "last_edit_date": 1506435487, "question_id": 46416244, "link": "https://stackoverflow.com/questions/46416244/referenced-array-to-array-yield-size-instead-of-actual-array", "title": "Referenced array to array yield size instead of actual array", "body": "<p>Probably a simple answer, but this has annoyed me for quite some time. I have a variable that looks to be a reference to an array of objects (hashes), i.e. the subroutine retrieving this array returns this</p>\n\n<pre><code>return \\@my_entities;\n</code></pre>\n\n<p>All places I have looked states, in order to loop through these entities I need to do something like this</p>\n\n<pre><code>for my $obj (@{$ref}) {\n   #do stuff\n}\n</code></pre>\n\n<p>Why is it then if I do as above: @{$ref}, I get SCALAR \"2\" if I have 2 elements instead of the array? It's like @{$ref} gives me the size rather than the array.</p>\n\n<p>EDIT: To elaborate more, it appears the operators work opposite in my context, if I do </p>\n\n<pre><code>scalar $ref  \n</code></pre>\n\n<p>I get the array. and if I do</p>\n\n<pre><code>@($ref)\n</code></pre>\n\n<p>I get the length. Is there some hidden option somewhere that reverses the behavior?</p>\n\n<p>I have only recently started working with perl and the code base is rather huge so it would be impossible to paste it all in here, but the gist of the trouble spot looks very similar to one of the answers below. Basically a sub returns a reference to an array/list and that list is being attempted looped through. </p>\n\n<p>If I do this</p>\n\n<pre><code>sub f { \n   my @my_entities = @_;\n   return \\@my_entities;\n}\n\nmy $ref = f(qw( a b c d ));\nfor my $obj (@{$ref}) {\n   print $obj;\n}\n</code></pre>\n\n<p>I get 4 as a result, it doesn't loop through elements. If I change @{$ref} to scalar $ref I get the a b c d listed.</p>\n\n<p>Should be said I am using the Camelcade debugger to run this on a linux server through Webstorm on my laptop.</p>\n"}, {"tags": ["perl", "parsing"], "comments": [{"owner": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "edited": false, "score": 0, "creation_date": 1506389705, "post_id": 46416197, "comment_id": 79790787, "body": "Do you mean [35,37,49] ?"}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 1, "creation_date": 1506389711, "post_id": 46416197, "comment_id": 79790789, "body": "The answer given by Axeman in the article you linked to <i>this question</i> provides the answer."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506422546, "post_id": 46420872, "comment_id": 79805624, "body": "That all looks rather complicated. Wouldn&#39;t <code>split()</code> be far simpler?"}, {"owner": {"reputation": 395, "user_id": 8138432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fc8d250838c8772636a3818ed89422b?s=128&d=identicon&r=PG&f=1", "display_name": "Tardis", "link": "https://stackoverflow.com/users/8138432/tardis"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506520480, "post_id": 46420872, "comment_id": 79855158, "body": "@DaveCross: I guess I am a complicated person who wishes to make sure that when I intended to push something into an array, actually something is being pushed, especially when I take instructions from the user about a column number that is supposed to exist, or if I do not control the data source. <code>split</code> will not allow such control unless you make your code more &quot;complicated&quot; :-)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506521073, "post_id": 46420872, "comment_id": 79855594, "body": "Checking for the existence of the requested column is a great idea and I commend you for posting the only solution that includes that check. But I maintain that adding that check to a <code>split</code>-based solution still makes for simpler code than your regex version. YMMV :-)"}], "tags": [], "owner": {"reputation": 395, "user_id": 8138432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fc8d250838c8772636a3818ed89422b?s=128&d=identicon&r=PG&f=1", "display_name": "Tardis", "link": "https://stackoverflow.com/users/8138432/tardis"}, "is_accepted": false, "score": 0, "last_activity_date": 1506414823, "last_edit_date": 1506414823, "creation_date": 1506412837, "answer_id": 46420872, "question_id": 46416197, "link": "https://stackoverflow.com/questions/46416197/how-to-only-store-certain-column-from-input-file/46420872#46420872", "title": "How to only store certain column from input file?", "body": "<p>You could design a regexp pattern for matching a column, which you repeat <code>$COLUMN_TO_PARSE</code> times, and which then captures the content of the column and pushes it onto your array <code>@data</code>.</p>\n\n<p>Like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @data;\nmy $COLUMN_TO_PARSE = 3;\nwhile (&lt;DATA&gt;) {\n    if (/([^\\s]+\\s+){$COLUMN_TO_PARSE}([^\\s]+)/) {\n        push @data, $2;\n    } else {\n        print(\"error wrong line format: $_\\n\");\n    }\n}\nprint Dumper(@data);\n\n__DATA__\n01 8 0 35 0.64 22\n02 8 0 37 0.68 9\n03 8 0 49 0.68 49\n</code></pre>\n\n<p>which gives the following dump for <code>@data</code>:</p>\n\n<pre><code>$VAR1 = '35';\n$VAR2 = '37';\n$VAR3 = '49';\n</code></pre>\n\n<p><code>$COLUMN_TO_PARSE</code> is zero based, as in your example, and, as a side-effect, the regexp will fail if the requested column does not exist, thus giving you error-handling.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506422647, "post_id": 46420924, "comment_id": 79805686, "body": "<i>You have to use <code>split</code></i> - In Perl it&#39;s almost never true that you &quot;have to use&quot; any particular technique :-)"}], "tags": [], "owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "is_accepted": false, "score": 0, "last_activity_date": 1506430663, "last_edit_date": 1506430663, "creation_date": 1506412976, "answer_id": 46420924, "question_id": 46416197, "link": "https://stackoverflow.com/questions/46416197/how-to-only-store-certain-column-from-input-file/46420924#46420924", "title": "How to only store certain column from input file?", "body": "<p>You can use <code>split</code> to get data column wise. Each column in stored in consecutive indices of the array.</p>\n\n<pre><code>while(&lt;INPUT_FILE&gt;){\n     my @columns = split(/\\t/, $_);  #Assuming delimiter to tab\n\n     print \"First column====$columns[0]\\n\";\n     print \"Second column====$columns[1]\\n\";\n\n}\n</code></pre>\n\n<p>Do process whichever column you want and store into an array.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506431209, "post_id": 46421667, "comment_id": 79811739, "body": "If you use <code>while(&lt;INPUT_FILE&gt;)</code> and assign each record to <code>$_</code> then you can use <code>split</code>&#39;s default behaviour and save a lot of typing - <code>my @items = split</code>. You could also eliminate the intermediate <code>@items</code> array - <code>push @data, (split)[$COLUMN_TO_PARSE]</code>"}, {"owner": {"reputation": 317, "user_id": 6934607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87af3023c7f62d51b72233eb464ba27e?s=128&d=identicon&r=PG&f=1", "display_name": "Yang Yu", "link": "https://stackoverflow.com/users/6934607/yang-yu"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506432531, "post_id": 46421667, "comment_id": 79812735, "body": "@DaveCross Good idea"}], "tags": [], "owner": {"reputation": 317, "user_id": 6934607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87af3023c7f62d51b72233eb464ba27e?s=128&d=identicon&r=PG&f=1", "display_name": "Yang Yu", "link": "https://stackoverflow.com/users/6934607/yang-yu"}, "is_accepted": false, "score": 1, "last_activity_date": 1506415352, "creation_date": 1506415352, "answer_id": 46421667, "question_id": 46416197, "link": "https://stackoverflow.com/questions/46416197/how-to-only-store-certain-column-from-input-file/46421667#46421667", "title": "How to only store certain column from input file?", "body": "<p><code>split</code> is a good choice:</p>\n\n<pre><code>while (my $line = &lt;INPUT_FILE&gt;) {\n    my @items = split(/\\t/, $line);\n    push @data,$items[$COLUMN_TO_PARSE];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1506521420, "last_edit_date": 1506521420, "creation_date": 1506423111, "answer_id": 46424464, "question_id": 46416197, "link": "https://stackoverflow.com/questions/46416197/how-to-only-store-certain-column-from-input-file/46424464#46424464", "title": "How to only store certain column from input file?", "body": "<p>I've used <code>split()</code> to split the input into a list of records. By default, <code>split()</code> works on <code>$_</code> and splits on white space - which is exactly what we want here.</p>\n\n<p>I've then used a list slice to get the column that you want, and pushed that onto your array.</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse warnings;\nuse strict;\n\n# Check parameters\n@ARGV == 2 or die \"Please specify input file and column number\\n\";\n\nmy ($file, $column_to_parse) = @ARGV;\n\nopen my $in_fh, '&lt;', $file\n  or die \"Couldn't open $file for reading: $!\";\n\nmy @data;\n\nwhile (&lt;$in_fh&gt;){\n  push @data, (split)[$column_to_parse];\n}\n</code></pre>\n\n<p>If I was writing it for myself, I think I would replace the <code>while</code> loop with a <code>map</code>.</p>\n\n<pre><code>my @data = map { (split)[$column_to_parse] } &lt;$in_fh&gt;;\n</code></pre>\n\n<p><strong>Update:</strong> To ensure that you have been given a valid column number (and I think that's a good idea) you might write something like this:</p>\n\n<pre><code>while (&lt;$in_fh&gt;){\n  my @fields = split;\n  die \"Not enough columns in row $.\\n\" if $#fields &lt; $column_to_parse;\n  push @data, $fields[$column_to_parse];\n}\n</code></pre>\n"}], "owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 46424464, "answer_count": 4, "score": 0, "last_activity_date": 1506521420, "creation_date": 1506386903, "last_edit_date": 1506428511, "question_id": 46416197, "link": "https://stackoverflow.com/questions/46416197/how-to-only-store-certain-column-from-input-file", "title": "How to only store certain column from input file?", "body": "<p>I am creating a script that should take in a data file and a column index, read and store that column and then perform some statistics on the data. I am unsure how to specify that I only want to store a specific column in Perl. Here is my code so far:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw(say);\nuse Scalar::Util qw(looks_like_number);\n\nmy ($FILE, $COLUMN_TO_PARSE) = @ARGV;\n\n#check if file arg is present\nif(not defined $FILE){\n    die \"Please specify file input $!\";\n} \n#check if column arg is present\nif(not defined $COLUMN_TO_PARSE){\n    die \"Please specify column number $!\";\n}\n\nunless(open(INPUT_FILE, \"&lt;\", $FILE)){\n        die \"Couldn't open \", $FILE ,\" for reading!\", $!;\n}\nmy @data;\nwhile(&lt;INPUT_FILE&gt;){\n     # Only store $COLUMN_TO_PARSE, save to @data\n}\nclose(INPUT_FILE);\n</code></pre>\n\n<p>For reference, the data coming in looks something like this(sorry for format):</p>\n\n<p>01  8   0   35  0.64    22</p>\n\n<p>02  8   0   37  0.68    9</p>\n\n<p>03  8   0   49  0.68    49</p>\n\n<p>So for example, if I ran </p>\n\n<p><code>perl descriptiveStatistics.pl dataFile.txt 3</code></p>\n\n<p>I would expect to have <code>[35,37,49]</code> in the <code>@data</code> array.</p>\n\n<p>I stumbled upon <a href=\"https://stackoverflow.com/questions/7093571/how-can-i-use-perl-extract-a-particular-column-from-a-tab-separated-file\">this question</a>, but it has to do with headers which I don't have, and not very helpful imo. Any suggestions?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4244, "user_id": 3348112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab4cd9458f5debd780353a5554b718d8?s=128&d=identicon&r=PG&f=1", "display_name": "CAustin", "link": "https://stackoverflow.com/users/3348112/caustin"}, "edited": false, "score": 4, "creation_date": 1506377735, "post_id": 46414935, "comment_id": 79787838, "body": "I&#39;m not super familiar with Perl, but doesn&#39;t the diamond operator iterate line by line? You won&#39;t get both <code>hello</code> and <code>there</code> together at the same time this way."}, {"owner": {"reputation": 78607, "user_id": 319403, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e92a9af9e53cc8e5af575c4b18b34c21?s=128&d=identicon&r=PG", "display_name": "cHao", "link": "https://stackoverflow.com/users/319403/chao"}, "edited": false, "score": 1, "creation_date": 1506377908, "post_id": 46414935, "comment_id": 79787895, "body": "You can set some variables so that it&#39;ll eat all the input at once, but yeah. By default you only get a line at a time."}, {"owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "edited": false, "score": 0, "creation_date": 1506378115, "post_id": 46414935, "comment_id": 79787963, "body": "I completely forgot about that. Thanks for the help!"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "edited": false, "score": 0, "creation_date": 1506378071, "post_id": 46415016, "comment_id": 79787954, "body": "Thanks a lot. This worked. I completely forgot about it reading line by line."}, {"owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "edited": false, "score": 0, "creation_date": 1506378554, "post_id": 46415016, "comment_id": 79788091, "body": "Is the change in $/ only local to the subroutine call, or is it a global change? Example, if I change it on subroutine, would it be reset to default in another subroutine?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "edited": false, "score": 2, "creation_date": 1506378753, "post_id": 46415016, "comment_id": 79788149, "body": "<code>local</code> changes its value in the nearest scope, and <code>do {...}</code> limits the scope."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1506377896, "creation_date": 1506377896, "answer_id": 46415016, "question_id": 46414935, "link": "https://stackoverflow.com/questions/46414935/matching-a-pattern-on-different-lines-in-perl/46415016#46415016", "title": "Matching a pattern on different lines in Perl", "body": "<p><code>&lt;&gt;</code> reads only one line of input, unless you clear the <code>$/</code> variable.</p>\n\n<pre><code>my $all_lines = do { local $/; &lt;&gt; };\n</code></pre>\n\n<p>Then, you can match</p>\n\n<pre><code>$all_lines =~ /hello\\nthere/;\n</code></pre>\n\n<p>No need for <code>/m</code>, as it changes the meaning of <code>^</code> and <code>$</code>, neither of which is present in the regex.</p>\n"}], "owner": {"reputation": 57, "user_id": 8289954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdd6a578bb857429b28113c3be19cd60?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Jane", "link": "https://stackoverflow.com/users/8289954/bob-jane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 46415016, "answer_count": 1, "score": 0, "last_activity_date": 1506377896, "creation_date": 1506377411, "question_id": 46414935, "link": "https://stackoverflow.com/questions/46414935/matching-a-pattern-on-different-lines-in-perl", "title": "Matching a pattern on different lines in Perl", "body": "<p>I am trying to match a pattern on different lines using this </p>\n\n<pre><code>my $line = &lt;&gt;;\n\nif($line =~ /hello\\nthere/m){\n    say \"matched\";\n}\nelse{\n    say \"no match\";\n}\n</code></pre>\n\n<p>However, when I run the program with a file containing this text, it doesn't match.</p>\n\n<pre><code>hello\nthere\n</code></pre>\n\n<p>I've tried using the dot operator (.) and the /s modifier as well. Any help would be appreciated. Thanks.</p>\n"}, {"tags": ["perl", "cpanm"], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1506377044, "post_id": 46414858, "comment_id": 79787618, "body": "... which, in turn, runs the cpanminus with the argument App::cpanminus, so it installs the library App:cpanminus, which provides cpanminus."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1506377446, "last_edit_date": 1506377446, "creation_date": 1506376947, "answer_id": 46414858, "question_id": 46414830, "link": "https://stackoverflow.com/questions/46414830/why-is-cpanminus-installed-using-a-single-dash-argument-to-the-perl-interpreter/46414858#46414858", "title": "Why is cpanminus installed using a single dash argument to the Perl interpreter?", "body": "<p>The first non-option argument passed to <code>perl</code> is the name of the file to execute. <code>-</code> indicates STDIN. Therefore, the command has <code>perl</code> execute the output of <code>curl -L https://cpanmin.us</code>, passing <code>App::cpanminus</code> as an argument.</p>\n\n<p>Since <code>curl -L https://cpanmin.us</code> returns a self-contained version of <code>cpanm</code>, the whole command effectively downloads <code>cpanm</code> and uses it to install <code>cpanm</code> (a part of App::cpanminus).</p>\n\n<p>In other words, </p>\n\n<pre><code>curl -L https://cpanmin.us | perl - App::cpanminus\n</code></pre>\n\n<p>is roughly the same as</p>\n\n<pre><code>curl -L https://cpanmin.us &gt;self_contained_cpanm\nperl self_contained_cpanm App::cpanminus\n</code></pre>\n"}], "owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 46414858, "answer_count": 1, "score": 0, "last_activity_date": 1506377446, "creation_date": 1506376785, "question_id": 46414830, "link": "https://stackoverflow.com/questions/46414830/why-is-cpanminus-installed-using-a-single-dash-argument-to-the-perl-interpreter", "title": "Why is cpanminus installed using a single dash argument to the Perl interpreter?", "body": "<p>When looking at <a href=\"http://search.cpan.org/~miyagawa/App-cpanminus-1.7043/lib/App/cpanminus.pm\" rel=\"nofollow noreferrer\">Cpanminus</a>, I saw that one way to install it is the following:</p>\n\n<pre><code>curl -L https://cpanmin.us | perl - App::cpanminus\n</code></pre>\n\n<p>The first part downloads a file from the URL which can be interpreted by the Perl interpreter, and then pipes it to Perl. I can't figure out what the single dash argument is doing, though. </p>\n\n<p>For that matter I'm not totally sure what the second argument is doing (why would Cpanminus need to know its own name?), but at least it looks less mysterious. </p>\n"}, {"tags": ["list", "perl", "elements"], "comments": [{"owner": {"reputation": 1146, "user_id": 5301606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a6871f92d83ce555edcf15a5eee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "C. Helling", "link": "https://stackoverflow.com/users/5301606/c-helling"}, "edited": false, "score": 0, "creation_date": 1506377219, "post_id": 46414453, "comment_id": 79787674, "body": "What&#39;s the error?"}, {"owner": {"reputation": 3, "user_id": 8635512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07494e24215a248447e7240b4fcb45e2?s=128&d=identicon&r=PG&f=1", "display_name": "NotTheDoctor", "link": "https://stackoverflow.com/users/8635512/notthedoctor"}, "reply_to_user": {"reputation": 1146, "user_id": 5301606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a6871f92d83ce555edcf15a5eee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "C. Helling", "link": "https://stackoverflow.com/users/5301606/c-helling"}, "edited": false, "score": 0, "creation_date": 1506390597, "post_id": 46414453, "comment_id": 79790973, "body": "I&#39;m not getting one (it ends as if it was successful), but the file does not move. I should also note that I am indeed using strict and warnings."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8635512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07494e24215a248447e7240b4fcb45e2?s=128&d=identicon&r=PG&f=1", "display_name": "NotTheDoctor", "link": "https://stackoverflow.com/users/8635512/notthedoctor"}, "edited": false, "score": 0, "creation_date": 1506377038, "post_id": 46414698, "comment_id": 79787615, "body": "Just a note this is nothing like the actual code, but it&#39;s close enough to help me get the answer  I think I need. I corrected those things you pointed out for the psuedocode and even removed the new line parts from the real code but it still doesn&#39;t work."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 3, "user_id": 8635512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07494e24215a248447e7240b4fcb45e2?s=128&d=identicon&r=PG&f=1", "display_name": "NotTheDoctor", "link": "https://stackoverflow.com/users/8635512/notthedoctor"}, "edited": false, "score": 0, "creation_date": 1506377183, "post_id": 46414698, "comment_id": 79787664, "body": "@NotTheDoctor: What do you mean by &quot;doesn&#39;t work&quot;? Any error messages? Do you check the return value of <code>move</code>, and if it&#39;s 0, do you check <code>$!</code>?"}, {"owner": {"reputation": 3, "user_id": 8635512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07494e24215a248447e7240b4fcb45e2?s=128&d=identicon&r=PG&f=1", "display_name": "NotTheDoctor", "link": "https://stackoverflow.com/users/8635512/notthedoctor"}, "edited": false, "score": 0, "creation_date": 1506390365, "post_id": 46414698, "comment_id": 79790918, "body": "Sorry, it doesn&#39;t move the file. I should probably explain what happens a bit more: the script creates a file and puts a bunch of data in it, when it reaches a certain limit (100k lines in this case) it creates a new file and moves the previous file to a different directory. This new file then has data added to it until the same thing happens. The issue is that when this new file is created the variable that stores the file name changes back to the old file name after the variables are reinitialized. No error message, the script just ends, even in debug mode it ends as if it&#39;s successful."}, {"owner": {"reputation": 3, "user_id": 8635512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07494e24215a248447e7240b4fcb45e2?s=128&d=identicon&r=PG&f=1", "display_name": "NotTheDoctor", "link": "https://stackoverflow.com/users/8635512/notthedoctor"}, "edited": false, "score": 0, "creation_date": 1506390514, "post_id": 46414698, "comment_id": 79790955, "body": "I hope that makes a bit more sense. The issue is that only the first file is moved, any following files are not moved. Thanks for your help really, I have never coded in perl before."}, {"owner": {"reputation": 3, "user_id": 8635512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07494e24215a248447e7240b4fcb45e2?s=128&d=identicon&r=PG&f=1", "display_name": "NotTheDoctor", "link": "https://stackoverflow.com/users/8635512/notthedoctor"}, "edited": false, "score": 0, "creation_date": 1506423823, "post_id": 46414698, "comment_id": 79806453, "body": "Ok I think I have it now, I&#39;m waiting until that long while loop ends and then moving the files using a for statement instead."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1506377241, "last_edit_date": 1506377241, "creation_date": 1506376127, "answer_id": 46414698, "question_id": 46414453, "link": "https://stackoverflow.com/questions/46414453/retrieving-elements-in-a-list-perl/46414698#46414698", "title": "Retrieving elements in a list perl", "body": "<pre><code>my $newDir = foo/bar;\n</code></pre>\n\n<p>There are quotes missing around the string:</p>\n\n<pre><code>my $newDir = 'foo/bar';\n</code></pre>\n\n<p>and similarly for other paths.</p>\n\n<p>Also, are you sure you want to use a file name with a newline at the end in the <code>move</code> command?</p>\n\n<p>Also, something like</p>\n\n<pre><code>use File::Copy;\n</code></pre>\n\n<p>is missing, too.</p>\n\n<p>Moreover, check the return value of <code>move</code>:</p>\n\n<pre><code>move $List[$var-1], $newDir or die $!;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1506417345, "creation_date": 1506417345, "answer_id": 46422400, "question_id": 46414453, "link": "https://stackoverflow.com/questions/46414453/retrieving-elements-in-a-list-perl/46422400#46422400", "title": "Retrieving elements in a list perl", "body": "<p>Firstly, you have no lists in your code. You have an <strong>array</strong> called <code>@List</code>, but misnaming a variable doesn't change what it is. <a href=\"http://friedo.com/blog/2013/07/arrays-vs-lists-in-perl\" rel=\"nofollow noreferrer\">Arrays are not lists</a>.</p>\n\n<p>Secondly, your code works exactly as expected for me. I've added error reporting on the <code>move</code> call. That might help track down your problem, but I suspect it's caused by files or directories not being where you think they are.</p>\n\n<pre><code>$ cat move \n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse File::Copy qw(move);\nmy @List;\nmy $newDir = \"foo/bar\";\nmy $file = \"foo/bar.txt\";\npush @List, $file;\nmy $file2 = \"foo/bar2.txt\";\nmy $var = 1;\npush @List, $file2;\nmove $List[$var-1], $newDir or warn $!;\n\n$ find foo\nfoo\nfoo/bar\nfoo/bar.txt\n\n$ perl move\n\n$ find foo\nfoo\nfoo/bar\nfoo/bar/bar.txt\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8635512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07494e24215a248447e7240b4fcb45e2?s=128&d=identicon&r=PG&f=1", "display_name": "NotTheDoctor", "link": "https://stackoverflow.com/users/8635512/notthedoctor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1506417345, "creation_date": 1506374926, "last_edit_date": 1506376954, "question_id": 46414453, "link": "https://stackoverflow.com/questions/46414453/retrieving-elements-in-a-list-perl", "title": "Retrieving elements in a list perl", "body": "<p>I'm trying to retrieve an element from a list using perl using another variable that is assigned an integer.</p>\n\n<pre><code>    use File::Copy qw(move)\n    my @List;\n    my $newDir = \"foo/bar\";\n    my $file = \"foo/bar.txt\";\n    push @List, $file;\n    my $file2 = \"foo/bar2.txt\";\n    my $var = 1;\n    push @List, $file2;\n    move $List[$var-1], $newDir;\n</code></pre>\n\n<p>Instead of moving \"file\" the program fails.</p>\n"}, {"tags": ["regex", "perl", "debugging", "perl-module"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506401455, "post_id": 46414292, "comment_id": 79793537, "body": "I find that loading it at runtime (<code>require</code> + <code>-&gt;import</code>) in modules shows no errors and &#39;normal&#39; code works -- but the module doesn&#39;t seem to do any of its job."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506431218, "post_id": 46414292, "comment_id": 79811746, "body": "It seems that there is a bug in the debugger... &gt;.&lt;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506456387, "post_id": 46414292, "comment_id": 79827102, "body": "OK -- it did look weird.  A good find!  Should probably be reported"}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 6, "last_activity_date": 1506500768, "last_edit_date": 1506500768, "creation_date": 1506375648, "answer_id": 46414610, "question_id": 46414292, "link": "https://stackoverflow.com/questions/46414292/regexpdebugger-perl-module-doesnt-seem-to-work-within-another-perl-module/46414610#46414610", "title": "Regexp::Debugger Perl module doesn&#39;t seem to work within another Perl Module", "body": "<p>This seems to be a bug in the way Regexp::Debugger checks lexical hints in calling scopes, but I'm not sure how to fix it. For reference, <a href=\"https://metacpan.org/source/DCONWAY/Regexp-Debugger-0.002000/lib/Regexp/Debugger.pm#L160\" rel=\"nofollow noreferrer\">https://metacpan.org/source/DCONWAY/Regexp-Debugger-0.002000/lib/Regexp/Debugger.pm#L160</a> is:</p>\n\n<pre><code>my $lexical_scope = (caller 1)[10]{'Regexp::Debugger::lexical_scope'};\n</code></pre>\n\n<p>Maybe it should do <code>((caller 1)[10] || {})-&gt;{'Regexp::Debugger::lexical_scope'}</code> instead?</p>\n\n<hr>\n\n<p>Anyway, I was able to reproduce your problem and I found a workaround. In <code>test.pl</code>, do:</p>\n\n<pre><code>use strict;\nuse warnings;\nno Regexp::Debugger;\nuse TestModule;\n</code></pre>\n\n<p>I.e. load <code>Regexp::Debugger</code> before you <code>use TestModule</code>, but with <code>no</code> instead of <code>use</code> to avoid activating it for the main program.</p>\n\n<p>With this change, I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>TestModule.pm did not return a true value at test.pl line 4.\nBEGIN failed--compilation aborted at test.pl line 4.\n</code></pre>\n\n<p>... which is still an error, but it's a good error. It means there were no problems with <code>Regexp::Debugger</code>.</p>\n\n<p>If I then add a line of <code>1</code> at the end of <code>TestModule.pm</code>, everything works.</p>\n\n<hr>\n\n<p><em>Update:</em> OP <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=123134\" rel=\"nofollow noreferrer\">reported the problem</a> and <a href=\"https://metacpan.org/changes/distribution/Regexp-Debugger#L233-236\" rel=\"nofollow noreferrer\">it was fixed</a> in version 0.002001 of Regexp::Debugger.</p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 1, "accepted_answer_id": 46414610, "answer_count": 1, "score": 6, "last_activity_date": 1506520228, "creation_date": 1506374045, "last_edit_date": 1506520228, "question_id": 46414292, "link": "https://stackoverflow.com/questions/46414292/regexpdebugger-perl-module-doesnt-seem-to-work-within-another-perl-module", "title": "Regexp::Debugger Perl module doesn&#39;t seem to work within another Perl Module", "body": "<p>I am writing a Perl module that involves some very complicated regular expressions that are nearly impossible to debug without a tool to help me. I figured the <a href=\"http://search.cpan.org/~dconway/Regexp-Debugger-0.002000/lib/Regexp/Debugger.pm\" rel=\"nofollow noreferrer\"><code>Regexp::Debugger</code></a> module would be the perfect tool for the job, but it only seems to work in <code>.pl</code> scripts and doesn't seem to work within a <code>.pm</code> module.</p>\n\n<hr>\n\n<p>For example, this works:</p>\n\n<p><strong>test.pl</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse Regexp::Debugger;\n\nmy $text = \"text\";\nif ($text =~ /tex/) {\n    print \"Match!\";\n}\n</code></pre>\n\n<p>And I get the expected debugging functionality.</p>\n\n<hr>\n\n<p>But the second I introduce a Perl Module to the mix it no longer works:</p>\n\n<p><strong>test.pl</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse TestModule;\n\nTestModule::func();\n</code></pre>\n\n<p><strong>TestModule.pm</strong></p>\n\n<pre><code>package TestModule;\n\nuse strict;\nuse warnings;\nuse Regexp::Debugger;\n\nsub func {\n    my $text = \"text\";\n    if ($text =~ /tex/) {\n        print \"Match!\";\n    }\n}\n\n1;\n</code></pre>\n\n<p>Attempting to run this code gives the following error:</p>\n\n<blockquote>\n  <p>Can't use an undefined value as a HASH reference at Regexp/Debugger.pm line 160</p>\n</blockquote>\n\n<p>Simply including <code>Regexp::Debugger</code> in the \"test.pl\" file instead doesn't work either because it doesn't try to debug regexes within included modules.</p>\n\n<p>How can I get this to work so I can debug the regexes within a module that I'm working on?</p>\n\n<hr>\n\n<h2>UPDATE:</h2>\n\n<p>A bug report has been filed, and a new version (v0.002001) is now available on CPAN that works as expected. :)</p>\n"}, {"tags": ["perl", "web-scraping", "www-mechanize-firefox"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1506372591, "post_id": 46413850, "comment_id": 79785774, "body": "Surely it&#39;s because you disabled JS."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1506416704, "creation_date": 1506416704, "answer_id": 46422148, "question_id": 46413850, "link": "https://stackoverflow.com/questions/46413850/download-web-page-using-wwwmechanizefirefox/46422148#46422148", "title": "Download web page using WWW::Mechanize::Firefox", "body": "<p>Ok. So you have a page that builds its content using Javascript. Presumably, you have chosen to use WWW::Mechanize::Firefox instead of WWW::Mechanize because it includes support for rendering pages that are built using Javascript.</p>\n\n<p>And yet, when creating your Mechanize object, you explicitly turn off the Javascript support.</p>\n\n<pre><code>$mech-&gt;allow( javascript =&gt; 0 );\n</code></pre>\n\n<p>I can't test this theory because you haven't told us which URL you are using, but I bet you get a better result if you change that line to:</p>\n\n<pre><code>$mech-&gt;allow( javascript =&gt; 1 );\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 7236738, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d661f20e95b55e15a2c6037654636265?s=128&d=identicon&r=PG&f=1", "display_name": "Xavia", "link": "https://stackoverflow.com/users/7236738/xavia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1506416704, "creation_date": 1506372144, "last_edit_date": 1506373659, "question_id": 46413850, "link": "https://stackoverflow.com/questions/46413850/download-web-page-using-wwwmechanizefirefox", "title": "Download web page using WWW::Mechanize::Firefox", "body": "<p>I'm trying to scrape a website using <code>WWW::Mechanize::Firefox</code>, but whenever I try to get the data it is displaying JavaScript code and the data that I need is not there. If I inspect the element on Mozilla, the data that I need is there.</p>\n\n<p>Here's my current code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse warnings;\n\nuse WWW::Mechanize::Firefox;\n\nmy $mech = WWW::Mechanize::Firefox-&gt;new();\n\n$mech-&gt;get('link_goes_here');\n$mech-&gt;allow( javascript =&gt; 0 );\n$mech-&gt;content_encoding();\n$mech-&gt;save_content('source.html');\n</code></pre>\n"}, {"tags": ["perl", "response", "recaptcha"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 0, "creation_date": 1506366850, "post_id": 46412002, "comment_id": 79782866, "body": "Did you look here? <a href=\"https://developers.google.com/recaptcha/docs/verify\" rel=\"nofollow noreferrer\">developers.google.com/recaptcha/docs/verify</a> If so, what part of this check-verify loop is not working for you?"}, {"owner": {"reputation": 11, "user_id": 8671780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f3b761b877d0a41148411d6404af0b?s=128&d=identicon&r=PG&f=1", "display_name": "Itsabogus", "link": "https://stackoverflow.com/users/8671780/itsabogus"}, "edited": false, "score": 0, "creation_date": 1506367828, "post_id": 46412002, "comment_id": 79783382, "body": "At least in my context the entire thing cited doesn&#39;t make sense. The server SSI doesn&#39;t run Java or JavaScript(?).  Is there a working example of of evaluating this &quot;g-recaptcha-response&quot; when constrained to use Perl?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 0, "creation_date": 1506368186, "post_id": 46412002, "comment_id": 79783564, "body": "That link is reasonably language agnostic so I&#39;m not sure what you mean. My naive reading is that you have to submit the response you get (in any of a few ways) to another endpoint. The response from that gives you a boolean for success."}, {"owner": {"reputation": 11, "user_id": 8671780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f3b761b877d0a41148411d6404af0b?s=128&d=identicon&r=PG&f=1", "display_name": "Itsabogus", "link": "https://stackoverflow.com/users/8671780/itsabogus"}, "edited": false, "score": 0, "creation_date": 1506369376, "post_id": 46412002, "comment_id": 79784192, "body": "I want to validate Google&#39;s response at the server.  On the server, after dredging through CGI::params, I have a Perl $g-recaptcha-response variable that contains Google&#39;s response. How then do I evaluate the response in the same Perl script?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 0, "creation_date": 1506369552, "post_id": 46412002, "comment_id": 79784272, "body": "I have no idea. But you show a &quot;g-recaptcha-response&quot; you got from somewhere. According to that API docs, this has to be POSTed to an endpoint to get some JSON that has a flag in it. If you are doing something very different from this, you should make that clear in the description. All I see is you got a string from somewhere and need to validate it..."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8671780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f3b761b877d0a41148411d6404af0b?s=128&d=identicon&r=PG&f=1", "display_name": "Itsabogus", "link": "https://stackoverflow.com/users/8671780/itsabogus"}, "edited": false, "score": 0, "creation_date": 1506375932, "post_id": 46413660, "comment_id": 79787206, "body": "Thanks for the example Javier!  It&#39;s precisely the information needed. Ms. Kaewduangdee&#39;s useful CPAN contribution does a nice job!"}], "tags": [], "owner": {"reputation": 1672, "user_id": 4355253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee8cbfecfb7686f370b07eea52273c5?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Elices", "link": "https://stackoverflow.com/users/4355253/javier-elices"}, "is_accepted": false, "score": 2, "last_activity_date": 1506429206, "last_edit_date": 1506429206, "creation_date": 1506371360, "answer_id": 46413660, "question_id": 46412002, "link": "https://stackoverflow.com/questions/46412002/any-examples-of-handling-a-recaptcha-post-response/46413660#46413660", "title": "Any examples of handling a recaptcha POST response?", "body": "<p>Do you know the module <a href=\"http://search.cpan.org/~pattawan/Captcha-reCAPTCHA-V2-0.3/lib/Captcha/reCAPTCHA/V2.pm\" rel=\"nofollow noreferrer\">Captcha::reCAPTCHA::V2</a>? I have succesfully used it and it is a great time saver. In plain CGI, the server side code that does the validation would look like:</p>\n\n<pre><code>my $rc = Captcha::reCAPTCHA::V2-&gt;new;\nmy $result = $rc-&gt;verify('&lt;your secret key here&gt;', param('g-recaptcha-response'), remote_host);\n\n# Check the result\nif( !$result-&gt;{success} ){\n  # The check failed, ignore the POST\n  next;\n}\n</code></pre>\n\n<p>I assume that you have already created your <a href=\"https://www.google.com/recaptcha\" rel=\"nofollow noreferrer\">reCAPTCHA</a> keys, have your HTML form and an idea of how to create the rest of the server side code.</p>\n\n<p>To help other people that may seek how to do this, this is a minimum form for the client side (this is based on bootstrap):</p>\n\n<pre><code>&lt;form id=\"contact-form\" method=\"post\" action=\"contact\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-md-12\"&gt;\n            &lt;div class=\"form-group\"&gt;\n                &lt;label for=\"message\"&gt;Comments&lt;/label&gt;\n                &lt;textarea id=\"message\" type=\"text\" name=\"message\" class=\"form-control\" placeholder=\"Your comments...\" rows=\"4\" required&gt;&lt;/textarea&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-md-12\"&gt;\n            &lt;div align=\"center\"&gt;\n                &lt;button\n                        class=\"g-recaptcha\"\n                        data-sitekey=\"&lt;your site key here&gt;\"\n                        data-callback=\"onSubmit\"&gt;\n                        Enviar mensaje\n                &lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n\n&lt;script&gt;\n  function onSubmit(token) {\n    document.getElementById(\"contact-form\").submit();\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>Then, on the server side you would need something like (this is based on FastCGI; for CGI you would not use the loop):</p>\n\n<pre><code>use CGI::Fast qw(:standard);\nuse Captcha::reCAPTCHA::V2;\n\n...\n\nwhile(my $query = new CGI::Fast) {\n\n  ...\n\n  if( request_method eq 'POST' ) {\n\n    my $rc = Captcha::reCAPTCHA::V2-&gt;new;\n    my $result = $rc-&gt;verify('&lt;your secret key here&gt;', param('g-recaptcha-response'), remote_host);\n\n    # Check the result\n    if( !$result-&gt;{success} ){\n      # The check failed, ignore the POST\n      next;\n    }\n\n    # Do something with the form\n\n  }\n\n  ...\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8671780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f3b761b877d0a41148411d6404af0b?s=128&d=identicon&r=PG&f=1", "display_name": "Itsabogus", "link": "https://stackoverflow.com/users/8671780/itsabogus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 2, "answer_count": 1, "score": -3, "last_activity_date": 1506429206, "creation_date": 1506364534, "last_edit_date": 1506364775, "question_id": 46412002, "link": "https://stackoverflow.com/questions/46412002/any-examples-of-handling-a-recaptcha-post-response", "title": "Any examples of handling a recaptcha POST response?", "body": "<p>Current version V2 reCaptcha returns a \"POST\" in CGI:params.  Not exactly what the old V2 version did.</p>\n\n<p>The up side is that any HTML form contents and the reCaptcha response come in at the same time.  The down side is that the \"g-recaptcha-response\" value is a blob that requires local validation.</p>\n\n<p>The \"g-recaptcha-response\" value looks something like this:</p>\n\n<pre><code>03AJzQf7OU1j33-wm7I73BItJg-l2COD-YwSjesvfej_5vy5c0r_LUhaDU1KsvU0BV0Rc-MHRbR4L17TNya1CqFtCJGulzvwTpKCfjwWcwqj2e3nFiqeropkXnYzwE78Eydr0jGi3OjZCKK71rmhOXZr0OA_nC8Cpd6aPaexqkrfLXdiXFPE7pQqc-qixYzVklb2MIuPyxw414kVbyHsbDr5p-pitK9cXvvPYK1Td7T_z6xnMUIuNN5zY3ArYzlAGexsSffucQRrzSKT_779In1QzwQppASux3-Z_xPLQgCLnRsJlwcby7gFFWXHSfAxV2ErpsiGWQcGa1\n</code></pre>\n\n<p>How can one decipher this response in Perl to be sure it is a genuine acknowledgement that the Turing test was solved correctly?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1506354477, "post_id": 46409111, "comment_id": 79776114, "body": "The error message indicates you have a compiled module (XS module) where the C code calls a non-existing function. If reinstalling the newest version of the module doesn&#39;t help, consider asking the author of that module. However, the module does not seem to be on CPAN. Maybe it is an internal module at your institution. We can&#39;t help with that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506356011, "post_id": 46409111, "comment_id": 79777103, "body": "The first error probably means the <code>perl</code> that installed Bio::Ext::Align is different than the <code>perl</code> that&#39;s trying to load it. Reinstalling Bio::Ext::Align might do the trick. Or maybe you are telling <code>perl</code> to look in the wrong location for modules (e.g. via env var <code>PERL5LIB</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506356067, "post_id": 46409111, "comment_id": 79777135, "body": "The second error is because <code>&#47;usr&#47;local&#47;lib64&#47;perl5&#47;auto&#47;Bio&#47;Ext&#47;Align&#47;Align.so</code> is not the name of a module or distribution."}, {"owner": {"reputation": 135, "user_id": 8496333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd3ed6d3e9df6b77322bec4bd2904ed5?s=128&d=identicon&r=PG&f=1", "display_name": "DanielSebas", "link": "https://stackoverflow.com/users/8496333/danielsebas"}, "edited": false, "score": 0, "creation_date": 1506420174, "post_id": 46409111, "comment_id": 79804009, "body": "I have an update on this - I tried to see what could be the problem. In the process I figured out some issue like this; I use five perl modules in the script namely; Bio::Tools::pSW, Bio::Seq, Bio::SimpleAlign, Bio::AlignIO, Bio::Ext::Align. In the script when I remove the module &quot;Bio::Ext::Align&quot;, I still get the same error above. I did this step for all modules to see which module could be the cause of problem, and found out that when I remove &quot;Bio::Tools::pSW&quot;, I get to the part of script just before this module. Could this module be the problem? Please let me know what you think? Thanks!"}], "owner": {"reputation": 135, "user_id": 8496333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd3ed6d3e9df6b77322bec4bd2904ed5?s=128&d=identicon&r=PG&f=1", "display_name": "DanielSebas", "link": "https://stackoverflow.com/users/8496333/danielsebas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506355915, "creation_date": 1506354021, "last_edit_date": 1506355915, "question_id": 46409111, "link": "https://stackoverflow.com/questions/46409111/align-so-symbol-lookup-error-undefined-symbol", "title": "Align.so; symbol lookup error; undefined symbol", "body": "<p>I am running a perl script on a web server. I am getting the error in the httpd error log file:</p>\n\n<pre><code>/usr/bin/perl: symbol lookup error: \n  /usr/local/lib64/perl5/auto/Bio/Ext/Align/Align.so:\n    undefined symbol:\n      bp_sw_read_Blast_file_CompMat, referer: http://XX/model_select.pl\n</code></pre>\n\n<p>[Line breaks added for readability]</p>\n\n<p>I checked some of the forums and did this:</p>\n\n<pre><code>cpanp -i /usr/local/lib64/perl5/auto/Bio/Ext/Align/Align.so\nERROR '/usr/local/lib64/perl5/auto/Bio/Ext/Align/Align.so' does not contain an author part\nERROR Cannot find '/usr/local/lib64/perl5/auto/Bio/Ext/Align/Align.so' in the module tree\nNo such module: /usr/local/lib64/perl5/auto/Bio/Ext/Align/Align.so\nNo modules found to operate on!\nNothing done\n</code></pre>\n\n<p>I checked, <code>Align.so</code> exists in the path shown in the error message</p>\n\n<p>Can someone please help me solve the problem. Thanks much ! :-)</p>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 12601, "user_id": 514878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2436423552aa319c4e960540ff091b0b?s=128&d=identicon&r=PG", "display_name": "FluffyKitten", "link": "https://stackoverflow.com/users/514878/fluffykitten"}, "edited": false, "score": 0, "creation_date": 1506354039, "post_id": 46408943, "comment_id": 79775833, "body": "Welcome to Stack Overflow. What have you already tried yourself to do this? Please review <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question</a>. Stack Overflow is not a coding service. You are expected to <b><i>research your issue and make a good attempt to write the code yourself</i></b> before posting. If you get stuck on something <i>specific</i>, come back and include a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> and a summary of what you tried, so we can help."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1506357467, "post_id": 46408943, "comment_id": 79777835, "body": "Looks suspiciously like an XML parsing problem. Is it?"}, {"owner": {"reputation": 17, "user_id": 8670946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f9f51f7e82fc7543e4d983edc8aa2?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/8670946/bernhard"}, "edited": false, "score": 0, "creation_date": 1506359976, "post_id": 46408943, "comment_id": 79779069, "body": "Yes. It is an audit log I need to parse which has an XML syntax."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506362666, "post_id": 46408943, "comment_id": 79780554, "body": "If your data is XML then you should say so. It is far better to use an appropriate module to process this sort of data than to try to hack something with regular expressions."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8670946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f9f51f7e82fc7543e4d983edc8aa2?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/8670946/bernhard"}, "edited": false, "score": 0, "creation_date": 1506363313, "post_id": 46409084, "comment_id": 79780922, "body": "This seems to work! But how can I just reformat the lines between those patterns and leave the rest of the file untouched so I have everything in one file at the end?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 17, "user_id": 8670946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f9f51f7e82fc7543e4d983edc8aa2?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/8670946/bernhard"}, "edited": false, "score": 0, "creation_date": 1506366417, "post_id": 46409084, "comment_id": 79782637, "body": "I&#39;m not 100% sure what you&#39;re asking but maybe &quot;add <code>-i inplace</code>&quot; is the answer (see the gawk man page)? Or <code>awk &#39;script&#39; file &gt; tmp &amp;&amp; mv tmp file</code>? I&#39;m assuming you&#39;re asking how to change lines mid-file ad the answer is - you can&#39;t do that with any UNIX too, you have to generate a new file and copy it back to the original one way or another."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1506353943, "creation_date": 1506353943, "answer_id": 46409084, "question_id": 46408943, "link": "https://stackoverflow.com/questions/46408943/remove-line-break-characters-in-multi-line-xml-element/46409084#46409084", "title": "Remove line break characters in multi-line XML element", "body": "<p>With GNU awk for multi-char RS:</p>\n\n<pre><code>$ awk -v RS='&lt;/?remarks&gt;' -v ORS= '!(NR%2){gsub(/\\n/,OFS)} {print $0 RT}' file\ntext1 text2 &lt;remarks&gt; text3 text4 text5 &lt;/remarks&gt; text6 text7 text8\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 8670946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f9f51f7e82fc7543e4d983edc8aa2?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/8670946/bernhard"}, "edited": false, "score": 0, "creation_date": 1506367287, "post_id": 46411833, "comment_id": 79783105, "body": "Probably I was not precise enough. Sorry for this. The inputfile contains many other XML sections. I only need to modify the one with &lt;remarks&gt; and &lt;/remarks&gt;. The rest should stay without modifications. How can this be done with your script?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 17, "user_id": 8670946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f9f51f7e82fc7543e4d983edc8aa2?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/8670946/bernhard"}, "edited": false, "score": 0, "creation_date": 1506368090, "post_id": 46411833, "comment_id": 79783518, "body": "@Bernhard: That is what it does. Why don&#39;t you try it? If you look at the <code>twig_handlers</code> you will see that there is a single entry for <code>remarks</code> elements which does <code>$_-&gt;set_text($_-&gt;trimmed_text)</code> which is all that is necessary."}, {"owner": {"reputation": 17, "user_id": 8670946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f9f51f7e82fc7543e4d983edc8aa2?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/8670946/bernhard"}, "edited": false, "score": 0, "creation_date": 1506368294, "post_id": 46411833, "comment_id": 79783620, "body": "I tried it. It works fine when there is only a remarks section. But when I added other sections I got this message:  <code>$ perl reformat  junk after document element at line 4, column 0, byte 110 at &#47;usr&#47;lib&#47;perl5&#47;vendor_perl&#47;5.22&#47;x86_64-cygwin-threads&#47;XML&#47;Pa&zwnj;&#8203;rser.pm line 187.  at reformat line 14.  at reformat line 14.</code>"}, {"owner": {"reputation": 17, "user_id": 8670946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f9f51f7e82fc7543e4d983edc8aa2?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/8670946/bernhard"}, "edited": false, "score": 0, "creation_date": 1506368843, "post_id": 46411833, "comment_id": 79783923, "body": "The inputfile is like this : <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;remarks&gt; test4 test5test6 test7 test8 test444 test75475 test089898 test787384 test9 test10 test11 &lt;&#47;remarks&gt; &lt;newtag&gt;hello&lt;&#47;newtag&gt; </code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 17, "user_id": 8670946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f9f51f7e82fc7543e4d983edc8aa2?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/8670946/bernhard"}, "edited": false, "score": 0, "creation_date": 1506369131, "post_id": 46411833, "comment_id": 79784074, "body": "@Bernhard: Are you sure? That&#39;s not valid XML data. There must be only a single root element. What happened when you tried my code?"}, {"owner": {"reputation": 17, "user_id": 8670946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f9f51f7e82fc7543e4d983edc8aa2?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/8670946/bernhard"}, "edited": false, "score": 0, "creation_date": 1506369462, "post_id": 46411833, "comment_id": 79784228, "body": "I had an error in the inputfile. Inputfile looks correct now:  <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;audit-log&gt; &lt;remarks&gt; test4 test5test6 test7 test8 test444 test75475 test089898 test787384 test9 test10 test11 &lt;&#47;remarks&gt; &lt;newtag&gt;hello&lt;&#47;newtag&gt; &lt;&#47;audit-log&gt; </code>. The script run now works but produces just everything in one line: <code>$ perl reformat &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;audit-log&gt;&lt;remarks&gt;test4 test5test6 test7 test8 test444 test75475 test089898 test787384 test9 test10 test11&lt;&#47;remarks&gt;&lt;newtag&gt;hello&lt;&#47;newtag&gt;&lt;&#47;audit-log&gt;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 17, "user_id": 8670946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f9f51f7e82fc7543e4d983edc8aa2?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/8670946/bernhard"}, "edited": false, "score": 0, "creation_date": 1506370775, "post_id": 46411833, "comment_id": 79784898, "body": "Please copy and paste the XML <i>exactly as it is</i> into the question. I also need to see what is in <code>reformat</code>. What I wrote expects a file as a parameter as I said.  I&#39;m done for the day and will take a look tomorrow."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 17, "user_id": 8670946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f9f51f7e82fc7543e4d983edc8aa2?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/8670946/bernhard"}, "edited": false, "score": 0, "creation_date": 1506514256, "post_id": 46411833, "comment_id": 79850684, "body": "@Bernhard: Please take a look at my revised answer. I have added the <code>keep_spaces</code> option to the constructor which prevents the module from discarding insignificant spaces when the data is processed. I have also set the default file handle mode to <code>:encoding(UTF-8)</code>. Note that I had to alter your sample data as I have shown. Please always post valid data that exhibits the issue that you are describing; if we have to edit what you have posted just to make it valid then there&#39;s always a chance that we have altered your data to make it unrepresentative of your situation."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1506513969, "last_edit_date": 1506513969, "creation_date": 1506363923, "answer_id": 46411833, "question_id": 46408943, "link": "https://stackoverflow.com/questions/46408943/remove-line-break-characters-in-multi-line-xml-element/46411833#46411833", "title": "Remove line break characters in multi-line XML element", "body": "\n\n<p>XML can represent the same information in many different ways, and it is always a risk to try processing it using regular expressions. It is far better to use a proper XML module to process XML data. This solution uses\n<a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a></p>\n\n<p>In the constructor for the <code>$twig</code> object you can specify a callback which is called automatically every time a given XML element is encountered in the input</p>\n\n<p>The <code>trimmed_text</code> method removes leading and trailing whitespace from the text of the element, and turns any internal whitespace sequences, including line breaks, into a single space. That is exactly what you are asking for here, so a call to <code>set_text</code> is all that is necessary to update the string</p>\n\n<p>The file to be processed is specified by the <code>XML_FILE</code> constant and you should modify that to specify the path to your own data file. The modified XML is printed to <code>STDOUT</code></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse open qw/ :std :encoding(UTF-8) /;\n\nuse XML::Twig;\n\nuse constant XML_FILE =&gt; 'remarks.xml';\n\nmy $twig = XML::Twig-&gt;new(\n    keep_spaces =&gt; 1,\n    twig_handlers =&gt; {\n        remarks =&gt; sub { $_-&gt;set_text($_-&gt;trimmed_text) }\n    }\n);\n\n$twig-&gt;parsefile(XML_FILE);\n\n$twig-&gt;print;\n</code></pre>\n\n<h3>input</h3>\n\n<p>Your sample data is invalid XML, so I have edited it to look like this. I have added the XML declaration that you said in a comment that you had, and I have added a root element <code>&lt;data&gt;</code></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;data&gt;\n&lt;paymentTerm keyValue1=\"8\" objectType=\"PAYMENTTERM\" /&gt;\n&lt;paymentType keyValue1=\"20\" objectType=\"PAYMENTTYPE\" /&gt;\n&lt;priceList keyValue1=\"1\" objectType=\"PRICELIST\" /&gt;\n&lt;remarks&gt;Zollanmeldung ab 250 \u20ac\nLager Adresse:\nHessen-Ring 456\nD-64546 M\u00f6rfelden-Walldorff\neine Stunde vor Ankunft melden unter Mobile\n\nNeu Spedition\nA&amp;amp;R Logistics Group\nStorkenburgstrasse 99\nD-62546 M\u00f6rfelden-Walldorf\nwww.asp.de&lt;/remarks&gt;\n&lt;salesPersons&gt;\n&lt;PERSON keyValue1=\"2\" keyValue2=\"SALESEMPLOYEE\" objectType=\"PERSON\" /&gt;\n&lt;/salesPersons&gt;\n&lt;shippingType keyValue1=\"5\" objectType=\"SHIPPINGTYPE\" /&gt;\n&lt;/data&gt;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;data&gt;\n&lt;paymentTerm keyValue1=\"8\" objectType=\"PAYMENTTERM\"/&gt;\n&lt;paymentType keyValue1=\"20\" objectType=\"PAYMENTTYPE\"/&gt;\n&lt;priceList keyValue1=\"1\" objectType=\"PRICELIST\"/&gt;\n&lt;remarks&gt;Zollanmeldung ab 250 \u20ac Lager Adresse: Hessen-Ring 456 D-64546 M\u00f6rfelden-Walldorff eine Stunde vor Ankunft melden unter Mobile Neu Spedition A&amp;amp;R Logistics Group Storkenburgstrasse 99 D-62546 M\u00f6rfelden-Walldorf www.asp.de&lt;/remarks&gt;\n&lt;salesPersons&gt;\n&lt;PERSON keyValue1=\"2\" keyValue2=\"SALESEMPLOYEE\" objectType=\"PERSON\"/&gt;\n&lt;/salesPersons&gt;\n&lt;shippingType keyValue1=\"5\" objectType=\"SHIPPINGTYPE\"/&gt;\n&lt;/data&gt;\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 8670946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f9f51f7e82fc7543e4d983edc8aa2?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard", "link": "https://stackoverflow.com/users/8670946/bernhard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 623, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1506513969, "creation_date": 1506353502, "last_edit_date": 1506425529, "question_id": 46408943, "link": "https://stackoverflow.com/questions/46408943/remove-line-break-characters-in-multi-line-xml-element", "title": "Remove line break characters in multi-line XML element", "body": "<p>On a Unix system I have an input text file containing long multi-line strings.</p>\n\n<p>I now want to remove line breaks only between two patterns ( and ) which can be on different lines.</p>\n\n<p>Example input file:</p>\n\n<pre><code>text1 text2 &lt;remarks&gt; text3\ntext4 text5 &lt;/remarks&gt; text6 text7 text8\n</code></pre>\n\n<p>Result output for the above input file should be:</p>\n\n<pre><code>text1 text2 &lt;remarks&gt; text3 text4 text5 &lt;/remarks&gt; text6 text7 text8\n</code></pre>\n\n<p>I would prefer to use sed or Perl or maybe awk to do the job.</p>\n\n<p>I do not see a solution as the newlines can happen \"randomly\" and text is just some log messages.</p>\n\n<p>Here is a more detailed look of the input file I need to process. It does not contain a root XML section, but for testing I might just add one manually. Also there may be many \"remarks\" sections.</p>\n\n<p>Inputfile Snippet (as it is very long), Filename is test:</p>\n\n<pre><code>&lt;paymentTerm keyValue1=\"8\" objectType=\"PAYMENTTERM\" /&gt;\n&lt;paymentType keyValue1=\"20\" objectType=\"PAYMENTTYPE\" /&gt;\n&lt;priceList keyValue1=\"1\" objectType=\"PRICELIST\" /&gt;\n&lt;remarks&gt;Zollanmeldung ab 250 \u20ac\nLager Adresse:\nHessen-Ring 456\nD-64546 M\u00f6rfelden-Walldorff\neine Stunde vor Ankunft melden unter Mobile\n\nNeu Spedition\nA&amp;amp;R Logistics Group\nStorkenburgstrasse 99\nD-62546 M\u00f6rfelden-Walldorf\nwww.asp.de&lt;/remarks&gt;\n&lt;salesPersons&gt;\n&lt;PERSON keyValue1=\"2\" keyValue2=\"SALESEMPLOYEE\" objectType=\"PERSON\" /&gt;\n&lt;/salesPersons&gt;\n&lt;shippingType keyValue1=\"5\" objectType=\"SHIPPINGTYPE\" /&gt;\n</code></pre>\n\n<p>As stated above I want to remove the linebreaks ONLY between the patterns \"remarks\" and \"/remarks\".</p>\n\n<p>I tried the Perl XML Parsing suggested by borodin like this:</p>\n\n<pre><code>use strict;\n   use warnings 'all';\n\n   use XML::Twig;\n\n   use constant XML_FILE =&gt; 'test';\n\n   my $twig = XML::Twig-&gt;new(\n       twig_handlers =&gt; {\n           remarks =&gt; sub { $_-&gt;set_text($_-&gt;trimmed_text) }\n       }\n   );\n\n   $twig-&gt;parsefile(XML_FILE);\n\n   $twig-&gt;print;\n</code></pre>\n\n<p>It works, but prints everything on one line. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506348399, "post_id": 46407132, "comment_id": 79771949, "body": "An example of the values in <code>@a</code> and <code>@b</code> and <code>$s</code> would help. I can tell you what it&#39;s doing, but not why. Also, how is this used? On its own the return value is lost. Is this assigned to something, or is it the return value of another function?"}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506348935, "post_id": 46407132, "comment_id": 79772348, "body": "I have added a few more lines to make it more meaningful , hope that helps"}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506349210, "post_id": 46407132, "comment_id": 79772528, "body": "edited.thanks for spotting"}], "answers": [{"comments": [{"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506350397, "post_id": 46407461, "comment_id": 79773371, "body": "As far as I know <code>-&gt;</code> is used for method calls with the caller as the first argument to the called function , so here how that work s? it is like <code>sub{}-&gt;(localtime)</code>, I did not completely understand this syntax do have something that I can refer to understand this syntax ?"}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506351288, "post_id": 46407461, "comment_id": 79774001, "body": "I saw your edit , thanks, so its like a function variable calling itself with some arguments   <code>function variable--&gt;(arguments)</code>. That creates more questions if sub in above code had a name say <code>func</code> , would it have been correct to make a call like this <code>sub func {} ; func-&gt;(localtime)</code>. Also in the above code why sub has not been called like this <code>sub{}-&gt;(localtime());</code> since localtime is a function  ? And how does variable $code in your edit hold a function as a value how does Perl understand it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 1, "creation_date": 1506351633, "post_id": 46407461, "comment_id": 79774245, "body": "@Vicky you are mixing things up. It is a code reference that is constructed from an anonymous function. It&#39;s not assigned to a variable, but called directly. It will never be registered as a sub with a name in the current package, hence it&#39;s anonymous. A named sub inside of the scope of another function like you just showed is not valid syntax. You could create an actual sub with a name, then call it, but then you would not have the two arrays visible in the function. Regarding the parentheses, those are always optional in Perl. <code>localtime</code> is a builtin, not a function."}, {"owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "edited": false, "score": 0, "creation_date": 1506352107, "post_id": 46407461, "comment_id": 79774596, "body": "Thank you so much , that helps a lot !"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1506350552, "last_edit_date": 1506350552, "creation_date": 1506349085, "answer_id": 46407461, "question_id": 46407132, "link": "https://stackoverflow.com/questions/46407132/anonymous-subroutine-call-in-perl/46407461#46407461", "title": "Anonymous subroutine call in Perl", "body": "<p>The syntax is an unusual way of encapsulating the modification of several values at once inside of one statement.</p>\n\n<p>This code is probably used at the end of a subroutine, as it returns a list of values. The real code might look like this.</p>\n\n<pre><code>sub foo {\n    my @a = qw(Sun Mon Tue Wed Thu Fri Sat);\n    my @b = qw(Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec);\n\n    my $s = q{foobar};\n\n    #                  wday         month    mday   hour   min    sec    year\n    return sub { ( $a[ $_[6] ], $b[ $_[4] ], $_[3], $_[2], $_[1], $_[0], $_[5] + 1900 ) }\n        -&gt;(localtime), $s;\n}\n</code></pre>\n\n<p>Let's go through that. I added the <code>return</code> to make it more clear what's happening.</p>\n\n<p>There is an anonymous subroutine <code>sub { ... }</code>, which is defined and directly being called <code>sub { ... }-&gt;()</code>. This is like a lambda function. The arrow operator <code>-&gt;</code> in this form is used for calling a code reference. It differs from the direct object syntax (e.g. <code>$foo-&gt;frobnicate()</code>) in that there is no method name after the arrow.</p>\n\n<pre><code>my $code = sub { print \"@_\" };\n$code-&gt;(1, 2, 3);\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>1, 2, 3\n</code></pre>\n\n<p>The <code>localtime</code> return value in list context is passed. That's a bunch of values for the current time, as mentioned <a href=\"http://perldoc.perl.org/functions/localtime.html\" rel=\"nofollow noreferrer\">in the documentation</a>.</p>\n\n<pre><code>#     0    1    2     3     4    5     6     7     8\nmy ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) =\n                                            localtime(time);\n</code></pre>\n\n<p>Without arguments, <code>localtime</code> implicitly uses <code>time</code> as its argument. Inside of the anonymous subroutine, those values end up in <code>@_</code>, which is the argument list of the sub. So <code>$_[0]</code> is the seconds part of the current local date.</p>\n\n<p>Then there is <code>@a</code> and <code>@b</code>, which are really badly chosen names. If it's supposed to be short, I'd at least have called them <code>@d</code> and <code>@m</code> for weekdays and months.</p>\n\n<p>The anonymous sub returns a list of values. It's the current weekday, as looked up in the <code>@a</code> array, where Sunday is index <code>0</code>, the current month as looked in <code>@b</code>, the day, hour, minute and second, and the year as a four-digit number (hence the <code>+ 1900</code>).</p>\n\n<p>The overall function <code>foo</code> returns this list, and another value <code>$s</code> as the last element of its return value list.</p>\n\n<p>If you were to <code>print</code> all of that, you would get:</p>\n\n<pre><code>print join q{ }, foo();\n\n__END__\nMon Sep 25 16 10 33 2017 foobar\n</code></pre>\n\n<hr>\n\n<p>In the context of the <code>sprintf</code>, this becomes more clear. It's likely for adding a timestamp to a log entry.</p>\n\n<pre><code>sub log {\n    my $s = shift;\n\n    my @a = qw(Sun Mon Tue Wed Thu Fri Sat);\n    my @b = qw(Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec);\n\n    #             0  1  2  3  4  5  6   7\n    $s = sprintf \"%s %s %d %d:%d:%d %d: %s\",\n        #        wday        month        mday   hour   min    sec    year\n        #        0           1            2      3      4      5      6\n        sub { ( $a[ $_[6] ], $b[ $_[4] ], $_[3], $_[2], $_[1], $_[0], $_[5] + 1900 ) }\n        #              7\n        -&gt;(localtime), $s;\n\n    return $s;\n}\n\nprint &amp;log('stuff happened'); # we need the &amp; because CORE::log\n</code></pre>\n\n<p>I've marked each value with the position of the argument inside the <code>sprintf</code> pattern. <code>$s</code> seems to be the log message, which is replaced by the new string with the timestamp, and itself as the last argument.</p>\n\n<p>However, this is a very unusual implementation, given that <code>localtime</code> will return the exact same thing in scalar context.</p>\n\n<pre><code>print &amp;log(\"stuff happened\\n\");\nprint ''.localtime . \": stuff happened\\n\";\n\n__END__\nMon Sep 25 16:24:40 2017: stuff happened\nMon Sep 25 16:24:40 2017: stuff happened\n</code></pre>\n\n<p>It's the return value of <em>ctime(3)</em>. I first thought maybe it's a reimplementation because on the target system that kind of timestamp does not exist, but the <code>localtime</code> docs also say that this is not system-dependent. </p>\n\n<blockquote>\n  <p>The format of this scalar value is not locale-dependent but built into\n  Perl. For GMT instead of local time use the gmtime builtin. See also\n  the Time::Local module (for converting seconds, minutes, hours, and\n  such back to the integer value returned by time), and the POSIX\n  module's strftime and mktime functions.</p>\n</blockquote>\n\n<p>The implementation with the <code>sub</code> is elegant, though not very Perl-ish. However, it's completely useless because Perl already brings this exact same format.</p>\n\n<p>You could easily replace my <code>log</code> function with this.</p>\n\n<pre><code>sub log {\n    my $s = shift;\n\n    $s = localtime . \" $s\";\n\n    return $s;\n}\n</code></pre>\n\n<p>But then again, if <code>@a</code> and <code>@b</code> are maybe localized, this makes makes sense. You give them as letter, which is probably not your real code, but I could see this being used as for example translating it to German like this.</p>\n\n<pre><code>use utf8;\n\nsub log {\n    my $s = shift;\n\n    my @a = qw(So Mo Di Mi Do Fr Sa);\n    my @b = qw(Jan Feb M\u00e4r Apr Mai Jun Jul Aug Sep Okt Nov Dez);\n\n    #             0  1  2  3  4  5  6   7\n    $s = sprintf \"%s %s %d %d:%d:%d %d: %s\",\n        #        wday        month        mday   hour   min    sec    year\n        #        0           1            2      3      4      5      6\n        sub { ( $a[ $_[6] ], $b[ $_[4] ], $_[3], $_[2], $_[1], $_[0], $_[5] + 1900 ) }\n        #              7\n        -&gt;(localtime), $s;\n\n    return $s;\n}\n\nprint &amp;log(\"stuff happened\\n\");\n</code></pre>\n\n<p>Now it makes a lot more sense.</p>\n"}], "owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 1, "accepted_answer_id": 46407461, "answer_count": 1, "score": 1, "last_activity_date": 1506350552, "creation_date": 1506348222, "last_edit_date": 1506349191, "question_id": 46407132, "link": "https://stackoverflow.com/questions/46407132/anonymous-subroutine-call-in-perl", "title": "Anonymous subroutine call in Perl", "body": "<p>Trying to understand a piece of code in Perl as follows </p>\n\n<pre><code>    my @a = qw(A B C D E F F A K O N D);\n    my @b = qw(S F S T F F S);\n\n$s=sprintf \"%s %s %d %d:%d:%d %d: %s\" ,   sub { ($a[$_[6]], $b[$_[4]], $_[3], $_[2], $_[1], $_[0], $_[5]+1900) }-&gt;(localtime), $s;\n</code></pre>\n\n<p>This code is in a method in a package  which has been called with three arguments, arrays <code>a</code> and <code>b</code> have been defined in the method above in this code and <code>s</code> is a defined string. </p>\n\n<p>All I can understand is that it is an anonymous subroutine which is expected to return multiple values due to localtime function but I just cannot understand the mechanism that this code follows. I assume I have given enough information to ask this question if not let me know.</p>\n"}, {"tags": ["perl", "awk", "sed", "gawk", "tr"], "comments": [{"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 0, "creation_date": 1506341400, "post_id": 46404786, "comment_id": 79767029, "body": "Please, do not post an image of the data, we&#39;re not going to type it out and use for testing."}, {"owner": {"reputation": 37, "user_id": 8592356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a8c77f1399ea72b0620b8388b3a29e?s=128&d=identicon&r=PG&f=1", "display_name": "lfc_07", "link": "https://stackoverflow.com/users/8592356/lfc-07"}, "reply_to_user": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 0, "creation_date": 1506342080, "post_id": 46404786, "comment_id": 79767473, "body": "@JamesBrown Yes,changed now.Please take a look"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1506342668, "post_id": 46404786, "comment_id": 79767878, "body": "Please add code tags for sample data rather than quotes."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1506345768, "post_id": 46404786, "comment_id": 79770070, "body": "You got referred to the answer <a href=\"https://stackoverflow.com/q/46378760/1745001\">last time you asked</a>.Read the answer and ask a specific, new question if you have one."}], "answers": [{"tags": [], "owner": {"reputation": 13433, "user_id": 874178, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AdjGb.jpg?s=128&g=1", "display_name": "sat", "link": "https://stackoverflow.com/users/874178/sat"}, "is_accepted": false, "score": 0, "last_activity_date": 1506342870, "last_edit_date": 1506342870, "creation_date": 1506342568, "answer_id": 46405295, "question_id": 46404786, "link": "https://stackoverflow.com/questions/46404786/remove-newline-characters-in-file/46405295#46405295", "title": "Remove newline characters in file", "body": "<p>You can try this <code>sed</code>:</p>\n\n<pre><code>sed ':loop; /\" *$/!{N;s/\\n//g; b loop}' file\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 8592356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a8c77f1399ea72b0620b8388b3a29e?s=128&d=identicon&r=PG&f=1", "display_name": "lfc_07", "link": "https://stackoverflow.com/users/8592356/lfc-07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 313, "favorite_count": 0, "closed_date": 1506345587, "answer_count": 1, "score": -2, "last_activity_date": 1506365041, "creation_date": 1506341007, "last_edit_date": 1506365041, "question_id": 46404786, "link": "https://stackoverflow.com/questions/46404786/remove-newline-characters-in-file", "closed_reason": "Duplicate", "title": "Remove newline characters in file", "body": "<p></p>\n\n<p>I have a text file with comma seperated values which has newline characters in the column values.  So it makes the column data split to next line causing data issues.</p>\n\n<h3>Sample data</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"604\",\"56-1203802\",\"xx\",\"VEN\",\"null\",\"50\",\"1\",\"20\",\"N\u00ef\u00bf\u00bd\njT\u00ef\"\n\"5526\",\"841328305\",\"yyINC\",\"VEN\",\"null\",\"50\",\"1\",\"20\",\"~R\u00bf\u00bdK\u00ef\u00bf\u00bd\u00ef\n\u00bf\u00bd\u00ef\u00bf\u00bd}(\"\n\"604\",\"561203802\",\"C\",\"VEN\",,\"null\",\"50\",\"1\",\"20\",\"2\u00ef\u00bda\u00ef\u00bf\u00bd\u00ef\u00bf\u00bd\"\n</code></pre>\n\n<h3>Expected Output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"604\",\"56-1203802\",\"xx\",\"VEN\",\"null\",\"50\",\"1\",\"20\",\"N\u00ef\u00bf\u00bdjT\u00ef\"\n\"5526\",\"841328305\",\"yyINC\",\"VEN\",\"null\",\"50\",\"1\",\"20\",\"~R\u00bf\u00bdK\u00ef\u00bf\u00bd\u00ef\u00bf\u00bd\u00ef\u00bf\u00bd}(\"\n\"604\",\"561203802\",\"C\",\"VEN\",,\"null\",\"50\",\"1\",\"20\",\"2\u00ef\u00bda\u00ef\u00bf\u00bd\u00ef\u00bf\u00bd\"\n</code></pre>\n\n<p>I need to remove the newlines inside double-quoted strings.</p>\n\n<p>I tried the below awk command to remove it, but it is not working as expected.</p>\n\n<pre class=\"lang-awk prettyprint-override\"><code>gawk -v RS='\"' 'NR % 2 == 0 { gsub(/\\n/, \"\") } { printf(\"%s%s\", $0, RT) }' infile.txt &gt; outfile.txt\n</code></pre>\n\n<p>The required result would be to remove the LF and CR characters from the data.</p>\n\n<p>I tried solutions for similar question posted, but not working for me.</p>\n\n<p>Newline characters in the file are not visible unless copied to Notepad++ when it shows as CR LF.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1506333182, "post_id": 46402241, "comment_id": 79761837, "body": "Please note that by convention, package names in Perl should start with a capital letter. The correct name for your class would be <code>Math</code>, not <code>math</code>. All lower-case names are reserved for <i>pragmas</i> like <code>strict</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1506333462, "post_id": 46402241, "comment_id": 79762024, "body": "I would suggest for you to post this code on <a href=\"https://codereview.stackexchange.com\">Code Review</a>. There are some stylistic issues as well as a bit of Perl general knowledge you seem to lack. I believe you would greatly benefit from a proper code review."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506340204, "post_id": 46402241, "comment_id": 79766220, "body": "Note that <code>operations</code> is a simple program, not a derived class at all (it has no methods, not even a constructor). You should omit the <code>package</code> statement and the assignment to <code>@ISA</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506340312, "post_id": 46402241, "comment_id": 79766303, "body": "Also note that the methods <code>math::add</code> and <code>math::multiply</code> are unaffected by the state of the object. They do exactly the same as the <code>+</code> and <code>*</code> operators, but using a lot of code!"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506333349, "post_id": 46402352, "comment_id": 79761958, "body": "That&#39;s not all. I also spotted that, but once it&#39;s fixed, it will still produce only <code>1</code> as values. There has to be a list context issue somewhere.... it&#39;s the <code>print</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506333379, "post_id": 46402352, "comment_id": 79761979, "body": "Yeah. Assigning the result of <code>print</code> by the looks."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1506333371, "last_edit_date": 1506333371, "creation_date": 1506333296, "answer_id": 46402352, "question_id": 46402241, "link": "https://stackoverflow.com/questions/46402241/how-to-set-and-get-using-class-in-perl/46402352#46402352", "title": "How to set and get using class in perl?", "body": "<p>Turn on <code>warnings</code> and it'll tell you:</p>\n\n<pre><code>\"my\" variable $self masks earlier declaration in same scope at line 17.\n</code></pre>\n\n<p>You need to change:</p>\n\n<pre><code>sub set_number {\n   my $self = shift;\n   my $self-&gt;{'num'} = shift;\n}\n</code></pre>\n\n<p>That second <code>my</code> is what's breaking it, because it's creating a new instance of <code>$self</code>. </p>\n\n<p>Also: <code>my $num = print ..</code></p>\n\n<p>Is almost certainly not doing what you want it to - it's setting <code>$num</code> to the return code of <code>print</code>. </p>\n\n<p>Try instead:</p>\n\n<pre><code>my $num1 =  $number_obj1-&gt;get_number();\nmy $num2 =  $number_obj2-&gt;get_number();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$num1:23\n$num2:24\naddition: 47\nmultiplication: 552\n</code></pre>\n"}], "owner": {"reputation": 66, "user_id": 8487363, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a94a542ecd275fa20b9c60056e103037?s=128&d=identicon&r=PG&f=1", "display_name": "kart1657", "link": "https://stackoverflow.com/users/8487363/kart1657"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 1, "accepted_answer_id": 46402352, "answer_count": 1, "score": 1, "last_activity_date": 1506333371, "creation_date": 1506332961, "question_id": 46402241, "link": "https://stackoverflow.com/questions/46402241/how-to-set-and-get-using-class-in-perl", "title": "How to set and get using class in perl?", "body": "<p>Im trying to set and get the values in the perl using classes.</p>\n\n<p>below is my parent class <code>math.pm</code>.</p>\n\n<pre><code>use strict;\npackage math;\n\nsub new\n{\n        my $class=shift;\n        my $self={};\n        bless($self,$class);\n        return $self;\n}\n\nsub set_number\n{\n        my $self=shift;\n        my $self-&gt;{'num'}=shift;\n}\n\nsub get_number\n{\n        my $self=shift;\n        return $self-&gt;{'num'};\n}\n\nsub add\n{\n        my $self=shift;\n        my $num1=shift;\n        my $num2=shift;\n        return $num1 + $num2;\n}\n\nsub multiply\n{\n        my $self=shift;\n        my $num1=shift;\n        my $num2=shift;\n        return $num1 * $num2 ;\n}\n\n1;\n</code></pre>\n\n<p>below is the script from where im calling the parent class <code>math</code> in a derived class called <code>operations</code></p>\n\n<pre><code>use strict;\nuse math;\n\npackage operations;\nour @ISA = qw/math/;\n\nmy $number_obj1=operations-&gt;new();\nmy $number_obj2=operations-&gt;new();\nmy $number_obj3=operations-&gt;new();\n\n$number_obj1-&gt;set_number(\"23\");\n$number_obj2-&gt;set_number(\"24\");\n\nmy $num1=print $number_obj1-&gt;get_number();\nmy $num2=print $number_obj2-&gt;get_number();\n\nprint \"\\n\\$num1:$num1\\n\\$num2:$num2\\n\";\n\nprint \"addition: \",$number_obj3-&gt;add(\"$num1\",\"$num2\"),\"\\n\";\nprint \"multiplication: \",$number_obj3-&gt;multiply(\"$num1\",\"$num2\"),\"\\n\";\n</code></pre>\n\n<p>improper output:</p>\n\n<pre><code>$num1:1\n$num2:1\naddition: 2\nmultiplication: 1\n</code></pre>\n\n<p>in above script i'm not able to fetch values into <code>$num1</code> and <code>$num2</code> using <code>get_number</code> sub routine. </p>\n\n<p>Where am i going wrong?</p>\n"}, {"tags": ["perl", "clearquest"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506327452, "post_id": 46399489, "comment_id": 79758137, "body": "You will have to refer to the documentation of ClearQuest. Asking for a link to documentation is off-topic on Stack Overflow unfortunately."}, {"owner": {"reputation": 146, "user_id": 7592111, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d9f19319512d9cb52b49439b9712a79b?s=128&d=identicon&r=PG&f=1", "display_name": "A.Learn", "link": "https://stackoverflow.com/users/7592111/a-learn"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506328873, "post_id": 46399489, "comment_id": 79758950, "body": "@simbabque Ok... I went through the documentation but so far no luck...I am trying couple of other things to see if it solves my case... Just in case if i am able to find answer of above question, can i answer it here"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506329149, "post_id": 46399489, "comment_id": 79759125, "body": "Maybe include a link to the documentation in the question. Others might have more luck in spotting the right thing."}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 7592111, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d9f19319512d9cb52b49439b9712a79b?s=128&d=identicon&r=PG&f=1", "display_name": "A.Learn", "link": "https://stackoverflow.com/users/7592111/a-learn"}, "is_accepted": false, "score": 0, "last_activity_date": 1506402513, "creation_date": 1506402513, "answer_id": 46418208, "question_id": 46399489, "link": "https://stackoverflow.com/questions/46399489/remove-defect-from-iteration-clearquest-api/46418208#46418208", "title": "Remove Defect from Iteration ClearQuest API", "body": "<p>We can use <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSSH5A_9.0.0/com.ibm.rational.clearquest.apiref.doc/topics/r_entity_delfldval.htm\" rel=\"nofollow noreferrer\">DeleteFieldValue</a> API to Remove Child records from parent records.</p>\n\n<pre><code>$bfSession-&gt;EditEntity($IterationEntity, \"modify\");\n$result = $IterationEntity-&gt;DeleteFieldValue(\"Defects\", $defectId);\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 7592111, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d9f19319512d9cb52b49439b9712a79b?s=128&d=identicon&r=PG&f=1", "display_name": "A.Learn", "link": "https://stackoverflow.com/users/7592111/a-learn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506402513, "creation_date": 1506323609, "last_edit_date": 1506331216, "question_id": 46399489, "link": "https://stackoverflow.com/questions/46399489/remove-defect-from-iteration-clearquest-api", "title": "Remove Defect from Iteration ClearQuest API", "body": "<p>There can multiple defects attached to an iteration.How can I remove a particular defect from iteration using ClearQuest Perl API?</p>\n\n<pre><code>$bfSession = CQSession::Build();\n$bfSession-&gt;UserLogon($userID,$passwd,$dbname,$dbset);\n\n#Get iteration Entity\n$iterationEntity = $bfSession-&gt;GetEntity(\"tmiteration\", $iteration);\n\n#Now to add defect to Iteration i can do the following\n$bfSession-&gt;EditEntity($iterationEntity, \"modify\");\n$result = $iterationEntity-&gt;AddFieldValue(\"Defects\", $defect);\n$valResult = $iterationEntity-&gt;Validate();\n\nif($valResult eq \"\")\n    {\n        $iterationEntity-&gt;Commit();\n    }\n    else\n    {\n        $iterationEntity-&gt;Revert();\n    }\n</code></pre>\n\n<p>Just like AddFieldValue Is there is any API to remove defects from iteration?</p>\n\n<p>EDIT: I was not able to find such API in IBM <a href=\"https://www.ibm.com/support/knowledgecenter/SSSH5A_7.1.2/com.ibm.rational.clearquest.apiref.doc/topics/default_topic.htm\" rel=\"nofollow noreferrer\">ClearQuest</a> documention</p>\n"}, {"tags": ["perl", "foreach", "scope", "subroutine"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1506319954, "post_id": 46398193, "comment_id": 79754268, "body": "Are we seeing 100% of the code? There is no possible way for rename_file to have been executed except from within the <code>foreach</code> loop?"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1506320100, "post_id": 46398193, "comment_id": 79754328, "body": "This is unrelated to the warning you are seeing, but have you noticed that your paths will look like this? <code>&#47;cygdrive&#47;c&#47;Users&#47;walt&#47;Desktop&#47;iphonepics&#47;bunk_box&#47;&#47;foobar</code>  (In other words, you&#39;re concatenating a string that ends with / to the filename, using another / in your concatenation."}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1506360677, "post_id": 46398193, "comment_id": 79779446, "body": "Yes this is the code, and no, it does not rename any files. It so far does not work as planned. Also, no I did not notice the extra slash in the $dirname variable. what is the proper, accepted way to delineate an absolute path as a variable - ending in a slash or open (with the slash being assumed)"}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1506360759, "post_id": 46398193, "comment_id": 79779490, "body": "All I want to do is rename some pictures - the cygstart is just do I can see what picture is loaded into the array, the visual helps me figure uot a name for it. Most of the Pictures are named IMG_* by default."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506361110, "post_id": 46398193, "comment_id": 79779682, "body": "Doubling a slash should have absolutely no effect (but I don&#39;t use Cygwin much, please test).  Whether you include it in the directory or when you compose a path is a matter of choice of the convention you want: either <code>$dir = &#39;...&#47;&#39;;</code> and <code>$file = $dir . $name;</code> OR <code>$dir = &#39;...&#39;</code> (no slash) and <code>$file = &quot;$dir&#47;$name&quot;</code>.  But you might as well use both, to be on the safe side."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1506449119, "post_id": 46398193, "comment_id": 79823467, "body": "<code>use File::Spec::Functions qw(catfile); my $full_path = catfile($path, $filename);</code> ...this is a core module and should eliminate things like duplicated slashes. In your particular use case I&#39;m not sure duplicated slashes matter, but they&#39;re sloppy."}], "answers": [{"comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1506320509, "post_id": 46398651, "comment_id": 79754509, "body": "This is all sound advice, but if the code we&#39;re seeing is 100% of the code the OP is using, the warning should not be possible, as it would mean that <code>readdir</code> populated <code>@files</code> with an undef entry, and furthermore, that the user of the script managed to still say &quot;Y&quot; to the question of whether to move the file, when the filename didn&#39;t show up in the screen output.  Given it&#39;s unlikely that we&#39;re seeing the code that produced this warning, it&#39;s hard to come to the conclusion that this answer actually solves the OP&#39;s question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1506320663, "post_id": 46398651, "comment_id": 79754588, "body": "@DavidO  I added the explanation for the warning, thanks for prompting it. As for the &quot;impossible&quot; -- it isn&#39;t, it&#39;s just how it has to be.  Try it, give some value to <code>my $oldfile</code> when it is declared."}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1506360537, "post_id": 46398651, "comment_id": 79779363, "body": "Yes - this is the code in its entirety - all it does is open up the photo in photoviewer. I look at the photo, which new photos taken with my iphone typically are called IMG_1234.jpg. If I like it I hit yes and rename the photo. Anything left IMG_* will be removed from the directory."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1506360679, "post_id": 46398651, "comment_id": 79779448, "body": "@capser  Thank you for confirming it -- I thought so and answered your question about the particular error.  Did you mean to respond to DavidO? (If so tag your comment with AT-DavidO)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1506360896, "post_id": 46398651, "comment_id": 79779566, "body": "@capser Please let me know if I need to explain things more in this answer.  A note: while it is enough to replace <code>my $oldfile</code> with <code>our $oldfile</code>, as explained, I do not recommend that -- better pass things to functions, as shown.  (Unless you have a lot of code that relies on globals...)"}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1506361437, "post_id": 46398651, "comment_id": 79779835, "body": "@zdim - No thank you very much I did not understand why the sub did not see the my variable, like I did not understand why I initialized the variable with strict, and then getting uninitialized errors. This was actually a very good lesson."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 1, "creation_date": 1506361562, "post_id": 46398651, "comment_id": 79779904, "body": "@capser  Yes, in my opinion this is a good  question, that is important as a good lesson.  I hope that I explained it well enough, if not please let me know what is unclear in my answer and I&#39;ll rephrase things.  Thank you for attribution."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1571894547, "last_edit_date": 1571894547, "creation_date": 1506319953, "answer_id": 46398651, "question_id": 46398193, "link": "https://stackoverflow.com/questions/46398193/using-a-variable-from-outer-scope-in-a-sub-called-in-foreach/46398651#46398651", "title": "Using a variable from outer scope in a sub called in foreach", "body": "<p>The <code>foreach $oldfile (@files)</code> does not assign values to the <code>my $oldfile</code> declared at the top. That one is a lexical variable, not global, and in such a case a new lexical <code>$oldfile</code> is created for the loop's scope. This is a particular property of <code>foreach</code> alone. See <a href=\"https://stackoverflow.com/a/42244426/4653379\">this post</a> for details.</p>\n\n<p>Since the <code>$oldfile</code> in <code>foreach</code> is a lexical in a <em>dynamic scope</em> it is invisible to the sub. But the sub sees <code>my $oldfile</code> declared for the static scope of the file.  From <a href=\"http://perldoc.perl.org/perlsub.html#Private-Variables-via-my%28%29\" rel=\"nofollow noreferrer\">Private Variables via my()</a></p>\n\n<blockquote>\n  <p>... lexical variables declared with <code>my</code> are totally hidden from the outside world, including any called subroutines. This is true if it's the same subroutine called from itself or elsewhere--every call gets its own copy.</p>\n  \n  <p>This doesn't mean that a <code>my</code> variable declared in a statically enclosing lexical scope would be invisible. Only dynamic scopes are cut off. For example, ...</p>\n</blockquote>\n\n<p>That <code>$oldfile</code> at the top, seen by the sub, stays as it was before the loop, uninitialized.</p>\n\n<p>Altogether, a simple \"fix\" to get the expected behavior is to make <code>$oldfile</code> on top a global variable, so to replace <code>my $oldfile</code> with <code>our $oldfile</code>.<sup>&dagger;</sup> &nbsp;</p>\n\n<p>However, why rely on global variables?  Why not pass to functions what they need</p>\n\n<pre><code>foreach my $oldfile (@files) {\n    ...\n    if (...) {\n        rename_file($dirname, $oldfile);\n    ...\n}\n\nsub rename_file {\n    my ($dirname, $oldfile) = @_;\n    ...\n}\n</code></pre>\n\n<p>You <em>are</em> nicely using <code>strict</code> already and declaring everything else.  Then you don't need, and should not have, the file-wide lexical <code>my $oldfile;</code> declared on top.</p>\n\n<p>When you declare a variable in a sub, it is shielded from variables with the same name outside the sub's scope. So here you <em>know</em> what <code>$oldfile</code> is &ndash; it is exactly what you passed to the function.</p>\n\n<p>That way your sub also has a well defined interface and does not depend on arbitrary values in the surrounding code. This is crucial for clear delineation of scope and for modularity.</p>\n\n<p>More generally, using a global variable while <code>strict</code> is in place and other things declared is like planting a mine for the maintenance programmer, or for yourself the proverbial six months later.</p>\n\n<p>I suggest to also read <a href=\"http://collaboration.cmc.ec.gc.ca/science/rpn/biblio/ddj/Website/articles/TPJ/1998/vol3_4/tpj0304-0001.html\" rel=\"nofollow noreferrer\">Coping with Scoping</a> by Mark-Jason Dominus.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup> I don't recommend this unless there is a very specific and solid reason for a global-like <a href=\"https://perldoc.perl.org/functions/our.html\" rel=\"nofollow noreferrer\">our</a> variable.</p>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 2, "accepted_answer_id": 46398651, "answer_count": 1, "score": 1, "last_activity_date": 1571894547, "creation_date": 1506317576, "last_edit_date": 1571894164, "question_id": 46398193, "link": "https://stackoverflow.com/questions/46398193/using-a-variable-from-outer-scope-in-a-sub-called-in-foreach", "title": "Using a variable from outer scope in a sub called in foreach", "body": "<p>I am using cygwin. \nWhat this script does is load the iphone pics that I have loaded into a directory on the desktop. \nIt opens it up in image viewer, to let me take a look at the picture.</p>\n\n<pre><code>system(\"cygstart $dirname/$oldfile\") ;\n</code></pre>\n\n<p>Then it gives me the option to rename the picture. It is throwing errors though, and not renaming the picture. </p>\n\n<pre><code>Use of uninitialized value $oldfile in concatenation (.) or string at ./rename_image.pl line 29, &lt;STDIN&gt; line 6.\n</code></pre>\n\n<p>oldfile is a global varaible, the functions should see the variable. </p>\n\n<pre><code>#!/usr/bin/perl\n#\nuse strict ;\nuse warnings ;\n\nmy $oldfile;\nmy $new_name;\nmy $dirname = \"/cygdrive/c/Users/walt/Desktop/iphonepics/bunk_box/\";\nopendir(DIR, $dirname) or die \"Cannot open dir: $!\";\n\nmy @files = readdir(DIR);\nforeach $oldfile (@files) {\n        system(\"cygstart $dirname/$oldfile\") ;\n        print \"Do you want to rename $oldfile ? \";\n        my $input = &lt;STDIN&gt; ;\n        chomp $input ;\n        if($input =~ m/^[y]$/i) {\n                rename_file() ;\n        } else {\n        my $doo = 1 ;\n        }\n}\n\nsub rename_file {\n        use File::Copy qw(move) ;\n        print \"New name:\\n\" ;\n        my $new_name = &lt;STDIN&gt; ;\n        chomp $new_name ;\n        move \"$dirname/$oldfile\", \"$dirname/$new_name\";\n        return ;\n}\n</code></pre>\n"}, {"tags": ["linux", "perl", "cron"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 2, "creation_date": 1506317270, "post_id": 46397607, "comment_id": 79753231, "body": "How about allowing the long-running subroutine to set a lockfile?  If the next iteration finds the lockfile still there (and a lock held on the file), it simply returns without executing its payload.  Another option would be to set a cron to run at 12:05 with one set of command-line args, and the another one at 12:10 with another set of command-line args that cause the long-running sub to be skipped."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506319671, "post_id": 46397607, "comment_id": 79754148, "body": "You can skip a cron job, like in <a href=\"https://stackoverflow.com/questions/8764150/crontab-run-every-15-minutes-except-at-3am\">this answer</a>. I am not completely sure what exactly you need, but it seems to be a duplicate of this post. On the same page there is another option, to have the script itself abort a run at a given time (or, rather, perhaps more safely within an interval)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506323182, "post_id": 46397607, "comment_id": 79755803, "body": "I did mark it as a duplicate of what I mentioned above.  Please let me know if I missed something in your question that the linked asnwer(s) don&#39;t deal with."}, {"owner": {"reputation": 151, "user_id": 6789640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-sd-gziWy5zY/AAAAAAAAAAI/AAAAAAAAAA4/VvBp8ca_v-E/photo.jpg?sz=128", "display_name": "Jeffrey Tackett", "link": "https://stackoverflow.com/users/6789640/jeffrey-tackett"}, "edited": false, "score": 0, "creation_date": 1506336246, "post_id": 46397607, "comment_id": 79763707, "body": "While my question may truly be a duplicate, I&#39;m not sure I agree that it is duplicated by that particular link.  The solution in that link is a multiple-line entry, which effectively creates the same &quot;less-than-simplified&quot; scenario as splitting the script into two files.  I understand that there may not be a single-line solution, in which case the answer is &quot;No, you can&#39;t do that,&quot;, as opposed to it being a duplicate of a solution that doesn&#39;t stick to the simplified requirements."}, {"owner": {"reputation": 151, "user_id": 6789640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-sd-gziWy5zY/AAAAAAAAAAI/AAAAAAAAAA4/VvBp8ca_v-E/photo.jpg?sz=128", "display_name": "Jeffrey Tackett", "link": "https://stackoverflow.com/users/6789640/jeffrey-tackett"}, "edited": false, "score": 0, "creation_date": 1506336289, "post_id": 46397607, "comment_id": 79763731, "body": "That said, I like DavidO&#39;s solution of creating a lockfile.  Oddly, this is exactly how I keep the script from executing the 5th sub routine throughout the rest of the day, but it never occurred to me to use it the opposite way for the initial execution.  I guess that&#39;s the danger of staying up too late trying to solve a problem.  Thanks DavidO, much appreciated!"}], "owner": {"reputation": 151, "user_id": 6789640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-sd-gziWy5zY/AAAAAAAAAAI/AAAAAAAAAA4/VvBp8ca_v-E/photo.jpg?sz=128", "display_name": "Jeffrey Tackett", "link": "https://stackoverflow.com/users/6789640/jeffrey-tackett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "closed_date": 1506323118, "answer_count": 0, "score": 0, "last_activity_date": 1506313501, "creation_date": 1506313501, "question_id": 46397607, "link": "https://stackoverflow.com/questions/46397607/offset-cron-job-for-only-one-instance", "closed_reason": "Duplicate", "title": "Offset cron job for only one instance?", "body": "<p>I have a script that updates status for quite a few \"things\".  It has 5 different sub routines.  4 of the subroutines need to run every 5 minutes, and 1 of them only needs to run once at 12:05 AM.  The problem is, when the script executes at 12:05, it takes approximately 8 minutes to complete.  This causes the next iteration to begin at 12:10 before the previous one completed.  Resources assigned to the second iteration cause the first to run slower, pushing its completion past the 10 minute mark, allowing for a third iteration to begin.  As you can imagine, the various versions layering on each other will eventually overwhelm the machine and cause a crash.</p>\n\n<p>The simple solution would be to split the file into two and create separate cron jobs, and I will certainly do that if there's no other option.  However, I would prefer to keep all of the status subs in the same file if possible, so as to simplify installation and maintenance (will be installed and used on quite a few machines).</p>\n\n<p>I'm hoping that there is an offset cron entry that will run the script at 12:05 AM every morning, wait 10 minutes before running it again, and then run it every 5 minutes after that.  Essentially:</p>\n\n<p>12:05, 12:15, 12:20, 12:25, 12:30, etc</p>\n\n<p>The script knows that it was executed once already, and will not run the 5th sub for the rest of the day, making the 5 minute gap acceptable.</p>\n\n<p>Please let me know if that all made sense.  Happy to go into more detail if needed.  Thank you in advance for any information you can provide.  Much appreciated.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "edited": false, "score": 0, "creation_date": 1506334652, "post_id": 46396523, "comment_id": 79762748, "body": "<code>(:.*\\)</code> means <b>after</b> not <b>before</b>.  Please clarify your question. Since you have two <code>aaa</code>; it is a little confusing. And your output is very different form your pattern."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8459807"}, "edited": false, "score": 0, "creation_date": 1506307408, "post_id": 46396839, "comment_id": 79750898, "body": "($s=~/^([^:]+):/) is this to access the string before the colon"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1506308115, "post_id": 46396839, "comment_id": 79751024, "body": "@Azhar: Yes. It captures all the characters on the left hand of the first colon in the string."}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1506316680, "last_edit_date": 1506316680, "creation_date": 1506306932, "answer_id": 46396839, "question_id": 46396523, "link": "https://stackoverflow.com/questions/46396523/how-to-capture-string-before-the-symbol/46396839#46396839", "title": "How to capture string before the symbol", "body": "<p>This works:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $s='aaa:aaa-bbb-ccc';\nif ($s=~/^([^:]+):/) {\n    my $first=$1;\n    $s=~s/\\Q$1\\E://;\n    print \"$first others:\" . join ',', grep { $_ ne $first } split '-', $s;\n}\n# aaa others:bbb,ccc\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8459807"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506316680, "creation_date": 1506303914, "question_id": 46396523, "link": "https://stackoverflow.com/questions/46396523/how-to-capture-string-before-the-symbol", "title": "How to capture string before the symbol", "body": "<p>Morning all,\nI want to capture the string before the colon:\nand then compare the string after the colon\nand remove the values which are equal to the values before the colon.</p>\n\n<p>For example:</p>\n\n<pre><code>aaa:aaa-bbb-ccc\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>aaa others:bbb,ccc\n</code></pre>\n\n<p>my code below</p>\n\n<pre><code>$string = \"aaa:aaa-bbb-ccc\";\n$first =~ /(:.*\\)/; //get aaa before the colon\n$others =$string=~ s/$first//; remove the same values after colon\n</code></pre>\n\n<p>Can you please help me ?? Thank you..</p>\n"}, {"tags": ["bash", "perl", "kaldi"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1506301800, "post_id": 46394781, "comment_id": 79749851, "body": "To have perl do things, it needs to have the <code>$data&#47;wav.scp</code> file present. Currently, it&#39;s outputting the else part, and fails as <code>wav-to-duration</code> is not found."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6188468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2837fa9b55e3acc3c42116013adf38d9?s=128&d=identicon&r=PG&f=1", "display_name": "N. Ell", "link": "https://stackoverflow.com/users/6188468/n-ell"}, "is_accepted": false, "score": 1, "last_activity_date": 1507369898, "creation_date": 1507369898, "answer_id": 46618859, "question_id": 46394781, "link": "https://stackoverflow.com/questions/46394781/kaldi-librispeech-data-preparation-error/46618859#46618859", "title": "Kaldi librispeech data preparation error", "body": "<p>The problem I see from this line</p>\n\n<pre><code>utils/data/get_utt2dur.sh: line 99: wav-to-duration: command not found\n</code></pre>\n\n<p>is that you have not added the kaldi tools in your path.\nCheck the file path.sh and see if the directories that it adds to your path are correct (because it has ../../.. inside and it might not match your current folder setup)</p>\n\n<p>As for the perl script, it counts the samples of the sound file and then it divides with the sample rate in order to get the duration. Don't worry about the 'wav' word, your files might be on another format, it's just the name of the kaldi functions.</p>\n"}], "owner": {"reputation": 39, "user_id": 4146765, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-l2old1WBebY/AAAAAAAAAAI/AAAAAAAAABk/F80CYsx0QEs/photo.jpg?sz=128", "display_name": "Eclipser", "link": "https://stackoverflow.com/users/4146765/eclipser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1352, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507369898, "creation_date": 1506286607, "question_id": 46394781, "link": "https://stackoverflow.com/questions/46394781/kaldi-librispeech-data-preparation-error", "title": "Kaldi librispeech data preparation error", "body": "<p>I'm trying to do ASR system. Im using kaldi manual and librispeech corpus.\nIn data preparation step i get this error</p>\n\n<pre><code>utils/data/get_utt2dur.sh: segments file does not exist so getting durations \nfrom wave files \nutils/data/get_utt2dur.sh: could not get utterance lengths from sphere-file \nheaders, using wav-to-duration\nutils/data/get_utt2dur.sh: line 99: wav-to-duration: command not found\n</code></pre>\n\n<p>And here the piece of code where this error occures</p>\n\n<pre><code>if cat $data/wav.scp | perl -e '\n    while (&lt;&gt;) { s/\\|\\s*$/ |/;  # make sure final | is preceded by space.\n\n        @A = split;\n        if (!($#A == 5 &amp;&amp; $A[1] =~ m/sph2pipe$/ &amp;&amp;\n                          $A[2] eq \"-f\" &amp;&amp; $A[3] eq \"wav\" &amp;&amp; $A[5] eq \"|\")) { exit (1); }\n\n        $utt = $A[0]; $sphere_file = $A[4];\n        if (!open(F, \"&lt;$sphere_file\")) { die \"Error opening sphere file $sphere_file\"; }\n            $sample_rate = -1;  $sample_count = -1;\n            for ($n = 0; $n &lt;= 30; $n++) {\n                $line = &lt;F&gt;;\n                if ($line =~ m/sample_rate -i (\\d+)/) { $sample_rate = $1; }\n                if ($line =~ m/sample_count -i (\\d+)/) { $sample_count = $1; \n            }\n            if ($line =~ m/end_head/) { break; }\n         }\n         close(F);\n         if ($sample_rate == -1 || $sample_count == -1) {\n             die \"could not parse sphere header from $sphere_file\";\n         }\n         $duration = $sample_count * 1.0 / $sample_rate;\n         print \"$utt $duration\\n\";\n} ' &gt; $data/utt2dur; then\necho \"$0: successfully obtained utterance lengths from sphere-file headers\"\n    else\n        echo \"$0: could not get utterance lengths from sphere-file headers, \nusing wav-to-duration\"\n    if command -v wav-to-duration &gt;/dev/null; then\n        echo  \"$0: wav-to-duration is not on your path\"\n        exit 1;\n    fi\n</code></pre>\n\n<p>In file wav.scp i got such lines:</p>\n\n<pre><code>6295-64301-0002 flac -c -d -s /home/tinin/kaldi/egs/librispeech/s5/LibriSpeech/dev-clean/6295/64301/6295-64301-0002.flac |\n</code></pre>\n\n<p>In this dataset i have only flac files(they downloaded via provided script) and i dont understand why we search <strong>wav-files</strong>? And how run data preparation correctly(i didnt change source code in this manual.</p>\n\n<p>Also, if you explain to me what is happening in this code, then I will be very grateful to you, because i'm not familiar with bash and perl.</p>\n\n<p>Thank you a lot!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506304712, "post_id": 46393795, "comment_id": 79750337, "body": "That is a misuse of <code>map</code>, and should be done with an ordinary <code>for</code> loop: <code>print &lt;&gt; =~ tr&#47;aeiouAEIOU&#47;&#47;, &quot;\\n&quot; for 1 .. &lt;&gt;</code>. I don&#39;t know if that&#39;s any easier to understand though."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8613163"}, "edited": false, "score": 1, "creation_date": 1506280952, "post_id": 46393873, "comment_id": 79745009, "body": "Thank you so much sir. One more thing what does it mean <code>1..&lt;&gt;</code> at the end of map?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1506280996, "post_id": 46393873, "comment_id": 79745026, "body": "Read a line from ARGV. Create a list of numbers from 1 to the number read."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1506280784, "last_edit_date": 1506280784, "creation_date": 1506280398, "answer_id": 46393873, "question_id": 46393795, "link": "https://stackoverflow.com/questions/46393795/what-does-mean-in-perl/46393873#46393873", "title": "What does &quot;$\\=$/;&quot; mean in perl?", "body": "<blockquote>\n  <p><em>What does <code>$\\=$/;</code> mean in perl?</em></p>\n</blockquote>\n\n<p>Sets <code>$\\</code> to the value of <code>$/</code>.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlvar.html#$/\" rel=\"noreferrer\"><code>$/</code></a> defines the line ending ending for <code>readline</code> (<code>&lt;&gt;</code>). It's default is a line feed (U+000A).</p>\n\n<p><a href=\"http://perldoc.perl.org/perlvar.html#$%5C\" rel=\"noreferrer\"><code>$\\</code></a> is appended to the output of each <code>print</code>. It's default is the empty string.</p>\n\n<p>So, assuming <code>$/</code> hadn't been changed, it sets <code>$\\</code> to line feed, which makes <code>print</code> act like <code>say</code>.</p>\n\n<blockquote>\n  <p><em>Anyone who can decode this program line by line?</em></p>\n</blockquote>\n\n<ol>\n<li>Globally make <code>print</code> act like <code>say</code>.</li>\n<li>Read a line from <code>ARGV</code>.</li>\n<li>For a number of times equal to the number read,\n\n<ol>\n<li>Read a line from <code>ARGV</code>.</li>\n<li>Use <code>s/[aeiou]//gi</code> to count the number of vowels.</li>\n<li>Print the result.</li>\n</ol></li>\n</ol>\n\n<p>In scalar context, <code>s///g</code> returns the number of matches/replacements. <code>0+</code> forces scalar context.</p>\n\n<hr>\n\n<p>By the way, <code>tr/aeiouAEIOU//</code> would be faster than <code>0+s/[aeiou]//gi</code>, and no longer. It's also non-destructive.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8613163"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 1, "accepted_answer_id": 46393873, "answer_count": 1, "score": 3, "last_activity_date": 1506280784, "creation_date": 1506279888, "question_id": 46393795, "link": "https://stackoverflow.com/questions/46393795/what-does-mean-in-perl", "title": "What does &quot;$\\=$/;&quot; mean in perl?", "body": "<p>I came across a perl program which counts the number of vowels in a string. But I'm not able to infer a single line how it is working. Anyone who can decode this program line by line?</p>\n\n<pre><code>$\\=$/;map{\n    $_=&lt;&gt;;print 0+s/[aeiou]//gi\n}1..&lt;&gt;\n</code></pre>\n"}, {"tags": ["perl", "file-handling"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1506273366, "post_id": 46392492, "comment_id": 79742551, "body": "<a href=\"https://perldoc.perl.org/functions/seek.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/seek.html</a>"}, {"owner": {"reputation": 132, "user_id": 5330756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9b6fda795429c11368b81b376a18d9d?s=128&d=identicon&r=PG&f=1", "display_name": "rdbeni0", "link": "https://stackoverflow.com/users/5330756/rdbeni0"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506280080, "post_id": 46392492, "comment_id": 79744711, "body": "@ikegami thanks. Corrected."}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 4, "last_activity_date": 1506273505, "creation_date": 1506273505, "answer_id": 46392783, "question_id": 46392492, "link": "https://stackoverflow.com/questions/46392492/perl-file-handles-overwrite-existing-data-instead-of-appending-deleting/46392783#46392783", "title": "Perl file handles - overwrite existing data instead of appending/deleting", "body": "<blockquote>\n  <p>Why this is appending, but no overwriting?</p>\n</blockquote>\n\n<p>You have first read all the data until the end of the file. This mean the file position for the next read or write is now after all the data you have read, i.e. at the end of the file. If you want to write data from the beginning of the file you need to change the file position by using <a href=\"https://perldoc.perl.org/functions/seek.html\" rel=\"nofollow noreferrer\">seek</a>:</p>\n\n<pre><code> seek($filehandle,0,0); # position at beginning of file\n</code></pre>\n\n<p>The next data you write will then be written starting with this new file position, i.e. from the beginning of the file. Once you are done you might need to remove any data after the current file position from the file by using <a href=\"https://perldoc.perl.org/functions/truncate.html\" rel=\"nofollow noreferrer\">truncate</a> with the current file position you've got with <a href=\"https://perldoc.perl.org/functions/tell.html\" rel=\"nofollow noreferrer\">tell</a>:</p>\n\n<pre><code> truncate($filehandle, tell($filehandle));\n</code></pre>\n\n<p>Or, the whole program:</p>\n\n<pre><code>use strict;\nuse warnings;\nopen(my $fh, \"+&lt;\", \"./test1.txt\");\nmy @araj = &lt;$fh&gt;;\nfor(@araj) {\n    s{car}{bike};\n    s{^\\n}{};\n}\nseek($fh, 0, 0);           # seek at the beginning of the file\nprint $fh @araj;\ntruncate($fh, tell($fh));  # remove everything after current file position\nclose($fh);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "is_accepted": false, "score": 1, "last_activity_date": 1506273611, "creation_date": 1506273611, "answer_id": 46392799, "question_id": 46392492, "link": "https://stackoverflow.com/questions/46392492/perl-file-handles-overwrite-existing-data-instead-of-appending-deleting/46392799#46392799", "title": "Perl file handles - overwrite existing data instead of appending/deleting", "body": "<p>After you read file in array the filehandle position is end of the file.\nThen you should change filehandle position by <code>seek</code> function (set on start of the file) <a href=\"https://perldoc.perl.org/functions/seek.html\" rel=\"nofollow noreferrer\"><code>perldoc seek</code></a>.\nNext resize you file by <code>truncate</code> <a href=\"https://perldoc.perl.org/functions/truncate.html\" rel=\"nofollow noreferrer\"><code>perldoc truncate</code></a></p>\n\n<pre><code>#!/usr/bin/perl -w\nopen(FILE2,\"+&lt;\",\"./test1.txt\"); #what file handle should be here? +&gt; , +&gt;&gt; &gt;&gt; .... ?\n@araj=&lt;FILE2&gt;;\nmap {\ns@car@bike@; s@^\\n@@;\n} @araj;\n\nseek(FILE2, 0, 0);\nprint(FILE2 @araj);\ntruncate(FILE2, tell(FILE2));\n\nclose(FILE2);\n</code></pre>\n"}], "owner": {"reputation": 132, "user_id": 5330756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9b6fda795429c11368b81b376a18d9d?s=128&d=identicon&r=PG&f=1", "display_name": "rdbeni0", "link": "https://stackoverflow.com/users/5330756/rdbeni0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1884, "favorite_count": 0, "accepted_answer_id": 46392783, "answer_count": 2, "score": 4, "last_activity_date": 1506279881, "creation_date": 1506271926, "last_edit_date": 1506279881, "question_id": 46392492, "link": "https://stackoverflow.com/questions/46392492/perl-file-handles-overwrite-existing-data-instead-of-appending-deleting", "title": "Perl file handles - overwrite existing data instead of appending/deleting", "body": "<pre><code>cat -E test1.txt\n</code></pre>\n\n<p>output:  </p>\n\n<pre><code>car$\n$\n$\n</code></pre>\n\n<p>I want just change \"car\" with \"bike\" and remove new/empty lines.</p>\n\n<p>This is working as expected:</p>\n\n<pre><code>#!/usr/bin/perl -w\nopen(FILE1,\"&lt;\",\"./test1.txt\"); @araj=&lt;FILE1&gt;; close(FILE1);\nopen(FILE2,\"&gt;\",\"./test1.txt\");\nmap {\ns@car@bike@; s@^\\n@@;\n} @araj;\nprint(FILE2 @araj);\nclose(FILE2);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>cat -E test1.txt\n</code></pre>\n\n<p>output is 100% correct for me: </p>\n\n<pre><code>bike$\n</code></pre>\n\n<p>But in above case i am using 2x opening/close file. \nSo i am using 2x file handles.<br>\nI want to use only <strong>1x</strong> file handle<br>\n(it`s for learning purposes, just trying to understand how +> +>> >> are working...).<br>\nFor example:</p>\n\n<pre><code>#!/usr/bin/perl -w\nopen(FILE2,\"+&lt;\",\"./test1.txt\"); #what file handle should be here? +&gt; , +&gt;&gt; &gt;&gt; .... ?\n@araj=&lt;FILE2&gt;;\nmap {\ns@car@bike@; s@^\\n@@;\n} @araj;\nprint(FILE2 @araj);\nclose(FILE2);\n</code></pre>\n\n<p>output is incorrect:</p>\n\n<pre><code>car$\n$\n$\nbike$\n</code></pre>\n\n<p>Why this is appending, but no overwriting? When i used others file handles, results are also incorrect, for example empty file... \nWhich file handle is used for read-and-overwrite ?</p>\n"}, {"tags": ["perl", "email", "encoding", "smtp"], "comments": [{"owner": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "edited": false, "score": 0, "creation_date": 1506254207, "post_id": 46389320, "comment_id": 79736861, "body": "did you try send message with utf-8 by google web interface and open it by &quot;the bat&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 19222, "user_id": 789186, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d232cc5abe46092d3972d4f85833e42?s=128&d=identicon&r=PG", "display_name": "user4035", "link": "https://stackoverflow.com/users/789186/user4035"}, "edited": false, "score": 3, "creation_date": 1506286679, "post_id": 46389823, "comment_id": 79746825, "body": "&quot;Calling encode(&#39;utf-8&#39;,...) before calling send_email is not necessary when you use use utf-8; &quot; - it is necessary. Please, look at this question: <a href=\"https://stackoverflow.com/questions/46248458/perl-smtp-cant-send-email-with-non-ascii-characters-in-body\" title=\"perl smtp cant send email with non ascii characters in body\">stackoverflow.com/questions/46248458/&hellip;</a>"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1506315680, "post_id": 46389823, "comment_id": 79752727, "body": "Setting <code>Content-Transfer-Encoding: 8bit</code> should only be done if the receiving MTA supports the 8BITMIME SMTP extension. Most do but some major mail provider like 1&amp;1 (GMX) don&#39;t. Thus to be compatible the message should be sent with a Content-Transfer-Encoding of quoted-printable or base64."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 1, "last_activity_date": 1506324118, "last_edit_date": 1506324118, "creation_date": 1506254525, "answer_id": 46389823, "question_id": 46389320, "link": "https://stackoverflow.com/questions/46389320/email-text-has-incorrect-default-encoding-in-client-program/46389823#46389823", "title": "Email text has incorrect default encoding in client program", "body": "<h2>Give <code>Email::Sender</code>/<code>Net::SMTP</code> string of bytes</h2>\n\n<p><code>Email::Sender</code> (<code>Net::SMTP</code>) expects bytes (<a href=\"https://stackoverflow.com/a/46251617/2139766\">see answer</a> mentioned by <a href=\"https://stackoverflow.com/users/789186/user4035\">user4035</a>):</p>\n\n<pre><code>my $msg = $email-&gt;as_string();\nutf8::encode($msg) if utf8::is_utf8($msg);\nsendmail($msg, ...);\n</code></pre>\n\n<h2>Email body encoding</h2>\n\n<p>Set all three MIME headers for \"raw\" utf-8 email body:<br>\n(You may use <code>text/html</code> instead of typical <code>text/plain</code>)</p>\n\n<pre><code>$email-&gt;header_set( 'MIME-Version' =&gt; '1.0' );\n$email-&gt;header_set( 'Content-Type' =&gt; 'text/plain; charset=utf-8' );\n$email-&gt;header_set( 'Content-Transfer-Encoding' =&gt; '8bit');\n</code></pre>\n\n<p>Your SMTP server should accept it and conduct conversions from \"raw\" (8-bit) utf-8 to another email encoding <strong>if necessary</strong>.  Most modern email servers do it.<br>\n<em>See  <a href=\"https://stackoverflow.com/users/3081018/steffen-ullrich\">Steffen Ullrich</a> comment about notable exceptions among email providers [1&amp;1 (GMX)].</em></p>\n\n<h2>Email headers encoding:</h2>\n\n<pre><code>$email-&gt;header_raw_set( 'Subject' =&gt; Encode::encode('MIME-Header',$subject));\n</code></pre>\n\n<h2>Debug procedure</h2>\n\n<p>Create minimal <code>Email::Simple</code> message, print it on utf-8 terminal\n(<code>print $email-&gt;as_string();</code>) and post the result.</p>\n"}], "owner": {"reputation": 19222, "user_id": 789186, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d232cc5abe46092d3972d4f85833e42?s=128&d=identicon&r=PG", "display_name": "user4035", "link": "https://stackoverflow.com/users/789186/user4035"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1001, "favorite_count": 1, "accepted_answer_id": 46389823, "answer_count": 1, "score": 1, "last_activity_date": 1506325541, "creation_date": 1506250647, "last_edit_date": 1506325541, "question_id": 46389320, "link": "https://stackoverflow.com/questions/46389320/email-text-has-incorrect-default-encoding-in-client-program", "title": "Email text has incorrect default encoding in client program", "body": "<p>I am trying to send an email containing Russian text and subject in utf-8 encoding. Email is being received, when I open it in the web interface of gmail, everything is correct. But when I open the email in \"The bat\" client, the encoding is incorrect by default (I can set it manually to utf-8 though):</p>\n\n<pre><code>Subject: \"Hello. \u0420\u045e\u0420\u00b5\u0420\u0454\u0421\u0403\u0421\u201a\"\nBody: \"test email. \u0420 \u0421\u0453\u0421\u0403\u0421\u0403\u0420\u0454\u0420\u0451\u0420\u2116 \u0421\u201a\u0420\u00b5\u0420\u0454\u0421\u0403\u0421\u201a\"\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>Subject: \"Hello. \u0422\u0435\u043a\u0441\u0442\"\nBody: \"test email. \u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u0442\u0435\u043a\u0441\u0442\"\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse utf8;\nuse strict;\nuse warnings;\n\nuse Email::Sender::Simple qw(sendmail);\nuse Email::Sender::Transport::SMTP ();\nuse Email::Simple ();\nuse MIME::Base64 qw( encode_base64 );\nuse open ':std', ':encoding(UTF-8)';\n\nsub send_email\n{\n    my $email_from = shift;\n    my $email_to = shift;\n    my $subject = shift;\n    my $message = shift;\n\n    my $smtpserver = 'smtp.gmail.com';\n    my $smtpport = 465;\n    my $smtpuser   = 'user@gmail.com';\n    my $password = 'secret';\n\n    my $transport = Email::Sender::Transport::SMTP-&gt;new({\n        host =&gt; $smtpserver,\n        port =&gt; $smtpport,\n        sasl_username =&gt; $smtpuser,\n        sasl_password =&gt; $password,\n        debug    =&gt; 1,\n        ssl =&gt; 1,\n    });\n\n    my $email = Email::Simple-&gt;create(\n        header =&gt; [\n            To      =&gt; $email_to,\n            From    =&gt; $email_from,\n            Subject =&gt; $subject,\n        ],\n        body =&gt; $message,\n    );\n\n    $email-&gt;header_set( 'Content-Type' =&gt; 'text/html' );\n    $email-&gt;header_set( 'charset' =&gt; 'UTF-8' );\n    sendmail($email, { transport =&gt; $transport });\n}\n\nmy $body = Encode::encode('utf-8', 'test email. \u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u0442\u0435\u043a\u0441\u0442');\nmy $subject = Encode::encode('utf-8', 'Hello. \u0422\u0435\u043a\u0441\u0442');\nsend_email('user@gmail.com', 'user@gmail.com', $subject, $body);\n</code></pre>\n\n<p>How to tell the email clients that the encoding is utf-8?</p>\n"}, {"tags": ["arrays", "perl", "hash", "sum", "shift"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1506243557, "post_id": 46388331, "comment_id": 79734262, "body": "<a href=\"https://metacpan.org/pod/List::Util#uniq\" rel=\"nofollow noreferrer\">metacpan.org/pod/List::Util#uniq</a>"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 8243386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fdc4bbaec1385f2da5a44ec306451c4?s=128&d=identicon&r=PG&f=1", "display_name": "shane1717", "link": "https://stackoverflow.com/users/8243386/shane1717"}, "edited": false, "score": 0, "creation_date": 1506249305, "post_id": 46388585, "comment_id": 79735588, "body": "thank you for the quick answer. however. this gives me this result: Argument &quot;CASH&quot; isn&#39;t numeric in addition (+)     NAME  |DATE       |VALUE     SYMBOL|12/31/2016 |900 Argument &quot;CASH&quot;  line 19.     SYMBOL|1/31/2017  |900     SYMBOL|2/1/2017   |890"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 97, "user_id": 8243386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fdc4bbaec1385f2da5a44ec306451c4?s=128&d=identicon&r=PG&f=1", "display_name": "shane1717", "link": "https://stackoverflow.com/users/8243386/shane1717"}, "edited": false, "score": 0, "creation_date": 1506250588, "post_id": 46388585, "comment_id": 79735915, "body": "@shia1717 I&#39;m not sure what you&#39;re referring to. There is no <code>CASH</code> in your sample data, and line 19 of my code doesn&#39;t contain <code>+</code>."}, {"owner": {"reputation": 97, "user_id": 8243386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fdc4bbaec1385f2da5a44ec306451c4?s=128&d=identicon&r=PG&f=1", "display_name": "shane1717", "link": "https://stackoverflow.com/users/8243386/shane1717"}, "edited": false, "score": 0, "creation_date": 1506250978, "post_id": 46388585, "comment_id": 79736038, "body": "oh sorry, that was VALUE."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 97, "user_id": 8243386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fdc4bbaec1385f2da5a44ec306451c4?s=128&d=identicon&r=PG&f=1", "display_name": "shane1717", "link": "https://stackoverflow.com/users/8243386/shane1717"}, "edited": false, "score": 0, "creation_date": 1506251056, "post_id": 46388585, "comment_id": 79736059, "body": "You&#39;ve lost me. What input data are you using?"}, {"owner": {"reputation": 97, "user_id": 8243386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fdc4bbaec1385f2da5a44ec306451c4?s=128&d=identicon&r=PG&f=1", "display_name": "shane1717", "link": "https://stackoverflow.com/users/8243386/shane1717"}, "edited": false, "score": 0, "creation_date": 1506251645, "post_id": 46388585, "comment_id": 79736213, "body": "I was using another one. (<i>facepalm</i>). Sorry. i tried it again and it worked fine! Many Thanks!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506264320, "post_id": 46388585, "comment_id": 79739714, "body": "Why are you using non-standard delimiters for the substitution <code>s!\\A\\s+!!, s!\\s+\\z!!</code> and why do you have a <i>reference</i> to a subroutine instead of an ordinary subroutine?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506266518, "post_id": 46388585, "comment_id": 79740436, "body": "@Borodin The delimiters are explained in the post. A named sub would be global, but I want a local function because it closes over other local variables."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506270311, "post_id": 46388585, "comment_id": 79741626, "body": "@melpomene: I&#39;m sorry, I should have read your post! I&#39;m not sure what you mean about the subroutine; a regular sub would allow access to the same variables and there&#39;s no need for a closure here."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506272822, "post_id": 46388585, "comment_id": 79742382, "body": "Yay for O(N) instead of requested O(N^2)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506272988, "post_id": 46388585, "comment_id": 79742425, "body": "@Borodin If I don&#39;t make it a closure, I have to pass all the variables as arguments every time (<code>$group_name</code>, <code>@dates</code>, <code>@values</code>, <code>$sum</code>). That&#39;s too much code duplication for my taste."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506278745, "post_id": 46388585, "comment_id": 79744306, "body": "@melpomene: But clearly those variables are available to the subroutine anyway by virtue of being declared beforehand. Are you saying that you have a personal rule to <i>never</i> access data in a subroutine that isn&#39;t either a parameter or a captured variable from a closure?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506282104, "post_id": 46388585, "comment_id": 79745386, "body": "@Borodin If they&#39;re declared beforehand, that makes the subroutine a closure. I don&#39;t understand where you&#39;re going with this."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506283151, "post_id": 46388585, "comment_id": 79745713, "body": "I&#39;m simply trying to understand why you have <code>my $print_group = sub { ... }</code> instead of just <code>sub print_group { ... }</code>. Both work just fine without passing the three external lexicals as parameters."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506287135, "post_id": 46388585, "comment_id": 79746954, "body": "@Borodin Yes, but in the latter case you have a global sub referring to local variables, which is error prone (e.g. someone could accidentally call the sub before the variables are defined). I could, if I wanted to, wrap a loop around my current code or move it into a separate sub with no changes. If I&#39;d used a named sub, I&#39;d have to convert it to a local sub first or I&#39;d run into the &quot;will not stay shared&quot; error."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 4, "last_activity_date": 1506245379, "creation_date": 1506245379, "answer_id": 46388585, "question_id": 46388331, "link": "https://stackoverflow.com/questions/46388331/add-all-values-in-array-for-each-id-in-perl/46388585#46388585", "title": "Add all values in array for each ID in Perl", "body": "<p>A possible solution:</p>\n\n<pre><code>#!perl\nuse strict;\nuse warnings;\n\nsub trim {\n    my ($str) = @_;\n    s!\\A\\s+!!, s!\\s+\\z!! for $str;\n    $str\n}\n\nmy $file = 'try.CSV';    \nopen my $fh, '&lt;', $file or die \"$0: $file: $!\\n\";\n\nmy ($group_name, @dates, @values);\nmy $sum = 0;\n\nmy $print_group = sub {\n    return if !defined $group_name;\n    my $format = \"    %-6s|%-11s|%s\\n\";\n    printf $format, 'NAME', 'DATE', 'VALUE';\n    for my $date (@dates) {\n        printf $format, $group_name, $date, $sum;\n        $sum -= shift @values if @values;\n    }\n};\n\nwhile (my $line = readline $fh) {\n    my ($name, $date, $value) = map trim($_), split /\\|/, $line;\n    if ($name eq 'NAME') {\n        $print_group-&gt;();\n        $group_name = undef;\n        @dates = $date;\n        @values = ();\n        $sum = 0;\n        next;\n    }\n    $group_name ||= $name;\n    push @dates, $date if @dates &lt; 3;\n    push @values, $value if @values &lt; 2;\n    $sum += $value;\n}\n$print_group-&gt;();\n</code></pre>\n\n<hr>\n\n<p>Let's go over it.</p>\n\n<pre><code>sub trim {\n    my ($str) = @_;\n    s!\\A\\s+!!, s!\\s+\\z!! for $str;\n    $str\n}\n</code></pre>\n\n<p>A helper function for removing leading/trailing whitespace from a string. We're using <code>!</code> as the <code>s</code> delimiter here because <code>/</code> breaks SO's syntax highlighting. Shrug.</p>\n\n<pre><code>my $file = 'try.CSV';    \nopen my $fh, '&lt;', $file or die \"$0: $file: $!\\n\";\n</code></pre>\n\n<p>Open our input file. Note: We use a lexical variable (<code>$fh</code>) instead of a bareword filehandle, and we use 3-argument open. This is strongly recommended. We also check open's return value and produce a nice error message in case of failure, including both the name of the file that couldn't be opened (<code>$file</code>) and the reason for failing (<code>$!</code>).</p>\n\n<pre><code>my ($group_name, @dates, @values);\nmy $sum = 0;\n</code></pre>\n\n<p>We set up some state variables that we want to preserve across loop iterations. <code>$group_name</code> is the name of the group we're currently processing, <code>@dates</code> is the saved dates we've seen so far, <code>@values</code> is the saved values we've seen so far. <code>$sum</code> is a running sum of all the values in the current group, and it starts at <code>0</code>.</p>\n\n<pre><code>my $print_group = sub {\n    return if !defined $group_name;\n    my $format = \"    %-6s|%-11s|%s\\n\";\n    printf $format, 'NAME', 'DATE', 'VALUE';\n    for my $date (@dates) {\n        printf $format, $group_name, $date, $sum;\n        $sum -= shift @values if @values;\n    }\n};\n</code></pre>\n\n<p>A helper function for printing the output for a single group. If <code>$group_name</code> isn't set, we haven't processed any input for the current group yet, so we do nothing and return. Otherwise we print a <code>NAME | DATE | VALUE</code> header, followed by a row of data for each element in <code>@dates</code>. For each <code>$date</code> we output the current group name (e.g. <code>AAA</code>), <code>$date</code>, and the sum of values (all nicely formatted using <code>printf</code>). Initially <code>$sum</code> is the sum of all group values, but after the first iteration we start subtracting the values from <code>@values</code>: If the list of values in the input was <code>x1</code>, <code>x2</code>, <code>x3</code>, <code>x4</code>, ..., then <code>$sum</code> is initially <code>x1 + x2 + x3 + x4 + ...</code>, and that's what's printed in the first line of output. After that we subtract <code>x1</code>, so the next line gets <code>x1 + x2 + x3 + x4 + ... - x1</code>, which is <code>x2 + x3 + x4 + ...</code>. After that we subtract <code>x2</code>, so the third row of data gets <code>x3 + x4 + ...</code>.</p>\n\n<pre><code>while (my $line = readline $fh) {\n    my ($name, $date, $value) = map trim($_), split /\\|/, $line;\n</code></pre>\n\n<p>Our main loop. We read a line of input, split it on <code>|</code>, and trim each field.</p>\n\n<pre><code>    if ($name eq 'NAME') {\n        $print_group-&gt;();\n        $group_name = undef;\n        @dates = $date;\n        @values = ();\n        $sum = 0;\n        next;\n    }\n</code></pre>\n\n<p>If <code>$name</code> is <code>'NAME'</code>, this is the start of a new group. Print the output for the current group if any (<code>$print_group-&gt;()</code> does nothing if there is no current group), then reset our state variables back to initial values, except for <code>@dates</code>, which is filled with the <code>$date</code> value from the header row. Then start the next iteration of the loop because we're done with this line.</p>\n\n<pre><code>    $group_name ||= $name;\n    push @dates, $date if @dates &lt; 3;\n    push @values, $value if @values &lt; 2;\n    $sum += $value;\n</code></pre>\n\n<p>If we get here, this line is not the start of a new group. We set <code>$group_name</code> if it hasn't been set yet. We add <code>$date</code> to our list of saved dates (but we only need 3 dates, so do nothing if we already have 3). We add <code>$value</code> to our list of saved values (but we only need 2 of them). Finally we add <code>$value</code> to our total <code>$sum</code> within the group.</p>\n\n<pre><code>}\n$print_group-&gt;();\n</code></pre>\n\n<p>At the end of the loop we've also just finished processing a group, so we need to call <code>$print_group</code> here as well.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1506264348, "creation_date": 1506264348, "answer_id": 46391274, "question_id": 46388331, "link": "https://stackoverflow.com/questions/46388331/add-all-values-in-array-for-each-id-in-perl/46391274#46391274", "title": "Add all values in array for each ID in Perl", "body": "<p></p>\n\n<p>This will do as you ask. It reads the whole data file into an array of arrays and manipulates that array before printing it. The blocks are processed backwards from the end so that the other blocks remain in place when the trailing lines are deleted</p>\n\n<p>This program expects the path to the input file as a parameter on the command line and writes the result to <code>STDOUT</code></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy @data = map [ /[^|\\s]+/g ], &lt;&gt;;\n\n# Make a list of the indices of all the header rows\nmy @headers = grep { $data[$_][0] eq 'NAME' } 0 .. $#data;\n\n# Make a list of the indices of the first\n# and last lines of all the data blocks\nmy @blocks = map {\n    [\n        $headers[$_] + 1,\n        $_ == $#headers ? $#data : $headers[$_+1] - 1\n    ]\n} 0 .. $#headers;\n\n# Shift the second column down\n# Replace the col2 header with 'DATE'\n#\n$data[$_][1] = $data[$_-1][1] for reverse 1 .. $#data;\n$data[$_][1] = 'DATE' for @headers;\n\n\n# Edit each block of data\n#\nfor my $block ( reverse @blocks ) {\n\n    my ( $beg, $end ) = @$block;\n\n    # Calculate the block total\n    my $total = 0;\n    for ( $beg ... $end ) {\n        $total += $data[$_][2];\n    }\n\n    # Calculate the first three data values\n    for my $i ( $beg .. $beg + 2 ) {\n        my $next = $total - $data[$i][2];\n        $data[$i][2] = $total;\n        $total = $next;\n    }\n\n    # Remove everything except those three lines\n    splice @data, $beg+3, $end-$beg-2;\n}\n\nprint join('|', @$_), \"\\n\" for @data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>NAME|DATE|VALUE\nAAA|12/31/2016|150\nAAA|1/31/2017|140\nAAA|2/1/2017|120\nNAME|DATE|VALUE\nBBB|2/9/2017|200\nBBB|2/10/2017|180\nBBB|2/11/2017|150\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 8243386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fdc4bbaec1385f2da5a44ec306451c4?s=128&d=identicon&r=PG&f=1", "display_name": "shane1717", "link": "https://stackoverflow.com/users/8243386/shane1717"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 0, "accepted_answer_id": 46388585, "answer_count": 2, "score": 1, "last_activity_date": 1506273056, "creation_date": 1506243261, "last_edit_date": 1506273056, "question_id": 46388331, "link": "https://stackoverflow.com/questions/46388331/add-all-values-in-array-for-each-id-in-perl", "title": "Add all values in array for each ID in Perl", "body": "\n\n<p>I have this table:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>NAME  |12/31/2016|VALUE\nAAA   |1/31/2017 |10\nAAA   |2/1/2017  |20\nAAA   |2/2/2017  |30\nAAA   |2/3/2017  |40\nAAA   |2/4/2017  |50\nNAME  |2/9/2017  |VALUE\nBBB   |2/10/2017 |20\nBBB   |2/11/2017 |30\nBBB   |2/12/2017 |40\nBBB   |2/13/2017 |50\nBBB   |2/14/2017 |60\n</code></pre>\n\n<p>and this would be my desired output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>NAME  |DATE       |VALUE\nAAA   |12/31/2016 |150\nAAA   |1/31/2017  |140\nAAA   |2/1/2017   |120\nNAME  |DATE       |VALUE\nBBB   |2/9/2017   |200\nBBB   |2/10/2017  |180\nBBB   |2/11/2017  |150\n</code></pre>\n\n<p>What I want to do is, for each of the valid symbols, (<code>AAA</code>, <code>BBB</code>) I want to have three rows.</p>\n\n<p>For the first row of each column, I want all the values added,</p>\n\n<p>For example, row 1 value for AAA:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>10+20+30+40+50 = 150\n</code></pre>\n\n<p>then for row 2 I want to just add from the second value to the last.</p>\n\n<p>For example row 2 value for <code>AAA</code></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>20+30+40+50 = 140\n</code></pre>\n\n<p>and so on same goes for <code>BBB</code>.</p>\n\n<p>I want to shift the dates down so that <code>12/31/2016</code> would match <code>AAA</code>, then get the first three dates for each row.</p>\n\n<p>I currently have this code. but this doesn't do much. it just gives me a bunch of numbers. </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nuse Scalar::Util qw(looks_like_number);\nuse Data::Dumper;\n\nsub uniq {\n    my %seen;\n    grep !$seen{$_}++, @_;\n}\n\nmy %cashflow;\nmy %fields = (\n    ID    =&gt; 0,\n    DATES =&gt; 1,\n    VALUE =&gt; 2,\n);\n\nmy @total;\nmy @IDs;\nmy @uniqueIDs;\nmy @dates;\nmy @add;\nmy $i = 0;\nmy @values;\n\nmy $counter = 3;\n\nopen( FILE, \"try.CSV\" );\n\nwhile ( my $line = &lt;FILE&gt; ) {\n    chomp( $line );\n    my @lineVals = split( /\\|/, $line );\n\n    if ( $lineVals[ $fields{ID} ] !~ /^SYMBOL$/i ) {\n        push @IDs, $lineVals[ $fields{ID} ];\n    }\n    @uniqueIDs = uniq( @IDs );\n\n    #push all CASH FLOW AMOUNTS to @cashflow\n    if ( looks_like_number( $lineVals[ $fields{VALUE} ] ) ) {\n        $lineVals[ $fields{VALUE} ] =~ s/\\r//;\n        push @total, $lineVals[ $fields{VALUE} ];\n    }\n\n    if ( $lineVals[ $fields{DATES} ] =~ /(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})/ ) {\n        $lineVals[ $fields{DATES} ] = sprintf( '%04d%02d%02d', $3, $2, $1 );\n    }\n\n    $cashflow{ uc $lineVals[ $fields{ID} ] }{DATES} = $lineVals[ $fields{DATES} ];\n    $cashflow{ uc $lineVals[ $fields{ID} ] }{VALUE} = $lineVals[ $fields{VALUE} ];\n\n    foreach my $ID ( @uniqueIDs ) {\n\n        foreach my $symb ( keys %cashflow ) {\n\n            if ( $ID = $symb ) {\n\n                if ( looks_like_number( $lineVals[ $fields{VALUE} ] ) ) {\n\n                    $lineVals[ $fields{VALUE} ] =~ s/\\r//;\n                    push @total, $lineVals[ $fields{VALUE} ];\n\n                    my $i     = 0;\n                    my $grand = 0;\n\n                    foreach my $val ( @total ) {\n\n                        while ( $i &lt; $counter ) {\n\n                            $grand += $val;\n                            print \"$grand \\n\";\n                            $i++;\n                        }\n\n                        shift @total;\n                    }\n                }\n            }\n        }\n    }\n}\n\nclose FILE;\n</code></pre>\n\n<p>I'm really stuck with this. I don't know what to do with the problem.</p>\n"}, {"tags": ["r", "regex", "perl", "dataframe"], "comments": [{"owner": {"reputation": 4192, "user_id": 3811401, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/07a7cd02406064b6cce8574c7b85de0f?s=128&d=identicon&r=PG&f=1", "display_name": "Hardik Gupta", "link": "https://stackoverflow.com/users/3811401/hardik-gupta"}, "edited": false, "score": 0, "creation_date": 1506681453, "post_id": 46388016, "comment_id": 79928453, "body": "What is the issue in using for loop here?"}], "answers": [{"comments": [{"owner": {"reputation": 489, "user_id": 6179906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-Az_NAMTKiX0/AAAAAAAAAAI/AAAAAAAAAAo/u0YzG5-w8cA/photo.jpg?sz=128", "display_name": "Madhu Sareen", "link": "https://stackoverflow.com/users/6179906/madhu-sareen"}, "edited": false, "score": 0, "creation_date": 1506247146, "post_id": 46388244, "comment_id": 79735100, "body": "did you mean something like this? <code>resZ &lt;- data.frame(Col1 = gsub(&quot;^(?!(([^:]*?\\.){3,}))(.*?):(.*)$&quot;, df$Text[[3]]),                     Col2 = gsub(&quot;^[^:]+(?:).\\\\s&quot;,&quot;\\\\1&quot;, df$Text[[3]])) </code> and if so, I got an error <code>Col2 = gsub(&quot;^[^:]+(?:).\\\\s&quot;,&quot;\\\\1&quot;, df$Text[[3]])) Error: unexpected &#39;)&#39; in &quot;                   Col2 = gsub(&quot;^[^:]+(?:).\\\\s&quot;,&quot;\\\\1&quot;, df$Text[[3]]))&quot;</code>"}, {"owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "reply_to_user": {"reputation": 489, "user_id": 6179906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-Az_NAMTKiX0/AAAAAAAAAAI/AAAAAAAAAAo/u0YzG5-w8cA/photo.jpg?sz=128", "display_name": "Madhu Sareen", "link": "https://stackoverflow.com/users/6179906/madhu-sareen"}, "edited": false, "score": 1, "creation_date": 1506315473, "post_id": 46388244, "comment_id": 79752683, "body": "@MadhuSareen I have updated the answer with some sample source, you may look into it."}, {"owner": {"reputation": 489, "user_id": 6179906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-Az_NAMTKiX0/AAAAAAAAAAI/AAAAAAAAAAo/u0YzG5-w8cA/photo.jpg?sz=128", "display_name": "Madhu Sareen", "link": "https://stackoverflow.com/users/6179906/madhu-sareen"}, "edited": false, "score": 2, "creation_date": 1506451541, "post_id": 46388244, "comment_id": 79824694, "body": "why it is not working for Y and Z ??? NA and NA for both. first column should have been NA and the whole text would go into 2nd column (because &quot;:&quot; is not in first 3 sentences). By the way I liked your approach. I just upvoted. Thanks."}, {"owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "reply_to_user": {"reputation": 489, "user_id": 6179906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-Az_NAMTKiX0/AAAAAAAAAAI/AAAAAAAAAAo/u0YzG5-w8cA/photo.jpg?sz=128", "display_name": "Madhu Sareen", "link": "https://stackoverflow.com/users/6179906/madhu-sareen"}, "edited": false, "score": 0, "creation_date": 1506489049, "post_id": 46388244, "comment_id": 79836021, "body": "@MadhuSareen I have updated the answer to try to provide you a complete solution. Initially I gave you a sample concept as I knew nothing of R ... But now thanks to you, I have learnt R to some extent and hope that the answer will work for you"}, {"owner": {"reputation": 489, "user_id": 6179906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-Az_NAMTKiX0/AAAAAAAAAAI/AAAAAAAAAAo/u0YzG5-w8cA/photo.jpg?sz=128", "display_name": "Madhu Sareen", "link": "https://stackoverflow.com/users/6179906/madhu-sareen"}, "edited": false, "score": 0, "creation_date": 1506501563, "post_id": 46388244, "comment_id": 79842286, "body": "Thanks for this solution. it is 95% close. What I am looking for the output to be in a dataframe with two column (Col1 and Col2) and the two parts of each of the texts (x, y and z) should go into either Col1 or Col2. In your case, these are going into rows. And also there are columns for each of x,y and z when I tried this:  <code>resDF &lt;- data.frame(processData(x),processData(y),processData(z), stringsAsFactors = F)</code>"}, {"owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "reply_to_user": {"reputation": 489, "user_id": 6179906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-Az_NAMTKiX0/AAAAAAAAAAI/AAAAAAAAAAo/u0YzG5-w8cA/photo.jpg?sz=128", "display_name": "Madhu Sareen", "link": "https://stackoverflow.com/users/6179906/madhu-sareen"}, "edited": false, "score": 0, "creation_date": 1506503572, "post_id": 46388244, "comment_id": 79843575, "body": "@MadhuSareen updated the answer again .. is this what you are looking for now ? p.s: It is taking too much space as the texts are very large in size that is why showing in 6 lines..."}], "tags": [], "owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "is_accepted": true, "score": 3, "last_activity_date": 1506510468, "last_edit_date": 1506510468, "creation_date": 1506242627, "answer_id": 46388244, "question_id": 46388016, "link": "https://stackoverflow.com/questions/46388016/error-in-regex-pattern-matching-for-text-retrieval-into-two-columns-of-a-datafra/46388244#46388244", "title": "error in regex pattern matching for text retrieval into two columns of a dataframe", "body": "<p>You can try with this negative look ahead regex:</p>\n\n<pre><code>^(?s)(?!(?:(?:[^:]*?\\\\.){3,}))(.*?):(.*)$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/rPIrbo/8\" rel=\"nofollow noreferrer\">Regex Demo and Detailed explanation of the regex</a></p>\n\n<blockquote>\n  <p>Updated:</p>\n</blockquote>\n\n<p>If your condition is met then the regex will return true and you should get 2 part</p>\n\n<p>group 1 contains the value until first : and group 2 will contain value after that.</p>\n\n<p>If condition not met then you copy the whole string to column 2 and put whatever you want as column 1</p>\n\n<p>An updated sample snippet which contains a method named process data will do the tricks for you. if the condition is met then it will split the data and put in col1 and col2.... if the condition is not met in case of y and z in your input... it will put NA in the col1 and the entire value in col2. </p>\n\n<p><strong>Run the Sample Source --></strong> <a href=\"https://ideone.com/FPRRvo\" rel=\"nofollow noreferrer\">ideone</a>:</p>\n\n<pre><code>library(stringr)\n\n    x &lt;- \"There is a horror movie running in the iNox theater. : If row names are supplied of length one and the data \n    frame has a single row, the row.names is taken to specify the row names and not a column (by name or number). \n    If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify \n    the row names and not a column (by name or number) Can we go : Please\"\n\n\n    y &lt;- \"There is a horror movie running in the iNox theater. If row names are supplied of length one and the data \n    frame has a single row, the row.names is taken. To specify the row names and not a column. By name or number. : \n    If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify \n    the row names and not a column (by name or number) Can we go : Please\"\n\n    z &lt;- \"There is a horror movie running in the iNox theater. If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number). \n    If row names are supplied of length one. : And the data frame has a single row, the row.names is taken to specify \n    the row names and not a column (by name or number) Can we go : Please\"             \n\n\ndf &lt;- data.frame(Text = c(x, y, z), row.names = NULL, stringsAsFactors = F)\n\nresDF &lt;- data.frame(\"Col1\" = character(), \"Col2\" = character(), stringsAsFactors=FALSE)\n\n   processData &lt;- function(a) {\n        patt &lt;- \"^(?s)(?!(?:(?:[^:]*?\\\\.){3,}))(.*?):(.*)$\"    \n        if(grepl(patt,a,perl=TRUE))\n        {\n            result&lt;-str_match(a,patt)    \n            col1&lt;-result[2]\n            col2&lt;-result[3]\n        }\n        else\n        {\n            col1&lt;-\"NA\"\n            col2&lt;-a\n        }\n       return(c(col1,col2))\n\n    }\n\n\n\nfor (i in 1:nrow(df)){\ntmp &lt;- df[i, ]\nresDF[nrow(resDF) + 1, ] &lt;- processData(tmp)\n}    \n\n\nprint(resDF)\n</code></pre>\n\n<p><strong>Sample Output:</strong></p>\n\n<pre><code>                                                   Col1\n1 There is a horror movie running in the iNox theater. \n2                                                    NA\n3                                                    NA\n                                                                                                                                                                                                                                                                                                                                                                                                                              Col2\n1                                                        If row names are supplied of length one and the data \\n    frame has a single row, the row.names is taken to specify the row names and not a column (by name or number). \\n    If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify \\n    the row names and not a column (by name or number) Can we go : Please\n2 There is a horror movie running in the iNox theater. If row names are supplied of length one and the data \\n    frame has a single row, the row.names is taken. To specify the row names and not a column. By name or number. : \\n    If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify \\n    the row names and not a column (by name or number) Can we go : Please\n3      There is a horror movie running in the iNox theater. If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number). \\n    If row names are supplied of length one. : And the data frame has a single row, the row.names is taken to specify \\n    the row names and not a column (by name or number) Can we go : Please\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 489, "user_id": 6179906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-Az_NAMTKiX0/AAAAAAAAAAI/AAAAAAAAAAo/u0YzG5-w8cA/photo.jpg?sz=128", "display_name": "Madhu Sareen", "link": "https://stackoverflow.com/users/6179906/madhu-sareen"}, "edited": false, "score": 0, "creation_date": 1506500160, "post_id": 46434903, "comment_id": 79841470, "body": "wonderful explanation. Thanks for clarifying this. I hope this could be useful many other text miners."}], "tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": false, "score": 3, "last_activity_date": 1506456601, "last_edit_date": 1506456601, "creation_date": 1506456268, "answer_id": 46434903, "question_id": 46388016, "link": "https://stackoverflow.com/questions/46388016/error-in-regex-pattern-matching-for-text-retrieval-into-two-columns-of-a-datafra/46434903#46434903", "title": "error in regex pattern matching for text retrieval into two columns of a dataframe", "body": "<h2>Brief</h2>\n\n<p>I was inspired by <a href=\"https://stackoverflow.com/a/46388244/3600709\">Rizwan's answer</a> to make mine, so you'll see his answer completes mine. What I didn't like was the fact that it breaks on non-sentence starts (such as <code>row.names</code> - although the text samples the OP provided don't provide any examples where <code>row.names</code> is present 3 times in the first 2 sentences to showcase this). I also ensured the capture groups/columns are numbered exactly as the OP expects and that there is always a match. My answer is really an improvement of Rizwan's.</p>\n\n<p><strong>Note 1:</strong> I am assuming a \"sentence\" is defined by a period/dot, followed by at least one horizontal space <code>.</code></p>\n\n<p><strong>Note 2:</strong> This works with PCRE regex and is untested with other regex flavours and may need to be adapted to other regex flavours to work properly (namely the if/else, vertical whitespace, and horizontal whitespace tokens)</p>\n\n<hr>\n\n<h2>Code</h2>\n\n<p><a href=\"https://regex101.com/r/NaoIga/1\" rel=\"nofollow noreferrer\">See this code in use here</a></p>\n\n<pre><code>^(?(?!(?:[^:\\v]*?\\.\\h){3,})([^:\\v]*?)\\s*:\\s*|)(.*)$\n</code></pre>\n\n<hr>\n\n<h2>Results</h2>\n\n<h3>Input</h3>\n\n<pre><code>There is a horror movie running in the iNox theater. : If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number). If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number) Can we go : Please\n\nThere is a horror movie running in the iNox theater. If row names are supplied of length one and the data frame has a single row, the row.names is taken. To specify the row names and not a column. By name or number. : If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number) Can we go : Please\n\nThere is a horror movie running in the iNox theater. If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number). If row names are supplied of length one. : And the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number) Can we go : Please\n</code></pre>\n\n<h3>Output</h3>\n\n<p><strong>Match 1</strong></p>\n\n<ul>\n<li>Group 1: <code>There is a horror movie running in the iNox theater.</code></li>\n<li>Group 2: <code>If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number). If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number) Can we go : Please</code></li>\n</ul>\n\n<p><strong>Match 2</strong></p>\n\n<ul>\n<li>Group 1: <em>empty - no match</em></li>\n<li>Group 2: <code>There is a horror movie running in the iNox theater. If row names are supplied of length one and the data frame has a single row, the row.names is taken. To specify the row names and not a column. By name or number. : If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number) Can we go : Please</code></li>\n</ul>\n\n<p><strong>Match 3</strong></p>\n\n<ul>\n<li>Group 1: <em>empty - no match</em></li>\n<li>Group 2: <code>There is a horror movie running in the iNox theater. If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number). If row names are supplied of length one. : And the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number) Can we go : Please</code></li>\n</ul>\n\n<hr>\n\n<h2>Explanation</h2>\n\n<ul>\n<li><code>^</code> Assert position at the beginning of the string</li>\n<li><code>(?(?!(?:[^:\\v]*?\\.\\h){3,})([^:\\v]*?)\\s*:\\s*|)</code>\n\n<ul>\n<li><code>(?(?!...)x|y)</code> If statement using negation <code>(?!...)</code> as condition\n\n<ul>\n<li><code>(?:[^:\\v]*?\\.\\h){3,}</code> Match the following at least 3 times</li>\n<li><code>[^:\\v]*?</code> Match any character not present in the set (not colon or vertical whitespace characters) any number of times, but as few as possible</li>\n<li><code>\\.\\h</code> Match a dot character literally, followed by a horizontal whitespace character (space or tab)</li>\n<li>If statement <strong>true</strong>: If the above is met, do the following</li>\n<li><code>([^:\\v]*?)\\s*:\\s*</code>\n\n<ul>\n<li><code>([^:\\v]*?)</code> Capture into group 1: Any character not present in the set (not colon or vertical whitespace characters) any number of times, but as few as possible</li>\n<li><code>\\s*:\\s*</code> Match any number of whitespace characters, followed by a colon, followed by any number of whitespaces (note you can change <code>*</code> to <code>+</code> if there is always at least 1 whitespace character trailing/leading the colon improve matchmaking in cases where a \"sentence\" might contain a <code>:</code>)</li>\n</ul></li>\n<li>If statement <strong>false</strong>: The previous conditions were not met, do the following: <em>Match nothing</em></li>\n</ul></li>\n</ul></li>\n<li><code>(.*)</code> Capture into group 2: Any character (excludes newline characters when <code>s</code> flag is off) any number of times</li>\n<li><code>$</code> Assert position at the end of the string</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 18926, "user_id": 2994949, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e4693362f3fba629ac8706645b9ab577?s=128&d=identicon&r=PG&f=1", "display_name": "rawr", "link": "https://stackoverflow.com/users/2994949/rawr"}, "is_accepted": false, "score": 1, "last_activity_date": 1506927334, "creation_date": 1506927334, "answer_id": 46520728, "question_id": 46388016, "link": "https://stackoverflow.com/questions/46388016/error-in-regex-pattern-matching-for-text-retrieval-into-two-columns-of-a-datafra/46520728#46520728", "title": "error in regex pattern matching for text retrieval into two columns of a dataframe", "body": "<p>Split into sentences; grep for where <code>:</code> first occurs, and use a conditional to split the original text:</p>\n\n<pre><code>sp &lt;- strsplit(x, '(?&lt;=\\\\.)(?=\\\\s+\\\\S)', perl = TRUE)[[1L]]\nsp &lt;- if (grep(':', sp)[1L] &lt; 3L)\n  sub(':\\\\s+', '$', x) else paste0('$', x)\nsp &lt;- gsub('\\\\v', '', sp, perl = TRUE)\n\nstr(read.table(text = sp, sep = '$', col.names = paste0('Col', 1:2), as.is = TRUE))\n\n# 'data.frame': 1 obs. of  2 variables:\n#   $ Col1: chr \"There is a horror movie running in the iNox theater. \"\n#   $ Col2: chr \"If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names an\"| __truncated__\n</code></pre>\n\n<p>Write a handy function to make your work easier:</p>\n\n<p>For example, you can use different punctuation to signal the end of a sentence (eg, <code>end_of_sentence = '.!?)'</code> will split text into sentences if one of <code>.!?)</code> is followed by whitespace); <code>n</code> allows you to control the number of sentences to look for the first <code>:</code>; and you can change <code>sep</code> if you expect <code>$</code> in your text (choose a character here that likely won't be in your text)</p>\n\n<pre><code>f &lt;- function(text, end_of_sentence = '.', n = 3L, sep = '$') {\n  p &lt;- sprintf('(?&lt;=[%s])(?=\\\\s+\\\\S)', end_of_sentence)\n\n  sp &lt;- strsplit(text, p, perl = TRUE)[[1L]]\n  sp &lt;- if (grep(':', sp)[1L] &lt;= n)\n    sub(':\\\\s+', sep, text) else paste0(sep, text)\n  sp &lt;- trimws(gsub('\\\\v', '', sp, perl = TRUE))\n\n  read.table(text = sp, sep = sep, col.names = paste0('Col', 1:2),\n             stringsAsFactors = FALSE)\n}\n\n## test\nf(x); f(y); f(z)\n\n## vectorize it to work on more than one string\nf &lt;- Vectorize(f, SIMPLIFY = FALSE, USE.NAMES = FALSE)\n\ndo.call('rbind', f(df$Text))\n\n#   Col1\n# 1 There is a horror movie running in the iNox theater. \n# 2                                                  &lt;NA&gt;\n# 3                                                  &lt;NA&gt;\n#   Col2\n# 1 If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number). If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number) Can we go : Please\n# 2 There is a horror movie running in the iNox theater. If row names are supplied of length one and the data frame has a single row, the row.names is taken. To specify the row names and not a column. By name or number. : If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number) Can we go : Please\n# 3 There is a horror movie running in the iNox theater. If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number). If row names are supplied of length one. : And the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number) Can we go : Please\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47307, "user_id": 817778, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/20cc8f574b01913048718f0abd4bf861?s=128&d=identicon&r=PG", "display_name": "eddi", "link": "https://stackoverflow.com/users/817778/eddi"}, "is_accepted": false, "score": 2, "last_activity_date": 1506972291, "last_edit_date": 1506972291, "creation_date": 1506971902, "answer_id": 46532250, "question_id": 46388016, "link": "https://stackoverflow.com/questions/46388016/error-in-regex-pattern-matching-for-text-retrieval-into-two-columns-of-a-datafra/46532250#46532250", "title": "error in regex pattern matching for text retrieval into two columns of a dataframe", "body": "<p>Negative lookahead is expensive and very hard to read. Here's a much simpler solution:</p>\n\n<pre><code>library(stringr)\n\n# throw out everything after first :, and count the number of sentences\nsplit = str_count(sub(':.*', '', df$Text), fixed('. ')) &lt; 3\n\n# assemble the required data (you could also avoid ifelse if really needed)\ndata.frame(col1 = ifelse(split, sub(':.*', '', df$Text), NA),\n           col2 = ifelse(split, sub('.*?:', '', df$Text), df$Text))\n</code></pre>\n"}], "owner": {"reputation": 489, "user_id": 6179906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-Az_NAMTKiX0/AAAAAAAAAAI/AAAAAAAAAAo/u0YzG5-w8cA/photo.jpg?sz=128", "display_name": "Madhu Sareen", "link": "https://stackoverflow.com/users/6179906/madhu-sareen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 6, "accepted_answer_id": 46388244, "answer_count": 4, "score": 4, "last_activity_date": 1506972291, "creation_date": 1506240964, "last_edit_date": 1506241081, "question_id": 46388016, "link": "https://stackoverflow.com/questions/46388016/error-in-regex-pattern-matching-for-text-retrieval-into-two-columns-of-a-datafra", "title": "error in regex pattern matching for text retrieval into two columns of a dataframe", "body": "<p>Consider the below hypothetical data:</p>\n\n<pre><code>x &lt;- \"There is a horror movie running in the iNox theater. : If row names are supplied of length one and the data \nframe has a single row, the row.names is taken to specify the row names and not a column (by name or number). \nIf row names are supplied of length one and the data frame has a single row, the row.names is taken to specify \nthe row names and not a column (by name or number) Can we go : Please\"\n\n\ny &lt;- \"There is a horror movie running in the iNox theater. If row names are supplied of length one and the data \nframe has a single row, the row.names is taken. To specify the row names and not a column. By name or number. : \nIf row names are supplied of length one and the data frame has a single row, the row.names is taken to specify \nthe row names and not a column (by name or number) Can we go : Please\"\n\nz &lt;- \"There is a horror movie running in the iNox theater. If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number). \nIf row names are supplied of length one. : And the data frame has a single row, the row.names is taken to specify \nthe row names and not a column (by name or number) Can we go : Please\"\n\ndf &lt;- data.frame(Text = c(x, y, z), row.names = NULL, stringsAsFactors = F)\n</code></pre>\n\n<p>Did you notice that there is an \":\" at different locations. For example:</p>\n\n<ul>\n<li>In 'x' it ( \":\" ) is after the first sentence.</li>\n<li>In 'y' it ( \":\" ) is after the fourth sentence.</li>\n<li>and In 'z' it is after the sixth sentence.</li>\n<li>Moreover there is one more \":\" before the last sentence in the each text.</li>\n</ul>\n\n<p>What I want to do, create two columns such that:</p>\n\n<ul>\n<li>Only the first \":\" is considered and NOT THE LAST ONE.</li>\n<li>If there is a \":\" within first three sentences, then divide the whole text into two columns otherwise, keep all the text in the second columns and 'NA' in the first column.</li>\n</ul>\n\n<p>Wanted Output for 'x':</p>\n\n<pre><code> Col1                                                        Col2 \n There is a horror movie running in the iNox theater.        If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number). If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number) Can we go : Please\n</code></pre>\n\n<p>Wanted Output for 'y' (because \":\" is not found within first three sentences, therefore) :</p>\n\n<pre><code> Col1     Col2 \n NA       There is a horror movie running in the iNox theater. If row names are supplied of length one and the data frame has a single row, the row.names is taken. To specify the row names and not a column. By name or number. : If row names are supplied of length one and the data frame has a single row, the row.names is taken to specify the row names and not a column (by name or number) Can we go : Please\n</code></pre>\n\n<p>Just like above result for 'y', the Wanted Output result for 'z' should be:</p>\n\n<pre><code>  Col1    Col2\n  NA      all of the text from 'z'\n</code></pre>\n\n<p>What I am trying to do is:</p>\n\n<pre><code>resX &lt;- data.frame(Col1 = gsub(\"\\\\s\\\\:.*$\",\"\\\\1\", df$Text[[1]]), \n           Col2 = gsub(\"^[^:]+(?:).\\\\s\",\"\\\\1\", df$Text[[1]]))\n\nresY &lt;- data.frame(Col1 = gsub(\"\\\\s\\\\:.*$\",\"\\\\1\", df$Text[[2]]), \n           Col2 = gsub(\"^[^:]+(?:).\\\\s\",\"\\\\1\", df$Text[[2]]))\n\nresZ &lt;- data.frame(Col1 = gsub(\"\\\\s\\\\:.*$\",\"\\\\1\", df$Text[[3]]), \n           Col2 = gsub(\"^[^:]+(?:).\\\\s\",\"\\\\1\", df$Text[[3]]))\n</code></pre>\n\n<p>And then merging above into a resulting dataframe \"resDF\" using rbind.</p>\n\n<p>Issues are:</p>\n\n<ul>\n<li>The above can be done using \"for() loop\" or anyother method to make code simpler.</li>\n<li>The result from \"y\" and \"z\" text are not coming as I wanted (shown above).</li>\n</ul>\n"}, {"tags": ["perl", "scripting"], "comments": [{"owner": {"reputation": 49, "user_id": 2026756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee28f1441fc52525d6e0e265ae1bea1?s=128&d=identicon&r=PG", "display_name": "Mohammed", "link": "https://stackoverflow.com/users/2026756/mohammed"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1506229815, "post_id": 46386661, "comment_id": 79731429, "body": "I am completed new to perl script, need to know how it can be done."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 5, "creation_date": 1506230584, "post_id": 46386661, "comment_id": 79731565, "body": "Being new to Perl does not mean that your question is specific to Perl or that you are not able to read, understand and follow the existing answers to this problem."}, {"owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "edited": false, "score": 0, "creation_date": 1506239399, "post_id": 46386661, "comment_id": 79733271, "body": "The password must be written within perl script, but not readable as plain text ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506264748, "post_id": 46386661, "comment_id": 79739849, "body": "Even an encrypted password must be decrypted before using it to access the database. If someone has access to read a non-encrypted password then they can also see the result after the code has decrypted an encrypted password. The best solution is to prevent access to your program code."}, {"owner": {"reputation": 4324, "user_id": 109483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1605dbda0d18f0df226b6c1b379f9a4?s=128&d=identicon&r=PG", "display_name": "Ashley", "link": "https://stackoverflow.com/users/109483/ashley"}, "edited": false, "score": 0, "creation_date": 1506307142, "post_id": 46386661, "comment_id": 79750850, "body": "This [perl] question was closed as an exact duplicate of a [PHP] question. Bad form, chaps."}], "owner": {"reputation": 49, "user_id": 2026756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee28f1441fc52525d6e0e265ae1bea1?s=128&d=identicon&r=PG", "display_name": "Mohammed", "link": "https://stackoverflow.com/users/2026756/mohammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "closed_date": 1506265066, "answer_count": 0, "score": 0, "last_activity_date": 1506228237, "creation_date": 1506228237, "question_id": 46386661, "link": "https://stackoverflow.com/questions/46386661/need-perl-script-to-connect-to-database-but-dont-want-the-password-in-plain-te", "closed_reason": "Duplicate", "title": "need perl script to connect to database, but don&#39;t want the password in plain text", "body": "<p>I need perl script to connect to database, but don't want the password in plain text. </p>\n\n<p>any suggestion how to hide the password in plain text would be great.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506198896, "post_id": 46384015, "comment_id": 79726259, "body": "Note that your values seem to be terminated with a Carriage Return?!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506198967, "post_id": 46384015, "comment_id": 79726287, "body": "What is a field that contains a single date called &quot;dates&quot;?"}, {"owner": {"reputation": 97, "user_id": 8243386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fdc4bbaec1385f2da5a44ec306451c4?s=128&d=identicon&r=PG&f=1", "display_name": "shane1717", "link": "https://stackoverflow.com/users/8243386/shane1717"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506199455, "post_id": 46384015, "comment_id": 79726396, "body": "yes it is called dates."}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 4, "last_activity_date": 1506198987, "creation_date": 1506198987, "answer_id": 46384080, "question_id": 46384015, "link": "https://stackoverflow.com/questions/46384015/push-values-of-multidimensional-array-to-an-array-in-perl/46384080#46384080", "title": "push values of multidimensional array to an array in perl", "body": "<p>You could do it like this:</p>\n\n<pre><code>my @dates;\nfor my $symbol (keys %HASH){\n    push @dates, $HASH{$symbol}{DATES};\n}\n</code></pre>\n\n<p>This could be simplified to:</p>\n\n<pre><code>my @dates;\nfor my $subhash (values %HASH){\n    push @dates, $subhash-&gt;{DATES};\n}\n</code></pre>\n\n<p>Which in turn could be rewritten as:</p>\n\n<pre><code>my @dates = map $_-&gt;{DATES}, values %HASH;\n</code></pre>\n\n<hr>\n\n<p>Side note: It seems like your <code>VALUE</code> fields contain a carriage return (CR, <code>\\r</code>) at the end. If you used Data::Dumper to produce your output, you might want to set <code>$Data::Dumper::Useqq = 1;</code> to make the dump more readable.</p>\n"}], "owner": {"reputation": 97, "user_id": 8243386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fdc4bbaec1385f2da5a44ec306451c4?s=128&d=identicon&r=PG&f=1", "display_name": "shane1717", "link": "https://stackoverflow.com/users/8243386/shane1717"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 46384080, "answer_count": 1, "score": 1, "last_activity_date": 1506199049, "creation_date": 1506198606, "question_id": 46384015, "link": "https://stackoverflow.com/questions/46384015/push-values-of-multidimensional-array-to-an-array-in-perl", "title": "push values of multidimensional array to an array in perl", "body": "<p>I have this multidimensional hash %HASH:</p>\n\n<pre><code> 'BBBL' =&gt; {\n',                   'VALUE' =&gt; 'CASH\n                     'DATES' =&gt; '20163112'\n                      },\n  'AAA' =&gt; {\n',                   'VALUE' =&gt; '70\n                     'DATES' =&gt; '20170602'\n  'CCC' =&gt; {\n',                   'VALUE' =&gt; '70\n                     'DATES' =&gt; '20170602'\n</code></pre>\n\n<p>and for each of AAA BBB and CCC i want to push the DATES into an array. </p>\n\n<pre><code>foreach my $symbol (keys %HASH){\n     my @dates = values %HASH;\n    }\n</code></pre>\n\n<p>but that gives me:</p>\n\n<pre><code>            'VALUE' =&gt; 'CASH\n            'DATES' =&gt; '20163112'\n          },\n          {\n',          'VALUE' =&gt; '90\n            'DATES' =&gt; '20170802'\n          },\n          {\n',          'VALUE' =&gt; '90\n            'DATES' =&gt; '20171702'\n          }\n        ];\n</code></pre>\n\n<p>and I have no idea how to get just the dates.</p>\n"}, {"tags": ["oracle", "perl", "instrumentation"], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 4026394, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ifoe7fpapjo/AAAAAAAAAAI/AAAAAAAADMg/OehP2Qf85Rw/photo.jpg?sz=128", "display_name": "Martin Berger", "link": "https://stackoverflow.com/users/4026394/martin-berger"}, "edited": false, "score": 0, "creation_date": 1506268594, "post_id": 46385298, "comment_id": 79741073, "body": "Thank you Jeff, that&#39;s exact what I was looking for.  As my specification was not 100% clear, I see all modifications as you call it <i>exercise left to the reader</i>."}], "tags": [], "owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "is_accepted": true, "score": 3, "last_activity_date": 1506224406, "last_edit_date": 1506224406, "creation_date": 1506210813, "answer_id": 46385298, "question_id": 46380996, "link": "https://stackoverflow.com/questions/46380996/in-oracle-sql-trace-how-can-i-group-a-set-of-sql-executions-when-the-code-is-no/46385298#46385298", "title": "in Oracle SQL-Trace: how can I group a set of SQL executions when the code is not instrumented?", "body": "<p>Using your test data, martin1.trc, I created the rc file, martin1.rc.</p>\n\n<pre><code>--init='\n    my $xfrm_id;\n    sub xfrm {\n        $xfrm_id = $exec_id if ($sqlid//\"\") eq \"A\";\n        return $xfrm_id//$exec_id;\n    }\n'\n--group='xfrm()'\n</code></pre>\n\n<p>Then I executed <code>mrskew --rc martin1.rc martin1.trc</code> and I got this output:</p>\n\n<pre><code> 'xfrm()'  DURATION       %  CALLS      MEAN       MIN       MAX\n---------  --------  ------  -----  --------  --------  --------\n       25  0.000056   75.7%      3  0.000019  0.000008  0.000032\n       18  0.000018   24.3%      5  0.000004  0.000001  0.000006\n---------  --------  ------  -----  --------  --------  --------\nTOTAL (2)  0.000074  100.0%      8  0.000009  0.000001  0.000032\n</code></pre>\n\n<p>This report shows two executions of the interesting transaction. The most interesting (greatest response time) transaction execution began on trace file line 25 and contributed 0.000056 seconds (75.7% of the total) over 3 dbcalls to the total response time. The other most interesting execution began on line 18 and contributed the other 24.3% to the total. We know that lines 22-23 are uninteresting, but the simple method does not distinguish them. And that is why the report says the execution starting on line 18 has 5 dbcalls for 0.000018 seconds instead of 3 dbcalls for 0.000007 seconds.</p>\n\n<p>If we significantly change the transformation function then we can handle the transaction ending at statement B (even if B is an EXEC followed by other B dbcalls (e.g., FETCH). Here is martin2.rc:</p>\n\n<pre><code>--init='\n    my $sawB;\n    my $xfrm_id;\n    sub xfrm {\n        if (($sqlid//\"\") eq \"A\") {\n            $xfrm_id = $exec_id;    # global scope maintains state\n        } else {\n            if (($sqlid//\"\") eq \"B\") {\n                $sawB = 1;\n            } else {\n                if ($sawB) {\n                    $sawB = undef;\n                    $xfrm_id = undef;\n                }\n            }\n        }\n        return $xfrm_id//0;\n    }\n'\n--group='xfrm()'\n</code></pre>\n\n<p>In keeping with the notion of a profile (whereby the total represents the total for the whole experience), I decided to transform all non-interesting transaction dbcalls to 0 which is a line number that cannot appear in a file. This way you can see how the interesting transactions rank w.r.t. the whole experience.</p>\n\n<pre><code>$ mrskew --rc martin2.rc martin1.trc\n\n 'xfrm()'  DURATION       %  CALLS      MEAN       MIN       MAX\n---------  --------  ------  -----  --------  --------  --------\n       25  0.000056   75.7%      3  0.000019  0.000008  0.000032\n        0  0.000011   14.9%      2  0.000005  0.000005  0.000006\n       18  0.000007    9.5%      3  0.000002  0.000001  0.000004\n---------  --------  ------  -----  --------  --------  --------\nTOTAL (3)  0.000074  100.0%      8  0.000009  0.000001  0.000032\n</code></pre>\n\n<p>If I duplicate line 20 (which takes 4 \u00b5secs), then the output says this:</p>\n\n<pre><code> 'xfrm()'  DURATION       %  CALLS      MEAN       MIN       MAX\n---------  --------  ------  -----  --------  --------  --------\n       26  0.000056   71.8%      3  0.000019  0.000008  0.000032\n       18  0.000011   14.1%      4  0.000003  0.000001  0.000004\n        0  0.000011   14.1%      2  0.000005  0.000005  0.000006\n---------  --------  ------  -----  --------  --------  --------\nTOTAL (3)  0.000078  100.0%      9  0.000009  0.000001  0.000032\n</code></pre>\n\n<p>You can see that the interesting transaction starting on line 18 now contributes 11 \u00b5secs over 4 dbcalls. This seems to be a more complete test confirming the appropriateness of martin2.rc.</p>\n\n<p>In the last report, you can see that the interesting transaction represents 71.8%+14.1%=85.9% of the total response time in the file. If you further modify the transformation function (exercise left to the reader), then you can aggregate into \"interesting\" and \"not interesting\" rather than what I did, which was to add two percentages.</p>\n"}], "owner": {"reputation": 219, "user_id": 4026394, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ifoe7fpapjo/AAAAAAAAAAI/AAAAAAAADMg/OehP2Qf85Rw/photo.jpg?sz=128", "display_name": "Martin Berger", "link": "https://stackoverflow.com/users/4026394/martin-berger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 2, "accepted_answer_id": 46385298, "answer_count": 1, "score": 2, "last_activity_date": 1506224406, "creation_date": 1506179199, "last_edit_date": 1506214868, "question_id": 46380996, "link": "https://stackoverflow.com/questions/46380996/in-oracle-sql-trace-how-can-i-group-a-set-of-sql-executions-when-the-code-is-no", "title": "in Oracle SQL-Trace: how can I group a set of SQL executions when the code is not instrumented?", "body": "<p>I have an oracle-10046\u2014aka. sqltrace\u2014file similar to this structure: </p>\n\n<pre><code>Oracle Release 11.2\nPARSING IN CURSOR #1 len=20 dep=0 uid=7 oct=6 lid=7 tim=2 hv=1 ad='1' sqlid='A'\ninsert\nEND OF STMT\nPARSING IN CURSOR #2 len=20 dep=0 uid=7 oct=6 lid=7 tim=2 hv=2 ad='2' sqlid='r'\nupdate next_step\nEND OF STMT\nPARSING IN CURSOR #3 len=20 dep=0 uid=7 oct=6 lid=7 tim=2 hv=3 ad='3' sqlid='B'\nupdate complete\nEND OF STMT\nPARSING IN CURSOR #4 len=20 dep=0 uid=7 oct=3 lid=7 tim=2 hv=4 ad='4' sqlid='X'\nselect X\nEND OF STMT\nPARSING IN CURSOR #5 len=20 dep=0 uid=7 oct=3 lid=7 tim=2 hv=5 ad='5' sqlid='Y'\nselect Y\nEND OF STMT\n\nEXEC #1:c=1,e=1,p=0,cr=0,cu=0,mis=0,r=0,dep=0,og=3,tim=100\nEXEC #2:c=2,e=2,p=0,cr=0,cu=0,mis=0,r=0,dep=0,og=3,tim=200\nEXEC #3:c=4,e=4,p=0,cr=0,cu=0,mis=0,r=0,dep=0,og=3,tim=300\n\nEXEC #4:c=5,e=5,p=0,cr=0,cu=0,mis=0,r=0,dep=0,og=3,tim=310\nEXEC #5:c=6,e=6,p=0,cr=0,cu=0,mis=0,r=0,dep=0,og=3,tim=320\n\nEXEC #1:c=8,e=8,p=0,cr=0,cu=0,mis=0,r=0,dep=0,og=3,tim=400\nEXEC #2:c=16,e=16,p=0,cr=0,cu=0,mis=0,r=0,dep=0,og=3,tim=416\nEXEC #3:c=32,e=32,p=0,cr=0,cu=0,mis=0,r=0,dep=0,og=3,tim=448\n</code></pre>\n\n<p>I identified sqlid 'A' as the beginning of a specific sequence, and sqlid 'B' as it's end. In between there is only sqlid 'r' in my example, but it could be much more, even not the same SQLs or sequence of SQLs. \nOther SQLs like sqlid 'X' and 'Y' are not within my sequence of interest and should be visible as such. </p>\n\n<p>My tool of choice right now is mrskew from the Method R Tools product from methodr. \nAs it can be extended with Perl code, I'm sure this can be done, but my Perl skills are limited as my understanding of mrskew internals. </p>\n\n<p>I highly appreciate any hint or help here. </p>\n"}, {"tags": ["perl", "awk", "sed", "gawk", "tr"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 1, "creation_date": 1506163783, "post_id": 46378760, "comment_id": 79716032, "body": "Prefix your code/data with four white spaces. Please take a look at <a href=\"http://stackoverflow.com/editing-help\">editing-help</a>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1506164744, "post_id": 46378760, "comment_id": 79716298, "body": "That problem description makes no sense. Why does your &quot;expected output&quot; add a comma between <code>&quot;3&quot;</code> and <code>&quot;Sample&quot;</code>? What are those <code>\\n</code> things? Are there literal backslashes in your data?"}, {"owner": {"reputation": 37, "user_id": 8592356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a8c77f1399ea72b0620b8388b3a29e?s=128&d=identicon&r=PG&f=1", "display_name": "lfc_07", "link": "https://stackoverflow.com/users/8592356/lfc-07"}, "edited": false, "score": 0, "creation_date": 1506164889, "post_id": 46378760, "comment_id": 79716337, "body": "Hi,comma between  is just a typo.Please ignore. And &#39;\\n&#39; is just to say end of a line and must not remove the \\n character which is at the end of all columns."}, {"owner": {"reputation": 37, "user_id": 8592356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a8c77f1399ea72b0620b8388b3a29e?s=128&d=identicon&r=PG&f=1", "display_name": "lfc_07", "link": "https://stackoverflow.com/users/8592356/lfc-07"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1506165021, "post_id": 46378760, "comment_id": 79716362, "body": "@melpomene Only if the new line characters are present in the column data, it should be removed.Which is nothing but between double quotes (&quot;)"}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 1, "creation_date": 1506165158, "post_id": 46378760, "comment_id": 79716402, "body": "Then why remove anything between <code>&quot;test&quot;,</code> and <code>&quot;Sample&quot;</code>?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1506165975, "post_id": 46378760, "comment_id": 79716592, "body": "Your problem description doesn&#39;t match your sample input. None of the fields in your sample input contain embedded newlines."}, {"owner": {"reputation": 37, "user_id": 8592356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a8c77f1399ea72b0620b8388b3a29e?s=128&d=identicon&r=PG&f=1", "display_name": "lfc_07", "link": "https://stackoverflow.com/users/8592356/lfc-07"}, "edited": false, "score": 0, "creation_date": 1506166128, "post_id": 46378760, "comment_id": 79716626, "body": "Those new lines are special characters(say control characters) which will not be visible unless you see in a vi editor.I was not sure how to indicate that here."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1506166327, "post_id": 46378760, "comment_id": 79716682, "body": "Ifc_07: please use code tags for your sample Input_file and expected output too, as it is very difficult for us to know the exact sample Input_file and expected output if you haven&#39;t used code tags. Also take sometime to write your question which will save all of ours time too."}, {"owner": {"reputation": 37, "user_id": 8592356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a8c77f1399ea72b0620b8388b3a29e?s=128&d=identicon&r=PG&f=1", "display_name": "lfc_07", "link": "https://stackoverflow.com/users/8592356/lfc-07"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1506167766, "post_id": 46378760, "comment_id": 79717095, "body": "@melpomene Explained it in a better way i guess.Please do check"}, {"owner": {"reputation": 37, "user_id": 8592356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a8c77f1399ea72b0620b8388b3a29e?s=128&d=identicon&r=PG&f=1", "display_name": "lfc_07", "link": "https://stackoverflow.com/users/8592356/lfc-07"}, "reply_to_user": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1506167907, "post_id": 46378760, "comment_id": 79717141, "body": "@Beta Edited my question."}], "answers": [{"tags": [], "owner": {"reputation": 515, "user_id": 2816849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da0566b755d59605cbc3f7cd8edcc91?s=128&d=identicon&r=PG&f=1", "display_name": "LeBlue", "link": "https://stackoverflow.com/users/2816849/leblue"}, "is_accepted": false, "score": 0, "last_activity_date": 1506165758, "creation_date": 1506165758, "answer_id": 46379040, "question_id": 46378760, "link": "https://stackoverflow.com/questions/46378760/unable-to-remove-carriage-returns-and-line-feeds-in-columns-enclosed-in-double-q/46379040#46379040", "title": "Unable to remove carriage returns and line feeds in columns enclosed in double quotes", "body": "<p>With GNU sed</p>\n\n<pre><code>sed ':a;N;$!ba;s/\\(\"[^\\n\\r]*\\)[\\n\\r\\]*\\([^\\n\\r]*\\\"\\)/\\1\\2/g' file\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/1251999/how-can-i-replace-a-newline-n-using-sed\">this post</a> for the newline replacement without the enclosing <code>\"</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 8592356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a8c77f1399ea72b0620b8388b3a29e?s=128&d=identicon&r=PG&f=1", "display_name": "lfc_07", "link": "https://stackoverflow.com/users/8592356/lfc-07"}, "edited": false, "score": 0, "creation_date": 1506167826, "post_id": 46379047, "comment_id": 79717110, "body": "You&#39;re right.But only if it exists between double quotes. Please check my edited question now:)"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 37, "user_id": 8592356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a8c77f1399ea72b0620b8388b3a29e?s=128&d=identicon&r=PG&f=1", "display_name": "lfc_07", "link": "https://stackoverflow.com/users/8592356/lfc-07"}, "edited": false, "score": 0, "creation_date": 1506168066, "post_id": 46379047, "comment_id": 79717184, "body": "Could you please try my awk solution with adding gsub(it will take care of all carriage returns not only specific ones, unless you want to keep carriage returns then we have to think on another option) which I mentioned in comments and let me know then, it should help you on same. Let me know how it goes then."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 0, "last_activity_date": 1506168102, "last_edit_date": 1506168102, "creation_date": 1506165810, "answer_id": 46379047, "question_id": 46378760, "link": "https://stackoverflow.com/questions/46378760/unable-to-remove-carriage-returns-and-line-feeds-in-columns-enclosed-in-double-q/46379047#46379047", "title": "Unable to remove carriage returns and line feeds in columns enclosed in double quotes", "body": "<p>Could you please try awk solution and let me know if this helps you.</p>\n\n<pre><code>awk '{gsub(/\\r/,\"\");printf(\"%s%s\",$0,$0~/,$/?\"\":RS)}'  Input_file\n</code></pre>\n\n<p>Output will be as follows.</p>\n\n<pre><code>\"1\",\"test\",\"Sample\",\"data\"\\n\n\"2\",\"Test\" \\n\n\"3\",\"Sample\"\n</code></pre>\n\n<p><strong>Explanation:</strong> Using <code>printf</code> to print the lines, so using 2 %s(it is used for printing strings in <code>printf</code>) here,  first %s simply prints the current line, second one will check if a line is ending with comma(,) if yes then it will not print anything else it will print a new line. Add <code>gsub(/\\r/,\"\")</code> before printf in case you want to remove carriage returns and want to get the expected output shown by you too.</p>\n\n<p><strong>EDIT:</strong> As your post title suggests to remove carriage returns, so in case you want to remove carriage returns then you could try following. Though you should be mentioning your problem clearly.</p>\n\n<pre><code>tr -d '\\r' &lt; Input_file &gt; temp_file &amp;&amp; mv temp_file  Input_file\n</code></pre>\n\n<p>Above will remove the carriage characters from your Input_file and save it in the same Input_file too.</p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 0, "last_activity_date": 1506168201, "creation_date": 1506168201, "answer_id": 46379369, "question_id": 46378760, "link": "https://stackoverflow.com/questions/46378760/unable-to-remove-carriage-returns-and-line-feeds-in-columns-enclosed-in-double-q/46379369#46379369", "title": "Unable to remove carriage returns and line feeds in columns enclosed in double quotes", "body": "<p>Here's a possible solution:</p>\n\n<pre><code>perl -pe 'if (tr/\"// % 2) { chomp; $_ .= &lt;&gt;; redo; }'\n</code></pre>\n\n<p>If the current line has unbalanced quotes (i.e. an odd number of <code>\"</code>), it must end in the middle of a field, so we chomp out the newline, append the next input line, and restart the loop.</p>\n"}], "owner": {"reputation": 37, "user_id": 8592356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a8c77f1399ea72b0620b8388b3a29e?s=128&d=identicon&r=PG&f=1", "display_name": "lfc_07", "link": "https://stackoverflow.com/users/8592356/lfc-07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "closed_date": 1506169243, "answer_count": 3, "score": 0, "last_activity_date": 1506168201, "creation_date": 1506163617, "last_edit_date": 1592644375, "question_id": 46378760, "link": "https://stackoverflow.com/questions/46378760/unable-to-remove-carriage-returns-and-line-feeds-in-columns-enclosed-in-double-q", "closed_reason": "Duplicate", "title": "Unable to remove carriage returns and line feeds in columns enclosed in double quotes", "body": "<p>I want to remove any non printable new line characters in the column data.</p>\n<p>I have enclosed all the columns with double quotes to delete the new line characters present in the column easily and to ignore the record delimiter after each end of line.</p>\n<p>Say,I have 4 columns seperated by comma and enclosed by quotes in a text file.\n<strong>I'm trying to remove \\n and \\r characters only if it is present in between the double quotes</strong></p>\n<p>Currently used trim,but it deleted every line break and made it a sequence file without any record seperator.</p>\n<pre><code>tr -d '\\n\\r' &lt; in.txt &gt; out.txt\n</code></pre>\n<p><strong>Sample data:</strong></p>\n<blockquote>\n<p>&quot;1&quot;,&quot;test\\n</p>\n<p>Sample&quot;,&quot;data&quot;,&quot;col4&quot;\\n</p>\n<p>&quot;2\\n</p>\n<p>&quot;,&quot;Test&quot;,&quot;Sample&quot;,&quot;data&quot; \\n</p>\n<p>&quot;3&quot;,&quot;Sam\\n</p>\n<p>ple&quot;,&quot;te\\n</p>\n<p>st&quot;,&quot;data&quot;\\n</p>\n</blockquote>\n<p><strong>Expected Output:</strong></p>\n<blockquote>\n<p>&quot;1&quot;,&quot;testSample&quot;,&quot;data&quot;,&quot;col4&quot;\\n</p>\n<p>&quot;2&quot;,&quot;Test&quot;,&quot;Sample&quot;,&quot;data&quot; \\n</p>\n<p>&quot;3&quot;,&quot;Sample&quot;,&quot;test&quot;,&quot;data&quot;\\n</p>\n</blockquote>\n<p>Any suggestions ? Thanks in advance</p>\n"}, {"tags": ["regex", "perl", "awk", "sed", "text-processing"], "answers": [{"comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 51, "user_id": 5830914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53f846cf5dbb4602f527f6f31f2f551d?s=128&d=identicon&r=PG&f=1", "display_name": "Nitha", "link": "https://stackoverflow.com/users/5830914/nitha"}, "edited": false, "score": 0, "creation_date": 1506160860, "post_id": 46378317, "comment_id": 79715178, "body": "done, was editing that only. Let me know if you have any queries on same."}, {"owner": {"reputation": 51, "user_id": 5830914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53f846cf5dbb4602f527f6f31f2f551d?s=128&d=identicon&r=PG&f=1", "display_name": "Nitha", "link": "https://stackoverflow.com/users/5830914/nitha"}, "edited": false, "score": 0, "creation_date": 1506161328, "post_id": 46378317, "comment_id": 79715316, "body": "Clear explanation. If suppose I have to do for 2nd column, how could specify the &quot;column number &quot; . Now if u see there is seven column in my input, so if i have to edit something in 4th column how can mention the column number. in awk we give -f4 in sed how how should i mention?"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 51, "user_id": 5830914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53f846cf5dbb4602f527f6f31f2f551d?s=128&d=identicon&r=PG&f=1", "display_name": "Nitha", "link": "https://stackoverflow.com/users/5830914/nitha"}, "edited": false, "score": 0, "creation_date": 1506161495, "post_id": 46378317, "comment_id": 79715357, "body": "No, awk doesn&#39;t work like cut. You should do like sub(/regex/,new value,column_number). So point here is if you Input_file is space delimited then mentioned sub will work else you may have to add eg--&gt;  -F&quot;,&quot; (In case your delimiter is comma, you could make any delimiter by this as per your Input_file) after awk to mention your delimiter to pick the correct column. Let me know if you have any queries on same. See also <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": true, "score": 0, "last_activity_date": 1506160822, "last_edit_date": 1506160822, "creation_date": 1506160595, "answer_id": 46378317, "question_id": 46378243, "link": "https://stackoverflow.com/questions/46378243/to-remove-or-delete-particular-character-by-giving-their-range-in-a-specified-co/46378317#46378317", "title": "To remove or delete particular character by giving their range in a specified column using awk, sed or perl", "body": "<p>try following awk once.</p>\n\n<pre><code>awk '{sub(/_.*_/,\"\",$1)} 1'  Input_file\n</code></pre>\n\n<p><strong>Explanation:</strong> I am substituting here by using out of the box function named sub here. It works on <code>sub(regex_which_we_want_to_change_in_lines,new regex/variable,variable/line)</code>. So here I am giving <code>_.*_</code> in <code>$1</code>(first field)<code>,</code> means starting from <code>_.*</code>(which covers everything till _ with NULL. Then mentioning <code>1</code> means, <code>awk</code> works on method of <code>condition then action</code>, so here I am making condition TRUE and NOT mentioning any action, so by default print action will happen, which will print the current(edited/non-edited) line of Input_file.</p>\n"}, {"comments": [{"owner": {"reputation": 515, "user_id": 2816849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da0566b755d59605cbc3f7cd8edcc91?s=128&d=identicon&r=PG&f=1", "display_name": "LeBlue", "link": "https://stackoverflow.com/users/2816849/leblue"}, "edited": false, "score": 1, "creation_date": 1506162647, "post_id": 46378377, "comment_id": 79715663, "body": "No it does not add anything. It just removes the first occurence of underscore <code>_</code> and every following character until the first space ` ` (the space remains)."}], "tags": [], "owner": {"reputation": 4177, "user_id": 7953189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CEXB2.jpg?s=128&g=1", "display_name": "tso", "link": "https://stackoverflow.com/users/7953189/tso"}, "is_accepted": false, "score": 1, "last_activity_date": 1506161021, "creation_date": 1506161021, "answer_id": 46378377, "question_id": 46378243, "link": "https://stackoverflow.com/questions/46378243/to-remove-or-delete-particular-character-by-giving-their-range-in-a-specified-co/46378377#46378377", "title": "To remove or delete particular character by giving their range in a specified column using awk, sed or perl", "body": "<p>with sed:    </p>\n\n<pre><code>sed 's/_[^ ]*//' file\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5830914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53f846cf5dbb4602f527f6f31f2f551d?s=128&d=identicon&r=PG&f=1", "display_name": "Nitha", "link": "https://stackoverflow.com/users/5830914/nitha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 46378317, "answer_count": 2, "score": 1, "last_activity_date": 1506161021, "creation_date": 1506160155, "last_edit_date": 1506160878, "question_id": 46378243, "link": "https://stackoverflow.com/questions/46378243/to-remove-or-delete-particular-character-by-giving-their-range-in-a-specified-co", "title": "To remove or delete particular character by giving their range in a specified column using awk, sed or perl", "body": "<p>I need to remove the particular characters from only 1st column \"<code>_p1.pdb_________________</code>\" (example: to specify the range like 5 to 10 charter, from middle of the column 3) .  I tried this command \n<code>sed 's/_p.*//' test</code> but it will delete all the things starting from _p. I have to remove for 38690797 line. So can anyone give efficient command to do this?</p>\n\n<p>I had checked all the previous questions, nothing gave exactly what I need.</p>\n\n<p>Sample Input file:</p>\n\n<pre><code>    EAZ51036_p1.pdb_________________ SSPP00000432782.1_1_p1.pdb______ 0.834183 0.812304    11175    11476     9322\n    BBX51096_p1.pdb_________________ EEEP00000435284.1_1_p1.pdb______ 0.834183 0.812304    11175    11476     9322\n    CCZ58032_5j3b_p3.pdb____________ NNNP00000343764.6_192_p1.pdb____ NULL____ NULL____ ________ ________ ________\n    WWW25032_5j3b_p6.pdb____________ GGGP00000343764.6_192_p2.pdb____ 0.866667 0.070452     7750      630      546\n    EEX51032_5j3b_p3.pdb____________ FFFP00000343764.6_192_p3.pdb____ NULL____ NULL____ ________ ________ ________\n    EEX51032_p9.pdb_________________ RRRP00000436941.1_1_p1.pdb______ 0.807338 0.807338    11175    11175     9022\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>    EAZ51036 SSPP00000432782.1_1_p1.pdb______ 0.834183 0.812304    11175    11476     9322\n    BBX51096 EEEP00000435284.1_1_p1.pdb______ 0.834183 0.812304    11175    11476     9322\n    CCZ58032 NNNP00000343764.6_192_p1.pdb____ NULL____ NULL____ ________ ________ ________\n    WWW25032 GGGP00000343764.6_192_p2.pdb____ 0.866667 0.070452     7750      630      546\n    EEX51032 FFFP00000343764.6_192_p3.pdb____ NULL____ NULL____ ________ ________ ________\n    EEX51032 RRRP00000436941.1_1_p1.pdb______ 0.807338 0.807338    11175    11175     9022\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506151249, "post_id": 46376935, "comment_id": 79712896, "body": "Makes no sense to binmode a glob which doesn&#39;t have an open handle."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4814930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-tQyJN_kU6JA/AAAAAAAAAAI/AAAAAAAAASQ/fBYRy2qtmzI/photo.jpg?sz=128", "display_name": "Prem Rexx", "link": "https://stackoverflow.com/users/4814930/prem-rexx"}, "edited": false, "score": 1, "creation_date": 1506152828, "post_id": 46377108, "comment_id": 79713250, "body": "Thank you for the clarification."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1524678749, "last_edit_date": 1524678749, "creation_date": 1506151192, "answer_id": 46377108, "question_id": 46376935, "link": "https://stackoverflow.com/questions/46376935/write-file-in-utf-8-mode-using-perl/46377108#46377108", "title": "Write file in UTF-8 mode using Perl", "body": "<p>You want</p>\n\n<pre><code>use utf8;                       # Source code is encoded using UTF-8.\n\nopen(my $FH, \"&gt;:encoding(utf-8)\", \"test11.txt\")\n    or die $!;\n\nprint $FH \"something \u00c7ir\u00e7\u00f6s\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use utf8;                       # Source code is encoded using UTF-8.\nuse open ':encoding(utf-8)';    # Sets the default encoding for handles opened in scope.\n\nopen(my $FH, \"&gt;\", \"test11.txt\")\n    or die $!;\n\nprint $FH \"something \u00c7ir\u00e7\u00f6s\";\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>The encoding you want is <code>utf-8</code> (case-insensitive), not <code>utf8</code> (a Perl-specific encoding).</li>\n<li>Don't use global vars; use lexical (<code>my</code>) vars.</li>\n<li><p>If you leave off the instruction to encode, you might get lucky and get the right output (along with a \"wide character\" warning). Don't count on this. You won't always be lucky.</p>\n\n<pre><code># Unlucky.\n$ perl -we'use utf8; print \"\u00e9\"' | od -t x1\n0000000 e9\n0000001\n\n# Lucky.\n$ perl -we'use utf8; print \"\u00e9\u2661\"' | od -t x1\nWide character in print at -e line 1.\n0000000 c3 a9 e2 99 a1\n0000005\n\n# Correct.\n$ perl -we'use utf8; binmode STDOUT, \":encoding(utf-8)\"; print \"\u00e9\u2661\"' | od -t x1\n0000000 c3 a9 e2 99 a1\n0000005\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 55, "user_id": 4814930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-tQyJN_kU6JA/AAAAAAAAAAI/AAAAAAAAASQ/fBYRy2qtmzI/photo.jpg?sz=128", "display_name": "Prem Rexx", "link": "https://stackoverflow.com/users/4814930/prem-rexx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1637, "favorite_count": 1, "accepted_answer_id": 46377108, "answer_count": 1, "score": 3, "last_activity_date": 1524678749, "creation_date": 1506149752, "question_id": 46376935, "link": "https://stackoverflow.com/questions/46376935/write-file-in-utf-8-mode-using-perl", "title": "Write file in UTF-8 mode using Perl", "body": "<p>I need to write a file with UTF-8 mode in Perl. How do i create that?</p>\n\n<p>Can anyone help in this case?</p>\n\n<p>I'm trying like this, Find my below code,</p>\n\n<pre><code>use utf8;\nuse open ':encoding(utf8)'; \nbinmode(FH, \":utf32\");\n\nopen(FH, \"&gt;test11.txt\"); \nprint FH \"something \u00c7ir\u00e7\u00f6s\";\n</code></pre>\n\n<p>It's creating a file with UTF-8 Format. But i need to make sure whether that is happening from this script. Because if i'm writing a file without using utf8 encode also, File content is automatically taking as UTF-8 format.</p>\n"}, {"tags": ["eclipse", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1506132317, "post_id": 46375294, "comment_id": 79709877, "body": "It looks like EPIC is getting a deprecation warnings (<code>recv() is deprecated on :utf8 handles.</code>) from <code>perl</code> where none was expected. Downgrading <code>perl</code> would sidestep the issue till it&#39;s fixed in EPIC."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1506132421, "post_id": 46375294, "comment_id": 79709889, "body": "This has nothing to do with the program you are trying to debug. You should get the same error from the program <code>1;</code>."}], "owner": {"reputation": 434, "user_id": 2766918, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b30ed3dc92a395952309d65497b3b872?s=128&d=identicon&r=PG&f=1", "display_name": "user2766918", "link": "https://stackoverflow.com/users/2766918/user2766918"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 420, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1506132070, "creation_date": 1506132070, "question_id": 46375294, "link": "https://stackoverflow.com/questions/46375294/eclipse-getting-io-exception-when-stepping-through-perl-code", "title": "Eclipse: getting IO exception when stepping through perl code", "body": "<p>I'd like to debug a perl program in Eclipse, but every time I open the debugger, and press the step-over button (or the step into button for that matter), I get a Dialog box saying \"PerlDebugJob has encountered a problem\".   It then gives the following:</p>\n\n<pre><code>An IOException occurred while executing debugger command\ncould not match re.IP_POS in {recv() is deprecated on :utf8 handles. This will be a fatal error in Perl 5.30 at C:/Strawberry/perl/lib/IO/Socket.pm line 304.\n at C:/Strawberry/perl/lib/IO/Socket.pm line 304.\n    IO::Socket::recv(IO::Socket::INET=GLOB(0x33d6238), \"\", 2048) called at C:/Users/John/workspace/.metadata/.plugins/org.epic.debug/perl5db.pl line 7358\n    DB::readline(\"  DB&lt;16&gt; \") called at C:/Users/John/workspace/.metadata/.plugins/org.epic.debug/perl5db.pl line 1858\n    DB::_DB__read_next_cmd(undef) called at C:/Users/John/workspace/.metadata/.plugins/org.epic.debug/perl5db.pl line 2786\n    DB::DB called at F:/Shared/John/Java/unifdef+.0.2.1/test.pl line 4\nmain::(F:/Shared/John/Java/unifdef+.0.2.1/test.pl:4):\n4:  my $rundir = \"script\\/\";}\n</code></pre>\n\n<p>I am running Eclipse Neon.3, and I just installed Padwalker through a <code>cpan padwalker</code> command on  my DOS prompt.  My perl is 5.26.0.   Is there anything else I have to do?  (I tried a more recent version of Eclipse with the same results).</p>\n\n<p>The first few lines of the program I am trying to debug are:</p>\n\n<pre><code>use File::Compare;\nmy $result;\nmy $rundir = \"script\\/\";\n</code></pre>\n"}, {"tags": ["perl", "api"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 2535730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Orq0r.png?s=128&g=1", "display_name": "rams", "link": "https://stackoverflow.com/users/2535730/rams"}, "edited": false, "score": 0, "creation_date": 1506133195, "post_id": 46375170, "comment_id": 79710010, "body": "Thanks ikegami. This solved the problem posted. But still a general question. Is it the right way to upload an image to the api using perl ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3, "user_id": 2535730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Orq0r.png?s=128&g=1", "display_name": "rams", "link": "https://stackoverflow.com/users/2535730/rams"}, "edited": false, "score": 0, "creation_date": 1506133534, "post_id": 46375170, "comment_id": 79710058, "body": "Well, it&#39;s the way to go to use LWP to make an HTTP POST request that contains a form with an upload field."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1506130950, "last_edit_date": 1506130950, "creation_date": 1506130589, "answer_id": 46375170, "question_id": 46375066, "link": "https://stackoverflow.com/questions/46375066/perl-cannot-send-image-via-api-throws-error-cant-open-file-name-no-such-fil/46375170#46375170", "title": "Perl - cannot send image via API - Throws error can&#39;t open file name No such file or directory at /usr/share/perl5/LWP/UserAgent.pm line 419", "body": "<p>It's trying to open a file named <code>name</code>. Replace</p>\n\n<pre><code>file =&gt; [ name =&gt; $sourceFile, filename =&gt; $destFile, Content_Type =&gt; 'image/png' ]\n</code></pre>\n\n<p>with</p>\n\n<pre><code>file =&gt; [ $sourceFile, $destFile, Content_Type =&gt; 'image/png' ]\n</code></pre>\n\n<hr>\n\n<p>Unrelated, the value of the other field looks wrong too.</p>\n\n<pre><code>model =&gt; { ShelfGuid =&gt; $shelfGuid }\n</code></pre>\n\n<p>The value should be a string, or an array ref for a file upload, but not a hash ref.</p>\n"}], "owner": {"reputation": 3, "user_id": 2535730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Orq0r.png?s=128&g=1", "display_name": "rams", "link": "https://stackoverflow.com/users/2535730/rams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 46375170, "answer_count": 1, "score": 0, "last_activity_date": 1506130950, "creation_date": 1506129293, "last_edit_date": 1506130195, "question_id": 46375066, "link": "https://stackoverflow.com/questions/46375066/perl-cannot-send-image-via-api-throws-error-cant-open-file-name-no-such-fil", "title": "Perl - cannot send image via API - Throws error can&#39;t open file name No such file or directory at /usr/share/perl5/LWP/UserAgent.pm line 419", "body": "<pre><code>use LWP::UserAgent;\nuse File::Slurp;\nuse warnings;\nuse strict;\n\nmy $baseUrl     = 'xxxxx';\nmy $accessToken = 'xxxxx';\n\nmy $shelfGuid = 'xxxxx';\nmy $url         = $baseUrl . 'yyyy';\nmy $sourceFile  = '/home/example.png';\nmy $destFile    = 'example.png';\nmy $ua          = LWP::UserAgent-&gt;new;\n$ua-&gt;default_header( 'authorization' =&gt; \"bearer $accessToken\" );\nmy $response    = $ua-&gt;post($url,\n   'Content_Type' =&gt; 'form-data',\n   Content =&gt; [\n      file =&gt; [\n         name =&gt; $sourceFile,\n         filename =&gt; $destFile,\n         Content_Type =&gt; 'image/png'\n      ],\n      model =&gt; { ShelfGuid =&gt; $shelfGuid }\n   ]\n);\n\nprint $response;\n</code></pre>\n\n<p>Getting this error - Can't open file name: No such file or directory at /usr/share/perl5/LWP/UserAgent.pm line 419. </p>\n\n<p>Tried a whole day without any progress. Help much appreciated. Thanks. </p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 4, "last_activity_date": 1507657367, "last_edit_date": 1507657367, "creation_date": 1506114256, "answer_id": 46373177, "question_id": 46373122, "link": "https://stackoverflow.com/questions/46373122/applying-filters-in-perl-using-regex/46373177#46373177", "title": "Applying Filters in Perl using Regex", "body": "<p>Use capturing parentheses inside your regular expressions:</p>\n\n<pre><code>$line = \"finish=100\\n\";\n($var) = $line =~ /([a-z]+)/;\n($val) = $line =~ /([0-9]+)/;\nprint \"$var $val\\n\";\n</code></pre>\n\n<p>Refer to <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a></p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 3, "last_activity_date": 1506114662, "creation_date": 1506114662, "answer_id": 46373259, "question_id": 46373122, "link": "https://stackoverflow.com/questions/46373122/applying-filters-in-perl-using-regex/46373259#46373259", "title": "Applying Filters in Perl using Regex", "body": "<p>A regex match in list context (where the regex doesn't use the <code>/g</code> flag) returns</p>\n\n<ul>\n<li>the empty list if it fails</li>\n<li>a list of captured substrings (<code>$1, $2, ...</code>) if it succeeds and the pattern contains capturing groups</li>\n<li>the list <code>1</code> if it succeeds and the pattern doesn't capture anything</li>\n</ul>\n\n<p>Your regexes match, but they don't contain any capturing groups, so that's why you get <code>1</code> in <code>$var</code> and <code>$val</code>.</p>\n\n<p>If you add capturing groups (<code>/([a-z]+)/</code>, <code>/([0-9]+)/</code>), you get the matched substrings instead.</p>\n\n<p>Note that it might be easier to just do it all in one match:</p>\n\n<pre><code>my ($var, $val) = $line =~ /^([a-z]+)=([0-9]+)$/;\n</code></pre>\n\n<p>This way you also validate that the input string has the expected form and isn't just something like <code>\"Cat o' 9 tails\"</code>, which (with your original regexes) would extract <code>$var = \"at\"</code> and <code>$val = \"9\"</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1122, "user_id": 6591929, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xvWTst1SSxM/AAAAAAAAAAI/AAAAAAAAAAA/hQ2RU001jNI/photo.jpg?sz=128", "display_name": "kip", "link": "https://stackoverflow.com/users/6591929/kip"}, "is_accepted": false, "score": 0, "last_activity_date": 1506114663, "creation_date": 1506114663, "answer_id": 46373260, "question_id": 46373122, "link": "https://stackoverflow.com/questions/46373122/applying-filters-in-perl-using-regex/46373260#46373260", "title": "Applying Filters in Perl using Regex", "body": "<p>You can too get two values in one array, maybe with this:</p>\n\n<pre><code>$line = \"finish=100\\n\";\n@matches = $line =~ /(\\w+)\\W(\\d+)/;\nprint \"$matches[0], $matches[1]\";\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 8658230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4020692ade4f606ada57601675ae8456?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8658230/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1508562671, "creation_date": 1506114009, "question_id": 46373122, "link": "https://stackoverflow.com/questions/46373122/applying-filters-in-perl-using-regex", "title": "Applying Filters in Perl using Regex", "body": "<p>I'm trying to extract text and numbers from a string using regex in perl. Here is my code:</p>\n\n<pre><code>$line = \"finish=100\\n\";\n($var) = $line =~ /[a-z]+/;\n($val) = $line =~ /[0-9]+/;\n</code></pre>\n\n<p>My expected output is that $var = \"finish\" and $val = 100. However when I run the code $var = 1 and $val = 1. </p>\n\n<p>Any help would be appreciated!!</p>\n"}, {"tags": ["linux", "perl"], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 8657938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7924493761f5c1e272185206b329bfe2?s=128&d=identicon&r=PG&f=1", "display_name": "Krassi Em", "link": "https://stackoverflow.com/users/8657938/krassi-em"}, "is_accepted": false, "score": 0, "last_activity_date": 1506162093, "creation_date": 1506162093, "answer_id": 46378533, "question_id": 46372452, "link": "https://stackoverflow.com/questions/46372452/insert-the-filenames-into-the-same-file-using-perl-or-shell/46378533#46378533", "title": "Insert the filenames into the same file using perl or shell", "body": "<pre><code>#!/bin/bash\n\nfor vari in $(ls test?); do\n  gawk -v fname=$vari '{print $0 \" \" fname}' $vari &gt; $vari.bak\n  mv -f $vari.bak $vari \ndone\n</code></pre>\n\n<p>In the above example, I used test? ; the final answer requires the file name pattern or literally the listing of input files.This works.</p>\n"}], "owner": {"reputation": 65, "user_id": 2456997, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c9c5da2a303dbdeb72d5995cde64a3c5?s=128&d=identicon&r=PG", "display_name": "Cris", "link": "https://stackoverflow.com/users/2456997/cris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1506162093, "creation_date": 1506110722, "question_id": 46372452, "link": "https://stackoverflow.com/questions/46372452/insert-the-filenames-into-the-same-file-using-perl-or-shell", "title": "Insert the filenames into the same file using perl or shell", "body": "<p>I have multiple files and I need to put the filenames into the each correspondent file as a new field.</p>\n\n<p>Example:</p>\n\n<pre><code>My directory\n\nSample1.txt Sample3.txt\nSample2.txt Sample4.txt\n</code></pre>\n\n<p>I have into each file\nhead Sample1.txt</p>\n\n<pre><code> hg1 1 20 \n hg1 40 60\n</code></pre>\n\n<p>I need for each file</p>\n\n<pre><code>head Sample1.txt\n\nhg1 1 20 Sample1\nhg1 40 60 Sample1\n</code></pre>\n\n<p>I can make it manually, but I have a bunch of files. Could somebody help me make it for all files using a loop?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1506099251, "post_id": 46369388, "comment_id": 79698841, "body": "Always use <code>use strict; use warnings qw( all );</code>!!!"}], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 4, "last_activity_date": 1506098702, "creation_date": 1506098702, "answer_id": 46369563, "question_id": 46369388, "link": "https://stackoverflow.com/questions/46369388/referencing-an-element-in-a-2d-array-in-perl/46369563#46369563", "title": "Referencing an element in a 2D array in Perl", "body": "<p><code>i</code> and <code>j</code> are not the same as the variables you declared in the <code>foreach</code> lines.  Change:</p>\n\n<pre><code>print $arr[i][j] . \"\\n\";\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>print $arr[$i][$j] . \"\\n\";\n</code></pre>\n\n<p><code>warnings</code> alerted me to this issue.  You should add these lines to all your Perl code:</p>\n\n<pre><code>use warnings;\nuse strict;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1506110316, "post_id": 46372026, "comment_id": 79704146, "body": "Eh? Using <code>map</code> in void context is discouraged. It&#39;s exactly like a <code>for</code> loop, just inefficient (and potentially misleading to a human reader because the result list is not used). That is: <code>map { say join &#39; &#39;, map qq{&quot;$_&quot;}, @$_ } @lines</code> is better written as <code>say join &#39; &#39;, map qq{&quot;$_&quot;}, @$_ for @lines</code>."}], "tags": [], "owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "is_accepted": false, "score": 0, "last_activity_date": 1506108853, "creation_date": 1506108853, "answer_id": 46372026, "question_id": 46369388, "link": "https://stackoverflow.com/questions/46369388/referencing-an-element-in-a-2d-array-in-perl/46372026#46372026", "title": "Referencing an element in a 2D array in Perl", "body": "<p>To demonstrate the Perlish mantra that there's \"more than one way to do it\":</p>\n\n<pre><code>use 5.10.0; # so can use \"say\"\nuse strict;\nuse warnings qw(all);\n\nsub get_data {\n  my ($cols, $rows) = @_;\n  my ($line, @rows);\n  my $i;\n  for ($i = 1; $i &lt;= $rows and $line = &lt;DATA&gt;; $i++) {\n    chomp $line;\n    my $cells = [ split ' ', $line ];\n    die \"Row $i had \", scalar(@$cells), \" instead of $cols\" if @$cells != $cols;\n    push @rows, $cells;\n  }\n  die \"Not enough rows, got \", $i - 1, \"\\n\" if $i != $rows + 1;\n  \\@rows;\n}\n\nsub print_data {\n  my ($cols, $rows, $data) = @_;\n  for (my $i = 0; $i &lt; $rows; $i++) {\n    for (my $j = 0; $j &lt; $cols; $j++) {\n      say $data-&gt;[$i][$j];\n    }\n  }\n}\n\nmy $data = get_data(6, 6);\nprint_data(6, 6, $data);\n\n__DATA__\n1 2 3 4 5 6\na b c d e f\n6 5 4 3 2 1\nf e d c b a\nA B C D E F\n7 8 9 10 11 12\n</code></pre>\n\n<p>Explanation:</p>\n\n<ul>\n<li>if we use <code>say</code>, that avoids unsightly <code>print ..., \"\\n\"</code></li>\n<li><code>get_data</code> is a function that can be called and/or reused, instead of just being part of the main script</li>\n<li><code>get_data</code> knows what data-shape it expects and throws an error if it doesn't get it</li>\n<li><code>[ ... ]</code> creates an anonymous array and returns a reference to it</li>\n<li><code>get_data</code> returns an array-reference so data isn't copied</li>\n<li><code>print_data</code> is a function too</li>\n<li>both functions use a conventional <code>for</code> loop instead of making lists of numbers, which in Perl 5 needs to allocate memory</li>\n</ul>\n\n<p>There is also a two-line version of the program (with surrounding bits, and test data):</p>\n\n<pre><code>use 5.10.0; # so can use \"say\"\nmy @lines = map { [ split ' ', &lt;DATA&gt; ] } (1..6);\nmap { say join ' ', map qq{\"$_\"}, @$_ } @lines;\n\n__DATA__\n1 2 3 4 5 6\na b c d e f\n6 5 4 3 2 1\nf e d c b a\nA B C D E F\n7 8 9 10 11 12\n</code></pre>\n\n<p>Explanation:</p>\n\n<ul>\n<li>using <a href=\"https://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\"><code>map</code></a> is the premier way to iterate over lists of things where you don't need to know how many you've seen (otherwise, a <code>for</code> loop is needed)</li>\n<li>the adding of <code>\"</code> around the cell contents is only to prove they've been processed. Otherwise the second line could just be: <code>map { say join ' ', @$_ } @lines;</code></li>\n</ul>\n"}], "owner": {"reputation": 153, "user_id": 5987620, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7e2db8b773afe7fca275547dd3932ecf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/5987620/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 46369563, "answer_count": 2, "score": 0, "last_activity_date": 1506108853, "creation_date": 1506098043, "question_id": 46369388, "link": "https://stackoverflow.com/questions/46369388/referencing-an-element-in-a-2d-array-in-perl", "title": "Referencing an element in a 2D array in Perl", "body": "<p>I have the following code which reads in a 6x6 array from STDIN and saves it as an array of anonymous arrays. I am trying to print out each element with <code>$arr[i][j]</code>, but the code below isn't working. It just prints out the first element over and over. How am I not accessing the element correctly?</p>\n\n<pre><code>#!/user/bin/perl\n\nmy $arr_i = 0;\nmy @arr = ();\nwhile ($arr_i &lt; 6){\n    my $arr_temp = &lt;STDIN&gt;;\n    my @arr_t = split / /, $arr_temp;\n    chomp @arr_t;\n    push @arr,\\@arr_t;\n    $arr_i++;\n}\nforeach my $i (0..5){\n    foreach my $j (0..5){\n        print $arr[i][j] . \"\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1249, "user_id": 738895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d049332210128bcb13c03073ee41cd12?s=128&d=identicon&r=PG", "display_name": "m1m1k", "link": "https://stackoverflow.com/users/738895/m1m1k"}, "edited": false, "score": 0, "creation_date": 1506097775, "post_id": 46369280, "comment_id": 79698095, "body": "The actual application is to pass in <b>JUST what changes</b> into a dbi-&gt;mysql subroutine.  I want all the connection opening and closing stuff to always be the same and never change.  But I want my sql statement AND a function which returns an array (sometimes) of results.  It&#39;d be handy if the function could do different stuff depending on the application, but I can&#39;t seem to find a way around it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1506099079, "post_id": 46369280, "comment_id": 79698740, "body": "What problem are you having?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1506099187, "post_id": 46369280, "comment_id": 79698808, "body": "Injection bug!!! <code>&quot;SELECT ... WHERE table_schema=&#39;$table&#39;;&quot;</code> should be <code>&quot;SELECT ... WHERE table_schema=&quot;.$dbh-&gt;quote($table)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "edited": false, "score": 1, "creation_date": 1506104268, "post_id": 46369280, "comment_id": 79701291, "body": "@Ed., Best not to hide the error at all so it can addressed."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1506104609, "post_id": 46369280, "comment_id": 79701474, "body": "Your code mixes a lot of different styles, especially in naming variables and functions. It looks like you have not written it yourself, but either inherited and edited or copy/pasted it together from several sources. Are you sure you know what you are trying to accomplish? Can you explain why you want to do it in this way? It seems overly complicated. We can probably help you find a much simpler way if you explain what problem you are ultimately trying so solve."}, {"owner": {"reputation": 1249, "user_id": 738895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d049332210128bcb13c03073ee41cd12?s=128&d=identicon&r=PG", "display_name": "m1m1k", "link": "https://stackoverflow.com/users/738895/m1m1k"}, "edited": false, "score": 0, "creation_date": 1506327201, "post_id": 46369280, "comment_id": 79758006, "body": "Thanks - yeah that&#39;s an injection error, thx. I am new to perl and it shows, yes it&#39;s cobbled together from what I could find online."}], "answers": [{"comments": [{"owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506104325, "post_id": 46370921, "comment_id": 79701319, "body": "Let&#39;s have the OP walk before they run?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506104484, "post_id": 46370921, "comment_id": 79701404, "body": "I still don&#39;t understand what they are trying to do. when I read the title of the question, I immediately thought <i>curry</i>, but I think that&#39;s not really what they want. The code is such a mess, I&#39;m just now going through it. You might want to include a wiki link to closure too. That might be easier to understand than the refcount stuff in Perl."}, {"owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1506104537, "post_id": 46370921, "comment_id": 79701434, "body": "Good idea. Will use perlfaq7 answer instead of the perlref bit."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1506104955, "post_id": 46370921, "comment_id": 79701633, "body": "@simbabque  Exactly the same here -- but then I read their comment right below the question and thought &quot;closure.&quot;  I completely agree that a nice and down-to-earth explanation would be helpful (to help them walk)."}, {"owner": {"reputation": 1249, "user_id": 738895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d049332210128bcb13c03073ee41cd12?s=128&d=identicon&r=PG", "display_name": "m1m1k", "link": "https://stackoverflow.com/users/738895/m1m1k"}, "edited": false, "score": 1, "creation_date": 1506327235, "post_id": 46370921, "comment_id": 79758029, "body": "Thanks, yes a closure is what I&#39;m looking for."}], "tags": [], "owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "is_accepted": true, "score": 6, "last_activity_date": 1506104773, "last_edit_date": 1506104773, "creation_date": 1506104206, "answer_id": 46370921, "question_id": 46369280, "link": "https://stackoverflow.com/questions/46369280/in-perl-pass-a-parameter-into-a-subroutine-which-is-also-a-parameter/46370921#46370921", "title": "In Perl, pass a parameter into a subroutine which is also a parameter", "body": "<p>As hinted in an answer to the linked question, what you're probably after is a <a href=\"https://perldoc.perl.org/perlfaq7.html#What%27s-a-closure%3F\" rel=\"noreferrer\">closure</a> (see also <a href=\"https://www.perl.com/pub/2002/05/29/closure.html\" rel=\"noreferrer\">Perl.com article</a>, <a href=\"https://en.wikipedia.org/wiki/Closure_(computer_programming)\" rel=\"noreferrer\">Wikipedia entry</a>):</p>\n\n<pre><code>sub make_questioner {\n  my ($text) = @_;\n  return sub {\n    my ($politeness) = @_;\n    print $text, $politeness, \"\\n\";\n    my $answer = &lt;&gt;;\n    chomp $answer;\n    $answer;\n  };\n}\n\nmy $questioner = make_questioner(\"What... is your name\");\n\nmy $name = $questioner-&gt;(', please');\nprint \"Your name is '$name'.\\n\";\n</code></pre>\n\n<p>You'll note that the demo code here incorporates information passed on creating the closure, and also uses a parameter passed to the closure.</p>\n"}], "owner": {"reputation": 1249, "user_id": 738895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d049332210128bcb13c03073ee41cd12?s=128&d=identicon&r=PG", "display_name": "m1m1k", "link": "https://stackoverflow.com/users/738895/m1m1k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 46370921, "answer_count": 1, "score": 1, "last_activity_date": 1506104773, "creation_date": 1506097627, "last_edit_date": 1506098062, "question_id": 46369280, "link": "https://stackoverflow.com/questions/46369280/in-perl-pass-a-parameter-into-a-subroutine-which-is-also-a-parameter", "title": "In Perl, pass a parameter into a subroutine which is also a parameter", "body": "<p>So my question is based off of this SO question:\n<a href=\"https://stackoverflow.com/questions/40169771/how-to-pass-a-subroutine-as-a-parameter-to-another-subroutine\">How to pass a subroutine as a parameter to another subroutine</a></p>\n\n<p>Question is: can I pass arguments/parameters into the subroutine (which is also itself a parameter)?</p>\n\n<pre><code>sub question {\nprint \"question the term\";\nreturn 1;\n}\n\nmy $question_subref = \\&amp;question;\nanswer($question_subref); \n\nsub answer {\n    my $question_subref = shift;\n    print \"subroutine question is used as parameters\";\n    # call it using arrow operator if needed\n    $question_subref -&gt; ($PassSomethingHere,$SomethingElse);\n    return 1;\n} \n</code></pre>\n\n<p>Is it possible to do this?</p>\n\n<p>$question_subref -> (<strong>$PassSomethingHere,$SomethingElse</strong>);</p>\n\n<hr>\n\n<p>Heres the actual code:</p>\n\n<pre><code>my $SelectResults = sub {\n            my @results;\n            $sql = $_[0];\n            $sth = $_[1];\n            $sql =~ s/select/SELECT/gi;\n            if(StrContains($sql, \"SELECT\"))\n            {\n                @results= $sth-&gt;fetchrow_array();\n                foreach my $tab (@results) {\n                    print $tab . \"\\n\";\n                }\n            }\n            return @results;\n        };\n\n\n\nsub MySQLExe\n{\n    my @results;\n\n    my $db = \"fake\";\n    my $usr = \"user\";\n    my $pw = \"password\";\n\n    $db_handle = DBI-&gt;connect(\"dbi:mysql:database=$db;mysql_socket=/var/lib/mysql/mysql.sock;\", $usr, $pw) \\\n        or die \"Connection Error: $DBI::errstr \\n\";\n    my $sql = $_[0];\n    print $sql . \"\\n\";\n\n\n\n    #Prepare SQL query\n    my $sth = $db_handle-&gt;prepare($sql)\n        or die \"Couldn't prepare query '$sql': $DBI::errstr\\n\";\n\n\n\n    $sth-&gt;execute\n        or die \"Couldn't execute query '$sql': $DBI::errstr\\n\";\n\n\n    # I can't seem to get this to work...   \n    # optional Function here - get rows from select statement or something else.\n    # pass in the function holder as the second parameter\n    my $Func = $_[1];\n    @results = $Func -&gt; ($sql, $sth);\n\n\n    #disconnect  from database\n    $sth-&gt;finish;\n    $db_handle-&gt;disconnect or warn \"Disconnection error: $DBI::errstr \\n\";\n\n\n    return(@results);\n}\n</code></pre>\n\n<p>And Actual usage:</p>\n\n<pre><code>my @tables = MySQLExe(\"SELECT table_name FROM information_schema.tables where table_schema='$table';\", \n    $SelectResults);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1506090176, "post_id": 46366628, "comment_id": 79693568, "body": "I don&#39;t understand your reference to the error <code>% not hash reference</code>. The code you show doesn&#39;t produce <code>Not a HASH reference</code>, which is presumably what you&#39;re referring to."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1506091506, "post_id": 46366628, "comment_id": 79694436, "body": "@Borodin: I think the &quot;reference&quot; in the title is a mistake. I think the title should be read as &quot;What is the meaning of % in Perl when it&#39;s not used as a hash sigil?&quot; I could be wrong."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8624950"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1506417284, "post_id": 46366628, "comment_id": 79801922, "body": "@Borodin apologies. I meant <i>what is the meaning of % other than being used in hash</i> and I fixed it now, I think."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 7, "last_activity_date": 1506089117, "creation_date": 1506089117, "answer_id": 46366690, "question_id": 46366628, "link": "https://stackoverflow.com/questions/46366628/what-is-the-meaning-of-the-operator/46366690#46366690", "title": "What is the meaning of the % operator?", "body": "<p>It's the \"modulo\" operator, see <a href=\"http://p3rl.org/perlop\" rel=\"noreferrer\">perlop</a>.</p>\n\n<blockquote>\n  <p>[...] computes the division remainder of its first argument with respect to its second argument. </p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1152, "user_id": 3369871, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c8de0e95a53208ba7a7d6d47a1d0a846?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/3369871/vicky"}, "is_accepted": false, "score": 7, "last_activity_date": 1506090070, "last_edit_date": 1506090070, "creation_date": 1506089394, "answer_id": 46366770, "question_id": 46366628, "link": "https://stackoverflow.com/questions/46366628/what-is-the-meaning-of-the-operator/46366770#46366770", "title": "What is the meaning of the % operator?", "body": "<p>This <code>%</code> is a modulus operator which returns the remainder of the left operand divided by the right operand, which is zero in the case where the value on the left is divisible by the value on the right. It does not represents a hash sigil if it is between two operands.</p>\n\n<p>See <a href=\"http://www.perlmonks.org/?node_id=431076\" rel=\"noreferrer\"><em>Perl &amp; modulus</em> on perlmonks.org</a> . </p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 6, "last_activity_date": 1506090124, "creation_date": 1506090124, "answer_id": 46366991, "question_id": 46366628, "link": "https://stackoverflow.com/questions/46366628/what-is-the-meaning-of-the-operator/46366991#46366991", "title": "What is the meaning of the % operator?", "body": "<p>The modulus operator gives you the remainder from an integer division.</p>\n\n<p>You saw it being used to work out if a number is odd or even. When you divide an integer by 2, you get a remainder of 0 (if the number is even) or 1 (if the number is odd).</p>\n\n<pre><code>my $is_odd = $num % 2;\n</code></pre>\n\n<p>In general, the modulus will give you an integer between 0 and one less than the right-hand operand in the expression.</p>\n\n<p>Like all operators, it is documented in <a href=\"https://perldoc.perl.org/perlop.html\" rel=\"noreferrer\">perldoc perlop</a>, which says:</p>\n\n<blockquote>\n  <p>Binary <code>\"%\"</code> is the modulo operator, which computes the division remainder of its first argument with respect to its second argument. Given integer operands <code>$m</code> and <code>$n</code> : If <code>$n</code> is positive, then <code>$m % $n</code> is <code>$m</code> minus the largest multiple of <code>$n</code> less than or equal to <code>$m</code>. If <code>$n</code> is negative, then <code>$m % $n</code> is <code>$m</code> minus the smallest multiple of <code>$n</code> that is not less than <code>$m</code> (that is, the result will be less than or equal to zero). If the operands <code>$m</code> and <code>$n</code> are floating point values and the absolute value of <code>$n</code> (that is <code>abs($n)</code>) is less than <code>(UV_MAX + 1)</code>, only the integer portion of <code>$m</code> and <code>$n</code> will be used in the operation (Note: here <code>UV_MAX</code> means the maximum of the unsigned integer type). If the absolute value of the right operand (<code>abs($n)</code>) is greater than or equal to <code>(UV_MAX + 1)</code> , <code>\"%\"</code> computes the floating-point remainder <code>$r</code> in the equation <code>($r = $m - $i*$n)</code> where <code>$i</code> is a certain integer that makes <code>$r</code> have the same sign as the right operand <code>$n</code> (<strong>not</strong> as the left operand <code>$m</code> like C function <code>fmod()</code>) and the absolute value less than that of <code>$n</code>. Note that when <code>use integer</code> is in scope, <code>\"%\"</code> gives you direct access to the modulo operator as implemented by your C compiler. This operator is not as well defined for negative operands, but it will execute faster.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 10661, "user_id": 2430549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfc7728cf3e556a8b9da88e662f4fd3?s=128&d=identicon&r=PG", "display_name": "HoldOffHunger", "link": "https://stackoverflow.com/users/2430549/holdoffhunger"}, "is_accepted": false, "score": 0, "last_activity_date": 1605457107, "last_edit_date": 1605457107, "creation_date": 1605456638, "answer_id": 64846710, "question_id": 46366628, "link": "https://stackoverflow.com/questions/46366628/what-is-the-meaning-of-the-operator/64846710#64846710", "title": "What is the meaning of the % operator?", "body": "<p>As stated by the others, <code>%</code> is the <a href=\"https://perldoc.perl.org/5.12.4/perlop#Multiplicative-Operators\" rel=\"nofollow noreferrer\"><strong>modulo operator</strong></a>, and it returns the remainder after doing arithmetic division.  It's rather common to want the remainder (the results of the modulus) <em><strong>and</strong></em> the quotient (the results of the division).  Fortunately, it's very easy to get both in Perl!</p>\n<p>I will take a working, mathematical form as: <code>dividend / divisor = quotient + remainder</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/aQvMC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aQvMC.png\" alt=\"enter image description here\" /></a></p>\n<p>You can always get the quotient and remainder by means of...</p>\n<pre><code>my $dividend = 100;\nmy $divisor = 3;\nmy ($quotient, $remainder) = (int $dividend / $divisor, $dividend % $divisor);\nprint($dividend . ' / ' . $divisor . ' = ' . $quotient . ' (quotient) + ' . $remainder . ' (remainder)');\n</code></pre>\n<p>And this gives the results:</p>\n<blockquote>\n<p><code>100 / 3 = 33 (quotient) + 1 (remainder)</code></p>\n</blockquote>\n<p>This is a nice, useful one-line solution.  Here's a practical demonstration of it with a time example...</p>\n<pre><code>my $diff = 642;\nmy $divisor = 60;\nmy ($minutes, $seconds) = (int $diff / $divisor, $diff % $divisor);\nprint($minutes . ':' . $seconds);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8624950"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6013, "favorite_count": 0, "accepted_answer_id": 46366690, "answer_count": 4, "score": 0, "last_activity_date": 1605457205, "creation_date": 1506088942, "last_edit_date": 1605457205, "question_id": 46366628, "link": "https://stackoverflow.com/questions/46366628/what-is-the-meaning-of-the-operator", "title": "What is the meaning of the % operator?", "body": "<p>I saw recently in on an answer here on Stackoverflow where a calculation was done to determine whether a value was odd or even. There was a <code>%</code> used which always returned 0 or 1 depending on the value it was compared with.</p>\n<p>I am trying to figure out what the usage is of this <code>%</code> and even though I searched on google, I could only find <code>%</code> used in hash.</p>\n<pre><code>$result = $str % 2;\n</code></pre>\n"}, {"tags": ["sqlite", "perl", "dbix-class", "dbd"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1506086572, "creation_date": 1506086572, "answer_id": 46365860, "question_id": 46365572, "link": "https://stackoverflow.com/questions/46365572/getting-error-dbi-driver-env-var-not-set-while-running-dbicdump/46365860#46365860", "title": "getting error DBI_DRIVER env var not set while running dbicdump", "body": "<p>Looks like <code>dbicdump</code> has got slightly confused when parsing your command line options. It thinks that <code>MyApp::Schema</code> is the connection information, not <code>DBI::SQLite:./sqlite.db</code>.</p>\n\n<p>I suspect that's because you have missed the <code>-o</code> that should go before the <code>dump_directory=.\\lib</code> option.</p>\n"}], "owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "accepted_answer_id": 46365860, "answer_count": 1, "score": 0, "last_activity_date": 1506086572, "creation_date": 1506085601, "question_id": 46365572, "link": "https://stackoverflow.com/questions/46365572/getting-error-dbi-driver-env-var-not-set-while-running-dbicdump", "title": "getting error DBI_DRIVER env var not set while running dbicdump", "body": "<p>I was testing to dump the <code>DBIx::Class</code> for my sample sqlite database on the windows 7 machine.\nI have installed <code>DBIx::Class::Schema::Loader</code> , along with <code>DBI</code> and <code>DBD::SQLite</code> module , but when I am using the script <code>dbicdump</code> it giving the below error</p>\n\n<pre><code>C:\\Users\\Foo\\Documents\\dbDump&gt;perl dbicdump.pl dump_directory=.\\lib ^\nMore?     -o components=\"[q{InflateColumn::DateTime}]\" ^\nMore?     -o preserve_case=1 ^\nMore?     MyApp::Schema DBI::SQLite:./sqlite.db\n\nDBIx::Class::Storage::DBI::catch {...} (): DBI Connection failed: Can't   connect\nto data source 'MyApp::Schema' because I can't work out what driver to use (it \ndoesn't seem to contain a 'dbi:driver:' prefix and the DBI_DRIVER env var is not\nset) at C:/Perl64/site/lib/DBIx/Class/Storage/DBI.pm line 1517. at dbicdump.pl \nline 178\n</code></pre>\n\n<p>I tried googling it out but was not able to find any appropriate for to resolve the issue.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1506081767, "post_id": 46363968, "comment_id": 79687831, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46346845/bash-use-variable-in-perl-regex-together-with-matching-groups\">Bash - use variable in perl regex together with matching groups</a>"}], "answers": [{"tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 1, "last_activity_date": 1506082296, "last_edit_date": 1506082296, "creation_date": 1506080957, "answer_id": 46364091, "question_id": 46363968, "link": "https://stackoverflow.com/questions/46363968/replace-string-with-an-variable-having-special-chars-in-it-using-perl/46364091#46364091", "title": "replace string with an variable having special chars in it using Perl", "body": "<p>When using double quotes, then escape the special characters using <code>\\</code></p>\n\n<pre><code>$REPLACE_WORD = \"c\\@sc9ey\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1506082059, "creation_date": 1506082059, "answer_id": 46364445, "question_id": 46363968, "link": "https://stackoverflow.com/questions/46363968/replace-string-with-an-variable-having-special-chars-in-it-using-perl/46364445#46364445", "title": "replace string with an variable having special chars in it using Perl", "body": "<p>Perl interpolates scalars (<code>$foo</code>) and arrays (<code>@bar</code>) in double quotes <code>\"\"</code>. If you use single quotes <code>''</code> instead, no interpolation happens.</p>\n\n<pre><code>$REPLACE_WORDS = 'c@sc9ey';\n</code></pre>\n\n<p>Note that hash variabels (<code>%baz</code>) are <strong>not</strong> interpolated.</p>\n"}], "owner": {"reputation": 33, "user_id": 6156967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcf8a955e0c9ea1c24acf8756aa84ed?s=128&d=identicon&r=PG&f=1", "display_name": "Paresh Gandhare", "link": "https://stackoverflow.com/users/6156967/paresh-gandhare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1506082296, "creation_date": 1506080616, "last_edit_date": 1506082222, "question_id": 46363968, "link": "https://stackoverflow.com/questions/46363968/replace-string-with-an-variable-having-special-chars-in-it-using-perl", "title": "replace string with an variable having special chars in it using Perl", "body": "<p>I have a file with below content:</p>\n\n<pre><code>$ cat file\nmy name is PARESH.\n</code></pre>\n\n<p>Need to replace <code>PARESH</code> with content of variable `$REPLACE_WORD\" using Perl.</p>\n\n<pre><code>perl -pi -e \"s/PARESH/$REPLACE_WORD/g\"  file\n</code></pre>\n\n<p>Problem is variable <code>$REPLACE_WORD</code> has special characters in it.</p>\n\n<pre><code>$REPLACE_WORD=\"c@sc9ey\"\n</code></pre>\n"}, {"tags": ["perl", "email"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1506082136, "post_id": 46363828, "comment_id": 79688087, "body": "How about using a MIME parser?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1506088625, "post_id": 46363828, "comment_id": 79692537, "body": "I see you&#39;re calling subs with <code>&amp;</code>. Using <code>&amp;</code> hasn&#39;t been necessary since 1994, when perl5 was released."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8655203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc214a2409d2fe8e56a4652726ed8bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kir", "link": "https://stackoverflow.com/users/8655203/alex-kir"}, "edited": false, "score": 0, "creation_date": 1506088155, "post_id": 46364795, "comment_id": 79692230, "body": "I edited my answer and add full function for parsing BASE64 TEXT. Please review it, and leave advice with minimal correction of original text."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1506083130, "creation_date": 1506083130, "answer_id": 46364795, "question_id": 46363828, "link": "https://stackoverflow.com/questions/46363828/parse-base64-text-after-second-blank-line-perl/46364795#46364795", "title": "Parse base64 text after second blank line perl", "body": "<p>If you're reading from STDIN or an input, how about something like this? </p>\n\n<pre><code>while ( &lt;&gt; ) { \n   last if m/^$/; # blank line;\n   my ( $header, $value ) = split /:/; \n}\n\n\nmy $mime_content = do { local $/; &lt;&gt; }; #read rest of input. \n#then decode it, etc.\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8655203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc214a2409d2fe8e56a4652726ed8bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kir", "link": "https://stackoverflow.com/users/8655203/alex-kir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506088030, "creation_date": 1506080076, "last_edit_date": 1506088030, "question_id": 46363828, "link": "https://stackoverflow.com/questions/46363828/parse-base64-text-after-second-blank-line-perl", "title": "Parse base64 text after second blank line perl", "body": "<p>I'm new in perl. I have an old script that parsing text in e-mail message for sending it in sms via smstools on Centos Server. We add another software, for which we must use sms informing in cyrillic. \nOld software sends emails in format:</p>\n\n<pre><code>Headers\nHeaders\nContent-Transfer-Encoding: base64\nblank line\nBASE64 TEXT\n</code></pre>\n\n<p>and script correctly parsing and decoding BASE64 TEXT.\nNew software sends emails in format:</p>\n\n<pre><code>Headers\nHeaders\nblank line\n------=_Part_digits\nHeader\nContent-Transfer-Encoding: base64\nblank line\nBASE64 TEXT\n</code></pre>\n\n<p>and script cannot correctly parse BASE64 TEXT. \nThe function for parsing text for sms is:</p>\n\n<pre><code>sub Process_Email\n{\n    my ($Sms_To,@Lines)=@_;\n    my $Body_Start =\"False\";\n    my $Sms_Body = \"\";\n    my $Base64=\"False\";\n    my $HTML_Mess=\"False\";\n    my $HTML_Text=\"False\";\n    my $Boundary;\n        # Declare local variables\n    my ($From, $Line);\n        # Check each line in the header\n    foreach $Line (@Lines)\n        {\n        if($Line =~ m/^From: (.*)/)\n            {\n            $From = lc($1);\n            $From =~ s/.*&lt;|&gt;|@[a-z].*//g;\n            &amp;Write_Log(\"From = $From\");\n            }\n        elsif( $Line =~ m/^Content-Transfer-Encoding: base64(.*)/)\n            {\n                 $Base64=\"True\";\n                &amp;Write_Log(\"Message was encoded in base64\");\n            }\n        elsif( $Line =~ m/Content-Type: multipart\\/alternative(.*)/)\n            {\n                $HTML_Mess=\"True\";\n                &amp;Write_Log(\"The message in HTML format\");\n                if($Line =~ m/boundary=\\\"(.*)/)\n                    {\n                        my $PosStart = index($Line,'\"');\n                        $PosStart++;\n                         my $PosEnd = rindex($Line,'\"');\n                          my $PosLeight = $PosEnd-$PosStart;\n                       $Boundary = substr($Line,$PosStart,$PosLeight);\n                       $Boundary =~ s/\\+|\\-|\\=//g;\n                    }\n            }\n        elsif(($Line =~ m/boundary=\\\"(.*)/)&amp;&amp;($HTML_Mess eq \"True\"))\n            {\n            my $PosStart=index($Line,'\"');\n            $PosStart++;\n            my $PosEnd=rindex($Line,'\"');\n            my $PosLeight=$PosEnd-$PosStart;\n            $Boundary=substr($Line,$PosStart,$PosLeight);\n            $Boundary =~ s/\\+|\\-|\\=//g;\n            }\n        elsif( $Line =~ m/Content-Type: multipart\\/mixed(.*)/)\n            {\n                $HTML_Mess=\"True\";\n                &amp;Write_Log(\"The message in HTML format\");\n                       if($Line =~ m/boundary=\\\"(.*)/)\n                    {\n                    my $PosStart = index($Line,'\"');\n                    $PosStart++;\n                    my $PosEnd = rindex($Line,'\"');\n                    my $PosLeight = $PosEnd-$PosStart;\n                    $Boundary = substr($Line,$PosStart,$PosLeight);\n                    $Boundary =~ s/\\+|\\-|\\=//g;\n                    }\n            }\n        elsif(($Line =~ m/boundary=\\\"(.*)/)&amp;&amp;($HTML_Mess eq \"True\"))\n            {\n            my $PosStart=index($Line,'\"');\n            $PosStart++;\n            my $PosEnd=rindex($Line,'\"');\n            my $PosLeight=$PosEnd-$PosStart;\n            $Boundary=substr($Line,$PosStart,$PosLeight);\n            $Boundary =~ s/\\+|\\-|\\=//g;\n            }\n            # find blank line\n        elsif($Line =~ /^\\n$/)\n            {\n            $Body_Start=\"True\";\n            next;\n            }\n            # Begins sms body\n        if($Body_Start eq \"True\")\n            {\n                # decode BASE64 TEXT\n            if($Base64 eq \"True\") \n{ \n           $Sms_Body=$Sms_Body . decode_base64($Line);\n}\n            elsif($HTML_Mess eq \"True\")\n                {\n                if($HTML_Text eq \"True\")\n                    {\n                    if($Line !~ m/$Boundary/)\n                        {\n                        $Sms_Body = $Sms_Body . $Line;\n                        }\n                    else\n                        {\n                        $HTML_Text=\"False\";\n                        last;\n                        }\n                    }\n                if(($Line =~ m/Content-Transfer-Encoding: 7bit/)&amp;&amp;($HTML_Text eq \"False\"))\n                    {\n                        $HTML_Text=\"True\";\n                    }\n                }\n            else { $Sms_Body = $Sms_Body . $Line; }\n            }\n        }\n</code></pre>\n\n<p>When I have email with one blank line this function working well. \nBut if in email two blank lines BASE64 TEXT is parsing with upper headers and I receive wrong result. How can I correctly parse fragment of BASE64 TEXT with minimal editing of original code? </p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8459807"}, "edited": false, "score": 0, "creation_date": 1506047351, "post_id": 46355653, "comment_id": 79671729, "body": "Erm i did ask question on how to show element that appears one on each line. For example aaa\\bbb\\bbb out put aaa on line 1"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506068085, "post_id": 46355653, "comment_id": 79679560, "body": "Didn&#39;t we <a href=\"https://stackoverflow.com/questions/46312299/get-the-value-which-is-not-the-same-from-the-row-which-has-duplicate-in-perl/46316737\">do this yesterday</a>? And have you changed your username again?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1506046575, "post_id": 46355797, "comment_id": 79671542, "body": "@Azhar, If that&#39;s all you took from that answer, you missed out on a lot!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8459807"}, "edited": false, "score": 0, "creation_date": 1506046642, "post_id": 46355797, "comment_id": 79671563, "body": "I did split the array. I performed the hash to find element which appears once in every array"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8459807"}, "edited": false, "score": 0, "creation_date": 1506046733, "post_id": 46355797, "comment_id": 79671583, "body": "Number found where operator expected at getoncedata.pl line 20, near &quot;1&quot;         (Missing semicolon on previous line?) syntax error at getdifference.pl line 14, near &quot;my &quot; Global symbol &quot;@array&quot; requires explicit package name at getoncedata.pl line 14. Global symbol &quot;$line&quot; requires explicit package name at getoncedata.pl line 14. Global symbol &quot;@array&quot; requires explicit package name at getoncedata.pl line 16. syntax error at getoncedata.pl line 19, near &quot;}&quot; Execution of getoncedata.pl aborted due to compilation errors."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506046800, "post_id": 46355797, "comment_id": 79671598, "body": "@Azhar, You miscopied something. Try again."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8459807"}, "edited": false, "score": 0, "creation_date": 1506048777, "post_id": 46355797, "comment_id": 79672061, "body": "can i use @_ instead of shift"}, {"owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "edited": false, "score": 0, "creation_date": 1506052515, "post_id": 46355797, "comment_id": 79672953, "body": "@Azhar, like <code>my ($line) = @_;</code> ?"}], "tags": [], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "is_accepted": true, "score": 0, "last_activity_date": 1506046597, "last_edit_date": 1506046597, "creation_date": 1506046168, "answer_id": 46355797, "question_id": 46355653, "link": "https://stackoverflow.com/questions/46355653/perl-find-the-elements-that-appears-once-in-every-array-from-the-particular-file/46355797#46355797", "title": "Perl find the elements that appears once in every array from the particular file using a function and an argument", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen (my $fh, \"&lt;\", \"content.txt\")\n   or die(\"Can't open file \\\"content.txt\\\": $!\\n\");\n\nwhile (my $line = &lt;$fh&gt;)  # Read the file line by line\n{\n        chomp $line;  # Remove trailing newline char\n        getOnceData($line);  # Pass each lines to getOnceData\n}\n\n# Perl has no syntax called `function`\n# What you need is `sub`\nsub getOnceData\n{\n        my $line = shift;\n        my @array = split /\\\\/, $line; #split the \\ and pour all the content into the array\n        my %count;\n        $count{$_}++ for @array;\n        print grep {$count{$_} == 1} keys %count;  # Don't forget to grep\n        print \"\\n\";  # Add newline char\n\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8459807"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 46355797, "answer_count": 1, "score": 0, "last_activity_date": 1506046597, "creation_date": 1506044934, "last_edit_date": 1506046150, "question_id": 46355653, "link": "https://stackoverflow.com/questions/46355653/perl-find-the-elements-that-appears-once-in-every-array-from-the-particular-file", "title": "Perl find the elements that appears once in every array from the particular file using a function and an argument", "body": "<p>Good Morning everyone,\nI want to find a element that appear once in every array from the particular file\nSo in each line it contain bbb\\bbb\\ddd so the output will be bbb on what line is it.\nI made a function on every array from each line and perform hashing to print the element that appear once in the array.\nI also want to pass the argument to the function. the argument is the array from one line. I found similar topics\n<a href=\"https://stackoverflow.com/questions/25937725/perl-find-the-elements-that-appears-once-in-an-array\">Perl find the elements that appears once in an array</a>\n<a href=\"https://stackoverflow.com/questions/46312299/get-the-value-which-is-not-the-same-from-the-row-which-has-duplicate-in-perl?noredirect=1#comment79594135_46312299\">get the value which is not the same from the row which has duplicate in perl</a></p>\n\n<p>my code below</p>\n\n<p>perl.pl</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen (my $fh, \"&lt;content.txt\") or die \"Could Not Open the file content.txt\\n\";\nwhile (my @array = &lt;$fh&gt;)\n{\n        getOnceData(@array);\n}\nfunction getOnceData\n{\n        chomp;\n        my (@array) = @_; this is an argument\n        @array = split /\\\\/; #split the \\ and pour all the content into the array\n        my %count;\n        $count{$_}++ for @array;\n        print {$count{$_} == 1} keys %count;\n\n}\n1;\n</code></pre>\n\n<p>content.txt</p>\n\n<pre><code>aaa\\bbb\\aaa\ncccd\\ade\\ade\nppp\\www\\ppp\nwww\\aaa\\www\\aaa\n</code></pre>\n\n<p>I have a lot of error.... the error say</p>\n\n<pre><code>syntax error at getoncedata.pl line 13, near \"my \"\nGlobal symbol \"@array\" requires explicit package name at getoncedata.pl line 13.\nGlobal symbol \"@array\" requires explicit package name at getoncedata.pl line 14.\nGlobal symbol \"@array\" requires explicit package name at getoncedata.pl line 16.\nsyntax error at getoncedata.pl line 18, near \"}\"\n</code></pre>\n\n<p>I research the error for global symbol and they said to use my for that error.\nI did put \"my\" for global symbol @array</p>\n\n<p>Background information:\nMake a function to check every array on each line which has element that appear once.\nI made a code to open the file and in each line i accessed the line as an argument and call the function</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506052007, "post_id": 46355153, "comment_id": 79672821, "body": "(1) Either <code>$array_reference = [ ... ]</code> or <code>@array = ( ... )</code> (2) A hash value is a scalar, so you need <code>$</code> in front and must assign a <i>reference</i> of an array to it (which is a scalar). Thus: <code>$hash{&#39;1&#39;} = $array_reference</code> or <code>$hash{&#39;1&#39;} = \\@array</code>, where \\ takes a reference, here of an array  (3) De-reference that array reference to get an array <code>@TempArray = @{ $hash{&#39;1&#39;} }</code>.  Finally:  This site is not a good place to go to for getting basic tutorials and this kind of a question is blatantly off-topic."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 6519189, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-Wo26SMojn-8/AAAAAAAAAAI/AAAAAAAAAAA/evsTmW7svIg/photo.jpg?sz=128", "display_name": "Emerson Soares", "link": "https://stackoverflow.com/users/6519189/emerson-soares"}, "edited": false, "score": 0, "creation_date": 1506089671, "post_id": 46356579, "comment_id": 79693234, "body": "It seems the line below is getting the array size instead the array elements: (it is in the line 13: ` my @TempArray = @{ $Hash{&#39;1&#39;} };`  #Can&#39;t use string (&quot;8&quot;) as an ARRAY ref while &quot;strict refs&quot; in use at /bkp_local/MyCodes/chess/test.pl line 13."}, {"owner": {"reputation": 31, "user_id": 5407901, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NYjnlMTWReE/AAAAAAAAAAI/AAAAAAAAAJk/B6oMobLS04k/photo.jpg?sz=128", "display_name": "goodind1", "link": "https://stackoverflow.com/users/5407901/goodind1"}, "reply_to_user": {"reputation": 19, "user_id": 6519189, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-Wo26SMojn-8/AAAAAAAAAAI/AAAAAAAAAAA/evsTmW7svIg/photo.jpg?sz=128", "display_name": "Emerson Soares", "link": "https://stackoverflow.com/users/6519189/emerson-soares"}, "edited": false, "score": 0, "creation_date": 1506094703, "post_id": 46356579, "comment_id": 79696389, "body": "Without seeing the rest of your code, it would seem that you have the value of $Hash{&#39;1&#39;} as a string and not an array reference of strings. You may be missing square brackets somewhere."}], "tags": [], "owner": {"reputation": 31, "user_id": 5407901, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NYjnlMTWReE/AAAAAAAAAAI/AAAAAAAAAJk/B6oMobLS04k/photo.jpg?sz=128", "display_name": "goodind1", "link": "https://stackoverflow.com/users/5407901/goodind1"}, "is_accepted": false, "score": 3, "last_activity_date": 1506054521, "last_edit_date": 1506054521, "creation_date": 1506052495, "answer_id": 46356579, "question_id": 46355153, "link": "https://stackoverflow.com/questions/46355153/perl-assign-array-to-hash-and-vice-versa/46356579#46356579", "title": "Perl assign array to hash and vice-versa", "body": "<p>By using square brackets for your lists, you've actually created an array reference, which is a scalar. Your assignments should thus be:</p>\n\n<pre><code>my $Array1 = ['01', '02', '03', '04', '09', '10', '11', '12']; \nmy $Array2 = ['05', '06', '07', '08', '03', '04', '09'];\n</code></pre>\n\n<p>etc.</p>\n\n<p>Next, when assigning these references as hash keys, you must use the $ sigil since you're referring to the hash value (a scalar) and not the hash itself.</p>\n\n<pre><code>$Hash{'1'} = $Array1; \n$Hash{'2'} = $Array2; \n</code></pre>\n\n<p>Now if you want to assign these references to array variables, you must dereference them:</p>\n\n<pre><code>my @TempArray = @{ $Hash{'1'} };\n</code></pre>\n\n<p>As for your list of operations/checks on these arrays:</p>\n\n<p><strong>Delete the first item:</strong></p>\n\n<pre><code>shift @TempArray;\n</code></pre>\n\n<p><strong>Check if a certain value is an element of the array:</strong></p>\n\n<pre><code>my $check = grep { $_ == $some_number } @TempArray;\n</code></pre>\n\n<p>(<code>$check</code> will be the number of matches returned, and thus will evaluate to false if you get zero matches);</p>\n\n<p><strong>Delete an specific element (index unknown) from the array:</strong></p>\n\n<p>Every occurrence of a certain value?</p>\n\n<pre><code>@TempArray = grep { $_ != $some_number } @TempArray;\n</code></pre>\n\n<p>A specific element (not necessarily first or last)? Need to know the offset.</p>\n\n<pre><code>splice @TempArray =&gt; $index;\n</code></pre>\n\n<p><strong>Check the length of the array:</strong></p>\n\n<pre><code>my $length = @TempArray;\n</code></pre>\n\n<p>(referring to an array in list context returns its length)</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1506067786, "creation_date": 1506067786, "answer_id": 46359887, "question_id": 46355153, "link": "https://stackoverflow.com/questions/46355153/perl-assign-array-to-hash-and-vice-versa/46359887#46359887", "title": "Perl assign array to hash and vice-versa", "body": "<blockquote>\n  <p>My set of arrays that will contain only integers</p>\n</blockquote>\n\n<p>Actually, your arrays contain strings :-)</p>\n\n<blockquote>\n<pre><code>my @Array1 = ['01', '02', '03', '04', '09', '10', '11', '12']; \n</code></pre>\n</blockquote>\n\n<p>Here's your first serious error. Arrays are initialised from <strong>lists</strong> - so you need round brackets, <code>(...)</code>, not square brackets, <code>[...]</code>.</p>\n\n<p>You wanted this:</p>\n\n<pre><code>my @Array1 = ('01', '02', '03', '04', '09', '10', '11', '12'); \n</code></pre>\n\n<p>Alternatively, you could use your original square brackets. But they give you an array <strong>reference</strong>. A reference is a scalar value, so you store it in a scalar variable.</p>\n\n<pre><code>my $Array1_ref = ['01', '02', '03', '04', '09', '10', '11', '12']; \n</code></pre>\n\n<blockquote>\n  <p>My hash with keys identified by integers (Is it possible?)</p>\n</blockquote>\n\n<p>Well, the keys of a hash are always strings. But that's ok. Perl will seamlessly convert integers to strings. And it's not necessary here because you're actually using strings (<code>'1'</code>), not integers (<code>1</code>).</p>\n\n<blockquote>\n<pre><code>%Hash{'1'} = @Array1; \n</code></pre>\n</blockquote>\n\n<p>A couple of errors here. The values in a hash are scalars. So you access them using a scalar sigil (<code>$</code>, not <code>%</code>). And, of course, an array isn't  a scalar so you can't store it in a hash value. You can, however, store an array <strong>reference</strong> in a hash value (as references are scalar values.</p>\n\n<pre><code>$Hash{'1'} = \\@Array1; # use \\ to get a reference\n</code></pre>\n\n<p>Alternatively, if you stuck with the <code>[...]</code> version and stored your array reference in <code>$Array_ref</code>, then you can do:</p>\n\n<pre><code>$Hash{'1'} = $Array_ref;\n</code></pre>\n\n<blockquote>\n  <p>Assign a hash key value to a temporary array</p>\n</blockquote>\n\n<p>The value in your hash is a reference to your array. So you need to <strong>dereference</strong> it before storing it in an array variable.</p>\n\n<pre><code>@Temp_Array = @{ $Hash{'1'} };\n</code></pre>\n\n<blockquote>\n  <p>Delete the first element/item of the temporary array, let's say the numnber \"01\"'</p>\n</blockquote>\n\n<pre><code>shift @Temp_Array;\n</code></pre>\n\n<blockquote>\n  <p>Check if the array has a especifc value, let's say numbers 03 and 09</p>\n</blockquote>\n\n<pre><code>if (grep { $_ eq '03' } @Temp_Array) {\n  say \"03 is in the array\";\n}\n</code></pre>\n\n<blockquote>\n  <p>Delete especific values from the array, let's say the numnbers 03 and 09</p>\n</blockquote>\n\n<pre><code>@Temp_Array = grep { $_ ne '03' and $_ ne '09' } @Temp_Array;\n</code></pre>\n\n<blockquote>\n  <p>Check how many elements/items exist in the array</p>\n</blockquote>\n\n<p>Simply evaluate the array in a scalar expression.</p>\n\n<pre><code>$num_of_elements = @Temp_Array;\n</code></pre>\n\n<blockquote>\n  <p>then assign the value back to the hash</p>\n</blockquote>\n\n<p>Once again, you need to take a <strong>reference</strong> to the array.</p>\n\n<pre><code>$Hash{'1'} = \\@Temp_Array\n</code></pre>\n\n<p>It's worth pointing out that you don't need to copy the array to a temporary array variable in order to manipulate it. Anywhere that I have used <code>@Temp_Array</code> in the examples above, you can replace it with <code>@{ $Hash{'1'} }</code> and you will be manipulating the array inside the hash directly.</p>\n\n<pre><code>shift @{ $Hash{'1'} }; # for example\n</code></pre>\n\n<blockquote>\n  <p>I have found many posts that are not helping so much, as they don't talk about long arrays.</p>\n</blockquote>\n\n<p>That's probably because long arrays and short arrays (and middle-sized arrays) are all handled in exactly the same way in Perl.</p>\n"}], "owner": {"reputation": 19, "user_id": 6519189, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-Wo26SMojn-8/AAAAAAAAAAI/AAAAAAAAAAA/evsTmW7svIg/photo.jpg?sz=128", "display_name": "Emerson Soares", "link": "https://stackoverflow.com/users/6519189/emerson-soares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1506067786, "creation_date": 1506040430, "last_edit_date": 1506040728, "question_id": 46355153, "link": "https://stackoverflow.com/questions/46355153/perl-assign-array-to-hash-and-vice-versa", "title": "Perl assign array to hash and vice-versa", "body": "<p>I would like to get your help to figure out how to add a long array to a hash key value, how to assign the key value to a temporay array from where the data will be manipulated, than assign the array (or what I have left) back to the same hash key.\nA sample of what I am looking for is below:</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\n\nuse warnings FATAL =&gt; 'all';\n</code></pre>\n\n<p><strong>My set of arrays that will contain only integers</strong> </p>\n\n<pre><code>my @Array1 = ['01', '02', '03', '04', '09', '10', '11', '12']; \nmy @Array2 = ['05', '06', '07', '08', '03', '04', '09']; \nmy @Array3 = ['09', '10', '11', '12', '02', '03', , '07', '08' ]; \nmy @ArrayN = ['N', 'N', 'N', 'N'];\n</code></pre>\n\n<p><strong>My hash with keys identified by integers (Is it possible?)</strong> </p>\n\n<pre><code>my %Hash;\n</code></pre>\n\n<p><strong>Assigning arrays to key values;</strong> </p>\n\n<pre><code>%Hash{'1'} = @Array1 (or $Array1); \n%Hash{'2'} = @Array2 (or $Array2); \n%Hash{'3'} = @Array3 (or $Array3);\n%Hash{'N'} = @ArrayN (or $ArrayN);\n</code></pre>\n\n<p><strong>Assign a hash key value to a temporary array</strong> </p>\n\n<pre><code>my @TempArray = $Hash{'1'};\n</code></pre>\n\n<p><strong>Some process with the temporary array including:</strong></p>\n\n<ul>\n<li>(Delete the first element/item of the temporary array, let's say the\nnumnber \"01\"');</li>\n<li>(Check if the array has a especifc value, let's say numbers 03 and\n09);</li>\n<li>(Delete especific values from the array, let's say the\nnumnbers 03 and 09');</li>\n<li>(Check how many elements/items exist in the array);</li>\n</ul>\n\n<p><strong>than assign the value back to the hash</strong> </p>\n\n<pre><code>%Hash{'1'} = @TempArray;\n</code></pre>\n\n<p>I have found many posts that are not helping so much, as they don't talk about long arrays.</p>\n"}, {"tags": ["perl", "curl", "www-mechanize", "net-http", "transfer-encoding"], "comments": [{"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1506033234, "post_id": 46353940, "comment_id": 79668266, "body": "Could you include your versions of WWW::Mechanize, LWP::UserAgent and Net::HTTP?"}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1506033350, "post_id": 46353940, "comment_id": 79668298, "body": "Also, is the server emitting broken JSON or did the trailing curly bracket get lost in the copy/paste?"}, {"owner": {"reputation": 33, "user_id": 8651725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12288335f810518ad560d32692eba0c8?s=128&d=identicon&r=PG&f=1", "display_name": "Athithyaa", "link": "https://stackoverflow.com/users/8651725/athithyaa"}, "reply_to_user": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1506033625, "post_id": 46353940, "comment_id": 79668381, "body": "@oalders I have updates the post with versions. The broken JSON was my mistake. The server actually gives valid JSONs"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506046266, "post_id": 46353940, "comment_id": 79671462, "body": "Re &quot;<i>I think The problem happens when the response headers have Transfer-Encoding: chunked but the content in fact is not chunked encoded.</i>&quot;, You make it sound like you think getting an error message for bad data is a problem.  I hope you meant &quot;<i>I think the problem is that the response headers have Transfer-Encoding: chunked but the content in fact is not chunked encoded.</i>&quot; For us to confirm that, you will need to provide us the output of <code>curl -s --raw -D - http:&#47;&#47;...</code>. (The output without the command is useless. The output without <code>--raw</code> is useless.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506051410, "post_id": 46353940, "comment_id": 79672682, "body": "Why is <code>Transfer-Encoding: chunked</code> appearing twice?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506051443, "post_id": 46353940, "comment_id": 79672687, "body": "I tried to reproduce by placing your <code>curl</code> output in <code>response.html</code> (with <code>45c</code> replaced with <code>159</code>), then running <code>nc -l 8888 &lt;response.html</code> in one terminal and <code>perl -MLWP::UserAgent -e&#39;print LWP::UserAgent-&gt;new-&gt;get($ARGV[0])-&gt;as_string;&#39; &#39;http:&#47;&#47;localhost:8888&#47;&#39;</code> in another. Not able to reproduce. Do you get the error you do the same?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1506051511, "post_id": 46353940, "comment_id": 79672702, "body": "@Athithyaa: can you provide a packet capture? It might be that the server is inserting some spaces somewhere where they don&#39;t belong or uses <code>\\n</code> instead of <code>\\r\\n</code> - i.e. things which are not visible in the output of <code>--raw</code> you gave?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1506051558, "post_id": 46353940, "comment_id": 79672710, "body": "@Steffen Ullrich, I checked, but Net::HTTP doesn&#39;t care if <code>\\r</code> is missing. In fact, the test I described above used just <code>\\n</code> instead of <code>\\r\\n</code>."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506052078, "post_id": 46353940, "comment_id": 79672835, "body": "@ikegami: As you&#39;ve already realized with <code>45c</code> instead of <code>192</code> - it looks like that the OP gives an edited version of the actual output or that there is lots of white space which is not visible. To reproduce one would need to have what exactly is send on the wire and not some approximation. And it is needed from the failed connection and not from the successful."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1506052410, "post_id": 46353940, "comment_id": 79672928, "body": "@Steffen Ullrich, Re &quot;<i>looks like that the OP gives an edited version of the actual output</i>&quot;, They&#39;ve said as much in the last paragraph. /// Re &quot;<i>To reproduce one would need to have what exactly is send on the wire and not some approximation.</i>&quot; Yes and no. But an accurate view would be preferable. If there is an edit, it should not affect length at all. What they could do is use the <code>nc</code> setup I mentioned above, make their edits, and make sure the problem still happens after the edits, then post that.,"}, {"owner": {"reputation": 33, "user_id": 8651725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12288335f810518ad560d32692eba0c8?s=128&d=identicon&r=PG&f=1", "display_name": "Athithyaa", "link": "https://stackoverflow.com/users/8651725/athithyaa"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506052558, "post_id": 46353940, "comment_id": 79672966, "body": "@ikegami I tried the method you suggested. It seems to work with the original as well the one you changed. But as Steffen is suggesting, there might be issues with the original failed connection."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1506052641, "post_id": 46353940, "comment_id": 79672980, "body": "@Athithyaa, That&#39;s too bad. There not much we can do if you can&#39;t demonstrate the problem."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1506099964, "post_id": 46353940, "comment_id": 79699169, "body": "@Athithyaa: I think you can remove the tcpdump to clean up the question. This is not of much help but the URL you&#39;ve provided was really useful to reproduce the issue and to find the cause of the problem."}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 3, "last_activity_date": 1506100184, "last_edit_date": 1506100184, "creation_date": 1506099322, "answer_id": 46369691, "question_id": 46353940, "link": "https://stackoverflow.com/questions/46353940/bad-chunk-size-in-http-response-net-http-methods-pm-line-542/46369691#46369691", "title": "Bad chunk-size in HTTP response: Net/HTTP/Methods.pm line 542", "body": "<p>That's a bug in the server or (more likely) a bug in the application running on the server. If one is sending the following request:</p>\n\n<pre><code>GET /some-path HTTP/1.1\nHost: some-host\n</code></pre>\n\n<p>The server is responding with a correct chunked response. Interestingly the <code>Transfer-Encoding: chunked</code> header is sent twice - one at the beginning of the HTTP header and one at the end:</p>\n\n<pre><code>HTTP/1.1 200 OK\nSet-Cookie: ...\nX-Frame-Options: DENY\nTransfer-Encoding: chunked\n...\nContent-Type: application/json;charset=UTF-8\nTransfer-Encoding: chunked\n\n45c\n{\n</code></pre>\n\n<p>Now, when sending a slightly changed request with an added <code>Connection: close</code> header the response looks different:</p>\n\n<pre><code>GET /some-path HTTP/1.1\nHost: some-host\nConnection: close\n\n----\n\nHTTP/1.1 200 OK\nSet-Cookie: ...\nX-Frame-Options: DENY\nTransfer-Encoding: chunked\n...\nContent-Type: application/json;charset=UTF-8\n\n{\n</code></pre>\n\n<p>The leading <code>Transfer-Encoding: chunked</code> is still there but the last one is no longer there. <strong>And the response body is not chunked anymore, even though there is still a <code>Transfer-Encoding: chunked</code> in the response header!</strong> . </p>\n\n<p>This is whats is happening with LWP contrary to curl: LWP is sending a <code>Connection: TE, close</code> header while curl is not sending a <code>Connection</code> header. This means LWP is getting the broken response and is complaining correctly while curl does not get the broken response and thus has no reason to complain. But, if you explicitly add a <code>Connection: close</code> header to curl it will run into the same problem:</p>\n\n<pre><code> $ curl -H 'Connection:close' https://...\n curl: (56) Illegal or missing hexadecimal sequence in chunked-encoding\n</code></pre>\n\n<p>Further tests show that the leading <code>Transfer-Encoding: chunked</code> header is also sent if the client is doing a HTTP/1.0 request! This should not happen at all because chunked is only defined with HTTP/1.1.</p>\n\n<p>This suggests that some part of the web application running on the server and not the web server itself is issuing the first <code>Transfer-Encoding: chunked</code> header. Thus, if you have access to the application or to the developer of the application you should fix it there.</p>\n"}], "owner": {"reputation": 33, "user_id": 8651725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12288335f810518ad560d32692eba0c8?s=128&d=identicon&r=PG&f=1", "display_name": "Athithyaa", "link": "https://stackoverflow.com/users/8651725/athithyaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2456, "favorite_count": 0, "accepted_answer_id": 46369691, "answer_count": 1, "score": 3, "last_activity_date": 1506100184, "creation_date": 1506032029, "last_edit_date": 1506097603, "question_id": 46353940, "link": "https://stackoverflow.com/questions/46353940/bad-chunk-size-in-http-response-net-http-methods-pm-line-542", "title": "Bad chunk-size in HTTP response: Net/HTTP/Methods.pm line 542", "body": "<p>Questions that pose a similar problem:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24537420/issues-with-lwp-when-using-http-1-1-bad-chunk-size-truncated-responses\">Issues with LWP when using HTTP/1.1: bad chunk-size, truncated responses</a>.</p>\n\n<hr>\n\n<p>I am using the Perl module <a href=\"http://search.cpan.org/~oalders/WWW-Mechanize-1.86/lib/WWW/Mechanize.pm\" rel=\"nofollow noreferrer\">WWW::Mechanize</a> to scrape web sites. As far as I understand, WWW::Mechanize uses the Net::HTTP module to implement the HTTP protocol. </p>\n\n<p>Here is the issue:</p>\n\n<pre><code>my $url = 'https://somewebsite.com/a/b/c?skey=svalue';\nmy $browser = WWW::Mechanize-&gt;new();\n$browser-&gt;get($url);\n</code></pre>\n\n<p>When I execute the above snippet (assuming all imports are in place), I get an <strong>empty response content</strong> with the following error in response header inside the response object of WWW:Mechanize:</p>\n\n<pre><code>'x-died' = \"Bad chunk-size in HTTP response: { at path/ to/perl/vendor/lib/Net/HTTP/Methods.pm line 542.\"\n</code></pre>\n\n<p>Notice the '{' in the exception message. I then tried to debug the Methods.pm module to see what was going on and it looks like the exception happens inside the <strong>read_entity_body</strong> subroutine.</p>\n\n<p>I also did a <strong>curl</strong> for the url that I have and got the following response headers:</p>\n\n<pre><code>&lt; HTTP/1.1 200 OK\n&lt; Set-Cookie: JSESSIONID=C61B57BA5DD0A05912C98CE1CFBAD435; Path=/; HttpOnly\n&lt; X-Frame-Options: DENY\n&lt; Transfer-Encoding: chunked\n&lt; Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n&lt; Server: Apache-Coyote/1.1\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n&lt; X-Content-Type-Options: nosniff\n&lt; Content-Disposition: attachment;filename=f.txt\n&lt; Pragma: no-cache\n&lt; Expires: 0\n&lt; X-XSS-Protection: 1; mode=block\n&lt; Date: Thu, 21 Sep 2017 18:31:27 GMT\n&lt; Content-Type: application/json;charset=UTF-8\n&lt; Transfer-Encoding: chunked\n</code></pre>\n\n<p>and with the following content:</p>\n\n<pre><code>{\n  \"total\" : 1,\n  \"page\" : 1,\n  \"records\" : 1,\n  \"rows\" : [ {\n    \"infoPostRptId\" : 2,\n    \"mngPplId\" : 1,\n    \"infoPostRptXsdId\" : 1,\n    \"rptFmtCode\" : \"XML\",\n    \"createUserId\" : 5183202,\n    \"updateUserId\" : 1,\n    \"statusId\" : 309403,\n    \"seqNbr\" : 0,\n    \"urlAnchor\" : null,\n  } ],\n  \"errors\" : null\n}\n* Connection #0 to host xxxxxxx left intact\n</code></pre>\n\n<p>If I am not wrong, it looks like the content that came through from the website is not actually chunk encoded though the headers mention the <strong>transfer-encoding</strong> to be <strong>chunked</strong>. </p>\n\n<p>More information regarding the Methods.pm module:</p>\n\n<p>From what I understand, the <strong>read_entity_body</strong> subroutine tries to decode and combines the chunks to form the response content. </p>\n\n<p>I think the problem is that the response headers have Transfer-Encoding: chunked but the content in fact is not chunked encoded. </p>\n\n<p>Any help is highly appreciated. Thanks.</p>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p>Versions:</p>\n\n<p>WWW:Mechanize: <strong>1.83</strong>, LWP:UserAgent: <strong>6.15</strong> and Net::HTTP: <strong>6.12</strong></p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>Output of <code>curl -s --raw -D - \"https://....\"</code>:</p>\n\n<pre><code>HTTP/1.1 200 OK\nSet-Cookie: JSESSIONID=A29B1E0F561F1E4FBAF12583C0C2DE08; Path=/; HttpOnly\nX-Frame-Options: DENY\nTransfer-Encoding: chunked\nStrict-Transport-Security: max-age=31536000 ; includeSubDomains\nServer: Apache-Coyote/1.1\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nX-Content-Type-Options: nosniff\nContent-Disposition: attachment;filename=f.txt\nPragma: no-cache\nExpires: 0\nX-XSS-Protection: 1; mode=block\nDate: Fri, 22 Sep 2017 02:36:51 GMT\nContent-Type: application/json;charset=UTF-8\nTransfer-Encoding: chunked\n\n45c\n{\n  \"total\" : 1,\n  \"page\" : 1,\n  \"records\" : 1,\n  \"rows\" : [ {\n        \"infoPostRptId\" : 2,\n        \"mngPplId\" : 1,\n        \"infoPostRptXsdId\" : 1,\n        \"rptFmtCode\" : \"XML\",\n        \"createUserId\" : 5183202,\n        \"updateUserId\" : 1,\n        \"statusId\" : 309403,\n        \"seqNbr\" : 0,\n        \"urlAnchor\" : null,\n  } ],\n  \"errors\" : null\n}\n0\n</code></pre>\n\n<p>Like the previous JSON content, I have removed/altered some values just to anonymize data. </p>\n\n<p><strong>EDIT 3:</strong> \n  This is what I get when I execute the following command:</p>\n\n<pre><code> perl -MLWP::UserAgent -e'print LWP::UserAgent-&gt;new-&gt;get($ARGV[0])-&gt;as_string' 'https://......'\n\n  HTTP/1.1 200 OK\n  Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n  Connection: close\n  Date: Fri, 22 Sep 2017 04:15:06 GMT\n  Pragma: no-cache\n  Server: Apache-Coyote/1.1\n  Content-Type: application/json;charset=UTF-8\n  Expires: 0\n  Client-Aborted: die\n  Client-Date: Fri, 22 Sep 2017 04:15:06 GMT\n  Client-Peer: 67.221.172.5:443\n  Client-Response-Num: 1\n  Client-SSL-Cert-Issuer: /C=US/ST=Arizona/L=Scottsdale/O=GoDaddy.com, Inc./OU=http://certs.godaddy.com/repository//CN=Go Daddy Secure Certificate Authority - G2\n  Client-SSL-Cert-Subject: /OU=Domain Control Validated/CN=*.trellisenergy.com\n  Client-SSL-Cipher: ECDHE-RSA-AES128-SHA256\n  Client-SSL-Socket-Class: IO::Socket::SSL\n  Client-Transfer-Encoding: chunked\n  Content-Disposition: attachment;filename=f.txt\n  Set-Cookie: JSESSIONID=5CAC35648DBBE25E3229DE9BF21C3794; Path=/; HttpOnly\n  Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n  X-Content-Type-Options: nosniff\n  X-Died: Bad chunk-size in HTTP response: { at /usr/local/share/perl5/Net/HTTP/Methods.pm line 544.\n  X-Frame-Options: DENY\n  X-XSS-Protection: 1; mode=block\n</code></pre>\n\n<p><strong>EDIT 4:</strong> TCP Dump:</p>\n\n<p>Did the following command in one terminal window:  </p>\n\n<pre><code>perl -MLWP::UserAgent -e'print LWP::UserAgent-&gt;new-&gt;get($ARGV[0])-&gt;as_string' 'https://vgs.trellisenergy.com/ptms/public/infopost/getInfoPostRpts.do?tspId=1&amp;proxyTspId=1&amp;rptId=2&amp;downloadInd=0&amp;searchInd=0&amp;showLatestInd=0&amp;cycleId=10303&amp;startDate=09/20/2017&amp;endDate=09/20/2017&amp;_search=false&amp;nd=1505846852955&amp;rows=10&amp;page=1&amp;sidx=&amp;sord=asc&amp;_=1505846826289'\n</code></pre>\n\n<p>And the following in another:</p>\n\n<pre><code>tcpdump -w tcpdump.pcap -A -s0 -e -n -vvv -i eth0 host vgs.trellisenergy.com\n</code></pre>\n\n<p>Pretty print tcpdump using:</p>\n\n<pre><code>tcpick -C -yP -r tcpdump.pcap\n</code></pre>\n\n<p>TCP Dump:</p>\n\n<pre><code>Starting tcpick 0.2.1 at 2017-09-22 10:24 MDT\nTimeout for connections is 600\ntcpick: reading from tcpdump.pcap\n1      SYN-SENT       10.1.1.10:24876 &gt; 67.221.172.5:https\n1      SYN-RECEIVED   10.1.1.10:24876 &gt; 67.221.172.5:https\n1      ESTABLISHED    10.1.1.10:24876 &gt; 67.221.172.5:https\n...........Y.8..*m.i.'ZZP*....1...d\n.._.$.^....0.,.(.$...\n.....k.j.9.8.....2...*.&amp;.......=.5.../.+.'.#... .....g.@.3.2.....E.D.1.-.).%.......&lt;./...A.........\n..................._.........vgs.trellisenergy.com.........\n. .....................................\n.....0..1.0.......U....US1.0...U....Arizona1.0...U...............&gt;.s].s.a^.\nScottsdale1.0...U.\n..........0..0A1!0...U....Domain Control Validated1.0...U....*.trellisenergy.com0..\"0 Secure Certificate Authority - G20..\nh@s0.*$.H.4./..E8.m.V......'!..f...!tY'.(..`......... ...E.)Tz..z2.%..KEi....Dd.....s....JW_.Y  ..8..6..Y ........i.r............\"...a.\nLI1V    6t....C.....20uB'..#:...n..(-...(..P..M..O...p.3L.].@A.........0...0...U.......0.0...U.%..0...+.........+.......0...U...........07..U...00.0,.*.(.&amp;http://crl.godaddy.com/gdig2s1-337.crl0]..U. .V0T0H..`.H...m....0907..+........+http://certificates.godaddy.com/repository/0...g.....0v..+........j0h0$..+.....0...http://ocsp.godaddy.com/0@..+.....0..4http://certificates.godaddy.com/repository/gdig2.crt0...U.#..0...@..'..4.0.3..l...,..01..U...*0(..*.trellisenergy.com............z...;^..'.@.l..,Cj...N.LY.S.......~p...k.. ...Y..S}.\\}o.......(.\n.....H..SG.D.vy}...qM(.0LT.C.....R.......y...   Y.....wz.s4..Q.t...u...].8.|..q..+.&gt;5...?..`z.X2. .{.%..[ 7.. r...y.yjY..h]...0I.$..x,O....h......n.b.....c.&lt;.....X.Gi.P.vTM.d.B.\n.....0..1.0...a...U....US1.0...U....Arizona1.0...U...\nScottsdale1.0...U.\n310503070000Z0..1.0110/...U....US1.0...U....Arizona1.0...U...rity - G20..\nScottsdale1.0...U.\n..........0.., Inc.1-0+..U...$http://certs.godaddy.com/repository/1301..U...*Go Daddy Secure Certificate Authority - G20..\"0\n...........v...b.0d...l...b../.&gt;e...b.&lt;R...EKU.xkc.b...il.....L.E3......+..a.yW....?0&lt;]G.....7.AQ..KT.(.....08...&amp;.fGcm.q&amp;G.8GS.F......E...q..o....0:yO_LG...[...`;..C...3N...'O.%........t.dW..DU.-*:&gt;....2\n..d..:P.J..y3.. .....9.i.lcR.w...t.....PT5KiN.;.I.....R..........0...0...U.......0....0...U...........0...U......@..'..4.0.3..l...,..0...U.#..0...:....g(.....An .....04..+........(0&amp;0$..+.....0...http://ocsp.godaddy.com/05..U....0,0*.(.&amp;.......`..r.s$...\"....bXD...%......b.Q...Q*...s.v.6....,....*...Mu..?.A.#}[K...X.F..``..}PA......../..T.D..}.C.D..p\n...3..-v6&amp;.....a....o.F.(..&amp;}\n.....0..1.0.......U....US1.0...U....Arizona1.0...U...\nScottsdale1.0...U.\n09GoDaddy.com, Inc.110/..U...(Go Daddy Root Certificate Authority - G20..\n371231235959Z0..1.0     ..U....US1.0...U....Arizona1.0...U...\nScottsdale1.0...U.\n..........0.., Inc.110/..U...(Go Daddy Root Certificate Authority - G20..\"0\n..f\"..im6.......`.8......F.. C.;....I.'....N...p..2...&gt;.N...O/Y0\"...Vk......u.9Q{..5.tN......?........j..............;F|2\n&gt;.]|.|..+S..biQ%.a.D..,.C.#..:...)....]....0\n............]y...Yg.a.~;.1u-. .Oe......../..Z..t.s.8B..{..u...........S.~.F.....+....'....Z.7....l....=.$Oy.5._.......-.......s@.r%......h..W...:       ..D...7...2..8..d.,~........h..\".8-z..T.i._3.z={\n.8.. 'e...]p-..N.(F...6.....(....k.Q......8k...v...v...(...=!.:...;.L.....K./.....D....xH .Zi.&lt;!.}i. t.c.!yWY..c.I......?.._.e......\"...v.'8Qq.d].......O(8._M....%........]:LU....]l.  .....\n............iA...~....C5...k.43... .F6. .\\!....X......bJ.e..@.....[.uO.&amp;..-....7.O. .......g2..R.b....H7.........G.....%u1.....8$.u..O....za..T..........P...V2.;.......j.L.Px;..-....&amp;.......H...yQ,n.s..&lt;KFx#...2..K.G..n4OG{N.5.6../...\n......\n....PU.T....A.d...*.iw..        c.Wjm.V\\. ..vP.Z%......v...k......l...b7.|.u..c.=:....$.3K..\n........v.{u...`..+.qU. .'.t.g....V......1..P.g..aO....nY..C..F...4x.d...Y....|3..Pz;.K.~]...H..;...PIR..hRv...)].=?.:..[...h...A.. /4..d.......C`....]LZK.Y..q......Q.L.R..D&amp;...l..t..I.j2....8...y.L..).y.n..).u|..'.....z ..,Yg..md.\"i.......M.74x...3..N.b.6..tm.).u...|-.xK.9R..M,......!....}..[=B.J......     ...~Gx.8p.5.UQ........sJ\n...w..Xf.#^..,..G.w.f4.V..'..Bb_..*e.i......P1.\nU6!.l..%...ts. u!c5.0&gt;.!.2J.G)p.W.........dF*5.....5..M.        .....G+.....I..vG&amp;..&gt;.}(....E.  ...9...N.i..Jm&amp;b...G...3Wo#k.........e:..p........:w....V.L'9.-..)......d.P_....#..iide@.2..E&gt;.?|..:....B.,mr...N.JAS1]:...O.......i..c..T.pZZ)..E.\"\\b.r2HA..r!....L........K....~1.....x!.Gp.K..G..D*s.u....WN.?..(+..rU..g?d.....eG.L.^...*..a...]/...N0.gX..;...T...%...;.P?.O4{.i.....%.T.|..\n...U..Ug......d...a3:$...p...v..t.\"...\n.......%..J`E....5....n..M....&gt;...ge.r.,...s..,..       k..R.N._&gt;3}...=.0...........T.d..       ...u 7?T...3b.?.lr...8o.Gk.}xkBY[...l..^.-.Wt}..G/..l.f..z..^F.A.G.i8l4.....#.a.....BS.c.Q7..=y...{ELUP.R..c.{...a9.u3..-@F.H..M..2.o.j@.pI..S....R  ..vx.u.&lt;-x..\".T.d-...:...&gt;......n..Z|..?Dz@N..?...#.../.....2.Z..y..Ej..........Q.....'8.....nC..7.....)e..7r..[..H...R.....h...x7G.+.......eBErwo.r....,..e*.8O..oQ. `O.@.J#...5).9.....!d.u....,...pV..oS...%.o..F..G.7....I...N...s .G..G@.\".w6d......R..j\n..........G.D..l....0..EH.Y..4.e.\\#~s.i.-WKoyK...w.'.o.X-.,x.......4......T.*.&gt;#..\n..G(wP.V.i...F.U...t...-.\\.!...Y4,...._............7..|&lt;DM3.&amp;u.%.0..G.......9....\n.....Y......55ZW..X......Tz..D...r.6$..B...Wv..R..8..\"../dL..-...i^o..&gt;:..O...s.W.).i....gOH...@.....8k.......Q........#.....#.R..^.....f.......x^X....^S.R..u.7.._..T]A'/4&gt;k\\..Lg....H...J....o&gt;.2 ......$.......PP..#..=.E..;2..&gt;k...`...9..&gt;*.....N...4........(...a....n....)w.I.@O+.(.cV..g.....%G..^.Z#.'EG...]..$_...!e...%.;VG.7.5.&amp;...C........s4..1....t[\n1      FIN-WAIT-1     10.1.1.10:24876 &gt; 67.221.172.5:https\n1      TIME-WAIT      10.1.1.10:24876 &gt; 67.221.172.5:https\n1      CLOSED         10.1.1.10:24876 &gt; 67.221.172.5:https\ntcpick: done reading from tcpdump.pcap\n\n22 packets captured\n1 tcp sessions detected\n</code></pre>\n"}, {"tags": ["regex", "perl", "validation", "debugging", "pcre"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1506029538, "post_id": 46353415, "comment_id": 79667065, "body": "This bit looks dubious: <code>version\\(.+?\\);</code> \u2013 the parens could include an element and the garbage. Consider restricting the contents, e.g. to <code>[^)]+</code>."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1506029699, "post_id": 46353415, "comment_id": 79667123, "body": "That seems to fix it... but how??? a non-greedy match should stop as soon as it is satisfied!"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1506029796, "post_id": 46353415, "comment_id": 79667167, "body": "Also why would this match in perl, but not on the regex testing website using &quot;PCRE&quot; as the regex type? They should function identically shouldn&#39;t they?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506029800, "post_id": 46353415, "comment_id": 79667171, "body": "A very cool regex, no question, and regex is a great tool, no question ... but I can&#39;t help it but saying: this is hard while it can be avoided, by using tools that handle those nested/balanced delimiters.  (The exact point of <a href=\"https://stackoverflow.com/a/46121634/4653379\">this answer</a> in your previous question.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1506030065, "post_id": 46353415, "comment_id": 79667268, "body": "Tip:  It&#39;s never an engine/language/compiler bug; it&#39;s always a user bug.  Well ... unless ... but that one&#39;s the last thing on a long, long list of possible causes of behavior. (I&#39;d re-consider a title like that; are you really sure?)"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1506030194, "post_id": 46353415, "comment_id": 79667330, "body": "Well either perl is broken or regex101.com is broken because they disagree."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1506030276, "post_id": 46353415, "comment_id": 79667352, "body": "Consider the regex <code>&#47;a(.*?)xyz&#47;</code>. The non-greedy match in the capture does not mean the matching will stop at the first <code>&#39;x&#39;</code>, it means it will stop at the first <code>&#39;x&#39;</code> followed by <code>&#39;yz&#39;</code>.  Similarly, in your regex <code>\\(.+?\\)</code> the <code>.+?</code> can include matched <code>)</code> characters, depending on what the regex says must follow."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1506030582, "post_id": 46353415, "comment_id": 79667454, "body": "PCRE and Perl have entirely different regex engines. They try to have fairly compatible syntax, but the more exotic features you use, the more differences you will see. Here, exact backtracking behaviour seems to be one difference."}], "answers": [{"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 3, "last_activity_date": 1506031406, "last_edit_date": 1506031406, "creation_date": 1506030376, "answer_id": 46353638, "question_id": 46353415, "link": "https://stackoverflow.com/questions/46353415/perl-regular-expression-engine-bug/46353638#46353638", "title": "Perl regular expression engine bug?", "body": "<p>A non-greedy match doesn't stop as soon as it's satisfied. It attempts continuing as soon as possible. If the rest of the regex fails to match, backtracking will still occur \u2013 but for a non-greedy quantifier, backtracking means matching more.</p>\n\n<p>One possibility to avoid this lies in backtracking control. For example, you might want to disallow backtracking once the <code>version</code> has initially matched. We can do this via the <code>(?&gt; ...)</code> construct. This matches the contained pattern independently from the outside patterns. If the rest of the pattern fails, backtracking will not continue into the contained pattern, but will skip over the whole contained pattern. Describing this is a bit difficult, please see <a href=\"http://perldoc.perl.org/perlre.html#(%3f%3epattern)\" rel=\"nofollow noreferrer\"><code>perldoc perlre</code></a> for details.</p>\n\n<p>Adding <code>+</code> to a quantifier (like <code>++</code>, <code>?+</code>, <code>*+</code>) has a similar effect to <code>(?&gt; ...)</code>. Preferring these no-backtracking quantifiers and <code>(?&gt;...)</code> groups is highly advisable in efficient regexes.</p>\n\n<p>Specifically, replace</p>\n\n<pre><code>(?&lt;valid_text&gt;\n    \\A\\s*(?&amp;version)\\s*\n    (?: (?&amp;element) \\s* )+\n    \\s*\\Z\n)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>(?&lt;valid_text&gt;\n    \\A\\s*(?&gt;(?&amp;version))\\s*\n    (?: (?&amp;element) \\s* )++\n    \\s*\\Z\n)\n</code></pre>\n\n<p>As another alternative, you can use the <code>(*PRUNE)</code> backtracking control verb. Once a PRUNE command is encountered, no backtracking past that point can occur. This commits the match to the alternatives chosen so far.</p>\n\n<pre><code>(?&lt;valid_text&gt;\n    \\A\\s*(?&amp;version)\\s* (*PRUNE)\n    (?: (?&amp;element) \\s* )+\n    \\s*\\Z\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1506032470, "post_id": 46353980, "comment_id": 79668022, "body": "The real text that I was trying to parse has text between the parenthesis in <code>version(&lt;some other text here&gt;)</code>. It appears I may have oversimplified things a bit with my example, but even with other text for that <code>.+?</code> to gobble up it still matches. Which I guess is the correct behavior although it is very confusing."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 1, "creation_date": 1506032589, "post_id": 46353980, "comment_id": 79668067, "body": "@tjwrona1992 Any time you have <code>.*</code> or <code>.+</code> in a regex, it&#39;s a potential bug. <code>.*</code> can and will skip over any text if that&#39;s what it takes to make the whole regex succeed (unless it&#39;s limited by a <code>(?&gt; )</code> group or a <code>(*PRUNE)</code> verb or similar). NB: Greediness doesn&#39;t affect whether or where a regex matches; it only affects the length of the match."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1506032639, "post_id": 46353980, "comment_id": 79668088, "body": "Makes sense, I was never aware of that so that&#39;s really good to know. I always thought making it non-greedy would make it stop there."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 4, "last_activity_date": 1506032289, "creation_date": 1506032289, "answer_id": 46353980, "question_id": 46353415, "link": "https://stackoverflow.com/questions/46353415/perl-regular-expression-engine-bug/46353980#46353980", "title": "Perl regular expression engine bug?", "body": "<p>From the PCRE documentation at <a href=\"http://www.pcre.org/current/doc/html/pcre2compat.html\" rel=\"nofollow noreferrer\">http://www.pcre.org/current/doc/html/pcre2compat.html</a>:</p>\n\n<blockquote>\n  <ol start=\"8\">\n  <li>Subroutine calls (whether recursive or not) were treated as atomic groups up to PCRE2 release 10.23, but from release 10.30 this changed, and backtracking into subroutine calls is now supported, as in Perl.</li>\n  </ol>\n</blockquote>\n\n<p>regex101 uses PHP to run PCRE. According to <a href=\"http://php.net/manual/en/pcre.installation.php\" rel=\"nofollow noreferrer\">http://php.net/manual/en/pcre.installation.php</a>, PHP only supports PCRE1 (the 8.x branch). Thus regex101 doesn't support backtracking into subroutine calls.</p>\n\n<p>... which is exactly what happens here:</p>\n\n<ul>\n<li>we go into <code>(?&amp;valid_text&gt;)</code> and try to match <code>\\A\\s*(?&amp;version)\\s*</code></li>\n<li><code>\\A</code> (beginning-of-string) and <code>\\s*</code> (optional whitespace) are simple</li>\n<li><code>(?&amp;version)</code> does <code>version\\(.+?\\);</code></li>\n<li><p>this matches the following part of the input:</p>\n\n<pre><code>version();\n\nelement\n(\n);\n</code></pre>\n\n<p><code>version(</code> is matched literally. The next character, <code>)</code>, is consumed by <code>.+?</code> (which requires at least one character to match). Then <code>.+?</code> slowly consumes more and more characters (it's non-greedy) until it reaches <code>);</code>. The first time this happens is after consuming <code>; element (</code>, so that's where we stop for now.</p></li>\n<li>the <code>(?&amp;version)</code> call returns</li>\n<li>we consume any following whitespace</li>\n<li>the next part is <code>(?: (?&amp;element) \\s* )+</code>, i.e. one or more element, each followed by optional whitespace</li>\n<li><code>(?&amp;element)</code> does <code>element\\s*</code>, i.e. it must start with <code>element</code></li>\n<li>our current position in the input is <code>garbage ...</code>, so this fails</li>\n</ul>\n\n<p>At this point the regex engine tries to backtrack. In PCRE &lt; 10.30, the only parts that can backtrack are <code>\\s*</code> (i.e. the \"optional whitespace\" bits), but matching fewer whitespace characters doesn't lead to a successful match either, so the whole thing fails quickly.</p>\n\n<p>However, in Perl we can backtrack into subroutine calls: We re-enter <code>(?&amp;version)</code> and let <code>.+?</code> match more characters (until the next occurrence of <code>);</code> is found), then retry <code>(?&amp;element)</code>. This eventually lets <code>(?&amp;version)</code> consume <code>garbage</code> and the following <code>element</code>, which in turn allows the whole regex to succeed.</p>\n\n<blockquote>\n  <p>Can somebody please tell me why this is matching when it shouldn't?</p>\n</blockquote>\n\n<p>I don't understand why you think it shouldn't match. :-)</p>\n\n<p>The only reason it doesn't match in PHP is a limitation in the older PCRE version it uses.</p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 1, "accepted_answer_id": 46353638, "answer_count": 2, "score": 3, "last_activity_date": 1506032511, "creation_date": 1506029239, "last_edit_date": 1506032511, "question_id": 46353415, "link": "https://stackoverflow.com/questions/46353415/perl-regular-expression-engine-bug", "title": "Perl regular expression engine bug?", "body": "<p>I have been trying to write a regular expression to validate a file to make sure that it follows a specific format. The file should have a <code>version();</code> line and then be followed by one or more <code>element();</code> blocks.</p>\n\n<p>Here is an example of a valid file:</p>\n\n<pre><code>version(1.0);\n\nelement\n(\n);\n\nelement\n(\n);\n\nelement\n(\n);\n</code></pre>\n\n<p>As a test I created the following Perl example:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $text = &lt;&lt;'END_TEXT';\nversion(1.0);\n\nelement\n(\n);\n\ngarbage &lt;--- THIS SHOULD NOT MATCH!\n\nelement\n(\n);\n\nelement\n(\n);\n\nEND_TEXT\n\nmy $rx_defs = qr{(?(DEFINE)\n    (?&lt;valid_text&gt;\n        \\A\\s*(?&amp;version)\\s*\n        (?: (?&amp;element) \\s* )+\n        \\s*\\Z\n    )\n    (?&lt;version&gt;\n        version\\(.+?\\);\n    )\n    (?&lt;element&gt;\n        element\\s*\n        (?&amp;element_body);\n    )\n    (?&lt;element_body&gt;\n        \\( (?: [^()]++ | (?&amp;element_body) )* \\)\n    )\n)}xms;\n\nif ($text =~ m/(?&amp;valid_text)$rx_defs/) {\n    print \"match\";\n}\n</code></pre>\n\n<p>As you can see, there is a line of \"garbage\" in the text that should make it not valid, but for some reason Perl still seems to think that this text is valid! When I run this code it produces the output:</p>\n\n<pre><code>match\n</code></pre>\n\n<p>I have spent hours trying to track down what is wrong with my regular expression, but I just don't see it. I even tested the exact regex using an <a href=\"https://regex101.com/r/Yjs9XT/1\" rel=\"nofollow noreferrer\">online regular expression tester</a> and according to the test my regular expression should be working fine! <em>(Try removing the line of \"garbage\" if you want to see that it does match correctly when the format is valid.)</em></p>\n\n<p>This has had me thoroughly stumped all day and is making me wonder whether there is a bug in the Perl regular expression engine itself. Can somebody please tell me why this is matching when it shouldn't?</p>\n\n<p>I am using perl v5.20.1</p>\n"}, {"tags": ["arrays", "perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 5, "creation_date": 1506028021, "post_id": 46352980, "comment_id": 79666450, "body": "You cannot &quot;<i>sort hash</i>&quot; -- they are intrinsically unordered.  But you <i>can</i> get a sorted list of keys, using <code>sort</code> on the list of hash&#39;s keys with any criteria you wish.  Then you have an <i>ordered</i> list of keys to iterate though so you can use your hash in a &quot;sorted manner.&quot; See <a href=\"https://stackoverflow.com/a/45338396/4653379\">this post</a> for sorting a similar hash, or <a href=\"https://stackoverflow.com/a/45928281/4653379\">this post</a> for a bit more involved sort with some comments.  There is a lot more out there."}, {"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506029068, "post_id": 46352980, "comment_id": 79666872, "body": "@zdim Thanks for your suggestions. I am trying that."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1506060891, "post_id": 46352980, "comment_id": 79675629, "body": "While the above comment is in general fine and needed, and worth following through, it may not help in this problem (and so could be misleading) -- I posted an answer."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 5407901, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NYjnlMTWReE/AAAAAAAAAAI/AAAAAAAAAJk/B6oMobLS04k/photo.jpg?sz=128", "display_name": "goodind1", "link": "https://stackoverflow.com/users/5407901/goodind1"}, "is_accepted": false, "score": 0, "last_activity_date": 1506038405, "creation_date": 1506038405, "answer_id": 46354899, "question_id": 46352980, "link": "https://stackoverflow.com/questions/46352980/perl-sort-hash-of-hashes-by-the-third-level-key-and-compare-it/46354899#46354899", "title": "Perl sort hash of hashes by the third-level key and compare it", "body": "<p>As has been said, you won't be able to dictate the order of the hash. Here's a way to map it to something you can sort and do the comparison you need.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy %hash = ( firstkey =&gt; {\n                secondkey =&gt; {\n                    2 =&gt; [9,2],\n                    1 =&gt; [3,4],\n                    3 =&gt; [8,2],\n                }\n            }\n        );\n\n\n#obtain an array of two-element array refs, whose contents are the keys\n#for the \"secondkey\" hash and the corresponding value, respectively\n\nmy @arr = map { [ $_, $hash{firstkey}-&gt;{secondkey}-&gt;{$_} ] }\n          keys %{$hash{firstkey}-&gt;{secondkey}};\n\n#sort on the aforementioned key\n\nmy @sorted = sort { $a-&gt;[0] &lt;=&gt; $b-&gt;[0] } @arr;\n\n#obtain an array of array refs, whose contents are a pair of adjacent \n#elements from the @sorted array\n\nmy @ordered_pairs = map { [ $sorted[$_], $sorted[$_+1] ] }\n                    (0 .. (scalar @sorted - 2));\n\n#compare the elements in question, and do something if there's a match\n\nfor (@ordered_pairs) {\n    if ($_-&gt;[0][1][1] == $_-&gt;[1][1][1]) {\n        print Dumper $_-&gt;[1];\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1506112219, "post_id": 46357990, "comment_id": 79705066, "body": "Pretty simple and straightforward solution. Thanks for your help"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1506141128, "last_edit_date": 1506141128, "creation_date": 1506060826, "answer_id": 46357990, "question_id": 46352980, "link": "https://stackoverflow.com/questions/46352980/perl-sort-hash-of-hashes-by-the-third-level-key-and-compare-it/46357990#46357990", "title": "Perl sort hash of hashes by the third-level key and compare it", "body": "<p>One cannot have a \"sorted hash\" &ndash; they are intrinsically unordered data structures (see <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow noreferrer\">keys</a>). The randomizaton of the initial seed and hash traversal are even <a href=\"http://perldoc.perl.org/perlsec.html#Algorithmic-Complexity-Attacks\" rel=\"nofollow noreferrer\">enhanced for security purposes</a>.  </p>\n\n<p>But we can sort the list of hash keys as needed. Then we have an ordered list to iterate over and thus can process the hash in a \"sorted manner.\"</p>\n\n<p>The keys to sort by here are at a deeper level, so iterate over the upper (two) levels to get to them.  Then it's a straightforward sort and test</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy %hash = ( \n    firstkey1 =&gt; { \n        secondkey1 =&gt; { \n            2 =&gt; [9, 2], 1 =&gt; [3, 4], 3 =&gt; [8, 2]  \n        }   \n    }   \n);\n\nforeach my $k1 (keys %hash) \n{\n    foreach my $k2 (keys %{$hash{$k1}}) \n    {   \n        # Relieve syntax below\n        my $hr = $hash{$k1}{$k2};\n\n        my @sr_k3 = sort { $a &lt;=&gt; $b } keys %{$hr};\n\n        foreach my $i (1..$#sr_k3)\n        {\n            if ( $hr-&gt;{$sr_k3[$i]}[1] == $hr-&gt;{$sr_k3[$i-1]}[1] )\n            {\n                say \"$k1, $k2, $sr_k3[$i], \", \n                    '[', join(',', @{$hr-&gt;{$sr_k3[$i]}}), ']';\n            }\n        }   \n        #say \"@{$hash{$k1}{$k2}{$_}}\" for keys %{$hash{$k1}{$k2}};\n    }   \n}\n</code></pre>\n\n<p>A few notes</p>\n\n<ul>\n<li><p>Sorted keys are iterated over <em>starting with the second one</em> due to the comparison criterion</p></li>\n<li><p>Hashref is copied at the second level only for convenience, to relieve the messy syntax</p></li>\n<li><p>When complex data structures get too unwieldy it may be time to use a class instead</p></li>\n</ul>\n\n<p>This works for any number of keys in both levels (only one key is shown for each level).</p>\n"}], "owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 458, "favorite_count": 0, "accepted_answer_id": 46357990, "answer_count": 2, "score": 1, "last_activity_date": 1506223865, "creation_date": 1506027207, "last_edit_date": 1506223865, "question_id": 46352980, "link": "https://stackoverflow.com/questions/46352980/perl-sort-hash-of-hashes-by-the-third-level-key-and-compare-it", "title": "Perl sort hash of hashes by the third-level key and compare it", "body": "<p>My data structure is</p>\n\n<pre><code>my %hash = (\n    firstkey  =&gt; { \n                secondkey =&gt; {\n                            2 =&gt; ['9','2'],\n                            1 =&gt; ['3','4'],\n                            3 =&gt; ['8','2']\n                }\n            }\n);\n\nprint Dumper \\%hash;\n</code></pre>\n\n<p>I want to sort the hash by the thirdly key. i.e. <code>1</code>, <code>2</code> and <code>3</code> in this case\nand then compare the second element (<code>index[1]</code>) in the array. If they are the same, and then print it out.</p>\n\n<p>Expected Sorted Hash:</p>\n\n<pre><code>my %hash = (\n    firstkey  =&gt; { \n                secondkey =&gt; {\n                            1 =&gt; ['3','4'],\n                            2 =&gt; ['9','2'],\n                            3 =&gt; ['8','2']\n                }\n            }\n);\n\nprint Dumper \\%hash;\n</code></pre>\n\n<p>After sort the hash, we compare the <code>index[1]</code> of the 1st array<code>[3,4]</code> with the 2nd array<code>[9,2]</code>.\n<code>4</code> is not equal to <code>2</code>, so we are not going to print anything.</p>\n\n<p>Then, we compare the <code>index[1]</code> of the 2nd array<code>[9,2]</code> with the 3rd array<code>[4,2]</code>.\n<code>2</code> is equal to <code>2</code>, then we are going to print all the content of it</p>\n\n<p><code>firstkey, secondkey, 3, [8,2]</code></p>\n\n<p>we only need to compare the adjacent array. </p>\n\n<p>I read a lot of solutions about sorting the hash, but I couldn't find one solution that really reorders it Is it any way to reorder the hash by the key and construct a hash with the new order in Perl? \nOr we can only sort the hash by using the for loop and compare it in the for loop?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 8, "creation_date": 1506008119, "post_id": 46347919, "comment_id": 79656145, "body": "<a href=\"https://metacpan.org/pod/perlrun#Command-Switches\" rel=\"nofollow noreferrer\"><code>perldoc perlrun</code></a>"}, {"owner": {"reputation": 1177, "user_id": 4802431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/913d82f4ab2d30e0c3cb0937f5d10185?s=128&d=identicon&r=PG&f=1", "display_name": "William_Wilson", "link": "https://stackoverflow.com/users/4802431/william-wilson"}, "edited": false, "score": 2, "creation_date": 1506008127, "post_id": 46347919, "comment_id": 79656152, "body": "Read the perl command line docs? <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlrun.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 839, "user_id": 7513280, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8a42e9fc20a0cf2c49751ccba922ef6a?s=128&d=identicon&r=PG&f=1", "display_name": "pOrinG", "link": "https://stackoverflow.com/users/7513280/poring"}, "edited": false, "score": 1, "creation_date": 1506325563, "post_id": 46349069, "comment_id": 79757074, "body": "Thanks for the edit. It was really helpful in understanding the concept. Currently going through the documentations."}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 4, "last_activity_date": 1506098813, "last_edit_date": 1506098813, "creation_date": 1506011943, "answer_id": 46349069, "question_id": 46347919, "link": "https://stackoverflow.com/questions/46347919/understanding-perl-one-liner-with-p-i-and-e-switches/46349069#46349069", "title": "Understanding Perl one-liner with -p, -i, and -e switches", "body": "<ul>\n<li><p><code>-p</code> implies a loop similar to this around the code in quotes: <code>while(&lt;&gt;){ ..... } continue{print}</code>.</p></li>\n<li><p><code>-i</code> implies \"in place edit\", meaning that each logical record (typically a line) that you change will result in a change in that line in the file.</p></li>\n<li><p><code>-e</code> means evaluate the string that follows as code and execute it.  Since you are using <code>-p</code>, the string of code is executed within in implicit while loop, as mentioned above.</p></li>\n<li><p><code>s///</code> is the substitution operator. It acts upon the content of <code>$_</code> unless it is bound to some other scalar using <code>=~</code>. Your implicit 'while' loop populates <code>$_</code> with one record from the input file per iteration (in this case, one line from the input file per iteration).  So in each line you are substituting the <code>\u00ff</code> character for an empty string (in other words, deleting that character) every time it appears in the line.</p></li>\n</ul>\n\n<p>You should use <code>perldoc</code> to explore Perl's built in documentation on the following topics:</p>\n\n<ul>\n<li><code>perldoc perlintro</code> - A brief introduction to Perl.</li>\n<li><code>perldoc perlretut</code> - A tutorial on Perl's regular expressions.</li>\n<li><code>perldoc perlre</code> - A more in-depth description of Perl's regular expressions.</li>\n<li><code>perldoc perlrun</code> - An explanation of Perl's command-line switches such as <code>-p</code>, <code>-e</code>, and so on.</li>\n<li><code>perldoc perlop</code> - An explanation of Perl's operators, including <code>&lt;&gt;</code>, and <code>s///</code>.</li>\n<li><code>perldoc -f print</code> - Description of how Perl's <code>print</code> function works (it is implied by <code>-p</code>).</li>\n<li><code>perldoc -f defined</code></li>\n<li><code>perldoc -f readline</code></li>\n<li><code>perldoc perlsyn</code> - A description of Perl's syntax including <code>while(){}</code> loops (<code>-p</code> implies a while loop).</li>\n</ul>\n\n<p>If you put all that together, that one liner does something pretty close to this:</p>\n\n<pre><code>BEGIN { $^I = \"\"; }                   # Set in-place edit mode.\nour $oldargv = '';                    # Placeholder or sentinel flag.\nwhile (defined($_ = readline ARGV)) { # ARGV will be the currently\n                                      # opened file from commandline.\n    if ($ARGV ne $oldargv) {\n        open ARGVOUT, '&gt;$ARGV';       # Open an output file; same name\n                                      # as input file, but ARGV still\n                                      # reads from original.\n        select ARGVOUT;               # Output goes to ARGVOUT.\n        $oldargv = $ARGV;             # Keep track of what filename we\n                                      # are reading from.\n    }\n\n    $_ =~ s/\u00ff//g;                     # Do our work... substitute.\n\n}\ncontinue {\n    print $_;                         # After each iteration print the\n                                      # content of $_ to ARGVOUT.\n}\nEND {\n    select STDOUT;\n    close ARGVOUT;\n}\n</code></pre>\n\n<p>This is an approximate representation cobbled together by using the Perl module B::Deparse as well as a dive into Perl's documentation. Perl's documentation is extensive, and available on any system with a standard installation of Perl on it. You can read Perl's documentation by entering at the commandline: <code>perldoc perl####</code> where <code>####</code> represents the document name. Example: <code>perldoc perldata</code>.  If you want to look up a specific Perl function you would use the <code>-f</code> switch, as in <code>perldoc -f open</code>.  And if you want to read the documentation on a Perl module, you would type <code>perldoc ModuleName</code> (eg, <code>perldoc Scalar::Util</code>).</p>\n"}], "owner": {"reputation": 839, "user_id": 7513280, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8a42e9fc20a0cf2c49751ccba922ef6a?s=128&d=identicon&r=PG&f=1", "display_name": "pOrinG", "link": "https://stackoverflow.com/users/7513280/poring"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 1, "closed_date": 1506016181, "accepted_answer_id": 46349069, "answer_count": 1, "score": -1, "last_activity_date": 1506098957, "creation_date": 1506007999, "last_edit_date": 1506098957, "question_id": 46347919, "link": "https://stackoverflow.com/questions/46347919/understanding-perl-one-liner-with-p-i-and-e-switches", "closed_reason": "Needs more focus", "title": "Understanding Perl one-liner with -p, -i, and -e switches", "body": "<p>There is a perl script which is already existing in one of the modules and i would like to understand/know how its working and the meaning of the arguments passed. </p>\n\n<p>I tried to find the description of the arguments passed online however I could not find any good resource which explains it.</p>\n\n<pre><code>perl -p -i -e 's/\u00ff//g' filename\n</code></pre>\n\n<p>Please help in understanding the workflow.</p>\n"}, {"tags": ["perl", "if-statement", "exists"], "comments": [{"owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "edited": false, "score": 1, "creation_date": 1506010418, "post_id": 46347350, "comment_id": 79657589, "body": "I am sure this is not a problem with Perl itself. It could easily be a problem with Gtk2. Please show a minimal, complete and verifiable example that reproduces the problem."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 2, "creation_date": 1506014028, "post_id": 46347350, "comment_id": 79659582, "body": "In a (now-deleted) comment you wrote that the path is <code>&#47;&#47;mnt&#47;backup&#47;Backup_1.0&#47;2017-09-19_Dell_140g\\ Deb9.1_MATE_Desktop&#47;20170919_swap2.000</code>, i.e. has a backslash before the space. Is the backslash literally part of the file name, or is it used to escape the space? The <code>-e</code> operator doesn&#39;t require you to escape the file name."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 7781265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3463ac41e232a806becdfb487559b55c?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/7781265/jay"}, "edited": false, "score": 0, "creation_date": 1506009540, "post_id": 46347491, "comment_id": 79657081, "body": "Yep it chomp was used on resulting the path"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 19, "user_id": 7781265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3463ac41e232a806becdfb487559b55c?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/7781265/jay"}, "edited": false, "score": 1, "creation_date": 1506010526, "post_id": 46347491, "comment_id": 79657643, "body": "But what <i>is</i> the resulting path? Have you tried printing it to see what&#39;s being passed?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1506006695, "creation_date": 1506006695, "answer_id": 46347491, "question_id": 46347350, "link": "https://stackoverflow.com/questions/46347350/perl-file-exists-test-fails-when-path-contains-spaces/46347491#46347491", "title": "Perl file exists test fails when path contains spaces", "body": "<p>It works fine:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $filename = 'name with spaces'; \nopen ( my $testfile, '&gt;', $filename ) or warn $!;\n\nif ( -e \"name with spaces\" ) { \n   print \"\\\"$filename\\\" exists\\n\";\n}\n</code></pre>\n\n<p>I suspect you'll find something else is going wrong. My first guess would be - did you remember to <code>chomp</code> your input? But we can't answer without seeing how this value is set. </p>\n"}, {"comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1506016726, "post_id": 46350066, "comment_id": 79660998, "body": "Perl is not shell. Perl does not have a comparable word-expansion feature. Therefore, putting a variable into quotes doesn&#39;t actually do anything here. (This would only make a difference in case the variable held an object with operator-overloading magic, likely not the case here.)"}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1506028722, "post_id": 46350066, "comment_id": 79666731, "body": "My bad, you&#39;re right, should have tested it before replying!"}], "tags": [], "owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "is_accepted": false, "score": -1, "last_activity_date": 1506015534, "creation_date": 1506015534, "answer_id": 46350066, "question_id": 46347350, "link": "https://stackoverflow.com/questions/46347350/perl-file-exists-test-fails-when-path-contains-spaces/46350066#46350066", "title": "Perl file exists test fails when path contains spaces", "body": "<p>Just put your variable in quotes:</p>\n\n<pre><code>if (-e \"$PathPlusFileName\") \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 7781265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3463ac41e232a806becdfb487559b55c?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/7781265/jay"}, "is_accepted": false, "score": 0, "last_activity_date": 1506206781, "creation_date": 1506206781, "answer_id": 46384943, "question_id": 46347350, "link": "https://stackoverflow.com/questions/46347350/perl-file-exists-test-fails-when-path-contains-spaces/46384943#46384943", "title": "Perl file exists test fails when path contains spaces", "body": "<p>As it turn out, the previous programmer that work on the package GUI section had left this line of test code active.\n    $PathPlusFileName =~ s/ /\\ /g;\nOne it was removed, if(-e worked as expected. Thank all for the help and suggestions!</p>\n"}], "owner": {"reputation": 19, "user_id": 7781265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3463ac41e232a806becdfb487559b55c?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/7781265/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1170, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1506206781, "creation_date": 1506006219, "question_id": 46347350, "link": "https://stackoverflow.com/questions/46347350/perl-file-exists-test-fails-when-path-contains-spaces", "title": "Perl file exists test fails when path contains spaces", "body": "<p>Below is an example of what I am talking about</p>\n\n<pre><code>$PathPlusFileName gets set in Gtk2 File Chooser dialog SUB\n\nif (-e $PathPlusFileName) {\n    print \"found file\\n\";\n} else {\n    print \"did not find file\\n\";\n}\n</code></pre>\n\n<p>IF block works as long as there are no spaces in the PATH name.\nDid try double quoting the path, didn't help.\nAny suggestions on how to correct would be appreciated.</p>\n"}, {"tags": ["regex", "bash", "perl", "variables", "for-loop"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1506005393, "post_id": 46346845, "comment_id": 79654271, "body": "Post some more input, expected output. Also use <code>while read</code> instead of <code>for</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 5, "creation_date": 1506006760, "post_id": 46346845, "comment_id": 79655215, "body": "Why not just do it all in <code>perl</code>?"}, {"owner": {"reputation": 21, "user_id": 8409936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w240Tug8fTU/AAAAAAAAAAI/AAAAAAAAAA0/2CaVmBDVszc/photo.jpg?sz=128", "display_name": "scor-ch", "link": "https://stackoverflow.com/users/8409936/scor-ch"}, "edited": false, "score": 0, "creation_date": 1506008594, "post_id": 46346845, "comment_id": 79656437, "body": "123: thank you for your input/hint, i appreciate it Sobrique: it is part of a bigger shell script we&#39;re using to rebuild environments, therefore i will be using bash as much as i can, also, i dont have any solid perl knowlege"}, {"owner": {"reputation": 21, "user_id": 8409936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w240Tug8fTU/AAAAAAAAAAI/AAAAAAAAAA0/2CaVmBDVszc/photo.jpg?sz=128", "display_name": "scor-ch", "link": "https://stackoverflow.com/users/8409936/scor-ch"}, "edited": false, "score": 0, "creation_date": 1506344759, "post_id": 46346845, "comment_id": 79769340, "body": "In order to get the intial <code>for</code>working, I had to explicitly export the <code>NEW_PINNO</code> variable and then call it like this: <code>$1$ENV{NEW_PINNO}$3</code>"}], "answers": [{"comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1506005920, "post_id": 46347131, "comment_id": 79654675, "body": "why would you ever do this instead of just passing the variable in as an env variable or argument."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1506007248, "post_id": 46347131, "comment_id": 79655561, "body": "@123 you can&#39;t pass it in as an argument because the <code>-p</code> option expects all the arguments to be filenames. Passing it in as an environment variable is an option I guess, but it&#39;s no less ugly a hack than the solution I&#39;ve provided"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1506008390, "post_id": 46347131, "comment_id": 79656312, "body": "yes you can, look up the shift function. Also it isn&#39;t an ugly hack, your way allows double interpretation of the variable, which allows arbitrary code to be run in perl as well as breaking if it contains the delimiter or any special characters. My solutions don&#39;t. Don&#39;t post bad code then try and defend it when you have no idea what you are talking about."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1506011306, "post_id": 46347131, "comment_id": 79658079, "body": "@123 I&#39;m allowed to defend my answer, especially as i don&#39;t see it as bad code - it&#39;s perfectly normal to do this in a bash script to mix variables and single quoted text. If you have a (better) solution, surely you&#39;d have posted it as an answer"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1506068000, "post_id": 46347131, "comment_id": 79679509, "body": "Glenn jackson already posted the proper way to do it.  It is bad code though, and it definitely is not normal to embed bash variables/code inside a perl command. Your defence of doing so is nonsense and misleading to other users."}], "tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": -1, "last_activity_date": 1506005581, "creation_date": 1506005581, "answer_id": 46347131, "question_id": 46346845, "link": "https://stackoverflow.com/questions/46346845/bash-use-variable-in-perl-regex-together-with-matching-groups/46347131#46347131", "title": "Bash - use variable in perl regex together with matching groups", "body": "<p>The difference between single and double quotes is how bash treats its variables. In single quotes it won't expand them, but when enclosed in double quotes it will. You can open &amp; close quotes as much as you want in a command line argument. It's only if there is a space that is outside of a pair of quotes (single or double) that determines the start of a new argument.</p>\n\n<p>So you close the single quote, have the bash variable which will be expanded and then re-open the single quote. Enclosing the variable in double quotes ensures that if there are any spaces in the variable they'll not split the argument.</p>\n\n<pre><code>perl -pe 's/[\\:\\&gt;\\=]\\s*(4)(\\d{2})(\\d{2})\\b/$1'\"${NEW_PINNO}\"'$3/g' $file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 8409936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w240Tug8fTU/AAAAAAAAAAI/AAAAAAAAAA0/2CaVmBDVszc/photo.jpg?sz=128", "display_name": "scor-ch", "link": "https://stackoverflow.com/users/8409936/scor-ch"}, "edited": false, "score": 0, "creation_date": 1506008417, "post_id": 46347685, "comment_id": 79656334, "body": "thank you glenn, i will try this as soon as i am back at work again"}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 4, "last_activity_date": 1506007658, "last_edit_date": 1506007658, "creation_date": 1506007261, "answer_id": 46347685, "question_id": 46346845, "link": "https://stackoverflow.com/questions/46346845/bash-use-variable-in-perl-regex-together-with-matching-groups/46347685#46347685", "title": "Bash - use variable in perl regex together with matching groups", "body": "<pre><code>perl -pse 's/ [:&gt;=]\\s* \\K (\\d)\\d\\d(\\d\\d) \\b/$1$pin$2/gx' -- -pin=\"$new_pinno\" file\n</code></pre>\n\n<ul>\n<li>Your regex will match the [colon, greater than, equal sign] and the spaces, but you don't include them in the substitution. I'm using the <code>\\K</code> directive to match those characters but then forget about them (ref: <a href=\"http://perldoc.perl.org/perlre.html#Lookaround-Assertions\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlre.html#Lookaround-Assertions</a>)</li>\n<li>I'm using the <code>-s</code> option to enable \"rudimentary switch parsing\" to pass the shell variable into perl without playing quoting games. (ref: <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlrun.html</a>)</li>\n</ul>\n\n<p>Testing</p>\n\n<pre><code>new_pinno=15\nperl -pse 's/ [:&gt;=]\\s* \\K (\\d)\\d\\d(\\d\\d) \\b/$1$pin$2/gx' -- -pin=\"$new_pinno\" &lt;&lt;END\nvar1=40380\nvar2=40381\nEND\n</code></pre>\n\n\n\n<pre><code>var1=41580\nvar2=41581\n</code></pre>\n\n<p>Notes</p>\n\n<ul>\n<li>you should not use ALL_CAPS_VARNAMES in the shell, leave those to be reserved by the shell. One day, you'll use <code>PATH=something</code> and then  wonder why your script is broken.</li>\n<li><p>and @123's comment is valid. This is the safe way to read lines from a file:</p>\n\n<pre><code>while read -r file; do\n    perl ... \"$file\"\ndone &lt; \"$LOGI\"\n</code></pre>\n\n<p>ref: <a href=\"http://mywiki.wooledge.org/DontReadLinesWithFor\" rel=\"nofollow noreferrer\">http://mywiki.wooledge.org/DontReadLinesWithFor</a></p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 1, "creation_date": 1536855293, "post_id": 52317098, "comment_id": 91582931, "body": "Your answer could benefice from some explaination"}], "tags": [], "owner": {"reputation": 59, "user_id": 7613953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb5677d5e6f338497450ab5873718bb?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tian", "link": "https://stackoverflow.com/users/7613953/tim-tian"}, "is_accepted": false, "score": 0, "last_activity_date": 1536856479, "last_edit_date": 1536856479, "creation_date": 1536852764, "answer_id": 52317098, "question_id": 46346845, "link": "https://stackoverflow.com/questions/46346845/bash-use-variable-in-perl-regex-together-with-matching-groups/52317098#52317098", "title": "Bash - use variable in perl regex together with matching groups", "body": "<pre><code>perl -pe 's/[\\:\\&gt;\\=]\\s*(4)(\\d{2})(\\d{2})\\b/$1'${NEW_PINNO}'$3/g' $file\n</code></pre>\n\n<p>is ok.</p>\n"}], "owner": {"reputation": 21, "user_id": 8409936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w240Tug8fTU/AAAAAAAAAAI/AAAAAAAAAA0/2CaVmBDVszc/photo.jpg?sz=128", "display_name": "scor-ch", "link": "https://stackoverflow.com/users/8409936/scor-ch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 891, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1536856479, "creation_date": 1506004703, "last_edit_date": 1506007451, "question_id": 46346845, "link": "https://stackoverflow.com/questions/46346845/bash-use-variable-in-perl-regex-together-with-matching-groups", "title": "Bash - use variable in perl regex together with matching groups", "body": "<p>this is my first post on stackoverflow, please forgive me if I missed something important.\nI am currently stuck with the follwing issue. The goal is, to replace port numbers dynamically based on a filelist I prepared with <code>find</code>. All of the ports in those files, start with the number \"4\" and have 5 digits.</p>\n\n<p>Now the tricky part, I am replacing only digit #2 and #3, and keep positions 1, 4 and 5. Examples:</p>\n\n<pre><code>old port in file: 40380, 40381\nnew port in file: 41580, 40381\n</code></pre>\n\n<p>I am working on Sun Solaris 5.10 therefore I prefer perl for inline replacements</p>\n\n<p>Finally the key question: how can I combine $1 (group 1) + $PIN_PINNO + $3 (group 3) so that the result would be: 4<strong>15</strong>80</p>\n\n<pre><code>NEW_PINNO=15\nLOGI=$HOME/filelist.txt\n\n# port replacement\nfor file in `cat $LOGI`\ndo\n    perl -pe 's/[\\:\\&gt;\\=]\\s*(4)(\\d{2})(\\d{2})\\b/$1${NEW_PINNO}$3/g' $file\ndone\n</code></pre>\n\n<p>many thanks in advance</p>\n"}, {"tags": ["json", "perl", "text", "string-conversion"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1505994642, "post_id": 46343037, "comment_id": 79646162, "body": "What have you tried? What problems are you having? Please show us your code. If you don&#39;t have any code, then Stack Overflow is probably not the right place for your question."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1505994661, "post_id": 46343037, "comment_id": 79646173, "body": "You have two distinct tasks here. One is to verify your input JSON against the schema, and the other one is writing out a text file. Do you need help with both of them, or just one? Start by searching for JSON schema on CPAN. There are several implementations that should all work."}, {"owner": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1505994993, "post_id": 46343037, "comment_id": 79646371, "body": "JSONSchema is only meant for validating objects, not transforming them. You could start with a function that takes one of your JSON objects and the object part of your JSONSchema and produces a new object of the form <code>{&#39;10_pid&#39;: ..., &#39;20_dep-abb&#39;: ..., ... }</code>. Flattening an array such objects to your desired text format should be easy then."}, {"owner": {"reputation": 166, "user_id": 7421890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cad325e142f1a565d95d7d5ee13aa49f?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/7421890/chris"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1505997957, "post_id": 46343037, "comment_id": 79648496, "body": "@simbabque I&#39;ve used JSON::Validator to validate the doc against the schema (that works without any problems)."}, {"owner": {"reputation": 166, "user_id": 7421890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cad325e142f1a565d95d7d5ee13aa49f?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/7421890/chris"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505998072, "post_id": 46343037, "comment_id": 79648603, "body": "@DaveCross I really don&#39;t know how to approach to the solution of this problem..."}, {"owner": {"reputation": 166, "user_id": 7421890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cad325e142f1a565d95d7d5ee13aa49f?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/7421890/chris"}, "reply_to_user": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1505998387, "post_id": 46343037, "comment_id": 79648820, "body": "@Botje great tip, I try that now"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1506012303, "post_id": 46343037, "comment_id": 79658620, "body": "There is no reason to transform the data to another format when you are doing this in Perl. You can verify the JSON against the schema if you want, but there is no real need to do that. Then you convert the JSON to a Perl data structure using one of the JSON modules, iterate the array reference and build your text file from each entry. It&#39;s already nicely structured. You just need to access the data piece by piece. If you are having trouble with the indentation, <code>sprintf</code> is your friend."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1506066249, "creation_date": 1506066249, "answer_id": 46359428, "question_id": 46343037, "link": "https://stackoverflow.com/questions/46343037/json-to-text-special-sequence/46359428#46359428", "title": "JSON to text, special sequence", "body": "<p>The basic approach is to use a <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\">JSON</a> module to decode the JSON into a Perl data structure and then walk that structure to construct the output that you want.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nuse JSON;\n\nmy $json = JSON-&gt;new;\n\nmy $json_str = '[\n    {\n        \"id\": 12345,\n        \"url\": \"https://www.w3schools.com\",\n        \"person\": {\n            \"firstname\": \"John\",\n            \"lastname\": \"Doe\"\n        },\n        \"department\": \"IT\"\n    },\n    {\n        \"id\": 12346,\n        \"url\": \"https://www.w3schools.com\",\n        \"person\": {\n            \"firstname\": \"Anna\",\n            \"lastname\": \"Jackson\"\n        },\n        \"department\": \"LOG\"\n    }\n]';\n\nmy $data = $json-&gt;decode($json_str);\n\nfor (@$data) {\n  say \"pid:     $_-&gt;{id}\";\n  say \"dep-abb: $_-&gt;{department}\";\n  say \"surname: $_-&gt;{person}{lastname}\";\n  say \"name:    $_-&gt;{person}{firstname}\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 166, "user_id": 7421890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cad325e142f1a565d95d7d5ee13aa49f?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/7421890/chris"}, "is_accepted": true, "score": 0, "last_activity_date": 1506271367, "last_edit_date": 1506271367, "creation_date": 1506258620, "answer_id": 46390385, "question_id": 46343037, "link": "https://stackoverflow.com/questions/46343037/json-to-text-special-sequence/46390385#46390385", "title": "JSON to text, special sequence", "body": "<p>Thanks all for tips and support!\nI'm a totally beginner in Perl, feedback is welcome!\n(I've ommited function parameter check to save space)</p>\n\n<p>used packages:</p>\n\n<pre><code>use Data::Traverse;\nuse Data::Path;\n</code></pre>\n\n<p>sub transform</p>\n\n<pre><code># key identifier[0]: mark JSON key that write into text file\n# key identifier[1]: optional in JSON schema: new label in text file\nmy @KEY_IDENTIFIER = (\"txt_seq_no\", \"txt_label\");\n# keys in JSON SCHEMA, can not be found in JSON document\nmy @DELETE_FROM_PATH = ( \"items\", \"properties\" );\n\n# transform a JSON document into text file\n# use identifier in JSON schema to define keys to transform to text\nsub transform {\nmy ( $doc, $schema, $key_identifier) = @_;\nif( not defined $key_identifier ) { $key_identifier = \\@KEY_IDENTIFIER; }\n\nmy $transformator = get_transformator4schema( $schema, $key_identifier, $log );\n\nmy $data = get_data4transformator( $doc, $transformator, $log );\n\nprint_text( $data, $transformator, $key_identifier, $log );\n\n}\n</code></pre>\n\n<p>sub get_transformator4schema</p>\n\n<pre><code>sub get_transformator4schema {\nmy ( $schema, $key_identifier) = @_;\nmy $t= Data::Traverse-&gt;new( $schema);\n\nmy %transformator;\n\n$t-&gt;traverse(\n    sub {\n        if( $t-&gt;item_key eq @{$key_identifier}[0] or $t-&gt;item_key eq @{$key_identifier}[1]) {\n            my $path = $t-&gt;path;\n            my $key;\n\n            # delete path that only exists in schema, not in doc\n            foreach my $del_path (@DELETE_FROM_PATH) {\n                $path =~ s/\\/$del_path//g;\n            }\n\n            # delete last element from path\n            if( $t-&gt;item_key eq @{$key_identifier}[0]) {\n                $key = @{$key_identifier}[0];\n                $path =~ s/\\/@{$key_identifier}[0]$//g;\n            }\n            if( $t-&gt;item_key eq @{$key_identifier}[1]) {\n                $key = @{$key_identifier}[1];\n                $path =~ s/\\/@{$key_identifier}[1]$//g;\n            }\n\n            # add key =&gt; { key =&gt; value }\n            if( not exists $transformator{$path} ) {\n                my %key_val = ( $key =&gt; $_ );\n                $transformator{$path} = \\%key_val;\n            } else {\n                my $nested_hash = $transformator{$path};\n                $nested_hash-&gt;{$key} = $_;\n            }\n        }\n    }\n);\nreturn \\%transformator;\n}\n</code></pre>\n\n<p>sub get_data4transformator</p>\n\n<pre><code># fetch needed data from document\nsub get_data4transformator {\nmy ( $document, $transformator, $log ) = @_;\n\nmy @template;\n\nforeach my $doc (@{$document}) {\n    my $doc_path= Data::Path-&gt;new( $doc );\n\n    my %th = ();\n\n    # load values for key = path\n    foreach my $path (keys %{$transformator}) {\n        my $val = $doc_path-&gt;get($path);\n        # add value from doc to hash\n        $th{$path} = $val;\n    }\n    push @template, \\%th;\n}\nreturn \\@template;\n}\n</code></pre>\n\n<p>sub print_text:</p>\n\n<pre><code>sub print_text {\n\nmy ( $data, $transformator, $key_ids, $log ) = @_;\n\n# sort by 1st item of $key_ids\nmy $sort_by = @{$key_ids}[0];\nmy $opt_name = @{$key_ids}[1];\nprint \"\\nsort data by '$sort_by' ASC\\n\";\nmy @sorted_keys = sort {\n    $transformator-&gt;{$a}-&gt;{$sort_by}\n    &lt;=&gt;\n    $transformator-&gt;{$b}-&gt;{$sort_by}\n} keys %{$transformator};\n\nforeach my $tdoc ( @{$data} ) {\n    print \"\\nread document item:\\n\";\n    foreach my $key ( @sorted_keys ) {\n        my $name = $key;\n        $name =~ s/^.*\\/(\\w+)$/$1/g;\n        my $alias_name = \"\";\n        if( defined $transformator-&gt;{$key}-&gt;{$opt_name} ) {\n            $alias_name = $transformator-&gt;{$key}-&gt;{$opt_name};\n        }\n\n        print   \" $name =&gt; $tdoc-&gt;{$key}\";\n        if( not $alias_name eq \"\" ) {\n            print \" alias '$alias_name'\\n\";\n        } else {\n            print \"\\n\";\n        }\n    }\n}\n}\n</code></pre>\n\n<p>This functionality allows to control which key goes into the text file and its position. With at least one parameter <code>txt_seq_no</code>. The second parameter <code>txt_label</code> is optional and stores the alternative label in the textfile.</p>\n\n<p>output:</p>\n\n<pre><code> id =&gt; 12345 alias 'pid'\n department =&gt; IT alias 'dep-abb'\n lastname =&gt; Doe\n firstname =&gt; John alias 'name'\n\n id =&gt; 12346 alias 'pid'\n department =&gt; LOG alias 'dep-abb'\n lastname =&gt; Jackson\n firstname =&gt; Anna alias 'name'\n\n id =&gt; 12347 alias 'pid'\n department =&gt; PROD alias 'dep-abb'\n lastname =&gt; Smith\n firstname =&gt; Peter alias 'name'\n</code></pre>\n"}], "owner": {"reputation": 166, "user_id": 7421890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cad325e142f1a565d95d7d5ee13aa49f?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/7421890/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 46390385, "answer_count": 2, "score": -1, "last_activity_date": 1508068963, "creation_date": 1505994086, "last_edit_date": 1508068963, "question_id": 46343037, "link": "https://stackoverflow.com/questions/46343037/json-to-text-special-sequence", "title": "JSON to text, special sequence", "body": "<p>I want to create a text document from following JSON document:</p>\n\n<pre><code>[\n    {\n        \"id\": 12345,\n        \"url\": \"https://www.w3schools.com\",\n        \"person\": {\n            \"firstname\": \"John\",\n            \"lastname\": \"Doe\"\n        },\n        \"department\": \"IT\"\n    },\n    {\n        \"id\": 12346,\n        \"url\": \"https://www.w3schools.com\",\n        \"person\": {\n            \"firstname\": \"Anna\",\n            \"lastname\": \"Jackson\"\n        },\n        \"department\": \"LOG\"\n    }\n]\n</code></pre>\n\n<p>My JSON schema looks like the following:</p>\n\n<pre><code>{\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"id\": { \"type\": \"integer\" },\n            \"url\": { \"type\": \"string\", \"format\": \"uri\" },\n            \"person\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"firstname\": { \"type\": \"string\" },\n                    \"lastname\": { \"type\": \"string\" }\n                }\n            },\n            \"department\": { \"enum\": [ \"IT\", \"LOG\"] }\n        }\n    }\n}\n</code></pre>\n\n<p>The text document should be structured as follows:</p>\n\n<pre><code>pid:        12345\ndep-abb:    IT\nsurname:    Doe\nname:       John\n\npid:        12346\ndep-abb:    LOG\nsurname:    Jackson\nname:       Anna\n</code></pre>\n\n<p>I'm a Perl and JSON newbie and was searching for a Perl lib that can handle this approach by extending the schema (e.g. by <code>txt_seq_no</code> and <code>txt_label</code>). The labels in the text file should be sorted by <code>txt_seq_no</code> ASC and renamed by <code>txt_label</code>. Is is possible to solve that issue that simple? Then the schema could look like:</p>\n\n<pre><code>{\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"id\": { \"type\": \"integer\", \"txt_seq_no\"=10, \"txt_label\"=\"pid\" },\n            \"url\": { \"type\": \"string\", \"format\": \"uri\" },\n            \"person\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"firstname\": { \"type\": \"string\", \"txt_seq_no\"=40, \"txt_label\"=\"name\" },\n                    \"lastname\": { \"type\": \"string\", \"txt_seq_no\"=30, \"txt_label\"=\"surname\" }\n                }\n            },\n            \"department\": { \"enum\": [ \"IT\", \"LOG\", \"PROD\" ], \"txt_seq_no\"=20, \"txt_label\"=\"dep-abb\" }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "csh"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1505989118, "post_id": 46340989, "comment_id": 79642406, "body": "Do you get anything back from the <code>qx&#47;&#47;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "is_accepted": true, "score": 1, "last_activity_date": 1505990488, "last_edit_date": 1505990488, "creation_date": 1505989117, "answer_id": 46341336, "question_id": 46340989, "link": "https://stackoverflow.com/questions/46340989/to-grep-lines-from-file-ending-with-backslash/46341336#46341336", "title": "To grep lines from file ending with backslash", "body": "<p>Perl already strips one layer of quoting, so the actual command that is executed becomes</p>\n\n<pre><code>grep -G '\\$' $runme\n</code></pre>\n\n<p>To solve this, double the backslashes again, leaving one for the $:</p>\n\n<pre><code>my $all_lines = `grep -G '\\\\\\\\\\$' $runme`;\n</code></pre>\n\n<p>Of course you could reimplement the <code>grep</code> directly in perl:</p>\n\n<pre><code>open my $fh, \"&lt;\", $runme or die \"Cannot open '$runme': $!\";\nwhile (&lt;$fh&gt;) {\n    if (/\\\\$/) {\n        print $_;\n    }\n}\n</code></pre>\n\n<p>Don't forget to close $fh afterwards, either by letting it go out of scope or an explicit <code>close $fh</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1505992063, "creation_date": 1505992063, "answer_id": 46342350, "question_id": 46340989, "link": "https://stackoverflow.com/questions/46340989/to-grep-lines-from-file-ending-with-backslash/46342350#46342350", "title": "To grep lines from file ending with backslash", "body": "<p>Given that your filename is already in <code>@ARGV</code>, there is no need to shell out to achieve this. Implementing it in Perl saves the time needed to start a shell and is cross-platform.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nexit unless -e $ARGV[0];\n\n# &lt;&gt; will return records from the files\n# named in @ARGV\nwhile (&lt;&gt;) {\n  print if /\\\\$/;\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 6638110, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YAtkh.png?s=128&g=1", "display_name": "confused", "link": "https://stackoverflow.com/users/6638110/confused"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 46341336, "answer_count": 2, "score": 0, "last_activity_date": 1505992063, "creation_date": 1505988052, "last_edit_date": 1505989024, "question_id": 46340989, "link": "https://stackoverflow.com/questions/46340989/to-grep-lines-from-file-ending-with-backslash", "title": "To grep lines from file ending with backslash", "body": "<p>I have a file,named FILE with backslashes in end in some lines. like</p>\n\n<pre><code> a\nsbajcb\nksajcnx \\\ncjscnk\\\nsnk\nsknds\\\n</code></pre>\n\n<p>When i am using this command  <code>grep -G '\\\\$' FILE</code> , i am getting the results.</p>\n\n<p>But when i am executing this in Perl, i am not getting the results.</p>\n\n<p>My code is</p>\n\n<pre><code>#! /usr/bin/perl\nmy $runme=$ARGV[0];\nif(-e $runme) {\nmy $all_lines = `grep -G '\\\\\\$' $runme`;\nprint $all_lines;\n}\n</code></pre>\n\n<p>Whats wrong in my code? , i tried using <code>'\\\\$'</code> , still didn't get the result.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "perl", "split"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1505982773, "post_id": 46339018, "comment_id": 79637979, "body": "Use something like <code>my ( $substring ) = $string=~ &#47;\\bblue\\s+(\\w+)&#47;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1505983031, "post_id": 46339128, "comment_id": 79638134, "body": "Perhaps replace the <code>\\s+</code> at the start with <code>\\b</code> (in case the word is the first word in the string."}, {"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505983242, "post_id": 46339128, "comment_id": 79638244, "body": "Thanks, that&#39;s a more general solution!"}, {"owner": {"reputation": 39, "user_id": 8230074, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-tgyFAB3uHag/AAAAAAAAAAI/AAAAAAAAHPY/_qq1Jr0Ib_8/photo.jpg?sz=128", "display_name": "Jayesh Ranjan Majhi", "link": "https://stackoverflow.com/users/8230074/jayesh-ranjan-majhi"}, "edited": false, "score": 0, "creation_date": 1505983734, "post_id": 46339128, "comment_id": 79638532, "body": "Thanks ...  if want the 2nd or third word after blue what changes I should do?"}, {"owner": {"reputation": 39, "user_id": 8230074, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-tgyFAB3uHag/AAAAAAAAAAI/AAAAAAAAHPY/_qq1Jr0Ib_8/photo.jpg?sz=128", "display_name": "Jayesh Ranjan Majhi", "link": "https://stackoverflow.com/users/8230074/jayesh-ranjan-majhi"}, "edited": false, "score": 0, "creation_date": 1505984766, "post_id": 46339128, "comment_id": 79639194, "body": "I was trying for with the following example but its not working:  use strict;  my $input = &#39;I am a blue   #(jj)              ball(apple)&#39;;  if ( $input =~ /\\bblue\\s+(\\w+)/ ) {     my $found = $1;     print &quot;Word found after word &#39;blue&#39;: $found \\n&quot;;     }  elsif ( $input =~ /\\bblue\\s+\\w+\\s+(\\w+)/ ){     my $found = $1;     print &quot;W1ord found after word &#39;blue&#39;: $found \\n&quot;; } else {     print &quot;No word after word &#39;blue&#39; present\\n&quot;; }"}, {"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "reply_to_user": {"reputation": 39, "user_id": 8230074, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-tgyFAB3uHag/AAAAAAAAAAI/AAAAAAAAHPY/_qq1Jr0Ib_8/photo.jpg?sz=128", "display_name": "Jayesh Ranjan Majhi", "link": "https://stackoverflow.com/users/8230074/jayesh-ranjan-majhi"}, "edited": false, "score": 0, "creation_date": 1505986261, "post_id": 46339128, "comment_id": 79640202, "body": "@JayeshRanjanMajhi: For starters, if your first condition looks for the first word, and the second for the second, the second condition won&#39;t ever be matched because the first is already matching. Apart from that, <code>#(jj)</code> is not a <code>word</code> in the previously used sense, there&#39;s non-alphanumeric characters in there. If you want to match these, you could <code>\\S</code> instead of <code>\\w</code>. In general, I recommend reading <a href=\"http://www.regular-expressions.info/\" rel=\"nofollow noreferrer\">this page</a> to learn more about regular expressions."}], "tags": [], "owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "is_accepted": true, "score": 2, "last_activity_date": 1505984312, "last_edit_date": 1505984312, "creation_date": 1505982885, "answer_id": 46339128, "question_id": 46339018, "link": "https://stackoverflow.com/questions/46339018/how-to-extract-the-next-word-in-a-string-after-a-given-word/46339128#46339128", "title": "How to extract the next word in a string after a given word", "body": "<p>This does the trick:</p>\n\n<p>(Update #1 via <a href=\"https://stackoverflow.com/users/7231/dave-cross\">Dave Cross</a>: Using <code>\\b</code> in front of <code>blue</code> allows matching at the beginning of the string)</p>\n\n<pre><code>use strict;\n\nmy $input = 'I am a blue ball(apple)';\n\nif ( $input =~ /\\bblue\\s+(\\w+)/ ) {\n    my $found = $1;\n    print \"Word found after word 'blue': $found \\n\";    \n} else {\n    print \"No word after word 'blue' present\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Word after word 'blue' found: ball\n</code></pre>\n\n<p>Update #2: How to match the second or third word after <code>blue</code>?</p>\n\n<p>Change the Regex from <code>\\bblue\\s+(\\w+)</code> to <code>\\bblue\\s+\\w+\\s+(\\w+)</code> for the second word.</p>\n\n<p>Correspondingly, use <code>\\bblue\\s+\\w+\\s+\\w+\\s+(\\w+)</code> for the third.</p>\n\n<p>This can be written shorter, but I didn't, to avoid complexity.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1505983120, "post_id": 46339153, "comment_id": 79638174, "body": "The <code>(^| )</code> can probably be replaced with <code>\\b</code>. And the literal space you have between the words should probably be <code>\\s+</code> because the OP said &quot;there can be indefinite white space between the two word&quot;."}], "tags": [], "owner": {"reputation": 138, "user_id": 8639606, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-neutQ_UmytM/AAAAAAAAAAI/AAAAAAAACvA/jjP1-WuOpTU/photo.jpg?sz=128", "display_name": "Ga&#233;tan RYCKEBOER", "link": "https://stackoverflow.com/users/8639606/ga%c3%a9tan-ryckeboer"}, "is_accepted": false, "score": 0, "last_activity_date": 1505986650, "last_edit_date": 1505986650, "creation_date": 1505982966, "answer_id": 46339153, "question_id": 46339018, "link": "https://stackoverflow.com/questions/46339018/how-to-extract-the-next-word-in-a-string-after-a-given-word/46339153#46339153", "title": "How to extract the next word in a string after a given word", "body": "<p>First, try to match the string. Here, it is <code>blue</code>. It May be at the begining. If not, it is preceded and followed by a space.</p>\n\n<pre><code>/(^| )blue /\n</code></pre>\n\n<p>Then, search for the next word. As a word is a group of letters followed by space or end of line:</p>\n\n<pre><code>/([\\w]+)( |$)/\n</code></pre>\n\n<p>Join them together, and only extract the searched word:</p>\n\n<pre><code>/(?:^| )blue ([\\w]+)(?: |$)/\n</code></pre>\n\n<p>You may replace \"blue\" by a variable.</p>\n\n<p>As suggested in the comments below, it is possible to simplify the begining with a <code>\\b</code> and refine the expression with \"one ore more space or tab\" (<code>\\s+</code>):</p>\n\n<pre><code>/\\b$searched_word\\s+([\\w]+)(?:\\s+|$)/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1505984007, "creation_date": 1505984007, "answer_id": 46339483, "question_id": 46339018, "link": "https://stackoverflow.com/questions/46339018/how-to-extract-the-next-word-in-a-string-after-a-given-word/46339483#46339483", "title": "How to extract the next word in a string after a given word", "body": "<p>You have a couple of regex-based solutions that show you the right way to do this. I thought it would be interesting to see if we could build on your solution.</p>\n\n<p>So you build an array of the words in your string. That works fine.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nuse Data::Dumper;\n\n$_ = 'I am a blue ball(apple)';\n\nmy @split_array = split /\\s+/, $_;\n\nsay Dumper \\@split_array;\n</code></pre>\n\n<p>That gives:</p>\n\n<pre><code>$VAR1 = [\n          'I',\n          'am',\n          'a',\n          'blue',\n          'ball(apple)'\n        ];\n</code></pre>\n\n<p>You then use <code>$split_array[1]</code> to get a word. But it's not the right word, of course. <code>$split_array[1]</code> is the second element in the array - which is \"am\".</p>\n\n<p>What you want to do is to walk the array, looking for \"blue\" and then get the next string. Something like this:</p>\n\n<pre><code>foreach (0 .. $#split_array - 1) {\n  if ($split_array[$_] eq 'blue') {\n    say \"The next word is $split_array[$_ + 1]\";\n  }\n}\n</code></pre>\n\n<p><code>$#split_array</code> gives us the index of the last element in <code>@split_array</code> (which is 4). We subtract 1 from that as we want the word <strong>after</strong> \"blue\" and there can't be a word after the last word.</p>\n\n<p>That prints:</p>\n\n<pre><code>The next word is ball(apple)\n</code></pre>\n\n<p>Which isn't what you want. So what went wrong? Well, it's your original call to <code>split</code>. You're splitting on whitespace and there's no whitespace between \"ball\" and \"apple\". So let's split on <code>\\W+</code> (non-word characters) instead.</p>\n\n<p>Then we get an extra item in our array:</p>\n\n<pre><code>$VAR1 = [\n          'I',\n          'am',\n          'a',\n          'blue',\n          'ball',\n          'apple'\n        ];\n</code></pre>\n\n<p>And the correct answer.</p>\n\n<pre><code>The next word is ball\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 8230074, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-tgyFAB3uHag/AAAAAAAAAAI/AAAAAAAAHPY/_qq1Jr0Ib_8/photo.jpg?sz=128", "display_name": "Jayesh Ranjan Majhi", "link": "https://stackoverflow.com/users/8230074/jayesh-ranjan-majhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2792, "favorite_count": 0, "accepted_answer_id": 46339128, "answer_count": 3, "score": 0, "last_activity_date": 1505988200, "creation_date": 1505982586, "last_edit_date": 1505988200, "question_id": 46339018, "link": "https://stackoverflow.com/questions/46339018/how-to-extract-the-next-word-in-a-string-after-a-given-word", "title": "How to extract the next word in a string after a given word", "body": "<p>I want to extract the next word <code>ball</code> after <code>blue</code>. </p>\n\n<p>For example: </p>\n\n<pre><code>I am a blue    #(jjkk, djajd)      ball(apple)\n</code></pre>\n\n<p>I want to extract the next word after <code>blue</code>. </p>\n\n<p>Expected output is: <code>ball</code></p>\n\n<p>There can be indefinite white space between the two words.</p>\n\n<p>I have tried:</p>\n\n<pre><code>@split_array = split(/\\s+/, $');\n\n$next_word = $split_array[1];\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 17784, "user_id": 1646322, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d9fd7a75e0d8ace7bb3276476786c2c0?s=128&d=identicon&r=PG", "display_name": "Ruslan Osmanov", "link": "https://stackoverflow.com/users/1646322/ruslan-osmanov"}, "edited": false, "score": 1, "creation_date": 1505979142, "post_id": 46337696, "comment_id": 79635602, "body": "Zero and one are considered false and true respectively. So you can simply use the short form: <code>if (checkevenodd($no)) {...}</code>. I think this implicit form is also more correct, since you are actually checking if the condition is true or false, and not comparing integers."}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1505979502, "post_id": 46337696, "comment_id": 79635828, "body": "0 is false, but 1 is not exactly true, it is just one possible value for true. True is everything not being false. For example 2 is also true."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1505980780, "post_id": 46337696, "comment_id": 79636660, "body": "@ceving, 0 is just one of many false values as well."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505980963, "post_id": 46337696, "comment_id": 79636782, "body": "Having the subroutine in a different file is a complete red herring here. It has nothing to do with the problem at all."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8459807"}, "edited": false, "score": 0, "creation_date": 1505981476, "post_id": 46337696, "comment_id": 79637129, "body": "i dont understand on why is there no boolean variable in perl but other programming have that"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505981608, "post_id": 46337696, "comment_id": 79637219, "body": "@Azhar: Because (to a first approximation, at least) Perl has no typed variables at all. There are no integer variables, no floating point variables, no string variables. Why would we then want to create Boolean variables?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8459807"}, "edited": false, "score": 0, "creation_date": 1505982443, "post_id": 46337696, "comment_id": 79637760, "body": "I mean $var refer to scalar variable, @array refer to the array % refers to the hash."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505982798, "post_id": 46337696, "comment_id": 79637995, "body": "@Azhar: And Booleans are scalars - as they are a single piece of information."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506015862, "post_id": 46337696, "comment_id": 79660589, "body": "@Azhar, Re &quot;<i>i dont understand on why is there no boolean variable in perl</i>&quot;, Because Perl is built around scalars. You can only pass scalars to subs. Subs can only return scalars. <code>if</code> checks a scalar. <code>foreach</code> iterates over scalars. etc, etc, etc, etc. Having a new type of variable would greatly increase the language&#39;s complexity with no benefit."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1506016323, "post_id": 46337696, "comment_id": 79660805, "body": "@Azhar, OTOH, If you might be asking: Why Perl doesn&#39;t have boolean values <code>true</code> and <code>false</code>? Because it wouldn&#39;t help. What should <code>if ($foo)</code> do when it&#39;s neither <code>true</code> nor <code>false</code>? Well, the way Perl handles cases like these everywhere else is that Perl automatically converts the values with the wrong type into the correct type (e.g. <code>&quot;abc&quot;+&quot;def&quot;</code> is equivalent to <code>0+0</code>). That means <code>if ($foo)</code> would automatically transform <code>$foo</code> into <code>true</code> or <code>false</code> if they&#39;re not already, so you&#39;d get exactly the same behaviour as you get today."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1505980123, "creation_date": 1505980123, "answer_id": 46338280, "question_id": 46337696, "link": "https://stackoverflow.com/questions/46337696/getting-return-boolean-value-from-the-function-in-perl/46338280#46338280", "title": "Getting return boolean value from the function in perl", "body": "<p>When you write:</p>\n\n<pre><code>if (checkevenodd($no) == 1)\n</code></pre>\n\n<p>You are not checking for a Boolean value. You are checking for the value 1. In this case it will work (because <code>checkevenodd()</code> only ever returns 0 or 1) but, in general, you should only ever check the truth of a Boolean expression, not its value. It's much better to write:</p>\n\n<pre><code>if (checkevenodd($no))\n</code></pre>\n\n<p>A couple of other points.</p>\n\n<ul>\n<li><code>checkevenodd</code> is not a good name for this subroutine. When I have subroutines that return Boolean values, I always try to give them a name that starts with <code>is_</code>. Your subroutine returns true if the number is even, so I would call this subroutine <code>is_even()</code>.</li>\n<li><p>Your subroutine is far more complex than it needs to be. I would write it as:</p>\n\n<pre><code>sub is_even {\n  my ($num) = @_;\n\n  # For an even number, $num % 2 is zero - which is false.\n  # Therefore use ! to make it true.\n  return ! $num % 2;\n}\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 1, "last_activity_date": 1505981468, "last_edit_date": 1505981468, "creation_date": 1505980594, "answer_id": 46338437, "question_id": 46337696, "link": "https://stackoverflow.com/questions/46337696/getting-return-boolean-value-from-the-function-in-perl/46338437#46338437", "title": "Getting return boolean value from the function in perl", "body": "<p>How about something like this?</p>\n\n<pre><code>sub even_odd {\n     my ($num) = @_;\n     my $remainder = $num % 2;\n     return $remainder ? 0 : 1;\n\n}\n</code></pre>\n\n<p>and using it as a complete script:</p>\n\n<pre><code>my $no = 123;\nif (even_odd($no))\n{\n    print \"it is even\";\n}\nelse\n {\n   print \"it is odd\";\n}\n\nsub even_odd {\n     my ($num) = @_;\n     my $remainder = $num % 2;\n     return $remainder ? 0 : 1;\n\n}\n</code></pre>\n\n<p>returns: it is odd</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8459807"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "accepted_answer_id": 46338280, "answer_count": 2, "score": 1, "last_activity_date": 1505981468, "creation_date": 1505978217, "last_edit_date": 1505978456, "question_id": 46337696, "link": "https://stackoverflow.com/questions/46337696/getting-return-boolean-value-from-the-function-in-perl", "title": "Getting return boolean value from the function in perl", "body": "<p>I heard from multiple tutorials that there is no Boolean variable. Instead I can use 1 for true or 0 for false. However, I have 2 methods to get the boolean values. The output is the same.. But I do not know which method is correct for collecting the return boolean values.\nLet me give you an example\nI made a script,call.pl to call the function from another script,script.pl and the script.pl will return the 1 or 0. I perform the if conditional to evaluate.\nIf it is true, it will says that it is even otherwise it is odd.</p>\n\n<p>Method 1\nscript.pl</p>\n\n<pre><code>sub checkevenodd {\n     my ($num) = @_;\n     chomp($num);\n     my $remainder = $num % 2;\n     if ($remainder == 0)\n     {\n       return 1;\n     }\n     else\n     {\n        return 0\n     }\n}\n1;\n</code></pre>\n\n<p>call.pl</p>\n\n<pre><code>require \"script.pl\";\nmy $no = 123;\nif (checkevenodd($no) == 1)\n{\n    print \"it is even\";\n}\nelse\n{\n   print \"it is odd\";\n}\n</code></pre>\n\n<p>method 2\nscript.pl</p>\n\n<pre><code>sub checkevenodd {\n     my ($num) = @_;\n     chomp($num);\n     my $remainder = $num % 2;\n     if ($remainder == 0)\n     {\n       return 1;\n     }\n     else\n     {\n        return 0\n     }\n}\n1;\n</code></pre>\n\n<p>call.pl</p>\n\n<pre><code>require \"script.pl\";\nmy $no = 123;\nif (checkevenodd($no))\n{\n    print \"it is even\";\n}\nelse\n{\n   print \"it is odd\";\n}\n</code></pre>\n\n<p>I use the function to check whether is it 1 or 0... Then if it is 1, it is even or else odd.\nSo which method is best for receiving the boolean value from the function?? I do not want to create a variable. Instead I want to return 1 or 0.. How to get the 1 or 0.. Is it correct method??</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1505973002, "post_id": 46336089, "comment_id": 79632444, "body": "Well, it depends on the confition which you are not giving us but typically something like <code>if (!defined $myexcel) {     die &quot;Error: &quot; . $myexcel-&gt;error() . &quot;\\n&quot;; }</code>"}, {"owner": {"reputation": 1, "user_id": 3401547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/079acf810a4b22ff8b50d52ed7b4c7b7?s=128&d=identicon&r=PG&f=1", "display_name": "user3401547", "link": "https://stackoverflow.com/users/3401547/user3401547"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1505976116, "post_id": 46336089, "comment_id": 79633868, "body": "failing the condition means user defined conditions such as  it doesn&#39;t have the specified  columns. Then I want to close the file and exit the script"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1505976398, "post_id": 46336089, "comment_id": 79634012, "body": "well, then there you have it. you make it die"}, {"owner": {"reputation": 1, "user_id": 3401547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/079acf810a4b22ff8b50d52ed7b4c7b7?s=128&d=identicon&r=PG&f=1", "display_name": "user3401547", "link": "https://stackoverflow.com/users/3401547/user3401547"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1505977022, "post_id": 46336089, "comment_id": 79634338, "body": "I want to close the file handler before I exit the script. i.e closing the spreadsheet prior to exit"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505981115, "post_id": 46336089, "comment_id": 79636885, "body": "It&#39;s impossible not to."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505981133, "post_id": 46336089, "comment_id": 79636900, "body": "Also, they are called &quot;file handles&quot; (they hold a resource), not &quot;file handlers&quot; (they don&#39;t handle anything)."}], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 5279526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/584e0f8d11c0a5826c0d803f6cc5ac26?s=128&d=identicon&r=PG&f=1", "display_name": "jayaganthan", "link": "https://stackoverflow.com/users/5279526/jayaganthan"}, "is_accepted": false, "score": 0, "last_activity_date": 1505982667, "creation_date": 1505982667, "answer_id": 46339056, "question_id": 46336089, "link": "https://stackoverflow.com/questions/46336089/closing-a-xlsx-workbook-handler-created-using-in-perl/46339056#46339056", "title": "closing a XLSX workbook handler created using in perl?", "body": "<p>I have used Spreadhseet::XLSX module once. With this module you can only read the contents of the file and not write anything to the excel. \nThis module does not creates any special file handles.  </p>\n\n<p>When you try to create a new excel object, this module just parses the entire excel file and saves all the data from excel to the object. So, you don't have to explicitly close anything. </p>\n\n<p>Now to handle any exceptions(like invalid path, invalid file name) during the creation of excel object, you can do something like this,</p>\n\n<pre><code>eval{\n    my $excelObject = Spreadsheet::XLSX-&gt;new($filename);\n};\ndie \"Unable to read the excel file. Error: \".$@ if($@);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1505983634, "creation_date": 1505983634, "answer_id": 46339366, "question_id": 46336089, "link": "https://stackoverflow.com/questions/46336089/closing-a-xlsx-workbook-handler-created-using-in-perl/46339366#46339366", "title": "closing a XLSX workbook handler created using in perl?", "body": "<p>You do not need to close any handles. Perl will do that for you automatically when it exits.</p>\n\n<p>In addition, most modules use lexical file handles (or database handles or whatever), so they get cleaned up automatically when the variable that holds the object goes out of scope.</p>\n\n<p>Therefore, <strong>don't do anything</strong>. If your program fails, just <code>exit</code> with an error code, or <code>die</code>. All the resources will be freed by Perl for you.</p>\n"}], "owner": {"reputation": 1, "user_id": 3401547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/079acf810a4b22ff8b50d52ed7b4c7b7?s=128&d=identicon&r=PG&f=1", "display_name": "user3401547", "link": "https://stackoverflow.com/users/3401547/user3401547"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1505983634, "creation_date": 1505971791, "last_edit_date": 1505977109, "question_id": 46336089, "link": "https://stackoverflow.com/questions/46336089/closing-a-xlsx-workbook-handler-created-using-in-perl", "title": "closing a XLSX workbook handler created using in perl?", "body": "<p>I have opened a xlsx file using <code>$workbook = Spreadsheet::XLSX -&gt; new($filename)</code>,\nand close the above handler if the contents fails for some conditions <code>$wrokbook-&gt; close()</code>, </p>\n\n<p>But it gives the error:</p>\n\n<blockquote>\n  <p>Can't locate object method \"close\" via package \"Spreadsheet::ParseExcel::Workbook\".</p>\n</blockquote>\n\n<p>Is there any other method to close the handler ?</p>\n"}, {"tags": ["javascript", "ajax", "perl", "server-side"], "comments": [{"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1505952668, "post_id": 46333444, "comment_id": 79627703, "body": "Are any errors logged at server? Have you tried attaching <code>error</code> property to <code>$.ajax()</code> call? Why is there and extra <code>}</code> at JavaScript? Is <code>data</code> defined at JavaScript? Is code within <code>$(function(){})</code>?"}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1505953272, "post_id": 46333444, "comment_id": 79627841, "body": "Nope, no errors are logged. That extra } was just a typo. data is declared as a variable, does there need to be another data for the ajax to work properly? And I&#39;m not sure what you mean with that last question."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1505953354, "post_id": 46333444, "comment_id": 79627858, "body": "See <a href=\"http://api.jquery.com/ready/\" rel=\"nofollow noreferrer\">api.jquery.com/ready</a>. Why use <code>async:false</code>?"}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1505953606, "post_id": 46333444, "comment_id": 79627915, "body": "Code that is similar to what I am trying do used async:false so I added it in hoping it would work the same. I don&#39;t have that code readily available though, so it was an off memory sorta thing. Would recommend against it and why? Also no I haven&#39;t coded a .ready() anywhere, so far my JS file is just this function."}, {"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 0, "creation_date": 1505954145, "post_id": 46333444, "comment_id": 79628016, "body": "You need to wait for DOM ready or one of the other delay techniques, otherwise when you do <code>$(&quot;#textBox&quot;).va()</code> &quot;textBox&quot; might not even exist yet."}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "edited": false, "score": 0, "creation_date": 1505958435, "post_id": 46333444, "comment_id": 79628852, "body": "So a console.log() show that the value is there when the button is clicked on. Any thoughts on how the script isn&#39;t executing? The value is there, permissions are there, its executable, and command line works."}, {"owner": {"reputation": 56, "user_id": 2364588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb2c537f3203f6e6a0c63ff72be4c09?s=128&d=identicon&r=PG", "display_name": "mike", "link": "https://stackoverflow.com/users/2364588/mike"}, "edited": false, "score": 0, "creation_date": 1505961929, "post_id": 46333444, "comment_id": 79629610, "body": "Probably not the problem, but you&#39;re missing closing quote on the DB connection string. I suspect this is due to you changing the <code>username:password</code>? If not, then that would be a problem."}, {"owner": {"reputation": 56, "user_id": 2364588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb2c537f3203f6e6a0c63ff72be4c09?s=128&d=identicon&r=PG", "display_name": "mike", "link": "https://stackoverflow.com/users/2364588/mike"}, "edited": false, "score": 0, "creation_date": 1505962081, "post_id": 46333444, "comment_id": 79629642, "body": "Looks like this line <code>$sth = $dbh-&gt;prepare(&quot;INSERT INTO dataList ($dataIn) VALUES (?)&quot;);</code> should probably be: <code>$sth = $dbh-&gt;prepare(&quot;INSERT INTO dataList (data) VALUES (?)&quot;);</code>"}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "edited": false, "score": 0, "creation_date": 1505962936, "post_id": 46333444, "comment_id": 79629842, "body": "That&#39;s just dummy code. I don&#39;t need to share to the IT world my database&#39;s login credentials ha ha. The actual script runs them just fine and closes the connection. I must have forgotten to paste that in."}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "edited": false, "score": 0, "creation_date": 1505964997, "post_id": 46333444, "comment_id": 79630328, "body": "--SOLVED-- So for those who use Blue Host VPS or have an apche server that doesn&#39;t read binary CGI files make sure that the file is in or uploaded in ASCII mode. I downloaded the script then uploaded it in FTP with ASCII mode and boom instant success! What a headache over something dumb...live and learn right? Hope someone else can learn from this question"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1505973307, "post_id": 46333444, "comment_id": 79632534, "body": "@CoderLee See <a href=\"https://stackoverflow.com/help/self-answer\">stackoverflow.com/help/self-answer</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505979502, "post_id": 46333444, "comment_id": 79635827, "body": "@CoderLee: Please post your solution in an answer (and accept it)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505981195, "post_id": 46333444, "comment_id": 79636943, "body": "@CoderLee: Please use <code>CGI-&gt;new</code> instead of <code>new CGI</code>. Your future self who doesn&#39;t have to debug one of the obscure corner cases where <code>new CGI</code> fails will thank you!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505981214, "post_id": 46333444, "comment_id": 79636956, "body": "@CoderLee: CGI programs? In 2017? Why?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505987186, "post_id": 46333444, "comment_id": 79640894, "body": "@DaveCross cos it&#39;s simple and easier to deploy a script (in any language) that uses CGI (the interface not the module) than most other options?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1505987486, "post_id": 46333444, "comment_id": 79641164, "body": "@ChrisTurner: Oh I don&#39;t care if people want to deploy their code in a CGI environment (well, I think it&#39;s a stupid idea, but people do stupid things, right?) But even if you&#39;re targetting a CGI environment, writing something using PSGI/Plack is easier and more flexible."}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "edited": false, "score": 0, "creation_date": 1505994464, "post_id": 46333444, "comment_id": 79646059, "body": "@DavrCross I&#39;m brushing up on CGI one because it is effective and well maintained from the gnu crowd, in my opinion, and two because my work uses a ton of it so I need to get better at writing it. Since you are adamantly opposed to it what&#39;s your preferred web scripting?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506065489, "post_id": 46333444, "comment_id": 79678006, "body": "@CoderLee: Well, I prefer to call it &quot;web development&quot;, rather than &quot;scripting&quot; as I see &quot;scripting&quot; as a mildly disparaging term. Personally, I write a lot of web apps using Dancer, but anything that is based on PSGI (even raw PSGI, without a framework) will make your life easier. It gives you more power and flexibility and is easier to write. And you get complete flexibility over deployment too. You can deploy as a CGI program or using FCGI or a mod_perl handler. All without changing a line of code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506065642, "post_id": 46333444, "comment_id": 79678085, "body": "@CoderLee: If you&#39;re getting a 500 error in the browser, then you&#39;ll see more useful information in the web server error log. (And, as an aside, this kind of debugging is one of the things that is easier when you&#39;re using PSGI)."}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506108326, "post_id": 46333444, "comment_id": 79703280, "body": "@Dave Cross: Thanks for the info I&#39;ll have to work of building some apps with PSGI. And any Idea as to why a newer user can&#39;t answer their own question? I tried to do so yesterday and today but SO won&#39;t let me"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506166434, "post_id": 46333444, "comment_id": 79716710, "body": "@CoderLee Probably something to do with <a href=\"https://stackoverflow.com/help/privileges\">user privileges</a> but I can&#39;t see anything obvious."}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506167182, "post_id": 46333444, "comment_id": 79716921, "body": "@Dave Cross Maybe I just need to acquire more reputation points. Thanks for giving a very good answer though."}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1506167237, "post_id": 46333444, "comment_id": 79716938, "body": "@Dave Cross I tried to up vote it but I&#39;m not at enough rep points to do so yet"}], "answers": [{"comments": [{"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "edited": false, "score": 0, "creation_date": 1505962797, "post_id": 46334665, "comment_id": 79629809, "body": "Thanks! Well spotted, but you were right about copy and paste. My queries run fine on command line. I just can&#39;t find a way to get Apache to run the darn script..."}, {"owner": {"reputation": 56, "user_id": 2364588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb2c537f3203f6e6a0c63ff72be4c09?s=128&d=identicon&r=PG", "display_name": "mike", "link": "https://stackoverflow.com/users/2364588/mike"}, "reply_to_user": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "edited": false, "score": 0, "creation_date": 1505969562, "post_id": 46334665, "comment_id": 79631339, "body": "No worries. Have you tried accessing the script via curl on the local host to see if there is more information on the 500 error? Likewise using Chrome to access the script directly <code>http:&#47;&#47;localhost&#47;script.cgi?data=test</code> and see if the 500 error response body has information you can use to debug?"}], "tags": [], "owner": {"reputation": 56, "user_id": 2364588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb2c537f3203f6e6a0c63ff72be4c09?s=128&d=identicon&r=PG", "display_name": "mike", "link": "https://stackoverflow.com/users/2364588/mike"}, "is_accepted": false, "score": 1, "last_activity_date": 1505962246, "creation_date": 1505962246, "answer_id": 46334665, "question_id": 46333444, "link": "https://stackoverflow.com/questions/46333444/calling-perl-cgi-with-jquery-ajax/46334665#46334665", "title": "Calling perl CGI with jquery $.ajax()", "body": "<p>Just noting some issues I can see in the script as it's posted. Sorry if these are things that were copy paste errors from posting to stackoverflow, rather than the core issues.</p>\n\n<ol>\n<li>Database connection string is missing a closing quote.</li>\n</ol>\n\n<hr>\n\n<ol start=\"2\">\n<li>The insert statement looks incorrect</li>\n</ol>\n\n<hr>\n\n<pre><code>$sth = $dbh-&gt;prepare(\"INSERT INTO dataList ($dataIn) VALUES (?)\");\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>$sth = $dbh-&gt;prepare(\"INSERT INTO dataList (data) VALUES (?)\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1506075286, "creation_date": 1506075286, "answer_id": 46362276, "question_id": 46333444, "link": "https://stackoverflow.com/questions/46333444/calling-perl-cgi-with-jquery-ajax/46362276#46362276", "title": "Calling perl CGI with jquery $.ajax()", "body": "<p>The OP has posted a comment explaining that the problem has been solved. As he doesn't seem to want to post an answer explaining it for other people who have similar problems, I'll do it.</p>\n\n<p>If you're uploading files from Windows to a Unix/Linux server, then it's important to do that in ASCII mode. That way, all of the Windows-style line-end characters will automatically be converted to Unix-style line-end characters. If you don't do that, then when your file arrives on the server, it will appear to all be on one line (as the Windows-style line-end characters won't be recognised).</p>\n\n<p>This is particularly important for programs which are executes using the shebang line (and, of course, Perl programs fall into that category). The shebang line is supposed to include the path to the program which is used to execute the code. And if that line doesn't end you are very likely to get some very strange behaviour.</p>\n\n<p>It's worth adding a couple more points:</p>\n\n<ul>\n<li>This problem will almost certainly have left a useful message in the web server error log.</li>\n<li>This is a good reason why it's well worth developing on the same platform that you will be using for deployment. With good virtual machine environments available for free for all platforms (including Windows), there is no reason why you can't develop in Linux on your Windows machine.</li>\n</ul>\n"}], "owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 954, "favorite_count": 0, "accepted_answer_id": 46362276, "answer_count": 2, "score": 1, "last_activity_date": 1506075286, "creation_date": 1505952357, "last_edit_date": 1505956705, "question_id": 46333444, "link": "https://stackoverflow.com/questions/46333444/calling-perl-cgi-with-jquery-ajax", "title": "Calling perl CGI with jquery $.ajax()", "body": "<p>I am trying to call a perl script with a .cgi extension through an ajax call with jQuery, but am not having much luck. On the command line the application runs fine, but when calling it with JS in the browser after a click event nothing seems to be returned.</p>\n\n<p>If someone could point out what's going wrong it would appreciated.</p>\n\n<p>FYI permissions are set to 755. The apache2 handler is set for .cgi  .pl .py .ppl and .perl so I know it's not a handler or permissions issue.</p>\n\n<p>.js file</p>\n\n<pre><code>function getData() {\n\nvar data = $(\"#textBox\").val(); // this contains a small string\n\n    $.ajax({\n        url:\"/public_html/cgi-bin/emailSubList.cgi\",\n        type:\"GET\",\n        data:\"data=\"+data,\n        async:false,\n        success:function(res){\n            alert(\"result is: \" + res);\n            }\n       }); \n  }\n</code></pre>\n\n<p>.cgi perl script</p>\n\n<pre><code>#!usr/local/bin/perl\n\nuse CGI;\nuse DBI;\nuse strict;\n\nmy $in = new CGI;\nmy $dataIn = $in-&gt;param('data');\n#this connects, but I don't need to share the login to all\nmy $dbh = DBI-&gt;connect(\"DBI:mysql:database:username:password);\nmy $sth;\nmy $result;\n\n$sth = $dbh-&gt;prepare(\"SELECT id FROM dataList WHERE data=?\");\n$sth-&gt;execute($dataIn);\n\nmy @res = $sth-&gt;fetchrow_array();\n\nif(@res &gt; 0) {\n    $result = 'Data has already been submitted';\n}\nelse {\n$sth = $dbh-&gt;prepare(\"INSERT INTO dataList ($dataIn) VALUES (?)\");\n$sth-&gt;execute($dataIn);\n\n$result = 'Data added!';\n}\n\nprint $in-&gt;header('text/plain;charset=UTF-8');\nprint \"$result\";\n</code></pre>\n\n<p>UPDATE: there is an error being thrown, 500 internal server error, but I'm not seeing why since the permissions are 755 and the syntax checks out ok with perl -wc script_name.cgi any thoughts on how to debug this or other things to check for would be very helpful.</p>\n\n<p>The above is called with a click event in a web page, but it doesn't seem to execute the perl app. The goal here is to get data sent to a DB and return it, or something else, from the same DB with a simple ajax call.</p>\n"}]