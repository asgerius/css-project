[{"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1504731760, "post_id": 46084161, "comment_id": 79130577, "body": "How do you check? Also, don&#39;t forget to <a href=\"http://p3rl.org/close\" rel=\"nofollow noreferrer\">close</a> the filehandle if you&#39;re checking the file contents while the script still runs."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 6, "creation_date": 1504732770, "post_id": 46084161, "comment_id": 79131005, "body": "Please show the actual code.  If this is it, you have <code>if (condition)</code> (no <code>$</code>), which also means that you don&#39;t have <code>use warnings;</code> (and surely not <code>use strict;</code>), which is a bad error."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1504751462, "post_id": 46084161, "comment_id": 79135939, "body": "I have try the code you post and it working. Please show us a complete code so we can figure out where the problem is."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1504752798, "post_id": 46084161, "comment_id": 79136201, "body": "You are mistaken, or you are lying about the code you ran or the output it gave. There&#39;s no way the second <code>print</code> inside the <code>if</code> executed but not the second."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1504759503, "post_id": 46087315, "comment_id": 79137699, "body": "very cool just how &quot;obvious&quot; it is :)"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1504759594, "post_id": 46087315, "comment_id": 79137726, "body": "I&#39;ll upvote this all day"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 6, "last_activity_date": 1504754510, "creation_date": 1504754510, "answer_id": 46087315, "question_id": 46084161, "link": "https://stackoverflow.com/questions/46084161/write-to-file-doesnt-work-inside-if-statement/46087315#46087315", "title": "&quot;write to file&quot; doesn&#39;t work inside if statement", "body": "<p>Obviousy, <code>condition</code> is a function that <a href=\"https://metacpan.org/pod/perltie\" rel=\"noreferrer\">ties</a> filehandle FH into a package that disables <code>print</code>.</p>\n\n<p>Here's a prototype:</p>\n\n<pre><code>$files = $ARGV[0];\nsub condition { tie *FH, 'print_disabler'; 1 }\nsub print_disabler::TIEHANDLE { bless {},shift }\nsub print_disabler::PRINT { return }\n\nopen (FH, '&gt;&gt;', $files) or die $!;\n\nprint FH \"outside if, write to file\";\n\nif (condition){\n    print FH \"inside if, write to file\";\n    print \"inside if, normal print\";\n\n};\n\n$ perl condition.pl foo\ninside if, normal print\n$ cat foo\noutside if, write to file\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8540410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8998e6c337f822ca79d6b104a1d08d0?s=128&d=identicon&r=PG&f=1", "display_name": "Nandu", "link": "https://stackoverflow.com/users/8540410/nandu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 1, "closed_date": 1504802568, "answer_count": 1, "score": -2, "last_activity_date": 1504754510, "creation_date": 1504731219, "last_edit_date": 1504731827, "question_id": 46084161, "link": "https://stackoverflow.com/questions/46084161/write-to-file-doesnt-work-inside-if-statement", "closed_reason": "Not suitable for this site", "title": "&quot;write to file&quot; doesn&#39;t work inside if statement", "body": "<p>I have a simple \"write to file\" in Perl. But the file never write, inside the if statement. It writes, out side the if statement. If condition is always met, and normal print works. Any clue?</p>\n\n<pre><code>open (FH, '&gt;&gt;', $files) or die $!;\n\nprint FH \"outside if, write to file\";\n\nif (condition){\n    print FH \"inside if, write to file\";\n    print \"inside if, normal print\";\n\n};\n</code></pre>\n\n<p>output is </p>\n\n<pre><code>inside if, normal print\n</code></pre>\n\n<p>File content is </p>\n\n<pre><code>outside if, write to file\n</code></pre>\n"}, {"tags": ["perl", "file", "subdirectory"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1504730558, "post_id": 46083908, "comment_id": 79130022, "body": "What do you mean by &quot;bombs&quot;?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504803604, "post_id": 46083908, "comment_id": 79165868, "body": "Please don&#39;t use <i>&quot;bombs&quot;</i>, <i>&quot;failing&quot;</i>, <i>&quot;doesn&#39;t work&quot;</i> etc. It gives no useful information at all about what the problem may be."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8571203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f7adaedda0d37a32b2ce0ad9ab8cbbb?s=128&d=identicon&r=PG&f=1", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8571203/ipaul"}, "edited": false, "score": 0, "creation_date": 1504730612, "post_id": 46083957, "comment_id": 79130050, "body": "Thank you, I&#39;ll change that.  But, this still doesn&#39;t explain why  open my $in,  &#39;&lt;&#39;,  $File::Find::name    or die &quot;Can&#39;t read old file: $!&quot;; is failing on the file ./Horse/Models.meta.  Do you know what could cause that?  It works fine on paths without slashes (root files)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 33, "user_id": 8571203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f7adaedda0d37a32b2ce0ad9ab8cbbb?s=128&d=identicon&r=PG&f=1", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8571203/ipaul"}, "edited": false, "score": 0, "creation_date": 1504730644, "post_id": 46083957, "comment_id": 79130074, "body": "What do you mean by &quot;failing&quot;? What error do you get?"}, {"owner": {"reputation": 33, "user_id": 8571203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f7adaedda0d37a32b2ce0ad9ab8cbbb?s=128&d=identicon&r=PG&f=1", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8571203/ipaul"}, "edited": false, "score": 0, "creation_date": 1504730710, "post_id": 46083957, "comment_id": 79130100, "body": "Can&#39;t read old file: No such file or directory at setAssetBund.pl line 11."}, {"owner": {"reputation": 33, "user_id": 8571203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f7adaedda0d37a32b2ce0ad9ab8cbbb?s=128&d=identicon&r=PG&f=1", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8571203/ipaul"}, "edited": false, "score": 0, "creation_date": 1504730998, "post_id": 46083957, "comment_id": 79130241, "body": "Okay, added it and ran again: Can&#39;t read old file: (./Animals Horses/Models.meta) No such file or directory at setAssetBund.pl line 11. (note: some changing of the directory structure has altered the first file encountered in a subdirectory but same issue nevertheless)  This one has a space in the name too."}, {"owner": {"reputation": 33, "user_id": 8571203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f7adaedda0d37a32b2ce0ad9ab8cbbb?s=128&d=identicon&r=PG&f=1", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8571203/ipaul"}, "edited": false, "score": 0, "creation_date": 1504733029, "post_id": 46083957, "comment_id": 79131121, "body": "Thank you!! This worked!  I didn&#39;t no about no_chdir"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1504731154, "last_edit_date": 1504731154, "creation_date": 1504730259, "answer_id": 46083957, "question_id": 46083908, "link": "https://stackoverflow.com/questions/46083908/cant-open-files-in-subdirectories-in-perl/46083957#46083957", "title": "Can&#39;t open files in subdirectories in Perl", "body": "<p>Just use</p>\n\n<pre><code>rename \"$File::Find::name.new\", $File::Find::name or die $!;\n</code></pre>\n\n<p>See <a href=\"http://p3rl.org/rename\" rel=\"nofollow noreferrer\">rename</a>.</p>\n\n<p>If you want to use the relative path (i.e. $File::Find::name) instead of just the filename (i.e. $_), you need to specify</p>\n\n<pre><code>find({ wanted   =&gt; sub { ... },\n       no_chdir =&gt; 1,\n}, '.');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 8571203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f7adaedda0d37a32b2ce0ad9ab8cbbb?s=128&d=identicon&r=PG&f=1", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8571203/ipaul"}, "edited": false, "score": 0, "creation_date": 1504733076, "post_id": 46084186, "comment_id": 79131147, "body": "Thank you!! no_chdir was what I was missing.  I didn&#39;t realized it was changing cwd&#39;s on me!"}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 0, "creation_date": 1504824907, "post_id": 46084186, "comment_id": 79175464, "body": "This is unrelated but is there a reason you write 0x7F instead of the decimal version? I don&#39;t see this used in <code>perlvar</code> for <code>$?</code> and I&#39;m curious if it matters."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1504731293, "creation_date": 1504731293, "answer_id": 46084186, "question_id": 46083908, "link": "https://stackoverflow.com/questions/46083908/cant-open-files-in-subdirectories-in-perl/46084186#46084186", "title": "Can&#39;t open files in subdirectories in Perl", "body": "<p><code>$File::Find::name</code> is the complete pathname to the file relative to the original CWD, but <code>File::Find</code> keeps changing the CWD unless you tell it otherwise. Either tell File::Find not to change the CWD using <code>no_chdir =&gt; 1</code>, or use <code>$_</code> instead of <code>$File::Find::name</code>. I recommend the former.</p>\n\n<hr>\n\n<p>On an unrelated note, you should use the following to rename files instead of shelling out.</p>\n\n<pre><code>rename($old_name, $new_name)\n   or die(\"Can't rename \\\"$old_name\\\" \\\"$new_name\\\": $!\\n\");\n</code></pre>\n\n<p>If you need to rename files across file system boundaries, you could use File::Copy's <code>move</code>, though shelling out is not so bad then, if done properly:</p>\n\n<pre><code>system(\"mv\", \"-f\", \"--\", $old_name, $new_name);\ndie(\"Error executing mv: $!\\n\") if $? == -1;\ndie(\"mv killed by signal \".( $? &amp; 0x7F ).\"\\n\") if $? &amp; 0x7F;\ndie(\"mv returned error \".( $? &gt;&gt; 8 ).\"\\n\") if $? &gt;&gt; 8;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8571203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f7adaedda0d37a32b2ce0ad9ab8cbbb?s=128&d=identicon&r=PG&f=1", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8571203/ipaul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 46083957, "answer_count": 2, "score": 3, "last_activity_date": 1504731293, "creation_date": 1504730084, "question_id": 46083908, "link": "https://stackoverflow.com/questions/46083908/cant-open-files-in-subdirectories-in-perl", "title": "Can&#39;t open files in subdirectories in Perl", "body": "<p>I'm having a really hard time.  I'm new to Perl and I'm completely stuck trying to traverse all subdirectories, performing an operation.  It works fine in the root dir (of where my script is), but as soon as it gets to a subdirectory, it bombs.  I've tried surrounding the filename in \" or ' or q{} to no avail.  I've searched for this problem on StackOverflow and people are saying it should just work, that open handles subdirs and will accept forward slashes.\nIt's failing on the first open (reading a file) as soon as it dives into a directory and tries to open './Horse/Models.meta'.  This is after it processed 20 files at the same level as my script.  Any ideas?</p>\n\n<pre><code>use 5.010;\nuse strict;\nuse warnings;\nuse File::Find;\n\nfind(sub {\nif (-f and /\\.meta$/) {\n    print \"--&gt; \" . $File::Find::name . \"\\n\";\n    open my $in,  '&lt;',  $File::Find::name    or die \"Can't read old file: $!\";\n    open my $out, '&gt;', \"$File::Find::name.new\" or die \"Can't write new file: $!\";\n\n    while( &lt;$in&gt; )\n    {\n            if(index($_,\"  assetBundleName:\")!=-1) {\n                    print $out \"  assetBundleName: mobs\\n\";\n            } else {\n                    print $out $_;\n            }\n    }\n    close $out;\n    print(\"mv -f \\\"\" . $File::Find::name . \".new\\\" \\\"\" . $File::Find::name . \"\\\"\\n\");\n\n    system(\"mv -f \\\"\" . $File::Find::name . \".new\\\" \\\"\" . $File::Find::name . \"\\\"\");\n\n  }\n}, '.');\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504803972, "post_id": 46083232, "comment_id": 79166060, "body": "Please have the courtesy to lay out your code sensibly when you are asking for free assistance to fix it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1504856638, "post_id": 46083232, "comment_id": 79184790, "body": "I have added indentation to your code. You&#39;re welcome, but please do it yourself in future. If you are asking a large group of strangers to read and understand your code, then it is surely only polite to make it as easy to follow as possible. My indentation appears to have revealed an extra <code>}</code>. I&#39;ve left it there, but you might want to remove it."}], "answers": [{"comments": [{"owner": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "edited": false, "score": 0, "creation_date": 1504727661, "post_id": 46083320, "comment_id": 79128562, "body": "Why am I getting this error: <code>Unrecognized character \\xE2; marked by &lt;-- HERE after while (&lt;-- HERE near column 8 at perl_test.pl line 2.</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "edited": false, "score": 0, "creation_date": 1504727716, "post_id": 46083320, "comment_id": 79128595, "body": "@MAPK, You miscopied my code. There is no such character in my program."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "edited": false, "score": 0, "creation_date": 1504728332, "post_id": 46083320, "comment_id": 79128892, "body": "Then you miscopied it again. In my program, the character after <code>while (</code> is <code>&lt;</code> (<code>3C</code>), not nonsense (<code>E2</code>)."}, {"owner": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "edited": false, "score": 0, "creation_date": 1504728447, "post_id": 46083320, "comment_id": 79128957, "body": "Ok, IS it not how your direct your file? <code>while (&#39;&#47;Users&#47;Desktop&#47;merged.txt&#39;) {</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "edited": false, "score": 1, "creation_date": 1504728493, "post_id": 46083320, "comment_id": 79128986, "body": "No. <code>while (&#39;&#47;Users&#47;Desktop&#47;merged.txt&#39;)</code> is the same as <code>while (1)</code>, an infinite loop. Keep <code>while (&lt;&gt;)</code> and pass the path as an argument on the command line. (Alternatively, you&#39;ll need to use <code>open</code>.)"}, {"owner": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "edited": false, "score": 0, "creation_date": 1504728612, "post_id": 46083320, "comment_id": 79129043, "body": "Ok. Got it. Thank you so much!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "edited": false, "score": 1, "creation_date": 1504729403, "post_id": 46083320, "comment_id": 79129432, "body": "hum? It&#39;s quite basic. Not only that, since you already know what the whole does, you should have no problem figuring out what each bit does! What exactly do you need help with?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "edited": false, "score": 3, "creation_date": 1504729708, "post_id": 46083320, "comment_id": 79129580, "body": "By the way, judging from the lines numbers in your earlier error message, it looks like you didn&#39;t add <code>use strict; use warnings qw( all );</code>. ALWAYS use these. (It&#39;s common to not include them in snippets since it&#39;s presumed everyone knows to use them.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1504727694, "last_edit_date": 1504727694, "creation_date": 1504727523, "answer_id": 46083320, "question_id": 46083232, "link": "https://stackoverflow.com/questions/46083232/how-to-extract-line-after-line-with-matching-pattern-in-perl/46083320#46083320", "title": "How to extract line after line with matching pattern in perl", "body": "<pre><code>my $print;\nwhile (&lt;&gt;) {\n   if ( my $qfn = /^\\s*%\\s*\\S+\\s+(\\S+)/ ) {\n      ( my $fn = $qfn ) =~ s{^.*/}{}s;\n      print(\"$fn\\n\");\n   }\n\n   print if $print;\n   $print = /length/;\n}\n</code></pre>\n"}], "owner": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 46083320, "answer_count": 1, "score": 1, "last_activity_date": 1504856526, "creation_date": 1504727160, "last_edit_date": 1504856526, "question_id": 46083232, "link": "https://stackoverflow.com/questions/46083232/how-to-extract-line-after-line-with-matching-pattern-in-perl", "title": "How to extract line after line with matching pattern in perl", "body": "<p>I am new in perl. I am trying this code below to extract line after the line that has string \"length' in my text file <code>merge.txt</code>. I want to get the result as shown below. can someone please help me with what I need to add to my code. Thanks</p>\n\n<pre><code>my @array;    \n\nWhile (@array = \u2018/Users/Desktop/merged.txt\u2019) {    \n\n  foreach my $line (@array) {    \n\n    if ($line =~ m/length/) {      \n\n      my $a = $array[$i+1];    \n      push (@array, $a);    \n    }  \n\n    my $wanted_type = \"$1\";      \n    print \"$wanted_type\\n\";      \n  }      \n}    \n} \n</code></pre>\n\n<p><code>merge.txt</code> file has </p>\n\n<pre><code>owner@owner-HP-Z840-Workstation ~/SLM/Desktop/Documents\n % ./count-smRNAs.pl /media/owner/c92ed9e9-3d94-497c-bb2e-514a4806bbcd/merged.fastq 32 32\nlength  number  A   C   G   T\n32  14824945    1992856 1576607 2413263 8756583\nowner@owner-HP-Z840-Workstation ~/SLM/Desktop/Documents\n % ./count-smRNAs.pl /media/owner/c92ed9e9-3d94-497c-bb2e-514a4806bbcd/merged.fastq 33 33\nlength  number  A   C   G   T\n33  58619575    1415093 3274505 5499169 48070172\nowner@owner-HP-Z840-Workstation ~/SLM/Desktop/Documents\n % ./count-smRNAs.pl /media/owner/c92ed9e9-3d94-497c-bb2e-514a4806bbcd/test.fastq 34 34\nlength  number  A   C   G   T\n34  13018196    1047476 903554  1695778 9296236\n</code></pre>\n\n<p>result I want is shown below. I also want to grab the filename from line \n that has <code>/c92ed9e9-3d94-497c-bb2e-514a4806bbcd/</code> as shown below.</p>\n\n<pre><code>merged.fastq\n32  14824945    1992856 1576607 2413263 8756583\n33  58619575    1415093 3274505 5499169 48070172\ntest.fastq\n34  13018196    1047476 903554  1695778 9296236\n</code></pre>\n"}, {"tags": ["perl", "unicode", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1504719564, "post_id": 46081159, "comment_id": 79124254, "body": "Re &quot;<i>But the decoding returns an error if the json string contains the non-utf-8 encoded character</i>&quot;, What else could you expect from an improperly-encoded document? You should fix whatever is incorrectly encoding the JSON."}, {"owner": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504719746, "post_id": 46081159, "comment_id": 79124368, "body": "@ikegami and make sure we use JSON-&gt;new-&gt;utf8-&gt;decode() ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504719893, "post_id": 46081159, "comment_id": 79124454, "body": "The general usage is: <code>JSON-&gt;new-&gt;decode(Encode::decode($encoding, $encoded_json))</code>, but you can use <code>JSON-&gt;new-&gt;utf8-&gt;decode($encoded_json)</code> if UTF-8 is the character encoding used (which is the normal case)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504720014, "post_id": 46081159, "comment_id": 79124542, "body": "If that other data is some kind of binary data, perhaps you should pass is through <code>encode_base64</code>?"}, {"owner": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504720131, "post_id": 46081159, "comment_id": 79124599, "body": "@ikegami for some reason that data is probably not encoded in utf-8 (I believe it is in ISO-8859) and we need to pass it correctly with the correct original encoding. How can we pass it through <code>base64</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1504720595, "post_id": 46081159, "comment_id": 79124869, "body": "Re &quot;<i>we need to pass it [...] with the [...] original encoding.</i>&quot;, That&#39;s a stupid thing to do. Having to deal with more than one encoding at a time is a whole lot of extra work, it&#39;s error prone, and it means you&#39;re working with encoded bytes instead of text, so you can&#39;t use anything that works on text (such as regular expressions and <code>$json-&gt;encode</code>). To convert bytes into text without removing the character decoding, you can use <code>encode_base64</code>: <code>use MIME::Base64 qw( encode_base64 ); my $text = encode_base64($bytes, &#39;&#39;);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "edited": false, "score": 0, "creation_date": 1504729372, "post_id": 46081709, "comment_id": 79129421, "body": "Thanks. Does that mean that if the input is already a mixture of characters of both encodings (&#39;iso-latin-1&#39; and &#39;UTF-8&#39;), there is no good way for <code>encode_base64</code> to handle it?"}, {"owner": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "edited": false, "score": 0, "creation_date": 1504732576, "post_id": 46081709, "comment_id": 79130930, "body": "That seems very odd that the <code>encode_base64</code> and <code>decode_base64</code> only work in my testing prog. I printed out the string that I encoded using <code>encode_base64</code>, and when I copy-and-pasted this to my own testing program using <code>decode_base64</code>, it is able to be decoded correctly. But my program still interprets the <code>\u6d4b\u8bd5</code> as a string with octal code <code>C3 A6 C2 B5 C2 8B C3 A8 C2 AF C2 95</code> instead of <code>E6 B5 8B E8 AF 95</code>, and the string that is encoded in iso-latin was still <code>c2 b2 c3 a2 c3 8a c3 94</code>, even after I used <code>encode_base64</code> and <code>decode_base64</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "edited": false, "score": 0, "creation_date": 1504733049, "post_id": 46081709, "comment_id": 79131134, "body": "Is that a question? Because you haven&#39;t showed either of those programs"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1504721890, "last_edit_date": 1504721890, "creation_date": 1504721198, "answer_id": 46081709, "question_id": 46081159, "link": "https://stackoverflow.com/questions/46081159/what-is-the-best-practice-to-preserve-the-code-pages-of-content-when-decoding/46081709#46081709", "title": "What is the best practice to preserve the code page(s) of content when decoding from a json string?", "body": "<p>Sounds like you are trying to use JSON to transmit binary data, but it's not well suited for that. I would base64-encode the binary data.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\nuse utf8;\n\nuse Encode       qw( encode );\nuse JSON::XS     qw( encode_json );\nuse MIME::Base64 qw( encode_base64 );\n\nbinmode STDOUT;\n\nmy $mime_doc1 = encode('iso-latin-1', &lt;&lt;'__EOS__');\nContent-Type: text/plain; charset=iso-latin-1\n\n\u00c9ric\n__EOS__\n\nmy $mime_doc2 = encode('UTF-8', &lt;&lt;'__EOS__');\nContent-Type: text/plain; charset=UTF-8\n\n\u6d4b\u8bd5\n__EOS__\n\nmy @encoded_docs = map { encode_base64($_, '') }\n   $mime_doc1,\n   $mime_doc2;\n\nmy $json_utf8 = encode_json({\n   title =&gt; '\u2661',\n   docs  =&gt; \\@encoded_docs,\n});\n\nsay $json_utf8;\n</code></pre>\n\n<p>Output (with whitespace added):</p>\n\n<pre><code>{\n   \"title\": \"\u2661\",\n   \"docs\": [\n      \"Q29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBjaGFyc2V0PWlzby1sYXRpbi0xCgrJcmljCg==\",\n      \"Q29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBjaGFyc2V0PVVURi04CgrmtYvor5UK\"\n   ]\n}\n</code></pre>\n"}], "owner": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504774029, "creation_date": 1504718951, "last_edit_date": 1504774029, "question_id": 46081159, "link": "https://stackoverflow.com/questions/46081159/what-is-the-best-practice-to-preserve-the-code-pages-of-content-when-decoding", "title": "What is the best practice to preserve the code page(s) of content when decoding from a json string?", "body": "<p>This question is related to my previous questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/45844321/what-is-the-encoding-of-b2-e2-ca-d4\">What is the encoding of b2 e2 ca d4?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/45799683/what-is-the-encoding-of-e6-b5-8b-e8-af-95\">What is the encoding of e6 b5 8b e8 af 95</a></p>\n\n<p>I am running into an issue while decoding a jsong string to a json object in perl. The json string has Chinese characters <code>\u6d4b\u8bd5</code>, which I believe is encoded in UTF-8 (with octal code <code>E6 B5 8B E8 AF 95</code>), and some other non-ascii characters that are not UTF-8 encoded (with octal code <code>b2 e2 ca d4</code>).</p>\n\n<p>The task is to decode the json string to json object, perserving correct encoding. I found that by using <code>JSON-&gt;new-&gt;utf8-&gt;decode()</code> we are able to decode <code>\u6d4b\u8bd5</code> correctly (if the json string does not contain any non-utf-8 encoded content).</p>\n\n<p>But the decoding returns an error if the json string contains the non-utf-8 encoded character <code>JSON parsing error: malformed UTF-8 character in JSON string, at character offset 255 (before \"\\x{a2294}\\x{2294}\",\"...\") at...</code>.</p>\n\n<p>This is expected, as the string (whose octal code is <code>b2 e2 ca d4</code>) is not utf-8 encoded. But if decoded using <code>JSON-&gt;new-&gt;decode()</code> the result is incorrect, as <code>\u6d4b\u8bd5</code> becomes something else, as I see the octal code becomes <code>C3 A6 C2 B5 C2 8B C3 A8 C2 AF C2 95</code> instead of the original <code>E6 B5 8B E8 AF 95</code>.</p>\n\n<p>Can I know if there is a good practice in decoding json string that preserves the original encoding, if the string contain different encoding in its content?</p>\n"}, {"tags": ["perl", "vim", "perl-critic"], "comments": [{"owner": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "edited": false, "score": 0, "creation_date": 1504761840, "post_id": 46080490, "comment_id": 79138457, "body": "You should try the plugin&#39;s issue tracker."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "edited": false, "score": 1, "creation_date": 1504790650, "post_id": 46080490, "comment_id": 79156907, "body": "I actually did this in tandem with an open GitHub issue.  Turns out it&#39;s partly down to my error and partly down to an issue with Ale that could be improved.  I&#39;ll answer my own question shortly.  :)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1504809035, "post_id": 46080490, "comment_id": 79168704, "body": "Plagiarised here: <a href=\"http://www.perlmonks.org/?node_id=1198801\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1198801</a>"}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1504810677, "post_id": 46080490, "comment_id": 79169480, "body": "Wow. What a weird thing to plagiarize."}], "answers": [{"tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": true, "score": 1, "last_activity_date": 1504807415, "creation_date": 1504807415, "answer_id": 46102582, "question_id": 46080490, "link": "https://stackoverflow.com/questions/46080490/forcing-ale-to-display-perlcritic-violations-as-warnings-rather-than-errors/46102582#46102582", "title": "Forcing Ale to display Perl::Critic violations as warnings rather than errors", "body": "<p>After hearing from the author, this is the correct syntax, which allows you to set options for both <code>perltidy</code> and <code>Perl::Critic</code>:</p>\n\n<pre><code>let g:ale_type_map = {\n\\    'perl': {'ES': 'WS'}, \n\\    'perlcritic': {'ES': 'WS', 'E': 'W'},\n\\}\n</code></pre>\n\n<p>My issue was that my simple test case was picking up a <code>perl</code> warning as well as a <code>Perl::Critic</code> violation.  The gutter was showing the <code>perl</code> warning as an error, but the bottom of the pane was displaying the <code>Perl::Critic</code> violation, which was pretty confusing.  After getting rid of the warning, I was able to see <code>Perl::Critic</code> violations as warnings. There is an already open issue to deal with this in <code>Ale</code>, but I thought it would be helpful to post the answer here for anyone else with questions.</p>\n\n<p>The main takeaway is that <code>ale_type_map</code> is a dict, so if you try to set it more than once, the last entry will win.  The syntax above is what you want if you'd like to deal with multiple linters.</p>\n"}], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 46102582, "answer_count": 1, "score": 5, "last_activity_date": 1599147776, "creation_date": 1504716315, "last_edit_date": 1599147776, "question_id": 46080490, "link": "https://stackoverflow.com/questions/46080490/forcing-ale-to-display-perlcritic-violations-as-warnings-rather-than-errors", "title": "Forcing Ale to display Perl::Critic violations as warnings rather than errors", "body": "<p>I'm using <code>vim</code> with the <code>Ale</code> plugin.  By default, <code>perlcritic</code> violations show up as errors.  I'd like to see them displayed as warnings. According to <code>:help g:ale_type_map</code> I should be able to do this, but it isn't clear to me exactly how.</p>\n\n<p><code>let g:ale_type_map = {'perl': {'E': 'W'}}</code> will change <code>perl</code> errors into warnings.</p>\n\n<p><code>let g:ale_type_map = {'perl': {'ES': 'WS'}}</code> does not appear to have any effect on the critic violations.  Neither do either of these:</p>\n\n<pre><code>let g:ale_type_map = {'perlcritic': {'ES': 'WS', 'E': 'W'}}\nlet g:ale_type_map = {'perl_perlcritic': {'ES': 'WS', 'E': 'W'}}\n</code></pre>\n\n<p>The docs on this are pretty sparse, so I'm unclear on whether it's an issue with syntax, linter name or something else entirely.</p>\n"}, {"tags": ["python", "perl", "migration"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1504720653, "post_id": 46079292, "comment_id": 79124897, "body": "Your conditional <code>if ( $hash{$key} &#47; 2 )</code> is odd. That will be <i>false</i> only if <code>$hash{$key}</code> is zero. Did you mean <code>if ( $hash{$key} % 2 )</code> perhaps?"}, {"owner": {"reputation": 1584, "user_id": 6778826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HOfOO.jpg?s=128&g=1", "display_name": "Aleksandar", "link": "https://stackoverflow.com/users/6778826/aleksandar"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504724208, "post_id": 46079292, "comment_id": 79126787, "body": "Good catch. It was &#39;%&#39; I just tested another idea :-)"}], "answers": [{"comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1504712962, "post_id": 46079463, "comment_id": 79120381, "body": "Instead of <code>defaultdict(int)</code> it may be more obvious to specify the default value as <code>defaultdict(lambda: 0)</code>, but that is a matter of taste."}, {"owner": {"reputation": 1584, "user_id": 6778826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HOfOO.jpg?s=128&g=1", "display_name": "Aleksandar", "link": "https://stackoverflow.com/users/6778826/aleksandar"}, "edited": false, "score": 0, "creation_date": 1504716162, "post_id": 46079463, "comment_id": 79122362, "body": "thanks birryree &amp; amon for the fast answer. Sorry for dublication, sometimes is the right question the challenge"}], "tags": [], "owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "is_accepted": true, "score": 5, "last_activity_date": 1504713001, "last_edit_date": 1504713001, "creation_date": 1504712786, "answer_id": 46079463, "question_id": 46079292, "link": "https://stackoverflow.com/questions/46079292/convert-perl-syntax-to-python/46079463#46079463", "title": "Convert Perl syntax to Python", "body": "<p>Your problem is using this line: </p>\n\n<pre><code>myhash = {}\n# ... code ...\nmyhash[prefix[1]] += 1\n</code></pre>\n\n<p>You likely are getting a <code>KeyError</code>. This is because you start off with an empty dictionary (or hash), and if you attempt to reference a key that doesn't exist yet, Python will raise an exception.</p>\n\n<p>A simple solution that will let your script work is to use a <code>defaultdict</code>, which will auto-initialize any key-value pair you attempt to access.</p>\n\n<pre><code>#!python\n\nimport sys\nimport re\nfrom collections import defaultdict\n\n# Since you're keeping counts, we'll initialize this so that the values\n# of the dictionary are `int` and will default to 0\nmyhash = defaultdict(int)\n\nfor line in sys.stdin:\n    \"\"\"\n    Diese Projekte werden ignoriert\n    \"\"\"\n    if re.match('^NAMESPACE|logging|default',line):\n        continue\n    linesplited = line.split()\n    prefix = re.split('(.*)(-\\d+)?-\\w+$',linesplited[1])\n    #print  linesplited[1]\n    print prefix[1]\n    myhash[prefix[1]] += 1\n</code></pre>\n"}], "owner": {"reputation": 1584, "user_id": 6778826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HOfOO.jpg?s=128&g=1", "display_name": "Aleksandar", "link": "https://stackoverflow.com/users/6778826/aleksandar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2389, "favorite_count": 0, "closed_date": 1504712845, "accepted_answer_id": 46079463, "answer_count": 1, "score": -1, "last_activity_date": 1504720477, "creation_date": 1504712235, "last_edit_date": 1504720477, "question_id": 46079292, "link": "https://stackoverflow.com/questions/46079292/convert-perl-syntax-to-python", "closed_reason": "Duplicate", "title": "Convert Perl syntax to Python", "body": "\n\n<p>I have a file with lines which are separated by white spaces.</p>\n\n<p>I have written the program below in Perl and it works.\nNow I must rewrite it in Python which is not my language, but I have solved it more or less.</p>\n\n<p>I currently struggle with this expression in Perl which I can't convert it to Python.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$hash{$prefix}++;\n</code></pre>\n\n<p>I have found some solutions but I'm not sufficiently experienced with Python to solve this. All the solution looks complicated to me compared to the Perl one.</p>\n\n<p>These Stack Overflow questions seem to be relevant.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3972872/python-variables-as-keys-to-dict\">Python variables as keys to dict</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/27434094/python-how-to-pass-key-to-a-dictionary-from-the-variable-of-a-function\">Python: How to pass key to a dictionary from the variable of a function?</a></p>\n\n<h3>Perl</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!perl -w\n\nuse strict;\nuse warnings FATAL =&gt; 'all';\n\nour $line = \"\";\nour @line = \"\";\nour $prefix = \"\";\nour %hash;\nour $key;\n\nwhile ( $line = &lt;STDIN&gt; ) {\n  # NAMESPACE                NAME                                         READY     STATUS             RESTARTS   AGE       IP               NODE\n  next if $line =~ /^NAMESPACE/;\n\n  #aleks-event-test         redis-1-m06k0                                1/1       Running            0          1d        172.26.0.138     The_Server_name\n  @line = split ' ', $line;\n  $line[1] =~ /(.*)-\\d+-\\w+$/ ;\n  $prefix = $1;\n  #print \"$prefix $line[7]\\n\";\n  print \"$prefix $line[7]\\n\";\n  $hash{$prefix}++;\n}\n\nforeach $key ( keys %hash ) {\n  if ( $hash{$key} / 2 ){\n    print \"$key : $hash{$key} mod 2 \\n\"\n  }\n  else {\n    print \"$key : $hash{$key} not mod 2 \\n\"\n  }\n}\n</code></pre>\n\n<h3>Python</h3>\n\n<pre class=\"lang-python prettyprint-override\"><code>#!python\n\nimport sys\nimport re\n\nmyhash = {}\n\nfor line in sys.stdin:\n    \"\"\"\n    Diese Projekte werden ignoriert\n    \"\"\"\n    if re.match('^NAMESPACE|logging|default',line):\n        continue\n    linesplited = line.split()\n    prefix = re.split('(.*)(-\\d+)?-\\w+$',linesplited[1])\n    #print  linesplited[1]\n    print prefix[1]\n    myhash[prefix[1]] += 1\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1504707916, "post_id": 46077403, "comment_id": 79116789, "body": "You could improve your answer by explaining the difference between <i>definedness</i> and <i>truth</i> in Perl."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 4, "creation_date": 1504708167, "post_id": 46077403, "comment_id": 79116987, "body": "Note also that, while the string &quot;0&quot; is false, the string &quot;00&quot; is true (and both are <code>== 0</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504727405, "post_id": 46077403, "comment_id": 79128433, "body": "Last line more better written as: <i>print Undefined if <code>$test eq &#39;0&#39;</code> (including the number zero 0) or <code>$test eq &#39;&#39;</code> (including <code>undef</code>).</i>"}], "tags": [], "owner": {"reputation": 319, "user_id": 8263154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95488587a93c3c1863a022a4bd33a51?s=128&d=identicon&r=PG&f=1", "display_name": "ilux", "link": "https://stackoverflow.com/users/8263154/ilux"}, "is_accepted": false, "score": 1, "last_activity_date": 1504707867, "last_edit_date": 1504707867, "creation_date": 1504706828, "answer_id": 46077403, "question_id": 46077157, "link": "https://stackoverflow.com/questions/46077157/do-i-need-to-use-defined/46077403#46077403", "title": "Do I need to use defined?", "body": "<p>Yes.</p>\n\n<pre><code>print \"Undefined\\n\" unless defined $test;\n</code></pre>\n\n<p>print Undefined if <code>$test</code> is <code>undef</code>;</p>\n\n<pre><code>print \"Undefined\\n\" unless $test;\n</code></pre>\n\n<p>print Undefined if <code>$test</code> is <code>undef</code> or <code>$test == 0</code> or <code>$test eq ''</code></p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 13, "last_activity_date": 1504708119, "creation_date": 1504708119, "answer_id": 46077858, "question_id": 46077157, "link": "https://stackoverflow.com/questions/46077157/do-i-need-to-use-defined/46077858#46077858", "title": "Do I need to use defined?", "body": "<p>The number 0, the string '0' and the empty string ('') are all defined, but false. If you run your code with <code>$test</code> set to any of those three values, you will see the difference.</p>\n\n<p>The <code>defined</code> test checks whether a value is defined. A <code>defined</code> variable has been given a value. Any value. Even one that is false.</p>\n\n<p>(Ok, not the value <code>undef</code>.)</p>\n"}], "owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 46077858, "answer_count": 2, "score": 3, "last_activity_date": 1504769771, "creation_date": 1504706191, "question_id": 46077157, "link": "https://stackoverflow.com/questions/46077157/do-i-need-to-use-defined", "title": "Do I need to use defined?", "body": "<p>Is there any difference between these 2:  </p>\n\n<pre><code>print \"Undefined\\n\" unless defined $test;\n</code></pre>\n\n<p>and  </p>\n\n<pre><code>print \"Undefined\\n\" unless $test;\n</code></pre>\n"}, {"tags": ["sql", "perl", "postgresql-9.4"], "comments": [{"owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "edited": false, "score": 0, "creation_date": 1504705677, "post_id": 46075811, "comment_id": 79115097, "body": "Simply use usual sequences.  Create function that gets its underlying sequence <code>nextval</code> and then transcodes integer value to your alphanumeric one."}, {"owner": {"reputation": 870, "user_id": 2680147, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a2e6f44b163719e401b2ea7411d112a1?s=128&d=identicon&r=PG&f=1", "display_name": "juanpscotto", "link": "https://stackoverflow.com/users/2680147/juanpscotto"}, "reply_to_user": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "edited": false, "score": 0, "creation_date": 1504705790, "post_id": 46075811, "comment_id": 79115189, "body": "what do you mean by transcode? How can I do that"}, {"owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "edited": false, "score": 0, "creation_date": 1504706314, "post_id": 46075811, "comment_id": 79115584, "body": "you got raw sequence number 121431. keep divide this number by 1000 and increment left part (&quot;AAAA&quot;) while raw number is greater or equals to 1000.   At finish concatenate left part (&quot;ABCD&quot;) with remainder using zeroed left padding."}], "answers": [{"tags": [], "owner": {"reputation": 39156, "user_id": 842935, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2b3b9d4aa138cb30767b8b1a7a90f027?s=128&d=identicon&r=PG", "display_name": "dani herrera", "link": "https://stackoverflow.com/users/842935/dani-herrera"}, "is_accepted": true, "score": 1, "last_activity_date": 1504707061, "creation_date": 1504707061, "answer_id": 46077492, "question_id": 46075811, "link": "https://stackoverflow.com/questions/46075811/postgres-how-to-create-an-alphanumeric-sequence-like-aaaa0000-and-so-on/46077492#46077492", "title": "Postgres - How to create an alphanumeric sequence like AAAA0000 and so on", "body": "<blockquote>\n  <p>It works very slow with large amount of data, because it must be executed before inserting every single row. Is there another way to do that with or without Perl?</p>\n</blockquote>\n\n<p><strong>First option:</strong></p>\n\n<p>Create a sequence and decode it:</p>\n\n<pre><code>CREATE SEQUENCE my_serial START 11110000;\n</code></pre>\n\n<p>Translate to letters left part:</p>\n\n<pre><code>select nextval(''my_serial'') INTO v_nextSeq ;\nselect translate(\n       left( trim(to_char(v_nextSeq,'9999')), 4),\n       '12345','ABCDE')\n       ||\n       right( trim(to_char(v_nextSeq,'9999')), 4);\n</code></pre>\n\n<p><strong>Second option:</strong></p>\n\n<p>You can persist all sequence numbers and then use it:</p>\n\n<p>**Add <code>used</code> field to your schema, remember to create an index over sequence **:</p>\n\n<pre><code>CREATE TABLE batch_sequence\n(\n   id        serial   NOT NULL,\n   sequence  text     DEFAULT 'AAA'::text NOT NULL,\n   used      boolean  default false\n);\n</code></pre>\n\n<p><strong>Populate the whole table, here is simplified just 2 digits</strong>:</p>\n\n<pre><code>with s as (\n  SELECT A.a || B.b  as sequence\n  FROM unnest(string_to_array('A B C',' ')) A\n  CROSS JOIN unnest(string_to_array('0 1 2 3 4 5 6 7 8 9',' ')) B\n) \ninsert into batch_sequence ( sequence )\nselect s.sequence\nfrom s;\n</code></pre>\n\n<p><strong><a href=\"http://sqlfiddle.com/#!17/c9415/14/0\" rel=\"nofollow noreferrer\">Check all is done</a></strong>:</p>\n\n<pre><code>select * from batch_sequence\n</code></pre>\n\n<p><strong><a href=\"http://sqlfiddle.com/#!17/c9415/14/1\" rel=\"nofollow noreferrer\">Results</a></strong>:</p>\n\n<pre><code>| id | sequence |  used |\n|----|----------|-------|\n| 28 |       A0 | false |\n| 29 |       A1 | false |\n| 30 |       A2 | false |\n| 31 |       A3 | false |\n| 32 |       A4 | false |\n| 33 |       A5 | false |\n| 34 |       A6 | false |\n| 35 |       A7 | false |\n| 36 |       A8 | false |\n| 37 |       A9 | false |\n| 38 |       B0 | false |\n| 39 |       B1 | false |\n| 40 |       B2 | false |\n| 41 |       B3 | false |\n| 42 |       B4 | false |\n| 43 |       B5 | false |\n| 44 |       B6 | false |\n| 45 |       B7 | false |\n| 46 |       B8 | false |\n| 47 |       B9 | false |\n| 48 |       C0 | false |\n| 49 |       C1 | false |\n| 50 |       C2 | false |\n| 51 |       C3 | false |\n| 52 |       C4 | false |\n| 53 |       C5 | false |\n| 54 |       C6 | false |\n| 55 |       C7 | false |\n| 56 |       C8 | false |\n| 57 |       C9 | false |\n</code></pre>\n\n<p>Create a function to get new sequence number and set it as <code>used</code>.</p>\n"}], "owner": {"reputation": 870, "user_id": 2680147, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a2e6f44b163719e401b2ea7411d112a1?s=128&d=identicon&r=PG&f=1", "display_name": "juanpscotto", "link": "https://stackoverflow.com/users/2680147/juanpscotto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1637, "favorite_count": 0, "accepted_answer_id": 46077492, "answer_count": 1, "score": 1, "last_activity_date": 1504713368, "creation_date": 1504702431, "last_edit_date": 1504702620, "question_id": 46075811, "link": "https://stackoverflow.com/questions/46075811/postgres-how-to-create-an-alphanumeric-sequence-like-aaaa0000-and-so-on", "title": "Postgres - How to create an alphanumeric sequence like AAAA0000 and so on", "body": "<p>I want to create an alphanumeric sequence like this: </p>\n\n<pre><code>AAAA0000\nAAAA0001\nAAAA0002\nAAAA0003\n.\n.\n.\nAAAA9999\nAAAB0000\nAAAB0001\n</code></pre>\n\n<p>and so on</p>\n\n<p>I have created this store procedure to do that but its too slow:</p>\n\n<pre><code>CREATE OR REPLACE FUNCTION public.fn_batch_seq()\n  RETURNS text\n  LANGUAGE plpgsql\nAS\n$body$\nDECLARE\n  v_sequence TEXT := '';\n  v_next_sequence TEXT := '';\n  v_existing_id BIGINT := 0;\nBEGIN\n\n  /*\n  *  VARCHAR BATCH SEQUENCE FOR SIMCARDS\n  */\n  SELECT \"sequence\" FROM batch_sequence WHERE id = 1 INTO v_sequence;\n  IF v_sequence = '' THEN\n    RAISE NOTICE 'Error - No existe ningun registro en batch_sequence almacenado';\n    RETURN -500;\n  END IF;\n  SELECT perl_increment(v_sequence) INTO v_next_sequence;\n\n  IF v_next_sequence = '' THEN\n    RAISE NOTICE 'Error - La siguiente secuencia generada devolvio null o vacio';\n    RETURN -500;\n  END IF;\n\n\n  UPDATE batch_sequence SET \"sequence\" = v_next_sequence WHERE id = 1;\n  RETURN v_next_sequence;\n\n  EXCEPTION WHEN OTHERS THEN\n  /*\n  * Other errors\n  */\n  RAISE NOTICE 'Error General - Posibles causas: No existe la tabla batch_sequence o no existe ningun registro en la misma';\n  RETURN -500;\n\nEND;\n$body$\n  VOLATILE\n  COST 100;\n</code></pre>\n\n<p>This procedure uses a table to store the sequence:</p>\n\n<pre><code>CREATE TABLE batch_sequence\n(\n   id        serial   NOT NULL,\n   sequence  text     DEFAULT 'AAAA0000'::text NOT NULL\n);\n\n-- Column id is associated with sequence public.batch_sequence_id_seq\n\nALTER TABLE batch_sequence\n   ADD CONSTRAINT batch_sequence_pk\n   PRIMARY KEY (id);\n</code></pre>\n\n<p>And for increment the sequence I use a perl procedure:</p>\n\n<pre><code>CREATE OR REPLACE FUNCTION public.perl_increment(text)\n  RETURNS text\n  LANGUAGE plperl\nAS\n$body$\nmy ($x) = @_;\n    if (not defined $x) {\n        return undef;\n    }\n    ++$x;\n$body$\n  VOLATILE\n  COST 100;\n</code></pre>\n\n<p>It works very slow with large amount of data, because it must be executed before inserting every single row. Is there another way to do that with or without Perl?</p>\n\n<p>Please help.</p>\n"}, {"tags": ["perl", "activemq", "wget", "nagios"], "comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 1, "creation_date": 1504701666, "post_id": 46075353, "comment_id": 79111929, "body": "The <code>\\@</code> escape also isn&#39;t expanded in single quotes."}, {"owner": {"reputation": 2841, "user_id": 2545194, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab05c442f50628acfcca2c70174f23e7?s=128&d=identicon&r=PG", "display_name": "Jdamian", "link": "https://stackoverflow.com/users/2545194/jdamian"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504702124, "post_id": 46075353, "comment_id": 79112289, "body": "@simbabque I wrongly posted my first attempt of my code. Then I realized and changed into double quotes."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1504705266, "post_id": 46075353, "comment_id": 79114783, "body": "Run wget with <code>--debug</code> flag to see how it recovers from the initial 401 response."}, {"owner": {"reputation": 2841, "user_id": 2545194, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab05c442f50628acfcca2c70174f23e7?s=128&d=identicon&r=PG", "display_name": "Jdamian", "link": "https://stackoverflow.com/users/2545194/jdamian"}, "edited": false, "score": 0, "creation_date": 1504721080, "post_id": 46075353, "comment_id": 79125140, "body": "@Schwern, Thanks, I modified my post. But I this post shows a port number (8161) which is not the actual one of my ActiveMQ server."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1504722339, "post_id": 46075353, "comment_id": 79125809, "body": "@Jdamian Don&#39;t even post test passwords. They&#39;re all too often reused as real passwords. If not, they give an insight into how you make your passwords. For example, this one was too short, and too simple. The patterns say its hand made and created to be remembered. They tell me you&#39;re not using a password generator nor a password manager, or you&#39;re not using it judiciously, so your passwords will be weak. I suggest you get into the habit of using a password manager for everything."}, {"owner": {"reputation": 2841, "user_id": 2545194, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab05c442f50628acfcca2c70174f23e7?s=128&d=identicon&r=PG", "display_name": "Jdamian", "link": "https://stackoverflow.com/users/2545194/jdamian"}, "edited": false, "score": 0, "creation_date": 1504722721, "post_id": 46075353, "comment_id": 79125988, "body": "@Schewrn, I did not generate that password because I&#39;m not the ActiveMQ admin. I&#39;m only trying to monitor the queues. In fact, I&#39;m not allowed to change anything from the ActiveMQ server configuration."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 3, "last_activity_date": 1504721785, "creation_date": 1504721785, "answer_id": 46081862, "question_id": 46075353, "link": "https://stackoverflow.com/questions/46075353/how-to-imitate-in-perl-the-behaviour-of-wget-or-curl/46081862#46081862", "title": "How to imitate in Perl the behaviour of wget or curl", "body": "<p>LWP::UserAgent does not parse the <code>username:password</code> part of the URL. I suspect this is to discourage the insecure practice of putting the username:password in the URL where it will then be easily stolen from programs and in server logs.</p>\n\n<p>You can override <code>get_basic_credentials</code> to pull the username and password out of the URL. This doesn't solve the security problem.</p>\n\n<p>Or you can call <code>authorization_basic</code> on an <code>HTTP::Request</code> object to set the username and password for this particular request.</p>\n\n<pre><code>  my $ua = LWP::UserAgent-&gt;new;\n  my $req = HTTP::Request-&gt;new(GET =&gt; $url);\n  $req-&gt;authorization_basic($user, $password);\n  my $res = $ua-&gt;request($req);\n</code></pre>\n\n<p>Or you can call <code>credentials</code> on the UserAgent to set up passwords for various host/port combinations rather than for just one request. This is like storing your passwords in the browser, where <code>$ua</code> is the browser.</p>\n\n<pre><code>  my $ua = LWP::UserAgent-&gt;new;\n  $ua-&gt;credentials(\"$host:$port\", $realm, $user, $password);\n  my $req = $ua-&gt;get($url);\n</code></pre>\n\n<p>Or you can switch to the less featureful but better designed <a href=\"https://metacpan.org/pod/HTTP::Tiny\" rel=\"nofollow noreferrer\">HTTP::Tiny</a> or the slightly more featureful <a href=\"https://metacpan.org/pod/HTTP::Tiny::UA\" rel=\"nofollow noreferrer\">HTTP::Tiny::UA</a>. It will parse and use the <code>username:password</code> part of the URL.</p>\n\n<pre><code>  use HTTP::Tiny;\n  my $ua = HTTP::Tiny-&gt;new;\n  my $res = $ua-&gt;get($url);\n</code></pre>\n"}], "owner": {"reputation": 2841, "user_id": 2545194, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab05c442f50628acfcca2c70174f23e7?s=128&d=identicon&r=PG", "display_name": "Jdamian", "link": "https://stackoverflow.com/users/2545194/jdamian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 46081862, "answer_count": 1, "score": 0, "last_activity_date": 1504721785, "creation_date": 1504701134, "last_edit_date": 1504720998, "question_id": 46075353, "link": "https://stackoverflow.com/questions/46075353/how-to-imitate-in-perl-the-behaviour-of-wget-or-curl", "title": "How to imitate in Perl the behaviour of wget or curl", "body": "<p>I am a newbie in Perl and in ActiveMQ.</p>\n\n<p>I have downloaded this <a href=\"https://assets.nagios.com/downloads/nagiosxi/scripts/activemq_watch\" rel=\"nofollow noreferrer\">Perl nagios program</a> to check the ActiveMQ queues. The problem is the program exist in the main Perl line:</p>\n\n<pre><code>my $page = get \"http://admin:admin\\@$address:$port/admin/xml/queues.jsp\" or die \"Cannot get XML file: $!\\n\";;\n</code></pre>\n\n<p>I substituted that line with this other lines to check the return code:</p>\n\n<pre><code> my $ua = LWP::UserAgent-&gt;new;\n $ua-&gt;timeout(10);\n $ua-&gt;env_proxy;\n\n my $page = $ua-&gt;get(\"http://admin:admin\\@$address:$port/admin/xml/queues.jsp\");\n\n if ($page-&gt;is_success) {\n     print $page-&gt;decoded_content;  # or whatever\n }\n else {\n     die $page-&gt;status_line;\n }\n</code></pre>\n\n<p>Now, it reports:</p>\n\n<pre><code>401 Unauthorized\n</code></pre>\n\n<p>But <code>wget</code> is still able to download the page:</p>\n\n<pre><code>Connecting to 127.0.0.1:8161... connected.\nHTTP request sent, awaiting response... 401 Unauthorized\nReusing existing connection to 127.0.0.1:8161.\nHTTP request sent, awaiting response... 200 OK\nLength: 2430 (2.4K) [text/xml]\nSaving to: `queues.jsp'\n</code></pre>\n\n<p>How can I config the <code>UserAgent</code> to make the <code>get</code> call imitate the <code>wget</code> behaviour?</p>\n\n<p>Do you know another script/program to monitor de ActiveMQ queues?</p>\n\n<p>Is there any way to get the queues values in plain text? Then I would write down my own bash script.</p>\n\n<p><strong>update 1</strong></p>\n\n<p>As @mob requested, here it is the output of <code>wget --debug</code></p>\n\n<pre><code>DEBUG output created by Wget 1.12 on linux-gnu.\n\n--2017-09-06 19:27:15--  http://admin:*password*@127.0.0.1:8161/admin/xml/queues.jsp\nConnecting to 127.0.0.1:8161... connected.\nCreated socket 3.\nReleasing 0x0000000002586c10 (new refcount 0).\nDeleting unused 0x0000000002586c10.\n\n---request begin---\nGET /admin/xml/queues.jsp HTTP/1.0\nUser-Agent: Wget/1.12 (linux-gnu)\nAccept: */*\nHost: 127.0.0.1:8161\nConnection: Keep-Alive\n\n---request end---\nHTTP request sent, awaiting response...\n---response begin---\nHTTP/1.1 401 Unauthorized\nWWW-Authenticate: basic realm=\"ActiveMQRealm\"\nCache-Control: must-revalidate,no-cache,no-store\nContent-Type: text/html;charset=ISO-8859-1\nContent-Length: 1293\nConnection: keep-alive\nServer: Jetty(7.6.9.v20130131)\n\n---response end---\n401 Unauthorized\nRegistered socket 3 for persistent reuse.\nSkipping 1293 bytes of body: [&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=ISO-8859-1\"/&gt;\n&lt;title&gt;Error 401 Unauthorized&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;HTTP ERROR: 401&lt;/h2&gt;\n&lt;p&gt;Problem accessing /admin/xml/queues.jsp. Reason:\n&lt;pre&gt;    Unauthorized&lt;/pre&gt;&lt;/p&gt;\n&lt;hr /&gt;&lt;i&gt;&lt;small&gt;Powered by Jetty://&lt;/small&gt;&lt;/i&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n] done.\nReusing existing connection to 127.0.0.1:8161.\nReusing fd 3.\n\n---request begin---\nGET /admin/xml/queues.jsp HTTP/1.0\nUser-Agent: Wget/1.12 (linux-gnu)\nAccept: */*\nHost: 127.0.0.1:8161\nConnection: Keep-Alive\nAuthorization: Basic xxxxxxxxxxxxxxxxxxxx\n\n---request end---\nHTTP request sent, awaiting response...\n---response begin---\nHTTP/1.1 200 OK\nSet-Cookie: JSESSIONID=o7kaw1kbzcy91dozx82c8dq2j;Path=/admin\nExpires: Thu, 01 Jan 1970 00:00:00 GMT\nContent-Type: text/xml;charset=ISO-8859-1\nContent-Length: 2430\nConnection: keep-alive\nServer: Jetty(7.6.9.v20130131)\n\n---response end---\n200 OK\n\nStored cookie 127.0.0.1 8161 /admin &lt;session&gt; &lt;insecure&gt; [expiry none] JSESSIONID o7kaw1kbzcy91dozx82c8dq2j\nLength: 2430 (2.4K) [text/xml]\nSaving to: `queues.jsp'\n\n100%[================================================================================&gt;] 2,430  --.-K/s in 0s\n\n2017-09-06 19:27:15 (395 MB/s) - `queues.jsp' saved [2430/2430]\n</code></pre>\n\n<p>The only difference in the <code>---request begin---</code> sections of both attempts is</p>\n\n<pre><code> Authorization: Basic xxxxxxxxxxxxxxxxxxxx\n</code></pre>\n\n<p>found only in the second try.</p>\n"}, {"tags": ["string", "perl", "switch-statement"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1504699992, "post_id": 46074821, "comment_id": 79110591, "body": "<code>case qr&#47;^one|two\\z&#47;</code> or <code>case [qw(one two)]</code> =&gt; <a href=\"https://metacpan.org/pod/Switch#SYNOPSIS\" rel=\"nofollow noreferrer\">metacpan.org/pod/Switch#SYNOPSIS</a>"}], "answers": [{"tags": [], "owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "is_accepted": true, "score": 5, "last_activity_date": 1504706044, "creation_date": 1504706044, "answer_id": 46077110, "question_id": 46074821, "link": "https://stackoverflow.com/questions/46074821/how-to-group-cases-within-a-switch-statement-in-perl/46077110#46077110", "title": "How to group cases within a switch statement in Perl", "body": "<p>Please don't use old, slow <code>Switch</code> module.</p>\n\n<p>Usually it is resolved by CODEREF hashes.</p>\n\n<pre><code>my $var1x = \"one\";\n\nmy $is_ok     = sub { print \"That is ok.\\n\"};\nmy $why_small = sub { print \"Why so small?\\n\" };\n\nmy %switch = (\n    one   =&gt; $why_small,\n    two   =&gt; $why_small,\n    three =&gt; $is_ok,\n    four  =&gt; $is_ok,\n    ten   =&gt; sub { print \"Unbelievable!\\n\"; },\n);\n\n$switch{$var1x}-&gt;();\n</code></pre>\n"}], "owner": {"reputation": 2059, "user_id": 405039, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VBpJX.jpg?s=128&g=1", "display_name": "kuszi", "link": "https://stackoverflow.com/users/405039/kuszi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 2, "accepted_answer_id": 46077110, "answer_count": 1, "score": 1, "last_activity_date": 1504706044, "creation_date": 1504699659, "question_id": 46074821, "link": "https://stackoverflow.com/questions/46074821/how-to-group-cases-within-a-switch-statement-in-perl", "title": "How to group cases within a switch statement in Perl", "body": "<p>Given a code </p>\n\n<pre><code>use Switch;\n\nmy $var1x = \"one\";\n\nswitch ($var1x) {\n    case \"one\" { print \"Why so small?\\n\"}\n    case \"two\" { print \"Why so small?\\n\"}\n    case \"three\" { print \"That is ok.\\n\"}\n    case \"four\"  { print \"That is ok.\\n\"}\n}\n</code></pre>\n\n<p>I would like to group the implementation of similar cases. Any recommendations how to write it in Perl properly?</p>\n"}, {"tags": ["perl", "soap"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5817, "user_id": 4742108, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/GvE0m.jpg?s=128&g=1", "display_name": "Velkan", "link": "https://stackoverflow.com/users/4742108/velkan"}, "edited": false, "score": 0, "creation_date": 1504694175, "post_id": 46072807, "comment_id": 79106589, "body": "Thanks for the edit @Velkan. I didn&#39;t see the <code>setsid</code> although it was there in the quote. ;)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1504694138, "last_edit_date": 1504694138, "creation_date": 1504693501, "answer_id": 46072807, "question_id": 46072560, "link": "https://stackoverflow.com/questions/46072560/how-to-make-a-foreground-netserver/46072807#46072807", "title": "How to make a foreground NetServer", "body": "<p>XML::Compile::SOAP::Daemon::NetServer uses <a href=\"https://metacpan.org/pod/distribution/Net-Server/lib/Net/Server.pod\" rel=\"nofollow noreferrer\">Net::Server</a> as the server implementation. There is a <a href=\"https://metacpan.org/pod/distribution/Net-Server/lib/Net/Server.pod#background\" rel=\"nofollow noreferrer\">configuration option <code>background</code> in Net::Server</a> that seems relevant. It defaults to <code>undef</code>, which means <em>stay in the foreground</em>.</p>\n\n<blockquote>\n  <p>Specifies whether or not the server should fork after the bind method to release itself from the command line. Defaults to undef. Process will also background if setsid is set.</p>\n</blockquote>\n\n<p>When searching for <em>background</em> in the docs of XML::Compile::SOAP::Daemon::NetServer you will find the <a href=\"https://metacpan.org/pod/distribution/XML-Compile-SOAP-Daemon/lib/XML/Compile/SOAP/Daemon/NetServer.pod#Configuration-options\" rel=\"nofollow noreferrer\"><em>Configuration</em> section</a>, which has a reference to the <code>background</code> setting.</p>\n\n<blockquote>\n  <p>Some general configuration options of Net::Server have a different default. See also the next section about logging.</p>\n\n<pre><code>Key             Value             New default\nsetsid          boolean           true\nbackground      boolean           true\n</code></pre>\n</blockquote>\n\n<p>So by default, it's set to a true value, and the server will go into the background. That should be easy enough to change.</p>\n\n<pre><code>$daemon-&gt;run(\n    name              =&gt; 'server',\n    host              =&gt; 'localhost',\n    port              =&gt; 7111,\n    min_servers       =&gt; 1,\n    max_servers       =&gt; 1,\n    min_spare_servers =&gt; 0,\n    max_spare_servers =&gt; 0,\n    background        =&gt; 0,             # &lt;------ here\n    setsid            =&gt; 0,             # &lt;------ and here (\"Process will also background if setsid is set\")\n);\n</code></pre>\n\n<p>Now the server will stay in the frontend, will not fork, and most likely will also only process one request at a time.</p>\n"}], "owner": {"reputation": 5817, "user_id": 4742108, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/GvE0m.jpg?s=128&g=1", "display_name": "Velkan", "link": "https://stackoverflow.com/users/4742108/velkan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 1, "accepted_answer_id": 46072807, "answer_count": 1, "score": 1, "last_activity_date": 1504694138, "creation_date": 1504692778, "last_edit_date": 1504692943, "question_id": 46072560, "link": "https://stackoverflow.com/questions/46072560/how-to-make-a-foreground-netserver", "title": "How to make a foreground NetServer", "body": "<p>The HTTP server detaches from the terminal with <code>notice: Process Backgrounded</code>. How to make it stay in foreground?</p>\n\n<p>The code:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nuse XML::Compile::WSDL11;\nuse XML::Compile::SOAP11;\nuse XML::Compile::Transport::SOAPHTTP;\nuse XML::Compile::SOAP::Daemon::NetServer;\n\nmy $daemon  = XML::Compile::SOAP::Daemon::NetServer-&gt;new;\n\nmy $wsdl = XML::Compile::WSDL11-&gt;new(\"def.wsdl\");\n\n$daemon-&gt;printIndex();\n\n$daemon-&gt;run(\n    name =&gt; 'server',\n    host =&gt; 'localhost',\n    port =&gt; 7111,\n    min_servers =&gt; 1,\n    max_servers =&gt; 1,\n    min_spare_servers =&gt; 0,\n    max_spare_servers =&gt; 0);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 22623, "user_id": 147175, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/PyWe3.jpg?s=128&g=1", "display_name": "Scott Stensland", "link": "https://stackoverflow.com/users/147175/scott-stensland"}, "edited": false, "score": 5, "creation_date": 1504692718, "post_id": 46072455, "comment_id": 79105561, "body": "welcome to SO ... as always I suggest you battle then show us your code ... in general read the file line by line ... on each line do a split of the string holding the entire line with delimiter of &#39;;&#39; which will return an array which you then insert into your multidimensional array"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1504693017, "post_id": 46072455, "comment_id": 79105764, "body": "Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> - the point of stack overflow is to help people solve their programming problems. Give it a try yourself (hint: look at <code>split</code>) and then ask a question when you get stuck."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1504694299, "post_id": 46072455, "comment_id": 79106667, "body": "Fist try to solve it from yourself and come back when you stuck somewhere. SO is not a code service provider site. You have to show your efforts first."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1504694469, "post_id": 46072455, "comment_id": 79106765, "body": "Hint: <code>@array = split &#47;;&#47;, $line;</code> you might need to also get rid of some whitespace there."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1504694841, "post_id": 46072455, "comment_id": 79107010, "body": "What have you tried? What problems are you having? Please show us your code. If you don&#39;t have code, then Stack Overflow probably isn&#39;t the right place for your question."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1504695168, "post_id": 46072455, "comment_id": 79107236, "body": "It might be worth pointing out that Perl doesn&#39;t have multi-dimensional arrays. But you can simulate them by having an array that contains references to other arrays. See (the really badly named) <a href=\"https://perldoc.perl.org/perllol.html\" rel=\"nofollow noreferrer\">perldoc perllol</a> for details."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1504695690, "post_id": 46072455, "comment_id": 79107576, "body": "<code>my @matrix = map [ &#47;\\d+&#47;g ], &lt;&gt;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1504695802, "post_id": 46072455, "comment_id": 79107652, "body": "@DaveCross: In that sense, no language has multi-dimensional arrays."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504696801, "post_id": 46072455, "comment_id": 79108356, "body": "@Borodin: That seems entirely possible.But are you sure there&#39;s no language that has true 2D arrays at least? I can&#39;t think of one."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1504697824, "post_id": 46072455, "comment_id": 79109053, "body": "@DaveCross: I&#39;m unsure what a &quot;true 2D&quot; array would look like without 2D memory. There needs to be an implementation (mapping) layer with linear memory. Much like complex numbers."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1504700446, "post_id": 46072455, "comment_id": 79110998, "body": "@DaveCross I think perllol is always good for a quick laugh... ;)"}, {"owner": {"reputation": 96, "user_id": 8377437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87342c564bcb1ca6365e7b102095fe21?s=128&d=identicon&r=PG&f=1", "display_name": "Wessam Adel", "link": "https://stackoverflow.com/users/8377437/wessam-adel"}, "reply_to_user": {"reputation": 22623, "user_id": 147175, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/PyWe3.jpg?s=128&g=1", "display_name": "Scott Stensland", "link": "https://stackoverflow.com/users/147175/scott-stensland"}, "edited": false, "score": 0, "creation_date": 1504814695, "post_id": 46072455, "comment_id": 79171385, "body": "@ScottStensland I have tried these lines of code, thank you for your motivation!"}, {"owner": {"reputation": 96, "user_id": 8377437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87342c564bcb1ca6365e7b102095fe21?s=128&d=identicon&r=PG&f=1", "display_name": "Wessam Adel", "link": "https://stackoverflow.com/users/8377437/wessam-adel"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1504814713, "post_id": 46072455, "comment_id": 79171394, "body": "@DaveCross I have tried these lines of code, thank you for your motivation!"}, {"owner": {"reputation": 22623, "user_id": 147175, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/PyWe3.jpg?s=128&g=1", "display_name": "Scott Stensland", "link": "https://stackoverflow.com/users/147175/scott-stensland"}, "edited": false, "score": 0, "creation_date": 1504818402, "post_id": 46072455, "comment_id": 79173191, "body": "Your code has a loop which pulls in a set of files ... I suggest you get working the parse of a single input file then tackle the loop later"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1504856343, "last_edit_date": 1504856343, "creation_date": 1504818622, "answer_id": 46105142, "question_id": 46072455, "link": "https://stackoverflow.com/questions/46072455/how-to-seed-a-2d-array-from-an-input-file-by-splitting-each-line-into-a-new-row/46105142#46105142", "title": "How to seed a 2D array from an input file by splitting each line into a new row", "body": "<p>Some comments on your code:</p>\n\n<pre><code># Professional Perl programmers rarely use this\n# \"C-style\" for loop. Use foreach instead.\nfor ($i = 0; $i &lt; 64; $i++)  {\n    # Please use three-arg open() and lexical filehandles.\n    # Always check the return value from open().\n    open (FH, \"E:/Wessam/Research Group/comparisons/64 PEs/log files/Injector_Log_$i.txt\");\n    while(&lt;FH&gt;)  {\n        # This should be $var[$j].\n        # But it's better written using push().\n        # And you're not splitting your data.\n        @var[$j] = $_;\n        $j++;\n    }\n    close (FH);\n}\n</code></pre>\n\n<p>I would write it like this:</p>\n\n<pre><code>my $dir = 'E:/Wessam/Research Group/comparisons/64 PEs/log files';\nmy @data;\nforeach my $i (0 .. 63) {\n   my $file = \"$dir/Injector_Log_$i.txt\";\n   open my $log_fh, '&lt;', $file or die \"Can't open $file: $!\";\n\n   while (&lt;$log_fh&gt;) {\n     # Match sequences of digits - \\d+\n     # Capture those matches - (...)\n     # Find *all* matches - /g\n     # Create an anonymous array = [ ... ]\n     # Push a reference to that array onto @data\n     push @data, [ /(\\d+)/g ];\n   }\n\n   # No need to explicitly close the filehandle, as it\n   # is automatically closed when $log_fh goes out of scope.\n}\n</code></pre>\n\n<p>Also, I'm guessing that your code doesn't include <code>use strict</code> and <code>use warnings</code>. You should alway use these.</p>\n"}], "owner": {"reputation": 96, "user_id": 8377437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87342c564bcb1ca6365e7b102095fe21?s=128&d=identicon&r=PG&f=1", "display_name": "Wessam Adel", "link": "https://stackoverflow.com/users/8377437/wessam-adel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1504856343, "creation_date": 1504692520, "last_edit_date": 1504817483, "question_id": 46072455, "link": "https://stackoverflow.com/questions/46072455/how-to-seed-a-2d-array-from-an-input-file-by-splitting-each-line-into-a-new-row", "title": "How to seed a 2D array from an input file by splitting each line into a new row", "body": "<p>I have an input file like this, it looks like a matrix</p>\n\n<pre><code>              55 ;           3 ;          21 ;    1 ; 0 ; 0 ; 46\n             105 ;           8 ;          21 ;    2 ; 0 ; 0 ; 52\n             155 ;          13 ;          21 ;    3 ; 0 ; 0 ; 32\n             205 ;          18 ;          21 ;    4 ; 0 ; 0 ; 60\n             255 ;          23 ;          21 ;    5 ; 0 ; 0 ; 19\n             305 ;          28 ;          21 ;    6 ; 0 ; 0 ; 48\n</code></pre>\n\n<p>How can I read the file to split each line delimited by ';' into a new row of my multidimensional array?</p>\n\n<pre><code>for ($i = 0; $i &lt; 64; $i++)  {\n    open (FH, \"E:/Wessam/Research Group/comparisons/64 PEs/log files/Injector_Log_$i.txt\");\n    while(&lt;FH&gt;)  {\n        @var[$j] = $_;\n        $j++;\n    }\n    close (FH);\n}\n</code></pre>\n\n<p>However whenever I print $var[0] or $var[1] it only shows the last line of one of the 64 log files, is there anyway I can have a multidimensional array ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 6, "creation_date": 1504679308, "post_id": 46068219, "comment_id": 79096766, "body": "How do you know which array elements are keys and which are values?"}, {"owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "edited": false, "score": 0, "creation_date": 1504680858, "post_id": 46068219, "comment_id": 79097689, "body": "<code>map { &#47;[a-z]&#47; ? $x=$_:  push @{$hash{$x}},$_ } @array;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1504683001, "post_id": 46069161, "comment_id": 79099037, "body": "<code>$hash{$_} ||= []</code> if hash keys are to be repeated."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 5, "last_activity_date": 1504682533, "creation_date": 1504682533, "answer_id": 46069161, "question_id": 46068219, "link": "https://stackoverflow.com/questions/46068219/perl-create-a-hash-whose-keys-and-values-come-from-a-given-array/46069161#46069161", "title": "Perl: Create a hash whose keys and values come from a given array?", "body": "<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\nmy @array = ('a',1,2,3,4,'b',6,7,8);\nmy %hash;\nmy $r;\n\ntr/0-9//c ? $r= ($hash{$_}=[]) : push(@$r, $_) for @array;\n\nprint Dumper \\%hash;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>$VAR1 = {\n      'b' =&gt; [\n               6,\n               7,\n               8\n             ],\n      'a' =&gt; [\n               1,\n               2,\n               3,\n               4\n             ]\n    };\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6716989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f809e789a25b0432db99832c672f83b4?s=128&d=identicon&r=PG&f=1", "display_name": "Adi", "link": "https://stackoverflow.com/users/6716989/adi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "closed_date": 1505318935, "accepted_answer_id": 46069161, "answer_count": 1, "score": -4, "last_activity_date": 1504689840, "creation_date": 1504679162, "last_edit_date": 1504682329, "question_id": 46068219, "link": "https://stackoverflow.com/questions/46068219/perl-create-a-hash-whose-keys-and-values-come-from-a-given-array", "closed_reason": "Not suitable for this site", "title": "Perl: Create a hash whose keys and values come from a given array?", "body": "<p>I want to convert an <code>array</code> to <code>hash</code> in given format:</p>\n\n<pre><code>@array = ('a', 1, 2, 3, 4, 'b', 6, 7, 8);\n\n%hash = ('a' =&gt; [1,2,3,4], 'b' =&gt; [6,7,8]);\n</code></pre>\n"}, {"tags": ["macos", "perl"], "comments": [{"owner": {"reputation": 3284, "user_id": 1841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7626f7fd5a7d9ecc5f84d42c7eea4405?s=128&d=identicon&r=PG", "display_name": "Kewin Dousse", "link": "https://stackoverflow.com/users/1841827/kewin-dousse"}, "edited": false, "score": 2, "creation_date": 1504650836, "post_id": 46064205, "comment_id": 79089320, "body": "You&#39;re closing the string incorrectly. You used <code>\u201d</code> instead of <code>&quot;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1504651219, "post_id": 46064205, "comment_id": 79089410, "body": "Note that if you&#39;re going to continue encode your source code using UTF-8, you will need to add <code>use utf8;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1504711171, "last_edit_date": 1504711171, "creation_date": 1504651343, "answer_id": 46064295, "question_id": 46064205, "link": "https://stackoverflow.com/questions/46064205/cant-find-string-terminator-before-eof-when-running-perl-script-on-macosx/46064295#46064295", "title": "&quot;Can&#39;t find string terminator &#39;&#39; before EOF when running Perl script on MacOSX?", "body": "<p>The double-quoted string literal starting at the seventh position of the second line is not terminated because you used <code>\u201d</code> instead of <code>\"</code> when you attempted to end the literal.</p>\n\n<p>Replace</p>\n\n<pre><code>print \"Hi there!\\n\u201d\n</code></pre>\n\n<p>with</p>\n\n<pre><code>print \"Hi there!\\n\"\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8565933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c099c38fa4033d0868516c53203c2db?s=128&d=identicon&r=PG&f=1", "display_name": "fritz", "link": "https://stackoverflow.com/users/8565933/fritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2250, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1540934016, "creation_date": 1504650714, "last_edit_date": 1504651146, "question_id": 46064205, "link": "https://stackoverflow.com/questions/46064205/cant-find-string-terminator-before-eof-when-running-perl-script-on-macosx", "title": "&quot;Can&#39;t find string terminator &#39;&#39; before EOF when running Perl script on MacOSX?", "body": "<p>I am getting the error</p>\n\n<pre><code>Can't find string terminator '\"' anywhere before EOF\n</code></pre>\n\n<p>when running the following script on Mac OSX.   Note that this script was copied directly from a Mac forum...</p>\n\n<pre><code>#!/usr/bin/perl\nprint \"Hi there!\\n\u201d\n</code></pre>\n"}, {"tags": ["xml", "perl", "utf-8"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1504647791, "post_id": 46063174, "comment_id": 79088358, "body": "Re &quot;<i>how &#39;Zurich&#39; String is stored internally in Perl</i>&quot;, The internal storage format is no consequence here."}], "answers": [{"tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 0, "last_activity_date": 1504645797, "last_edit_date": 1504645797, "creation_date": 1504645456, "answer_id": 46063321, "question_id": 46063174, "link": "https://stackoverflow.com/questions/46063174/perl-utf8-binmode-unexpected-results/46063321#46063321", "title": "Perl utf8 binmode unexpected results", "body": "<p>Strings in Perl can be stored either as Byte Strings or Unicode Character strings.  In your case, you are defining Byte Strings.</p>\n\n<p>Question:  In which encoding is your program source saved?</p>\n\n<p>Your 1st assignment to <code>$line_text</code> is a byte string in your program source's encoding.  When you print this byte string to the file using <code>:raw</code>, it is dumped exactly as it was stored in your source.  If you print an encoded byte string using an encoder,like <code>:utf8</code> you get a doubly encoded string which is unlikely a good idea.  If your program is saved in UTF8, then you can <code>use utf8;</code> to decode that string literal into a Character string.  When you print a properly decoded Character string using <code>:utf8</code>, it will <em>encode</em> the characters correctly into UTF8.</p>\n\n<p><strong>Moral of the story</strong>:  While passing raw bytes can work in some situations, it's generally a better idea to decode your inputs (and string literals) and encode your outputs.</p>\n"}, {"comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1504647875, "post_id": 46063625, "comment_id": 79088393, "body": "Isn&#39;t the default Perl source encoding Latin-1 rather than (7-bit) ASCII? At least <code>perldoc perlunifaq</code> claims so."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1504648005, "post_id": 46063625, "comment_id": 79088442, "body": "@amon, Not the way I see it. Try <code>perl -MEncode -e&#39;print encode(&quot;iso-latin-1&quot;, &quot;sub f\\xEAte { }\\n&quot;)&#39; | perl</code>. In contrast, <code>perl -MEncode -e&#39;print encode(&quot;UTF-8&quot;, &quot;use utf8; sub f\\xEAte { }\\n&quot;)&#39; | perl</code> works fine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1504648746, "post_id": 46063625, "comment_id": 79088698, "body": "@amon, And when it comes to literals, it&#39;s neither ASCII nor latin-1 (<code>perl -e&#39;print qq{printf &quot;%vX\\\\n&quot;, &quot;\\x80&quot;;}&#39; | perl</code> gives <code>80</code> even though <code>80</code> doesn&#39;t exist in either). It simply maps the bytes directly into characters. What happens is effectively closer to iso-latin-1 than US-ASCII, though."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1504648859, "last_edit_date": 1504648859, "creation_date": 1504646974, "answer_id": 46063625, "question_id": 46063174, "link": "https://stackoverflow.com/questions/46063174/perl-utf8-binmode-unexpected-results/46063625#46063625", "title": "Perl utf8 binmode unexpected results", "body": "<p>You're missing <code>use utf8;</code>, which tells Perl your source code is encoded using UTF-8.</p>\n\n<hr>\n\n<p>By default, source files are expected to be encoded using US-ASCII.</p>\n\n<ul>\n<li><p>If you encoded your source file using UTF-8, but you didn't tell this to Perl (by using <code>use utf8;</code>), Perl will treat it as encoded using US-ASCII. For string literals, Perl will simply map the bytes to string characters (rather than rejecting non-ASCII chars). This means that <code>$line_text</code> contains <code>5A.C3.BC.72.69.63.68</code>. </p>\n\n<p>When you pass these characters to a file handle with an encoding layer, the encoding layer will treat those characters as Unicode Code Points (<code>Z\u00c3\u00bcrich</code>) and produce the appropriate bytes to represent those characters.</p></li>\n<li><p>If you encoded your source file using UTF-8, and if you told this to Perl (by using <code>use utf8;</code>), Perl will treat it as encoded using UTF-8 (decoding it accordingly). This means that <code>$line_text</code> contains <code>5A.FC.72.69.63.68</code>.</p>\n\n<p>When you pass these characters to a file handle with an encoding layer, the encoding layer will treat those characters as Unicode Code Points (<code>Z\u00fcrich</code>) and produce the appropriate bytes to represent those characters.</p></li>\n</ul>\n\n<hr>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;                             # Source code is encoded using UTF-8.\nuse open ':std', ':encoding(UTF-8)';  # Terminal expects UTF-8. Default encoding for files.\n\nmy $filename = \"result-test-encoding-raw.xml\";\n\nopen(my $fh, '&gt;', $filename)\n   or die(\"Can't create \\\"$filename\\\": $!\\n\");\n\n...    \nprint $fh 'Z\u00fcrich';\n...\n</code></pre>\n\n<p>Note that I the use of <code>:encoding(UTF-8)</code> instead <code>:utf8</code>. The later is incorrect even though both appear equivalent in this example.</p>\n"}], "owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 481, "favorite_count": 0, "accepted_answer_id": 46063625, "answer_count": 2, "score": 2, "last_activity_date": 1504648859, "creation_date": 1504644621, "question_id": 46063174, "link": "https://stackoverflow.com/questions/46063174/perl-utf8-binmode-unexpected-results", "title": "Perl utf8 binmode unexpected results", "body": "<p>Why does binmode as raw produce the umlaut? Could any elaboration be given regarding how 'Zurich' String is stored internally in Perl? Just a little lost.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = \"result-test-encoding-raw.xml\";\nopen(my $fh,'&gt;', $filename) or die \"die\";\n#binmode $fh, ':utf8'; #bad umlaut\nbinmode $fh, ':raw'; #good umlaut\n\nprint $fh '&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;';\nprint $fh '&lt;node&gt;';\n\nmy $line_text =  'Z\u00fcrich';\nprint $fh $line_text;\nprint $fh '   next   ';\n$line_text = 'Z&amp;#252;rich';\nprint $fh $line_text;\n\nprint $fh '&lt;/node&gt;';\n\nclose($fh);\n</code></pre>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1504649368, "post_id": 46063117, "comment_id": 79088896, "body": "I&#39;m not sure what you mean by <i>auto download</i> but it&#39;s likely to be done by JavaScript in the downloaded page. What is the file type of the URL? I assume it&#39;s not an xls link?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1504678780, "post_id": 46063117, "comment_id": 79096496, "body": "check manually the link is available"}, {"owner": {"reputation": 95, "user_id": 7236738, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d661f20e95b55e15a2c6037654636265?s=128&d=identicon&r=PG&f=1", "display_name": "Xavia", "link": "https://stackoverflow.com/users/7236738/xavia"}, "edited": false, "score": 0, "creation_date": 1504704628, "post_id": 46063117, "comment_id": 79114309, "body": "The link is available, it is one of those link that once you enter it in the URL it would not go to a certain page but will download the file directly"}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 7236738, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d661f20e95b55e15a2c6037654636265?s=128&d=identicon&r=PG&f=1", "display_name": "Xavia", "link": "https://stackoverflow.com/users/7236738/xavia"}, "edited": false, "score": 0, "creation_date": 1504705051, "post_id": 46068352, "comment_id": 79114617, "body": "I&#39;m getting weblink not available error, does that mean the link is not valid for getstore function?"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1504679712, "creation_date": 1504679712, "answer_id": 46068352, "question_id": 46063117, "link": "https://stackoverflow.com/questions/46063117/how-to-download-files-from-auto-download-links-using-perl/46068352#46068352", "title": "How to download files from auto download links using perl", "body": "<p>Not tested might be helpful for your request.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::Simple;\nuse WWW::Mechanize;\n\nmy $xls_link = $ARGV[0]; #http://linksample.com/this/link/auto-downloads/when-link-is-entered.xls\nif (! head($xls_link)) { print \"\\nError: Provided weblink not available...!\\n\";   exit;  }\nelse\n{\n    my $file_dir = \"c:/file/directory/filename.xls\";\n    if(-e $file_dir) { print \"\\nError: Provided Directory/File found...!\\n\"; exit; }\n    getstore($xls_link, $file_dir);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 7236738, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d661f20e95b55e15a2c6037654636265?s=128&d=identicon&r=PG&f=1", "display_name": "Xavia", "link": "https://stackoverflow.com/users/7236738/xavia"}, "is_accepted": false, "score": 1, "last_activity_date": 1504707820, "creation_date": 1504707820, "answer_id": 46077754, "question_id": 46063117, "link": "https://stackoverflow.com/questions/46063117/how-to-download-files-from-auto-download-links-using-perl/46077754#46077754", "title": "How to download files from auto download links using perl", "body": "<p>Instead of getstore I used WWW::Mechanize instead and also I was getting certification errors from the link</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse WWW::Mechanize;\nuse IO::Socket::SSL qw();\n\nmy $xls_link = \"http://linksample.com/this/link/auto-downloads/when-link-is-entered.xls\";\nmy $file_dir = \"file/directory/filename.xls\"\nmy $mech = WWW::Mechanize-&gt;new(ssl_opts =&gt; {\nSSL_verify_mode =&gt; IO::Socket::SSL::SSL_VERIFY_NONE,\nverify_hostname =&gt; 0, # this key is likely going to be removed in future LWP &gt;6.04\n});\n\n$mech-&gt;get(\"$xls_link\");\n$mech-&gt;save_content(\"$file_dir\");\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 7236738, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d661f20e95b55e15a2c6037654636265?s=128&d=identicon&r=PG&f=1", "display_name": "Xavia", "link": "https://stackoverflow.com/users/7236738/xavia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1504707820, "creation_date": 1504644341, "question_id": 46063117, "link": "https://stackoverflow.com/questions/46063117/how-to-download-files-from-auto-download-links-using-perl", "title": "How to download files from auto download links using perl", "body": "<p>I'm trying to download an excel file using getstore from LWP::Simple using this code:</p>\n\n<pre><code>use 5.010;\nuse strict;\nuse warnings;\nuse LWP::Simple qw(getstore);\n\n$xls_link = \"http://linksample.com/this/link/auto-downloads/when-link-is-entered.xls\";\n$file_dir = \"file/directory/filename.xls\"\ngetstore($xls_link, $file_dir);\n</code></pre>\n\n<p>For some reason the file is not downloading. I have used LWP::Simple before with images and they work just fine. The only difference they have with this is that it is an excel file and also the URL auto downloads the file when you enter the URL.</p>\n"}, {"tags": ["perl", "file-rename"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504640303, "post_id": 46062159, "comment_id": 79085012, "body": "What error do you get?"}, {"owner": {"reputation": 103, "user_id": 8139165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bebd0c29be4940f8dc9ffca9ae9e2ae0?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Wilson", "link": "https://stackoverflow.com/users/8139165/alan-wilson"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504640401, "post_id": 46062159, "comment_id": 79085073, "body": "Just the &quot;Error Rename File at DeleteLogFile.pl line 58&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1504640442, "post_id": 46062159, "comment_id": 79085098, "body": "Fine, let me rephrase: What error did <code>rename</code> return? (Change <code>die (&quot;Error Renaming  File&quot;)</code> to <code>die(&quot;Error renaming \\&quot;testLog.log\\&quot; to \\&quot;testLog_$date.log\\&quot;: $!\\n&quot;)</code>)"}, {"owner": {"reputation": 103, "user_id": 8139165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bebd0c29be4940f8dc9ffca9ae9e2ae0?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Wilson", "link": "https://stackoverflow.com/users/8139165/alan-wilson"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504640509, "post_id": 46062159, "comment_id": 79085130, "body": "Now I get &quot;Error renaming &quot;testLog.log&quot; to &quot;testLog_09/05/2017.log&quot;: No such file or directory&quot; but the file is in the same folder as the script"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1504640622, "post_id": 46062159, "comment_id": 79085190, "body": "Perl&#39;s <code>rename</code> simply calls the <code>rename</code> system call. The docs for the <code>rename</code> system call (<code>rename(2)</code>) say: <i>ENOENT: The link named by oldpath does not exist; or, <b>a directory component in newpath does not exist</b>; or, oldpath or newpath is an empty string.</i> There&#39;s no directory named <code>testLog_09</code> in the CWD."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 8139165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bebd0c29be4940f8dc9ffca9ae9e2ae0?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Wilson", "link": "https://stackoverflow.com/users/8139165/alan-wilson"}, "edited": false, "score": 0, "creation_date": 1504640704, "post_id": 46062255, "comment_id": 79085240, "body": "That worked... How come the error was &quot;No such file or directory&quot;? If it was an issue with the new name format"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 103, "user_id": 8139165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bebd0c29be4940f8dc9ffca9ae9e2ae0?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Wilson", "link": "https://stackoverflow.com/users/8139165/alan-wilson"}, "edited": false, "score": 1, "creation_date": 1504640773, "post_id": 46062255, "comment_id": 79085274, "body": "You asked to rename the file to <code>2017.log</code> in the directory <code>testLog_09&#47;05</code>. That directory doesn&#39;t exist."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1504640847, "last_edit_date": 1504640847, "creation_date": 1504640516, "answer_id": 46062255, "question_id": 46062159, "link": "https://stackoverflow.com/questions/46062159/how-to-rename-a-file-using-perl/46062255#46062255", "title": "How to rename a file using Perl", "body": "<p><code>/</code> is not a valid character for file names since it's the directory separator. You effectively asked to rename <code>testLog.log</code> in the current dir to <code>2017.log</code> in the directory <code>testLog_09/05</code>. That directory doesn't exist.</p>\n\n<p>Change</p>\n\n<pre><code>my $date = localtime-&gt;strftime('%m/%d/%Y');\n</code></pre>\n\n<p>to</p>\n\n<pre><code>my $date = localtime-&gt;strftime('%m-%d-%Y');\n</code></pre>\n\n<p>Better yet, use a format that sorts naturally.</p>\n\n<pre><code>my $date = localtime-&gt;strftime('%Y-%m-%d');\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 8139165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bebd0c29be4940f8dc9ffca9ae9e2ae0?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Wilson", "link": "https://stackoverflow.com/users/8139165/alan-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1516, "favorite_count": 0, "accepted_answer_id": 46062255, "answer_count": 1, "score": 1, "last_activity_date": 1504640847, "creation_date": 1504640119, "question_id": 46062159, "link": "https://stackoverflow.com/questions/46062159/how-to-rename-a-file-using-perl", "title": "How to rename a file using Perl", "body": "<p>I have been trying to rename a file for the past hour using perl. I have researched forever and have tried everything yet nothing worked. How can I rename a file using perl? Here is my script:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::Piece;\nuse File::Copy qw(move);\n\n\n# Open the log file\n    my $log_file = 'testLog.log';\n    open my $log_fh, '&lt;', $log_file or die \"Could not open file $log_file: \n$! +\";\n\n# Create New File\n    my $new_log_file = 'testLog.log';\n\n# My file size (bytes)\n    my $logFileSize = -s $log_file;\n\n# My file size (Mb)\n    my $logFileSizeMB = $logFileSize / 1000000;\n\n# File size limit\n    my $fileSizeLimit = 100;\n\n# Get Date\nmy $date = localtime-&gt;strftime('%m/%d/%Y');\n\n# New File Name\nmy $newFileName = \"testLog_$date.log\";\n\nsub main {\n\n    if ($logFileSizeMB &gt; $fileSizeLimit) {\n\n        close $log_fh or die \"Could not close file $log_file: $!\";\n\n        #print \"$newFileName\\n\";\n        rename(\"testLog.log\", \"testLog_$date.log\") || die (\"Error Renaming \nFile\");\n\n\n\n        #open my $new_log_fh, '&gt;', $new_log_file or die \"Could not open file \n$new_log_file: $! +\";\n        #close $new_log_fh or die \"Could not close file $new_log_file: $!\";\n\n        print \"New log file created successfully!\";\n\n    } else {\n\n        print \"File size is under $fileSizeLimit\";\n\n    }\n\n\n    exit(0);\n}\n\nmain();\n</code></pre>\n\n<p>When I run this the file remains unchanged... any ideas on how to fix this?</p>\n"}, {"tags": ["perl", "fixtures", "dbix-class"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504685356, "post_id": 46062007, "comment_id": 79100421, "body": "Could be a pluralization problem. DBIx::Class::Schema::Loader (and probably the other things for automatic data dumping) generate Result/table names based on rules for turning words into singular and plural. You often see an <code>s</code> in the end. Sometimes it&#39;s even smarter, and DBIC includes a load of modules as dependencies for various languages to make plural monikers for things. But if your tables are in a language it doesn&#39;t support (like German or probably Russian, especially if it&#39;s transliterated) it might fail. Maybe the DCSL and Fixtures created different names?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504685960, "post_id": 46062007, "comment_id": 79100780, "body": "@simbabque: I have found <a href=\"http://search.cpan.org/~ilmari/DBIx-Class-Schema-Loader/lib/DBIx/Class/Schema/Loader/Base.pm#naming\" rel=\"nofollow noreferrer\">this</a>. Today I am planning to experiment with that."}], "answers": [{"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1504704841, "last_edit_date": 1504704841, "creation_date": 1504695312, "answer_id": 46073384, "question_id": 46062007, "link": "https://stackoverflow.com/questions/46062007/dbixclass-error-cant-find-source-for-xxx/46073384#46073384", "title": "DBIx::Class error &quot;Can&#39;t find source for XXX&quot;", "body": "<p>in the <a href=\"https://metacpan.org/source/ILMARI/DBIx-Class-Schema-Loader-0.07047/lib/DBIx/Class/Schema/Loader.pm#L535\" rel=\"nofollow noreferrer\">DBIx::Class::Schema::Loader</a> we are connecting to the temporary schema. </p>\n\n<p>When connection occur the schema is <a href=\"https://metacpan.org/source/RIBASUSHI/DBIx-Class-0.082840/lib/DBIx/Class/Schema.pm#L524\" rel=\"nofollow noreferrer\">cloned</a></p>\n\n<p>But because of there only <a href=\"https://metacpan.org/source/JJNAPIORK/DBIx-Class-Migration-0.058/lib/DBIx/Class/Migration/SchemaLoader.pm\" rel=\"nofollow noreferrer\">schema name is passed</a> nothing is <a href=\"https://metacpan.org/source/RIBASUSHI/DBIx-Class-0.082840/lib/DBIx/Class/Schema.pm#L1008\" rel=\"nofollow noreferrer\">cloned</a> and, as result, has empty class mapping. Which is wrong.</p>\n\n<p>If you look carefully you will see that cloning occur twice: <a href=\"https://metacpan.org/source/JJNAPIORK/DBIx-Class-Migration-0.001/lib/DBIx/Class/Migration/SchemaLoader.pm#L18\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://metacpan.org/source/RIBASUSHI/DBIx-Class-0.082840/lib/DBIx/Class/Schema.pm#L524\" rel=\"nofollow noreferrer\">here</a>. This extra cloning is wasteful and should be refactored.</p>\n\n<p>As work around <a href=\"https://metacpan.org/source/JJNAPIORK/DBIx-Class-Migration-0.058/lib/DBIx/Class/Migration/SchemaLoader.pm\" rel=\"nofollow noreferrer\">here</a> should be passed reblessed into required namespace cloned schema:</p>\n\n<pre><code>sub _make_schema_at {\n  my ($self, $name, %extra_opts) = @_;\n  my $schema = $self-&gt;schema-&gt;clone;\n  bless $schema, $name;\n  DBIx::Class::Schema::Loader::make_schema_at\n    $schema, {_merge_opts(%extra_opts)}, [{_rearrange_connect_info($schema-&gt;storage)}];\n}\n</code></pre>\n\n<p><strong>UPD</strong></p>\n\n<p><a href=\"https://metacpan.org/source/ILMARI/DBIx-Class-Schema-Loader-0.07047/lib/DBIx/Class/Schema/Loader.pm#L311\" rel=\"nofollow noreferrer\">Lately</a>, when new loader is created, the <code>naming</code> is forced to <code>current</code> instead of passed argument, which, in its turn, is cloned from application schema. (I do not check that, but when application will have its own <a href=\"https://metacpan.org/pod/DBIx::Class::Schema::Loader::Base#naming\" rel=\"nofollow noreferrer\"><code>naming</code></a>, this will cause problems when dumping data) and <a href=\"https://metacpan.org/source/ILMARI/DBIx-Class-Schema-Loader-0.07047/lib/DBIx/Class/Schema/Loader.pm#L366\" rel=\"nofollow noreferrer\">loader is invoked again</a>. Here loader loads classes <a href=\"https://metacpan.org/source/ILMARI/DBIx-Class-Schema-Loader-0.07047/lib/DBIx/Class/Schema/Loader/Base.pm#L1735\" rel=\"nofollow noreferrer\">based on table names</a> instead of package names( how it is done at <code>__PACKAGE__-&gt;load_namespaces( ... )</code> )</p>\n\n<p>Finally <code>@to_register</code> lists differ:</p>\n\n<p><a href=\"https://metacpan.org/source/ILMARI/DBIx-Class-Schema-Loader-0.07047/lib/DBIx/Class/Schema/Loader/Base.pm#L1898\" rel=\"nofollow noreferrer\">Here</a></p>\n\n<pre><code>[\n  Ip,\n  App::Schema0::Result::Ip,\n]\n[\n  Scheta,\n  App::Schema0::Result::Scheta,\n]\n</code></pre>\n\n<p><a href=\"https://metacpan.org/source/RIBASUSHI/DBIx-Class-0.082840/lib/DBIx/Class/Schema.pm#L396\" rel=\"nofollow noreferrer\">Here</a>:</p>\n\n<pre><code>[\n  IP,\n  App::Schema::Result::IP,\n],\n[\n  Schet,\n  App::Schema::Result::Schet,\n],\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 4847440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79607e59394d26e6a626efd4f56d4be?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/4847440/terry"}, "is_accepted": false, "score": 0, "last_activity_date": 1583785793, "creation_date": 1583785793, "answer_id": 60607916, "question_id": 46062007, "link": "https://stackoverflow.com/questions/46062007/dbixclass-error-cant-find-source-for-xxx/60607916#60607916", "title": "DBIx::Class error &quot;Can&#39;t find source for XXX&quot;", "body": "<p>Ran into this recently, within a docker container.  Curiously, some DBIx directories had the wrong permissions on them.  They need to at least be readable.  Also check file/directory ownership.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 669, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1583785793, "creation_date": 1504639438, "last_edit_date": 1504651577, "question_id": 46062007, "link": "https://stackoverflow.com/questions/46062007/dbixclass-error-cant-find-source-for-xxx", "title": "DBIx::Class error &quot;Can&#39;t find source for XXX&quot;", "body": "<p>When I try to dump database with <a href=\"http://search.cpan.org/~skaufman/DBIx-Class-Fixtures-1.001036/lib/DBIx/Class/Fixtures.pm\" rel=\"nofollow noreferrer\">Fixtures</a>:</p>\n\n<pre><code>dbic-migration --schema_class App::Schema --database PostgreSQL -Ilib dump_all_sets\n</code></pre>\n\n<p>I got error:</p>\n\n<pre><code>DBIx::Class::Schema::source(): Can't find source for Schet at /home/xxx/lib/perl5/x86_64-linux/Moose/Meta/Method/Delegation.pm line 110\n</code></pre>\n\n<p>In main application I have no problem to write:</p>\n\n<pre><code>$schema-&gt;resultset('Schet')\n</code></pre>\n\n<p>How to fix this error and dump data into fixtures?</p>\n"}, {"tags": ["windows", "perl", "xgboost", "strawberry-perl"], "answers": [{"tags": [], "owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "is_accepted": true, "score": 3, "last_activity_date": 1504649833, "last_edit_date": 1504649833, "creation_date": 1504643229, "answer_id": 46062878, "question_id": 46061725, "link": "https://stackoverflow.com/questions/46061725/error-while-installing-alienxgboost-library/46062878#46062878", "title": "Error while installing Alien::XGBoost library", "body": "<p>The author of the library just confirmed it was a bug. His statement is below.  I installed the previous version and it worked perfectly.</p>\n\n<blockquote>\n  <p>Thanks for reporting this!!<br>\n  It's a bug! I forgot to quote the path.<br>\n  As you can see both md commands have the path double quoted (\"\"), but not the copy command.<br>\n  I'm working to fix it and also I'm going to get travis and appveyor integrations to avoid this in the future.<br>\n  This weekend this will be fixed. Meanwhile please install the previous version:<br>\n  <code>cpanm PABLROD/Alien-XGBoost-0.03.tar.gz</code></p>\n</blockquote>\n"}], "owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 46062878, "answer_count": 1, "score": 1, "last_activity_date": 1504649833, "creation_date": 1504638201, "last_edit_date": 1504640411, "question_id": 46061725, "link": "https://stackoverflow.com/questions/46061725/error-while-installing-alienxgboost-library", "title": "Error while installing Alien::XGBoost library", "body": "\n\n<p>I'm unable to install the <a href=\"https://metacpan.org/pod/Alien::XGBoost\" rel=\"nofollow noreferrer\"><code>Alien::XGBoost</code></a> library using the default installation of Strawberry Perl on Windows 10. I'm using the 64-bit version of Strawberry Perl.</p>\n\n<p>When installing <code>Alien::XGBoost</code>, I receive an error on line 49 in the <code>Alien/Build/CommandSequence.pm</code> file as shown below.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>gmake[1]: Leaving directory 'C:/STRAWB~1/cpan/build/Alien-XGBoost-0.04-1/_alien/build_wYwS'\nAlien::Build::CommandSequence&gt; + md \"C:/STRAWB~1/cpan/build/Alien-XGBoost-0.04-1/blib/lib/auto/share/dist/Alien-XGBoost/dynamic\"\nAlien::Build::CommandSequence&gt; + md \"C:/STRAWB~1/cpan/build/Alien-XGBoost-0.04-1/blib/lib/auto/share/dist/Alien-XGBoost/bin\"\nAlien::Build::CommandSequence&gt; + copy xgboost.exe C:/STRAWB~1/cpan/build/Alien-XGBoost-0.04-1/blib/lib/auto/share/dist/Alien-XGBoost/bin/\nThe syntax of the command is incorrect.\nexternal command failed at C:/Strawberry/perl/site/lib/Alien/Build/CommandSequence.pm line 49.\ngmake: *** [Makefile:2881: _alien/mm/build] Error 2\n  PABLROD/Alien-XGBoost-0.04.tar.gz\n  C:\\STRAWB~1\\c\\bin\\gmake.exe -- NOT OK\nStopping: 'install' failed for 'Alien::XGBoost'.\n</code></pre>\n"}, {"tags": ["regex", "perl", "csv"], "comments": [{"owner": {"reputation": 4161, "user_id": 449215, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/02b9a3cc087554f3426b4c83c1c68bff?s=128&d=identicon&r=PG", "display_name": "Dov Grobgeld", "link": "https://stackoverflow.com/users/449215/dov-grobgeld"}, "edited": false, "score": 6, "creation_date": 1504626561, "post_id": 46058635, "comment_id": 79078068, "body": "Why don&#39;t you use the <code>Text::CSV</code> module instead of a regexp?"}, {"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "reply_to_user": {"reputation": 4161, "user_id": 449215, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/02b9a3cc087554f3426b4c83c1c68bff?s=128&d=identicon&r=PG", "display_name": "Dov Grobgeld", "link": "https://stackoverflow.com/users/449215/dov-grobgeld"}, "edited": false, "score": 0, "creation_date": 1504626793, "post_id": 46058635, "comment_id": 79078213, "body": "@DovGrobgeld I need to check that whether it fits in my requirement or not as my main purpose is to convert a csv to JSON. I will get back to you on this."}, {"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "reply_to_user": {"reputation": 4161, "user_id": 449215, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/02b9a3cc087554f3426b4c83c1c68bff?s=128&d=identicon&r=PG", "display_name": "Dov Grobgeld", "link": "https://stackoverflow.com/users/449215/dov-grobgeld"}, "edited": false, "score": 0, "creation_date": 1504626827, "post_id": 46058635, "comment_id": 79078236, "body": "I see that a negative character class [^&quot;] around the comma might do my job in all cases."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1504628613, "post_id": 46058635, "comment_id": 79079267, "body": "The main problem here isn&#39;t the embedded commas but the embedded double-quotes as in the field <code>&quot;error -msg &quot;wrong input&quot; -line_num &quot;3rd line&quot; &quot;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504628866, "post_id": 46058635, "comment_id": 79079397, "body": "I would suggest using an existing parser such as Text::CSV_XS, but you don&#39;t have valid CSV! You have spaces after the commas, but that can be handled using <code>allow_whitespace =&gt; 1</code>. Your unescaped quotes (<code>&quot;error -msg &quot;wrong input&quot; ...&quot;</code>), on the other hand, can&#39;t be handled. You are therefore asking us to write a CSV-ish parser, but SO is not a code-writing service. Voting to close as too broad."}, {"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "edited": false, "score": 0, "creation_date": 1504688546, "post_id": 46058635, "comment_id": 79102443, "body": "Hi all, thanks for your valuable inputs."}], "answers": [{"comments": [{"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "edited": false, "score": 0, "creation_date": 1504688678, "post_id": 46059508, "comment_id": 79102557, "body": "Yes, the problem lies in given file which I claim as csv. I got this file from somebody on which I have no control. However, thanks for your suggestion. I need to find some other way either by asking to  change the format of the file correctly or to take care of the problem at my end."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "edited": false, "score": 1, "creation_date": 1504690270, "post_id": 46059508, "comment_id": 79103804, "body": "<i>which I claim as csv</i> Your claim is demonstrably incorrect. This is not a valid CSV file."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1504628826, "last_edit_date": 1504628826, "creation_date": 1504628595, "answer_id": 46059508, "question_id": 46058635, "link": "https://stackoverflow.com/questions/46058635/regex-help-required-to-process-a-csv-file-in-perl-having-a-comma-in-the-value-it/46059508#46059508", "title": "Regex help required to process a csv file in Perl having a comma in the value itself", "body": "<p>Don't waste time trying to work this out with regexes. Just use <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a> (or, if you want a standard part of the Perl distribution, <a href=\"https://metacpan.org/pod/Text::ParseWords\" rel=\"nofollow noreferrer\">Text::ParseWords</a>).</p>\n\n<p><strong>Update:</strong> I've just spotted that this isn't valid CSV. It's not the embedded commas that are the problem, but the embedded double quotes in fields like <code>\"error -msg \"wrong input\" -line_num \"3rd line\" \"</code>. You should go back to whoever supplies you with this data and aslk them to produce something that is valid CSV.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1504629618, "creation_date": 1504629618, "answer_id": 46059740, "question_id": 46058635, "link": "https://stackoverflow.com/questions/46058635/regex-help-required-to-process-a-csv-file-in-perl-having-a-comma-in-the-value-it/46059740#46059740", "title": "Regex help required to process a csv file in Perl having a comma in the value itself", "body": "<p>If you are unable to obtain proper valid CSV data then this will probably work for you <em>most</em> of the time. But you need to be <em>very careful</em>, and suspect the parsing if you appear to be getting strange errors</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use utf8;\nuse strict;\nuse warnings 'all';\nuse open qw/ :std :encoding(UTF-8) /;\n\nmy $s = q{\"109\", \"[53G]\", \"/a/unix/path/\", \"\", \"hi 'sir', good morning\", \"error -msg \"wrong input\" -line_num \"3rd line\" \", \"\"};\n\nmy @fields = $s =~ / \"(.*?)\" (?: ,\\s* (?=\") | $ ) /gx;\n\nprint \"\u00ab$_\u00bb\\n\" for @fields;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>\u00ab109\u00bb\n\u00ab[53G]\u00bb\n\u00ab/a/unix/path/\u00bb\n\u00ab\u00bb\n\u00abhi 'sir', good morning\u00bb\n\u00aberror -msg \"wrong input\" -line_num \"3rd line\" \u00bb\n\u00ab\u00bb\n</code></pre>\n"}], "owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 46059740, "answer_count": 2, "score": -1, "last_activity_date": 1504629618, "creation_date": 1504625420, "last_edit_date": 1504626267, "question_id": 46058635, "link": "https://stackoverflow.com/questions/46058635/regex-help-required-to-process-a-csv-file-in-perl-having-a-comma-in-the-value-it", "title": "Regex help required to process a csv file in Perl having a comma in the value itself", "body": "<p>I need a help on csv parsing when the value itself has a comma in it.\nI already learnt from this <a href=\"https://stackoverflow.com/questions/12056038/handling-csv-when-one-of-its-value-may-include-a-comma-in-the-string\">link</a> that it is not possible to deal with.</p>\n\n<p>However, I think, I have an idea which can implemented if a little help is provided to build the regex. Let's say my csv file is having below patterns as each of it value :</p>\n\n<pre><code>\"109\", \"[53G]\", \"/a/unix/path/\", \"\", \"hi 'sir', good morning\", \"error -msg \"wrong input\" -line_num \"3rd line\" \", \"\"\n</code></pre>\n\n<p>When above line (or similar) is encountered, I want \"hi 'sir', good morning\" to be collected in a variable or so as is. But as you already know, the phrase/value is getting split with respect to the comma (,) in between 'sir' and 'good'.</p>\n\n<p>I have written a code which is working on a simplified version of it given below :</p>\n\n<pre><code>\"a\", \"b\", \"c, cd\", \"d\"\n</code></pre>\n\n<p>The code that could match the above line is as follows :</p>\n\n<pre><code>if($line =~ /[a-zA-Z0-9],[\\sa-zA-Z0-9]/) {\n    print \"It matched \\n\";\n}\n</code></pre>\n\n<p>To further explain the idea and the pseudo code would be to :</p>\n\n<p>1) Match a/all pattern(s) where the comma is not preceded or followed by a double quote<br>\n2) Then replace the comma by some phrase and collect the exact value within \"\" <br>\n3) After collecting the cell value in a variable , replace the deliberately substituted phrase by the comma again and do the processing.<br></p>\n\n<p>If somebody can help me with the regex for the real pattern I mentioned above which will check against all values around the comma except a double quote and do the replacement steps as above would be a great help.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1504624222, "post_id": 46057993, "comment_id": 79076581, "body": "Not very simple to do. You have balanced text that are scope delimiters that can be hidden inside quotes and comments. Well, that&#39;s at least 3 things you have to consider and write a pretty big and complex regex to do. I would charge money to do this one. And, of course the function itself can be hidden in comments or quotes."}, {"owner": {"reputation": 2490, "user_id": 6560478, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/596df03e1a0b79a4c4b2615820202a59?s=128&d=identicon&r=PG&f=1", "display_name": "Drag and Drop", "link": "https://stackoverflow.com/users/6560478/drag-and-drop"}, "edited": false, "score": 0, "creation_date": 1504624595, "post_id": 46057993, "comment_id": 79076819, "body": "Why? I mean like sln said this gonna be complex. But what is the purpuse? And How many match <code>String example(</code> have in all the directories? If there is less than 20 match it will be quicker by hand."}, {"owner": {"reputation": 168, "user_id": 3008220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ytXRr.jpg?s=128&g=1", "display_name": "Conor Thompson", "link": "https://stackoverflow.com/users/3008220/conor-thompson"}, "edited": false, "score": 0, "creation_date": 1504627308, "post_id": 46057993, "comment_id": 79078559, "body": "This is just to replace a function in a file, without having to manually do it, for reasons."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504628361, "post_id": 46058848, "comment_id": 79079138, "body": "That&#39;s truly awful"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504628419, "post_id": 46058848, "comment_id": 79079163, "body": "No, not really."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1504628677, "post_id": 46058848, "comment_id": 79079309, "body": "Nice regex revo!"}, {"owner": {"reputation": 963, "user_id": 1316659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8f88c8b06b4b247a1f786e8f52a017b?s=128&d=identicon&r=PG", "display_name": "Dewi Morgan", "link": "https://stackoverflow.com/users/1316659/dewi-morgan"}, "edited": false, "score": 0, "creation_date": 1504639307, "post_id": 46058848, "comment_id": 79084475, "body": "Fantastic regex. Doesn&#39;t recognize some of the more esoteric nonsense in Java (generics, lambdas), but I&#39;d say that&#39;s probably a good thing."}], "tags": [], "owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "is_accepted": true, "score": 2, "last_activity_date": 1504628826, "last_edit_date": 1504628826, "creation_date": 1504626107, "answer_id": 46058848, "question_id": 46057993, "link": "https://stackoverflow.com/questions/46057993/perl-regex-read-java-file-and-match-entire-text-of-a-function-in-file/46058848#46058848", "title": "Perl regex - read java file and match entire text of a function in file", "body": "<p>**<a href=\"https://stackoverflow.com/a/38111480/1020526\"><em>Adopted from this answer</em></a></p>\n\n<p>Regex:</p>\n\n<pre><code>^\\s*([\\w\\s]+\\(.*\\)\\s*(\\{((?&gt;\"(?:[^\"\\\\]*+|\\\\.)*\"|'(?:[^'\\\\]*+|\\\\.)*'|//.*$|/\\*[\\s\\S]*?\\*/(\\w+)[\"']?[^;]+\\4;$|[^{}&lt;'\"/]++|[^{}]++|(?2))*)}))\n</code></pre>\n\n<p>Breakdown:</p>\n\n<pre><code>^ \\s*\n(                             # (1 start)\n  [\\w\\s]+ \\( .* \\) \\s*                 # How it matches a function definition\n  (                             # (2 start)\n      \\{                                     # Opening curly bracket\n      (                             # (3 start)\n           (?&gt;                               # Atomic grouping (for its non-capturing purpose only)\n                \"(?: [^\"\\\\]*+ | \\\\ . )*\"     # Double quoted strings\n             |  '(?: [^'\\\\]*+ | \\\\ . )*'     # Single quoted strings\n             |  // .* $                      # A comment block starting with //\n             |  /\\* [\\s\\S]*? \\*/             # A multi-line comment block /*...*/\n                ( \\w+ )                      # (4) ^\n                [\"']? [^;]+ \\4 ; $           # ^\n             |  [^{}&lt;'\"/]++                  # Force engine to backtrack if it encounters special characters (possessive)\n             |  [^{}]++                      # Default matching behavior (possessive)\n             |  (?2)                         # Recurs 2nd capturing group\n           )*                                # Zero to many times of atomic group\n      )                             # (3 end)\n      }                                      # Closing curly bracket\n  )                             # (2 end)\n)                             # (1 end)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 168, "user_id": 3008220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ytXRr.jpg?s=128&g=1", "display_name": "Conor Thompson", "link": "https://stackoverflow.com/users/3008220/conor-thompson"}, "edited": false, "score": 1, "creation_date": 1504771312, "post_id": 46061980, "comment_id": 79143604, "body": "This one seems a lot neater!"}, {"owner": {"reputation": 963, "user_id": 1316659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8f88c8b06b4b247a1f786e8f52a017b?s=128&d=identicon&r=PG", "display_name": "Dewi Morgan", "link": "https://stackoverflow.com/users/1316659/dewi-morgan"}, "reply_to_user": {"reputation": 168, "user_id": 3008220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ytXRr.jpg?s=128&g=1", "display_name": "Conor Thompson", "link": "https://stackoverflow.com/users/3008220/conor-thompson"}, "edited": false, "score": 0, "creation_date": 1504798479, "post_id": 46061980, "comment_id": 79162905, "body": "@ConorThompson Neater perhaps, but only because I&#39;m making assumptions about the data we&#39;re working with. So my suggestion is far less rugged than Revo&#39;s code, which makes exactly zero assumptions about formatting. Even then, neither of them are PHP parsers, so both break in some cases; Revo&#39;s just breaks in far <i>fewer</i> cases."}], "tags": [], "owner": {"reputation": 963, "user_id": 1316659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8f88c8b06b4b247a1f786e8f52a017b?s=128&d=identicon&r=PG", "display_name": "Dewi Morgan", "link": "https://stackoverflow.com/users/1316659/dewi-morgan"}, "is_accepted": false, "score": 1, "last_activity_date": 1504798552, "last_edit_date": 1504798552, "creation_date": 1504639312, "answer_id": 46061980, "question_id": 46057993, "link": "https://stackoverflow.com/questions/46057993/perl-regex-read-java-file-and-match-entire-text-of-a-function-in-file/46061980#46061980", "title": "Perl regex - read java file and match entire text of a function in file", "body": "<p>Revo's regex is the Right Way To Do it (as much as a regex ever can be!).</p>\n\n<p>But sometimes you just need something quick, to manipulate a file you have control over. I find, when using regexes, that it's often important to define \"Good enough\".</p>\n\n<p>So, it may be \"good enough\" to assume the indentation is correct. In that case, you can just detect the start of the fn, then read until you find the next closing curly with the same indentation:</p>\n\n<pre><code>(               # Capture \\1.\n    ^([\\t ])+   # Match and capture leading whitespace to \\2.\n    (?:\\w+\\s*)? # Privacy specifier, if any.\n    \\w+\\s*\\(    # Name and opening round brace: is a function.\n    .*?         # Need Dot-matches-newline, to match fn body.\n    \\n\\2}       # Curly brace is as indented as start of fn.\n)               # End capture of \\1.\n</code></pre>\n\n<p>Should work on clean code that you wrote yourself, code you can pass through an auto-formatter first, etc.</p>\n\n<p>Will work with K&amp;R, Hortmann and Allman <a href=\"https://en.wikipedia.org/wiki/Indent_style\" rel=\"nofollow noreferrer\">indent styles</a>.</p>\n\n<p><strong>Will fail</strong> with one-line and in-line functions, and indent styles like GNU, Whitesmiths, Pico, Ratliff and Pico - things which Rico's answer handles with no problems at all.</p>\n\n<p><strong>Also fails</strong> on lambdas, nested functions, and functions which use generics, but even Revo's doesn't recognize those, and they're not that common.</p>\n\n<p>And neither of our regexes capture the comments preceding a function, which is pretty sinful.</p>\n"}], "owner": {"reputation": 168, "user_id": 3008220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ytXRr.jpg?s=128&g=1", "display_name": "Conor Thompson", "link": "https://stackoverflow.com/users/3008220/conor-thompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 46058848, "answer_count": 2, "score": 1, "last_activity_date": 1504798552, "creation_date": 1504623308, "question_id": 46057993, "link": "https://stackoverflow.com/questions/46057993/perl-regex-read-java-file-and-match-entire-text-of-a-function-in-file", "title": "Perl regex - read java file and match entire text of a function in file", "body": "<p>I am trying to read a .java file into a perl variable, and I want to match a function, say for instance:</p>\n\n<pre><code>public String example(){\n\nreturn \"hello\";\n\n}\n</code></pre>\n\n<p>What would the regex patter for this look like?</p>\n\n<p><strong>Current Attempt:</strong></p>\n\n<pre><code>use strict; \nuse warnings;\n\nopen ( FILE, \"example.java\" ) || die \"can't open file!\";\nmy @lines = &lt;FILE&gt;;\nclose (FILE);\n\nmy $line;\n\nforeach $line (@lines) {\n if($line =~ /String example(.*)}/s){\n    print $line;\n }\n}\n</code></pre>\n"}, {"tags": ["mysql", "perl", "dbix-class", "dancer"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1504618083, "post_id": 46055995, "comment_id": 79072037, "body": "The actual problem aside, those three columns for teacher ids are bad design. You should probably normalize your database and use a n-m relationship so you can have an arbitrary number of teachers per class."}, {"owner": {"reputation": 41, "user_id": 3011244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3114fb99c690c5f8d14d14b8618c5f9e?s=128&d=identicon&r=PG", "display_name": "Armitige3", "link": "https://stackoverflow.com/users/3011244/armitige3"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504619373, "post_id": 46055995, "comment_id": 79073023, "body": "Can you explain more about what you mean? I think I understand in concept, but am not sure I&#39;m clear on it.  There&#39;s a &#39;teachers&#39; table, and those three columns reference that table, since each class listing can have between 0 and 3 listed teachers."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1504619676, "post_id": 46055995, "comment_id": 79073279, "body": "It&#39;s not related to the problem you are seeing, but sure. Your tables are not normalized. You have empty columns for every class entry (row) that only has between 0 and 2 teachers. Only if all three fields are filled in is the space used. That bloats up the database. Furthermore, if you&#39;d have to for some reason add a fourth teacher, you would have to go and change the DDL to add another column, resulting in a write operation on every single row in that table to add a NULL field. That&#39;s very inefficient. Instead, you should have a table for classes_teachers that maps that relationship..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1504619880, "post_id": 46055995, "comment_id": 79073431, "body": "That new tables builds the N:M relation, where each talk can have an arbitrary number of zero or more teachers, and each teacher can teach more than one class. The limit of three per class can be added in the application layer if that&#39;s needed. For DBIC, it will be a <code>has_many</code> relationship, and you&#39;ll have an addition ResultClass. But in total, it&#39;s a way more efficient design."}, {"owner": {"reputation": 41, "user_id": 3011244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3114fb99c690c5f8d14d14b8618c5f9e?s=128&d=identicon&r=PG", "display_name": "Armitige3", "link": "https://stackoverflow.com/users/3011244/armitige3"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504619883, "post_id": 46055995, "comment_id": 79073434, "body": "Ah, I see what you&#39;re saying.  Use a many-to-many relationship mapping, instead.  Yeah, that makes a lot more sense.  And, that is a fairly simple change.  Thanks for pointing that out."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504619990, "post_id": 46055995, "comment_id": 79073506, "body": "Also, why do you load Dancer2 in the Result class? That will make that object be a Dancer application and is very strange. That might well be the issue here."}, {"owner": {"reputation": 41, "user_id": 3011244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3114fb99c690c5f8d14d14b8618c5f9e?s=128&d=identicon&r=PG", "display_name": "Armitige3", "link": "https://stackoverflow.com/users/3011244/armitige3"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504620363, "post_id": 46055995, "comment_id": 79073760, "body": "That was a remnant of a desperate attempt to try <i>anything</i> I can to solve the above problem.  It isn&#39;t permanently in the code.  I should remove it from the example above."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504620427, "post_id": 46055995, "comment_id": 79073802, "body": "Did you write the Result classes by hand or are they auto-generated with DBIx::Class::Schema::Loader?"}, {"owner": {"reputation": 41, "user_id": 3011244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3114fb99c690c5f8d14d14b8618c5f9e?s=128&d=identicon&r=PG", "display_name": "Armitige3", "link": "https://stackoverflow.com/users/3011244/armitige3"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504620661, "post_id": 46055995, "comment_id": 79073980, "body": "I wrote them by hand."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504621801, "post_id": 46055995, "comment_id": 79074806, "body": "Which DBIC version is this? Maybe there was a bug somewhere that&#39;s been fixed. The exception originates in <a href=\"https://metacpan.org/source/RIBASUSHI/DBIx-Class-0.082840/lib/DBIx/Class/Row.pm#L705\" rel=\"nofollow noreferrer\">metacpan.org/source/RIBASUSHI/DBIx-Class-0.082840/lib/DBIx/&hellip;</a> btw."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1504622282, "post_id": 46055995, "comment_id": 79075182, "body": "I would start by eliminating Dancer from the equation completely. Write some command-line tests that try some basic CRUD operations using your classes."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1504622347, "post_id": 46055995, "comment_id": 79075220, "body": "Also, worth trying with classes that are generated using DBIC::Schema::Loader. I&#39;m not sure why anyone would write those classes by hand."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1504622448, "post_id": 46055995, "comment_id": 79075307, "body": "@Dave maybe they don&#39;t know SQL? ;)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504622508, "post_id": 46055995, "comment_id": 79075354, "body": "@simbabque Then they should employ a DBA :-)"}, {"owner": {"reputation": 41, "user_id": 3011244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3114fb99c690c5f8d14d14b8618c5f9e?s=128&d=identicon&r=PG", "display_name": "Armitige3", "link": "https://stackoverflow.com/users/3011244/armitige3"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504622663, "post_id": 46055995, "comment_id": 79075489, "body": "@simbabque: I&#39;m using version 0.082840, which is the latest version."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 3011244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3114fb99c690c5f8d14d14b8618c5f9e?s=128&d=identicon&r=PG", "display_name": "Armitige3", "link": "https://stackoverflow.com/users/3011244/armitige3"}, "edited": false, "score": 0, "creation_date": 1504637453, "post_id": 46061175, "comment_id": 79083551, "body": "Oh man. I totally overlooked that.  I will make a change and see if that fixes it."}, {"owner": {"reputation": 41, "user_id": 3011244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3114fb99c690c5f8d14d14b8618c5f9e?s=128&d=identicon&r=PG", "display_name": "Armitige3", "link": "https://stackoverflow.com/users/3011244/armitige3"}, "edited": false, "score": 0, "creation_date": 1504642089, "post_id": 46061175, "comment_id": 79085903, "body": "<b>THANK YOU!</b>  This has been driving me batty for days.  You were dead on."}], "tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": true, "score": 2, "last_activity_date": 1504635828, "creation_date": 1504635828, "answer_id": 46061175, "question_id": 46055995, "link": "https://stackoverflow.com/questions/46055995/dbixclass-error-on-new-and-create/46061175#46061175", "title": "DBIx::Class Error on New and Create", "body": "<p>You have a column named <code>new</code> which creates an accessor method named <code>new</code> resulting in overriding the classes' constructor method.\nThis is similar to <a href=\"https://metacpan.org/pod/distribution/DBIx-Class/lib/DBIx/Class/Manual/Troubleshooting.pod#syntax-error-at-or-near-%22%3Csomething%3E%22-...\" rel=\"nofollow noreferrer\">DBIx::Class::Manual::Troubleshooting/syntax error at or near \"\" ...</a>.</p>\n"}], "owner": {"reputation": 41, "user_id": 3011244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3114fb99c690c5f8d14d14b8618c5f9e?s=128&d=identicon&r=PG", "display_name": "Armitige3", "link": "https://stackoverflow.com/users/3011244/armitige3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 46061175, "answer_count": 1, "score": 1, "last_activity_date": 1504635828, "creation_date": 1504617489, "last_edit_date": 1504620388, "question_id": 46055995, "link": "https://stackoverflow.com/questions/46055995/dbixclass-error-on-new-and-create", "title": "DBIx::Class Error on New and Create", "body": "<p>I am using DBIx::Class in a Dancer2 project to talk to a MySQL database.  Within that project, I have a ClassInfo resultset that I can select from, search, delete and update, without problem.</p>\n\n<p>However, whenever I try to add a new row, via:</p>\n\n<pre><code>my $new_class = $SCHEMA-&gt;resultset( 'ClassInfo' )-&gt;new({});\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $new_class = $SCHEMA-&gt;resultset( 'ClassInfo' )-&gt;create({});\n</code></pre>\n\n<p>(data left out for brevity), I receive the following error:</p>\n\n<pre><code>DBIx::Class::Row::has_column_loaded(): Can't call has_column data as class method at /home/jlamey/src/dancer_projects/QP/bin/../lib/QP.pm line 2109\n\n2104      {\n2105        flash error =&gt; sprintf( 'Class &lt;strong&gt;%s&lt;/strong&gt; already exists.' );\n2106        redirect '/admin/manage_classes/classes';\n2107      }\n2108    \n2109      my $new_class = $SCHEMA-&gt;resultset( 'ClassInfo' )-&gt;new(\n2110        {\n2111          title                =&gt; body_parameters-&gt;get( 'title' ),\n2112          description          =&gt; body_parameters-&gt;get( 'description' ),\n2113          class_group_id       =&gt; body_parameters-&gt;get( 'class_group_id' ),\n2114          class_subgroup_id    =&gt; ( body_parameters-&gt;get( 'class_subgroup_id' )    ? body_parameters-&gt;get( 'class_subgroup_id' )    : undef ),\n</code></pre>\n\n<p>I have even tried submitting both a 'new' and a 'create' command with <strong>zero</strong> data, just to ensure it's not the data that's causing the error, and the error is still thrown.</p>\n\n<p>The table it's trying to write to looks like this:</p>\n\n<pre><code>+----------------------+---------------------+------+-----+---------+----------------+\n| Field                | Type                | Null | Key | Default | Extra          |\n+----------------------+---------------------+------+-----+---------+----------------+\n| id                   | int(8) unsigned     | NO   | PRI | NULL    | auto_increment |\n| class_group_id       | int(8) unsigned     | NO   | MUL | 1       |                |\n| class_subgroup_id    | int(8) unsigned     | YES  | MUL | NULL    |                |\n| teacher_id           | int(8) unsigned     | YES  | MUL | NULL    |                |\n| secondary_teacher_id | int(8) unsigned     | YES  | MUL | NULL    |                |\n| tertiary_teacher_id  | int(8) unsigned     | YES  | MUL | NULL    |                |\n| title                | varchar(255)        | NO   | MUL |         |                |\n| description          | text                | NO   |     | NULL    |                |\n| num_sessions         | varchar(255)        | YES  |     | NULL    |                |\n| fee                  | varchar(100)        | YES  |     | NULL    |                |\n| skill_level          | varchar(255)        | YES  |     | NULL    |                |\n| is_also_embroidery   | tinyint(1) unsigned | YES  | MUL | 0       |                |\n| is_also_club         | tinyint(1) unsigned | YES  | MUL | 0       |                |\n| show_club            | tinyint(1) unsigned | YES  |     | 0       |                |\n| image_filename       | varchar(255)        | YES  |     | NULL    |                |\n| supply_list_filename | varchar(255)        | YES  |     | NULL    |                |\n| no_supply_list       | tinyint(1) unsigned | YES  |     | 0       |                |\n| always_show          | tinyint(1) unsigned | YES  |     | 0       |                |\n| anchor               | varchar(5)          | YES  |     | NULL    |                |\n| new                  | tinyint(1) unsigned | YES  |     | 0       |                |\n+----------------------+---------------------+------+-----+---------+----------------+\n</code></pre>\n\n<p>And the resultset looks like:</p>\n\n<pre><code>package QP::Schema::Result::ClassInfo;\n\nuse base qw/DBIx::Class::Core/;\n\n__PACKAGE__-&gt;table( 'classes' );\n\n__PACKAGE__-&gt;add_columns(\n                          id =&gt;\n                          {\n                            data_type         =&gt; 'integer',\n                            size              =&gt; 8,\n                            is_nullable       =&gt; 0,\n                            is_auto_increment =&gt; 1,\n                          },\n.\n.\n.\n                          new =&gt;\n                          {\n                            data_type         =&gt; 'boolean',\n                            is_nullable       =&gt; 0,\n                            default_value     =&gt; 0,\n                          },\n                        );\n\n__PACKAGE__-&gt;set_primary_key( 'id' );\n\n__PACKAGE__-&gt;belongs_to( teacher     =&gt; 'QP::Schema::Result::Teacher',       'teacher_id' );\n__PACKAGE__-&gt;belongs_to( teacher2    =&gt; 'QP::Schema::Result::Teacher',       'secondary_teacher_id' );\n__PACKAGE__-&gt;belongs_to( teacher3    =&gt; 'QP::Schema::Result::Teacher',       'tertiary_teacher_id' );\n__PACKAGE__-&gt;belongs_to( class_group =&gt; 'QP::Schema::Result::ClassGroup',    'class_group_id' );\n__PACKAGE__-&gt;belongs_to( subgroup    =&gt; 'QP::Schema::Result::ClassSubgroup', 'class_subgroup_id' );\n\n__PACKAGE__-&gt;has_many( dates =&gt; 'QP::Schema::Result::ClassDate', 'class_id' );\n\n1;\n</code></pre>\n\n<p>I'm at a loss; no other resultset in this project has this issue, and they're all built the same way.</p>\n\n<p>Thanks in advance for any help.\n-- Jason</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1504610032, "post_id": 46053535, "comment_id": 79066388, "body": "Hi, I&#39;ve fixed the formatting of your code. Please do it yourself in the future."}, {"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1504610213, "post_id": 46053535, "comment_id": 79066499, "body": "What&#39;s exactly done to &#39;get output&#39;? You cannot order keys in hash."}, {"owner": {"reputation": 727, "user_id": 2059832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8oSY3.gif?s=128&g=1", "display_name": "drmrgd", "link": "https://stackoverflow.com/users/2059832/drmrgd"}, "edited": false, "score": 1, "creation_date": 1504610233, "post_id": 46053535, "comment_id": 79066516, "body": "How are you trying to sort your hash?  Showing the code you&#39;re using so that we can see what might be going wrong is necessary."}, {"owner": {"reputation": 727, "user_id": 2059832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8oSY3.gif?s=128&g=1", "display_name": "drmrgd", "link": "https://stackoverflow.com/users/2059832/drmrgd"}, "edited": false, "score": 0, "creation_date": 1504613335, "post_id": 46053535, "comment_id": 79068572, "body": "After seeing the updates, I don&#39;t think this is a sorting issue.  You can&#39;t get the order you want by a sort.  Maybe instead, load the keys into an array and iterate over them?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504614003, "post_id": 46053535, "comment_id": 79068975, "body": "I&#39;ve had to vote to close your question as it&#39;s <i>&quot;unclear what you&#39;re asking&quot;</i>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1504616478, "post_id": 46053535, "comment_id": 79070784, "body": "It&#39;s really unclear to me what you mean by &quot;natural sort&quot;. The module you tried to use, Sort::Naturally, sorts strings lexically and numbers numerically. But that doesn&#39;t fit your description at all. What, to you, is a &quot;natural sort&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 6919545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YZdeWDj1sd8/AAAAAAAAAAI/AAAAAAAAAYQ/Mpeog8RKQU8/photo.jpg?sz=128", "display_name": "Dushyanth Simha", "link": "https://stackoverflow.com/users/6919545/dushyanth-simha"}, "edited": false, "score": 0, "creation_date": 1504612002, "post_id": 46053955, "comment_id": 79067686, "body": "My problem is if you sort the hash. key should not change every time."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 19, "user_id": 6919545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YZdeWDj1sd8/AAAAAAAAAAI/AAAAAAAAAYQ/Mpeog8RKQU8/photo.jpg?sz=128", "display_name": "Dushyanth Simha", "link": "https://stackoverflow.com/users/6919545/dushyanth-simha"}, "edited": false, "score": 2, "creation_date": 1504612060, "post_id": 46053955, "comment_id": 79067726, "body": "@DushyanthSimha you cannot sort a hash. You can take the keys of the hash, sort them in a specific way, and then for each of those keys output the key and the value. But that will <b>not change the hash</b>. A hash per design is not like a phone book, where entries are sorted, but rather like a bag of scrabble stones, but where you know exactly where each letter is in the bag."}, {"owner": {"reputation": 19, "user_id": 6919545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YZdeWDj1sd8/AAAAAAAAAAI/AAAAAAAAAYQ/Mpeog8RKQU8/photo.jpg?sz=128", "display_name": "Dushyanth Simha", "link": "https://stackoverflow.com/users/6919545/dushyanth-simha"}, "edited": false, "score": 0, "creation_date": 1504612503, "post_id": 46053955, "comment_id": 79068030, "body": "#!/usr/bin/perl use Sort::Naturally ; use strict; use warnings; my $value; my $key; my %hash_keysort = (servlet =&gt; &#39;true&#39;,servlet_dude   =&gt; 123,hai =&gt;&quot;null&quot;, array    =&gt; [123,&quot;null&quot;,&quot;string&quot;]); for my $k ( sort keys %hash_keysort ) {     printf &quot;%-12s : %s\\n&quot;, $k, $hash_keysort{$k}; } actual output :array        : ARRAY(0x8002afb8) hai          : null servlet      : true servlet_dude : 123  Expected: servlet : true servlet_dude : 123 hai : null array : 123"}, {"owner": {"reputation": 19, "user_id": 6919545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YZdeWDj1sd8/AAAAAAAAAAI/AAAAAAAAAYQ/Mpeog8RKQU8/photo.jpg?sz=128", "display_name": "Dushyanth Simha", "link": "https://stackoverflow.com/users/6919545/dushyanth-simha"}, "edited": false, "score": 0, "creation_date": 1504612511, "post_id": 46053955, "comment_id": 79068033, "body": "I need to get keys every time in same order .But the thing is keys potions are keep on changing..Is there any logic to get keys in same order. My intention is I need to get keys without changing their potions every time"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 19, "user_id": 6919545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YZdeWDj1sd8/AAAAAAAAAAI/AAAAAAAAAYQ/Mpeog8RKQU8/photo.jpg?sz=128", "display_name": "Dushyanth Simha", "link": "https://stackoverflow.com/users/6919545/dushyanth-simha"}, "edited": false, "score": 2, "creation_date": 1504613041, "post_id": 46053955, "comment_id": 79068374, "body": "@DushyanthSimha I don&#39;t understand what you&#39;re talking about. If I run your code several times, it produces the same result every time. The only thing that changes is the stringified array reference address."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 6919545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YZdeWDj1sd8/AAAAAAAAAAI/AAAAAAAAAYQ/Mpeog8RKQU8/photo.jpg?sz=128", "display_name": "Dushyanth Simha", "link": "https://stackoverflow.com/users/6919545/dushyanth-simha"}, "edited": false, "score": 0, "creation_date": 1504613520, "post_id": 46053955, "comment_id": 79068691, "body": "@DushyanthSimha  If you want the output in a specific order that can&#39;t be calculated, then you need to define that order separately. See the update to my answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 6919545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YZdeWDj1sd8/AAAAAAAAAAI/AAAAAAAAAYQ/Mpeog8RKQU8/photo.jpg?sz=128", "display_name": "Dushyanth Simha", "link": "https://stackoverflow.com/users/6919545/dushyanth-simha"}, "edited": false, "score": 0, "creation_date": 1504613646, "post_id": 46053955, "comment_id": 79068772, "body": "@DushyanthSimha: Where did that array come from in your comment? That&#39;s not in the original question. Please add new information by <i>editing your question</i>. Code is very difficult to read in comments."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 6, "last_activity_date": 1504613825, "last_edit_date": 1504613825, "creation_date": 1504611144, "answer_id": 46053955, "question_id": 46053535, "link": "https://stackoverflow.com/questions/46053535/how-can-i-do-natural-sort-in-hash/46053955#46053955", "title": "How can I do natural sort in hash?", "body": "<p>The elements of a Perl hash are in random order by design. You can't do anything to a hash to set the order of its contents.</p>\n\n<p>What you <em>can</em> do is process or output the elements of a hash in a particular order. For instance</p>\n\n<pre><code>for my $k ( sort keys %hash_keysort ) {\n    printf \"%-12s : %s\\n\", $k, $hash_keysort{$k};\n}\n</code></pre>\n\n<p>If you want any more help than this then you must improve your question. In particular you need to show the code you have used. <em>\"I tried with this package use <code>Sort::Naturally</code>\"</em> isn't enough information.</p>\n\n<p>If you want the output in a specific order other than sorted, then the only way is to define that order separately.</p>\n\n<pre><code>my @keys = qw/ servlet servlet_dude hai array /;\n\nfor my $k ( @keys ) {\n    my $v = $hash_keysort{$k};\n    $v = $v-&gt;[0] if ref $v;\n    printf \"%-12s : %s\\n\", $k, $v;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 6919545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YZdeWDj1sd8/AAAAAAAAAAI/AAAAAAAAAYQ/Mpeog8RKQU8/photo.jpg?sz=128", "display_name": "Dushyanth Simha", "link": "https://stackoverflow.com/users/6919545/dushyanth-simha"}, "edited": false, "score": 0, "creation_date": 1504690386, "post_id": 46054702, "comment_id": 79103893, "body": "Thanks for your response.But this is not helping to me.Now i updated new code .can u help me."}], "tags": [], "owner": {"reputation": 727, "user_id": 2059832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8oSY3.gif?s=128&g=1", "display_name": "drmrgd", "link": "https://stackoverflow.com/users/2059832/drmrgd"}, "is_accepted": false, "score": 0, "last_activity_date": 1504613533, "creation_date": 1504613533, "answer_id": 46054702, "question_id": 46053535, "link": "https://stackoverflow.com/questions/46053535/how-can-i-do-natural-sort-in-hash/46054702#46054702", "title": "How can I do natural sort in hash?", "body": "<p>From the update, it no longer looks like a sorting issue.  The order you are looking for is not amenable to any sort routine.  Instead, if have a discrete set of keys and you want to output in that order, you can create an array to use for the iteration:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $value;\nmy $key;\nmy %hash_keysort = (servlet =&gt; 'true',servlet_dude =&gt; 123,hai =&gt;\"null\", array =&gt; [123,\"null\",\"string\"]);\n\nmy @wanted = qw(servlet servlet_dude hai array);\nfor my $k ( @wanted ) {\n    printf \"%-12s : %s\\n\", $k, $hash_keysort{$k};\n}\n</code></pre>\n\n<p>This will allow you to always get the output in the order you want.  </p>\n"}], "owner": {"reputation": 19, "user_id": 6919545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YZdeWDj1sd8/AAAAAAAAAAI/AAAAAAAAAYQ/Mpeog8RKQU8/photo.jpg?sz=128", "display_name": "Dushyanth Simha", "link": "https://stackoverflow.com/users/6919545/dushyanth-simha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1504691194, "creation_date": 1504609894, "last_edit_date": 1504689908, "question_id": 46053535, "link": "https://stackoverflow.com/questions/46053535/how-can-i-do-natural-sort-in-hash", "title": "How can I do natural sort in hash?", "body": "<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $value;\nmy $key;\n\nmy %hash_keysort = (\n  servlet      =&gt; 'true',\n  servlet_dude =&gt; 123,\n  hai          =&gt; \"null\",\n  array        =&gt; 123\n);\n</code></pre>\n\n<p>I want to get same output.</p>\n\n<p>I tried with this package use <code>Sort::Naturally</code>.</p>\n\n<p>Even though I am using natural sort, I am not able to get same output.\nEvery time the key is changing.</p>\n\n<p>Expected output:</p>\n\n<pre><code>servlet : true\nservlet_dude : 123\nhai : null\narray : 123\n</code></pre>\n\n<p>I tried the <code>nsort</code> function also. I am not able get as it is keys.</p>\n\n<p>I tried all sort types. I am not able resolve the problem.</p>\n\n<p>I need to get keys every time in same order .But the thing is keys potions are keep on changing..Is there any logic to get keys in same order.\nMy intention is I need to get keys without changing their potions every time.</p>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<pre><code>#!/usr/bin/perl\n\nuse Sort::Naturally;\n\nuse strict;\nuse warnings;\n\nmy $value;\nmy $key;\n\nmy %hash_keysort = (\n    servlet      =&gt; 'true',\n    servlet_dude =&gt; 123,\n    hai          =&gt; \"null\",\n    array        =&gt; [ 123, \"null\", \"string\" ]\n);\n\nfor my $k ( sort keys %hash_keysort ) {\n    printf \"%-12s : %s\\n\", $k, $hash_keysort{$k};\n}\n</code></pre>\n\n<h3>Actual output</h3>\n\n<pre><code>array        : ARRAY(0x8002afb8)\nhai          : null\nservlet      : true\nservlet_dude : 123\n</code></pre>\n\n<h3>Expected</h3>\n\n<pre><code>servlet      : true\nservlet_dude : 123\nhai          : null\narray        : 123\n</code></pre>\n\n<p>Updated one:\n    #!/usr/bin/perl\n    use strict;\n    use warnings;</p>\n\n<pre><code>#binmode STDOUT, \":utf8\";\nuse utf8;\nuse Data::Dumper;\nuse JSON;\nuse Scalar::Util 'reftype';\n\nmy $json;\n  local $/; #Enable 'slurp' mode\n  open my $fh, \"&lt;\", \"my.json\";        #opening a file\n  $json = &lt;$fh&gt;;\n  close $fh;\nmy $data = decode_json($json);        #decodeing the json data\nprint \"$data\\n\";\nprint Dumper($data);                  #prints HASH table\nprint \"\\n\";\n\nmy $key;\nmy $value;\nmy $initialtag = '';                      #declaring the intial tag of the \ndata\nmy $hash = {'HASH'=&gt;9998,'ARRAY'=&gt;9987,'SCALAR'=&gt;9996};  # initializing the \nHash table for opcodes\n\nmy $first_key;\nmy $tag_len;\nmy $opcode;\nmy $hex;\nmy $finalkey_opcode;\nmy $firstvalue;\nmy $input;\nmy $initialtag_2;\nmy $firstvalue_2;\nmy $datavalue = check_refernces($data);\nif($datavalue){\n    $datavalue = check_refernces($datavalue);\n}\n$datavalue = check_refernces($datavalue);\n</code></pre>\n\n<p>sub Hash_reference\n            {\n                my $input=shift;\n                foreach $key (keys %$input)\n    {</p>\n\n<pre><code>  $firstvalue = $input-&gt;{$key};                 #Acessing the value(Getting \nvalue from hash)\n  print \" the value of key $key  $value\\n\";\n  $initialtag = $key;\n}\n        print \"Variable is HASH\\n\\n\";  \n        $opcode=$hash-&gt;{'HASH'};             #If it is hash Getting opcode \nfor object \n        print \"the opcode is $opcode\\n\";\n\n        my $tag_len =  length( $initialtag );          #Finding the length\n  print \"$tag_len\\n\";\n\n  my $hex =sprintf('%04X',$tag_len);          #Converting to hexadecimal \nformat\n  print \"$hex\\n\";\n  my $first_key = $hex.$initialtag;           #concatenating the Intail tag \nand hexadecimal value(length of the data)\n  print \"$first_key\\n\";\n\n  my $finalkey_opcode=$opcode.$first_key;     #concatenating the opcode and \ndata \n\n  print \"$finalkey_opcode\\n\";\n  return $firstvalue;\n\n        }\nsub Scalar_reference\n{\n    print \"Variable is SCALAR refernce\\n\";    # Not a reference\n    {\n            my $input=shift;\n        $opcode=$hash-&gt;{'SCALAR'};             #If it is hash Getting opcode \nfor object \n        print \"the opcode is $opcode\\n\";\n        my $tag_len =  length( $initialtag_2 );          #Finding the length\n  print \"$tag_len\\n\";\n\n  my $hex =sprintf('%04X',$tag_len);          #Converting to hexadecimal \nformat\n  print \"$hex\\n\";\n  my $first_key = $hex.$initialtag_2;           #concatenating the Intail \ntag and hexadecimal value(length of the data)\n  print \"$first_key\\n\";\n    my $finalkey_opcode=$opcode.$first_key;     #concatenating the opcode \nand data \n  print \"$finalkey_opcode\\n\";\n  return $firstvalue_2;\n}\n}\nsub Array_refernce\n{\n    print \"Variable is ARRAY\\n\\n\";        # Reference to a ARRAY\n}\n\nsub code_refernce\n{\n    print \"Variable is CODE\\n\\n\";         # Reference to a CODE\n}\n\n\nsub check_refernces\n{\n    my $input = shift;\n    my $returnvalue;\n    if (ref($input)eq 'SCALAR')\n  {\n    Scalar_reference();\n  }\n    elsif (ref($input)eq 'HASH')\n    {\n\n        $returnvalue = Hash_reference($input);\n         # Reference to a hash\n     }\n    elsif (ref($input)eq 'ARRAY')\n    {\n        Array_refernce();\n    }\n    elsif (ref($value)eq 'CODE')\n    {\n        code_refernce();\n    }\n\n}\n</code></pre>\n\n<p>Data file is:\n\"web-app\": {\n  \"servlet\":<br>\n    {\n      \"servlet-name\": true,\n      \"servlet-class\": 123,\n      \"hai\":null,\n      \"array\":[123,null,\"string\"]</p>\n\n<pre><code>    }}\n</code></pre>\n\n<p>Expected output:\nservlet      : true\nservlet_dude : 123\nhai          : null\narray        : ARRAY(0x8002afb8)</p>\n\n<p>How to get the same output.</p>\n"}, {"tags": ["bash", "shell", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1504598254, "post_id": 46049740, "comment_id": 79058947, "body": "Please explain your code (the way you intend it to work, not the way it does work), it seems to be very unrelated to your described goal, which makes the question ambiguos and unclear."}, {"owner": {"reputation": 69, "user_id": 7500049, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb1fe316ab5cea22d4dd5624e69f22c2?s=128&d=identicon&r=PG&f=1", "display_name": "bill_123", "link": "https://stackoverflow.com/users/7500049/bill-123"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1504598406, "post_id": 46049740, "comment_id": 79059051, "body": "@Yunnosch I have provided an example of how I intend the code to work :)"}], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1504599160, "post_id": 46049902, "comment_id": 79059488, "body": "<code>[\\s\\S]</code> nice <code>:-)</code>"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1504599299, "post_id": 46049902, "comment_id": 79059566, "body": "Other option is to use <code>s</code> modifier as in <code>&#39;s~,(?s).*\\(~~&#39;</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1504602739, "post_id": 46049902, "comment_id": 79061658, "body": "perl more often uses modifiers outside of regex <code>s&#47;...&#47;&#47;s</code>"}, {"owner": {"reputation": 69, "user_id": 7500049, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb1fe316ab5cea22d4dd5624e69f22c2?s=128&d=identicon&r=PG&f=1", "display_name": "bill_123", "link": "https://stackoverflow.com/users/7500049/bill-123"}, "edited": false, "score": 1, "creation_date": 1504604983, "post_id": 46049902, "comment_id": 79063171, "body": "@anubhava Thank you so much."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504606998, "post_id": 46049902, "comment_id": 79064523, "body": "There is no reason to avoid the usual slash delimiters for the Perl substitution, and <code>[\\s\\S]</code>is a very extended way of writing <code>.</code> with the <code>&#47;s</code> modifier. <code>perl -i -0777 &#39;s&#47;,.*\\(&#47;&#47;s&#39; file</code> is the more usual way of writing this."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1504626729, "post_id": 46049902, "comment_id": 79078173, "body": "Probably want <code>[^(]*</code> instead of <code>.*</code> (to stop at the first <code>(</code>)."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1504629645, "post_id": 46049902, "comment_id": 79079791, "body": "Thanks, Indeed and that doesn&#39;t even require <code>s</code> modifier."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 2, "last_activity_date": 1504629620, "last_edit_date": 1504629620, "creation_date": 1504598609, "answer_id": 46049902, "question_id": 46049740, "link": "https://stackoverflow.com/questions/46049740/delete-lines-between-two-patterns-in-shell/46049902#46049902", "title": "Delete lines between two patterns in shell", "body": "<p><code>awk</code> is more suitable here:</p>\n\n<pre><code>awk '/,/{p=1; sub(/[ \\t]*,.*/, \"\"); print} !p; /\\(/{p=0}' file\n\nTest\ndone\n</code></pre>\n\n<p>Alternatively you can also use <code>perl</code>:</p>\n\n<pre><code>perl -i -0777 -pe 's/\\h*,.*\\(//s' file\n</code></pre>\n\n<p>Or this regex with a negated character class that doesn't require <code>s</code> modifier:</p>\n\n<pre><code>perl -i -0777 -pe 's/\\h*,[^(]*\\(//' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "reply_to_user": {"reputation": 14471, "user_id": 735926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6b5fa39f5bc4b397eb7e55766eecd8c4?s=128&d=identicon&r=PG", "display_name": "bfontaine", "link": "https://stackoverflow.com/users/735926/bfontaine"}, "edited": false, "score": 1, "creation_date": 1504614249, "post_id": 46051771, "comment_id": 79069160, "body": "@bfontaine I added some explanations."}], "tags": [], "owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "is_accepted": false, "score": 1, "last_activity_date": 1504617231, "last_edit_date": 1504617231, "creation_date": 1504604369, "answer_id": 46051771, "question_id": 46049740, "link": "https://stackoverflow.com/questions/46049740/delete-lines-between-two-patterns-in-shell/46051771#46051771", "title": "Delete lines between two patterns in shell", "body": "<p>With sed:</p>\n\n<pre><code>sed '/Test/,/done/{//!d;s/ ,$//}' file\n</code></pre>\n\n<p><code>/Test/,/done/</code>: from line matching <code>Test</code> up to next line matching <code>done</code>:</p>\n\n<ul>\n<li><code>//!d</code> deletes all lines except those matching the addresses(<code>Test ,</code> and <code>done</code>)</li>\n<li><code>s/ ,$//</code> removes first occurrence <code>,</code> from the address</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1504623381, "last_edit_date": 1504623381, "creation_date": 1504622766, "answer_id": 46057816, "question_id": 46049740, "link": "https://stackoverflow.com/questions/46049740/delete-lines-between-two-patterns-in-shell/46057816#46057816", "title": "Delete lines between two patterns in shell", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -z 's/,[^(]*(//g' file\n</code></pre>\n\n<p>Slurp the entire file into memory and global replace any characters between a <code>,</code> and <code>(</code> with nothing.</p>\n"}, {"comments": [{"owner": {"reputation": 21412, "user_id": 333698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca080b4ef1c6cb4df9bc123d3b3af61?s=128&d=identicon&r=PG", "display_name": "psmears", "link": "https://stackoverflow.com/users/333698/psmears"}, "edited": false, "score": 0, "creation_date": 1504689182, "post_id": 46065579, "comment_id": 79102962, "body": "This doesn&#39;t do what the OP wants - it should delete from &quot;,&quot; until &quot;(&quot;. (Also it would be good to have a little explanation of how it works!)"}], "tags": [], "owner": {"reputation": 1371, "user_id": 5056806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfa01ad122fc89b571651ffbbc34ce37?s=128&d=identicon&r=PG&f=1", "display_name": "Claes Wikner", "link": "https://stackoverflow.com/users/5056806/claes-wikner"}, "is_accepted": false, "score": 0, "last_activity_date": 1504662200, "creation_date": 1504662200, "answer_id": 46065579, "question_id": 46049740, "link": "https://stackoverflow.com/questions/46049740/delete-lines-between-two-patterns-in-shell/46065579#46065579", "title": "Delete lines between two patterns in shell", "body": "<pre><code>awk '{sub(/ ,|\\.../,\"\")}NR==1;END{print}' file\n\nTest\ndone\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 7500049, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb1fe316ab5cea22d4dd5624e69f22c2?s=128&d=identicon&r=PG&f=1", "display_name": "bill_123", "link": "https://stackoverflow.com/users/7500049/bill-123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1975, "favorite_count": 1, "accepted_answer_id": 46049902, "answer_count": 4, "score": 2, "last_activity_date": 1504662200, "creation_date": 1504598094, "last_edit_date": 1504598367, "question_id": 46049740, "link": "https://stackoverflow.com/questions/46049740/delete-lines-between-two-patterns-in-shell", "title": "Delete lines between two patterns in shell", "body": "<p>I need to delete multiple lines between <code>,</code> and <code>(</code> including both the pattern as well just at the first occurrence.</p>\n\n<p><strong>Example</strong> </p>\n\n<pre><code>Test ,\n\n this \n\nis the \ndeletion \npart \n(\ndone...\n</code></pre>\n\n<p><strong>Expected Output</strong></p>\n\n<pre><code>Test \ndone\n</code></pre>\n\n<p>I've tried the following using sed to achieve the above output but it just returns the entire file data.</p>\n\n<pre><code>sed 's/,*(//' file\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "expect.pm"], "comments": [{"owner": {"reputation": 14947, "user_id": 900078, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/83stK.jpg?s=128&g=1", "display_name": "pynexj", "link": "https://stackoverflow.com/users/900078/pynexj"}, "edited": false, "score": 0, "creation_date": 1504601471, "post_id": 46049402, "comment_id": 79060893, "body": "are you using the Perl module <a href=\"http://search.cpan.org/~rgiersig/Expect/Expect.pod\" rel=\"nofollow noreferrer\">Expect.pm</a> or the <a href=\"https://stackoverflow.com/questions/tagged/expect\">expect</a> program?"}, {"owner": {"reputation": 3, "user_id": 5123738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8k06-PXjc1w/AAAAAAAAAAI/AAAAAAAAADM/ua4reM2b2jU/photo.jpg?sz=128", "display_name": "Kiran Kulkarni", "link": "https://stackoverflow.com/users/5123738/kiran-kulkarni"}, "reply_to_user": {"reputation": 14947, "user_id": 900078, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/83stK.jpg?s=128&g=1", "display_name": "pynexj", "link": "https://stackoverflow.com/users/900078/pynexj"}, "edited": false, "score": 0, "creation_date": 1504606015, "post_id": 46049402, "comment_id": 79063910, "body": "In perl program i am using Expect i.e. use Expect;"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5123738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8k06-PXjc1w/AAAAAAAAAAI/AAAAAAAAADM/ua4reM2b2jU/photo.jpg?sz=128", "display_name": "Kiran Kulkarni", "link": "https://stackoverflow.com/users/5123738/kiran-kulkarni"}, "edited": false, "score": 0, "creation_date": 1504606826, "post_id": 46051618, "comment_id": 79064410, "body": "Yes i am using cisco device. i am using show command with begin/include i.e show arp | begin mac adress. i am new to this could you please give some example how to set terminal length in perl."}, {"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "reply_to_user": {"reputation": 3, "user_id": 5123738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8k06-PXjc1w/AAAAAAAAAAI/AAAAAAAAADM/ua4reM2b2jU/photo.jpg?sz=128", "display_name": "Kiran Kulkarni", "link": "https://stackoverflow.com/users/5123738/kiran-kulkarni"}, "edited": false, "score": 0, "creation_date": 1504606938, "post_id": 46051618, "comment_id": 79064484, "body": "Ok, &quot;term len 0&quot; will fix your problem. Issue the command after logging onto the box. Then the whole text will be displayed for each command"}, {"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "reply_to_user": {"reputation": 3, "user_id": 5123738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8k06-PXjc1w/AAAAAAAAAAI/AAAAAAAAADM/ua4reM2b2jU/photo.jpg?sz=128", "display_name": "Kiran Kulkarni", "link": "https://stackoverflow.com/users/5123738/kiran-kulkarni"}, "edited": false, "score": 0, "creation_date": 1504618774, "post_id": 46051618, "comment_id": 79072551, "body": "Great, i&#39;ve found with Cisco&#39;s that | can confuse the output (or maybe just using utility on the XR). Sometimes it&#39;s better to just do a &quot;show arp&quot; then use find the line you need in exp_before() ."}], "tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": true, "score": 3, "last_activity_date": 1504603914, "creation_date": 1504603914, "answer_id": 46051618, "question_id": 46049402, "link": "https://stackoverflow.com/questions/46049402/handling-more-in-perl-using-expect-pm/46051618#46051618", "title": "handling &quot;--More--&quot; in perl using Expect.pm", "body": "<p>I Suspect you're connecting to a Cisco Device. if so, issue \"term len 0\" upon logging onto the node. if juniper, add \" | no-more\" to the end of every command. </p>\n"}], "owner": {"reputation": 3, "user_id": 5123738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8k06-PXjc1w/AAAAAAAAAAI/AAAAAAAAADM/ua4reM2b2jU/photo.jpg?sz=128", "display_name": "Kiran Kulkarni", "link": "https://stackoverflow.com/users/5123738/kiran-kulkarni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 46051618, "answer_count": 1, "score": 0, "last_activity_date": 1504608065, "creation_date": 1504596930, "last_edit_date": 1504608065, "question_id": 46049402, "link": "https://stackoverflow.com/questions/46049402/handling-more-in-perl-using-expect-pm", "title": "handling &quot;--More--&quot; in perl using Expect.pm", "body": "<p>I have show command for a device with its Mac address, which i am executing in perl using <a href=\"http://search.cpan.org/~rgiersig/Expect/Expect.pod\" rel=\"nofollow noreferrer\">Expect.pm</a>.\nThe output of command is more than 100 line with <code>--More--</code> at the bottom.\nI am able to capture output everything before first occurance of <code>--More--</code>.\nBut not after that.\nI tried with while loop it is not working for me.\nPlease help me resolve this.</p>\n"}, {"tags": ["perl", "awk"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 7252615, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154848731836522/picture?type=large", "display_name": "Leif Hvitved", "link": "https://stackoverflow.com/users/7252615/leif-hvitved"}, "edited": false, "score": 0, "creation_date": 1504604938, "post_id": 46049200, "comment_id": 79063132, "body": "Thank you very much ! - by parsing it I realized that I had been overlooking lineshifts that caused a mess - upon getting rid of these this simple solution was just what I dreamed for."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504607270, "post_id": 46049200, "comment_id": 79064700, "body": "As per the original question, the criterion is <i>&quot;all entries starting with digit&quot;</i>, not &quot;entries not starting &#39;BT&#39;&quot;."}, {"owner": {"reputation": 2784, "user_id": 1487843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1BFY8.jpg?s=128&g=1", "display_name": "Marc Lambrichs", "link": "https://stackoverflow.com/users/1487843/marc-lambrichs"}, "edited": false, "score": 0, "creation_date": 1504607488, "post_id": 46049200, "comment_id": 79064827, "body": "<code>..and enrich it with the corresponding BT field.</code> The input OP provides is clear."}], "tags": [], "owner": {"reputation": 2784, "user_id": 1487843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1BFY8.jpg?s=128&g=1", "display_name": "Marc Lambrichs", "link": "https://stackoverflow.com/users/1487843/marc-lambrichs"}, "is_accepted": true, "score": 1, "last_activity_date": 1504596277, "creation_date": 1504596277, "answer_id": 46049200, "question_id": 46049149, "link": "https://stackoverflow.com/questions/46049149/convert-row-to-column-based-on-text/46049200#46049200", "title": "convert row to column based on text", "body": "<pre><code>$ awk '/BT/{a=$1; next}{print a \";\" $1}' input.txt\nBT1111;2.2.2.2/3\nBT1111;3.3.3.3/4\nBT1111;7.2.1.1/5\nBT6766;2.2.1.1/5\nBT6766;4.5.1.1/7\nBT9898;4.4.4.4/2\nBT9898;8.8.8.8/9\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1504597515, "creation_date": 1504597515, "answer_id": 46049551, "question_id": 46049149, "link": "https://stackoverflow.com/questions/46049149/convert-row-to-column-based-on-text/46049551#46049551", "title": "convert row to column based on text", "body": "<pre><code>perl -nle'if (/^\\D/) { $n=$_ } else { print \"$n;$_\" }' input.txt\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/q/41742890/589924\">Specifying file to process to Perl one-liner</a> for alternate usages.</p>\n"}], "owner": {"reputation": 19, "user_id": 7252615, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154848731836522/picture?type=large", "display_name": "Leif Hvitved", "link": "https://stackoverflow.com/users/7252615/leif-hvitved"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 1, "accepted_answer_id": 46049200, "answer_count": 2, "score": 0, "last_activity_date": 1504597515, "creation_date": 1504596091, "last_edit_date": 1504596302, "question_id": 46049149, "link": "https://stackoverflow.com/questions/46049149/convert-row-to-column-based-on-text", "title": "convert row to column based on text", "body": "<p>I have a rather large file (single column) with data similar to this:</p>\n\n<pre><code>BT1111\n2.2.2.2/3\n3.3.3.3/4\n7.2.1.1/5\nBT6766\n2.2.1.1/5\n4.5.1.1/7\nBT9898\n4.4.4.4/2\n8.8.8.8/9\n</code></pre>\n\n<p>I wish to find a function that can align it into two columns, by moving all entries starting with digit one column (<code>$1</code> to <code>$2</code>) and enrich it with the corresponding BT field, so desired output should be</p>\n\n<pre><code>BT1111;2.2.2.2/3\nBT1111;3.3.3.3/4\nBT1111;7.2.1.1/5\nBT6766;2.2.1.1/5\nBT6766;4.5.1.1/7\nBT9898;4.4.4.4/2\nBT9898;8.8.8.8/9\n</code></pre>\n\n<p>I can't imagine how to ensure the \"look for next occurence\" should be performed, but hope there is a function for it I have managed to overlook ?</p>\n"}, {"tags": ["perl", "rrdtool", "rrd"], "answers": [{"tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": false, "score": 1, "last_activity_date": 1504597046, "creation_date": 1504597046, "answer_id": 46049430, "question_id": 46047071, "link": "https://stackoverflow.com/questions/46047071/how-to-add-formula-in-parameters-of-rrd-graph-parameters/46049430#46049430", "title": "How to add formula in parameters of RRD graph parameters?", "body": "<p>use a sub routine and pass the data to it. </p>\n\n<pre><code>data =&gt; calc(0.01),\n</code></pre>\n\n<p>then somewhere else define the sub routine </p>\n\n<pre><code>sub calc\n{\n    my $var = shift;\n    return $var+100;\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4563454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4c4c997fb57726d333abb70d009db6a?s=128&d=identicon&r=PG&f=1", "display_name": "Bhagwan Gurav", "link": "https://stackoverflow.com/users/4563454/bhagwan-gurav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504597046, "creation_date": 1504586049, "question_id": 46047071, "link": "https://stackoverflow.com/questions/46047071/how-to-add-formula-in-parameters-of-rrd-graph-parameters", "title": "How to add formula in parameters of RRD graph parameters?", "body": "<pre><code>E.g. I have following code,\n\nour $timeseries = {\n   _type      =&gt; 'array',\n   _pdpstep   =&gt; 300,    # Time resolution\n   _heartbeat =&gt; 700,    # Time of loss before going to Unknown\n   _storage   =&gt; 'day',\n   _ylabel    =&gt; \"dBm\",\n   _mandatory =&gt; 'yes',\n\n   # hwEntityOpticalRxPower dBm * 100\n   ahwEORxPowre    =&gt; { label      =&gt; 'Rx Power',\n                        type       =&gt; 'GAUGE',\n                        probe      =&gt; '1.2.3.4.5.6.7.8',\n                        min        =&gt; -3999,\n                        multiplier =&gt; 0.01,\n                      },\n\n   # hwEntityOpticalTxPower dBm * 100\n   bhwEOTxPower    =&gt; { label      =&gt; 'Tx Power',\n                        type       =&gt; 'GAUGE',\n                        probe      =&gt; '1.2.3.4.5.6.7.8',\n                        # -4000 means no signal\n                        min        =&gt; -3999,\n                        multiplier =&gt; 0.01,\n                      },\n\n};\n</code></pre>\n\n<p>This data is in mw(milliwatts) and I want to convert it into decibel-milliwatts (dBm), To do that I have added multiplier with 0.01 value. but its not converting value in dBm. How can I do that? Can I add any formula here ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "edited": false, "score": 0, "creation_date": 1504559683, "post_id": 46044022, "comment_id": 79048249, "body": "Would eval work for this?"}], "answers": [{"tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": true, "score": 1, "last_activity_date": 1504567149, "creation_date": 1504567149, "answer_id": 46045044, "question_id": 46044022, "link": "https://stackoverflow.com/questions/46044022/import-gns3-data-structure-from-file-to-variable/46045044#46045044", "title": "Import gns3 data structure from file to variable", "body": "<p>I've figured it out</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse File::Slurp;\n\nmy $text=read_file($ARGV[0]);\n$text=~s/:/ =&gt;/g;\n$text=~s/true/\"true\"/g;\n$text=~s/false/\"false\"/g;\n$text=~s/null/\"null\"/g;\n\nmy $ref= eval $text;\n</code></pre>\n"}], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 46045044, "answer_count": 1, "score": 0, "last_activity_date": 1504567149, "creation_date": 1504559240, "last_edit_date": 1504561295, "question_id": 46044022, "link": "https://stackoverflow.com/questions/46044022/import-gns3-data-structure-from-file-to-variable", "title": "Import gns3 data structure from file to variable", "body": "<p>I have a data structure as shown below in a external text file. it's much bigger, but the format remains the same. How can i use this file to make a perl data structure i can work with. I'm thinking i can do a file copy and replace all : with =>. but what next to use this external code a variable. </p>\n\n<p>as if the was </p>\n\n<pre><code>my $hashref = FILE;\n</code></pre>\n\n<p>Thanks in advance</p>\n\n<p>The file's format</p>\n\n<pre><code> {\n    \"auto_close\" =&gt; \"true\",\n    \"topology\" =&gt; {\n        \"drawings\" =&gt; [],\n        \"links\" =&gt; [\n            {\n                \"link_id\" =&gt; \"2c1a64c9-a96e-4c94-ac3d-bbaeadde3773\",\n                \"nodes\" =&gt; [\n                    {\n                        \"adapter_number\" =&gt; 2,\n                        \"label\" =&gt; {\n                            \"rotation\" =&gt; 0,\n                            \"style\" =&gt; \"font-family =&gt;\",\n                        },\n                        \"node_id\" =&gt; \"0807cfc6-ffc9-4762-ad11-d021e2e49b0e\",\n                    },\n                    {\n                        \"adapter_number\" =&gt; 0,\n                        \"label\" =&gt; {\n                            \"rotation\" =&gt; 0,\n                            \"style\" =&gt; \"fill-opacity =&gt; 1.0;\",\n                        },\n                        \"node_id\" =&gt; \"aeab6b0b-6fd3-43d8-a547-7cd2752dc800\",\n                        \"port_number\" =&gt; 0\n                    }\n                ]\n            }\n        ],\n        \"nodes\" =&gt; [\n            {\n                \"compute_id\" =&gt; \"local\",\n                \"label\" =&gt; {\n                    \"rotation\" =&gt; 0,\n                    \"style\" =&gt; \"font-family =&gt; TypeWriter;\",\n                    \"text\" =&gt; \"East1\",\n                },\n                \"name\" =&gt; \"East1\",\n                \"properties\" =&gt; {\n                    \"auto_delete_disks\" =&gt; \"true\",\n                    \"platform\" =&gt; \"c7200\",\n                    \"power_supplies\" =&gt; [\n                        1,\n                        1\n                    ],\n                    \"sensors\" =&gt; [\n                        22\n                    ],\n                },\n                \"symbol\" =&gt; \" =&gt;/symbols/router.svg\",\n                \"z\" =&gt; 1\n            }, \n        ]\n    },\n    \"type\" =&gt; \"topology\",\n    \"version\" =&gt; \"2.0.3\"\n};\n</code></pre>\n"}, {"tags": ["perl", "while-loop", "floating-point"], "answers": [{"tags": [], "owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "is_accepted": false, "score": 3, "last_activity_date": 1504548359, "creation_date": 1504548359, "answer_id": 46042186, "question_id": 46042020, "link": "https://stackoverflow.com/questions/46042020/perl-unexpected-outcome-of-while-loop/46042186#46042186", "title": "Perl - Unexpected outcome of while loop", "body": "<p>In the second version, you print before the loop checks, i.e. it will even print the case which is already beyond the loop condition.</p>\n\n<p>The fact that you get 1.0 as well as 1.1 is explained by 1.0 being slightly higher than the result of adding a lot of 0.1, because of floating point precision.</p>\n\n<p>So what the loop actually sees is</p>\n\n<ul>\n<li>0.9999 &lt; 1.0 ? Yes, print and loop. Printing does some rounding, so what gets printed is 1.0.</li>\n<li>1.0999 &lt; 1.0 ? No, but print nevertheless (because loop checkign is done after printing.</li>\n</ul>\n\n<p>So in order to solve, use the first version but start at 0.1 and check against 0.95.</p>\n\n<pre><code>$num = 0.1;\nwhile ( $num &lt; 0.95 ) {\n  print \"$num \\n\";\n  $num = $num + 0.1;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504555728, "post_id": 46042249, "comment_id": 79047118, "body": "OMG no. There&#39;s no need for bignum here."}, {"owner": {"reputation": 95982, "user_id": 17279, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a08771c878da3724492f3056d5eca168?s=128&d=identicon&r=PG", "display_name": "zoul", "link": "https://stackoverflow.com/users/17279/zoul"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504581621, "post_id": 46042249, "comment_id": 79052667, "body": "That\u2019s why I said people usually solve the problem with integers or epsilons. Bignum is just a convenient one-line change to show how the issue disappears when floating point errors are eliminated."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504581747, "post_id": 46042249, "comment_id": 79052688, "body": "There&#39;s no point in showing that. Worse, someone might actually use it!"}, {"owner": {"reputation": 95982, "user_id": 17279, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a08771c878da3724492f3056d5eca168?s=128&d=identicon&r=PG", "display_name": "zoul", "link": "https://stackoverflow.com/users/17279/zoul"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504583148, "post_id": 46042249, "comment_id": 79052940, "body": "I don\u2019t think I ever used it for real \u2013 what\u2019s wrong with it?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504592559, "post_id": 46042249, "comment_id": 79055771, "body": "Nothing wrong the module. It&#39;s just the wrong tool for the job."}], "tags": [], "owner": {"reputation": 95982, "user_id": 17279, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a08771c878da3724492f3056d5eca168?s=128&d=identicon&r=PG", "display_name": "zoul", "link": "https://stackoverflow.com/users/17279/zoul"}, "is_accepted": false, "score": 2, "last_activity_date": 1504548726, "creation_date": 1504548726, "answer_id": 46042249, "question_id": 46042020, "link": "https://stackoverflow.com/questions/46042020/perl-unexpected-outcome-of-while-loop/46042249#46042249", "title": "Perl - Unexpected outcome of while loop", "body": "<p>Consider this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy $num = 0;\nwhile ($num &lt; 1) {\n    say $num, \" (\", $num-1, \")\";\n    $num += 0.1;\n}\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>0 (-1)\n0.1 (-0.9)\n0.2 (-0.8)\n0.3 (-0.7)\n0.4 (-0.6)\n0.5 (-0.5)\n0.6 (-0.4)\n0.7 (-0.3)\n0.8 (-0.2)\n0.9 (-0.1)\n1 (-1.11022302462516e-16)\n</code></pre>\n\n<p>As you can see, due to floating point precision issues the number gained by repeated adding of 0.1 isn\u2019t exactly one, but something slightly less than one, which is why the check succeeds one more time than expected.</p>\n\n<p>Now add this to the imports at the top of the script:</p>\n\n<pre><code>use bignum;\n</code></pre>\n\n<p>And watch the output change:</p>\n\n<pre><code>0 (-1)\n0.1 (-0.9)\n0.2 (-0.8)\n0.3 (-0.7)\n0.4 (-0.6)\n0.5 (-0.5)\n0.6 (-0.4)\n0.7 (-0.3)\n0.8 (-0.2)\n0.9 (-0.1)\n</code></pre>\n\n<p>This is because the computation is now done in a <a href=\"http://perldoc.perl.org/bignum.html\" rel=\"nofollow noreferrer\">high-precision mode</a> and the floating-point error no longer creeps in.</p>\n\n<p>Usually, people get bitten a few times with floating point arithmetic and then learn to do the important part with integers or epsilons. Google, there\u2019s plenty of resources on how to deal with floating point precision errors.</p>\n"}, {"comments": [{"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1504946880, "post_id": 46043349, "comment_id": 79219983, "body": "I directly translated this code to C++ code, and I noticed that 1 is printed when num is of variable type double. However, everything is proper when a float is used. That&#39;s because the float only sees the zeroes of the approximation and the double sees much more, right?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1504592655, "last_edit_date": 1504592655, "creation_date": 1504555018, "answer_id": 46043349, "question_id": 46042020, "link": "https://stackoverflow.com/questions/46042020/perl-unexpected-outcome-of-while-loop/46043349#46043349", "title": "Perl - Unexpected outcome of while loop", "body": "<p>1/10 is a periodic number in binary just like 1/3 is periodic in decimal.</p>\n\n<pre><code>          ____\n1/10 = 0.00011 base 2\n</code></pre>\n\n<p>As such, it can't be represented exactly by a floating-point number.</p>\n\n<pre><code>$ perl -e'printf \"%$.20e\\n\", 0.1;'\n1.00000000000000005551e-01\n</code></pre>\n\n<p>This imprecision is the cause of your problem.</p>\n\n<pre><code>$ perl -e'my $i = 0; while ($i &lt; 1) { printf \"%1\\$.3f  %1\\$.20e\\n\", $i; $i += 0.1; }'\n0.000  0.00000000000000000000e+00\n0.100  1.00000000000000005551e-01\n0.200  2.00000000000000011102e-01\n0.300  3.00000000000000044409e-01\n0.400  4.00000000000000022204e-01\n0.500  5.00000000000000000000e-01\n0.600  5.99999999999999977796e-01\n0.700  6.99999999999999955591e-01\n0.800  7.99999999999999933387e-01\n0.900  8.99999999999999911182e-01\n1.000  9.99999999999999888978e-01\n</code></pre>\n\n<p>Generally speaking, one can solve this by checking if the number is equal to another <em>within some tolerance</em>. But in this case, there's a simpler solution.</p>\n\n<pre><code>$ perl -e'for my $j (0..9) { my $i = $j/10; printf \"%1\\$.3f  %1\\$.20e\\n\", $i; }'\n0.000  0.00000000000000000000e+00\n0.100  1.00000000000000005551e-01\n0.200  2.00000000000000011102e-01\n0.300  2.99999999999999988898e-01\n0.400  4.00000000000000022204e-01\n0.500  5.00000000000000000000e-01\n0.600  5.99999999999999977796e-01\n0.700  6.99999999999999955591e-01\n0.800  8.00000000000000044409e-01\n0.900  9.00000000000000022204e-01\n</code></pre>\n\n<p>The above solution not only performs the correct number of iterations, it doesn't accumulate error, so <code>$i</code> is always as correct as it can be.</p>\n"}], "owner": {"reputation": 111, "user_id": 2007813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2af608da49ceb5471e189c7bae6504c?s=128&d=identicon&r=PG", "display_name": "curious", "link": "https://stackoverflow.com/users/2007813/curious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 46043349, "answer_count": 3, "score": 2, "last_activity_date": 1504592676, "creation_date": 1504547419, "last_edit_date": 1504592676, "question_id": 46042020, "link": "https://stackoverflow.com/questions/46042020/perl-unexpected-outcome-of-while-loop", "title": "Perl - Unexpected outcome of while loop", "body": "<p>This is a simple program but I am unable to understand logic/work being done by while loop behind the scene. </p>\n\n<p><strong>Problem:</strong> Write a program that prints every number from 0 to 1 that has a single digit after the decimal place (that is, 0.1, 0.2, and so on).</p>\n\n<p>So here is my code:</p>\n\n<pre><code>$num = 0;\nwhile ( $num &lt; 1 ) {\n  print \"$num \\n\";\n  $num = $num + 0.1;\n}\n</code></pre>\n\n<p>If I write it in this way, it is going to print </p>\n\n<pre><code>$num = 0;\nwhile ( $num &lt; 1 ) {\n  $num = $num + 0.1;\n  print \"$num \\n\";\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre>\n0.1 \n0.2 \n0.3 \n0.4 \n0.5 \n0.6 \n0.7 \n0.8 \n0.9 \n1 \n1.1 \n</pre>\n\n<p>Ideally speaking, 1 and 1.1 should not get printed in both code samples respectively. After printing 0.9 when 0.1 is added to it, it becomes 1.0 i.e. <code>while (1.0 &lt; 1)</code>. Hence condition in while loop is false, so it should not print 1 and 1.1. But that is what is happening.</p>\n\n<p>Can someone please explain why while loop is working in this unexpected way i.e. printing 1 and 1.1 even when condition is false.</p>\n"}, {"tags": ["perl", "exiftool"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504529602, "post_id": 46036768, "comment_id": 79035152, "body": "Word of advice: don&#39;t mix German and English variable names. The next guy is going to hate you for that. Especially if they outsource your job to some other country. ;) Also, is <code>$leer</code> empty, as in an empty string <code>q{}</code>, or <code>undef</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504545239, "post_id": 46036768, "comment_id": 79043514, "body": "<i>&quot;I am using ExifToolVersion : 9.13&quot;</i> Do you mean <code>Image::ExifTool</code> 9.13?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504546830, "post_id": 46036768, "comment_id": 79044053, "body": "Are you really using <code>$tag[$i]</code> for both the keywords and the file description? With <code>Replace</code> set to 1 that will discard all the keyword values and use just the file description. You shouldn&#39;t be using <code>Replace</code> at all: it applies to values previously set by <code>SetNewValue</code>, not the value in the file. I would expect them to be written to two <i>different</i> tags. <code>Group0</code> isn&#39;t a valid parameter for <code>SetNewValue</code>; you probably mean <code>Group =&gt; &#39;PDF&#39;</code>. Have you called <code>WriteInfo</code> after setting the values? You should check the returned values of <code>SetNewValue</code>: a success flag and an error message."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504546871, "post_id": 46036768, "comment_id": 79044063, "body": "Please show more of your code; the whole of the <code>$i</code> loop at least."}, {"owner": {"reputation": 11, "user_id": 8558367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/801273607bb0639ee03c338cfb3c9e17?s=128&d=identicon&r=PG&f=1", "display_name": "ast", "link": "https://stackoverflow.com/users/8558367/ast"}, "edited": false, "score": 0, "creation_date": 1504600069, "post_id": 46036768, "comment_id": 79060025, "body": "I have a Loop over all tags i want to edit:  <code>code</code> my @data = (&quot;Author&quot;,&quot;Keywords&quot;,&quot;ModifyDate&quot;,&quot;Rights&quot;,&quot;Title&quot;,&quot;Subject&quot;&zwnj;&#8203;);  my $elemente = @data;  my @groups = $exifTool-&gt;GetGroups($family); for ($family=0; $family&lt;=3; $family++)   {         foreach my $group (@groups)  \t{"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8558367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/801273607bb0639ee03c338cfb3c9e17?s=128&d=identicon&r=PG&f=1", "display_name": "ast", "link": "https://stackoverflow.com/users/8558367/ast"}, "is_accepted": false, "score": 0, "last_activity_date": 1504601846, "creation_date": 1504601846, "answer_id": 46050911, "question_id": 46036768, "link": "https://stackoverflow.com/questions/46036768/exiftool-perl-library-module-how-to-separate-keyword-from-subject-values/46050911#46050911", "title": "ExifTool Perl Library Module: How to separate keyword- from subject-values", "body": "<p>I now found, that I have to clear all XMP-Tags</p>\n\n<pre><code>my @data = (\"Author\",\"Keywords\",\"ModifyDate\",\"Rights\",\"Title\",\"Subject\"); \nmy $elemente = @data;\n\nfor ($i=0; $i&lt;$elemente; $i++)\n{\n    if ($i==1)\n {\n    if (my $tagname =~ m/^XMP-.*:$data[$i]/)\n    {\n    $exifTool-&gt;SetNewValue($tagname=&gt;'', Group =&gt; 'XMP');\n    }\n    $exifTool-&gt;SetNewValue($data[$i]=&gt;\\@keywords, Group =&gt; 'PDF');\n }\n if ($i==5)\n {\n    my $tagname = \"XMP-dc:\".$data[$i];\n    $exifTool-&gt;SetNewValue($tagname=&gt;'', Group =&gt; 'XMP');\n    $exifTool-&gt;SetNewValue($data[$i]=&gt;$file_beschreibung, Group =&gt; 'PDF'); \n }\n}\n</code></pre>\n\n<p>This works fine. Thank you for helping!</p>\n"}], "owner": {"reputation": 11, "user_id": 8558367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/801273607bb0639ee03c338cfb3c9e17?s=128&d=identicon&r=PG&f=1", "display_name": "ast", "link": "https://stackoverflow.com/users/8558367/ast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575286628, "creation_date": 1504527056, "last_edit_date": 1575286628, "question_id": 46036768, "link": "https://stackoverflow.com/questions/46036768/exiftool-perl-library-module-how-to-separate-keyword-from-subject-values", "title": "ExifTool Perl Library Module: How to separate keyword- from subject-values", "body": "<p>I am using ExifToolVersion : 9.13 to read out metainformations of a pdf-file to formfields, where users can edit the values. \nWith a second perl-script I write these changed values back to the file.</p>\n\n<p>That works fine with the exception, that subject-values appear in keyword-tags and keyword-values in subject-tags, although I write the new values explizite to each tag.</p>\n\n<pre><code>$exifTool-&gt;SetNewValue($tag[$i], \\@keywords, Replace =&gt; 1);   \n$exifTool-&gt;SetNewValue($tag[$i], $file_beschreibung, Replace =&gt; 1);   \n\n$exifTool-&gt;SetNewValue($data[$i]=&gt;\\@keywords, Group0 =&gt; 'PDF');\n$exifTool-&gt;SetNewValue($data[$i]=&gt;$file_beschreibung, Group0 =&gt; 'PDF');\n</code></pre>\n\n<p>I tried to write an empty value to the XMP tags, but that doesn't work</p>\n\n<pre><code>$exifTool-&gt;SetNewValue($data[$i]=&gt;$leer, Group0 =&gt; 'XMP');\n</code></pre>\n\n<p>Is there a way to  to avoid the concatenation of both values?</p>\n"}, {"tags": ["perl", "integer"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1504537287, "post_id": 46033496, "comment_id": 79039787, "body": "Incrementing a 32-bit signed integer <code>2,147,483,647</code> is undefined behaviour in C. You aren&#39;t guaranteed to get <code>-2,147,483,648</code>. In fact, your program could get a different number once in a while, for example."}], "answers": [{"tags": [], "owner": {"reputation": 1330, "user_id": 2375142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XMqXW.jpg?s=128&g=1", "display_name": "Laposhas&#250; Acsa", "link": "https://stackoverflow.com/users/2375142/laposhas%c3%ba-acsa"}, "is_accepted": false, "score": 1, "last_activity_date": 1504516437, "last_edit_date": 1504516437, "creation_date": 1504515990, "answer_id": 46033749, "question_id": 46033496, "link": "https://stackoverflow.com/questions/46033496/i-want-to-output-4-byte-signed-integer-type-value/46033749#46033749", "title": "I want to output 4 byte signed integer type value", "body": "<p>You can achieve this by using <a href=\"https://perldoc.perl.org/functions/pack.html\" rel=\"nofollow noreferrer\">pack</a>/<a href=\"https://perldoc.perl.org/functions/unpack.html\" rel=\"nofollow noreferrer\">unpack</a>. Pack your variable into an <code>unsigned int</code>, then unpack it to a <code>signed int</code>.</p>\n\n<pre><code>my $val = 2147483646;\nfor(my $i=0;$i&lt;4;$i++){\n   my $uint = pack('I', $val++); \n   print unpack('i', $uint);\n}\n</code></pre>\n\n<p>Note, that:</p>\n\n<blockquote>\n  <p>(This 'integer' is _at_least_ 32 bits wide.  Its exact\n            size depends on what a local C compiler calls 'int'.)</p>\n</blockquote>\n\n<p>so it might be better to use <code>N</code> or <code>V</code> instead of <code>I</code>.</p>\n\n<p><a href=\"https://ideone.com/24r5rv\" rel=\"nofollow noreferrer\">ideone demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1504556865, "last_edit_date": 1504556865, "creation_date": 1504537163, "answer_id": 46039711, "question_id": 46033496, "link": "https://stackoverflow.com/questions/46033496/i-want-to-output-4-byte-signed-integer-type-value/46039711#46039711", "title": "I want to output 4 byte signed integer type value", "body": "<p>You can't tell Perl what size of integers you want to use.<sup>[1]</sup></p>\n\n<p>But that doesn't appear to be what you want. You appear to want a counter that wraps from <code>2,147,483,647</code> to <code>-2,147,483,648</code>.</p>\n\n<p>You'll have to do it the same way as you would in C:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>int32_t i = 0;\n...\n/* Can't use use ++i because incrementing 2147483647 is undefined behaviour */\ni = i == 2147483647 ? -2147483648 : i+1;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>int32_t i = 0;\n...\n/* Can't use use ++i because incrementing 2147483647 is undefined behaviour */\ni = (int32_t)((((int64_t)i)+1) &amp; 0xFFFFFFFF);\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>Perl uses three numerical storage types:</p>\n\n<ul>\n<li>signed integer of size <code>ivsize</code></li>\n<li>unsigned integer of size <code>uvsize</code></li>\n<li>floating-point number of size <code>nvsize</code></li>\n</ul>\n\n<p>&#x20;</p>\n\n<p>You can get The size of each of type (in bytes) as follows:</p>\n\n<pre><code>perl -le'use Config qw( %Config ); print $Config{ivsize};'\nperl -le'use Config qw( %Config ); print $Config{uvsize};'\nperl -le'use Config qw( %Config ); print $Config{nvsize};'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -V:ivsize\nperl -V:uvsize\nperl -V:nvsize\n</code></pre>\n\n<p>Not only is the size of these types fixed when <code>perl</code> is compiled, you can't select which of these types <code>perl</code> will use to store a value. Furthermore, <code>perl</code> will automatically convert from one type to another when an overflow would occur. (<a href=\"https://stackoverflow.com/a/25083776/589924\">Example</a>)</p></li>\n</ol>\n"}], "owner": {"reputation": 41, "user_id": 6771461, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210423209278911/picture?type=large", "display_name": "Ki Hun Nam", "link": "https://stackoverflow.com/users/6771461/ki-hun-nam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1504556865, "creation_date": 1504515146, "last_edit_date": 1504515839, "question_id": 46033496, "link": "https://stackoverflow.com/questions/46033496/i-want-to-output-4-byte-signed-integer-type-value", "title": "I want to output 4 byte signed integer type value", "body": "<p>I am using a Perl script.</p>\n\n<p>I want to use 32 byte signed integer form like c language.</p>\n\n<p>For example, if I add 1 to the integer value, I want to output it as shown below.</p>\n\n<pre><code>my $val = 0;\nwhile(1){\n   print $val++;\n}\n-------------------------------\nThe desired result.\n0\n1\n2\n\n.\n.\n.\n2,147,483,646\n2,147,483,647\n-2,147,483,648\n-2,147,483,647\n-2,147,483,647\n.\n.\n.\n</code></pre>\n\n<p>But I do not know how to use 4byte signed integer value.</p>\n"}, {"tags": ["arrays", "excel", "perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504518675, "post_id": 46033120, "comment_id": 79028789, "body": "The <code>chomp</code> calls are unnecessary."}, {"owner": {"reputation": 1, "user_id": 6363769, "user_type": "registered", "profile_image": "https://graph.facebook.com/234194373619941/picture?type=large", "display_name": "Deepti Pandey", "link": "https://stackoverflow.com/users/6363769/deepti-pandey"}, "edited": false, "score": 0, "creation_date": 1504520745, "post_id": 46033120, "comment_id": 79030047, "body": "I have to read the excel sheet,I am just a starter in perl, Is &lt;DATA&gt; playing the role for that."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1504522735, "post_id": 46033120, "comment_id": 79031156, "body": "Yes. I don&#39;t have your spreadsheet, so the <code>&lt;DATA&gt;</code> is pretending to be the same."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 1, "user_id": 6363769, "user_type": "registered", "profile_image": "https://graph.facebook.com/234194373619941/picture?type=large", "display_name": "Deepti Pandey", "link": "https://stackoverflow.com/users/6363769/deepti-pandey"}, "edited": false, "score": 0, "creation_date": 1504534763, "post_id": 46033120, "comment_id": 79038301, "body": "@DeeptiPandey: Welcome to the Perl community. Since you&#39;re new to Perl, I would suggest getting a copy of &quot;Beginning Perl (by Ovid)&quot; and Modern Perl (<a href=\"https://pragprog.com/book/swperl/modern-perl-fourth-edition\" rel=\"nofollow noreferrer\">Ebook is available for free</a>)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1504513827, "creation_date": 1504513827, "answer_id": 46033120, "question_id": 46032458, "link": "https://stackoverflow.com/questions/46032458/store-excel-data-in-an-array-of-hashes/46033120#46033120", "title": "Store excel data in an array of hashes", "body": "<p>So with your structure, you're looking like an array of anonymous hashes is what you want. </p>\n\n<p>This is simpler than you might think:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @rows;\n\nchomp ( my @header = split ' ', &lt;DATA&gt; ); \n\nwhile ( &lt;DATA&gt; ) {\n   chomp; \n   my %row;\n   @row{@header} = split;\n   push @rows, \\%row; \n}\n\nprint Dumper \\@rows;\n\n__DATA__\nName      Address\nDeepti    1325 \nCizwan     324\nrikita     567\n\n\nThis outputs:\n\n$VAR1 = [\n          {\n            'Address' =&gt; '1325',\n            'Name' =&gt; 'Deepti'\n          },\n          {\n            'Name' =&gt; 'Cizwan',\n            'Address' =&gt; '324'\n          },\n          {\n            'Address' =&gt; '567',\n            'Name' =&gt; 'rikita'\n          }\n        ];\n</code></pre>\n\n<p>But fitting it into your code - you might want to:</p>\n\n<pre><code>push ( @rows, { Name =&gt; $id2, Address =&gt; $val } );\n</code></pre>\n\n<p>This works because putting values in <code>{}</code> like that causes it to return an anonymous hash, which you can then insert into the array. </p>\n"}], "owner": {"reputation": 1, "user_id": 6363769, "user_type": "registered", "profile_image": "https://graph.facebook.com/234194373619941/picture?type=large", "display_name": "Deepti Pandey", "link": "https://stackoverflow.com/users/6363769/deepti-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504513827, "creation_date": 1504511040, "last_edit_date": 1504512653, "question_id": 46032458, "link": "https://stackoverflow.com/questions/46032458/store-excel-data-in-an-array-of-hashes", "title": "Store excel data in an array of hashes", "body": "<p>My table structure is :</p>\n\n<pre><code>Name      Address\nDeepti    1325 \nCizwan     324\nrikita     567\n</code></pre>\n\n<p>I have to make array like <code>[{Name-&gt;deepti,Address-&gt;1325},{Name-&gt;Cizwan,Address-&gt;324},{Name-&gt;Rikita,Address-&gt;567}]</code></p>\n\n<p>The table is in excel data, so multiple rows are there.\nThanks in Advance. I have tried something but not able to proceed.</p>\n\n<pre><code>for my $row_num (2..($max_rows))\n{\n\n    if(exists $workbook-&gt;{'cell'}[1][1])\n        {\n            #insert values in the hash \n             $id1 = $workbook-&gt;{'cell'}[1][1];\n             my $val1 = $workbook-&gt;{'cell'}[1][$row_num];\n            #push values in hash\n            push (@{$hash1{$id1}},$val1);\n    }\n\n\n    if(exists $workbook-&gt;{'cell'}[2][1])\n        {\n            #insert values in the hash \n    $id2 = $workbook-&gt;{'cell'}[2][1];\n             my $val1 = $workbook-&gt;{'cell'}[2][$row_num];\n    #push values in hash\n    push (@{$hash2{$id2}},$val1);\n    }\n</code></pre>\n\n<p>}</p>\n\n<pre><code>print Dumper \\%hash1;\nprint Dumper \\%hash2;\n</code></pre>\n"}, {"tags": ["perl", "api", "module", "system"], "comments": [{"owner": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1504509948, "post_id": 46030151, "comment_id": 79024203, "body": "Waht does <code>$ssh-&gt;error</code> say ?"}], "answers": [{"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": false, "score": 0, "last_activity_date": 1504596714, "creation_date": 1504596714, "answer_id": 46049328, "question_id": 46030151, "link": "https://stackoverflow.com/questions/46030151/code-proceed-to-error-in-using-netopenssh/46049328#46049328", "title": "Code proceed to error in using Net::OpenSSH", "body": "<p>If <code>find</code> finds nothing, <code>capture</code> returns the empty string that is a false value, so the <code>die</code> gets called.</p>\n\n<p>You can check if something went wrong calling the <code>error</code> method:</p>\n\n<pre><code>my $out = $ssh-&gt;capture(\"find $servers{$agent}{$log} -mmin +10\");\n$ssh-&gt;error and die \"Unable to run command: \" . $ssh-&gt;error;\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1504596714, "creation_date": 1504498066, "question_id": 46030151, "link": "https://stackoverflow.com/questions/46030151/code-proceed-to-error-in-using-netopenssh", "title": "Code proceed to error in using Net::OpenSSH", "body": "<p>I wrote a monitoring script to view some log progress, however I stuck with below code,</p>\n\n<pre><code>$fh = $ssh-&gt;capture(\"find $servers{$agent}{$log} -mmin +10\") or die \"Unable to run command\\n\";\n                        chomp($fh);\n\n                        if ($fh) {\n                                print \"Log are 10 minutes not moving. \\n\";\n                        }\n                        else {\n                                print \"Log are running as usual. \\n\";\n                        }\n</code></pre>\n\n<p>This code will come up with below output,</p>\n\n<blockquote>\n  <p>Unable to run command</p>\n</blockquote>\n\n<p>This indicated that there are an error occurred, however I try to run it manually through ssh the command works perfectly.</p>\n\n<p>Need assistance to review this code.</p>\n"}, {"tags": ["perl", "moose"], "answers": [{"comments": [{"owner": {"reputation": 715, "user_id": 4630350, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--Dv4_vchBTQ/AAAAAAAAAAI/AAAAAAAAAAA/JlAVdHNIOdg/photo.jpg?sz=128", "display_name": "Q the Platypus", "link": "https://stackoverflow.com/users/4630350/q-the-platypus"}, "edited": false, "score": 0, "creation_date": 1504644992, "post_id": 46030001, "comment_id": 79087243, "body": "Why did you use scope finalized and not coro::semaphore&#39;s guard method?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 715, "user_id": 4630350, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--Dv4_vchBTQ/AAAAAAAAAAI/AAAAAAAAAAA/JlAVdHNIOdg/photo.jpg?sz=128", "display_name": "Q the Platypus", "link": "https://stackoverflow.com/users/4630350/q-the-platypus"}, "edited": false, "score": 0, "creation_date": 1504645079, "post_id": 46030001, "comment_id": 79087283, "body": "I didn&#39;t know about Coro::Semaphore&#39;s <code>guard</code> method. Fixed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1504645144, "last_edit_date": 1504645144, "creation_date": 1504496571, "answer_id": 46030001, "question_id": 46029111, "link": "https://stackoverflow.com/questions/46029111/how-to-prevent-race-condition-in-moose-with-lazy-attributes-and-coro/46030001#46030001", "title": "How to prevent race condition in Moose with Lazy attributes and Coro", "body": "<p>Normally, you'd control access to the object or attribute from the outside.</p>\n\n<pre><code>my $foo_bar_lock = Coro::Semaphore-&gt;new();\nmy $foo = Foo-&gt;new();\n\n{\n   my $guard = $foo_bar_lock-&gt;guard;\n   # ... use $foo's bar ...\n}\n\n{\n   my $guard = $foo_bar_lock-&gt;guard;\n   # ... use $foo's bar ...\n}\n</code></pre>\n\n<p>But, it can be done from the inside too.</p>\n\n<pre><code>has bar_lock =&gt; (\n   reader  =&gt; '_get_bar_lock',\n   default =&gt; sub { Coro::Semaphore-&gt;new() },\n);\n\nhas bar =&gt; (\n   reader  =&gt; '_get_bar',\n   writer  =&gt; '_set_bar',\n   builder =&gt; '_build_bar',\n   lazy    =&gt; 1,\n);\n\nsub _build_bar { ... }\n\nsub get_bar { \n   my $self = shift;\n   my $guard = $self-&gt;_get_bar_lock-&gt;guard;\n   return $self-&gt;_get_bar();\n} \n\nsub set_bar { \n   my $self = shift;\n   my $guard = $self-&gt;_get_bar_lock-&gt;guard;\n   return $self-&gt;_set_bar(@_);\n} \n</code></pre>\n\n<p>(If you prefer a single get-set accessor instead of separate get and set accessors, use <code>accessor</code> instead of <code>reader</code> and <code>writer</code>.)</p>\n"}], "owner": {"reputation": 715, "user_id": 4630350, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--Dv4_vchBTQ/AAAAAAAAAAI/AAAAAAAAAAA/JlAVdHNIOdg/photo.jpg?sz=128", "display_name": "Q the Platypus", "link": "https://stackoverflow.com/users/4630350/q-the-platypus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 46030001, "answer_count": 1, "score": 4, "last_activity_date": 1504645144, "creation_date": 1504487236, "question_id": 46029111, "link": "https://stackoverflow.com/questions/46029111/how-to-prevent-race-condition-in-moose-with-lazy-attributes-and-coro", "title": "How to prevent race condition in Moose with Lazy attributes and Coro", "body": "<p>The project we are working on makes use of the Coro for asynchronous processing and unfortunately it is too large to move away from Coro in the near future.  We are running into a race condition where an object with a lazy attribute calls the builder for that lazy attribute inside the builder the thread cedes for some reason and then a different coro thread attempts to access the same attribute triggering the attribute to be built again.</p>\n\n<p>Normally I would protect the check and then set code with a semaphore however the check and set behaviour of Moose is inside of moose rather then my own code.</p>\n\n<p>How can I remove this race condition?</p>\n"}, {"tags": ["perl", "traversal", "subdirectory", "filehandle"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1504467388, "post_id": 46027068, "comment_id": 79013928, "body": "You are checking <code>-r</code> - if it&#39;s not, it&#39;s a file? That seems strange logic - you should check whether it&#39;s a directory or a file - whether it&#39;s readable is another question which deserves separate treatment."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504475855, "post_id": 46027068, "comment_id": 79016300, "body": "You should lay out your code more carefully: your indentation is all over the place. Also, you should remove the quotes from <code>&quot;$entry&quot;</code> as they are unnecessary, and in some cases can cause problems."}, {"owner": {"reputation": 3, "user_id": 8555788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201da9eadab323cfaf13f872fe9b4283?s=128&d=identicon&r=PG&f=1", "display_name": "M.Wilson", "link": "https://stackoverflow.com/users/8555788/m-wilson"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1504490161, "post_id": 46027068, "comment_id": 79018725, "body": "Thanks @Borodin, you are absolutely right. I have modified the script per your suggestion."}, {"owner": {"reputation": 3, "user_id": 8555788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201da9eadab323cfaf13f872fe9b4283?s=128&d=identicon&r=PG&f=1", "display_name": "M.Wilson", "link": "https://stackoverflow.com/users/8555788/m-wilson"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1504490226, "post_id": 46027068, "comment_id": 79018734, "body": "Thank you @bytepusher, I have removed the -r, as it is not relevant in the same loop as the -d."}], "answers": [{"comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1504468884, "post_id": 46027340, "comment_id": 79014408, "body": "Meaning <code>-d -r $entry</code> should be <code>-d $entry</code> should be <code>-d &quot;$currdir&#47;$entry&quot;</code>. I was hoping he would see this after making a separate <code>-r $entry</code> (as a warning or exception). I was not entirely certain as to the homework policy, to be honest."}, {"owner": {"reputation": 3, "user_id": 8555788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201da9eadab323cfaf13f872fe9b4283?s=128&d=identicon&r=PG&f=1", "display_name": "M.Wilson", "link": "https://stackoverflow.com/users/8555788/m-wilson"}, "edited": false, "score": 0, "creation_date": 1504490266, "post_id": 46027340, "comment_id": 79018742, "body": "Thank you @melpomene, this was precisely what I was missing. The script now works as intended."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1504500536, "post_id": 46027340, "comment_id": 79020687, "body": "@bytepusher, <code>-d -r &quot;$currdir&#47;$entry&quot;</code> is perfectly fine. Since 5.10, it means <code>-d &quot;$currdir&#47;$entry&quot; &amp;&amp; -r &quot;$currdir&#47;$entry&quot;</code>"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1504556417, "post_id": 46027340, "comment_id": 79047307, "body": "Interesting to know it did not mean that before 5.10, it is what I would have assumed. Thanks for clearing that up :) However, it still means a directory that is not readable is treated as a file by the OP&#39;s code due to the if/else construct"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 0, "last_activity_date": 1504468711, "creation_date": 1504468711, "answer_id": 46027340, "question_id": 46027068, "link": "https://stackoverflow.com/questions/46027068/perl-script-is-not-recognizing-all-directories-using-d-flag/46027340#46027340", "title": "Perl script is not recognizing all directories using -d flag", "body": "<pre><code>if (-d $entry)\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>if (-d \"$currdir/$entry\")\n</code></pre>\n\n<p><code>$entry</code> is just a name in a directory. <code>-d</code> needs an actual path.</p>\n"}], "owner": {"reputation": 3, "user_id": 8555788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201da9eadab323cfaf13f872fe9b4283?s=128&d=identicon&r=PG&f=1", "display_name": "M.Wilson", "link": "https://stackoverflow.com/users/8555788/m-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 46027340, "answer_count": 1, "score": 0, "last_activity_date": 1504476108, "creation_date": 1504466557, "last_edit_date": 1504476108, "question_id": 46027068, "link": "https://stackoverflow.com/questions/46027068/perl-script-is-not-recognizing-all-directories-using-d-flag", "title": "Perl script is not recognizing all directories using -d flag", "body": "<p>I am having issues getting my Perl script to recognize some subdirectories when traversing through my file system. </p>\n\n<p>Please note that this is part of a homework assignment, and I am unable to use modules of any kind. I have attempted to troubleshoot this on my own for quite some time, and am now at a bit of a roadblock.</p>\n\n<p>I am attempting to traverse a file structure, capture the names of all of the files, directories, and subdirectories into their respective arrays, and print them out in the illustrated format below:</p>\n\n<pre><code>Directory: ./  \nFiles: file1.text file2.pl file3.text  \nDirectories: subdir1 subdir2 subdir3  \n\nDirectory: subdir1  \nFiles: file3.text file4.pl  \nDirectories: subdir42  \n</code></pre>\n\n<p>...and so on. </p>\n\n<p>I have attempted to use recursion as a solution to this, but my teacher indicated that recursion was not the appropriate way to handle this problem. </p>\n\n<p>I have managed to print, in the appropriate format, the current working directory, and subdirectories within the current working directory.</p>\n\n<p>For some reason, when I change the current code block to </p>\n\n<pre><code>if (-d $entry){\n        next if $entry =~/^\\./;\n       push(@subdirs,\"$entry\");\n       push(@dirs,\"$currdir/$entry\");\n        }\n\n      elsif(-f $entry) {\n        push(@files,\"$entry\");\n      }\n</code></pre>\n\n<p>It will omit some of the subdirectories. </p>\n\n<p>Please see the entire script below.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n\nsub traverse {\n\nmy @dirs = ('.');\nmy @subdirs;\nmy @files;\n  while(my $currdir = shift @dirs){\n\n    opendir(my $dirhandle, $currdir) or die $!;\n\n      while( my $entry = readdir $dirhandle){\n\n      if (-d -r $entry){\n        next if $entry =~/^\\./;\n       push(@subdirs,\"$entry\");\n       push(@dirs,\"$entry\");\n        }\n\n      else {\n        push(@files,\"$entry\");\n      }\n\n     }\n      print \"Directory: $currdir\\n\";\n      print \"Directories: \";\n      print \"@subdirs\";\n      print\"\\n\";\n\n\n      print \"Files: \";\n        foreach my $curfile (@files) {\n            next if $curfile eq '.' or $curfile eq '..';\n\n            if ($curfile =~ /(\\S*\\.delete)/){\n                    unlink \"$currdir/$curfile\";\n            }\n\n            $curfile =~ s/txt$/text/;\n            print \"$curfile \";\n        }\n\n    print \"\\n\";\n    close $dirhandle;\n    undef @files;\n    undef @subdirs;\n\n}\n return;\n}\ntraverse();\n</code></pre>\n\n<p>And the current output:</p>\n\n<pre><code>Directory: .  \nDirectories: test dir_3 test2  \nFiles: recursion.text count_files.pl testing.text thelastone.pl testing.pl prog5_test.pl program51.pl program5.pl recursion.pl recurse.text prog52.pl  \ndirs.pl\n\nDirectory: test  \nDirectories:  \nFiles: testfile1.text prog5_test.pl stilltesting program5.pl testfile2.text dirs.pl\n\nDirectory: dir_3  \nDirectories:  \nFiles:  \n\nDirectory: test2  \nDirectories:  \nFiles: file2.text moretesting file3.text  \n</code></pre>\n\n<p><code>stilltesting</code> and <code>moretesting</code> should be recognized as directories.</p>\n"}, {"tags": ["perl", "tcp"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1504344339, "creation_date": 1504344339, "answer_id": 46012354, "question_id": 46012285, "link": "https://stackoverflow.com/questions/46012285/why-does-my-perl-script-hang-when-trying-to-talk-to-server/46012354#46012354", "title": "Why does my Perl script hang when trying to talk to server?", "body": "<p>Try some of the servers mentioned here: <a href=\"http://tf.nist.gov/tf-cgi/servers.cgi\" rel=\"noreferrer\">http://tf.nist.gov/tf-cgi/servers.cgi</a> (the first hit on Google for \"daytime\").</p>\n\n<p>Also, don't use <a href=\"http://p3rl.org/printf\" rel=\"noreferrer\">printf</a> where <a href=\"http://p3rl.org/print\" rel=\"noreferrer\">print</a> is enough, especially where there's no format strings.</p>\n\n<p>Moreover, it seems you need the second line, not the first one.</p>\n\n<p>You can use a loop to print all the lines instead:</p>\n\n<pre><code>print while &lt;$fh&gt;;\n</code></pre>\n\n<p>Works for me with e.g. <code>time.maconbibb.us:daytime</code>.</p>\n"}], "owner": {"reputation": 127, "user_id": 8340857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8c04cc726e9708c29920e8afb5548e9?s=128&d=identicon&r=PG&f=1", "display_name": "digitalXmage", "link": "https://stackoverflow.com/users/8340857/digitalxmage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 46012354, "answer_count": 1, "score": 2, "last_activity_date": 1504344339, "creation_date": 1504343724, "question_id": 46012285, "link": "https://stackoverflow.com/questions/46012285/why-does-my-perl-script-hang-when-trying-to-talk-to-server", "title": "Why does my Perl script hang when trying to talk to server?", "body": "<p><strong>Introduction</strong></p>\n\n<p>I'm  following the book \"Network programming with Perl\" by Stein. This is the 2nd Perl script in the book, where the script attempts to communicate using the correct protocols with a daytime server to get the date and time from the server as a response.</p>\n\n<p><strong>read first-line from remote server</strong></p>\n\n<pre><code>#!/usr/bin/perl \n# file: lgetr.pl \n\nuse IO::Socket; \n\n\nmy $server = shift; \nmy $fh = IO::Socket::INET-&gt;new($server); \nmy $line = &lt;$fh&gt;; \nprintf $line;\n</code></pre>\n\n<p><strong>Running Script (already made it executable with chmod)</strong></p>\n\n<p>The book then uses this server as an argument to connect to. </p>\n\n<blockquote>\n  <p>wuarchive.wust1.edu:daytime</p>\n</blockquote>\n\n<pre><code>./lgetr.pl wuarchive.wust1.edu:daytime\n</code></pre>\n\n<p><strong>The problem</strong></p>\n\n<p>When executed, the program just hangs. I'm guessing the program is waiting for a response from the server. Does this mean that the server doesn't exist any-more? or have typed it incorrectly? How would I get this to work, or would my best bet be creating my own daytime server? (i have a bit of experience of this in C)</p>\n"}, {"tags": ["perl", "mime", "mime-message", "mbox"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1504369029, "post_id": 46008552, "comment_id": 78991386, "body": "A quick search reveals <a href=\"https://wiki2.dovecot.org/MailboxFormat/mbox\" rel=\"nofollow noreferrer\">wiki2.dovecot.org/MailboxFormat/mbox</a> - it mentions separating messages via  Content-Length headers ( see &quot;Escapting From&quot; ). Have you investigated that?"}, {"owner": {"reputation": 303, "user_id": 7471141, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/22babd4c799029e887d50c12e1a8fa86?s=128&d=identicon&r=PG&f=1", "display_name": "shorton", "link": "https://stackoverflow.com/users/7471141/shorton"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1504382617, "post_id": 46008552, "comment_id": 78995171, "body": "Yeah, that&#39;s part of mbxcl2 mentioned in the original Q.  Looking for a already available tool to put these back together."}], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 7471141, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/22babd4c799029e887d50c12e1a8fa86?s=128&d=identicon&r=PG&f=1", "display_name": "shorton", "link": "https://stackoverflow.com/users/7471141/shorton"}, "is_accepted": true, "score": 0, "last_activity_date": 1504383078, "creation_date": 1504383078, "answer_id": 46017767, "question_id": 46008552, "link": "https://stackoverflow.com/questions/46008552/mime-extracted-emails-back-to-mbox-format/46017767#46017767", "title": "mime extracted emails back to mbox format", "body": "<p>Originally I was writing \\n\\nFrom me...\\n\"  To ensure the required blank line in front of each From...  I think the initial blank line is what Dovecot was unhappy with.</p>\n\n<p>I rewrote it so as the original parsing script was breaking the message attachments out, I added the 2 lines below (before and after the line that was writing the individual messages).  So now it did not start off with a blank line.  </p>\n\n<pre><code>print OUT \"From me\\@myserver.com  Fri Sep  1 15:18:53 2017\\n\";\n$ent-&gt;bodyhandle-&gt;print(\\*OUT);\nprint OUT \"\\n\\n\";\n</code></pre>\n\n<p>OUT is the resulting mbx file.  Since the original messages had the content-length header, at least Dovecot and Outlook are happy with the resulting format.  So I'm good now I think.</p>\n"}], "owner": {"reputation": 303, "user_id": 7471141, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/22babd4c799029e887d50c12e1a8fa86?s=128&d=identicon&r=PG&f=1", "display_name": "shorton", "link": "https://stackoverflow.com/users/7471141/shorton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 46017767, "answer_count": 1, "score": 2, "last_activity_date": 1504383078, "creation_date": 1504303873, "last_edit_date": 1504305053, "question_id": 46008552, "link": "https://stackoverflow.com/questions/46008552/mime-extracted-emails-back-to-mbox-format", "title": "mime extracted emails back to mbox format", "body": "<p>I have a special mbox file where each message in the mbox is has one or more attached messages.  These were created from being forwarded as an attachment.  I have a perl script that uses <a href=\"https://metacpan.org/pod/MIME::Tools\" rel=\"nofollow noreferrer\">MIME::Tools</a> and <a href=\"https://metacpan.org/pod/MIME::Parser\" rel=\"nofollow noreferrer\">MIME::Parser</a> to parse that mbox file. It can pipe these files to another program (spamassassin), or save them as individual text files which is what I'm doing.  I believe these individual files are RFC822 format (not positive).  Each text file does not start with \"From: ...\" so I can't simply cat them back together.</p>\n\n<p>I need a way to reassemble these extracted files back into mbox (mbxcl2) format.  Is there a tool or script I can use to reassemble these extracted files?</p>\n\n<p>I tried having my script output them into a single file as they parsed, with a <code>From me\\@myserver.com  Fri Sep  1 15:18:53 2017\\n</code>.  This is enough for mailx viewing on the server, but Dovecot complains: <code>dovecot: imap(me): Error: Syncing INBOX failed: Mailbox isn't a valid mbox file</code></p>\n\n<p>So I apparently need to do more than just add the \"From \" separator.</p>\n"}, {"tags": ["regex", "perl", "substitution"], "comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1504274154, "post_id": 46001495, "comment_id": 78964212, "body": "Why the down vote on this? It seems like a reasonable question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1504274499, "post_id": 46001495, "comment_id": 78964432, "body": "@dawg: Presumably because the OP has shown no code and appears to have made no effort to solve the problem themselves."}, {"owner": {"reputation": 77, "user_id": 8504726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a15d6e71fbcf7f5f795438e2142411a4?s=128&d=identicon&r=PG&f=1", "display_name": "skualito", "link": "https://stackoverflow.com/users/8504726/skualito"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504277593, "post_id": 46001495, "comment_id": 78966557, "body": "@borodin, as i said i have do some search since i have a solution with sprintf but wanted a one pass solution with regex..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504278606, "post_id": 46001495, "comment_id": 78967190, "body": "@skualito: Yes, and you don&#39;t appear to have attempted to write a regex solution. I didn&#39;t vote your question down, I&#39;m simply trying to answer <b>dawg&#39;s</b> comment."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504289947, "post_id": 46001538, "comment_id": 78972879, "body": "Or <code>s&#47;\\b(?=\\d\\b)&#47;0&#47;g</code>"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 3, "last_activity_date": 1504273308, "creation_date": 1504273308, "answer_id": 46001538, "question_id": 46001495, "link": "https://stackoverflow.com/questions/46001495/zero-padded-integer-with-perl-regex-substitution/46001538#46001538", "title": "zero padded integer with perl regex substitution", "body": "<pre><code>my $string = '3-7+9-15';\n$string =~  s/\\b(\\d)\\b/0$1/g;\nsay $string;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>03-07+09-15\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1504274400, "creation_date": 1504274400, "answer_id": 46001882, "question_id": 46001495, "link": "https://stackoverflow.com/questions/46001495/zero-padded-integer-with-perl-regex-substitution/46001882#46001882", "title": "zero padded integer with perl regex substitution", "body": "<p>I would choose to use <code>sprintf</code> in combination with a regex substitution</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $s = '3-7+9-15';\n$s =~  s{(\\d+)}{ sprintf '%02d', $1 }ge;\nsay $s;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>03-07+09-15\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 8504726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a15d6e71fbcf7f5f795438e2142411a4?s=128&d=identicon&r=PG&f=1", "display_name": "skualito", "link": "https://stackoverflow.com/users/8504726/skualito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 46001882, "answer_count": 2, "score": 4, "last_activity_date": 1504274400, "creation_date": 1504273139, "last_edit_date": 1504273563, "question_id": 46001495, "link": "https://stackoverflow.com/questions/46001495/zero-padded-integer-with-perl-regex-substitution", "title": "zero padded integer with perl regex substitution", "body": "<p>I would like to do a zero padded integer with regex substitution.  I have for example the following string:</p>\n\n<pre><code>my $string = '3-7+9-15';\n</code></pre>\n\n<p>and want for output:</p>\n\n<pre><code>03-07+09-15\n</code></pre>\n\n<p>i know i could use sprintf, but i must first retrieve each integer do the sprintf and then re-join the integers into a string :(</p>\n\n<p>i would like to do it in one pass with a regex substitution. is it possible ?</p>\n"}, {"tags": ["c", "perl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1504270663, "post_id": 46000665, "comment_id": 78961894, "body": "I&#39;m not aware that embedded Perl uses a working directory different from the process where it is embedded. Isn&#39;t this working directory just the same as the current working directory for the whole process which can be queried with <a href=\"https://linux.die.net/man/3/getcwd\" rel=\"nofollow noreferrer\">getcwd</a> in C and changed with <a href=\"http://man7.org/linux/man-pages/man2/chdir.2.html\" rel=\"nofollow noreferrer\">chdir</a> within the C program?"}, {"owner": {"reputation": 379, "user_id": 4533661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a0c9c418921324d71b4d9b1380ab4990?s=128&d=identicon&r=PG&f=1", "display_name": "Semonit", "link": "https://stackoverflow.com/users/4533661/semonit"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1504271954, "post_id": 46000665, "comment_id": 78962768, "body": "No, it doesn&#39;t seems so. I tried this, but bizarrely that has no effect on the script&#39;s working directory. I was using Qt5 functionality to change the directroy by the way. But I cant&#39;t imagine any side-effects with Qt5."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1504275532, "post_id": 46000665, "comment_id": 78965166, "body": "See my response where I simply use the <code>chdir</code> to change the working directory and it affects the Perl code running afterwards. I have no idea what you&#39;ve exactly tried but it works for me as expected."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1504276061, "post_id": 46000665, "comment_id": 78965520, "body": "Needs more <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1504290588, "post_id": 46000665, "comment_id": 78973179, "body": "The CWD is a property of a process. Perl doesn&#39;t have any CWD to set."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1516744614, "post_id": 46000665, "comment_id": 83812711, "body": "What directory are you trying to set, and what is the actual directory set (full paths)?"}], "answers": [{"comments": [{"owner": {"reputation": 379, "user_id": 4533661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a0c9c418921324d71b4d9b1380ab4990?s=128&d=identicon&r=PG&f=1", "display_name": "Semonit", "link": "https://stackoverflow.com/users/4533661/semonit"}, "edited": false, "score": 0, "creation_date": 1504275324, "post_id": 46001393, "comment_id": 78965006, "body": "hmmm, just tried to set the environments PWD to the path. didn&#39;t work."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 379, "user_id": 4533661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a0c9c418921324d71b4d9b1380ab4990?s=128&d=identicon&r=PG&f=1", "display_name": "Semonit", "link": "https://stackoverflow.com/users/4533661/semonit"}, "edited": false, "score": 0, "creation_date": 1504290228, "post_id": 46001393, "comment_id": 78972990, "body": "@Karl, Zac is saying you may need to set <i>both</i>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1504290523, "post_id": 46001393, "comment_id": 78973140, "body": "@Zac B, While it may that some programs that expect to be run from the shell use <code>$ENV{PWD}</code>, that&#39;s not a safe assumption to make. Perl programs using <code>$ENV{PWD}</code> are buggy."}, {"owner": {"reputation": 3227, "user_id": 249199, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0878f26eba467efc1d90fc6959b9b531?s=128&d=identicon&r=PG", "display_name": "Zac B", "link": "https://stackoverflow.com/users/249199/zac-b"}, "edited": false, "score": 0, "creation_date": 1504722814, "post_id": 46001393, "comment_id": 79126028, "body": "Agreed. I updated my answer to reflect that. I think it is still something good to check, given its ubiquity in many Perl programs (e.g. the <code>Cwd</code> module uses <code>PWD</code>). Thanks!"}], "tags": [], "owner": {"reputation": 3227, "user_id": 249199, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0878f26eba467efc1d90fc6959b9b531?s=128&d=identicon&r=PG", "display_name": "Zac B", "link": "https://stackoverflow.com/users/249199/zac-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1504722775, "last_edit_date": 1504722775, "creation_date": 1504272711, "answer_id": 46001393, "question_id": 46000665, "link": "https://stackoverflow.com/questions/46000665/embedded-perl-in-c-set-working-directory/46001393#46001393", "title": "embedded perl in C - set working directory", "body": "<p>Doing <code>chidir</code> in the surrounding C may not be enough, unless you also ensure that the <code>PWD</code> field in the environment of the surrounding code is also updated. Otherwise, that variable may be inherited as <code>$ENV{PWD}</code> by your perl, since you're passing <code>NULL</code> as the final argument to <code>perl_parse</code>. Not 100% sure of this though.</p>\n\n<p>Non-shell code should not be relying on the <code>PWD</code> environment variable, as @ikegami pointed out. However, some poorly written code may depend on it, so it's worth checking.</p>\n"}, {"comments": [{"owner": {"reputation": 379, "user_id": 4533661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a0c9c418921324d71b4d9b1380ab4990?s=128&d=identicon&r=PG&f=1", "display_name": "Semonit", "link": "https://stackoverflow.com/users/4533661/semonit"}, "edited": false, "score": 0, "creation_date": 1504860428, "post_id": 46002248, "comment_id": 79186955, "body": "That&#39;s exactly what I&#39;ve done in my code. Right before perl_run() I&#39;ve set the working directory to what I wanted. But the perl script, still had the same directory as before. Note, the perl_run() including the chdir is executed in a separate thread. Maybe there&#39;s something to consider?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 379, "user_id": 4533661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a0c9c418921324d71b4d9b1380ab4990?s=128&d=identicon&r=PG&f=1", "display_name": "Semonit", "link": "https://stackoverflow.com/users/4533661/semonit"}, "edited": false, "score": 0, "creation_date": 1504862546, "post_id": 46002248, "comment_id": 79188292, "body": "@Karl: On most systems all threads share the same working directory, i.e. it is not per thread. See also <a href=\"https://stackoverflow.com/questions/9082804/precisely-what-owns-the-current-working-directory\" title=\"precisely what owns the current working directory\">stackoverflow.com/questions/9082804/&hellip;</a>"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 4, "last_activity_date": 1504302599, "last_edit_date": 1504302599, "creation_date": 1504275469, "answer_id": 46002248, "question_id": 46000665, "link": "https://stackoverflow.com/questions/46000665/embedded-perl-in-c-set-working-directory/46002248#46002248", "title": "embedded perl in C - set working directory", "body": "<p><strong>There is no separate working directory for Perl. It just takes the one currently active in the process which can be changed with <code>chdir</code> from inside the C program.</strong></p>\n\n<hr>\n\n<p>To prove this I've tried a small example program by using the code from <a href=\"https://perldoc.perl.org/perlembed.html#Adding-a-Perl-interpreter-to-your-C-program\" rel=\"nofollow noreferrer\">Adding a Perl interpreter to your C program</a> in the official documentation. I've only added a single <code>chdir</code> call before executing <code>perl_run</code>:</p>\n\n<pre><code>#include &lt;EXTERN.h&gt;               /* from the Perl distribution     */\n#include &lt;perl.h&gt;                 /* from the Perl distribution     */\n\nstatic PerlInterpreter *my_perl;  /***    The Perl interpreter    ***/\n\nint main(int argc, char **argv, char **env)\n{\n       PERL_SYS_INIT3(&amp;argc, &amp;argv, &amp;env);\n       my_perl = perl_alloc();\n       perl_construct(my_perl);\n       PL_exit_flags |= PERL_EXIT_DESTRUCT_END;\n       perl_parse(my_perl, NULL, argc, argv, (char **) NULL);\n\n       /***** HERE IT CHANGES THE WORKING DIRECTORY ******/\n       chdir(\"/\"); \n\n       perl_run(my_perl);\n       perl_destruct(my_perl);\n       perl_free(my_perl);\n       PERL_SYS_TERM();\n}\n</code></pre>\n\n<p>When starting the following small Perl program to check the working directory it shows exactly the working directory which I've set in my C code:</p>\n\n<pre><code>use Cwd 'getcwd';  \nprint getcwd(), \"\\n\";\n</code></pre>\n\n<p>So there is no separate working directory for Perl: it just takes the one currently set in the process.</p>\n"}], "owner": {"reputation": 379, "user_id": 4533661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a0c9c418921324d71b4d9b1380ab4990?s=128&d=identicon&r=PG&f=1", "display_name": "Semonit", "link": "https://stackoverflow.com/users/4533661/semonit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1504722775, "creation_date": 1504270261, "last_edit_date": 1504272045, "question_id": 46000665, "link": "https://stackoverflow.com/questions/46000665/embedded-perl-in-c-set-working-directory", "title": "embedded perl in C - set working directory", "body": "<p>How to tell the embedded perl in C what's it's working directory?</p>\n\n<p>It seems that it's set to the directory of the executable in which embedded perl is used. Setting the directory from outside before invoking the embedded perl stuff doesn't change it's behaviour.</p>\n\n<p>A possible workaround would be popping in \"chdir \" before the actual script is started but I don't like that.</p>\n\n<p>My code technically looks like this:</p>\n\n<pre><code>PERL_SYS_INIT3(NULL, NULL, NULL);\nmy_perl = perl_alloc();\nPERL_SET_CONTEXT(my_perl);\nPL_exit_flags |= PERL_EXIT_DESTRUCT_END;\nPERL_SET_CONTEXT(my_perl);\nPL_perl_destruct_level = 1;\nperl_construct(my_perl);\n\nint argc = 2;\nchar** argv = new char*[argc];\nargv[0] = new char[4096];\nargv[0][0] = '\\0';\nargv[1] = scriptFileName;\n\nPERL_SET_CONTEXT(my_perl);\nperl_parse(my_perl, xs_init, argc, argv, (char **)NULL);\nperl_run(my_perl)\n\nPL_perl_destruct_level = 1;\nPERL_SET_CONTEXT(my_perl);\nperl_destruct(my_perl);\nperl_free(my_perl);\nmy_perl = NULL;\n</code></pre>\n\n<p>The above outlined code is running in separate threads. Maybe there's something to consider?</p>\n\n<p>Thanks for any hint!</p>\n"}, {"tags": ["perl", "traits", "moose"], "answers": [{"comments": [{"owner": {"reputation": 368, "user_id": 8500343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618f74886ab1cff3eca67c71af07caf?s=128&d=identicon&r=PG&f=1", "display_name": "Jochen Lutz", "link": "https://stackoverflow.com/users/8500343/jochen-lutz"}, "edited": false, "score": 0, "creation_date": 1504450635, "post_id": 46017701, "comment_id": 79008749, "body": "I don&#39;t want my &quot;befores&quot; to override each other, I want a before applied to a class by role composition to not be applied if it has already been applied to one of the parent classes."}, {"owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "reply_to_user": {"reputation": 368, "user_id": 8500343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618f74886ab1cff3eca67c71af07caf?s=128&d=identicon&r=PG&f=1", "display_name": "Jochen Lutz", "link": "https://stackoverflow.com/users/8500343/jochen-lutz"}, "edited": false, "score": 1, "creation_date": 1504458566, "post_id": 46017701, "comment_id": 79011152, "body": "That doesn&#39;t change anything. Classses don&#39;t remember which &quot;befores&quot; were applied."}], "tags": [], "owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "is_accepted": false, "score": 2, "last_activity_date": 1504390921, "last_edit_date": 1504390921, "creation_date": 1504382557, "answer_id": 46017701, "question_id": 45999416, "link": "https://stackoverflow.com/questions/45999416/moose-applies-method-modifiers-twice/46017701#46017701", "title": "Moose applies method modifiers twice", "body": "<p>First of all, your example can be much simpler:</p>\n\n<pre><code>{\n    package R;\n    use Moose::Role;\n    before 'bar' =&gt; sub { say \"R::before'bar'()\" }\n}\n\n{\n    package Base;\n    use Moose;\n    with 'R';\n\n    sub foo { say \"Hello foo()\"; }\n    sub bar { $_[0]-&gt;foo(); say \"Hello bar()\"; }\n}\n\n{\n    package X;\n    use Moose;\n    extends 'Base';\n    with 'R';\n}\n\n\npackage main;\n\nX-&gt;new()-&gt;bar();\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>R::before'bar'()\nR::before'bar'()\nHello foo()\nHello bar()\n</code></pre>\n\n<h2>Why</h2>\n\n<p>I agree that this is kinda unexpected, but it all makes sense if you think about it. Roles are not base classes, roles are not interfaces with implementation (see Java), roles are not even \u201cmixins\u201d in a Python sense of this word (in Python we actually do inherit from mixins, but this is just language limitations). Roles are just bunches of features (attributes, methods, modifiers etc) you apply to your class. This is one-time action. The class that has a role doesn't \u201cremember\u201d it, it's just being applied as the class is created. You don't inherit from roles, so you shouldn't expect Moose to implement some <a href=\"https://en.wikipedia.org/wiki/Multiple_inheritance#The_diamond_problem\" rel=\"nofollow noreferrer\">diamond</a> to merge multiple applyings of the same role.</p>\n\n<p>On the other hand, if you try to do <code>with qw(R S);</code> then <code>R</code> is surprisingly (or maybe not really) is applied only once.</p>\n\n<h2>What to do</h2>\n\n<p>Now to the actual question. Since you want your \"befores\" to override each other, you can just forgo using <code>before</code> at all and refactor it to a simple method (like you do in any other languages that don't support such modifiers):</p>\n\n<pre><code>sub bar {\n    my ($self) = @_;\n\n    $self-&gt;_before_bar_hook();\n    # ...\n}\n\nsub _before_bar_hook {}\n</code></pre>\n\n<h2>Conclusion</h2>\n\n<p>Both before/after modifiers and roles are pretty advanced Moose features, and I'm not really surprised of some bizarre side effect (such that you've discovered). And though I believe my explanation is mostly correct I would not recommend to use something that requires such explanations.</p>\n\n<p>Me personally avoid using before/after modifiers at all, since I prefer an explicit call of the hooks (as shown above).</p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1504468595, "last_edit_date": 1504468595, "creation_date": 1504468147, "answer_id": 46027281, "question_id": 45999416, "link": "https://stackoverflow.com/questions/45999416/moose-applies-method-modifiers-twice/46027281#46027281", "title": "Moose applies method modifiers twice", "body": "<p>You can use a parameterized role to prevent wrapping a sub:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\n{   package R;\n    use MooseX::Role::Parameterized;\n\n    parameter should_wrap_bar =&gt; (\n        isa =&gt; 'Bool',\n        default =&gt; 1,\n    );\n\n    role {\n        my ($param) = @_;\n        before 'bar' =&gt; sub { say \"R::before'bar'()\" }\n            if $param-&gt;{should_wrap_bar};\n    };\n}\n\n{   package Base;\n    use Moose;\n    with 'R';\n\n    sub foo { say \"Hello foo()\"; }\n    sub bar { $_[0]-&gt;foo(); say \"Hello bar()\"; }\n}\n\n{   package X;\n    use Moose;\n    extends 'Base';\n    with R =&gt; { should_wrap_bar =&gt; 0 };\n}\n\npackage main;\nX-&gt;new-&gt;bar;\n</code></pre>\n"}], "owner": {"reputation": 368, "user_id": 8500343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618f74886ab1cff3eca67c71af07caf?s=128&d=identicon&r=PG&f=1", "display_name": "Jochen Lutz", "link": "https://stackoverflow.com/users/8500343/jochen-lutz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1504468595, "creation_date": 1504265713, "last_edit_date": 1504266120, "question_id": 45999416, "link": "https://stackoverflow.com/questions/45999416/moose-applies-method-modifiers-twice", "title": "Moose applies method modifiers twice", "body": "<h1>Basic Architecture</h1>\n\n<p>I built a information retrieval tool in perl, using Moose as framework.</p>\n\n<p>I have a class hiearchy for plugins with <code>Base</code> as a common base class for plugins, from which access method specific plugins inherit (methods being HTTP, FTP, IMAP, ...).</p>\n\n<p>From these child classes, the actual worker classes inherit (one plugin per data source).</p>\n\n<p>I use Moose roles to compose source specific behaviour into the actual worker classes (like enabling support for SSL client certificates in HTTP sources).</p>\n\n<h1>Problem</h1>\n\n<p>One of the method specific classes (<code>Base::A</code>) requires a role <code>R</code>. The same role <code>R</code> is also used by role <code>S</code>, which then is used by a work class <code>X</code>, inheriting from <code>Base::A</code>.</p>\n\n<p>My problem is that the method modifiers in <code>R</code> are applied twice to <code>X</code>. Is there a way to prevent Moose from applying method modifiers to class that are already applied to one of the parent classes?</p>\n\n<h1>Example</h1>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse utf8;\n\nuse v5.14;\n\n{\n    package R;\n\n    use Moose::Role;\n\n    before 'bar' =&gt; sub { say \"R::before'bar'()\" }\n}\n\n{\n    package S;\n\n    use Moose::Role;\n    with 'R';\n\n    before 'bar' =&gt; sub { say \"S::before'bar'()\" }\n}\n\n{\n    package Base;\n\n    use Moose;\n\n    sub foo { say \"Hello foo()\"; }\n}\n\n{\n    package Base::A;\n\n    use Moose;\n    extends 'Base';\n    with 'R';\n\n    sub bar { $_[0]-&gt;foo(); say \"Hello bar()\"; }\n}\n\n{\n    package X;\n\n    use Moose;\n    extends 'Base::A';\n    with 'S';\n}\n\n\npackage main;\n\nmy $a = X-&gt;new();\n\n$a-&gt;bar();\n</code></pre>\n\n<h2>Actual Output</h2>\n\n<pre class=\"lang-none prettyprint-override\"><code>S::before'bar'()\nR::before'bar'()\nR::before'bar'()\nHello bar()\n</code></pre>\n\n<h2>Expected Output</h2>\n\n<p>The line <code>R::before'bar'()</code> should appear only once.</p>\n"}, {"tags": ["regex", "perl", "ipv4"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1504253984, "post_id": 45995872, "comment_id": 78951773, "body": "Did you try the negative lookahead?  like <code>&#47;...(?!\\.)&#47;</code>"}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1504254738, "post_id": 45995872, "comment_id": 78952154, "body": "I think dots after IP addresses are just a starting point to the problem"}, {"owner": {"reputation": 503, "user_id": 2346209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMMsU.jpg?s=128&g=1", "display_name": "Mogens TrasherDK", "link": "https://stackoverflow.com/users/2346209/mogens-trasherdk"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504255020, "post_id": 45995872, "comment_id": 78952319, "body": "@zdim Yes. Matches <code>194.102.60.19</code>0.host.ifxnetworks.com"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504255507, "post_id": 45995872, "comment_id": 78952622, "body": "I split your regex over lines for readability.  Please check.  If it&#39;s OK ... are all four indeed the same?"}, {"owner": {"reputation": 503, "user_id": 2346209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMMsU.jpg?s=128&g=1", "display_name": "Mogens TrasherDK", "link": "https://stackoverflow.com/users/2346209/mogens-trasherdk"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504256167, "post_id": 45995872, "comment_id": 78953030, "body": "@zdim Yes. They are the same <code>my ($IP) = $OCT . &#39;\\.&#39; . $OCT . &#39;\\.&#39; . $OCT . &#39;\\.&#39; . $OCT</code> :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504256218, "post_id": 45995872, "comment_id": 78953068, "body": "Thank you.  The problem is the optional digit in the last one.  So whatever you follow it with it has the freedom to just match one less digit, and then that following non-<code>.</code> character can be the last digit itself."}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1504256528, "post_id": 45995872, "comment_id": 78953272, "body": "I added a reference for the x option, I hope it&#39;s okay for you"}], "answers": [{"comments": [{"owner": {"reputation": 503, "user_id": 2346209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMMsU.jpg?s=128&g=1", "display_name": "Mogens TrasherDK", "link": "https://stackoverflow.com/users/2346209/mogens-trasherdk"}, "edited": false, "score": 0, "creation_date": 1504255495, "post_id": 45996014, "comment_id": 78952610, "body": "I think the solution is to do the extraction in 2 steps. First: <code>my ($line1) = $line =~ &#47;(\\[)($IP)(\\])&#47;;</code> which matches the <code>[190.60.102.194]</code> . Second: <code>my ($ip) = $line =~ &#47;($IP)&#47;;</code> which matches the <code>190.60.102.194</code>"}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "reply_to_user": {"reputation": 503, "user_id": 2346209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMMsU.jpg?s=128&g=1", "display_name": "Mogens TrasherDK", "link": "https://stackoverflow.com/users/2346209/mogens-trasherdk"}, "edited": false, "score": 0, "creation_date": 1504255918, "post_id": 45996014, "comment_id": 78952865, "body": "@MogensTrasherDK two stages are not necessary in my opinion, see my last additions. The actual match (<code>((?:\\d{1,3}\\.){3}\\d{1,3})</code>) is already contained in the last (&quot;suggested&quot;) regex."}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "reply_to_user": {"reputation": 503, "user_id": 2346209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMMsU.jpg?s=128&g=1", "display_name": "Mogens TrasherDK", "link": "https://stackoverflow.com/users/2346209/mogens-trasherdk"}, "edited": false, "score": 0, "creation_date": 1504259419, "post_id": 45996014, "comment_id": 78955014, "body": "@MogensTrasherDK Just a reminder: if you (maybe soon) encounter other disturbing interactions between IP addresses and their textual context in some log file, come back and see if you are able to <i>positively specify</i> these patterns."}], "tags": [], "owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "is_accepted": false, "score": 0, "last_activity_date": 1504270106, "last_edit_date": 1504270106, "creation_date": 1504254099, "answer_id": 45996014, "question_id": 45995872, "link": "https://stackoverflow.com/questions/45995872/perl-regex-extracting-ipv4-from-maillog/45996014#45996014", "title": "Perl Regex - extracting ipv4 from maillog", "body": "<p>In general, regular expressions match on wanted patterns in existing character sequences, it's always a bit harder to not-match if something unwanted exists.</p>\n\n<p>You can match IP addresses<sup>[1]</sup> that are followed by a non-dot (<code>[^.]</code>):</p>\n\n<pre><code>(?:\\d{1,3}\\.){3}\\d{1,3}[^.]\n</code></pre>\n\n<p>and IP addresses at the end of the line (<code>$</code>):</p>\n\n<pre><code>(?:\\d{1,3}\\.){3}\\d{1,3}$\n</code></pre>\n\n<p>you may combine the two patterns by alteration (<code>|</code>) in a not-capturing group (<code>(?:</code>...<code>)</code>):</p>\n\n<pre><code>(?:\\d{1,3}\\.){3}\\d{1,3}(?:[^.]|$)\n</code></pre>\n\n<p>A similar problem may be that your next task could be to exclude IP addresses that have a dot before them, another problem is that it would also match <code>2.3.4.5</code> in <code>1.2.3.4.5</code>, which leads back to my introductory statement...</p>\n\n<p>I think that the IP addresses you try to match are best found with something that checks the surrounding characters as well. Be specific about this. For the development stage, try to check non-matching lines by matching them to \"garbage patterns\". In the case shown in the question (where spaces and brackets are acceptable surroundings), I'd suggest to use</p>\n\n<pre><code>(?:[ \\[]|^)((?:\\d{1,3}\\.){3}\\d{1,3})(?:[ \\]]|$)\n</code></pre>\n\n<hr>\n\n<p><sup>[1]</sup> I use a simplified regex here, that also matches <code>333.333.333.333</code> or <code>000.000.000.000</code>, it can be of course be improved to restrict matches to valid IP addresses, but solutions for this are <a href=\"https://stackoverflow.com/search?q=regex+ip+address\">abundant</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504256955, "post_id": 45996015, "comment_id": 78953534, "body": "@MogensTrasherDK   Updated the answer with a complete program"}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1504257126, "post_id": 45996015, "comment_id": 78953639, "body": "Wouldn&#39;t it be better to use <code>__DATA__</code> here to better separate input and program?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1504257364, "post_id": 45996015, "comment_id": 78953784, "body": "@Wolf Well, when there is a bit of data and we want a completely self-contained program, for an easy demo (no input files to talk about etc). Here it&#39;s just one line that is given and it&#39;s clearer to simply have it there (rather than read data etc)."}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1504257715, "post_id": 45996015, "comment_id": 78953998, "body": "I avoided negative lookahead so far (without a special reason). Are there some performance aspects I should keep in mind when using it?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 1, "creation_date": 1504257881, "post_id": 45996015, "comment_id": 78954092, "body": "@Wolf  Nothing extreme for sure, and I think not anything other to notice either.  There are performance killers with regex, and those one should watch for.  So if a lookhead gets into a backtracking game (for instance), it&#39;s not about it but about the structure of the regex, allowing it.  It&#39;s just a type of an anchor (non-consuming assertion)."}, {"owner": {"reputation": 503, "user_id": 2346209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMMsU.jpg?s=128&g=1", "display_name": "Mogens TrasherDK", "link": "https://stackoverflow.com/users/2346209/mogens-trasherdk"}, "edited": false, "score": 0, "creation_date": 1504258946, "post_id": 45996015, "comment_id": 78954723, "body": "@zdim Your code works perfectly. I will not pretend to understand the mechanics, but I&#39;m happy anyways. Thanks."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 503, "user_id": 2346209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMMsU.jpg?s=128&g=1", "display_name": "Mogens TrasherDK", "link": "https://stackoverflow.com/users/2346209/mogens-trasherdk"}, "edited": false, "score": 0, "creation_date": 1505360160, "post_id": 45996015, "comment_id": 79383258, "body": "@MogensTrasherDK I&#39;ve added an explanation, I hope it helps.  This is a little tricky but interesting, and an example of regex operation."}, {"owner": {"reputation": 503, "user_id": 2346209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMMsU.jpg?s=128&g=1", "display_name": "Mogens TrasherDK", "link": "https://stackoverflow.com/users/2346209/mogens-trasherdk"}, "edited": false, "score": 0, "creation_date": 1505486559, "post_id": 45996015, "comment_id": 79448279, "body": "@zdim It does help, a little. It would take me too long time to learn something like this. But then again. Now the reference is here, for everybody to find. Again. Thank you for your time."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1573875961, "last_edit_date": 1573875961, "creation_date": 1504254106, "answer_id": 45996015, "question_id": 45995872, "link": "https://stackoverflow.com/questions/45995872/perl-regex-extracting-ipv4-from-maillog/45996015#45996015", "title": "Perl Regex - extracting ipv4 from maillog", "body": "<p>If that's the only problem try with the <a href=\"https://perldoc.perl.org/perlretut.html#Looking-ahead-and-looking-behind\" rel=\"nofollow noreferrer\">negative lookahead</a></p>\n\n<pre><code>my ($ip) = $line =~ /($IP)(?![.\\d])/;\n</code></pre>\n\n<p>which works for the shown data.</p>\n\n<p>The character class in the lookahead, <code>[.\\d]</code>, is needed because the last term in the <code>$IP</code> regex allows for a variable number of digits, via <code>\\d?</code>.  So with <code>(?!\\.)</code> alone the engine can match one fewer digits than there are and then that remaining digit satisfies the non-<code>.</code> restriction.<sup>&dagger;</sup></p>\n\n<p>Thus we need to disallow both the <code>.</code> and a digit following the pattern.</p>\n\n<hr>\n\n<p>A complete program</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $t = 'a 194.102.60.190.host.ifxnetworks.com [190.60.102.194] b';\n\nmy $n = qr/(?:25[012345]|2[0-4]\\d|1?\\d\\d?)/;\n\nmy $IP = qr/$n\\.$n\\.$n\\.$n/;\n\nmy @m = $t =~ /($IP)(?![.\\d])/g;\n\nprint \"@m\\n\";\n</code></pre>\n\n<p>prints <code>190.60.102.194</code></p>\n\n<hr>\n\n<p><sup>&dagger;</sup> Consider the substring <code>90.host</code>. The pattern <code>/\\d\\d?(?!\\.)/</code> for it works as follows.</p>\n\n<p>The first <code>\\d</code> matches <code>9</code>.  But the next one, <code>\\d?</code>, is optional (non-greedy) and it <em>does not match</em> if the rest of the pattern can then match. Indeed, <code>(?!\\.)</code> sees the following <code>0</code> to be not a <code>.</code> and so we match <code>9</code> and <code>0</code> satisfies <code>(?!\\.)</code>. The whole pattern (wrongly) matches</p>\n\n<pre><code>perl -wE'$_ = q(90.host); @m = /(\\d)(\\d?)(?!\\.)(.)/; say for @m'\n</code></pre>\n\n<p>prints</p>\n\n<pre>\n9\n\n0\n</pre>\n\n<p>The middle capture group caught nothing and the next character <code>(.)</code> is the <code>0</code>.</p>\n\n<p>Now consider the pattern <code>/\\d\\d?(?![.\\d])/</code> for the same substring. The <code>(?![.\\d])</code> requires that what follows is neither the <code>.</code> <em>nor</em> a digit. Thus the optional <code>\\d?</code> is forced to match the next digit, <code>0</code>. Since the next character then <em>is</em> a <code>.</code> the pattern fails.</p>\n\n<p>With <code>(?![.\\d])</code> in the above one-liner test instead of <code>(?!\\.)</code> nothing is printed, as the pattern doesn't match at all.  (In some shells you may have to escape <code>!</code>, so <code>(?\\![.\\d])</code>, or use a script.)</p>\n\n<p>The engine may well not go <em>exactly</em> as described, this is more of a loose description of its operation.</p>\n"}], "owner": {"reputation": 503, "user_id": 2346209, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMMsU.jpg?s=128&g=1", "display_name": "Mogens TrasherDK", "link": "https://stackoverflow.com/users/2346209/mogens-trasherdk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 1, "accepted_answer_id": 45996015, "answer_count": 2, "score": 3, "last_activity_date": 1573875961, "creation_date": 1504253601, "last_edit_date": 1504351554, "question_id": 45995872, "link": "https://stackoverflow.com/questions/45995872/perl-regex-extracting-ipv4-from-maillog", "title": "Perl Regex - extracting ipv4 from maillog", "body": "<p>I'm working on a distributed fail2ban like system in perl/mysql/iptables.</p>\n\n<p>Extracting ipv4 addresses from /var/log/messages is working, but now\nI want to add /var/log/maillog to the soup.</p>\n\n<p>I have a perl regex:<sup>[1]</sup></p>\n\n<pre><code>/ (?:25[012345]|2[0-4]\\d|1?\\d\\d?)\\.\n  (?:25[012345]|2[0-4]\\d|1?\\d\\d?)\\.\n  (?:25[012345]|2[0-4]\\d|1?\\d\\d?)\\.\n  (?:25[012345]|2[0-4]\\d|1?\\d\\d?) /x\n</code></pre>\n\n<p>And a line from maillog:</p>\n\n<pre><code>v817YjcU016645: 194.102.60.190.host.ifxnetworks.com [190.60.102.194] did not issue MAIL/EXPN/VRFY/ETRN during connection to MTA\n</code></pre>\n\n<p>Here the regex matches both <code>194.102.60.190</code>.host.ifxnetworks.com\nand [<code>190.60.102.194</code>]</p>\n\n<p>In my code I have ($IP is the above regex):</p>\n\n<pre><code>if ($line =~ m/($IP)/)\n{\n    my ($ip) = $1;\n</code></pre>\n\n<p>Here the first matching ip-like string is found <code>194.102.60.190</code>.host.ifxnetworks.com</p>\n\n<p>So, how do I get the regex to ignore an ipv4 that ends in a <code>.</code></p>\n\n<hr>\n\n<p><sup>[1]</sup> for readability Perl supports the <a href=\"https://softwareengineering.stackexchange.com/questions/194975/readable-regular-expressions-without-losing-their-power/194999#194999\">/x option</a></p>\n"}, {"tags": ["perl", "lint", "static-code-analysis"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504238691, "post_id": 45993049, "comment_id": 78946092, "body": "<code>$_</code> is not used anywhere in that first loop."}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504238764, "post_id": 45993049, "comment_id": 78946113, "body": "@ikegami could this be a bug in the linter then?"}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "edited": false, "score": 0, "creation_date": 1504239041, "post_id": 45993049, "comment_id": 78946178, "body": "If versions are relevant, I&#39;m using Perl 5.24.1 and using the B::Lint on Atom."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1504239239, "post_id": 45993049, "comment_id": 78946219, "body": "Are you certain that is exactly the code you are running?  I have the feeling many more people use Perl::Critic than B::Lint, but I still have trouble imagining it would have a bug such as you describe"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504239546, "post_id": 45993049, "comment_id": 78946289, "body": "Most of the warnings you get are related to <code>implicit-read</code> or <code>dollar-underscore</code> options, but I don&#39;t see anything about or with that regex.  How exactly are you using <code>B::Lint</code>?  Any plugins?"}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504239811, "post_id": 45993049, "comment_id": 78946348, "body": "@zdim Thanks, I think that could be helpful! Here is a <a href=\"http://i.imgur.com/gLFlvUQ.jpg\" rel=\"nofollow noreferrer\">screenshot</a> of the window."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504239813, "post_id": 45993049, "comment_id": 78946350, "body": "I enabled <code>all</code> warnings and get nothing from your second script (when <code>foreach</code> and <code>print</code> are written with lexicals)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504239910, "post_id": 45993049, "comment_id": 78946378, "body": "Fix the next two warnings and try again -- maybe it&#39;s getting confused somehow?  There&#39;s nothing to report on that regex."}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504240151, "post_id": 45993049, "comment_id": 78946437, "body": "@zdim This is indeed strange, I fixed the other two, <a href=\"http://i.imgur.com/DwzFq0E.jpg\" rel=\"nofollow noreferrer\">but the warning still remains</a>. Also tried to close and re-open Atom."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504240156, "post_id": 45993049, "comment_id": 78946441, "body": "There are plugins for lint, and I have no idea how Atom configures it.  The only thing I can think of is that something requires <code>m&#47;</code> in that regex (but that would contradict <code>perlop</code> I think)."}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504240605, "post_id": 45993049, "comment_id": 78946546, "body": "@zdim Yes, I&#39;m using <a href=\"https://atom.io/packages/linter-perl\" rel=\"nofollow noreferrer\">this one</a>, since it seems to be a bug I&#39;ll probably try another linter when developing then. Doesn&#39;t <code>m&#47;</code> only affect <code>^</code> and <code>$</code>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504241161, "post_id": 45993049, "comment_id": 78946692, "body": "I mean <code>$var =~ m&#47;...&#47;;</code> (not the modifier <code>&#47;m</code> at the end).  It shouldn&#39;t matter but I don&#39;t see what else could possibly."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1504243479, "post_id": 45993049, "comment_id": 78947316, "body": "I get it to happen with perl5.22.1 or perl 5.24.1 and <code>-MO=Lint,all</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1504243724, "post_id": 45993049, "comment_id": 78947378, "body": "it seems to be anytime =~ is used with a simple lexical on the left"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1504253399, "post_id": 45993049, "comment_id": 78951460, "body": "@ysth  Yes, I am getting the same with 5.27.2, and with <code>-MO=Lint,implicit-read</code> ... but not when I declare <code>our $line;</code> at the top instead of the <code>my $line</code> in <code>while</code>. Nor with <code>while ($line =~ &#47;...&#47;) { push @num, $1; }...</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504278383, "post_id": 45993049, "comment_id": 78967060, "body": "@zdim are you sure about the last?  or do you mean where it is not a lexical?  I get the bug for any lexical, regardless of context."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1504310874, "post_id": 45993049, "comment_id": 78979536, "body": "@ysth  I tested again with what I think I tried last night, but it does fail (warn) with: <code>while (my $line = &lt;$fh&gt;) { my @num; while ($line =~ &#47;(\\d+)&#47;g) { push @num, $1 }; ... }</code>, as <code>perl -MO=Lint,all script.pl</code>. It gives the same warning even with a mere <code>$line =~ &#47;(\\d+)&#47;;</code> statement. (I&#39;ll check later what exactly I did on the other box).  This is on 5.27.2. There were no warnings on 5.18.1 right now, for instance."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1504327669, "post_id": 45993049, "comment_id": 78981586, "body": "@ysth  You are right: This program: <code>my $v = &#39;hi&#39;;  $v =~ m&#47;.&#47;;</code>   triggers the warning <code>Implicit match on $_</code>, with or w/o warnings and strict and with <code>my $v = &#39;&#39;</code> as well. Same for <code>s&#47;</code>."}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "edited": false, "score": 0, "creation_date": 1504374294, "post_id": 45993049, "comment_id": 78992858, "body": "Do you think this is worth reporting to the devs or not? Also, it probably should be another question, but is there a way to disable <code>implicit-read</code> or <code>dollar-underscore</code> options in the linter? So it could check only other important syntaxes."}], "owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1504237662, "creation_date": 1504237662, "question_id": 45993049, "link": "https://stackoverflow.com/questions/45993049/blint-complaining-about-the-use-of", "title": "B::Lint complaining about the use of $_", "body": "<p>I'm using B::Lint for static code analysis of the Perl code, and I'm confused about why it is complaining about certain lines of my script:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @numbers;\n\nopen(my $fh, \"&lt;\", \"phonenumbers.txt\");\nwhile(&lt;$fh&gt;) {\n    my @num = $_ =~ /(\\d+)/g;\n    push @numbers, join('',@num);\n}\nforeach(@numbers) {\n    print(\"$_\\n\");\n}\n</code></pre>\n\n<p>Besides <code>push @numbers, join('',@num);</code> every line below <code>open(my $fh, \"&lt;\", \"phonenumbers.txt\");</code> is underlined by the B::Lint, most of them with the following description: \"<em>Use of $_</em>\", which seems somewhat reasonable for me since this practice could make the code less readable. </p>\n\n<p>As someone that just began learning Perl, I thought that after the following changes, at least the whole code in <code>while</code> would no longer be underlined by B::Lint, that was the case for the <code>while</code> code itself, but not for <code>my @num = $line =~ /(\\d+)/g;</code>, now reporting: \"<em>Implicit match on $_</em>\".</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @numbers;\n\nopen(my $fh, \"&lt;\", \"phonenumbers.txt\");\nwhile(my $line = &lt;$fh&gt;) {\n    my @num = $line =~ /(\\d+)/g;\n    push @numbers, join('',@num);\n}\nforeach(@numbers) {\n    print(\"$_\\n\");\n}\n</code></pre>\n\n<p>How is <code>$_</code> being implicitly used on <code>my @num = $line =~ /(\\d+)/g;</code>? Is there a way I could avoid being warned by the linter of that implicit match by writing it differently?</p>\n"}, {"tags": ["perl", "debugging"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 6, "creation_date": 1504220738, "post_id": 45991133, "comment_id": 78942644, "body": "Simplest: add <code>use Carp::Always;</code> or run with <code>perl -MCarp::Always script</code> ... is that good?"}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 1, "last_activity_date": 1504220794, "creation_date": 1504220794, "answer_id": 45991266, "question_id": 45991133, "link": "https://stackoverflow.com/questions/45991133/print-stack-trace-when-cant-locate-object-method-x-via-package-y-perl/45991266#45991266", "title": "Print stack trace when &quot;Can&#39;t locate object method x via package y&quot; (Perl)", "body": "<p>The <a href=\"http://perldoc.perl.org/Carp.html\" rel=\"nofollow noreferrer\">Carp</a> module which ships with Perl can be used to generate stack traces.</p>\n\n<p>Carp provide replacements for <code>warn</code> and <code>die</code> which can be used either to simply bump the offending file and line number 1 level back up the call stack or to produce a stack trace.</p>\n\n<p>In your case it sounds like you're not actually calling <code>die</code> - that's happening as a result of attempting to call a non-existent method.  For this circumstance you can use Carp's 'verbose' mode to force a stack trace globally.  There are a number of ways to enable verbose mode.  It can be done via the environment, from the command line used to invoke Perl or from inside your script:</p>\n\n<pre><code>use Carp 'verbose';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504241790, "post_id": 45991317, "comment_id": 78946843, "body": "Not quite. I recommended <code>PERL5OPT=-MCarp::Always script</code> There&#39;s no reason to make it apply to more than just that one script as the longer <code>export PERL5OPT=-MCarp::Always</code> + <code>script</code> might accidentally do."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504242397, "post_id": 45991317, "comment_id": 78947000, "body": "@ikegami  Heh ...  I use tcsh and didn&#39;t think that one can run a line just like that in bash (so I thought that you were referring to exporting it).  Updated.Thank you, again (and again)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1505361187, "last_edit_date": 1505361187, "creation_date": 1504221138, "answer_id": 45991317, "question_id": 45991133, "link": "https://stackoverflow.com/questions/45991133/print-stack-trace-when-cant-locate-object-method-x-via-package-y-perl/45991317#45991317", "title": "Print stack trace when &quot;Can&#39;t locate object method x via package y&quot; (Perl)", "body": "<p>To always print a full stack trace add <code>use Carp::Always;</code> or run the program with</p>\n\n<pre><code>perl -MCarp::Always script\n</code></pre>\n\n<p>or, with bash</p>\n\n<pre><code>PERL5OPT=-MCarp::Always script\n</code></pre>\n\n<p>what sets up the <a href=\"https://perldoc.perl.org/perlrun.html#ENVIRONMENT\" rel=\"nofollow noreferrer\"><code>PERL5OPT</code> environment variable</a> and runs the (executable) <code>script</code>. For one, this allows the shebang (<code>#!</code>) line in the <code>script</code> to decide which interpreter is used. If you <code>export</code> it (say in the shell configuration file), <code>export PERL5OPT=-MCarp::Always</code>, then it will be used by all Perl scripts in that shell. Thanks to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for comments.</p>\n\n<p>To fine-tune which particular exceptions get more attention add the <code>$SIG{__DIE__}</code> hook</p>\n\n<pre><code>use Carp;\n\nBEGIN { \n    $SIG{__DIE__} = sub { \n        confess @_ if $_[0] =~ /Can't locate object method/;  #'\n    };  \n};\n</code></pre>\n\n<p>and after the hook returns \"<em>... the exception processing continues as it would have in the absence of the hook, unless ...</em>\", see <a href=\"http://perldoc.perl.org/perlvar.html#%SIG\" rel=\"nofollow noreferrer\">%SIG in perlvar</a>.  The code above <code>die</code>s normally on other errors.</p>\n\n<p>Thus here you can change what happens as the <code>die</code> is thrown, with code run right before it goes. For example, see <a href=\"https://stackoverflow.com/a/42183690/4653379\">this post</a> for how to get all lexicals for each frame in the call stack.</p>\n\n<p>Messing with this can get tricky so please read up on it. See links in <a href=\"https://stackoverflow.com/a/45520365/4653379\">this post</a>, for instance.</p>\n"}], "owner": {"reputation": 2652, "user_id": 200304, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/88ded01f5ac55b85bb3dd544dce38989?s=128&d=identicon&r=PG", "display_name": "Johannes Ernst", "link": "https://stackoverflow.com/users/200304/johannes-ernst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 45991317, "answer_count": 2, "score": 2, "last_activity_date": 1505361187, "creation_date": 1504219891, "question_id": 45991133, "link": "https://stackoverflow.com/questions/45991133/print-stack-trace-when-cant-locate-object-method-x-via-package-y-perl", "title": "Print stack trace when &quot;Can&#39;t locate object method x via package y&quot; (Perl)", "body": "<p>Chances are I invoke method x on an object of the wrong type, but it's way down in my call stack, so it's not obvious.</p>\n\n<p>So: is there a way of always printing a full stack trace when this error occurs?</p>\n"}, {"tags": ["arrays", "json", "perl", "nagios", "nagiosxi"], "comments": [{"owner": {"reputation": 1, "user_id": 8127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38e9498ee73214d30ae6ce391249935?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Chabot", "link": "https://stackoverflow.com/users/8127746/brian-chabot"}, "edited": false, "score": 0, "creation_date": 1504707536, "post_id": 45989715, "comment_id": 79116503, "body": "If you&#39;re going to mark this post down, I would appreciate it if you at least have the courtesy to clue me in as to why."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1506110685, "post_id": 45989715, "comment_id": 79704332, "body": "It seems that the big disconnect between you and the original check_json is that the original expects the returned JSON to be a single object, while your JSON is an array of objects. Your $json_response is an ARRAY ref: line 235 (and lines 229, 259, 265) is expecting it to be a HASH ref."}], "answers": [{"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 0, "last_activity_date": 1506110321, "creation_date": 1506110321, "answer_id": 46372365, "question_id": 45989715, "link": "https://stackoverflow.com/questions/45989715/attribute-syntax-for-json-query-in-check-json-pl/46372365#46372365", "title": "Attribute Syntax for JSON query in check_json.pl", "body": "<p>I really have no idea what your question is. I'm sure I'm not alone, hence the downvotes.</p>\n\n<p>Once you have the decoded json, if you have a customer_id to search for, you can do:</p>\n\n<pre><code>my ($customer_info) = grep {$_-&gt;{customer_id} eq $customer_id} @$json_response;\n</code></pre>\n\n<p>Regarding the error on line 235, this looks odd:</p>\n\n<pre><code>foreach my $key ($np-&gt;opts-&gt;perfvars eq '*' ? map { \"{$_}\"} sort keys %$json_response : split(',', $np-&gt;opts-&gt;perfvars)) {\n    # ....................................... ^^^^^^^^^^^^^\n    $perf_value = $json_response-&gt;{$key};\n</code></pre>\n\n<p>if perfvars eq \"*\", you appear to be looking for <code>$json_reponse-&gt;{\"{total}\"}</code> for example. You might want to validate the user's input:</p>\n\n<pre><code>    die \"no such key in json data: '$key'\\n\" unless exists $json_response-&gt;{$key};\n</code></pre>\n\n<p>This entire business of stringifying the hash ref lookups just smells bad.</p>\n\n<p>A better question would look like: </p>\n\n<blockquote>\n  <p>I have this JSON data. How do I get the sum of total_bytes for the customer with id 1?</p>\n</blockquote>\n\n<p>See <a href=\"https://stackoverflow.com/help/mcve\">https://stackoverflow.com/help/mcve</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8127746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38e9498ee73214d30ae6ce391249935?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Chabot", "link": "https://stackoverflow.com/users/8127746/brian-chabot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 313, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1506110321, "creation_date": 1504211809, "question_id": 45989715, "link": "https://stackoverflow.com/questions/45989715/attribute-syntax-for-json-query-in-check-json-pl", "title": "Attribute Syntax for JSON query in check_json.pl", "body": "<p>So, I'm trying to set up check_json.pl in NagiosXI to monitor some statistics. <a href=\"https://github.com/c-kr/check_json\" rel=\"nofollow noreferrer\">https://github.com/c-kr/check_json</a> </p>\n\n<p>I'm using the <a href=\"https://github.com/bchabot/check_json/blob/a59fc0a279cb5f7af8d6b66fc2c5118c944f6dd3/check_json.pl\" rel=\"nofollow noreferrer\">code with the modification I submitted in pull request #32</a>, so line numbers reflect that code.</p>\n\n<p>The json query returns something like this:</p>\n\n<pre><code>[\n    {\n        \"total_bytes\": 123456,\n        \"customer_name\": \"customer1\",\n        \"customer_id\": \"1\",\n        \"indices\": [\n            {\n                \"total_bytes\": 12345,\n                \"index\": \"filename1\"\n            },\n            {\n                \"total_bytes\": 45678,\n                \"index\": \"filename2\"\n            },\n\n        ],\n        \"total\": \"765.43gb\"\n    },\n   {\n        \"total_bytes\": 123456,\n        \"customer_name\": \"customer2\",\n        \"customer_id\": \"2\",\n        \"indices\": [\n            {\n                \"total_bytes\": 12345,\n                \"index\": \"filename1\"\n            },\n            {\n                \"total_bytes\": 45678,\n                \"index\": \"filename2\"\n            },\n\n        ],\n        \"total\": \"765.43gb\"\n    }\n]\n</code></pre>\n\n<p>I'm trying to monitor the sized of specific files. so a check should look something like:</p>\n\n<pre><code>/path/to/check_json.pl -u https://path/to/my/json -a \"SOMETHING\" -p \"SOMETHING\"\n</code></pre>\n\n<p>...where I'm trying to figure out the SOMETHINGs so that I can monitor the total_bytes of filename1 in customer2 where I know the customer_id and index but not their position in the respective arrays.</p>\n\n<p>I can monitor customer1's total bytes by using the string \"<code>[0]-&gt;{'total_bytes'}</code>\" but I need to be able to specify which customer and dig deeper into file name (known) and file size (stat to monitor) AND the working query only gives me the status (OK,WARNING, or CRITICAL). Adding -p all I get are errors....</p>\n\n<p>The error with -p no matter how I've been able to phrase it is always: </p>\n\n<pre><code>Not a HASH reference at ./check_json.pl line 235.\n</code></pre>\n\n<p>Even when I can get a valid OK from the example \"<code>[0]-&gt;{'total_bytes'}</code>\", using that in -p still gives the same error.</p>\n\n<p>Links pointing to documentation on the format to use would be very helpful.  Examples in the README for the script or in the -h output are failing me here.  Any ideas?</p>\n"}, {"tags": ["perl", "dictionary", "indexing", "increment"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504211697, "post_id": 45988983, "comment_id": 78939458, "body": "It is <i>an</i> answer.  But if you want all lines to have <code>\\n</code> then append it to each string in <code>map</code> expression, <code>map ... &quot;) := $_;\\n&quot;</code> and use <code>join &#39;&#39;</code>. This way the last one has no <code>\\n</code>.  Or <code>print $str, &quot;\\n&quot;</code> of course (what <code>say</code> does for you)"}], "tags": [], "owner": {"reputation": 425, "user_id": 5547553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/99f225ea4837d3be18c806f798328b7c?s=128&d=identicon&r=PG&f=1", "display_name": "lmocsi", "link": "https://stackoverflow.com/users/5547553/lmocsi"}, "is_accepted": false, "score": 0, "last_activity_date": 1504208579, "creation_date": 1504208579, "answer_id": 45988983, "question_id": 45988885, "link": "https://stackoverflow.com/questions/45988885/how-do-i-use-an-incremented-index-in-perls-map-function/45988983#45988983", "title": "How do I use an incremented index in Perl&#39;s map function?", "body": "<p>It seems, that concatenating is the answer:<br></p>\n\n<pre><code>my $str = join(\"\\n\", map \"x(\".$c++.\") := $_;\", @a);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1504211374, "last_edit_date": 1504211374, "creation_date": 1504208960, "answer_id": 45989060, "question_id": 45988885, "link": "https://stackoverflow.com/questions/45988885/how-do-i-use-an-incremented-index-in-perls-map-function/45989060#45989060", "title": "How do I use an incremented index in Perl&#39;s map function?", "body": "<p>Your problem has nothing to do with <code>map</code>. You placed Perl code inside a string literal and hoped it would get executed.</p>\n\n<p>Replace</p>\n\n<pre><code>map \"x($c++) := $_;\",\n</code></pre>\n\n<p>with</p>\n\n<pre><code>map { ++$c; \"x($c) := $_;\" }\n</code></pre>\n\n<hr>\n\n<p>Also, you are missing a trailing newline. Fixed:</p>\n\n<pre><code>my $str = join \"\", map { ++$c; \"x($c) := $_;\\n\" } @a;\nprint $str;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>print map { ++$c; \"x($c) := $_;\\n\" } @a;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 6, "last_activity_date": 1504233133, "last_edit_date": 1504233133, "creation_date": 1504209969, "answer_id": 45989282, "question_id": 45988885, "link": "https://stackoverflow.com/questions/45988885/how-do-i-use-an-incremented-index-in-perls-map-function/45989282#45989282", "title": "How do I use an incremented index in Perl&#39;s map function?", "body": "<p>Instead of mapping the array, you can map your count, and not need a separate variable:</p>\n\n<pre><code>my $str = join(\"\\n\", map \"x($_) := $a[$_-1];\", 1..@a);\n</code></pre>\n\n<p>Or, to include a trailing newline:</p>\n\n<pre><code>my $str = join('', map \"x($_) := $a[$_-1];\\n\", 1..@a);\n</code></pre>\n"}], "owner": {"reputation": 425, "user_id": 5547553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/99f225ea4837d3be18c806f798328b7c?s=128&d=identicon&r=PG&f=1", "display_name": "lmocsi", "link": "https://stackoverflow.com/users/5547553/lmocsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 45989060, "answer_count": 3, "score": 1, "last_activity_date": 1504233133, "creation_date": 1504208176, "question_id": 45988885, "link": "https://stackoverflow.com/questions/45988885/how-do-i-use-an-incremented-index-in-perls-map-function", "title": "How do I use an incremented index in Perl&#39;s map function?", "body": "<p><br>\nI'd like to use an incremented index in Perl, in the map function. The code I have is:</p>\n\n<pre><code>use strict;\n\nmy $ord = \"46.15,18.59,47.45,21.14\";\nmy $c = 1;\n\nmy @a = split(\",\",$ord);\nmy $str = join(\"\\n\", map \"x($c++) := $_;\", @a);\nprint $str;\n</code></pre>\n\n<p>This outputs:<br></p>\n\n<blockquote>\n  <p>x(1++) := 46.15;<br>\n  x(1++) := 18.59;<br>\n  x(1++) := 47.45;<br>\n  x(1++) := 21.14;<br></p>\n</blockquote>\n\n<p>Instead of the x(1++), I would like x(1), x(2), etc.<br>\nHow can I reach it?</p>\n"}, {"tags": ["arrays", "json", "perl", "decode"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8544960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5817f9dec0c51a727b8a9f801732a851?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Silva", "link": "https://stackoverflow.com/users/8544960/jon-silva"}, "edited": false, "score": 0, "creation_date": 1504211025, "post_id": 45988841, "comment_id": 78939191, "body": "Thanks Duncan. I am not sure if the status value is always in the last object. It could be in any object and I want to grab the last value of it. Also the year1 could be year2 with status . So how do we handle such a case ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 8544960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5817f9dec0c51a727b8a9f801732a851?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Silva", "link": "https://stackoverflow.com/users/8544960/jon-silva"}, "edited": false, "score": 0, "creation_date": 1504218439, "post_id": 45988841, "comment_id": 78942089, "body": "@JonSilva: What do you mean by <i>&quot;last value&quot;</i>?"}, {"owner": {"reputation": 1, "user_id": 8544960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5817f9dec0c51a727b8a9f801732a851?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Silva", "link": "https://stackoverflow.com/users/8544960/jon-silva"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504295594, "post_id": 45988841, "comment_id": 78975261, "body": "@Borodin : The last value here refers to status value from the last objects in the array (order wise)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 8544960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5817f9dec0c51a727b8a9f801732a851?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Silva", "link": "https://stackoverflow.com/users/8544960/jon-silva"}, "edited": false, "score": 0, "creation_date": 1504296743, "post_id": 45988841, "comment_id": 78975693, "body": "@JonSilva: That&#39;s what I assumed. So what do you mean by <i>&quot;I am not sure if the status value is always in the last object&quot;</i>? Also, there are two keys <code>cs</code> and one key <code>ecm</code>, and it seems unlikely that <code>year1</code> will always be the same. Do you know Perl at all? Your question has accumulated negative votes because you don&#39;t appear to have written any code that you want help to correct."}, {"owner": {"reputation": 1, "user_id": 8544960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5817f9dec0c51a727b8a9f801732a851?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Silva", "link": "https://stackoverflow.com/users/8544960/jon-silva"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504637107, "post_id": 45988841, "comment_id": 79083343, "body": "@Borodin : Thanks for the reply. Yes, I am new to perl and trying to read a json array objects. I am just using the json api. There is a different mechanism for generating the json file owned by others."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 1, "user_id": 8544960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5817f9dec0c51a727b8a9f801732a851?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Silva", "link": "https://stackoverflow.com/users/8544960/jon-silva"}, "edited": false, "score": 0, "creation_date": 1506110967, "post_id": 45988841, "comment_id": 79704453, "body": "@JonSilva, are you looking for &quot;the last object <i>that has a &#39;status&#39; value</i>&quot;?"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1506545427, "post_id": 45988841, "comment_id": 79869681, "body": "<code>$lastCourse = (grep {exists $_-&gt;{cs}{year1}{status}} @$data)[-1];</code> or <code>($lastCourse) = reverse grep {exists $_-&gt;{cs}{year1}{status}} @$data);</code>"}], "tags": [], "owner": {"reputation": 4625, "user_id": 5009210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wmm8M.png?s=128&g=1", "display_name": "Duncan Thacker", "link": "https://stackoverflow.com/users/5009210/duncan-thacker"}, "is_accepted": false, "score": 0, "last_activity_date": 1504209291, "last_edit_date": 1504209291, "creation_date": 1504207992, "answer_id": 45988841, "question_id": 45988714, "link": "https://stackoverflow.com/questions/45988714/how-to-decode-json-array-to-find-the-last-value-of-a-variable-using-perl/45988841#45988841", "title": "How to decode json array to find the last value of a variable using Perl?", "body": "<p>I'd use a module for this - CPAN has a <a href=\"http://search.cpan.org/~bkb/JSON-Parse-0.49/lib/JSON/Parse.pod\" rel=\"nofollow noreferrer\">module called JSON:Parse</a> which looks to do what you want:</p>\n\n<pre><code>use JSON::Parse 'parse_json';\nmy $json = loadJsonString();   # Load the JSON string from somewhere\nmy $courses = parse_json($json);\nmy $lastCourse = $courses-&gt;[-1];\nmy $newValue = $lastCourse-&gt;{cs}{year1}{status}{\"new value\"};\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8544960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5817f9dec0c51a727b8a9f801732a851?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Silva", "link": "https://stackoverflow.com/users/8544960/jon-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 351, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1504209291, "creation_date": 1504207429, "last_edit_date": 1504209081, "question_id": 45988714, "link": "https://stackoverflow.com/questions/45988714/how-to-decode-json-array-to-find-the-last-value-of-a-variable-using-perl", "title": "How to decode json array to find the last value of a variable using Perl?", "body": "<p>I have a Json array of objects that I am trying to decode in perl. The json array looks like this :</p>\n\n<pre><code>[\n  {\n    \"name\": \"a123\",\n    \"enroll\": \"12a123\",\n    \"cs\": {\n      \"year1\": {\n        \"status\": {\n          \"oldvalue\": \"pending\",\n          \"new value\": \"complete\"\n        }\n      }\n    }\n  },\n  {\n    \"name\": \"b123\",\n    \"enroll\": \"12b123\",\n    \"ecm\": {\n      \"year1\": {\n        \"flag\": {\n          \"oldvalue\": \"null\",\n          \"new value\": \"ok\"\n        }\n      }\n    }\n  },\n  {\n    \"name\": \"c123\",\n    \"enroll\": \"12c123\",\n    \"cs\": {\n      \"year1\": {\n        \"status\": {\n          \"oldvalue\": \"complete\",\n          \"new value\": \"run new\"\n        }\n      }\n    }\n  }\n]\n</code></pre>\n\n<p>I want to find the value of the {\"status\"}->{\"new value\"} from the last occurrence in the Json file.The output here should be \"run new\". FYI : not all fields are present in every object. Any help on how to parse this array will be highly appreciated. </p>\n"}, {"tags": ["regex", "perl", "server"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1504198030, "post_id": 45985272, "comment_id": 78932901, "body": "For questions about beautifying working code, go to <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a> ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504205253, "post_id": 45985272, "comment_id": 78936535, "body": "You can start by indenting your code properly"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1504597010, "post_id": 45985272, "comment_id": 79058213, "body": "You can try running everything in parallel using <a href=\"https://metacpan.org/pod/Net::OpenSSH::Parallel\" rel=\"nofollow noreferrer\">Net::OpenSSH::Parallel</a>."}], "answers": [{"tags": [], "owner": {"reputation": 384, "user_id": 2148381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJ7WF.jpg?s=128&g=1", "display_name": "Han.Oliver", "link": "https://stackoverflow.com/users/2148381/han-oliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1504198644, "creation_date": 1504198644, "answer_id": 45986671, "question_id": 45985272, "link": "https://stackoverflow.com/questions/45985272/alter-code-to-be-simple-in-netopenssh/45986671#45986671", "title": "Alter code to be simple in Net::OpenSSH", "body": "<p>our way to make it happen in this way:</p>\n\n<ol>\n<li>sub ssh_connect($username, $password)\n$ssh = ssh_connect($username, $password)</li>\n<li>sub ssh_execute($ssh, $command_str)</li>\n</ol>\n\n<p>there are too much duplicated code in your origin code, maybe you can put them into a subroutine and reuse it.</p>\n"}], "owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504198644, "creation_date": 1504193723, "question_id": 45985272, "link": "https://stackoverflow.com/questions/45985272/alter-code-to-be-simple-in-netopenssh", "title": "Alter code to be simple in Net::OpenSSH", "body": "<p>I am newbie in Perl programming and currently trying to use Net::OpenSSH module in my code, my new code as below which the task is to run multiple command in remote server,</p>\n\n<p>Code as below::</p>\n\n<pre><code>---\n---\nforeach $s (@servers) {\nmy $ssh = Net::OpenSSH-&gt;new(\"$username\\@$s\", timeout=&gt;30);\n$ssh-&gt;error and die \"Unable to connect: \" . $ssh-&gt;error;\nprint \"Connected to $s\\n\";\n\nmy $fh = $ssh-&gt;capture(\"df -k /home/ | tail -1\") or die \"Unable to run command\\n\";\nmy @df_arr = split(/\\s+/, $fh);\nprint \"$s:  Disk space /home/ = $df_arr[3] \\n\";\n\nmy $fh1 = $ssh-&gt;capture(\"svmon -G -O unit=GB | grep memory\") or die \"Unable to run command\\n\";\nmy @sv_arr = split(/\\s+/, $fh1);\nprint \"$s:  Free memory = $sv_arr[3] \\n\\n\";\n\nclose $fh;\nundef $ssh;\n}\n----\n----\n</code></pre>\n\n<p>This code is not so nice since I plan to make it more simplify and reduce a line as many as possible.</p>\n\n<p>Does there are any technique's or methods that I can use to simplify this code?</p>\n"}, {"tags": ["perl", "cygwin", "dbd"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504224584, "post_id": 45983678, "comment_id": 78943574, "body": "You&#39;re not using Windows, you&#39;re using Cygwin (a unix emulation environment). Installing something in Windows won&#39;t help"}, {"owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504269588, "post_id": 45983678, "comment_id": 78961201, "body": "I&#39;m using cygwin inside of windows to download and install files.  Regardless, i resolved the problem and answered my own question."}], "answers": [{"tags": [], "owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "is_accepted": true, "score": 1, "last_activity_date": 1547826986, "last_edit_date": 1547826986, "creation_date": 1504233673, "answer_id": 45992624, "question_id": 45983678, "link": "https://stackoverflow.com/questions/45983678/unable-to-install-dbdoracle-for-perl-on-windows/45992624#45992624", "title": "Unable to Install DBD::Oracle for Perl on Windows", "body": "<p>I resolved the problem by installing the 32-bit Oracle Client 11g version onto the computer in this location c:\\oracle.  It doesn't work using the instantclient version because the instant client doesn't contain the necessary libraries. </p>\n\n<p>Download \"Oracle Database 11g Release 2 Client (11.2.0.1.0) for Microsoft Windows (32-bit)\" from the below link and install the full administrator verion\n<a href=\"http://www.oracle.com/technetwork/database/windows/downloads/index-090165.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/database/windows/downloads/index-090165.html</a></p>\n\n<p>Next, create ORACLE_HOME variable in your environmental variables on your computer and add the following path to it: ORACLE_HOME=C:\\Oracle\\product\\11.2.0\\client_1</p>\n\n<p>Next, create LD_LIBRARY_PATH variable and add the below path:\nLD_LIBRARY_PATH=C:\\Oracle\\product\\11.2.0\\client_1\\lib</p>\n\n<p>Afterwards, install module using perl without testing it.  During the test it will fail, because its trying to connect to your database:</p>\n\n<ol>\n<li>perl -MCPAN -e shell</li>\n<li>notest install DBD::Oracle</li>\n</ol>\n\n<p>Open the odbcad32.exe in this location C:\\Windows\\SysWOW64\\ and click Add.  Type Oracle for the name and description and click save.  The SysWOW64 will connect the 32-bit version of the odbcad32 application to create the reference.  </p>\n\n<p>NOTE: <strong><em>The biggest problem you will have is to ensure you are using 32-bit drivers using cygwin, oracle software, and odbcad32.  You will receive that can't load library if you mix 64-bit drivers with 32-bit drivers.</em></strong></p>\n\n<p>Reopen any command prompt window and try running your perl script again.</p>\n"}], "owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1129, "favorite_count": 0, "accepted_answer_id": 45992624, "answer_count": 1, "score": 0, "last_activity_date": 1547826986, "creation_date": 1504188910, "last_edit_date": 1504270169, "question_id": 45983678, "link": "https://stackoverflow.com/questions/45983678/unable-to-install-dbdoracle-for-perl-on-windows", "title": "Unable to Install DBD::Oracle for Perl on Windows", "body": "<p>When trying to install DBD::Oracle library i received the following error message \"Can't load /usr/lib/perl5/site_perl/5.24/x86_64-cygwin-threads/auto/DBD/Oracle/Oracle.dll for module DBD::Oracle: No such file directory at /usr/lib/perl5/5.24/x86_64-cygwin-threads/DynaLoader.pm\"</p>\n\n<p><strong>I installed the DBD::Oracle library on windows using the below steps:</strong></p>\n\n<p>instantclient-basic-11.2.0.4.0</p>\n\n<p>instantclient-sqlplus-11.2.0.4.0</p>\n\n<p>instantclient-sdk-11.2.0.4.0 </p>\n\n<p>Then, I unzip them all to c:\\Oracle.\nNext, I included the below directory in my system environmental on windows as shown below</p>\n\n<p>ORACLE_HOME=C:\\Oracle\\instantclient_11_2\nLD_LIBRARY_PATH=C:\\Oracle\\instantclient_11_2\\lib  (There is no lib directory in this folder, but i followed the instructions of an online article regardless)</p>\n\n<p>Finally, I opened command prompt and ran and received that error message:</p>\n\n<p>perl -MCPAN -e \"install DBD::Oracle\"</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 7, "creation_date": 1504184760, "post_id": 45982128, "comment_id": 78923819, "body": "Try to limit yourself to a single question at a time. What don&#39;t you understand? Do you need the post increment operator explaining to you? The comparison operator? Ternary operations? Maps? Hashes? Arrays? Sigils?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1504184976, "post_id": 45982128, "comment_id": 78923977, "body": "<code>map</code> returning empty list <code>()</code> filters elements (can be used instead of <code>grep</code>)"}, {"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1504185198, "post_id": 45982128, "comment_id": 78924162, "body": "@Quentin Well, I know what a post increment operator, ternary, maps and hashes do. Basically it is checking if $h{$_} is equaled to zero then returning $_ and after that incrementing its value by 1  else empty list. However was a bt confused with the syntax as it seemed a bit cryptic, so I asked."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1504185610, "post_id": 45982128, "comment_id": 78924472, "body": "<code>local *_</code> should localize <code>_</code> globtype filehandle (just like <code>local *FH</code> does) but it also <a href=\"https://metacpan.org/source/VPARSEVAL/List-MoreUtils-0.17/lib/List/MoreUtils.pm#L87\" rel=\"nofollow noreferrer\">changes value</a> of <code>$_</code>. Additional question would be why not using <code>local $_ = ..</code>"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1504187359, "post_id": 45982128, "comment_id": 78925739, "body": "@\u0421\u0443\u0445\u043e\u043927 <code>local *_ = \\$value</code> creates an <i>alias</i> to the given value, not a copy like <code>local $_ = $value</code>. So it&#39;s more like <code>for ($value) { \u2026 }</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1504210967, "post_id": 45982128, "comment_id": 78939169, "body": "@amon tnx, good to see you back on SO."}], "answers": [{"comments": [{"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "edited": false, "score": 0, "creation_date": 1504198481, "post_id": 45984151, "comment_id": 78933129, "body": "This is exactly the explanation I was looking for. So wonderfully elaborated by breaking it into small pieces. Thanks a lot !"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 8, "last_activity_date": 1504190287, "creation_date": 1504190287, "answer_id": 45984151, "question_id": 45982128, "link": "https://stackoverflow.com/questions/45982128/explanation-of-perls-syntax-from-module-moreutils-pm/45984151#45984151", "title": "Explanation of Perl&#39;s syntax from module MoreUtils.pm", "body": "<p>Your second question was answered in the comments.</p>\n\n<p>Your first question asks about <code>map {$h{$_}++ == 0 ? $_ : () } @;</code> from <a href=\"http://www.metacpan.org/module/List::MoreUtils\" rel=\"noreferrer\">List::MoreUtils</a>. In recent versions, it's actually in <code>List::MoreUtils::PP</code> (for Pure Perl) since many of the subroutines are also implemented in C and XS. Here's the current version of the Pure Perl <code>uniq</code>:</p>\n\n<pre><code>sub uniq (@)\n{\n    my %seen = ();\n    my $k;\n    my $seen_undef;\n    grep { defined $_ ? not $seen{ $k = $_ }++ : not $seen_undef++ } @_;\n}\n</code></pre>\n\n<p>This has the same <code>map</code> technique although it's using <code>grep</code> instead. The <code>grep</code> goes through all of the elements in <code>@_</code> and has to return either true or false for each of them. The elements which evaluate to true end up in the output list. The code then wants to make an element evaluate to true the first time it sees it and false the rest of the times.</p>\n\n<p>In this code it handles <code>undef</code> separately. If the current element is not undef, it does the first branch of the conditional operator and the second branch otherwise. Now let's look at the branches.</p>\n\n<p>The defined case adds an element to a hash. No one left code comments about the use of <code>$k</code> but it probably has something to do with not disturbing <code>$_</code>. That <code>$k</code> becomes the key for the hash:</p>\n\n<pre><code> not $seen{ $k = $_ }++\n</code></pre>\n\n<p>If that is the first time that key has been encountered the value of the hash is undef. That post-increment does its work <em>after</em> the value is used so hold off on thinking about that for a moment. The low-precendence <code>not</code> sees the value of <code>$seen{$k}</code>, which is <code>undef</code>. The <code>not</code> turns the false value of <code>undef</code> into true. That true indicates that the <code>grep</code> has seen <code>$_</code> for the first time. It becomes part of the output list. Then the <code>++</code> does its work and increments the <code>undef</code> value to <code>1</code>. On all subsequent encounters with the same value the hash value will be true. The <code>not</code> will turn the true value into false and that element won't be in the output list.</p>\n\n<p>The <code>map</code> you show implements the <code>grep</code>. It returns an element when the condition is true and returns no elements when it is false:</p>\n\n<pre><code>map {$h{$_}++ == 0 ? $_ : () } @_;\n</code></pre>\n\n<p>For each element it adds it as the key in the hash and compares the value to 0. The first time an element is seen that value is <code>undef</code>. In numeric context an <code>undef</code> is <code>0</code>. So, the <code>==</code> returns true and the first branch of the conditional operator fires, returning <code>$_</code> to the output list. The <code>++</code> then increments the hash value from <code>undef</code> to <code>1</code>. The next time it encounters the same value the hash value is not <code>0</code> and the second branch of the conditional operator returns the empty list. That adds no elements to the output list.</p>\n"}, {"comments": [{"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "edited": false, "score": 0, "creation_date": 1504198520, "post_id": 45984181, "comment_id": 78933156, "body": "Wonderful explanation. Thanks a lot."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 4, "last_activity_date": 1504190391, "creation_date": 1504190391, "answer_id": 45984181, "question_id": 45982128, "link": "https://stackoverflow.com/questions/45982128/explanation-of-perls-syntax-from-module-moreutils-pm/45984181#45984181", "title": "Explanation of Perl&#39;s syntax from module MoreUtils.pm", "body": "<p>Newer version of <code>List::MoreUtils</code> <a href=\"https://metacpan.org/source/REHSACK/List-MoreUtils-0.423/lib/List/MoreUtils/PP.pm#L524\" rel=\"nofollow noreferrer\">don't use the construct any more</a>, but as \u0421\u0443\u0445\u043e\u043927 explained,</p>\n\n<pre><code>map { CONDITION ? $_ : () } LIST\n</code></pre>\n\n<p>is just a fancy alternative to</p>\n\n<pre><code>grep { CONDITION } LIST\n</code></pre>\n\n<p>I don't think there's any overarching reason the author chose <code>map</code> for this implementation, and in fact it was simplified to <code>grep</code> in later versions of <code>List::MoreUtils</code>.</p>\n\n<p>The <code>firstidx</code> syntax is <code>firstidx BLOCK LIST</code>. Like the builtin <code>map</code> and <code>grep</code>, it is specified that the code in <code>BLOCK</code> will operate on the variable <code>$_</code>, and <em>that the code is allowed to make changes to</em> <code>$_</code>. So in the <code>firstidx</code> implementation, it is not sufficient to set <code>$_</code> to each value in <code>LIST</code>. Rather, <code>$_</code> must be aliased to each element of <code>LIST</code> so that a change in <code>$_</code> inside <code>BLOCK</code> also results to a change in the element in the <code>LIST</code>. This is accomplished by manipulating the symbol table</p>\n\n<pre><code>local *_ = \\$scalar         # make $_ an alias of $scalar\n</code></pre>\n\n<p>And you use <code>local</code> so that when <code>firstidx</code> is done, we haven't clobbered any useful information that was previously in the <code>$_</code> variable.</p>\n"}], "owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 45984151, "answer_count": 2, "score": 1, "last_activity_date": 1504190391, "creation_date": 1504184587, "question_id": 45982128, "link": "https://stackoverflow.com/questions/45982128/explanation-of-perls-syntax-from-module-moreutils-pm", "title": "Explanation of Perl&#39;s syntax from module MoreUtils.pm", "body": "<p>I am seeking explanation of the syntax of Perl's uniq and fidrstidx function from module MoreUtils.pm. </p>\n\n<p>Having sought that, I already know other ways to get uniq array elements from an array having duplicate elements and finding the first index from an array by below ways :</p>\n\n<pre><code>## remove duplicate elements ##\n\nmy @arr = qw (2 4 2 8 3 4 6);\nmy @uniq = ();\nmy %hash = ();\n@uniq = grep {!$hash{$_}++ } @arr;\n\n### first index ###\n\n@arr = qw (Java ooperl Ruby cgiperl Python);\nmy ($index) = grep {$arr[$_] =~ /perl/} 0..$#arr;\n</code></pre>\n\n<p>Can anybody please explain me second line of this below sub uniq function comprising map and ternary operator from MoreUtils.pm:</p>\n\n<pre><code> map {$h{$_}++ == 0 ? $_ : () } @;\n</code></pre>\n\n<p>and also </p>\n\n<p>the &amp;@ passed to firstidx function and the below line in the body of the function :</p>\n\n<pre><code> local *_ = \\$_[$i];\n</code></pre>\n\n<p>What I understand that sub routine ref is passed to firstidx. But a bit more detailed explanation will be much appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1504183018, "creation_date": 1504183018, "answer_id": 45981630, "question_id": 45981188, "link": "https://stackoverflow.com/questions/45981188/how-to-save-matched-and-nonmatched-fasta-sequences/45981630#45981630", "title": "How to save matched and nonmatched FASTA sequences", "body": "<p>So the trick is - you're currently splitting on linefeed and working line by line.</p>\n\n<p>But you don't have to - you can use <code>$/</code> instead, and set it to a suitable delimiter. </p>\n\n<p>I would suggest for this, you want <code>\"\\n&gt;\"</code>, because then it'll take your things in chunks.</p>\n\n<p>And then, you need to alter your pattern match slightly, because now each 'chunk' is two lines. </p>\n\n<p>Something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nlocal $/ = \"\\n&gt;\";\n\nopen my $outfile, '&gt;', 'full_length_seq.txt' or die $!;\nopen my $other_outfile, '&gt;', 'everything_else.txt' or die $!;\n\n\nwhile ( &lt;DATA&gt; ) { \n    chomp;\n    s/^&gt;//g; #remove leading &gt;, because first line doesn't have a linefeed in front. \n\n    #just for some diagnostics - print what we're currently operating on. \n    print \"New chunk:\\n\";\n    print;\n    print \"\\nEnd\\n\";\n\n\n    if ( /\\nATG[GTAC]+T(GA|AA|AG)$/ ) {\n        print \"**matches**\\n\";\n        print {$other_outfile} \"&gt;\",$_,\"\\n\";\n    }\n    else {\n        print {$outfile} \"&gt;\", $_, \"\\n\";\n    }\n\n}\n\n__DATA__\n&gt;seq002\nATGGTAAATGGTTTCTCAAATTGTGCACTGACAGACAAACCCCT\n&gt;seq0009\nATGGCGTCAAAGGTGATGCCGTCAGCGTCAACAACTAA\n&gt;seq0001\nATGGGAAATAGTGAGGACGGGAAATCTTTAG\n&gt;seq0003\nATGGGATCTTACTTGAACTTCAAGAATTGA\n&gt;seq00005\nGCTAATTTTGAGGTTTACCCAGATAGCTG\n</code></pre>\n\n<p>And this gives us one file with:</p>\n\n<pre><code>&gt;seq002\nATGGTAAATGGTTTCTCAAATTGTGCACTGACAGACAAACCCCT\n&gt;seq00005\nGCTAATTTTGAGGTTTACCCAGATAGCTG\n</code></pre>\n\n<p>And the other with:</p>\n\n<pre><code>&gt;seq0009\nATGGCGTCAAAGGTGATGCCGTCAGCGTCAACAACTAA\n&gt;seq0001\nATGGGAAATAGTGAGGACGGGAAATCTTTAG\n&gt;seq0003\nATGGGATCTTACTTGAACTTCAAGAATTGA\n</code></pre>\n\n<p>I used <code>__DATA__</code> above as illustration - you should probably either still read an input file, or just use <code>&lt;&gt;</code> to read \"STDIN or file named on command line\" (like <code>grep</code>/<code>sed</code> etc.)</p>\n\n<p>Additionally I would suggest using 3 argument open with lexical file handles as a better style. E.g.</p>\n\n<pre><code>open ( my $infile, '&lt;', 'id.fasta' ) or die $!; \n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 2525186, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd560cef83df54a5198cc3d03c0acbc2?s=128&d=identicon&r=PG", "display_name": "pali", "link": "https://stackoverflow.com/users/2525186/pali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 45981630, "answer_count": 1, "score": 1, "last_activity_date": 1504183018, "creation_date": 1504181524, "question_id": 45981188, "link": "https://stackoverflow.com/questions/45981188/how-to-save-matched-and-nonmatched-fasta-sequences", "title": "How to save matched and nonmatched FASTA sequences", "body": "<p>I have a file with FASTA sequences like this </p>\n\n<pre><code> &gt;seq002\n ATGGTAAATGGTTTCTCAAATTGTGCACTGACAGACAAACCCCT\n &gt;seq0009\n ATGGCGTCAAAGGTGATGCCGTCAGCGTCAACAACTAA\n &gt;seq0001\n ATGGGAAATAGTGAGGACGGGAAATCTTTAG\n &gt;seq0003\n ATGGGATCTTACTTGAACTTCAAGAATTGA\n&gt;seq00005\nGCTAATTTTGAGGTTTACCCAGATAGCTG\n</code></pre>\n\n<p>I am trying to extract sequence start with ATG and end with TAG/TGA/TAA. I am using this code for my purpose</p>\n\n<pre><code>#!/usr/bin/perl -w\n# This script reads several sequences and print the sequence which don't strat with ATH and ends with TAG/TGA/TAA\n\nuse strict; \n\nmy $infile = \"id.fasta\";# This is the file path\nopen INFILE, $infile or die \"Can't open $infile: $!\"; # This opens file, but if file isn't there it mentions this will not open\n\nmy $outfile = \"full_length_seq.txt\";# This is the file's output\nopen OUTFILE, \"&gt;$outfile\" or die \"Cannot open $outfile: $!\"; # This opens the output file, otherwise it mentions this will not open\n\nmy $sequence = ();  # This sequence variable stores the sequences from the .fasta file\nmy $line;                             # This reads the input file one-line-at-a-time\n\nwhile ($line = &lt;INFILE&gt;) {\n    chomp $line;# This removes \"\\n\" at the end of each line (this is invisible)\n\n    if($line =~m/^ATG[GTAC]+T(GA|AA|AG)$/g) { # This finds lines matching with pattern\n        next;\n\n      }\n\n    print OUTFILE $line, \"\\n\";\n}\n</code></pre>\n\n<p>Which produce the result like this </p>\n\n<pre><code>&gt;seq002\n&gt;seq0009\n&gt;seq0001\n&gt;seq0003\n&gt;seq00005\nGCTAATTTTGAGGTTTACCCAGATAGCTG\n</code></pre>\n\n<p>But I want to create two different files like this</p>\n\n<pre><code>&gt;seq002\n ATGGTAAATGGTTTCTCAAATTGTGCACTGACAGACAAACCCCT\n &gt;seq0009\n ATGGCGTCAAAGGTGATGCCGTCAGCGTCAACAACTAA\n &gt;seq0001\n ATGGGAAATAGTGAGGACGGGAAATCTTTAG\n &gt;seq0003\n ATGGGATCTTACTTGAACTTCAAGAATTGA\n</code></pre>\n\n<p>and </p>\n\n<pre><code>&gt;seq00005\nGCTAATTTTGAGGTTTACCCAGATAGCTG\n</code></pre>\n\n<p>any hint or help will be really appreciated. Thanks.</p>\n"}, {"tags": ["perl", "routing", "mojolicious"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1504183523, "post_id": 45981053, "comment_id": 78922842, "body": "Spelling error? You have <code>loadData</code> in one place and <code>loadDate</code> in the other (Thank you for cutting and pasting your real code)."}, {"owner": {"reputation": 301, "user_id": 8512365, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/971607a9565ee39a9b5dbe46c49c7d4b?s=128&d=identicon&r=PG&f=1", "display_name": "artless boy", "link": "https://stackoverflow.com/users/8512365/artless-boy"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1504185311, "post_id": 45981053, "comment_id": 78924250, "body": "Fix it but seems to be there is something more! I will edit it in the post too thx! I add a log file and it s telling me that &quot;Controller &quot;Kantine::Restaurant&quot; does not exist&quot;, I will try to see why :)"}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 8512365, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/971607a9565ee39a9b5dbe46c49c7d4b?s=128&d=identicon&r=PG&f=1", "display_name": "artless boy", "link": "https://stackoverflow.com/users/8512365/artless-boy"}, "edited": false, "score": 0, "creation_date": 1505244511, "post_id": 45989913, "comment_id": 79330780, "body": "Yeah my paths were wrong, I doesn&#39;t have access to the file anymore so I can&#39;t be sure of it but you must be close."}], "tags": [], "owner": {"reputation": 178, "user_id": 3960762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bqvHi.png?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/3960762/jonathan"}, "is_accepted": false, "score": 1, "last_activity_date": 1504212751, "creation_date": 1504212751, "answer_id": 45989913, "question_id": 45981053, "link": "https://stackoverflow.com/questions/45981053/mojolicious-app-conrollers-doesn-t-render-the-template-they-should-render/45989913#45989913", "title": "mojolicious app conrollers doesn t render the template they should render", "body": "<p>I'm pretty sure that all the places you have used <code>Controllers</code> should instead be <code>Controller</code> (singular). The <code>/test</code> route works because Mojolicious can find the template in <code>templates</code>, however it doesn't look in <code>Controllers</code> so it can't find <code>Controllers::Restaurant</code>.</p>\n"}], "owner": {"reputation": 301, "user_id": 8512365, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/971607a9565ee39a9b5dbe46c49c7d4b?s=128&d=identicon&r=PG&f=1", "display_name": "artless boy", "link": "https://stackoverflow.com/users/8512365/artless-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504212751, "creation_date": 1504181066, "last_edit_date": 1504185330, "question_id": 45981053, "link": "https://stackoverflow.com/questions/45981053/mojolicious-app-conrollers-doesn-t-render-the-template-they-should-render", "title": "mojolicious app conrollers doesn t render the template they should render", "body": "<p>I will explain my issue with the code:</p>\n\n<p><br>\nfirst my app (ls -R):\n/Kantine\nControllers  kantine.conf  kantine.pl  Kantine.pm templates</p>\n\n<p>Kantine/Controllers:\nRestaurant.pm  Sandwich.pm</p>\n\n<p>Kantine/templates:\ncantine.html.ep</p>\n\n<p><br>\nI launch it under hypnotoad with the command \"hypnotoad kantine.pl\".\nEverything is fine</p>\n\n<p>Kantine/kantine.pm :</p>\n\n<pre><code>package Kantine;\nuse strict;\nuse warnings;\n\nuse Mojo::Base 'Mojolicious';\n\nsub startup\n{\n    my $self = shift;\n    my $config = $self-&gt;plugin('Config');\n\n    my $r = $self-&gt;routes;\n    $r-&gt;get('/restaurant')-&gt;to('restaurant#loadData');\n    $r-&gt;get('/sandwich')-&gt;to('sandwich#loadData');\n    $r-&gt;get('/test')-&gt;to(template =&gt; 'cantine');\n}\n\n1;\n</code></pre>\n\n<p>Kantine/Controllers/Restaurant :</p>\n\n<p>package Controllers::Restaurant;</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Mojo::Base 'Mojolicious::Controller';\n\nsub loadData\n{\n    my $self = shift;\n    $self-&gt;render('cantine');\n}\n\n1;\n</code></pre>\n\n<p>\"curl <a href=\"http://127.0.0.1:3000/test\" rel=\"nofollow noreferrer\">http://127.0.0.1:3000/test</a>\" works fine (got a blank page) but \"curl <a href=\"http://127.0.0.1:3000/restaurant\" rel=\"nofollow noreferrer\">http://127.0.0.1:3000/restaurant</a>\" doesn't (got page not found). And I don't unerstand why! If you see what is wrong..</p>\n\n<p>Thx!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1504177631, "post_id": 45979775, "comment_id": 78918695, "body": "You need to use hashes instead array."}, {"owner": {"reputation": 3878, "user_id": 4528269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e57eeb7fc4c275fd8d64640acbc8fb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan Field", "link": "https://stackoverflow.com/users/4528269/ethan-field"}, "edited": false, "score": 0, "creation_date": 1504177662, "post_id": 45979775, "comment_id": 78918724, "body": "Please review and amend: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1504177921, "post_id": 45979775, "comment_id": 78918908, "body": "What have you tried? What problems are you having? Please show us your code. If you don&#39;t have code yet, Stack Overflow is not the right place for your question."}, {"owner": {"reputation": 213, "user_id": 4711937, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/35ae8720d1676c12292012d312dd541c?s=128&d=identicon&r=PG&f=1", "display_name": "tester", "link": "https://stackoverflow.com/users/4711937/tester"}, "edited": false, "score": 0, "creation_date": 1504178143, "post_id": 45979775, "comment_id": 78919071, "body": "have added the code in the question"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1504178990, "post_id": 45979775, "comment_id": 78919703, "body": "I&#39;ve just improved the formatting of your question. You&#39;re welcome, but please do it yourself in the future. This included adding indentation to your code. Code is always easier to understand with clear indentation."}, {"owner": {"reputation": 213, "user_id": 4711937, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/35ae8720d1676c12292012d312dd541c?s=128&d=identicon&r=PG&f=1", "display_name": "tester", "link": "https://stackoverflow.com/users/4711937/tester"}, "edited": false, "score": 0, "creation_date": 1504179150, "post_id": 45979775, "comment_id": 78919820, "body": "Please pardon. I shall adhere to it from next time. In this requirement, I need to group based on character &#39;A&#39; or &#39;Z&#39; ."}, {"owner": {"reputation": 213, "user_id": 4711937, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/35ae8720d1676c12292012d312dd541c?s=128&d=identicon&r=PG&f=1", "display_name": "tester", "link": "https://stackoverflow.com/users/4711937/tester"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1504179345, "post_id": 45979775, "comment_id": 78919965, "body": "@Dave : I am a beginner to perl. I am trying out programs. But I&#39;m very happy that you have replied. [ I have been asked to go through &quot;Data Munging with Perl&quot; as well to learn perl]. Need to prepare more."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1504182105, "post_id": 45979775, "comment_id": 78921872, "body": "@tester: I hope the person who recommended &quot;Data Munging with Perl&quot; to you, pointed out that <a href=\"https://datamungingwithperl.com/\" rel=\"nofollow noreferrer\">it&#39;s now available online for free</a>."}], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 4711937, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/35ae8720d1676c12292012d312dd541c?s=128&d=identicon&r=PG&f=1", "display_name": "tester", "link": "https://stackoverflow.com/users/4711937/tester"}, "edited": false, "score": 0, "creation_date": 1504249092, "post_id": 45980087, "comment_id": 78949418, "body": "Code did not give correct result"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 213, "user_id": 4711937, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/35ae8720d1676c12292012d312dd541c?s=128&d=identicon&r=PG&f=1", "display_name": "tester", "link": "https://stackoverflow.com/users/4711937/tester"}, "edited": false, "score": 0, "creation_date": 1504267901, "post_id": 45980087, "comment_id": 78960126, "body": "@tester what is giving.???"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1504179529, "last_edit_date": 1504179529, "creation_date": 1504177879, "answer_id": 45980087, "question_id": 45979775, "link": "https://stackoverflow.com/questions/45979775/data-conjunction-in-perl-not-working/45980087#45980087", "title": "data conjunction in perl not working", "body": "<p>use hashes for this kind of situations, use <code>bc,bc1,bc2</code> values as keys and concatenate the values with existing hashes.</p>\n\n<pre><code>use warnings;\nuse strict;\nmy %h;\nscalar &lt;DATA&gt;; #removing first line\nwhile (&lt;DATA&gt;)\n{\n    chomp;\n    my ($l,$r) = split(\",\");\n    $h{$l} .= \"$r \";\n\n}\n\nprint \"$_ $h{$_}\\n\" foreach (keys %h)\n\n\n__DATA__\nFieldA,FieldB\nbc,A1\nbc,A2\nbc,Z\nbc1,A\nbc1,Z1\nbc1,Z2\nbc2,A1\nbc2,A2\nbc2,Z1\nbc2,Z2\n</code></pre>\n\n<hr>\n\n<p>There is several problems in your script, </p>\n\n<p>First thing is you should use <code>use warnings</code> and <code>use strict</code> in your every program.</p>\n\n<p>Problem in you split function you have missed <code>,</code>. And this kind of situation use hashes, because if we need an array, some more logic we need to do.</p>\n\n<hr>\n\n<p>If you are using default variable(<code>$_</code>), use the bellow code instead yours,</p>\n\n<p><code>chomp($_);</code> You can write as <code>chomp;</code></p>\n\n<p><code>@arr = split(/,/$_);</code> you can write as <code>@arr = split(/,/);</code></p>\n"}], "owner": {"reputation": 213, "user_id": 4711937, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/35ae8720d1676c12292012d312dd541c?s=128&d=identicon&r=PG&f=1", "display_name": "tester", "link": "https://stackoverflow.com/users/4711937/tester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "closed_date": 1504205409, "answer_count": 1, "score": -1, "last_activity_date": 1504179529, "creation_date": 1504176956, "last_edit_date": 1504179211, "question_id": 45979775, "link": "https://stackoverflow.com/questions/45979775/data-conjunction-in-perl-not-working", "closed_reason": "Not suitable for this site", "title": "data conjunction in perl not working", "body": "<p>I am new to perl. I am not able to denormalize the data for columns.How can I denormalize it.?  I have the below input</p>\n\n<pre><code>FieldA,FieldB,FieldC\n\nbc,A1,A\n\nbc,A2,A\n\nbc,Z,Z\n\nbc1,A,A\n\nbc1,Z1,Z\n\nbc1,Z2,Z\n\nbc2,A1,A\n\nbc2,A2,A\n\nbc2,Z1,Z\n\nbc2,Z2,Z\n</code></pre>\n\n<p>Required output as below</p>\n\n<pre><code>FieldA,FieldB,FieldC\n\nbc,A1#A2,Z\n\nbc1,A,Z1#Z2\n\nbc2,A1#A2,Z1#Z2\n</code></pre>\n\n<p>I tried using push function, but it is not working. Please help in solving this.</p>\n\n<pre><code>my @aArray;\n\nmy @zArray;\n\nwhile(&lt;FILE_HANDLER&gt;){\n\n    chomp($_);\n\n    @arr = split(/,/$_);\n\n    $bc_name = $arr[0];\n\n    $end = $arr[1];\n\n    if($end eq $end_temp){\n\n        push @aArray, $end;\n\n    }else{\n\n        push @zArray,$end;\n\n    }\n\n    $end_temp = $end;\n\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 1, "creation_date": 1504177251, "post_id": 45979712, "comment_id": 78918439, "body": "See here: <a href=\"http://search.cpan.org/~bnegrao/Net-SSH-Expect-1.09/lib/Net/SSH/Expect.pod\" rel=\"nofollow noreferrer\">search.cpan.org/~bnegrao/Net-SSH-Expect-1.09/lib/Net/SSH/&hellip;</a>"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1504353361, "post_id": 45979712, "comment_id": 78987040, "body": "<code>capture</code> provides the option <code>stdin_data</code> for that. If the interaction is complex, you may like to use Expect instead. Read the module documentation!"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8534081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7ca5c484ea3dab86e6d4a10c869f10?s=128&d=identicon&r=PG&f=1", "display_name": "steveo314", "link": "https://stackoverflow.com/users/8534081/steveo314"}, "is_accepted": false, "score": 1, "last_activity_date": 1504194035, "creation_date": 1504194035, "answer_id": 45985389, "question_id": 45979712, "link": "https://stackoverflow.com/questions/45979712/passing-stdin-input-to-perl-script-for-remote-execution/45985389#45985389", "title": "passing stdin input to perl script for remote execution", "body": "<p>if you are having the execution done automatically then you will not be able to ask for input from a user. you will have to run the script manually or you will have to modify the script on the remote server to accept variables from the remote execute.</p>\n"}], "owner": {"reputation": 11, "user_id": 8542820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4af8cacdfc14882e34cf50ccfad20c?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/8542820/kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1504194035, "creation_date": 1504176756, "question_id": 45979712, "link": "https://stackoverflow.com/questions/45979712/passing-stdin-input-to-perl-script-for-remote-execution", "title": "passing stdin input to perl script for remote execution", "body": "<p>I have a Perl script which access a remote machine using openssh and executes a Perl script in that remote machine.</p>\n\n<p>Now the problem is that the script which needs to be executed in remote machine is an interactive script and expects some input during execution through STDIN.</p>\n\n<p>Could some one help me with the implementation of this scenarion.</p>\n\n<p>I am placing the snippet of code which I have implemented till now.</p>\n\n<pre><code>my $ssh = Net::OpenSSH-&gt;new(\"$host\", timeout =&gt; 60) or die \"unable to connect to remote host: \". $ssh-&gt;error;\n$ssh-&gt;system(\"chmod 755 abc.pl\"); \nmy $output=$ssh-&gt;capture(\"./abc.pl\") or die \"remote command failed: \"  . $ssh-&gt;error;\n</code></pre>\n"}, {"tags": ["perl", "sockets", "antivirus", "antivirus-integration"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504175964, "post_id": 45979279, "comment_id": 78917643, "body": "I cannot figure out where my ClamAV is listening. My example above is for the default socket, but that doesn&#39;t work for me. I don&#39;t have it configured on TCP, and I don&#39;t want to break it. So no test, sorry."}, {"owner": {"reputation": 1491, "user_id": 629960, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/2i6rf.jpg?s=128&g=1", "display_name": "Roman Gelembjuk", "link": "https://stackoverflow.com/users/629960/roman-gelembjuk"}, "edited": false, "score": 0, "creation_date": 1504187366, "post_id": 45979279, "comment_id": 78925746, "body": "I am going to try it."}, {"owner": {"reputation": 1491, "user_id": 629960, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/2i6rf.jpg?s=128&g=1", "display_name": "Roman Gelembjuk", "link": "https://stackoverflow.com/users/629960/roman-gelembjuk"}, "edited": false, "score": 1, "creation_date": 1504190832, "post_id": 45979279, "comment_id": 78928310, "body": "this works. but in my case i had to set socket_name     =&gt; &#39;/var/run/clamd.scan/clamd.sock&#39;  in a client constructor"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1504175531, "creation_date": 1504175531, "answer_id": 45979279, "question_id": 45977831, "link": "https://stackoverflow.com/questions/45977831/perl-clamav-scan-a-stream-for-viruses/45979279#45979279", "title": "Perl, ClamAV, scan a stream for viruses", "body": "<p>The module <a href=\"https://metacpan.org/pod/ClamAV::Client\" rel=\"nofollow noreferrer\">ClamAV::Client</a> seems to provide a means to scan streams with the <a href=\"https://metacpan.org/pod/ClamAV::Client#scan_stream($handle):-RETURNS-SCALAR;-THROWS-ClamAV::Client::Error\" rel=\"nofollow noreferrer\"><code>scan_stream</code> method</a>.</p>\n\n<p>Here's how I think that works puzzled together from the documentation:</p>\n\n<pre><code>use ClamAV::Client;\n\n# Try using socket options from clamd.conf, or use default socket:\nmy $scanner = ClamAV::Client-&gt;new();\n\n# Scan a stream, i.e. read from an I/O handle:\nmy $result = $scanner-&gt;scan_stream($handle);\n\n# $result is the name of a virus signature, or undef\ndie \"infected\" if $result;\n</code></pre>\n\n<p>Note that I have not tried it (yet).</p>\n"}], "owner": {"reputation": 1491, "user_id": 629960, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/2i6rf.jpg?s=128&g=1", "display_name": "Roman Gelembjuk", "link": "https://stackoverflow.com/users/629960/roman-gelembjuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1409, "favorite_count": 0, "accepted_answer_id": 45979279, "answer_count": 1, "score": 2, "last_activity_date": 1504175681, "creation_date": 1504171271, "question_id": 45977831, "link": "https://stackoverflow.com/questions/45977831/perl-clamav-scan-a-stream-for-viruses", "title": "Perl, ClamAV, scan a stream for viruses", "body": "<p>I have a perl app. I need to scan some files for viruses .</p>\n\n<p>I can use the ClamAV and the module File::Scan::ClamAV .\nIt works if i need to scan some file stored on disk or if a file is loaded to a memory (to some variable).</p>\n\n<p>But my app doesn't have full file. It only has an input stream (opened socket). It reads from this socket and writes to other output stream.</p>\n\n<p>Can i pass somehow the stream through ClamAV? Like to forward my input stream to clamav and read data back from it but at the end to get some result of scanning?</p>\n"}, {"tags": ["perl", "triggers", "clearcase"], "comments": [{"owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "edited": false, "score": 0, "creation_date": 1504172334, "post_id": 45977527, "comment_id": 78915043, "body": "There seems to be a <code>\\&quot;</code> missing after he first <code>evil.pl</code>"}, {"owner": {"reputation": 159, "user_id": 6788057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9bc6944f3d3d6b29093ceb31b9a78625?s=128&d=identicon&r=PG&f=1", "display_name": "D Beange", "link": "https://stackoverflow.com/users/6788057/d-beange"}, "reply_to_user": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "edited": false, "score": 0, "creation_date": 1504175936, "post_id": 45977527, "comment_id": 78917629, "body": "Sorry my fault with a typo as hadnt been able to copy and paste in. Also from what i entered original the execwin part has doubled up \\ but these have been removed in the actual post. eg \\\\\\\\vob server\\\\triggers"}, {"owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "edited": false, "score": 0, "creation_date": 1504176847, "post_id": 45977527, "comment_id": 78918199, "body": "Is it possible to fdouble the double backslashes? <code>\\\\\\\\\\\\\\\\ </code> The goal is to use <code>\\\\vob server</code>, not <code>\\vob server</code>"}, {"owner": {"reputation": 159, "user_id": 6788057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9bc6944f3d3d6b29093ceb31b9a78625?s=128&d=identicon&r=PG&f=1", "display_name": "D Beange", "link": "https://stackoverflow.com/users/6788057/d-beange"}, "reply_to_user": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "edited": false, "score": 0, "creation_date": 1504178699, "post_id": 45977527, "comment_id": 78919482, "body": "When checking the trigger in the Explore Types of the GUI I can see it showing as  ccperl \\\\vob server\\triggers\\evil.pl"}, {"owner": {"reputation": 946, "user_id": 4223401, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3WX0FD-u_Jo/AAAAAAAAAAI/AAAAAAAAGjI/MQ0rBJdnvQk/photo.jpg?sz=128", "display_name": "Brian Cowan", "link": "https://stackoverflow.com/users/4223401/brian-cowan"}, "edited": false, "score": 0, "creation_date": 1504307036, "post_id": 45977527, "comment_id": 78978822, "body": "Since this is likely the same environment causing the other problems, have you verified that you can open the trigger script in a text editor, or even get to. \\\\server\\triggers in windows explorer?"}, {"owner": {"reputation": 159, "user_id": 6788057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9bc6944f3d3d6b29093ceb31b9a78625?s=128&d=identicon&r=PG&f=1", "display_name": "D Beange", "link": "https://stackoverflow.com/users/6788057/d-beange"}, "edited": false, "score": 0, "creation_date": 1504619585, "post_id": 45977527, "comment_id": 79073206, "body": "Hi, from the windows client i have a drive mapped pointing to \\\\server\\triggers and can view and update the trigger scripts which are in perl.  The triggers folder was protected by the CC Admin group as opposed to CC Users so updated that and the protections of the folder content. I&#39;ve run the script creation as root.  as my own userid I can now update Clearcase but a colleague is not able to. I&#39;m checking her user set up and also that of another colleage as comparison."}, {"owner": {"reputation": 159, "user_id": 6788057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9bc6944f3d3d6b29093ceb31b9a78625?s=128&d=identicon&r=PG&f=1", "display_name": "D Beange", "link": "https://stackoverflow.com/users/6788057/d-beange"}, "edited": false, "score": 0, "creation_date": 1504713876, "post_id": 45977527, "comment_id": 79120962, "body": "with my id in win exp i can enter \\\\server\\triggers but colleagues are not able to."}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 6788057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9bc6944f3d3d6b29093ceb31b9a78625?s=128&d=identicon&r=PG&f=1", "display_name": "D Beange", "link": "https://stackoverflow.com/users/6788057/d-beange"}, "is_accepted": false, "score": 1, "last_activity_date": 1504795548, "creation_date": 1504795548, "answer_id": 46099306, "question_id": 45977527, "link": "https://stackoverflow.com/questions/45977527/clearcase-trigger-cant-open-perl-script-invalid-argument/46099306#46099306", "title": "Clearcase Trigger Cant open perl script - invalid argument", "body": "<p>Thanks for the prompts to the solution.<br>\nThe other users were not defined to samba (as had been told they were) and once done and passwords sync'd all is ok and no longer getting trigger invalid argument error.</p>\n"}], "owner": {"reputation": 159, "user_id": 6788057, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9bc6944f3d3d6b29093ceb31b9a78625?s=128&d=identicon&r=PG&f=1", "display_name": "D Beange", "link": "https://stackoverflow.com/users/6788057/d-beange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1504796807, "creation_date": 1504170311, "last_edit_date": 1504796807, "question_id": 45977527, "link": "https://stackoverflow.com/questions/45977527/clearcase-trigger-cant-open-perl-script-invalid-argument", "title": "Clearcase Trigger Cant open perl script - invalid argument", "body": "<p>Our triggers are failing with an invalid argument.    </p>\n\n<p>The <code>mktrtype</code> command applies the trigger successfully but the trigger fail when called.<br>\nTriggers are stored on Aix server and we on windows clients.<br>\nSamba is set up and I can see and update the triggers from windows.  </p>\n\n<p>command example:</p>\n\n<pre><code>mktrtype -nc -ele -all -rep -pre lnname -nusers beanged -execwin \\\"ccperl \\\\\\\\vob server\\\\triggers\\\\evil.pl\\\" -execunix \\\"perl /triggers/evil.pl\\\" PREOP_LNNAME    \n</code></pre>\n\n<p>To check that the <code>mktrype</code> command has run successfully, I have added or removed userid's from the <code>-nusers</code> and I can see the changes when checking the trigger via the GUI.<br>\nIf I exclude my if from a trigger it then fails on next trigger as all created in same way.  </p>\n\n<p>Full error:</p>\n\n<pre><code>Error Adding &lt;viewname&gt;text.txt to source control  \nCan't open perl script  \n\"\\\\vob server\\triggers\\preop_chkpathlen.pl\" : invalid argument  \nTrigger \"PREOP_CHKPATHLEN\" has refused to let checkout proceed.\n</code></pre>\n\n<p>How can I debug this?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1504159536, "post_id": 45973512, "comment_id": 78907262, "body": "Thanks for the explanation. I was just going to ask for it."}], "tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": true, "score": 6, "last_activity_date": 1504195482, "last_edit_date": 1504195482, "creation_date": 1504155650, "answer_id": 45973512, "question_id": 45973482, "link": "https://stackoverflow.com/questions/45973482/perl-separate-the-msb-and-rest-of-the-bits-from-a-hex/45973512#45973512", "title": "Perl: Separate the MSB and rest of the bits from a hex", "body": "<p>Trivial using bitwise operators:</p>\n\n<pre><code>$msb  = ($dec &amp; 128) &gt;&gt; 7\n$rest = ($dec &amp; 127)\n</code></pre>\n\n<p>Explanation:</p>\n\n<p>Decimal 128 is <code>0x80</code> or <code>0b1000_0000</code>, so using the bitwise \"and\" operator with 128 masks (sets to zero) all but the top bit, which we then shift down to the LSB where the result ends up being 0 or 1.  In actuality you could dispense with the masking operation and just shift right but explicitly masking has two advantages:</p>\n\n<ol>\n<li>It makes the intent crystal clear, and </li>\n<li>works even if you inadvertently apply this to a number larger than 255.</li>\n</ol>\n\n<p>Decimal 127 is <code>0x7F</code> or <code>0b0111_1111</code> and bitwise \"and-ing\" this with <code>$dec</code> sets the MSB to zero while leaving alone the rest of the bits.</p>\n\n<p>Additional note: Perl has hexadecimal numeric literals (<code>0x...</code>) <em>and</em> binary literals (<code>0b...</code>), so the above could also be written</p>\n\n<pre><code>$msb  = ($dec &amp; 0x80) &gt;&gt; 7\n$rest = ($dec &amp; 0x7F)\n</code></pre>\n\n<p>Or even</p>\n\n<pre><code>$msb  = ($dec &amp; 0b10000000) &gt;&gt; 7\n$rest = ($dec &amp; 0b01111111)\n</code></pre>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 437, "favorite_count": 0, "accepted_answer_id": 45973512, "answer_count": 1, "score": 3, "last_activity_date": 1504195482, "creation_date": 1504155453, "question_id": 45973482, "link": "https://stackoverflow.com/questions/45973482/perl-separate-the-msb-and-rest-of-the-bits-from-a-hex", "title": "Perl: Separate the MSB and rest of the bits from a hex", "body": "<p>I need to separate the MSB and the rest of the bits from a hex string. So for example: I have a hex string <code>a2</code>, which is equivalent to <code>1010 0010</code>. I want to separate out the MSB (1 in this case), and rest of the number convert to decimal. I think I can do something like this:</p>\n\n<pre><code>$hex = 'a2';\n$dec = hex($hex);\n$bin = sprintf(\"%b\", $dec);\n$msb = substr $bin, 0, 1;\n$rest = substr $bin 1, 7;\n\n$restDec = oct(\"0b\" . $rest);\n</code></pre>\n\n<p>However, I do not like using strings for bit operations. Is there a better way of doing this?</p>\n"}, {"tags": ["regex", "perl", "brackets"], "answers": [{"comments": [{"owner": {"reputation": 3439, "user_id": 522385, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7a34ec8fb0c5c9a2a455d63626bc9b1a?s=128&d=identicon&r=PG", "display_name": "Chap", "link": "https://stackoverflow.com/users/522385/chap"}, "edited": false, "score": 0, "creation_date": 1504147842, "post_id": 45971934, "comment_id": 78903848, "body": "True, they can&#39;t be nested. This works nicely. Would you mind prefacing your answer by saying &quot;Instead of using Text::Balanced, ...&quot;?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1504149886, "last_edit_date": 1504149886, "creation_date": 1504143167, "answer_id": 45971934, "question_id": 45971790, "link": "https://stackoverflow.com/questions/45971790/using-textbalanced-to-find-strings-enclosed-in-fat-brackets-or/45971934#45971934", "title": "Using Text::Balanced to find strings enclosed in fat brackets {{..}} or [[..]]", "body": "<p>Since they can't be nested, it can be done rather easily without Text::Balanced.</p>\n\n<pre><code>s/\n   \\{\\{ ( (?:(?!\\}\\}).)* ) \\}\\}\n   |\n   \\[\\[ ( (?:(?!\\]\\]).)* ) \\]\\]\n/\n   defined($1) ? handle_curlies($1) : handle_squares($2)\n/sexg\n</code></pre>\n"}], "owner": {"reputation": 3439, "user_id": 522385, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7a34ec8fb0c5c9a2a455d63626bc9b1a?s=128&d=identicon&r=PG", "display_name": "Chap", "link": "https://stackoverflow.com/users/522385/chap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 45971934, "answer_count": 1, "score": -1, "last_activity_date": 1504149886, "creation_date": 1504141906, "last_edit_date": 1504147178, "question_id": 45971790, "link": "https://stackoverflow.com/questions/45971790/using-textbalanced-to-find-strings-enclosed-in-fat-brackets-or", "title": "Using Text::Balanced to find strings enclosed in fat brackets {{..}} or [[..]]", "body": "<p>I want to use <code>Text::Balanced</code> to extract some markup that uses <code>{{</code>...<code>}}</code> and <code>[[</code>...<code>]]</code> to markup its hyperlinks. For example:</p>\n\n<pre><code>This line contains {{path:to:mediafile|a hyperlink}} and [[path:to:page|another]] too.\n</code></pre>\n\n<p><code>extract_bracketed()</code> is smart in the sense that it knows about bracket pairs --<code>{}</code>, <code>[]</code>, <code>&lt;&gt;</code>, <code>()</code>-- and looks for opening and closing brackets that are the same \"shape\". I can't use it, though, because it only works with single-character brackets. </p>\n\n<p>I can use <code>extract_tagged()</code> to find one such type of \"fat bracket\" at a time, but it would be nice if it understood <em>several</em> symmetric bracket pairs. \nIs there a way to use Text::Balanced to extract strings that are enclosed by either <code>{{</code> and <code>}}</code>, or <code>[[</code> and <code>]]</code>, but not <code>{{</code> and <code>]]</code>, for example? </p>\n"}]